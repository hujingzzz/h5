window.__require=function t(e,o,n){function i(a,c){if(!o[a]){if(!e[a]){var s=a.split("/");if(s=s[s.length-1],!e[s]){var _="function"==typeof __require&&__require;if(!c&&_)return _(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+a+"'")}a=s}var l=o[a]={exports:{}};e[a][0].call(l.exports,function(t){return i(e[a][1][t]||t)},l,l.exports,t,e,o,n)}return o[a].exports}for(var r="function"==typeof __require&&__require,a=0;a<n.length;a++)i(n[a]);return i}({AIActuator:[function(t,e,o){"use strict";cc._RF.push(e,"bb327WH0tFH6r3VCDJW/sEO","AIActuator"),Object.defineProperty(o,"__esModule",{value:!0}),o.AIActuator=void 0;var n=t("../TimeManager"),i=function(){function t(){this._AiArray=[]}return t.prototype.Registe=function(t){this._AiArray.push(t)},t.prototype.UnRegiste=function(t){var e=this._AiArray.findIndex(function(e){return e==t});-1!=e&&this._AiArray.splice(e,1)},t.prototype.Execute=function(t){for(var e=n.TimeManager.totalTime,o=0;o<this._AiArray.length;o++)if(this._AiArray[o].Execute(),n.TimeManager.totalTime-e>=t)return},t}();o.AIActuator=i,cc._RF.pop()},{"../TimeManager":"TimeManager"}],Action_ATK_CDGJJ:[function(t,e,o){"use strict";cc._RF.push(e,"9397fb3fRBBSIvTueB1J3B1","Action_ATK_CDGJJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_ATK_CDGJJ=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorAttack"),c=t("../../actors/ActorDefine"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._finished=!1,e._phase=1,e._atk_count=0,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._finished=!1,!0},e.prototype.Update=function(){if(this._actor.Get(a.ActorAttack).IsAttacking())return r.Status.RUNNING;if(this._finished)return this._phase+=1,this._phase>2&&(this._phase=1),r.Status.SUCCESS;if(5==this._atk_count)this._atk_count=0,this.Phase3Attack();else{switch(this._phase){case 1:this.Phase1Attack();break;case 2:this.Phase2Attack()}this._atk_count+=1}return r.Status.RUNNING},e.prototype.Exit=function(){this._finished=!1},e.prototype.Phase1Attack=function(){var t=this,e=this._actor.Get(a.ActorAttack),o={type:c.AttackType.AT_SECTOR,AttackInterval:.1,AttackCount:1,BulletCount:5,BulletID:14,TargetGuid:this._actor.TargetGuid,TargetPos:this._actor.TargetPos};e.AddAttack(o,function(){t._finished=!0})},e.prototype.Phase2Attack=function(){var t=this,e=this._actor.Get(a.ActorAttack),o={type:c.AttackType.AT_STRAIGHT,AttackInterval:.2,AttackCount:5,BulletCount:1,BulletID:20,TargetGuid:this._actor.TargetGuid,TargetPos:this._actor.TargetPos};e.AddAttack(o,function(){t._finished=!0})},e.prototype.Phase3Attack=function(){var t=this,e=this._actor.Get(a.ActorAttack),o={type:c.AttackType.AT_STRAIGHT_TRACK,AttackInterval:.43,AttackCount:12,BulletCount:1,BulletID:21,TargetGuid:this._actor.TargetGuid,TargetPos:this._actor.TargetPos};e.AddAttack(o,function(){t._finished=!0})},e}(t("../action/IAction").IAction);o.Action_ATK_CDGJJ=s,cc._RF.pop()},{"../../actors/ActorAttack":"ActorAttack","../../actors/ActorDefine":"ActorDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_ATK_Default:[function(t,e,o){"use strict";cc._RF.push(e,"1fa39qjgyhDfoJd2Gip2uDN","Action_ATK_Default");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_ATK_Default=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorAttack"),c=t("../../actors/ActorDefine"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._finished=!1,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._finished=!1,!0},e.prototype.Update=function(){var t=this,e=this._actor.Get(a.ActorAttack);if(e.IsAttacking())return r.Status.RUNNING;if(this._finished)return r.Status.SUCCESS;var o=this._actor.Attr,n={type:o.AttackType,AttackInterval:o.getAttr(c.EAttrID.EA_ATK_INTERVAL),AttackCount:o.getAttr(c.EAttrID.EA_ATTACK_COUNT),BulletCount:o.getAttr(c.EAttrID.EA_BULLET_COUNT),BulletID:this._actor.xData.BulletID,TargetGuid:this._actor.TargetGuid,TargetPos:this._actor.TargetPos};return e.AddAttack(n,function(){t._finished=!0}),r.Status.RUNNING},e.prototype.Exit=function(){this._finished=!1},e}(t("../action/IAction").IAction);o.Action_ATK_Default=s,cc._RF.pop()},{"../../actors/ActorAttack":"ActorAttack","../../actors/ActorDefine":"ActorDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_ATK_HBFTJJ:[function(t,e,o){"use strict";cc._RF.push(e,"4003fprPhhFwqiOh3OA6hng","Action_ATK_HBFTJJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_ATK_HBFTJJ=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorAttack"),c=t("../../actors/ActorDefine"),s=t("../../actors/ActorNav"),_=t("../../GameManager"),l=t("../../navigate/NavigateDefine"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._finished=!1,e._phase=1,e._atk_count=0,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._finished=!1,!0},e.prototype.Update=function(){var t=this._actor.Get(a.ActorAttack),e=this._actor.Get(s.ActorNav);if(t.IsAttacking()||e.isNav)return r.Status.RUNNING;if(this._finished)return this._phase+=1,this._phase>2&&(this._phase=1),r.Status.SUCCESS;if(5==this._atk_count)this._atk_count=0,this.Phase3Attack();else{switch(this._phase){case 1:this.Phase1Attack();break;case 2:this.Phase2Attack()}this._atk_count+=1}return r.Status.RUNNING},e.prototype.Exit=function(){this._finished=!1},e.prototype.Phase1Attack=function(){var t=this,e=this._actor.Get(a.ActorAttack),o={type:c.AttackType.AT_SECTOR,AttackInterval:.2,AttackCount:3,BulletCount:7,BulletID:22,SectopScope:130,TargetGuid:this._actor.TargetGuid,TargetPos:this._actor.TargetPos};e.AddAttack(o,function(){t._finished=!0})},e.prototype.Phase2Attack=function(){var t=this,e=_.default.Instance.Player1.MainWeapon;if(null!=e){var o=this._actor.Pos2D,n=this._actor.TargetPos.sub(o),i=n.mag(),r=cc.winSize.height/i,a=o.add(n.mul(r)),s=this._actor.Attr.getAttr(c.EAttrID.EA_MOVE_SPEED);this._actor.DoRotation(c.RotationState.RS_TARGET,e.guid,10),this._actor.Attr.setAttr(c.EAttrID.EA_MOVE_SPEED,1.5*s),this._actor.DoNavigateToGoal({path:[{type:l.NavigateType.NT_STRAIGHT,goal:cc.v3(a),angleChange:!1}],rechCallBack:function(){t._finished=!0,t._actor.Attr.setAttr(c.EAttrID.EA_MOVE_SPEED,s),t._actor.Y=cc.winSize.height/2+300}})}else this._finished=!0},e.prototype.Phase3Attack=function(){var t=this,e=this._actor.Get(a.ActorAttack),o={type:c.AttackType.AT_STRAIGHT_TRACK,AttackInterval:.45,AttackCount:14,BulletCount:1,BulletID:15,TargetGuid:this._actor.TargetGuid,TargetPos:this._actor.TargetPos};e.AddAttack(o,function(){t._finished=!0})},e}(t("../action/IAction").IAction);o.Action_ATK_HBFTJJ=p,cc._RF.pop()},{"../../GameManager":"GameManager","../../actors/ActorAttack":"ActorAttack","../../actors/ActorDefine":"ActorDefine","../../actors/ActorNav":"ActorNav","../../navigate/NavigateDefine":"NavigateDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_ATK_JGLJJ:[function(t,e,o){"use strict";cc._RF.push(e,"b1e17pEQd5JoKIb/hSrltUM","Action_ATK_JGLJJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_ATK_JGLJJ=void 0;var r=t("bt.ALL"),a=t("../../../base/App"),c=t("../../../global/enums"),s=t("../../actors/ActorDefine"),_=t("../../TimeManager"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._finished=!1,e._moveing=!1,e._startTime=0,e._ending=!1,e._sp_texture_3=null,e._sp_texture_4=null,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._finished=!1,a.App.notice.on(c.GameEvent.chapter_pause,this.OnGameEventChapterPause,this),a.App.notice.on(c.GameEvent.chapter_restore,this.OnGameEventChapterRestore,this),!0},e.prototype.Update=function(){return this._finished?(this._actor.DoDie(s.EDeadReason.Kill),r.Status.SUCCESS):this._ending?r.Status.RUNNING:this._moveing?(_.TimeManager.totalTime-this._startTime>2&&(this.PlayEndAni(),this._ending=!0,this._actor.OpenCollision=!1),r.Status.RUNNING):(this.PlayAttackAni(),this._moveing=!0,this._startTime=_.TimeManager.totalTime,this._actor.OpenCollision=!0,r.Status.RUNNING)},e.prototype.Exit=function(){a.App.notice.off(c.GameEvent.chapter_pause,this.OnGameEventChapterPause,this),a.App.notice.off(c.GameEvent.chapter_restore,this.OnGameEventChapterRestore,this)},e.prototype.OnGameEventChapterPause=function(){this._sp_texture_3.pauseAllActions(),this._sp_texture_4.pauseAllActions()},e.prototype.OnGameEventChapterRestore=function(){this._sp_texture_3.resumeAllActions(),this._sp_texture_4.resumeAllActions()},e.prototype.PlayEndAni=function(){var t=this,e=this._actor.node.getChildByName("sp_texture_1"),o=this._actor.node.getChildByName("sp_texture_2"),n=this._actor.node.getChildByName("sp_effect_end"),i=this._actor.node.getChildByName("sp_effect_begin"),r=this._actor.node.getChildByName("sp_texture_3"),a=this._actor.node.getChildByName("sp_texture_4");this._sp_texture_3=r,this._sp_texture_4=a,e.stopAllActions(),o.stopAllActions(),n.stopAllActions(),i.stopAllActions(),cc.tween(e).to(.2,{scaleX:0}).start(),cc.tween(o).to(.2,{scaleX:0}).start(),cc.tween(n).to(.2,{scale:0}).start(),cc.tween(i).to(.2,{scale:0}).start(),cc.tween(r).delay(.2).by(1,{y:300}).start(),cc.tween(a).delay(.2).by(1,{y:-300}).call(function(){t._finished=!0}).start()},e.prototype.PlayAttackAni=function(){var t=this._actor.node.getChildByName("sp_texture_1"),e=this._actor.node.getChildByName("sp_texture_2"),o=this._actor.node.getChildByName("sp_effect_end"),n=this._actor.node.getChildByName("sp_effect_begin"),i=this._actor.node.getChildByName("sp_warning_1"),r=this._actor.node.getChildByName("sp_warning_2"),a=this._actor.node.getChildByName("sp_warning_3"),c=this._actor.node.getChildByName("sp_warning_4"),s=this._actor.node.getChildByName("sp_warning_5"),_=this._actor.node.getChildByName("sp_texture_3"),l=this._actor.node.getChildByName("sp_texture_4");this._sp_texture_3=_,this._sp_texture_4=l,t.active=!0,e.active=!0,o.active=!0,n.active=!0,i.active=!1,r.active=!1,a.active=!1,c.active=!1,s.active=!1,t.scaleX=0,e.scaleX=0,cc.tween(e).to(.2,{scaleX:1}).start(),cc.tween(t).to(.2,{scaleX:1}).repeatForever(cc.tween(t).to(.4,{scaleX:1.1}).to(.4,{scaleX:1})).start(),cc.tween(o).repeatForever(cc.tween(o).to(.4,{scale:1.1}).to(.4,{scale:1})).start(),cc.tween(n).repeatForever(cc.tween(n).to(.4,{scale:1.1}).to(.4,{scale:1})).start()},e}(t("../action/IAction").IAction);o.Action_ATK_JGLJJ=l,cc._RF.pop()},{"../../../base/App":"App","../../../global/enums":"enums","../../TimeManager":"TimeManager","../../actors/ActorDefine":"ActorDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_ATK_SWSJ:[function(t,e,o){"use strict";cc._RF.push(e,"e70be2WfddAYJcQrSoxGikG","Action_ATK_SWSJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_ATK_SWSJ=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorAttack"),c=t("../../actors/ActorDefine"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._finished=!1,e._phase=1,e._atk_count=0,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._finished=!1,!0},e.prototype.Update=function(){if(this._actor.Get(a.ActorAttack).IsAttacking())return r.Status.RUNNING;if(this._finished)return this._phase+=1,this._phase>2&&(this._phase=1),r.Status.SUCCESS;if(5==this._atk_count)this._atk_count=0;else switch(this._phase){case 1:this.Phase1Attack();break;case 2:this.Phase2Attack()}return r.Status.RUNNING},e.prototype.Exit=function(){this._finished=!1},e.prototype.Phase1Attack=function(){var t=this,e=this._actor.Get(a.ActorAttack),o={type:c.AttackType.AT_CIRCLE,AttackInterval:.36,AttackCount:4,BulletCount:16,BulletCountChange:-2,BulletID:16,TargetGuid:this._actor.TargetGuid,TargetPos:this._actor.TargetPos};e.AddAttack(o,function(){t._finished=!0})},e.prototype.Phase2Attack=function(){var t=this,e=this._actor.Get(a.ActorAttack),o={type:c.AttackType.AT_TAIL_AFTER,AttackInterval:.1,AttackCount:1,BulletCount:1,BulletID:17,TargetGuid:this._actor.TargetGuid,TargetPos:this._actor.TargetPos,FreeRotation:!0,FixedTargetCamp:c.EShip.ES_ENEMY};e.AddAttack(o,function(){t._finished=!0})},e}(t("../action/IAction").IAction);o.Action_ATK_SWSJ=s,cc._RF.pop()},{"../../actors/ActorAttack":"ActorAttack","../../actors/ActorDefine":"ActorDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_ATK_Support_PaoTa:[function(t,e,o){"use strict";cc._RF.push(e,"8c0d875A6NNZ4DbAcEij/XN","Action_ATK_Support_PaoTa");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_ATK_Support_PaoTa=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorAttack"),c=t("../../actors/ActorDefine"),s=t("../../WorldManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._finished=!1,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._finished=!1,!0},e.prototype.Update=function(){var t=this,e=this._actor.Get(a.ActorAttack);if(e.IsAttacking())return r.Status.RUNNING;if(this._finished)return r.Status.SUCCESS;var o=s.WorldManager.Instance.GetTarget(this._actor,c.EShip.ES_ENEMY);if(null==s.WorldManager.Instance.GetActor(o))return r.Status.SUCCESS;this._actor.LockedTarget(o);var n=this._actor.Attr,i={type:n.AttackType,AttackInterval:n.getAttr(c.EAttrID.EA_ATK_INTERVAL),AttackCount:n.getAttr(c.EAttrID.EA_ATTACK_COUNT),BulletCount:n.getAttr(c.EAttrID.EA_BULLET_COUNT),BulletID:this._actor.xData.BulletID,TargetGuid:this._actor.TargetGuid,TargetPos:this._actor.TargetPos};return e.AddAttack(i,function(){t._finished=!0}),r.Status.RUNNING},e.prototype.Exit=function(){this._finished=!1},e}(t("../action/IAction").IAction);o.Action_ATK_Support_PaoTa=_,cc._RF.pop()},{"../../WorldManager":"WorldManager","../../actors/ActorAttack":"ActorAttack","../../actors/ActorDefine":"ActorDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_ATK_XXZCJ:[function(t,e,o){"use strict";cc._RF.push(e,"181557FjG1H973hChZ5cFwo","Action_ATK_XXZCJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_ATK_XXZCJ=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorDefine"),c=t("../../actors/ActorNav"),s=t("../../GameManager"),_=t("../../navigate/NavigateDefine"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._finished=!1,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._finished=!1,!0},e.prototype.Update=function(){var t=this;if(this._actor.Get(c.ActorNav).isNav)return r.Status.RUNNING;if(this._finished)return r.Status.SUCCESS;if(null==s.default.Instance.Player1.MainWeapon)return r.Status.RUNNING;var e=this._actor.Pos2D,o=this._actor.TargetPos.sub(e),n=o.mag(),i=cc.winSize.height/n,l=e.add(o.mul(i)),p=this._actor.Attr.getAttr(a.EAttrID.EA_MOVE_SPEED);return this._actor.Attr.setAttr(a.EAttrID.EA_MOVE_SPEED,1.26*p),this._actor.DoNavigateToGoal({path:[{type:_.NavigateType.NT_STRAIGHT,goal:cc.v3(l),angleChange:!0}],rechCallBack:function(){t._finished=!0,t._actor.Attr.setAttr(a.EAttrID.EA_MOVE_SPEED,p)}}),r.Status.RUNNING},e.prototype.Exit=function(){this._finished=!1},e}(t("../action/IAction").IAction);o.Action_ATK_XXZCJ=l,cc._RF.pop()},{"../../GameManager":"GameManager","../../actors/ActorDefine":"ActorDefine","../../actors/ActorNav":"ActorNav","../../navigate/NavigateDefine":"NavigateDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_Aim_CDGJJ:[function(t,e,o){"use strict";cc._RF.push(e,"b1ee9HPdXVKNrN1GMGChEmE","Action_Aim_CDGJJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_Aim_CDGJJ=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorDefine"),c=t("../../GameManager"),s=t("../../TimeManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._startTime=0,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._startTime=s.TimeManager.totalTime,!0},e.prototype.Update=function(){var t=c.default.Instance.Player1.MainWeapon;if(null==t)return r.Status.FAILURE;var e=this._actor.Attr.getAttr(a.EAttrID.EA_AIM_TIME);return s.TimeManager.totalTime-this._startTime>e?(this._actor.StopNavigate(),this._actor.LockedTarget(t.guid),r.Status.SUCCESS):(this._actor.DoRotation(a.RotationState.RS_TARGET,t.guid,10),r.Status.RUNNING)},e.prototype.Exit=function(){this._startTime=0},e}(t("../action/IAction").IAction);o.Action_Aim_CDGJJ=_,cc._RF.pop()},{"../../GameManager":"GameManager","../../TimeManager":"TimeManager","../../actors/ActorDefine":"ActorDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_Aim_Default:[function(t,e,o){"use strict";cc._RF.push(e,"c355dc7ZGpBP45hNynGpaHm","Action_Aim_Default");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_Aim_Default=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorDefine"),c=t("../../GameManager"),s=t("../../TimeManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._startTime=0,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._startTime=s.TimeManager.totalTime,!0},e.prototype.Update=function(){var t=c.default.Instance.Player1.MainWeapon;if(null==t)return r.Status.FAILURE;var e=this._actor.Attr.getAttr(a.EAttrID.EA_AIM_TIME);return s.TimeManager.totalTime-this._startTime>e?(this._actor.LockedTarget(t.guid),r.Status.SUCCESS):(this._actor.DoRotation(a.RotationState.RS_TARGET,t.guid,10),r.Status.RUNNING)},e.prototype.Exit=function(){this._startTime=0},e}(t("../action/IAction").IAction);o.Action_Aim_Default=_,cc._RF.pop()},{"../../GameManager":"GameManager","../../TimeManager":"TimeManager","../../actors/ActorDefine":"ActorDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_Aim_HBFTJJ:[function(t,e,o){"use strict";cc._RF.push(e,"4131aC+KhpK+pAnKIPulUMH","Action_Aim_HBFTJJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_Aim_HBFTJJ=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorDefine"),c=t("../../GameManager"),s=t("../../TimeManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._startTime=0,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._startTime=s.TimeManager.totalTime,!0},e.prototype.Update=function(){var t=c.default.Instance.Player1.MainWeapon;if(null==t)return r.Status.FAILURE;var e=this._actor.Attr.getAttr(a.EAttrID.EA_AIM_TIME);return s.TimeManager.totalTime-this._startTime>e?(this._actor.StopNavigate(),this._actor.LockedTarget(t.guid),r.Status.SUCCESS):(this._actor.DoRotation(a.RotationState.RS_TARGET,t.guid,10),r.Status.RUNNING)},e.prototype.Exit=function(){this._startTime=0},e}(t("../action/IAction").IAction);o.Action_Aim_HBFTJJ=_,cc._RF.pop()},{"../../GameManager":"GameManager","../../TimeManager":"TimeManager","../../actors/ActorDefine":"ActorDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_Aim_JGFYJ:[function(t,e,o){"use strict";cc._RF.push(e,"36df4FsTJZBbYQ7mKBL1a/6","Action_Aim_JGFYJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_Aim_JGFYJ=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorDefine"),c=t("../../actors/ActorRotation"),s=t("../../effect/Effect_AimJGFYJ"),_=t("../../GameManager"),l=t("../../TimeManager"),p=t("../../WorldManager"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._startTime=0,e._effect=-1,e._aiming=!1,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._startTime=l.TimeManager.totalTime,!0},e.prototype.Update=function(){var t=_.default.Instance.Player1.MainWeapon;if(null==t)return r.Status.FAILURE;this._actor.Get(c.ActorRotation);var e=this._actor.Attr.getAttr(a.EAttrID.EA_AIM_TIME),o=l.TimeManager.totalTime-this._startTime;if(o>e)return this._actor.LockedTarget(t.guid,!1),r.Status.SUCCESS;var n=e/3,i=e-n,u=i+i/5;if(this._aiming||(this._aiming=!0,this._actor.DoRotation(a.RotationState.RS_TARGET,t.guid,10,u)),-1==this._effect&&o>n){var d=this._actor.Attr,h={ActorGuid:this._actor.guid,ChangeValue1:i,ChangeValue2:d.getAttr(a.EAttrID.EA_BULLET_COUNT)};this._effect=p.WorldManager.Instance.EffectSystem.AddEffect(s.Effect_AimJGFYJ,h)}return r.Status.RUNNING},e.prototype.Exit=function(){p.WorldManager.Instance.EffectSystem.RemoveEffect(this._effect),this._effect=-1,this._aiming=!1},e}(t("../action/IAction").IAction);o.Action_Aim_JGFYJ=u,cc._RF.pop()},{"../../GameManager":"GameManager","../../TimeManager":"TimeManager","../../WorldManager":"WorldManager","../../actors/ActorDefine":"ActorDefine","../../actors/ActorRotation":"ActorRotation","../../effect/Effect_AimJGFYJ":"Effect_AimJGFYJ","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_Aim_JGLJJ:[function(t,e,o){"use strict";cc._RF.push(e,"b3862DMQ+pAS42ZYsrwpSkJ","Action_Aim_JGLJJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_Aim_JGLJJ=void 0;var r=t("bt.ALL"),a=t("../../../base/App"),c=t("../../../global/enums"),s=t("../../TimeManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._finished=!1,e._moveing=!1,e._startTime=0,e._sp_warning_1=null,e._sp_warning_2=null,e._sp_warning_3=null,e._sp_warning_4=null,e._sp_warning_5=null,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._finished=!1,a.App.notice.on(c.GameEvent.chapter_pause,this.OnGameEventChapterPause,this),a.App.notice.on(c.GameEvent.chapter_restore,this.OnGameEventChapterRestore,this),!0},e.prototype.Update=function(){return this._finished?r.Status.SUCCESS:this._moveing?(s.TimeManager.totalTime-this._startTime>1.5&&(this._finished=!0),r.Status.RUNNING):(this._sp_warning_1=this._actor.node.getChildByName("sp_warning_1"),this._sp_warning_2=this._actor.node.getChildByName("sp_warning_2"),this._sp_warning_3=this._actor.node.getChildByName("sp_warning_3"),this._sp_warning_4=this._actor.node.getChildByName("sp_warning_4"),this._sp_warning_5=this._actor.node.getChildByName("sp_warning_5"),this._sp_warning_1.active=!0,this._sp_warning_2.active=!0,this._sp_warning_3.active=!0,this._sp_warning_4.active=!0,this._sp_warning_5.active=!0,this._sp_warning_1.opacity=0,cc.tween(this._sp_warning_1).repeatForever(cc.tween(this._sp_warning_1).to(.5,{opacity:160}).to(.5,{opacity:60})).start(),cc.tween(this._sp_warning_2).repeatForever(cc.tween(this._sp_warning_2).to(.5,{scale:1.2}).to(.5,{scale:1})).start(),cc.tween(this._sp_warning_3).repeatForever(cc.tween(this._sp_warning_3).to(.5,{scale:1.2}).to(.5,{scale:1})).start(),cc.tween(this._sp_warning_4).repeatForever(cc.tween(this._sp_warning_4).to(.5,{scale:1.2}).to(.5,{scale:1})).start(),cc.tween(this._sp_warning_5).repeatForever(cc.tween(this._sp_warning_5).to(.5,{scale:1.2}).to(.5,{scale:1})).start(),this._moveing=!0,this._startTime=s.TimeManager.totalTime,r.Status.RUNNING)},e.prototype.OnGameEventChapterPause=function(){this._sp_warning_1.pauseAllActions(),this._sp_warning_2.pauseAllActions(),this._sp_warning_3.pauseAllActions(),this._sp_warning_4.pauseAllActions(),this._sp_warning_5.pauseAllActions()},e.prototype.OnGameEventChapterRestore=function(){this._sp_warning_1.resumeAllActions(),this._sp_warning_2.resumeAllActions(),this._sp_warning_3.resumeAllActions(),this._sp_warning_4.resumeAllActions(),this._sp_warning_5.resumeAllActions()},e.prototype.Exit=function(){a.App.notice.off(c.GameEvent.chapter_pause,this.OnGameEventChapterPause,this),a.App.notice.off(c.GameEvent.chapter_restore,this.OnGameEventChapterRestore,this)},e}(t("../action/IAction").IAction);o.Action_Aim_JGLJJ=_,cc._RF.pop()},{"../../../base/App":"App","../../../global/enums":"enums","../../TimeManager":"TimeManager","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_Aim_SWSJ:[function(t,e,o){"use strict";cc._RF.push(e,"eb32f72s1NI9r7ci5l1Z2Jg","Action_Aim_SWSJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_Aim_SWSJ=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorDefine"),c=t("../../GameManager"),s=t("../../TimeManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._startTime=0,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._startTime=s.TimeManager.totalTime,!0},e.prototype.Update=function(){var t=c.default.Instance.Player1.MainWeapon;if(null==t)return r.Status.FAILURE;var e=this._actor.Attr.getAttr(a.EAttrID.EA_AIM_TIME);return s.TimeManager.totalTime-this._startTime>e?(this._actor.StopNavigate(),this._actor.LockedTarget(t.guid),r.Status.SUCCESS):(this._actor.DoRotation(a.RotationState.RS_TARGET,t.guid,10),r.Status.RUNNING)},e.prototype.Exit=function(){this._startTime=0},e}(t("../action/IAction").IAction);o.Action_Aim_SWSJ=_,cc._RF.pop()},{"../../GameManager":"GameManager","../../TimeManager":"TimeManager","../../actors/ActorDefine":"ActorDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_Aim_XXZCJ:[function(t,e,o){"use strict";cc._RF.push(e,"183c7rsPmlOQIoHON6xEJBm","Action_Aim_XXZCJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_Aim_XXZCJ=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorDefine"),c=t("../../GameManager"),s=t("../../TimeManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._startTime=0,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._startTime=s.TimeManager.totalTime,!0},e.prototype.Update=function(){var t=c.default.Instance.Player1.MainWeapon;if(null==t)return r.Status.FAILURE;var e=this._actor.Attr.getAttr(a.EAttrID.EA_AIM_TIME);return s.TimeManager.totalTime-this._startTime>e?(this._actor.LockedTarget(t.guid),r.Status.SUCCESS):(this._actor.DoRotation(a.RotationState.RS_TARGET,t.guid,10),r.Status.RUNNING)},e.prototype.Exit=function(){},e}(t("../action/IAction").IAction);o.Action_Aim_XXZCJ=_,cc._RF.pop()},{"../../GameManager":"GameManager","../../TimeManager":"TimeManager","../../actors/ActorDefine":"ActorDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_MA_CDGJJ:[function(t,e,o){"use strict";cc._RF.push(e,"ea79a8ggjdGraOeyX8tvDQJ","Action_MA_CDGJJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_MA_CDGJJ=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorDefine"),c=t("../../actors/ActorNav"),s=t("../../GameManager"),_=t("../../navigate/NavigateDefine"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._tag=0,e._finished=!1,e._randomCount=-1,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._finished=!1,!0},e.prototype.Update=function(){var t=s.default.Instance.Player1.MainWeapon;return null==t?r.Status.FAILURE:this._actor.Get(c.ActorNav).isNav?r.Status.RUNNING:this._finished?r.Status.SUCCESS:0==this._tag?r.Status.SUCCESS:(this._actor.DoRotation(a.RotationState.RS_TARGET,t.guid,3),0==this._randomCount?(this._randomCount=-1,this.MoveTwice()):(-1==this._randomCount?this._randomCount=Math.floor(3*Math.random())+1:this._randomCount-=1,this.MoveOnce()),r.Status.RUNNING)},e.prototype.Exit=function(){this._tag=1,this._finished=!1},e.prototype.MoveOnce=function(){var t=this,e=cc.winSize,o=e.width/2-100,n=this._actor.Pos;n.x=n.x<0?o:-o,n.y=e.height/2-e.height/2/3*2,this._actor.DoNavigateToGoal({path:[{type:_.NavigateType.NT_ARC,goal:n,angleChange:!1,arcAngle:-100,arcPrecision:100}],rechCallBack:function(){t._finished=!0}})},e.prototype.MoveTwice=function(){var t=this,e=cc.winSize,o=this._actor.Pos;this._actor.DoNavigateToGoal({path:[{type:_.NavigateType.NT_ARC,goal:cc.v3(0,e.height/2-e.height/2/3*2),angleChange:!1,arcAngle:-100,arcPrecision:100},{type:_.NavigateType.NT_STRAIGHT,goal:cc.v3(o.x>0?-160:160,e.height/2-e.height/2/3*1),angleChange:!1}],rechCallBack:function(){t._finished=!0}})},e}(t("../action/IAction").IAction);o.Action_MA_CDGJJ=l,cc._RF.pop()},{"../../GameManager":"GameManager","../../actors/ActorDefine":"ActorDefine","../../actors/ActorNav":"ActorNav","../../navigate/NavigateDefine":"NavigateDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_MA_DYS:[function(t,e,o){"use strict";cc._RF.push(e,"735300OP6pD77dX0/W35YfB","Action_MA_DYS");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_MA_DYS=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorDefine"),c=t("../../actors/ActorNav"),s=t("../../effect/Effect_AttackWarning"),_=t("../../navigate/NavigateDefine"),l=t("../../TimeManager"),p=t("../../WorldManager"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._finished=!1,e._effect=-1,e._warningTime=0,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._finished=!1,!0},e.prototype.Update=function(){var t=this;if(this._actor.Get(c.ActorNav).isNav)return r.Status.RUNNING;if(this._finished)return r.Status.SUCCESS;if(-1!=this._effect){if(l.TimeManager.totalTime-this._warningTime>1.2){var e=cc.winSize,o=this._actor.Pos,n=cc.v3(),i=o.x>0?-1:1;n.x=Math.abs(o.x)*i,n.y=Math.random()*(e.height/2)*-1,this._actor.DoNavigateToGoal({path:[{type:_.NavigateType.NT_STRAIGHT,goal:n,angleChange:!0}],rechCallBack:function(){t._finished=!0,t._actor.DoDie(a.EDeadReason.Kill)}}),p.WorldManager.Instance.EffectSystem.RemoveEffect(this._effect),this._effect=-1}}else{e=cc.winSize,(o=cc.v3()).x=(e.width/2+200)*(100*Math.random()>50?-1:1),o.y=Math.random()*(e.height/2),this._actor.Pos=o;var u={ActorGuid:this._actor.guid};this._effect=p.WorldManager.Instance.EffectSystem.AddEffect(s.Effect_AttackWarning,u),this._warningTime=l.TimeManager.totalTime}return r.Status.RUNNING},e.prototype.Exit=function(){this._finished=!1,p.WorldManager.Instance.EffectSystem.RemoveEffect(this._effect),this._effect=-1},e}(t("../action/IAction").IAction);o.Action_MA_DYS=u,cc._RF.pop()},{"../../TimeManager":"TimeManager","../../WorldManager":"WorldManager","../../actors/ActorDefine":"ActorDefine","../../actors/ActorNav":"ActorNav","../../effect/Effect_AttackWarning":"Effect_AttackWarning","../../navigate/NavigateDefine":"NavigateDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_MA_Default:[function(t,e,o){"use strict";cc._RF.push(e,"a92eawvaOtBuqKUwiRVswAk","Action_MA_Default");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_MA_Default=void 0;var r=t("bt.ALL"),a=t("../../../utils/Geometry"),c=t("../../actors/ActorNav"),s=t("../../navigate/NavigateDefine"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._tag=0,e._finished=!1,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._finished=!1,!0},e.prototype.Update=function(){var t=this;if(this._actor.Get(c.ActorNav).isNav)return r.Status.RUNNING;if(this._finished)return r.Status.SUCCESS;if(0==this._tag)return r.Status.SUCCESS;for(var e=cc.v2(),o=(cc.winSize.width-100)/2,n=(cc.winSize.height-100)/2;e=(e=a.Geometry.RandomPointInCircle(150,260)).add(this._actor.Pos2D),!(Math.abs(e.x)<=o&&Math.abs(e.y)<=n););return this._actor.DoNavigateToGoal({path:[{type:s.NavigateType.NT_STRAIGHT,goal:cc.v3(e),angleChange:!0}],rechCallBack:function(){t._finished=!0}}),r.Status.RUNNING},e.prototype.Exit=function(){this._tag=1,this._finished=!1},e}(t("../action/IAction").IAction);o.Action_MA_Default=_,cc._RF.pop()},{"../../../utils/Geometry":"Geometry","../../actors/ActorNav":"ActorNav","../../navigate/NavigateDefine":"NavigateDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_MA_HBFTJJ:[function(t,e,o){"use strict";cc._RF.push(e,"60138Sr1TtIFYEiOgEjFTi3","Action_MA_HBFTJJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_MA_HBFTJJ=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorDefine"),c=t("../../actors/ActorNav"),s=t("../../GameManager"),_=t("../../navigate/NavigateDefine"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._tag=0,e._finished=!1,e._randomCount=-1,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._finished=!1,!0},e.prototype.Update=function(){var t=s.default.Instance.Player1.MainWeapon;return null==t?r.Status.FAILURE:this._actor.Get(c.ActorNav).isNav?r.Status.RUNNING:this._finished?r.Status.SUCCESS:0==this._tag?r.Status.SUCCESS:(this._actor.DoRotation(a.RotationState.RS_TARGET,t.guid,3),0==this._randomCount?(this._randomCount=-1,this.MoveTwice()):(-1==this._randomCount?this._randomCount=Math.floor(3*Math.random())+1:this._randomCount-=1,this.MoveOnce()),r.Status.RUNNING)},e.prototype.Exit=function(){this._tag=1,this._finished=!1},e.prototype.MoveOnce=function(){var t=this,e=cc.winSize,o=e.width/2-100,n=this._actor.Pos;n.x=n.x<0?o:-o,n.y=e.height/2-e.height/2/3*2,this._actor.DoNavigateToGoal({path:[{type:_.NavigateType.NT_ARC,goal:n,angleChange:!1,arcAngle:-100,arcPrecision:100}],rechCallBack:function(){t._finished=!0}})},e.prototype.MoveTwice=function(){var t=this,e=cc.winSize,o=this._actor.Pos;this._actor.DoNavigateToGoal({path:[{type:_.NavigateType.NT_ARC,goal:cc.v3(0,e.height/2-e.height/2/3*2),angleChange:!1,arcAngle:-100,arcPrecision:100},{type:_.NavigateType.NT_STRAIGHT,goal:cc.v3(o.x>0?-160:160,e.height/2-e.height/2/3*1),angleChange:!1}],rechCallBack:function(){t._finished=!0}})},e}(t("../action/IAction").IAction);o.Action_MA_HBFTJJ=l,cc._RF.pop()},{"../../GameManager":"GameManager","../../actors/ActorDefine":"ActorDefine","../../actors/ActorNav":"ActorNav","../../navigate/NavigateDefine":"NavigateDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_MA_HD:[function(t,e,o){"use strict";cc._RF.push(e,"650fejmQF5FIbmmyA1yTZjy","Action_MA_HD");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_MA_HD=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorDefine"),c=t("../../actors/ActorNav"),s=t("../../actors/ActorRotation"),_=t("../../effect/Effect_AttackWarning"),l=t("../../navigate/NavigateDefine"),p=t("../../TimeManager"),u=t("../../WorldManager"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._finished=!1,e._effect=-1,e._warningTime=0,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._finished=!1,!0},e.prototype.Update=function(){var t=this;if(this._actor.Get(c.ActorNav).isNav)return r.Status.RUNNING;if(this._finished)return r.Status.SUCCESS;if(-1!=this._effect){if(p.TimeManager.totalTime-this._warningTime>1.2){var e=cc.winSize,o=this._actor.Pos,n=cc.v3(),i=o.x>0?-1:1;n.x=Math.abs(o.x)*i,n.y=Math.random()*(e.height/2)*-1,this._actor.DoNavigateToGoal({path:[{type:l.NavigateType.NT_STRAIGHT,goal:n,angleChange:!0}],rechCallBack:function(){t._finished=!0,t._actor.DoDie(a.EDeadReason.Kill)}}),u.WorldManager.Instance.EffectSystem.RemoveEffect(this._effect),this._effect=-1}}else{e=cc.winSize,(o=cc.v3()).x=(e.width/2+300)*(100*Math.random()>50?-1:1),o.y=Math.random()*(e.height/2),this._actor.Pos=o;var d={ActorGuid:this._actor.guid};this._effect=u.WorldManager.Instance.EffectSystem.AddEffect(_.Effect_AttackWarning,d),this._warningTime=p.TimeManager.totalTime,this._actor.Get(s.ActorRotation).AddFreedom()}return r.Status.RUNNING},e.prototype.Exit=function(){this._finished=!1,u.WorldManager.Instance.EffectSystem.RemoveEffect(this._effect),this._effect=-1},e}(t("../action/IAction").IAction);o.Action_MA_HD=d,cc._RF.pop()},{"../../TimeManager":"TimeManager","../../WorldManager":"WorldManager","../../actors/ActorDefine":"ActorDefine","../../actors/ActorNav":"ActorNav","../../actors/ActorRotation":"ActorRotation","../../effect/Effect_AttackWarning":"Effect_AttackWarning","../../navigate/NavigateDefine":"NavigateDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_MA_JGLJJ:[function(t,e,o){"use strict";cc._RF.push(e,"779a40V5eBA7qKRw7L4fTeY","Action_MA_JGLJJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_MA_JGLJJ=void 0;var r=t("bt.ALL"),a=t("../../../base/App"),c=t("../../../global/enums"),s=t("../../collision/LQReplace"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._finished=!1,e._moveing=!1,e._sp_texture_3=null,e._sp_texture_4=null,e}return i(e,t),e.ResetIndex=function(){e._HIndex=0,e._VIndex=0},e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._finished=!1,a.App.notice.on(c.GameEvent.chapter_pause,this.OnGameEventChapterPause,this),a.App.notice.on(c.GameEvent.chapter_restore,this.OnGameEventChapterRestore,this),!0},e.prototype.Update=function(){var t=this;if(this._finished)return r.Status.SUCCESS;if(this._moveing)return r.Status.RUNNING;var o=this._actor.node.getChildByName("sp_texture_1"),n=this._actor.node.getChildByName("sp_texture_2"),i=this._actor.node.getChildByName("sp_texture_3"),a=this._actor.node.getChildByName("sp_texture_4"),c=this._actor.node.getChildByName("sp_effect_end"),_=this._actor.node.getChildByName("sp_effect_begin"),l=this._actor.node.getChildByName("sp_warning_1"),p=this._actor.node.getChildByName("sp_warning_2"),u=this._actor.node.getChildByName("sp_warning_3"),d=this._actor.node.getChildByName("sp_warning_4"),h=this._actor.node.getChildByName("sp_warning_5");this._sp_texture_3=i,this._sp_texture_4=a,o.active=!1,n.active=!1,c.active=!1,_.active=!1,l.active=!1,p.active=!1,u.active=!1,d.active=!1,h.active=!1;var f=100*Math.random()>50?"H":"V",y=cc.v2(0,0);if("H"==f){var g=[.1,.3,.5,.7,.9,.2,.4,.6,.8];y.x=0,y.y=cc.winSize.height*g[e._HIndex]-cc.winSize.height/2,this._actor.node.angle=90,this._actor.node.height=cc.winSize.width-160,e._HIndex++,e._HIndex=e._HIndex>=g.length?0:e._HIndex}else{var v=[.2,.8,.5,.3,.7,.4,.6];y.x=cc.winSize.width*v[e._VIndex]-cc.winSize.width/2,y.y-=50,this._actor.node.angle=0,this._actor.node.height=cc.winSize.height-260,e._VIndex++,e._VIndex=e._VIndex>=v.length?0:e._VIndex}return this._actor.Pos=cc.v3(y),this._actor.node.children.forEach(function(t){var e=t.getComponent(cc.Widget);e&&e.updateAlignment()}),s.LQReplace.update(this._actor.node),i.opacity=0,a.opacity=0,cc.tween(i).by(0,{y:300,opacity:255}).by(1,{y:-300}).start(),cc.tween(a).by(0,{y:-300,opacity:255}).by(1,{y:300}).call(function(){t._finished=!0}).start(),this._moveing=!0,this._actor.OpenCollision=!1,r.Status.RUNNING},e.prototype.OnGameEventChapterPause=function(){this._sp_texture_3.pauseAllActions(),this._sp_texture_4.pauseAllActions()},e.prototype.OnGameEventChapterRestore=function(){this._sp_texture_3.resumeAllActions(),this._sp_texture_4.resumeAllActions()},e.prototype.Exit=function(){a.App.notice.off(c.GameEvent.chapter_pause,this.OnGameEventChapterPause,this),a.App.notice.off(c.GameEvent.chapter_restore,this.OnGameEventChapterRestore,this)},e._HIndex=0,e._VIndex=0,e}(t("../action/IAction").IAction);o.Action_MA_JGLJJ=_,cc._RF.pop()},{"../../../base/App":"App","../../../global/enums":"enums","../../collision/LQReplace":"LQReplace","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_MA_JYC:[function(t,e,o){"use strict";cc._RF.push(e,"a2f6a8gN55NjYZ6z5Lz0cpH","Action_MA_JYC");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_MA_JYC=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorDefine"),c=t("../../actors/ActorNav"),s=t("../../navigate/NavigateDefine"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._finished=!1,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._finished=!1,!0},e.prototype.Update=function(){var t=this;if(this._actor.Get(c.ActorNav).isNav)return r.Status.SUCCESS;if(this._finished)return r.Status.SUCCESS;var e=cc.winSize,o=cc.v3(),n=cc.v3();o.x=(e.width/2+200)*(100*Math.random()>50?-1:1),o.y=Math.random()*(e.height/2),this._actor.Pos=o;var i=o.x>0?-1:1;return n.x=Math.abs(o.x)*i,n.y=Math.random()*(e.height/2)*-1,this._actor.DoNavigateToGoal({path:[{type:s.NavigateType.NT_STRAIGHT,goal:n,angleChange:!1}],rechCallBack:function(){t._finished=!0,t._actor.DoDie(a.EDeadReason.Kill)}}),this._actor.DoRotation(a.RotationState.RS_FREEDOM),r.Status.RUNNING},e.prototype.Exit=function(){this._finished=!1},e}(t("../action/IAction").IAction);o.Action_MA_JYC=_,cc._RF.pop()},{"../../actors/ActorDefine":"ActorDefine","../../actors/ActorNav":"ActorNav","../../navigate/NavigateDefine":"NavigateDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_MA_SWSJ:[function(t,e,o){"use strict";cc._RF.push(e,"77cc1NCOvJH7bPtnIGwVf/D","Action_MA_SWSJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_MA_SWSJ=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorDefine"),c=t("../../actors/ActorNav"),s=t("../../GameManager"),_=t("../../navigate/NavigateDefine"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._tag=0,e._finished=!1,e._randomCount=-1,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._finished=!1,!0},e.prototype.Update=function(){var t=s.default.Instance.Player1.MainWeapon;return null==t?r.Status.FAILURE:this._actor.Get(c.ActorNav).isNav?r.Status.RUNNING:this._finished?r.Status.SUCCESS:0==this._tag?r.Status.SUCCESS:(this._actor.DoRotation(a.RotationState.RS_TARGET,t.guid,3),0==this._randomCount?(this._randomCount=-1,this.MoveTwice()):(-1==this._randomCount?this._randomCount=Math.floor(3*Math.random())+1:this._randomCount-=1,this.MoveOnce()),r.Status.RUNNING)},e.prototype.Exit=function(){this._tag=1,this._finished=!1},e.prototype.MoveOnce=function(){var t=this,e=cc.winSize,o=e.width/2-100,n=this._actor.Pos;n.x=n.x<0?o:-o,n.y=e.height/2-e.height/2/3*2,this._actor.DoNavigateToGoal({path:[{type:_.NavigateType.NT_ARC,goal:n,angleChange:!1,arcAngle:-100,arcPrecision:100}],rechCallBack:function(){t._finished=!0}})},e.prototype.MoveTwice=function(){var t=this,e=cc.winSize,o=this._actor.Pos;this._actor.DoNavigateToGoal({path:[{type:_.NavigateType.NT_ARC,goal:cc.v3(0,e.height/2-e.height/2/3*2),angleChange:!1,arcAngle:-100,arcPrecision:100},{type:_.NavigateType.NT_STRAIGHT,goal:cc.v3(o.x>0?-160:160,e.height/2-e.height/2/3*1),angleChange:!1}],rechCallBack:function(){t._finished=!0}})},e}(t("../action/IAction").IAction);o.Action_MA_SWSJ=l,cc._RF.pop()},{"../../GameManager":"GameManager","../../actors/ActorDefine":"ActorDefine","../../actors/ActorNav":"ActorNav","../../navigate/NavigateDefine":"NavigateDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_MA_XYS:[function(t,e,o){"use strict";cc._RF.push(e,"e7c9c8k17VC5I5lQ7t8P4TL","Action_MA_XYS");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_MA_XYS=void 0;var r=t("bt.ALL"),a=t("../../../utils/Geometry"),c=t("../../actors/ActorDefine"),s=t("../../actors/ActorNav"),_=t("../../navigate/NavigateDefine"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._finished=!1,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._finished=!1,!0},e.prototype.Update=function(){var t=this;if(this._actor.Get(s.ActorNav).isNav)return r.Status.SUCCESS;if(this._finished)return r.Status.SUCCESS;var e=cc.winSize,o=cc.v3(),n=cc.v3(),i=this._actor.xData.posList;if(i&&i.length>=2)o=cc.v3(i[0]),n=cc.v3(a.Geometry.getControlPos(i[0],i[1],60*Math.random())),this._actor.xData.posList=null;else{o.x=(e.width/2+200)*(100*Math.random()>50?-1:1),o.y=Math.random()*(e.height/2);var l=o.x>0?-1:1;n.x=Math.abs(o.x)*l,n.y=Math.random()*(e.height/2)*-1}return this._actor.Pos=o,this._actor.DoNavigateToGoal({path:[{type:_.NavigateType.NT_STRAIGHT,goal:n,angleChange:!1}],rechCallBack:function(){t._finished=!0}}),this._actor.DoRotation(c.RotationState.RS_FREEDOM),r.Status.RUNNING},e.prototype.Exit=function(){this._finished=!1},e}(t("../action/IAction").IAction);o.Action_MA_XYS=l,cc._RF.pop()},{"../../../utils/Geometry":"Geometry","../../actors/ActorDefine":"ActorDefine","../../actors/ActorNav":"ActorNav","../../navigate/NavigateDefine":"NavigateDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_MB_CDGJJ:[function(t,e,o){"use strict";cc._RF.push(e,"5e68bWTA31BEadtPGydIn0p","Action_MB_CDGJJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_MB_CDGJJ=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorDefine"),c=t("../../actors/ActorNav"),s=t("../../navigate/NavigateDefine"),_=t("../../TimeManager"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._finished=!1,e._birthTime=0,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),!0},e.prototype.Update=function(){var t=this;if(this._actor.Get(c.ActorNav).isNav)return r.Status.RUNNING;if(this._finished)return _.TimeManager.totalTime-this._birthTime>.5?r.Status.SUCCESS:r.Status.RUNNING;var e=cc.winSize,o=e.width,n=cc.v3(),i=cc.v3();n.x=(o/2+200)*(100*Math.random()>50?-1:1),n.y=Math.random()*(e.height/2),this._actor.Pos=n,o-=100,i.x=0,i.y=e.height/2-e.height/2/3*2;var l=this._actor.Attr.getAttr(a.EAttrID.EA_MOVE_SPEED);return this._actor.Attr.setAttr(a.EAttrID.EA_MOVE_SPEED,1.5*l),this._actor.DoNavigateToGoal({path:[{type:s.NavigateType.NT_STRAIGHT,goal:i,angleChange:!0}],rechCallBack:function(){t._finished=!0,t._actor.Attr.setAttr(a.EAttrID.EA_MOVE_SPEED,l),t._birthTime=_.TimeManager.totalTime}}),r.Status.RUNNING},e.prototype.Exit=function(){},e}(t("../action/IAction").IAction);o.Action_MB_CDGJJ=l,cc._RF.pop()},{"../../TimeManager":"TimeManager","../../actors/ActorDefine":"ActorDefine","../../actors/ActorNav":"ActorNav","../../navigate/NavigateDefine":"NavigateDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_MB_Default:[function(t,e,o){"use strict";cc._RF.push(e,"2448eKSllFEi7B/mZpTyU7e","Action_MB_Default");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_MB_Default=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorNav"),c=t("../../navigate/NavigateDefine"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._finished=!1,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),!0},e.prototype.Update=function(){var t=this;if(this._actor.Get(a.ActorNav).isNav)return r.Status.RUNNING;if(this._finished)return r.Status.SUCCESS;var e=cc.winSize,o=e.width,n=cc.v3(),i=cc.v3();return n.x=(o/2+200)*(100*Math.random()>50?-1:1),n.y=Math.random()*(e.height/2),this._actor.Pos=n,o-=100,i.x=Math.random()*o-o/2,i.y=Math.random()*(e.height/2-200)+100,this._actor.DoNavigateToGoal({path:[{type:c.NavigateType.NT_STRAIGHT,goal:i,angleChange:!0}],rechCallBack:function(){t._finished=!0}}),r.Status.RUNNING},e.prototype.Exit=function(){},e}(t("../action/IAction").IAction);o.Action_MB_Default=s,cc._RF.pop()},{"../../actors/ActorNav":"ActorNav","../../navigate/NavigateDefine":"NavigateDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_MB_HBFTJJ:[function(t,e,o){"use strict";cc._RF.push(e,"a8c48BK/U5Kv7+5rYenp1M5","Action_MB_HBFTJJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_MB_HBFTJJ=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorDefine"),c=t("../../actors/ActorNav"),s=t("../../navigate/NavigateDefine"),_=t("../../TimeManager"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._finished=!1,e._birthTime=0,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),!0},e.prototype.Update=function(){var t=this;if(this._actor.Get(c.ActorNav).isNav)return r.Status.RUNNING;if(this._finished)return _.TimeManager.totalTime-this._birthTime>.5?r.Status.SUCCESS:r.Status.RUNNING;var e=cc.winSize,o=e.width,n=cc.v3(),i=cc.v3();n.x=(o/2+200)*(100*Math.random()>50?-1:1),n.y=Math.random()*(e.height/2),this._actor.Pos=n,o-=100,i.x=0,i.y=e.height/2-e.height/2/3*2;var l=this._actor.Attr.getAttr(a.EAttrID.EA_MOVE_SPEED);return this._actor.Attr.setAttr(a.EAttrID.EA_MOVE_SPEED,1.5*l),this._actor.DoNavigateToGoal({path:[{type:s.NavigateType.NT_STRAIGHT,goal:i,angleChange:!0}],rechCallBack:function(){t._finished=!0,t._actor.Attr.setAttr(a.EAttrID.EA_MOVE_SPEED,l),t._birthTime=_.TimeManager.totalTime}}),r.Status.RUNNING},e.prototype.Exit=function(){},e}(t("../action/IAction").IAction);o.Action_MB_HBFTJJ=l,cc._RF.pop()},{"../../TimeManager":"TimeManager","../../actors/ActorDefine":"ActorDefine","../../actors/ActorNav":"ActorNav","../../navigate/NavigateDefine":"NavigateDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_MB_SWSJ:[function(t,e,o){"use strict";cc._RF.push(e,"28605PDeAlCCKVBwc1ZAedG","Action_MB_SWSJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_MB_SWSJ=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorDefine"),c=t("../../actors/ActorNav"),s=t("../../navigate/NavigateDefine"),_=t("../../TimeManager"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._finished=!1,e._birthTime=0,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),!0},e.prototype.Update=function(){var t=this;if(this._actor.Get(c.ActorNav).isNav)return r.Status.RUNNING;if(this._finished)return _.TimeManager.totalTime-this._birthTime>.5?r.Status.SUCCESS:r.Status.RUNNING;var e=cc.winSize,o=e.width,n=cc.v3(),i=cc.v3();n.x=(o/2+200)*(100*Math.random()>50?-1:1),n.y=Math.random()*(e.height/2),this._actor.Pos=n,o-=100,i.x=0,i.y=e.height/2-e.height/2/3*2;var l=this._actor.Attr.getAttr(a.EAttrID.EA_MOVE_SPEED);return this._actor.Attr.setAttr(a.EAttrID.EA_MOVE_SPEED,1.5*l),this._actor.DoNavigateToGoal({path:[{type:s.NavigateType.NT_STRAIGHT,goal:i,angleChange:!0}],rechCallBack:function(){t._finished=!0,t._actor.Attr.setAttr(a.EAttrID.EA_MOVE_SPEED,l),t._birthTime=_.TimeManager.totalTime}}),r.Status.RUNNING},e.prototype.Exit=function(){},e}(t("../action/IAction").IAction);o.Action_MB_SWSJ=l,cc._RF.pop()},{"../../TimeManager":"TimeManager","../../actors/ActorDefine":"ActorDefine","../../actors/ActorNav":"ActorNav","../../navigate/NavigateDefine":"NavigateDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_MB_Support_PaoTa:[function(t,e,o){"use strict";cc._RF.push(e,"8ce25HRYaJLi74GmuTIK67Q","Action_MB_Support_PaoTa");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_MB_Support_PaoTa=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorNav"),c=t("../../navigate/NavigateDefine"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._finished=!1,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),!0},e.prototype.Update=function(){var t=this;if(this._actor.Get(a.ActorNav).isNav)return r.Status.RUNNING;if(this._finished)return r.Status.SUCCESS;var e=cc.winSize,o=e.width,n=e.height,i=cc.v3(),s=cc.v3();return o-=160,s.x=Math.random()*o-o/2,s.y=-(Math.random()*(n/2-200)+200),i.x=s.x,i.y=s.y-n/2-160,this._actor.Pos=i,this._actor.DoNavigateToGoal({path:[{type:c.NavigateType.NT_STRAIGHT,goal:s,angleChange:!0}],rechCallBack:function(){t._finished=!0}}),r.Status.RUNNING},e.prototype.Exit=function(){},e}(t("../action/IAction").IAction);o.Action_MB_Support_PaoTa=s,cc._RF.pop()},{"../../actors/ActorNav":"ActorNav","../../navigate/NavigateDefine":"NavigateDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],Action_MB_XXZCJ:[function(t,e,o){"use strict";cc._RF.push(e,"79d0fE9DYFAvaDYi1sCZXne","Action_MB_XXZCJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Action_MB_XXZCJ=void 0;var r=t("bt.ALL"),a=t("../../actors/ActorNav"),c=t("../../navigate/NavigateDefine"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._finished=!1,e}return i(e,t),e.prototype.Enter=function(e){return t.prototype.Enter.call(this,e),this._finished=!1,!0},e.prototype.Update=function(){var t=this;if(this._actor.Get(a.ActorNav).isNav)return r.Status.RUNNING;if(this._finished)return r.Status.SUCCESS;var e=cc.winSize,o=e.width,n=cc.v3(),i=cc.v3();return n.x=(o/2+200)*(100*Math.random()>50?-1:1),n.y=Math.random()*(e.height/2),this._actor.Pos=n,o-=100,i.x=Math.random()*o-o/2,i.y=Math.random()*(e.height/2-200)+100,this._actor.DoNavigateToGoal({path:[{type:c.NavigateType.NT_STRAIGHT,goal:i,angleChange:!0}],rechCallBack:function(){t._finished=!0}}),r.Status.RUNNING},e.prototype.Exit=function(){this._finished=!1},e}(t("../action/IAction").IAction);o.Action_MB_XXZCJ=s,cc._RF.pop()},{"../../actors/ActorNav":"ActorNav","../../navigate/NavigateDefine":"NavigateDefine","../action/IAction":"IAction","bt.ALL":"bt.ALL"}],ActorAI:[function(t,e,o){"use strict";cc._RF.push(e,"b0175TFAeZFwad12f1fyYBG","ActorAI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ActorAI=void 0;var r=t("bt.ALL"),a=t("../../config/DataManager"),c=t("../../utils/LoadManager"),s=t("../AI/aiming_target/Action_Aim_Default"),_=t("../AI/aiming_target/Action_Aim_XXZCJ"),l=t("../AI/attack_target/Action_ATK_Default"),p=t("../AI/attack_target/Action_ATK_XXZCJ"),u=t("../AI/move_attack/Action_MA_DYS"),d=t("../AI/move_attack/Action_MA_Default"),h=t("../AI/move_attack/Action_MA_XYS"),f=t("../AI/move_birth/Action_MB_Default"),y=t("../AI/move_birth/Action_MB_XXZCJ"),g=t("../GameManager"),v=t("../GuidManager"),b=t("../TimeManager"),m=t("../WorldManager"),A=t("./IActorComponent"),x=t("../AI/move_birth/Action_MB_CDGJJ"),C=t("../AI/move_attack/Action_MA_CDGJJ"),w=t("../AI/attack_target/Action_ATK_CDGJJ"),T=t("../AI/aiming_target/Action_Aim_CDGJJ"),E=t("../AI/aiming_target/Action_Aim_HBFTJJ"),S=t("../AI/attack_target/Action_ATK_HBFTJJ"),O=t("../AI/move_attack/Action_MA_HBFTJJ"),P=t("../AI/move_birth/Action_MB_HBFTJJ"),I=t("../AI/aiming_target/Action_Aim_JGFYJ"),k=t("../AI/move_birth/Action_MB_Support_PaoTa"),R=t("../AI/attack_target/Action_ATK_Support_PaoTa"),D=t("../AI/move_attack/Action_MA_JYC"),M=t("../AI/aiming_target/Action_Aim_JGLJJ"),B=t("../AI/attack_target/Action_ATK_JGLJJ"),j=t("../AI/move_attack/Action_MA_JGLJJ"),L=t("../AI/move_attack/Action_MA_HD"),N=t("../AI/aiming_target/Action_Aim_SWSJ"),G=t("../AI/attack_target/Action_ATK_SWSJ"),F=t("../AI/move_attack/Action_MA_SWSJ"),U=t("../AI/move_birth/Action_MB_SWSJ"),W=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._actor=null,e._AIList=[],e._paused=!1,e._AiFrequencyMax=.1,e._AiFerquencyMin=.3,e.lastActiveTime=0,e}return i(e,t),e.prototype.Init=function(t){var e=this;if(this._actor=t,null!=t.xData.ActionID){var o=a.DataManager.TableActionConfigDatasById[t.xData.ActionID];if(null!=o&&null!=o.ai_script){var n="behavior_tree/"+o.ai_script;if(n){var i=c.LoadManager.get(n);if(i){var s=this._actor.node.addComponent(r.BehaviorTree);s.asset=i,s.onBehaviorLoaded=function(){s.blackboard.write("actor",e._actor.guid)},s.enabled=!0,s.loadAsset(s.asset),s.tickType=r.TickType.MANUAL,this._AIList.push(s),m.WorldManager.Instance.AIActuator.Registe(this)}}}}},Object.defineProperty(e.prototype,"AiFrequency",{get:function(){var t=this._AiFrequencyMax*(1+g.default.AIChangedFrenquency);return t>this._AiFrequencyMax?this._AiFrequencyMax:t<this._AiFerquencyMin?this._AiFerquencyMin:t},enumerable:!1,configurable:!0}),e.prototype.Execute=function(){if(0!=this._AIList.length&&!this._paused&&b.TimeManager.totalTime-this.lastActiveTime>this.AiFrequency){this.lastActiveTime=b.TimeManager.totalTime;for(var t=0;t<this._AIList.length;t++)this._AIList[t].tick()}},e.prototype.Release=function(){this._AIList.forEach(function(t){t.destroy()}),this._actor.node.removeComponent(r.BehaviorTree),m.WorldManager.Instance.AIActuator.UnRegiste(this),this._AIList=[],this._actor=null,this._paused=!1},e.prototype.Pause=function(){this._paused=!0},e.prototype.Resume=function(){this._paused=!1},e.CreateAction=function(t){var o=null;if("string"==typeof t){var n=e.scripts.find(function(e){return e.name==t});n&&(o=n.type)}else o=t;if(!o)return null;var i=new o;return i.guid=v.GuidManager.Guid,i},e.scripts=[{name:"Action_MB_Default",type:f.Action_MB_Default},{name:"Action_MA_Default",type:d.Action_MA_Default},{name:"Action_Aim_Default",type:s.Action_Aim_Default},{name:"Action_ATK_Default",type:l.Action_ATK_Default},{name:"Action_MA_XYS",type:h.Action_MA_XYS},{name:"Action_MB_XXZCJ",type:y.Action_MB_XXZCJ},{name:"Action_Aim_XXZCJ",type:_.Action_Aim_XXZCJ},{name:"Action_ATK_XXZCJ",type:p.Action_ATK_XXZCJ},{name:"Action_MA_DYS",type:u.Action_MA_DYS},{name:"Action_MB_CDGJJ",type:x.Action_MB_CDGJJ},{name:"Action_MA_CDGJJ",type:C.Action_MA_CDGJJ},{name:"Action_Aim_CDGJJ",type:T.Action_Aim_CDGJJ},{name:"Action_ATK_CDGJJ",type:w.Action_ATK_CDGJJ},{name:"Action_Aim_HBFTJJ",type:E.Action_Aim_HBFTJJ},{name:"Action_ATK_HBFTJJ",type:S.Action_ATK_HBFTJJ},{name:"Action_MA_HBFTJJ",type:O.Action_MA_HBFTJJ},{name:"Action_MB_HBFTJJ",type:P.Action_MB_HBFTJJ},{name:"Action_Aim_JGFYJ",type:I.Action_Aim_JGFYJ},{name:"Action_MB_Support_PaoTa",type:k.Action_MB_Support_PaoTa},{name:"Action_ATK_Support_PaoTa",type:R.Action_ATK_Support_PaoTa},{name:"Action_MA_JYC",type:D.Action_MA_JYC},{name:"Action_MA_JGLJJ",type:j.Action_MA_JGLJJ},{name:"Action_Aim_JGLJJ",type:M.Action_Aim_JGLJJ},{name:"Action_ATK_JGLJJ",type:B.Action_ATK_JGLJJ},{name:"Action_MA_HD",type:L.Action_MA_HD},{name:"Action_MB_SWSJ",type:U.Action_MB_SWSJ},{name:"Action_MA_SWSJ",type:F.Action_MA_SWSJ},{name:"Action_Aim_SWSJ",type:N.Action_Aim_SWSJ},{name:"Action_ATK_SWSJ",type:G.Action_ATK_SWSJ}],e}(A.IActorComponent);o.ActorAI=W,cc._RF.pop()},{"../../config/DataManager":"DataManager","../../utils/LoadManager":"LoadManager","../AI/aiming_target/Action_Aim_CDGJJ":"Action_Aim_CDGJJ","../AI/aiming_target/Action_Aim_Default":"Action_Aim_Default","../AI/aiming_target/Action_Aim_HBFTJJ":"Action_Aim_HBFTJJ","../AI/aiming_target/Action_Aim_JGFYJ":"Action_Aim_JGFYJ","../AI/aiming_target/Action_Aim_JGLJJ":"Action_Aim_JGLJJ","../AI/aiming_target/Action_Aim_SWSJ":"Action_Aim_SWSJ","../AI/aiming_target/Action_Aim_XXZCJ":"Action_Aim_XXZCJ","../AI/attack_target/Action_ATK_CDGJJ":"Action_ATK_CDGJJ","../AI/attack_target/Action_ATK_Default":"Action_ATK_Default","../AI/attack_target/Action_ATK_HBFTJJ":"Action_ATK_HBFTJJ","../AI/attack_target/Action_ATK_JGLJJ":"Action_ATK_JGLJJ","../AI/attack_target/Action_ATK_SWSJ":"Action_ATK_SWSJ","../AI/attack_target/Action_ATK_Support_PaoTa":"Action_ATK_Support_PaoTa","../AI/attack_target/Action_ATK_XXZCJ":"Action_ATK_XXZCJ","../AI/move_attack/Action_MA_CDGJJ":"Action_MA_CDGJJ","../AI/move_attack/Action_MA_DYS":"Action_MA_DYS","../AI/move_attack/Action_MA_Default":"Action_MA_Default","../AI/move_attack/Action_MA_HBFTJJ":"Action_MA_HBFTJJ","../AI/move_attack/Action_MA_HD":"Action_MA_HD","../AI/move_attack/Action_MA_JGLJJ":"Action_MA_JGLJJ","../AI/move_attack/Action_MA_JYC":"Action_MA_JYC","../AI/move_attack/Action_MA_SWSJ":"Action_MA_SWSJ","../AI/move_attack/Action_MA_XYS":"Action_MA_XYS","../AI/move_birth/Action_MB_CDGJJ":"Action_MB_CDGJJ","../AI/move_birth/Action_MB_Default":"Action_MB_Default","../AI/move_birth/Action_MB_HBFTJJ":"Action_MB_HBFTJJ","../AI/move_birth/Action_MB_SWSJ":"Action_MB_SWSJ","../AI/move_birth/Action_MB_Support_PaoTa":"Action_MB_Support_PaoTa","../AI/move_birth/Action_MB_XXZCJ":"Action_MB_XXZCJ","../GameManager":"GameManager","../GuidManager":"GuidManager","../TimeManager":"TimeManager","../WorldManager":"WorldManager","./IActorComponent":"IActorComponent","bt.ALL":"bt.ALL"}],ActorAttack:[function(t,e,o){"use strict";cc._RF.push(e,"3f183VUqzlPlqWmS6Umzen2","ActorAttack");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ActorAttack=void 0;var r=t("../../config/DataManager"),a=t("../../utils/ParseUtils"),c=t("../TimeManager"),s=t("../WorldManager"),_=t("./ActorDefine"),l=t("./ActorEffect"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._actor=null,e._attakcing=!1,e._xData=null,e._finishedCall=null,e._lastTime=0,e._waitingRemove=!1,e._waitingRemoveTime=0,e}return i(e,t),e.prototype.Init=function(t){this._actor=t},e.prototype.Execute=function(){if(null!=this._xData&&this._attakcing&&!this._actor.IsDead())return this._waitingRemove?(this._waitingRemoveTime-=c.TimeManager.deltaTime,void(this._waitingRemoveTime<0&&this.OnFinished())):void(c.TimeManager.totalTime-this._lastTime<this._xData.AttackInterval||(this._xData.type==_.AttackType.AT_STRAIGHT&&this.CreateStraight(),this._xData.type==_.AttackType.AT_STRAIGHT_TRACK&&this.CreateStraightTrack(),this._xData.type==_.AttackType.AT_SECTOR&&this.CreateSector(),this._xData.type==_.AttackType.AT_CIRCLE&&this.CreateCircle(),this._xData.type==_.AttackType.AT_LASER_STRAIGHT&&this.CreateLaserStraight(),this._xData.type==_.AttackType.AT_TAIL_AFTER&&this.CreateTailAfter(),this._xData.AttackCount-=1,this._actor.Get(l.ActorEffect).AddLaunchEffect(),0!=this._xData.BulletCountChange&&(this._xData.BulletCount+=this._xData.BulletCountChange,this._xData.BulletCount<0&&(this._xData.BulletCount=0)),this._xData.AttackCount<=0?this._xData.type==_.AttackType.AT_LASER_STRAIGHT?(this._waitingRemove=!0,this._waitingRemoveTime=this._xData.AttackInterval):this.OnFinished():this._lastTime=c.TimeManager.totalTime))},e.prototype.Release=function(){this._actor=null,this._attakcing=!1,this._xData=null,this._finishedCall=null,this._lastTime=0,this._waitingRemove=!1,this._waitingRemoveTime=0},e.prototype.OnFinished=function(){this._xData.type==_.AttackType.AT_STRAIGHT_TRACK&&this._actor.DoRotation(_.RotationState.RS_INVALID),this._waitingRemove=!1,this._waitingRemoveTime=0,this._attakcing=!1,this._xData=null,this._finishedCall&&this._finishedCall()},e.prototype.AddAttack=function(t,e){this._xData=a.ParseUtils.copy(t),this._finishedCall=e;var o=this._actor.Pos2D;null!=this._xData.CustomLaunchPoint&&this._xData.CustomLaunchPoint.length>0&&(o=this._xData.CustomLaunchPoint[0]);var n=r.DataManager.TableBulletsConfigDatasById[t.BulletID];if(n&&0==n.lock_point){var i=t.TargetPos.sub(o),c=i.mag(),s=cc.winSize.height/c,_=o.add(i.mul(s));this._xData.TargetPos=_}null==this._xData.BulletCountChange&&(this._xData.BulletCountChange=0),this._attakcing=!0},e.prototype.IsAttacking=function(){return this._attakcing},e.prototype.GetLaunchPos=function(){return null!=this._xData.CustomLaunchPoint&&this._xData.CustomLaunchPoint.length>0?this._xData.CustomLaunchPoint:this._actor.GetLaunchPos(!0)},e.prototype.CreateStraight=function(){for(var t=this.GetLaunchPos(),e=0;e<this._xData.BulletCount;e++)this.CreateBullet(t[0],this._xData.TargetPos)},e.prototype.CreateStraightTrack=function(){var t=s.WorldManager.Instance.GetActor(this._xData.TargetGuid);if(t){this._actor.DoRotation(_.RotationState.RS_TARGET,t.guid,20);var e=r.DataManager.TableBulletsConfigDatasById[this._xData.BulletID],o=this.GetLaunchPos(),n=t.Pos2D;if(e&&0==e.lock_point){var i=o[0],a=t.Pos2D.sub(i),c=a.mag(),l=cc.winSize.height/c;n=i.add(a.mul(l))}for(var p=0;p<this._xData.BulletCount;p++)this.CreateBullet(o[0],n)}},e.prototype.CreateSector=function(){for(var t=this.GetLaunchPos(),e=null!=this._xData.SectopScope?this._xData.SectopScope:180,o=e/this._xData.BulletCount,n=this._actor.node.angle-90-e/2-o/2,i=0;i<this._xData.BulletCount;i++){n+=o;var r=t[0].sub(this._xData.TargetPos).mag(),a=Math.cos(n*Math.PI/180)*r,c=Math.sin(n*Math.PI/180)*r;this.CreateBullet(t[0],cc.v2(a,c))}},e.prototype.CreateCircle=function(){for(var t=this.GetLaunchPos(),e=360/this._xData.BulletCount,o=0;o<this._xData.BulletCount;o++){var n=e*o+this._actor.node.angle,i=t[0].sub(this._xData.TargetPos).mag(),r=Math.cos(n*Math.PI/180)*i,a=Math.sin(n*Math.PI/180)*i;this.CreateBullet(t[0],cc.v2(r,a))}},e.prototype.CreateLaserStraight=function(){for(var t=this.GetLaunchPos(),e=0;e<this._xData.BulletCount;e++){var o=this._actor.node.angle;if(3==this._xData.BulletCount)if(0==e){var n=2e3*Math.cos((o-90+30)*Math.PI/180),i=2e3*Math.sin((o-90+30)*Math.PI/180);this.CreateBullet(t[e],t[e].add(cc.v2(n,i)),this._xData.AttackInterval)}else 1==e?(n=2e3*Math.cos((o-90)*Math.PI/180),i=2e3*Math.sin((o-90)*Math.PI/180),this.CreateBullet(t[e],t[e].add(cc.v2(n,i)),this._xData.AttackInterval)):2==e&&(n=2e3*Math.cos((o-90-30)*Math.PI/180),i=2e3*Math.sin((o-90-30)*Math.PI/180),this.CreateBullet(t[e],t[e].add(cc.v2(n,i)),this._xData.AttackInterval));else n=2e3*Math.cos((o-90)*Math.PI/180),i=2e3*Math.sin((o-90)*Math.PI/180),this.CreateBullet(t[e],t[e].add(cc.v2(n,i)),this._xData.AttackInterval)}},e.prototype.CreateTailAfter=function(){for(var t=this.GetLaunchPos(),e=0;e<this._xData.BulletCount;e++)this.CreateBullet(t[0],this._xData.TargetPos)},e.prototype.CreateBullet=function(t,e,o){void 0===o&&(o=0);var n={dbid:this._xData.BulletID,camp:null==this._xData.CustomCamp?this._actor.camp:this._xData.CustomCamp,attr:null==this._xData.CustomAttr?this._actor.Attr.clone():this._xData.CustomAttr,attackType:this._xData.type,PointPath:[{pos:cc.v3(t)},{pos:cc.v3(e)}],isAdjustAngle:!0,isOpacityGradient:!0,OpacityGradientTime:.15,velocityFluctuation:0,delay:o,extendAttack:this._xData.ExtendAttack,freeRotation:this._xData.FreeRotation,fixedTargetCamp:this._xData.FixedTargetCamp,OnStartUp:null,OnFlying:null,OnReached:null};s.WorldManager.Instance.FlyObjectSystem.AddObject(n)},e}(t("./IActorComponent").IActorComponent);o.ActorAttack=p,cc._RF.pop()},{"../../config/DataManager":"DataManager","../../utils/ParseUtils":"ParseUtils","../TimeManager":"TimeManager","../WorldManager":"WorldManager","./ActorDefine":"ActorDefine","./ActorEffect":"ActorEffect","./IActorComponent":"IActorComponent"}],ActorAttr:[function(t,e,o){"use strict";cc._RF.push(e,"7a254pP4CVJSaVx1qMfOhBR","ActorAttr"),Object.defineProperty(o,"__esModule",{value:!0}),o.ActorAttr=void 0;var n=t("../../base/App"),i=t("../../config/DataManager"),r=t("../../record/DeputyWeaponStore"),a=t("../../record/MainWeaponStore"),c=t("../prop/PropDefine"),s=t("./ActorDefine"),_=function(){function t(){this._actorGuid=null,this.attr={},this.originalAttr={},this._AttackType=s.AttackType.AT_INVALID}return Object.defineProperty(t.prototype,"actorGuid",{get:function(){return this._actorGuid},set:function(t){this._actorGuid=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"AttackType",{get:function(){return this._AttackType},enumerable:!1,configurable:!0}),t.prototype.Init=function(t,e){for(var o in this._actorGuid=t.guid,this.setDefaultAttr(),e.type==s.EObjectType.ot_main_weapon&&this.setMainWeaponAttr(e),e.type==s.EObjectType.ot_deputy_weapon&&this.setDeputyWeaponAttr(e),e.type==s.EObjectType.ot_support&&this.setSupportAttr(e),e.type==s.EObjectType.ot_boss&&this.setBossAttr(e),e.type==s.EObjectType.ot_monster&&this.setMonsterAttr(e),e.type==s.EObjectType.ot_barrier&&this.setBarrierAttr(e),this.attr)Object.prototype.hasOwnProperty.call(this.attr,o)&&(this.originalAttr[o]=this.attr[o])},t.prototype.clone=function(){var e=new t;for(var o in e.actorGuid=this.actorGuid,this.attr)Object.prototype.hasOwnProperty.call(this.attr,o)&&e.setAttr(o,this.attr[o]);return e},t.prototype.setAttr=function(t,e){this.attr[t]=e},t.prototype.getAttr=function(t){var e=this.attr[t];return n.App.notice.trigger(s.GTEventID.ACTOR_GET_ATTR,t,e,this._actorGuid,function(t){e+=t}),e},t.prototype.setOAttr=function(t,e){this.originalAttr[t]=e},t.prototype.getOAttr=function(t){return this.originalAttr[t]},t.prototype.setDefaultAttr=function(){this.attr[s.EAttrID.EA_HP]=0,this.attr[s.EAttrID.EA_HP_MAX]=0,this.attr[s.EAttrID.EA_ATK]=0,this.attr[s.EAttrID.EA_ATK_INTERVAL]=0,this.attr[s.EAttrID.EA_MOVE_SPEED]=0,this.attr[s.EAttrID.EA_CRIT_CHANCE]=0,this.attr[s.EAttrID.EA_CRIT_HURT]=0,this.attr[s.EAttrID.EA_LEECH_CHANCE]=0,this.attr[s.EAttrID.EA_LEECH_HURT]=0,this.attr[s.EAttrID.EA_BULLET_COUNT]=1,this.attr[s.EAttrID.EA_ATTACK_COUNT]=0,this.attr[s.EAttrID.EA_BULLET_THROUGH]=0,this.attr[s.EAttrID.EA_BULLET_TRACE]=0,this.attr[s.EAttrID.EA_BULLET_TIME]=-1,this.attr[s.EAttrID.EA_BULLET_REBOUND]=0,this.attr[s.EAttrID.EA_AIM_TIME]=0},t.prototype.setMainWeaponAttr=function(t){var e=i.DataManager.TableMainWeaponDatasById[t.PropertyID];this.setAttr(s.EAttrID.EA_ATK_INTERVAL,e.attack_interval),this.setAttr(s.EAttrID.EA_MOVE_SPEED,e.move_velocity),this.setAttr(s.EAttrID.EA_CRIT_CHANCE,e.crit_chance),this.setAttr(s.EAttrID.EA_CRIT_HURT,e.crit_hurt),this.setAttr(s.EAttrID.EA_LEECH_CHANCE,e.leech_chance),this.setAttr(s.EAttrID.EA_LEECH_HURT,e.leech_hurt);var o=t.dbid,n=a.MainWeaponStore.instance.get(o),r=a.MainWeaponStore.calacuateSpecialAttr(o,n.lv),c=a.MainWeaponStore.calcuateAtk(o,n.lv)+r.getAttr(s.EAttrID.EA_ATK);this.setAttr(s.EAttrID.EA_ATK,c);var _=a.MainWeaponStore.calcuateHP(o,n.lv)+r.getAttr(s.EAttrID.EA_HP);this.setAttr(s.EAttrID.EA_HP,_),this.setAttr(s.EAttrID.EA_HP_MAX,_);var l=r.getAttr(s.EAttrID.EA_BULLET_THROUGH);this.setAttr(s.EAttrID.EA_BULLET_THROUGH,l);var p=r.getAttr(s.EAttrID.EA_BULLET_TRACE);this.setAttr(s.EAttrID.EA_BULLET_TRACE,p);var u=r.getAttr(s.EAttrID.EA_BULLET_TIME);this.setAttr(s.EAttrID.EA_BULLET_TIME,u);var d=r.getAttr(s.EAttrID.EA_BULLET_REBOUND);this.setAttr(s.EAttrID.EA_BULLET_REBOUND,d)},t.prototype.setDeputyWeaponAttr=function(t){var e=i.DataManager.TableDeputyWeaponDatasById[t.PropertyID];this.setAttr(s.EAttrID.EA_HP,e.hp),this.setAttr(s.EAttrID.EA_HP_MAX,e.hp),this.setAttr(s.EAttrID.EA_MOVE_SPEED,e.move_velocity),this.setAttr(s.EAttrID.EA_CRIT_CHANCE,e.crit_chance),this.setAttr(s.EAttrID.EA_CRIT_HURT,e.crit_hurt),this.setAttr(s.EAttrID.EA_LEECH_CHANCE,e.leech_chance),this.setAttr(s.EAttrID.EA_LEECH_HURT,e.leech_hurt);var o=t.dbid,n=r.DeputyWeaponStore.instance.get(o),a=r.DeputyWeaponStore.calcuateAtk(o,n.atk_lv);this.setAttr(s.EAttrID.EA_ATK,a);var c=r.DeputyWeaponStore.calcuateAtkSpeed(o,n.firepower_lv);this.setAttr(s.EAttrID.EA_ATK_INTERVAL,c);var _=r.DeputyWeaponStore.calcuateBulletCount(o,n.firepower_lv);this.setAttr(s.EAttrID.EA_BULLET_COUNT,_)},t.prototype.setSupportAttr=function(t){var e=i.DataManager.TableSupportConfigDatasById[t.PropertyID];this._AttackType=e.attack_type,this.setAttr(s.EAttrID.EA_HP,e.hp),this.setAttr(s.EAttrID.EA_HP_MAX,e.hp),this.setAttr(s.EAttrID.EA_ATK,e.atk),this.setAttr(s.EAttrID.EA_ATK_INTERVAL,e.attack_interval),this.setAttr(s.EAttrID.EA_MOVE_SPEED,e.move_velocity),this.setAttr(s.EAttrID.EA_CRIT_CHANCE,e.crit_chance),this.setAttr(s.EAttrID.EA_CRIT_HURT,e.crit_hurt),this.setAttr(s.EAttrID.EA_LEECH_CHANCE,e.leech_chance),this.setAttr(s.EAttrID.EA_LEECH_HURT,e.leech_hurt),this.setAttr(s.EAttrID.EA_BULLET_COUNT,e.bullet_count),this.setAttr(s.EAttrID.EA_ATTACK_COUNT,e.attack_count)},t.prototype.setBossAttr=function(t){var e=i.DataManager.TableBossConfigDatasById[t.PropertyID];this._AttackType=e.attack_type,this.setAttr(s.EAttrID.EA_ATK_INTERVAL,e.attack_interval),this.setAttr(s.EAttrID.EA_MOVE_SPEED,e.move_velocity),this.setAttr(s.EAttrID.EA_CRIT_CHANCE,e.crit_chance),this.setAttr(s.EAttrID.EA_CRIT_HURT,e.crit_hurt),this.setAttr(s.EAttrID.EA_LEECH_CHANCE,e.leech_chance),this.setAttr(s.EAttrID.EA_LEECH_HURT,e.leech_hurt),this.setAttr(s.EAttrID.EA_BULLET_COUNT,e.bullet_count),this.setAttr(s.EAttrID.EA_ATTACK_COUNT,e.attack_count),this.setAttr(s.EAttrID.EA_AIM_TIME,e.aim_time),this.setAttr(s.EAttrID.EA_BULLET_TRACE,e.bullet_trace);var o=e.atk,n=e.grow_atk,r=e.factor_atk,a=t.level,c=Math.floor(o*r+(a-1)*n*r);this.setAttr(s.EAttrID.EA_ATK,c),o=e.hp,n=e.grow_hp,r=e.factor_hp,a=t.level,c=Math.floor(o*r+(a-1)*n*r),this.setAttr(s.EAttrID.EA_HP,c),this.setAttr(s.EAttrID.EA_HP_MAX,c)},t.prototype.setMonsterAttr=function(t){var e=i.DataManager.TableMonsterConfigDatasById[t.PropertyID];this._AttackType=e.attack_type,this.setAttr(s.EAttrID.EA_ATK_INTERVAL,e.attack_interval),this.setAttr(s.EAttrID.EA_MOVE_SPEED,e.move_velocity),this.setAttr(s.EAttrID.EA_CRIT_CHANCE,e.crit_chance),this.setAttr(s.EAttrID.EA_CRIT_HURT,e.crit_hurt),this.setAttr(s.EAttrID.EA_LEECH_CHANCE,e.leech_chance),this.setAttr(s.EAttrID.EA_LEECH_HURT,e.leech_hurt),this.setAttr(s.EAttrID.EA_BULLET_COUNT,e.bullet_count),this.setAttr(s.EAttrID.EA_ATTACK_COUNT,e.attack_count),this.setAttr(s.EAttrID.EA_AIM_TIME,e.aim_time);var o=e.atk,n=e.grow_atk,r=e.factor_atk,a=t.level,c=Math.floor(o*r+(a-1)*n*r);this.setAttr(s.EAttrID.EA_ATK,c),o=e.hp,n=e.grow_hp,r=e.factor_hp,a=t.level,c=Math.floor(o*r+(a-1)*n*r),this.setAttr(s.EAttrID.EA_HP,c),this.setAttr(s.EAttrID.EA_HP_MAX,c)},t.prototype.setBarrierAttr=function(t){var e=i.DataManager.TableBarrierConfigDatasById[t.PropertyID];this._AttackType=e.attack_type,this.setAttr(s.EAttrID.EA_ATK_INTERVAL,e.attack_interval),this.setAttr(s.EAttrID.EA_MOVE_SPEED,e.move_velocity),this.setAttr(s.EAttrID.EA_CRIT_CHANCE,e.crit_chance),this.setAttr(s.EAttrID.EA_CRIT_HURT,e.crit_hurt),this.setAttr(s.EAttrID.EA_LEECH_CHANCE,e.leech_chance),this.setAttr(s.EAttrID.EA_LEECH_HURT,e.leech_hurt),this.setAttr(s.EAttrID.EA_BULLET_COUNT,e.bullet_count),this.setAttr(s.EAttrID.EA_ATTACK_COUNT,e.attack_count);var o=e.atk,n=e.grow_atk,r=e.factor_atk,a=t.level,c=Math.floor(o*r+(a-1)*n*r);this.setAttr(s.EAttrID.EA_ATK,c),o=e.hp,n=e.grow_hp,r=e.factor_hp,a=t.level,c=Math.floor(o*r+(a-1)*n*r),this.setAttr(s.EAttrID.EA_HP,c),this.setAttr(s.EAttrID.EA_HP_MAX,c)},t.prototype.UpdatePropAttr=function(t){var e=this.originalAttr,o=s.EAttrID.EA_HP_MAX;this.attr[o]=e[o]+Math.floor(e[o]*t.getAttr(c.PropAttrID.PA_HP_MAX_UP)),o=s.EAttrID.EA_ATK,this.attr[o]=e[o]+Math.floor(e[o]*t.getAttr(c.PropAttrID.PA_ATK_UP)),o=s.EAttrID.EA_ATK_INTERVAL,this.attr[o]=e[o]-e[o]*t.getAttr(c.PropAttrID.PA_ATK_SPEED_UP),o=s.EAttrID.EA_CRIT_CHANCE,this.attr[o]=e[o]+t.getAttr(c.PropAttrID.PA_CRIT_CHANCE_UP),o=s.EAttrID.EA_CRIT_HURT,this.attr[o]=e[o]+t.getAttr(c.PropAttrID.PA_CRIT_HURT_UP),o=s.EAttrID.EA_BULLET_COUNT,this.attr[o]=e[o]+t.getAttr(c.PropAttrID.PA_BULLET_COUNT_UP),o=s.EAttrID.EA_LEECH_CHANCE,this.attr[o]=e[o]+t.getAttr(c.PropAttrID.PA_LEECH_CHANCE_UP),o=s.EAttrID.EA_LEECH_HURT,this.attr[o]=e[o]+t.getAttr(c.PropAttrID.PA_LEECH_HURT_UP)},t}();o.ActorAttr=_,cc._RF.pop()},{"../../base/App":"App","../../config/DataManager":"DataManager","../../record/DeputyWeaponStore":"DeputyWeaponStore","../../record/MainWeaponStore":"MainWeaponStore","../prop/PropDefine":"PropDefine","./ActorDefine":"ActorDefine"}],ActorBuff:[function(t,e,o){"use strict";cc._RF.push(e,"a3d2eA8WP5IDa2GxqVKvffB","ActorBuff");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ActorBuff=void 0;var r=t("../../config/DataManager"),a=t("../../module/ObjectPool"),c=t("../../utils/ParseUtils"),s=t("../buff/Buff_Frenzy"),_=t("../buff/Buff_HPRestore"),l=t("../buff/Buff_LastHarm"),p=t("../buff/Buff_ReviveInvincible"),u=t("../buff/Buff_Shield"),d=t("../GuidManager"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._scripts=[{name:"Buff_ReviveInvincible",type:p.Buff_ReviveInvincible},{name:"Buff_LastHarm",type:l.Buff_LastHarm},{name:"Buff_HPRestore",type:_.Buff_HPRestore},{name:"Buff_Shield",type:u.Buff_Shield},{name:"Buff_Frenzy",type:s.Buff_Frenzy}],e._isPause=!1,e._actor=null,e._buffArray=[],e}return i(e,t),e.prototype.Init=function(t){this._actor=t},e.prototype.Execute=function(){var t=this;if(!this._isPause){var e=[];this._buffArray.forEach(function(t){t.Execute(),t.IsReach()&&e.push(t.guid)}),e.forEach(function(e){var o=t._buffArray.findIndex(function(t){return t.guid==e});-1!=o&&(t._buffArray[o].Release(),t._buffArray.splice(o,1))})}},e.prototype.Release=function(){this._buffArray.forEach(function(t){t.Release(),a.ObjectPool.put(t)}),this._buffArray=[],this._isPause=!1,this._actor=null},e.prototype.Pause=function(){this._isPause=!0},e.prototype.Restore=function(){this._isPause=!1},e.prototype.AddDynamicBuff=function(t){var e=r.DataManager.TableBuffConfigDatasById[t.ID];e&&this.CreateBuff(e.buff_script,t)},e.prototype.AddBuff=function(t){var e=r.DataManager.TableBuffConfigDatasById[t];if(e){var o={ID:t,ActorGuid:this._actor.guid,ReachCall:this.RemoveBuff.bind(this)};this.CreateBuff(e.buff_script,o)}},e.prototype.CreateBuff=function(t,e){var o=r.DataManager.TableBuffConfigDatasById[e.ID];if(o&&(0!=o.can_stacked||!this._buffArray.find(function(t){return t.xData.ID==e.ID}))){var n;if(!(n="string"==typeof t?this._scripts.find(function(e){return e.name==t}).type:t))return-1;var i=a.ObjectPool.get(n);return i.guid=d.GuidManager.Guid,i.Init(c.ParseUtils.copy(e)),this._buffArray.push(i),i.guid}},e.prototype.RemoveBuff=function(t){var e=this._buffArray.find(function(e){return e.guid==t});e&&e.OnReach(!0)},e}(t("./IActorComponent").IActorComponent);o.ActorBuff=h,cc._RF.pop()},{"../../config/DataManager":"DataManager","../../module/ObjectPool":"ObjectPool","../../utils/ParseUtils":"ParseUtils","../GuidManager":"GuidManager","../buff/Buff_Frenzy":"Buff_Frenzy","../buff/Buff_HPRestore":"Buff_HPRestore","../buff/Buff_LastHarm":"Buff_LastHarm","../buff/Buff_ReviveInvincible":"Buff_ReviveInvincible","../buff/Buff_Shield":"Buff_Shield","./IActorComponent":"IActorComponent"}],ActorBullet:[function(t,e,o){"use strict";cc._RF.push(e,"c75b5Nl/ElM86IJN2yJJxUV","ActorBullet");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ActorBullet=void 0;var r=t("../../config/DataManager"),a=t("../../global/enums"),c=t("../../module/ObjectPool"),s=t("../bullet/Bullet_Gatling"),_=t("../bullet/Bullet_Oblique"),l=t("../bullet/Bullet_Shot"),p=t("../bullet/Bullet_Straight"),u=t("../GameManager"),d=t("../GuidManager"),h=t("../prop/PropDefine"),f=t("./ActorProp"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._scripts=[{name:"Bullet_Straight",type:p.Bullet_Straight},{name:"Bullet_Oblique",type:_.Bullet_Oblique},{name:"Bullet_Shot",type:l.Bullet_Shot},{name:"Bullet_Gatling",type:s.Bullet_Gatling}],e._isPause=!1,e._actor=null,e._currentBullet="",e._bulletList=[],e}return i(e,t),e.prototype.Init=function(t){this._actor=t;var e=r.DataManager.TableBulletsConfigDatasById[t.xData.BulletID];e&&this.SwitchBullet(e.bullet_script)},e.prototype.Execute=function(){if(!this._isPause&&u.default.Instance.currentState==a.GameState.in_game&&!this._actor.IsDead()){var t=this._actor.Get(f.ActorProp);if(t){var e=t.GetPropByType(h.PropType.PT_STATE_CHANGE);if(e.length>=2&&console.error("ERROR: ActorBullet Execute props.length >= 2"),1==e.length){var o=r.DataManager.TablePropConfigDatasById[e[0]];o&&o.bullet_script!=this._currentBullet&&this.SwitchBullet(o.bullet_script)}}this._bulletList.forEach(function(t){t.bullet.Execute()})}},e.prototype.Release=function(){this._bulletList.forEach(function(t){t.bullet.Release(),c.ObjectPool.put(t.bullet)}),this._bulletList=[],this._isPause=!1,this._currentBullet="",this._actor=null},e.prototype.Pause=function(){this._isPause=!0},e.prototype.Restore=function(){this._isPause=!1},e.prototype.SwitchBullet=function(t){var e=this._scripts.find(function(e){return e.name==t});if(!e)return this._currentBullet="",this._bulletList.forEach(function(t){t.bullet.isPauseCreate=!0}),console.error("ERROR: SwitchBullet script = null"),"";if(null==this._bulletList.find(function(e){return e.name==t})){var o=c.ObjectPool.get(e.type);o.guid=d.GuidManager.Guid,o.Init(this._actor),this._bulletList.push({name:t,bullet:o})}this._bulletList.forEach(function(e){e.name!=t?e.bullet.isPauseCreate=!0:e.bullet.isPauseCreate=!1}),this._currentBullet=t},e}(t("./IActorComponent").IActorComponent);o.ActorBullet=y,cc._RF.pop()},{"../../config/DataManager":"DataManager","../../global/enums":"enums","../../module/ObjectPool":"ObjectPool","../GameManager":"GameManager","../GuidManager":"GuidManager","../bullet/Bullet_Gatling":"Bullet_Gatling","../bullet/Bullet_Oblique":"Bullet_Oblique","../bullet/Bullet_Shot":"Bullet_Shot","../bullet/Bullet_Straight":"Bullet_Straight","../prop/PropDefine":"PropDefine","./ActorProp":"ActorProp","./IActorComponent":"IActorComponent"}],ActorCollision:[function(t,e,o){"use strict";cc._RF.push(e,"83db17+XQtM6axiB3U/E+K6","ActorCollision");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ActorCollision=void 0;var r=t("../../../lq_collide_system/lq_collide_config"),a=t("../../config/DataManager"),c=t("../../global/enums"),s=t("../../module/SoundManage"),_=t("../collision/LQReplace"),l=t("../TimeManager"),p=t("../WorldManager"),u=t("./ActorDefine"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.guid=0,e._CollideIndex=-1,e._actor=null,e._type=u.CollisionType.CT_CIRCLE,e}return i(e,t),Object.defineProperty(e.prototype,"actor",{get:function(){return this._actor},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!1,configurable:!0}),e.prototype.Init=function(t){this._actor=t,this._type=this._actor.CollisionType,this.guid=t.guid,this.AddCollide()},e.prototype.AddCollide=function(){var t=-1;if(this._actor.xData.type==u.EObjectType.ot_main_weapon)t=r.LQCollideConfig.collide_group_map.role.index;else if(this._actor.xData.type==u.EObjectType.ot_support)t=r.LQCollideConfig.collide_group_map.support.index;else{if(this._actor.xData.type!=u.EObjectType.ot_barrier&&this._actor.xData.type!=u.EObjectType.ot_boss&&this._actor.xData.type!=u.EObjectType.ot_monster)return;t=r.LQCollideConfig.collide_group_map.enemy.index}this._CollideIndex=t;var e={guid:this.guid,group_index:t,is_open_func:!1,onEnter:this.onCollideEnter.bind(this),onCollide:this.onCollide.bind(this),onExit:this.onCollideExit.bind(this)};_.LQReplace.replave(this._actor.node,e)},e.prototype.onCollideEnter=function(){},e.prototype.onCollide=function(t){if(!this._actor.IsDead()&&0!=this._actor.OpenCollision){var o=t.collide_group_index,n=r.LQCollideConfig.collide_group_map,i=p.WorldManager.Instance.CollisionSys,_=l.TimeManager.totalTime;if(o==n.enemy.index){var d=p.WorldManager.Instance.GetActor(t.Guid);if(null==d||this._actor.IsDead()||d.IsDead()||d.guid==this._actor.guid||0==d.OpenCollision||this._actor.GetShip(d.camp)!=u.EShip.ES_ENEMY)return;var h=d.Get(e);i.checkCollision(this,h,_)&&(this._actor.OnActorCollision(d),d.OnActorCollision(this._actor))}else if(o==n.enemy_bullet.index||o==n.role_bullet.index||o==n.support_bullet.index){var f=p.WorldManager.Instance.FlyObjectSystem.GetFly(t.Guid);if(null==f||f.IsReach()||this._actor.IsDead()||this._actor.GetShip(f.camp)!=u.EShip.ES_ENEMY)return;if(this._actor.xData.type==u.EObjectType.ot_barrier){var y=a.DataManager.TableBarrierConfigDatasById[this._actor.xData.PropertyID];if(y&&1==y.bullet_through)return}o==n.role_bullet.index&&s.SoundManage.instance.PlaySound(c.GameSound.sound_hit);var g=!0;f.XData.attackType==u.AttackType.AT_LASER_STRAIGHT&&f.collideActorGuid!=this._actor.guid&&(g=!1),g&&i.checkCollision(this,f,_)&&(this._actor.OnBulletCollision(f),f.OnActorCollision(this._actor))}else if(o==n.prop.index){var v=p.WorldManager.Instance.PropSystem.GetProp(t.Guid);if(null==v||v.IsReach()||this._actor.IsDead())return;i.checkCollision(this,v,_)&&(this._actor.OnPropCollision(v),v.OnReach())}else n.role.index}},e.prototype.onCollideExit=function(){},e.prototype.Execute=function(){},e.prototype.Release=function(){this.guid=0,this._CollideIndex=-1,this._type=u.CollisionType.CT_CIRCLE,this._actor=null},e}(t("./IActorComponent").IActorComponent);o.ActorCollision=d,cc._RF.pop()},{"../../../lq_collide_system/lq_collide_config":"lq_collide_config","../../config/DataManager":"DataManager","../../global/enums":"enums","../../module/SoundManage":"SoundManage","../TimeManager":"TimeManager","../WorldManager":"WorldManager","../collision/LQReplace":"LQReplace","./ActorDefine":"ActorDefine","./IActorComponent":"IActorComponent"}],ActorCommand:[function(t,e,o){"use strict";cc._RF.push(e,"41798rFAUZCCrzhXUbxHPXL","ActorCommand");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ActorCommand=void 0;var r=t("../../module/ObjectPool"),a=t("../cmd/CmdDefine"),c=t("../cmd/CommandMove"),s=t("../navigate/NavigateDefine"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._actor=null,e._cmds=new Map,e}return i(e,t),e.prototype.Init=function(t){this._actor=t,this.InitCommands()},e.prototype.Execute=function(){this._actor.IsDead()},e.prototype.Release=function(){this._cmds.forEach(function(t){t.Release(),r.ObjectPool.put(t)}),this._cmds=new Map,this._actor=null},e.prototype.InitCommands=function(){this.AddCmd(c.CommandMove,this.Move.bind(this))},e.prototype.AddCmd=function(t,e){var o=t,n=r.ObjectPool.get(o);n.doCall=e,this._cmds.set(t.name,n)},e.prototype.GetCmd=function(t){return this._cmds.has(t.name)?this._cmds.get(t.name):null},e.prototype.Move=function(t){var e=this._actor.CanMove();return e!=a.CmdResp.TYPE_SUCCESS?e:(this._actor.DoNavigateToGoal({path:[{type:s.NavigateType.NT_STRAIGHT,goal:t.TargetPos,angleChange:!1}],rechCallBack:t.OnFinish}),a.CmdResp.TYPE_SUCCESS)},e}(t("./IActorComponent").IActorComponent);o.ActorCommand=_,cc._RF.pop()},{"../../module/ObjectPool":"ObjectPool","../cmd/CmdDefine":"CmdDefine","../cmd/CommandMove":"CommandMove","../navigate/NavigateDefine":"NavigateDefine","./IActorComponent":"IActorComponent"}],ActorDefine:[function(t,e,o){"use strict";cc._RF.push(e,"2bc9ePWJPpJ8qIPOXvWhSV9","ActorDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.AttackType=o.RotationState=o.EShip=o.EDeadReason=o.GTEventID=o.CollisionType=o.FSMState=o.EAttrID=o.EObjectType=void 0,function(t){t.ot_invalid="ot_invalid",t.ot_main_weapon="ot_main_weapon",t.ot_deputy_weapon="ot_deputy_weapon",t.ot_boss="ot_boss",t.ot_monster="ot_monster",t.ot_barrier="ot_barrier",t.ot_support="ot_support"}(o.EObjectType||(o.EObjectType={})),function(t){t.EA_HP="EA_HP",t.EA_HP_MAX="ATTR_HPMAX",t.EA_ATK="EA_ATK",t.EA_ATK_INTERVAL="EA_ATK_INTERVAL",t.EA_MOVE_SPEED="EA_MOVE_SPEED",t.EA_CRIT_CHANCE="EA_CRIT_CHANCE",t.EA_CRIT_HURT="EA_CRIT_HURT",t.EA_LEECH_CHANCE="EA_LEECH_CHANCE",t.EA_LEECH_HURT="EA_LEECH_HURT",t.EA_BULLET_COUNT="EA_BULLET_COUNT",t.EA_ATTACK_COUNT="EA_ATTACK_COUNT",t.EA_BULLET_THROUGH="EA_BULLET_THROUGH",t.EA_BULLET_TRACE="EA_BULLET_TRACE",t.EA_BULLET_TIME="EA_BULLET_TIME",t.EA_BULLET_REBOUND="EA_BULLET_REBOUND",t.EA_AIM_TIME="EA_AIM_TIME"}(o.EAttrID||(o.EAttrID={})),function(t){t[t.FSM_EMPTY=0]="FSM_EMPTY",t[t.FSM_IDLE=1]="FSM_IDLE",t[t.FSM_MOVE=2]="FSM_MOVE",t[t.FSM_DEAD=3]="FSM_DEAD",t[t.FSM_AWAIT_REVIVE=4]="FSM_AWAIT_REVIVE"}(o.FSMState||(o.FSMState={})),function(t){t[t.CT_CIRCLE=0]="CT_CIRCLE",t[t.CT_POLYGON=1]="CT_POLYGON"}(o.CollisionType||(o.CollisionType={})),function(t){t.NONE="",t.ACTOR_BORN="GTEVENT.ACTOR_BORN",t.ACTOR_DYING="GTEVENT.ACTOR_DYING",t.ACTOR_DEAD="GTEVENT.ACTOR_DEAD",t.ACTOR_RESURGENCE="GTEVENT.ACTOR_RESURGENCE",t.ACTOR_ON_ATTACK="GTEVENT.ACTOR_DEAD",t.ACTOR_ON_DAMAGE="GTEVENT.ACTOR_ON_DAMAGE",t.ACTOR_ON_DAMAGE_TARGET="GTEVENT.ACTOR_ON_DAMAGE_TARGET",t.ACTOR_LOCKED_TARGET="GTEVENT.ACTOR_LOCKED_TARGET",t.ACTOR_LOCK_TARGET="GTEVENT.ACTOR_LOCK_TARGET",t.ACTOR_COLLISION_ENTER="GTEVENT.ACTOR_COLLISION_ENTER",t.ACTOR_COLLISION_STAY="GTEVENT.ACTOR_COLLISION_STAY",t.ACTOR_COLLISION_EXIT="GTEVENT.ACTOR_COLLISION_EXIT",t.ACTOR_HERO_DESTORY="GTEVENT.ACTOR_HERO_DESTORY",t.ACTOR_GET_ATTR="GTEVENT.ACTOR_GET_ATTR"}(o.GTEventID||(o.GTEventID={})),function(t){t[t.Invalid=0]="Invalid",t[t.Normal=1]="Normal",t[t.Kill=2]="Kill",t[t.Plot=3]="Plot"}(o.EDeadReason||(o.EDeadReason={})),function(t){t[t.ES_NEUTRAL=0]="ES_NEUTRAL",t[t.ES_FRIEND=1]="ES_FRIEND",t[t.ES_ENEMY=2]="ES_ENEMY"}(o.EShip||(o.EShip={})),function(t){t.RS_INVALID="RS_INVALID",t.RS_FREEDOM="RS_FREEDOM",t.RS_TARGET="RS_TARGET"}(o.RotationState||(o.RotationState={})),function(t){t.AT_INVALID="AT_INVALID",t.AT_STRAIGHT="AT_STRAIGHT",t.AT_SECTOR="AT_SECTOR",t.AT_CIRCLE="AT_CIRCLE",t.AT_STRAIGHT_TRACK="AT_STRAIGHT_TRACK",t.AT_LASER_STRAIGHT="AT_LASER_STRAIGHT",t.AT_TAIL_AFTER="AT_TAIL_AFTER"}(o.AttackType||(o.AttackType={})),cc._RF.pop()},{}],ActorEffect:[function(t,e,o){"use strict";cc._RF.push(e,"3127axMZ9hC94XWi5isApcV","ActorEffect");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ActorEffect=void 0;var r=t("../../base/App"),a=t("../../config/DataManager"),c=t("../../global/define"),s=t("../../global/enums"),_=t("../../module/SoundManage"),l=t("../../utils/Geometry"),p=t("../../utils/ParseUtils"),u=t("../effect/Effect_BlastBoss"),d=t("../effect/Effect_BlastHero"),h=t("../effect/Effect_BlastHeroSpot"),f=t("../effect/Effect_BlastMonster"),y=t("../effect/Effect_BuffHalo"),g=t("../effect/Effect_BulletLaunch"),v=t("../effect/Effect_HeroInjured"),b=t("../effect/Effect_HeroLeech"),m=t("../effect/Effect_HeroRecover"),A=t("../effect/Effect_HeroRecoverBG"),x=t("../effect/Effect_Hit1"),C=t("../effect/Effect_Hit2"),w=t("../WorldManager"),T=t("./ActorDefine"),E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._actor=null,e._effectGuids=[],e._EffectSys=null,e._tweenNodes=[],e}return i(e,t),e.prototype.Init=function(t){this._actor=t,this._EffectSys=w.WorldManager.Instance.EffectSystem,this.AddActorEffects(t),r.App.notice.on(s.GameEvent.chapter_pause,this.OnGameEventChapterPause,this),r.App.notice.on(s.GameEvent.chapter_restore,this.OnGameEventChapterRestore,this)},e.prototype.Execute=function(){},e.prototype.Release=function(){var t=this;r.App.notice.off(s.GameEvent.chapter_pause,this.OnGameEventChapterPause,this),r.App.notice.off(s.GameEvent.chapter_restore,this.OnGameEventChapterRestore,this),this._effectGuids.forEach(function(e){t._EffectSys.RemoveEffect(e)}),this._effectGuids=[],this._tweenNodes.forEach(function(t){t.stopAllActions()}),this._tweenNodes=[],this._actor=null,this._EffectSys=null},e.prototype.OnGameEventChapterPause=function(){this._tweenNodes.forEach(function(t){t.pauseAllActions()})},e.prototype.OnGameEventChapterRestore=function(){this._tweenNodes.forEach(function(t){t.resumeAllActions()})},e.prototype.RemoveEffectGUID=function(t){var e=this._effectGuids.findIndex(function(e){return e==t.guid});-1!=e&&this._effectGuids.splice(e,1)},e.prototype.AddEffect=function(t,e){var o=this,n=p.ParseUtils.copy(e),i=n.ReachCall;n.ReachCall=function(t){o.RemoveEffectGUID(t),i&&i()};var r=w.WorldManager.Instance.EffectSystem.AddEffect(t,n);return-1!=r&&this._effectGuids.push(r),r},e.prototype.AddActorEffects=function(t){var e=this,o=a.DataManager.TablePlaneConfigDatasById[t.dbid];o&&o.effect_scripts&&o.effect_scripts.forEach(function(t){if("Effect_Custom_Hole"==t)e.AddCustomEffectHole();else{var o={ActorGuid:e._actor.guid};e.AddEffect(t,o)}})},e.prototype.AddCustomEffectHole=function(){for(var t=this,e=[],o=[],n=1;n<=4;n++)(i=this._actor.node.getChildByName("sp_aureole_"+n)).stopAllActions(),i.scale=1.1,i.opacity=0,e.push(i);for(n=1;n<=8;n++){var i;(i=this._actor.node.getChildByName("sp_lightspot_"+n)).stopAllActions(),i.scale=0,i.opacity=255,o.push(i)}e.forEach(function(e,o){cc.tween(e).delay(o*(.4*Math.random()+.3)).repeatForever(cc.tween(e).to(2,{opacity:255,scale:.62}).call(function(){e.scale=1.1,e.opacity=0})).start(),t._tweenNodes.push(e)}),o.forEach(function(e){var o=l.Geometry.RandomPointInCircle(190,220),n=o.div(1.5);cc.tween(e).delay(1.5*Math.random()).repeatForever(cc.tween(e).call(function(){e.scale=.5*Math.random()+.3,e.setPosition(o)}).to(2,{x:n.x,y:n.y}).call(function(){e.scale=0})).start(),t._tweenNodes.push(e)})},e.prototype.AddLaunchEffect=function(){var t={ActorGuid:this._actor.guid};this.AddEffect(g.Effect_BulletLaunch,t)},e.prototype.AddHitEffect=function(t){var e={TargetPos:t,TargetColor:this._actor.GetColor()};this.AddEffect(x.Effect_Hit1,e),this.AddEffect(C.Effect_Hit2,e)},e.prototype.AddInjuredEffect=function(){this._actor.xData.type==T.EObjectType.ot_main_weapon&&this.AddEffect(v.Effect_HeroInjured,{})},e.prototype.AddRecoverEffect=function(){if(this._actor.xData.type==T.EObjectType.ot_main_weapon){var t={};this.AddEffect(A.Effect_HeroRecoverBG,t),this.AddEffect(m.Effect_HeroRecover,t)}},e.prototype.AddLeechEffect=function(){var t={ActorGuid:this._actor.guid};this.AddEffect(b.Effect_HeroLeech,t)},e.prototype.AddBlastEffect=function(t){if(this._actor.isSplit)t&&t();else{var e=this._actor.Pos2D,o={ChangeValue1:0,TargetPos:e};if(this._actor.xData.type!=T.EObjectType.ot_monster&&this._actor.xData.type!=T.EObjectType.ot_support||(o.ReachCall=t,this.AddEffect(f.Effect_BlastMonster,o),_.SoundManage.instance.PlaySound(s.GameSound.sound_monster_bomb),c.Define.ScreenWobble(1,3)),this._actor.xData.type==T.EObjectType.ot_boss){for(var n=0,i=this._actor.node.getContentSize(),r=0;r<5;r++)for(var a=0;a<4;a++)o.ChangeValue1=.15*r+.4*Math.random()*(0==r?0:1),o.TargetPos=e.add(cc.v2(Math.random()*i.width-i.width/2,Math.random()*i.height-i.height/2)),o.ReachCall=null,o.StartCall=null,this.AddEffect(u.Effect_BlastBoss,o),o.StartCall=function(){c.Define.Vibrate(.015),_.SoundManage.instance.PlaySound(s.GameSound.sound_monster_bomb,!1)},o.ReachCall=function(){20==(n+=1)&&t&&t()},this.AddEffect(f.Effect_BlastMonster,o);c.Define.ScreenWobble(7,8,function(){})}this._actor.xData.type==T.EObjectType.ot_main_weapon&&(this.AddEffect(h.Effect_BlastHeroSpot,o),this.AddEffect(u.Effect_BlastBoss,o),this.AddEffect(v.Effect_HeroInjured,o),o.ReachCall=t,this.AddEffect(d.Effect_BlastHero,o),_.SoundManage.instance.PlaySound(s.GameSound.sound_monster_bomb,!1),c.Define.ScreenWobble(3,8,function(){c.Define.Vibrate(.015)})),this._actor.xData.type==T.EObjectType.ot_barrier&&t&&t()}},e.prototype.AddHaloEffect=function(){var t={ActorGuid:this._actor.guid,TargetColor:this._actor.GetColor()};return this.AddEffect(y.Effect_BuffHalo,t)},e.prototype.AddBeHitEffect=function(){var t=this._actor.hitEffectNodes;if(!(t.length<=0)){for(var e=null,o=0;o<t.length;o++)if(0==t[o].__PlayEffect__){e=t[o];break}e&&(e.__PlayEffect__=!0,e.active=!0,e.opacity=200,e.scale=1,cc.tween(e).to(.15,{opacity:60,scale:1.2}).to(.05,{opacity:0,scale:1.3}).call(function(){e.__PlayEffect__=!1}).start())}},e}(t("./IActorComponent").IActorComponent);o.ActorEffect=E,cc._RF.pop()},{"../../base/App":"App","../../config/DataManager":"DataManager","../../global/define":"define","../../global/enums":"enums","../../module/SoundManage":"SoundManage","../../utils/Geometry":"Geometry","../../utils/ParseUtils":"ParseUtils","../WorldManager":"WorldManager","../effect/Effect_BlastBoss":"Effect_BlastBoss","../effect/Effect_BlastHero":"Effect_BlastHero","../effect/Effect_BlastHeroSpot":"Effect_BlastHeroSpot","../effect/Effect_BlastMonster":"Effect_BlastMonster","../effect/Effect_BuffHalo":"Effect_BuffHalo","../effect/Effect_BulletLaunch":"Effect_BulletLaunch","../effect/Effect_HeroInjured":"Effect_HeroInjured","../effect/Effect_HeroLeech":"Effect_HeroLeech","../effect/Effect_HeroRecover":"Effect_HeroRecover","../effect/Effect_HeroRecoverBG":"Effect_HeroRecoverBG","../effect/Effect_Hit1":"Effect_Hit1","../effect/Effect_Hit2":"Effect_Hit2","./ActorDefine":"ActorDefine","./IActorComponent":"IActorComponent"}],ActorHUD:[function(t,e,o){"use strict";cc._RF.push(e,"c8dc5dFTPZHLb9lFU1TbgCv","ActorHUD");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ActorHUD=void 0;var r=t("../HUD/HUDBlood"),a=t("../WorldManager"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_Actor=null,e.m_Huds=[],e.m_totalHeight=10,e}return i(e,t),e.prototype.Init=function(t){this.m_Actor=t,this.Add(a.WorldManager.Instance.HUDSystem.Get(r.HUDBlood))},e.prototype.Add=function(t){this.m_totalHeight+=t.AddHud(this.m_Actor,this.m_totalHeight),this.m_Huds.push(t)},e.prototype.Get=function(t){for(var e=0;e<this.m_Huds.length;e++)if(this.m_Huds[e]instanceof t)return this.m_Huds[e];return null},e.prototype.GetHUDHeight=function(){return this.m_totalHeight},e.prototype.Execute=function(){var t;this.m_Actor.IsDead()&&(null===(t=this.Get(r.HUDBlood))||void 0===t||t.HideHud(this.m_Actor.guid))},e.prototype.Release=function(){for(var t=0;t<this.m_Huds.length;t++)this.m_Huds[t].RemoveHud(this.m_Actor.guid);this.m_Huds=[],this.m_Actor=null,this.m_totalHeight=10},e.prototype.Hide=function(){var t=this;this.m_Huds.forEach(function(e){e.HideHud(t.m_Actor.guid)})},e.prototype.Show=function(){var t=this;this.m_Huds.forEach(function(e){e.ShowHud(t.m_Actor.guid)})},e}(t("./IActorComponent").IActorComponent);o.ActorHUD=c,cc._RF.pop()},{"../HUD/HUDBlood":"HUDBlood","../WorldManager":"WorldManager","./IActorComponent":"IActorComponent"}],ActorNav:[function(t,e,o){"use strict";cc._RF.push(e,"47b98ThJoRFjppeNpi2Iu2r","ActorNav");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ActorNav=void 0;var r=t("../../module/ObjectPool"),a=t("../../utils/ParseUtils"),c=t("../navigate/NavigateDefine"),s=t("../navigate/Navigate_Arc"),_=t("../navigate/Navigate_Straight"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._actor=null,e._xData=null,e._NavArc=null,e._NavStraight=null,e._isNav=!1,e._destination=null,e}return i(e,t),Object.defineProperty(e.prototype,"isNav",{get:function(){return this._isNav},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"destination",{get:function(){return this._destination},enumerable:!1,configurable:!0}),e.prototype.Init=function(t){this._actor=t,this._NavArc=r.ObjectPool.get(s.Navigate_Arc),this._NavStraight=r.ObjectPool.get(_.Navigate_Straight),this._NavArc.Init(t),this._NavStraight.Init(t)},e.prototype.Execute=function(){this._actor.IsDead()||(this._NavArc.Execute(),this._NavStraight.Execute())},e.prototype.Release=function(){this._NavArc.Release(),this._NavStraight.Release(),r.ObjectPool.put(this._NavArc),r.ObjectPool.put(this._NavStraight),this._NavArc=null,this._NavStraight=null,this._actor=null,this._xData=null,this._isNav=!1,this._destination=null},e.prototype.SetGoal=function(t){var e=this;this.Stop();var o=a.ParseUtils.copy(t),n=o.rechCallBack;o.rechCallBack=function(){e._actor.ShowTail(!1),n&&n()},this._destination=null,o&&o.path.length>0&&(this._destination=o.path[o.path.length-1].goal),this._xData=o,this._isNav=!0,this._actor.ShowTail(!0),this.Redirect()},e.prototype.Redirect=function(){if(this._xData.path.length<1)return this._isNav=!1,void(this._xData.rechCallBack&&this._xData.rechCallBack());var t=this._xData.path[0];t.type==c.NavigateType.NT_ARC&&this._NavArc.SetGoal(t,this.OnFinishedCall.bind(this)),t.type==c.NavigateType.NT_STRAIGHT&&this._NavStraight.SetGoal(t,this.OnFinishedCall.bind(this)),this._xData.path.splice(0,1)},e.prototype.OnFinishedCall=function(){this.Redirect()},e.prototype.Stop=function(){this._isNav=!1,this._NavArc.isNav=!1,this._NavStraight.isNav=!1,this._actor.ShowTail(!1),this._destination=null},e}(t("./IActorComponent").IActorComponent);o.ActorNav=l,cc._RF.pop()},{"../../module/ObjectPool":"ObjectPool","../../utils/ParseUtils":"ParseUtils","../navigate/NavigateDefine":"NavigateDefine","../navigate/Navigate_Arc":"Navigate_Arc","../navigate/Navigate_Straight":"Navigate_Straight","./IActorComponent":"IActorComponent"}],ActorProperty:[function(t,e,o){"use strict";cc._RF.push(e,"eb2d28tFDFKdKB7kuAkUde+","ActorProperty"),Object.defineProperty(o,"__esModule",{value:!0}),o.ActorProperty=void 0;var n=t("./ActorDefine"),i=function(){function t(){this.dbid=0,this.PropertyID=0,this.uuid="",this.name="",this.type=n.EObjectType.ot_invalid,this.camp=0,this.level=0,this.BornScript=0,this.BulletID=0,this.CollisionType=n.CollisionType.CT_CIRCLE,this.ActionID=0,this.x=0,this.y=0,this.z=0,this.zIndex=0,this.isReward=!1}return Object.defineProperty(t.prototype,"pos",{get:function(){return cc.v3(this.x,this.y,this.z)},set:function(t){this.x=t.x,this.y=t.y,this.z=t.z},enumerable:!1,configurable:!0}),t}();o.ActorProperty=i,cc._RF.pop()},{"./ActorDefine":"ActorDefine"}],ActorProp:[function(t,e,o){"use strict";cc._RF.push(e,"812a4q1/G5N75WRY3NYUH/s","ActorProp");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ActorProp=void 0;var r=t("../../base/App"),a=t("../../config/DataManager"),c=t("../../global/enums"),s=t("../../module/SoundManage"),_=t("../../utils/StrTools"),l=t("../buff/BuffDefine"),p=t("../GameManager"),u=t("../prompt_lable/PromptDefint"),d=t("../prop/PropAttr"),h=t("../prop/PropDefine"),f=t("../TimeManager"),y=t("../WorldManager"),g=t("./ActorAttack"),v=t("./ActorBuff"),b=t("./ActorDefine"),m=t("./ActorEffect"),A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._actorGuid=0,e._PropAttr=null,e._ActorAttr=null,e._propList=[],e._lastWeaponStrengthenTime=-1,e._lastSecondsKillTime=0,e._lastFatalInjuryTime=0,e}return i(e,t),Object.defineProperty(e.prototype,"actor",{get:function(){return y.WorldManager.Instance.GetActor(this._actorGuid)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"PropAttr",{get:function(){return this._PropAttr},enumerable:!1,configurable:!0}),e.prototype.Init=function(t){this._actorGuid=t.guid,this._PropAttr=new d.PropAttr,this._PropAttr.Init(),this._ActorAttr=t.Attr,r.App.notice.on(b.GTEventID.ACTOR_DYING,this.OnEventActorDying,this),r.App.notice.on(b.GTEventID.ACTOR_ON_DAMAGE_TARGET,this.OnEventActorDamageTarget,this),r.App.notice.on(b.GTEventID.ACTOR_ON_DAMAGE,this.OnEventActorDamage,this)},e.prototype.Execute=function(){},e.prototype.Release=function(){r.App.notice.off(b.GTEventID.ACTOR_DYING,this.OnEventActorDying,this),r.App.notice.off(b.GTEventID.ACTOR_ON_DAMAGE_TARGET,this.OnEventActorDamageTarget,this),r.App.notice.off(b.GTEventID.ACTOR_ON_DAMAGE,this.OnEventActorDamage,this),this._actorGuid=0,this._PropAttr=null,this._ActorAttr=null,this._propList=[]},e.prototype.GetPropByType=function(t){var e=[];return this._propList.forEach(function(o){o.type==t&&e.push(o.propid)}),e},e.prototype.UseProp=function(t,e){if(this.actor&&!this.actor.IsDead()){var o=a.DataManager.TablePropConfigDatasById[t];o&&(1==o.is_upgrade&&this.RecordProp(o),o.type==h.PropType.PT_COLLECT&&this.UseCollectProp(o,e),o.type==h.PropType.PT_RECOVER&&this.UseRecoverProp(o),o.type==h.PropType.PT_ATTR_INCREACE&&this.UseAttrIncreaceProp(o),o.type==h.PropType.PT_STATE_CHANGE&&this.UseStateChangeProp(o))}},e.prototype.RecordProp=function(t){var e=this._propList.find(function(e){return e.propid==t.id});if(e?e.level+=1:(e={propid:t.id,type:t.type,level:1},this._propList.push(e)),t.type==h.PropType.PT_STATE_CHANGE){var o=h.PropID.invalid;if(2==e.level)e.level=1,o=e.propid;else{var n=this._propList.findIndex(function(e){return e.propid!=t.id&&e.type==h.PropType.PT_STATE_CHANGE});-1!=n&&(o=this._propList[n].propid,this._propList.splice(n,1))}if(o!=h.PropID.invalid){var i=a.DataManager.TablePropConfigDatasById[o];null!=i&&this.AddAttr(i,!0)}}var r=this._ActorAttr.getAttr(b.EAttrID.EA_HP_MAX);this.AddAttr(t,!1);var c=this._ActorAttr.getAttr(b.EAttrID.EA_HP_MAX);if(c>r){var s=c-r;this.actor&&this.actor.DoHPIncrease(s,u.PromptType.pt_default)}},e.prototype.RemoveProp=function(t){var e=this._propList.findIndex(function(e){return e.propid==t});if(-1!=e){var o=this._propList[e],n=a.DataManager.TablePropConfigDatasById[o.propid];if(n){for(var i=0;i<o.level;i++)this.AddAttr(n,!0);this._propList.splice(e,1)}}},e.prototype.AddAttr=function(t,e){var o=1;e&&(o=-1),this._PropAttr.addAttr(h.PropAttrID.PA_HP_MAX_UP,t.hp_max*o),this._PropAttr.addAttr(h.PropAttrID.PA_ATK_UP,t.atk*o),this._PropAttr.addAttr(h.PropAttrID.PA_ATK_SPEED_UP,t.atk_speed*o),this._PropAttr.addAttr(h.PropAttrID.PA_CRIT_CHANCE_UP,t.crit_chance*o),this._PropAttr.addAttr(h.PropAttrID.PA_CRIT_HURT_UP,t.crit_hurt*o),this._PropAttr.addAttr(h.PropAttrID.PA_BULLET_COUNT_UP,t.bullet_count*o),this._PropAttr.addAttr(h.PropAttrID.PA_LEECH_CHANCE_UP,t.leech_chance*o),this._PropAttr.addAttr(h.PropAttrID.PA_LEECH_HURT_UP,t.leech_hurt*o),this._PropAttr.addAttr(h.PropAttrID.PA_EXP_UP,t.user_exp*o),this._ActorAttr.UpdatePropAttr(this._PropAttr)},e.prototype.UseCollectProp=function(t,e){if(t.id==h.PropID.exp_collect){var o=null==e?t.value:e;y.WorldManager.Instance.UITop.AddUserExp(o),y.WorldManager.Instance.PromptLable.AddExp(this.actor,o),s.SoundManage.instance.PlaySound(c.GameSound.sound_receive_award)}},e.prototype.UseRecoverProp=function(t){this.actor&&t.id==h.PropID.hp_recover&&this.actor.DoHPRecover(t.hp_recover)},e.prototype.UseAttrIncreaceProp=function(t){if(this.actor)if(t.id==h.PropID.hp_restore){if(o=this.actor.Get(v.ActorBuff)){var e={ID:l.BuffID.HP_RESTORE,ActorGuid:this.actor.guid};o.AddDynamicBuff(e)}}else if(t.id==h.PropID.shield)(o=this.actor.Get(v.ActorBuff))&&(e={ID:l.BuffID.SHIELD,ActorGuid:this.actor.guid},o.AddDynamicBuff(e));else if(t.id==h.PropID.call_support)p.default.Instance.Player1.CreateSupport(t.value);else if(t.id==h.PropID.frenzy){var o;(o=this.actor.Get(v.ActorBuff))&&(e={ID:l.BuffID.FRENZY,ActorGuid:this.actor.guid},o.AddDynamicBuff(e))}else if(t.id==h.PropID.weapon_strengthen)this._lastWeaponStrengthenTime=f.TimeManager.totalTime;else if(t.id==h.PropID.remould){var n=this._ActorAttr.getAttr(b.EAttrID.EA_HP),i=this._ActorAttr.getAttr(b.EAttrID.EA_HP_MAX),r=this._ActorAttr.getAttr(b.EAttrID.EA_ATK),a=Math.floor(i*t.value),c=Math.floor(r*t.value*1.2);this._ActorAttr.setAttr(b.EAttrID.EA_HP_MAX,i-a),this._ActorAttr.setOAttr(b.EAttrID.EA_HP_MAX,i-a),this._ActorAttr.setAttr(b.EAttrID.EA_ATK,r+c),this._ActorAttr.setOAttr(b.EAttrID.EA_HP_MAX,r+c),this._ActorAttr.setAttr(b.EAttrID.EA_HP,Math.max(1,n-a)),this.actor.Get(m.ActorEffect).AddInjuredEffect()}},e.prototype.UseStateChangeProp=function(){},e.prototype.ForEachProp=function(t){this._propList.forEach(function(e,o){t(e,o)})},e.prototype.GetPropInfo=function(t){return this._propList.find(function(e){return e.propid==t})},e.prototype.GetDescribe=function(t){var e=a.DataManager.TablePropConfigDatasById[t.propid];if(!e)return"";var o=e.describe;if(t.propid==h.PropID.hp_max_up){var n=this._ActorAttr.getOAttr(b.EAttrID.EA_HP_MAX);n=Math.floor(n*e.hp_max*t.level),o=_.StrTools.format(e.describe,n)}else if(t.propid==h.PropID.atk_max_up||t.propid==h.PropID.atk_min_up)n=this._ActorAttr.getOAttr(b.EAttrID.EA_ATK),n=Math.floor(n*e.atk*t.level),o=_.StrTools.format(e.describe,n);else if(t.propid==h.PropID.atk_speed_max_up||t.propid==h.PropID.atk_speed_min_up)n=this._ActorAttr.getOAttr(b.EAttrID.EA_ATK_INTERVAL),n=Math.floor(e.atk_speed*t.level*100),o=_.StrTools.format(e.describe,n+"%");else if(t.propid==h.PropID.leech_up){var i=this._ActorAttr.getAttr(b.EAttrID.EA_HP_MAX);n=Math.floor(i*e.leech_hurt*t.level),o=_.StrTools.format(e.describe,n)}else if(t.propid==h.PropID.crit_chance_up)n=Math.floor(e.crit_chance*t.level*100),o=_.StrTools.format(e.describe,n+"%");else if(t.propid==h.PropID.crit_hurt_up)n=this._ActorAttr.getAttr(b.EAttrID.EA_ATK),n=Math.floor(n*e.crit_hurt*t.level),o=_.StrTools.format(e.describe,n);else if(t.propid==h.PropID.bullet_count_up)o=_.StrTools.format(e.describe,t.level);else if(t.propid==h.PropID.exp_up){var r=e.user_exp,c=Math.floor(100*(r*t.level-.1)),s=Math.floor(100*(r*t.level+.1));o=_.StrTools.format(e.describe,c,s)}else if(t.propid==h.PropID.resurgence)o=_.StrTools.format(e.describe,e.hp_recover*t.level*100);else if(t.propid==h.PropID.burn_enemy){var l=this._ActorAttr.getAttr(b.EAttrID.EA_ATK),p=Math.floor(l*e.last_harm*t.level);o=_.StrTools.format(e.describe,e.last_harm_time,p)}else if(t.propid==h.PropID.spread_debris)l=this._ActorAttr.getAttr(b.EAttrID.EA_ATK),p=Math.floor(l*e.value*t.level),o=_.StrTools.format(e.describe,p);else if(t.propid==h.PropID.bloodlust)o=_.StrTools.format(e.describe,e.value*t.level);else if(t.propid==h.PropID.hp_restore)i=this._ActorAttr.getAttr(b.EAttrID.EA_HP_MAX),o=_.StrTools.format(e.describe,Math.floor(i*e.value*t.level));else if(t.propid==h.PropID.shield)o=_.StrTools.format(e.describe,e.value*t.level);else if(t.propid==h.PropID.call_support)o=_.StrTools.format(e.describe,t.level);else if(t.propid==h.PropID.fatal_injury)n=this._ActorAttr.getAttr(b.EAttrID.EA_ATK),o=_.StrTools.format(e.describe,Math.floor(n*e.value*t.level));else if(t.propid==h.PropID.seconds_kill)o=e.describe;else if(t.propid==h.PropID.spirited)o=_.StrTools.format(e.describe,e.value+e.value/2*(t.level-1));else if(t.propid==h.PropID.frenzy)o=_.StrTools.format(e.describe,Math.floor(e.value+e.value/2*(t.level-1)));else if(t.propid==h.PropID.weapon_strengthen)l=this._ActorAttr.getAttr(b.EAttrID.EA_ATK),p=Math.floor(l*e.value*t.level),o=_.StrTools.format(e.describe,p,15*p);else if(t.propid==h.PropID.remould){var u=this._ActorAttr.getAttr(b.EAttrID.EA_HP_MAX),d=this._ActorAttr.getAttr(b.EAttrID.EA_ATK),f=Math.floor(u*e.value),y=Math.floor(d*e.value*1.2);o=_.StrTools.format(e.describe,f,y),this.GetPropInfo(h.PropID.remould)?o+="Has been modified "+t.level+" times":o+="Has been modified 0 times"}return o},e.prototype.OnEventActorDying=function(t,e){this.CheckPropResurgence(t,e),this.CheckPropSpreadDbris(t,e)},e.prototype.OnEventActorDamageTarget=function(t,e,o){var n=y.WorldManager.Instance.GetActor(t),i=y.WorldManager.Instance.GetActor(e);n&&i&&this.CheckPropBurnEnemy(n,i,o)},e.prototype.OnEventActorDamage=function(t,e,o,n,i){var r=y.WorldManager.Instance.GetActor(e),a=y.WorldManager.Instance.GetActor(o);r&&a&&(this.CheckPropBloodlust(t,r,i),this.CheckPropFatalInjury(t,r,i),this.CheckPropSecondsKill(r,a,i),this.CheckPropSpirited(t,r,i),this.CheckPropWeaponStrengthen(t,r,a,i))},e.prototype.CheckPropWeaponStrengthen=function(t,e,o,n){if(this.actor)if(e.guid==this._actorGuid){var i=this.GetPropInfo(h.PropID.weapon_strengthen);if(null!=i){var r=a.DataManager.TablePropConfigDatasById[i.propid];if(r){var c=this._ActorAttr.getAttr(b.EAttrID.EA_ATK),s=Math.floor(c*r.value*i.level),_=Math.ceil((f.TimeManager.totalTime-this._lastWeaponStrengthenTime)/10);_=Math.min(15,_),n&&n(h.PropID.weapon_strengthen,Math.floor(s*_))}}}else o.guid==this._actorGuid&&(this._lastWeaponStrengthenTime=f.TimeManager.totalTime)},e.prototype.CheckPropSpirited=function(t,e,o){if(this.actor&&e.guid==this._actorGuid){var n=this.GetPropInfo(h.PropID.spirited);if(null!=n){var i=a.DataManager.TablePropConfigDatasById[n.propid];if(i&&this._ActorAttr.getAttr(b.EAttrID.EA_HP)==this._ActorAttr.getAttr(b.EAttrID.EA_HP_MAX)){var r=i.value+i.value/2*(n.level-1);o&&o(h.PropID.spirited,Math.floor(t*r))}}}},e.prototype.CheckPropSecondsKill=function(t,e,o){if(this.actor&&t.guid==this._actorGuid){var n=this.GetPropInfo(h.PropID.seconds_kill);if(null!=n&&a.DataManager.TablePropConfigDatasById[n.propid]&&e.xData.type!=b.EObjectType.ot_boss&&(100*Math.random()<=2+1.2*(n.level-1)||f.TimeManager.totalTime-this._lastSecondsKillTime>26)){this._lastSecondsKillTime=f.TimeManager.totalTime;var i=e.Attr.getAttr(b.EAttrID.EA_HP);o(h.PropID.seconds_kill,i)}}},e.prototype.CheckPropFatalInjury=function(t,e,o){if(this.actor&&e.guid==this._actorGuid){var n=this.GetPropInfo(h.PropID.fatal_injury);if(null!=n){var i=a.DataManager.TablePropConfigDatasById[n.propid];if(i&&(100*Math.random()<=3+2*(n.level-1)||f.TimeManager.totalTime-this._lastFatalInjuryTime>12)){this._lastFatalInjuryTime=f.TimeManager.totalTime;var r=this._ActorAttr.getAttr(b.EAttrID.EA_ATK);o(h.PropID.fatal_injury,Math.floor(r*i.value*n.level))}}}},e.prototype.CheckPropBloodlust=function(t,e,o){if(this.actor&&e.guid==this._actorGuid){var n=this.GetPropInfo(h.PropID.bloodlust);if(null!=n){var i=a.DataManager.TablePropConfigDatasById[n.propid];if(i){var r=this._ActorAttr.getAttr(b.EAttrID.EA_HP),c=this._ActorAttr.getAttr(b.EAttrID.EA_HP_MAX);if(r<c){var s=(1-r/c)*i.value*n.level;o&&o(h.PropID.bloodlust,Math.floor(t*s))}}}}},e.prototype.CheckPropSpreadDbris=function(t){if(this.actor){var e=this.GetPropInfo(h.PropID.spread_debris);if(null!=e){var o=a.DataManager.TablePropConfigDatasById[e.propid];if(o&&t.xData.type==b.EObjectType.ot_monster&&this.actor.xData.type==b.EObjectType.ot_main_weapon){var n=this.actor.Get(g.ActorAttack);if(n){var i=this._ActorAttr.getAttr(b.EAttrID.EA_ATK),r=Math.floor(i*o.value*e.level),c=this.actor.Attr.clone();c.setAttr(b.EAttrID.EA_ATK,r);var s={type:b.AttackType.AT_CIRCLE,CustomAttr:c,AttackInterval:.1,AttackCount:1,BulletCount:8,BulletID:29,ExtendAttack:!0,TargetGuid:this.actor.guid,TargetPos:this.actor.Pos2D,CustomLaunchPoint:[t.Pos2D]};n.AddAttack(s,null)}}}}},e.prototype.CheckPropResurgence=function(t,e){if(this.actor&&t.guid==this._actorGuid){var o=this.GetPropInfo(h.PropID.resurgence);if(null!=o){var n=a.DataManager.TablePropConfigDatasById[o.propid];n&&(e&&e(h.PropID.resurgence,!0,n.hp_recover*o.level),this.actor.xData.type==b.EObjectType.ot_main_weapon&&y.WorldManager.Instance.UIUsePropHint.Show(h.PropID.resurgence,null),this.RemoveProp(h.PropID.resurgence))}}},e.prototype.CheckPropBurnEnemy=function(t,e,o){if(this.actor&&t.guid==this._actorGuid&&e.xData.type!=b.EObjectType.ot_barrier){var n=this.GetPropInfo(h.PropID.burn_enemy);if(null!=n){var i=a.DataManager.TablePropConfigDatasById[n.propid];if(i&&o){var r=this._ActorAttr.getAttr(b.EAttrID.EA_ATK),c=Math.floor(r*i.last_harm*n.level);o(n.propid,i.last_harm_time,c)}}}},e}(t("./IActorComponent").IActorComponent);o.ActorProp=A,cc._RF.pop()},{"../../base/App":"App","../../config/DataManager":"DataManager","../../global/enums":"enums","../../module/SoundManage":"SoundManage","../../utils/StrTools":"StrTools","../GameManager":"GameManager","../TimeManager":"TimeManager","../WorldManager":"WorldManager","../buff/BuffDefine":"BuffDefine","../prompt_lable/PromptDefint":"PromptDefint","../prop/PropAttr":"PropAttr","../prop/PropDefine":"PropDefine","./ActorAttack":"ActorAttack","./ActorBuff":"ActorBuff","./ActorDefine":"ActorDefine","./ActorEffect":"ActorEffect","./IActorComponent":"IActorComponent"}],ActorRotation:[function(t,e,o){"use strict";cc._RF.push(e,"4d0f6u2u/dPF4VZMMTjIsW6","ActorRotation");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ActorRotation=void 0;var r=t("../TimeManager"),a=t("../WorldManager"),c=t("./ActorDefine"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._actor=null,e._rotation=c.RotationState.RS_INVALID,e._angleSpeed=60,e._targetGuid=0,e._traceTime=-1,e}return i(e,t),e.prototype.Init=function(t){this._actor=t},e.prototype.Execute=function(){if(this._rotation!=c.RotationState.RS_INVALID&&!this._actor.IsDead()){var t=r.TimeManager.deltaTime;-1!=this._traceTime&&(this._traceTime-=t,this._traceTime<=0&&this.Reset()),this._rotation==c.RotationState.RS_FREEDOM&&this.RotationFreedom(t),this._rotation==c.RotationState.RS_TARGET&&this.RotationTarget(t)}},e.prototype.Release=function(){this._actor=null,this._rotation=c.RotationState.RS_INVALID,this._angleSpeed=60,this._targetGuid=0,this._traceTime=-1},e.prototype.Reset=function(){this._traceTime=-1,this._rotation=c.RotationState.RS_INVALID},e.prototype.AddFreedom=function(){this._rotation=c.RotationState.RS_FREEDOM},e.prototype.AddTarget=function(t,e,o){void 0===o&&(o=-1),this._targetGuid=t,this._angleSpeed=e,this._rotation=c.RotationState.RS_TARGET,this._traceTime=null!=o?o:-1},e.prototype.LockedTarget=function(t){var e=a.WorldManager.Instance.GetActor(t);if(null!=e){var o=e.Pos2D.sub(this._actor.Pos2D),n=Math.atan2(o.y,o.x)/Math.PI*180+90;this._actor.node.angle=n,this._rotation=c.RotationState.RS_INVALID}},e.prototype.RotationFreedom=function(t){this._actor.node.angle+=this._angleSpeed*t},e.prototype.RotationTarget=function(){var t=a.WorldManager.Instance.GetActor(this._targetGuid);if(null!=t){var e=t.Pos2D.sub(this._actor.Pos2D),o=Math.atan2(e.y,e.x)/Math.PI*180+90,n=this._actor.node.angle;o>180&&(o=-(180-(o-180))),n>180&&(n=-(180-(n-180)));var i=0;o>0&&n>0?n<o?i=o-n:n>o&&(i=180-n+180+o):o<0&&n<0?n>o?i=Math.abs(n)+180+(180-Math.abs(o)):n<o&&(i=Math.abs(n)-Math.abs(o)):n>0?i=180-n+(180-Math.abs(o)):o>0&&(i=Math.abs(n)+o);var r=0;o>0&&n>0?n<o?r=n+180+(180-o):n>o&&(r=n-o):o<0&&n<0?n>o?r=Math.abs(o)-Math.abs(n):n<o&&(r=180-Math.abs(n)+180+Math.abs(o)):n<0?r=180-Math.abs(n)+(180-o):o<0&&(r=n+Math.abs(o));var c=this._angleSpeed;r<=i?(c=Math.min(c,r),this._actor.node.angle-=c):(c=Math.min(c,i),this._actor.node.angle+=c)}},e}(t("./IActorComponent").IActorComponent);o.ActorRotation=s,cc._RF.pop()},{"../TimeManager":"TimeManager","../WorldManager":"WorldManager","./ActorDefine":"ActorDefine","./IActorComponent":"IActorComponent"}],Actor:[function(t,e,o){"use strict";cc._RF.push(e,"2e5c4Nvc5NMepPkSsxU3LNa","Actor"),Object.defineProperty(o,"__esModule",{value:!0}),o.Actor=void 0;var n=t("../../base/App"),i=t("../../config/DataManager"),r=t("../../global/enums"),a=t("../../module/NodePool"),c=t("../../module/ObjectPool"),s=t("../../utils/ParseUtils"),_=t("../buff/BuffDefine"),l=t("../cmd/CmdDefine"),p=t("../GameManager"),u=t("../GuidManager"),d=t("../prompt_lable/PromptDefint"),h=t("../prop/PropDefine"),f=t("../TimeManager"),y=t("../WorldManager"),g=t("./ActorAI"),v=t("./ActorAttr"),b=t("./ActorBuff"),m=t("./ActorDefine"),A=t("./ActorEffect"),x=t("./ActorNav"),C=t("./ActorProp"),w=t("./ActorRotation"),T=function(){function t(){this.node=null,this.name="",this.guid=0,this.xData=null,this.dbid=0,this.ActorName="",this.camp=0,this.ADReviveCount=0,this.ModelScale=1,this._pos=cc.v3(),this.Attr=null,this.Components=[],this._fsm=m.FSMState.FSM_EMPTY,this.IsNavigate=!1,this.BulletNodeList=[],this.EffectNode=null,this.HUDNode=null,this.TailNodeList=[],this.textHP=null,this.CollisionType=m.CollisionType.CT_CIRCLE,this.OnDeadFinished=null,this._OpenCollision=!0,this._IsActive=!1,this._TargetGuid=0,this._TargetPos=cc.v2(),this._BeLockedCount=0,this._DeadReason=m.EDeadReason.Invalid,this._splitTargetID=0,this._hitEffectNodes=[],this._lastLeechTime=0}return Object.defineProperty(t.prototype,"Width",{get:function(){return this.node.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Height",{get:function(){return this.node.height},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Pos",{get:function(){return cc.v3(this.X,this.Y,this.Z)},set:function(t){this._pos=t,this.node.x=t.x,this.node.y=t.y,this.node.z=t.z},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Pos2D",{get:function(){return cc.v2(this.X,this.Y)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"X",{get:function(){return this._pos.x},set:function(t){this._pos.x=t,this.node.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Y",{get:function(){return this._pos.y},set:function(t){this._pos.y=t,this.node.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Z",{get:function(){return this._pos.z},set:function(t){this._pos.z=t,this.node.z=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"FSM",{get:function(){return this._fsm},set:function(t){this._fsm=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"OpenCollision",{get:function(){return this._OpenCollision},set:function(t){this._OpenCollision=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"IsActive",{get:function(){return this._IsActive},set:function(t){this._IsActive=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"TargetGuid",{get:function(){return this._TargetGuid},set:function(t){this._TargetGuid=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"TargetPos",{get:function(){return this._TargetPos},set:function(t){this._TargetPos=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"BeLockedCount",{get:function(){return this._BeLockedCount},set:function(t){this._BeLockedCount=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DeadReason",{get:function(){return this._DeadReason},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isSplit",{get:function(){return 0!=this._splitTargetID},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"splitTargetID",{get:function(){return this._splitTargetID},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hitEffectNodes",{get:function(){return this._hitEffectNodes},enumerable:!1,configurable:!0}),t.prototype.init=function(t,e){var o;this.node=e,this.guid=u.GuidManager.Guid,this.xData=t,this.dbid=t.dbid,this.camp=t.camp,this.ActorName=t.name,this.CollisionType=t.CollisionType;var n=i.DataManager.TableMonsterConfigDatasById[t.PropertyID];n&&(this._splitTargetID=n.split_id),this.scaleModel(),this.X=t.x,this.Y=t.y,this.Z=t.z,this.node.zIndex=t.zIndex,51==this.xData.dbid&&(this.node.zIndex=r.ZIndex.ZI_BARRIER_FLOOR),this.EffectNode=this.node.getChildByName("node_effect"),this.HUDNode=this.node.getChildByName("node_HUD"),this.textHP=null===(o=this.node.getChildByName("text_hp"))||void 0===o?void 0:o.getComponent(cc.Label),this.node.children.forEach(function(t){t.zIndex=10});var a=this.node.getChildByName("sp_texture");if(a||(a=this.node.getChildByName("sp_texture_1")),a)for(var c=0;c<3;c++){var s=this.node.getChildByName("sp_texture_effect_"+c);s||((s=cc.instantiate(a)).name="sp_texture_effect_"+c,s.parent=this.node),cc.Tween.stopAllByTarget(s),s.scale=1,s.active=!1,s.opacity=255,s.zIndex=0,s.__PlayEffect__=!1,this._hitEffectNodes.push(s)}var _=1,l=this.node.getChildByName("node_launch");for(l&&this.BulletNodeList.push(l),_=1;p=this.node.getChildByName("node_launch_"+_);)_+=1,this.BulletNodeList.push(p);for(_=1;;){var p;if(!(p=this.node.getChildByName("node_tail_"+_)))break;_+=1,p.active=!1,this.TailNodeList.push(p)}this.Attr=new v.ActorAttr,this.Attr.Init(this,t),this.OnUpdateHP()},t.prototype.scaleModel=function(){var t=1,e=i.DataManager.TablePlaneConfigDatasById[this.dbid];e&&(t=e.scale_model),this.ModelScale=t,this.node.scale=t},t.prototype.Execute=function(){for(var t=0;t<this.Components.length;t++)this.Components[t]instanceof g.ActorAI||this.Components[t].Execute();this.textHP&&(this.textHP.string=this.Attr.getAttr(m.EAttrID.EA_HP)+""),this.node&&(this.node.active=!this.IsDead()),this.FSM==m.FSMState.FSM_DEAD&&this.DoDied()},t.prototype.Release=function(){for(var t=0;t<this.Components.length;t++){var e=this.Components[t];e.Release(),c.ObjectPool.put(e)}this.Components=[],a.NodePool.put(this.node),this.node=null,this._hitEffectNodes.forEach(function(t){t.scale=1,cc.Tween.stopAllByTarget(t)}),this._hitEffectNodes=[],this.BulletNodeList=[],this.TailNodeList=[],this.name="",this.guid=0,this.xData=null,this.dbid=0,this.ActorName="",this.camp=0,this.ADReviveCount=0,this.ModelScale=1,this._pos=cc.v3(),this.Attr=null,this.Components=[],this._fsm=m.FSMState.FSM_EMPTY,this.IsNavigate=!1,this.BulletNodeList=[],this.EffectNode=null,this.HUDNode=null,this.TailNodeList=[],this.textHP=null,this.CollisionType=m.CollisionType.CT_CIRCLE,this.OnDeadFinished=null,this._OpenCollision=!0,this._IsActive=!1,this._TargetGuid=0,this._TargetPos=cc.v2(),this._BeLockedCount=0,this._DeadReason=m.EDeadReason.Invalid,this._splitTargetID=0,c.ObjectPool.put(this)},t.prototype.Add=function(t){for(var e=0;e<this.Components.length;e++)if(this.Components[e]instanceof t)return;var o=c.ObjectPool.get(t);return o.Init(this),this.Components.push(o),o},t.prototype.Get=function(t){for(var e,o=0;o<this.Components.length;o++){var n=this.Components[o];if(n instanceof t)return this.Components[o];if((null==n?void 0:n.__proto__)instanceof t)return this.Components[o];if((null===(e=null==n?void 0:n.__proto__)||void 0===e?void 0:e.__proto__)instanceof t)return this.Components[o]}return null},t.prototype.Remove=function(t){console.log("Actor Remove:"+t);for(var e=0;e<this.Components.length;e++)if(this.Components[e]instanceof t){this.Components.splice(e,1);break}},t.prototype.IsDead=function(){return this.FSM==m.FSMState.FSM_DEAD||this.FSM==m.FSMState.FSM_AWAIT_REVIVE},t.prototype.IsMove=function(){return this.FSM==m.FSMState.FSM_MOVE},t.prototype.IsIdle=function(){return this.FSM==m.FSMState.FSM_IDLE},t.prototype.CanMove=function(){return l.CmdResp.TYPE_SUCCESS},t.prototype.DoNavigateToGoal=function(t){var e=this;if(this.CanMove()==l.CmdResp.TYPE_SUCCESS){var o=this.Get(x.ActorNav);if(o){var n=s.ParseUtils.copy(t),i=n.rechCallBack;n.rechCallBack=function(){e.IsNavigate=!1,i&&i()},this.IsNavigate=!0,o.SetGoal(n)}}},t.prototype.DoRotation=function(t,e,o,n){var i=this.Get(w.ActorRotation);null!=i&&(t==m.RotationState.RS_INVALID&&i.Reset(),t==m.RotationState.RS_FREEDOM&&i.AddFreedom(),t==m.RotationState.RS_TARGET&&i.AddTarget(e,o,n))},t.prototype.LockedTarget=function(t,e){void 0===e&&(e=!0);var o=y.WorldManager.Instance.GetActor(t);if(null!=o){this.TargetGuid=o.guid,this.TargetPos=o.Pos2D;var n=this.Get(w.ActorRotation);null!=n&&(e?n.LockedTarget(t):n.Reset())}},t.prototype.OnPropCollision=function(t){this.Get(C.ActorProp).UseProp(t.PropID,t.XData.ReserveValue)},t.prototype.OnActorCollision=function(t){this.DoCalculationDamage(t.Attr,!1)},t.prototype.OnBulletCollision=function(t){var e=this,o=t.XData.attr,i=t.XData.extendAttack;this.DoCalculationDamage(o,null!=i&&i);var r=this.Get(A.ActorEffect);r&&r.AddBeHitEffect(),n.App.notice.trigger(m.GTEventID.ACTOR_ON_DAMAGE_TARGET,o.actorGuid,this.guid,function(t,o,n){if(t==h.PropID.burn_enemy){var i=e.Get(b.ActorBuff);if(i){var r={ID:_.BuffID.LAST_HARM,ActorGuid:e.guid,TimeDuration:o,ChangeValue1:n};i.AddDynamicBuff(r)}}})},t.prototype.DoCalculationDamage=function(t,e){if(this.xData.type!=m.EObjectType.ot_barrier&&this.xData.type!=m.EObjectType.ot_deputy_weapon){var o=y.WorldManager.Instance.GetActor(t.actorGuid),i=t.getAttr(m.EAttrID.EA_ATK),r=t.getAttr(m.EAttrID.EA_CRIT_CHANCE),a=t.getAttr(m.EAttrID.EA_CRIT_HURT),c=1*Math.random()<=r,s=Math.floor(c?i+i*a:i),_=d.PromptType.pt_default;c&&(_=d.PromptType.pt_crit);var l=0;n.App.notice.trigger(m.GTEventID.ACTOR_ON_DAMAGE,s,t.actorGuid,this.guid,function(t){l+=t},function(t,e){l+=e,t==h.PropID.seconds_kill&&(_=d.PromptType.pt_seconds_kill),t==h.PropID.fatal_injury&&_!=d.PromptType.pt_seconds_kill&&(_=d.PromptType.pt_fatal_injury)}),e&&(l=0);var p=-Math.max(0,s+l);this.DoHPIncrease(p,_),o&&o.xData.type==m.EObjectType.ot_main_weapon&&o.DoLeech()}},t.prototype.DoLeech=function(){var t=this.Attr.getAttr(m.EAttrID.EA_LEECH_CHANCE);if(2*Math.random()<=t||f.TimeManager.totalTime-this._lastLeechTime>=20){this._lastLeechTime=f.TimeManager.totalTime;var e=this.Attr.getAttr(m.EAttrID.EA_LEECH_HURT),o=this.Attr.getAttr(m.EAttrID.EA_HP_MAX),n=Math.floor(o*e);this.DoHPIncrease(n,d.PromptType.pt_default,!0)}},t.prototype.DoHPRecover=function(t){var e=this.Attr.getAttr(m.EAttrID.EA_HP_MAX),o=Math.floor(e*t);this.DoHPIncrease(o,d.PromptType.pt_default)},t.prototype.DoHPIncrease=function(t,e,o){void 0===o&&(o=!1);var n=this.Attr.getAttr(m.EAttrID.EA_HP),i=this.Attr.getAttr(m.EAttrID.EA_HP_MAX);this.Attr.setAttr(m.EAttrID.EA_HP,Math.min(i,Math.max(0,n+t))),n=this.Attr.getAttr(m.EAttrID.EA_HP),this.OnUpdateHP(),n<=0&&this.DoDie(m.EDeadReason.Normal),y.WorldManager.Instance.PromptLable.AddNumber(this,t,e),t>0?this.Get(A.ActorEffect).AddRecoverEffect():t<0&&this.Get(A.ActorEffect).AddInjuredEffect()},t.prototype.OnUpdateHP=function(){if(this.xData.type==m.EObjectType.ot_boss){var t=this.Attr.getAttr(m.EAttrID.EA_HP);if(t<=0)y.WorldManager.Instance.UITop.HideBossHP();else{var e=this.Attr.getAttr(m.EAttrID.EA_HP_MAX);y.WorldManager.Instance.UITop.ShowBossHP(t,e)}}},t.prototype.StopNavigate=function(){this.IsNavigate&&(this.Get(x.ActorNav).Stop(),this.IsNavigate=!1)},t.prototype.DoRevive=function(t){var e=this.Attr.getAttr(m.EAttrID.EA_HP_MAX);this.Attr.setAttr(m.EAttrID.EA_HP,Math.floor(e*t)),this.FSM=m.FSMState.FSM_EMPTY;var o=this.Get(b.ActorBuff);o&&o.AddBuff(_.BuffID.REVIVE_INVINCIBLE),n.App.notice.trigger(m.GTEventID.ACTOR_RESURGENCE,this)},t.prototype.DoDie=function(t){this._DeadReason=t,this.FSM=m.FSMState.FSM_DEAD},t.prototype.DoDied=function(){var t=this;if(this.FSM==m.FSMState.FSM_DEAD)if(this.FSM=m.FSMState.FSM_AWAIT_REVIVE,this.isSplit&&this.DoSplit(),this.StopNavigate(),this.xData.isReward&&this.DeadReason==m.EDeadReason.Kill)this.DoClear();else{var e=!1,o=0;n.App.notice.trigger(m.GTEventID.ACTOR_DYING,this,function(t,n,i){t==h.PropID.resurgence?(e=n,o=i):h.PropID.spread_debris}),this.Get(A.ActorEffect).AddBlastEffect(function(){e?t.DoRevive(o):t.xData.type==m.EObjectType.ot_main_weapon&&0==t.ADReviveCount?y.WorldManager.Instance.UIHeroRevive.Show(function(e){e?(t.ADReviveCount+=1,t.DoRevive(1)):t.DoClear()}):t.DoClear()})}},t.prototype.DoClear=function(){var t;null===(t=this.Get(A.ActorEffect))||void 0===t||t.Release(),this.OnDeadFinished?this.OnDeadFinished():this.OnDeadFinishedDef()},t.prototype.DoSplit=function(){if(i.DataManager.TablePlaneConfigDatasById[this.splitTargetID]){var t=p.default.Instance.Player2.currentLogic;if(t){var e=this.Get(x.ActorNav);if(e&&e.isNav){var o=e.destination;if(o)for(var n=this.Pos2D,r=0;r<2;r++)t.CreateMonster(this.splitTargetID,this.xData.level,[cc.v2(n.x,n.y),cc.v2(o)]),n.x+=20,n.y+=20}}}},t.prototype.OnDeadFinishedDef=function(){n.App.notice.trigger(m.GTEventID.ACTOR_DEAD,this),y.WorldManager.Instance.DelActor(this.guid)},t.prototype.GetShip=function(t){return 0==t?m.EShip.ES_NEUTRAL:this.camp==t?m.EShip.ES_FRIEND:m.EShip.ES_ENEMY},t.prototype.GetEffectPos=function(t){var e=cc.v2();if(this.EffectNode&&(e=this.EffectNode.getPosition()),t){var o=this.node.convertToWorldSpaceAR(e);return y.WorldManager.Instance.node.convertToNodeSpaceAR(o)}return e},t.prototype.GetLaunchPos=function(t){var e=[];return t?this.BulletNodeList.forEach(function(t){var o=t.convertToWorldSpaceAR(cc.v2());o=y.WorldManager.Instance.node.convertToNodeSpaceAR(o),e.push(o)}):this.BulletNodeList.forEach(function(t){e.push(t.getPosition())}),e},t.prototype.GetHUDPos=function(t){var e=cc.v2();if(this.HUDNode&&(e=this.HUDNode.getPosition()),t){var o=this.node.convertToWorldSpaceAR(e);return y.WorldManager.Instance.node.convertToNodeSpaceAR(o)}return e},t.prototype.GetHPPercent=function(){var t=this.Attr.getAttr(m.EAttrID.EA_HP);return(t=Math.max(0,t))/this.Attr.getAttr(m.EAttrID.EA_HP_MAX)},t.prototype.ShowTail=function(t){this.TailNodeList.forEach(function(e){e.active=t})},t.prototype.GetColor=function(){var t=i.DataManager.TablePlaneConfigDatasById[this.xData.dbid];if(t.main_color){var e=t.main_color;return cc.color().fromHEX(e)}return cc.color(255,255,255)},t}();o.Actor=T,cc._RF.pop()},{"../../base/App":"App","../../config/DataManager":"DataManager","../../global/enums":"enums","../../module/NodePool":"NodePool","../../module/ObjectPool":"ObjectPool","../../utils/ParseUtils":"ParseUtils","../GameManager":"GameManager","../GuidManager":"GuidManager","../TimeManager":"TimeManager","../WorldManager":"WorldManager","../buff/BuffDefine":"BuffDefine","../cmd/CmdDefine":"CmdDefine","../prompt_lable/PromptDefint":"PromptDefint","../prop/PropDefine":"PropDefine","./ActorAI":"ActorAI","./ActorAttr":"ActorAttr","./ActorBuff":"ActorBuff","./ActorDefine":"ActorDefine","./ActorEffect":"ActorEffect","./ActorNav":"ActorNav","./ActorProp":"ActorProp","./ActorRotation":"ActorRotation"}],AddYsNode:[function(t,e,o){"use strict";cc._RF.push(e,"aab43nK13RBW6cKFmRoWBcR","AddYsNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./HelpMgr"),c=t("./YSNode"),s=t("./YSNodeSy"),_=cc._decorator,l=_.ccclass,p=_.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pre=null,e.m_type=0,e.m_ovYC=200,e.m_adNode=null,e}return i(e,t),e.prototype.onEnable=function(){var t=this.m_adNode;t||(t=cc.instantiate(this.pre),this.m_adNode=t,this.node.addChild(t)),t.opacity=0;var e=null;switch(console.log("AddYsNode",this.m_type,this.m_ovYC),this.m_type){case 1:e=t.getComponent(s.default);break;case 2:case 0:e=t.getComponent(c.default),e.setShowType(this.m_type)}e&&setTimeout(function(){console.log("AddYsNode  show"),t.opacity=255,e.showOver()},this.m_ovYC)},e.count=0,r([p(cc.Prefab)],e.prototype,"pre",void 0),r([p(cc.Integer)],e.prototype,"m_type",void 0),r([p(cc.Integer)],e.prototype,"m_ovYC",void 0),r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"./HelpMgr":"HelpMgr","./YSNode":"YSNode","./YSNodeSy":"YSNodeSy"}],AimingTarget:[function(t,e,o){"use strict";cc._RF.push(e,"940a8en/K9IHoXhVIFi33qf","AimingTarget");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("bt.ALL"),c=t("../../../config/DataManager"),s=t("../../actors/ActorAI"),_=t("../../WorldManager"),l=cc._decorator,p=l.ccclass,u=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._ActorGuid=0,e._Action=null,e}return i(e,t),e.prototype.onEnter=function(){var t=this.blackboard.read("actor"),e=_.WorldManager.Instance.GetActor(t);if(null==e||e.IsDead())return!1;var o=c.DataManager.TableActionConfigDatasById[e.xData.ActionID];return null!=o&&(this._ActorGuid=t,null==this._Action&&null!=o.aiming_target&&(this._Action=s.ActorAI.CreateAction(o.aiming_target),null==this._Action&&console.error("ERROR: this._Action = null, config.aiming_target = "+o.aiming_target)),!this._Action||this._Action.Enter(e))},e.prototype.onUpdate=function(){var t=_.WorldManager.Instance.GetActor(this._ActorGuid);return null==t||!t.IsActive||t.IsDead()?a.Status.FAILURE:null==this._Action?a.Status.SUCCESS:this._Action.Update()},e.prototype.onExit=function(){this._Action&&this._Action.Exit()},r([a.btclass("AimingTarget ","CustomAction",{description:"瞄准目标"}),p],e)}(a.ActionTask));o.default=u,cc._RF.pop()},{"../../../config/DataManager":"DataManager","../../WorldManager":"WorldManager","../../actors/ActorAI":"ActorAI","bt.ALL":"bt.ALL"}],App:[function(t,e,o){"use strict";cc._RF.push(e,"0ee1dgWn7tKH7Fgbc2P6E8m","App"),Object.defineProperty(o,"__esModule",{value:!0}),o.App=void 0;var n=t("../utils/Messenger"),i=t("./manager/ClockManager"),r=function(){function t(){}return Object.defineProperty(t,"timePast",{get:function(){return Date.now()-t.startTime},enumerable:!1,configurable:!0}),Object.defineProperty(t,"nowTime",{get:function(){return Date.now()},enumerable:!1,configurable:!0}),t.timer=i.ClockManager.instance,t.notice=n.Messenger.instance,t.startTime=Date.now(),t}();o.App=r,cc._RF.pop()},{"../utils/Messenger":"Messenger","./manager/ClockManager":"ClockManager"}],AttackTarget:[function(t,e,o){"use strict";cc._RF.push(e,"55fbcfodWhNxKUepGX+o/ha","AttackTarget");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("bt.ALL"),c=t("../../../config/DataManager"),s=t("../../actors/ActorAI"),_=t("../../WorldManager"),l=cc._decorator,p=l.ccclass,u=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._ActorGuid=0,e._Action=null,e}return i(e,t),e.prototype.onEnter=function(){var t=this.blackboard.read("actor"),e=_.WorldManager.Instance.GetActor(t);if(null==e||e.IsDead())return!1;var o=c.DataManager.TableActionConfigDatasById[e.xData.ActionID];return null!=o&&(this._ActorGuid=t,null==this._Action&&null!=o.attack_target&&(this._Action=s.ActorAI.CreateAction(o.attack_target),null==this._Action&&console.error("ERROR: this._Action = null, config.attack_target = "+o.attack_target)),!this._Action||this._Action.Enter(e))},e.prototype.onUpdate=function(){var t=_.WorldManager.Instance.GetActor(this._ActorGuid);return null==t||!t.IsActive||t.IsDead()?a.Status.FAILURE:null==this._Action?a.Status.SUCCESS:this._Action.Update()},e.prototype.onExit=function(){this._Action&&this._Action.Exit()},r([a.btclass("AttackTarget ","CustomAction",{description:"攻击目标"}),p],e)}(a.ActionTask));o.default=u,cc._RF.pop()},{"../../../config/DataManager":"DataManager","../../WorldManager":"WorldManager","../../actors/ActorAI":"ActorAI","bt.ALL":"bt.ALL"}],BackgroundAdapter:[function(t,e,o){"use strict";cc._RF.push(e,"43509StxaBE+ppQlAD9Q8jb","BackgroundAdapter");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){var t=Math.min(cc.view.getCanvasSize().width/this.node.width,cc.view.getCanvasSize().height/this.node.height),e=this.node.width*t,o=this.node.height*t;this.node.scale=Math.max(cc.view.getCanvasSize().width/e,cc.view.getCanvasSize().height/o)},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],BornSystem:[function(t,e,o){"use strict";cc._RF.push(e,"3520590UBFOgpXsT31q1KqR","BornSystem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.BornSystem=void 0;var r=t("../../config/DataManager"),a=t("../../module/NodePool"),c=t("../../module/ObjectPool"),s=t("../actors/Actor"),_=t("./Born_0"),l=t("./Born_1"),p=t("./Born_2"),u=t("./Born_3"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._scripts=[_.Born_0,l.Born_1,p.Born_2,u.Born_3],e}return i(e,t),e.prototype.Init=function(){},e.prototype.Execute=function(){},e.prototype.Release=function(){},e.prototype.SetPos=function(t){t.posList&&t.posList.length>0?t.pos=cc.v3(t.posList[0]):t.pos=cc.v3(0,-(cc.winSize.height/2+300),10)},e.prototype.AddMainWeapon=function(t){this.SetPos(t);var e=this.AddActor(t);return e.IsActive=!0,this.AddScript(e,t.BornScript),e},e.prototype.AddDeputyWeapon=function(t){this.SetPos(t);var e=this.AddActor(t);return e.IsActive=!0,this.AddScript(e,t.BornScript),e},e.prototype.AddSupport=function(t){this.SetPos(t);var e=this.AddActor(t);return e.IsActive=!0,this.AddScript(e,t.BornScript),e},e.prototype.AddBoss=function(t){this.SetPos(t);var e=this.AddActor(t);return e.IsActive=!1,this.AddScript(e,t.BornScript),e},e.prototype.AddMonster=function(t){this.SetPos(t);var e=this.AddActor(t);return e.IsActive=!1,this.AddScript(e,t.BornScript),e},e.prototype.AddBarrier=function(t){this.SetPos(t);var e=this.AddActor(t);return e.IsActive=!1,this.AddScript(e,t.BornScript),e},e.prototype.AddActor=function(t){var e=r.DataManager.TablePlaneConfigDatasById[t.dbid];if(!e)return console.error("ERROR: BuildActor AddActor ballConfig = null"),null;var o=a.NodePool.get(e.resource_path),n=c.ObjectPool.get(s.Actor);return n.init(t,o),n},e.prototype.AddScript=function(t,e){var o=this._scripts[e]||_.Born_0;t.Add(o)},e}(cc.Component);o.BornSystem=d,cc._RF.pop()},{"../../config/DataManager":"DataManager","../../module/NodePool":"NodePool","../../module/ObjectPool":"ObjectPool","../actors/Actor":"Actor","./Born_0":"Born_0","./Born_1":"Born_1","./Born_2":"Born_2","./Born_3":"Born_3"}],Born_0:[function(t,e,o){"use strict";cc._RF.push(e,"cd7e6g0XZNE/58FFlJNXtqS","Born_0");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Born_0=void 0;var r=t("../actors/ActorAttack"),a=t("../actors/ActorBuff"),c=t("../actors/ActorBullet"),s=t("../actors/ActorCollision"),_=t("../actors/ActorCommand"),l=t("../actors/ActorEffect"),p=t("../actors/ActorHUD"),u=t("../actors/ActorNav"),d=t("../actors/ActorProp"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e),e.Add(_.ActorCommand),e.Add(u.ActorNav),e.Add(c.ActorBullet),e.Add(s.ActorCollision),e.Add(l.ActorEffect),e.Add(p.ActorHUD),e.Add(d.ActorProp),e.Add(a.ActorBuff),e.Add(r.ActorAttack)},e.prototype.Execute=function(){},e.prototype.Release=function(){t.prototype.Release.call(this)},e}(t("./IBorn").IBorn);o.Born_0=h,cc._RF.pop()},{"../actors/ActorAttack":"ActorAttack","../actors/ActorBuff":"ActorBuff","../actors/ActorBullet":"ActorBullet","../actors/ActorCollision":"ActorCollision","../actors/ActorCommand":"ActorCommand","../actors/ActorEffect":"ActorEffect","../actors/ActorHUD":"ActorHUD","../actors/ActorNav":"ActorNav","../actors/ActorProp":"ActorProp","./IBorn":"IBorn"}],Born_1:[function(t,e,o){"use strict";cc._RF.push(e,"7dde64ZXA9JcZBxySxJL1F1","Born_1");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Born_1=void 0;var r=t("../actors/ActorAI"),a=t("../actors/ActorAttack"),c=t("../actors/ActorBuff"),s=t("../actors/ActorCollision"),_=t("../actors/ActorCommand"),l=t("../actors/ActorEffect"),p=t("../actors/ActorNav"),u=t("../actors/ActorRotation"),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e),e.Add(_.ActorCommand),e.Add(p.ActorNav),e.Add(r.ActorAI),e.Add(s.ActorCollision),e.Add(l.ActorEffect),e.Add(u.ActorRotation),e.Add(a.ActorAttack),e.Add(c.ActorBuff)},e.prototype.Execute=function(){},e.prototype.Release=function(){t.prototype.Release.call(this)},e}(t("./IBorn").IBorn);o.Born_1=d,cc._RF.pop()},{"../actors/ActorAI":"ActorAI","../actors/ActorAttack":"ActorAttack","../actors/ActorBuff":"ActorBuff","../actors/ActorCollision":"ActorCollision","../actors/ActorCommand":"ActorCommand","../actors/ActorEffect":"ActorEffect","../actors/ActorNav":"ActorNav","../actors/ActorRotation":"ActorRotation","./IBorn":"IBorn"}],Born_2:[function(t,e,o){"use strict";cc._RF.push(e,"c4e5cli015Gkrzgn+Gj+TaM","Born_2");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Born_2=void 0;var r=t("../actors/ActorBullet"),a=t("../actors/ActorEffect"),c=t("../actors/ActorNav"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e),e.Add(c.ActorNav),e.Add(r.ActorBullet),e.Add(a.ActorEffect)},e.prototype.Execute=function(){},e.prototype.Release=function(){t.prototype.Release.call(this)},e}(t("./IBorn").IBorn);o.Born_2=s,cc._RF.pop()},{"../actors/ActorBullet":"ActorBullet","../actors/ActorEffect":"ActorEffect","../actors/ActorNav":"ActorNav","./IBorn":"IBorn"}],Born_3:[function(t,e,o){"use strict";cc._RF.push(e,"28297YIWvtNB4KMb3dqxPas","Born_3");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Born_3=void 0;var r=t("../actors/ActorAI"),a=t("../actors/ActorAttack"),c=t("../actors/ActorBuff"),s=t("../actors/ActorCollision"),_=t("../actors/ActorCommand"),l=t("../actors/ActorEffect"),p=t("../actors/ActorHUD"),u=t("../actors/ActorNav"),d=t("../actors/ActorRotation"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e),e.Add(_.ActorCommand),e.Add(u.ActorNav),e.Add(r.ActorAI),e.Add(s.ActorCollision),e.Add(l.ActorEffect),e.Add(d.ActorRotation),e.Add(a.ActorAttack),e.Add(c.ActorBuff),e.Add(p.ActorHUD)},e.prototype.Execute=function(){},e.prototype.Release=function(){t.prototype.Release.call(this)},e}(t("./IBorn").IBorn);o.Born_3=h,cc._RF.pop()},{"../actors/ActorAI":"ActorAI","../actors/ActorAttack":"ActorAttack","../actors/ActorBuff":"ActorBuff","../actors/ActorCollision":"ActorCollision","../actors/ActorCommand":"ActorCommand","../actors/ActorEffect":"ActorEffect","../actors/ActorHUD":"ActorHUD","../actors/ActorNav":"ActorNav","../actors/ActorRotation":"ActorRotation","./IBorn":"IBorn"}],BtnCkgg:[function(t,e,o){"use strict";cc._RF.push(e,"3c9f2k1AChLyKPWFWUIptNf","BtnCkgg");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BtnCkgg=void 0;var a=t("./HelpMgr"),c=cc._decorator,s=c.ccclass,_=c.property,l=new cc.Color;l=cc.Color.fromHEX(l,"#169BD5");var p=new cc.Color;p=cc.Color.fromHEX(p,"#00CC33");var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.initY=-1.23456,e.m_initY=e.initY,e.m_label=null,e.m_colorNode=null,e.m_time=0,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){},e.prototype.update=function(t){this.m_time+=t,this.m_time>.3&&(this.m_time=0,this.updateFunc())},e.getColor=function(t){switch(t){case 1:return l;case 2:return p}return l},e.prototype.updateFunc=function(){var t=a.default.instance.getSdkList("homepage_ad_button")||[1,1];if(this.m_initY==this.initY&&(this.m_initY=this.node.position.x),t[0]){t[1]?(this.m_colorNode.color=o.getColor(2),this.m_label.string="查看广告"):(this.m_colorNode.color=o.getColor(1),this.m_label.string="查看详情");var e=a.default.instance.get_local_native_data()?this.m_initY:-99998;this.node.x=e}else this.node.x=-99998},r([_(cc.Label)],e.prototype,"m_label",void 0),r([_(cc.Node)],e.prototype,"m_colorNode",void 0),o=r([s],e)}(cc.Component);o.BtnCkgg=u,cc._RF.pop()},{"./HelpMgr":"HelpMgr"}],BtnSound_1:[function(t,e,o){"use strict";cc._RF.push(e,"01b6eWVYJxIr4XxBT1qVlL0","BtnSound_1");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../global/enums"),c=t("../module/SoundManage"),s=cc._decorator,_=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.AddTouchEvent(this.node)},e.prototype.AddTouchEvent=function(t){t.on(cc.Node.EventType.TOUCH_END,this.onEventEnd,this),t.on(cc.Node.EventType.TOUCH_CANCEL,this.onEventCancel,this)},e.prototype.onEventEnd=function(){c.SoundManage.instance.PlaySound(a.GameSound.sound_btn_click)},e.prototype.onEventCancel=function(){},r([_],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../global/enums":"enums","../module/SoundManage":"SoundManage"}],BtnSound_2:[function(t,e,o){"use strict";cc._RF.push(e,"5a50dqA+1RK+qs0KqmGvD0f","BtnSound_2");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../global/enums"),c=t("../module/SoundManage"),s=cc._decorator,_=s.ccclass,l=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){this.AddTouchEvent(this.node)},e.prototype.AddTouchEvent=function(t){t.on(cc.Node.EventType.TOUCH_END,this.onEventEnd,this),t.on(cc.Node.EventType.TOUCH_CANCEL,this.onEventCancel,this)},e.prototype.onEventEnd=function(){c.SoundManage.instance.PlaySound(a.GameSound.sound_receive_award)},e.prototype.onEventCancel=function(){},r([_],e)}(cc.Component));o.default=l,cc._RF.pop()},{"../global/enums":"enums","../module/SoundManage":"SoundManage"}],BtnWin:[function(t,e,o){"use strict";cc._RF.push(e,"08fe5ca+W1DnZ4ke3rgcaZp","BtnWin");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BtnWin=void 0;var a=t("./BtnCkgg"),c=cc._decorator,s=c.ccclass,_=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.updateFunc=function(){},r([s],e)}(a.BtnCkgg));o.BtnWin=_,cc._RF.pop()},{"./BtnCkgg":"BtnCkgg"}],BuffDefine:[function(t,e,o){"use strict";cc._RF.push(e,"df173ervulKm60twl2Zfnfz","BuffDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.BuffID=void 0,function(t){t[t.REVIVE_INVINCIBLE=1]="REVIVE_INVINCIBLE",t[t.LAST_HARM=2]="LAST_HARM",t[t.HP_RESTORE=3]="HP_RESTORE",t[t.SHIELD=4]="SHIELD",t[t.FRENZY=5]="FRENZY"}(o.BuffID||(o.BuffID={})),cc._RF.pop()},{}],Buff_Frenzy:[function(t,e,o){"use strict";cc._RF.push(e,"e95e66XdS1HfoIy4t5a2jBy","Buff_Frenzy");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Buff_Frenzy=void 0;var r=t("../../base/App"),a=t("../../config/DataManager"),c=t("../actors/ActorDefine"),s=t("../actors/ActorProp"),_=t("../prop/PropDefine"),l=t("../TimeManager"),p=t("../WorldManager"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._lastTime=0,e._frenzy=!1,e._frenzyTime=0,e}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e);var o=p.WorldManager.Instance.GetActor(this._xData.ActorGuid);o&&!o.IsDead()?(this._lastTime=l.TimeManager.totalTime-12,r.App.notice.on(c.GTEventID.ACTOR_GET_ATTR,this.OnEventActorGetAttr,this)):this.OnReach()},e.prototype.Execute=function(){if(!this.IsReach()){var t=p.WorldManager.Instance.GetActor(this._xData.ActorGuid);if(t&&!t.IsDead()){if(this._frenzy)return this._frenzyTime-=l.TimeManager.deltaTime,void(this._frenzyTime<=0&&(this._frenzyTime=0,this._frenzy=!1));if(l.TimeManager.totalTime-this._lastTime>=15){this._lastTime=l.TimeManager.totalTime;var e=t.Get(s.ActorProp);if(e){var o=e.GetPropInfo(_.PropID.frenzy);if(o){if(!a.DataManager.TablePropConfigDatasById[o.propid])return;this._frenzy=!0,this._frenzyTime=this._config.time_duration,p.WorldManager.Instance.UIUsePropHint.Show(_.PropID.frenzy,null)}else this.OnReach()}}}}},e.prototype.Release=function(){r.App.notice.off(c.GTEventID.ACTOR_GET_ATTR,this.OnEventActorGetAttr,this),this._lastTime=0,this._frenzy=!1,this._frenzyTime=0},e.prototype.OnEventActorGetAttr=function(t,e,o,n){if(t==c.EAttrID.EA_BULLET_COUNT&&this._frenzy&&o==this.xData.ActorGuid){var i=p.WorldManager.Instance.GetActor(this._xData.ActorGuid);if(i&&!i.IsDead()){var r=i.Get(s.ActorProp);if(r){var l=r.GetPropInfo(_.PropID.frenzy);if(l){var u=a.DataManager.TablePropConfigDatasById[l.propid];if(u){var d=Math.floor(u.value+u.value/2*(l.level-1));n&&n(d)}}}}}},e}(t("./IBuff").IBuff);o.Buff_Frenzy=u,cc._RF.pop()},{"../../base/App":"App","../../config/DataManager":"DataManager","../TimeManager":"TimeManager","../WorldManager":"WorldManager","../actors/ActorDefine":"ActorDefine","../actors/ActorProp":"ActorProp","../prop/PropDefine":"PropDefine","./IBuff":"IBuff"}],Buff_HPRestore:[function(t,e,o){"use strict";cc._RF.push(e,"47ca2NLG0VOrZv3qLr4IZco","Buff_HPRestore");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Buff_HPRestore=void 0;var r=t("../../config/DataManager"),a=t("../actors/ActorDefine"),c=t("../actors/ActorProp"),s=t("../prompt_lable/PromptDefint"),_=t("../prop/PropDefine"),l=t("../TimeManager"),p=t("../WorldManager"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._lastTime=0,e}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e);var o=p.WorldManager.Instance.GetActor(this._xData.ActorGuid);o&&!o.IsDead()||this.OnReach()},e.prototype.Execute=function(){if(!this.IsReach()){var t=p.WorldManager.Instance.GetActor(this._xData.ActorGuid);if(t&&!t.IsDead()&&l.TimeManager.totalTime-this._lastTime>=15){this._lastTime=l.TimeManager.totalTime;var e=t.Get(c.ActorProp);if(e){var o=e.GetPropInfo(_.PropID.hp_restore);if(o){var n=r.DataManager.TablePropConfigDatasById[o.propid];if(!n)return;var i=t.Attr.getAttr(a.EAttrID.EA_HP_MAX),u=Math.floor(i*n.value*o.level);t.DoHPIncrease(u,s.PromptType.pt_crit,!1),p.WorldManager.Instance.UIUsePropHint.Show(_.PropID.hp_restore,null)}else this.OnReach()}}}},e.prototype.Release=function(){this._lastTime=0},e}(t("./IBuff").IBuff);o.Buff_HPRestore=u,cc._RF.pop()},{"../../config/DataManager":"DataManager","../TimeManager":"TimeManager","../WorldManager":"WorldManager","../actors/ActorDefine":"ActorDefine","../actors/ActorProp":"ActorProp","../prompt_lable/PromptDefint":"PromptDefint","../prop/PropDefine":"PropDefine","./IBuff":"IBuff"}],Buff_LastHarm:[function(t,e,o){"use strict";cc._RF.push(e,"cb3eeSL4g1A4ZcbkCHAQNS1","Buff_LastHarm");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Buff_LastHarm=void 0;var r=t("../prompt_lable/PromptDefint"),a=t("../TimeManager"),c=t("../WorldManager"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._time=0,e._last_harm=0,e._lastTime=0,e}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e);var o=c.WorldManager.Instance.GetActor(this._xData.ActorGuid);o&&!o.IsDead()&&null!=e.TimeDuration&&null!=e.ChangeValue1?(this._time=e.TimeDuration,this._last_harm=e.ChangeValue1):this.OnReach()},e.prototype.Execute=function(){if(!this.IsReach()){var t=c.WorldManager.Instance.GetActor(this._xData.ActorGuid);if(t&&!t.IsDead()){a.TimeManager.totalTime-this._lastTime>=.26&&(this._lastTime=a.TimeManager.totalTime,t.DoHPIncrease(-this._last_harm,r.PromptType.pt_crit,!1));var e=a.TimeManager.deltaTime;this._time-=e,this._time<=0&&this.OnReach()}}},e.prototype.Release=function(){this._time=0,this._last_harm=0,this._lastTime=0},e}(t("./IBuff").IBuff);o.Buff_LastHarm=s,cc._RF.pop()},{"../TimeManager":"TimeManager","../WorldManager":"WorldManager","../prompt_lable/PromptDefint":"PromptDefint","./IBuff":"IBuff"}],Buff_ReviveInvincible:[function(t,e,o){"use strict";cc._RF.push(e,"7eae7SVGkpCH4aKYhUxbMTQ","Buff_ReviveInvincible");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Buff_ReviveInvincible=void 0;var r=t("../../base/App"),a=t("../actors/ActorDefine"),c=t("../actors/ActorEffect"),s=t("../TimeManager"),_=t("../WorldManager"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._time=0,e._effectGuid=0,e._callback=null,e._damage=0,e}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e);var o=_.WorldManager.Instance.GetActor(this._xData.ActorGuid);if(o&&!o.IsDead()){var n=o.Get(c.ActorEffect);this._effectGuid=n.AddHaloEffect(),this._time=this._config.time_duration,r.App.notice.on(a.GTEventID.ACTOR_ON_DAMAGE,this.onDamage,this)}else this.OnReach()},e.prototype.Execute=function(){if(!this.IsReach()){var t=_.WorldManager.Instance.GetActor(this._xData.ActorGuid);if(t&&!t.IsDead()){var e=s.TimeManager.deltaTime;this._time-=e,this._time<=0&&this.OnReach()}else this.OnReach()}},e.prototype.Release=function(){_.WorldManager.Instance.EffectSystem.RemoveEffect(this._effectGuid,!1),r.App.notice.off(a.GTEventID.ACTOR_ON_DAMAGE,this.onDamage,this),this._time=0,this._effectGuid=0,this._callback=null,this._damage=0},e.prototype.onDamage=function(t,e,o,n){var i=_.WorldManager.Instance.GetActor(e),r=_.WorldManager.Instance.GetActor(o);i&&r&&this._xData.ActorGuid==r.guid&&(this._callback=n,this._damage=t,this.DoEvent())},e.prototype.DoEvent=function(){this._callback&&this._callback(-this._damage)},e}(t("./IBuff").IBuff);o.Buff_ReviveInvincible=l,cc._RF.pop()},{"../../base/App":"App","../TimeManager":"TimeManager","../WorldManager":"WorldManager","../actors/ActorDefine":"ActorDefine","../actors/ActorEffect":"ActorEffect","./IBuff":"IBuff"}],Buff_Shield:[function(t,e,o){"use strict";cc._RF.push(e,"33cf792uXZAna3RgZOUniVA","Buff_Shield");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Buff_Shield=void 0;var r=t("../../base/App"),a=t("../../config/DataManager"),c=t("../actors/ActorDefine"),s=t("../actors/ActorEffect"),_=t("../actors/ActorProp"),l=t("../prop/PropDefine"),p=t("../TimeManager"),u=t("../WorldManager"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._lastTime=0,e._showShield=!1,e._showTime=0,e._effectGuid=0,e}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e);var o=u.WorldManager.Instance.GetActor(this._xData.ActorGuid);o&&!o.IsDead()?r.App.notice.on(c.GTEventID.ACTOR_ON_DAMAGE,this.onDamage,this):this.OnReach()},e.prototype.Execute=function(){if(!this.IsReach()){var t=u.WorldManager.Instance.GetActor(this._xData.ActorGuid);if(t&&!t.IsDead()){if(this._showShield)return this._showTime-=p.TimeManager.deltaTime,void(this._showTime<=0&&(this._showShield=!1,this._lastTime=p.TimeManager.totalTime,u.WorldManager.Instance.EffectSystem.RemoveEffect(this._effectGuid,!1)));if(p.TimeManager.totalTime-this._lastTime>=15){this._lastTime=p.TimeManager.totalTime;var e=t.Get(_.ActorProp);if(e){var o=e.GetPropInfo(l.PropID.shield);if(o){var n=a.DataManager.TablePropConfigDatasById[o.propid];if(!n)return;this._showShield=!0,this._showTime=n.value*o.level;var i=t.Get(s.ActorEffect);this._effectGuid=i.AddHaloEffect(),u.WorldManager.Instance.UIUsePropHint.Show(l.PropID.shield,null)}else this.OnReach()}}}}},e.prototype.Release=function(){r.App.notice.off(c.GTEventID.ACTOR_ON_DAMAGE,this.onDamage,this),u.WorldManager.Instance.EffectSystem.RemoveEffect(this._effectGuid,!1),this._lastTime=0,this._showShield=!1,this._showTime=0,this._effectGuid=0},e.prototype.onDamage=function(t,e,o,n){var i=u.WorldManager.Instance.GetActor(e),r=u.WorldManager.Instance.GetActor(o);i&&r&&this._xData.ActorGuid==r.guid&&0!=this._showShield&&n&&n(-t)},e}(t("./IBuff").IBuff);o.Buff_Shield=d,cc._RF.pop()},{"../../base/App":"App","../../config/DataManager":"DataManager","../TimeManager":"TimeManager","../WorldManager":"WorldManager","../actors/ActorDefine":"ActorDefine","../actors/ActorEffect":"ActorEffect","../actors/ActorProp":"ActorProp","../prop/PropDefine":"PropDefine","./IBuff":"IBuff"}],Bullet_Gatling:[function(t,e,o){"use strict";cc._RF.push(e,"076535mZcRFWLORulLmsFob","Bullet_Gatling");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Bullet_Gatling=void 0;var r=t("../actors/ActorDefine"),a=t("../actors/ActorEffect"),c=t("../TimeManager"),s=t("../WorldManager"),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e)},e.prototype.Execute=function(){if(!(this.isPause||this._actor.IsDead()||this.isPauseCreate)){var t=c.TimeManager.totalTime;t-this._lastAtkTime<this.GetInterval()||(this.PlaySound(),this.CreateBullets(),this._lastAtkTime=t)}},e.prototype.Release=function(){t.prototype.Release.call(this)},e.prototype.CreateBullets=function(){for(var t=this._actor.GetLaunchPos(!0)[0],e=this._actor.Attr.getAttr(r.EAttrID.EA_BULLET_COUNT),o=cc.v3(t.x,t.y,0),n=t.x-200*e/2+100,i=[],c=0;c<e;c++)i.push(cc.v3(n+200*c,2e3));for(c=0;c<Math.max(1,e-1);c++){var _={dbid:this._bulletConfig.id,camp:this._actor.camp,attr:this._actor.Attr.clone(),attackType:r.AttackType.AT_INVALID,PointPath:[{pos:o},{pos:i[Math.floor(Math.random()*i.length)]}],isAdjustAngle:!0,isOpacityGradient:!0,velocityFluctuation:.26,fixedTargetCamp:r.EShip.ES_ENEMY,delay:0,OnStartUp:null,OnFlying:null,OnReached:null};s.WorldManager.Instance.FlyObjectSystem.AddObject(_),this._actor.Get(a.ActorEffect).AddLaunchEffect()}},e}(t("./IBullet").IBullet);o.Bullet_Gatling=_,cc._RF.pop()},{"../TimeManager":"TimeManager","../WorldManager":"WorldManager","../actors/ActorDefine":"ActorDefine","../actors/ActorEffect":"ActorEffect","./IBullet":"IBullet"}],Bullet_Oblique:[function(t,e,o){"use strict";cc._RF.push(e,"f812a2c8bROToiJ33kYisgN","Bullet_Oblique");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Bullet_Oblique=void 0;var r=t("../actors/ActorDefine"),a=t("../actors/ActorEffect"),c=t("../TimeManager"),s=t("../WorldManager"),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e)},e.prototype.Execute=function(){if(!(this.isPause||this._actor.IsDead()||this.isPauseCreate)){var t=c.TimeManager.totalTime;t-this._lastAtkTime<this.GetInterval()||(this.PlaySound(),this.CreateBullets(),this._lastAtkTime=t)}},e.prototype.Release=function(){t.prototype.Release.call(this)},e.prototype.CreateBullets=function(){for(var t=this._actor.GetLaunchPos(!0)[0],e=this._actor.Attr.getAttr(r.EAttrID.EA_BULLET_COUNT),o=t.x-200*e/2+100,n=cc.v3(t.x,t.y,0),i=0;i<e;i++){var c=cc.v3(o+200*i,2e3,0),_={dbid:this._bulletConfig.id,camp:this._actor.camp,attr:this._actor.Attr.clone(),attackType:r.AttackType.AT_INVALID,PointPath:[{pos:n},{pos:c}],isAdjustAngle:!0,isOpacityGradient:!0,velocityFluctuation:0,fixedTargetCamp:r.EShip.ES_ENEMY,delay:0,OnStartUp:null,OnFlying:null,OnReached:null};s.WorldManager.Instance.FlyObjectSystem.AddObject(_),this._actor.Get(a.ActorEffect).AddLaunchEffect()}},e}(t("./IBullet").IBullet);o.Bullet_Oblique=_,cc._RF.pop()},{"../TimeManager":"TimeManager","../WorldManager":"WorldManager","../actors/ActorDefine":"ActorDefine","../actors/ActorEffect":"ActorEffect","./IBullet":"IBullet"}],Bullet_Shot:[function(t,e,o){"use strict";cc._RF.push(e,"461ecUI0SxIh6RxExSVTvf9","Bullet_Shot");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Bullet_Shot=void 0;var r=t("../actors/ActorDefine"),a=t("../actors/ActorEffect"),c=t("../TimeManager"),s=t("../WorldManager"),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e)},e.prototype.Execute=function(){if(!(this.isPause||this._actor.IsDead()||this.isPauseCreate)){var t=c.TimeManager.totalTime;t-this._lastAtkTime<this.GetInterval()||(this.PlaySound(),this.CreateBullets(),this._lastAtkTime=t)}},e.prototype.Release=function(){t.prototype.Release.call(this)},e.prototype.CreateBullets=function(){for(var t=this._actor.GetLaunchPos(!0)[0],e=this._actor.Attr.getAttr(r.EAttrID.EA_BULLET_COUNT),o=t.x-320*e/2+160,n=cc.v3(t.x,t.y,0),i=1;i<=e;i++){var c=320*(i-1),_=cc.v3(o+c+320*Math.random()-160,2e3,0),l={dbid:this._bulletConfig.id,camp:this._actor.camp,attr:this._actor.Attr.clone(),attackType:r.AttackType.AT_INVALID,PointPath:[{pos:n},{pos:_}],isAdjustAngle:!0,isOpacityGradient:!0,velocityFluctuation:.26,fixedTargetCamp:r.EShip.ES_ENEMY,delay:0,OnStartUp:null,OnFlying:null,OnReached:null};s.WorldManager.Instance.FlyObjectSystem.AddObject(l),this._actor.Get(a.ActorEffect).AddLaunchEffect()}},e}(t("./IBullet").IBullet);o.Bullet_Shot=_,cc._RF.pop()},{"../TimeManager":"TimeManager","../WorldManager":"WorldManager","../actors/ActorDefine":"ActorDefine","../actors/ActorEffect":"ActorEffect","./IBullet":"IBullet"}],Bullet_Straight:[function(t,e,o){"use strict";cc._RF.push(e,"7eef13d04FKc79xdgLPggpM","Bullet_Straight");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Bullet_Straight=void 0;var r=t("../actors/ActorDefine"),a=t("../actors/ActorEffect"),c=t("../TimeManager"),s=t("../WorldManager"),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e)},e.prototype.Execute=function(){if(!(this.isPause||this._actor.IsDead()||this.isPauseCreate)){var t=c.TimeManager.totalTime;t-this._lastAtkTime<this.GetInterval()||(this.PlaySound(),this.CreateBullets(),this._lastAtkTime=t)}},e.prototype.Release=function(){t.prototype.Release.call(this)},e.prototype.CreateBullets=function(){for(var t=this._actor.GetLaunchPos(!0)[0],e=this._actor.Attr.getAttr(r.EAttrID.EA_BULLET_COUNT),o=t.x-40*e/2+20,n=cc.v3(t.x,t.y,0),i=0;i<e;i++){var c=i+.5,_=e/2,l=-1*Math.pow(1.6*(c-_),2),p=cc.v3(o+40*i,t.y+200+l,0),u=cc.v3(o+40*i,2e3,0),d={dbid:this._bulletConfig.id,camp:this._actor.camp,attr:this._actor.Attr.clone(),attackType:r.AttackType.AT_INVALID,PointPath:[{pos:n,fixedTime:.1,needTrace:!1},{pos:p},{pos:u}],isAdjustAngle:!1,isOpacityGradient:!0,velocityFluctuation:0,fixedTargetCamp:r.EShip.ES_ENEMY,delay:0,OnStartUp:null,OnFlying:null,OnReached:null};s.WorldManager.Instance.FlyObjectSystem.AddObject(d),this._actor.Get(a.ActorEffect).AddLaunchEffect()}},e}(t("./IBullet").IBullet);o.Bullet_Straight=_,cc._RF.pop()},{"../TimeManager":"TimeManager","../WorldManager":"WorldManager","../actors/ActorDefine":"ActorDefine","../actors/ActorEffect":"ActorEffect","./IBullet":"IBullet"}],ChapterInfo:[function(t,e,o){"use strict";cc._RF.push(e,"f16e764uXREpLu6/3VwMU9e","ChapterInfo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ChapterInfo=void 0;var a=t("../base/extends/SerializeElement"),c=t("../config/DataManager"),s=t("../global/enums"),_=t("./DataPool"),l=t("./RecordManager"),p=function(t){function e(){var e=t.call(this)||this;return e._chapterRecord=[],e._currentChapter=1,e._chapterTaskProgress=1,e}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return _.DataPool.instance.chapterInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chapterRecord",{get:function(){return this._chapterRecord},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentChapter",{get:function(){return this._currentChapter},set:function(t){this._currentChapter=t,this.save()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chapterTaskProgress",{get:function(){return this._chapterTaskProgress},set:function(t){this._chapterTaskProgress=t,this.save()},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.load()||(this._currentChapter=1,this.AddChapter(1,0),this.save())},e.prototype.load=function(){var t=l.RecordManager.instance.read(s.DataRecord.ChapterInfo);return!!t&&(this.fromRecord(t),!0)},e.prototype.save=function(){l.RecordManager.instance.save(s.DataRecord.ChapterInfo,this.toRecord())},e.prototype.AddChapter=function(t,e){if(null!=c.DataManager.TableChapterInfoDatasById[t]&&!this.IsDemo(t)){var o=this._chapterRecord.find(function(e){return e.chapter==t});o?o.level<e&&(o.level=e):this._chapterRecord.push({chapter:t,level:e}),this.save()}},e.prototype.CheckLock=function(t){return!!this._chapterRecord.find(function(e){return e.chapter==t})},e.prototype.GetChapterInfo=function(t){return this._chapterRecord.find(function(e){return e.chapter==t})},e.prototype.GetLastChapter=function(){var t=this,e=null;return this._chapterRecord.forEach(function(o){t.IsDemo(o.chapter)||(null==e||e.chapter<o.chapter)&&(e=o)}),e},e.prototype.IsDemo=function(t){var e=c.DataManager.TableChapterInfoDatasById[t];return!(!e||1!=e.demo)},e.prototype.GenerateRandomProp=function(t,e,o,n){void 0===n&&(n=!1);var i=c.DataManager.TableConfigLevelDatasById[e+1];if(null==i&&o==s.GameModel.gm_endless&&(i=c.DataManager.TableConfigLevelDatasArray[c.DataManager.TableConfigLevelDatasArray.length-1]),!i||i.prop_list.length<t){if(!n||!i)return console.error("ERROR: GenerateRandomProp config = null or length < count"),null;t=i.prop_list.length}for(var r=[],a=0;a<t;a++){var _=i.prop_list[Math.floor(Math.random()*i.prop_list.length)];r.push(_)}return{propList:r,totalPropList:i.prop_list}},r([a.Record("chapterRecord")],e.prototype,"_chapterRecord",void 0),r([a.Record("currentChapter")],e.prototype,"_currentChapter",void 0),r([a.Record("chapterTaskProgress")],e.prototype,"_chapterTaskProgress",void 0),e}(a.SerializeElement);o.ChapterInfo=p,cc._RF.pop()},{"../base/extends/SerializeElement":"SerializeElement","../config/DataManager":"DataManager","../global/enums":"enums","./DataPool":"DataPool","./RecordManager":"RecordManager"}],ChapterTaskLayer:[function(t,e,o){"use strict";cc._RF.push(e,"6dd83Fvz8JDK4tFlyqbCAJJ","ChapterTaskLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../ads/HelpMgr"),c=t("../../config/DataManager"),s=t("../../global/define"),_=t("../../global/enums"),l=t("../../record/ChapterInfo"),p=t("../../record/WealthRecord"),u=t("../../ThirdParty/ThirdParty"),d=t("../../ThirdParty/WxAdMgr"),h=t("../public/ReveiveAwardAni"),f=t("../public/SwitchEffect"),y=cc._decorator,g=y.ccclass,v=y.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_start_light_ani=null,e.node_task_item=null,e.text_task_describe=null,e.node_reward_jewel=null,e.node_reward_vitality=null,e.node_reward_exp=null,e.node_unfinished=null,e.node_empty=null,e.node_receive=null,e.node_tesk_list=null,e._currentConfig=null,e}return i(e,t),e.prototype.start=function(){this.node_task_item.active=!1,f.SwitchEffect.playOpen(this.node),u.ThirdParty.instance.showBannerAd(),this.CreateAnimation(),this.UpdateView()},e.prototype.onEnable=function(){a.default.instance.setOvNode(this,function(){})},e.prototype.UpdateView=function(){var t=this,e=l.ChapterInfo.instance.GetLastChapter(),o=l.ChapterInfo.instance.chapterTaskProgress,n=c.DataManager.TableChapterTaskDatasById,i=c.DataManager.TableChapterTaskDatasArray,r=n[o];if(null!=r){this._currentConfig=r;var a=o-1,p=o+1;1==o&&(a=1),p>i.length&&(p=i.length),this.node_tesk_list.removeAllChildren();for(var u=a;u<=p;u++){var d=!1;n[u].chapter<e.chapter?d=!0:n[u].chapter==e.chapter&&n[u].wave<=e.level&&(d=!0);var h=cc.instantiate(this.node_task_item);h.y=0,h.active=!0,h.parent=this.node_tesk_list,this.SetTaskItem(h,n[u],u==o,d,u<o)}if(2==this.node_tesk_list.children.length){var f=this.node_tesk_list.getComponent(cc.Layout);this.node_tesk_list.x=1==o?this.node_task_item.width/2+f.spacingX/2:-(this.node_task_item.width/2+f.spacingX/2)}else this.node_tesk_list.x=0;this.node_reward_exp.active=!1,this.node_reward_jewel.active=!1,this.node_reward_vitality.active=!1,r.wealth_type_list.forEach(function(e,o){var n=null,i="";if(e==_.WealthType.exp_user?(n=t.node_reward_exp,i="Exp"):e==_.WealthType.jewel?(n=t.node_reward_jewel,i="core"):e==_.WealthType.vitality&&(n=t.node_reward_vitality,i="SP"),n){var a=r.award_list[o],c=n.getChildByName("text_value").getComponent(cc.Label),l=n.getChildByName("text_value_hint").getComponent(cc.Label);n.active=!0,c.string=null!=a?s.Define.ConvertN(a):"0",l.string=null!=a?i+"x"+s.Define.ConvertN(a):"0"}});var y=!1;r.chapter<e.chapter?y=!0:r.chapter==e.chapter&&r.wave<=e.level&&(y=!0),this.node_unfinished.active=!y,this.node_receive.active=y}else this.node_empty.active=!0},e.prototype.SetTaskItem=function(t,e,o,n,i){var r=t.getChildByName("text_wave").getComponent(cc.Label),a=t.getChildByName("text_chapter").getComponent(cc.Label),c=t.getChildByName("sp_unfinished"),_=t.getChildByName("sp_finished"),l=t.getChildByName("sp_select");r.string="Lv."+e.wave,a.string="Chapter "+e.chapter,l.active=o,c.active=!n,_.active=n,t.opacity=i?200:255,o&&(this.text_task_describe.string=e.describe)},e.prototype.onClickEventClose=function(){f.SwitchEffect.playClose(this.node,!0),u.ThirdParty.instance.hideBannerAd()},e.prototype.onClickEventDoubleReceive=function(){var t=this;s.Define.CreateLoading("Ads loading...");playVideo(res=>{if(res){s.Define.RemoveLoading(),t.ReceiveReward(2)}else{s.Define.RemoveLoading(),s.Define.OutputMessage("Ad failed")}})},e.prototype.onClickEventReceive=function(){this.ReceiveReward(1)},e.prototype.ReceiveReward=function(t){var e=this;s.Define.BuriedPoint("领取章节奖励："+t+"倍，进度("+l.ChapterInfo.instance.chapterTaskProgress+")"),l.ChapterInfo.instance.chapterTaskProgress+=1,this._currentConfig.wealth_type_list.forEach(function(o,n){var i=e._currentConfig.award_list[n];o==_.WealthType.exp_user?(p.WealthRecord.instance.AddExp(i*t),h.default.PlayExpAni(e.node_receive,15)):o==_.WealthType.jewel?(p.WealthRecord.instance.AddJewel(i*t),h.default.PlayJewelAni(e.node_receive,i*t)):o==_.WealthType.vitality&&(p.WealthRecord.instance.AddVitality(i*t),h.default.PlayVitalityAni(e.node_receive,i*t))}),this.UpdateView()},e.prototype.CreateAnimation=function(){var t=this;cc.tween(this.node_start_light_ani).repeatForever(cc.tween(this.node_start_light_ani).call(function(){t.node_start_light_ani.x=235}).to(1,{x:-235}).delay(1.5)).start()},r([v(cc.Node)],e.prototype,"node_start_light_ani",void 0),r([v(cc.Node)],e.prototype,"node_task_item",void 0),r([v(cc.Label)],e.prototype,"text_task_describe",void 0),r([v(cc.Node)],e.prototype,"node_reward_jewel",void 0),r([v(cc.Node)],e.prototype,"node_reward_vitality",void 0),r([v(cc.Node)],e.prototype,"node_reward_exp",void 0),r([v(cc.Node)],e.prototype,"node_unfinished",void 0),r([v(cc.Node)],e.prototype,"node_empty",void 0),r([v(cc.Node)],e.prototype,"node_receive",void 0),r([v(cc.Node)],e.prototype,"node_tesk_list",void 0),r([g],e)}(cc.Component);o.default=b,cc._RF.pop()},{"../../ThirdParty/ThirdParty":"ThirdParty","../../ThirdParty/WxAdMgr":"WxAdMgr","../../ads/HelpMgr":"HelpMgr","../../config/DataManager":"DataManager","../../global/define":"define","../../global/enums":"enums","../../record/ChapterInfo":"ChapterInfo","../../record/WealthRecord":"WealthRecord","../public/ReveiveAwardAni":"ReveiveAwardAni","../public/SwitchEffect":"SwitchEffect"}],ClockManager:[function(t,e,o){"use strict";cc._RF.push(e,"d6b88fYjy9KB6N3yU0vqJFd","ClockManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ClockManager=void 0;var r=t("../App"),a=t("../extends/Dictionary"),c=t("../InstanceBase"),s=t("./RenderManager"),_=function(t){function e(){var e=t.call(this)||this;return e._handlers=new Array,e._handlerMap=a.Dictionary.create(),e._currFrame=0,e._enterFrameIndexNow=0,e._enterFrameIndexMax=0,s.RenderManager.instance.on(e.enterFrame,e),e}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return e.INSTANCE||(e.INSTANCE=c.InstanceBase.getInstance(e))},enumerable:!1,configurable:!0}),e.prototype.off=function(t,o){var n=this;if(null!=t){var i,r=this._handlerMap.del(t,o);if(null==r&&this._handlerMap.for(function(e){return(i=n._handlerMap.get(e)).handler!==t||i.handlerThisObject!==o||(n._handlerMap.del(e),r=i,!1)}),null!=r){var a=this._handlers.indexOf(r);a>-1&&(this._handlers.splice(a,1),this._enterFrameIndexMax--,this._enterFrameIndexNow>0&&this._enterFrameIndexNow--),r.clear(),e.POOL.push(r)}}},e.prototype.once=function(t,e,o,n,i){void 0===i&&(i=!1),this.create(!1,!1,t,e,o,n,i)},e.prototype.on=function(t,e,o,n,i){void 0===i&&(i=!1),this.create(!1,!0,t,e,o,n,i)},e.prototype.onceByFrame=function(t,e,o,n,i){void 0===i&&(i=!1),this.create(!0,!1,t,e,o,n,i)},e.prototype.onByFrame=function(t,e,o,n,i){void 0===i&&(i=!1),this.create(!0,!0,t,e,o,n,i)},e.prototype.enterFrame=function(){var t,e,o,n,i;for(this._currFrame++,this._enterFrameIndexMax=this._handlers.length,this._enterFrameIndexNow=0;this._enterFrameIndexNow<this._enterFrameIndexMax;this._enterFrameIndexNow++)if((n=(i=this._handlers[this._enterFrameIndexNow]).userFrame?this._currFrame:r.App.timePast)>=i.exeTime)if(t=i.handler,e=i.handlerThisObject,o=i.handlerArgs,i.repeat)for(;n>=i.exeTime&&i.repeat&&null!=i.handlerThisObject;)i.exeTime+=i.delay,t.apply(e,o);else this.off(i.handler,e),t.apply(e,o)},e.prototype.create=function(t,o,n,i,a,c,s){void 0===s&&(s=!1),this.off(i,a);var _=e.POOL.length>0?e.POOL.pop():new l;_.userFrame=t,_.repeat=o,_.delay=n,_.handler=i,_.handlerArgs=c,_.handlerThisObject=a,_.exeTime=n+(t?this._currFrame:r.App.timePast),this._handlers.push(_),this._handlerMap.add(i,_,a),s&&_.excute()},e.POOL=new Array,e}(c.InstanceBase);o.ClockManager=_;var l=function(){function t(){}return t.prototype.clear=function(){this.handler=null,this.handlerThisObject=null,this.handlerArgs=null},t.prototype.excute=function(){null!=this.handler&&this.handler.apply(this.handlerThisObject,this.handlerArgs)},t}();cc._RF.pop()},{"../App":"App","../InstanceBase":"InstanceBase","../extends/Dictionary":"Dictionary","./RenderManager":"RenderManager"}],CmdDefine:[function(t,e,o){"use strict";cc._RF.push(e,"253dcEr/jxE26Vk4KlMDtKY","CmdDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.CmdResp=void 0,function(t){t.TYPE_SUCCESS="TYPE_SUCCESS",t.TYPE_FAILURE="TYPE_FAILURE",t.TYPE_ACTOR_DEAD="TYPE_ACTOR_DEAD"}(o.CmdResp||(o.CmdResp={})),cc._RF.pop()},{}],CollisionSystem:[function(t,e,o){"use strict";cc._RF.push(e,"b9f33VmMFpEZ4Wrb3dySywO","CollisionSystem"),Object.defineProperty(o,"__esModule",{value:!0}),o.CollisionSysteem=void 0;var n=t("../TimeManager"),i=function(){function t(){this._timeInterval=.5,this._tempID=0,this._collisionRecord=[]}return t.prototype.Init=function(){},t.prototype.Execute=function(){var t=this,e=n.TimeManager.totalTime,o=[];this._collisionRecord.forEach(function(n){e-n.last_time>t._timeInterval&&o.push(n.record_id)}),o.forEach(function(e){var o=t._collisionRecord.findIndex(function(t){return t.record_id==e});-1!=o&&t._collisionRecord.splice(o,1)}),0==this._collisionRecord.length&&(this._tempID=0)},t.prototype.Release=function(){},t.prototype.Reset=function(){},t.prototype.checkCollision=function(t,e,o){var n=!0,i=this._collisionRecord.find(function(o){return o.guid_1==t.guid&&o.guid_2==e.guid?o:o.guid_2==t.guid&&o.guid_1==e.guid?o:null});return i?o-i.last_time<this._timeInterval?n=!1:i.last_time=o:this._collisionRecord.push({record_id:++this._tempID,guid_1:t.guid,guid_2:e.guid,last_time:o}),n},t.circle_rect=function(t,e,o){var n=t.x-o.x,i=t.y-o.y,r=Math.min(n,o.width/2),a=Math.max(r,-o.width/2),c=Math.min(i,o.height/2),s=Math.max(c,-o.height/2);return(a-n)*(a-n)+(s-i)*(s-i)<=e*e},t}();o.CollisionSysteem=i,cc._RF.pop()},{"../TimeManager":"TimeManager"}],CommandMove:[function(t,e,o){"use strict";cc._RF.push(e,"6e6933E8TdMi5S9auZZLDwx","CommandMove");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.CommandMove=void 0;var r=t("./CmdDefine"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.OnFinish=null,e.TargetPos=null,e}return i(e,t),e.prototype.Do=function(){var t=this.doCall;return t?t(this):r.CmdResp.TYPE_FAILURE},e.prototype.Update=function(t,e){return void 0===e&&(e=null),this.OnFinish=e,this.TargetPos=t,this},e.prototype.Release=function(){this.OnFinish=null,this.TargetPos=null},e}(t("./ICommand").ICommand);o.CommandMove=a,cc._RF.pop()},{"./CmdDefine":"CmdDefine","./ICommand":"ICommand"}],ComponentAsync:[function(t,e,o){"use strict";cc._RF.push(e,"891a2FmeCFPioQf8yt27qGg","ComponentAsync"),Object.defineProperty(o,"__esModule",{value:!0}),o.ComponentDestoryAsync=void 0,o.ComponentDestoryAsync=function(t){return new Promise(function(e){var o=t.onDestroy;t.onDestroy=function(){try{o()}catch(t){}e()}})},cc._RF.pop()},{}],ComputerContorl:[function(t,e,o){"use strict";cc._RF.push(e,"33343EnYoxGf5p9p3LKjhZ0","ComputerContorl"),Object.defineProperty(o,"__esModule",{value:!0}),o.ComputerContorl=void 0;var n=t("../../ads/HelpMgr"),i=t("../../global/enums"),r=t("./ComputerLogicChapter"),a=t("./ComputerLogicEndless"),c=function(){function t(){this.camp=0,this._currentModel=i.GameModel.gm_invalid,this._currentLogic=null}return Object.defineProperty(t.prototype,"currentMode",{get:function(){return this._currentModel},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentLogic",{get:function(){return this._currentLogic},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"MonsterCount",{get:function(){return this._currentLogic?this._currentLogic.MonsterCount:0},enumerable:!1,configurable:!0}),t.prototype.Init=function(t){this.camp=t},t.prototype.Execute=function(){this._currentLogic&&this._currentLogic.Execute()},t.prototype.Release=function(){this._currentLogic&&(this._currentLogic.Reset(),this._currentLogic.Release(),this._currentLogic=null)},t.prototype.Reset=function(){this.Release()},t.prototype.StartGame=function(t){if(this._currentModel=t,t==i.GameModel.gm_chapter){var e=new r.ComputerLogicChapter;e.Init(this.camp),this._currentLogic=e}if(t==i.GameModel.gm_endless){var o=new a.ComputerLogicEndless;o.Init(this.camp),this._currentLogic=o}this._currentLogic&&this._currentLogic.StartExecute()},t}();o.ComputerContorl=c,cc._RF.pop()},{"../../ads/HelpMgr":"HelpMgr","../../global/enums":"enums","./ComputerLogicChapter":"ComputerLogicChapter","./ComputerLogicEndless":"ComputerLogicEndless"}],ComputerLogicChapter:[function(t,e,o){"use strict";cc._RF.push(e,"f6d68ecGY5EPav4zorJxRFX","ComputerLogicChapter");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ComputerLogicChapter=void 0;var r=t("../../config/DataManager"),a=t("../../record/ChapterInfo"),c=t("../TimeManager"),s=t("../WorldManager"),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e)},e.prototype.StartExecute=function(){var t=a.ChapterInfo.instance.currentChapter;this.SetChapterInfo(t)},e.prototype.Execute=function(){this.CreateMonsters(),t.prototype.Execute.call(this)},e.prototype.Release=function(){t.prototype.Release.call(this)},e.prototype.Reset=function(){t.prototype.Reset.call(this)},e.prototype.SetChapterInfo=function(t,e){var o=this;void 0===e&&(e=1);var n=r.DataManager.TableChapterInfoDatasById[t];if(n){var i=r.DataManager[n.config_name+"DatasById"],_=r.DataManager[n.config_name+"DatasArray"];if(i){this._crrentChapter=t,this._chapterInfo=n,this._expReward=this._chapterInfo.exp_reward,this._curentChapterConfig1=i,this._curentChapterConfig2=_,this._currentWaveIndex=e,this._startTime=c.TimeManager.totalTime,this._isAllCreated=!1,s.WorldManager.Instance.UITop.OnWaveChange(this._currentWaveIndex,this._curentChapterConfig2.length);var l=this._curentChapterConfig1[this._currentWaveIndex];this._nextWaveShowWarning=l&&1==l.show_warning,this._waitDelay=!1,this._waitFinish=!0;var p=a.ChapterInfo.instance.GetChapterInfo(t);p&&p.level>=5&&1==e?s.WorldManager.Instance.UIJumpWave.Show(function(e){o._currentWaveIndex==e?o.OnStartNextWave():o.SetChapterInfo(t,e)}):this.OnStartNextWave()}else console.error("ERROR: chapter information does not exist.")}else console.error("ERROR: chapter does not exist.")},e.prototype.CreateMonsters=function(){if(!this._isAllCreated&&this._curentChapterConfig1){var t=this._curentChapterConfig1[this._currentWaveIndex];if(t){if(!(this._waitFinish||c.TimeManager.totalTime-this._startTime<t.time)){this._reloadWaveConfig&&(t=this._reloadWaveConfig,this._reloadWaveConfig=null),this.LoadConfig(t,this._curentChapterConfig2.length);var e=this._curentChapterConfig1[this._currentWaveIndex];this._nextWaveShowWarning=e&&1==e.show_warning}}else this._isAllCreated=!0}},e}(t("./IComputerLogic").IComputerLogic);o.ComputerLogicChapter=_,cc._RF.pop()},{"../../config/DataManager":"DataManager","../../record/ChapterInfo":"ChapterInfo","../TimeManager":"TimeManager","../WorldManager":"WorldManager","./IComputerLogic":"IComputerLogic"}],ComputerLogicEndless:[function(t,e,o){"use strict";cc._RF.push(e,"a2e2b0CUHRDgrR/ouCdEVsf","ComputerLogicEndless");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ComputerLogicEndless=void 0;var r=t("../TimeManager"),a=t("../WorldManager"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._currentBossLevle=4,e._currentBarrierLevel=30,e._currentMonsterLevel=30,e}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e)},e.prototype.StartExecute=function(){this._expReward=1e4,this._startTime=r.TimeManager.totalTime,this._currentWaveIndex=1,this._isAllCreated=!1,this._waitDelay=!1,this._waitFinish=!0,this._nextWaveShowWarning=!1,a.WorldManager.Instance.UITop.OnWaveChange(this._currentWaveIndex,-1),this.OnStartNextWave()},e.prototype.Execute=function(){this.CreateMonsters(),t.prototype.Execute.call(this)},e.prototype.Release=function(){t.prototype.Release.call(this)},e.prototype.Reset=function(){t.prototype.Reset.call(this)},e.prototype.CreateMonsters=function(){if(!this._isAllCreated&&!this._waitFinish){var t=this.CreateConfig();r.TimeManager.totalTime-this._startTime<t.time||(this._reloadWaveConfig&&(t=this._reloadWaveConfig,this._reloadWaveConfig=null),this.LoadConfig(t,-1))}},e.prototype.CreateConfig=function(){var t={id:this._currentWaveIndex,time:0,monsters:[],monsters_level:[],create_time:[],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:1},e=[100,100,100,100,100,100,70,70,60,60,60,60,55,55,50,50,45,45,40,40,35,35,30,30,25,25,25,20,20,20][this._currentWaveIndex-1];t.exp_proportion=null!=e?e:15,this._expReward+=.2*this._expReward;var o=!1;if(this._currentWaveIndex%10==0){var n=[14],i=[1];this._currentBossLevle>=8&&(n.push(15),i.push(8)),this._currentBossLevle>=16&&(n.push(16),i.push(16)),o=!0;var r=Math.floor(Math.random()*n.length);t.monsters.push(n[r]),t.monsters_level.push(this._currentBossLevle-i[r]+1),t.create_time.push(0),t.boss_died_finished=1,t.show_warning=1,t.loop_create_monsters=1,this._currentBossLevle+=8}n=[17,17,17,17,17,42,42,42,42,42,18,18,18,19,19,19,20,22,23,24,25,26,27,28],i=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],this._currentMonsterLevel>=60&&(n.push(33,33,33,33,33,34,35,36,37,43,43,43,43,43),i.push(60,60,60,60,60,60,60,60,60,60,60,60,60,60)),this._currentMonsterLevel>=130&&(n.push(44,44,44,44,44,45,45,45,45,45,46,47,48,49,50),i.push(130,130,130,130,130,130,130,130,130,130,130,130,130,130,130));var a=0,c=Math.floor(5*Math.random()+5);o&&(c=20);for(var s=0;s<c;s++){var _=Math.floor(5*Math.random()+3);o&&(_=Math.floor(4*Math.random()+3));for(var l=0;l<_;l++)r=Math.floor(Math.random()*n.length),t.monsters.push(n[r]),t.monsters_level.push(this._currentMonsterLevel-i[r]+1),t.create_time.push(a);a+=o?3:1.5*Math.random()+1}for(this._currentMonsterLevel+=15,n=[22,29,30,31],i=[1,1,1,1],this._currentBarrierLevel>=60&&(n.push(41),i.push(60)),this._currentMonsterLevel>=130&&(n.push(51),i.push(130)),a=0,c=Math.floor(5*Math.random()+5),o&&(c=20),s=0;s<c;s++){for(_=Math.floor(2*Math.random()),l=0;l<_;l++)r=Math.floor(Math.random()*n.length),t.monsters.push(n[r]),t.monsters_level.push(this._currentBarrierLevel-i[r]+1),t.create_time.push(a);a+=o?3:1.5*Math.random()+.5}return this._currentBarrierLevel+=15,t},e}(t("./IComputerLogic").IComputerLogic);o.ComputerLogicEndless=c,cc._RF.pop()},{"../TimeManager":"TimeManager","../WorldManager":"WorldManager","./IComputerLogic":"IComputerLogic"}],ConfigManager:[function(t,e,o){"use strict";cc._RF.push(e,"4995b3wg/pARr9+4OMt7xk+","ConfigManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ConfigManager=void 0;var r=t("../base/InstanceBase"),a=t("../global/enums"),c=t("../utils/LoadManager"),s=function(t){function e(){var e=t.call(this)||this;return e._configs=[],e.loadConfig(),e}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return e.INSTANCE||(e.INSTANCE=r.InstanceBase.getInstance(e))},enumerable:!1,configurable:!0}),e.prototype.readJsonFile=function(t){var e=c.LoadManager.get(this._configs[t].file);e?(this._configs[t].data=e.json,this._configs[t].load=!0,console.log("读取配置文件:["+this._configs[t].file+"]成功")):(this._configs[t].data=[],console.log("读取配置文件:["+this._configs[t].file+"]出错"))},e.prototype.loadConfig=function(){var t=this;for(var e in a.ConfigFiles)if(a.ConfigFiles.hasOwnProperty(e)){var o={file:a.ConfigFiles[e],load:!1};this._configs.push(o)}this._configs.forEach(function(e,o){t.readJsonFile(o)})},e.prototype.findObject=function(t,e){if(0==e.length)return t;if(Array.isArray(t)){for(var o=0;o<t.length;o++)if(t[o].id==e[0])return e.splice(0,1),this.findObject(t[o],e)}else{var n=e[0];if(t[n])return e.splice(0,1),this.findObject(t[n],e)}},e.prototype.readConfig=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];for(var n=0;n<this._configs.length;n++)if(this._configs[n].file==t){if(!this._configs[n].data)return;return this.findObject(this._configs[n].data,e)}},e}(r.InstanceBase);o.ConfigManager=s,cc._RF.pop()},{"../base/InstanceBase":"InstanceBase","../global/enums":"enums","../utils/LoadManager":"LoadManager"}],ConfigTypeDefind:[function(t,e,o){"use strict";cc._RF.push(e,"496f88M4A1Fk7o1bMeQ/vsl","ConfigTypeDefind"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],ContentAdapter:[function(t,e,o){"use strict";cc._RF.push(e,"13e56MAedZDjpeJ8mfhYNj5","ContentAdapter");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){var t=Math.min(cc.view.getCanvasSize().width/this.node.width,cc.view.getCanvasSize().height/this.node.height),e=this.node.width*t,o=this.node.height*t;this.node.width=this.node.width*(cc.view.getCanvasSize().width/e),this.node.height=this.node.height*(cc.view.getCanvasSize().height/o)},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],CryptoJS:[function(t,e,o){"use strict";cc._RF.push(e,"91851XvfkZLcr1zUIBOVqVN","CryptoJS"),Object.defineProperty(o,"__esModule",{value:!0}),o.CryptoTS=void 0;var n,i,r=r||function(t){var e={},o=e.lib={},n=function(){},i=o.Base={extend:function(t){n.prototype=this;var e=new n;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},r=o.WordArray=i.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,o=t.words,n=this.sigBytes;if(t=t.sigBytes,this.clamp(),n%4)for(var i=0;i<t;i++)e[n+i>>>2]|=(o[i>>>2]>>>24-i%4*8&255)<<24-(n+i)%4*8;else if(65535<o.length)for(i=0;i<t;i+=4)e[n+i>>>2]=o[i>>>2];else e.push.apply(e,o);return this.sigBytes+=t,this},clamp:function(){var e=this.words,o=this.sigBytes;e[o>>>2]&=4294967295<<32-o%4*8,e.length=t.ceil(o/4)},clone:function(){var t=i.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var o=[],n=0;n<e;n+=4)o.push(4294967296*t.random()|0);return new r.init(o,e)}}),a=e.enc={},c=a.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var o=[],n=0;n<t;n++){var i=e[n>>>2]>>>24-n%4*8&255;o.push((i>>>4).toString(16)),o.push((15&i).toString(16))}return o.join("")},parse:function(t){for(var e=t.length,o=[],n=0;n<e;n+=2)o[n>>>3]|=parseInt(t.substr(n,2),16)<<24-n%8*4;return new r.init(o,e/2)}},s=a.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var o=[],n=0;n<t;n++)o.push(String.fromCharCode(e[n>>>2]>>>24-n%4*8&255));return o.join("")},parse:function(t){for(var e=t.length,o=[],n=0;n<e;n++)o[n>>>2]|=(255&t.charCodeAt(n))<<24-n%4*8;return new r.init(o,e)}},_=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(s.stringify(t)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(t){return s.parse(unescape(encodeURIComponent(t)))}},l=o.BufferedBlockAlgorithm=i.extend({reset:function(){this._data=new r.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=_.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var o=this._data,n=o.words,i=o.sigBytes,a=this.blockSize,c=i/(4*a);if(e=(c=e?t.ceil(c):t.max((0|c)-this._minBufferSize,0))*a,i=t.min(4*e,i),e){for(var s=0;s<e;s+=a)this._doProcessBlock(n,s);s=n.splice(0,e),o.sigBytes-=i}return new r.init(s,i)},clone:function(){var t=i.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});o.Hasher=l.extend({cfg:i.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){l.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,o){return new t.init(o).finalize(e)}},_createHmacHelper:function(t){return function(e,o){return new p.HMAC.init(t,o).finalize(e)}}});var p=e.algo={};return e}(Math);i=(n=r).lib.WordArray,n.enc.Base64={stringify:function(t){var e=t.words,o=t.sigBytes,n=this._map;t.clamp(),t=[];for(var i=0;i<o;i+=3)for(var r=(e[i>>>2]>>>24-i%4*8&255)<<16|(e[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|e[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;4>a&&i+.75*a<o;a++)t.push(n.charAt(r>>>6*(3-a)&63));if(e=n.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var e=t.length,o=this._map;(n=o.charAt(64))&&-1!=(n=t.indexOf(n))&&(e=n);for(var n=[],r=0,a=0;a<e;a++)if(a%4){var c=o.indexOf(t.charAt(a-1))<<a%4*2,s=o.indexOf(t.charAt(a))>>>6-a%4*2;n[r>>>2]|=(c|s)<<24-r%4*8,r++}return i.create(n,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t){function e(t,e,o,n,i,r,a){return((t=t+(e&o|~e&n)+i+a)<<r|t>>>32-r)+e}function o(t,e,o,n,i,r,a){return((t=t+(e&n|o&~n)+i+a)<<r|t>>>32-r)+e}function n(t,e,o,n,i,r,a){return((t=t+(e^o^n)+i+a)<<r|t>>>32-r)+e}function i(t,e,o,n,i,r,a){return((t=t+(o^(e|~n))+i+a)<<r|t>>>32-r)+e}for(var a=r,c=(_=a.lib).WordArray,s=_.Hasher,_=a.algo,l=[],p=0;64>p;p++)l[p]=4294967296*t.abs(t.sin(p+1))|0;_=_.MD5=s.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,r){for(var a=0;16>a;a++){var c=t[s=r+a];t[s]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}a=this._hash.words;var s=t[r+0],_=(c=t[r+1],t[r+2]),p=t[r+3],u=t[r+4],d=t[r+5],h=t[r+6],f=t[r+7],y=t[r+8],g=t[r+9],v=t[r+10],b=t[r+11],m=t[r+12],A=t[r+13],x=t[r+14],C=t[r+15],w=e(w=a[0],S=a[1],E=a[2],T=a[3],s,7,l[0]),T=e(T,w,S,E,c,12,l[1]),E=e(E,T,w,S,_,17,l[2]),S=e(S,E,T,w,p,22,l[3]);w=e(w,S,E,T,u,7,l[4]),T=e(T,w,S,E,d,12,l[5]),E=e(E,T,w,S,h,17,l[6]),S=e(S,E,T,w,f,22,l[7]),w=e(w,S,E,T,y,7,l[8]),T=e(T,w,S,E,g,12,l[9]),E=e(E,T,w,S,v,17,l[10]),S=e(S,E,T,w,b,22,l[11]),w=e(w,S,E,T,m,7,l[12]),T=e(T,w,S,E,A,12,l[13]),E=e(E,T,w,S,x,17,l[14]),w=o(w,S=e(S,E,T,w,C,22,l[15]),E,T,c,5,l[16]),T=o(T,w,S,E,h,9,l[17]),E=o(E,T,w,S,b,14,l[18]),S=o(S,E,T,w,s,20,l[19]),w=o(w,S,E,T,d,5,l[20]),T=o(T,w,S,E,v,9,l[21]),E=o(E,T,w,S,C,14,l[22]),S=o(S,E,T,w,u,20,l[23]),w=o(w,S,E,T,g,5,l[24]),T=o(T,w,S,E,x,9,l[25]),E=o(E,T,w,S,p,14,l[26]),S=o(S,E,T,w,y,20,l[27]),w=o(w,S,E,T,A,5,l[28]),T=o(T,w,S,E,_,9,l[29]),E=o(E,T,w,S,f,14,l[30]),w=n(w,S=o(S,E,T,w,m,20,l[31]),E,T,d,4,l[32]),T=n(T,w,S,E,y,11,l[33]),E=n(E,T,w,S,b,16,l[34]),S=n(S,E,T,w,x,23,l[35]),w=n(w,S,E,T,c,4,l[36]),T=n(T,w,S,E,u,11,l[37]),E=n(E,T,w,S,f,16,l[38]),S=n(S,E,T,w,v,23,l[39]),w=n(w,S,E,T,A,4,l[40]),T=n(T,w,S,E,s,11,l[41]),E=n(E,T,w,S,p,16,l[42]),S=n(S,E,T,w,h,23,l[43]),w=n(w,S,E,T,g,4,l[44]),T=n(T,w,S,E,m,11,l[45]),E=n(E,T,w,S,C,16,l[46]),w=i(w,S=n(S,E,T,w,_,23,l[47]),E,T,s,6,l[48]),T=i(T,w,S,E,f,10,l[49]),E=i(E,T,w,S,x,15,l[50]),S=i(S,E,T,w,d,21,l[51]),w=i(w,S,E,T,m,6,l[52]),T=i(T,w,S,E,p,10,l[53]),E=i(E,T,w,S,v,15,l[54]),S=i(S,E,T,w,c,21,l[55]),w=i(w,S,E,T,y,6,l[56]),T=i(T,w,S,E,C,10,l[57]),E=i(E,T,w,S,h,15,l[58]),S=i(S,E,T,w,A,21,l[59]),w=i(w,S,E,T,u,6,l[60]),T=i(T,w,S,E,b,10,l[61]),E=i(E,T,w,S,_,15,l[62]),S=i(S,E,T,w,g,21,l[63]),a[0]=a[0]+w|0,a[1]=a[1]+S|0,a[2]=a[2]+E|0,a[3]=a[3]+T|0},_doFinalize:function(){var e=this._data,o=e.words,n=8*this._nDataBytes,i=8*e.sigBytes;o[i>>>5]|=128<<24-i%32;var r=t.floor(n/4294967296);for(o[15+(i+64>>>9<<4)]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),o[14+(i+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(o.length+1),this._process(),o=(e=this._hash).words,n=0;4>n;n++)i=o[n],o[n]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8);return e},clone:function(){var t=s.clone.call(this);return t._hash=this._hash.clone(),t}}),a.MD5=s._createHelper(_),a.HmacMD5=s._createHmacHelper(_)}(Math),function(){var t,e=r,o=(t=e.lib).Base,n=t.WordArray,i=(t=e.algo).EvpKDF=o.extend({cfg:o.extend({keySize:4,hasher:t.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var o=(c=this.cfg).hasher.create(),i=n.create(),r=i.words,a=c.keySize,c=c.iterations;r.length<a;){s&&o.update(s);var s=o.update(t).finalize(e);o.reset();for(var _=1;_<c;_++)s=o.finalize(s),o.reset();i.concat(s)}return i.sigBytes=4*a,i}});e.EvpKDF=function(t,e,o){return i.create(o).compute(t,e)}}(),r.lib.Cipher||function(){var t=(d=r).lib,e=t.Base,o=t.WordArray,n=t.BufferedBlockAlgorithm,i=d.enc.Base64,a=d.algo.EvpKDF,c=t.Cipher=n.extend({cfg:e.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,o){this.cfg=this.cfg.extend(o),this._xformMode=t,this._key=e,this.reset()},reset:function(){n.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,o,n){return("string"==typeof o?h:u).encrypt(t,e,o,n)},decrypt:function(e,o,n){return("string"==typeof o?h:u).decrypt(t,e,o,n)}}}});t.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var s=d.mode={},_=function(t,e,o){var n=this._iv;n?this._iv=void 0:n=this._prevBlock;for(var i=0;i<o;i++)t[e+i]^=n[i]},l=(t.BlockCipherMode=e.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();l.Encryptor=l.extend({processBlock:function(t,e){var o=this._cipher,n=o.blockSize;_.call(this,t,e,n),o.encryptBlock(t,e),this._prevBlock=t.slice(e,e+n)}}),l.Decryptor=l.extend({processBlock:function(t,e){var o=this._cipher,n=o.blockSize,i=t.slice(e,e+n);o.decryptBlock(t,e),_.call(this,t,e,n),this._prevBlock=i}}),s=s.CBC=l,l=(d.pad={}).Pkcs7={pad:function(t,e){for(var n,i=(n=(n=4*e)-t.sigBytes%n)<<24|n<<16|n<<8|n,r=[],a=0;a<n;a+=4)r.push(i);n=o.create(r,n),t.concat(n)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},t.BlockCipher=c.extend({cfg:c.cfg.extend({mode:s,padding:l}),reset:function(){c.reset.call(this);var t=(e=this.cfg).iv,e=e.mode;if(this._xformMode==this._ENC_XFORM_MODE)var o=e.createEncryptor;else o=e.createDecryptor,this._minBufferSize=1;this._mode=o.call(e,this,t&&t.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var p=t.CipherParams=e.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),u=(s=(d.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return((t=t.salt)?o.create([1398893684,1701076831]).concat(t).concat(e):e).toString(i)},parse:function(t){var e=(t=i.parse(t)).words;if(1398893684==e[0]&&1701076831==e[1]){var n=o.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return p.create({ciphertext:t,salt:n})}},t.SerializableCipher=e.extend({cfg:e.extend({format:s}),encrypt:function(t,e,o,n){n=this.cfg.extend(n);var i=t.createEncryptor(o,n);return e=i.finalize(e),i=i.cfg,p.create({ciphertext:e,key:o,iv:i.iv,algorithm:t,mode:i.mode,padding:i.padding,blockSize:t.blockSize,formatter:n.format})},decrypt:function(t,e,o,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),t.createDecryptor(o,n).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}})),d=(d.kdf={}).OpenSSL={execute:function(t,e,n,i){return i||(i=o.random(8)),t=a.create({keySize:e+n}).compute(t,i),n=o.create(t.words.slice(e),4*n),t.sigBytes=4*e,p.create({key:t,iv:n,salt:i})}},h=t.PasswordBasedCipher=u.extend({cfg:u.cfg.extend({kdf:d}),encrypt:function(t,e,o,n){return o=(n=this.cfg.extend(n)).kdf.execute(o,t.keySize,t.ivSize),n.iv=o.iv,(t=u.encrypt.call(this,t,e,o.key,n)).mixIn(o),t},decrypt:function(t,e,o,n){return n=this.cfg.extend(n),e=this._parse(e,n.format),o=n.kdf.execute(o,t.keySize,t.ivSize,e.salt),n.iv=o.iv,u.decrypt.call(this,t,e,o.key,n)}})}(),function(){for(var t=r,e=t.lib.BlockCipher,o=t.algo,n=[],i=[],a=[],c=[],s=[],_=[],l=[],p=[],u=[],d=[],h=[],f=0;256>f;f++)h[f]=128>f?f<<1:f<<1^283;var y=0,g=0;for(f=0;256>f;f++){var v=(v=g^g<<1^g<<2^g<<3^g<<4)>>>8^255&v^99;n[y]=v,i[v]=y;var b=h[y],m=h[b],A=h[m],x=257*h[v]^16843008*v;a[y]=x<<24|x>>>8,c[y]=x<<16|x>>>16,s[y]=x<<8|x>>>24,_[y]=x,x=16843009*A^65537*m^257*b^16843008*y,l[v]=x<<24|x>>>8,p[v]=x<<16|x>>>16,u[v]=x<<8|x>>>24,d[v]=x,y?(y=b^h[h[h[A^b]]],g^=h[h[g]]):y=g=1}var C=[0,1,2,4,8,16,32,64,128,27,54];o=o.AES=e.extend({_doReset:function(){for(var t=(o=this._key).words,e=o.sigBytes/4,o=4*((this._nRounds=e+6)+1),i=this._keySchedule=[],r=0;r<o;r++)if(r<e)i[r]=t[r];else{var a=i[r-1];r%e?6<e&&4==r%e&&(a=n[a>>>24]<<24|n[a>>>16&255]<<16|n[a>>>8&255]<<8|n[255&a]):(a=n[(a=a<<8|a>>>24)>>>24]<<24|n[a>>>16&255]<<16|n[a>>>8&255]<<8|n[255&a],a^=C[r/e|0]<<24),i[r]=i[r-e]^a}for(t=this._invKeySchedule=[],e=0;e<o;e++)r=o-e,a=e%4?i[r]:i[r-4],t[e]=4>e||4>=r?a:l[n[a>>>24]]^p[n[a>>>16&255]]^u[n[a>>>8&255]]^d[n[255&a]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,a,c,s,_,n)},decryptBlock:function(t,e){var o=t[e+1];t[e+1]=t[e+3],t[e+3]=o,this._doCryptBlock(t,e,this._invKeySchedule,l,p,u,d,i),o=t[e+1],t[e+1]=t[e+3],t[e+3]=o},_doCryptBlock:function(t,e,o,n,i,r,a,c){for(var s=this._nRounds,_=t[e]^o[0],l=t[e+1]^o[1],p=t[e+2]^o[2],u=t[e+3]^o[3],d=4,h=1;h<s;h++){var f=n[_>>>24]^i[l>>>16&255]^r[p>>>8&255]^a[255&u]^o[d++],y=n[l>>>24]^i[p>>>16&255]^r[u>>>8&255]^a[255&_]^o[d++],g=n[p>>>24]^i[u>>>16&255]^r[_>>>8&255]^a[255&l]^o[d++];u=n[u>>>24]^i[_>>>16&255]^r[l>>>8&255]^a[255&p]^o[d++],_=f,l=y,p=g}f=(c[_>>>24]<<24|c[l>>>16&255]<<16|c[p>>>8&255]<<8|c[255&u])^o[d++],y=(c[l>>>24]<<24|c[p>>>16&255]<<16|c[u>>>8&255]<<8|c[255&_])^o[d++],g=(c[p>>>24]<<24|c[u>>>16&255]<<16|c[_>>>8&255]<<8|c[255&l])^o[d++],u=(c[u>>>24]<<24|c[_>>>16&255]<<16|c[l>>>8&255]<<8|c[255&p])^o[d++],t[e]=f,t[e+1]=y,t[e+2]=g,t[e+3]=u},keySize:8}),t.AES=e._createHelper(o)}(),r.pad.ZeroPadding={pad:function(t,e){var o=4*e;t.clamp(),t.sigBytes+=o-(t.sigBytes%o||o)},unpad:function(t){for(var e=t.words,o=t.sigBytes-1;!(e[o>>>2]>>>24-o%4*8&255);)o--;t.sigBytes=o+1}};var a=function(){function t(){}return t.encrypt=function(t,e,o){var n=r.enc.Utf8.parse(e),i=r.enc.Utf8.parse(o),a=r.enc.Utf8.parse(t);return r.AES.encrypt(a,n,{iv:i,mode:r.mode.CBC,padding:r.pad.ZeroPadding}).toString()},t.decrypt=function(t,e,o,n){void 0===n&&(n=!1);var i=r.enc.Utf8.parse(e),a=r.enc.Utf8.parse(o),c=r.AES.decrypt(t,i,{iv:a,mode:r.mode.CBC,padding:r.pad.ZeroPadding}).toString(r.enc.Utf8);if(n)for(var s=16-c.length%16,_=0;_<s;_++)c+="\0";return c},t}();o.CryptoTS=a,cc._RF.pop()},{}],DailyPackLayer:[function(t,e,o){"use strict";cc._RF.push(e,"e6863xtCldBp71DC8aK9EZ+","DailyPackLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../ads/HelpMgr"),c=t("../../config/DataManager"),s=t("../../global/define"),_=t("../../global/enums"),l=t("../../record/GameInfoRecord"),p=t("../../record/WealthRecord"),u=t("../../ThirdParty/ThirdParty"),d=t("../../ThirdParty/WxAdMgr"),h=t("../public/ReveiveAwardAni"),f=t("../public/SwitchEffect"),y=cc._decorator,g=y.ccclass,v=y.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_start_light_ani=null,e.text_jewel=null,e.text_exp=null,e.text_vitality=null,e.text_jewel_hint=null,e.text_exp_hint=null,e.text_vitality_hint=null,e.sp_jewel=null,e.sp_exp=null,e.sp_vitality=null,e.node_receive=null,e.node_finished=null,e}return i(e,t),e.prototype.start=function(){f.SwitchEffect.playOpen(this.node),u.ThirdParty.instance.showBannerAd(),this.CreateAnimation(),this.UpdateView()},e.prototype.update=function(){},e.prototype.onEnable=function(){var t=this;a.default.instance.setOvNode(this,function(){t.onClickEventClose()})},e.prototype.UpdateView=function(){var t=this,e=c.DataManager.TableDailyPackDatasArray,o=l.GameInfoRecord.instance.CheckDailyPack();this.node_receive.active=!o,this.node_finished.active=o,e.forEach(function(e){e.wealth_type==_.WealthType.exp_user&&(t.text_exp.string=s.Define.ConvertN(e.award_count),t.text_exp_hint.string="Exp x"+s.Define.ConvertN(e.award_count)),e.wealth_type==_.WealthType.jewel&&(t.text_jewel.string=""+e.award_count,t.text_jewel_hint.string="Core x"+e.award_count),e.wealth_type==_.WealthType.vitality&&(t.text_vitality.string=""+e.award_count,t.text_vitality_hint.string="SP x"+e.award_count)})},e.prototype.onClickEventClose=function(){f.SwitchEffect.playClose(this.node,!0),u.ThirdParty.instance.hideBannerAd()},e.prototype.onClickEventDoubleReceive=function(){var t=this;s.Define.CreateLoading("Ads loading...");playVideo(res=>{if(res){s.Define.RemoveLoading(),t.ReceiveReward()}else{s.Define.RemoveLoading(),s.Define.OutputMessage("Ad failed")}})},e.prototype.ReceiveReward=function(){var t=this;s.Define.BuriedPoint("领取每日礼包"),l.GameInfoRecord.instance.CheckDailyPack()?s.Define.OutputMessage("Already received it today"):(c.DataManager.TableDailyPackDatasArray.forEach(function(e,o){e.wealth_type==_.WealthType.exp_user&&(p.WealthRecord.instance.AddExp(e.award_count),cc.tween(t.sp_exp).delay(.3*o).call(function(){h.default.PlayExpAni(t.sp_exp,15)}).start()),e.wealth_type==_.WealthType.jewel&&(p.WealthRecord.instance.AddJewel(e.award_count),cc.tween(t.sp_jewel).delay(.3*o).call(function(){h.default.PlayJewelAni(t.sp_jewel,e.award_count)}).start()),e.wealth_type==_.WealthType.vitality&&(p.WealthRecord.instance.AddVitality(e.award_count),cc.tween(t.sp_vitality).delay(.3*o).call(function(){h.default.PlayVitalityAni(t.sp_vitality,e.award_count)}).start())}),l.GameInfoRecord.instance.ReceiveDailyPack(),this.UpdateView(),cc.tween(this.node).delay(1.3).call(function(){f.SwitchEffect.playClose(t.node,!0),u.ThirdParty.instance.hideBannerAd()}).start())},e.prototype.CreateAnimation=function(){var t=this;cc.tween(this.node_start_light_ani).repeatForever(cc.tween(this.node_start_light_ani).call(function(){t.node_start_light_ani.x=235}).to(1,{x:-235}).delay(1.5)).start()},r([v(cc.Node)],e.prototype,"node_start_light_ani",void 0),r([v(cc.Label)],e.prototype,"text_jewel",void 0),r([v(cc.Label)],e.prototype,"text_exp",void 0),r([v(cc.Label)],e.prototype,"text_vitality",void 0),r([v(cc.Label)],e.prototype,"text_jewel_hint",void 0),r([v(cc.Label)],e.prototype,"text_exp_hint",void 0),r([v(cc.Label)],e.prototype,"text_vitality_hint",void 0),r([v(cc.Node)],e.prototype,"sp_jewel",void 0),r([v(cc.Node)],e.prototype,"sp_exp",void 0),r([v(cc.Node)],e.prototype,"sp_vitality",void 0),r([v(cc.Node)],e.prototype,"node_receive",void 0),r([v(cc.Node)],e.prototype,"node_finished",void 0),r([g],e)}(cc.Component);o.default=b,cc._RF.pop()},{"../../ThirdParty/ThirdParty":"ThirdParty","../../ThirdParty/WxAdMgr":"WxAdMgr","../../ads/HelpMgr":"HelpMgr","../../config/DataManager":"DataManager","../../global/define":"define","../../global/enums":"enums","../../record/GameInfoRecord":"GameInfoRecord","../../record/WealthRecord":"WealthRecord","../public/ReveiveAwardAni":"ReveiveAwardAni","../public/SwitchEffect":"SwitchEffect"}],DataManager:[function(t,e,o){"use strict";cc._RF.push(e,"3e75ahIpiRM4r3H4N+0L+XQ","DataManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.DataManager=void 0;var n,i=t("./Datas");(function(t){function e(t,e){var o=[],n=e[t];for(var i in n)o.push(n[i]);return o}t.init=function(o){var n;n="string"==typeof o?JSON.parse(o):o,t.TableBuffConfigDatasArray=e("TableBuffConfig",n),t.TableBuffConfigDatasById=n.TableBuffConfig,t.TableChapterInfoDatasArray=e("TableChapterInfo",n),t.TableChapterInfoDatasById=n.TableChapterInfo,t.TableChapter_0DatasArray=e("TableChapter_0",n),t.TableChapter_0DatasById=n.TableChapter_0,t.TableChapter_1DatasArray=e("TableChapter_1",n),t.TableChapter_1DatasById=n.TableChapter_1,t.TableChapter_2DatasArray=e("TableChapter_2",n),t.TableChapter_2DatasById=n.TableChapter_2,t.TableChapter_3DatasArray=e("TableChapter_3",n),t.TableChapter_3DatasById=n.TableChapter_3,t.TableChapter_4DatasArray=e("TableChapter_4",n),t.TableChapter_4DatasById=n.TableChapter_4,t.TableChapter_5DatasArray=e("TableChapter_5",n),t.TableChapter_5DatasById=n.TableChapter_5,t.TableChapter_6DatasArray=e("TableChapter_6",n),t.TableChapter_6DatasById=n.TableChapter_6,t.TableChapter_7DatasArray=e("TableChapter_7",n),t.TableChapter_7DatasById=n.TableChapter_7,t.TableChapter_8DatasArray=e("TableChapter_8",n),t.TableChapter_8DatasById=n.TableChapter_8,t.TableChapter_9DatasArray=e("TableChapter_9",n),t.TableChapter_9DatasById=n.TableChapter_9,t.TableChapter_10DatasArray=e("TableChapter_10",n),t.TableChapter_10DatasById=n.TableChapter_10,t.TableChapter_11DatasArray=e("TableChapter_11",n),t.TableChapter_11DatasById=n.TableChapter_11,t.TableChapter_12DatasArray=e("TableChapter_12",n),t.TableChapter_12DatasById=n.TableChapter_12,t.TableChapter_13DatasArray=e("TableChapter_13",n),t.TableChapter_13DatasById=n.TableChapter_13,t.TableMainWeaponShopDatasArray=e("TableMainWeaponShop",n),t.TableMainWeaponShopDatasById=n.TableMainWeaponShop,t.TableDeputyWeaponShopDatasArray=e("TableDeputyWeaponShop",n),t.TableDeputyWeaponShopDatasById=n.TableDeputyWeaponShop,t.TableSignInConfigDatasArray=e("TableSignInConfig",n),t.TableSignInConfigDatasById=n.TableSignInConfig,t.TableDailyPackDatasArray=e("TableDailyPack",n),t.TableDailyPackDatasById=n.TableDailyPack,t.TableChapterTaskDatasArray=e("TableChapterTask",n),t.TableChapterTaskDatasById=n.TableChapterTask,t.TableBulletsConfigDatasArray=e("TableBulletsConfig",n),t.TableBulletsConfigDatasById=n.TableBulletsConfig,t.TableMainWeaponID_1DatasArray=e("TableMainWeaponID_1",n),t.TableMainWeaponID_1DatasById=n.TableMainWeaponID_1,t.TableMainWeaponID_2DatasArray=e("TableMainWeaponID_2",n),t.TableMainWeaponID_2DatasById=n.TableMainWeaponID_2,t.TableMainWeaponID_3DatasArray=e("TableMainWeaponID_3",n),t.TableMainWeaponID_3DatasById=n.TableMainWeaponID_3,t.TableMainWeaponID_4DatasArray=e("TableMainWeaponID_4",n),t.TableMainWeaponID_4DatasById=n.TableMainWeaponID_4,t.TableMainWeaponID_5DatasArray=e("TableMainWeaponID_5",n),t.TableMainWeaponID_5DatasById=n.TableMainWeaponID_5,t.TableMainWeaponID_6DatasArray=e("TableMainWeaponID_6",n),t.TableMainWeaponID_6DatasById=n.TableMainWeaponID_6,t.TableConfigLevelDatasArray=e("TableConfigLevel",n),t.TableConfigLevelDatasById=n.TableConfigLevel,t.TableOfflineRewardDatasArray=e("TableOfflineReward",n),t.TableOfflineRewardDatasById=n.TableOfflineReward,t.TableMWUpgradeDatasArray=e("TableMWUpgrade",n),t.TableMWUpgradeDatasById=n.TableMWUpgrade,t.TableDWUpgradeDatasArray=e("TableDWUpgrade",n),t.TableDWUpgradeDatasById=n.TableDWUpgrade,t.TableActionConfigDatasArray=e("TableActionConfig",n),t.TableActionConfigDatasById=n.TableActionConfig,t.TablePropConfigDatasArray=e("TablePropConfig",n),t.TablePropConfigDatasById=n.TablePropConfig,t.TablePlaneConfigDatasArray=e("TablePlaneConfig",n),t.TablePlaneConfigDatasById=n.TablePlaneConfig,t.TableMainWeaponDatasArray=e("TableMainWeapon",n),t.TableMainWeaponDatasById=n.TableMainWeapon,t.TableDeputyWeaponDatasArray=e("TableDeputyWeapon",n),t.TableDeputyWeaponDatasById=n.TableDeputyWeapon,t.TableSupportConfigDatasArray=e("TableSupportConfig",n),t.TableSupportConfigDatasById=n.TableSupportConfig,t.TableBossConfigDatasArray=e("TableBossConfig",n),t.TableBossConfigDatasById=n.TableBossConfig,t.TableMonsterConfigDatasArray=e("TableMonsterConfig",n),t.TableMonsterConfigDatasById=n.TableMonsterConfig,t.TableBarrierConfigDatasArray=e("TableBarrierConfig",n),t.TableBarrierConfigDatasById=n.TableBarrierConfig}})(n=o.DataManager||(o.DataManager={})),n.init(i.datas),cc._RF.pop()},{"./Datas":"Datas"}],DataPool:[function(t,e,o){"use strict";cc._RF.push(e,"3da3cmDodlM8IOG97wLFV3P","DataPool");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.DataPool=void 0;var r=t("../base/extends/GameException"),a=t("../base/InstanceBase"),c=t("./ChapterInfo"),s=t("./DeputyWeaponStore"),_=t("./GameInfoRecord"),l=t("./MainWeaponStore"),p=t("./OfflineRewardRecord"),u=t("./VitalityRecoverData"),d=t("./WealthRecord"),h=function(t){function e(){var e=t.call(this)||this;return e._gameInfo=new _.GameInfoRecord,e._wealthRecord=new d.WealthRecord,e._chapterInfo=new c.ChapterInfo,e._mainWeapon=new l.MainWeaponStore,e._deputyWeapon=new s.DeputyWeaponStore,e._offlineReward=new p.OfflineRewardRecord,e._vitalityRecoverData=new u.VitalityRecoverData,e._isLoaded=!1,e}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return e.INSTANCE||(e.INSTANCE=a.InstanceBase.getInstance(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gameInfo",{get:function(){return this._gameInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wealthRecord",{get:function(){return this._wealthRecord},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"chapterInfo",{get:function(){return this._chapterInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mainWeapon",{get:function(){return this._mainWeapon},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deputyWeapon",{get:function(){return this._deputyWeapon},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offlineReward",{get:function(){return this._offlineReward},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vitalityRecoverData",{get:function(){return this._vitalityRecoverData},enumerable:!1,configurable:!0}),e.prototype.load=function(){if(this._isLoaded)throw new r.GameException(-1,"不能重复初始化");this._gameInfo.init(),this._wealthRecord.init(),this._chapterInfo.init(),this._mainWeapon.init(),this._deputyWeapon.init(),this._offlineReward.init(),this._vitalityRecoverData.init(),this._isLoaded=!0},e}(a.InstanceBase);o.DataPool=h,cc._RF.pop()},{"../base/InstanceBase":"InstanceBase","../base/extends/GameException":"GameException","./ChapterInfo":"ChapterInfo","./DeputyWeaponStore":"DeputyWeaponStore","./GameInfoRecord":"GameInfoRecord","./MainWeaponStore":"MainWeaponStore","./OfflineRewardRecord":"OfflineRewardRecord","./VitalityRecoverData":"VitalityRecoverData","./WealthRecord":"WealthRecord"}],Datas:[function(t,e,o){"use strict";cc._RF.push(e,"4a6ecGH2NJDDpJ5TMn/n+io","Datas"),Object.defineProperty(o,"__esModule",{value:!0}),o.datas=void 0,o.datas={TableBuffConfig:{1:{id:1,name:"复活无敌",describe:"复活后无敌",time_duration:3.9,can_stacked:0,buff_script:"Buff_ReviveInvincible",effect_script:"Effect_BuffHalo",icon_path:null,resource_path:null},2:{id:2,name:"持续伤害",describe:"被命中后持续扣血",time_duration:-1,can_stacked:0,buff_script:"Buff_LastHarm",effect_script:null,icon_path:null,resource_path:null},3:{id:3,name:"生命恢复",describe:"每20秒回复一定量的生命值",time_duration:-1,can_stacked:0,buff_script:"Buff_HPRestore",effect_script:null,icon_path:null,resource_path:null},4:{id:4,name:"护盾",describe:"每20秒无敌一段时间",time_duration:-1,can_stacked:0,buff_script:"Buff_Shield",effect_script:"Effect_BuffHalo",icon_path:null,resource_path:null},5:{id:5,name:"狂暴",describe:"每过15秒增加子弹，持续3秒",time_duration:3,can_stacked:0,buff_script:"Buff_Frenzy",effect_script:null,icon_path:null,resource_path:null}},TableChapterInfo:{1:{id:1,name:"Chapter 1",config_name:"TableChapter_1",exp_reward:12e4,icon_path:"image/game/plane/monster/img_jgfy_1",map_path:"prefab/game/map/map_chapter_1",demo:0},2:{id:2,name:"Chapter 2",config_name:"TableChapter_2",exp_reward:3e5,icon_path:"image/game/plane/boss/img_cdgjj",map_path:"prefab/game/map/map_chapter_1",demo:0},3:{id:3,name:"Chapter 3",config_name:"TableChapter_3",exp_reward:1e6,icon_path:"image/game/plane/boss/img_hbftxj",map_path:"prefab/game/map/map_chapter_2",demo:0},4:{id:4,name:"Chapter 4",config_name:"TableChapter_4",exp_reward:25e5,icon_path:"image/game/plane/boss/img_swsj",map_path:"prefab/game/map/map_chapter_3",demo:0},5:{id:5,name:"Chapter 5",config_name:"TableChapter_5",exp_reward:56e5,icon_path:"image/game/plane/boss/img_lyck",map_path:"prefab/game/map/map_chapter_4",demo:0},6:{id:6,name:"Chapter 6",config_name:"TableChapter_6",exp_reward:119e5,icon_path:"image/game/plane/boss/img_swsj",map_path:"prefab/game/map/map_chapter_3",demo:0},7:{id:7,name:"Chapter 7",config_name:"TableChapter_7",exp_reward:246e5,icon_path:"image/game/plane/boss/img_swsj",map_path:"prefab/game/map/map_chapter_3",demo:0},8:{id:8,name:"Chapter 8",config_name:"TableChapter_8",exp_reward:501e5,icon_path:"image/game/plane/boss/img_swsj",map_path:"prefab/game/map/map_chapter_3",demo:0},9:{id:9,name:"Chapter 9",config_name:"TableChapter_9",exp_reward:1012e5,icon_path:"image/game/plane/boss/img_swsj",map_path:"prefab/game/map/map_chapter_3",demo:0},10:{id:10,name:"Chapter 10",config_name:"TableChapter_10",exp_reward:2035e5,icon_path:"image/game/plane/boss/img_swsj",map_path:"prefab/game/map/map_chapter_3",demo:0},11:{id:11,name:"Chapter 11",config_name:"TableChapter_11",exp_reward:4082e5,icon_path:"image/game/plane/boss/img_swsj",map_path:"prefab/game/map/map_chapter_3",demo:0},12:{id:12,name:"Chapter 12",config_name:"TableChapter_12",exp_reward:8177e5,icon_path:"image/game/plane/boss/img_swsj",map_path:"prefab/game/map/map_chapter_3",demo:0},13:{id:13,name:"Chapter 13",config_name:"TableChapter_13",exp_reward:16368e5,icon_path:"image/game/plane/boss/img_swsj",map_path:"prefab/game/map/map_chapter_3",demo:0},14:{id:14,name:"测试章节",config_name:"TableChapter_0",exp_reward:1e4,icon_path:"image/game/plane/boss/img_cdgjj",map_path:"prefab/game/map/map_chapter_3",demo:1}},TableChapter_0:{1:{id:1,time:0,monsters:[24],monsters_level:[1,1,1,1,1,1,1,1],create_time:[1,2,3,4,5,6,7,8],wait_finish:1,boss_died_finished:0,show_warning:0,exp_proportion:100,user_exp_proportion:.3}},TableChapter_1:{1:{id:1,time:0,monsters:[17,17,17,17,17,17,42,42,42,42,17,17,17,17,17,17],monsters_level:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],create_time:[0,1,2,2,3,3,.5,1.5,2,2.5,.2,.4,.6,.8,1,1.2],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:.0275},2:{id:2,time:0,monsters:[17,17,17,17,18,18,18,18,17,17,17,17,42,42,42,42,42,42,42,42,17,17,17,17,17,17,17,17,17,17],monsters_level:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],create_time:[0,1,2,2,2,4,6,8,3.5,3.5,4.5,4.5,.5,1.5,2.5,3.5,.5,1,1.5,2,.5,1,1.5,2,2.5,3,3.5,4,4.5,5],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:.0275},3:{id:3,time:0,monsters:[17,17,18,18,18,18,18,18,42,42,42,42,18,18,18,18,18,18,18,18,18,18,18,18,17,17,17,17,17,17,17,17,17,17,17,17,17,17],monsters_level:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],create_time:[0,1,2,2,3,3,4,4,.5,1.5,2.5,3.5,0,0,2,2,4,4,6,6,8,8,10,10,1,1,1,3,3,3,6,6,6,9,9,9,1,5],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:60,user_exp_proportion:.0275},4:{id:4,time:0,monsters:[17,17,17,17,19,21,42,42,42,42,42,17,17,17,17,17,17,17,17,17,17,19],monsters_level:[1,1,1,1,6,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],create_time:[0,1,2,2,5,1,.5,1.5,2.5,3.5,4.5,2,2,3,.5,.5,1,1,4,5,6,2],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:60,user_exp_proportion:.0275},5:{id:5,time:0,monsters:[17,17,17,18,18,29,42,42,42,42,42,21,21,21,19,19,17,17,17,17,17,17,17,17,17,17,17,17],monsters_level:[3,3,3,3,3,3,3,3,3,3,3,1,1,1,3,3,3,3,3,3,3,3,3,3,3,3,3,3],create_time:[0,0,0,2,2,3,.5,1.5,2.5,3.5,4.5,2,5,8,3,6,0,0,.5,.5,1,1,1.5,1.5,2,2,2.5,2.5],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:60,user_exp_proportion:.0275},6:{id:6,time:0,monsters:[17,18,17,19,19,18,19,19,21,29,30,29,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17],monsters_level:[5,5,5,5,5,5,5,5,5,5,5,5,10,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],create_time:[0,1,1,2,4,6,8,10,0,2,4,6,0,.4,.8,1.2,1.6,2,2.4,2.8,3.2,3.6,4,4.4,4.8,5.2,5.6,6],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:50,user_exp_proportion:.0275},7:{id:7,time:0,monsters:[18,18,18,18,18,18,18,18,18,19,19,19,19,21,30,31,29,30,31,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,42,42,42,42,42,42,42,42,42],monsters_level:[5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],create_time:[2,4,6,8,10,12,16,18,20,5,10,15,20,3,6,9,12,16,19,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,2,4,6,8,10,12,14,16,18],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:50,user_exp_proportion:.0275},8:{id:8,time:0,monsters:[18,18,18,18,18,18,18,18,18,19,19,19,19,21,30,31,29,30,31,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,42,42,42,42,42,42,42,42,42],monsters_level:[5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],create_time:[2,4,6,8,10,12,16,18,20,5,10,15,20,3,6,9,12,16,19,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,2,4,6,8,10,12,14,16,18],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:20,user_exp_proportion:.0275},9:{id:9,time:0,monsters:[18,18,18,18,18,18,18,18,18,19,19,19,19,21,30,31,29,30,31,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,17,42,42,42,42,42,42,42,42,42],monsters_level:[5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],create_time:[2,4,6,8,10,12,16,18,20,5,10,15,20,3,6,9,12,16,19,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,2,4,6,8,10,12,14,16,18],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:0,user_exp_proportion:.0275},10:{id:10,time:0,monsters:[17,17,17,17,18,18,19,17,17,17,20,22,29,29,19,18,42,42,42,42,42,42,29,21,42,42,42,17,17,17,17,17,19,18,18,18],monsters_level:[5,5,5,5,5,5,5,5,5,5,25,30,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],create_time:[0,.5,1.5,2,.4,1.2,6,2.5,3.5,4.5,2,8,1,7,3,10,.6,1.2,1.6,2,3.4,3.6,6,9,4,5.6,7.2,5.5,5.7,6.1,6.9,7.9,8,2,5,8],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:1,exp_proportion:0,user_exp_proportion:.7525}},TableChapter_2:{1:{id:1,time:0,monsters:[17,17,17,17,22,26,26,29,30],monsters_level:[18,18,18,18,20,20,20,1,1],create_time:[1,1,2,2,3,3,3,2,2.5],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:.0275},2:{id:2,time:0,monsters:[17,17,17,17,17,17,22,23,18,18],monsters_level:[18,18,18,18,18,18,20,20,22,22],create_time:[1,1,2,2,3,3,1,2,3,3],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:.0275},3:{id:3,time:0,monsters:[17,17,17,17,24,24,24,24],monsters_level:[18,18,18,18,20,20,20,20],create_time:[1,2,3,4,1,2,3,4],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:.0275},4:{id:4,time:0,monsters:[17,17,17,17,25,25,25,25,29,31],monsters_level:[20,20,20,20,22,22,22,22,22,22],create_time:[1,2,3,4,1,2,3,4,1,3],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:.0275},5:{id:5,time:0,monsters:[17,17,17,17,17,26,26,28,24,24,29,30],monsters_level:[20,20,20,20,20,23,23,23,23,23,20,20],create_time:[0,.1,.2,.3,.4,1,2,3,1,2,0,1],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:75,user_exp_proportion:.0275},6:{id:6,time:0,monsters:[17,17,17,17,18,24,24,24,24],monsters_level:[23,23,23,23,25,25,25,25,25],create_time:[0,.5,1,1,2,1.5,1.5,1.5,1.5],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:75,user_exp_proportion:.0275},7:{id:7,time:0,monsters:[17,17,17,17,17,19,25,25,25,25],monsters_level:[25,25,25,25,25,35,30,30,30,30],create_time:[0,.2,.4,.6,.8,1.5,1.2,1.2,1.2,1.2],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:65,user_exp_proportion:.0275},8:{id:8,time:0,monsters:[17,17,17,17,17,23,26,26,26,27],monsters_level:[30,30,30,30,30,36,30,30,30,30],create_time:[0,.2,.4,.6,.8,1.5,1,1.2,1.3,1.4],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:65,user_exp_proportion:.0275},9:{id:9,time:0,monsters:[17,17,17,17,17,17,17,17,24,25,26,27,28,29,30,31,25],monsters_level:[30,30,30,30,30,30,30,30,32,32,32,32,32,32,32,1,1],create_time:[.5,1,1.5,2,2.5,3,3.5,4,.5,1,1.5,2,2.5,.5,1.5,2.5,3],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:50,user_exp_proportion:.0275},10:{id:10,time:0,monsters:[17,17,17,17,17,17,17,17,18,19,20,22,23,21,29,19,19,18,18,19,19,17,17,17,17,17,17,17,17,24,24,25,25,26,26,27,28,29,30,31],monsters_level:[38,38,38,38,38,38,38,38,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,42,42,42,42,42,42,42,42,42,42,42],create_time:[0,.5,1,1.5,2,2.5,3,3.5,.5,1,1.5,2,2.5,1.5,.5,3,3.5,1.5,.5,.5,1.5,7,7.5,8,8.5,9,9.5,10,10.5,7.5,8.5,8,9.5,8.5,9.5,10.5,10,7,8,9],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:1,exp_proportion:50,user_exp_proportion:.0275},11:{id:11,time:0,monsters:[17,17,17,17,17,18,24,24,24,24,24],monsters_level:[45,45,45,45,45,50,46,46,46,46,46],create_time:[0,.1,.2,.3,.4,2,1,1,1,1,1],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:40,user_exp_proportion:.0275},12:{id:12,time:0,monsters:[17,17,17,17,17,19,25,25,25,25,25],monsters_level:[45,45,45,45,45,50,46,46,46,46,46],create_time:[0,.1,.2,.3,.4,2,1,1,1,1,1],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:40,user_exp_proportion:.0275},13:{id:13,time:0,monsters:[17,17,17,17,17,22,26,26,26,26],monsters_level:[50,50,50,50,50,55,52,52,52,52],create_time:[.1,.2,.3,.4,.5,2,1,1,1,1],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:30,user_exp_proportion:.0275},14:{id:14,time:0,monsters:[17,17,17,17,21,29,24,24,24,19,19,23],monsters_level:[50,50,50,50,50,50,55,55,55,50,50,50],create_time:[.2,.3,.4,.5,0,2,.5,1,1,1.5,1.5,2],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:30,user_exp_proportion:.0275},15:{id:15,time:0,monsters:[21,29,30,17,17,18,18,19,19,20,20],monsters_level:[50,50,50,55,55,55,55,55,55,55,55],create_time:[1,2,3,0,.5,1,1.5,2,2.5,3,3.5],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:20,user_exp_proportion:.0275},16:{id:16,time:0,monsters:[21,29,30,17,17,25,25,26,26,25,24],monsters_level:[50,50,50,55,55,60,60,60,60,60,60],create_time:[0,1.5,3,0,.5,1,1.5,2,2.5,3,3.5],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:20,user_exp_proportion:.0275},17:{id:17,time:0,monsters:[17,17,17,17,17,29,31,30,18,18,19,19,20,22,23],monsters_level:[55,55,55,55,55,55,55,55,60,60,60,60,60,60,60],create_time:[0,.5,1,1.5,2,2.5,1,2,0,.5,1,1.5,2,3,4],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:20,user_exp_proportion:.0275},18:{id:18,time:0,monsters:[17,17,17,17,17,17,17,17,17,19,19,24,24,24,24,24,24],monsters_level:[60,60,60,60,60,60,60,60,60,65,65,65,65,65,65,65,65],create_time:[0,0,.5,.5,1,1,1.5,1.5,1.5,.5,1,0,.5,1,1.5,2,2.5],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:20,user_exp_proportion:.0275},19:{id:19,time:0,monsters:[17,17,17,17,17,17,17,17,17,19,19,24,24,24,24,24,23,22],monsters_level:[60,60,60,60,60,60,60,60,60,65,65,65,65,65,65,65,65,65],create_time:[0,0,.5,.5,1,1,1.5,1.5,1.5,.5,1,0,.5,1,1.5,2,1,3],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:0,user_exp_proportion:.0275},20:{id:20,time:0,monsters:[14,17,17,21,18,18,19,19,29,20,20,22,17,17,20,23,30,17,17,24,24,24,25,25,25,26,17,31,17,27,17,17,28,17,17],monsters_level:[1,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69],create_time:[0,3,3,3,6,6,9,9,9,12,12,15,15,15,18,18,18,18,18,21,21,21,24,24,24,27,27,27,27,30,30,30,33,33,33],wait_finish:1,boss_died_finished:1,loop_create_monsters:1,show_warning:1,exp_proportion:0,user_exp_proportion:.4775}},TableChapter_3:{1:{id:1,time:0,monsters:[33,33,33,33,33,33],monsters_level:[1,1,1,1,1,1],create_time:[0,.3,.6,.9,1.2,1.5],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:.026},2:{id:2,time:0,monsters:[33,33,33,33,33,33,41,41,41,41],monsters_level:[1,1,1,1,1,1,1,1,1,1],create_time:[0,.4,.8,1.2,1.6,2,0,0,0,0],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:.026},3:{id:3,time:0,monsters:[41,41,41,41,33,33,33,33,33,17,17,17,18,18,18],monsters_level:[1,1,1,1,1,1,1,1,1,70,70,70,70,70,70],create_time:[0,0,0,0,.2,.4,.6,.8,1,2.2,1.8,1.4,2,1.6,1.2],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:.026},4:{id:4,time:0,monsters:[33,33,33,33,33,33,19,19,19,34,34],monsters_level:[1,1,1,1,1,1,70,70,70,1,1],create_time:[0,.5,1,1.5,2,2.5,.5,1,1.5,1,2],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:.026},5:{id:5,time:0,monsters:[33,33,33,33,33,33,34,34,34,34,24,24,24,24],monsters_level:[1,1,1,1,1,1,1,1,1,1,70,70,70,70],create_time:[.5,1,1.5,2,2.5,3,.5,1,1.5,2,1,2,3,4],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:.026},6:{id:6,time:0,monsters:[33,33,33,33,33,33,17,17,17,17,17,41,41,41,41,34,34,34,34],monsters_level:[1,1,1,1,1,1,70,70,70,70,70,1,1,1,1,1,1,1,1],create_time:[.5,1,1.5,2,2.5,3,0,.5,1,1.5,2,0,0,0,0,.5,1,1.5,2],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:.026},7:{id:7,time:0,monsters:[33,33,33,33,33,33,36,36,25,25,25,19,19,41,41,29],monsters_level:[15,15,15,15,15,15,15,15,80,80,80,80,80,10,10,10],create_time:[0,.2,.4,.6,.8,1,.5,1,.5,1,1.5,1,1.5,0,0,1],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:70,user_exp_proportion:.026},8:{id:8,time:0,monsters:[41,41,41,41,41,36,36,33,33,33,29,20],monsters_level:[15,15,15,15,15,15,15,15,15,15,80,90],create_time:[0,0,0,0,0,0,0,0,0,0,0,1],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:70,user_exp_proportion:.026},9:{id:9,time:0,monsters:[33,41,41,41,41,33,33,33,33,33,35,37,36,29,30],monsters_level:[20,20,20,20,20,20,20,20,20,20,20,20,20,90,90],create_time:[0,0,0,0,0,.5,1,1.5,2,2.5,1,1.5,2,.5,1],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:60,user_exp_proportion:.026},10:{id:10,time:0,monsters:[41,41,41,41,33,33,33,33,33,33,33,33,33,33,17,17,17,17,17,17,17,17,17,17,21,29,30,31,34,35,36,27,24,24,18,18,24,24,24],monsters_level:[25,25,25,25,25,25,25,25,25,25,25,25,25,25,100,100,100,100,100,100,100,100,100,100,25,25,25,25,25,25,25,100,100,100,100,100,100,100,100],create_time:[0,.5,1,1.5,2,2.5,3,3.5,4,4.5,5,5.5,6,6.5,0,.5,1,1.5,2,2.5,3,3.5,4,4.5,.5,1.5,2.5,3.5,1,2,1,4,2,4,1.5,2.5,.5,2,3],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:1,exp_proportion:60,user_exp_proportion:.03},11:{id:11,time:0,monsters:[40,39,38,40,39,38,40,39,38,40,39,38,40,39,38,40,39,38,40,39],monsters_level:[20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20],create_time:[.2,.4,.6,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.4,2.6,2.8,3,3.2,3.4,3.6,3.8,4],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:60,user_exp_proportion:.04},12:{id:12,time:0,monsters:[33,33,33,33,33,17,17,17,17,17,20,22,41,41,35,34,37,31,30],monsters_level:[30,30,30,30,30,30,30,30,30,30,110,110,110,110,30,30,30,110,110],create_time:[0,.5,1,1.5,2,0,.5,1,1.5,2,1,2,1,1,1,2,2,0,.5],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:60,user_exp_proportion:.026},13:{id:13,time:0,monsters:[33,41,41,41,33,33,33,33,33,33,18,18,18,20,20,20,29,30,31,37,36,35],monsters_level:[35,35,35,35,35,35,35,35,35,35,120,120,120,120,120,120,120,120,120,35,35,35],create_time:[0,0,0,0,0,.5,.5,1,1,1.5,1,2,3,.5,1.5,2.5,0,1,2,2,4,3],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:55,user_exp_proportion:.026},14:{id:14,time:0,monsters:[33,33,33,33,33,33,29,34,34,34,34,35,34],monsters_level:[35,35,35,35,35,35,120,35,35,35,35,40,35],create_time:[0,.2,.4,.6,.8,1,.5,.7,.9,1.1,1.3,1,1.5],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:55,user_exp_proportion:.026},15:{id:15,time:0,monsters:[33,33,33,33,33,33,36,36,19,19,19,25,25,25],monsters_level:[40,40,40,40,40,40,40,40,125,125,125,125,125,125],create_time:[0,.2,.4,.6,.8,1,2,2,.6,1,.6,.8,1,1.2],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:50,user_exp_proportion:.026},16:{id:16,time:0,monsters:[33,33,33,33,33,33,19,19,19,25,25,25,36,36],monsters_level:[40,40,40,40,40,40,125,125,125,125,125,125,40,40],create_time:[0,.2,.4,.6,.8,1,.6,1,.6,.8,1,1.2,2,3],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:50,user_exp_proportion:.026},17:{id:17,time:0,monsters:[41,41,41,41,41,41,41,41,41,41,41,33,33,33,33,33,33],monsters_level:[40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40,40],create_time:[0,0,0,0,0,3.5,3.5,3.5,3.5,3.5,3.5,0,1,2,3,4,5],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:45,user_exp_proportion:.026},18:{id:18,time:0,monsters:[33,33,33,33,17,17,17,17,35,35,37,18,18,18,23],monsters_level:[45,45,45,45,130,130,130,130,45,45,45,130,130,130,130],create_time:[0,.4,.8,1.2,.2,.6,1,1.4,.5,1,1.5,.5,1,2,3],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:45,user_exp_proportion:.026},19:{id:19,time:0,monsters:[41,41,41,41,33,33,33,33,33,18,18,18,23],monsters_level:[45,45,45,45,45,45,45,45,45,130,130,130,130],create_time:[0,0,0,0,.2,.4,.6,.8,1,.5,1,1.5,1],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:40,user_exp_proportion:.026},20:{id:20,time:0,monsters:[14,33,33,34,34,33,33,35,36,33,33,41,41,41,33,33,18,18,19,17,17,23,27,35],monsters_level:[4,45,45,45,45,45,45,45,45,45,45,45,45,45,45,45,130,130,130,130,130,130,130,45],create_time:[0,1,1,1,1,4,4,4,4,9,9,9,9,9,14,14,14,14,14,19,19,19,19,19],wait_finish:1,boss_died_finished:1,loop_create_monsters:1,show_warning:1,exp_proportion:40,user_exp_proportion:.032},21:{id:21,time:0,monsters:[40,39,38,40,39,38,40,39,38,40,39,38,40,39,38,40,39,38,40,39,40,39,38,40,39,38,40,39,38,40],monsters_level:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],create_time:[.2,.4,.6,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.4,2.6,2.8,3,3.2,3.4,3.6,3.8,4,4.2,4.6,4.8,5,5.2,5.4,5.6,5.8,6,6.2],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:35,user_exp_proportion:.0455},22:{id:22,time:0,monsters:[33,33,33,33,33,41,41,41,41,35,35,18,18,18,18,23,23],monsters_level:[50,50,50,50,50,501,50,50,50,50,50,135,135,135,135,135,135],create_time:[.2,.4,.6,.8,1,0,0,0,0,1,1.5,.5,1,1.5,2,3,2],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:35,user_exp_proportion:.026},23:{id:23,time:0,monsters:[33,41,41,41,41,41,33,33,33,33,33,23,22,24,30,31,29,36],monsters_level:[55,55,55,55,55,55,55,55,55,55,55,140,140,140,140,140,140,55],create_time:[0,0,0,0,0,0,.5,1,1.5,2,2.5,1,2,1,.5,1,0,3],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:30,user_exp_proportion:.026},24:{id:24,time:0,monsters:[33,33,33,33,33,33,17,17,17,17,17,17,21,29,30,35,35,24,24,24,27,36,37],monsters_level:[60,60,60,60,60,60,140,140,140,140,140,140,140,140,140,60,60,140,140,140,140,60,60],create_time:[0,.5,1,1.5,2,2.5,.5,1,1.5,2,2.5,3,1,2,3,1,2,0,1,2,3,2,3],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:30,user_exp_proportion:.026},25:{id:25,time:0,monsters:[41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,33,33,33,33,33,17,17,17,17,17,41,41,41],monsters_level:[60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60,60],create_time:[0,0,0,0,0,3,3,3,3,3,6,6,6,6,6,1,3,5,1,7,2,4,6,2,7,0,3,6],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:25,user_exp_proportion:.026},26:{id:26,time:0,monsters:[41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,41,34,34,34],monsters_level:[65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,65,70,70,70],create_time:[0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,1,3,6],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:25,user_exp_proportion:.026},27:{id:27,time:0,monsters:[41,41,41,41,41,41,34,35,36,37,18,18,18,21,33,33,33,35,23,29,30,29,37,33,33,33,33,33,33],monsters_level:[70,70,70,70,70,70,70,70,70,70,145,145,145,145,70,70,70,70,145,145,145,145,70,70,70,70,70,70,70],create_time:[0,1,2,3,4,5,2,3,2,1,2,0,1,1,2,1,0,5,6,2,4,6,6,1,2,3,4,5,6],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:20,user_exp_proportion:.026},28:{id:28,time:0,monsters:[33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,37,36,35,18,18,18,18,18,24,24,24,24,24],monsters_level:[75,75,75,75,75,75,75,75,75,75,75,75,75,75,75,75,75,75,75,150,150,150,150,150,150,150,150,150,150],create_time:[0,.2,.4,.6,.8,1,1.2,1.4,1.6,1.8,2,2.4,2.6,2.8,3,3.2,2,2.5,2,.2,.4,1.8,1.4,.8,2,1.6,1.2,1,.6],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:20,user_exp_proportion:.026},29:{id:29,time:0,monsters:[33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,33,37,36,35,18,18,18,18,18,24,24,24,24,24,41,41,41,41,41,41,21,21,21,29,30],monsters_level:[80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,80,155,155,155,155,155,155,155,155,155,155,80,80,80,80,80,80,155,155,155,155,155],create_time:[0,.2,.4,.6,.8,1,1.2,1.4,1.6,1.8,2,2.4,2.6,2.8,3,3.2,2,2.5,2,.2,.4,1.8,1.4,.8,2,1.6,1.2,1,.6,0,1,2,3,4,5,0,1,2,3,4],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:20,user_exp_proportion:.026},30:{id:30,time:0,monsters:[15,33,33,33,34,34,35,33,33,36,36,36,37,37,23,22,41,41,41,21,21,30,29,18,18,20,20,22,23,24,24,25,25,26,26,24,24],monsters_level:[1,85,85,85,85,85,85,85,85,85,85,85,85,85,140,140,85,85,85,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140,140],create_time:[0,3,3,3,6,6,9,9,9,12,12,12,15,15,18,18,21,21,21,3,8,16,22,3,3,6,6,9,9,12,12,15,15,18,18,21,21],wait_finish:1,boss_died_finished:1,loop_create_monsters:1,show_warning:1,exp_proportion:0,user_exp_proportion:.2025}},TableChapter_4:{1:{id:1,time:0,monsters:[44,44,44,44,45,45,45],monsters_level:[1,1,1,1,1,1,1],create_time:[0,1,2,3,.5,1.5,2.5],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:.026},2:{id:2,time:0,monsters:[44,44,45,45,43,43,46,47,48],monsters_level:[1,1,1,1,80,80,1,1,1],create_time:[0,.5,1,1.5,2,2.5,1,2,3],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:.026},3:{id:3,time:0,monsters:[44,44,44,45,45,45,47,46,51,49,49],monsters_level:[1,1,1,1,1,1,1,1,1,1,1],create_time:[0,2,4,1,3,5,.5,1.5,2.5,3,3],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:.026},4:{id:4,time:0,monsters:[44,44,44,45,45,45,48,47,46,50,49,51],monsters_level:[1,1,1,1,1,1,1,1,1,1,1,1],create_time:[0,2,4,1,3,5,1.5,2.5,3.5,2.5,4.5,3],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:.026},5:{id:5,time:0,monsters:[44,48,17,25,45,19,43,23,44,18,45,43,41,42,48,45,45,48,42,20,45,45,36,33,44,45,36,45,23,49,41],monsters_level:[16,16,145,145,16,145,86,145,16,145,16,86,86,145,16,16,16,16,145,145,16,16,86,86,16,16,86,16,145,16,86],create_time:[0,0,0,0,2.42,2.42,2.42,2.42,2.42,4.84,4.84,4.84,4.84,4.84,6.31,6.31,6.31,6.31,6.31,7.83,7.83,7.83,7.83,7.83,7.83,7.83,9.33,9.33,9.33,9.33,2.57],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:.026},6:{id:6,time:0,monsters:[45,44,47,47,44,45,46,42,33,45,33,47,45,44,45,46,44,42,45,45,44,18,24,45,44,45,41,43,45,43,44,51,22,22,41],monsters_level:[19,19,19,19,19,19,19,148,89,19,89,19,19,19,19,19,19,148,19,19,19,148,148,19,19,19,89,89,19,89,19,19,148,148,89],create_time:[0,0,0,0,0,0,0,1.89,1.89,1.89,1.89,1.89,1.89,3.83,3.83,3.83,3.83,6.12,6.12,6.12,6.12,6.12,6.12,7.98,7.98,7.98,9.53,9.53,9.53,9.53,9.53,0,1.5,3.1,6],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:.026},7:{id:7,time:0,monsters:[45,49,23,35,37,50,50,42,45,41,23,50,45,49,47,26,18,50,43,19],monsters_level:[21,21,150,91,91,21,21,150,21,91,150,21,21,21,21,150,150,21,91,150],create_time:[0,0,0,0,1.55,1.55,1.55,1.55,4.25,4.25,4.25,6.5,6.5,6.5,8.9,8.9,8.9,8.9,8.9,8.9],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:70,user_exp_proportion:.026},8:{id:8,time:0,monsters:[42,45,45,41,42,43,50,50,44,50,50,45,27,45,45,41,48,23,44,22,42,50,47,51,41],monsters_level:[153,24,24,94,153,94,24,24,24,24,24,24,153,24,24,94,24,153,24,153,153,24,24,24,94],create_time:[0,0,0,0,0,0,0,1.72,1.72,1.72,3.77,3.77,3.77,3.77,3.77,3.77,3.77,6.42,6.42,6.42,6.42,6.42,6.42,1.11,3.42],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:70,user_exp_proportion:.026},9:{id:9,time:0,monsters:[49,46,50,44,45,44,50,33,45,44,49,50,50,33,45,50,50,45,45,50,45,44,50,22,31],monsters_level:[24,24,24,24,24,24,24,94,24,24,24,24,24,94,24,24,24,24,24,24,24,24,24,153,153],create_time:[0,0,0,0,0,0,2.76,2.76,2.76,2.76,4.41,4.41,4.41,4.41,4.41,4.41,6.2,6.2,6.2,6.2,6.2,6.2,6.2,4.22,8.37],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:60,user_exp_proportion:.026},10:{id:10,time:0,monsters:[15,28,33,45,41,47,44,50,50,45,44,17,45,50,45,42,42,50,50,20,49,34,45,44,46,42,17,18,44,46,18,45,17,22,43,45,33,17,19,45,44,50,42,50,50,44,47,45,50,45,45,45,45,28,45,48,44,49,28,43,23,45,19,35,44,47,50,45,43,45,17,47,37,44,46,37,45,48,49,44,44,50,51,29,51,22,31,51,30,29,51,22,51],monsters_level:[9,156,97,27,97,27,27,27,27,27,27,156,27,27,27,156,156,27,27,156,27,97,27,27,27,156,156,156,27,27,156,27,156,156,97,27,97,156,156,27,27,27,156,27,27,27,27,27,27,27,27,27,27,156,27,27,27,27,156,97,156,27,156,97,27,27,27,27,97,27,156,27,97,27,27,97,27,27,27,27,27,27,27,156,27,156,156,27,156,156,27,156,27],create_time:[0,0,0,0,3,3,3,6,6,6,6,6,6,9,9,9,12,12,12,15,15,15,15,15,18,18,18,18,21,21,21,21,21,21,24,24,24,24,27,27,27,30,30,30,30,30,33,33,33,36,36,36,36,36,36,39,39,39,42,42,42,42,45,45,45,48,48,48,48,48,51,51,51,51,51,54,54,54,57,57,57,57,0,3,6,9,12,18,24,27,33,39,45],wait_finish:1,boss_died_finished:1,loop_create_monsters:1,show_warning:1,exp_proportion:60,user_exp_proportion:.03},11:{id:11,time:0,monsters:[40,39,38,40,39,38,40,39,38,40,39,38,40,39,38,40,39,38,40,39],monsters_level:[139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139,139],create_time:[.2,.4,.6,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.4,2.6,2.8,3,3.2,3.4,3.6,3.8,4],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:60,user_exp_proportion:.04},12:{id:12,time:0,monsters:[44,50,46,42,50,45,44,49,45,49,50,46,47,44,48,22,45,50,45,43,19,45,45,50,33,50,45,51,30,51],monsters_level:[32,32,32,161,32,32,32,32,32,32,32,32,32,32,32,161,32,32,32,102,161,32,32,32,102,32,32,32,161,32],create_time:[0,0,0,0,0,0,0,2.54,2.54,2.54,2.54,4.59,4.59,4.59,6.46,6.46,6.46,6.46,8.39,8.39,8.39,8.39,8.39,8.39,10,10,10,0,3.76,4.85],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:60,user_exp_proportion:.026},13:{id:13,time:0,monsters:[46,44,49,43,50,45,50,44,45,49,17,44,28,26,50,45,45,50,45,46,50,45,45,46,51,29,51,30],monsters_level:[34,34,34,104,34,34,34,34,34,34,163,34,163,163,34,34,34,34,34,34,34,34,34,34,34,163,34,163],create_time:[0,0,0,0,1.56,1.56,1.56,3.8,3.8,3.8,3.8,3.8,6.16,6.16,6.16,9.14,9.14,9.14,9.14,9.14,11.07,11.07,11.07,11.07,0,4.52,6.95,8.15],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:55,user_exp_proportion:.026},14:{id:14,time:0,monsters:[48,44,50,49,33,50,28,28,46,46,48,50,48,44,45,50,45,50,23,45,48,45,50,50,44,45,50,50,18],monsters_level:[37,37,37,37,107,37,166,166,37,37,37,37,37,37,37,37,37,37,166,37,37,37,37,37,37,37,37,37,166],create_time:[0,0,0,0,0,0,0,2.67,2.67,2.67,2.67,2.67,2.67,4.29,4.29,4.29,4.29,4.29,4.29,6.44,6.44,6.44,6.44,6.44,6.44,6.44,9.06,9.06,9.06],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:55,user_exp_proportion:.026},15:{id:15,time:0,monsters:[44,19,45,17,44,43,50,46,49,44,19,45,41,49,23,48,48,50,44,33,50,43,42,50,42,50,50,50,51,30,51,31],monsters_level:[40,169,40,169,40,110,40,40,40,40,169,40,110,40,169,40,40,40,40,110,40,110,169,40,169,40,40,40,40,169,40,169],create_time:[0,0,0,0,0,2.71,2.71,2.71,2.71,5.05,5.05,5.05,5.05,5.05,6.81,6.81,6.81,6.81,9.29,9.29,9.29,11.8,11.8,11.8,11.8,11.8,11.8,11.8,1.83,3.13,4.13,6.45],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:50,user_exp_proportion:.026},16:{id:16,time:0,monsters:[45,17,35,35,50,34,50,45,45,50,48,50,49,44,50,49,50,20,44,22,18,50,41,47,35,46,17,22,30],monsters_level:[42,171,112,112,42,112,42,42,42,42,42,42,42,42,42,42,42,171,42,171,171,42,112,42,112,42,171,171,171],create_time:[0,0,0,1.51,1.51,1.51,1.51,3.58,3.58,3.58,5.92,5.92,5.92,5.92,5.92,5.92,7.8,7.8,7.8,7.8,7.8,9.58,9.58,9.58,9.58,9.58,9.58,1.98,5.2],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:50,user_exp_proportion:.026},17:{id:17,time:0,monsters:[45,25,50,19,48,18,42,50,23,45,45,47,50,42,49,27,35,50,45,50,41,48,18,45,17,23,45,36,45,17,42,50,51],monsters_level:[45,174,45,174,45,174,174,45,174,45,45,45,45,174,45,174,115,45,45,45,115,45,174,45,174,174,45,115,45,174,174,45,45],create_time:[0,0,0,0,0,0,0,2.17,2.17,2.17,2.17,4.36,4.36,4.36,5.89,5.89,5.89,5.89,5.89,7.67,7.67,7.67,7.67,7.67,7.67,7.67,9.57,9.57,9.57,9.57,9.57,9.57,4.03],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:45,user_exp_proportion:.026},18:{id:18,time:0,monsters:[48,50,45,50,35,45,45,47,18,50,44,28,48,50,44,25,50,49,50,46,50,17,43,17,43,36,42,43,43,50,45,50,23,51,51,31,30],monsters_level:[47,47,47,47,117,47,47,47,176,47,47,176,47,47,47,176,47,47,47,47,47,176,117,176,117,117,176,117,117,47,47,47,176,47,47,176,176],create_time:[0,0,0,0,0,0,2.03,2.03,2.03,2.03,2.03,2.03,2.03,4.07,4.07,4.07,4.07,4.07,5.99,5.99,5.99,5.99,5.99,8.78,8.78,8.78,8.78,8.78,8.78,8.78,10.59,10.59,10.59,0,4.17,5.83,8.77],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:45,user_exp_proportion:.026},19:{id:19,time:0,monsters:[50,35,48,50,45,45,44,33,49,44,42,47,45,42,45,50,46,45,41,44,44,50,50,43,50,45,50,28,42,49,34,31,31],monsters_level:[50,120,50,50,50,50,50,120,50,50,179,50,50,179,50,50,50,50,120,50,50,50,50,120,50,50,50,179,179,50,120,179,179],create_time:[0,0,0,1.56,1.56,1.56,1.56,1.56,1.56,3.43,3.43,3.43,3.43,3.43,3.43,5.02,5.02,5.02,5.02,5.02,5.02,7.03,7.03,7.03,7.03,7.03,7.03,7.03,8.6,8.6,8.6,0,3.65],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:40,user_exp_proportion:.026},20:{id:20,time:0,monsters:[14,47,45,50,50,45,43,50,23,17,45,50,43,45,48,26,33,43,50,44,50,35,23,41,45,50,24,45,44,33,46,33,45,44,43,42,50,50,20,46,28,45,20,50,50,17,26,45,26,35,50,43,45,50,27,45,47,49,33,44,49,49,45,49,44,17,50,46,49,50,50,46,41,45,46,46,17,44,47,47,42,42,45,45,17,50,43,45,46,49,45,50,50,33,50,50,31,30,51,22,30,22,29,22,51,51],monsters_level:[30,53,53,53,53,53,123,53,182,182,53,53,123,53,53,182,123,123,53,53,53,123,182,123,53,53,182,53,53,123,53,123,53,53,123,182,53,53,182,53,182,53,182,53,53,182,182,53,182,123,53,123,53,53,182,53,53,53,123,53,53,53,53,53,53,182,53,53,53,53,53,53,123,53,53,53,182,53,53,53,182,182,53,53,182,53,123,53,53,53,53,53,53,123,53,53,182,182,53,182,182,182,182,182,53,53],create_time:[0,0,0,0,0,3,3,3,3,3,3,6,6,6,6,9,9,9,12,12,12,12,12,12,15,15,15,15,15,15,18,18,18,18,18,21,21,21,21,24,24,24,24,24,24,27,27,27,27,27,30,30,30,30,33,33,33,33,36,36,36,36,36,36,39,39,39,39,39,42,42,42,42,42,45,45,45,48,48,48,48,48,48,51,51,51,51,51,54,54,54,54,57,57,57,57,0,3,9,15,18,27,33,39,42,45],wait_finish:1,boss_died_finished:1,loop_create_monsters:1,show_warning:1,exp_proportion:40,user_exp_proportion:.032},21:{id:21,time:0,monsters:[40,39,38,40,39,38,40,39,38,40,39,38,40,39,38,40,39,38,40,39,40,39,38,40,39,38,40,39,38,40],monsters_level:[200,200,200,200,200,200,200,200,198,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200,200],create_time:[.2,.4,.6,.8,1,1.2,1.4,1.6,1.8,2,2.2,2.4,2.6,2.8,3,3.2,3.4,3.6,3.8,4,4.2,4.6,4.8,5,5.2,5.4,5.6,5.8,6,6.2],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:35,user_exp_proportion:.0455},22:{id:22,time:0,monsters:[46,47,45,50,45,50,18,17,50,44,50,41,46,34,18,44,45,50,44,20,50,50,48,50,45,19,43,45,44,45,19,45,50,50,50],monsters_level:[58,58,58,58,58,58,187,187,58,58,58,128,58,128,187,58,58,58,58,187,58,58,58,58,58,187,128,58,58,58,187,58,58,58,58],create_time:[0,0,0,2.34,2.34,2.34,2.34,2.34,2.34,2.34,4.28,4.28,4.28,4.28,4.28,4.28,7.12,7.12,7.12,7.12,7.12,7.12,10.03,10.03,10.03,10.03,10.03,10.03,12.98,12.98,12.98,12.98,12.98,12.98,12.98],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:35,user_exp_proportion:.026},23:{id:23,time:0,monsters:[37,41,45,48,45,22,50,50,43,44,49,42,18,50,43,44,34,50,45,50,18,43,50,50,45,51,22,22,51],monsters_level:[130,130,60,60,60,189,60,60,130,60,60,189,189,60,130,60,130,60,60,60,189,130,60,60,60,60,189,189,60],create_time:[0,0,0,0,0,2.29,2.29,2.29,2.29,2.29,2.29,3.87,3.87,3.87,3.87,3.87,6.12,6.12,6.12,9.08,9.08,9.08,9.08,9.08,9.08,0,2.17,3.52,4.77],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:30,user_exp_proportion:.026},24:{id:24,time:0,monsters:[44,49,45,41,37,44,50,45,50,28,19,45,17,28,50,18,49,45,43,18,19,45,50,45,49,44,34,50,50,49,50,31,51,51,51],monsters_level:[63,63,63,133,133,63,63,63,63,192,192,63,192,192,63,192,63,63,133,192,192,63,63,63,63,63,133,63,63,63,63,192,63,63,63],create_time:[0,0,0,0,0,0,2.6,2.6,2.6,2.6,2.6,2.6,5.54,5.54,5.54,5.54,5.54,5.54,7.91,7.91,7.91,7.91,9.84,9.84,9.84,9.84,12.58,12.58,12.58,12.58,12.58,0,2.85,5.9,7.89],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:30,user_exp_proportion:.026},25:{id:25,time:0,monsters:[44,42,50,44,45,50,44,50,35,46,44,17,45,50,41,45,45,45,27,42,50,42,45,50,50,45,43,50,34,45,18,43,45,25,45,50,51,51],monsters_level:[66,195,66,66,66,66,66,66,136,66,66,195,66,66,136,66,66,66,195,195,66,195,66,66,66,66,136,66,136,66,195,136,66,195,66,66,66,66],create_time:[0,0,0,0,0,0,1.76,1.76,1.76,1.76,1.76,3.6,3.6,3.6,3.6,3.6,3.6,3.6,5.78,5.78,5.78,5.78,5.78,5.78,7.46,7.46,7.46,7.46,7.46,10.07,10.07,10.07,10.07,10.07,10.07,10.07,0,3.43],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:25,user_exp_proportion:.026},26:{id:26,time:0,monsters:[45,50,45,19,49,50,47,37,24,45,50,49,50,45,50,27,44,34,49,20,45,45,45,50,45,45,23,45,50,50,43,17,17,50,51,51,51,31],monsters_level:[68,68,68,197,68,68,68,138,197,68,68,68,68,68,68,197,68,138,68,197,68,68,68,68,68,68,197,68,68,68,138,197,197,68,68,68,68,197],create_time:[0,0,0,0,0,0,1.67,1.67,1.67,1.67,1.67,4.6,4.6,4.6,7.59,7.59,7.59,7.59,7.59,7.59,7.59,9.24,9.24,9.24,9.24,9.24,9.24,9.24,10.93,10.93,10.93,10.93,10.93,10.93,2.34,6.02,8.05,9.42],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:25,user_exp_proportion:.026},27:{id:27,time:0,monsters:[43,50,46,46,42,50,35,19,48,48,50,17,25,44,45,50,45,50,48,37,44,50,50,45,45,18,51,51,51],monsters_level:[141,71,71,71,200,71,141,200,71,71,71,200,200,71,71,71,71,71,71,141,71,71,71,71,71,200,71,71,71],create_time:[0,0,0,0,0,0,2.78,2.78,2.78,2.78,2.78,2.78,2.78,5.19,5.19,5.19,5.19,5.19,5.19,7.8,7.8,7.8,10.07,10.07,10.07,10.07,1.54,3.44,9.04],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:20,user_exp_proportion:.026},28:{id:28,time:0,monsters:[19,50,45,45,50,49,45,50,45,43,45,44,35,42,50,45,50,45,45,50,50,47,45,50,45,47,25,50,18,41,50,45,45,51],monsters_level:[202,73,73,73,73,73,73,73,73,143,73,73,143,202,73,73,73,73,73,73,73,73,73,73,73,73,202,73,202,143,73,73,73,73],create_time:[0,0,0,0,0,0,2.78,2.78,2.78,2.78,2.78,2.78,4.96,4.96,4.96,4.96,4.96,4.96,4.96,6.98,6.98,6.98,6.98,6.98,6.98,8.52,8.52,8.52,11.16,11.16,11.16,11.16,11.16,4.8],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:20,user_exp_proportion:.026},29:{id:29,time:0,monsters:[45,35,45,45,17,44,50,18,19,50,33,41,50,50,47,44,45,41,18,49,47,45,50,28,45,22,33,50,45,17,48,50,50,29,51],monsters_level:[76,146,76,76,205,76,76,205,205,76,146,146,76,76,76,76,76,146,205,76,76,76,76,205,76,205,146,76,76,205,76,76,76,205,76],create_time:[0,0,0,0,0,0,0,1.71,1.71,1.71,1.71,4.44,4.44,4.44,4.44,4.44,4.44,4.44,7.1,7.1,7.1,7.1,7.1,10.02,10.02,10.02,10.02,10.02,10.02,12.97,12.97,12.97,12.97,1.29,6.61],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:20,user_exp_proportion:.026},30:{id:30,time:0,monsters:[16,45,50,45,44,50,50,41,44,18,28,50,45,47,50,46,50,19,43,49,45,18,24,48,45,45,47,28,49,17,42,44,50,42,19,45,50,35,43,45,19,33,50,42,44,46,18,18,45,47,41,48,47,25,50,45,45,18,50,50,45,41,46,45,45,48,50,43,45,33,44,50,47,50,43,48,45,49,33,45,45,50,50,45,44,18,45,45,45,46,17,44,50,48,46,45,31,51,51,51,30,51,29,22,51,51,22],monsters_level:[1,79,79,79,79,79,79,149,79,208,208,79,79,79,79,79,79,208,149,79,79,208,208,79,79,79,79,208,79,208,208,79,79,208,208,79,79,149,149,79,208,149,79,208,79,79,208,208,79,79,149,79,79,208,79,79,79,208,79,79,79,149,79,79,79,79,79,149,79,149,79,79,79,79,149,79,79,79,149,79,79,79,79,79,79,208,79,79,79,79,208,79,79,79,79,79,208,79,79,79,208,79,208,208,79,79,208],create_time:[0,0,0,0,0,0,3,3,3,6,6,6,6,9,9,9,9,9,12,12,12,12,12,12,15,15,15,15,15,15,18,18,18,18,18,18,21,21,21,24,24,24,24,27,27,27,27,27,30,30,30,30,30,33,33,33,33,33,33,36,36,36,39,39,39,39,39,39,42,42,42,45,45,45,48,48,48,48,48,48,51,51,51,51,51,51,54,54,54,54,54,57,57,57,57,57,6,12,18,21,24,30,33,45,48,54,57],wait_finish:1,boss_died_finished:1,loop_create_monsters:1,show_warning:1,exp_proportion:0,user_exp_proportion:.2025}},TableChapter_5:{1:{id:1,time:0,monsters:[15,17,17,21,18,18,19,19,29,20,20,22,17,17,20,23,30,17,17,24,24,24,25,25,25,26,17,31,17,27,17,17,28,17,17],monsters_level:[100,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69],create_time:[0,3,3,3,6,6,9,9,9,12,12,15,15,15,18,18,18,18,18,21,21,21,24,24,24,27,27,27,27,30,30,30,33,33,33],wait_finish:1,boss_died_finished:1,show_warning:1,exp_proportion:1,user_exp_proportion:0}},TableChapter_6:{1:{id:1,time:0,monsters:[15,17,17,21,18,18,19,19,29,20,20,22,17,17,20,23,30,17,17,24,24,24,25,25,25,26,17,31,17,27,17,17,28,17,17],monsters_level:[100,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69],create_time:[0,3,3,3,6,6,9,9,9,12,12,15,15,15,18,18,18,18,18,21,21,21,24,24,24,27,27,27,27,30,30,30,33,33,33],wait_finish:1,boss_died_finished:1,show_warning:1,exp_proportion:1,user_exp_proportion:0}},TableChapter_7:{1:{id:1,time:0,monsters:[15,17,17,21,18,18,19,19,29,20,20,22,17,17,20,23,30,17,17,24,24,24,25,25,25,26,17,31,17,27,17,17,28,17,17],monsters_level:[100,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69],create_time:[0,3,3,3,6,6,9,9,9,12,12,15,15,15,18,18,18,18,18,21,21,21,24,24,24,27,27,27,27,30,30,30,33,33,33],wait_finish:1,boss_died_finished:1,show_warning:1,exp_proportion:1,user_exp_proportion:0}},TableChapter_8:{1:{id:1,time:0,monsters:[15,17,17,21,18,18,19,19,29,20,20,22,17,17,20,23,30,17,17,24,24,24,25,25,25,26,17,31,17,27,17,17,28,17,17],monsters_level:[100,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69],create_time:[0,3,3,3,6,6,9,9,9,12,12,15,15,15,18,18,18,18,18,21,21,21,24,24,24,27,27,27,27,30,30,30,33,33,33],wait_finish:1,boss_died_finished:1,show_warning:1,exp_proportion:1,user_exp_proportion:0}},TableChapter_9:{1:{id:1,time:0,monsters:[15,17,17,21,18,18,19,19,29,20,20,22,17,17,20,23,30,17,17,24,24,24,25,25,25,26,17,31,17,27,17,17,28,17,17],monsters_level:[100,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69],create_time:[0,3,3,3,6,6,9,9,9,12,12,15,15,15,18,18,18,18,18,21,21,21,24,24,24,27,27,27,27,30,30,30,33,33,33],wait_finish:1,boss_died_finished:1,show_warning:1,exp_proportion:1,user_exp_proportion:0}},TableChapter_10:{1:{id:1,time:0,monsters:[15,17,17,21,18,18,19,19,29,20,20,22,17,17,20,23,30,17,17,24,24,24,25,25,25,26,17,31,17,27,17,17,28,17,17],monsters_level:[100,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69],create_time:[0,3,3,3,6,6,9,9,9,12,12,15,15,15,18,18,18,18,18,21,21,21,24,24,24,27,27,27,27,30,30,30,33,33,33],wait_finish:1,boss_died_finished:1,show_warning:1,exp_proportion:1,user_exp_proportion:0}},TableChapter_11:{1:{id:1,time:0,monsters:[15,17,17,21,18,18,19,19,29,20,20,22,17,17,20,23,30,17,17,24,24,24,25,25,25,26,17,31,17,27,17,17,28,17,17],monsters_level:[100,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69],create_time:[0,3,3,3,6,6,9,9,9,12,12,15,15,15,18,18,18,18,18,21,21,21,24,24,24,27,27,27,27,30,30,30,33,33,33],wait_finish:1,boss_died_finished:1,show_warning:1,exp_proportion:1,user_exp_proportion:0}},TableChapter_12:{1:{id:1,time:0,monsters:[15,17,17,21,18,18,19,19,29,20,20,22,17,17,20,23,30,17,17,24,24,24,25,25,25,26,17,31,17,27,17,17,28,17,17],monsters_level:[100,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69],create_time:[0,3,3,3,6,6,9,9,9,12,12,15,15,15,18,18,18,18,18,21,21,21,24,24,24,27,27,27,27,30,30,30,33,33,33],wait_finish:1,boss_died_finished:1,show_warning:1,exp_proportion:1,user_exp_proportion:0}},TableChapter_13:{1:{id:1,time:0,monsters:[15,17,17,21,18,18,19,19,29,20,20,22,17,17,20,23,30,17,17,24,24,24,25,25,25,26,17,31,17,27,17,17,28,17,17],monsters_level:[100,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69,69],create_time:[0,3,3,3,6,6,9,9,9,12,12,15,15,15,18,18,18,18,18,21,21,21,24,24,24,27,27,27,27,30,30,30,33,33,33],wait_finish:1,boss_died_finished:1,show_warning:1,exp_proportion:1,user_exp_proportion:0}},TableMainWeaponShop:{1:{id:1,plane_id:1,describe:"主武器1号",wealth_type:3,price:0},2:{id:2,plane_id:2,describe:"主武器2号",wealth_type:3,price:99},3:{id:3,plane_id:3,describe:"主武器3号",wealth_type:3,price:299},4:{id:4,plane_id:4,describe:"主武器4号",wealth_type:3,price:599},5:{id:5,plane_id:5,describe:"主武器5号",wealth_type:3,price:799},6:{id:6,plane_id:6,describe:"主武器6号",wealth_type:3,price:999}},TableDeputyWeaponShop:{1:{id:1,plane_id:7,describe:"副武器1号",chapter_unlock:1,level_unlock:5},2:{id:2,plane_id:8,describe:"副武器2号",chapter_unlock:2,level_unlock:10},3:{id:3,plane_id:9,describe:"副武器3号",chapter_unlock:3,level_unlock:15},4:{id:4,plane_id:10,describe:"副武器4号",chapter_unlock:4,level_unlock:15},5:{id:5,plane_id:11,describe:"副武器5号",chapter_unlock:5,level_unlock:15},6:{id:6,plane_id:12,describe:"副武器6号",chapter_unlock:6,level_unlock:15},7:{id:7,plane_id:13,describe:"副武器7号",chapter_unlock:7,level_unlock:15}},TableSignInConfig:{1:{id:1,describe:"Exp +120k",wealth_type_list:[1],award_list:[12e4]},2:{id:2,describe:"Core +6",wealth_type_list:[3],award_list:[6]},3:{id:3,describe:"Exp +240k",wealth_type_list:[1],award_list:[24e4]},4:{id:4,describe:"Core +6",wealth_type_list:[3],award_list:[6]},5:{id:5,describe:"Exp +360k",wealth_type_list:[1],award_list:[36e4]},6:{id:6,describe:"Core +6",wealth_type_list:[3],award_list:[6]},7:{id:7,describe:"Exp +900k,Core +15",wealth_type_list:[1,3],award_list:[9e5,15]}},TableDailyPack:{1:{id:1,describe:"Core +15",wealth_type:3,award_count:15},2:{id:2,describe:"Exp +500k",wealth_type:1,award_count:5e5},3:{id:3,describe:"SP +20",wealth_type:2,award_count:20}},TableChapterTask:{1:{id:1,describe:"Pass Chapter 1 Level 5",wealth_type_list:[3],award_list:[10],chapter:1,wave:5},2:{id:2,describe:"Pass Chapter 1 Level 10",wealth_type_list:[1,2],award_list:[5e4,5],chapter:1,wave:10},3:{id:3,describe:"Pass Chapter 2 Level 5",wealth_type_list:[1,3],award_list:[5e4,5],chapter:2,wave:5},4:{id:4,describe:"Pass Chapter 2 Level 10",wealth_type_list:[1,2],award_list:[5e4,5],chapter:2,wave:10},5:{id:5,describe:"通过第2章15波",wealth_type_list:[1,3],award_list:[6e4,5],chapter:2,wave:15},6:{id:6,describe:"通过第2章20波",wealth_type_list:[1,2,3],award_list:[1e5,5,20],chapter:2,wave:20},7:{id:7,describe:"通过第3章5波",wealth_type_list:[3,2],award_list:[10,5],chapter:3,wave:5},8:{id:8,describe:"通过第3章10波",wealth_type_list:[1,2],award_list:[8e4,5],chapter:3,wave:10},9:{id:9,describe:"通过第3章15波",wealth_type_list:[1,3],award_list:[8e4,5],chapter:3,wave:15},10:{id:10,describe:"通过第3章20波",wealth_type_list:[1,2],award_list:[8e4,5],chapter:3,wave:20},11:{id:11,describe:"通过第3章25波",wealth_type_list:[1,2],award_list:[1e5,5],chapter:3,wave:25},12:{id:12,describe:"通过第3章30波",wealth_type_list:[1,2,3],award_list:[15e4,5,20],chapter:3,wave:30},13:{id:13,describe:"通过第4章5波",wealth_type_list:[3,2],award_list:[10,5],chapter:4,wave:5},14:{id:14,describe:"通过第4章10波",wealth_type_list:[1,2],award_list:[5e5,5],chapter:4,wave:10},15:{id:15,describe:"通过第4章15波",wealth_type_list:[1,3],award_list:[5e5,5],chapter:4,wave:15},16:{id:16,describe:"通过第4章20波",wealth_type_list:[1,2],award_list:[5e5,5],chapter:4,wave:20},17:{id:17,describe:"通过第4章25波",wealth_type_list:[1,2],award_list:[1e6,5],chapter:4,wave:25},18:{id:18,describe:"通过第4章30波",wealth_type_list:[1,2,3],award_list:[2e6,5,15],chapter:4,wave:30},19:{id:19,describe:"通过第5章5波",wealth_type_list:[3,2],award_list:[10,5],chapter:5,wave:5},20:{id:20,describe:"通过第5章10波",wealth_type_list:[1,2],award_list:[15e5,5],chapter:5,wave:10},21:{id:21,describe:"通过第5章15波",wealth_type_list:[1,3],award_list:[15e5,5],chapter:5,wave:15},22:{id:22,describe:"通过第5章20波",wealth_type_list:[1,2],award_list:[15e5,5],chapter:5,wave:20},23:{id:23,describe:"通过第5章25波",wealth_type_list:[1,2],award_list:[5e6,5],chapter:5,wave:25},24:{id:24,describe:"通过第5章30波",wealth_type_list:[1,2,3],award_list:[1e7,5,15],chapter:5,wave:30}},TableBulletsConfig:{1:{id:1,name:"主武器1号子弹",resource_path:"prefab/game/bullets/main_weapon/bullet_main_weapon_1",bullet_script:"Bullet_Straight",fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:2e3,collision_type:0,is_blast:0,lock_point:0},2:{id:2,name:"主武器2号子弹",resource_path:"prefab/game/bullets/main_weapon/bullet_main_weapon_2",bullet_script:"Bullet_Straight",fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:2e3,collision_type:0,is_blast:0,lock_point:0},3:{id:3,name:"主武器3号子弹",resource_path:"prefab/game/bullets/main_weapon/bullet_main_weapon_3",bullet_script:"Bullet_Straight",fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:2e3,collision_type:0,is_blast:0,lock_point:0},4:{id:4,name:"主武器4号子弹",resource_path:"prefab/game/bullets/main_weapon/bullet_main_weapon_4",bullet_script:"Bullet_Straight",fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:2e3,collision_type:0,is_blast:0,lock_point:0},5:{id:5,name:"主武器5号子弹",resource_path:"prefab/game/bullets/main_weapon/bullet_main_weapon_5",bullet_script:"Bullet_Straight",fly_script:"FlyScript_Arc",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:2300,collision_type:0,is_blast:0,lock_point:0},6:{id:6,name:"主武器6号子弹",resource_path:"prefab/game/bullets/main_weapon/bullet_main_weapon_6",bullet_script:"Bullet_Straight",fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:2e3,collision_type:1,is_blast:0,lock_point:0},7:{id:7,name:"副武器1号子弹",resource_path:"prefab/game/bullets/deputy_weapon/bullet_deputy_weapon_1",bullet_script:"Bullet_Straight",fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:2e3,collision_type:0,is_blast:0,lock_point:0},8:{id:8,name:"副武器2号子弹",resource_path:"prefab/game/bullets/deputy_weapon/bullet_deputy_weapon_2",bullet_script:"Bullet_Straight",fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:2e3,collision_type:0,is_blast:0,lock_point:0},9:{id:9,name:"副武器3号子弹",resource_path:"prefab/game/bullets/deputy_weapon/bullet_deputy_weapon_3",bullet_script:"Bullet_Oblique",fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:2e3,collision_type:0,is_blast:0,lock_point:0},10:{id:10,name:"副武器4号子弹",resource_path:"prefab/game/bullets/deputy_weapon/bullet_deputy_weapon_4",bullet_script:"Bullet_Oblique",fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:2e3,collision_type:0,is_blast:0,lock_point:0},11:{id:11,name:"副武器5号子弹",resource_path:"prefab/game/bullets/deputy_weapon/bullet_deputy_weapon_5",bullet_script:"Bullet_Gatling",fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:2e3,collision_type:0,is_blast:0,lock_point:0},12:{id:12,name:"副武器6号子弹",resource_path:"prefab/game/bullets/deputy_weapon/bullet_deputy_weapon_6",bullet_script:"Bullet_Gatling",fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:2e3,collision_type:0,is_blast:0,lock_point:0},13:{id:13,name:"副武器7号子弹",resource_path:"prefab/game/bullets/deputy_weapon/bullet_deputy_weapon_7",bullet_script:"Bullet_Shot",fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:2e3,collision_type:0,is_blast:0,lock_point:0},14:{id:14,name:"初代攻击舰子弹1",resource_path:"prefab/game/bullets/boss/bullet_cdgjj_1",bullet_script:null,fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:1e3,collision_type:0,is_blast:0,lock_point:0},15:{id:15,name:"红蝙蝠突袭舰子弹1",resource_path:"prefab/game/bullets/boss/bullet_hbftjj_1",bullet_script:null,fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:700,collision_type:0,is_blast:0,lock_point:0},16:{id:16,name:"死亡三角子弹1",resource_path:"prefab/game/bullets/boss/bullet_swsj_1",bullet_script:null,fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:750,collision_type:0,is_blast:0,lock_point:0},17:{id:17,name:"死亡三角子弹2",resource_path:"prefab/game/bullets/boss/bullet_swsj_2",bullet_script:null,fly_script:"FlyScript_Arc",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:750,collision_type:0,is_blast:0,lock_point:1},18:{id:18,name:"拦截机子弹",resource_path:"prefab/game/bullets/monster/bullet_ljj",bullet_script:null,fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:750,collision_type:0,is_blast:0,lock_point:0},19:{id:19,name:"激光防御机一号子弹",resource_path:"prefab/game/bullets/monster/bullet_jgfyj",bullet_script:null,fly_script:"FlyScript_Laser",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:1300,collision_type:1,is_blast:0,lock_point:0},20:{id:20,name:"初代攻击舰子弹2",resource_path:"prefab/game/bullets/boss/bullet_cdgjj_2",bullet_script:null,fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:800,collision_type:0,is_blast:0,lock_point:0},21:{id:21,name:"初代攻击舰子弹3",resource_path:"prefab/game/bullets/boss/bullet_cdgjj_3",bullet_script:null,fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:650,collision_type:0,is_blast:0,lock_point:0},22:{id:22,name:"红蝙蝠突袭舰子弹2",resource_path:"prefab/game/bullets/boss/bullet_hbftjj_2",bullet_script:null,fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:1e3,collision_type:0,is_blast:0,lock_point:0},23:{id:23,name:"激光防御机二号子弹",resource_path:"prefab/game/bullets/monster/bullet_jgfyj",bullet_script:null,fly_script:"FlyScript_Laser",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:1300,collision_type:1,is_blast:0,lock_point:0},24:{id:24,name:"激光防御机三号子弹",resource_path:"prefab/game/bullets/monster/bullet_jgfyj",bullet_script:null,fly_script:"FlyScript_Laser",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:1300,collision_type:1,is_blast:0,lock_point:0},25:{id:25,name:"迷你拦截机子弹",resource_path:"prefab/game/bullets/monster/bullet_ljj_mn",bullet_script:null,fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:750,collision_type:0,is_blast:0,lock_point:0},26:{id:26,name:"迷你激光防御机一号子弹",resource_path:"prefab/game/bullets/monster/bullet_jgfyj_mn",bullet_script:null,fly_script:"FlyScript_Laser",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:1300,collision_type:1,is_blast:0,lock_point:0},27:{id:27,name:"迷你激光防御机二号子弹",resource_path:"prefab/game/bullets/monster/bullet_jgfyj_mn",bullet_script:null,fly_script:"FlyScript_Laser",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:1300,collision_type:1,is_blast:0,lock_point:0},28:{id:28,name:"迷你激光防御机三号子弹",resource_path:"prefab/game/bullets/monster/bullet_jgfyj_mn",bullet_script:null,fly_script:"FlyScript_Laser",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:1300,collision_type:1,is_blast:0,lock_point:0},29:{id:29,name:"主武器碎片扩散道具子弹",resource_path:"prefab/game/bullets/main_weapon/bullet_mw_prop_spread_dbris",bullet_script:"Bullet_Straight",fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:900,collision_type:0,is_blast:0,lock_point:0},30:{id:30,name:"支援炮塔子弹",resource_path:"prefab/game/bullets/support/bullet_support_paota",bullet_script:"Bullet_Straight",fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:1399,collision_type:0,is_blast:0,lock_point:0},31:{id:31,name:"小炸弹投掷机",resource_path:"prefab/game/bullets/monster/bullet_xzdtzj",bullet_script:null,fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:450,collision_type:0,is_blast:1,lock_point:1},32:{id:32,name:"大炸弹投掷机",resource_path:"prefab/game/bullets/monster/bullet_dzdtzj",bullet_script:null,fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:450,collision_type:0,is_blast:1,lock_point:1},33:{id:33,name:"大型拦截机一号",resource_path:"prefab/game/bullets/monster/bullet_dxljj_1",bullet_script:null,fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:680,collision_type:0,is_blast:0,lock_point:0},34:{id:34,name:"大型拦截机二号",resource_path:"prefab/game/bullets/monster/bullet_dxljj_2",bullet_script:null,fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:750,collision_type:0,is_blast:0,lock_point:0},35:{id:35,name:"圆形轨道炮一号",resource_path:"prefab/game/bullets/monster/bullet_yxgdp_1",bullet_script:null,fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:850,collision_type:0,is_blast:0,lock_point:0},36:{id:36,name:"圆形轨道炮二号",resource_path:"prefab/game/bullets/monster/bullet_yxgdp_2",bullet_script:null,fly_script:"FlyScript_Straight",effech_launch:"Effect_BulletLaunch",scale_model:1,flying_speed:850,collision_type:0,is_blast:0,lock_point:0}},TableMainWeaponID_1:{1:{id:1,describe:"Increases ATK and HP by 5%.",begin_level:1,end_level:19,atk_level_up:0,atk_percent_up:.05,hp_level_up:0,hp_percent_up:.05,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},2:{id:2,describe:"Increases ATK and HP by 10%.",begin_level:20,end_level:39,atk_level_up:0,atk_percent_up:.1,hp_level_up:0,hp_percent_up:.1,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},3:{id:3,describe:"Increases ATK and HP by 15%.",begin_level:40,end_level:59,atk_level_up:0,atk_percent_up:.15000000000000002,hp_level_up:0,hp_percent_up:.15000000000000002,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},4:{id:4,describe:"Increases ATK and HP by 20%.",begin_level:60,end_level:79,atk_level_up:0,atk_percent_up:.2,hp_level_up:0,hp_percent_up:.2,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},5:{id:5,describe:"Increases ATK and HP by 25%.",begin_level:80,end_level:99,atk_level_up:0,atk_percent_up:.25,hp_level_up:0,hp_percent_up:.25,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},6:{id:6,describe:"Increases ATK and HP by 30%.",begin_level:100,end_level:119,atk_level_up:0,atk_percent_up:.30000000000000004,hp_level_up:0,hp_percent_up:.30000000000000004,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},7:{id:7,describe:"Increases ATK and HP by 35%.",begin_level:120,end_level:139,atk_level_up:0,atk_percent_up:.35,hp_level_up:0,hp_percent_up:.35,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},8:{id:8,describe:"Increases ATK and HP by 40%.",begin_level:140,end_level:159,atk_level_up:0,atk_percent_up:.4,hp_level_up:0,hp_percent_up:.4,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},9:{id:9,describe:"Increases ATK and HP by 45%.",begin_level:160,end_level:179,atk_level_up:0,atk_percent_up:.45,hp_level_up:0,hp_percent_up:.45,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},10:{id:10,describe:"Increases ATK and HP by 50%.",begin_level:180,end_level:199,atk_level_up:0,atk_percent_up:.5,hp_level_up:0,hp_percent_up:.5,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0}},TableMainWeaponID_2:{1:{id:1,describe:"Each level increases the ATK by 1.",begin_level:1,end_level:19,atk_level_up:1,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},2:{id:2,describe:"Each level increases the ATK by 2.",begin_level:20,end_level:39,atk_level_up:2,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},3:{id:3,describe:"Each level increases the ATK by 3.",begin_level:40,end_level:59,atk_level_up:3,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},4:{id:4,describe:"Each level increases the ATK by 4.",begin_level:60,end_level:79,atk_level_up:4,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},5:{id:5,describe:"Each level increases the ATK by 5.",begin_level:80,end_level:99,atk_level_up:5,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},6:{id:6,describe:"Each level increases the ATK by 6.",begin_level:100,end_level:119,atk_level_up:6,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},7:{id:7,describe:"Each level increases the ATK by 7.",begin_level:120,end_level:139,atk_level_up:7,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},8:{id:8,describe:"Each level increases the ATK by 8.",begin_level:140,end_level:159,atk_level_up:8,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},9:{id:9,describe:"Each level increases the ATK by 9.",begin_level:160,end_level:179,atk_level_up:9,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},10:{id:10,describe:"Each level increases the ATK by 10.",begin_level:180,end_level:199,atk_level_up:10,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0}},TableMainWeaponID_3:{1:{id:1,describe:"Each level increases HP by 10.",begin_level:1,end_level:19,atk_level_up:0,atk_percent_up:0,hp_level_up:10,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},2:{id:2,describe:"Each level increases HP by 20.",begin_level:20,end_level:39,atk_level_up:0,atk_percent_up:0,hp_level_up:20,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},3:{id:3,describe:"Each level increases HP by 30.",begin_level:40,end_level:59,atk_level_up:0,atk_percent_up:0,hp_level_up:30,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},4:{id:4,describe:"Each level increases HP by 40.",begin_level:60,end_level:79,atk_level_up:0,atk_percent_up:0,hp_level_up:40,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},5:{id:5,describe:"Each level increases HP by 50.",begin_level:80,end_level:99,atk_level_up:0,atk_percent_up:0,hp_level_up:50,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},6:{id:6,describe:"Each level increases HP by 60.",begin_level:100,end_level:119,atk_level_up:0,atk_percent_up:0,hp_level_up:60,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},7:{id:7,describe:"Each level increases HP by 70.",begin_level:120,end_level:139,atk_level_up:0,atk_percent_up:0,hp_level_up:70,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},8:{id:8,describe:"Each level increases HP by 80.",begin_level:140,end_level:159,atk_level_up:0,atk_percent_up:0,hp_level_up:80,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},9:{id:9,describe:"Each level increases HP by 90.",begin_level:160,end_level:179,atk_level_up:0,atk_percent_up:0,hp_level_up:90,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0},10:{id:10,describe:"Each level increases HP by 100.",begin_level:180,end_level:199,atk_level_up:0,atk_percent_up:0,hp_level_up:100,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:0}},TableMainWeaponID_4:{1:{id:1,describe:"Bullets can penetrate 1 enemy.",begin_level:1,end_level:19,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:1,bullet_time_up:-1,bullet_trace_up:0},2:{id:2,describe:"Bullets can penetrate 2 enemy.",begin_level:20,end_level:39,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:2,bullet_time_up:-1,bullet_trace_up:0},3:{id:3,describe:"Bullets can penetrate 3 enemy.",begin_level:40,end_level:59,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:3,bullet_time_up:-1,bullet_trace_up:0},4:{id:4,describe:"Bullets can penetrate 4 enemy.",begin_level:60,end_level:79,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:4,bullet_time_up:-1,bullet_trace_up:0},5:{id:5,describe:"Bullets can penetrate 5 enemy.",begin_level:80,end_level:99,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:5,bullet_time_up:-1,bullet_trace_up:0},6:{id:6,describe:"Bullets can penetrate 6 enemy.",begin_level:100,end_level:119,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:6,bullet_time_up:-1,bullet_trace_up:0},7:{id:7,describe:"Bullets can penetrate 7 enemy.",begin_level:120,end_level:139,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:7,bullet_time_up:-1,bullet_trace_up:0},8:{id:8,describe:"Bullets can penetrate 8 enemy.",begin_level:140,end_level:159,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:8,bullet_time_up:-1,bullet_trace_up:0},9:{id:9,describe:"Bullets can penetrate 9 enemy.",begin_level:160,end_level:179,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:9,bullet_time_up:-1,bullet_trace_up:0},10:{id:10,describe:"Bullets can penetrate 10 enemy.",begin_level:180,end_level:199,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:10,bullet_time_up:-1,bullet_trace_up:0}},TableMainWeaponID_5:{1:{id:1,describe:"Automatically track enemies 0.8s.",begin_level:1,end_level:19,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:.8},2:{id:2,describe:"Automatically track enemies 1.6s.",begin_level:20,end_level:39,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:1.6},3:{id:3,describe:"Automatically track enemies 2.4s.",begin_level:40,end_level:59,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:2.4},4:{id:4,describe:"Automatically track enemies 3.2s.",begin_level:60,end_level:79,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:3.2},5:{id:5,describe:"Automatically track enemies 4.0s.",begin_level:80,end_level:99,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:4},6:{id:6,describe:"Automatically track enemies 4.8s.",begin_level:100,end_level:119,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:4.8},7:{id:7,describe:"Automatically track enemies 5.6s.",begin_level:120,end_level:139,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:5.6},8:{id:8,describe:"Automatically track enemies 6.4s.",begin_level:140,end_level:159,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:6.4},9:{id:9,describe:"Automatically track enemies 7.2s.",begin_level:160,end_level:179,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:7.2},10:{id:10,describe:"Automatically track enemies 8.0s.",begin_level:180,end_level:199,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:0,bullet_time_up:-1,bullet_trace_up:8}},TableMainWeaponID_6:{1:{id:1,describe:"Bullet duration is 0.3 seconds.",begin_level:1,end_level:19,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:-1,bullet_time_up:.3,bullet_trace_up:0},2:{id:2,describe:"Bullet duration is 0.5 seconds.",begin_level:20,end_level:39,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:-1,bullet_time_up:.5,bullet_trace_up:0},3:{id:3,describe:"Bullet duration is 0.7 seconds.",begin_level:40,end_level:59,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:-1,bullet_time_up:.7,bullet_trace_up:0},4:{id:4,describe:"Bullet duration is 0.9 seconds.",begin_level:60,end_level:79,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:-1,bullet_time_up:.9,bullet_trace_up:0},5:{id:5,describe:"Bullet duration is 1.1 seconds.",begin_level:80,end_level:99,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:-1,bullet_time_up:1.1,bullet_trace_up:0},6:{id:6,describe:"Bullet duration is 1.2 seconds.",begin_level:100,end_level:119,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:-1,bullet_time_up:1.2,bullet_trace_up:0},7:{id:7,describe:"Bullet duration is 1.5 seconds.",begin_level:120,end_level:139,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:-1,bullet_time_up:1.5,bullet_trace_up:0},8:{id:8,describe:"Bullet duration is 1.7 seconds.",begin_level:140,end_level:159,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:-1,bullet_time_up:1.7,bullet_trace_up:0},9:{id:9,describe:"Bullet duration is 1.8 seconds.",begin_level:160,end_level:179,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:-1,bullet_time_up:1.8,bullet_trace_up:0},10:{id:10,describe:"Bullet duration is 1.9 seconds.",begin_level:180,end_level:199,atk_level_up:0,atk_percent_up:0,hp_level_up:0,hp_percent_up:0,bullet_through_up:-1,bullet_time_up:1.9,bullet_trace_up:0}},TableConfigLevel:{1:{id:1,prop_list:[10,11,12,13]},2:{id:2,prop_list:[3,4,5,6,7,8,9,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]},3:{id:3,prop_list:[3,4,5,6,7,8,9,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]},4:{id:4,prop_list:[3,4,5,6,7,8,9,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]},5:{id:5,prop_list:[3,4,5,6,7,8,9,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]},6:{id:6,prop_list:[3,4,5,6,7,8,9,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]},7:{id:7,prop_list:[3,4,5,6,7,8,9,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]},8:{id:8,prop_list:[3,4,5,6,7,8,9,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]},9:{id:9,prop_list:[3,4,5,6,7,8,9,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]},10:{id:10,prop_list:[3,4,5,6,7,8,9,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]},11:{id:11,prop_list:[3,4,5,6,7,8,9,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]},12:{id:12,prop_list:[3,4,5,6,7,8,9,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]},13:{id:13,prop_list:[3,4,5,6,7,8,9,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]},14:{id:14,prop_list:[3,4,5,6,7,8,9,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]},15:{id:15,prop_list:[3,4,5,6,7,8,9,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]},16:{id:16,prop_list:[3,4,5,6,7,8,9,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]},17:{id:17,prop_list:[3,4,5,6,7,8,9,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29]}},TableOfflineReward:{1:{id:1,k1:10,k2:13,k3:.8},2:{id:2,k1:12,k2:null,k3:null}},TableMWUpgrade:{1:{id:1,k1:1e3,k2:13,k3:2.5}},TableDWUpgrade:{1:{id:1,k1:1e3,k2:12,k3:2.45}},TableActionConfig:{1:{id:1,describe:"小型陨石行为",ai_script:"monster_action",move_birth:null,move_attack:"Action_MA_XYS",aiming_target:null,attack_target:null},2:{id:2,describe:"小型侦查机",ai_script:"monster_action",move_birth:"Action_MB_XXZCJ",move_attack:null,aiming_target:"Action_Aim_XXZCJ",attack_target:"Action_ATK_XXZCJ"},3:{id:3,describe:"大陨石一号",ai_script:"monster_action",move_birth:null,move_attack:"Action_MA_DYS",aiming_target:null,attack_target:null},4:{id:4,describe:"拦截机",ai_script:"monster_action",move_birth:"Action_MB_Default",move_attack:"Action_MA_Default",aiming_target:"Action_Aim_Default",attack_target:"Action_ATK_Default"},5:{id:5,describe:"激光防御机一号",ai_script:"monster_action",move_birth:"Action_MB_Default",move_attack:"Action_MA_Default",aiming_target:"Action_Aim_JGFYJ",attack_target:"Action_ATK_Default"},6:{id:6,describe:"初代攻击舰",ai_script:"monster_action",move_birth:"Action_MB_CDGJJ",move_attack:"Action_MA_CDGJJ",aiming_target:"Action_Aim_CDGJJ",attack_target:"Action_ATK_CDGJJ"},7:{id:7,describe:"红蝙蝠突袭舰",ai_script:"monster_action",move_birth:"Action_MB_HBFTJJ",move_attack:"Action_MA_HBFTJJ",aiming_target:"Action_Aim_HBFTJJ",attack_target:"Action_ATK_HBFTJJ"},8:{id:8,describe:"死亡三角",ai_script:"monster_action",move_birth:"Action_MB_SWSJ",move_attack:"Action_MA_SWSJ",aiming_target:"Action_Aim_SWSJ",attack_target:"Action_ATK_SWSJ"},9:{id:9,describe:"激光防御机二号",ai_script:"monster_action",move_birth:"Action_MB_Default",move_attack:"Action_MA_Default",aiming_target:"Action_Aim_JGFYJ",attack_target:"Action_ATK_Default"},10:{id:10,describe:"激光防御机三号",ai_script:"monster_action",move_birth:"Action_MB_Default",move_attack:"Action_MA_Default",aiming_target:"Action_Aim_JGFYJ",attack_target:"Action_ATK_Default"},11:{id:11,describe:"大陨石二号",ai_script:"monster_action",move_birth:null,move_attack:"Action_MA_DYS",aiming_target:null,attack_target:null},12:{id:12,describe:"大陨石三号",ai_script:"monster_action",move_birth:null,move_attack:"Action_MA_DYS",aiming_target:null,attack_target:null},13:{id:13,describe:"大陨石四号",ai_script:"monster_action",move_birth:null,move_attack:"Action_MA_DYS",aiming_target:null,attack_target:null},14:{id:14,describe:"迷你小型侦查机",ai_script:"monster_action",move_birth:"Action_MB_XXZCJ",move_attack:null,aiming_target:"Action_Aim_XXZCJ",attack_target:"Action_ATK_XXZCJ"},15:{id:15,describe:"迷你拦截机",ai_script:"monster_action",move_birth:"Action_MB_Default",move_attack:"Action_MA_Default",aiming_target:"Action_Aim_Default",attack_target:"Action_ATK_Default"},16:{id:16,describe:"迷你激光防御机一号",ai_script:"monster_action",move_birth:"Action_MB_Default",move_attack:"Action_MA_Default",aiming_target:"Action_Aim_JGFYJ",attack_target:"Action_ATK_Default"},17:{id:17,describe:"迷你激光防御机二号",ai_script:"monster_action",move_birth:"Action_MB_Default",move_attack:"Action_MA_Default",aiming_target:"Action_Aim_JGFYJ",attack_target:"Action_ATK_Default"},18:{id:18,describe:"迷你激光防御机三号",ai_script:"monster_action",move_birth:"Action_MB_Default",move_attack:"Action_MA_Default",aiming_target:"Action_Aim_JGFYJ",attack_target:"Action_ATK_Default"},19:{id:19,describe:"支援炮塔",ai_script:"monster_action",move_birth:"Action_MB_Support_PaoTa",move_attack:null,aiming_target:null,attack_target:"Action_ATK_Support_PaoTa"},20:{id:20,describe:"蓝色小型陨石",ai_script:"monster_action",move_birth:null,move_attack:"Action_MA_XYS",aiming_target:null,attack_target:null},21:{id:21,describe:"小炸弹投掷机",ai_script:"monster_action",move_birth:"Action_MB_Default",move_attack:"Action_MA_Default",aiming_target:"Action_Aim_Default",attack_target:"Action_ATK_Default"},22:{id:22,describe:"大炸弹投掷机",ai_script:"monster_action",move_birth:"Action_MB_Default",move_attack:"Action_MA_Default",aiming_target:"Action_Aim_Default",attack_target:"Action_ATK_Default"},23:{id:23,describe:"大型拦截机一号",ai_script:"monster_action",move_birth:"Action_MB_Default",move_attack:"Action_MA_Default",aiming_target:"Action_Aim_Default",attack_target:"Action_ATK_Default"},24:{id:24,describe:"大型拦截机二号",ai_script:"monster_action",move_birth:"Action_MB_Default",move_attack:"Action_MA_Default",aiming_target:"Action_Aim_Default",attack_target:"Action_ATK_Default"},25:{id:25,describe:"经验仓一号",ai_script:"monster_action",move_birth:null,move_attack:"Action_MA_JYC",aiming_target:null,attack_target:null},26:{id:26,describe:"经验仓二号",ai_script:"monster_action",move_birth:null,move_attack:"Action_MA_JYC",aiming_target:null,attack_target:null},27:{id:27,describe:"经验仓三号",ai_script:"monster_action",move_birth:null,move_attack:"Action_MA_JYC",aiming_target:null,attack_target:null},28:{id:28,describe:"激光拦截机",ai_script:"monster_action",move_birth:null,move_attack:"Action_MA_JGLJJ",aiming_target:"Action_Aim_JGLJJ",attack_target:"Action_ATK_JGLJJ"},29:{id:29,describe:"紫色分裂陨石",ai_script:"monster_action",move_birth:null,move_attack:"Action_MA_XYS",aiming_target:null,attack_target:null},30:{id:30,describe:"蓝色分裂陨石",ai_script:"monster_action",move_birth:null,move_attack:"Action_MA_XYS",aiming_target:null,attack_target:null},31:{id:31,describe:"红色小型陨石",ai_script:"monster_action",move_birth:null,move_attack:"Action_MA_XYS",aiming_target:null,attack_target:null},32:{id:32,describe:"红色分裂陨石",ai_script:"monster_action",move_birth:null,move_attack:"Action_MA_XYS",aiming_target:null,attack_target:null},33:{id:33,describe:"侦查机一号",ai_script:"monster_action",move_birth:"Action_MB_XXZCJ",move_attack:null,aiming_target:"Action_Aim_XXZCJ",attack_target:"Action_ATK_XXZCJ"},34:{id:34,describe:"侦查机二号",ai_script:"monster_action",move_birth:"Action_MB_XXZCJ",move_attack:null,aiming_target:"Action_Aim_XXZCJ",attack_target:"Action_ATK_XXZCJ"},35:{id:35,describe:"侦查机三号",ai_script:"monster_action",move_birth:"Action_MB_XXZCJ",move_attack:null,aiming_target:"Action_Aim_XXZCJ",attack_target:"Action_ATK_XXZCJ"},36:{id:36,describe:"圆形轨道炮一号",ai_script:"monster_action",move_birth:"Action_MB_Default",move_attack:"Action_MA_Default",aiming_target:"Action_Aim_Default",attack_target:"Action_ATK_Default"},37:{id:37,describe:"圆形轨道炮二号",ai_script:"monster_action",move_birth:"Action_MB_Default",move_attack:"Action_MA_Default",aiming_target:"Action_Aim_Default",attack_target:"Action_ATK_Default"},38:{id:38,describe:"黑洞",ai_script:"monster_action",move_birth:null,move_attack:"Action_MA_HD",aiming_target:null,attack_target:null}},TablePropConfig:{1:{id:1,name:"Exp",describe:"Used to upgrade various weapons and heroes",script_id:1,type:1,value:15,hp_recover:0,hp_max:0,atk:0,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:0,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_exp",resource_path:"prefab/game/props/prop_exp_collect"},2:{id:2,name:"Health rec",describe:"Restore character's health",script_id:0,type:2,value:0,hp_recover:.2,hp_max:0,atk:0,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:0,bullet_script:null,effect_script:"Effect_PropHPRevover",icon_path:"image/game/prop/img_addHP",resource_path:"prefab/game/props/prop_hp_recover"},3:{id:3,name:"Life limit",describe:"Maximum health increased by {0} points",script_id:0,type:3,value:0,hp_recover:0,hp_max:.2,atk:0,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_HPUp",resource_path:null},4:{id:4,name:"Damage",describe:"Attack power increased by {0} points",script_id:0,type:3,value:0,hp_recover:0,hp_max:0,atk:.3,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_AttackUp",resource_path:null},5:{id:5,name:"Attack speed",describe:"Attack speed increased {0}",script_id:0,type:3,value:0,hp_recover:0,hp_max:0,atk:0,atk_speed:.06,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_AttackSpeedUp",resource_path:null},6:{id:6,name:"Bullets",describe:"Number of bullets+{0}",script_id:0,type:3,value:0,hp_recover:0,hp_max:0,atk:0,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:1,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_BulletUp",resource_path:null},7:{id:7,name:"life drain",describe:"After the bullet hits the target, there is a probability of recovering {0} HP.",script_id:0,type:3,value:0,hp_recover:0,hp_max:0,atk:0,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:.03,leech_hurt:.1,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_LifeLeech",resource_path:null},8:{id:8,name:"Hit rate",describe:"The probability of a critical hit increases{0}",script_id:0,type:3,value:0,hp_recover:0,hp_max:0,atk:0,atk_speed:0,crit_chance:.15,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_CriticalStrike",resource_path:null},9:{id:9,name:"Critical hit",describe:"Critical hit damage increased by {0} points",script_id:0,type:3,value:0,hp_recover:0,hp_max:0,atk:0,atk_speed:0,crit_chance:0,crit_hurt:.15,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_CriticalDamage",resource_path:null},10:{id:10,name:"Scatter bullet",describe:"Change the main weapon to scatter bullet mode",script_id:0,type:4,value:0,hp_recover:0,hp_max:0,atk:0,atk_speed:-.45,crit_chance:0,crit_hurt:0,bullet_count:3,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:"Bullet_Shot",effect_script:null,icon_path:"image/game/prop/img_ShotGun",resource_path:null},11:{id:11,name:"Straight bullet",describe:"Change the main weapon to straight bullet mode",script_id:0,type:4,value:0,hp_recover:0,hp_max:0,atk:0,atk_speed:.08,crit_chance:0,crit_hurt:0,bullet_count:1,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:"Bullet_Straight",effect_script:null,icon_path:"image/game/prop/img_DoublePattern",resource_path:null},12:{id:12,name:"Angled bullet",describe:"Change the main weapon to oblique bullet mode",script_id:0,type:4,value:0,hp_recover:0,hp_max:0,atk:0,atk_speed:-.15,crit_chance:0,crit_hurt:0,bullet_count:2,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:"Bullet_Oblique",effect_script:null,icon_path:"image/game/prop/img_SplitterPattern",resource_path:null},13:{id:13,name:"Gatling",describe:"Change the main weapon to Gatling mode",script_id:0,type:4,value:0,hp_recover:0,hp_max:0,atk:0,atk_speed:.32,crit_chance:0,crit_hurt:0,bullet_count:1,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:"Bullet_Gatling",effect_script:null,icon_path:"image/game/prop/img_GatlingPattern",resource_path:null},14:{id:14,name:"Damage",describe:"Attack power increased by {0} points",script_id:0,type:3,value:0,hp_recover:0,hp_max:0,atk:.15,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_AttackUp",resource_path:null},15:{id:15,name:"Attack speed",describe:"Attack speed increased {0}",script_id:0,type:3,value:0,hp_recover:0,hp_max:0,atk:0,atk_speed:.03,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_AttackSpeedUp",resource_path:null},16:{id:16,name:"Exp increases",describe:"Extra drop of {0}%-{1}% Exp",script_id:0,type:3,value:0,hp_recover:0,hp_max:0,atk:0,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:.3,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_EXPUp",resource_path:null},17:{id:17,name:"Reborn",describe:"Resurrection with {0}% health after death",script_id:0,type:3,value:0,hp_recover:.4,hp_max:0,atk:0,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_Resurgence",resource_path:null},18:{id:18,name:"Ignite",describe:"The attack produces continuous damage for {0} seconds, {1} points/time",script_id:0,type:3,value:0,hp_recover:0,hp_max:0,atk:0,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:.1,last_harm_time:5,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_BurnEnemy",resource_path:null},19:{id:19,name:"Debris spread",describe:"Enemy fragments cause {0} damage to surrounding areas",script_id:0,type:3,value:.5,hp_recover:0,hp_max:0,atk:0,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_DeathSpread",resource_path:null},20:{id:20,name:"Bloodthirsty",describe:"Increase ATK by {0} times the proportion of blood lost.",script_id:0,type:3,value:1,hp_recover:0,hp_max:0,atk:0,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_Bloodlust",resource_path:null},21:{id:21,name:"Life rec",describe:"Immediately restore {0} HP every 15 seconds",script_id:0,type:3,value:.15,hp_recover:0,hp_max:0,atk:0,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_HPRestore",resource_path:null},22:{id:22,name:"Shield",describe:"Invincible for {0} seconds every 15 seconds",script_id:0,type:3,value:3,hp_recover:0,hp_max:0,atk:0,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_ProtectShhield",resource_path:null},23:{id:23,name:"Supporting",describe:"Summon {0} turrets for fire support",script_id:0,type:3,value:32,hp_recover:0,hp_max:0,atk:0,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_Turret",resource_path:null},24:{id:24,name:"Fatal damage",describe:"Lower probability of causing {0} points of damage",script_id:0,type:3,value:4.5,hp_recover:0,hp_max:0,atk:0,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_FatalInjury",resource_path:null},25:{id:25,name:"Flash kill",describe:"Lower probability of killing enemies instantly",script_id:0,type:3,value:0,hp_recover:0,hp_max:0,atk:0,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_SecondsKill",resource_path:null},26:{id:26,name:"Godly",describe:"When full health increases attack power {0} times",script_id:0,type:3,value:1,hp_recover:0,hp_max:0,atk:0,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_spirited",resource_path:null},27:{id:27,name:"Furious",describe:"Add {0} bullets every 15 seconds for 3 seconds",script_id:0,type:3,value:5,hp_recover:0,hp_max:0,atk:0,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_Frenzy",resource_path:null},28:{id:28,name:"Weapon",describe:"Increase {0} points of ATK every 10s, clear damage, and stack up to {1} points.",script_id:0,type:3,value:.1,hp_recover:0,hp_max:0,atk:0,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_WeaponStrengthen",resource_path:null},29:{id:29,name:"Transformation",describe:"Reduce the upper limit of life by {0} points and increase ATK by {1} points.",script_id:0,type:3,value:.43,hp_recover:0,hp_max:0,atk:0,atk_speed:0,crit_chance:0,crit_hurt:0,bullet_count:0,leech_chance:0,leech_hurt:0,user_exp:0,last_harm:0,last_harm_time:0,collision_type:1,is_upgrade:1,bullet_script:null,effect_script:null,icon_path:"image/game/prop/img_Remould",resource_path:null}},TablePlaneConfig:{1:{id:1,name:"主武器1号",icon_path:"image/game/plane/main_weapon/img_hero_1",resource_path:"prefab/game/plane/main_weapon/plane_mw_1",type:"ot_main_weapon",effect_scripts:["Effect_HeroMove"],scale_model:1,main_color:"#42f8fc",property_id:1},2:{id:2,name:"主武器2号",icon_path:"image/game/plane/main_weapon/img_hero_2",resource_path:"prefab/game/plane/main_weapon/plane_mw_2",type:"ot_main_weapon",effect_scripts:["Effect_HeroMove"],scale_model:1,main_color:"#ffef38",property_id:2},3:{id:3,name:"主武器3号",icon_path:"image/game/plane/main_weapon/img_hero_3",resource_path:"prefab/game/plane/main_weapon/plane_mw_3",type:"ot_main_weapon",effect_scripts:["Effect_HeroMove"],scale_model:1,main_color:"#9dff16",property_id:3},4:{id:4,name:"主武器4号",icon_path:"image/game/plane/main_weapon/img_hero_4",resource_path:"prefab/game/plane/main_weapon/plane_mw_4",type:"ot_main_weapon",effect_scripts:["Effect_HeroMove"],scale_model:1,main_color:"#d938ff",property_id:4},5:{id:5,name:"主武器5号",icon_path:"image/game/plane/main_weapon/img_hero_5",resource_path:"prefab/game/plane/main_weapon/plane_mw_5",type:"ot_main_weapon",effect_scripts:["Effect_HeroMove"],scale_model:1,main_color:"#3affd2",property_id:5},6:{id:6,name:"主武器6号",icon_path:"image/game/plane/main_weapon/img_hero_6",resource_path:"prefab/game/plane/main_weapon/plane_mw_6",type:"ot_main_weapon",effect_scripts:["Effect_HeroMove"],scale_model:1,main_color:"#ffd63c",property_id:6},7:{id:7,name:"副武器1号",icon_path:"image/game/plane/deputy_weapon/img_deputy_1",resource_path:"prefab/game/plane/deputy_weapon/plane_dw_1",type:"ot_deputy_weapon",effect_scripts:null,scale_model:.5,main_color:null,property_id:1},8:{id:8,name:"副武器2号",icon_path:"image/game/plane/deputy_weapon/img_deputy_2",resource_path:"prefab/game/plane/deputy_weapon/plane_dw_2",type:"ot_deputy_weapon",effect_scripts:null,scale_model:.5,main_color:null,property_id:2},9:{id:9,name:"副武器3号",icon_path:"image/game/plane/deputy_weapon/img_deputy_3",resource_path:"prefab/game/plane/deputy_weapon/plane_dw_3",type:"ot_deputy_weapon",effect_scripts:null,scale_model:.5,main_color:null,property_id:3},10:{id:10,name:"副武器4号",icon_path:"image/game/plane/deputy_weapon/img_deputy_4",resource_path:"prefab/game/plane/deputy_weapon/plane_dw_4",type:"ot_deputy_weapon",effect_scripts:null,scale_model:.5,main_color:null,property_id:4},11:{id:11,name:"副武器5号",icon_path:"image/game/plane/deputy_weapon/img_deputy_5",resource_path:"prefab/game/plane/deputy_weapon/plane_dw_5",type:"ot_deputy_weapon",effect_scripts:null,scale_model:.5,main_color:null,property_id:5},12:{id:12,name:"副武器6号",icon_path:"image/game/plane/deputy_weapon/img_deputy_6",resource_path:"prefab/game/plane/deputy_weapon/plane_dw_6",type:"ot_deputy_weapon",effect_scripts:null,scale_model:.5,main_color:null,property_id:6},13:{id:13,name:"副武器7号",icon_path:"image/game/plane/deputy_weapon/img_deputy_7",resource_path:"prefab/game/plane/deputy_weapon/plane_dw_7",type:"ot_deputy_weapon",effect_scripts:null,scale_model:.5,main_color:null,property_id:7},14:{id:14,name:"初代攻击舰",icon_path:"image/game/plane/boss/img_cdgjj",resource_path:"prefab/game/plane/boss/boss_cdgjj",type:"ot_boss",effect_scripts:null,scale_model:1,main_color:null,property_id:1},15:{id:15,name:"红蝙蝠突袭舰",icon_path:"image/game/plane/boss/img_hbftxj",resource_path:"prefab/game/plane/boss/boss_hbftjj",type:"ot_boss",effect_scripts:null,scale_model:1,main_color:null,property_id:2},16:{id:16,name:"死亡三角",icon_path:"image/game/plane/boss/img_swsj",resource_path:"prefab/game/plane/boss/boss_swsj",type:"ot_boss",effect_scripts:null,scale_model:1,main_color:null,property_id:3},17:{id:17,name:"小型陨石",icon_path:"image/game/plane/monster/img_xys",resource_path:"prefab/game/plane/monster/monster_xxys",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:1},18:{id:18,name:"小型侦查机",icon_path:"image/game/plane/monster/img_xxzcj",resource_path:"prefab/game/plane/monster/monster_xxzcj",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:2},19:{id:19,name:"拦截机",icon_path:"image/game/plane/monster/img_ljj_1",resource_path:"prefab/game/plane/monster/monster_ljj",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:3},20:{id:20,name:"激光防御机一号",icon_path:"image/game/plane/monster/img_jgfy",resource_path:"prefab/game/plane/monster/monster_jgfyj_1",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:4},21:{id:21,name:"大型陨石一号",icon_path:"image/game/plane/barrier/img_dys",resource_path:"prefab/game/plane/barrier/barrier_dxys_1",type:"ot_barrier",effect_scripts:null,scale_model:1,main_color:null,property_id:1},22:{id:22,name:"激光防御机二号",icon_path:"image/game/plane/monster/img_jgfy_1",resource_path:"prefab/game/plane/monster/monster_jgfyj_2",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:5},23:{id:23,name:"激光防御机三号",icon_path:"image/game/plane/monster/img_jgfy_1",resource_path:"prefab/game/plane/monster/monster_jgfyj_3",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:6},24:{id:24,name:"迷你小型侦查机",icon_path:"image/game/plane/monster/img_xxzcj",resource_path:"prefab/game/plane/monster/monster_xxzcj_mn",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:7},25:{id:25,name:"迷你拦截机",icon_path:"image/game/plane/monster/img_ljj_1",resource_path:"prefab/game/plane/monster/monster_ljj_mn",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:8},26:{id:26,name:"迷你激光防御机一号",icon_path:"image/game/plane/monster/img_jgfy",resource_path:"prefab/game/plane/monster/monster_jgfyj_1_mn",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:9},27:{id:27,name:"迷你激光防御机二号",icon_path:"image/game/plane/monster/img_jgfy_1",resource_path:"prefab/game/plane/monster/monster_jgfyj_2_mn",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:10},28:{id:28,name:"迷你激光防御机三号",icon_path:"image/game/plane/monster/img_jgfy_1",resource_path:"prefab/game/plane/monster/monster_jgfyj_3_mn",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:11},29:{id:29,name:"大型陨石二号",icon_path:"image/game/plane/barrier/img_dys",resource_path:"prefab/game/plane/barrier/barrier_dxys_2",type:"ot_barrier",effect_scripts:null,scale_model:1,main_color:null,property_id:2},30:{id:30,name:"大型陨石三号",icon_path:"image/game/plane/barrier/img_dys",resource_path:"prefab/game/plane/barrier/barrier_dxys_3",type:"ot_barrier",effect_scripts:null,scale_model:1,main_color:null,property_id:3},31:{id:31,name:"大型陨石四号",icon_path:"image/game/plane/barrier/img_dys",resource_path:"prefab/game/plane/barrier/barrier_dxys_4",type:"ot_barrier",effect_scripts:null,scale_model:1,main_color:null,property_id:4},32:{id:32,name:"支援炮塔1号",icon_path:"image/game/plane/support/img_support_1",resource_path:"prefab/game/plane/support/support_prop_paota",type:"ot_support",effect_scripts:null,scale_model:1,main_color:"#ffffff",property_id:1},33:{id:33,name:"蓝色小型陨石",icon_path:"image/game/plane/monster/img_xxysls",resource_path:"prefab/game/plane/monster/monster_lsxxys",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:12},34:{id:34,name:"小炸弹投掷机",icon_path:"image/game/plane/monster/img_xzdtzj",resource_path:"prefab/game/plane/monster/monster_xzdtzj",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:13},35:{id:35,name:"大炸弹投掷机",icon_path:"image/game/plane/monster/img_dzdtzj",resource_path:"prefab/game/plane/monster/monster_dzdtzj",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:14},36:{id:36,name:"大型拦截机一号",icon_path:"image/game/plane/monster/img_dxljj1",resource_path:"prefab/game/plane/monster/monster_dljj_1",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:15},37:{id:37,name:"大型拦截机二号",icon_path:"image/game/plane/monster/img_dxljj2",resource_path:"prefab/game/plane/monster/monster_dljj_2",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:16},38:{id:38,name:"经验仓一号",icon_path:"image/game/plane/monster/img_jyc",resource_path:"prefab/game/plane/monster/monster_jyc_1",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:17},39:{id:39,name:"经验仓二号",icon_path:"image/game/plane/monster/img_jyc",resource_path:"prefab/game/plane/monster/monster_jyc_2",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:18},40:{id:40,name:"经验仓三号",icon_path:"image/game/plane/monster/img_jyc",resource_path:"prefab/game/plane/monster/monster_jyc_3",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:19},41:{id:41,name:"激光拦截机",icon_path:"image/game/plane/barrier/img_jgljj",resource_path:"prefab/game/plane/barrier/barrier_jgljj",type:"ot_barrier",effect_scripts:null,scale_model:1,main_color:null,property_id:5},42:{id:42,name:"紫色分裂陨石",icon_path:"image/game/plane/monster/img_xys",resource_path:"prefab/game/plane/monster/monster_flzsxxys",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:20},43:{id:43,name:"蓝色分裂陨石",icon_path:"image/game/plane/monster/img_xys",resource_path:"prefab/game/plane/monster/monster_fllsxxys",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:21},44:{id:44,name:"红色小陨石",icon_path:"image/game/plane/monster/img_xxyshs",resource_path:"prefab/game/plane/monster/monster_hsxxys",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:22},45:{id:45,name:"红色分裂陨石",icon_path:"image/game/plane/monster/img_xxyshs",resource_path:"prefab/game/plane/monster/monster_flhsxxys",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:23},46:{id:46,name:"侦查机一号",icon_path:"image/game/plane/monster/img_zcj_1",resource_path:"prefab/game/plane/monster/monster_zcj_1",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:24},47:{id:47,name:"侦查机二号",icon_path:"image/game/plane/monster/img_zcj_2",resource_path:"prefab/game/plane/monster/monster_zcj_2",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:25},48:{id:48,name:"侦查机三号",icon_path:"image/game/plane/monster/img_zcj_3",resource_path:"prefab/game/plane/monster/monster_zcj_3",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:26},49:{id:49,name:"圆形轨道炮一号",icon_path:"image/game/plane/monster/img_yxgdp_1",resource_path:"prefab/game/plane/monster/monster_yxgdp_1",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:27},50:{id:50,name:"圆形轨道炮二号",icon_path:"image/game/plane/monster/img_yxgdp_2",resource_path:"prefab/game/plane/monster/monster_yxgdp_2",type:"ot_monster",effect_scripts:null,scale_model:1,main_color:null,property_id:28},51:{id:51,name:"黑洞",icon_path:"image/game/plane/barrier/img_black_hole_1",resource_path:"prefab/game/plane/barrier/barrier_hd",type:"ot_barrier",effect_scripts:["Effect_Custom_Hole"],scale_model:1,main_color:null,property_id:6}},TableMainWeapon:{1:{id:1,name:"主武器1号",action_id:null,bullet_id:1,bullet_through:0,bullet_trace:0,bullet_time:-1,bullet_rebound:0,hp:100,atk:20,grow_hp:6,grow_atk:2,factor_hp:1.6,factor_atk:1.2,attack_interval:.6,crit_hurt:1.26,crit_chance:.2,leech_chance:0,leech_hurt:0,move_velocity:2300,collision_type:1},2:{id:2,name:"主武器2号",action_id:null,bullet_id:2,bullet_through:0,bullet_trace:0,bullet_time:-1,bullet_rebound:0,hp:100,atk:35,grow_hp:8,grow_atk:1,factor_hp:1.45,factor_atk:1.1,attack_interval:.6,crit_hurt:1.26,crit_chance:.2,leech_chance:0,leech_hurt:0,move_velocity:2300,collision_type:1},3:{id:3,name:"主武器3号",action_id:null,bullet_id:3,bullet_through:0,bullet_trace:0,bullet_time:-1,bullet_rebound:0,hp:100,atk:18,grow_hp:7,grow_atk:1.1,factor_hp:1.26,factor_atk:1.2,attack_interval:.6,crit_hurt:1.26,crit_chance:.2,leech_chance:0,leech_hurt:0,move_velocity:2300,collision_type:1},4:{id:4,name:"主武器4号",action_id:null,bullet_id:4,bullet_through:1,bullet_trace:0,bullet_time:-1,bullet_rebound:0,hp:100,atk:19,grow_hp:10,grow_atk:2,factor_hp:1.5,factor_atk:1.26,attack_interval:.6,crit_hurt:1.26,crit_chance:.2,leech_chance:0,leech_hurt:0,move_velocity:2300,collision_type:1},5:{id:5,name:"主武器5号",action_id:null,bullet_id:5,bullet_through:0,bullet_trace:1,bullet_time:-1,bullet_rebound:0,hp:100,atk:20,grow_hp:18,grow_atk:2,factor_hp:1.3,factor_atk:1.4,attack_interval:.6,crit_hurt:1.26,crit_chance:.2,leech_chance:0,leech_hurt:0,move_velocity:2300,collision_type:1},6:{id:6,name:"主武器6号",action_id:null,bullet_id:6,bullet_through:-1,bullet_trace:0,bullet_time:.3,bullet_rebound:0,hp:100,atk:20,grow_hp:19,grow_atk:2.6,factor_hp:1.5,factor_atk:1.36,attack_interval:.6,crit_hurt:1.26,crit_chance:.2,leech_chance:0,leech_hurt:0,move_velocity:2300,collision_type:1}},TableDeputyWeapon:{1:{id:1,name:"副武器1号",action_id:null,bullet_id:7,bullet_count:1,hp:0,atk:10,attack_interval:1,grow_atk:2,grow_atk_v:-.005,grow_bullet:.1,factor_atk:1.1,factor_atk_v:.9,factor_bullet:.2,crit_hurt:1.5,crit_chance:.2,leech_chance:0,leech_hurt:0,move_velocity:1200,collision_type:1},2:{id:2,name:"副武器2号",action_id:null,bullet_id:8,bullet_count:2,hp:0,atk:20,attack_interval:1,grow_atk:4,grow_atk_v:-.0065,grow_bullet:.1,factor_atk:1.2,factor_atk_v:.9,factor_bullet:.2,crit_hurt:1.5,crit_chance:.2,leech_chance:0,leech_hurt:0,move_velocity:1200,collision_type:1},3:{id:3,name:"副武器3号",action_id:null,bullet_id:9,bullet_count:2,hp:0,atk:30,attack_interval:1,grow_atk:5,grow_atk_v:-.0065,grow_bullet:.1,factor_atk:1.3,factor_atk_v:.9,factor_bullet:.2,crit_hurt:1.5,crit_chance:.2,leech_chance:0,leech_hurt:0,move_velocity:1200,collision_type:1},4:{id:4,name:"副武器4号",action_id:null,bullet_id:10,bullet_count:3,hp:0,atk:40,attack_interval:1,grow_atk:6,grow_atk_v:-.0065,grow_bullet:.1,factor_atk:1.4,factor_atk_v:.9,factor_bullet:.2,crit_hurt:1.5,crit_chance:.2,leech_chance:0,leech_hurt:0,move_velocity:1200,collision_type:1},5:{id:5,name:"副武器5号",action_id:null,bullet_id:11,bullet_count:2,hp:0,atk:50,attack_interval:.6,grow_atk:7,grow_atk_v:-.0065,grow_bullet:.1,factor_atk:1.5,factor_atk_v:.9,factor_bullet:.2,crit_hurt:1.5,crit_chance:.2,leech_chance:0,leech_hurt:0,move_velocity:1200,collision_type:1},6:{id:6,name:"副武器6号",action_id:null,bullet_id:12,bullet_count:3,hp:0,atk:60,attack_interval:.6,grow_atk:8,grow_atk_v:-.0065,grow_bullet:.1,factor_atk:1.6,factor_atk_v:.9,factor_bullet:.2,crit_hurt:1.5,crit_chance:.2,leech_chance:0,leech_hurt:0,move_velocity:1200,collision_type:1},7:{id:7,name:"副武器7号",action_id:null,bullet_id:13,bullet_count:3,hp:0,atk:70,attack_interval:1.3,grow_atk:10,grow_atk_v:-.0065,grow_bullet:.1,factor_atk:1.7,factor_atk_v:.9,factor_bullet:.3,crit_hurt:1.5,crit_chance:.2,leech_chance:0,leech_hurt:0,move_velocity:1200,collision_type:1}},TableSupportConfig:{1:{id:1,name:"支援炮塔1号",action_id:19,bullet_id:30,bullet_through:0,bullet_trace:0,bullet_time:-1,bullet_rebound:0,hp:100,atk:0,grow_hp:0,grow_atk:0,factor_hp:0,factor_atk:0,attack_interval:.26,attack_count:5,bullet_count:1,attack_type:"AT_STRAIGHT_TRACK",crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,move_velocity:2e3,collision_type:1}},TableBossConfig:{1:{id:1,name:"初代攻击舰",action_id:6,bullet_id:0,bullet_trace:0,hp:4e4,atk:96,grow_hp:5e3,grow_atk:5,factor_hp:1.6,factor_atk:1.6,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",aim_time:.4,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,move_velocity:1e3,collision_type:1},2:{id:2,name:"红蝙蝠突袭舰",action_id:7,bullet_id:0,bullet_trace:0,hp:85e3,atk:110,grow_hp:6e3,grow_atk:5,factor_hp:1.5,factor_atk:1.5,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",aim_time:.4,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,move_velocity:1e3,collision_type:1},3:{id:3,name:"死亡三角",action_id:8,bullet_id:0,bullet_trace:3,hp:36e4,atk:165,grow_hp:6e3,grow_atk:8,factor_hp:1.9,factor_atk:1.6,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",aim_time:.4,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,move_velocity:1e3,collision_type:1}},TableMonsterConfig:{1:{id:1,name:"小型陨石",action_id:1,bullet_id:0,hp:15,atk:3,grow_hp:8,grow_atk:1,factor_hp:1.6,factor_atk:1,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",aim_time:.5,move_velocity:300,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},2:{id:2,name:"小型侦查机",action_id:2,bullet_id:0,hp:40,atk:4,grow_hp:5,grow_atk:1,factor_hp:2.1,factor_atk:1,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",aim_time:.8,move_velocity:700,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},3:{id:3,name:"拦截机",action_id:4,bullet_id:18,hp:30,atk:5,grow_hp:4.5,grow_atk:1,factor_hp:2.1,factor_atk:1.2,attack_interval:.26,attack_count:2,bullet_count:1,attack_type:"AT_STRAIGHT",aim_time:.5,move_velocity:400,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},4:{id:4,name:"激光防御机一号",action_id:5,bullet_id:19,hp:35,atk:5,grow_hp:6.2,grow_atk:1,factor_hp:1.8,factor_atk:1.1,attack_interval:.85,attack_count:1,bullet_count:1,attack_type:"AT_LASER_STRAIGHT",aim_time:2,move_velocity:450,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},5:{id:5,name:"激光防御机二号",action_id:9,bullet_id:23,hp:35,atk:5,grow_hp:6.2,grow_atk:1,factor_hp:1.8,factor_atk:1.1,attack_interval:.85,attack_count:1,bullet_count:2,attack_type:"AT_LASER_STRAIGHT",aim_time:2,move_velocity:450,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},6:{id:6,name:"激光防御机三号",action_id:10,bullet_id:24,hp:35,atk:5,grow_hp:6.2,grow_atk:1,factor_hp:1.8,factor_atk:1.1,attack_interval:.85,attack_count:1,bullet_count:3,attack_type:"AT_LASER_STRAIGHT",aim_time:2,move_velocity:450,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},7:{id:7,name:"迷你小型侦查机",action_id:14,bullet_id:0,hp:40,atk:1,grow_hp:5,grow_atk:1,factor_hp:2.1,factor_atk:1,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",aim_time:.8,move_velocity:700,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},8:{id:8,name:"迷你拦截机",action_id:15,bullet_id:25,hp:30,atk:5,grow_hp:4.5,grow_atk:1,factor_hp:2.1,factor_atk:1.2,attack_interval:.15,attack_count:2,bullet_count:1,attack_type:"AT_STRAIGHT",aim_time:.5,move_velocity:400,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},9:{id:9,name:"迷你激光防御机一号",action_id:16,bullet_id:26,hp:38,atk:35,grow_hp:5,grow_atk:6.2,factor_hp:1,factor_atk:1.8,attack_interval:1.1,attack_count:1,bullet_count:1,attack_type:"AT_LASER_STRAIGHT",aim_time:2,move_velocity:450,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},10:{id:10,name:"迷你激光防御机二号",action_id:17,bullet_id:27,hp:38,atk:35,grow_hp:5,grow_atk:6.2,factor_hp:1,factor_atk:1.8,attack_interval:1.1,attack_count:1,bullet_count:2,attack_type:"AT_LASER_STRAIGHT",aim_time:2,move_velocity:450,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},11:{id:11,name:"迷你激光防御机三号",action_id:18,bullet_id:28,hp:38,atk:35,grow_hp:5,grow_atk:6.2,factor_hp:1,factor_atk:1.8,attack_interval:1.1,attack_count:1,bullet_count:3,attack_type:"AT_LASER_STRAIGHT",aim_time:2,move_velocity:450,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},12:{id:12,name:"蓝色小型陨石",action_id:20,bullet_id:0,hp:390,atk:65,grow_hp:20,grow_atk:1,factor_hp:1.23,factor_atk:1,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",aim_time:.5,move_velocity:300,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},13:{id:13,name:"小炸弹投掷机",action_id:21,bullet_id:31,hp:385,atk:60,grow_hp:20,grow_atk:1,factor_hp:1.2,factor_atk:1,attack_interval:.2,attack_count:1,bullet_count:1,attack_type:"AT_STRAIGHT",aim_time:.5,move_velocity:260,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},14:{id:14,name:"大炸弹投掷机",action_id:22,bullet_id:32,hp:385,atk:60,grow_hp:20,grow_atk:1,factor_hp:1.2,factor_atk:1,attack_interval:1,attack_count:2,bullet_count:1,attack_type:"AT_STRAIGHT_TRACK",aim_time:.5,move_velocity:280,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},15:{id:15,name:"大型拦截机一号",action_id:23,bullet_id:33,hp:395,atk:62,grow_hp:21,grow_atk:1,factor_hp:1.2,factor_atk:1,attack_interval:.2,attack_count:1,bullet_count:5,attack_type:"AT_SECTOR",aim_time:.5,move_velocity:280,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},16:{id:16,name:"大型拦截机二号",action_id:24,bullet_id:34,hp:395,atk:62,grow_hp:21,grow_atk:1,factor_hp:1.2,factor_atk:1,attack_interval:.36,attack_count:4,bullet_count:1,attack_type:"AT_STRAIGHT",aim_time:.5,move_velocity:280,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},17:{id:17,name:"经验仓一号",action_id:25,bullet_id:0,hp:600,atk:0,grow_hp:20,grow_atk:0,factor_hp:1.8,factor_atk:0,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",aim_time:.5,move_velocity:240,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:1},18:{id:18,name:"经验仓二号",action_id:26,bullet_id:0,hp:600,atk:0,grow_hp:20,grow_atk:0,factor_hp:1.8,factor_atk:0,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",aim_time:.5,move_velocity:240,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:1},19:{id:19,name:"经验仓三号",action_id:27,bullet_id:0,hp:600,atk:0,grow_hp:20,grow_atk:0,factor_hp:1.8,factor_atk:0,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",aim_time:.5,move_velocity:240,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:1},20:{id:20,name:"紫色分裂陨石",action_id:29,bullet_id:0,hp:15,atk:3,grow_hp:8,grow_atk:1,factor_hp:1.6,factor_atk:1,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",aim_time:.5,move_velocity:260,collision_type:1,split_id:17,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},21:{id:21,name:"蓝色分裂陨石",action_id:30,bullet_id:0,hp:390,atk:65,grow_hp:20,grow_atk:1,factor_hp:1.23,factor_atk:1,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",aim_time:.5,move_velocity:260,collision_type:1,split_id:33,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},22:{id:22,name:"红色小型陨石",action_id:31,bullet_id:0,hp:2600,atk:160,grow_hp:80,grow_atk:1,factor_hp:1.24,factor_atk:1,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",aim_time:.5,move_velocity:300,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},23:{id:23,name:"红色分裂陨石",action_id:32,bullet_id:0,hp:2600,atk:160,grow_hp:80,grow_atk:1,factor_hp:1.24,factor_atk:1,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",aim_time:.5,move_velocity:260,collision_type:1,split_id:44,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},24:{id:24,name:"侦查机一号",action_id:33,bullet_id:0,hp:2800,atk:166,grow_hp:80,grow_atk:1,factor_hp:1.25,factor_atk:1,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",aim_time:.8,move_velocity:700,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},25:{id:25,name:"侦查机二号",action_id:34,bullet_id:0,hp:2800,atk:166,grow_hp:80,grow_atk:1,factor_hp:1.25,factor_atk:1,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",aim_time:.8,move_velocity:700,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},26:{id:26,name:"侦查机三号",action_id:35,bullet_id:0,hp:2800,atk:166,grow_hp:80,grow_atk:1,factor_hp:1.25,factor_atk:1,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",aim_time:.8,move_velocity:700,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},27:{id:27,name:"圆形轨道炮一号",action_id:36,bullet_id:35,hp:2900,atk:170,grow_hp:80,grow_atk:1,factor_hp:1.25,factor_atk:1,attack_interval:.26,attack_count:1,bullet_count:4,attack_type:"AT_CIRCLE",aim_time:.5,move_velocity:400,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0},28:{id:28,name:"圆形轨道炮二号",action_id:37,bullet_id:36,hp:2900,atk:170,grow_hp:80,grow_atk:1,factor_hp:1.25,factor_atk:1,attack_interval:.26,attack_count:1,bullet_count:8,attack_type:"AT_CIRCLE",aim_time:.5,move_velocity:400,collision_type:1,split_id:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0,is_reward:0}},TableBarrierConfig:{1:{id:1,name:"大型陨石一号",action_id:3,bullet_id:0,hp:1,atk:20,grow_hp:1,grow_atk:1.5,factor_hp:1,factor_atk:2,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",move_velocity:800,collision_type:1,bullet_through:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0},2:{id:2,name:"大型陨石二号",action_id:11,bullet_id:0,hp:1,atk:20,grow_hp:1,grow_atk:1.5,factor_hp:1,factor_atk:2,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",move_velocity:800,collision_type:1,bullet_through:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0},3:{id:3,name:"大型陨石三号",action_id:12,bullet_id:0,hp:1,atk:20,grow_hp:1,grow_atk:1.5,factor_hp:1,factor_atk:2,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",move_velocity:800,collision_type:1,bullet_through:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0},4:{id:4,name:"大型陨石四号",action_id:13,bullet_id:0,hp:1,atk:20,grow_hp:1,grow_atk:1.5,factor_hp:1,factor_atk:2,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",move_velocity:800,collision_type:1,bullet_through:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0},5:{id:5,name:"激光拦截机",action_id:28,bullet_id:0,hp:1,atk:56,grow_hp:1,grow_atk:1,factor_hp:1,factor_atk:1,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",move_velocity:800,collision_type:1,bullet_through:1,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0},6:{id:6,name:"黑洞",action_id:38,bullet_id:0,hp:1,atk:156,grow_hp:1,grow_atk:1,factor_hp:1,factor_atk:1,attack_interval:0,attack_count:0,bullet_count:0,attack_type:"AT_INVALID",move_velocity:300,collision_type:1,bullet_through:0,crit_hurt:0,crit_chance:0,leech_chance:0,leech_hurt:0}}},cc._RF.pop()},{}],DateUtils:[function(t,e,o){"use strict";cc._RF.push(e,"50618VtWS5ErK7yBtb2asqz","DateUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.DateUtils=o.DateInfo=void 0;o.DateInfo=function(){};var n=function(){function t(){}return t.toString=function(t){var e=new Date(t);return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()},t.getToday=function(){var t=new Date;return t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t},t.getDay=function(t){var e=new Date(t);return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e},t.addMinute=function(t,e){return t.setTime(t.valueOf()+1e3*e),t},t.addDay=function(t,e){return t.setTime(t.valueOf()+864e5*e),t},t.DateInfoToDate=function(t){return new Date(t.year,t.month-1,t.day,t.hour,t.minute,t.second)},t.DateToDateInfo=function(t){return{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hour:t.getHours(),minute:t.getMinutes(),second:t.getSeconds()}},t.compareDate=function(t,e){return t>this.DateInfoToDate(e)},t.secondToMS=function(t){if(t<=0)return"00:00";var e=t%3600/60>>0;return(e<10?"0"+e:e)+":"+((t%=60)<10?"0"+t:t)},t.secondToHMS=function(e){t.DATE.setTime(1e3*e);var o=t.DATE.getHours(),n=t.DATE.getMinutes();return(o<10?"0"+o:o)+":"+(n<10?"0"+n:n)+":"+((e=t.DATE.getSeconds())<10?"0"+e:e)},t.secondToHM=function(t){if(t<=60)return"00:59";var e=t/3600>>0,o=t%3600/60>>0;return(e<10?"0"+e:e)+":"+(o<10?"0"+o:o)},t.secondToHMS1=function(t){if((t>>=0)<=0)return"00:00:00";var e=t/3600>>0,o=t%3600/60>>0;return(e<10?"0"+e:e)+":"+(o<10?"0"+o:o)+":"+((t%=60)<10?"0"+t:t)},t.secondToDHMS=function(t){if((t>>=0)<=0)return"00:00:00";var e=t/86400>>0,o=t/3600>>0,n=t%3600/60>>0;return(e>0?e+"天 ":"")+(o<10?"0"+o:o)+":"+(n<10?"0"+n:n)+":"+((t%=60)<10?"0"+t:t)},t.secondToYMDHMSms=function(e){t.DATE.setTime(1e3*e);var o=t.DATE.getFullYear(),n=t.DATE.getMonth()+1,i=t.DATE.getDate(),r=t.DATE.getHours(),a=t.DATE.getMinutes();return o+"-"+(n<10?"0"+n:n)+"-"+(i<10?"0"+i:i)+" "+(r<10?"0"+r:r)+":"+(a<10?"0"+a:a)+":"+((e=t.DATE.getSeconds())<10?"0"+e:e)+":"+t.DATE.getMilliseconds()},t.secondToYMDHMS=function(e){t.DATE.setTime(1e3*e);var o=t.DATE.getFullYear(),n=t.DATE.getMonth()+1,i=t.DATE.getDate(),r=t.DATE.getHours(),a=t.DATE.getMinutes();return o+"-"+(n<10?"0"+n:n)+"-"+(i<10?"0"+i:i)+" "+(r<10?"0"+r:r)+":"+(a<10?"0"+a:a)+":"+((e=t.DATE.getSeconds())<10?"0"+e:e)},t.secondToYMD=function(t){var e=t.getFullYear(),o=t.getMonth()+1,n=t.getDate();return e+"-"+(o<10?""+o:o)+"-"+(n<10?""+n:n)+" "},t.hmsToSecond=function(t){var e=t.split(":");return 3600*parseInt(e[0])+60*parseInt(e[1])+parseInt(e[2])},t.DATE=new Date,t}();o.DateUtils=n,cc._RF.pop()},{}],DebugTools:[function(t,e,o){"use strict";cc._RF.push(e,"803acAWVHRKHrl9igQ64WEe","DebugTools");var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],a=0,c=r.length;a<c;a++,i++)n[i]=r[a];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.DebugTools=void 0;var i=function(){function t(){}return Object.defineProperty(t,"LOG_BT",{get:function(){return!1},enumerable:!1,configurable:!0}),t.printMapArray=function(t,e,o){for(var i=0;i<o;i++){for(var r=[],a="",c=0;c<e;c++)a+="%c",1==t[c+i*e]?r.push("color:#ff0000;"):r.push("color:#75F20B;"),a+=t[c+i*e]+",";console.log.apply(console,n([a],r))}},t.printPath=function(t){for(var e="",o=0;o<t.length;o++)e+="("+t[o].x+","+t[o].y+") ";console.log(e)},t.debugNode=function(t,e){var o=(null==e?void 0:e.debug_name)||"___debug___node___",n=t.getChildByName(o);n||(n=new cc.Node),n.name=o,e||(e={}),e.anchor?(n.anchorX=e.anchor.x,n.anchorY=e.anchor.y):(n.anchorX=t.anchorX,n.anchorY=t.anchorY),e.point&&(n.x=e.point.x,n.y=e.point.y),e.zIndex&&(n.zIndex=e.zIndex),e.size?(n.width=e.size.width,n.height=e.size.height):(n.width=t.width,n.height=t.height);var i=cc.color(0,0,255,50);e.fillColorHex&&cc.Color.fromHEX(i,e.fillColorHex);var r=e.borderWidth||3,a=cc.color(255,0,0);e.borderColorHex&&cc.Color.fromHEX(a,e.borderColorHex),n.parent=t;var c=n.addComponent(cc.Graphics),s=cc.v2(n.width*n.anchorX,n.height*n.anchorY),_=cc.v2(0-s.x,0-s.y);c.lineWidth=r,c.strokeColor=a,c.moveTo(_.x,_.y),c.lineTo(_.x,_.y+n.height),c.lineTo(_.x+n.width,_.y+n.height),c.lineTo(_.x+n.width,_.y),c.fillColor=i,c.rect(_.x,_.y,n.width,n.height),c.fill(),c.stroke()},t.clearDebugNode=function(t,e){var o=t.getChildByName(e);null==o||o.destroy()},t.drawLine=function(t,e,o){if(e&&0!=e.length){var n=t.getChildByName((null==o?void 0:o.name)||"___line___node___");n&&n.removeFromParent(!0);var i=new cc.Node;i.name=(null==o?void 0:o.name)||"___line___node___",cc.color(0,0,255,50);var r=(null==o?void 0:o.border_width)||3,a=cc.color(255,0,0);(null==o?void 0:o.border_color)&&(a=cc.Color.fromHEX(a,o.border_color)),t.addChild(i,cc.macro.MAX_ZINDEX,(null==o?void 0:o.name)||"___line___node___"),(null==o?void 0:o.zIndex)&&(i.zIndex=o.zIndex);var c=i.addComponent(cc.Graphics),s=e[0];c.lineWidth=r,c.strokeColor=a,c.moveTo(s.x,s.y);for(var _=1;_<e.length;_++){var l=e[_];c.lineTo(l.x,l.y)}c.stroke()}},t.drawSector=function(e,o,n,i,r){if(!(r<=0)){var a=[];a.push(o);for(var c=i;c<=i+r;c+=.1){var s=cc.v2(n,0).rotate(c);a.push(o.add(s))}a.push(o),t.drawLine(e,a)}},t.undebugNode=function(t,e){if(void 0===e&&(e="___debug___node___"),0!=t.childrenCount){var o=t.getChildByName(e);o&&o.removeFromParent(!0)}},t.debugLog=function(t){var e=new Date,o=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+"   "+e.getMilliseconds();console.log("["+o+"] "+t)},t}();o.DebugTools=i,cc._RF.pop()},{}],DeputyWeaponStore:[function(t,e,o){"use strict";cc._RF.push(e,"cf43c/zsP9CoKEcyLtkxLn0","DeputyWeaponStore");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.DeputyWeaponStore=void 0;var a=t("../base/extends/SerializeElement"),c=t("../config/DataManager"),s=t("../global/define"),_=t("../global/enums"),l=t("./ChapterInfo"),p=t("./DataPool"),u=t("./RecordManager"),d=function(t){function e(){var e=t.call(this)||this;return e._ball_record=null,e._showClickHint=[],e}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return p.DataPool.instance.deputyWeapon},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.load()||(this._ball_record={deputy_weapon_uuid:"",deputy_weapon_list:[]},this.push({deputy_weapon_id:7,atk_lv:1,firepower_lv:1}),this.setDeputyWeapon(7),this.save())},e.prototype.load=function(){var t=u.RecordManager.instance.read(_.DataRecord.DeputyWeapon);return!!t&&(this.fromRecord(t),!0)},e.prototype.save=function(){u.RecordManager.instance.save(_.DataRecord.DeputyWeapon,this.toRecord())},e.prototype.push=function(t){c.DataManager.TablePlaneConfigDatasById[t.deputy_weapon_id]&&(this._ball_record.deputy_weapon_list.find(function(e){return e.deputy_weapon_id==t.deputy_weapon_id})||(this._ball_record.deputy_weapon_list.push({uuid:s.Define.uuid(),deputy_weapon_id:t.deputy_weapon_id,atk_lv:t.atk_lv,firepower_lv:t.firepower_lv}),this.save()))},e.prototype.get=function(t){return"number"==typeof t?this._ball_record.deputy_weapon_list.find(function(e){return e.deputy_weapon_id==t}):"string"==typeof t?this._ball_record.deputy_weapon_list.find(function(e){return e.uuid==t}):null},e.prototype.getCount=function(){return this._ball_record.deputy_weapon_list.length},e.prototype.setDeputyWeapon=function(t){if("number"==typeof t)(e=this._ball_record.deputy_weapon_list.find(function(e){return e.deputy_weapon_id==t}))&&(this._ball_record.deputy_weapon_uuid=e.uuid);else if("string"==typeof t){var e;(e=this._ball_record.deputy_weapon_list.find(function(e){return e.uuid==t}))&&(this._ball_record.deputy_weapon_uuid=e.uuid)}this.save()},e.prototype.getDeputyWeapon=function(){var t=this;return""==this._ball_record.deputy_weapon_uuid?null:this._ball_record.deputy_weapon_list.find(function(e){return e.uuid==t._ball_record.deputy_weapon_uuid})},e.prototype.showClickHint=function(t){var e=this._showClickHint.find(function(e){return e.deputy_weapon_id==t});return!(!e||!e.show_hint)},e.prototype.closeClickHint=function(t){var e=this._showClickHint.findIndex(function(e){return e.deputy_weapon_id==t});-1!=e&&this._showClickHint.splice(e,1)},e.prototype.unlockWeapon=function(){var t=this,e=[],o=l.ChapterInfo.instance.GetLastChapter();return c.DataManager.TableDeputyWeaponShopDatasArray.forEach(function(n){t.get(n.plane_id)||(n.chapter_unlock<o.chapter?e.push(n.plane_id):n.chapter_unlock==o.chapter&&n.level_unlock<=o.level&&e.push(n.plane_id))}),e.forEach(function(e){t.push({deputy_weapon_id:e,atk_lv:1,firepower_lv:1}),t._showClickHint.push({deputy_weapon_id:e,show_hint:!0})}),e},e.prototype.upgradeAtk=function(t){var e=this._ball_record.deputy_weapon_list.find(function(e){return e.deputy_weapon_id==t});return!!e&&(e.atk_lv+=1,this.save(),!0)},e.prototype.upgradeFirepower=function(t){var e=this._ball_record.deputy_weapon_list.find(function(e){return e.deputy_weapon_id==t});return!!e&&(e.firepower_lv+=1,this.save(),!0)},e.calcuateConsume=function(t){var e=c.DataManager.TableDWUpgradeDatasById[1];return null==e?(console.error("ERROR: DeputyWeaponStore calcuateConsume config = null"),0):Math.floor(e.k1+e.k2*Math.pow(t,e.k3))},e.calcuateAtk=function(t,e){var o=c.DataManager.TablePlaneConfigDatasById[t];if(!o)return 0;var n=c.DataManager.TableDeputyWeaponDatasById[o.property_id];if(!n)return 0;var i=n.atk,r=n.grow_atk,a=n.factor_atk,s=e;return Math.floor(i*a+(s-1)*r*a)},e.calcuateFirepower=function(t){return Math.ceil(6.78*t)},e.calcuateAtkSpeed=function(t,e){var o=c.DataManager.TablePlaneConfigDatasById[t];if(!o)return 0;var n=c.DataManager.TableDeputyWeaponDatasById[o.property_id];if(!n)return 0;var i=n.attack_interval,r=n.grow_atk_v,a=n.factor_atk_v,s=e,_=Math.floor(100*(i*a+(s-1)*r*a))/100;return Math.max(0,_)},e.calcuateBulletCount=function(t,e){var o=c.DataManager.TablePlaneConfigDatasById[t];if(!o)return 0;var n=c.DataManager.TableDeputyWeaponDatasById[o.property_id];if(!n)return 0;var i=n.bullet_count,r=n.grow_bullet,a=n.factor_bullet,s=e;return i+Math.floor(i*a+(s-1)*r*a)},r([a.Record("DeputyWeaponRecord")],e.prototype,"_ball_record",void 0),r([a.Record("ShowWeaponClickHint")],e.prototype,"_showClickHint",void 0),e}(a.SerializeElement);o.DeputyWeaponStore=d,cc._RF.pop()},{"../base/extends/SerializeElement":"SerializeElement","../config/DataManager":"DataManager","../global/define":"define","../global/enums":"enums","./ChapterInfo":"ChapterInfo","./DataPool":"DataPool","./RecordManager":"RecordManager"}],Dictionary:[function(t,e,o){"use strict";cc._RF.push(e,"31df1ByQbtLT5f9AjC3lzdp","Dictionary");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Dictionary=void 0;var r=t("../manager/UIDManager"),a=t("./Method"),c=t("./PoolBase"),s=function(t){function e(){var e=t.call(this)||this;return e._length=0,e._record={},e}return i(e,t),e.createKeys=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return e.TEMP_KEYS.length=0,e.TEMP_KEYS.push.apply(e.TEMP_KEYS,t),e.TEMP_KEYS},e.create=function(){return c.PoolBase.getInstance(e)},e.prototype.return=function(){this._borrowed&&(this.clear(),t.prototype.return.call(this))},e.prototype.add=function(t,o,n,i){if(void 0===i&&(i=!1),null==o||null==t)return!1;if(!(t instanceof Array)){var c=!1,s=t.constructor===String||t.constructor===Number?t.toString():r.UIDManager.getUid(t,n),_=this._record[s];return null==_?(this._record[s]=o,this._length++,c=!0):i&&o!==_&&(_.constructor===e?_.return():_ instanceof a.Method&&_.return(),this._record[s]=o,c=!0),c}if(!(t.length>1))return this.add(t.pop(),o,n,i);var l=t.shift(),p=this.get(l,n);null==p&&(p=e.create(),this.add(l,p,n)),p.add(t,o,n,i)},e.prototype.update=function(t,e,o){if(null!=t)if(t instanceof Array)if(t.length>1){var n=this.get(t.shift(),o);null!=n&&n.update(t,e,o)}else this.update(t.pop(),e,o);else{var i=r.UIDManager.getUid(t,o);null!=this._record[i]&&(this._record[i]=e)}},e.prototype.get=function(t,e){if(null!=t){if(t instanceof Array){if(t.length>1){var o=this.get(t.shift());return null!=o?o.get(t):null}return this.get(t.shift())}var n=t.constructor===String||t.constructor===Number?t.toString():r.UIDManager.getUid(t,e);return this._record[n]}return null},e.prototype.del=function(t,e){if(null!=t){if(!(t instanceof Array)){var o=t.constructor===String||t.constructor===Number?t.toString():r.UIDManager.getUid(t,e),n=this._record[o];return delete this._record[o],null!=n&&this._length--,n}if(!(t.length>1))return this.del(t.pop(),e);var i=t.shift(),a=this.get(i,e);if(null!=a){var c=a.del(t,e);return 0===a.length&&(this.del(i,e),a.return()),c}}return null},e.prototype.clear=function(){var t,o;for(t in this._record)o=this._record[t],delete this._record[t],o.constructor===e&&o.return();this._length=0},e.prototype.forEach=function(t,e){var o,n;for(o in this._record)if(n=this._record[o],!t.apply(e,[n]))return},e.prototype.for=function(t,e){var o;for(o in this._record)if(!t.apply(e,[o]))return},e.prototype.pop=function(){var t;for(t in this._record)return this.del(t)},Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!1,configurable:!0}),e.TEMP_KEYS=[],e}(c.PoolBase);o.Dictionary=s,cc._RF.pop()},{"../manager/UIDManager":"UIDManager","./Method":"Method","./PoolBase":"PoolBase"}],DisableTouchSwallow:[function(t,e,o){"use strict";cc._RF.push(e,"e7fde0tfVpAWKOASmUYW3wP","DisableTouchSwallow");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,function(t){t.stopPropagation()})},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{}],1:[function(t,e){var o,n,i=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(t){if(o===setTimeout)return setTimeout(t,0);if((o===r||!o)&&setTimeout)return o=setTimeout,setTimeout(t,0);try{return o(t,0)}catch(e){try{return o.call(null,t,0)}catch(e){return o.call(this,t,0)}}}function s(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{return n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(function(){try{o="function"==typeof setTimeout?setTimeout:r}catch(t){o=r}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}})();var _,l=[],p=!1,u=-1;function d(){p&&_&&(p=!1,_.length?l=_.concat(l):u=-1,l.length&&h())}function h(){if(!p){var t=c(d);p=!0;for(var e=l.length;e;){for(_=l,l=[];++u<e;)_&&_[u].run();u=-1,e=l.length}_=null,p=!1,s(t)}}function f(t,e){this.fun=t,this.array=e}function y(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)e[o-1]=arguments[o];l.push(new f(t,e)),1!==l.length||p||c(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=y,i.addListener=y,i.once=y,i.off=y,i.removeListener=y,i.removeAllListeners=y,i.emit=y,i.prependListener=y,i.prependOnceListener=y,i.listeners=function(){return[]},i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],EffectDefine:[function(t,e,o){"use strict";cc._RF.push(e,"22753/Vsx5Ll4TBnO+sP1g+","EffectDefine"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],EffectSystem:[function(t,e,o){"use strict";cc._RF.push(e,"ea6c9PbeqRAIJXbiIjViv+0","EffectSystem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.EffectSystem=void 0;var r=t("../GuidManager"),a=t("./Effect_HeroMove"),c=t("./Effect_BulletLaunch"),s=t("./Effect_Hit1"),_=t("./Effect_Hit2"),l=t("./Effect_HeroInjured"),p=t("./Effect_HeroRecoverBG"),u=t("./Effect_HeroRecover"),d=t("./Effect_PropHPRevover"),h=t("./Effect_HeroLeech"),f=t("./Effect_BlastMonster"),y=t("./Effect_BlastBoss"),g=t("./Effect_BlastHero"),v=t("./Effect_BlastHeroSpot"),b=t("../../utils/ParseUtils"),m=t("./Effect_BuffHalo"),A=t("./Effect_AttackWarning"),x=t("./Effect_AimJGFYJ"),C=t("../../module/ObjectPool"),w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._scripts=[{name:"Effect_HeroMove",type:a.Effect_HeroMove},{name:"Effect_BulletLaunch",type:c.Effect_BulletLaunch},{name:"Effect_Hit1",type:s.Effect_Hit1},{name:"Effect_Hit2",type:_.Effect_Hit2},{name:"Effect_HeroInjured",type:l.Effect_HeroInjured},{name:"Effect_HeroRecoverBG",type:p.Effect_HeroRecoverBG},{name:"Effect_HeroRecover",type:u.Effect_HeroRecover},{name:"Effect_PropHPRevover",type:d.Effect_PropHPRevover},{name:"Effect_HeroLeech",type:h.Effect_HeroLeech},{name:"Effect_BlastMonster",type:f.Effect_BlastMonster},{name:"Effect_BlastBoss",type:y.Effect_BlastBoss},{name:"Effect_BlastHero",type:g.Effect_BlastHero},{name:"Effect_BlastHeroSpot",type:v.Effect_BlastHeroSpot},{name:"Effect_BuffHalo",type:m.Effect_BuffHalo},{name:"Effect_AttackWarning",type:A.Effect_AttackWarning},{name:"Effect_AimJGFYJ",type:x.Effect_AimJGFYJ}],e._effects=[],e}return i(e,t),e.prototype.Init=function(){},e.prototype.Execute=function(){var t=this,e=[];this._effects.forEach(function(t){t.Execute(),t.IsReach()&&e.push(t.guid)}),e.forEach(function(e){var o=t._effects.findIndex(function(t){return t.guid==e});-1!=o&&(t._effects[o].Release(),C.ObjectPool.put(t._effects[o]),t._effects.splice(o,1))})},e.prototype.Release=function(){this._effects.forEach(function(t){t.Release(),C.ObjectPool.put(t)}),this._effects=[]},e.prototype.AddEffect=function(t,e){var o;if(!(o="string"==typeof t?this._scripts.find(function(e){return e.name==t}).type:t))return-1;var n=C.ObjectPool.get(o);return n.guid=r.GuidManager.Guid,n.Init(b.ParseUtils.copy(e)),this._effects.push(n),n.guid},e.prototype.RemoveEffect=function(t,e){void 0===e&&(e=!0);var o=this._effects.find(function(e){return e.guid==t});o&&o.OnReach(e)},e}(cc.Component);o.EffectSystem=w,cc._RF.pop()},{"../../module/ObjectPool":"ObjectPool","../../utils/ParseUtils":"ParseUtils","../GuidManager":"GuidManager","./Effect_AimJGFYJ":"Effect_AimJGFYJ","./Effect_AttackWarning":"Effect_AttackWarning","./Effect_BlastBoss":"Effect_BlastBoss","./Effect_BlastHero":"Effect_BlastHero","./Effect_BlastHeroSpot":"Effect_BlastHeroSpot","./Effect_BlastMonster":"Effect_BlastMonster","./Effect_BuffHalo":"Effect_BuffHalo","./Effect_BulletLaunch":"Effect_BulletLaunch","./Effect_HeroInjured":"Effect_HeroInjured","./Effect_HeroLeech":"Effect_HeroLeech","./Effect_HeroMove":"Effect_HeroMove","./Effect_HeroRecover":"Effect_HeroRecover","./Effect_HeroRecoverBG":"Effect_HeroRecoverBG","./Effect_Hit1":"Effect_Hit1","./Effect_Hit2":"Effect_Hit2","./Effect_PropHPRevover":"Effect_PropHPRevover"}],Effect_AimJGFYJ:[function(t,e,o){"use strict";cc._RF.push(e,"ae03cglRftGvauN+GYVfTWO","Effect_AimJGFYJ");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Effect_AimJGFYJ=void 0;var r=t("../../global/enums"),a=t("../../module/NodePool"),c=t("../TimeManager"),s=t("../WorldManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._resourcePath="prefab/game/effect/effect_aim_JGFYJ",e._aimTime=0,e._oldAimTime=0,e._oldWidth=0,e._lastTime=0,e._effectCount=0,e._nodeList=[],e}return i(e,t),e.prototype.Init=function(e){if(t.prototype.Init.call(this,e),null!=this._xData.ActorGuid&&null!=this._xData.ChangeValue1&&null!=this._xData.ChangeValue2){var o=s.WorldManager.Instance.GetActor(this._xData.ActorGuid);if(null!=o){this._aimTime=e.ChangeValue1,this._oldAimTime=e.ChangeValue1,this._effectCount=this._xData.ChangeValue2;for(var n=o.GetLaunchPos(!0),i=0;i<this._effectCount;i++){if(null==n[i]){console.error("Effect_AimJGFYJ launch[i] = null ");break}var c=a.NodePool.get(this._resourcePath);c.parent=s.WorldManager.Instance.node,c.zIndex=r.ZIndex.ZI_EFFECT_FLOOR,c.setPosition(n[i]),c.angle=0,this._oldWidth=11,c.width=this._oldWidth;var _=c.getChildByName("sp_texture_1");_.active=!1,this._nodeList.push({node:c,sp_texture_1:_})}0!=this._nodeList.length||this.OnReach()}else this.OnReach()}else this.OnReach()},e.prototype.Execute=function(){var t=this;if(!this.IsReach()){var e=s.WorldManager.Instance.GetActor(this._xData.ActorGuid);if(null!=e){var o=c.TimeManager.deltaTime;this._aimTime-=o,this._aimTime<0&&(this._aimTime=0);var n=e.GetLaunchPos(!0),i=e.node.angle,r=!1;this._nodeList.forEach(function(e,o){e.node.setPosition(n[o]),3==t._effectCount?0==o?e.node.angle=i+30:1==o?e.node.angle=i:2==o&&(e.node.angle=i-30):e.node.angle=i,t._aimTime<t._oldAimTime/2.5?c.TimeManager.totalTime-t._lastTime>t._oldAimTime/18&&(e.sp_texture_1.active=!e.sp_texture_1.active,e.node.width=t._oldWidth/3,r=!0):e.sp_texture_1.active=!0,e.node.height=2e3,e.sp_texture_1.getComponent(cc.Widget).updateAlignment()}),r&&(this._lastTime=c.TimeManager.totalTime)}else this.OnReach()}},e.prototype.Release=function(){this._nodeList.forEach(function(t){a.NodePool.put(t.node)}),this._nodeList=[],this._aimTime=0,this._oldAimTime=0,this._oldWidth=0,this._lastTime=0,this._effectCount=0},e}(t("./IEffect").IEffect);o.Effect_AimJGFYJ=_,cc._RF.pop()},{"../../global/enums":"enums","../../module/NodePool":"NodePool","../TimeManager":"TimeManager","../WorldManager":"WorldManager","./IEffect":"IEffect"}],Effect_AttackWarning:[function(t,e,o){"use strict";cc._RF.push(e,"8e4fcPxSbpKLqmt7GlyDWSP","Effect_AttackWarning");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Effect_AttackWarning=void 0;var r=t("../../global/enums"),a=t("../../module/NodePool"),c=t("../TimeManager"),s=t("../WorldManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._resourcePath="prefab/game/effect/effect_attack_warning",e._nodeBuffer=[],e._node=null,e._sp_texture_1=null,e}return i(e,t),e.prototype.Init=function(e){if(t.prototype.Init.call(this,e),null!=this._xData.ActorGuid){var o=s.WorldManager.Instance.GetActor(this._xData.ActorGuid);if(null!=o){var n=cc.winSize.width/2,i=cc.v2(o.Pos2D.x>0?n:-n,o.Pos2D.y),c=a.NodePool.get(this._resourcePath);c.parent=s.WorldManager.Instance.node,c.zIndex=r.ZIndex.ZI_EFFECT_FLOOR,c.setPosition(i),this._node=c;var _=c.getChildByName("sp_texture_1");_.scale=.7;var l={node:_,reach:!1,delay:0,buffer:[{time:.3,scaleSpeed:1},{time:.3,scaleSpeed:-1}]};this._nodeBuffer.push(l),this._sp_texture_1=_;var p=c.getChildByName("sp_texture_2");p.opacity=100;var u={node:p,reach:!1,delay:0,buffer:[{time:.3,opacitySpeed:80/.3},{time:.3,opacitySpeed:-80/.3}]};this._nodeBuffer.push(u),this._nodeBuffer.forEach(function(t){t.buffer.forEach(function(t){t.oTime=t.time})})}else this.OnReach()}else this.OnReach()},e.prototype.Execute=function(){if(!this.IsReach()){var t=s.WorldManager.Instance.GetActor(this._xData.ActorGuid);if(null!=t){var e=cc.winSize.width/2,o=cc.v2(t.Pos2D.x>0?e:-e,t.Pos2D.y);this._node.setPosition(o),this._sp_texture_1.x=t.Pos2D.x>0?-45:45;var n=c.TimeManager.deltaTime;this._nodeBuffer.forEach(function(t){if(!t.reach)if(t.node.active=t.delay<=0,t.delay>0)t.delay-=n;else{var e=t.buffer[0],o=n;e.time-=n,e.time<0&&(o-=Math.abs(e.time)),null!=e.scaleSpeed&&(t.node.scale+=e.scaleSpeed*o),null!=e.opacitySpeed&&(t.node.opacity+=e.opacitySpeed*o),null!=e.scaleYSpeed&&(t.node.scaleY+=e.scaleYSpeed*o),e.time<0&&(t.buffer.splice(0,1),e.time=e.oTime,t.buffer.push(e)),0==t.buffer.length&&(t.reach=!0)}}),null==this._nodeBuffer.find(function(t){return 0==t.reach})&&this.OnReach()}else this.OnReach()}},e.prototype.Release=function(){a.NodePool.put(this._node),this._nodeBuffer=[],this._node=null,this._sp_texture_1=null},e}(t("./IEffect").IEffect);o.Effect_AttackWarning=_,cc._RF.pop()},{"../../global/enums":"enums","../../module/NodePool":"NodePool","../TimeManager":"TimeManager","../WorldManager":"WorldManager","./IEffect":"IEffect"}],Effect_BlastBoss:[function(t,e,o){"use strict";cc._RF.push(e,"b360dlkI3RMUo/z8LD01QqV","Effect_BlastBoss");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Effect_BlastBoss=void 0;var r=t("../../global/enums"),a=t("../../module/NodePool"),c=t("../TimeManager"),s=t("../WorldManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._resourcePath="prefab/game/effect/effect_blast_boss",e._nodeBuffer=[],e._delayTime=0,e}return i(e,t),e.prototype.Init=function(e){if(t.prototype.Init.call(this,e),null!=this._xData.TargetPos&&null!=this._xData.ChangeValue1){this._delayTime=this._xData.ChangeValue1;for(var o=0;o<3;o++){var n=a.NodePool.get(this._resourcePath);n.parent=s.WorldManager.Instance.node,n.zIndex=r.ZIndex.ZI_EFFECT,n.setPosition(this._xData.TargetPos),n.angle=180*Math.random(),n.scale=1*Math.random()+1,n.active=this._delayTime<=0;var i={node:n,reach:!1,buffer:[{time:.4,scaleSpeed:-n.scale/.4}]};this._nodeBuffer.push(i)}}else this.OnReach()},e.prototype.Execute=function(){if(!this.IsReach()){var t=c.TimeManager.deltaTime;if(this._delayTime>0)return this._delayTime-=t,void(this._delayTime<=0&&this._nodeBuffer.forEach(function(t){t.node.active=!0}));this._nodeBuffer.forEach(function(e){if(!e.reach){var o=e.buffer[0],n=t;o.time-=t,o.time<0&&(n-=Math.abs(o.time)),null!=o.scaleSpeed&&(e.node.scale+=o.scaleSpeed*n),null!=o.opacitySpeed&&(e.node.opacity+=o.opacitySpeed*n),o.time<0&&e.buffer.splice(0,1),0==e.buffer.length&&(e.reach=!0)}}),null==this._nodeBuffer.find(function(t){return 0==t.reach})&&this.OnReach()}},e.prototype.Release=function(){this._nodeBuffer.forEach(function(t){a.NodePool.put(t.node)}),this._nodeBuffer=[],this._delayTime=0},e}(t("./IEffect").IEffect);o.Effect_BlastBoss=_,cc._RF.pop()},{"../../global/enums":"enums","../../module/NodePool":"NodePool","../TimeManager":"TimeManager","../WorldManager":"WorldManager","./IEffect":"IEffect"}],Effect_BlastHeroSpot:[function(t,e,o){"use strict";cc._RF.push(e,"cf648sPEHVBwKApMdgDVAZi","Effect_BlastHeroSpot");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Effect_BlastHeroSpot=void 0;var r=t("../../global/enums"),a=t("../../module/NodePool"),c=t("../../utils/Geometry"),s=t("../TimeManager"),_=t("../WorldManager"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._resourcePath="prefab/game/effect/effect_blast_hero_spot",e._nodeBuffer=[],e._count=10,e}return i(e,t),e.prototype.Init=function(e){if(t.prototype.Init.call(this,e),null!=this._xData.TargetPos)for(var o=0;o<this._count;o++)for(var n=0;n<3;n++){var i=a.NodePool.get(this._resourcePath);i.parent=_.WorldManager.Instance.node,i.zIndex=r.ZIndex.ZI_EFFECT,i.scale=.5*Math.random()+.5,i.opacity=0,i.setPosition(this._xData.TargetPos);var s=c.Geometry.RandomPointInCircle(100,300),l=this._xData.TargetPos,p=l.add(s).sub(l),u=p.normalize().mul(300),d=p.mag()/300;i.angle=Math.atan2(p.y,p.x)/Math.PI*180-90,this._nodeBuffer.push({node:i,time:d,scaleSpeed:(i.scale-.1)/d,vectorSpeed:u,delay:.05*o,reach:!1})}else this.OnReach()},e.prototype.Execute=function(){this.IsReach()||(this._nodeBuffer.forEach(function(t){if(!t.reach){var e=s.TimeManager.deltaTime;if(t.delay>0)return t.delay-=e,void(t.delay<=0&&(t.node.opacity=255));var o=e;t.time-=e,t.time<0&&(o-=Math.abs(t.time)),t.node.scale-=t.scaleSpeed*o,t.node.x+=t.vectorSpeed.x*o,t.node.y+=t.vectorSpeed.y*o,t.time<0&&(t.reach=!0,t.node.opacity=0)}}),null==this._nodeBuffer.find(function(t){return 0==t.reach})&&this.OnReach())},e.prototype.Release=function(){this._nodeBuffer.forEach(function(t){a.NodePool.put(t.node)}),this._nodeBuffer=[],this._count=0},e}(t("./IEffect").IEffect);o.Effect_BlastHeroSpot=l,cc._RF.pop()},{"../../global/enums":"enums","../../module/NodePool":"NodePool","../../utils/Geometry":"Geometry","../TimeManager":"TimeManager","../WorldManager":"WorldManager","./IEffect":"IEffect"}],Effect_BlastHero:[function(t,e,o){"use strict";cc._RF.push(e,"4fd20ds65tFYpww+dhXpPbF","Effect_BlastHero");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Effect_BlastHero=void 0;var r=t("../../global/enums"),a=t("../../module/NodePool"),c=t("../TimeManager"),s=t("../WorldManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._resourcePath="prefab/game/effect/effect_blast_hero",e._nodeBuffer=[],e._node=null,e._delayTime=0,e}return i(e,t),e.prototype.Init=function(e){if(t.prototype.Init.call(this,e),null!=this._xData.TargetPos&&null!=this._xData.ChangeValue1){this._delayTime=this._xData.ChangeValue1;var o=a.NodePool.get(this._resourcePath);o.parent=s.WorldManager.Instance.node,o.zIndex=r.ZIndex.ZI_EFFECT,o.setPosition(this._xData.TargetPos),o.active=this._delayTime<=0,this._node=o;var n=o.getChildByName("sp_texture_1");n.scaleY=0;var i={node:o,reach:!1,buffer:[{node:n,time:.1,scaleYSpeed:10},{node:n,time:.7,scaleYSpeed:-1/.7}]};this._nodeBuffer.push(i);var c=o.getChildByName("sp_texture_2");c.scaleY=0;var _={node:o,reach:!1,buffer:[{node:c,time:.1,scaleYSpeed:20},{node:c,time:.7,scaleYSpeed:-2/.7}]};this._nodeBuffer.push(_);var l=o.getChildByName("sp_texture_3");l.scale=.5,l.opacity=255;var p={node:o,reach:!1,buffer:[{node:l,time:.4,scaleSpeed:1.25},{node:l,time:.01,opacitySpeed:-25500}]};this._nodeBuffer.push(p);var u=o.getChildByName("sp_texture_4");u.scale=0,u.opacity=255;var d={node:o,reach:!1,buffer:[{node:u,time:.4,scaleSpeed:1.2/.4},{node:u,time:.6,opacitySpeed:-100/.6},{node:u,time:.3,opacitySpeed:-155/.6}]};this._nodeBuffer.push(d)}else this.OnReach()},e.prototype.Execute=function(){if(!this.IsReach()){var t=c.TimeManager.deltaTime;if(this._delayTime>0)return this._delayTime-=t,void(this._delayTime<=0&&(this._node.active=!0));this._nodeBuffer.forEach(function(e){if(!e.reach){var o=e.buffer[0],n=t;o.time-=t,o.time<0&&(n-=Math.abs(o.time)),null!=o.scaleSpeed&&(o.node.scale+=o.scaleSpeed*n),null!=o.opacitySpeed&&(o.node.opacity+=o.opacitySpeed*n),null!=o.scaleYSpeed&&(o.node.scaleY+=o.scaleYSpeed*n),o.time<0&&e.buffer.splice(0,1),0==e.buffer.length&&(e.reach=!0)}}),null==this._nodeBuffer.find(function(t){return 0==t.reach})&&this.OnReach()}},e.prototype.Release=function(){a.NodePool.put(this._node),this._nodeBuffer=[],this._node=null,this._delayTime=0},e}(t("./IEffect").IEffect);o.Effect_BlastHero=_,cc._RF.pop()},{"../../global/enums":"enums","../../module/NodePool":"NodePool","../TimeManager":"TimeManager","../WorldManager":"WorldManager","./IEffect":"IEffect"}],Effect_BlastMonster:[function(t,e,o){"use strict";cc._RF.push(e,"963146RvuVLz6TjrgGDVz3L","Effect_BlastMonster");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Effect_BlastMonster=void 0;var r=t("../../global/enums"),a=t("../../module/NodePool"),c=t("../TimeManager"),s=t("../WorldManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._resourcePath="prefab/game/effect/effect_blast_monster",e._nodeBuffer=[],e._node=null,e._delayTime=0,e}return i(e,t),e.prototype.Init=function(e){if(t.prototype.Init.call(this,e),null!=this._xData.TargetPos&&null!=this._xData.ChangeValue1){this._delayTime=this._xData.ChangeValue1;var o=a.NodePool.get(this._resourcePath);o.parent=s.WorldManager.Instance.node,o.zIndex=r.ZIndex.ZI_EFFECT,o.setPosition(this._xData.TargetPos),o.active=this._delayTime<=0,this._node=o;var n=o.getChildByName("sp_texture_1");n.scale=1,n.opacity=255;var i={node:o,reach:!1,buffer:[{node:n,time:.1,scaleSpeed:(2-n.scale)/.1},{node:n,time:.3,scaleSpeed:-1.7/.3},{node:n,time:.1,opacitySpeed:-25500}]};this._nodeBuffer.push(i);var c=o.getChildByName("sp_texture_2");c.scale=1,c.opacity=255;var _={node:o,reach:!1,buffer:[{node:c,time:.1,scaleSpeed:(2-c.scale)/.1,opacitySpeed:2550},{node:c,time:.1,scaleSpeed:-17,opacitySpeed:-2550}]};this._nodeBuffer.push(_);var l=o.getChildByName("sp_texture_3");l.scale=1,l.opacity=255;var p={node:o,reach:!1,buffer:[{node:l,time:.1,scaleSpeed:(2-l.scale)/.1},{node:l,time:.03},{node:l,time:.3,scaleSpeed:-.65/.3,opacitySpeed:-200/.3},{node:l,time:.3,opacitySpeed:-55/.3}]};this._nodeBuffer.push(p);var u=o.getChildByName("sp_texture_4");u.scale=1,u.opacity=255;var d={node:o,reach:!1,buffer:[{node:u,time:.1},{node:u,time:.3*1.5,scaleSpeed:1/.3,opacitySpeed:-100/.3},{node:u,time:.3,scaleSpeed:.5/.3,opacitySpeed:-155/.3}]};this._nodeBuffer.push(d)}else this.OnReach()},e.prototype.Execute=function(){if(!this.IsReach()){var t=c.TimeManager.deltaTime;if(this._delayTime>0)return this._delayTime-=t,void(this._delayTime<=0&&(this._node.active=!0,this._xData.StartCall&&this._xData.StartCall()));this._nodeBuffer.forEach(function(e){if(!e.reach){var o=e.buffer[0],n=t;o.time-=t,o.time<0&&(n-=Math.abs(o.time)),null!=o.scaleSpeed&&(o.node.scale+=o.scaleSpeed*n),null!=o.opacitySpeed&&(o.node.opacity+=o.opacitySpeed*n),o.time<0&&e.buffer.splice(0,1),0==e.buffer.length&&(e.reach=!0)}}),null==this._nodeBuffer.find(function(t){return 0==t.reach})&&this.OnReach()}},e.prototype.Release=function(){a.NodePool.put(this._node),this._nodeBuffer=[],this._node=null,this._delayTime=0},e}(t("./IEffect").IEffect);o.Effect_BlastMonster=_,cc._RF.pop()},{"../../global/enums":"enums","../../module/NodePool":"NodePool","../TimeManager":"TimeManager","../WorldManager":"WorldManager","./IEffect":"IEffect"}],Effect_BuffHalo:[function(t,e,o){"use strict";cc._RF.push(e,"1280fxGmi9I6Y3XUqNTgrHJ","Effect_BuffHalo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Effect_BuffHalo=void 0;var r=t("../../global/enums"),a=t("../../module/NodePool"),c=t("../TimeManager"),s=t("../WorldManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._resourcePath="prefab/game/effect/effect_buff_halo",e._nodeBuffer=[],e._node=null,e}return i(e,t),e.prototype.Init=function(e){if(t.prototype.Init.call(this,e),null!=e.TargetColor)if(null!=this._xData.ActorGuid){var o=s.WorldManager.Instance.GetActor(this._xData.ActorGuid);if(null!=o){var n=a.NodePool.get(this._resourcePath);n.parent=s.WorldManager.Instance.node,n.zIndex=r.ZIndex.ZI_EFFECT,n.setPosition(o.Pos2D),this._node=n;var i=n.getChildByName("sp_texture_1"),c=n.getChildByName("sp_texture_2"),_=n.getChildByName("sp_texture_3");i.color=e.TargetColor,c.color=e.TargetColor,_.color=e.TargetColor,c.scale=0,c.opacity=255;var l={node:c,reach:!1,delay:0,buffer:[{time:.6,scaleSpeed:1},{time:.4,scaleSpeed:1,opacitySpeed:-500},{time:.01,scaleSpeed:-100,opacitySpeed:2e4}]};this._nodeBuffer.push(l),_.scale=0,_.opacity=255;var p={node:_,reach:!1,delay:.5,buffer:[{time:.6,scaleSpeed:1},{time:.4,scaleSpeed:1,opacitySpeed:-500},{time:.01,scaleSpeed:-100,opacitySpeed:2e4}]};this._nodeBuffer.push(p),this._nodeBuffer.forEach(function(t){t.buffer.forEach(function(t){t.oTime=t.time})})}else this.OnReach()}else this.OnReach();else this.OnReach()},e.prototype.Execute=function(){if(!this.IsReach()){var t=s.WorldManager.Instance.GetActor(this._xData.ActorGuid);if(null!=t){this._node.setPosition(t.Pos2D);var e=c.TimeManager.deltaTime;this._nodeBuffer.forEach(function(t){if(!t.reach)if(t.node.active=t.delay<=0,t.delay>0)t.delay-=e;else{var o=t.buffer[0],n=e;o.time-=e,o.time<0&&(n-=Math.abs(o.time)),null!=o.scaleSpeed&&(t.node.scale+=o.scaleSpeed*n),null!=o.opacitySpeed&&(t.node.opacity+=o.opacitySpeed*n),null!=o.scaleYSpeed&&(t.node.scaleY+=o.scaleYSpeed*n),o.time<0&&(t.buffer.splice(0,1),o.time=o.oTime,t.buffer.push(o)),0==t.buffer.length&&(t.reach=!0)}}),null==this._nodeBuffer.find(function(t){return 0==t.reach})&&this.OnReach()}else this.OnReach()}},e.prototype.Release=function(){a.NodePool.put(this._node),this._nodeBuffer=[],this._node=null},e}(t("./IEffect").IEffect);o.Effect_BuffHalo=_,cc._RF.pop()},{"../../global/enums":"enums","../../module/NodePool":"NodePool","../TimeManager":"TimeManager","../WorldManager":"WorldManager","./IEffect":"IEffect"}],Effect_BulletLaunch:[function(t,e,o){"use strict";cc._RF.push(e,"49033uTfrlLkpdGTCIOGoUa","Effect_BulletLaunch");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Effect_BulletLaunch=void 0;var r=t("../../global/enums"),a=t("../../module/NodePool"),c=t("../TimeManager"),s=t("../WorldManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._resourcePath="prefab/game/effect/effect_bullet_launch",e._nodeBuffer=[],e}return i(e,t),e.prototype.Init=function(e){var o=this;t.prototype.Init.call(this,e);var n=s.WorldManager.Instance.GetActor(e.ActorGuid);n?n.GetLaunchPos(!0).forEach(function(t){var e=a.NodePool.get(o._resourcePath);e.parent=s.WorldManager.Instance.node,e.zIndex=r.ZIndex.ZI_EFFECT,e.scale=1.2,e.opacity=255,e.setPosition(t),o._nodeBuffer.push({node:e,time:.1,scaleSpeed:(e.scale-.2)/.1,reach:!1})}):this.OnReach()},e.prototype.Execute=function(){if(!this.IsReach()){var t=s.WorldManager.Instance.GetActor(this._xData.ActorGuid);if(t){var e=t.GetLaunchPos(!0);e.length==this._nodeBuffer.length?(this._nodeBuffer.forEach(function(t,o){if(!t.reach){var n=c.TimeManager.deltaTime,i=n;t.time-=n,t.time<0&&(i-=Math.abs(t.time)),t.node.scale-=t.scaleSpeed*i,t.node.x=e[o].x,t.node.y=e[o].y,t.time<0&&(t.reach=!0,t.node.opacity=0)}}),null==this._nodeBuffer.find(function(t){return 0==t.reach})&&this.OnReach()):this.OnReach()}else this.OnReach()}},e.prototype.Release=function(){this._nodeBuffer.forEach(function(t){a.NodePool.put(t.node)}),this._nodeBuffer=[]},e}(t("./IEffect").IEffect);o.Effect_BulletLaunch=_,cc._RF.pop()},{"../../global/enums":"enums","../../module/NodePool":"NodePool","../TimeManager":"TimeManager","../WorldManager":"WorldManager","./IEffect":"IEffect"}],Effect_HeroInjured:[function(t,e,o){"use strict";cc._RF.push(e,"ee15cSWpw1H17Tb58m5GLRb","Effect_HeroInjured");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Effect_HeroInjured=void 0;var r=t("../../global/enums"),a=t("../../module/NodePool"),c=t("../TimeManager"),s=t("../WorldManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._time=.4,e._resourcePath="prefab/game/effect/effect_hero_injured",e._nodeBuffer=[],e}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e);var o=a.NodePool.get(this._resourcePath);o.parent=s.WorldManager.Instance.node,o.zIndex=r.ZIndex.ZI_EFFECT,o.opacity=0,o.x=0,o.y=0,o.width=s.WorldManager.Instance.node.width,o.height=s.WorldManager.Instance.node.height,this._nodeBuffer.push({node:o,time:this._time,opacitySpeed:510/this._time,reach:!1})},e.prototype.Execute=function(){var t=this;this.IsReach()||(this._nodeBuffer.forEach(function(e){if(!e.reach){var o=c.TimeManager.deltaTime,n=o;e.time-=o,e.time<0&&(n-=Math.abs(e.time)),e.time>=t._time/2?e.node.opacity+=e.opacitySpeed*n:e.node.opacity-=e.opacitySpeed*n,e.time<0&&(e.reach=!0,e.node.opacity=0)}}),null==this._nodeBuffer.find(function(t){return 0==t.reach})&&this.OnReach())},e.prototype.Release=function(){this._nodeBuffer.forEach(function(t){a.NodePool.put(t.node)}),this._nodeBuffer=[]},e}(t("./IEffect").IEffect);o.Effect_HeroInjured=_,cc._RF.pop()},{"../../global/enums":"enums","../../module/NodePool":"NodePool","../TimeManager":"TimeManager","../WorldManager":"WorldManager","./IEffect":"IEffect"}],Effect_HeroLeech:[function(t,e,o){"use strict";cc._RF.push(e,"bced8/GTytIjokRRDHKW00n","Effect_HeroLeech");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Effect_HeroLeech=void 0;var r=t("../../global/enums"),a=t("../../module/NodePool"),c=t("../TimeManager"),s=t("../WorldManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._resourcePath="prefab/game/effect/effect_hero_recover_2",e._nodeBuffer=[],e._count=5,e._delay=1,e}return i(e,t),e.prototype.Init=function(e){if(t.prototype.Init.call(this,e),null!=this._xData.ActorGuid){var o=s.WorldManager.Instance.GetActor(this._xData.ActorGuid);if(null!=o)for(var n=0;n<this._count;n++)this.CreateNode(.3*Math.random()+.4,o);else this.OnReach()}else this.OnReach()},e.prototype.Execute=function(){this.IsReach()||(null!=s.WorldManager.Instance.GetActor(this._xData.ActorGuid)?(this.ExecuteDelay(),this.ExecuteEffect()):this.OnReach())},e.prototype.Release=function(){this._nodeBuffer.forEach(function(t){a.NodePool.put(t.node)}),this._nodeBuffer=[]},e.prototype.CreateNode=function(t,e){var o=cc.v2();o.x+=120*Math.random()-60,o.y+=60*Math.random();var n=a.NodePool.get(this._resourcePath);n.parent=e.node,n.zIndex=r.ZIndex.ZI_EFFECT,n.opacity=0,n.scale=t,n.setPosition(o),this._nodeBuffer.push({node:n,ep:cc.v2(),time:0,delay:Math.random()*this._delay,ySpeed:0,opacitySpeed:0,reach:!1})},e.prototype.ExecuteDelay=function(){var t=c.TimeManager.deltaTime;this._nodeBuffer.forEach(function(e){e.delay<=0||(e.delay-=t,e.delay<0&&(e.delay=0),0==e.delay&&(e.node.opacity=255,e.time=.5*Math.random()+.8,e.ep=cc.v2(e.node.x,e.node.y+100),e.ySpeed=Math.abs(e.ep.y-e.node.y)/e.time,e.opacitySpeed=255/e.time))})},e.prototype.ExecuteEffect=function(){this._nodeBuffer.forEach(function(t){if(!(t.delay>0||t.reach)){var e=c.TimeManager.deltaTime,o=e;t.time-=e,t.time<0&&(o-=Math.abs(t.time)),t.node.y+=t.ySpeed*o,t.node.opacity-=t.opacitySpeed*o,t.time<0&&(t.reach=!0)}}),null==this._nodeBuffer.find(function(t){return 0==t.reach})&&this.OnReach()},e}(t("./IEffect").IEffect);o.Effect_HeroLeech=_,cc._RF.pop()},{"../../global/enums":"enums","../../module/NodePool":"NodePool","../TimeManager":"TimeManager","../WorldManager":"WorldManager","./IEffect":"IEffect"}],Effect_HeroMove:[function(t,e,o){"use strict";cc._RF.push(e,"6f141z9kfBN3Jc9Wkd9Ag2L","Effect_HeroMove");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Effect_HeroMove=void 0;var r=t("../../global/enums"),a=t("../../module/NodePool"),c=t("../TimeManager"),s=t("../WorldManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._resourcePath="prefab/game/effect/effect_hero_move",e._nodeBuffer=[],e._count=30,e._delay=2,e}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e);var o=s.WorldManager.Instance.GetActor(e.ActorGuid);if(o)for(var n=o.GetEffectPos(!0),i=0;i<this._count;i++){var c=a.NodePool.get(this._resourcePath);c.parent=s.WorldManager.Instance.node,c.zIndex=r.ZIndex.ZI_EFFECT,c.getChildByName("sp_texture_1").color=o.GetColor(),c.opacity=0,c.setPosition(n),this._nodeBuffer.push({node:c,sp:cc.v2(),ep:cc.v2(),time:0,delay:0,ySpeed:0,scaleSpeed:0,opacitySpeed:0})}else this.OnReach()},e.prototype.Execute=function(){if(!this.IsReach()){var t=s.WorldManager.Instance.GetActor(this._xData.ActorGuid);t?(this._nodeBuffer.forEach(function(e){e.node.active=!t.IsDead()}),this.ExecuteDelay(t),this.ExecuteEffect()):this.OnReach()}},e.prototype.Release=function(){this._nodeBuffer.forEach(function(t){a.NodePool.put(t.node)}),this._nodeBuffer=[]},e.prototype.ExecuteDelay=function(t){var e=c.TimeManager.deltaTime,o=t.GetEffectPos(!0);this._nodeBuffer.forEach(function(t){t.delay<=0||(t.delay-=e,t.delay<0&&(t.delay=0),0==t.delay&&(t.node.opacity=255,t.node.scale=.5*Math.random()+.5,t.time=(20*Math.random()+20)/50,t.sp=cc.v2(o.x+40*Math.random()-20,o.y),t.ep=cc.v2(t.sp.x,t.sp.y-100*Math.random()+200),t.ySpeed=Math.abs(t.sp.y-t.ep.y)/t.time,t.scaleSpeed=(t.node.scale-0)/t.time,t.opacitySpeed=255/t.time,t.node.setPosition(t.sp)))})},e.prototype.ExecuteEffect=function(){var t=this;this._nodeBuffer.forEach(function(e){if(!(e.delay>0)){var o=c.TimeManager.deltaTime,n=o;e.time-=o,e.time<0&&(n-=Math.abs(e.time)),e.node.y-=e.ySpeed*n,e.node.scale-=e.scaleSpeed*n,e.node.opacity-=e.opacitySpeed*n,e.time<0&&(e.time=0,e.delay=Math.random()*t._delay)}})},e}(t("./IEffect").IEffect);o.Effect_HeroMove=_,cc._RF.pop()},{"../../global/enums":"enums","../../module/NodePool":"NodePool","../TimeManager":"TimeManager","../WorldManager":"WorldManager","./IEffect":"IEffect"}],Effect_HeroRecoverBG:[function(t,e,o){"use strict";cc._RF.push(e,"fdc760zupVD7qGe2NOLOUi1","Effect_HeroRecoverBG");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Effect_HeroRecoverBG=void 0;var r=t("../../global/enums"),a=t("../../module/NodePool"),c=t("../TimeManager"),s=t("../WorldManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._time=1,e._resourcePath="prefab/game/effect/effect_hero_recover_1",e._nodeBuffer=[],e}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e);var o=a.NodePool.get(this._resourcePath);o.parent=s.WorldManager.Instance.node,o.zIndex=r.ZIndex.ZI_EFFECT,o.opacity=0,o.x=0,o.y=0,o.width=s.WorldManager.Instance.node.width,o.height=s.WorldManager.Instance.node.height,this._nodeBuffer.push({node:o,time:this._time,opacitySpeed:510/this._time,reach:!1})},e.prototype.Execute=function(){var t=this;this.IsReach()||(this._nodeBuffer.forEach(function(e){if(!e.reach){var o=c.TimeManager.deltaTime,n=o;e.time-=o,e.time<0&&(n-=Math.abs(e.time)),e.time>=t._time/2?e.node.opacity+=e.opacitySpeed*n:e.node.opacity-=e.opacitySpeed*n,e.time<0&&(e.reach=!0,e.node.opacity=0)}}),null==this._nodeBuffer.find(function(t){return 0==t.reach})&&this.OnReach())},e.prototype.Release=function(){this._nodeBuffer.forEach(function(t){a.NodePool.put(t.node)}),this._nodeBuffer=[]},e}(t("./IEffect").IEffect);o.Effect_HeroRecoverBG=_,cc._RF.pop()},{"../../global/enums":"enums","../../module/NodePool":"NodePool","../TimeManager":"TimeManager","../WorldManager":"WorldManager","./IEffect":"IEffect"}],Effect_HeroRecover:[function(t,e,o){"use strict";cc._RF.push(e,"19fecF/skhK+o1G4jQ7O26O","Effect_HeroRecover");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Effect_HeroRecover=void 0;var r=t("../../global/enums"),a=t("../../module/NodePool"),c=t("../TimeManager"),s=t("../WorldManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._resourcePath1="prefab/game/effect/effect_hero_recover_2",e._resourcePath2="prefab/game/effect/effect_hero_recover_3",e._nodeBuffer=[],e._count=20,e._delay=1,e}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e);for(var o=0;o<this._count;o++)this.CreateNode(a.NodePool.get(this._resourcePath2),.3*Math.random()+.4);for(o=0;o<this._count;o++)this.CreateNode(a.NodePool.get(this._resourcePath1),.4*Math.random()+.6)},e.prototype.Execute=function(){this.IsReach()||(this.ExecuteDelay(),this.ExecuteEffect())},e.prototype.Release=function(){this._nodeBuffer.forEach(function(t){a.NodePool.put(t.node)}),this._nodeBuffer=[]},e.prototype.CreateNode=function(t,e){var o=cc.winSize.width-100,n=cc.v2(0,-cc.winSize.height/2);n.x=Math.random()*o-o/2,t.parent=s.WorldManager.Instance.node,t.zIndex=r.ZIndex.ZI_EFFECT,t.opacity=0,t.scale=e,t.setPosition(n),this._nodeBuffer.push({node:t,ep:cc.v2(),time:0,delay:Math.random()*this._delay,ySpeed:0,opacitySpeed:0,reach:!1})},e.prototype.ExecuteDelay=function(){var t=c.TimeManager.deltaTime;this._nodeBuffer.forEach(function(e){e.delay<=0||(e.delay-=t,e.delay<0&&(e.delay=0),0==e.delay&&(e.node.opacity=255,e.time=.5*Math.random()+.8,e.ep=cc.v2(e.node.x,e.node.y+100*Math.random()+200),e.ySpeed=Math.abs(e.ep.y-e.node.y)/e.time,e.opacitySpeed=255/e.time))})},e.prototype.ExecuteEffect=function(){this._nodeBuffer.forEach(function(t){if(!(t.delay>0||t.reach)){var e=c.TimeManager.deltaTime,o=e;t.time-=e,t.time<0&&(o-=Math.abs(t.time)),t.node.y+=t.ySpeed*o,t.node.opacity-=t.opacitySpeed*o,t.time<0&&(t.reach=!0)}}),null==this._nodeBuffer.find(function(t){return 0==t.reach})&&this.OnReach()},e}(t("./IEffect").IEffect);o.Effect_HeroRecover=_,cc._RF.pop()},{"../../global/enums":"enums","../../module/NodePool":"NodePool","../TimeManager":"TimeManager","../WorldManager":"WorldManager","./IEffect":"IEffect"}],Effect_Hit1:[function(t,e,o){"use strict";cc._RF.push(e,"5b45dVo5UdLnqYBSm0TuZBM","Effect_Hit1");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Effect_Hit1=void 0;var r=t("../../global/enums"),a=t("../../module/NodePool"),c=t("../TimeManager"),s=t("../WorldManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._resourcePath="prefab/game/effect/effect_hit_1",e._nodeBuffer=[],e}return i(e,t),e.prototype.Init=function(e){if(t.prototype.Init.call(this,e),null!=e.TargetColor){var o=a.NodePool.get(this._resourcePath);o.parent=s.WorldManager.Instance.node,o.zIndex=r.ZIndex.ZI_EFFECT,o.scale=1,o.opacity=255,o.setPosition(this._xData.TargetPos),o.getChildByName("sp_texture_1").color=e.TargetColor,this._nodeBuffer.push({node:o,time:.2,scaleSpeed:(2-o.scale)/.2,reach:!1})}else this.OnReach()},e.prototype.Execute=function(){this.IsReach()||(this._nodeBuffer.forEach(function(t){if(!t.reach){var e=c.TimeManager.deltaTime,o=e;t.time-=e,t.time<0&&(o-=Math.abs(t.time)),t.node.scale+=t.scaleSpeed*o,t.time<0&&(t.reach=!0,t.node.opacity=0)}}),null==this._nodeBuffer.find(function(t){return 0==t.reach})&&this.OnReach())},e.prototype.Release=function(){this._nodeBuffer.forEach(function(t){a.NodePool.put(t.node)}),this._nodeBuffer=[]},e}(t("./IEffect").IEffect);o.Effect_Hit1=_,cc._RF.pop()},{"../../global/enums":"enums","../../module/NodePool":"NodePool","../TimeManager":"TimeManager","../WorldManager":"WorldManager","./IEffect":"IEffect"}],Effect_Hit2:[function(t,e,o){"use strict";cc._RF.push(e,"c5eaa1QCONF3pcebw+zZ0a8","Effect_Hit2");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Effect_Hit2=void 0;var r=t("../../global/enums"),a=t("../../module/NodePool"),c=t("../../utils/Geometry"),s=t("../TimeManager"),_=t("../WorldManager"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._resourcePath="prefab/game/effect/effect_hit_2",e._nodeBuffer=[],e._count=10,e}return i(e,t),e.prototype.Init=function(e){if(t.prototype.Init.call(this,e),null!=this._xData.TargetPos)for(var o=0;o<this._count;o++){var n=a.NodePool.get(this._resourcePath);n.parent=_.WorldManager.Instance.node,n.zIndex=r.ZIndex.ZI_EFFECT,n.scale=1*Math.random()+1,n.opacity=255,n.setPosition(this._xData.TargetPos);var i=100*Math.random()+100,s=c.Geometry.RandomPointInCircle(25,60),l=this._xData.TargetPos,p=l.add(s).sub(l),u=p.normalize().mul(i),d=p.mag()/i;n.angle=Math.atan2(p.y,p.x)/Math.PI*180-90,this._nodeBuffer.push({node:n,time:d,scaleSpeed:(n.scale-.1)/d,vectorSpeed:u,reach:!1})}else this.OnReach()},e.prototype.Execute=function(){this.IsReach()||(this._nodeBuffer.forEach(function(t){if(!t.reach){var e=s.TimeManager.deltaTime,o=e;t.time-=e,t.time<0&&(o-=Math.abs(t.time)),t.node.scale-=t.scaleSpeed*o,t.node.x+=t.vectorSpeed.x*o,t.node.y+=t.vectorSpeed.y*o,t.time<0&&(t.reach=!0,t.node.opacity=0)}}),null==this._nodeBuffer.find(function(t){return 0==t.reach})&&this.OnReach())},e.prototype.Release=function(){this._nodeBuffer.forEach(function(t){a.NodePool.put(t.node)}),this._nodeBuffer=[]},e}(t("./IEffect").IEffect);o.Effect_Hit2=l,cc._RF.pop()},{"../../global/enums":"enums","../../module/NodePool":"NodePool","../../utils/Geometry":"Geometry","../TimeManager":"TimeManager","../WorldManager":"WorldManager","./IEffect":"IEffect"}],Effect_PropHPRevover:[function(t,e,o){"use strict";cc._RF.push(e,"10503GG22dImKh2JDnFGjoO","Effect_PropHPRevover");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Effect_PropHPRevover=void 0;var r=t("../../global/enums"),a=t("../../module/NodePool"),c=t("../TimeManager"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._resourcePath="prefab/game/effect/effect_prop_hp_revover",e._posList=[],e._nodeBuffer=[],e._velocity=100,e}return i(e,t),e.prototype.Init=function(e){var o=this;if(t.prototype.Init.call(this,e),e.TargetNode){var n=e.TargetNode.getComponent(cc.PolygonCollider);if(n){n.points.forEach(function(t){o._posList.push(t)});for(var i=0;i<2;i++){var c=a.NodePool.get(this._resourcePath);c.parent=e.TargetNode,c.zIndex=r.ZIndex.ZI_EFFECT;var s=0==i?0:Math.floor(this._posList.length/2);c.setPosition(this._posList[s]),this._nodeBuffer.push({node:c,time:0,moveSpeed:cc.v2(),posIndex:s,reach:!0})}}else this.OnReach()}else this.OnReach()},e.prototype.Execute=function(){var t=this;this.IsReach()||this._nodeBuffer.forEach(function(e){if(e.reach){e.posIndex+=1,e.posIndex==t._posList.length&&(e.posIndex=0);var o=e.node.getPosition(),n=t._posList[e.posIndex].sub(o);e.moveSpeed=n.normalize().mul(t._velocity),e.time=n.mag()/t._velocity,e.reach=!1}var i=c.TimeManager.deltaTime,r=i;e.time-=i,e.time<0&&(r-=Math.abs(e.time)),e.node.x+=e.moveSpeed.x*r,e.node.y+=e.moveSpeed.y*r,e.time<0&&(e.reach=!0)})},e.prototype.Release=function(){this._nodeBuffer.forEach(function(t){a.NodePool.put(t.node)}),this._nodeBuffer=[],this._posList=[]},e}(t("./IEffect").IEffect);o.Effect_PropHPRevover=s,cc._RF.pop()},{"../../global/enums":"enums","../../module/NodePool":"NodePool","../TimeManager":"TimeManager","./IEffect":"IEffect"}],ExchangeExpLayer:[function(t,e,o){"use strict";cc._RF.push(e,"2520e8+56RDo4Gc9TmPgEr+","ExchangeExpLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../ads/HelpMgr"),c=t("../../global/define"),s=t("../../global/enums"),_=t("../../module/SoundManage"),l=t("../../record/WealthRecord"),p=t("../../ThirdParty/ThirdParty"),u=t("../public/ReveiveAwardAni"),d=t("../public/SwitchEffect"),h=t("./nodeTopBG"),f=cc._decorator,y=f.ccclass,g=f.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_left=null,e.btn_right=null,e.text_consume=null,e.text_receive=null,e.sp_icon_1=null,e.sp_icon_2=null,e.btn_exchange=null,e._inputJewel=0,e._multiple=2e4,e._touchClick=!1,e._clickRecord=[],e}return i(e,t),e.prototype.start=function(){var t=this;d.SwitchEffect.playOpen(this.node),p.ThirdParty.instance.showBannerAd(),this.text_consume.string="0",this.text_receive.string="0",this.UpdateCount(!0),this.addTouchEvent(this.btn_left,function(){t._inputJewel-=1,t.UpdateCount(!1)}),this.addTouchEvent(this.btn_right,function(){t._inputJewel+=1,t.UpdateCount(!1)})},e.prototype.update=function(){var t=this,e=cc.director.getTotalTime();this._clickRecord.forEach(function(o){-1==o.startTime||e-o.startTime<360||e-o.lastTime>=100&&(o.lastTime=e,o.call&&o.call(),t._touchClick=!0)})},e.prototype.onEnable=function(){var t=this;a.default.instance.setOvNode(this,function(){t.onClickEventClose()})},e.prototype.addTouchEvent=function(t,e){this._clickRecord.push({startTime:-1,lastTime:0,call:e});var o=this._clickRecord[this._clickRecord.length-1];t.on(cc.Node.EventType.TOUCH_START,function(){o.startTime=cc.director.getTotalTime(),o.lastTime=o.startTime},this),t.on(cc.Node.EventType.TOUCH_END,function(){o.startTime=-1},this),t.on(cc.Node.EventType.TOUCH_CANCEL,function(){o.startTime=-1},this)},e.prototype.onClickEventClose=function(){d.SwitchEffect.playClose(this.node,!0),p.ThirdParty.instance.hideBannerAd()},e.prototype.onClickEventExchange=function(){var t=this;this._inputJewel<=0||this._inputJewel>l.WealthRecord.instance.jewel?c.Define.OutputMessage("Not enough Cores"):(c.Define.BuriedPoint("兑换用户经验点"),l.WealthRecord.instance.AddJewel(-this._inputJewel),l.WealthRecord.instance.AddExp(this._inputJewel*this._multiple),u.default.PlayExpAni(this.btn_exchange.node,15),this._inputJewel=0,this.UpdateCount(!0),cc.tween(this.node).delay(.5).call(function(){d.SwitchEffect.playClose(t.node,!0),p.ThirdParty.instance.hideBannerAd()}).start())},e.prototype.onClickEventLeft=function(){this._touchClick?this._touchClick=!1:(this._inputJewel-=1,this.UpdateCount(!1))},e.prototype.onClickEventRight=function(){this._touchClick?this._touchClick=!1:(this._inputJewel+=1,this.UpdateCount(!1))},e.prototype.UpdateCount=function(t){var e=!0;this._inputJewel<0&&(this._inputJewel=0,e=!1),this._inputJewel>l.WealthRecord.instance.jewel&&(this._inputJewel=l.WealthRecord.instance.jewel,0==this._inputJewel&&h.default.instance.ShowDailyPack(!0),e=!1),this.text_consume.string=""+this._inputJewel,this.text_receive.string=c.Define.ConvertN(this._inputJewel*this._multiple),this.text_consume._forceUpdateRenderData(!0),this.text_receive._forceUpdateRenderData(!0),this.sp_icon_1.getComponent(cc.Widget).updateAlignment(),this.sp_icon_2.getComponent(cc.Widget).updateAlignment(),this.btn_exchange.interactable=this._inputJewel>0,!t&&e&&_.SoundManage.instance.PlaySound(s.GameSound.sound_exchange)},r([g(cc.Node)],e.prototype,"btn_left",void 0),r([g(cc.Node)],e.prototype,"btn_right",void 0),r([g(cc.Label)],e.prototype,"text_consume",void 0),r([g(cc.Label)],e.prototype,"text_receive",void 0),r([g(cc.Node)],e.prototype,"sp_icon_1",void 0),r([g(cc.Node)],e.prototype,"sp_icon_2",void 0),r([g(cc.Button)],e.prototype,"btn_exchange",void 0),r([y],e)}(cc.Component);o.default=v,cc._RF.pop()},{"../../ThirdParty/ThirdParty":"ThirdParty","../../ads/HelpMgr":"HelpMgr","../../global/define":"define","../../global/enums":"enums","../../module/SoundManage":"SoundManage","../../record/WealthRecord":"WealthRecord","../public/ReveiveAwardAni":"ReveiveAwardAni","../public/SwitchEffect":"SwitchEffect","./nodeTopBG":"nodeTopBG"}],ExchangeVitalityLayer:[function(t,e,o){"use strict";cc._RF.push(e,"be844DFKCRF/aCZW/oXau5U","ExchangeVitalityLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../ads/HelpMgr"),c=t("../../global/define"),s=t("../../global/enums"),_=t("../../module/SoundManage"),l=t("../../record/WealthRecord"),p=t("../../ThirdParty/ThirdParty"),u=t("../public/ReveiveAwardAni"),d=t("../public/SwitchEffect"),h=t("./nodeTopBG"),f=cc._decorator,y=f.ccclass,g=f.property,v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_left=null,e.btn_right=null,e.text_consume=null,e.text_receive=null,e.sp_icon_1=null,e.sp_icon_2=null,e.btn_exchange=null,e._inputJewel=0,e._multiple=2,e._touchClick=!1,e._clickRecord=[],e}return i(e,t),e.prototype.start=function(){var t=this;d.SwitchEffect.playOpen(this.node),p.ThirdParty.instance.showBannerAd(),this.text_consume.string="0",this.text_receive.string="0",this.UpdateCount(!0),this.addTouchEvent(this.btn_left,function(){t._inputJewel-=1,t.UpdateCount(!1)}),this.addTouchEvent(this.btn_right,function(){t._inputJewel+=1,t.UpdateCount(!1)})},e.prototype.onEnable=function(){var t=this;a.default.instance.setOvNode(this,function(){t.onClickEventClose()})},e.prototype.update=function(){var t=this,e=cc.director.getTotalTime();this._clickRecord.forEach(function(o){-1==o.startTime||e-o.startTime<360||e-o.lastTime>=100&&(o.lastTime=e,o.call&&o.call(),t._touchClick=!0)})},e.prototype.addTouchEvent=function(t,e){this._clickRecord.push({startTime:-1,lastTime:0,call:e});var o=this._clickRecord[this._clickRecord.length-1];t.on(cc.Node.EventType.TOUCH_START,function(){o.startTime=cc.director.getTotalTime(),o.lastTime=o.startTime},this),t.on(cc.Node.EventType.TOUCH_END,function(){o.startTime=-1},this),t.on(cc.Node.EventType.TOUCH_CANCEL,function(){o.startTime=-1},this)},e.prototype.onClickEventClose=function(){d.SwitchEffect.playClose(this.node,!0),p.ThirdParty.instance.hideBannerAd()},e.prototype.onClickEventExchange=function(){var t=this;this._inputJewel<=0||this._inputJewel>l.WealthRecord.instance.jewel?c.Define.OutputMessage("Not enough Cores"):(c.Define.BuriedPoint("兑换体力"),l.WealthRecord.instance.AddJewel(-this._inputJewel),l.WealthRecord.instance.AddVitality(this._inputJewel*this._multiple),u.default.PlayVitalityAni(this.btn_exchange.node,Math.min(this._inputJewel*this._multiple,30)),this._inputJewel=0,this.UpdateCount(!0),cc.tween(this.node).delay(.5).call(function(){d.SwitchEffect.playClose(t.node,!0),p.ThirdParty.instance.hideBannerAd()}).start())},e.prototype.onClickEventLeft=function(){this._touchClick?this._touchClick=!1:(this._inputJewel-=1,this.UpdateCount(!1))},e.prototype.onClickEventRight=function(){this._touchClick?this._touchClick=!1:(this._inputJewel+=1,this.UpdateCount(!1))},e.prototype.UpdateCount=function(t){var e=!0;this._inputJewel<0&&(this._inputJewel=0,e=!1),this._inputJewel>l.WealthRecord.instance.jewel&&(this._inputJewel=l.WealthRecord.instance.jewel,0==this._inputJewel&&h.default.instance.ShowDailyPack(!0),e=!1),this.text_consume.string=""+this._inputJewel,this.text_receive.string=c.Define.ConvertN(this._inputJewel*this._multiple),this.text_consume._forceUpdateRenderData(!0),this.text_receive._forceUpdateRenderData(!0),this.sp_icon_1.getComponent(cc.Widget).updateAlignment(),this.sp_icon_2.getComponent(cc.Widget).updateAlignment(),this.btn_exchange.interactable=this._inputJewel>0,!t&&e&&_.SoundManage.instance.PlaySound(s.GameSound.sound_exchange)},r([g(cc.Node)],e.prototype,"btn_left",void 0),r([g(cc.Node)],e.prototype,"btn_right",void 0),r([g(cc.Label)],e.prototype,"text_consume",void 0),r([g(cc.Label)],e.prototype,"text_receive",void 0),r([g(cc.Node)],e.prototype,"sp_icon_1",void 0),r([g(cc.Node)],e.prototype,"sp_icon_2",void 0),r([g(cc.Button)],e.prototype,"btn_exchange",void 0),r([y],e)}(cc.Component);o.default=v,cc._RF.pop()},{"../../ThirdParty/ThirdParty":"ThirdParty","../../ads/HelpMgr":"HelpMgr","../../global/define":"define","../../global/enums":"enums","../../module/SoundManage":"SoundManage","../../record/WealthRecord":"WealthRecord","../public/ReveiveAwardAni":"ReveiveAwardAni","../public/SwitchEffect":"SwitchEffect","./nodeTopBG":"nodeTopBG"}],FlyDefine:[function(t,e,o){"use strict";cc._RF.push(e,"bc1b3Z1dlhML6CRFpgJ6xtX","FlyDefine"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],FlyObjectSystem:[function(t,e,o){"use strict";cc._RF.push(e,"9266eeQ/7hKVobsW/6N+PnO","FlyObjectSystem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.FlyObjectSystem=void 0;var r=t("../../config/DataManager"),a=t("../GuidManager"),c=t("./FlyScript_Straight"),s=t("./FlyScript_Arc"),_=t("./FlyScript_Laser"),l=t("../../module/NodePool"),p=t("../../module/ObjectPool"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._scripts=[{name:"FlyScript_Straight",type:c.FlyScript_Straight},{name:"FlyScript_Arc",type:s.FlyScript_Arc},{name:"FlyScript_Laser",type:_.FlyScript_Laser}],e._FlyObjectDict=new Map,e}return i(e,t),e.prototype.Init=function(){},e.prototype.Execute=function(){var t=this,e=[];this._FlyObjectDict.forEach(function(t){t.Execute(),t.IsReach()&&e.push(t.guid)}),e.forEach(function(e){var o=t._FlyObjectDict.get(e);o.Release(),p.ObjectPool.put(o),t._FlyObjectDict.delete(e)})},e.prototype.Release=function(){this._FlyObjectDict.forEach(function(t){t.Release(),p.ObjectPool.put(t)}),this._FlyObjectDict=new Map},e.prototype.AddObject=function(t){var e=r.DataManager.TableBulletsConfigDatasById[t.dbid];if(e){var o=l.NodePool.get(e.resource_path);if(o){var n=this._scripts.find(function(t){return t.name==e.fly_script});if(n){o.parent=this.node,o.angle=0;var i=n.type,c=p.ObjectPool.get(i);c.guid=a.GuidManager.Guid,c.Init(t,o),this._FlyObjectDict.set(c.guid,c)}}}},e.prototype.ForEachFlyObject=function(t){this._FlyObjectDict.forEach(function(e,o){t(e,o)})},e.prototype.GetFly=function(t){return this._FlyObjectDict.get(t)},e}(cc.Component);o.FlyObjectSystem=u,cc._RF.pop()},{"../../config/DataManager":"DataManager","../../module/NodePool":"NodePool","../../module/ObjectPool":"ObjectPool","../GuidManager":"GuidManager","./FlyScript_Arc":"FlyScript_Arc","./FlyScript_Laser":"FlyScript_Laser","./FlyScript_Straight":"FlyScript_Straight"}],FlyObject:[function(t,e,o){"use strict";cc._RF.push(e,"6623apL8yxJl6Wb9l6RXluN","FlyObject"),Object.defineProperty(o,"__esModule",{value:!0}),o.FlyObject=void 0;var n=t("../../../lq_collide_system/lq_collide"),i=t("../../../lq_collide_system/lq_collide_config"),r=t("../../../lq_collide_system/lq_collide_system"),a=t("../../config/DataManager"),c=t("../../global/enums"),s=t("../../module/NodePool"),_=t("../../module/SoundManage"),l=t("../actors/ActorDefine"),p=t("../actors/ActorEffect"),u=t("../collision/LQReplace"),d=t("../effect/Effect_BlastMonster"),h=t("../TimeManager"),f=t("../WorldManager"),y=function(){function t(){this.node=null,this.guid=0,this.dbid=0,this.camp=0,this.FlyConfig=null,this.CollisionType=l.CollisionType.CT_CIRCLE,this._StartFly=!1,this._Reached=!1,this._delayTime=0,this._opacityTime=0,this._opacitySpeed=0,this._removeOpacitySpeed=0,this._XData=null,this._collideActorGuid=-1,this._BulletThrough=0,this._BulletTime=-1,this._BulletRebound=0,this._BulletTrace=0,this._BulletTraceFinished=!1,this._isBlasting=!1,this._BlastTime=0,this._BlastWarningTime=0,this._sp_warning_1=null,this._sp_warning_2=null,this._old_radius=0,this._old_warning_opacity_1=0,this._old_warning_opacity_2=0}return Object.defineProperty(t.prototype,"XData",{get:function(){return this._XData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collideActorGuid",{get:function(){return this._collideActorGuid},enumerable:!1,configurable:!0}),t.prototype.Init=function(t,e){this.node=e,this._XData=t,this._StartFly=!1,this._Reached=!1,this.camp=t.camp,this.FlyConfig=a.DataManager.TableBulletsConfigDatasById[t.dbid],this.CollisionType=this.FlyConfig.collision_type,this._delayTime=t.delay,this._XData.isOpacityGradient&&(this._opacityTime=null!=this._XData.OpacityGradientTime?this._XData.OpacityGradientTime:.05,this._opacitySpeed=5100,this.node.opacity=0);var o=f.WorldManager.Instance.GetActor(t.attr.actorGuid);o&&(this.AddCollide(o),o.xData.type==l.EObjectType.ot_main_weapon||o.xData.type==l.EObjectType.ot_deputy_weapon||o.xData.type==l.EObjectType.ot_support?this.node.zIndex=c.ZIndex.ZI_HERO_BULLET:this.node.zIndex=c.ZIndex.ZI_MONSTER_BULLET,this.XData.attackType==l.AttackType.AT_LASER_STRAIGHT&&(this.node.zIndex=c.ZIndex.ZI_BULLET_LASER),this._BulletThrough=o.Attr.getAttr(l.EAttrID.EA_BULLET_THROUGH),this._BulletTrace=o.Attr.getAttr(l.EAttrID.EA_BULLET_TRACE),this._BulletTime=o.Attr.getAttr(l.EAttrID.EA_BULLET_TIME),this._BulletRebound=o.Attr.getAttr(l.EAttrID.EA_BULLET_REBOUND),this._removeOpacitySpeed=255/this._BulletTime);var n=this.node.getComponent(cc.CircleCollider);n&&(this._old_radius=n.radius),this._sp_warning_1=this.node.getChildByName("sp_warning_1"),this._sp_warning_2=this.node.getChildByName("sp_warning_2"),this._sp_warning_1&&(this._sp_warning_1.active=!1,this._old_warning_opacity_1=this._sp_warning_1.opacity),this._sp_warning_2&&(this._sp_warning_2.active=!1,this._old_warning_opacity_2=this._sp_warning_2.opacity),this.PlayEffect()},t.prototype.AddCollide=function(t){var e=-1;if(t.xData.type==l.EObjectType.ot_main_weapon||t.xData.type==l.EObjectType.ot_deputy_weapon)e=i.LQCollideConfig.collide_group_map.role_bullet.index;else if(t.xData.type==l.EObjectType.ot_support)e=i.LQCollideConfig.collide_group_map.support_bullet.index;else{if(t.xData.type!=l.EObjectType.ot_barrier&&t.xData.type!=l.EObjectType.ot_boss&&t.xData.type!=l.EObjectType.ot_monster)return;e=i.LQCollideConfig.collide_group_map.enemy_bullet.index}var o={guid:this.guid,group_index:e,is_open_func:!0,onEnter:this.onCollideEnter.bind(this),onCollide:this.onCollide.bind(this),onExit:this.onCollideExit.bind(this)};u.LQReplace.replave(this.node,o)},t.prototype.onCollideEnter=function(t){var e=this;if(!this.IsReach()&&null!=this.XData){var o=t.collide_group_index,a=i.LQCollideConfig.collide_group_map;if(o==a.enemy.index){var c=f.WorldManager.Instance.GetActor(t.Guid);c&&c.IsActive&&0==c.IsDead()&&(this._collideActorGuid=c.guid)}else if(o==a.role.index||o==a.support.index)if(this.XData.attackType!=l.AttackType.AT_LASER_STRAIGHT){var s=f.WorldManager.Instance.GetActor(t.Guid);s&&s.IsActive&&0==s.IsDead()&&(this._collideActorGuid=s.guid)}else{this._collideActorGuid=-1;var _=this.node.getPosition(),p=-1,u=this.node.getComponent(n.LQCollide);f.WorldManager.Instance.ForEachActor(function(t){if(t.xData.type==l.EObjectType.ot_main_weapon||t.xData.type==l.EObjectType.ot_support){var o=_.sub(t.Pos2D).mag();if(-1==p||p>o){var i=t.node.getComponent(n.LQCollide);r.LQCollideSystem.intersects_polygon(u,i)&&(p=o,e._collideActorGuid=t.guid)}}})}}},t.prototype.onCollide=function(){this.IsReach()},t.prototype.onCollideExit=function(t){if(!this.IsReach()&&null!=this.XData){var e=t.collide_group_index,o=i.LQCollideConfig.collide_group_map;if(e==o.enemy.index){var n=f.WorldManager.Instance.GetActor(t.Guid);n&&this._collideActorGuid==n.guid&&(this._collideActorGuid=-1)}else if(e==o.role.index||e==o.support.index){var r=f.WorldManager.Instance.GetActor(t.Guid);r&&this._collideActorGuid==r.guid&&(this._collideActorGuid=-1)}}},t.prototype.Release=function(){var t=this;this.XData.attackType==l.AttackType.AT_LASER_STRAIGHT?cc.tween(this.node).to(.3,{opacity:0}).call(function(){s.NodePool.put(t.node)}).start():s.NodePool.put(this.node);var e=this.node.getComponent(cc.CircleCollider);e&&(e.radius=this._old_radius,u.LQReplace.update(this.node));var o=this.node.getChildByName("sp_warning_1"),n=this.node.getChildByName("sp_warning_2");o&&(o.active=!1,o.opacity=this._old_warning_opacity_1),n&&(n.active=!1,n.opacity=this._old_warning_opacity_2),this.node=null,this.guid=0,this.dbid=0,this.camp=0,this.FlyConfig=null,this.CollisionType=l.CollisionType.CT_CIRCLE,this._StartFly=!1,this._Reached=!1,this._delayTime=0,this._opacityTime=0,this._opacitySpeed=0,this._removeOpacitySpeed=0,this._XData=null,this._collideActorGuid=-1,this._BulletThrough=0,this._BulletTime=-1,this._BulletRebound=0,this._BulletTrace=0,this._BulletTraceFinished=!1,this._isBlasting=!1,this._BlastTime=0,this._BlastWarningTime=0,this._sp_warning_1=null,this._sp_warning_2=null,this._old_radius=0,this._old_warning_opacity_1=0,this._old_warning_opacity_2=0},t.prototype.IsReach=function(){return this._Reached},t.prototype.OnReach=function(){this._Reached=!0,this._XData.OnReached&&this._XData.OnReached(this)},t.prototype.IsOutBounds=function(){var t=cc.winSize.width+100,e=cc.winSize.height,o=this.node.getPosition(),n=this.node.getBoundingBox();return Math.abs(o.y)-n.height/2>=e/2||Math.abs(o.x)-n.width/2>=t/2},t.prototype.OnActorCollision=function(){var t=this.XData.attr.actorGuid,e=f.WorldManager.Instance.GetActor(t);if(e){var o=this.node.getPosition();if(this.XData.attackType==l.AttackType.AT_LASER_STRAIGHT){var n=this.node.getChildByName("sp_effect_end");n&&(o=n.convertToWorldSpaceAR(cc.v2()),o=f.WorldManager.Instance.node.convertToNodeSpaceAR(o))}e.Get(p.ActorEffect).AddHitEffect(o)}this.XData.attackType!=l.AttackType.AT_LASER_STRAIGHT&&(this._BulletThrough>0||-1==this._BulletThrough?this._BulletThrough>0&&(this._BulletThrough-=1):this.OnReach())},t.prototype.PlayEffect=function(){var t=this.node.getChildByName("sp_effect");t&&(t.active=!0,t.opacity=0,cc.tween(t).delay(.5*Math.random()).repeatForever(cc.tween(t).to(.4,{opacity:255}).to(.4,{opacity:0}).delay(.2)).start());var e=this.node.getChildByName("sp_effect_begin");e&&(e.active=!0,cc.tween(e).repeatForever(cc.tween(e).to(.4,{scale:1.2}).to(.4,{scale:1})).start());var o=this.node.getChildByName("sp_effect_end");o&&(o.active=!0,cc.tween(o).repeatForever(cc.tween(o).to(.4,{scale:1.2}).to(.4,{scale:1})).start())},t.prototype.ChangeOpacity=function(t){if(!(this._opacityTime<=0)){var e=t;this._opacityTime-=t,this._opacityTime<0&&(e-=Math.abs(this._opacityTime)),this.node.opacity+=this._opacitySpeed*e}},t.prototype.ExecuteBulletTime=function(t){-1!=this._BulletTime&&(this._BulletTime-=t,this._BulletTime<0&&(Math.abs(this._BulletTime),this._BulletTime=0),this.node.opacity-=this._removeOpacitySpeed*t,0==this._BulletTime&&this.OnReach())},t.prototype.OnBlast=function(){if(this._isBlasting){if(this._BlastWarningTime>0)this._BlastWarningTime-=h.TimeManager.deltaTime,this._BlastWarningTime<=0&&(this._BlastWarningTime=0);else if(-1!=this._BlastWarningTime){e={ChangeValue1:0,TargetPos:this.node.getPosition()},_.SoundManage.instance.PlaySound(c.GameSound.sound_monster_bomb),f.WorldManager.Instance.EffectSystem.AddEffect(d.Effect_BlastMonster,e),this.node.opacity=0,this._BlastWarningTime=-1,this._BlastTime=.15;var t=this.node.getComponent(cc.CircleCollider);t&&(t.radius=3.26*t.radius,u.LQReplace.update(this.node))}this._BlastTime>0&&(this._BlastTime-=h.TimeManager.deltaTime,this._BlastTime<=0&&this.OnReach())}else{var e;this._isBlasting=!0,this._BlastWarningTime=1.2,this._sp_warning_1&&(this._sp_warning_1.active=!0,this._sp_warning_1.opacity=0,cc.tween(this._sp_warning_1).repeatForever(cc.tween(this._sp_warning_1).to(1,{opacity:this._old_warning_opacity_1}).to(1,{opacity:this._old_warning_opacity_1/2})).start()),this._sp_warning_2&&(this._sp_warning_2.active=!0,this._sp_warning_2.opacity=0,cc.tween(this._sp_warning_2).repeatForever(cc.tween(this._sp_warning_2).to(.1,{opacity:this._old_warning_opacity_2}).to(.1,{opacity:0})).start()),(e=this.node.getChildByName("sp_effect"))&&(e.active=!1)}},t}();o.FlyObject=y,cc._RF.pop()},{"../../../lq_collide_system/lq_collide":"lq_collide","../../../lq_collide_system/lq_collide_config":"lq_collide_config","../../../lq_collide_system/lq_collide_system":"lq_collide_system","../../config/DataManager":"DataManager","../../global/enums":"enums","../../module/NodePool":"NodePool","../../module/SoundManage":"SoundManage","../TimeManager":"TimeManager","../WorldManager":"WorldManager","../actors/ActorDefine":"ActorDefine","../actors/ActorEffect":"ActorEffect","../collision/LQReplace":"LQReplace","../effect/Effect_BlastMonster":"Effect_BlastMonster"}],FlyScript_Arc:[function(t,e,o){"use strict";cc._RF.push(e,"11008becT9K16zW9Er/Yc6K","FlyScript_Arc");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.FlyScript_Arc=void 0;var r=t("../../utils/Geometry"),a=t("../actors/ActorDefine"),c=t("../TimeManager"),s=t("../WorldManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.velocity=cc.v3(),e.flyPath=[],e.stepIndex=0,e.stepflyTime=0,e._targetGuid=-1,e._endOfTheRound=!1,e}return i(e,t),e.prototype.Init=function(e,o){t.prototype.Init.call(this,e,o),this.StartUP()},e.prototype.StartUP=function(){this.Redirect(),this._StartFly=!0,this.XData.OnStartUp&&this.XData.OnStartUp(this)},e.prototype.Execute=function(){if(this._StartFly){var t=c.TimeManager.deltaTime;if(this.ExecuteBulletTime(t),!this.IsReach())if(0==this._BulletTrace&&this.IsOutBounds())this.OnFinished();else if(this._delayTime>0)this._delayTime-=t;else if(this.node.active=this._delayTime<=0,this.XData.isOpacityGradient&&this.ChangeOpacity(t),0==this._BulletTraceFinished&&this._BulletTrace>0&&(this._BulletTrace-=t,this._BulletTrace<=0&&this.TraceTargetFinished()),this.fly(t),this.XData.OnFlying&&this.XData.OnFlying(this),this.XData.freeRotation){var e=this.node.getChildByName("sp_texture_1");e&&(e.angle-=12)}}},e.prototype.fly=function(t){var e=t;if(this.stepflyTime-t<0&&(e=this.stepflyTime),this.stepflyTime-=e,this.node.x+=this.velocity.x*e,this.node.y+=this.velocity.y*e,this.node.position.sub(this.flyPath[this.stepIndex]).mag()<1){if(this.stepIndex++,this.stepIndex>=this.flyPath.length)return void this.Redirect();this.calcVelocity(),this.calcAngle()}e<t&&this.fly(t-e)},e.prototype.calcAngle=function(){if(this.XData.isAdjustAngle){var t=this.node.position,e=this.flyPath[this.stepIndex].sub(t),o=Math.atan2(e.y,e.x)/Math.PI*180-90;this.node.angle=o}},e.prototype.calcVelocity=function(){var t=this.FlyConfig.flying_speed,e=t*this.XData.velocityFluctuation;t+=Math.random()*e-e/2;var o=this.node.position,n=this.flyPath[this.stepIndex];null==n&&console.log("a"),this.velocity=n.sub(o).normalize().mul(t),this.stepflyTime=n.sub(o).mag()/t},e.prototype.Redirect=function(){null!=this.XData.fixedTargetCamp?this.RedirectTarget():this.RedirectPath()},e.prototype.RedirectPath=function(){if(this.XData.PointPath.length<2)this.OnFinished();else{var t=this.XData.PointPath[0],e=this.XData.PointPath[1];this.node.x=t.pos.x,this.node.y=t.pos.y,this.XData.PointPath.splice(0,1),this.flyPath=[];var o=[];if(t.pos.x==e.pos.x||0==t.needTrace)o=r.Geometry.bezierCalculateV3D([cc.v3(t.pos),cc.v3(e.pos)],10);else{var n=r.Geometry.getControlPos(cc.v2(t.pos),cc.v2(e.pos),30);o=r.Geometry.bezierCalculateV3D([cc.v3(t.pos),cc.v3(n),cc.v3(e.pos)],10)}o&&o.length>0&&(this.flyPath=o),0!=this.flyPath.length?(this.stepIndex=3,this.calcVelocity(),this.calcAngle()):this.OnFinished()}},e.prototype.TraceTargetFinished=function(){this._BulletTrace=0,this._BulletTraceFinished=!0,this.RedirectTargetFinished()},e.prototype.RedirectTargetFinished=function(){var t=this.node.position,e=this.node.angle,o=2e3*Math.cos((e+90)*Math.PI/180),n=2e3*Math.sin((e+90)*Math.PI/180),i=cc.v3(o+t.x,n+t.y);this.flyPath=[],this.flyPath.push(t),this.flyPath.push(i),this.stepIndex=0,this.calcVelocity(),this.calcAngle()},e.prototype.OnFinished=function(){if(-1!=this._targetGuid){var t=s.WorldManager.Instance.GetActor(this._targetGuid);t&&(t.BeLockedCount-=1)}this.OnReach()},e.prototype.RedirectTarget=function(){var t=this;if(this.XData.PointPath.length<2)this.OnFinished();else{var e=s.WorldManager.Instance.GetActor(this.XData.attr.actorGuid);if(e){var o=!1;if(-1==this._targetGuid?(o=!0,this._targetGuid=s.WorldManager.Instance.GetTarget(e,this.XData.fixedTargetCamp)):(null==(n=s.WorldManager.Instance.GetActor(this._targetGuid))||n.IsDead())&&(this._targetGuid=s.WorldManager.Instance.GetTarget(e,this.XData.fixedTargetCamp)),-1!=this._targetGuid){var n;(n=s.WorldManager.Instance.GetActor(this._targetGuid))&&(n.BeLockedCount+=1),this.flyPath=[];var i,c=null;if(o){var _=this.XData.PointPath[0];if(this.node.x=_.pos.x,this.node.y=_.pos.y,0==_.needTrace){var l=this.XData.PointPath[1];this.flyPath.push(_.pos,l.pos),c=l.pos}else{var p=(l=this.XData.PointPath[1]).pos.sub(_.pos).div(6.9);c=_.pos.add(p),this.flyPath.push(_.pos),this.flyPath.push(c)}}else c=this.node.position;var u=[];if(i=this.CalculateMatrix(c,o)){if(u=r.Geometry.bezierCalculateV3D(i,100),c.x==u[0].x)this.flyPath.push(c,u[0]);else if(e.xData.type==a.EObjectType.ot_main_weapon){var d=r.Geometry.getControlPos(cc.v2(c),cc.v2(u[0]),30),h=r.Geometry.bezierCalculateV3D([cc.v3(c),cc.v3(c).add(cc.v3(0,360)),cc.v3(d),cc.v3(u[0])],50);h&&h.length>0&&h.forEach(function(e){t.flyPath.push(e)})}u&&u.length>0&&u.forEach(function(e){t.flyPath.push(e)}),0!=this.flyPath.length?(this.XData.isAdjustAngle=!0,this.stepIndex=0,this.calcVelocity(),this.calcAngle()):this.OnFinished()}else this.TraceTargetFinished()}else o?(this.XData.fixedTargetCamp=null,this.XData.PointPath.forEach(function(t){t.needTrace=!1}),this.Redirect()):this.TraceTargetFinished()}else this.OnFinished()}},e.prototype.CalculateMatrix=function(t,e){var o=s.WorldManager.Instance.GetActor(this._targetGuid);if(null==o)return null;var n=[];if(0==e&&!this._endOfTheRound){var i=this.node.angle,c=600*Math.cos((i+90)*Math.PI/180),_=600*Math.sin((i+90)*Math.PI/180),l=cc.v3(c+t.x,_+t.y);t.x==l.x&&(l.x+=20);var p=r.Geometry.getControlPos(cc.v2(t),cc.v2(l),30),u=r.Geometry.bezierCalculateV3D([cc.v3(t),cc.v3(p),l],26);if(u&&u.length>0)return u.forEach(function(t){n.push(t)}),this._endOfTheRound=!0,n}this._endOfTheRound=!1;var d=200*Math.random()+300,h=o.Pos;o.xData.type!=a.EObjectType.ot_main_weapon&&(h=h.sub(cc.v3(0,d)));var f=t.sub(h),y=0,g=0,v=0;if(f.x>0&&f.y>0?(y=1,g=1,v=1):f.x<0&&f.y>0?(y=2,g=2,v=0):f.x<0&&f.y<0?(y=3,g=3,v=3):(y=4,g=0,v=2),1==y||4==y){for(var b=[cc.v3(0,1),cc.v3(-1,0),cc.v3(0,-1),cc.v3(1,0)],m=[cc.v3(-1,1),cc.v3(-1,-1),cc.v3(1,-1),cc.v3(1,1)],A=m.length,x=0;x<A;x++){var C=(x+g+A)%A;n.push(cc.v3(b[C].x*d,b[C].y*d)),n.push(cc.v3(m[C].x*d,m[C].y*d))}var w=(1+g+A)%A;n.push(cc.v3(b[w].x*d,b[w].y*d))}if(2==y||3==y){var T=[cc.v3(1,0),cc.v3(0,-1),cc.v3(-1,0),cc.v3(0,1)],E=[cc.v3(1,-1),cc.v3(-1,-1),cc.v3(-1,1),cc.v3(1,1)];for(A=T.length,x=0;x<A;x++){var S=(x+v+A)%A;n.push(cc.v3(T[S].x*d,T[S].y*d)),n.push(cc.v3(E[S].x*d,E[S].y*d))}w=(1+v+A)%A,n.push(cc.v3(T[w].x*d,T[w].y*d))}return n.forEach(function(t){var e=t.add(h);t.x=e.x,t.y=e.y}),n},e.prototype.Release=function(){this.velocity=cc.v3(),this.flyPath=[],this.stepIndex=0,this.stepflyTime=0,this._targetGuid=-1,this._endOfTheRound=!1,t.prototype.Release.call(this)},e}(t("./FlyObject").FlyObject);o.FlyScript_Arc=_,cc._RF.pop()},{"../../utils/Geometry":"Geometry","../TimeManager":"TimeManager","../WorldManager":"WorldManager","../actors/ActorDefine":"ActorDefine","./FlyObject":"FlyObject"}],FlyScript_Laser:[function(t,e,o){"use strict";cc._RF.push(e,"965ccC1zHpKQ5cUEFra+Tez","FlyScript_Laser");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.FlyScript_Laser=void 0;var r=t("../collision/LQReplace"),a=t("../TimeManager"),c=t("../WorldManager"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.velocity=cc.v3(),e.flyTime=0,e._lastHeight=0,e}return i(e,t),e.prototype.Init=function(e,o){t.prototype.Init.call(this,e,o),this.StartUP()},e.prototype.StartUP=function(){this.Redirect(),this._StartFly=!0,this.XData.OnStartUp&&this.XData.OnStartUp(this)},e.prototype.Execute=function(){var t=a.TimeManager.deltaTime;if(this._StartFly&&(this.ExecuteBulletTime(t),!this.IsReach())){var e=c.WorldManager.Instance.GetActor(this.XData.attr.actorGuid);if(null==e||e.IsDead())this.OnReach();else{this.XData.isOpacityGradient&&this.ChangeOpacity(t);var o=2e3;if(-1!=this._collideActorGuid){var n=c.WorldManager.Instance.GetActor(this._collideActorGuid);n&&(o=n.Pos2D.sub(this.node.getPosition()).mag())}this._lastHeight!=o&&(this.UpdateSize(o),this._lastHeight=o),this.flyTime-=t,this.flyTime<=0&&this.OnReach()}}},e.prototype.Redirect=function(){if(this.XData.PointPath.length<2)this.OnReach();else{this.flyTime=this.XData.delay;var t=this.XData.PointPath[0],e=this.XData.PointPath[1].pos.sub(t.pos);this.node.x=t.pos.x,this.node.y=t.pos.y,this.node.angle=Math.atan2(e.y,e.x)/Math.PI*180+90,this.UpdateSize(e.mag())}},e.prototype.UpdateSize=function(t){this.node.height=t,this.node.children.forEach(function(t){var e=t.getComponent(cc.Widget);e&&e.updateAlignment()}),r.LQReplace.update(this.node)},e.prototype.Release=function(){this.velocity=cc.v3(),this.flyTime=0,this._lastHeight=0,t.prototype.Release.call(this)},e}(t("./FlyObject").FlyObject);o.FlyScript_Laser=s,cc._RF.pop()},{"../TimeManager":"TimeManager","../WorldManager":"WorldManager","../collision/LQReplace":"LQReplace","./FlyObject":"FlyObject"}],FlyScript_Straight:[function(t,e,o){"use strict";cc._RF.push(e,"0be59tA2ChHzIrTDTugbri4","FlyScript_Straight");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.FlyScript_Straight=void 0;var r=t("../TimeManager"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.velocity=cc.v3(),e.flyTime=0,e}return i(e,t),e.prototype.Init=function(e,o){t.prototype.Init.call(this,e,o),this.StartUP()},e.prototype.StartUP=function(){this.Redirect(),this._StartFly=!0,this.XData.OnStartUp&&this.XData.OnStartUp(this)},e.prototype.Execute=function(){var t=r.TimeManager.deltaTime;if(this._StartFly&&(this.ExecuteBulletTime(t),!this.IsReach()))if(this.IsOutBounds())this.OnReach();else if(this._isBlasting)this.OnBlast();else if(this._delayTime>0)this._delayTime-=t;else{this.node.active=this._delayTime<=0,this.XData.isOpacityGradient&&this.ChangeOpacity(t);var e=t;this.flyTime-=t,this.flyTime<0&&(e-=Math.abs(this.flyTime)),this.node.x+=this.velocity.x*e,this.node.y+=this.velocity.y*e,this.XData.OnFlying&&this.XData.OnFlying(this),this.flyTime<=0&&this.Redirect()}},e.prototype.Redirect=function(){if(this.XData.PointPath.length<2)1==this.FlyConfig.is_blast?this.OnBlast():this.OnReach();else{var t=this.XData.PointPath[0],e=this.XData.PointPath[1];this.node.x=t.pos.x,this.node.y=t.pos.y,this.XData.PointPath.splice(0,1);var o=this.FlyConfig.flying_speed,n=o*this.XData.velocityFluctuation;o+=Math.random()*n-n/2;var i=e.pos.sub(t.pos);if(null!=t.fixedTime){this.flyTime=t.fixedTime;var r=i.mag()/this.flyTime;this.velocity=i.normalize().mul(r)}else this.velocity=i.normalize().mul(o),this.flyTime=i.mag()/o;this.XData.isAdjustAngle&&(this.node.angle=Math.atan2(i.y,i.x)/Math.PI*180-90)}},e.prototype.Release=function(){this.velocity=cc.v3(),this.flyTime=0,t.prototype.Release.call(this)},e}(t("./FlyObject").FlyObject);o.FlyScript_Straight=a,cc._RF.pop()},{"../TimeManager":"TimeManager","./FlyObject":"FlyObject"}],GameConfigAds:[function(t,e,o){"use strict";cc._RF.push(e,"de19bYnIY1HcYmEXMb4CZ8Y","GameConfigAds");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./RecordingScreen"),c=t("./ToolsAds");var s=function(){function t(){if(this.m_isStart=!1,this.m_sdkAdDatas=null,this.m_adCfg=null,this.m_bannerAd=null,this.m_bannerShowType=-1,this.m_bannerCount=0,this.m_crazyBannerCount1=0,this.m_crazyBannerCount2=0,this.goFullAd=!1,this.m_onCrazyBannerId=0,this.m_crazyBannerList=[],this.m_shortWaitTime=0,this.m_isVisible_erroTouch=!0,this.m_is_first_city=!0,this.m_bannerVisibleType=0,this.m_loginTime=0,this.m_playVideoId="",this.m_safeScenen=!1,this.m_recordingScreen=null,this.m_time=0,t._instance)throw new Error("please use GameConfigAds.instance");t._instance=this,this.init()}return t.prototype.stopVideo=function(){this.m_isStart=!1,this.m_recordingScreen&&this.m_recordingScreen.stopVideo()},t.prototype.startVideo=function(){this.m_isStart=!0,this.m_recordingScreen&&this.m_recordingScreen.startVideo()},t.prototype.updateVideoTime=function(t){this.m_isStart&&this.m_recordingScreen&&this.m_recordingScreen.updateVideoTime(t)},Object.defineProperty(t,"instance",{get:function(){return t._instance||new t,t._instance},enumerable:!1,configurable:!0}),t.prototype.getPlatformClass=function(){return c.default.getPlatformClass()},t.prototype.init=function(){var t=this;void 0!==this.getPlatformClass()&&(this.getPlatformClass().showShareMenu&&this.getPlatformClass().showShareMenu(),this.m_systemInfo=this.getPlatformClass().getSystemInfoSync(),this.getPlatformClass().onShareAppMessage&&this.getPlatformClass().onShareAppMessage(function(){return{title:"一起大乱斗"}})),this.m_recordingScreen||(this.m_recordingScreen=new a.default),setInterval(function(){t.m_adCfg||t.downAdCfg(),t.m_sdkAdDatas||t.downSdkAdDatas()},100),this.onLoad()},t.prototype.share=function(){this.getPlatformClass().shareAppMessage&&this.getPlatformClass().shareAppMessage({title:"一起大乱斗",query:""})},t.prototype.onLoad=function(){cc.game.on(cc.game.EVENT_HIDE,this.onHideGame.bind(this),this),cc.game.on(cc.game.EVENT_SHOW,this.onShowGame.bind(this),this)},t.prototype.onHideGame=function(){console.log("游戏进入后台123"),cc.game.pause(),t.instance.m_isVideoLookIng||cc.audioEngine.pauseAll()},t.prototype.onShowGame=function(){console.log("重新返回游戏456"),cc.game.resume(),t.instance.m_isVideoLookIng||cc.audioEngine.resumeAll()},t.prototype.getAdConfig=function(){return this.m_adCfg||[]},t.prototype.getPromotionAd=function(){return this.m_sdkAdDatas&&this.m_sdkAdDatas.promotion||[]},t.prototype.loin=function(){},t.prototype.downAdCfg=function(){},t.prototype.downSdkAdDatas=function(){var t=c.default.m_wxData;t&&(this.m_sdkAdDatas=t,console.log("adData  信息",t,this.m_sdkAdDatas),this.updateAdDatasList(),this.loadReading())},t.prototype.updateAdDatasList=function(){},t.prototype.loadReading=function(){this.m_adCfg&&this.m_sdkAdDatas&&this.loadBannerAd()},t.prototype.canGoFull=function(){var t=this.m_adCfg;return!!t&&!(!t.zs_full_screen_jump||!this.goFullAd)},t.prototype.getNextBannerIdx=function(t){var e=this.m_onCrazyBannerId+t;return e>3?e=1:e<1&&(e=3),e},t.prototype.creatBanner=function(e){var o=this,n=t.instance.getAdConfig(),i=n.zs_banner_refresh_time?n.zs_banner_refresh_time/1e3:30,r=this.m_systemInfo,a=this.getPlatformClass().createBannerAd({adUnitId:"",adIntervals:i,style:{left:0,top:r.windowHeight-50,width:r.windowWidth-30,height:50}});return console.log("狂点banner",e,"",r,a,a.style),a.onResize(function(t){o.m_res=t,a.style.left=.5*(r.windowWidth-o.m_res.width),o.m_bannerAd==a?o.updateBannerPos():a.style.top=1e4,a.style.left=.5*(r.windowWidth-a.style.realWidth),console.log("狂点banner",a,a.style)}),a.onError(function(t){console.log(t)}),a},t.prototype.loadBannerAd=function(){cc.sys.platform==cc.sys.WECHAT_GAME&&(this.m_bannerAd||this.initCrazyBanner())},t.prototype.refreshBannerAd=function(){if(this.m_bannerAd)for(var t=1;t<=3;t++)if(this.m_crazyBannerList[t]==this.m_bannerAd){c.default.destroyNode(this.m_bannerAd);var e=this.creatBanner(t);this.m_crazyBannerList[t]=e,this.m_bannerAd=e;break}},t.prototype.initCrazyBanner=function(){var t=this.creatBanner(1);this.m_bannerAd=t},t.prototype.creatCrazyBanner=function(t){var e=this;this.showBannerAd(!0),t.scheduleOnce(function(){e.hideBannerAd(!0)},1)},t.prototype.destroyCrazyBanner=function(){},t.prototype.updateBannerPos=function(){if(this.m_bannerAd){var t=this.m_bannerVisibleType;switch(this.isOpenErrorTouch()||(t=0),t){case 0:this.m_bannerAd.style.top=1e4;break;case 1:this.m_res&&(this.m_bannerAd.style.top=this.m_systemInfo.windowHeight-this.m_res.height)}this.m_res&&(this.m_bannerAd.style.left=.5*(this.m_systemInfo.windowWidth-this.m_res.width)),this.m_bannerAd.show()}},t.prototype.hideBannerAd=function(t){if(void 0===t&&(t=!1),!t){this.m_bannerAd&&(this.m_bannerVisibleType=0,this.updateBannerPos());var e=this.m_bannerShowType;return this.m_bannerShowType=0,e}this.m_bannerAd&&(this.m_bannerVisibleType=0,this.updateBannerPos())},t.prototype.showBannerAd=function(t,e){if(void 0===t&&(t=!1),void 0===e&&(e=!1),!t){this.m_bannerAd&&(this.m_bannerVisibleType=1,this.updateBannerPos());var o=this.m_bannerShowType;return this.m_bannerShowType=1,o}this.m_bannerAd&&(this.m_bannerVisibleType=1,this.updateBannerPos())},t.prototype.backUpdateBannerState=function(){},t.prototype.createRewardedVideoAd=function(){},t.prototype.compareVersion=function(){if(this.m_adCfg){var t=this.m_adCfg.zq_version||this.getVersion();return this.getVersion()!=t?1:0}return 0},t.prototype.getVersion=function(){return"1.0.3"},t.prototype.isOpenErrorTouch=function(){if(!this.m_safeScenen)return!1;if(this.m_isVisible_erroTouch)return!1;var t=this.m_adCfg;return!(!t||!t.zq_switch||t.zq_version==this.getVersion())},t.prototype.isOpenLabelErrorTouch=function(){return!!this.isOpenErrorTouch()},t.prototype.getRandomGame=function(){var e=t.instance.getPromotionAd();return e[c.default.random000(0,e.length/2)]},t.prototype.onRandomPlay=function(e,o){void 0===e&&(e=null),void 0===o&&(o=null),this.updateAdDatasList();var n=this.getRandomGame();console.log("随机玩一个-------3333333333333-------"),n&&t.instance.navigateToMiniProgram(n,function(){e&&e(),console.log("跳转----------成功")},function(){o&&o(),console.log("跳转----------失败")})},t.prototype.vibrateShort=function(){var t=this;this.m_shortWaitTime>0||(c.default.isAndroid()&&(this.m_shortWaitTime=1,setTimeout(function(){t.m_shortWaitTime=0},15)),void 0!==this.getPlatformClass()&&this.getPlatformClass().vibrateShort())},t.prototype.vibrateLong=function(){void 0!==this.getPlatformClass()&&this.getPlatformClass().vibrateLong()},t.prototype.navigateToMiniProgram=function(t,e,o){var n=this;if(void 0!==this.getPlatformClass()){var i=(new Date).getTime(),r=i-this.m_time;console.log("跳转等待时间",r),r<300||(this.m_time=i+8e3,this.getPlatformClass().navigateToMiniProgram({appId:t.appid,path:t.link_path,extraData:t.extraData,envVersion:t.envVersion,success:function(){console.log("跳转游戏",t),e&&e()},fail:function(){o&&o()},complete:function(){n.m_time=(new Date).getTime()}}))}},t.prototype.isSafeScene=function(){if(void 0===this.getPlatformClass())return this.m_safeScenen=!0;var t=[1005,1006,1007,1008,1011,1012,1013,1014,1017,1020,1023,1024,1025,1030,1031,1032,1036,1042,1044,1047,1048,1049,1053,1102,1129];t=[1005,1007,1008,1011,1012,1014,1023,1044,1047,1048,2005,2010];var e=this.getPlatformClass().getLaunchOptionsSync().scene,o=!t.includes(e);return this.m_safeScenen=o,console.log("sceneCode",e,o),o},t.prototype.getConfigValue=function(t,e){void 0===e&&(e=null);var o=this.m_adCfg;return o&&o[t]||e},t.prototype.setConfigValue=function(t,e){var o=this.m_adCfg;o&&o[t]&&(o[t]=e)},t.prototype.getErrorConfigValue=function(t){if(!this.isOpenErrorTouch())return null;var e=this.m_adCfg;return e&&e[t]||null},t.prototype.createAppBox=function(){if(void 0!==this.getPlatformClass()&&this.m_adCfg){var t=this;if(!this._appBoxAd){this.getPlatformClass().createAppBox&&(this._appBoxAd=this.getPlatformClass().createAppBox({adUnitId:""}),this._appBoxAd&&this._appBoxAd.onClose(function(t){console.log("close appBox-------:",t)}))}this._appBoxAd&&this._appBoxAd.show().catch(function(){t._appBoxAd.load().then(function(){t._appBoxAd.show()})})}},t.prototype.destroyBox=function(){this._appBoxAd&&(c.default.destroyNode(this._appBoxAd),this._appBoxAd=null)},t.prototype.isCrazyByidx=function(t){var e=this.getErrorConfigValue("zq_crazy");if(console.log("打开狂点",e),e){var o=e[t-1];if(o)return o>c.default.random000(0,100)}return!1},t.prototype.isVideoByidx=function(t){var e=this.getErrorConfigValue("zq_video");if(e){var o=e[t-1],n=this.getConfigValue("zq_loseV"+t);if(n){var i=n[0]||0,r=n[1]||.5;(o-=i)<=r&&(o=r),e[t-1]=o,this.setConfigValue("zq_video",e)}if(o)return o>c.default.random000(0,100)}return!1},t.prototype.playInterstitialAd=function(t){var e=this;void 0===t&&(t=null),void 0!==this.getPlatformClass()&&(this.m_interstitialAd||(this.m_interstitialAd=this.getPlatformClass().createInterstitialAd({adUnitId:""})),console.log("播放插屏--------- 11111111111"),this.m_interstitialAd&&(this.m_interstitialAd.onLoad(function(){return n(e,void 0,void 0,function(){return i(this,function(){return console.log("广告组件加载成功"),[2]})})}),console.log("播放插屏--------- 2222222222222222"),this.m_interstitialAd.load().then(function(){console.log("播放插屏--------- 44444444"),e.m_interstitialAd.show().catch(function(e){console.log("播放插屏--------- 5555555555",e),t&&t("err",e)})}).catch(function(e){console.log("播放插屏--------- 333333333333",e),t&&t()})))},t}();o.default=s,cc._RF.pop()},{"./RecordingScreen":"RecordingScreen","./ToolsAds":"ToolsAds"}],GameException:[function(t,e,o){"use strict";cc._RF.push(e,"b7f1eGncIdGYZ8Z/HhKb4c7","GameException");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.GameException=o.HttpException=void 0;var r=function(t,e){this.code=t,this.msg=e},a=function(t){function e(e,o){return t.call(this,e,o)||this}return i(e,t),e}(r);o.HttpException=a;var c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(r);o.GameException=c,cc._RF.pop()},{}],GameGuide:[function(t,e,o){"use strict";cc._RF.push(e,"efef0m1OMFOPpY+FYICecOk","GameGuide");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../base/App"),c=t("../../global/enums"),s=t("../../module/GuideManager"),_=t("../../record/DataPool"),l=t("../../utils/BtnSound_1"),p=t("../../utils/BtnSound_2"),u=t("../../utils/ListViewEx"),d=cc._decorator,h=d.ccclass,f=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeDialogueMode=null,e.nodeGuideMode=null,e.spDialogueBG=null,e.spRightDialogueBG=null,e.spLeftDialogueBG=null,e.nodeMask=null,e.spMaskHint=null,e.spGuideBG=null,e.dbGuideAnime=null,e.spFinger=null,e.nodeGuideAnime=null,e.nodeGuideDialogue=null,e.nodeGuideDialoguePos=null,e.spGuideRole=null,e.spGuideDialogueBG=null,e.textGuideDialogue=null,e.btnClickScreen=null,e.textClickScreen=null,e.textDialogueClickScreen=null,e.nodeBulletScreen=null,e.spShieldBG=null,e._isAssignGuide=!1,e._dialogueList=[],e._listenEventList=[],e._curSwitchEvent=null,e._curAwaitEvent=null,e._curBaseEventEvent=null,e._curDialogueSwitchEvent=null,e._curDialogueAwaitEvent=null,e._cloneHintNodes=[],e._guideID=c.GameGuideID.invalid,e._guideInfo=null,e}return i(e,t),e.prototype.onLoad=function(){this.nodeDialogueMode.active=!1,this.nodeGuideMode.active=!1,this.spRightDialogueBG.node.active=!1,this.spLeftDialogueBG.node.active=!1,this.spShieldBG.node.active=!1,this.textClickScreen.node.active=!1,this.nodeBulletScreen.active=!1,this.nodeGuideAnime.active=!1,this.nodeGuideDialogue.active=!1},e.prototype.init=function(t,e){this._guideID=t,this._guideInfo=e},e.prototype.start=function(){this._guideID==c.GameGuideID.invalid?this.UpdateGuide():(this._isAssignGuide=!0,this.UpdateAssignGuide(this._guideID,this._guideInfo))},e.prototype.onDestroy=function(){this._curSwitchEvent&&a.App.notice.off(this._curSwitchEvent.event,this._curSwitchEvent.call,this),this._curAwaitEvent&&a.App.notice.off(this._curAwaitEvent.event,this._curAwaitEvent.call,this),this._curBaseEventEvent&&a.App.notice.off(this._curBaseEventEvent.event,this._curBaseEventEvent.call,this),this._curDialogueSwitchEvent&&a.App.notice.off(this._curDialogueSwitchEvent.event,this._curDialogueSwitchEvent.call,this),this._curDialogueAwaitEvent&&a.App.notice.off(this._curDialogueAwaitEvent.event,this._curDialogueAwaitEvent.call,this)},e.prototype.UpdateGuide=function(){if(this._isAssignGuide)this.node.destroy();else{var t=_.DataPool.instance.gameInfo.GetGuideProgress();if(t==c.GameGuideID.invalid)return s.GuideManager.instance.SetCurrentGuideData(null),void this.node.destroy();this.UpdateAssignGuide(t,[])}},e.prototype.UpdateAssignGuide=function(t,e){var o=this,n=s.GuideManager.instance.GetGuideData(t);if(!n)return console.error("ERROR: 引导数据错误: id="+t),s.GuideManager.instance.SetCurrentGuideData(null),void this.node.destroy();if(n.condition&&!s.GuideManager.instance.CheckGuideCondition(n.condition))return console.error("ERROR: 引导条件未达成, 无法引导: id="+t),void this.node.destroy();switch(e&&e.length>0&&e.forEach(function(t){var e=n.content.find(function(e){return e.tag&&t.tag&&t.tag==e.tag});if(!e)return console.error("引导扩展<标记>不存在：tag="+t.tag),void o.node.destroy();if(e[t.fieldName]){var i=e[t.fieldName];"object"==typeof i?t.autoNodeList.forEach(function(t,e){t.forEach(function(t){"object"==typeof i[e]?i[e].push(t):i.push(t)})}):console.error("引导扩展<字段>不存在：tag="+t.tag+", name")}else console.error("引导扩展<数据>不存在：tag="+t.tag)}),this._listenEventList=[],this.nodeDialogueMode.active=!1,this.nodeGuideMode.active=!1,s.GuideManager.instance.SetCurrentGuideData(n),s.GuideManager.instance.CurrentGuideData.displayMode){case s.DisplayMode.dialogue:this.UpdateDialogueMode(!0);break;case s.DisplayMode.guide:this.UpdateGuideMode(!0)}},e.prototype.UpdateDialogueMode=function(t){var e=this;if(this._cloneHintNodes.forEach(function(t){t.destroy()}),this._dialogueList.forEach(function(t){t.destroy()}),this._cloneHintNodes=[],this._dialogueList=[],t||s.GuideManager.instance.SwitchStep(),s.GuideManager.instance.CheckFinish())return this.nodeDialogueMode.active=!1,_.DataPool.instance.gameInfo.SetGuideProgress(s.GuideManager.instance.CurrentGuideData.id),s.GuideManager.instance.ClearCurrentGuide(),void this.UpdateGuide();this.nodeDialogueMode.active=!0;var o=s.GuideManager.instance.GetGuideStep();if(!o)return console.error("ERROR: 引导步骤错误: id:"+s.GuideManager.instance.CurrentGuideID+", index: "+s.GuideManager.instance.CurrentStepIndex),void this.node.destroy();if(o.listenEvent){this._listenEventList.push({event:o.listenEvent,finish:!1});var n=function(){e._listenEventList.forEach(function(t){t.event==o.listenEvent&&(t.finish=!0)}),a.App.notice.off(o.listenEvent,n,e)};a.App.notice.on(o.listenEvent,n,this)}if(this.textDialogueClickScreen.node.active=!0,cc.Tween.stopAllByTarget(this.textDialogueClickScreen.node),cc.tween(this.textDialogueClickScreen.node).repeatForever(cc.tween(this.textDialogueClickScreen.node).to(1.4,{opacity:0}).to(1.4,{opacity:255}).delay(.2)).start(),o.dialogueDirection==u.DirectionType.DT_RIGHT){(l=cc.instantiate(this.spRightDialogueBG.node)).active=!0,l.parent=this.nodeDialogueMode;var i=l.getChildByName("textRightDialogue").getComponent(cc.Label);this._dialogueList.push(l);var r=this.GetNode(o.dialoguePosNode).convertToWorldSpaceAR(cc.v2(0,0)),c=this.nodeDialogueMode.convertToNodeSpaceAR(r);l.setPosition(c),i.string=o.textContent,i._forceUpdateRenderData(!0),l.height=i.node.height+76,i.node.y=l.height-27,this.UpdateText(i,o.textContent)}else if(o.dialogueDirection==u.DirectionType.DT_LEFT){var l;(l=cc.instantiate(this.spLeftDialogueBG.node)).active=!0,l.parent=this.nodeDialogueMode;var p=l.getChildByName("textLeftDialogue").getComponent(cc.Label);this._dialogueList.push(l),r=this.GetNode(o.dialoguePosNode).convertToWorldSpaceAR(cc.v2(0,0)),c=this.nodeDialogueMode.convertToNodeSpaceAR(r),l.setPosition(c),p.string=o.textContent,p._forceUpdateRenderData(!0),l.height=p.node.height+76,p.node.y=l.height-27,this.UpdateText(p,o.textContent)}if(o.bulletScreenList&&this.CreatorBulletScreen(o.bulletScreenList),o.switchEvent&&(a.App.notice.on(o.switchEvent,this.onDialogueSwitchEventCall,this),this._curDialogueSwitchEvent&&(console.error("ERROR: 切换事件未响应: "+this._curDialogueSwitchEvent.event),a.App.notice.off(this._curDialogueSwitchEvent.event,this._curDialogueSwitchEvent.call,this),this._curDialogueSwitchEvent=null),this._curDialogueSwitchEvent={event:o.switchEvent,call:this.onDialogueSwitchEventCall}),o.awaitEvent){var d=!1;this._listenEventList.forEach(function(t){t.event==o.awaitEvent&&(d=t.finish)}),d||(this.spShieldBG.node.active=!0,this.nodeDialogueMode.active=!1,this.textDialogueClickScreen.node.active=!1,a.App.notice.on(o.awaitEvent,this.onDialogueAwaitEventCall,this),this._curDialogueAwaitEvent&&(console.error("ERROR: 等待事件未响应: "+this._curDialogueAwaitEvent.event),a.App.notice.off(this._curDialogueAwaitEvent.event,this._curDialogueAwaitEvent.call,this),this._curDialogueAwaitEvent=null),this._curDialogueAwaitEvent={event:o.awaitEvent,call:this.onDialogueAwaitEventCall})}},e.prototype.onDialogueSwitchEventCall=function(){a.App.notice.off(this._curDialogueSwitchEvent.event,this.onDialogueSwitchEventCall,this),this._curDialogueSwitchEvent=null,this.spShieldBG.node.active=!1,this.nodeDialogueMode.active=!0,this.UpdateDialogueMode()},e.prototype.onDialogueAwaitEventCall=function(){a.App.notice.off(this._curDialogueAwaitEvent.event,this.onDialogueAwaitEventCall,this),this._curDialogueAwaitEvent=null,this.spShieldBG.node.active=!1,this.nodeDialogueMode.active=!0,this.textDialogueClickScreen.node.active=!0},e.prototype.onClickEventDialogueBG=function(){var t=s.GuideManager.instance.GetGuideStep();t.noticeEvent&&a.App.notice.trigger(t.noticeEvent,t.noticeEventData),t.switchEvent?(this.spShieldBG.node.active=!0,this.nodeDialogueMode.active=!1,this.textDialogueClickScreen.node.active=!1):this.UpdateDialogueMode()},e.prototype.CreatorBulletScreen=function(t){var e=this,o=-2,n=0;t.forEach(function(t){var i=cc.instantiate(e.nodeBulletScreen);i.active=!0,i.parent=e.node;var r=i.getChildByName("spBulletScreenBG").getComponent(cc.Sprite),a=i.getChildByName("textBulletScreen").getComponent(cc.Label);a.string=t,a._forceUpdateRenderData(!0),r.node.width=a.node.width+20,i.x=cc.winSize.width/2,i.y=o*(r.node.height+10)+200,cc.tween(i).delay(n).by(5,{x:-(cc.winSize.width+a.node.width+20)}).call(function(){i.destroy()}).start(),n+=1,2==++o&&(o=-2)})},e.prototype.UpdateGuideMode=function(t){if(this._cloneHintNodes.forEach(function(t){t.destroy()}),this._cloneHintNodes=[],t||s.GuideManager.instance.SwitchStep(),s.GuideManager.instance.CheckFinish())return this.nodeGuideMode.active=!1,_.DataPool.instance.gameInfo.SetGuideProgress(s.GuideManager.instance.CurrentGuideData.id),s.GuideManager.instance.ClearCurrentGuide(),void this.UpdateGuide();this.nodeGuideMode.active=!0,this.spGuideBG.node.active=!0,this.spMaskHint.node.active=!0;var e=s.GuideManager.instance.GetGuideStep();if(!e)return console.error("ERROR: 引导步骤错误: id:"+s.GuideManager.instance.CurrentGuideID+", index: "+s.GuideManager.instance.CurrentStepIndex),void this.node.destroy();switch(e.isClickAndDisplayText||this.ShowGuideDialogue(e),e.hintNodes&&!e.awaitEvent&&this.CreateHintNode(e),e.needPropID,this.btnClickScreen.node.active=!1,this.textClickScreen.node.active=!1,e.switchMode){case s.SwitchMode.waitFinish:this.waitFinish(e);break;case s.SwitchMode.clickScreen:this.clickScreen(e);break;case s.SwitchMode.clickNode:this.clickNode(e,!1);break;case s.SwitchMode.dblclickNode:this.clickNode(e,!0);break;case s.SwitchMode.slideNode:this.slideNode(e)}e.switchMode!=s.SwitchMode.clickScreen&&e.switchMode!=s.SwitchMode.waitFinish&&(a.App.notice.on(c.GameGuideEvent.base_event_operation_finish,this.onGuideBaseEventOperatonFinish,this),this._curBaseEventEvent&&(console.error("ERROR: 基础事件未响应: "+this._curBaseEventEvent.event),a.App.notice.off(this._curBaseEventEvent.event,this._curBaseEventEvent.call,this),this._curBaseEventEvent=null),this._curBaseEventEvent={event:c.GameGuideEvent.base_event_operation_finish,call:this.onGuideBaseEventOperatonFinish}),e.switchEvent&&(a.App.notice.on(e.switchEvent,this.onGuideSwitchEventCall,this),this._curSwitchEvent&&(console.error("ERROR: 切换事件未响应: "+this._curSwitchEvent.event),a.App.notice.off(this._curSwitchEvent.event,this._curSwitchEvent.call,this),this._curSwitchEvent=null),this._curSwitchEvent={event:e.switchEvent,call:this.onGuideSwitchEventCall}),e.awaitEvent&&(this.spShieldBG.node.active=!0,this.nodeGuideMode.active=!1,a.App.notice.on(e.awaitEvent,this.onGuideAwaitEventCall,this),this._curAwaitEvent&&(console.error("ERROR: 等待事件未响应: "+this._curAwaitEvent.event),a.App.notice.off(this._curAwaitEvent.event,this._curAwaitEvent.call,this),this._curAwaitEvent=null),this._curAwaitEvent={event:e.awaitEvent,call:this.onGuideAwaitEventCall})},e.prototype.onGuideBaseEventOperatonFinish=function(){a.App.notice.off(this._curBaseEventEvent.event,this.onGuideBaseEventOperatonFinish,this),this._curBaseEventEvent=null,this.nodeGuideAnime.active=!1,this._cloneHintNodes.forEach(function(t){t.destroy()}),this._cloneHintNodes=[];var t=s.GuideManager.instance.GetGuideStep();t.switchEvent?t.clickAfterAllowUserOperation?(this.spShieldBG.node.active=!1,this.nodeGuideMode.active=!1,this.spMaskHint.node.active=!1):(this.spShieldBG.node.active=!0,this.nodeGuideMode.active=!1):this.UpdateGuideMode(),t.isClickAndDisplayText&&this.ShowGuideDialogue(t)},e.prototype.onGuideSwitchEventCall=function(){var t=s.GuideManager.instance.GetGuideStep();t.noticeEvent&&t.switchFinishedSendNotice&&a.App.notice.trigger(t.noticeEvent,t.noticeEventData),a.App.notice.off(this._curSwitchEvent.event,this.onGuideSwitchEventCall,this),this._curSwitchEvent=null,this.spShieldBG.node.active=!1,this.nodeGuideMode.active=!0,this.spMaskHint.node.active=!0,this.UpdateGuideMode()},e.prototype.onGuideAwaitEventCall=function(){a.App.notice.off(this._curAwaitEvent.event,this.onGuideAwaitEventCall,this),this._curAwaitEvent=null,this.spShieldBG.node.active=!1,this.nodeGuideMode.active=!0,this.spMaskHint.node.active=!0;var t=s.GuideManager.instance.GetGuideStep();t.hintNodes&&this.CreateHintNode(t)},e.prototype.waitFinish=function(t){t.noticeEvent&&!t.switchFinishedSendNotice&&a.App.notice.trigger(t.noticeEvent,t.noticeEventData),this.spShieldBG.node.active=!0,this.nodeGuideMode.active=!1},e.prototype.ShowGuideDialogue=function(t){var e=t.textDisplaySpeed?t.textDisplaySpeed:.02;if(t.textContent?(this.nodeGuideDialogue.active=!0,this.textGuideDialogue.string=t.textContent,this.textGuideDialogue._forceUpdateRenderData(!0),this.spGuideDialogueBG.node.height=this.textGuideDialogue.node.height+76,this.textGuideDialogue.node.y=this.spGuideDialogueBG.node.height-27,this.UpdateText(this.textGuideDialogue,t.textContent,e)):t.textNoBGContent?(this.nodeGuideDialogue.active=!0,this.textGuideDialogue.string=t.textNoBGContent,this.textGuideDialogue._forceUpdateRenderData(!0),this.spGuideDialogueBG.node.height=this.textGuideDialogue.node.height+76,this.textGuideDialogue.node.y=this.spGuideDialogueBG.node.height-27,this.UpdateText(this.textGuideDialogue,t.textNoBGContent,e),this.nodeGuideMode.active=!0,this.spMaskHint.node.active=!0,this.spGuideBG.node.active=!1,t.clickAfterAllowUserOperation&&(this.spMaskHint.node.active=!1)):this.nodeGuideDialogue.active=!1,this.nodeGuideDialoguePos.getComponent(cc.Widget).updateAlignment(),this.nodeGuideDialogue.y=this.nodeGuideDialoguePos.y,t.adjustGuidePosNode){var o=this.GetNode(t.adjustGuidePosNode);o||this.node.destroy();var n=this.SwitchPosToMode(o);this.nodeGuideDialogue.y=n.y+o.getBoundingBox().height/2}},e.prototype.resetGuideAnime=function(t,e){void 0===e&&(e=!0),cc.Tween.stopAllByTarget(this.spFinger.node),this.spFinger.node.x=0,this.spFinger.node.y=0,this.spFinger.node.opacity=255,this.nodeGuideAnime.angle=0,this.nodeGuideAnime.active=!0,this.nodeGuideAnime.setPosition(t),cc.winSize.height/2-Math.abs(t.y)<=2*this.spFinger.node.height&&e&&(this.nodeGuideAnime.angle=180)},e.prototype.clickScreen=function(){this.btnClickScreen.node.active=!0,this.textClickScreen.node.active=!0,cc.Tween.stopAllByTarget(this.textClickScreen.node),cc.tween(this.textClickScreen.node).repeatForever(cc.tween(this.textClickScreen.node).to(.8,{opacity:0}).to(.8,{opacity:255}).delay(.2)).start()},e.prototype.onClickEventScreen=function(){var t=s.GuideManager.instance.GetGuideStep();t.noticeEvent&&!t.switchFinishedSendNotice&&a.App.notice.trigger(t.noticeEvent,t.noticeEventData),this.btnClickScreen.node.active=!1,this.textClickScreen.node.active=!1,t.switchEvent?(this.spShieldBG.node.active=!0,this.nodeGuideMode.active=!1):this.UpdateGuideMode()},e.prototype.CreateHintNode=function(t){var e=this;if(t.hintNodes){var o=[];t.hintNodes.forEach(function(t){var n=e.GetNode(t);n&&o.push(n)}),o.length==t.hintNodes.length?o.forEach(function(o){var n=e.CloneNode(o),i=e.SwitchPosToMode(o);if(n.setPosition(i),t.nodeDisplayHighlight){n.color=cc.color(255,255,255,255),n.getComponent(cc.Label)&&n.getComponent(cc.Label)._forceUpdateRenderData(!0);var r=n.getChildByName("textXiGuaCount");r&&(r.color=cc.color(255,255,255,255),r.getComponent(cc.Label)&&r.getComponent(cc.Label)._forceUpdateRenderData(!0))}}):this.node.destroy()}},e.prototype.GetNode=function(t){var e=null;for(var o in t)if(e){var n=e.getChildByName(t[o]);if(!n)return console.error("ERROR: 引导节点未找到, id:"+s.GuideManager.instance.CurrentGuideID+", step"+s.GuideManager.instance.CurrentStepIndex+", index:"+o+", nodeName:"+t[o]),null;e=n}else if(!(e=cc.director.getScene().getChildByName(t[o])))return console.error("ERROR: 引导节点未找到, id:"+s.GuideManager.instance.CurrentGuideID+", step"+s.GuideManager.instance.CurrentStepIndex+", index:"+o+", nodeName:"+t[o]),null;return e},e.prototype.SwitchPosToMode=function(t){var e=t.convertToWorldSpaceAR(cc.v2(0,0));return this.nodeGuideMode.convertToNodeSpaceAR(e)},e.prototype.SetTouchPenetrate=function(t){this.nodeMask.setAnchorPoint(t.getAnchorPoint()),this.nodeMask.setContentSize(t.getBoundingBox()),this.nodeMask.setPosition(this.SwitchPosToMode(t));var e=this.spGuideBG.node.convertToWorldSpaceAR(cc.v2(0,0));e=this.nodeMask.convertToNodeSpaceAR(e),this.spMaskHint.node.setPosition(e)},e.prototype.RemoveButton=function(t){var e=this;t.getComponent(cc.Button)&&t.removeComponent(cc.Button),t.children.forEach(function(t){e.RemoveButton(t)})},e.prototype.RemoveBtnSound=function(t){var e=this;t.getComponent(l.default)&&t.removeComponent(l.default),t.getComponent(p.default)&&t.removeComponent(p.default),t.children.forEach(function(t){e.RemoveBtnSound(t)})},e.prototype.RemoveAllEvent=function(t){var e=this;t.targetOff(t),t.children.forEach(function(t){e.RemoveAllEvent(t)})},e.prototype.CloneNode=function(t){var e=cc.instantiate(t);return e.parent=this.nodeGuideMode,this._cloneHintNodes.push(e),e.removeComponent(cc.Widget),this.RemoveAllEvent(e),this.RemoveButton(e),this.RemoveBtnSound(e),e},e.prototype.clickNode=function(t,e){var o=this;if(t.clickNode&&0!=t.clickNode.length){var n=this.GetNode(t.clickNode);if(n){this.SetTouchPenetrate(n);var i=this.CloneNode(n),r=this.SwitchPosToMode(n);if(i.setPosition(r),this._guideID==c.GameGuideID.start_game){var a=i.getChildByName("node_start");cc.tween(a).repeatForever(cc.tween(a).by(.6,{scale:.2}).by(.6,{scale:-.2})).start();for(var _=i.getChildByName("sp_texture_1"),l=function(t){var e=cc.instantiate(_);e.parent=_,e.x=0,e.y=0,e.opacity=0,cc.tween(e).delay(t<5?.2*t:.2*t+.2).call(function(){cc.tween(e).repeatForever(cc.tween(e).call(function(){e.scale=1,e.opacity=160}).to(.4,{scale:1.35,opacity:0}).delay(2)).start()}).start()},p=0;p<6;p++)l(p);var u=i.getChildByName("node_mask").getChildByName("sp_texture_2");cc.tween(u).repeatForever(cc.tween(u).call(function(){u.x=235}).to(1,{x:-235}).delay(3)).start()}this.resetGuideAnime(r),this.nodeGuideAnime.zIndex=i.zIndex+1,this.dbGuideAnime.node.active=!1,e?cc.tween(this.spFinger.node).repeatForever(cc.tween(this.spFinger.node).call(function(){o.dbGuideAnime.node.active=!0,o.dbGuideAnime.playAnimation("newAfugure",1)}).by(.2,{y:-30}).by(.2,{y:30}).call(function(){o.dbGuideAnime.playAnimation("newAfugure",1)}).by(.6,{y:-70}).by(.6,{y:70})).start():cc.tween(this.spFinger.node).repeatForever(cc.tween(this.spFinger.node).call(function(){o.dbGuideAnime.node.active=!0,o.dbGuideAnime.playAnimation("newAfugure",1)}).by(.6,{y:-70}).by(.6,{y:70})).start();var d=function(){};e?this.AddTouchDblclickEvent(i,d):t.needClickChildNode?i.children.forEach(function(e){t.onlyAllowClickNode?o.AddTouchClickEvent(e,d):o.AddTouchEvent(e,d)}):t.onlyAllowClickNode?this.AddTouchClickEvent(i,d):this.AddTouchEvent(i,d)}else this.node.destroy()}else e?console.error("ERROR: 引导(双击节点)配置错误, id:"+s.GuideManager.instance.CurrentGuideData.id):console.error("ERROR: 引导(点击节点)配置错误, id:"+s.GuideManager.instance.CurrentGuideData.id)},e.prototype.AddTouchEvent=function(t,e){t.targetOff(t),t.on(cc.Node.EventType.TOUCH_END,function(){e()},this),t._touchListener.swallowTouches=!1},e.prototype.AddTouchClickEvent=function(t,e){t.__guide_isTouchMove=!1,t.targetOff(t),t.on(cc.Node.EventType.TOUCH_START,function(){t.__guide_isTouchMove=!1},this),t.on(cc.Node.EventType.TOUCH_MOVE,function(){t.__guide_isTouchMove=!0},this),t.on(cc.Node.EventType.TOUCH_END,function(){t.__guide_isTouchMove||e(),t.__guide_isTouchMove=!1},this),t.on(cc.Node.EventType.TOUCH_CANCEL,function(){t.__guide_isTouchMove=!1},this),t._touchListener.swallowTouches=!1},e.prototype.AddTouchDblclickEvent=function(t,e){t.__guide_touchBeginPos=cc.v2(0,0),t.__guide_touchLastClick=!1,t.targetOff(t),t.on(cc.Node.EventType.TOUCH_START,function(e){t.__guide_touchBeginPos=e.getLocation()},this),t.on(cc.Node.EventType.TOUCH_MOVE,function(){},this);var o=function(o){var n=o.getLocation(),i=t.__guide_touchBeginPos.x-n.x,r=t.__guide_touchBeginPos.y-n.y;Math.abs(i)<=40&&Math.abs(r)<=40?0==t.__guide_touchLastClick?(t.__guide_touchLastClick=!0,cc.Tween.stopAllByTarget(t),cc.tween(t).delay(.5).call(function(){t.__guide_touchLastClick=!1}).start()):e():t.__guide_touchLastClick=!1};t.on(cc.Node.EventType.TOUCH_END,o,this),t.on(cc.Node.EventType.TOUCH_CANCEL,o,this),t._touchListener.swallowTouches=!1},e.prototype.slideNode=function(t){var e=this;if(t.slideNodes&&0!=t.slideNodes.length&&t.slideDirection){var o=[];if(t.slideNodes.forEach(function(t){var n=e.GetNode(t);n&&o.push(n)}),o.length==t.slideNodes.length){this.SetTouchPenetrate(o[0]);var n=[];o.forEach(function(t){var o=e.CloneNode(t),i=e.SwitchPosToMode(t);o.setPosition(i),n.push(o)});var i=cc.v2(0,0);t.slideDirection==u.DirectionType.DT_LEFT?i.x=-n[0].getBoundingBox().width:t.slideDirection==u.DirectionType.DT_RIGHT?i.x=n[0].getBoundingBox().width:t.slideDirection==u.DirectionType.DT_Down?i.y=-n[0].getBoundingBox().height:t.slideDirection==u.DirectionType.DT_Up&&(i.y=n[0].getBoundingBox().height);var r=this.SwitchPosToMode(o[0]);this.resetGuideAnime(r),this.nodeGuideAnime.zIndex=n[n.length-1].zIndex+1,this.dbGuideAnime.node.active=!1,cc.tween(this.spFinger.node).repeatForever(cc.tween(this.spFinger.node).call(function(){e.spFinger.node.x=0,e.spFinger.node.y=-70}).by(.6,{y:70,opacity:255}).call(function(){e.dbGuideAnime.node.active=!0,e.dbGuideAnime.playAnimation("newAfugure",1)}).by(.8,{x:i.x,y:i.y}).to(.3,{opacity:0})).start();var a=cc.v2(0,0);n[0].targetOff(n[0]),n[0].__guide_currentClickFinish=!1,n[0].on(cc.Node.EventType.TOUCH_START,function(t){a=t.getLocation()},this),n[0].on(cc.Node.EventType.TOUCH_MOVE,function(e){if(1!=n[0].__guide_currentClickFinish){var o=e.getLocation(),i=a.x-o.x,r=a.y-o.y,c=u.DirectionType.DT_Undefined;(Math.abs(i)>40||Math.abs(r)>40)&&(Math.abs(i)>Math.abs(r)&&Math.abs(i)>40?c=i>0?u.DirectionType.DT_LEFT:u.DirectionType.DT_RIGHT:Math.abs(r)>40&&(c=r>0?u.DirectionType.DT_Down:u.DirectionType.DT_Up)),c!=u.DirectionType.DT_Undefined&&(t.slideDirection,n[0].__guide_currentClickFinish=!0)}},this),n[0].on(cc.Node.EventType.TOUCH_END,function(){n[0].__guide_currentClickFinish=!1},this),n[0].on(cc.Node.EventType.TOUCH_CANCEL,function(){n[0].__guide_currentClickFinish=!1},this),n[0]._touchListener.setSwallowTouches(!1)}else this.node.destroy()}else console.error("ERROR: 引导(滑动节点_向左)配置错误, id:"+s.GuideManager.instance.CurrentGuideData.id)},e.prototype.UpdateText=function(t,e,o){void 0===o&&(o=.04),t.string="",t.strIndex=0,cc.Tween.stopAllByTarget(t.node),cc.tween(t.node).repeat(e.length,cc.tween(t.node).call(function(){t.string+=e[t.strIndex],t.strIndex++}).delay(o)).start()},e.prototype.update=function(){},r([f(cc.Node)],e.prototype,"nodeDialogueMode",void 0),r([f(cc.Node)],e.prototype,"nodeGuideMode",void 0),r([f(cc.Sprite)],e.prototype,"spDialogueBG",void 0),r([f(cc.Sprite)],e.prototype,"spRightDialogueBG",void 0),r([f(cc.Sprite)],e.prototype,"spLeftDialogueBG",void 0),r([f(cc.Node)],e.prototype,"nodeMask",void 0),r([f(cc.Sprite)],e.prototype,"spMaskHint",void 0),r([f(cc.Sprite)],e.prototype,"spGuideBG",void 0),r([f(dragonBones.ArmatureDisplay)],e.prototype,"dbGuideAnime",void 0),r([f(cc.Sprite)],e.prototype,"spFinger",void 0),r([f(cc.Node)],e.prototype,"nodeGuideAnime",void 0),r([f(cc.Node)],e.prototype,"nodeGuideDialogue",void 0),r([f(cc.Node)],e.prototype,"nodeGuideDialoguePos",void 0),r([f(cc.Sprite)],e.prototype,"spGuideRole",void 0),r([f(cc.Sprite)],e.prototype,"spGuideDialogueBG",void 0),r([f(cc.Label)],e.prototype,"textGuideDialogue",void 0),r([f(cc.Button)],e.prototype,"btnClickScreen",void 0),r([f(cc.Label)],e.prototype,"textClickScreen",void 0),r([f(cc.Label)],e.prototype,"textDialogueClickScreen",void 0),r([f(cc.Node)],e.prototype,"nodeBulletScreen",void 0),r([f(cc.Sprite)],e.prototype,"spShieldBG",void 0),r([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../base/App":"App","../../global/enums":"enums","../../module/GuideManager":"GuideManager","../../record/DataPool":"DataPool","../../utils/BtnSound_1":"BtnSound_1","../../utils/BtnSound_2":"BtnSound_2","../../utils/ListViewEx":"ListViewEx"}],GameInfoRecord:[function(t,e,o){"use strict";cc._RF.push(e,"c2910iQekhITYu4PG5WzwwP","GameInfoRecord");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GameInfoRecord=void 0;var a=t("../base/extends/SerializeElement"),c=t("../global/enums"),s=t("../utils/DateUtils"),_=t("./DataPool"),l=t("./RecordManager"),p=function(t){function e(){var e=t.call(this)||this;return e._enterGameCount=0,e._dailyPackReceiveTime="2010/07/28",e._signinTime="2010/07/28",e._signinCount=0,e._collectGameReward=!1,e._openGameCount=0,e._shareFriendsReward=!1,e._lastShareTime="2010/07/28",e._shareReceiveReward=!1,e._lastPlayEndlessTime="2010/07/28",e._endlessCount=0,e._gameGuideProgress=[],e}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return _.DataPool.instance.gameInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"enterGameCount",{get:function(){return this._enterGameCount},set:function(t){this._enterGameCount=t,this.save()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collectGameReward",{get:function(){return this._collectGameReward},set:function(t){this._collectGameReward=t,this.save()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"openGameCount",{get:function(){return this._openGameCount},set:function(t){this._openGameCount=t,this.save()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shareFriendsReward",{get:function(){return this._shareFriendsReward},set:function(t){this._shareFriendsReward=t,this.save()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endlessCount",{get:function(){return this._endlessCount},set:function(t){this._lastPlayEndlessTime=s.DateUtils.toString(Date.now()),this._endlessCount=t,this.save()},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.load()||this.save(),this.UpdateEndlessCount()},e.prototype.load=function(){var t=l.RecordManager.instance.read(c.DataRecord.GameInfo);return!!t&&(this.fromRecord(t),!0)},e.prototype.save=function(){l.RecordManager.instance.save(c.DataRecord.GameInfo,this.toRecord())},e.prototype.CheckDailyPack=function(){var t=new Date(this._dailyPackReceiveTime),e=new Date,o=Math.floor((e.getTime()-t.getTime())/1e3/60/60);return!(t.getDate()!=e.getDate()||o>24)},e.prototype.ReceiveDailyPack=function(){this._dailyPackReceiveTime=s.DateUtils.toString(Date.now()),this.save()},e.prototype.CheckSignin=function(){var t=new Date(this._signinTime),e=new Date,o=Math.floor((e.getTime()-t.getTime())/1e3/60/60);return!(t.getDate()!=e.getDate()||o>24)},e.prototype.Signin=function(){this._signinTime=s.DateUtils.toString(Date.now()),this._signinCount+=1,this.save()},e.prototype.SigninCount=function(){return 7==this._signinCount&&(this._signinCount=0,this.save()),0==this._signinCount&&this.CheckSignin()?7:this._signinCount},e.prototype.CheckShareReceive=function(){var t=new Date(this._lastShareTime),e=new Date,o=Math.floor((e.getTime()-t.getTime())/1e3/60/60);return t.getDate()!=e.getDate()||o>24?(this._shareReceiveReward=!1,0):this._shareReceiveReward?2:1},e.prototype.ShareFinished=function(){this._lastShareTime=s.DateUtils.toString(Date.now()),this.save()},e.prototype.ReceiveShareFinished=function(){this._shareReceiveReward=!0,this.save()},e.prototype.UpdateEndlessCount=function(){var t=new Date(this._lastPlayEndlessTime),o=new Date,n=Math.floor((o.getTime()-t.getTime())/1e3/60/60);(t.getDate()!=o.getDate()||n>24)&&(this._endlessCount=e.MaxEndlessCount)},e.prototype.GetGuideProgress=function(){var t=[];cc.sys.platform,cc.sys.ANDROID;for(var e=function(e){var n=o._gameGuideProgress.find(function(o){return o.id==t[e]});if(!n||!n.finish)return{value:t[e]}},o=this,n=0;n<t.length;n++){var i=e(n);if("object"==typeof i)return i.value}return c.GameGuideID.invalid},e.prototype.SetGuideProgress=function(t){var e=this._gameGuideProgress.find(function(e){return e.id==t});e?e.finish=!0:this._gameGuideProgress.push({id:t,finish:!0}),this.save()},e.prototype.CheckGuideFinish=function(t){var e=this._gameGuideProgress.find(function(e){return e.id==t});return!!e&&e.finish},e.MaxEndlessCount=2,r([a.Record("enterGameCount")],e.prototype,"_enterGameCount",void 0),r([a.Record("dailyPackReceiveTime")],e.prototype,"_dailyPackReceiveTime",void 0),r([a.Record("signinTime")],e.prototype,"_signinTime",void 0),r([a.Record("signinCount")],e.prototype,"_signinCount",void 0),r([a.Record("collectGameReward")],e.prototype,"_collectGameReward",void 0),r([a.Record("openGameCount")],e.prototype,"_openGameCount",void 0),r([a.Record("shareFriendsReward")],e.prototype,"_shareFriendsReward",void 0),r([a.Record("lastShareTime")],e.prototype,"_lastShareTime",void 0),r([a.Record("shareReceiveReward")],e.prototype,"_shareReceiveReward",void 0),r([a.Record("lastPlayEndlessTime")],e.prototype,"_lastPlayEndlessTime",void 0),r([a.Record("endlessCount")],e.prototype,"_endlessCount",void 0),r([a.Record("gameGuideProgress")],e.prototype,"_gameGuideProgress",void 0),e}(a.SerializeElement);o.GameInfoRecord=p,cc._RF.pop()},{"../base/extends/SerializeElement":"SerializeElement","../global/enums":"enums","../utils/DateUtils":"DateUtils","./DataPool":"DataPool","./RecordManager":"RecordManager"}],GameManager:[function(t,e,o){"use strict";cc._RF.push(e,"4d807mIkrlFhYrr6isRg2tk","GameManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../lq_collide_system/lq_collide_system"),c=t("../base/App"),s=t("../global/enums"),_=t("../record/MainWeaponStore"),l=t("./actors/ActorDefine"),p=t("./contorl/ComputerContorl"),u=t("./contorl/PlayerContorl"),d=t("./TimeManager"),h=t("./WorldManager"),f=cc._decorator,y=f.ccclass,g=(f.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frameBeginTime=0,e.lowFrameCnt=0,e.lowFrameRunning=!1,e.OverflowCntDownFrameRate=120,e.BusyCntDownAIFrequency=10,e.World=null,e.Player1=null,e.Player2=null,e._currentState=s.GameState.invalid,e}var o;return i(e,t),o=e,Object.defineProperty(e,"Instance",{get:function(){if(!o._instance)throw new Error("必须先加载场景");return o._instance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentState",{get:function(){return this._currentState},set:function(t){this._currentState=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){},e.prototype.start=function(){o._instance=this,a.LQCollideSystem.is_enable=!0,cc.game.setFrameRate(60),this.Debug(),c.App.notice.on(s.GameEvent.chapter_start,this.onEventLevelStart,this),c.App.notice.on(s.GameEvent.chapter_pause,this.onEventLevelPause,this),c.App.notice.on(s.GameEvent.chapter_restore,this.onEventLevelRestore,this),c.App.notice.on(s.GameEvent.chapter_finished,this.onEventLevelFinished,this),c.App.notice.on(s.GameEvent.chapter_failure,this.onEventLevelFailure,this),c.App.notice.on(s.GameEvent.wave_finished,this.OnEventWaveFinished,this),c.App.notice.on(l.GTEventID.ACTOR_BORN,this.OnEventActorBorn,this),this.Init()},e.prototype.onDestroy=function(){c.App.notice.off(s.GameEvent.chapter_start,this.onEventLevelStart,this),c.App.notice.off(s.GameEvent.chapter_pause,this.onEventLevelPause,this),c.App.notice.off(s.GameEvent.chapter_restore,this.onEventLevelRestore,this),c.App.notice.off(s.GameEvent.chapter_finished,this.onEventLevelFinished,this),c.App.notice.off(s.GameEvent.chapter_failure,this.onEventLevelFailure,this),c.App.notice.off(s.GameEvent.wave_finished,this.OnEventWaveFinished,this),c.App.notice.off(l.GTEventID.ACTOR_BORN,this.OnEventActorBorn,this)},e.prototype.Debug=function(){var t=cc.director.getScene().getChildByName("PROFILER-NODE");t&&(t.color=cc.color(255,0,0),t.children.forEach(function(t){t.color=cc.color(255,0,0),t.zIndex=2}))},e.prototype.update=function(){this.frameBeginTime=d.TimeManager.totalTime,this.Execute()},e.prototype.lateUpdate=function(){this.lateExecute()},e.prototype.Init=function(){this.BuildWorld()},e.prototype.BuildWorld=function(){this.World=this.node.addComponent(h.WorldManager),this.World.Init(this.BuildPlayer.bind(this))},e.prototype.BuildPlayer=function(){this.Player1=new u.PlayerContorl,this.Player1.Init(1),this.Player2=new p.ComputerContorl,this.Player2.Init(2),this.StartFree()},e.prototype.StartFree=function(){d.TimeManager.StartTimer(),this.currentState=s.GameState.free},e.prototype.StartGame=function(t){this.Reset(),c.App.notice.trigger(s.GameEvent.chapter_start),o.Instance.Player1.Start(function(){o.Instance.Player2.StartGame(t)})},e.prototype.Release=function(){d.TimeManager.StopTimer(),this.Player1.Release(),this.Player2.Release(),this.World.Release()},e.prototype.Execute=function(){this.currentState!=s.GameState.invalid&&(this.World.Execute(),this.currentState!=s.GameState.pause&&(this.Player1.Execute(),this.Player2.Execute(),a.LQCollideSystem.update_logic(d.TimeManager.deltaTime)))},e.prototype.lateExecute=function(){if(this.currentState!=s.GameState.pause){var t=1/cc.game.getFrameRate(),e=.3*t,n=t-(d.TimeManager.totalTime-this.frameBeginTime),i=Math.max(e,n);this.World.LateExecute(i);var r=d.TimeManager.totalTime;r-this.frameBeginTime>.6*t&&(this.lowFrameCnt++,console.log("帧溢出 "+this.lowFrameCnt)),r-this.frameBeginTime<.6*t&&this.lowFrameCnt>0&&(this.lowFrameCnt--,console.log("帧溢出 "+this.lowFrameCnt)),!this.lowFrameRunning&&this.lowFrameCnt>this.OverflowCntDownFrameRate&&(cc.game.setFrameRate(30),this.lowFrameRunning=!0,console.log("降帧")),this.lowFrameCnt==this.BusyCntDownAIFrequency&&(o.AIChangedFrenquency+=.1,o.AIChangedFrenquency=Math.min(o.AIChangedFrenquency,5),console.log("降频")),0==this.lowFrameCnt&&o.AIChangedFrenquency>0&&(o.AIChangedFrenquency-=.1,o.AIChangedFrenquency=Math.max(o.AIChangedFrenquency,0),console.log("升频"))}},e.prototype.Reset=function(){o.Instance.Player1.Reset(),o.Instance.Player2.Reset(),h.WorldManager.Instance.Reset()},e.prototype.onEventLevelStart=function(){console.log("level start"),this.currentState=s.GameState.in_game},e.prototype.onEventLevelPause=function(){console.log("level pause"),d.TimeManager.Pause(),this.currentState=s.GameState.pause},e.prototype.onEventLevelRestore=function(){console.log("level restore"),d.TimeManager.Resume(),this.currentState=s.GameState.in_game},e.prototype.onEventLevelFinished=function(){console.log("level finished"),this.currentState=s.GameState.free,_.MainWeaponStore.instance.clearDemoMainWeapon(),this.Reset()},e.prototype.onEventLevelFailure=function(){console.log("level failure"),this.currentState=s.GameState.free,_.MainWeaponStore.instance.clearDemoMainWeapon(),this.Reset()},e.prototype.OnEventActorBorn=function(){this.Player2.MonsterCount>0&&this.Player1.RestoreBullet()},e.prototype.OnEventWaveFinished=function(){this.Player2.MonsterCount<=0&&this.Player1.PauseBullet()},e._instance=null,e.AIChangedFrenquency=0,o=r([y],e)}(cc.Component));o.default=g,cc._RF.pop()},{"../../lq_collide_system/lq_collide_system":"lq_collide_system","../base/App":"App","../global/enums":"enums","../record/MainWeaponStore":"MainWeaponStore","./TimeManager":"TimeManager","./WorldManager":"WorldManager","./actors/ActorDefine":"ActorDefine","./contorl/ComputerContorl":"ComputerContorl","./contorl/PlayerContorl":"PlayerContorl"}],Geometry:[function(t,e,o){"use strict";cc._RF.push(e,"736f841IKpBHbuSzyhtpVkK","Geometry"),Object.defineProperty(o,"__esModule",{value:!0}),o.Geometry=void 0;var n=function(){function t(){}return t.getControlPos=function(t,e,o){var n,i=e.sub(t),r=i.signAngle(cc.v2(Math.abs(i.x),0))*(180/Math.PI),a=function(t){return t*Math.PI/180}(r>=90?180-(r+o)+180:r>=0?-r+o:r>=-90?-r+o:180-(r+o)+180),c=i.mag(),s=(n=o,Math.round(1e6*Math.sin(n*Math.PI/180)),function(t){return Math.round(1e6*Math.cos(t*Math.PI/180))/1e6}(o)*c);return cc.v2(s,0).rotate(a).add(t)},t.bezierCalculate=function(t,e,o){void 0===o&&(o=!0),e-=1;var n=t.length;if(n<2)return null;var i=[],r=new Array;r[0]=r[1]=1;for(var a=3;a<=n;a++){for(var c=new Array,s=0;s<a-1;s++)c[s]=r[s];for(r[0]=r[a-1]=1,s=0;s<a-2;s++)r[s+1]=c[s]+c[s+1]}for(a=0;a<e;a++){c=a/e;var _=cc.v2(0,0);for(i.push(_),s=0;s<2;s++){for(var l=0,p=0;p<n;p++)l+=Math.pow(1-c,n-p-1)*(0==s?t[p].x:t[p].y)*Math.pow(c,p)*r[p];0==s?_.x=l:_.y=l}}return o&&i.push(t[t.length-1]),i},t.bezierCalculateV3D=function(t,e,o){void 0===o&&(o=!0),e-=1;var n=t.length;if(n<2)return null;var i=[],r=new Array;r[0]=r[1]=1;for(var a=3;a<=n;a++){for(var c=new Array,s=0;s<a-1;s++)c[s]=r[s];for(r[0]=r[a-1]=1,s=0;s<a-2;s++)r[s+1]=c[s]+c[s+1]}for(a=0;a<e;a++){c=a/e;var _=cc.v3(0,0);for(i.push(_),s=0;s<2;s++){for(var l=0,p=0;p<n;p++)l+=Math.pow(1-c,n-p-1)*(0==s?t[p].x:t[p].y)*Math.pow(c,p)*r[p];0==s?_.x=l:_.y=l}}return o&&i.push(t[t.length-1]),i},t.RandomPointInCircle=function(t,e){var o=3.1415926,n=t+Math.random()*(e-t),i=360*Math.random(),r=cc.v2();return r.x=Math.sin(i*o/180)*n,r.y=Math.cos(i*o/180)*n,r},t.ComputeLinePointY=function(t,e,o){return(o.y-e.y)/(o.x-e.x)*(t-e.x)+e.y},t}();o.Geometry=n,cc._RF.pop()},{}],GlobaLocalData:[function(t,e,o){"use strict";cc._RF.push(e,"fb60b316OBDIqAbnNUTRGsS","GlobaLocalData");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.GlobaLocalData=void 0;var r=t("../base/InstanceBase"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return e.INSTANCE||(e.INSTANCE=r.InstanceBase.getInstance(e))},enumerable:!1,configurable:!0}),e.prototype.WriteGameConfig=function(t){return cc.sys.localStorage.setItem("GameConfig",JSON.stringify(t)),t},e.prototype.ReadGameConfig=function(){var t=cc.sys.localStorage.getItem("GameConfig");return null==t||""==t?this.WriteGameConfig({music:!0,sound:!0,shake:!0}):JSON.parse(t)},e.prototype.IsFirst=function(){var t=cc.sys.localStorage.getItem("GameConfig");return null==t||""==t},e}(r.InstanceBase);o.GlobaLocalData=a,cc._RF.pop()},{"../base/InstanceBase":"InstanceBase"}],GlobalOption:[function(t,e,o){"use strict";cc._RF.push(e,"29283acgxNCXajgTZAti2fF","GlobalOption"),Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalOption=void 0;var n=function(){function t(){}return t.__Debug__=!1,t.OpenWaveDebug=!1,t.WxAppID="这里填写微信的AppID",t.Version="1.2.4",t}();o.GlobalOption=n,cc._RF.pop()},{}],GlobalUserInfo:[function(t,e,o){"use strict";cc._RF.push(e,"315f0vaSfdCipYhY8gdbFtn","GlobalUserInfo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.GlobalUserInfo=void 0;var r=t("../base/InstanceBase"),a=t("./define"),c=function(t){function e(){var e=t.call(this)||this;return e._isLogin=!1,e._isAuthorization=!1,e._nickName="",e._avatarUrl="",e._openid="",e._score=0,e._unlockedLevelIndex=0,e._debrisCount=0,e}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return e.INSTANCE||(e.INSTANCE=r.InstanceBase.getInstance(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLogin",{get:function(){return this._isLogin},set:function(t){this._isLogin=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAuthorization",{get:function(){return this._isAuthorization},set:function(t){this._isAuthorization=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nickName",{get:function(){return this._nickName},set:function(t){this._nickName=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"avatarUrl",{get:function(){return this._avatarUrl},set:function(t){this._avatarUrl=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"openid",{get:function(){return this._openid},set:function(t){this._openid=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"score",{get:function(){return this._score},set:function(t){t>this._score&&(a.Define.isWeChat(),this._score=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"unlockedLevelIndex",{get:function(){return this._unlockedLevelIndex},set:function(t){t>this._unlockedLevelIndex&&(a.Define.isWeChat(),this._unlockedLevelIndex=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"debrisCount",{get:function(){return this._debrisCount},set:function(t){this._debrisCount=t},enumerable:!1,configurable:!0}),e.prototype.initUserInfo=function(t){this._openid=t.openid,this._nickName=t.username,this._score=t.score,this._unlockedLevelIndex=t.unlockedLevelIndex,this._debrisCount=t.debrisCount},e}(r.InstanceBase);o.GlobalUserInfo=c,cc._RF.pop()},{"../base/InstanceBase":"InstanceBase","./define":"define"}],GuidManager:[function(t,e,o){"use strict";cc._RF.push(e,"2faf5XVrPhKT7KyP1rcMF1L","GuidManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.GuidManager=void 0;var n=function(){function t(){}return Object.defineProperty(t,"Guid",{get:function(){return++t._guid},enumerable:!1,configurable:!0}),t._guid=1e4,t}();o.GuidManager=n,cc._RF.pop()},{}],GuideAuthorizationUserInfo:[function(t,e,o){"use strict";cc._RF.push(e,"e6ccc+z6tVJjJKNCYoYThLK","GuideAuthorizationUserInfo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GuideAuthorizationUserInfo=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spriteBackground=null,e.onCloseCallBack=null,e}return i(e,t),e.prototype.onLoad=function(){this.spriteBackground.node.on(cc.Node.EventType.TOUCH_END,this.onClose,this)},e.prototype.start=function(){},e.prototype.onClose=function(t){console.log("TOUCH_END this.coco",t.type),null!=this.onCloseCallBack&&this.onCloseCallBack(!1),this.node.removeFromParent(!0)},r([s(cc.Sprite)],e.prototype,"spriteBackground",void 0),r([c],e)}(cc.Component);o.GuideAuthorizationUserInfo=_,cc._RF.pop()},{}],GuideManager:[function(t,e,o){"use strict";cc._RF.push(e,"66238e188hKC6/Boa0ikKaa","GuideManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.GuideManager=o.SwitchMode=o.DisplayMode=void 0;var r=t("../base/InstanceBase"),a=t("../global/enums"),c=t("../utils/ParseUtils"),s=t("./ConfigManager");(function(t){t.dialogue="DisplayMode.dialogue",t.guide="DisplayMode.guide"})(o.DisplayMode||(o.DisplayMode={})),function(t){t.waitFinish="SwitchMode.waitFinish",t.clickScreen="SwitchMode.clickScreen",t.clickNode="SwitchMode.clickNode",t.dblclickNode="SwitchMode.dblclickNode",t.slideNode="SwitchMode.slideNode"}(o.SwitchMode||(o.SwitchMode={}));var _=function(t){function e(){var e=t.call(this)||this;return e._guideList=[],e._currentGuideID=a.GameGuideID.invalid,e._currentStepIndex=0,e._currentGuideData=null,e.loadGuideList(),e}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return e.INSTANCE||(e.INSTANCE=r.InstanceBase.getInstance(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CurrentGuideID",{get:function(){return this._currentGuideID},set:function(t){this._currentGuideID=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CurrentStepIndex",{get:function(){return this._currentStepIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CurrentGuideData",{get:function(){return this._currentGuideData},set:function(t){this._currentGuideData=t},enumerable:!1,configurable:!0}),e.prototype.loadGuideList=function(){this._guideList=s.ConfigManager.instance.readConfig(a.ConfigFiles.game_guide_config)},e.prototype.GetGuideData=function(t){var e=null;return this._guideList&&this._guideList.forEach(function(o){o.id==t&&(e=c.ParseUtils.deepCopy(o))}),e},e.prototype.SetCurrentGuideData=function(t){t?(this._currentStepIndex=0,this._currentGuideData=t,this._currentGuideID=t.id):this.ClearCurrentGuide()},e.prototype.GetGuideStep=function(){var t=null;return this._currentGuideData&&this._currentGuideID!=a.GameGuideID.invalid&&this._currentStepIndex<=this._currentGuideData.content.length&&(t=this._currentGuideData.content[this._currentStepIndex]),t},e.prototype.SwitchStep=function(){this._currentStepIndex++},e.prototype.CheckFinish=function(){return this._currentStepIndex>=this._currentGuideData.content.length},e.prototype.ClearCurrentGuide=function(){this._currentStepIndex=0,this._currentGuideData=null,this._currentGuideID=a.GameGuideID.invalid},e.prototype.CheckGuideCondition=function(t){if(t){var e=!1;return t.melonCount&&t.unlockLevel||t.unlockLevel||(e=!1),e}},e}(r.InstanceBase);o.GuideManager=_,cc._RF.pop()},{"../base/InstanceBase":"InstanceBase","../global/enums":"enums","../utils/ParseUtils":"ParseUtils","./ConfigManager":"ConfigManager"}],Guid:[function(t,e,o){"use strict";cc._RF.push(e,"d524bWRTzZCcJcA1hhGZrWm","Guid"),Object.defineProperty(o,"__esModule",{value:!0}),o.Guid=void 0,o.Guid=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},cc._RF.pop()},{}],HUDBase:[function(t,e,o){"use strict";cc._RF.push(e,"7db6esHw2BGs5h2sdL8HlZA","HUDBase"),Object.defineProperty(o,"__esModule",{value:!0}),o.HUDBase=void 0;o.HUDBase=function(){this.Height=0},cc._RF.pop()},{}],HUDBlood:[function(t,e,o){"use strict";cc._RF.push(e,"8019eTG7XFA2oyRTE2rsh0K","HUDBlood");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.HUDBlood=void 0;var r=t("../../global/enums"),a=t("../../utils/LoadManager"),c=t("../actors/ActorDefine"),s=t("../GameManager"),_=t("../WorldManager"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_HpsList=[],e.m_HpsDict=new Map,e}return i(e,t),e.prototype.CreateHudBlood=function(t){var e=null,o=0;if(2==t.camp&&(t.xData.type,c.EObjectType.ot_boss),2==t.camp&&(t.xData.type,c.EObjectType.ot_main_weapon),1==t.camp&&(t.xData.type,c.EObjectType.ot_boss),1==t.camp&&t.xData.type==c.EObjectType.ot_main_weapon&&(e=a.LoadManager.get("prefab/game/HUD/hud_blood"),o=r.ZIndex.ZI_HUD),1==t.camp&&t.xData.type==c.EObjectType.ot_support&&(e=a.LoadManager.get("prefab/game/HUD/hud_blood_prop_paota"),o=r.ZIndex.ZI_HUD_FLOOR),e){var n=cc.instantiate(e);n.parent=_.WorldManager.Instance.node,n.zIndex=o;var i={actorGuid:t.guid,node:n,nodeProgress:null,sp_progress:null,textValue:null},s=n.getChildByName("progress_bar");s&&(i.nodeProgress=s.getComponent(cc.ProgressBar));var l=n.getChildByName("sp_progress");l&&(i.sp_progress=l.getComponent(cc.Sprite));var p=n.getChildByName("text_value");return p&&(i.textValue=p.getComponent(cc.Label)),this.Height=n.height,i}return null},e.prototype.AddHud=function(t){var e=this.CreateHudBlood(t);return e&&(this.m_HpsList.push(e),this.m_HpsDict.set(t.guid,e)),this.Height},e.prototype.RemoveHud=function(t){this.m_HpsDict.has(t)&&this.m_HpsDict.delete(t);var e=this.m_HpsList.findIndex(function(e){return e.actorGuid==t});-1!=e&&(this.m_HpsList[e].node.parent=null,this.m_HpsList[e].node.destroy(),this.m_HpsList.splice(e,1))},e.prototype.HideHud=function(t){this.m_HpsDict.has(t)&&(this.m_HpsDict.get(t).node.active=!1)},e.prototype.ShowHud=function(t){this.m_HpsDict.has(t)&&(this.m_HpsDict.get(t).node.active=!0)},e.prototype.Execute=function(){for(var t=this,e=[],o=0;o<this.m_HpsList.length;o++){var n=this.m_HpsList[o],i=_.WorldManager.Instance.GetActor(n.actorGuid);if(i){var a=i.GetHUDPos(!0);n.node.active=s.default.Instance.currentState==r.GameState.in_game&&0==i.IsDead(),n.node.setPosition(a),n.nodeProgress&&(n.nodeProgress.progress=i.GetHPPercent()),n.textValue&&(n.textValue.string=i.Attr.getAttr(c.EAttrID.EA_HP)+""),n.sp_progress&&(n.sp_progress.fillRange=i.GetHPPercent())}else e.push(n.actorGuid)}e.forEach(function(e){t.RemoveHud(e)})},e.prototype.Release=function(){this.m_HpsList=[],this.m_HpsDict=new Map},e}(t("./HUDBase").HUDBase);o.HUDBlood=l,cc._RF.pop()},{"../../global/enums":"enums","../../utils/LoadManager":"LoadManager","../GameManager":"GameManager","../WorldManager":"WorldManager","../actors/ActorDefine":"ActorDefine","./HUDBase":"HUDBase"}],HUDSystem:[function(t,e,o){"use strict";cc._RF.push(e,"46da584Ge9KNbNqaYKo4IWC","HUDSystem"),Object.defineProperty(o,"__esModule",{value:!0}),o.HUDSystem=void 0;var n=t("../../module/ObjectPool"),i=t("./HUDBlood"),r=function(){function t(){this.m_Components=[]}return t.prototype.Init=function(){this.Add(i.HUDBlood)},t.prototype.Add=function(t){for(var e=0;e<this.m_Components.length;e++)if(this.m_Components[e]instanceof t)return;var o=t,i=n.ObjectPool.get(o);return this.m_Components.push(i),i},t.prototype.Get=function(t){for(var e=0;e<this.m_Components.length;e++)if(this.m_Components[e]instanceof t)return this.m_Components[e];return null},t.prototype.Execute=function(){for(var t=0;t<this.m_Components.length;t++)this.m_Components[t].Execute()},t.prototype.Release=function(){this.m_Components.forEach(function(t){t.Release(),n.ObjectPool.put(t)}),this.m_Components=[]},t}();o.HUDSystem=r,cc._RF.pop()},{"../../module/ObjectPool":"ObjectPool","./HUDBlood":"HUDBlood"}],HelpMgr:[function(t,e,o){"use strict";cc._RF.push(e,"fb865Os/xtGfaLq7GIm7cRh","HelpMgr");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var i=t("./GameConfigAds"),_=t("./ToolsAds"),l=cc._decorator,p=l.ccclass,u=(l.property,function(){function t(){if(this.m_hallCount=-1,this.m_gameIsWin=-1,this.m_overCount=0,this.m_jsonData=null,this.m_nBossBattle=-1,this.gameCount=0,this.m_isWdinner=!1,this.m_wTime=-1,this.buffTime=0,this.m_gameCount=0,this.m_isShow=!1,this.m_loadTime=[],this.m_shortWaitTime=0,this._isTouch_bdtkr_StartBtn=!1,e._instance)throw new Error("please use HelpMgr.instance");window.HelpMgr=e,e._instance=this,i.default.instance,setInterval(this.updateTime.bind(this),500)}var e;return e=t,t.prototype.getErrorConfigValue=function(t){return i.default.instance.getErrorConfigValue(t)},t.prototype.getConfigValue=function(t){return i.default.instance.getConfigValue(t)},t.prototype.isOpenErrorTouch=function(){return i.default.instance.isOpenErrorTouch()},t.prototype.get_local_native_data=function(){},t.prototype.send_other_event=function(t,e){},t.prototype.get_business_config=function(){},Object.defineProperty(t,"instance",{get:function(){return e._instance||new e,e._instance},enumerable:!1,configurable:!0}),t.prototype.isOppo=function(){return 2==_.default.isOppoVivo()},t.prototype.isVivo=function(){return 1==_.default.isOppoVivo()},t.prototype.loadError=function(){},t.prototype.init=function(t){var o=this;if(void 0===t&&(t=null),!_.default.isOppoVivo())return e.instance.m_adFinish=!0,void(t&&t());t&&t()},t.prototype.ADclear=function(){},t.prototype.set_on_click_inner_interstitial_btn=function(t){t&&t()},t.prototype.close_native_banner=function(){},t.prototype.updateTime=function(){-1!=this.m_wTime&&(this.m_wTime-=500,this.m_wTime<=0&&(this.m_wTime=-1,this.loadFinish()))},t.prototype.load_inner_interstitial_native=function(){var t=Date.now();if(0==this.buffTime)this.buffTime=t,this.m_wTime=0,this.updateTime();else{var e=t-this.buffTime-1e4;if(!(e>0))return void(this.m_wTime=-e);this.buffTime=t,this.m_wTime=0,this.updateTime()}},t.prototype.loadFinish=function(){},t.prototype.show_bannerbox=function(){},t.prototype.hide_game_banner_box=function(){},t.prototype.show_gamebox=function(){_.default.isOppoVivo()},t.prototype.isGotoNative=function(){},t.prototype.showVideoTemp=function(t){return e.instance.show_video(t.onSuccess,t.onCloseCallBack)},t.prototype.show_video=function(t,e){},t.prototype.loadSpriteFrame=function(t,e,o){void 0===o&&(o=null),cc.resources.load(t,cc.SpriteFrame,function(t,n){t&&console.log("加载图片资源失败",t),cc.isValid(e)&&(e.spriteFrame=n),o&&o(n)})},t.prototype.getSdkList=function(t,e){},t.prototype.on_clickCK=function(){},t.prototype.pushHall=function(t,e,o){},t.prototype.startLoad=function(t){this.m_loadTime[t]=Date.now()},t.prototype.endLoad=function(t){if(e.instance.pushHall(1),this.m_loadTime[t]){var o=(Date.now()-this.m_loadTime[t]+_.default.random000(10,30))/1e3;this.m_loadTime[t]=0,console.log("load-大厅",o),gameEndLoad(),this.pushHall(5,o,"load-大厅")}},t.prototype.getGameName=function(){return""},t.prototype.getLV=function(t){return void 0===t&&(t=0),"00"},t.prototype.getLevel=function(t){return void 0===t&&(t=0),"10002"+this.getLV(t)},t.prototype.send_chapter_eventBegin=function(){},t.prototype.send_chapter_eventFinish=function(t){},t.prototype.send_settlement_event=function(t,e,o){},t.prototype.settlementOpenDot=function(t){if(_.default.isOppoVivo()){var e=t?1:6;this.send_settlement_event(e,"",this.getGameName())}},t.prototype.ettlementCloseDot=function(t){if(_.default.isOppoVivo()){var e=t?2:7;this.send_settlement_event(e,"",this.getGameName())}},t.prototype.ettlementNextDot=function(){console.log("ettlementNextDot 点击进入下一关",this.getLV(1)),this.send_settlement_event(3,this.getLV(1)+"",this.getGameName())},t.prototype.isOppoPush=function(){},t.prototype.support_game_box=function(){},t.prototype.vibrateLong=function(){var t=_.default.getPlatformClass();if(void 0!==t)return t.vibrateLong()},t.prototype.vibrateShort=function(){var t=this;if(!(this.m_shortWaitTime>0)){_.default.isAndroid()&&(this.m_shortWaitTime=1,setTimeout(function(){t.m_shortWaitTime=0},15));var e=_.default.getPlatformClass();return void 0!==e?e.vibrateShort():void 0}},t.prototype.show_new_products=function(){},t.prototype.report_click=function(t){},t.prototype.getJumpOpen=function(){},t.prototype.playAdByWD=function(t){void 0===t&&(t=null),t&&t()},t.prototype.playAdBoxByWD=function(t){void 0===t&&(t=null),t&&t()},t.prototype.share=function(){},t.prototype.startGame=function(t){void 0===t&&(t=null),console.log("startGame 000000"),console.log("startGame 11111111111")},t.prototype.gameOver=function(){this.playAdByWD()},t.prototype.fxTTGame=function(t){void 0===t&&(t=null)},t.prototype.updateGame=function(){},t.prototype.setLevelMessage=function(){},t.prototype.isOpenAllSound=function(){},t.prototype.tlStart=function(t){t&&t()},t.prototype.showTips=function(t){return _.default.showTips(t)},t.prototype.random000=function(t,e){return _.default.random000(t,e)},t.prototype.setUINode=function(t){var e=t.node.getChildByName("uiNode");e?t.node.getChildByName=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];return console.log("className.node.getChildByName",t),e.getChildByName.apply(e,t)}:console.error("not uiNode")},t.prototype.setGameOverFunc=function(t,e){t.receivexx&&cc.game.off("game_over_ov",t.receivexx,t),t.receivexx=function(){console.log("className.receive"),e()},cc.game.on("game_over_ov",t.receivexx,t),console.log("setOvNode --------------"),t.onDisable=function(){console.log("className.onDisable"),cc.game.off("game_over_ov",t.receivexx,t)}},t.prototype.setOvNode=function(t,e){this.setUINode(t),this.setGameOverFunc(t,e)},e=n([p],t)}());o.default=u,cc._RF.pop()},{"./GameConfigAds":"GameConfigAds","./ToolsAds":"ToolsAds"}],IAction:[function(t,e,o){"use strict";cc._RF.push(e,"07209VjnfJCQ4iT+ghy8mHR","IAction"),Object.defineProperty(o,"__esModule",{value:!0}),o.IAction=void 0;var n=function(){function t(){this.guid=0,this._actor=null}return t.prototype.Enter=function(t){return this._actor=t,!0},t}();o.IAction=n,cc._RF.pop()},{}],IActorComponent:[function(t,e,o){"use strict";cc._RF.push(e,"9d8b7epHdVEEZ4HtO8ovXYm","IActorComponent"),Object.defineProperty(o,"__esModule",{value:!0}),o.IActorComponent=void 0;o.IActorComponent=function(){},cc._RF.pop()},{}],IBorn:[function(t,e,o){"use strict";cc._RF.push(e,"c5989RjgQVDiomqxivO1XFE","IBorn");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.IBorn=void 0;var r=t("../../base/App"),a=t("../actors/ActorDefine"),c=t("../actors/IActorComponent"),s=t("../WorldManager"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._actor=null,e}return i(e,t),e.prototype.Init=function(t){this._actor=t,this._actor.node.parent=s.WorldManager.Instance.node,t.name="Actor guid:"+t.guid+" dbid:"+t.dbid+" name:"+t.ActorName,s.WorldManager.Instance.AddActor(t),r.App.notice.trigger(a.GTEventID.ACTOR_BORN,t)},e.prototype.Release=function(){this._actor=null},e}(c.IActorComponent);o.IBorn=_,cc._RF.pop()},{"../../base/App":"App","../WorldManager":"WorldManager","../actors/ActorDefine":"ActorDefine","../actors/IActorComponent":"IActorComponent"}],IBuff:[function(t,e,o){"use strict";cc._RF.push(e,"ee15aBzHOVM2K+TSrcOsKdp","IBuff"),Object.defineProperty(o,"__esModule",{value:!0}),o.IBuff=void 0;var n=t("../../config/DataManager"),i=function(){function t(){this.guid=0,this._xData=null,this._config=null,this._Reached=!1}return Object.defineProperty(t.prototype,"xData",{get:function(){return this._xData},enumerable:!1,configurable:!0}),t.prototype.Init=function(t){this._xData=t,this._config=n.DataManager.TableBuffConfigDatasById[t.ID],this._Reached=!1},t.prototype.IsReach=function(){return this._Reached},t.prototype.OnReach=function(t){void 0===t&&(t=!1),this._Reached||(this._Reached=!0,!t&&this._xData.ReachCall&&this._xData.ReachCall(this))},t}();o.IBuff=i,cc._RF.pop()},{"../../config/DataManager":"DataManager"}],IBullet:[function(t,e,o){"use strict";cc._RF.push(e,"7aa09tzZAJLubxAO/vpCO87","IBullet"),Object.defineProperty(o,"__esModule",{value:!0}),o.IBullet=void 0;var n=t("../../config/DataManager"),i=t("../../global/enums"),r=t("../../module/SoundManage"),a=t("../actors/ActorDefine"),c=function(){function t(){this.guid=0,this._baseInterval=360,this._actor=null,this._bulletConfig=null,this._lastAtkTime=0,this._isPause=!0,this._isPauseCreate=!1,this._level=1,this._buff=!1}return Object.defineProperty(t.prototype,"isPause",{get:function(){return this._isPause},set:function(t){this._isPause=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isPauseCreate",{get:function(){return this._isPauseCreate},set:function(t){this._isPauseCreate=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"level",{get:function(){return this._level},set:function(t){this._level=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"buff",{get:function(){return this._buff},set:function(t){this._buff=t},enumerable:!1,configurable:!0}),t.prototype.Init=function(t){if(this._actor=t,this._bulletConfig=n.DataManager.TableBulletsConfigDatasById[t.xData.BulletID],!this._bulletConfig)return 0!=t.xData.BulletID&&console.error("ActorBullet this._bulletConfig = null"),void(this._isPause=!0);this._isPause=!1},t.prototype.Release=function(){this.guid=0,this._actor=null,this._bulletConfig=null,this._lastAtkTime=0,this._isPause=!0,this._isPauseCreate=!1,this._level=1,this._buff=!1},t.prototype.GetInterval=function(){var t=this._actor.Attr.getAttr(a.EAttrID.EA_ATK_INTERVAL);return this._baseInterval*t/1e3},t.prototype.PlaySound=function(){this._actor.xData.type==a.EObjectType.ot_main_weapon&&r.SoundManage.instance.PlaySound(i.GameSound.sound_bullet_launch)},t}();o.IBullet=c,cc._RF.pop()},{"../../config/DataManager":"DataManager","../../global/enums":"enums","../../module/SoundManage":"SoundManage","../actors/ActorDefine":"ActorDefine"}],ICommand:[function(t,e,o){"use strict";cc._RF.push(e,"076bbmlzcRBPJLP1gNQpQmT","ICommand"),Object.defineProperty(o,"__esModule",{value:!0}),o.ICommand=void 0;o.ICommand=function(){this.doCall=null},cc._RF.pop()},{}],IComputerLogic:[function(t,e,o){"use strict";cc._RF.push(e,"2c1a8Lzhg1LGacuApnEzNHc","IComputerLogic");var n=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},i=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0}),o.IComputerLogic=void 0;var r=t("../../base/App"),a=t("../../config/DataManager"),c=t("../../global/define"),s=t("../../global/enums"),_=t("../../global/GlobalOption"),l=t("../../module/SoundManage"),p=t("../actors/ActorDefine"),u=t("../AI/move_attack/Action_MA_JGLJJ"),d=t("../GameManager"),h=t("../prop/PropDefine"),f=t("../TimeManager"),y=t("../ui/UIWaveEditor"),g=t("../WorldManager"),v=t("./xLoader"),b=function(){function t(){this.camp=0,this._crrentChapter=0,this._chapterInfo=null,this._currentWaveConfig=null,this._curentChapterConfig1=null,this._curentChapterConfig2=null,this._currentWaveIndex=0,this._monsterArray=[],this._expReward=0,this._reloadWaveConfig=null,this._isAllCreated=!1,this._startTime=0,this._waitFinish=!1,this._waitDelayTime=0,this._waitDelay=!1,this._bossDiedFinished=!1,this._loopCreateMonsters=!1,this._lastGameExp=0,this._nextWaveShowWarning=!1}return Object.defineProperty(t.prototype,"crrentChapter",{get:function(){return this._crrentChapter},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"chapterInfo",{get:function(){return this._chapterInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentWaveConfig",{get:function(){return this._currentWaveConfig},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curentLevelConfig1",{get:function(){return this._curentChapterConfig1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"curentLevelConfig2",{get:function(){return this._curentChapterConfig2},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentWaveIndex",{get:function(){return this._currentWaveIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"CurrentWave",{get:function(){return this._currentWaveIndex-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"MaxWave",{get:function(){return null==this._curentChapterConfig2?0:this._curentChapterConfig2.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"MonsterCount",{get:function(){return this._monsterArray.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"CurrentWaveFinished",{get:function(){if(this._bossDiedFinished){var t=!0;if(this._monsterArray.forEach(function(e){var o=a.DataManager.TablePlaneConfigDatasById[e.monsterID];o&&o.type==p.EObjectType.ot_boss&&(!e.isCreated||e.actor&&!e.actor.IsDead())&&(t=!1)}),t)return!0}return 0==this._monsterArray.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ExpReward",{get:function(){return this._expReward},enumerable:!1,configurable:!0}),t.prototype.Init=function(t){this.camp=t,r.App.notice.on(p.GTEventID.ACTOR_DYING,this.OnEventDyingMonster,this),r.App.notice.on(p.GTEventID.ACTOR_DEAD,this.OnEventDeadMonster,this),r.App.notice.on(s.GameEvent.reload_wave_config,this.OnEventReloadWaveConfig,this)},t.prototype.Execute=function(){this.UpdateCreate(),this.UpdateWaitDelay()},t.prototype.Release=function(){r.App.notice.off(p.GTEventID.ACTOR_DYING,this.OnEventDyingMonster,this),r.App.notice.off(p.GTEventID.ACTOR_DEAD,this.OnEventDeadMonster,this),r.App.notice.off(s.GameEvent.reload_wave_config,this.OnEventReloadWaveConfig,this)},t.prototype.Reset=function(){this._monsterArray.forEach(function(t){t.isCreated&&t.actor&&g.WorldManager.Instance.DelActor(t.actor.guid)}),this._crrentChapter=0,this._curentChapterConfig1=null,this._currentWaveIndex=0,this._isAllCreated=!1,this._monsterArray=[],this._startTime=0,this._waitDelayTime=0,this._waitFinish=!1,this._waitDelay=!1,this._currentWaveConfig=null,this._loopCreateMonsters=!1,this._lastGameExp=0},t.prototype.LoadConfig=function(t,e){this._currentWaveConfig=t,this._isAllCreated=!1,this._waitFinish=1==t.wait_finish,this._bossDiedFinished=1==t.boss_died_finished,this._loopCreateMonsters=1==t.loop_create_monsters;var o=this.LoadMonsters(t,!1);g.WorldManager.Instance.UITop.OnWaveChange(this._currentWaveIndex,e),this._currentWaveIndex++,this.AllocationExpProgress(t,o),this.AllocationUserExp(t,o)},t.prototype.SwitchMusic=function(t){t?l.SoundManage.instance.PlayMusic(s.GameSound.music_boss):l.SoundManage.instance.PlayMusic(s.GameSound.music_game)},t.prototype.AllocationExpProgress=function(t,e){if(!(t.exp_proportion<=0)){var o=!1,n=0;if(e.forEach(function(e){var i=a.DataManager.TablePlaneConfigDatasById[e.monsterID];i&&!o&&i.type!=p.EObjectType.ot_invalid&&i.type!=p.EObjectType.ot_main_weapon&&i.type!=p.EObjectType.ot_deputy_weapon&&(i.type==p.EObjectType.ot_boss?(e.expProgress=t.exp_proportion,o=!0):i.type!=p.EObjectType.ot_barrier&&(n+=1))}),!(o||n<=0)){var i=t.exp_proportion/n;e.forEach(function(t){var e=a.DataManager.TablePlaneConfigDatasById[t.monsterID];e&&e.type!=p.EObjectType.ot_invalid&&e.type!=p.EObjectType.ot_main_weapon&&e.type!=p.EObjectType.ot_deputy_weapon&&e.type!=p.EObjectType.ot_boss&&e.type!=p.EObjectType.ot_barrier&&(t.expProgress=i)})}}},t.prototype.AllocationUserExp=function(t,e){var o=this,n=t.user_exp_proportion,i=Math.floor(this._expReward*n);if(!(t.user_exp_proportion<=0||i<=0)){var r=!1,c=0;if(e.forEach(function(t){var e=a.DataManager.TablePlaneConfigDatasById[t.monsterID];e&&!r&&e.type!=p.EObjectType.ot_invalid&&e.type!=p.EObjectType.ot_main_weapon&&e.type!=p.EObjectType.ot_deputy_weapon&&(e.type==p.EObjectType.ot_boss?(t.userExp=o.FluctuateUserExp(i),r=!0):e.type!=p.EObjectType.ot_barrier&&(c+=1))}),!(r||c<=0)){var s=Math.floor(i/c);e.forEach(function(t){var e=a.DataManager.TablePlaneConfigDatasById[t.monsterID];e&&e.type!=p.EObjectType.ot_invalid&&e.type!=p.EObjectType.ot_main_weapon&&e.type!=p.EObjectType.ot_deputy_weapon&&e.type!=p.EObjectType.ot_boss&&e.type!=p.EObjectType.ot_barrier&&(t.userExp=o.FluctuateUserExp(s))})}}},t.prototype.FluctuateUserExp=function(t){return t+Math.floor(t*Math.random()/10)},t.prototype.UpdateCreate=function(){var t=this;for(this._monsterArray.forEach(function(e){e.isCreated||f.TimeManager.totalTime-e.startTime>e.createTime&&(e.actor=t.LoadMonster(e),e.isCreated=!0)});;){var e=this._monsterArray.findIndex(function(t){return t.isCreated&&null==t.actor});if(-1==e)break;this._monsterArray.splice(e,1)}this._loopCreateMonsters&&null==this._monsterArray.find(function(t){return 0==t.isCreated})&&this.LoadMonsters(this._currentWaveConfig,!0)},t.prototype.LoadMonsters=function(t,e){var o=this,n=[];return t.monsters.forEach(function(i,r){if(e){var c=a.DataManager.TablePlaneConfigDatasById[i];if(!c||c.type==p.EObjectType.ot_boss)return}var s=t.monsters_level[r];isNaN(s)&&(s=1,console.error("ComputerContorl LoadMonsters monsterLevel = NaN"));var _={monsterID:i,monsterLevel:s,startTime:f.TimeManager.totalTime,createTime:t.create_time[r],isCreated:!1,actor:null,expProgress:0,userExp:0};n.push(_),o._monsterArray.push(_)}),n},t.prototype.LoadMonster=function(t){var e=a.DataManager.TablePlaneConfigDatasById[t.monsterID];if(!e)return console.error("ERROR: the monter doesn't exist, id="+t.monsterID+", timeIndex="+this._currentWaveIndex+", level=endless"),null;var o,n=null;return e.type==p.EObjectType.ot_boss&&((o=v.xLoader.Instance.loadBoss(t.monsterID,t.monsterLevel)).camp=this.camp,o.posList=t.posList,n=g.WorldManager.Instance.BornSystem.AddBoss(o)),e.type==p.EObjectType.ot_monster&&((o=v.xLoader.Instance.loadMonster(t.monsterID,t.monsterLevel)).camp=this.camp,o.posList=t.posList,n=g.WorldManager.Instance.BornSystem.AddMonster(o)),e.type==p.EObjectType.ot_barrier&&((o=v.xLoader.Instance.loadBarrier(t.monsterID,t.monsterLevel)).camp=this.camp,o.posList=t.posList,n=g.WorldManager.Instance.BornSystem.AddBarrier(o)),n&&(n.IsActive=!0),n},t.prototype.OnEventDyingMonster=function(t){var e=this._monsterArray.find(function(e){return e.isCreated&&e.actor.guid==t.guid});if(null!=e&&t.xData.type!=p.EObjectType.ot_main_weapon&&t.xData.type!=p.EObjectType.ot_deputy_weapon&&t.xData.type!=p.EObjectType.ot_invalid&&t.xData.type!=p.EObjectType.ot_barrier){if(e.expProgress>0&&g.WorldManager.Instance.UITop.AddGameExpProgress(e.expProgress),e.userExp>0){var o=1,n=1;t.xData.type==p.EObjectType.ot_boss&&(o=10*Math.random()+10),t.xData.isReward&&t.DeadReason==p.EDeadReason.Normal&&(o=5*Math.random()+3,n+=.5*Math.random());for(var i=0;i<o;i++){var r={prop_id:h.PropID.exp_collect,ReserveValue:Math.floor(e.userExp/o*n),StartPoint:t.Pos2D};g.WorldManager.Instance.PropSystem.AddProp(r),d.default.Instance.Player1.OnUserExpUP(r)}}100*Math.random()<3&&(r={prop_id:h.PropID.hp_recover,StartPoint:t.Pos2D},g.WorldManager.Instance.PropSystem.AddProp(r))}},t.prototype.OnEventDeadMonster=function(t){return n(this,void 0,void 0,function(){var e,o,n,a,c;return i(this,function(i){switch(i.label){case 0:if(t.xData.type==p.EObjectType.ot_main_weapon||t.xData.type==p.EObjectType.ot_deputy_weapon||t.xData.type==p.EObjectType.ot_invalid)return[2];if(-1!=(e=this._monsterArray.findIndex(function(e){return e.isCreated&&e.actor.guid==t.guid}))&&(this._monsterArray.splice(e,1),this._monsterArray.length<=0&&r.App.notice.trigger(s.GameEvent.wave_finished)),o=0==this._monsterArray.length,this._bossDiedFinished&&!o&&t.xData.type==p.EObjectType.ot_boss){for(this._monsterArray.forEach(function(t){t.isCreated&&t.actor&&!t.actor.IsDead()&&t.actor.DoDie(p.EDeadReason.Kill)});-1!=(n=this._monsterArray.findIndex(function(t){return 0==t.isCreated}));)this._monsterArray.splice(n,1);o=!0,this._loopCreateMonsters=!1}return o?(this.SwitchMusic(!1),a=!1,_.GlobalOption.OpenWaveDebug?(c=g.WorldManager.Instance.UITop.ShowEditor(),[4,y.UIWaveEditor.ShowEditorAsync(c)]):[3,2]):[3,3];case 1:a=i.sent(),i.label=2;case 2:a||(this._waitDelay=!0,this._waitDelayTime=1.5,this._isAllCreated&&d.default.Instance.Player1.PauseBullet()),i.label=3;case 3:return[2]}})})},t.prototype.OnGameFinished=function(){this._waitFinish=!1,this._waitDelay=!1,d.default.Instance.Player1.End(function(){g.WorldManager.Instance.ShowGameFinished(function(){d.default.Instance.Player1.PlayExitAni(function(){c.Define.isWeChat(),r.App.notice.trigger(s.GameEvent.chapter_finished)})})})},t.prototype.UpdateWaitDelay=function(){this._waitFinish&&this._waitDelay&&(this._waitDelayTime>0&&(this._waitDelayTime-=f.TimeManager.deltaTime),this._waitDelayTime<=0&&0==g.WorldManager.Instance.PropSystem.FindProp(h.PropID.exp_collect)&&(this._isAllCreated?this.OnGameFinished():this.OnStartNextWave()))},t.prototype.OnStartNextWave=function(){var t=this;this._waitDelay=!1;var e=g.WorldManager.Instance.UITop,o=g.WorldManager.Instance.UIWaveHint,n=g.WorldManager.Instance.UIWaveWarning,i=g.WorldManager.Instance.UIPropChoose,a=g.WorldManager.Instance.UIPropHint;1==this._currentWaveIndex||0==e.IsBufferLevel()?o.Show(this._currentWaveIndex,function(){var o=function(){t._waitFinish=!1,t._lastGameExp=e.currentExpProgress,u.Action_MA_JGLJJ.ResetIndex(),r.App.notice.trigger(s.GameEvent.wave_start)};t._nextWaveShowWarning?n.Show(function(){t.SwitchMusic(!0),o()}):(t.SwitchMusic(!1),o())}):i.Show(function(e){a.Show(e,function(){}),t.OnStartNextWave()})},t.prototype.OnEventReloadWaveConfig=function(t){this._monsterArray.forEach(function(t){t.isCreated&&t.actor&&g.WorldManager.Instance.DelActor(t.actor.guid)}),this._monsterArray=[],g.WorldManager.Instance.UITop.clearCurrentGameExp(),this._reloadWaveConfig=t,this._loopCreateMonsters=!1,this._isAllCreated=!1,this._currentWaveIndex>1&&(this._currentWaveIndex-=1,this._currentWaveIndex>1&&g.WorldManager.Instance.UITop.AddGameExpProgress(this._lastGameExp)),this.OnStartNextWave()},t.prototype.CreateMonster=function(t,e,o){if(a.DataManager.TablePlaneConfigDatasById[t]){var n={monsterID:t,monsterLevel:e,startTime:f.TimeManager.totalTime,createTime:0,isCreated:!1,actor:null,expProgress:0,userExp:0,posList:o};this._monsterArray.push(n)}},t}();o.IComputerLogic=b,cc._RF.pop()},{"../../base/App":"App","../../config/DataManager":"DataManager","../../global/GlobalOption":"GlobalOption","../../global/define":"define","../../global/enums":"enums","../../module/SoundManage":"SoundManage","../AI/move_attack/Action_MA_JGLJJ":"Action_MA_JGLJJ","../GameManager":"GameManager","../TimeManager":"TimeManager","../WorldManager":"WorldManager","../actors/ActorDefine":"ActorDefine","../prop/PropDefine":"PropDefine","../ui/UIWaveEditor":"UIWaveEditor","./xLoader":"xLoader"}],IEffect:[function(t,e,o){"use strict";cc._RF.push(e,"319acS+7GJAMptRZxH0p3Ai","IEffect"),Object.defineProperty(o,"__esModule",{value:!0}),o.IEffect=void 0;var n=function(){function t(){this.guid=0,this._Reached=!1,this._xData=null}return t.prototype.Init=function(t){this._xData=t,this._Reached=!1},t.prototype.IsReach=function(){return this._Reached},t.prototype.OnReach=function(t){void 0===t&&(t=!1),this._Reached||(this._Reached=!0,!t&&this._xData.ReachCall&&this._xData.ReachCall(this))},t}();o.IEffect=n,cc._RF.pop()},{}],INavigate:[function(t,e,o){"use strict";cc._RF.push(e,"237b7SBjA5OK7x9p9xFaZL5","INavigate"),Object.defineProperty(o,"__esModule",{value:!0}),o.INavigate=void 0;var n=function(){function t(){this.guid=0,this._actor=null,this._goalInfo=null,this._isNav=!1,this._rechCallBack=null}return Object.defineProperty(t.prototype,"GoalInfo",{get:function(){return this._goalInfo},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNav",{get:function(){return this._isNav},set:function(t){this._isNav=t},enumerable:!1,configurable:!0}),t.prototype.Init=function(t){this._actor=t},t.prototype.Release=function(){this.guid=0,this._actor=null,this._goalInfo=null,this._isNav=!1},t.prototype.SetGoal=function(t,e){this._goalInfo=t,this._rechCallBack=e},t.prototype.IsOutBounds=function(t){var e=cc.winSize.width/2,o=cc.winSize.height/2;return Math.abs(t.x)>e&&(t.x=t.x<0?-e:e),Math.abs(t.y)>o&&(t.y=t.y<0?-o:o),t},t.prototype.IsReached=function(){return this.isNav},t.prototype.OnReach=function(){this.isNav=!1,this._rechCallBack&&this._rechCallBack()},t}();o.INavigate=n,cc._RF.pop()},{}],IProp:[function(t,e,o){"use strict";cc._RF.push(e,"17721GN9fRHwaPaZd7YVWEl","IProp"),Object.defineProperty(o,"__esModule",{value:!0}),o.IProp=void 0;var n=t("../../config/DataManager"),i=t("../../global/enums"),r=t("../actors/ActorDefine"),a=t("../WorldManager"),c=t("./PropDefine"),s=t("../collision/LQReplace"),_=t("../../../lq_collide_system/lq_collide_config"),l=t("../../module/NodePool"),p=function(){function t(){this.node=null,this.guid=0,this.PropID=c.PropID.invalid,this._Reached=!1,this._XData=null,this.CollisionType=r.CollisionType.CT_CIRCLE,this._EffectSys=null,this._EffectGUID=-1,this.PropConfig=null}return Object.defineProperty(t.prototype,"XData",{get:function(){return this._XData},enumerable:!1,configurable:!0}),t.prototype.Init=function(t,e){this.node=e,this._XData=t,this._EffectSys=a.WorldManager.Instance.EffectSystem,this.PropID=t.prop_id,this.node.zIndex=i.ZIndex.ZI_PROP;var o=n.DataManager.TablePropConfigDatasById[t.prop_id];if(this.CollisionType=o.collision_type,this.PropConfig=o,o.effect_script){var r={TargetNode:this.node};this._EffectGUID=this._EffectSys.AddEffect(o.effect_script,r)}this.AddCollide()},t.prototype.AddCollide=function(){var t={guid:this.guid,group_index:_.LQCollideConfig.collide_group_map.prop.index,is_open_func:!1,onEnter:this.onCollideEnter.bind(this),onCollide:this.onCollide.bind(this),onExit:this.onCollideExit.bind(this)};s.LQReplace.replave(this.node,t)},t.prototype.onCollideEnter=function(){},t.prototype.onCollide=function(){},t.prototype.onCollideExit=function(){},t.prototype.Release=function(){l.NodePool.put(this.node),this.node=null,this.guid=0,this.PropID=c.PropID.invalid,this._Reached=!1,this._XData=null,this.CollisionType=r.CollisionType.CT_CIRCLE,this._EffectSys=null,this._EffectGUID=-1,this.PropConfig=null},t.prototype.IsReach=function(){return this._Reached},t.prototype.OnReach=function(){this._Reached=!0,this._EffectSys.RemoveEffect(this._EffectGUID)},t}();o.IProp=p,cc._RF.pop()},{"../../../lq_collide_system/lq_collide_config":"lq_collide_config","../../config/DataManager":"DataManager","../../global/enums":"enums","../../module/NodePool":"NodePool","../WorldManager":"WorldManager","../actors/ActorDefine":"ActorDefine","../collision/LQReplace":"LQReplace","./PropDefine":"PropDefine"}],InputSystem:[function(t,e,o){"use strict";cc._RF.push(e,"9d47dz0M39NworNOavOCrRp","InputSystem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.InputSystem=void 0;var r=t("../../global/enums"),a=t("../actors/ActorAI"),c=t("../actors/ActorCommand"),s=t("../actors/ActorNav"),_=t("../cmd/CommandMove"),l=t("../GameManager"),p=t("../WorldManager"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isPause=!1,e._InputNode=null,e._StartPos=cc.v2(),e}return i(e,t),e.prototype.Init=function(){this._InputNode=new cc.Node,this._InputNode.parent=this.node,this._InputNode.zIndex=r.ZIndex.ZI_MAP,this._InputNode.width=cc.winSize.width,this._InputNode.height=cc.winSize.height,this._InputNode.on(cc.Node.EventType.TOUCH_START,this.onEventTouchStart.bind(this)),this._InputNode.on(cc.Node.EventType.TOUCH_MOVE,this.onEventTouchMove.bind(this)),this._InputNode.on(cc.Node.EventType.TOUCH_END,this.onEventTouchEnd.bind(this)),this._InputNode.on(cc.Node.EventType.TOUCH_CANCEL,this.onEventTouchCancel.bind(this))},e.prototype.Execute=function(){},e.prototype.Pause=function(){this._isPause=!0,p.WorldManager.Instance.Map.isInTouch=!1},e.prototype.Restore=function(){this._isPause=!1},e.prototype.onEventTouchStart=function(){if(!this._isPause&&l.default.Instance.currentState==r.GameState.in_game){var t=l.default.Instance.Player1.MainWeapon;null!=t&&(p.WorldManager.Instance.Map.isInTouch=!0,this._StartPos=t.node.getPosition())}},e.prototype.onEventTouchMove=function(t){this._isPause||(l.default.Instance.currentState==r.GameState.in_game?this.PerformInput(t.getDelta()):p.WorldManager.Instance.Map.isInTouch=!1)},e.prototype.onEventTouchEnd=function(){this._isPause||(this.PerformInput(null),p.WorldManager.Instance.Map.isInTouch=!1)},e.prototype.onEventTouchCancel=function(){this._isPause||(p.WorldManager.Instance.Map.isInTouch=!1)},e.prototype.PerformInput=function(t){var e,o,n;if(l.default.Instance.currentState==r.GameState.in_game){var i=l.default.Instance.Player1.MainWeapon;i&&0==i.IsDead()&&(t?(this._StartPos=this._StartPos.add(t),null===(o=i.Get(a.ActorAI))||void 0===o||o.Pause(),null===(n=i.Get(c.ActorCommand))||void 0===n||n.GetCmd(_.CommandMove).Update(cc.v3(this._StartPos)).Do()):null===(e=i.Get(s.ActorNav))||void 0===e||e.Stop())}},e}(cc.Component);o.InputSystem=u,cc._RF.pop()},{"../../global/enums":"enums","../GameManager":"GameManager","../WorldManager":"WorldManager","../actors/ActorAI":"ActorAI","../actors/ActorCommand":"ActorCommand","../actors/ActorNav":"ActorNav","../cmd/CommandMove":"CommandMove"}],InstanceBase:[function(t,e,o){"use strict";cc._RF.push(e,"2e034fOu0dGHZ93eRRl9SIq","InstanceBase"),Object.defineProperty(o,"__esModule",{value:!0}),o.InstanceBase=void 0;var n=function(){function t(){if(!t.CONSTRUCTOR)throw new Error("单例类型不允许使用构造方法");t.CONSTRUCTOR=!1}return t.getInstance=function(e){return t.CONSTRUCTOR=!0,new e},t.CONSTRUCTOR=!1,t}();o.InstanceBase=n,cc._RF.pop()},{}],LQReplace:[function(t,e,o){"use strict";cc._RF.push(e,"dc454vGQl9G/LfbPUNa9OuU","LQReplace"),Object.defineProperty(o,"__esModule",{value:!0}),o.LQReplace=void 0;var n=t("../../../lq_base/data/lq_const"),i=t("../../../lq_collide_system/lq_collide"),r=t("../../../lq_collide_system/lq_collide_base"),a=t("../WorldManager"),c=function(){function t(){}return t.replave=function(e,o){null==e.getComponent(r.LQCollideBase)&&e.addComponent(r.LQCollideBase);var n=e.getComponent(i.LQCollide);n.draw_collide=!1,n.Guid=o.guid,n.collide_group_index=o.group_index,n.is_open_func=o.is_open_func,n.onExitCall=o.onExit,n.onCollideCall=o.onCollide,n.onEnterCall=o.onEnter,t.update(e),n.init()},t.update=function(t){var e=t.getComponent(i.LQCollide);if(null!=e){var o=t.getComponent(cc.PolygonCollider),r=t.getComponent(cc.CircleCollider);if(o)e.collide_shape=n.LQCollideShape.Polygon,e.polygon_points=o.points;else if(r)e.collide_shape=n.LQCollideShape.Circle,e.radius=r.radius;else if(t.getChildByName("node_location_1")){for(var c=1,s=[];;){var _=t.getChildByName("node_location_"+c);if(!_)break;var l=_.convertToWorldSpaceAR(cc.v2());l=a.WorldManager.Instance.node.convertToNodeSpaceAR(l),s.push(_.getPosition()),c+=1}e.collide_shape=n.LQCollideShape.Polygon,e.polygon_points=s}else{var p=t.getContentSize(),u=t.getAnchorPoint();e.collide_shape=n.LQCollideShape.Rect,e.offset.x=p.width*(.5-u.x),e.offset.y=p.height*(.5-u.y),e.size=p}}},t}();o.LQReplace=c,cc._RF.pop()},{"../../../lq_base/data/lq_const":"lq_const","../../../lq_collide_system/lq_collide":"lq_collide","../../../lq_collide_system/lq_collide_base":"lq_collide_base","../WorldManager":"WorldManager"}],LauncherScene:[function(t,e,o){"use strict";cc._RF.push(e,"a0a52oCy4xGC6k4sKscu+fc","LauncherScene");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../global/define"),_=t("../record/GameInfoRecord"),l=t("../record/WealthRecord"),p=t("../utils/LoadManager"),u=t("../record/DataPool"),d=t("../record/RecordManager"),h=t("../base/extends/GameException"),f=t("../module/SoundManage"),y=t("../global/GlobaLocalData"),g=t("../ads/HelpMgr"),v=cc._decorator,b=v.ccclass,m=v.property,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressBarView=null,e.node_star=null,e.textTip=null,e.textFirstHint=null,e.sp_star=null,e._loginFinished=!1,e._loadFinished=!1,e}return i(e,t),e.prototype.onLoad=function(){cc.log("LauncherScene onload"),g.default.instance.init(),s.Define.isWeChat()},e.prototype.start=function(){return a(this,void 0,void 0,function(){var t,e,o=this;return c(this,function(){return cc.log("LauncherScene start"),t=y.GlobaLocalData.instance.IsFirst(),this.textFirstHint.node.active=t,this.progressBarView.node.zIndex=10,this.progressBarView.progress=0,f.SoundManage.instance.UpdateData(),this.CreateStar(),this.PlayMeteorShower(),this.login(),e=[{type:p.LoadType.lt_child_package,path:"resources_01"},{type:p.LoadType.lt_child_package,path:"resources_02"},{type:p.LoadType.lt_cp_res,path:"image/bg",package_name:"resources_01"},{type:p.LoadType.lt_cp_res,path:"image/box",package_name:"resources_01"},{type:p.LoadType.lt_cp_res,path:"image/game",package_name:"resources_01"},{type:p.LoadType.lt_cp_res,path:"prefab/public",package_name:"resources_01"},{type:p.LoadType.lt_cp_res,path:"prefab/hall",package_name:"resources_01"},{type:p.LoadType.lt_cp_res,path:"prefab/game",package_name:"resources_01"},{type:p.LoadType.lt_cp_res,path:"behavior_tree",package_name:"resources_01"},{type:p.LoadType.lt_cp_res,path:"config",package_name:"resources_01"},{type:p.LoadType.lt_cp_res,path:"sounds",package_name:"resources_02"}],p.LoadManager.load(e,function(){o.UpdateInfo("The game is loading   ",1,function(){o._loadFinished=!0,o.checkStatus()})},function(t){o.UpdateInfo("The game is loading   ",t,null)},function(t){console.error("error:"+t),o.UpdateInfo("error",o.progressBarView.progress,null)}),this.UpdateInfo("The game is loading   ",.2,null,1),[2]})})},e.prototype.UpdateInfo=function(t,e,o,n){var i=this;void 0===n&&(n=null),cc.Tween.stopAllByTarget(this.progressBarView);var r=this.progressBarView.progress;e<r&&(e=r);var a=Math.floor(100*(e-r));null==n&&(n=1/a),cc.tween(this.progressBarView).repeat(a,cc.tween(this.progressBarView).delay(n).call(function(){r<e&&(r+=.01),i.progressBarView.progress=r,i.textTip.string=t+Math.floor(100*r)+"%"})).call(function(){o&&o()}).start()},e.prototype.login=function(){return a(this,void 0,void 0,function(){return c(this,function(){return s.Define.isWeChat(),this._loginFinished=!0,this.checkStatus(),[2]})})},e.prototype.checkStatus=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:if(!this._loginFinished||!this._loadFinished)return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,d.RecordManager.instance.LoadData()];case 2:return t.sent(),[3,4];case 3:throw t.sent(),new h.GameException(-1,"加载存档失败");case 4:try{u.DataPool.instance.load()}catch(e){throw new h.GameException(-1,"加载用户数据出错")}return l.WealthRecord.instance,1==_.GameInfoRecord.instance.openGameCount&&(_.GameInfoRecord.instance.openGameCount=2),cc.director.loadScene("MainScene"),[3,6];case 5:this._loadFinished&&(this.textTip.string="登录中...."),t.label=6;case 6:return[2]}})})},e.prototype.onDestroy=function(){},e.prototype.CreateStar=function(){for(var t=cc.winSize.width,e=cc.winSize.height,o=0;o<33;o++){var n=150*Math.random()+105,i=cc.instantiate(this.sp_star);i.parent=this.node,i.x=Math.random()*t-t/2,i.y=Math.random()*e-e/2,i.opacity=n}var r=function(){var o=150*Math.random()+105,n=cc.instantiate(a.sp_star);n.parent=a.node,n.x=Math.random()*t-t/2,n.y=Math.random()*e-e/2,n.opacity=o,cc.tween(n).delay(5*Math.random()).call(function(){cc.tween(n).repeatForever(cc.tween(n).delay(2).to(.8,{opacity:0}).call(function(){n.x=Math.random()*t-t/2,n.y=Math.random()*e-e/2}).to(.8,{opacity:o})).start()}).start()},a=this;for(o=0;o<33;o++)r()},e.prototype.PlayMeteorShower=function(){for(var t=cc.winSize.width,e=cc.winSize.height,o=function(){var o=cc.instantiate(n.node_star),i=Math.random()*t+t/2,r=Math.random()*e+e/2-300;o.parent=n.node,o.zIndex=1,o.x=i,o.y=r,o.opacity=255;var a=cc.v2(o.x-1500,o.y-1e3),c=5*Math.random();cc.tween(o).repeatForever(cc.tween(o).delay(c).call(function(){o.active=!1,o.x=i,o.y=r}).call(function(){o.active=!0}).to(1.5,{x:a.x,y:a.y}).delay(3)).start()},n=this,i=0;i<5;i++)o()},r([m(cc.ProgressBar)],e.prototype,"progressBarView",void 0),r([m(cc.Node)],e.prototype,"node_star",void 0),r([m(cc.Label)],e.prototype,"textTip",void 0),r([m(cc.Label)],e.prototype,"textFirstHint",void 0),r([m(cc.Node)],e.prototype,"sp_star",void 0),r([b],e)}(cc.Component);o.default=A,cc._RF.pop()},{"../ads/HelpMgr":"HelpMgr","../base/extends/GameException":"GameException","../global/GlobaLocalData":"GlobaLocalData","../global/define":"define","../module/SoundManage":"SoundManage","../record/DataPool":"DataPool","../record/GameInfoRecord":"GameInfoRecord","../record/RecordManager":"RecordManager","../record/WealthRecord":"WealthRecord","../utils/LoadManager":"LoadManager"}],ListViewEx:[function(t,e,o){"use strict";cc._RF.push(e,"635a7wFcXZLjq+9HaNTNWmA","ListViewEx");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.DirectionType=void 0;var a,c=cc._decorator,s=c.ccclass,_=c.property;(function(t){t[t.DT_Undefined=0]="DT_Undefined",t[t.DT_Up=1]="DT_Up",t[t.DT_Down=2]="DT_Down",t[t.DT_LEFT=3]="DT_LEFT",t[t.DT_RIGHT=4]="DT_RIGHT"})(a=o.DirectionType||(o.DirectionType={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeItemList=[],e._touchBeginPos=cc.v2(0,0),e._startTouchTime=null,e._touchMoveDistance=0,e._currentMoveSpeed=0,e._currentMoveDirection=a.DT_Undefined,e._inTouch=!1,e._itemInterval=0,e._dataList=null,e._updateDateCall=null,e._beginIndex=-1,e._endIndex=-1,e._limitDirection=a.DT_Undefined,e._collisionCheckPos=cc.v2(0,0),e}return i(e,t),Object.defineProperty(e.prototype,"dataList",{get:function(){return this._dataList},set:function(t){this._dataList=t},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.nodeItemList.length<3?console.error("ERROR: 至少需要3个Item才能使用!"):(this._itemInterval=this.nodeItemList[1].y-this.nodeItemList[0].y,this.nodeItemList.forEach(function(t){t.active=!1}))},e.prototype.start=function(){},e.prototype.BindData=function(t,e){this._dataList=t,this._updateDateCall=e,this.InitView(),this.AddTouchEvent(this.node)},e.prototype.InitView=function(){this._beginIndex=0;for(var t=Math.min(this.nodeItemList.length,this._dataList.length),e=0;e<t;e++)this._endIndex++,this.nodeItemList[e].active=!0,this._updateDateCall&&this._updateDateCall(e,this._dataList[e],this.nodeItemList[e])},e.prototype.AddTouchEvent=function(t){t.on(cc.Node.EventType.TOUCH_START,this.onEventStart,this),t.on(cc.Node.EventType.TOUCH_MOVE,this.onEventMove,this),t.on(cc.Node.EventType.TOUCH_END,this.onEventEnd,this),t.on(cc.Node.EventType.TOUCH_CANCEL,this.onEventCancel,this)},e.prototype.RemoveTouchEvent=function(t){t.off(cc.Node.EventType.TOUCH_START,this.onEventStart,this),t.off(cc.Node.EventType.TOUCH_MOVE,this.onEventMove,this),t.off(cc.Node.EventType.TOUCH_END,this.onEventEnd,this),t.off(cc.Node.EventType.TOUCH_CANCEL,this.onEventCancel,this)},e.prototype.onEventStart=function(t){return this._touchBeginPos=t.getLocation(),this._startTouchTime=new Date,this._touchMoveDistance=0,this._currentMoveSpeed=0,this._currentMoveDirection=a.DT_Undefined,!0},e.prototype.onEventMove=function(t){var e=a.DT_Undefined;(e=Math.abs(t.getDelta().x)>Math.abs(t.getDelta().y)?t.getDelta().x<0?a.DT_LEFT:a.DT_RIGHT:t.getDelta().y<0?a.DT_Down:a.DT_Up)!=a.DT_Down&&e!=a.DT_Up||(this._limitDirection!=this._currentMoveDirection&&(this._limitDirection=a.DT_Undefined),this._currentMoveDirection=e,this._touchMoveDistance+=t.getDelta().y,this.updateCollisionCheckPos(e),this.updatePos(t.getDelta().y,this._currentMoveDirection))},e.prototype.onEventEnd=function(t){var e=t.getLocation(),o=this._touchBeginPos.x-e.x,n=this._touchBeginPos.y-e.y;if(Math.abs(o)<=40&&Math.abs(n)<=40)this._currentMoveDirection=a.DT_Undefined;else{var i=(new Date).getTime()-this._startTouchTime.getTime();this._currentMoveSpeed=Math.abs(this._touchMoveDistance)/i*(1e3/60),this._currentMoveSpeed=Math.min(this._currentMoveSpeed,90)}},e.prototype.onEventCancel=function(t){this.onEventEnd(t)},e.prototype.updateCollisionCheckPos=function(t){t==a.DT_Down?this._collisionCheckPos=this.nodeItemList[this.nodeItemList.length-1].convertToWorldSpaceAR(cc.v2(0,0)):t==a.DT_Up&&(this._collisionCheckPos=this.nodeItemList[0].convertToWorldSpaceAR(cc.v2(0,0)))},e.prototype.updatePos=function(t,e){this._limitDirection!=e&&(this.nodeItemList.forEach(function(e){e.y+=t}),this.checkBoundary(),this.updateCollisionCheckPos(e))},e.prototype.update=function(){this._inTouch||this._currentMoveDirection==a.DT_Undefined||this._currentMoveSpeed>0&&(this._currentMoveDirection==a.DT_Up?this.updatePos(this._currentMoveSpeed,this._currentMoveDirection):this._currentMoveDirection==a.DT_Down&&this.updatePos(-this._currentMoveSpeed,this._currentMoveDirection),this._currentMoveSpeed-=1,this._currentMoveSpeed=Math.max(this._currentMoveSpeed,0))},e.prototype.checkBoundary=function(){if(this._currentMoveDirection==a.DT_Undefined)return!1;var t=this.node.convertToWorldSpaceAR(cc.v2(0,0)),e=cc.rect(t.x,t.y,this.node.width,this.node.height);if(this._currentMoveDirection==a.DT_Up&&e.contains(this._collisionCheckPos)){if(this._beginIndex<=0)return this._limitDirection=this._currentMoveDirection,!1;this._beginIndex--,this._endIndex--,console.log("this._endIndex1:"+this._endIndex),this._updateDateCall&&this._updateDateCall(this._beginIndex,this._dataList[this._beginIndex],this.nodeItemList[this.nodeItemList.length-1]);for(var o=this.nodeItemList[this.nodeItemList.length-1],n=this.nodeItemList.length-2;n>=0;n--)this.nodeItemList[n+1]=this.nodeItemList[n];return this.nodeItemList[0]=o,o.y=this.nodeItemList[1].y-this._itemInterval,!0}if(this._currentMoveDirection==a.DT_Down&&e.contains(this._collisionCheckPos)){if(this._endIndex>=this._dataList.length||this._endIndex<0)return this._limitDirection=this._currentMoveDirection,!1;for(this._beginIndex++,this._endIndex++,this._updateDateCall&&this._updateDateCall(this._endIndex,this._dataList[this._endIndex],this.nodeItemList[0]),o=this.nodeItemList[0],n=1;n<this.nodeItemList.length;n++)this.nodeItemList[n-1]=this.nodeItemList[n];return this.nodeItemList[this.nodeItemList.length-1]=o,o.y=this.nodeItemList[this.nodeItemList.length-2].y+this._itemInterval,!0}return!1},e.test=2,r([_([cc.Node])],e.prototype,"nodeItemList",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],LoadManager:[function(t,e,o){"use strict";cc._RF.push(e,"ee8b0lJJyZBKbgg+yT8V/kh","LoadManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LoadManager=o.LoadType=void 0;var r,a=t("../base/InstanceBase");(function(t){t.lt_child_package="LoadType.child_package",t.lt_cp_res="LoadType.lt_cp_res",t.lt_main_res="LoadType.lt_main_res"})(r=o.LoadType||(o.LoadType={}));var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._LoadList=null,e._ProgressCall=null,e._FinishedCall=null,e._ErrorCall=null,e._CurrentIndex=0,e._ChildPackageList=[],e}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return e.INSTANCE||(e.INSTANCE=a.InstanceBase.getInstance(e))},enumerable:!1,configurable:!0}),e.prototype.Load=function(t,e,o,n){this._LoadList=t,this._ProgressCall=o,this._FinishedCall=e,this._ErrorCall=n,this.LoadNextRes()},e.prototype.LoadNextRes=function(){var t=this;if(this._CurrentIndex>=this._LoadList.length)this._FinishedCall();else{this._ProgressCall(this._CurrentIndex/this._LoadList.length,this._CurrentIndex,this._LoadList.length);var e=this._LoadList[this._CurrentIndex];if(e.type==r.lt_child_package&&cc.assetManager.loadBundle(e.path,function(o,n){o?t._ErrorCall(o):(t._ChildPackageList.push({path:e.path,bundle:n}),t._CurrentIndex+=1,t.LoadNextRes())}),e.type==r.lt_cp_res){var o=this._ChildPackageList.find(function(t){return t.path==e.package_name});o?o.bundle.loadDir(e.path,function(e){e?t._ErrorCall(e):(t._CurrentIndex+=1,t.LoadNextRes())}):this._ErrorCall("ERROR: 子包不存在:"+e.package_name)}e.type==r.lt_main_res&&cc.resources.loadDir(e.path,function(e){e?t._ErrorCall(e):(t._CurrentIndex+=1,t.LoadNextRes())})}},e.prototype.Get=function(t){for(var e=0;e<this._ChildPackageList.length;e++){var o=this._ChildPackageList[e].bundle.get(t);if(o)return o}return cc.resources.get(t)},e.load=function(t,o,n,i){return e.instance.Load(t,o,n,i)},e.get=function(t){return e.instance.Get(t)},e}(a.InstanceBase);o.LoadManager=c,cc._RF.pop()},{"../base/InstanceBase":"InstanceBase"}],LoadingLayer:[function(t,e,o){"use strict";cc._RF.push(e,"abd76V2bxdOc71vMcDVKrMy","LoadingLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LoadingLayer=void 0;var a=t("../../ads/HelpMgr"),c=cc._decorator,s=c.ccclass,_=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spLoading1=null,e.spLoading2=null,e.spLoading3=null,e.textHint=null,e._CurProgress=0,e._CurHint="",e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){a.default.instance.init(),cc.tween(this.spLoading1.node).repeatForever(cc.tween(this.spLoading1.node).by(1.1,{angle:-360})).start(),cc.tween(this.spLoading2.node).repeatForever(cc.tween(this.spLoading2.node).by(1.1,{angle:360})).start(),cc.tween(this.spLoading3.node).repeatForever(cc.tween(this.spLoading3.node).by(1.1,{angle:-360})).start()},e.prototype.setHint=function(t,e){var o=this;this._CurHint=t,this.textHint.string=t,1==e&&(this._CurProgress=0,cc.tween(this.textHint.node).repeat(100,cc.tween(this.textHint.node).delay(.03).call(function(){o._CurProgress<100&&(o._CurProgress+=1),o.textHint.string=o._CurHint+"("+o._CurProgress+"%)"})).start())},r([_(cc.Sprite)],e.prototype,"spLoading1",void 0),r([_(cc.Sprite)],e.prototype,"spLoading2",void 0),r([_(cc.Sprite)],e.prototype,"spLoading3",void 0),r([_(cc.Label)],e.prototype,"textHint",void 0),r([s],e)}(cc.Component);o.LoadingLayer=l,cc._RF.pop()},{"../../ads/HelpMgr":"HelpMgr"}],MainInit:[function(t,e,o){"use strict";cc._RF.push(e,"eadaf0ogtlIwZFMdodutQ7Z","MainInit");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./HelpMgr"),c=cc._decorator,s=c.ccclass,_=c.property,l=-1.23456,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_addzm=null,e.moreGameBtn=null,e.m_initY=l,e.m_time1=0,e.m_time=1,e}return i(e,t),e.prototype.onEnable=function(){a.default.instance.startLoad(1),this.onOVLoad()},e.prototype.update=function(t){this.updateA(t),this.updateShow(t)},e.prototype.updateShow=function(){},e.prototype.onOVLoad=function(){this.moreGameBtn.active=!1,this.m_addzm.active=!1,a.default.instance.init(),a.default.instance.endLoad(1),this.onShow(),this.m_time=1,a.default.instance.load_inner_interstitial_native(),a.default.instance.close_native_banner()},e.prototype.onShow=function(){if(a.default.instance.isOppo()&&1==a.default.instance.m_hallCount&&(a.default.instance.send_other_event(1002001,10020),this.updateShowDesBtn()),a.default.instance.m_hallCount>=1&&(a.default.instance.show_new_products(),"undefined"!=typeof qg)){var t=qg,e=this;this.schedule(function(){t.hasShortcutInstalled({success:function(t){console.log("添加桌面",t),e.m_addzm.active=1!=t}})},2)}a.default.instance.m_hallCount++},e.prototype.updateAds=function(){a.default.instance.m_adFinish?(this.moreGameBtn.active=a.default.instance.isOppoPush(),console.log("加载op广告 --------")):this.m_time=1},e.prototype.updateA=function(t){-1!=this.m_time&&(this.m_time-=t,this.m_time<=0&&(this.m_time=-1,this.updateAds()))},e.prototype.addShowDes=function(){a.default.instance.send_other_event(1002002,10020),this.updateShowDesBtn()},e.prototype.updateShowDesBtn=function(){if(this.m_addzm.active=!1,!(a.default.instance.m_hallCount<=0)&&"undefined"!=typeof qg){var t=qg;this.m_addzm.active=!0;var e=this;t.hasShortcutInstalled({success:function(o){0==o?t.installShortcut({success:function(e){console.log("installShortcut  success",e),setTimeout(function(){t.hasShortcutInstalled({success:function(t){1==t?a.default.instance.send_other_event(1002003,10020):a.default.instance.send_other_event(1002004,10020)}})},5e3)},fail:function(){console.log("installShortcut  fail"),a.default.instance.send_other_event(1002004,10020)},complete:function(){console.log("installShortcut  complete")}}):e.m_addzm.active=!1,console.log("看这---------  hasShortcutInstalled  success ",o)},fail:function(){console.log("hasShortcutInstalled  fail")},complete:function(){console.log("hasShortcutInstalled  complete")}})}},r([_({type:cc.Node,displayName:"添加桌面"})],e.prototype,"m_addzm",void 0),r([_({type:cc.Node,displayName:"更多好玩"})],e.prototype,"moreGameBtn",void 0),r([s],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./HelpMgr":"HelpMgr"}],MainScene:[function(t,e,o){"use strict";cc._RF.push(e,"4bdadTj4vdINrMWwql7pe/U","MainScene");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../global/enums"),c=t("../base/App"),s=t("../prefab/public/ModalWindow"),_=t("../prefab/public/GuideAuthorizationUserInfo"),l=t("../global/define"),p=t("../module/SoundManage"),u=t("../logic/GameManager"),d=t("../record/MainWeaponStore"),h=t("../prefab/public/ReveiveAwardAni"),f=t("../record/WealthRecord"),y=t("../prefab/hall/nodeTopBG"),g=t("../utils/LoadManager"),v=t("../record/GameInfoRecord"),b=t("../record/ChapterInfo"),m=t("../ThirdParty/ThirdParty"),A=t("../ads/HelpMgr"),x=cc._decorator,C=x.ccclass,w=x.property,T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeGame=null,e.nodeFunction=null,e.textStartHint=null,e.btnStartChapter=null,e.firstGame=!1,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,c.App.notice.on(a.Authorization.NOTICE_UI_POP_MODALWINDOW,this.onEventPopModalWindow,this),c.App.notice.on(a.Authorization.NOTICE_UI_POP_GUIDE_AUTHORIZATION_USERINFO,this.onEventPopGuideAuthoirzationUserInfo,this),c.App.notice.on(a.GameEvent.chapter_finished,this.onEventLevelFinished,this),c.App.notice.on(a.GameEvent.chapter_failure,this.onEventLevelFailure,this),c.App.notice.on(a.GameEvent.chapter_pause,this.onEventLevelPause,this),c.App.notice.on(a.GameEvent.chapter_restore,this.onEventLevelRestore,this)},e.prototype.onDestroy=function(){c.App.notice.off(a.Authorization.NOTICE_UI_POP_MODALWINDOW,this.onEventPopModalWindow,this),c.App.notice.off(a.Authorization.NOTICE_UI_POP_GUIDE_AUTHORIZATION_USERINFO,this.onEventPopGuideAuthoirzationUserInfo,this),c.App.notice.off(a.GameEvent.chapter_finished,this.onEventLevelFinished,this),c.App.notice.off(a.GameEvent.chapter_failure,this.onEventLevelFailure,this),c.App.notice.off(a.GameEvent.chapter_pause,this.onEventLevelPause,this),c.App.notice.off(a.GameEvent.chapter_restore,this.onEventLevelRestore,this)},e.prototype.start=function(){p.SoundManage.instance.PlayMusic(a.GameSound.music_hall),null==d.MainWeaponStore.instance.getMainWeapon()&&d.MainWeaponStore.instance.setMainWeapon(1),this.nodeGame.addComponent(u.default),l.Define.BuriedPoint("进入大厅")},e.prototype.update=function(){},e.prototype.onEventStartGame=function(){var t=this;A.default.instance.playAdByWD(function(){var e=b.ChapterInfo.instance.currentChapter;b.ChapterInfo.instance.currentChapter>=5?l.Define.OutputMessage("This chapter is not open yet"):f.WealthRecord.instance.vitality<5?y.default.instance.ShowExchangeVitality(!0):(f.WealthRecord.instance.AddVitality(-5),h.default.PlauVitalityHint(t.btnStartChapter),t.EnterGame(a.GameModel.gm_chapter),l.Define.BuriedPoint("进入游戏：第"+e+"章"),l.Define.isWeChat())})},e.prototype.onEventStartEndless=function(){b.ChapterInfo.instance.GetLastChapter().chapter<3?l.Define.OutputMessage("Endless Mode: Unlocked after clearing Chapter 2"):v.GameInfoRecord.instance.endlessCount<=0?l.Define.OutputMessage("Endless mode can only be entered twice a day"):(v.GameInfoRecord.instance.endlessCount-=1,this.EnterGame(a.GameModel.gm_endless),l.Define.BuriedPoint("进入游戏：无尽模式"),l.Define.isWeChat())},e.prototype.EnterGame=function(t){p.SoundManage.instance.PlayMusic(a.GameSound.music_game),this.nodeFunction.active=!1,u.default.Instance.StartGame(t)},e.prototype.onEventPopModalWindow=function(t,e,o,n){l.Define.RemoveLoading();var i=g.LoadManager.get("prefab/public/ModalWindow");if(i){var r=cc.instantiate(i),a=r.getComponent(s.ModalWindow);a.setTitle(t),a.setContent(e),a.onStartCallBack=o,a.onCloseCallBack=n,this.node.addChild(r)}else console.error("ERROR: onEventPopModalWindow prefab = null")},e.prototype.onEventPopGuideAuthoirzationUserInfo=function(t){l.Define.RemoveLoading();var e=g.LoadManager.get("prefab/public/GuideAuthorizationUserInfo");if(e){var o=cc.instantiate(e);o.getComponent(_.GuideAuthorizationUserInfo).onCloseCallBack=t,this.node.addChild(o)}else console.error("ERROR: onEventPopGuideAuthoirzationUserInfo prefab = null")},e.prototype.onEventLevelStart=function(){},e.prototype.onEventLevelPause=function(){},e.prototype.onEventLevelRestore=function(){},e.prototype.onEventLevelFinished=function(){this.nodeFunction.active=!0,p.SoundManage.instance.PlayMusic(a.GameSound.music_hall),this.showInterstitialAd()},e.prototype.onEventLevelFailure=function(){this.nodeFunction.active=!0,p.SoundManage.instance.PlayMusic(a.GameSound.music_hall),this.showInterstitialAd()},e.prototype.showInterstitialAd=function(){o.instance.firstGame?y.default.instance.OpenFunction():cc.tween(this.node).delay(.5).call(function(){m.ThirdParty.instance.showInterstitialAd()}).start()},e.instance=null,r([w(cc.Node)],e.prototype,"nodeGame",void 0),r([w(cc.Node)],e.prototype,"nodeFunction",void 0),r([w(cc.Node)],e.prototype,"textStartHint",void 0),r([w(cc.Node)],e.prototype,"btnStartChapter",void 0),o=r([C],e)}(cc.Component);o.default=T,cc._RF.pop()},{"../ThirdParty/ThirdParty":"ThirdParty","../ads/HelpMgr":"HelpMgr","../base/App":"App","../global/define":"define","../global/enums":"enums","../logic/GameManager":"GameManager","../module/SoundManage":"SoundManage","../prefab/hall/nodeTopBG":"nodeTopBG","../prefab/public/GuideAuthorizationUserInfo":"GuideAuthorizationUserInfo","../prefab/public/ModalWindow":"ModalWindow","../prefab/public/ReveiveAwardAni":"ReveiveAwardAni","../record/ChapterInfo":"ChapterInfo","../record/GameInfoRecord":"GameInfoRecord","../record/MainWeaponStore":"MainWeaponStore","../record/WealthRecord":"WealthRecord","../utils/LoadManager":"LoadManager"}],MainWeaponStore:[function(t,e,o){"use strict";cc._RF.push(e,"b4c16ExW1FD+45RjavDickQ","MainWeaponStore");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.MainWeaponStore=void 0;var a=t("../base/extends/SerializeElement"),c=t("../config/DataManager"),s=t("../global/define"),_=t("../global/enums"),l=t("../logic/actors/ActorAttr"),p=t("../logic/actors/ActorDefine"),u=t("./DataPool"),d=t("./RecordManager"),h=function(t){function e(){var e=t.call(this)||this;return e._ball_record=null,e._demo_main_weapon_info=null,e}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return u.DataPool.instance.mainWeapon},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.load()||(this._ball_record={main_weapon_uuid:"",main_weapon_list:[]},this.push({main_weapon_id:1,lv:1}),this.setMainWeapon(1),this.save())},e.prototype.load=function(){var t=d.RecordManager.instance.read(_.DataRecord.MainWeapon);return!!t&&(this.fromRecord(t),!0)},e.prototype.save=function(){d.RecordManager.instance.save(_.DataRecord.MainWeapon,this.toRecord())},e.prototype.push=function(t){c.DataManager.TablePlaneConfigDatasById[t.main_weapon_id]&&(this._ball_record.main_weapon_list.find(function(e){return e.main_weapon_id==t.main_weapon_id})||(this._ball_record.main_weapon_list.push({uuid:s.Define.uuid(),main_weapon_id:t.main_weapon_id,lv:t.lv}),this.save()))},e.prototype.get=function(t){return"number"==typeof t?null!=this._demo_main_weapon_info&&t==this._demo_main_weapon_info.main_weapon_id?this._demo_main_weapon_info:this._ball_record.main_weapon_list.find(function(e){return e.main_weapon_id==t}):"string"==typeof t?null!=this._demo_main_weapon_info&&t==this._demo_main_weapon_info.uuid?this._demo_main_weapon_info:this._ball_record.main_weapon_list.find(function(e){return e.uuid==t}):null},e.prototype.setMainWeapon=function(t){if("number"==typeof t)(e=this._ball_record.main_weapon_list.find(function(e){return e.main_weapon_id==t}))&&(this._ball_record.main_weapon_uuid=e.uuid);else if("string"==typeof t){var e;(e=this._ball_record.main_weapon_list.find(function(e){return e.uuid==t}))&&(this._ball_record.main_weapon_uuid=e.uuid)}this.save()},e.prototype.getMainWeapon=function(){var t=this;return null!=this._demo_main_weapon_info?this._demo_main_weapon_info:""==this._ball_record.main_weapon_uuid?null:this._ball_record.main_weapon_list.find(function(e){return e.uuid==t._ball_record.main_weapon_uuid})},e.prototype.setDemoMainWeapon=function(t){this.clearDemoMainWeapon(),this._ball_record.main_weapon_list.find(function(e){return e.main_weapon_id==t})||(this._demo_main_weapon_info={uuid:s.Define.uuid(),main_weapon_id:t,lv:1})},e.prototype.clearDemoMainWeapon=function(){this._demo_main_weapon_info=null},e.prototype.isDemo=function(t){return null!=this._demo_main_weapon_info&&this._demo_main_weapon_info.main_weapon_id==t},e.prototype.upgrade=function(t){var e=this._ball_record.main_weapon_list.find(function(e){return e.main_weapon_id==t});return!!e&&(e.lv+=1,this.save(),!0)},e.calcuateConsume=function(t){var e=c.DataManager.TableMWUpgradeDatasById[1];return null==e?(console.error("ERROR: MainWeaponStore calcuateConsume config = null"),0):Math.floor(e.k1+e.k2*Math.pow(t,e.k3))},e.calcuateAtk=function(t,e){var o=c.DataManager.TablePlaneConfigDatasById[t];if(!o)return 0;var n=c.DataManager.TableMainWeaponDatasById[o.property_id];if(!n)return 0;var i=n.atk,r=n.grow_atk,a=n.factor_atk,s=e;return Math.floor(i*a+(s-1)*r*a)},e.calcuateHP=function(t,e){var o=c.DataManager.TablePlaneConfigDatasById[t];if(!o)return 0;var n=c.DataManager.TableMainWeaponDatasById[o.property_id];if(!n)return 0;var i=n.hp,r=n.grow_hp,a=n.factor_hp,s=e;return Math.floor(i*a+(s-1)*r*a)},e.calacuateSpecialAttr=function(t,o){var n=new l.ActorAttr;n.setDefaultAttr();var i=c.DataManager.TablePlaneConfigDatasById[t];if(!i)return n;var r=c.DataManager["TableMainWeaponID_"+i.property_id+"DatasArray"];if(null==r)return n;var a=e.calcuateHP(t,o),s=e.calcuateAtk(t,o);r.forEach(function(t){if(!(o<t.begin_level)){var e=t.end_level+1-t.begin_level;o<t.end_level&&(e=o+1-t.begin_level);var i=Math.floor(e*t.atk_level_up),r=n.getAttr(p.EAttrID.EA_ATK);n.setAttr(p.EAttrID.EA_ATK,r+i);var a=Math.floor(e*t.hp_level_up),c=n.getAttr(p.EAttrID.EA_HP);n.setAttr(p.EAttrID.EA_HP,c+a)}});var _=null;if(r.forEach(function(t){o<t.begin_level||(null==_||_.begin_level<t.begin_level)&&(_=t)}),_.hp_percent_up>0){var u=Math.floor(a*_.hp_percent_up),d=n.getAttr(p.EAttrID.EA_HP);n.setAttr(p.EAttrID.EA_HP,d+u)}if(_.atk_percent_up>0){var h=Math.floor(s*_.atk_percent_up),f=n.getAttr(p.EAttrID.EA_ATK);n.setAttr(p.EAttrID.EA_ATK,f+h)}if(_.bullet_through_up>0||-1==_.bullet_through_up){var y=_.bullet_through_up;n.setAttr(p.EAttrID.EA_BULLET_THROUGH,y)}if(_.bullet_time_up>0||-1==_.bullet_time_up){var g=_.bullet_time_up;n.setAttr(p.EAttrID.EA_BULLET_TIME,g)}if(_.bullet_trace_up>0||-1==_.bullet_trace_up){var v=_.bullet_trace_up;n.setAttr(p.EAttrID.EA_BULLET_TRACE,v)}return n},r([a.Record("MainWeaponRecord")],e.prototype,"_ball_record",void 0),e}(a.SerializeElement);o.MainWeaponStore=h,cc._RF.pop()},{"../base/extends/SerializeElement":"SerializeElement","../config/DataManager":"DataManager","../global/define":"define","../global/enums":"enums","../logic/actors/ActorAttr":"ActorAttr","../logic/actors/ActorDefine":"ActorDefine","./DataPool":"DataPool","./RecordManager":"RecordManager"}],MapChapterAni:[function(t,e,o){"use strict";cc._RF.push(e,"340c0F1VaFJBb0XJhcnxZr5","MapChapterAni");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.MapChapterAni=void 0;var a=t("../TimeManager"),c=cc._decorator,s=c.ccclass,_=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._textureList=[],e._rotateSpeed=15,e._downSpeed=90,e}return i(e,t),e.prototype.start=function(){this.InitAni()},e.prototype.Execute=function(){var t=this.node.getChildByName("sp_bg"),e=this.node.getContentSize(),o=t.getContentSize(),n=Math.max(e.width/o.width,e.height/o.height);t.scale=n,this.ExecuteAni()},e.prototype.InitAni=function(){for(var t=1;;){var e=this.node.getChildByName("sp_texture_"+t);if(!e)break;var o=Math.sqrt(Math.pow(e.width,2)+Math.pow(e.height,2))/2;this.RandomPos(e,o),e.active=!1,this._textureList.push({node:e,maxDiameter:o,moveYSpeed:this._downSpeed,angleSpeed:20*Math.random()+this._rotateSpeed}),t++}},e.prototype.ExecuteAni=function(){if(!(this._textureList.length<=0)){for(var t=this.node.getContentSize(),e=a.TimeManager.deltaTime,o=0;o<this._textureList.length;o++)if((i=this._textureList[o]).node.active)i.node.angle-=i.angleSpeed*e,i.node.y-=i.moveYSpeed*e;else if(0==o)i.node.active=!0;else{var n=this._textureList[o-1];n.node.active&&n.node.y+n.maxDiameter<t.height/2&&(i.node.active=!0,this.RandomPos(i.node,i.maxDiameter))}for(;;){var i;if(!((i=this._textureList[0]).node.y+i.maxDiameter<-t.height/2))break;i.node.active=!1,this._textureList.splice(0,1),this._textureList.push(i)}}},e.prototype.RandomPos=function(t,e){var o=this.node.getContentSize(),n=cc.winSize.width+200;t.x=Math.random()*n-n/2,t.y=o.height/2+e},r([s],e)}(cc.Component));o.MapChapterAni=_,cc._RF.pop()},{"../TimeManager":"TimeManager"}],MapSystem:[function(t,e,o){"use strict";cc._RF.push(e,"fed14ddDlFP3oP9MFb8KcQS","MapSystem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.MapSystem=void 0;var a=t("../../config/DataManager"),c=t("../../record/ChapterInfo"),s=t("../../utils/LoadManager"),_=t("../GameManager"),l=t("../TimeManager"),p=t("./MapChapterAni"),u=cc._decorator,d=u.ccclass,h=(u.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.OnLoadFinish=null,e.isInTouch=!1,e._lastPos=null,e._MapNode=null,e._lastStateX=0,e._lastStateY=0,e._moveXSpeed=130,e._moveYSpeed=40,e}return i(e,t),e.prototype.LoadMap=function(){this.UpdateMap(),this.OnLoadFinish&&this.OnLoadFinish()},e.prototype.UpdateMap=function(){this._MapNode&&(this._MapNode.destroy(),this._MapNode=null);var t=c.ChapterInfo.instance.currentChapter,e=a.DataManager.TableChapterInfoDatasById[t];if(e){var o=s.LoadManager.get(e.map_path);o&&(this._MapNode=cc.instantiate(o),this._MapNode.x=0,this._MapNode.y=0,this._MapNode.parent=this.node)}},e.prototype.Execute=function(){if(null!=this._MapNode){var t=_.default.Instance.Player1.MainWeapon,e=null!=t?t.Pos2D:cc.v2();this.isInTouch?null==this._lastPos&&(this._lastPos=e):this._lastPos=null,this._MapNode.getComponent(p.MapChapterAni).Execute();var o=l.TimeManager.deltaTime;this.isInTouch&&this._lastPos&&(this._lastPos.x<e.x?(this._MapNode.x-=this._moveXSpeed*o,this._lastStateX=1):this._lastPos.x>e.x?(this._MapNode.x+=this._moveXSpeed*o,this._lastStateX=2):1==this._lastStateX?this._MapNode.x-=this._moveXSpeed*o/4:2==this._lastStateX&&(this._MapNode.x+=this._moveXSpeed*o/4)),this.isInTouch&&this._lastPos&&(this._lastPos.y<e.y?(this._MapNode.y-=this._moveYSpeed*o,this._lastStateY=1):this._lastPos.y>e.y?(this._MapNode.y+=this._moveYSpeed*o,this._lastStateY=2):1==this._lastStateY?this._MapNode.y-=this._moveYSpeed*o/2:2==this._lastStateY&&(this._MapNode.y+=this._moveYSpeed*o/2)),this._MapNode.width/2-Math.abs(this._MapNode.x)<cc.winSize.width/2&&(this._MapNode.x>0?this._MapNode.x=this._MapNode.width/2-cc.winSize.width/2:this._MapNode.x=-(this._MapNode.width/2-cc.winSize.width/2)),this._MapNode.height/2-Math.abs(this._MapNode.y)<cc.winSize.height/2&&(this._MapNode.y>0?this._MapNode.y=this._MapNode.height/2-cc.winSize.height/2:this._MapNode.y=-(this._MapNode.height/2-cc.winSize.height/2)),this.isInTouch&&(this._lastPos=e)}},r([d],e)}(cc.Component));o.MapSystem=h,cc._RF.pop()},{"../../config/DataManager":"DataManager","../../record/ChapterInfo":"ChapterInfo","../../utils/LoadManager":"LoadManager","../GameManager":"GameManager","../TimeManager":"TimeManager","./MapChapterAni":"MapChapterAni"}],MessageBox:[function(t,e,o){"use strict";cc._RF.push(e,"e315c/2YSBOEbkWQUlpS2kU","MessageBox");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.MessageBox=void 0;var a=t("../../ads/HelpMgr"),c=t("./SwitchEffect"),s=cc._decorator,_=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.LabelContent=null,e.BtnConfirm=null,e.BtnCancel=null,e.PassData=null,e.CloseCallBack=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){c.SwitchEffect.playOpen(this.node)},e.prototype.SetCloseCallBack=function(t){this.CloseCallBack=t},e.prototype.OnEventClickedCancel=function(){this.CloseRemoveCuurrent(0)},e.prototype.CloseRemoveCuurrent=function(t){var e=this;a.default.instance.set_on_click_inner_interstitial_btn(function(){null!=e.CloseCallBack&&e.CloseCallBack(t,e.PassData),c.SwitchEffect.playClose(e.node,!0)})},e.prototype.OnEventClickedConfirm=function(){this.CloseRemoveCuurrent(1)},e.prototype.PopMessageBox=function(t,e,o,n){this.CloseCallBack=o,this.PassData=n,this.LabelContent.string=t,null==e&&(e=!1),this.BtnCancel.active=!!e},r([l(cc.Label)],e.prototype,"LabelContent",void 0),r([l(cc.Node)],e.prototype,"BtnConfirm",void 0),r([l(cc.Node)],e.prototype,"BtnCancel",void 0),r([_],e)}(cc.Component);o.MessageBox=p,cc._RF.pop()},{"../../ads/HelpMgr":"HelpMgr","./SwitchEffect":"SwitchEffect"}],Messenger:[function(t,e,o){"use strict";cc._RF.push(e,"f7f9cQH75hDjJg6IfXzKZ/x","Messenger");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Messenger=void 0;var r=t("../base/InstanceBase"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._callbacks=[],e}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return e.INSTANCE||(e.INSTANCE=r.InstanceBase.getInstance(e))},enumerable:!1,configurable:!0}),e.prototype.on=function(t,e,o){this._callbacks[t]||(this._callbacks[t]=[]),this._callbacks[t].push({call:e,obj:o})},e.prototype.off=function(t,e,o){var n=this._callbacks[t];if(n){for(var i=-1,r=0;r<n.length;r++)if(n[r].call===e&&n[r].obj==o){i=r;break}i<0||this._callbacks[t].splice(i,1)}},e.prototype.trigger=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=this._callbacks[t];if(n&&n.length)for(var i=0;i<n.length;i++)n[i].call.apply(n[i].obj,e)},e.INSTANCE=null,e}(r.InstanceBase);o.Messenger=a,cc._RF.pop()},{"../base/InstanceBase":"InstanceBase"}],Method:[function(t,e,o){"use strict";cc._RF.push(e,"f767fOuABlHf5UQI9ODskH/","Method");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.MethodAutoGc=o.MethodUnAutoGc=o.Method=void 0;var r=t("./PoolBase"),a=function(t){function e(){var e=t.call(this)||this;return e._args=new Array,e}return i(e,t),e.prototype.excute=function(){if(!this._borrowed)throw new Error("!borrowed");this._handler.apply(this._handlerThisObj,this._args)},e.prototype.excuteWith=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!this._borrowed)throw new Error("!borrowed");this._handler.apply(this._handlerThisObj,this._args.concat(t))},e.prototype.return=function(){this._borrowed&&(this._handler=null,this._args.length=0,this._args=null,this._handlerThisObj=null,t.prototype.return.call(this))},Object.defineProperty(e.prototype,"thisObj",{get:function(){return this._handlerThisObj},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"handler",{get:function(){return this._handler},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"args",{get:function(){return this._args},enumerable:!1,configurable:!0}),e.prototype.updateArgs=function(t){this._borrowed&&(this._args=t.concat())},e}(r.PoolBase);o.Method=a;var c=function(t){function e(){return t.call(this)||this}return i(e,t),e.borrow=function(t,o){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=r.PoolBase.getInstance(e);return a._handler=t,a._args=n,a._handlerThisObj=o,a},e}(a);o.MethodUnAutoGc=c;var s=function(t){function e(){var e=t.call(this)||this;return e._excuteCount=0,e._excutedCount=0,e}return i(e,t),e.borrow=function(t,o,n){void 0===n&&(n=1);for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];var c=r.PoolBase.getInstance(e);return c._excuteCount=n,c._handler=t,c._handlerThisObj=o,c._excutedCount=0,c._args=i,c},e.prototype.excute=function(){this.returnAfterExcute?(t.prototype.excute.apply(this),this.return()):t.prototype.excute.apply(this)},e.prototype.excuteWith=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];this.returnAfterExcute?(t.prototype.excuteWith.apply(this,e),this.return()):t.prototype.excuteWith.apply(this,e)},Object.defineProperty(e.prototype,"returnAfterExcute",{get:function(){if(this._excuteCount>0){if(this._excutedCount++,this._excutedCount>this._excuteCount)throw new Error('endless loop!  may be you need "MethodUnAutoGc" to Replace "MethodAutoGc"');return this._excutedCount===this._excuteCount}return!0},enumerable:!1,configurable:!0}),e}(a);o.MethodAutoGc=s,cc._RF.pop()},{"./PoolBase":"PoolBase"}],ModalWindow:[function(t,e,o){"use strict";cc._RF.push(e,"cf4900MRmFFVrHfJDhTWDbo","ModalWindow");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ModalWindow=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.buttonOK=null,e.lableTitle=null,e.lableContent=null,e.spriteBackground=null,e.spriteWindowBackground=null,e.onStartCallBack=null,e.onCloseCallBack=null,e}return i(e,t),e.prototype.onLoad=function(){this.spriteBackground.node.on(cc.Node.EventType.TOUCH_END,this.onClose,this)},e.prototype.start=function(){this.onStartCallBack&&this.onStartCallBack(this)},e.prototype.onButtonClick=function(){console.log("buttonOK clicked"),this.onCloseCallBack&&this.onCloseCallBack(!0),this.node.removeFromParent(!0)},e.prototype.onClose=function(t){console.log("TOUCH_END this.coco",t.type),null!=this.onCloseCallBack&&this.onCloseCallBack(!1),this.node.removeFromParent(!0)},e.prototype.setTitle=function(t){this.lableTitle.string=t},e.prototype.setContent=function(t){this.lableContent.string=t},e.prototype.close=function(){this.node.removeFromParent(!0)},r([s(cc.Button)],e.prototype,"buttonOK",void 0),r([s(cc.Label)],e.prototype,"lableTitle",void 0),r([s(cc.Label)],e.prototype,"lableContent",void 0),r([s(cc.Sprite)],e.prototype,"spriteBackground",void 0),r([s(cc.Sprite)],e.prototype,"spriteWindowBackground",void 0),r([c],e)}(cc.Component);o.ModalWindow=_,cc._RF.pop()},{}],MoveAttackPoint:[function(t,e,o){"use strict";cc._RF.push(e,"655a9vpPxZLFaxhoAWQIs8B","MoveAttackPoint");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("bt.ALL"),c=t("../../../config/DataManager"),s=t("../../actors/ActorAI"),_=t("../../WorldManager"),l=cc._decorator,p=l.ccclass,u=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._ActorGuid=0,e._Action=null,e}return i(e,t),e.prototype.onEnter=function(){var t=this.blackboard.read("actor"),e=_.WorldManager.Instance.GetActor(t);if(null==e||e.IsDead())return!1;var o=c.DataManager.TableActionConfigDatasById[e.xData.ActionID];return null!=o&&(this._ActorGuid=t,null==this._Action&&null!=o.move_attack&&(this._Action=s.ActorAI.CreateAction(o.move_attack),null==this._Action&&console.error("ERROR: this._Action = null, config.move_attack = "+o.move_attack)),!this._Action||this._Action.Enter(e))},e.prototype.onUpdate=function(){var t=_.WorldManager.Instance.GetActor(this._ActorGuid);return null==t||!t.IsActive||t.IsDead()?a.Status.FAILURE:null==this._Action?a.Status.SUCCESS:this._Action.Update()},e.prototype.onExit=function(){this._Action&&this._Action.Exit()},r([a.btclass("MoveAttackPoint ","CustomAction",{description:"移动到攻击点"}),p],e)}(a.ActionTask));o.default=u,cc._RF.pop()},{"../../../config/DataManager":"DataManager","../../WorldManager":"WorldManager","../../actors/ActorAI":"ActorAI","bt.ALL":"bt.ALL"}],MoveBirthPoint:[function(t,e,o){"use strict";cc._RF.push(e,"56cf625KRpJeq6uFSqqBff9","MoveBirthPoint");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("bt.ALL"),c=t("../../../config/DataManager"),s=t("../../actors/ActorAI"),_=t("../../WorldManager"),l=cc._decorator,p=l.ccclass,u=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._ActorGuid=0,e._Action=null,e}return i(e,t),e.prototype.onEnter=function(){var t=this.blackboard.read("actor"),e=_.WorldManager.Instance.GetActor(t);if(null==e||e.IsDead())return!1;var o=c.DataManager.TableActionConfigDatasById[e.xData.ActionID];return null!=o&&(this._ActorGuid=t,null==this._Action&&null!=o.move_birth&&(this._Action=s.ActorAI.CreateAction(o.move_birth),null==this._Action&&console.error("ERROR: this._Action = null, config.move_birth = "+o.move_birth)),!this._Action||this._Action.Enter(e))},e.prototype.onUpdate=function(){var t=_.WorldManager.Instance.GetActor(this._ActorGuid);return null==t||!t.IsActive||t.IsDead()?a.Status.FAILURE:null==this._Action?a.Status.SUCCESS:this._Action.Update()},e.prototype.onExit=function(){this._Action&&this._Action.Exit()},r([a.btclass("MoveBirthPoint ","CustomAction",{description:"移动到出生点"}),p],e)}(a.ActionTask));o.default=u,cc._RF.pop()},{"../../../config/DataManager":"DataManager","../../WorldManager":"WorldManager","../../actors/ActorAI":"ActorAI","bt.ALL":"bt.ALL"}],NavigateDefine:[function(t,e,o){"use strict";cc._RF.push(e,"9e4a4VspSNOLZbIpyi4gP5+","NavigateDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.NavigateType=void 0,function(t){t.NT_ARC="NT_ARC",t.NT_STRAIGHT="NT_STRAIGHT"}(o.NavigateType||(o.NavigateType={})),cc._RF.pop()},{}],Navigate_Arc:[function(t,e,o){"use strict";cc._RF.push(e,"b58248a6/BNo75pNJR+RQ+7","Navigate_Arc");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Navigate_Arc=void 0;var r=t("../../utils/Geometry"),a=t("../actors/ActorDefine"),c=t("../TimeManager"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.velocity=cc.v3(),e.movePath=[],e.stepIndex=0,e.stepMoveTime=0,e}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e)},e.prototype.SetGoal=function(e,o){t.prototype.SetGoal.call(this,e,o),this.Redirect()},e.prototype.Execute=function(){if(this.isNav&&this.GoalInfo){var t=c.TimeManager.deltaTime;this.Move(t)}},e.prototype.Release=function(){this.isNav=!1,this.velocity=cc.v3(),this.movePath=[],this.stepIndex=0,this.stepMoveTime=0,t.prototype.Release.call(this)},e.prototype.Move=function(t){var e=t;this.stepMoveTime-t<0&&(e=this.stepMoveTime),this.stepMoveTime-=e;var o=this._actor.Pos2D;if(o.x+=this.velocity.x*e,o.y+=this.velocity.y*e,this._actor.xData.type==a.EObjectType.ot_main_weapon&&(o=this.IsOutBounds(o)),this._actor.Pos=cc.v3(o),this._actor.Pos.sub(this.movePath[this.stepIndex]).mag()<1){if(this.stepIndex++,this.stepIndex>=this.movePath.length)return void this.OnReach();this.calcVelocity(),this.calcAngle()}e<t&&this.Move(t-e)},e.prototype.calcAngle=function(){if(this.GoalInfo.angleChange){var t=this._actor.Pos,e=this.movePath[this.stepIndex].sub(t),o=Math.atan2(e.y,e.x)/Math.PI*180+90;this._actor.node.angle=o}},e.prototype.calcVelocity=function(){var t=this._actor.Attr.getAttr(a.EAttrID.EA_MOVE_SPEED),e=this._actor.Pos,o=this.movePath[this.stepIndex];this.velocity=o.sub(e).normalize().mul(t),this.stepMoveTime=o.sub(e).mag()/t},e.prototype.Redirect=function(){var t=this._actor.Pos,e=this.GoalInfo.goal,o=this.GoalInfo.arcAngle,n=this.GoalInfo.arcPrecision;this.movePath=[];var i=r.Geometry.getControlPos(cc.v2(t),cc.v2(e),null==o?30:o),a=r.Geometry.bezierCalculateV3D([cc.v3(t),cc.v3(i),cc.v3(e)],null==n?10:n);a&&a.length>0&&(this.movePath=a),0!=this.movePath.length?(this.stepIndex=3,this.calcVelocity(),this.calcAngle(),this.isNav=!0):this.OnReach()},e}(t("./INavigate").INavigate);o.Navigate_Arc=s,cc._RF.pop()},{"../../utils/Geometry":"Geometry","../TimeManager":"TimeManager","../actors/ActorDefine":"ActorDefine","./INavigate":"INavigate"}],Navigate_Straight:[function(t,e,o){"use strict";cc._RF.push(e,"05619UqgBFOZJQg5nELuw0N","Navigate_Straight");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Navigate_Straight=void 0;var r=t("../actors/ActorDefine"),a=t("../TimeManager"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.velocity=cc.v3(),e.time=0,e}return i(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e)},e.prototype.SetGoal=function(e,o){t.prototype.SetGoal.call(this,e,o),this.Redirect()},e.prototype.Execute=function(){if(this.isNav&&this.GoalInfo){var t=a.TimeManager.deltaTime,e=t;this.time-=t,this.time<0&&(e-=Math.abs(this.time));var o=this._actor.Pos2D;o.x+=this.velocity.x*e,o.y+=this.velocity.y*e,this._actor.xData.type==r.EObjectType.ot_main_weapon&&(o=this.IsOutBounds(o)),this._actor.Pos=cc.v3(o),this.time<=0&&this.OnReach()}},e.prototype.Release=function(){this.isNav=!1,this.velocity=cc.v3(),this.time=0,t.prototype.Release.call(this)},e.prototype.Redirect=function(){var t=this._actor.Pos,e=this.GoalInfo.goal,o=this._actor.Attr.getAttr(r.EAttrID.EA_MOVE_SPEED),n=e.sub(t);this.velocity=n.normalize().mul(o),this.time=n.mag()/o,this.GoalInfo.angleChange&&(this._actor.node.angle=Math.atan2(n.y,n.x)/Math.PI*180+90),this.isNav=!0},e}(t("./INavigate").INavigate);o.Navigate_Straight=c,cc._RF.pop()},{"../TimeManager":"TimeManager","../actors/ActorDefine":"ActorDefine","./INavigate":"INavigate"}],NodePool:[function(t,e,o){"use strict";cc._RF.push(e,"a5302Etk9lCHarEH85fFV0X","NodePool");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.NodePool=void 0;var r=t("../base/InstanceBase"),a=t("../utils/LoadManager"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._mapNodePool=new Map,e}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return e.INSTANCE||(e.INSTANCE=r.InstanceBase.getInstance(e))},enumerable:!1,configurable:!0}),e.prototype._put=function(t,e){if(void 0===e&&(e=!1),t)if(t._recycle_node_pool_)console.error("ERROR: 重复回收节点!!!");else{t.stopAllActions(),e?t.active=!1:t.parent=null;var o=t.__path__;if(o){var n=this._mapNodePool.get(o);n&&(t._recycle_node_pool_=!0,n.push(t))}}},e.prototype._get=function(t){var e=this._mapNodePool.get(t);null==e&&(e=[],this._mapNodePool.set(t,e));var o=null;if(0==e.length){var n=a.LoadManager.get(t);if(!n)return null;if(!(o=cc.instantiate(n)))return null;o.__path__=t}else o=e.shift();return o._recycle_node_pool_=!1,o},e.get=function(t){return e.instance._get(t)},e.put=function(t,o){void 0===o&&(o=!1),e.instance._put(t,o)},e}(r.InstanceBase);o.NodePool=c,cc._RF.pop()},{"../base/InstanceBase":"InstanceBase","../utils/LoadManager":"LoadManager"}],OVADBtn:[function(t,e,o){"use strict";cc._RF.push(e,"7422aALlPVJ+YugGu/9/EFn","OVADBtn");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./BtnCkgg"),c=t("./GameConfigAds"),s=t("./HelpMgr"),_=cc._decorator,l=_.ccclass,p=_.property,u=["查看广告","查看详情","点击查看","去看看"],d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.m_bjckSp=[],e.m_type=0,e.m_gameString="继续游戏",e.m_idx=0,e.m_isBtn=!1,e}return i(e,t),e.prototype.setGameShowType=function(t){this.label.lineHeight=60,this.m_idx=t,this.setTo0(t),this.setTo1(t),this.updateShow()},e.prototype.getCKGGStr=function(){for(var t=s.default.instance.getSdkList("ad_words_change")||[1,1,1,1],e=0,o=0;o<4;o++)(i=t[o])||(t[o]=0,e++);if(console.log("getCKGGStr 000  ",e,t),4==e)return u[0];for(var n=s.default.instance.gameCount;n>0;)for(o=0;o<4;o++){var i;if((i=t[o])&&(n-=i),console.log("getCKGGStr 111 ",n,o),n<=0)return u[o]}return u[0]},e.prototype.setTo0=function(t){if(0==this.m_type){switch(t){case 0:this.label.string=this.getCKGGStr(),this.label.enableUnderline=!1;for(var e=0,o=this.m_bjckSp;e<o.length;e++)o[e].enabled=!0;break;case 1:this.label.string=this.getCKGGStr(),this.label.enableUnderline=!0;for(var n=0,i=this.m_bjckSp;n<i.length;n++)i[n].enabled=!1;this.m_bjckSp[1].node.color=a.BtnCkgg.getColor(2);break;case 2:this.label.string=this.getGameLabel(),this.label.enableUnderline=!1;for(var r=0,c=this.m_bjckSp;r<c.length;r++)c[r].enabled=!0;this.m_bjckSp[1].node.color=a.BtnCkgg.getColor(1),console.log("继续游戏 ---------",this.m_bjckSp[1].node.color)}this.setQkk(),this.label.node.color=cc.Color.WHITE}},e.prototype.getGameLabel=function(){return this.m_gameString},e.prototype.setTo1=function(t){if(1==this.m_type){switch(t){case 0:this.label.string=this.getGameLabel(),this.label.enableUnderline=!0;for(var e=0,o=this.m_bjckSp;e<o.length;e++)o[e].enabled=!1;break;case 1:this.label.string=this.getGameLabel(),this.label.enableUnderline=!1;for(var n=0,i=this.m_bjckSp;n<i.length;n++)i[n].enabled=!0;break;case 2:this.label.string=this.getCKGGStr(),this.label.enableUnderline=!1;for(var r=0,a=this.m_bjckSp;r<a.length;r++)a[r].enabled=!0}this.setQkk(),this.label.node.color=cc.Color.WHITE}},e.prototype.setQkk=function(){this.label.string!=this.getGameLabel()&&("点击查看"==this.label.string?this.m_bjckSp[1].node.color=a.BtnCkgg.getColor(1):"去看看"==this.label.string?this.m_bjckSp[1].node.color=a.BtnCkgg.getColor(1):this.m_bjckSp[1].node.color=a.BtnCkgg.getColor(2))},e.prototype.updateShow=function(){if(this.label.string==this.getGameLabel()){var t=this.node.getComponent(cc.Button);this.node.opacity=255,this.okBtn_htdjd_WD(t)}else{var e=s.default.instance.getJumpOpen();this.node.opacity=e?255:0}},e.prototype.closeByAd=function(t){this.label.string==this.getGameLabel()?this.node.active=!0:this.node.active=t},e.prototype.okBtn_htdjd_WD=function(t){if(t){var e=c.default.instance.getErrorConfigValue("zq_long_banner")||0;t.interactable=!1,this.node.opacity=0,this.scheduleOnce(function(){t.interactable=!0,t.node.opacity=255},e)}},e.prototype.downSelf=function(){this.label.string==this.getGameLabel()?this.jxyx():this.djck()},e.prototype.djck=function(){0!=this.node.opacity&&cc.game.emit("on_clickCK")},e.prototype.jxyx=function(){this.m_isBtn||s.default.instance.set_on_click_inner_interstitial_btn(function(){cc.game.emit("game_over_ov")})},e.spCount=0,r([p(cc.Label)],e.prototype,"label",void 0),r([p(cc.Sprite)],e.prototype,"m_bjckSp",void 0),r([p(cc.Integer)],e.prototype,"m_type",void 0),r([p(cc.String)],e.prototype,"m_gameString",void 0),r([l],e)}(cc.Component);o.default=d,cc._RF.pop()},{"./BtnCkgg":"BtnCkgg","./GameConfigAds":"GameConfigAds","./HelpMgr":"HelpMgr"}],ObjectPool:[function(t,e,o){"use strict";cc._RF.push(e,"05cd7Q/s4ZGBKV/0Ws0eGxY","ObjectPool");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ObjectPool=void 0;var r=t("../base/InstanceBase"),a=t("../base/manager/UIDManager"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._mapNodePool=new Map,e}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return e.INSTANCE||(e.INSTANCE=r.InstanceBase.getInstance(e))},enumerable:!1,configurable:!0}),e.prototype._put=function(t){if(t._recycle_object_pool_)console.error("ERROR: 重复回收对象!!!");else{var e=t.constructor,o=a.UIDManager.getUid(e),n=this._mapNodePool.get(o);n&&(t._recycle_object_pool_=!0,n.push(t))}},e.prototype._get=function(t){var e=a.UIDManager.getUid(t),o=this._mapNodePool.get(e);null==o&&(o=[],this._mapNodePool.set(e,o));var n=null;return(n=0==o.length?new t:o.shift())._recycle_object_pool_=!1,n},e.get=function(t){return e.instance._get(t)},e.put=function(t){e.instance._put(t)},e}(r.InstanceBase);o.ObjectPool=c,cc._RF.pop()},{"../base/InstanceBase":"InstanceBase","../base/manager/UIDManager":"UIDManager"}],OfflineRewardLayer:[function(t,e,o){"use strict";cc._RF.push(e,"dadbdV7u4pHaIsRWqLiazZY","OfflineRewardLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ads/HelpMgr"),_=t("../../global/define"),l=t("../../global/enums"),p=t("../../module/SoundManage"),u=t("../../record/OfflineRewardRecord"),d=t("../../record/WealthRecord"),h=t("../../ThirdParty/ThirdParty"),f=t("../../ThirdParty/WxAdMgr"),y=t("../../utils/ComponentAsync"),g=t("../../utils/DateUtils"),v=t("../public/ReveiveAwardAni"),b=t("../public/SwitchEffect"),m=t("./nodeTopBG"),A=cc._decorator,x=A.ccclass,C=A.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_start_light_ani=null,e.node_exp_light_ani=null,e.text_current_time=null,e.text_current_reward=null,e.text_reward_level=null,e.text_reward_val=null,e.text_upgrad_consume=null,e.sp_upgrade_hint=null,e}return i(e,t),e.prototype.start=function(){b.SwitchEffect.playOpen(this.node),h.ThirdParty.instance.showBannerAd(),this.CreateAnimation(),this.UpdateView()},e.prototype.update=function(){this.UpdateReward()},e.prototype.UpdateReward=function(){var t=u.OfflineRewardRecord.instance.total_hangup_time,e=g.DateUtils.secondToHMS1(t),o=u.OfflineRewardRecord.instance.calculateAward(1);this.text_current_time.string="Can be obtained: "+e,this.text_current_reward.string=_.Define.ConvertN(o.exp)},e.prototype.UpdateView=function(){var t=this,e=u.OfflineRewardRecord.instance.OfflineRewardInfo,o=u.OfflineRewardRecord.calculateExp(e.rewardLevel,43200),n=u.OfflineRewardRecord.calcuateConsume(),i=d.WealthRecord.instance.exp_user>=n;this.UpdateReward(),this.text_reward_level.string="Upgrade income [Lv."+e.rewardLevel+"]",this.text_reward_val.string=_.Define.ConvertN(o)+"/day",this.text_upgrad_consume.string=_.Define.ConvertN(n)+"",this.sp_upgrade_hint.active=i,this.text_upgrad_consume.node.color=i?_.Define.colorWhite:_.Define.colorRed,s.default.instance.setOvNode(this,function(){t.onClickEventReceive()})},e.prototype.onClickEventClose=function(){b.SwitchEffect.playClose(this.node,!0),h.ThirdParty.instance.hideBannerAd()},e.prototype.onClickEventUpgrade=function(){return a(this,void 0,void 0,function(){var t;return c(this,function(e){switch(e.label){case 0:return t=u.OfflineRewardRecord.calcuateConsume(),d.WealthRecord.instance.exp_user<t?(p.SoundManage.instance.PlaySound(l.GameSound.sound_btn_click),[4,y.ComponentDestoryAsync(m.default.instance.ShowExchangeExp(!0))]):[3,2];case 1:return e.sent(),this.UpdateView(),[2];case 2:return d.WealthRecord.instance.AddExp(-t),u.OfflineRewardRecord.instance.Upgrade(),this.UpdateView(),p.SoundManage.instance.PlaySound(l.GameSound.sound_weapon_upgrade),_.Define.BuriedPoint("升级离线奖励收益"),[2]}})})},e.prototype.onClickEventDoubleReceive=function(){var t=this;0!=u.OfflineRewardRecord.instance.calculateAward(1).exp?(_.Define.CreateLoading("Ads loading..."),playVideo(res=>{if(res){_.Define.RemoveLoading(),t.ReceiveReward(3)}else{_.Define.RemoveLoading(),_.Define.OutputMessage("Ad failed")}})):_.Define.OutputMessage("No income yet")},e.prototype.onClickEventReceive=function(){0!=u.OfflineRewardRecord.instance.calculateAward(1).exp?this.ReceiveReward(1):_.Define.OutputMessage("No income yet")},e.prototype.ReceiveReward=function(t){var e=this;_.Define.BuriedPoint("领取离线奖励: "+t+"倍"),u.OfflineRewardRecord.instance.hangupSettlement(t),this.UpdateView(),v.default.PlayExpAni(this.node_exp_light_ani,15),cc.tween(this.node).delay(.5).call(function(){b.SwitchEffect.playClose(e.node,!0),h.ThirdParty.instance.hideBannerAd()}).start()},e.prototype.CreateAnimation=function(){var t=this;this.sp_upgrade_hint.scale=1.2,cc.tween(this.sp_upgrade_hint).repeatForever(cc.tween(this.sp_upgrade_hint).to(.5,{scale:.8}).to(.5,{scale:1})).start(),this.node_exp_light_ani.opacity=100,cc.tween(this.node_exp_light_ani).repeatForever(cc.tween(this.node_exp_light_ani).to(1.2,{opacity:255}).to(1.2,{opacity:120})).start(),cc.tween(this.node_start_light_ani).repeatForever(cc.tween(this.node_start_light_ani).call(function(){t.node_start_light_ani.x=235}).to(1,{x:-235}).delay(1.5)).start()},r([C(cc.Node)],e.prototype,"node_start_light_ani",void 0),r([C(cc.Node)],e.prototype,"node_exp_light_ani",void 0),r([C(cc.Label)],e.prototype,"text_current_time",void 0),r([C(cc.Label)],e.prototype,"text_current_reward",void 0),r([C(cc.Label)],e.prototype,"text_reward_level",void 0),r([C(cc.Label)],e.prototype,"text_reward_val",void 0),r([C(cc.Label)],e.prototype,"text_upgrad_consume",void 0),r([C(cc.Node)],e.prototype,"sp_upgrade_hint",void 0),r([x],e)}(cc.Component);o.default=w,cc._RF.pop()},{"../../ThirdParty/ThirdParty":"ThirdParty","../../ThirdParty/WxAdMgr":"WxAdMgr","../../ads/HelpMgr":"HelpMgr","../../global/define":"define","../../global/enums":"enums","../../module/SoundManage":"SoundManage","../../record/OfflineRewardRecord":"OfflineRewardRecord","../../record/WealthRecord":"WealthRecord","../../utils/ComponentAsync":"ComponentAsync","../../utils/DateUtils":"DateUtils","../public/ReveiveAwardAni":"ReveiveAwardAni","../public/SwitchEffect":"SwitchEffect","./nodeTopBG":"nodeTopBG"}],OfflineRewardRecord:[function(t,e,o){"use strict";cc._RF.push(e,"e2232VFdutPrrdwWj4xALw/","OfflineRewardRecord");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.OfflineRewardRecord=void 0;var a=t("../base/App"),c=t("../base/extends/SerializeElement"),s=t("../config/DataManager"),_=t("../global/enums"),l=t("../utils/DateUtils"),p=t("./DataPool"),u=t("./RecordManager"),d=t("./WealthRecord"),h=function(t){function e(){var e=t.call(this)||this;return e._OfflineRewardInfo={rewardLevel:1,lastWriteTime:"2010/07/28"},e._max_hangup_time=43200,e._hangup_progress=0,e._total_hangup_time=0,e}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return p.DataPool.instance.offlineReward},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"OfflineRewardInfo",{get:function(){return this._OfflineRewardInfo},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max_hangup_time",{get:function(){return this._max_hangup_time},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hangup_progress",{get:function(){return this._hangup_progress},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"total_hangup_time",{get:function(){return this._total_hangup_time},enumerable:!1,configurable:!0}),e.prototype.init=function(){this.load()||(this._OfflineRewardInfo.lastWriteTime=l.DateUtils.toString(Date.now()),this.save()),this.calculateProgress(),a.App.timer.on(1e3,this.run,this)},e.prototype.load=function(){var t=u.RecordManager.instance.read(_.DataRecord.OfflineReward);return!!t&&(this.fromRecord(t),!0)},e.prototype.save=function(){u.RecordManager.instance.save(_.DataRecord.OfflineReward,this.toRecord())},e.prototype.run=function(){this.calculateProgress()},e.prototype.calculateProgress=function(){if(this._total_hangup_time!=this._max_hangup_time){var t=new Date(this._OfflineRewardInfo.lastWriteTime),e=new Date,o=Math.floor((e.getTime()-t.getTime())/1e3);o>this._max_hangup_time&&(o=this._max_hangup_time),o<=0||(this._total_hangup_time=o,this._hangup_progress=Math.floor(o/this._max_hangup_time*100),this.save(),a.App.notice.trigger(_.GameEvent.offline_reward_update))}else a.App.notice.trigger(_.GameEvent.offline_reward_update)},e.prototype.calculateAward=function(t,o){var n={exp:0};return null==o&&(o=this._total_hangup_time),Math.floor(o/10)<=0?n:(n.exp=e.calculateExp(this._OfflineRewardInfo.rewardLevel,o)*t,n)},e.prototype.Upgrade=function(){this.OfflineRewardInfo.rewardLevel+=1,this.save()},e.prototype.hangupSettlement=function(t,e){var o;return null==(o=e||this.calculateAward(t))?null:(d.WealthRecord.instance.AddExp(o.exp),null==e&&(this._OfflineRewardInfo.lastWriteTime=l.DateUtils.toString(Date.now()),this._total_hangup_time=0,this._hangup_progress=0,this.save(),a.App.notice.trigger(_.GameEvent.offline_reward_update)),o)},e.calculateExp=function(t,e){var o=s.DataManager.TableOfflineRewardDatasById[1];return null==o?(console.error("ERROR: OfflineRewardRecord calculateExp config = null"),0):Math.floor(o.k1+o.k2*Math.pow(t-1,o.k3))*Math.floor(e/10)},e.calcuateConsume=function(){var t=s.DataManager.TableOfflineRewardDatasById[2];if(null==t)return console.error("ERROR: OfflineRewardRecord calcuateConsume config = null"),0;var o=e.instance.OfflineRewardInfo.rewardLevel,n=e.calculateExp(o,3600);return Math.floor(n/t.k1)},r([c.Record("OfflineRewardInfo")],e.prototype,"_OfflineRewardInfo",void 0),e}(c.SerializeElement);o.OfflineRewardRecord=h,cc._RF.pop()},{"../base/App":"App","../base/extends/SerializeElement":"SerializeElement","../config/DataManager":"DataManager","../global/enums":"enums","../utils/DateUtils":"DateUtils","./DataPool":"DataPool","./RecordManager":"RecordManager","./WealthRecord":"WealthRecord"}],OutputMessageItem:[function(t,e,o){"use strict";cc._RF.push(e,"15a2cvzNO9OFaZk1zF2CsgZ","OutputMessageItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=a.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeAction=null,e.spBG=null,e.textHint=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.update=function(){var t=Math.min(this.textHint.node.width,700),e=t/this.textHint.node.width,o=Math.floor(e*this.textHint.fontSize);this.textHint.fontSize=o,this.spBG.node.width=t+20,this.node.width=t+20,this.node.height=this.textHint.node.height+15,this.spBG.node.height=this.textHint.node.height+10},e.prototype.setData=function(t){this.textHint.string=t},e.prototype.playCreate=function(){var t=this;return this.nodeAction.y-=100,this.spBG.node.opacity=200,this.nodeAction.scale=0,cc.tween(this.nodeAction).to(.15,{scale:1}).call(function(){return[cc.tween(t.nodeAction).to(.15,{y:t.nodeAction.y+100}).start()]}).start(),.15},e.prototype.playClear=function(){return cc.tween(this.spBG.node).to(.15,{opacity:0}).start(),cc.tween(this.nodeAction).to(.15,{y:this.nodeAction.y+100}).start(),.15},r([s(cc.Node)],e.prototype,"nodeAction",void 0),r([s(cc.Sprite)],e.prototype,"spBG",void 0),r([s(cc.Label)],e.prototype,"textHint",void 0),r([c],e)}(cc.Component);o.default=_,cc._RF.pop()},{}],OutputMessage:[function(t,e,o){"use strict";cc._RF.push(e,"9fa4975HktG370leAa65CpN","OutputMessage");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../utils/LoadManager"),c=t("./OutputMessageItem"),s=cc._decorator,_=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.HintList=null,e.HintArray=[],e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.AddHint=function(t){var e=this,o=a.LoadManager.get("prefab/public/OutputMessageItem");if(o){this.HintArray.length>2&&this.HintArray.shift().destroy();var n=cc.instantiate(o),i=n.getComponent(c.default);i.setData(t),this.HintList.addChild(n),this.HintArray.push(n);var r=i.playCreate();cc.tween(n).delay(r+2).call(function(){i.playClear()}).delay(r).call(function(){e.HintArray.shift().destroy()}).start()}else console.error("ERROR: AddHint prefab = null")},r([l(cc.Node)],e.prototype,"HintList",void 0),r([_],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../../utils/LoadManager":"LoadManager","./OutputMessageItem":"OutputMessageItem"}],ParseUtils:[function(t,e,o){"use strict";cc._RF.push(e,"5ade3kqZnlMwbbPcuSJ3fRk","ParseUtils"),Object.defineProperty(o,"__esModule",{value:!0}),o.ParseUtils=void 0;var n=function(){function t(){}return t.jsonCloneToObj=function(e,o,n){void 0===n&&(n=""),t.objCloneToObj(JSON.parse(e),o,n)},t.objCloneToObj=function(t,e,o){void 0===o&&(o=""),Object.keys(t).forEach(function(n){e[o+n]=t[n]})},t.copy=function(t,e){void 0===e&&(e="");var o=new Object;return Object.keys(t).forEach(function(n){o[e+n]=t[n]}),o},t.deepCopy=function(e){var o;if("object"==typeof e)if(null==e)o=null;else if(e.constructor===Array)for(var n in o=[],e)o.push(t.deepCopy(e[n]));else for(var n in o={},e)o[n]=t.deepCopy(e[n]);else o=e;return o},t.Object2QueryString=function(t){if(!t)return"";if("object"!=typeof t)return"";var e="";for(var o in t)t[o],e+="&"+o+"="+t[o];return e=e.substr(1),console.info("queryString = "+e),e},t}();o.ParseUtils=n,cc._RF.pop()},{}],PlayerContorl:[function(t,e,o){"use strict";cc._RF.push(e,"c3fb3HxWG5LMaonQLV3ocaJ","PlayerContorl"),Object.defineProperty(o,"__esModule",{value:!0}),o.PlayerContorl=void 0;var n=t("../../base/App"),i=t("../../global/define"),r=t("../../global/enums"),a=t("../../record/DeputyWeaponStore"),c=t("../../record/MainWeaponStore"),s=t("../actors/ActorBuff"),_=t("../actors/ActorBullet"),l=t("../actors/ActorCommand"),p=t("../actors/ActorDefine"),u=t("../actors/ActorProp"),d=t("../cmd/CommandMove"),h=t("../navigate/NavigateDefine"),f=t("../prop/PropDefine"),y=t("../WorldManager"),g=t("./xLoader"),v=function(){function t(){this.camp=0,this._showShop=!1,this._mainWeaponGuid=-1,this._deputyWeaponGuidL=-1,this._deputyWeaponGuidR=-1,this._supportGuidList=[],this._shopDirection=!0,this._shopDistance=0}return Object.defineProperty(t.prototype,"MainWeaponGuid",{get:function(){return this._mainWeaponGuid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"MainWeapon",{get:function(){return y.WorldManager.Instance.GetActor(this._mainWeaponGuid)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DeputyWeaponL",{get:function(){return y.WorldManager.Instance.GetActor(this._deputyWeaponGuidL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"DeputyWeaponR",{get:function(){return y.WorldManager.Instance.GetActor(this._deputyWeaponGuidR)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"MainWeaponProps",{get:function(){var t=this.MainWeapon;return t?t.Get(u.ActorProp):null},enumerable:!1,configurable:!0}),t.prototype.Init=function(t){this.camp=t,this.Reset(),n.App.notice.on(p.GTEventID.ACTOR_DYING,this.OnEventActorDying,this),n.App.notice.on(p.GTEventID.ACTOR_DEAD,this.OnEventActorDead,this),n.App.notice.on(p.GTEventID.ACTOR_RESURGENCE,this.OnEventActorResurgence,this),n.App.notice.on(r.GameEvent.wave_start,this.OnEventWaveStart,this)},t.prototype.Execute=function(){this.UpdateMainWeaponPos(),this.UpdateDeputyWeaponPos(!1)},t.prototype.Release=function(){n.App.notice.off(p.GTEventID.ACTOR_DYING,this.OnEventActorDying,this),n.App.notice.off(p.GTEventID.ACTOR_DEAD,this.OnEventActorDead,this),n.App.notice.off(p.GTEventID.ACTOR_RESURGENCE,this.OnEventActorResurgence,this),n.App.notice.off(r.GameEvent.wave_start,this.OnEventWaveStart,this)},t.prototype.Reset=function(){this._showShop=!1,y.WorldManager.Instance.DelActor(this._mainWeaponGuid),y.WorldManager.Instance.DelActor(this._deputyWeaponGuidL),y.WorldManager.Instance.DelActor(this._deputyWeaponGuidR),this._supportGuidList.forEach(function(t){y.WorldManager.Instance.DelActor(t.ActorGuid)}),this._supportGuidList=[]},t.prototype.Start=function(t){y.WorldManager.Instance.Input.Pause(),this.CreateMainWeapon(),this.CreateDeputyWeapon(),this.PlayEnterAni(t)},t.prototype.End=function(t){this.MainWeapon&&this.PauseBullet(),y.WorldManager.Instance.Input.Pause(),this.PlayReturnAni(t)},t.prototype.ShowShop=function(t){this.Reset(),this.CreateMainWeapon(),this.CreateDeputyWeapon();var e=cc.winSize,o=cc.v3(0,-e.height/2+810);0==t&&(o.y-=80),this._showShop=!0,this.MainWeapon.Pos=o,this.UpdateDeputyWeaponPos(!0)},t.prototype.HideShop=function(){this.Reset()},t.prototype.UpdateMainWeaponPos=function(){if(this._showShop){var t=this.MainWeapon;null!=t&&(1==this._shopDirection?(t.Y+=.5,this._shopDistance+=.5):(t.Y-=.5,this._shopDistance+=.5),this._shopDistance>=50&&(this._shopDirection=!this._shopDirection,this._shopDistance=0))}},t.prototype.UpdateDeputyWeaponPos=function(t){var e=this.MainWeapon;if(null!=e){var o=e.Pos,n=cc.v3(o.x-120,o.y-45),i=cc.v3(o.x+120,o.y-45);t?(this.DeputyWeaponL&&(this.DeputyWeaponL.Pos=n),this.DeputyWeaponR&&(this.DeputyWeaponR.Pos=i)):(this.DeputyWeaponL&&this.DeputyWeaponL.DoNavigateToGoal({path:[{type:h.NavigateType.NT_STRAIGHT,goal:n,angleChange:!1}],rechCallBack:null}),this.DeputyWeaponR&&this.DeputyWeaponR.DoNavigateToGoal({path:[{type:h.NavigateType.NT_STRAIGHT,goal:i,angleChange:!1}],rechCallBack:null}))}},t.prototype.CreateMainWeapon=function(){var t=c.MainWeaponStore.instance.getMainWeapon();if(t){var e=g.xLoader.Instance.loadMainWeapon(t.uuid);e.camp=this.camp;var o=y.WorldManager.Instance.BornSystem.AddMainWeapon(e);this._mainWeaponGuid=o.guid}},t.prototype.CreateDeputyWeapon=function(){var t=a.DeputyWeaponStore.instance.getDeputyWeapon();if(t){var e=g.xLoader.Instance.loadDeputyWeapon(t.uuid);e.camp=this.camp;var o=y.WorldManager.Instance.BornSystem.AddDeputyWeapon(e),n=y.WorldManager.Instance.BornSystem.AddDeputyWeapon(e);this._deputyWeaponGuidL=o.guid,this._deputyWeaponGuidR=n.guid}},t.prototype.CreateSupport=function(t,e){void 0===e&&(e=!1);var o=-1;if(!e||-1!=(o=this._supportGuidList.findIndex(function(e){return e.PlaneID==t&&1==e.isDead}))){var n=g.xLoader.Instance.loadSupport(t);if(n){n.camp=this.camp;var i=y.WorldManager.Instance.BornSystem.AddSupport(n),r=this.MainWeapon.Attr,a=r.getAttr(p.EAttrID.EA_HP_MAX),c=r.getAttr(p.EAttrID.EA_ATK);i.Attr.setAttr(p.EAttrID.EA_HP,a),i.Attr.setAttr(p.EAttrID.EA_HP_MAX,a),i.Attr.setAttr(p.EAttrID.EA_ATK,c),e?(this._supportGuidList[o].isDead=!1,this._supportGuidList[o].ActorGuid=i.guid):this._supportGuidList.push({PlaneID:t,isDead:!1,ActorGuid:i.guid})}}},t.prototype.PauseBullet=function(){var t,e,o,n;this.MainWeapon&&(null===(t=this.MainWeapon.Get(_.ActorBullet))||void 0===t||t.Pause()),this.DeputyWeaponL&&(null===(e=this.DeputyWeaponL.Get(_.ActorBullet))||void 0===e||e.Pause()),this.DeputyWeaponR&&(null===(o=this.DeputyWeaponR.Get(_.ActorBullet))||void 0===o||o.Pause()),this.MainWeapon&&(null===(n=this.MainWeapon.Get(s.ActorBuff))||void 0===n||n.Pause())},t.prototype.RestoreBullet=function(){var t,e,o,n;this.MainWeapon&&(null===(t=this.MainWeapon.Get(_.ActorBullet))||void 0===t||t.Restore()),this.DeputyWeaponL&&(null===(e=this.DeputyWeaponL.Get(_.ActorBullet))||void 0===e||e.Restore()),this.DeputyWeaponR&&(null===(o=this.DeputyWeaponR.Get(_.ActorBullet))||void 0===o||o.Restore()),this.MainWeapon&&(null===(n=this.MainWeapon.Get(s.ActorBuff))||void 0===n||n.Restore())},t.prototype.PlayEnterAni=function(t){var e,o=this,n=cc.v3(0,-(cc.winSize.height/2+100)),i=cc.v3(0,-cc.winSize.height/2+399);this.MainWeapon.Pos=n,this.PauseBullet(),null===(e=this.MainWeapon.Get(l.ActorCommand))||void 0===e||e.GetCmd(d.CommandMove).Update(i,function(){o.RestoreBullet(),y.WorldManager.Instance.Input.Restore(),t&&t()}).Do()},t.prototype.PlayReturnAni=function(t){var e;if(null!=this.MainWeapon){var o=cc.v3(0,-cc.winSize.height/2+399);null===(e=this.MainWeapon.Get(l.ActorCommand))||void 0===e||e.GetCmd(d.CommandMove).Update(o,function(){t&&t()}).Do()}else t&&t()},t.prototype.PlayExitAni=function(t){var e;if(null!=this.MainWeapon){var o=cc.v3(this.MainWeapon.X,cc.winSize.height/2+100);null===(e=this.MainWeapon.Get(l.ActorCommand))||void 0===e||e.GetCmd(d.CommandMove).Update(o,function(){t&&t()}).Do()}else t&&t()},t.prototype.OnEventActorDying=function(t){t.guid==this._mainWeaponGuid&&y.WorldManager.Instance.Input.Pause()},t.prototype.OnEventActorDead=function(t){t.guid==this._mainWeaponGuid&&y.WorldManager.Instance.ShowGameFinished(function(){i.Define.isWeChat(),n.App.notice.trigger(r.GameEvent.chapter_failure)});var e=this._supportGuidList.find(function(e){return e.ActorGuid==t.guid});e&&(e.isDead=!0)},t.prototype.OnEventActorResurgence=function(t){t.guid==this._mainWeaponGuid&&(this.PlayEnterAni(null),this.UpdateDeputyWeaponPos(!0))},t.prototype.OnUserExpUP=function(t){var e=this.MainWeapon;if(null!=e){var o=e.Get(u.ActorProp).PropAttr.getAttr(f.PropAttrID.PA_EXP_UP);if(!(o<=0)){var n=.2*Math.random()-.1+o,i=t.ReserveValue;i=Math.floor(i*n);var r={prop_id:t.prop_id,ReserveValue:i,StartPoint:t.StartPoint};y.WorldManager.Instance.PropSystem.AddProp(r)}}},t.prototype.OnEventWaveStart=function(){var t=this;this._supportGuidList.forEach(function(e){e.isDead&&t.CreateSupport(e.PlaneID,!0)})},t}();o.PlayerContorl=v,cc._RF.pop()},{"../../base/App":"App","../../global/define":"define","../../global/enums":"enums","../../record/DeputyWeaponStore":"DeputyWeaponStore","../../record/MainWeaponStore":"MainWeaponStore","../WorldManager":"WorldManager","../actors/ActorBuff":"ActorBuff","../actors/ActorBullet":"ActorBullet","../actors/ActorCommand":"ActorCommand","../actors/ActorDefine":"ActorDefine","../actors/ActorProp":"ActorProp","../cmd/CommandMove":"CommandMove","../navigate/NavigateDefine":"NavigateDefine","../prop/PropDefine":"PropDefine","./xLoader":"xLoader"}],PoolBase:[function(t,e,o){"use strict";cc._RF.push(e,"fe4c7BnRmpMSaACB6b5EtNb","PoolBase"),Object.defineProperty(o,"__esModule",{value:!0}),o.PoolBase=void 0;var n=t("../manager/UIDManager"),i=function(){function t(){if(this._borrowed=!1,!t.CONSTRUCT_ABLE)throw new Error('该对象受自身的对象池管理,请用静态方法"borrow()"实例化对象,实例的"return()"方法回收对象');t.CONSTRUCT_ABLE=!1}return t.getInstance=function(e){var o=e,i=n.UIDManager.getUid(o),r=t.DIC_POOL[i];null==r&&(r=[],t.DIC_POOL[i]=r);var a=r.pop();return null==a&&(t.CONSTRUCT_ABLE=!0,a=new o),a._borrowed=!0,a},t.prototype.return=function(){if(this._borrowed){this._borrowed=!1;var e=this.constructor,o=n.UIDManager.getUid(e),i=t.DIC_POOL[o];null!=i&&i.push(this)}},t.CONSTRUCT_ABLE=!1,t.DIC_POOL={},t}();o.PoolBase=i,cc._RF.pop()},{"../manager/UIDManager":"UIDManager"}],PromptDefint:[function(t,e,o){"use strict";cc._RF.push(e,"35fb6zauRhKIaBSTGcpNfvd","PromptDefint"),Object.defineProperty(o,"__esModule",{value:!0}),o.PromptType=void 0,function(t){t.pt_default="PromptType.pt_default",t.pt_crit="PromptType.pt_crit",t.pt_fatal_injury="PromptType.pt_fatal_injury",t.pt_seconds_kill="PromptType.pt_seconds_kill"}(o.PromptType||(o.PromptType={})),cc._RF.pop()},{}],PromptLableDefine:[function(t,e,o){"use strict";cc._RF.push(e,"5e031Zy3ChJKIO0qmbj6WDl","PromptLableDefine"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],PromptLableObject:[function(t,e,o){"use strict";cc._RF.push(e,"90ef7TqerpL75rtC1WpswtA","PromptLableObject"),Object.defineProperty(o,"__esModule",{value:!0}),o.PromptLableObject=void 0;var n=t("../../module/NodePool"),i=t("../TimeManager"),r=t("./PromptDefint"),a=function(){function t(){this.node=null,this.guid=0,this._isReach=!1,this._text=null,this._sizeTime=0,this._opacityTime=0,this._sizeSpeed=0,this._opacitySpeed=0,this.img_miaosha=null,this.img_zhimning=null}return t.prototype.Init=function(t,e){if(this.node=e,this._text=this.node.getComponent(cc.Label),this._text){this._text.string=t.text,this.node.color=t.color,this.node.setPosition(t.StartPoint),this._text._forceUpdateRenderData(!0),this.img_miaosha=this.node.getChildByName("img_miaosha"),this.img_zhimning=this.node.getChildByName("img_zhimning"),this.img_miaosha.active=t.type==r.PromptType.pt_seconds_kill,this.img_zhimning.active=t.type==r.PromptType.pt_fatal_injury,this.img_miaosha.color=t.color,this.img_zhimning.color=t.color,this.img_miaosha.getComponent(cc.Widget).updateAlignment(),this.img_zhimning.getComponent(cc.Widget).updateAlignment();var o=this.node.getChildByName("img_K"),n=this.node.getChildByName("img_M"),i=this.node.getChildByName("img_B"),a=this.node.getChildByName("img_T");o.active="K"==t.unit,n.active="M"==t.unit,i.active="B"==t.unit,a.active="T"==t.unit,o.color=t.color,n.color=t.color,i.color=t.color,a.color=t.color,o.getComponent(cc.Widget).updateAlignment(),n.getComponent(cc.Widget).updateAlignment(),i.getComponent(cc.Widget).updateAlignment(),a.getComponent(cc.Widget).updateAlignment();var c=this.node.getComponent(cc.LabelOutline);c&&0==t.showOutline&&(c.width=0),this._opacityTime=.6,this._opacitySpeed=155/this._opacityTime,this.node.scale=t.scale,this._sizeTime=this._opacityTime-this._opacityTime/3,this._sizeSpeed=(t.scale-t.scale/2.3)/this._sizeTime}else this._isReach=!0},t.prototype.Execute=function(){if(!this.IsReach()){var t=i.TimeManager.deltaTime,e=t;this._sizeTime>0&&(this._sizeTime-=t,this._sizeTime<0&&(this._sizeTime=0),this.node.scale-=this._sizeSpeed*e),this._opacityTime>0&&(this._opacityTime-=t,this._opacityTime<0&&(this._opacityTime=0),this.node.opacity-=this._opacitySpeed*e),this._opacityTime<=0&&this._sizeTime<=0&&this.OnReach()}},t.prototype.Release=function(){n.NodePool.put(this.node),this.node=null,this.guid=0,this._isReach=!1,this._text=null,this._sizeTime=0,this._opacityTime=0,this._sizeSpeed=0,this._opacitySpeed=0,this.img_miaosha=null,this.img_zhimning=null},t.prototype.OnReach=function(){this._isReach=!0},t.prototype.IsReach=function(){return this._isReach},t}();o.PromptLableObject=a,cc._RF.pop()},{"../../module/NodePool":"NodePool","../TimeManager":"TimeManager","./PromptDefint":"PromptDefint"}],PromptLableSystem:[function(t,e,o){"use strict";cc._RF.push(e,"65c9fpThAVOa4I2D4Qxdi2d","PromptLableSystem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.PromptLableSystem=void 0;var r=t("../../global/define"),a=t("../../global/enums"),c=t("../../module/NodePool"),s=t("../../module/ObjectPool"),_=t("../actors/ActorDefine"),l=t("../GuidManager"),p=t("../WorldManager"),u=t("./PromptDefint"),d=t("./PromptLableObject"),h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._ObjectDict=new Map,e}return i(e,t),e.prototype.Init=function(){},e.prototype.Execute=function(){var t=this,e=[];this._ObjectDict.forEach(function(t){t.Execute(),t.IsReach()&&e.push(t.guid)}),e.forEach(function(e){var o=t._ObjectDict.get(e);o.Release(),s.ObjectPool.put(o),t._ObjectDict.delete(e)})},e.prototype.Release=function(){this._ObjectDict.forEach(function(t){t.Release(),s.ObjectPool.put(t)}),this._ObjectDict=new Map},e.prototype.AddNumber=function(t,e,o){var n="",i=cc.color(255,255,255,255),r=1.5;t.xData.type==_.EObjectType.ot_main_weapon?e>0?(n="+"+n,i=cc.color(0,255,46,255)):e<0&&(n=e+"",i=cc.color(255,0,0,255)):(n=Math.abs(e)+"",o==u.PromptType.pt_seconds_kill?(r=1.8,i=cc.color(255,46,0,255),n=""):o==u.PromptType.pt_fatal_injury?(r=1.8,i=cc.color(255,46,0,255),n="-"+n):o==u.PromptType.pt_crit&&(r=2,i=cc.color(255,250,0,255)));var a=cc.v2(t.Pos2D);a.x+=Math.random()*t.Width-t.Width/2,a.y+=Math.random()*t.Height-t.Height/2;var c={text:n,color:i,scale:r,showOutline:!1,StartPoint:a,EndPoint:a,type:o,unit:""};this.AddPrompt(c)},e.prototype.AddExp=function(t,e){if(null!=t){var o=r.Define.ConvertNnm(e,!0),n="+"+o.v,i=cc.color(255,199,0,255),a=cc.v2(t.Pos2D);a.x+=Math.random()*(t.Width+100)-(t.Width+100)/2,a.y+=Math.random()*(t.Height+100)-(t.Height+100)/2+66;var c={text:n,color:i,showOutline:!1,scale:1.5,StartPoint:a,EndPoint:a,type:u.PromptType.pt_default,unit:o.u};this.AddPrompt(c)}},e.prototype.AddPrompt=function(t){var e=c.NodePool.get("prefab/game/prompt/prompt_lable");if(e){e.opacity=255,e.scale=1,e.zIndex=a.ZIndex.ZI_PROMPT,e.parent=p.WorldManager.Instance.node;var o=s.ObjectPool.get(d.PromptLableObject);o.guid=l.GuidManager.Guid,o.Init(t,e),this._ObjectDict.set(o.guid,o)}},e}(cc.Component);o.PromptLableSystem=h,cc._RF.pop()},{"../../global/define":"define","../../global/enums":"enums","../../module/NodePool":"NodePool","../../module/ObjectPool":"ObjectPool","../GuidManager":"GuidManager","../WorldManager":"WorldManager","../actors/ActorDefine":"ActorDefine","./PromptDefint":"PromptDefint","./PromptLableObject":"PromptLableObject"}],PropAttr:[function(t,e,o){"use strict";cc._RF.push(e,"4f7eaqlfaBAmKye3J2dky+D","PropAttr"),Object.defineProperty(o,"__esModule",{value:!0}),o.PropAttr=void 0;var n=t("./PropDefine"),i=function(){function t(){this.attr={}}return t.prototype.Init=function(){this.setDefaultAttr()},t.prototype.setAttr=function(t,e){this.attr[t]=e},t.prototype.addAttr=function(t,e){null==this.attr[t]&&this.setAttr(t,0),this.attr[t]+=e},t.prototype.getAttr=function(t){return this.attr[t]},t.prototype.setDefaultAttr=function(){this.attr[n.PropAttrID.PA_HP_MAX_UP]=0,this.attr[n.PropAttrID.PA_ATK_UP]=0,this.attr[n.PropAttrID.PA_ATK_SPEED_UP]=0,this.attr[n.PropAttrID.PA_CRIT_CHANCE_UP]=0,this.attr[n.PropAttrID.PA_CRIT_HURT_UP]=0,this.attr[n.PropAttrID.PA_BULLET_COUNT_UP]=0,this.attr[n.PropAttrID.PA_LEECH_CHANCE_UP]=0,this.attr[n.PropAttrID.PA_LEECH_HURT_UP]=0,this.attr[n.PropAttrID.PA_EXP_UP]=0},t}();o.PropAttr=i,cc._RF.pop()},{"./PropDefine":"PropDefine"}],PropDefine:[function(t,e,o){"use strict";cc._RF.push(e,"a195b4zOiZJE7ejgTDDENm+","PropDefine"),Object.defineProperty(o,"__esModule",{value:!0}),o.PropAttrID=o.PropID=o.PropType=void 0,function(t){t[t.PT_COLLECT=1]="PT_COLLECT",t[t.PT_RECOVER=2]="PT_RECOVER",t[t.PT_ATTR_INCREACE=3]="PT_ATTR_INCREACE",t[t.PT_STATE_CHANGE=4]="PT_STATE_CHANGE"}(o.PropType||(o.PropType={})),function(t){t[t.invalid=0]="invalid",t[t.exp_collect=1]="exp_collect",t[t.hp_recover=2]="hp_recover",t[t.hp_max_up=3]="hp_max_up",t[t.atk_max_up=4]="atk_max_up",t[t.atk_speed_max_up=5]="atk_speed_max_up",t[t.bullet_count_up=6]="bullet_count_up",t[t.leech_up=7]="leech_up",t[t.crit_chance_up=8]="crit_chance_up",t[t.crit_hurt_up=9]="crit_hurt_up",t[t.bullet_shot=10]="bullet_shot",t[t.bullet_straight=11]="bullet_straight",t[t.bullet_oblique=12]="bullet_oblique",t[t.bullet_gatling=13]="bullet_gatling",t[t.atk_min_up=14]="atk_min_up",t[t.atk_speed_min_up=15]="atk_speed_min_up",t[t.exp_up=16]="exp_up",t[t.resurgence=17]="resurgence",t[t.burn_enemy=18]="burn_enemy",t[t.spread_debris=19]="spread_debris",t[t.bloodlust=20]="bloodlust",t[t.hp_restore=21]="hp_restore",t[t.shield=22]="shield",t[t.call_support=23]="call_support",t[t.fatal_injury=24]="fatal_injury",t[t.seconds_kill=25]="seconds_kill",t[t.spirited=26]="spirited",t[t.frenzy=27]="frenzy",t[t.weapon_strengthen=28]="weapon_strengthen",t[t.remould=29]="remould"}(o.PropID||(o.PropID={})),function(t){t.PA_HP_MAX_UP="PA_HP_MAX_UP",t.PA_ATK_UP="PA_ATK_UP",t.PA_ATK_SPEED_UP="PA_ATK_SPEED_UP",t.PA_CRIT_CHANCE_UP="PA_CRIT_CHANCE_UP",t.PA_CRIT_HURT_UP="PA_CRIT_HURT_UP",t.PA_BULLET_COUNT_UP="PA_BULLET_COUNT_UP",t.PA_LEECH_CHANCE_UP="PA_LEECH_CHANCE_UP",t.PA_LEECH_HURT_UP="PA_LEECH_HURT_UP",t.PA_EXP_UP="PA_EXP_UP"}(o.PropAttrID||(o.PropAttrID={})),cc._RF.pop()},{}],PropSystem:[function(t,e,o){"use strict";cc._RF.push(e,"fc2fdC64ZdNm4vL5HSXsdnM","PropSystem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.PropSystem=void 0;var r=t("../../config/DataManager"),a=t("../../module/NodePool"),c=t("../../module/ObjectPool"),s=t("../../utils/ParseUtils"),_=t("../GuidManager"),l=t("./Prop_0"),p=t("./Prop_1"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._Scripts=[l.Prop_0,p.Prop_1],e._PropDict=new Map,e}return i(e,t),e.prototype.Init=function(){},e.prototype.Execute=function(){var t=this,e=[];this._PropDict.forEach(function(t){t.Execute(),t.IsReach()&&e.push(t.guid)}),e.forEach(function(e){var o=t._PropDict.get(e);o.Release(),c.ObjectPool.put(o),t._PropDict.delete(e)})},e.prototype.Release=function(){this._PropDict.forEach(function(t){t.Release(),c.ObjectPool.put(t)}),this._PropDict=new Map},e.prototype.Reset=function(){this._PropDict.forEach(function(t){t.OnReach()})},e.prototype.AddProp=function(t){var e=r.DataManager.TablePropConfigDatasById[t.prop_id];if(e){var o=a.NodePool.get(e.resource_path);if(o){var n=this._Scripts[e.script_id];if(n){o.parent=this.node;var i=c.ObjectPool.get(n);i.guid=_.GuidManager.Guid,i.Init(s.ParseUtils.copy(t),o),this._PropDict.set(i.guid,i)}}}},e.prototype.ForEachProp=function(t){this._PropDict.forEach(function(e,o){t(e,o)})},e.prototype.FindProp=function(t){var e=0;return this.ForEachProp(function(o){o.PropID==t&&(e+=1)}),e>0},e.prototype.GetProp=function(t){return this._PropDict.get(t)},e}(cc.Component);o.PropSystem=u,cc._RF.pop()},{"../../config/DataManager":"DataManager","../../module/NodePool":"NodePool","../../module/ObjectPool":"ObjectPool","../../utils/ParseUtils":"ParseUtils","../GuidManager":"GuidManager","./Prop_0":"Prop_0","./Prop_1":"Prop_1"}],Prop_0:[function(t,e,o){"use strict";cc._RF.push(e,"abe90YRU7RMXq36tI0QX66j","Prop_0");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Prop_0=void 0;var r=t("../TimeManager"),a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.velocity=cc.v2(),e.flyTime=0,e}return i(e,t),e.prototype.Init=function(e,o){t.prototype.Init.call(this,e,o);var n=this._XData.StartPoint,i=cc.v2(n.x,-(cc.winSize.height/2+200)).sub(n);this.velocity=i.normalize().mul(200),this.flyTime=i.mag()/200,this.node.setPosition(n)},e.prototype.Execute=function(){if(!this.IsReach()){var t=r.TimeManager.deltaTime,e=t;this.flyTime-=t,this.flyTime<0&&(this.flyTime-=Math.abs(this.flyTime)),this.node.x+=this.velocity.x*e,this.node.y+=this.velocity.y*e,this.flyTime<=0&&this.OnReach()}},e.prototype.Release=function(){this.velocity=cc.v2(),this.flyTime=0,t.prototype.Release.call(this)},e}(t("./IProp").IProp);o.Prop_0=a,cc._RF.pop()},{"../TimeManager":"TimeManager","./IProp":"IProp"}],Prop_1:[function(t,e,o){"use strict";cc._RF.push(e,"d7d406T60BORZeAQW5SCWU2","Prop_1");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Prop_1=void 0;var r=t("../../utils/Geometry"),a=t("../GameManager"),c=t("../TimeManager"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.velocity_1=260,e.velocity_2=2e3,e._time=0,e._moveSpeed=cc.v2(),e._angleSpeed=0,e._rotateFinished=!1,e}return i(e,t),e.prototype.Init=function(e,o){t.prototype.Init.call(this,e,o);for(var n=cc.v2(),i=(cc.winSize.width-100)/2,a=(cc.winSize.height-100)/2;n=(n=r.Geometry.RandomPointInCircle(260,399)).add(this._XData.StartPoint),!(Math.abs(n.x)<=i&&Math.abs(n.y)<=a););this.velocity_1=60*Math.random()+200;var c=this._XData.StartPoint,s=n;this._moveSpeed=s.sub(c).normalize().mul(this.velocity_1),this._time=s.sub(c).mag()/this.velocity_1,this._angleSpeed=360/this._time,this._angleSpeed*=100*Math.random()>50?-1:1,this.node.setPosition(c)},e.prototype.Execute=function(){if(!this.IsReach()){var t=c.TimeManager.deltaTime,e=t;this._time-=t,this._time<0&&(this._time-=Math.abs(this._time)),this.ExecuteRotate(e),this.ExecuteMove(e)}},e.prototype.ExecuteRotate=function(t){this._rotateFinished||(this.node.x+=this._moveSpeed.x*t,this.node.y+=this._moveSpeed.y*t,this.node.angle+=this._angleSpeed*t,this._time<=0&&(this._time=0,this._rotateFinished=!0))},e.prototype.ExecuteMove=function(t){if(this._rotateFinished){var e=a.default.Instance.Player1.MainWeapon;if(e){t<0&&(t=0),this.node.x+=this._moveSpeed.x*t,this.node.y+=this._moveSpeed.y*t;var o=this.node.getPosition(),n=e.Pos2D;this._moveSpeed=n.sub(o).normalize().mul(this.velocity_2),this._time=n.sub(o).mag()/this.velocity_2}else this.OnReach()}},e.prototype.Release=function(){this._time=0,this._moveSpeed=cc.v2(),this._angleSpeed=0,this._rotateFinished=!1,t.prototype.Release.call(this)},e}(t("./IProp").IProp);o.Prop_1=s,cc._RF.pop()},{"../../utils/Geometry":"Geometry","../GameManager":"GameManager","../TimeManager":"TimeManager","./IProp":"IProp"}],RankItem:[function(t,e,o){"use strict";cc._RF.push(e,"ae043b158tGGbwwwvcTJezz","RankItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RankItem=void 0;var a=cc._decorator,c=a.ccclass,s=a.property,_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textName=null,e.textScore=null,e.spAvatar=null,e.textRank=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.setData=function(t,e,o){var n=this;this.textScore.string="0",1==o&&(this.textRank.string=t.toString(),e.username&&(this.textName.string=e.username),e.score&&(this.textScore.string=e.score.toString()),e.avatarUrl&&cc.loader.load({url:e.avatarUrl,type:"png"},function(t,e){n.spAvatar.spriteFrame=new cc.SpriteFrame(e)}))},r([s(cc.Label)],e.prototype,"textName",void 0),r([s(cc.Label)],e.prototype,"textScore",void 0),r([s(cc.Sprite)],e.prototype,"spAvatar",void 0),r([s(cc.Label)],e.prototype,"textRank",void 0),r([c],e)}(cc.Component);o.RankItem=_,cc._RF.pop()},{}],RecordManager:[function(t,e,o){"use strict";cc._RF.push(e,"dbc0dSXxS9OgIC7jrMgVQlt","RecordManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.RecordManager=void 0;var r=t("../base/extends/GameException"),a=t("../base/InstanceBase"),c=t("../global/enums"),s=t("../global/GlobalOption"),_=t("../utils/CryptoJS"),l=function(t){function e(){var e=t.call(this)||this;if(e._records=[],e._serverrecords=[],e._lastguid="",e._dataLoaded=!1,e._isUploading=!1,e._hasHistoryRecord=!1,"no_guid"==e.Guid)throw"未取得用户信息之前不能实例化 [RecordManager] ,请调整加载时机";return e}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return e.INSTANCE||(e.INSTANCE=a.InstanceBase.getInstance(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Guid",{get:function(){return cc.sys.localStorage.getItem("___lastlogin___guid___")||"no_guid1"},enumerable:!1,configurable:!0}),e.prototype.LoadData=function(){var t=this;return new Promise(function(e,o){t._dataLoaded?o({code:-1,msg:"不能重复加载"}):t.getDataFromServer().then(function(){e(),t._dataLoaded=!0,setInterval(t.toFile.bind(t),1e3),setInterval(t.toServer.bind(t),6e4)}).catch(function(t){o(t)})})},e.prototype.getKey=function(t){return t+this._suffix},e.prototype.getDataFromServer=function(){var t=this,e=this;return new Promise(function(o,n){for(var i in c.DataRecord)if(i!=c.DataRecord.invalid&&c.DataRecord.hasOwnProperty(i)){var a={name:c.DataRecord[i],log:{dataUpdateCount:0,dataSaveCount:0,dataUploadCount:0}};t._serverrecords.push(a)}e._hasHistoryRecord=""!=(cc.sys.localStorage.getItem("___HISTORY_RECORD___")||""),e._hasHistoryRecord||e._serverrecords.forEach(function(t){t.log.dataSaveCount++,t.log.dataUpdateCount++,e.logToFile(t),e.dataToFile(t)}),function(t){for(var i in void 0===t&&(t=!1),c.DataRecord)if(i!=c.DataRecord.invalid&&c.DataRecord.hasOwnProperty(i)){var a=c.DataRecord[i],l={name:a,log:{dataUpdateCount:0,dataSaveCount:0,dataUploadCount:0}},p=cc.sys.localStorage.getItem(e.getKey("Data@"+a)),u=cc.sys.localStorage.getItem(e.getKey("Log@"+a));if(p){try{s.GlobalOption.__Debug__||(p=_.CryptoTS.decrypt(p,"012!@#678$abcdaa","1234567812345698"),u=_.CryptoTS.decrypt(u,"012!@#678$abcdaa","1234567812345698"))}catch(d){n(new r.GameException(-1,"存档解密错误"))}try{l.data=JSON.parse(p),l.log=JSON.parse(u)}catch(d){n(new r.GameException(-1,"存档解析错误"))}t&&(l.log.dataSaveCount++,l.log.dataUpdateCount++)}e._records.push(l)}e.toServer(),o()}()})},e.prototype.dataToFile=function(t){if(t.name!=c.DataRecord.invalid&&t.data){var e=JSON.stringify(t.data);s.GlobalOption.__Debug__||(e=_.CryptoTS.encrypt(e,"012!@#678$abcdaa","1234567812345698")),cc.sys.localStorage.setItem(this.getKey("Data@"+t.name),e)}},e.prototype.logToFile=function(t){if(t.name!=c.DataRecord.invalid){var e=JSON.stringify(t.log);s.GlobalOption.__Debug__||(e=_.CryptoTS.encrypt(e,"012!@#678$abcdaa","1234567812345698")),cc.sys.localStorage.setItem(this.getKey("Log@"+t.name),e)}},e.prototype.toFile=function(){for(var t=0;t<this._records.length;t++)this._records[t].log.dataUpdateCount>this._records[t].log.dataSaveCount&&(this._records[t].log.dataSaveCount=this._records[t].log.dataUpdateCount,this.dataToFile(this._records[t]),this.logToFile(this._records[t]),cc.sys.localStorage.setItem("___HISTORY_RECORD___",(new Date).toString()))},e.prototype.updateObject=function(t,e){if(0==e.length)return t;if(Array.isArray(t)){for(var o=0;o<t.length;o++)if(t[o].id==e[0].key)return e.splice(0,1),this.updateObject(t[o],e);if(e[0].isArray)throw"不支持二维数组";if(e.splice(0,1),0==e.length)return t;var n={id:e[0].key};return t.push(n),this.updateObject(n,e)}var i=e[0];if(t[i.key])return e.splice(0,1),0==e.length?t:this.updateObject(t[i.key],e);if(i.isArray)return e.splice(0,1),0==e.length?t:(n=[{id:i.key}],this.updateObject(n[0],e));if(e.splice(0,1),0==e.length)return t;n={};return t[i.key]=n,this.updateObject(t[i.key],e)},e.prototype.findObject=function(t,e){if(0==e.length)return t;if(Array.isArray(t)){for(var o=0;o<t.length;o++)if(t[o].id==e[0].key)return e.splice(0,1),this.findObject(t[o],e)}else{var n=e[0];if(t[n.key])return e.splice(0,1),this.findObject(t[n.key],e)}},e.prototype.delObject=function(t,e){if(t)if(0!=e.length)if(Array.isArray(t)){for(var o=0;o<t.length;o++)if(t[o].id==e[0].key){if(e.splice(0,1),0!=e.length)return this.delObject(t[o],e);t.splice(o,1)}}else{var n=e[0];if(t[n.key]){if(e.splice(0,1),0!=e.length)return this.delObject(t[n.key],e);t[n.key]=null}}else t=null},e.prototype.updateCache=function(t,e,o){for(var n=0;n<this._records.length;n++)if(this._records[n].name==t){this._records[n].data||(this._records[n].data={});var i=this._records[n].data,r=null;o.length>0&&(r=o[o.length-1],o.splice(o.length-1,1));var a=this.updateObject(i,o);if(!a)throw"没有找到需要更新的对象";if(i=a,r)if(Array.isArray(i)){var c=!1;for(var s in i)if(i[s].id==r.key){i[s]=e,c=!0;break}c||i.push(e)}else i[r.key]=e;else{for(var _ in i)Object.prototype.hasOwnProperty.call(i,_)&&delete i[_];for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&(i[l]=e[l])}this._records[n].log.dataUpdateCount++}},e.prototype.readFromCache=function(t,e){for(var o=0;o<this._records.length;o++)if(this._records[o].name==t){if(!this._records[o].data)return;return this.findObject(this._records[o].data,e)}},e.prototype.toServer=function(){var t=this;if(!this._isUploading){var e=function(o){if(o>=t._records.length)t._isUploading=!1;else if(t._records[o].name!=c.DataRecord.invalid){t._records[o].log.dataSaveCount-t._records[o].log.dataUploadCount>0?(t._isUploading=!0,t._records[o].name,JSON.stringify(t._records[o].data)):e(++o)}else e(++o)};e(0)}},e.prototype.save=function(t,e){for(var o=[],n=2;n<arguments.length;n++)o[n-2]=arguments[n];return this.updateCache(t,e,o),this},e.prototype.read=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return t==c.DataRecord.invalid?null:this.readFromCache(t,e)},e.prototype.del=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];for(var n=0;n<this._records.length;n++)this._records[n].name==t&&(this.delObject(this._records[n].data,e),this._records[n].log.dataUpdateCount++)},Object.defineProperty(e.prototype,"_suffix",{get:function(){return"@"+this.Guid},enumerable:!1,configurable:!0}),e}(a.InstanceBase);o.RecordManager=l,cc._RF.pop()},{"../base/InstanceBase":"InstanceBase","../base/extends/GameException":"GameException","../global/GlobalOption":"GlobalOption","../global/enums":"enums","../utils/CryptoJS":"CryptoJS"}],RecordNode:[function(t,e,o){"use strict";cc._RF.push(e,"8c61eWKnnJDL6GbQ7rsvMIT","RecordNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./ToolsAds"),c=cc._decorator,s=c.ccclass,_=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_runNode=null,e.m_pauseNode=null,e.m_fxNode=null,e.m_tipsLabel=null,e.m_dt=0,e}return i(e,t),e.prototype.onLoad=function(){this.m_runNode=this.node.getChildByName("runNode"),this.m_pauseNode=this.node.getChildByName("pauseNode"),this.m_fxNode=this.node.getChildByName("fxNode"),this.m_tipsLabel=this.node.getChildByName("tipsLabel").getComponent(cc.Label)},e.prototype.updateReordState=function(t){this.m_dt+=t,this.m_dt>.1&&(this.m_dt=0,this.m_runNode.active?this.m_tipsLabel.string="录屏中...":this.m_tipsLabel.string="点击录屏")},e.prototype.startRecord=function(){this.m_runNode.active=!0,this.m_fxNode.active=!1,this.m_pauseNode.active=!1,this.m_tipsLabel.string="录屏中..."},e.prototype.setPauseUI=function(){this.m_runNode.active=!1,this.m_fxNode.active=!1,this.m_pauseNode.active=!0,this.m_tipsLabel.string="点击录屏"},e.prototype.pauseRecord=function(){this.setPauseUI()},e.prototype.onDownRecord=function(){if(this.m_runNode.active){if(!this.m_fxNode.active)return void a.default.showTips("录屏时间不足,请稍等一会");this.pauseRecord()}else this.startRecord()},e.prototype.onDownFx=function(){},e.prototype.update=function(t){this.updateReordState(t),this.m_runNode.active},r([s],e)}(cc.Component));o.default=_,cc._RF.pop()},{"./ToolsAds":"ToolsAds"}],RecordingScreen:[function(t,e,o){"use strict";cc._RF.push(e,"07638iX+fpEYJSf8SYMzEvz","RecordingScreen"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./GameConfigAds"),r={},a=function(){function t(){this._recorder=null,this._videoPath=null,this._iTime=0,this.initVideoRecord()}return t.prototype.initVideoRecord=function(){if(null==this._recorder){var t=this;if(!n.default.instance.getPlatformClass())return;if(!n.default.instance.getPlatformClass().getGameRecorderManager)return;this._recorder=n.default.instance.getPlatformClass().getGameRecorderManager(),this._recorder.onStart(function(){console.log("录屏开始"),t._videoPath=null,t._iTime=0}),this._recorder.onStop(function(e){var o=t._iTime>=30?30:t._iTime;o<3||(console.log(o+"onStop=",e,o),t._recorder.clipVideo({path:e.videoPath,timeRange:[o,0],success:function(e){console.log(o+e.videoPath),t._videoPath=e.videoPath},fail:function(t){console.error(t)}}))})}},t.prototype.updateVideoTime=function(t){this._iTime+=t},t.prototype.startVideo=function(){this._recorder&&(this._recorder.stop(),this._recorder.start({duration:300}))},t.prototype.pauseVideo=function(){this._recorder&&this._recorder.pause()},t.prototype.resumeVideo=function(){this._recorder&&this._recorder.resume()},t.prototype.stopVideo=function(){this._recorder&&this._recorder.stop()},t}();o.default=a,cc._RF.pop()},{"./GameConfigAds":"GameConfigAds"}],Reflect:[function(t,e,o){(function(t,n){"use strict";var i;cc._RF.push(e,"a1df6YcozBEHpQ/oShvqs+V","Reflect"),Object.defineProperty(o,"__esModule",{value:!0}),o.Reflect=void 0,o.Reflect=i,function(e){(function(){var o="object"==typeof n?n:"object"==typeof self?self:"object"==typeof this?this:Function("","return this")(),i=r(e);function r(t,e){return function(o,n){"function"!=typeof t[o]&&Object.defineProperty(t,o,{configurable:!0,writable:!0,value:n}),e&&e(o,n)}}void 0===o.Reflect?o.Reflect=e:i=r(o.Reflect,i),function(e){var o=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,i=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",r=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,c={__proto__:[]}instanceof Array,s=!a&&!c,_={create:a?function(){return W(Object.create(null))}:c?function(){return W({__proto__:null})}:function(){return W({})},has:s?function(t,e){return o.call(t,e)}:function(t,e){return e in t},get:s?function(t,e){return o.call(t,e)?t[e]:void 0}:function(t,e){return t[e]}},l=Object.getPrototypeOf(Function),p="object"==typeof t&&t.env&&"true"===t.env.REFLECT_METADATA_USE_MAP_POLYFILL,u=p||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var t={},e=[],o=function(){function t(t,e,o){this._index=0,this._keys=t,this._values=e,this._selector=o}return t.prototype["@@iterator"]=function(){return this},t.prototype[r]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var o=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:o,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var o=this._find(t,!0);return this._values[o]=e,this},e.prototype.delete=function(e){var o=this._find(e,!1);if(o>=0){for(var n=this._keys.length,i=o+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new o(this._keys,this._values,n)},e.prototype.values=function(){return new o(this._keys,this._values,i)},e.prototype.entries=function(){return new o(this._keys,this._values,a)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[r]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function n(t){return t}function i(t,e){return e}function a(t,e){return[t,e]}}():Map,d=p||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function t(){this._map=new u}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[r]=function(){return this.keys()},t}():Set,h=new(p||"function"!=typeof WeakMap?function(){var t=16,e=_.create(),n=i();return function(){function t(){this._key=i()}return t.prototype.has=function(t){var e=r(t,!1);return void 0!==e&&_.has(e,this._key)},t.prototype.get=function(t){var e=r(t,!1);return void 0!==e?_.get(e,this._key):void 0},t.prototype.set=function(t,e){return r(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=r(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=i()},t}();function i(){var t;do{t="@@WeakMap@@"+c()}while(_.has(e,t));return e[t]=!0,t}function r(t,e){if(!o.call(t,n)){if(!e)return;Object.defineProperty(t,n,{value:_.create()})}return t[n]}function a(t,e){for(var o=0;o<e;++o)t[o]=255*Math.random()|0;return t}function c(){var e,o=(e=t,"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e));o[6]=79&o[6]|64,o[8]=191&o[8]|128;for(var n="",i=0;i<t;++i){var r=o[i];4!==i&&6!==i&&8!==i||(n+="-"),r<16&&(n+="0"),n+=r.toString(16).toLowerCase()}return n}}():WeakMap);function f(t,e){for(var o=t.length-1;o>=0;--o){var n=(0,t[o])(e);if(!E(n)&&!S(n)){if(!B(n))throw new TypeError;e=n}}return e}function y(t,e,o,n){for(var i=t.length-1;i>=0;--i){var r=(0,t[i])(e,o,n);if(!E(r)&&!S(r)){if(!O(r))throw new TypeError;n=r}}return n}function g(t,e,o){var n=h.get(t);if(E(n)){if(!o)return;n=new u,h.set(t,n)}var i=n.get(e);if(E(i)){if(!o)return;i=new u,n.set(e,i)}return i}function v(t,e,o){if(b(t,e,o))return!0;var n=U(e);return!S(n)&&v(t,n,o)}function b(t,e,o){var n=g(e,o,!1);return!E(n)&&!!n.has(t)}function m(t,e,o){if(b(t,e,o))return A(t,e,o);var n=U(e);return S(n)?void 0:m(t,n,o)}function A(t,e,o){var n=g(e,o,!1);if(!E(n))return n.get(t)}function x(t,e,o,n){g(o,n,!0).set(t,e)}function C(t,e){var o=w(t,e),n=U(t);if(null===n)return o;var i=C(n,e);if(i.length<=0)return o;if(o.length<=0)return i;for(var r=new d,a=[],c=0,s=o;c<s.length;c++){var _=s[c];r.has(_)||(r.add(_),a.push(_))}for(var l=0,p=i;l<p.length;l++)_=p[l],r.has(_)||(r.add(_),a.push(_));return a}function w(t,e){var o=[],n=g(t,e,!1);if(E(n))return o;for(var i=N(n.keys()),r=0;;){var a=G(i);if(!a)return o.length=r,o;var c=a.value;try{o[r]=c}catch(s){try{F(i)}finally{throw s}}r++}}function T(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function E(t){return void 0===t}function S(t){return null===t}function O(t){return"object"==typeof t?null!==t:"function"==typeof t}function P(t,e){switch(T(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var o=3===e?"string":5===e?"number":"default",n=L(t,i);if(void 0!==n){var r=n.call(t,o);if(O(r))throw new TypeError;return r}return I(t,"default"===o?"number":o)}function I(t,e){if("string"===e){var o=t.toString;if(M(o)&&!O(i=o.call(t)))return i;if(M(n=t.valueOf)&&!O(i=n.call(t)))return i}else{var n;if(M(n=t.valueOf)&&!O(i=n.call(t)))return i;var i,r=t.toString;if(M(r)&&!O(i=r.call(t)))return i}throw new TypeError}function k(t){return""+t}function R(t){var e=P(t,3);return"symbol"==typeof e?e:k(e)}function D(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function M(t){return"function"==typeof t}function B(t){return"function"==typeof t}function j(t){switch(T(t)){case 3:case 4:return!0;default:return!1}}function L(t,e){var o=t[e];if(null!=o){if(!M(o))throw new TypeError;return o}}function N(t){var e=L(t,r);if(!M(e))throw new TypeError;var o=e.call(t);if(!O(o))throw new TypeError;return o}function G(t){var e=t.next();return!e.done&&e}function F(t){var e=t.return;e&&e.call(t)}function U(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===l)return e;if(e!==l)return e;var o=t.prototype,n=o&&Object.getPrototypeOf(o);if(null==n||n===Object.prototype)return e;var i=n.constructor;return"function"!=typeof i?e:i===t?e:i}function W(t){return t.__=void 0,delete t.__,t}e("decorate",function(t,e,o,n){if(E(o)){if(!D(t))throw new TypeError;if(!B(e))throw new TypeError;return f(t,e)}if(!D(t))throw new TypeError;if(!O(e))throw new TypeError;if(!O(n)&&!E(n)&&!S(n))throw new TypeError;return S(n)&&(n=void 0),y(t,e,o=R(o),n)}),e("metadata",function(t,e){return function(o,n){if(!O(o))throw new TypeError;if(!E(n)&&!j(n))throw new TypeError;x(t,e,o,n)}}),e("defineMetadata",function(t,e,o,n){if(!O(o))throw new TypeError;return E(n)||(n=R(n)),x(t,e,o,n)}),e("hasMetadata",function(t,e,o){if(!O(e))throw new TypeError;return E(o)||(o=R(o)),v(t,e,o)}),e("hasOwnMetadata",function(t,e,o){if(!O(e))throw new TypeError;return E(o)||(o=R(o)),b(t,e,o)}),e("getMetadata",function(t,e,o){if(!O(e))throw new TypeError;return E(o)||(o=R(o)),m(t,e,o)}),e("getOwnMetadata",function(t,e,o){if(!O(e))throw new TypeError;return E(o)||(o=R(o)),A(t,e,o)}),e("getMetadataKeys",function(t,e){if(!O(t))throw new TypeError;return E(e)||(e=R(e)),C(t,e)}),e("getOwnMetadataKeys",function(t,e){if(!O(t))throw new TypeError;return E(e)||(e=R(e)),w(t,e)}),e("deleteMetadata",function(t,e,o){if(!O(e))throw new TypeError;E(o)||(o=R(o));var n=g(e,o,!1);if(E(n))return!1;if(!n.delete(t))return!1;if(n.size>0)return!0;var i=h.get(e);return i.delete(o),i.size>0||(h.delete(e),!0)})}(i)})()}(i||(o.Reflect=i={})),cc._RF.pop()}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1}],RenderManager:[function(t,e,o){"use strict";cc._RF.push(e,"233edD6jpBKlLP4saMzVpdD","RenderManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.RenderManager=void 0;var r=t("../extends/Dictionary"),a=t("../extends/Method"),c=t("../InstanceBase"),s=function(t){function e(){var o=t.call(this)||this;return o._listEnterFrameCallBack=[],o._dicEnterFrameCallBack=r.Dictionary.create(),setInterval(function(){o.enterFrame()},e.secPerFrame),o}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return e.INSTANCE||(e.INSTANCE=c.InstanceBase.getInstance(e))},enumerable:!1,configurable:!0}),e.prototype.on=function(t,e,o,n){if(void 0===n&&(n=!0),null==this._dicEnterFrameCallBack.get(t,e)){var i=a.MethodUnAutoGc.borrow(t,e);null!=o&&i.updateArgs(o),this._dicEnterFrameCallBack.add(t,i,e),this._listEnterFrameCallBack.push(i)}n&&t.apply(e,o)},e.prototype.off=function(t,e){var o,n=this,i=this._dicEnterFrameCallBack.del(t,e);null==i&&this._dicEnterFrameCallBack.for(function(r){return(o=n._dicEnterFrameCallBack.get(r)).handler!==t||o.thisObj!==e||(n._dicEnterFrameCallBack.del(r),i=o,!1)}),null!=i&&(i.return(),this._listEnterFrameCallBack.splice(this._listEnterFrameCallBack.indexOf(i),1))},e.prototype.enterFrame=function(){this._listEnterFrameCallBack.forEach(function(t){t.excute()})},e.frameRate=60,e.secPerFrame=1e3/e.frameRate,e}(c.InstanceBase);o.RenderManager=s,cc._RF.pop()},{"../InstanceBase":"InstanceBase","../extends/Dictionary":"Dictionary","../extends/Method":"Method"}],ReveiveAwardAni:[function(t,e,o){"use strict";cc._RF.push(e,"065fey7l/9AOa8uHRvJFWzh","ReveiveAwardAni");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../global/enums"),c=t("../../module/SoundManage"),s=t("../../utils/Geometry"),_=t("../../utils/LoadManager"),l=t("../hall/nodeTopBG"),p=cc._decorator,u=p.ccclass,d=(p.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._zTarget=1,e._zAni=2,e._expPath="image/game/prop/img_exp",e._jewelPath="image/game/hall_ui/img_jewel_ani",e._vitalityPath="image/game/hall_ui/img_vitality_ani",e._vitalityHintPath="prefab/hall/VitalityHint",e}var o;return i(e,t),o=e,e.prototype.start=function(){o.instance=this},e.prototype.update=function(){},e.prototype._PlauVitalityHint=function(t){var e=t.convertToWorldSpaceAR(cc.v2());e=this.node.convertToNodeSpaceAR(e);var o=_.LoadManager.get(this._vitalityHintPath),n=cc.instantiate(o);n.parent=this.node,n.setPosition(e),cc.tween(n).by(.5,{y:0,scale:2,opacity:-255}).removeSelf().start()},e.prototype._PlayExpAni=function(t,e,o){var n=null,i="",r=1,p=360,u=150,d=300;if(t==a.WealthType.exp_user?(r=.7,p=360,i=this._expPath,n=l.default.instance.GetExpNode()):t==a.WealthType.jewel?(r=1,p=360,i=this._jewelPath,n=l.default.instance.GetJewelNode()):t==a.WealthType.vitality&&(r=1.3,p=0,u=100,d=200,i=this._vitalityPath,n=l.default.instance.GetVitalityNode()),null!=n){var h=cc.instantiate(n),f=n.convertToWorldSpaceAR(cc.v2());f=this.node.convertToNodeSpaceAR(f),h.parent=this.node,h.zIndex=this._zTarget,h.setPosition(f);var y=e.convertToWorldSpaceAR(cc.v2(0,0));y=this.node.convertToNodeSpaceAR(y);for(var g=o,v=0;v<o;v++){var b=s.Geometry.RandomPointInCircle(u,d);b=b.add(y);var m=new cc.Node,A=m.addComponent(cc.Sprite),x=_.LoadManager.get(i);A.spriteFrame=new cc.SpriteFrame(x),m.parent=this.node,m.zIndex=this._zAni+Math.floor(2*Math.random()),m.scale=r,m.setPosition(y),cc.tween(m).to(.4,{x:b.x,y:b.y,angle:Math.random()*p}).to(.5+.7*Math.random(),{x:f.x,y:f.y,angle:Math.random()*p}).call(function(){c.SoundManage.instance.PlaySound(a.GameSound.sound_receive_award),g-=1,cc.Tween.stopAllByTarget(h),h.scale=1,0==g?cc.tween(h).by(.1,{scale:.2}).by(.1,{scale:-.2}).removeSelf().start():cc.tween(h).by(.1,{scale:.2}).by(.1,{scale:-.2}).start()}).removeSelf().start()}}},e.PlayExpAni=function(t,e){o.instance._PlayExpAni(a.WealthType.exp_user,t,e)},e.PlayJewelAni=function(t,e){o.instance._PlayExpAni(a.WealthType.jewel,t,e)},e.PlayVitalityAni=function(t,e){o.instance._PlayExpAni(a.WealthType.vitality,t,e)},e.PlauVitalityHint=function(t){o.instance._PlauVitalityHint(t)},e.instance=null,o=r([u],e)}(cc.Component));o.default=d,cc._RF.pop()},{"../../global/enums":"enums","../../module/SoundManage":"SoundManage","../../utils/Geometry":"Geometry","../../utils/LoadManager":"LoadManager","../hall/nodeTopBG":"nodeTopBG"}],SerializeElement:[function(t,e,o){"use strict";cc._RF.push(e,"f9844tXJrFH/5eM4+LW5kuH","SerializeElement"),Object.defineProperty(o,"__esModule",{value:!0}),o.SerializeElement=o.Record=o.Serialize=void 0;var n=t("./Reflect");o.Serialize=function(t){return function(e,o){n.Reflect.defineMetadata("SerializeMetaKey",t||o,e,o)}};o.Record=function(t){return function(e,o){n.Reflect.defineMetadata("RecorddMetaKey",t||o,e,o)}};var i=function(){function t(){}return t.prototype.toJSON=function(){var e=this,o={};return Object.keys(this).forEach(function(i){var r=n.Reflect.getMetadata("SerializeMetaKey",e,i);r&&(e[i]instanceof t?o[r]=e[i].toJSON():o[r]=e[i])}),o},t.prototype.toRecord=function(){var e=this,o={};return Object.keys(this).forEach(function(i){var r=n.Reflect.getMetadata("RecorddMetaKey",e,i);r&&(e[i]instanceof t?o[r]=e[i].toRecord():o[r]=e[i])}),o},t.prototype.fromJSON=function(e){var o=this;e&&Object.keys(this).forEach(function(i){var r=n.Reflect.getMetadata("SerializeMetaKey",o,i);r&&void 0!==e[r]&&(o[i]instanceof t?o[i].fromJSON(e[r]):o[i]=e[r])})},t.prototype.fromRecord=function(e){var o=this;e&&Object.keys(this).forEach(function(i){var r=n.Reflect.getMetadata("RecorddMetaKey",o,i);r&&void 0!==e[r]&&(o[i]instanceof t?o[i].fromRecord(e[r]):o[i]=e[r])})},t}();o.SerializeElement=i,cc._RF.pop()},{"./Reflect":"Reflect"}],SetLayer:[function(t,e,o){"use strict";cc._RF.push(e,"1a7ad5H1Z1ASIk1zeyWcIEB","SetLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SetLayer=void 0;var a=t("../../ads/HelpMgr"),c=t("../../global/GlobaLocalData"),s=t("../../global/GlobalOption"),_=t("../../module/SoundManage"),l=t("../../ThirdParty/ThirdParty"),p=t("../public/SwitchEffect"),u=cc._decorator,d=u.ccclass,h=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.textVersion=null,e.toggleMusic=null,e.toggleShake=null,e}return i(e,t),e.prototype.onLoad=function(){},e.prototype.onDestroy=function(){},e.prototype.onEnable=function(){var t=this;a.default.instance.setOvNode(this,function(){t.OnClickEventClose(null)})},e.prototype.start=function(){p.SwitchEffect.playOpen(this.node),l.ThirdParty.instance.showBannerAd();var t=c.GlobaLocalData.instance.ReadGameConfig();this.toggleMusic.isChecked=t.music,this.toggleShake.isChecked=t.shake,this.textVersion.string=""},e.prototype.OnClickEventMusic=function(){var t=c.GlobaLocalData.instance.ReadGameConfig();t.sound=!t.sound,t.music=!t.music,c.GlobaLocalData.instance.WriteGameConfig(t),_.SoundManage.instance.UpdateData()},e.prototype.OnClickEventShake=function(){var t=c.GlobaLocalData.instance.ReadGameConfig();t.shake=!t.shake,c.GlobaLocalData.instance.WriteGameConfig(t)},e.prototype.OnClickEventClose=function(){p.SwitchEffect.playClose(this.node,!0),l.ThirdParty.instance.hideBannerAd()},r([h(cc.Label)],e.prototype,"textVersion",void 0),r([h(cc.Toggle)],e.prototype,"toggleMusic",void 0),r([h(cc.Toggle)],e.prototype,"toggleShake",void 0),r([d],e)}(cc.Component);o.SetLayer=f,cc._RF.pop()},{"../../ThirdParty/ThirdParty":"ThirdParty","../../ads/HelpMgr":"HelpMgr","../../global/GlobaLocalData":"GlobaLocalData","../../global/GlobalOption":"GlobalOption","../../module/SoundManage":"SoundManage","../public/SwitchEffect":"SwitchEffect"}],ShareFriendsLayer:[function(t,e,o){"use strict";cc._RF.push(e,"7b0ad/hUz9P+aCo/6NLo1Y0","ShareFriendsLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../public/SwitchEffect"),_=cc._decorator,l=_.ccclass,p=(_.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){return a(this,void 0,void 0,function(){return c(this,function(){return s.SwitchEffect.playOpen(this.node),[2]})})},e.prototype.onClickEventClose=function(){s.SwitchEffect.playClose(this.node,!0)},r([l],e)}(cc.Component));o.default=p,cc._RF.pop()},{"../public/SwitchEffect":"SwitchEffect"}],SigninLayer:[function(t,e,o){"use strict";cc._RF.push(e,"ea7506QEp5Dl5pieWamFeXt","SigninLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../ads/HelpMgr"),c=t("../../config/DataManager"),s=t("../../global/define"),_=t("../../global/enums"),l=t("../../record/GameInfoRecord"),p=t("../../record/WealthRecord"),u=t("../../ThirdParty/ThirdParty"),d=t("../../ThirdParty/WxAdMgr"),h=t("../public/ReveiveAwardAni"),f=t("../public/SwitchEffect"),y=cc._decorator,g=y.ccclass,v=y.property,b=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_start_light_ani=null,e.node_days=[],e.node_receive=null,e.node_finished=null,e.text_hint_1=null,e}return i(e,t),e.prototype.start=function(){f.SwitchEffect.playOpen(this.node),u.ThirdParty.instance.showBannerAd(),this.CreateAnimation(),this.UpdateView()},e.prototype.update=function(){},e.prototype.UpdateView=function(){var t=this,e=c.DataManager.TableSignInConfigDatasArray;if(e.length<7)return f.SwitchEffect.playClose(this.node,!0),u.ThirdParty.instance.hideBannerAd(),void console.error("ERROR: SigninLayer UpdateView config.length < 7");var o=l.GameInfoRecord.instance.CheckSignin();this.node_receive.active=!o,this.node_finished.active=o;var n=l.GameInfoRecord.instance.SigninCount();e.forEach(function(e,o){var i=t.node_days[o],r=i.getChildByName("sp_finished");e.award_list.forEach(function(t,e){var o=i.getChildByName("text_reward_"+(e+1));o&&(o.getComponent(cc.Label).string=s.Define.ConvertN(t))}),r.active=o<n}),a.default.instance.setOvNode(this,function(){console.log("---------------");l.GameInfoRecord.instance.CheckSignin()||t.onClickEventReceive()})},e.prototype.onClickEventClose=function(){f.SwitchEffect.playClose(this.node,!0),u.ThirdParty.instance.hideBannerAd()},e.prototype.onClickEventDoubleReceive=function(){var t=this;s.Define.CreateLoading("Ads loading...");playVideo(res=>{if(res){s.Define.RemoveLoading(),t.ReceiveReward(2)}else{s.Define.RemoveLoading(),s.Define.OutputMessage("Ad failed")}})},e.prototype.onClickEventReceive=function(){this.ReceiveReward(1)},e.prototype.ReceiveReward=function(t){var e=this,o=c.DataManager.TableSignInConfigDatasArray[l.GameInfoRecord.instance.SigninCount()];null!=o?(l.GameInfoRecord.instance.Signin(),o.award_list.forEach(function(n,i){var r=o.wealth_type_list[i],a=e.node_days[i];r==_.WealthType.exp_user?cc.tween(a).delay(.3*i).call(function(){p.WealthRecord.instance.AddExp(n*t),h.default.PlayExpAni(e.text_hint_1,15)}).start():r==_.WealthType.jewel?cc.tween(a).delay(.3*i).call(function(){p.WealthRecord.instance.AddJewel(n*t),h.default.PlayJewelAni(e.text_hint_1,n*t)}).start():console.error("ERROR: SigninLayer ReceiveReward type undefined")}),this.UpdateView(),cc.tween(this.node).delay(1).call(function(){f.SwitchEffect.playClose(e.node,!0),u.ThirdParty.instance.hideBannerAd()}).start()):console.error("ERROR: SigninLayer ReceiveReward data == null")},e.prototype.CreateAnimation=function(){var t=this;cc.tween(this.node_start_light_ani).repeatForever(cc.tween(this.node_start_light_ani).call(function(){t.node_start_light_ani.x=235}).to(1,{x:-235}).delay(1.5)).start()},r([v(cc.Node)],e.prototype,"node_start_light_ani",void 0),r([v([cc.Node])],e.prototype,"node_days",void 0),r([v(cc.Node)],e.prototype,"node_receive",void 0),r([v(cc.Node)],e.prototype,"node_finished",void 0),r([v(cc.Node)],e.prototype,"text_hint_1",void 0),r([g],e)}(cc.Component);o.default=b,cc._RF.pop()},{"../../ThirdParty/ThirdParty":"ThirdParty","../../ThirdParty/WxAdMgr":"WxAdMgr","../../ads/HelpMgr":"HelpMgr","../../config/DataManager":"DataManager","../../global/define":"define","../../global/enums":"enums","../../record/GameInfoRecord":"GameInfoRecord","../../record/WealthRecord":"WealthRecord","../public/ReveiveAwardAni":"ReveiveAwardAni","../public/SwitchEffect":"SwitchEffect"}],SingleSerializeElement:[function(t,e,o){"use strict";cc._RF.push(e,"b33a2+1kr9BwpSsHA7hEgVL","SingleSerializeElement");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SingleSerializeElement=void 0;var r=function(t){function e(){if(!e.CONSTRUCT_ABLE_ELEMENT)throw new Error("单例类,请不要直接实例化,通过静态属性instance访问");return e.CONSTRUCT_ABLE_ELEMENT=!1,t.call(this)||this}return i(e,t),e.getInstance=function(t){return e.CONSTRUCT_ABLE_ELEMENT=!0,new t},e.CONSTRUCT_ABLE_ELEMENT=!1,e}(t("./SerializeElement").SerializeElement);o.SingleSerializeElement=r,cc._RF.pop()},{"./SerializeElement":"SerializeElement"}],SoundManage:[function(t,e,o){"use strict";cc._RF.push(e,"20efdSRDppHha3zVTWWXGev","SoundManage");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SoundManage=void 0;var r=t("../base/InstanceBase"),a=t("../global/define"),c=t("../global/enums"),s=t("../global/GlobaLocalData"),_=t("../logic/TimeManager"),l=t("../utils/LoadManager"),p=function(t){function e(){var e=t.call(this)||this;return e.MusicOnRrOff=!0,e.SoundOnRrOff=!0,e.CurrentMusicFile="",e.MaxMusicVolume=1,e.SoundInterval=[{type:c.GameSound.sound_hit,interval:.06,lateTime:0},{type:c.GameSound.sound_monster_bomb,interval:.03,lateTime:0}],e}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return e.INSTANCE||(e.INSTANCE=r.InstanceBase.getInstance(e))},enumerable:!1,configurable:!0}),e.prototype.SetMusic=function(t){t!=this.MusicOnRrOff&&(this.MusicOnRrOff=t,1==t?(cc.audioEngine.resumeMusic(),cc.audioEngine.setMusicVolume(this.MaxMusicVolume),this.PlayMusic(this.CurrentMusicFile)):(cc.audioEngine.pauseMusic(),cc.audioEngine.setMusicVolume(0)))},e.prototype.SetSound=function(t){t!=this.SoundOnRrOff&&(this.SoundOnRrOff=t,1==t?cc.audioEngine.setEffectsVolume(1):cc.audioEngine.setEffectsVolume(0))},e.prototype.PlaySound=function(t,e){if(void 0===e&&(e=!0),1==this.SoundOnRrOff){var o=this.SoundInterval.find(function(e){return e.type==t});if(o){if(_.TimeManager.totalTime-o.lateTime<o.interval)return;o.lateTime=_.TimeManager.totalTime}if(t!=c.GameSound.sound_hit&&t!=c.GameSound.sound_monster_bomb||a.Define.Vibrate(.015),t==c.GameSound.sound_monster_bomb&&e){var n=[c.GameSound.sound_monster_bomb,c.GameSound.sound_monster_bomb_1,c.GameSound.sound_monster_bomb_2];t=n[Math.floor(Math.random()*n.length)]}var i=l.LoadManager.get(t);i&&cc.audioEngine.playEffect(i,!1)}},e.prototype.PlayMusic=function(t){if((this.CurrentMusicFile!=t||1!=cc.audioEngine.isMusicPlaying())&&(this.CurrentMusicFile=t,1==this.MusicOnRrOff)){var e=l.LoadManager.get(t);e&&cc.audioEngine.playMusic(e,!0)}},e.prototype.UpdateData=function(){var t=s.GlobaLocalData.instance.ReadGameConfig();this.SetMusic(t.music),this.SetSound(t.sound)},e}(r.InstanceBase);o.SoundManage=p,cc._RF.pop()},{"../base/InstanceBase":"InstanceBase","../global/GlobaLocalData":"GlobaLocalData","../global/define":"define","../global/enums":"enums","../logic/TimeManager":"TimeManager","../utils/LoadManager":"LoadManager"}],StrTools:[function(t,e,o){"use strict";cc._RF.push(e,"b705fG6Wh9Clb66zi9Ox+Ca","StrTools"),Object.defineProperty(o,"__esModule",{value:!0}),o.StrTools=void 0;var n=function(){function t(){}return t.format=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];if(1==e.length&&"object"==typeof e[0]){var n="",i="";return t.replace(/{[A-Za-z]+}/g,function(t){return n=t.slice(1,-1),void 0!==(i=e[0][n])?i:""})}return t.replace(/{(\d+)}/g,function(t,o){return void 0!==e[o]?e[o]:""})},t.uint8ArrayToString=function(t){for(var e="",o=0;o<t.length;o++)e+=String.fromCharCode(t[o]);return e},t.stringToUint8Array=function(t){for(var e=[],o=0,n=t.length;o<n;++o)e.push(t.charCodeAt(o));return new Uint8Array(e)},t.stringToArrayBuffer=function(t){for(var e=new ArrayBuffer(2*t.length),o=new Uint16Array(e),n=0,i=t.length;n<i;n++)o[n]=t.charCodeAt(n);return e},t.arrayBufferToString=function(t){return String.fromCharCode.apply(null,new Uint8Array(t))},t}();o.StrTools=n,cc._RF.pop()},{}],SwitchEffect:[function(t,e,o){"use strict";cc._RF.push(e,"2b19bwTmABEjqI+iRxrZqJD","SwitchEffect"),Object.defineProperty(o,"__esModule",{value:!0}),o.SwitchEffect=void 0;var n=function(){function t(){}return t.playOpen=function(e,o){void 0===o&&(o=!0),o&&(e.scale=1.5),e.opacity=0;var n=t.addBlockInputEvents(e);cc.tween(e).to(.15,{scale:1,opacity:255}).call(function(){n.destroy()}).start()},t.addBlockInputEvents=function(t){var e=new cc.Node;return e.parent=t,e.zIndex=cc.macro.MAX_ZINDEX,e.width=5e3,e.height=5e3,e.addComponent(cc.BlockInputEvents),e},t.playClose=function(e,o,n,i){void 0===n&&(n=!0);var r=1;if(n){var a=e.getChildByName("spBG");a&&(a.scale=5),r=.7}var c=t.addBlockInputEvents(e);cc.tween(e).to(.2,{scale:r,opacity:0}).call(function(){c.destroy(),i?i():o?e.destroy():e.active=!1}).start()},t}();o.SwitchEffect=n,cc._RF.pop()},{}],TestScene:[function(t,e,o){"use strict";cc._RF.push(e,"901ecMyo6RPq4wUmYmkZTn5","TestScene");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../global/enums"),c=t("../base/App"),s=t("../module/SoundManage"),_=t("../logic/GameManager"),l=t("../record/MainWeaponStore"),p=t("./MainScene"),u=cc._decorator,d=u.ccclass,h=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nodeGame=null,e.nodeFunction=null,e.node_start_light_ani=null,e.firstGame=!1,e}var o;return i(e,t),o=e,e.prototype.onLoad=function(){o.instance=this,p.default.instance=this,c.App.notice.on(a.GameEvent.chapter_finished,this.onEventLevelFinished,this),c.App.notice.on(a.GameEvent.chapter_failure,this.onEventLevelFailure,this)},e.prototype.onDestroy=function(){c.App.notice.off(a.GameEvent.chapter_finished,this.onEventLevelFinished,this),c.App.notice.off(a.GameEvent.chapter_failure,this.onEventLevelFailure,this)},e.prototype.start=function(){var t=this;s.SoundManage.instance.PlayMusic(a.GameSound.music_hall),null==l.MainWeaponStore.instance.getMainWeapon()&&l.MainWeaponStore.instance.setMainWeapon(1),this.nodeGame.addComponent(_.default),cc.tween(this.node_start_light_ani).repeatForever(cc.tween(this.node_start_light_ani).call(function(){t.node_start_light_ani.x=235}).to(1,{x:-235}).delay(3)).start()},e.prototype.update=function(){},e.prototype.onEventStartGame=function(){this.EnterGame(a.GameModel.gm_endless)},e.prototype.EnterGame=function(t){s.SoundManage.instance.PlayMusic(a.GameSound.music_game),this.nodeFunction.active=!1,_.default.Instance.StartGame(t)},e.prototype.onEventLevelFinished=function(){this.nodeFunction.active=!0,s.SoundManage.instance.PlayMusic(a.GameSound.music_hall)},e.prototype.onEventLevelFailure=function(){this.nodeFunction.active=!0,s.SoundManage.instance.PlayMusic(a.GameSound.music_hall)},e.instance=null,r([h(cc.Node)],e.prototype,"nodeGame",void 0),r([h(cc.Node)],e.prototype,"nodeFunction",void 0),r([h(cc.Node)],e.prototype,"node_start_light_ani",void 0),o=r([d],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../base/App":"App","../global/enums":"enums","../logic/GameManager":"GameManager","../module/SoundManage":"SoundManage","../record/MainWeaponStore":"MainWeaponStore","./MainScene":"MainScene"}],ThirdParty:[function(t,e,o){"use strict";cc._RF.push(e,"0ce79+zzsVFMqFspJul0zt0","ThirdParty");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ThirdParty=void 0;var r=t("./WxAdMgr"),a=t("../base/InstanceBase"),c=t("../global/define"),s=t("../global/GlobaLocalData"),_=t("../module/SoundManage"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return e.INSTANCE||(e.INSTANCE=a.InstanceBase.getInstance(e))},enumerable:!1,configurable:!0}),e.prototype.login=function(t){t(!1,null)},e.prototype.hostIsLogin=function(){return new Promise(function(t){t(!1)})},e.prototype.showVideoAd=function(t){var e=s.GlobaLocalData.instance.ReadGameConfig(),o=e.music;e.music=!1,s.GlobaLocalData.instance.WriteGameConfig(e),_.SoundManage.instance.UpdateData();var n={type:t.type,onError:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];e.music=o,s.GlobaLocalData.instance.WriteGameConfig(e),_.SoundManage.instance.UpdateData(),t.onError.apply(t,n)},onSuccess:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];e.music=o,s.GlobaLocalData.instance.WriteGameConfig(e),_.SoundManage.instance.UpdateData(),t.onSuccess.apply(t,n)},onClose:function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];e.music=o,s.GlobaLocalData.instance.WriteGameConfig(e),_.SoundManage.instance.UpdateData(),t.onClose.apply(t,n)}};c.Define.isWeChat()?r.WxAdMgr.instance.showVideoAd({onCloseCallBack:n.onClose,onErrorCallBack:n.onError,onSuccess:n.onSuccess,type:n.type}):c.Define.isWeb()?n.onSuccess():n.onError()},e.prototype.showBannerAd=function(){c.Define.isWeChat()&&r.WxAdMgr.instance.showBannerAd()},e.prototype.hideBannerAd=function(){c.Define.isWeChat()&&r.WxAdMgr.instance.hideBannerAd()},e.prototype.showInterstitialAd=function(){cc.sys.platform==cc.sys.WECHAT_GAME&&r.WxAdMgr.instance.showInterstitialAd()},e.prototype.shareAppMessage=function(t){t.success&&t.success()},e.prototype.onShareAppMessage=function(){},e}(a.InstanceBase);o.ThirdParty=l,cc._RF.pop()},{"../base/InstanceBase":"InstanceBase","../global/GlobaLocalData":"GlobaLocalData","../global/define":"define","../module/SoundManage":"SoundManage","./WxAdMgr":"WxAdMgr"}],TimeManager:[function(t,e,o){"use strict";cc._RF.push(e,"c8f79YmlxZNV4ycRxrvOT9v","TimeManager");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.TimeManager=void 0;var i=cc._decorator,r=i.ccclass,a=(i.property,function(){function t(){}var e;return e=t,Object.defineProperty(t,"timeScale",{get:function(){return e._timeScale},set:function(t){e._timeScale=t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"startTime",{get:function(){return e._startTime},enumerable:!1,configurable:!0}),Object.defineProperty(t,"frameCount",{get:function(){return e._frameCount},enumerable:!1,configurable:!0}),Object.defineProperty(t,"totalTime",{get:function(){return e._totalTime},enumerable:!1,configurable:!0}),t.Timmer=function(){e._isPaused||(e._frameCount++,e._totalTime+=cc.director.getDeltaTime()*e.timeScale)},t.StartTimer=function(){e._startTime=cc.director.getTotalTime(),e._frameCount=0,e._totalTime=0,e._isPaused=!1,cc.director.on(cc.Director.EVENT_BEFORE_UPDATE,e.Timmer)},t.StopTimer=function(){cc.director.off(cc.Director.EVENT_BEFORE_UPDATE,e.Timmer)},t.Pause=function(){e._isPaused=!0},t.Resume=function(){e._isPaused=!1},Object.defineProperty(t,"deltaTime",{get:function(){return cc.director.getDeltaTime()*e.timeScale},enumerable:!1,configurable:!0}),t._isPaused=!1,t._timeScale=1,t._startTime=0,t._frameCount=0,t._totalTime=0,e=n([r],t)}());o.TimeManager=a,cc._RF.pop()},{}],ToolsAds:[function(t,e,o){"use strict";cc._RF.push(e,"661a8whz3dKi6OCf125z7TV","ToolsAds"),Object.defineProperty(o,"__esModule",{value:!0});var n=cc._decorator,i=(n.ccclass,n.property,[cc.Color.GREEN,cc.Color.BLUE,cc.Color.MAGENTA,cc.Color.RED,cc.Color.YELLOW]),r=function(){function t(){}return t.delayTimeRun=function(t,e,o,n){void 0===n&&(n=1001);var i=cc.delayTime(e),r=cc.callFunc(o),a=cc.sequence(i,r);t.runAction(a)},t.random000=function(t,e){return t==e?t:Math.floor(Math.random()*(e-t+1)+t)},t.copyArray=function(t){return JSON.parse(JSON.stringify(t))},t.toWorldPos=function(t){return t.parent.convertToWorldSpaceAR(t.getPosition())},t.worldConvertLocalPointAR=function(t,e){return t?t.convertToNodeSpaceAR(e):null},t.worldConvertLocalPoint=function(t,e){return t?t.convertToNodeSpace(e):null},t.convetOtherNodeSpace=function(t,e){if(!t||!e)return null;var o=this.localConvertWorldPoint(t);return this.worldConvertLocalPoint(e,o)},t.convetOtherNodeSpaceAR=function(t,e){if(!t||!e)return null;var o=this.localConvertWorldPointAR(t);return this.worldConvertLocalPointAR(e,o)},t.localConvertWorldPointAR=function(t){return t?t.convertToWorldSpaceAR(cc.v2(0,0)):null},t.localConvertWorldPoint=function(t){return t?t.convertToWorldSpaceAR(cc.v2(0,0)):null},t.isOppoVivo=function(){return cc.sys.platform===cc.sys.OPPO_GAME?2:cc.sys.platform===cc.sys.VIVO_GAME?1:cc.sys.platform===cc.sys.WECHAT_GAME?0:2},t.getPlatformClass=function(){return"undefined"!=typeof qg?qg:"undefined"!=typeof qq?qq:"undefined"!=typeof swan?swan:"undefined"!=typeof tt?tt:"undefined"!=typeof wx?wx:void 0},t.setProProgess=function(t,e){t.progress=Math.max(e,.01)},t.isiOS=function(){if(-101.101!=this.m_isIos)return this.m_isIos;var t=navigator.userAgent,e=!!t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);return this.m_isIos=e,console.log("当前ios 系统",e,t),e},t.isAndroid=function(){if(-101.101!=this.m_isAndroid)return this.m_isAndroid;var t=navigator.userAgent,e=t.indexOf("Android")>-1||t.indexOf("Adr")>-1;return this.m_isAndroid=e,console.log("当前android 系统",e,t),e},t.getEQName=function(t){return i[t]},t.loadui=function(t,e){console.log("加载界面---------",t),cc.loader.loadRes(t,cc.Asset,function(){},function(t,o){t?console.log("加载界面  失败-------"):e&&e(o)})},t.countTimeStr=function(t){if(!t)return!0;if("0"==t)return!0;var e=(t+="").split("-");if(e.length<=1)return!0;var o=e[0].split(":"),n=e[1].split(":"),i=[],r=[],a=function(t,e){for(var o=0;o<t.length;o++){var n=t[o];e[o]="00"==n?0:Number(n)}return e};i=a(o,i),r=a(n,r);var c=this.toFwqDate(),s=c.getHours(),_=c.getMinutes();return s>i[0]&&s<r[0]||s>r[0]&&s<i[0]||_>i[1]&&_<r[1]||_>r[1]&&_<i[1]},t.toFwqDate=function(){return new Date},t.destroyNode=function(t){cc.isValid(t)&&(t.parent=null)},t.showTips=function(t){console.log("showTips",t);var e=this.getPlatformClass();e&&e.showToast;var o=t,n=cc.color(102,102,102,200),i=cc.director.getScene().getComponentInChildren(cc.Canvas),r=i.node.width,a=i.node.height,c=new cc.Node;c.group="UI";var s=new cc.Node,_=s.addComponent(cc.Label);_.horizontalAlign=cc.Label.HorizontalAlign.CENTER,_.verticalAlign=cc.Label.VerticalAlign.CENTER,_.fontSize=30,_.string=o,o.length*_.fontSize>3*r/5?(s.width=3*r/5,_.overflow=cc.Label.Overflow.RESIZE_HEIGHT):s.width=o.length*_.fontSize;var l=1+~~(o.length*_.fontSize/(3*r/5));s.height=_.fontSize*l;var p=c.addComponent(cc.Graphics);p.arc(-s.width/2,0,s.height/2+20,.5*Math.PI,1.5*Math.PI,!0),p.lineTo(s.width/2,-(s.height/2+20)),p.arc(s.width/2,0,s.height/2+20,1.5*Math.PI,.5*Math.PI,!0),p.lineTo(-s.width/2,s.height/2+20),p.fillColor=n,p.fill(),c.addChild(s),c.y=c.y+a/5*2,i.node.addChild(c);var u=cc.callFunc(function(){c.destroy()}),d=cc.sequence(cc.moveBy(1,cc.v2(0,0)),cc.fadeOut(.3),u);c.runAction(d)},t.m_isIos=-101.101,t.m_isAndroid=-101.101,t.m_wxData=[],t.m_configData=null,t.m_isBegin=!1,t}();o.default=r,cc._RF.pop()},{}],UIDManager:[function(t,e,o){"use strict";cc._RF.push(e,"a1ef9hgBJ5DprP4YxNELdx+","UIDManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.UIDManager=void 0;var n=function(){function t(){}return t.getUid=function(e,o){if(null!=e)return e.constructor===String||e.constructor===Number?e:(null==e["com.once.uid"]&&(t.UUID++,e["com.once.uid"]="com.once.uid"+t.UUID),null!=o?(null==o["com.once.uid"]&&(t.UUID++,o["com.once.uid"]="com.once.uid"+t.UUID),o["com.once.uid"]+"_"+e["com.once.uid"]):e["com.once.uid"]);throw new Error("uid生成失败")},t.UUID=0,t}();o.UIDManager=n,cc._RF.pop()},{}],UIGameFinished:[function(t,e,o){"use strict";cc._RF.push(e,"04713J5X0NBA7u0kMjEUhGX","UIGameFinished");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UIGameFinished=void 0;var a=t("../../ads/HelpMgr"),c=t("../../base/App"),s=t("../../config/DataManager"),_=t("../../global/define"),l=t("../../global/enums"),p=t("../../prefab/hall/nodeChapter"),u=t("../../prefab/public/ReveiveAwardAni"),d=t("../../prefab/public/SwitchEffect"),h=t("../../record/ChapterInfo"),f=t("../../record/DeputyWeaponStore"),y=t("../../record/WealthRecord"),g=t("../../ThirdParty/ThirdParty"),v=t("../../ThirdParty/WxAdMgr"),b=t("../../utils/LoadManager"),m=t("../GameManager"),A=t("../WorldManager"),x=cc._decorator,C=x.ccclass,w=x.property,T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text_chapter=null,e.text_wave=null,e.text_exp=null,e.text_exp_hint=null,e.node_start_light_ani=null,e.sp_exp=null,e.node_reward_1=null,e.node_reward_2=null,e.spWeaponIcon=null,e._finishedCall=null,e}return i(e,t),e.prototype.Init=function(){this.node.active=!1,this.Reset(),this.CreateAnimation()},e.prototype.Execute=function(){},e.prototype.Release=function(){},e.prototype.Reset=function(){},e.prototype.CreateAnimation=function(){var t=this;cc.tween(this.node_start_light_ani).repeatForever(cc.tween(this.node_start_light_ani).call(function(){t.node_start_light_ani.x=235}).to(1,{x:-235}).delay(1.5)).start()},e.prototype.Show=function(t){var e=this;playInter();this.Reset(),this.node.active=!0,c.App.notice.trigger(l.GameEvent.chapter_pause),d.SwitchEffect.playOpen(this.node,!1),g.ThirdParty.instance.showBannerAd(),this._finishedCall=t;var o=m.default.Instance.Player2.currentMode;o==l.GameModel.gm_chapter?this.SetChapterInfo():o==l.GameModel.gm_endless&&this.SetEndlessInfo(),a.default.instance.setOvNode(this,function(){e.onClickEventReceive()})},e.prototype.SetChapterInfo=function(){var t=m.default.Instance.Player2.currentLogic;if(t){var e=t.crrentChapter,o=t.chapterInfo,n=t.MaxWave,i=t.CurrentWave,r=t.CurrentWaveFinished,a=A.WorldManager.Instance.UITop.TotalExp;r||(i-=1),this.text_chapter.string=o.name,this.text_exp.string=_.Define.ConvertN(a),this.text_exp_hint.string="Exp x"+_.Define.ConvertN(a),this.text_wave.string="Pass level "+i+"/"+n,i==n?(h.ChapterInfo.instance.AddChapter(e,n),h.ChapterInfo.instance.AddChapter(e+1,0)):h.ChapterInfo.instance.AddChapter(e,i),p.default.instance.UpdateView();var c=f.DeputyWeaponStore.instance.unlockWeapon();if(this.node_reward_2.active=!1,c.length>0){this.node_reward_2.active=!0;var l=s.DataManager.TablePlaneConfigDatasById[c[0]];if(l){var u=b.LoadManager.get(l.icon_path);this.spWeaponIcon.spriteFrame=new cc.SpriteFrame(u)}}}else console.error("UIGameFinished SetChapterInfo logic = null")},e.prototype.SetEndlessInfo=function(){var t=m.default.Instance.Player2.currentLogic;if(t){var e=t.CurrentWave,o=t.CurrentWaveFinished,n=A.WorldManager.Instance.UITop.TotalExp;o||(e-=1),this.node_reward_2.active=!1,this.text_chapter.string="Endless mode",this.text_exp.string=_.Define.ConvertN(n),this.text_exp_hint.string="Exp x"+_.Define.ConvertN(n),this.text_wave.string="Pass level "+e}else console.error("UIGameFinished SetEndlessInfo logic = null")},e.prototype.Hide=function(){c.App.notice.trigger(l.GameEvent.chapter_restore),this._finishedCall&&this._finishedCall(),d.SwitchEffect.playClose(this.node,!1,!1),g.ThirdParty.instance.hideBannerAd()},e.prototype.onClickEventReceive=function(){var t=this;a.default.instance.playAdByWD(function(){t.ReceiveReward(1)})},e.prototype.onClickEventReceiveDouble=function(){var t=this;_.Define.CreateLoading("Ads loading...");playVideo(res=>{if(res){_.Define.RemoveLoading(),t.ReceiveReward(2)}else{_.Define.RemoveLoading(),_.Define.OutputMessage("Ad failed")}})},e.prototype.ReceiveReward=function(t){var e=A.WorldManager.Instance.UITop.TotalExp;if(e<=0)return _.Define.OutputMessage("No rewards to claim"),void this.Hide();e*=t,A.WorldManager.Instance.UITop.TotalExp=0,y.WealthRecord.instance.AddExp(e),u.default.PlayExpAni(this.sp_exp,15),this.Hide()},r([w(cc.Label)],e.prototype,"text_chapter",void 0),r([w(cc.Label)],e.prototype,"text_wave",void 0),r([w(cc.Label)],e.prototype,"text_exp",void 0),r([w(cc.Label)],e.prototype,"text_exp_hint",void 0),r([w(cc.Node)],e.prototype,"node_start_light_ani",void 0),r([w(cc.Node)],e.prototype,"sp_exp",void 0),r([w(cc.Node)],e.prototype,"node_reward_1",void 0),r([w(cc.Node)],e.prototype,"node_reward_2",void 0),r([w(cc.Sprite)],e.prototype,"spWeaponIcon",void 0),r([C],e)}(cc.Component);o.UIGameFinished=T,cc._RF.pop()},{"../../ThirdParty/ThirdParty":"ThirdParty","../../ThirdParty/WxAdMgr":"WxAdMgr","../../ads/HelpMgr":"HelpMgr","../../base/App":"App","../../config/DataManager":"DataManager","../../global/define":"define","../../global/enums":"enums","../../prefab/hall/nodeChapter":"nodeChapter","../../prefab/public/ReveiveAwardAni":"ReveiveAwardAni","../../prefab/public/SwitchEffect":"SwitchEffect","../../record/ChapterInfo":"ChapterInfo","../../record/DeputyWeaponStore":"DeputyWeaponStore","../../record/WealthRecord":"WealthRecord","../../utils/LoadManager":"LoadManager","../GameManager":"GameManager","../WorldManager":"WorldManager"}],UIGamePause:[function(t,e,o){"use strict";cc._RF.push(e,"45b6az5dD5IpaXHTPqijpJK","UIGamePause");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UIGamePause=void 0;var a=t("../../ads/HelpMgr"),c=t("../../base/App"),s=t("../../global/define"),_=t("../../global/enums"),l=t("../../prefab/hall/nodeTopBG"),p=t("../../prefab/public/SwitchEffect"),u=t("../../ThirdParty/ThirdParty"),d=t("../../utils/LoadManager"),h=t("../actors/ActorProp"),f=t("../GameManager"),y=t("../WorldManager"),g=t("./UIPropInfo"),v=t("./UIPropItem"),b=cc._decorator,m=b.ccclass,A=b.property,x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_item=null,e.list_prop=null,e}return i(e,t),e.prototype.Init=function(){this.node.active=!1,this.node_item.active=!1},e.prototype.Execute=function(){},e.prototype.Release=function(){},e.prototype.Reset=function(){},e.prototype.ShowPause=function(){var t=this;a.default.instance.setOvNode(this,function(){t.onBtnEventRecover()}),this.node.active=!0,p.SwitchEffect.playOpen(this.node,!1),c.App.notice.trigger(_.GameEvent.chapter_pause),u.ThirdParty.instance.showBannerAd(),this.list_prop.content.removeAllChildren();var e=f.default.Instance.Player1.MainWeapon;if(console.log("ShowPause  hero",e),e){var o=e.Get(h.ActorProp);console.log("ShowPause propManage",o),o&&(console.log("ShowPause 111111111111"),o.ForEachProp(function(e){var o=cc.instantiate(t.node_item),n=o.getComponent(v.UIPropItem);o.parent=t.list_prop.content,o.active=!0,n.Init(e,t.onClickEventProp.bind(t))}))}},e.prototype.HidePause=function(){p.SwitchEffect.playClose(this.node,!1,!1),c.App.notice.trigger(_.GameEvent.chapter_restore),u.ThirdParty.instance.hideBannerAd()},e.prototype.onBtnEventRecover=function(){this.HidePause()},e.prototype.onBtnEventHome=function(){var t=this;s.Define.PopMessageBox("If you exit now, the progress of this game will be lost. Are you sure you want to exit?",!0,function(e){1==e&&(t.HidePause(),y.WorldManager.Instance.ShowGameFinished(function(){s.Define.isWeChat(),c.App.notice.trigger(_.GameEvent.chapter_failure)}))})},e.prototype.onBtnEventSet=function(){l.default.instance.ShowSet()},e.prototype.onClickEventProp=function(t){var e=d.LoadManager.get("prefab/game/ui/ui_prop_info"),o=cc.instantiate(e),n=o.getComponent(g.UIPropInfo);o.parent=this.node,n.Init(t)},r([A(cc.Node)],e.prototype,"node_item",void 0),r([A(cc.ScrollView)],e.prototype,"list_prop",void 0),r([m],e)}(cc.Component);o.UIGamePause=x,cc._RF.pop()},{"../../ThirdParty/ThirdParty":"ThirdParty","../../ads/HelpMgr":"HelpMgr","../../base/App":"App","../../global/define":"define","../../global/enums":"enums","../../prefab/hall/nodeTopBG":"nodeTopBG","../../prefab/public/SwitchEffect":"SwitchEffect","../../utils/LoadManager":"LoadManager","../GameManager":"GameManager","../WorldManager":"WorldManager","../actors/ActorProp":"ActorProp","./UIPropInfo":"UIPropInfo","./UIPropItem":"UIPropItem"}],UIGameTop:[function(t,e,o){"use strict";cc._RF.push(e,"3acc1kEbypKFYWaJspl+g2W","UIGameTop");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UIGameTop=void 0;var a=t("../../global/define"),c=t("../../global/enums"),s=t("../../global/GlobalOption"),_=t("../../utils/LoadManager"),l=t("../GameManager"),p=t("../WorldManager"),u=t("./UIWaveEditor"),d=cc._decorator,h=d.ccclass,f=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_lable=null,e.node_exp=null,e.text_exp=null,e.text_wave=null,e.text_level=null,e.text_wave_hint=null,e.progress_exp=null,e.progress_hp=null,e.sp_level_bg=null,e.btn_editor=null,e._showBossHP=!1,e._totalExp=0,e._bufferLevel=0,e._currentExpProgress=0,e._currentLevel=0,e}return i(e,t),Object.defineProperty(e.prototype,"currentExpProgress",{get:function(){return this._currentExpProgress},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentLevel",{get:function(){return this._currentLevel},set:function(t){this._currentLevel=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"TotalExp",{get:function(){return this._totalExp},set:function(t){this._totalExp=t},enumerable:!1,configurable:!0}),e.prototype.Init=function(){this.btn_editor.active=s.GlobalOption.OpenWaveDebug,this.Reset()},e.prototype.Execute=function(){this.node.active=l.default.Instance.currentState==c.GameState.in_game},e.prototype.Release=function(){},e.prototype.Reset=function(){cc.Tween.stopAllByTarget(this.progress_exp.node),cc.Tween.stopAllByTarget(this.progress_hp.node),this._showBossHP=!1,this._totalExp=0,this._currentExpProgress=0,this._currentLevel=0,this._bufferLevel=0,this.text_exp.string="0",this.text_level.string="0",this.text_wave.string="0/0",this.progress_exp.progress=0,this.progress_hp.progress=0,this.progress_hp.node.active=!1,this.sp_level_bg.node.active=!1,this.text_level.node.active=!1},e.prototype.clearCurrentGameExp=function(){this._bufferLevel=0,this._currentExpProgress=0,this.progress_exp.progress=0,this.sp_level_bg.node.active=!1,this.text_level.node.active=!1},e.prototype.CloneExpNode=function(t){var e=cc.instantiate(this.node_exp);e.parent=t;var o=this.node_exp.convertToWorldSpaceAR(cc.v2());return o=t.parent.convertToNodeSpaceAR(o),e.setPosition(o),e},e.prototype.onBtnEventPause=function(){p.WorldManager.Instance.UIGamePause.ShowPause(),a.Define.BuriedPoint("游戏中暂停")},e.prototype.AddUserExp=function(t){this._totalExp+=t,this.text_exp.string=a.Define.ConvertN(this._totalExp)},e.prototype.AddGameExpProgress=function(t){var e=this;if(this._currentExpProgress+=t,this._currentExpProgress>=99.999999&&(this._currentExpProgress+=1e-6),this._currentExpProgress>=100){var o=Math.floor(this._currentExpProgress/100);this._currentExpProgress=this._currentExpProgress%100,this._bufferLevel+=o}var n=this.progress_exp.progress,i=this._currentExpProgress/100;this.text_level.string=this._bufferLevel.toString(),this.sp_level_bg.node.active=this._bufferLevel>0&&!this._showBossHP,this.text_level.node.active=this._bufferLevel>0&&!this._showBossHP,this.progress_exp.node.opacity=255,cc.Tween.stopAllByTarget(this.progress_exp.node),cc.tween(this.progress_exp.node).delay(.2).call(function(){e.progress_exp.progress=i}).start(),!this._showBossHP&&t>0&&this.playProgressChangeEffect(this.progress_exp,n,i,!0)},e.prototype.IsBufferLevel=function(){return this._bufferLevel>0},e.prototype.TakeOutBufferLevel=function(){return!(this._bufferLevel<=0||(this._bufferLevel-=1,this._currentLevel+=1,this.AddGameExpProgress(0),0))},e.prototype.OnWaveChange=function(t,e){-1==e?(this.text_wave_hint.string="Endless",this.text_wave.string="Lv."+t):(this.text_wave_hint.string="Level",this.text_wave.string=t+"/"+e)},e.prototype.ShowBossHP=function(t,e){this._showBossHP=!0,this.progress_hp.node.active=!0,this.progress_exp.node.active=!1,this.sp_level_bg.node.active=!1,this.text_level.node.active=!1;var o=this.progress_hp.progress;this.progress_hp.progress=Math.min(1,t/e),this.playProgressChangeEffect(this.progress_hp,this.progress_hp.progress,o,!1)},e.prototype.HideBossHP=function(){this._showBossHP=!1,this.progress_hp.node.active=!1,this.progress_exp.node.active=!0,this.AddGameExpProgress(0)},e.prototype.playProgressChangeEffect=function(t,e,o,n){var i=(o=o<e?1:o)-e,r=t.totalLength*i,a=cc.v2();a.x+=t.totalLength*o-r/2-t.totalLength/2,n&&(a.y+=30);var c=_.LoadManager.get("prefab/game/effect/effect_progress_change"),s=cc.instantiate(c);s.parent=t.node,s.width=r,s.height=t.node.height,s.setPosition(a),n?(s.opacity=0,cc.tween(s).by(.1,{y:-30,opacity:255}).delay(.1).removeSelf().start()):(s.opacity=255,cc.tween(s).delay(.1).by(.3,{y:-60,opacity:-255}).removeSelf().start())},e.prototype.OnClickEventEditor=function(){this.ShowEditor()},e.prototype.ShowEditor=function(){return p.WorldManager.Instance.CreateUI(u.UIWaveEditor,"prefab/game/ui/ui_wave_editor",c.ZIndex.ZI_PAUSE_UI)},r([f(cc.Node)],e.prototype,"node_lable",void 0),r([f(cc.Node)],e.prototype,"node_exp",void 0),r([f(cc.Label)],e.prototype,"text_exp",void 0),r([f(cc.Label)],e.prototype,"text_wave",void 0),r([f(cc.Label)],e.prototype,"text_level",void 0),r([f(cc.Label)],e.prototype,"text_wave_hint",void 0),r([f(cc.ProgressBar)],e.prototype,"progress_exp",void 0),r([f(cc.ProgressBar)],e.prototype,"progress_hp",void 0),r([f(cc.Sprite)],e.prototype,"sp_level_bg",void 0),r([f(cc.Node)],e.prototype,"btn_editor",void 0),r([h],e)}(cc.Component);o.UIGameTop=y,cc._RF.pop()},{"../../global/GlobalOption":"GlobalOption","../../global/define":"define","../../global/enums":"enums","../../utils/LoadManager":"LoadManager","../GameManager":"GameManager","../WorldManager":"WorldManager","./UIWaveEditor":"UIWaveEditor"}],UIHeroRevive:[function(t,e,o){"use strict";cc._RF.push(e,"ec9d7W1ke9Kt6yA7j5lhi6x","UIHeroRevive");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UIHeroRevive=void 0;var a=t("../../ads/HelpMgr"),c=t("../../base/App"),s=t("../../global/define"),_=t("../../global/enums"),l=t("../../prefab/public/SwitchEffect"),p=t("../../record/WealthRecord"),u=t("../../ThirdParty/ThirdParty"),d=t("../../ThirdParty/WxAdMgr"),h=cc._decorator,f=h.ccclass,y=h.property,g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text_time=null,e.img_circle_time=null,e.btn_close=null,e._time=5,e._finishedCall=null,e}return i(e,t),e.prototype.Init=function(){this.node.active=!1,this.Reset()},e.prototype.Execute=function(){},e.prototype.Release=function(){},e.prototype.Reset=function(){cc.Tween.stopAllByTarget(this.img_circle_time)},e.prototype.Show=function(t){var e=this;this.Reset(),c.App.notice.trigger(_.GameEvent.chapter_pause),this.node.active=!0,l.SwitchEffect.playOpen(this.node,!1),u.ThirdParty.instance.showBannerAd(),this._time=5,this._finishedCall=t,this.btn_close.active=!1,this.PlayTimeAni(),a.default.instance.setOvNode(this,function(){e.onClickEventClose()})},e.prototype.Hide=function(){c.App.notice.trigger(_.GameEvent.chapter_restore),l.SwitchEffect.playClose(this.node,!1,!1),u.ThirdParty.instance.hideBannerAd()},e.prototype.PlayTimeAni=function(){var t=this;this._time=Math.max(1,this._time),this.img_circle_time.fillRange=-1,this.text_time.string=""+this._time,cc.tween(this.img_circle_time).repeat(this._time,cc.tween(this.img_circle_time).to(1,{fillRange:0}).call(function(){t._time-=1,t.img_circle_time.fillRange=-1,t.text_time.string=""+t._time,t.btn_close.active=t._time<=3})).call(function(){t.onFinishedSelect(!1)}).start()},e.prototype.onFinishedSelect=function(t){this.Hide(),cc.Tween.stopAllByTarget(this.img_circle_time),this._finishedCall&&this._finishedCall(t),s.Define.isWeChat()},e.prototype.onClickEventClose=function(){this.onFinishedSelect(!1)},e.prototype.onClickEventRefreshJewel=function(){p.WealthRecord.instance.jewel>=10?(p.WealthRecord.instance.AddJewel(-10),this.onFinishedSelect(!0)):s.Define.OutputMessage("Not enough Cores")},e.prototype.onClickEventRefreshAD=function(){var t=this;cc.Tween.stopAllByTarget(this.img_circle_time),s.Define.CreateLoading("Ads loading...");playVideo(res=>{if(res){s.Define.RemoveLoading(),t.onFinishedSelect(!0)}else{s.Define.RemoveLoading(),s.Define.OutputMessage("Ad failed"),t.PlayTimeAni()}})},r([y(cc.Label)],e.prototype,"text_time",void 0),r([y(cc.Sprite)],e.prototype,"img_circle_time",void 0),r([y(cc.Node)],e.prototype,"btn_close",void 0),r([f],e)}(cc.Component);o.UIHeroRevive=g,cc._RF.pop()},{"../../ThirdParty/ThirdParty":"ThirdParty","../../ThirdParty/WxAdMgr":"WxAdMgr","../../ads/HelpMgr":"HelpMgr","../../base/App":"App","../../global/define":"define","../../global/enums":"enums","../../prefab/public/SwitchEffect":"SwitchEffect","../../record/WealthRecord":"WealthRecord"}],UIJumpWave:[function(t,e,o){"use strict";cc._RF.push(e,"ed91cBqQjlJhrSqBGcPpbPv","UIJumpWave");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UIJumpWave=void 0;var a=t("../../ads/HelpMgr"),c=t("../../base/App"),s=t("../../global/enums"),_=t("../../prefab/public/SwitchEffect"),l=t("../../record/ChapterInfo"),p=t("../../ThirdParty/ThirdParty"),u=t("../WorldManager"),d=cc._decorator,h=d.ccclass,f=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text_level=null,e._finishedCall=null,e._targetWaveIndex=0,e}return i(e,t),e.prototype.Init=function(){this.node.active=!1,this.Reset()},e.prototype.Execute=function(){},e.prototype.Release=function(){},e.prototype.Reset=function(){},e.prototype.Show=function(t){var e=this;this.Reset(),c.App.notice.trigger(s.GameEvent.chapter_pause),this.node.active=!0,_.SwitchEffect.playOpen(this.node,!1),p.ThirdParty.instance.showBannerAd(),this._finishedCall=t;var o=l.ChapterInfo.instance.currentChapter,n=l.ChapterInfo.instance.GetChapterInfo(o);if(this._targetWaveIndex=0,!n||n.level<5)this._targetWaveIndex=1;else{var i=Math.min(n.level,1==o?9:2==o?19:29);this._targetWaveIndex=5*Math.floor(i/5)}this.text_level.string="Go to Lv."+this._targetWaveIndex,a.default.instance.setOvNode(this,function(){e.onClickEventClose()})},e.prototype.Hide=function(t){var e=this;c.App.notice.trigger(s.GameEvent.chapter_restore),_.SwitchEffect.playClose(this.node,!1,!1,function(){e.node.active=!1,t&&t()}),p.ThirdParty.instance.hideBannerAd()},e.prototype.onFinishedSelect=function(t){var e=this;if(t){var o=this._targetWaveIndex;this.Hide(function(){u.WorldManager.Instance.UIPropChoose.Show(function(){u.WorldManager.Instance.UIPropChooseList.Show(o,function(){e._finishedCall(e._targetWaveIndex)})})})}else this.Hide(null),this._finishedCall(1)},e.prototype.onClickEventClose=function(){this.onFinishedSelect(!1)},e.prototype.onClickEventJump=function(){this.onFinishedSelect(!0)},r([f(cc.Label)],e.prototype,"text_level",void 0),r([h],e)}(cc.Component);o.UIJumpWave=y,cc._RF.pop()},{"../../ThirdParty/ThirdParty":"ThirdParty","../../ads/HelpMgr":"HelpMgr","../../base/App":"App","../../global/enums":"enums","../../prefab/public/SwitchEffect":"SwitchEffect","../../record/ChapterInfo":"ChapterInfo","../WorldManager":"WorldManager"}],UIPropChooseConfirm:[function(t,e,o){"use strict";cc._RF.push(e,"c6926lW+y5BkKM7wmrgnBLN","UIPropChooseConfirm");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UIPropChooseConfirm=void 0;var a=t("../../ads/HelpMgr"),c=t("../../base/App"),s=t("../../config/DataManager"),_=t("../../global/define"),l=t("../../global/enums"),p=t("../../prefab/public/SwitchEffect"),u=t("../../ThirdParty/ThirdParty"),d=t("../../ThirdParty/WxAdMgr"),h=t("../../utils/LoadManager"),f=t("../actors/ActorProp"),y=t("../GameManager"),g=t("../prop/PropDefine"),v=t("../WorldManager"),b=cc._decorator,m=b.ccclass,A=b.property,x=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_double=null,e.btn_confirm=null,e.btn_confirm_one=null,e.sp_prop_icon=null,e.text_prop_name=null,e.text_prop_describe=null,e.node_start_light_ani=null,e._propid=g.PropID.invalid,e._nodeExp=null,e._finishedCall=null,e}return i(e,t),e.prototype.Init=function(){this.node.active=!1,this.CreateAnimation()},e.prototype.Execute=function(){},e.prototype.Release=function(){},e.prototype.Reset=function(){this._finishedCall=null,this._nodeExp&&(this._nodeExp.destroy(),this._nodeExp=null)},e.prototype.CreateAnimation=function(){var t=this;cc.tween(this.node_start_light_ani).repeatForever(cc.tween(this.node_start_light_ani).call(function(){t.node_start_light_ani.x=235}).to(1,{x:-235}).delay(1.5)).start()},e.prototype.Show=function(t,e){var o=this;a.default.instance.setOvNode(this,function(){o.onBtnEventChooseConfirm()});var n=s.DataManager.TablePropConfigDatasById[t],i=y.default.Instance.Player1.MainWeaponProps;if(n&&i){c.App.notice.trigger(l.GameEvent.chapter_pause),u.ThirdParty.instance.showBannerAd(),this.node.active=!0,p.SwitchEffect.playOpen(this.node,!1),this.Reset(),this._nodeExp=v.WorldManager.Instance.UITop.CloneExpNode(this.node),this._finishedCall=e,this._propid=t;var r=h.LoadManager.get(n.icon_path);this.sp_prop_icon.spriteFrame=new cc.SpriteFrame(r),this.text_prop_name.string=n.name,this.text_prop_describe.string=i.GetDescribe({propid:t,level:1,type:n.type}),this.btn_double.active=!0,this.btn_confirm.active=!0,this.btn_confirm_one.active=!1,n.type!=g.PropType.PT_STATE_CHANGE&&n.id!=g.PropID.remould||(this.btn_double.active=!1,this.btn_confirm.active=!1,this.btn_confirm_one.active=!0),_.Define.isWeChat()}else console.error("ERROR: UIPropChooseConfirm.Show: config = null or MainWeaponProps = null")},e.prototype.Hide=function(){var t=this;p.SwitchEffect.playClose(this.node,!1,!1,function(){t.node.active=!1,t._finishedCall&&t._finishedCall(t._propid)}),c.App.notice.trigger(l.GameEvent.chapter_restore),u.ThirdParty.instance.hideBannerAd()},e.prototype.ReceiveProp=function(t){var e=s.DataManager.TablePropConfigDatasById[this._propid];e&&(t?_.Define.BuriedPoint("选择道具: 2倍 "+e.name):_.Define.BuriedPoint("选择道具: 1倍 "+e.name));var o=y.default.Instance.Player1.MainWeapon;o&&(v.WorldManager.Instance.UITop.TakeOutBufferLevel(),o.Get(f.ActorProp).UseProp(this._propid),t&&o.Get(f.ActorProp).UseProp(this._propid)),this.Hide()},e.prototype.onBtnEventChooseConfirm=function(){this.ReceiveProp(!1)},e.prototype.onBtnEventChooseDouble=function(){var t=this;_.Define.CreateLoading("Ads loading...");playVideo(res=>{if(res){_.Define.RemoveLoading(),t.ReceiveProp(!0)}else{_.Define.RemoveLoading(),_.Define.OutputMessage("Ad failed")}})},r([A(cc.Node)],e.prototype,"btn_double",void 0),r([A(cc.Node)],e.prototype,"btn_confirm",void 0),r([A(cc.Node)],e.prototype,"btn_confirm_one",void 0),r([A(cc.Sprite)],e.prototype,"sp_prop_icon",void 0),r([A(cc.Label)],e.prototype,"text_prop_name",void 0),r([A(cc.Label)],e.prototype,"text_prop_describe",void 0),r([A(cc.Node)],e.prototype,"node_start_light_ani",void 0),r([m],e)}(cc.Component);o.UIPropChooseConfirm=x,cc._RF.pop()},{"../../ThirdParty/ThirdParty":"ThirdParty","../../ThirdParty/WxAdMgr":"WxAdMgr","../../ads/HelpMgr":"HelpMgr","../../base/App":"App","../../config/DataManager":"DataManager","../../global/define":"define","../../global/enums":"enums","../../prefab/public/SwitchEffect":"SwitchEffect","../../utils/LoadManager":"LoadManager","../GameManager":"GameManager","../WorldManager":"WorldManager","../actors/ActorProp":"ActorProp","../prop/PropDefine":"PropDefine"}],UIPropChooseList:[function(t,e,o){"use strict";cc._RF.push(e,"606b5FxeRpPjaMFohPhkwsA","UIPropChooseList");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UIPropChooseList=void 0;var a=t("../../base/App"),c=t("../../config/DataManager"),s=t("../../global/define"),_=t("../../global/enums"),l=t("../../prefab/public/SwitchEffect"),p=t("../../record/ChapterInfo"),u=t("../../ThirdParty/ThirdParty"),d=t("../../ThirdParty/WxAdMgr"),h=t("../actors/ActorProp"),f=t("../GameManager"),y=t("../WorldManager"),g=t("./UIPropItem"),v=cc._decorator,b=v.ccclass,m=v.property,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.text_title=null,e.text_choose_hint=null,e.text_btn_hint=null,e.node_item=null,e.list_prop=null,e._finishedCall=null,e._targetWaveIndex=0,e._needLevel=0,e._surplusExp=0,e._userExp=0,e}return i(e,t),e.prototype.Init=function(){this.node.active=!1,this.node_item.active=!1},e.prototype.Execute=function(){},e.prototype.Release=function(){},e.prototype.Reset=function(){},e.prototype.Show=function(t,e){var o=this;this.node.active=!0,l.SwitchEffect.playOpen(this.node,!1),a.App.notice.trigger(_.GameEvent.chapter_pause),u.ThirdParty.instance.showBannerAd(),this.list_prop.content.removeAllChildren(),this._targetWaveIndex=t,this._finishedCall=e;for(var n=0,i=0,r=p.ChapterInfo.instance.currentChapter,s=c.DataManager["TableChapter_"+r+"DatasById"],d=1;d<t;d++){var h=s[d];n+=h.exp_proportion,i+=h.user_exp_proportion}var y=f.default.Instance.Player2.currentLogic;this._needLevel=Math.floor(n/100)-1,this._surplusExp=Math.floor(n%100),this._needLevel=Math.max(this._needLevel,1),this._userExp=Math.floor((y?y.ExpReward:0)*i/2),this.UpdateText();var v=this._needLevel+4,b=p.ChapterInfo.instance.GenerateRandomProp(v,this._needLevel,f.default.Instance.Player2.currentMode,!0);b&&b.propList.forEach(function(t){var e=c.DataManager.TablePropConfigDatasById[t];if(e){var n=cc.instantiate(o.node_item),i=n.getComponent(g.UIPropItem);n.parent=o.list_prop.content,n.active=!0,i.Init({propid:t,type:e.type,level:1},o.onClickEventProp.bind(o)),i.isChoose=!1}else console.error("ERROR: UIPropChooseList prop config = null, 1")})},e.prototype.Hide=function(){l.SwitchEffect.playClose(this.node,!1,!1),a.App.notice.trigger(_.GameEvent.chapter_restore),u.ThirdParty.instance.hideBannerAd()},e.prototype.onBtnEventUpdate=function(){var t=this,e=0;this.list_prop.content.children.forEach(function(t){t.getComponent(g.UIPropItem).isChoose||(e+=1)}),e<=0?s.Define.OutputMessage("No unselected skills"):(s.Define.CreateLoading("Ads loading..."),playVideo(res=>{if(res){s.Define.RemoveLoading();var o=p.ChapterInfo.instance.GenerateRandomProp(e,t._needLevel,f.default.Instance.Player2.currentMode,!0);if(o){var n=0;t.list_prop.content.children.forEach(function(e){var i=e.getComponent(g.UIPropItem);if(!i.isChoose){var r=o.propList[n],a=c.DataManager.TablePropConfigDatasById[r];if(!a)return void console.error("ERROR: UIPropChooseList prop config = null, 2");i.Init({propid:r,type:a.type,level:1},t.onClickEventProp.bind(t)),n+=1}})}}else{s.Define.RemoveLoading(),s.Define.OutputMessage("Ad failed")}}))},e.prototype.onBtnEventChoose=function(){var t=this,e=[];if(this.list_prop.content.children.forEach(function(t){var o=t.getComponent(g.UIPropItem);o.isChoose&&e.push(o.prop.propid)}),e.length<this._needLevel)s.Define.OutputMessage("You can only teleport after selecting "+this._needLevel+" skills.");else{y.WorldManager.Instance.UITop.currentLevel=this._needLevel,y.WorldManager.Instance.UITop.AddGameExpProgress(this._surplusExp),y.WorldManager.Instance.UITop.AddUserExp(this._userExp);var o=[],n=f.default.Instance.Player1.MainWeapon;e.forEach(function(t,e){e<4?o.push(t):n&&n.Get(h.ActorProp).UseProp(t)});var i=0,r=function(){var e=o[i];y.WorldManager.Instance.UIPropChooseConfirm.Show(e,function(){o.length-1==i?t._finishedCall(e):(i+=1,r())})};this.Hide(),r()}},e.prototype.onClickEventProp=function(t,e){if(!e.isChoose){var o=0;if(this.list_prop.content.children.forEach(function(t){t.getComponent(g.UIPropItem).isChoose&&(o+=1)}),this._needLevel<=o)return void s.Define.OutputMessage("You can only select up to "+o)}e.isChoose=!e.isChoose,this.UpdateText()},e.prototype.UpdateText=function(){var t=0;this.list_prop.content.children.forEach(function(e){e.getComponent(g.UIPropItem).isChoose&&(t+=1)}),this.text_title.string="About to be transferred to level "+this._targetWaveIndex,this.text_choose_hint.string="Please select skills ("+t+"/"+this._needLevel+")",this.text_btn_hint.string="Selected("+t+"/"+this._needLevel+")"},r([m(cc.Label)],e.prototype,"text_title",void 0),r([m(cc.Label)],e.prototype,"text_choose_hint",void 0),r([m(cc.Label)],e.prototype,"text_btn_hint",void 0),r([m(cc.Node)],e.prototype,"node_item",void 0),r([m(cc.ScrollView)],e.prototype,"list_prop",void 0),r([b],e)}(cc.Component);o.UIPropChooseList=A,cc._RF.pop()},{"../../ThirdParty/ThirdParty":"ThirdParty","../../ThirdParty/WxAdMgr":"WxAdMgr","../../base/App":"App","../../config/DataManager":"DataManager","../../global/define":"define","../../global/enums":"enums","../../prefab/public/SwitchEffect":"SwitchEffect","../../record/ChapterInfo":"ChapterInfo","../GameManager":"GameManager","../WorldManager":"WorldManager","../actors/ActorProp":"ActorProp","./UIPropItem":"UIPropItem"}],UIPropChoose:[function(t,e,o){"use strict";cc._RF.push(e,"73e57TX7nxO+q+h2nb4sHVg","UIPropChoose");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UIPropChoose=void 0;var a=t("../../ads/HelpMgr"),c=t("../../base/App"),s=t("../../config/DataManager"),_=t("../../global/define"),l=t("../../global/enums"),p=t("../../module/SoundManage"),u=t("../../prefab/public/SwitchEffect"),d=t("../../record/ChapterInfo"),h=t("../../ThirdParty/ThirdParty"),f=t("../../ThirdParty/WxAdMgr"),y=t("../../utils/LoadManager"),g=t("../GameManager"),v=t("../prop/PropDefine"),b=t("../WorldManager"),m=cc._decorator,A=m.ccclass,x=m.property,C=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btn_refresh=null,e.btn_giveAll=null,e.text_hint=null,e.text_level=null,e._finishedCall=null,e._nodeExp=null,e._PropList=[],e.AniPropList=[],e}return i(e,t),e.prototype.Init=function(){a.default.instance.setOvNode(this,function(){}),this.node.active=!1;for(var t=1;t<=3;t++){var e=this.node.getChildByName("btn_prop_bg_"+t);if(e){var o=e.getChildByName("node_mask");this._PropList.push({propid:v.PropID.invalid,btn:e.getComponent(cc.Button),name:e.getChildByName("text_prop_name").getComponent(cc.Label),describe:e.getChildByName("text_prop_describe").getComponent(cc.Label),icon_1:o.getChildByName("sp_prop_icon_1").getComponent(cc.Sprite),icon_2:o.getChildByName("sp_prop_icon_2").getComponent(cc.Sprite)})}}},e.prototype.Execute=function(){},e.prototype.Release=function(){},e.prototype.Reset=function(){this._finishedCall=null,this.text_hint.active=!1,this.btn_refresh.active=!1,this.btn_giveAll.active=!1,this._PropList.forEach(function(t){t.describe.node.active=!1,t.name.node.active=!1,t.propid=v.PropID.invalid,t.btn.enabled=!1}),this._nodeExp&&(this._nodeExp.destroy(),this._nodeExp=null)},e.prototype.Show=function(t){playInter();this.Reset(),c.App.notice.trigger(l.GameEvent.chapter_pause),this.node.active=!0,u.SwitchEffect.playOpen(this.node,!1),h.ThirdParty.instance.showBannerAd(),this._finishedCall=t,this._nodeExp=b.WorldManager.Instance.UITop.CloneExpNode(this.node);var e=b.WorldManager.Instance.UITop.currentLevel;this.text_level.string="Grade "+(e+1)+" !";var o=d.ChapterInfo.instance.GenerateRandomProp(3,e,g.default.Instance.Player2.currentMode);o&&(this.AniPropList=o.totalPropList,this.PlayRandomPropAni(o.propList))},e.prototype.Hide=function(){c.App.notice.trigger(l.GameEvent.chapter_restore),u.SwitchEffect.playClose(this.node,!1,!1),h.ThirdParty.instance.hideBannerAd()},e.prototype.onBtnEventChooseProp1=function(){var t=this;a.default.instance.set_on_click_inner_interstitial_btn(function(){t.onChooseProp(0)})},e.prototype.onBtnEventChooseProp2=function(){var t=this;a.default.instance.set_on_click_inner_interstitial_btn(function(){t.onChooseProp(1)})},e.prototype.onBtnEventChooseProp3=function(){var t=this;a.default.instance.set_on_click_inner_interstitial_btn(function(){t.onChooseProp(2)})},e.prototype.onChooseProp=function(t){var e=this._PropList[t];e?(this.Hide(),b.WorldManager.Instance.UIPropChooseConfirm.Show(e.propid,this._finishedCall)):console.error("ERROR: onChooseProp item = null")},e.prototype.onBtnEventRefresh=function(){var t=this;_.Define.CreateLoading("Ads loading...");playVideo(res=>{if(res){_.Define.RemoveLoading(),t.Show(t._finishedCall)}else{_.Define.RemoveLoading(),_.Define.OutputMessage("Ad failed")}})},e.prototype.onBtnEventGiveAll=function(){var t=this;_.Define.CreateLoading("Ads loading...");playVideo(res=>{if(res){_.Define.RemoveLoading();var e=0,o=function(){var n=t._PropList[e];b.WorldManager.Instance.UIPropChooseConfirm.Show(n.propid,function(){t._PropList.length-1==e?t._finishedCall(n.propid):(e+=1,o())})};t.Hide(),o()}else{_.Define.RemoveLoading(),_.Define.OutputMessage("Ad failed")}})},e.prototype.PlayRandomPropAni=function(t){var e=this,o=g.default.Instance.Player1.MainWeaponProps;if(t.length==this._PropList.length&&o){var n=0;this._PropList.forEach(function(i,r){var a=e.AniPropList[Math.floor(Math.random()*e.AniPropList.length)],c=e.AniPropList[Math.floor(Math.random()*e.AniPropList.length)],_=s.DataManager.TablePropConfigDatasById[a],u=s.DataManager.TablePropConfigDatasById[c];if(_&&u){var d=y.LoadManager.get(_.icon_path),h=y.LoadManager.get(u.icon_path);i.icon_1.spriteFrame=new cc.SpriteFrame(d),i.icon_2.spriteFrame=new cc.SpriteFrame(h);var f=i.icon_1.node.height;i.propid=t[r],i.icon_1.node.x=0,i.icon_2.node.x=0,i.icon_1.node.y=-f,i.icon_2.node.y=-f;var g=cc.tween().repeat(12,cc.tween().call(function(){p.SoundManage.instance.PlaySound(l.GameSound.sound_prop_random)}).to(.15,{y:f}).to(0,{y:-f}));cc.tween(i.icon_1.node).delay(n).then(g.clone()).start(),cc.tween(i.icon_2.node).delay(n+.2).then(g.clone()).call(function(){var t=s.DataManager.TablePropConfigDatasById[i.propid];if(t){var n=y.LoadManager.get(t.icon_path);i.icon_2.spriteFrame=new cc.SpriteFrame(n),i.icon_2.node.y=-f,cc.tween(i.icon_2.node).to(.2,{y:0}).call(function(){i.name.string=t.name,i.describe.string=o.GetDescribe({propid:i.propid,level:1,type:t.type}),i.name.node.active=!0,i.describe.node.active=!0,r==e._PropList.length-1&&(e._PropList.forEach(function(t){t.btn.enabled=!0}),e.btn_refresh.active=!0,e.text_hint.active=!0,e.btn_giveAll.active=t.type!=v.PropType.PT_STATE_CHANGE)}).start()}else console.error("ERROR: PlayRandomPropAni config = null")}).start(),n+=.5}})}else console.error("ERROR: PlayRandomPropAni proplist.length != this._PropList.length or MainWeaponProps = null")},r([x(cc.Node)],e.prototype,"btn_refresh",void 0),r([x(cc.Node)],e.prototype,"btn_giveAll",void 0),r([x(cc.Node)],e.prototype,"text_hint",void 0),r([x(cc.Label)],e.prototype,"text_level",void 0),r([A],e)}(cc.Component);o.UIPropChoose=C,cc._RF.pop()},{"../../ThirdParty/ThirdParty":"ThirdParty","../../ThirdParty/WxAdMgr":"WxAdMgr","../../ads/HelpMgr":"HelpMgr","../../base/App":"App","../../config/DataManager":"DataManager","../../global/define":"define","../../global/enums":"enums","../../module/SoundManage":"SoundManage","../../prefab/public/SwitchEffect":"SwitchEffect","../../record/ChapterInfo":"ChapterInfo","../../utils/LoadManager":"LoadManager","../GameManager":"GameManager","../WorldManager":"WorldManager","../prop/PropDefine":"PropDefine"}],UIPropHint:[function(t,e,o){"use strict";cc._RF.push(e,"7cd9dRu5lFGFIOiitMYiTue","UIPropHint");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UIPropHint=void 0;var a=t("../../config/DataManager"),c=t("../GameManager"),s=t("../TimeManager"),_=cc._decorator,l=_.ccclass,p=_.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_prop_mask=null,e.sp_bg_1=null,e.sp_bg_2=null,e.sp_line_1=null,e.sp_line_2=null,e.text_prop_name=null,e.text_prop_describe=null,e._width=0,e._height=0,e._playing=!1,e._nodeBuffer=[],e._finishedCall=null,e}return i(e,t),e.prototype.Init=function(){this._width=this.node.width,this._height=this.node.height,this.node.active=!1},e.prototype.Execute=function(){if(this._playing)for(var t=s.TimeManager.deltaTime,e=0;e<this._nodeBuffer.length;e++){var o=this._nodeBuffer[e],n=t;o.time-=t,o.time<0&&(n-=Math.abs(o.time)),this.node.width+=o.widthSpeed?o.widthSpeed*n:0,this.node.height+=o.heightSpeed?o.heightSpeed*n:0,this.node_prop_mask.getComponent(cc.Widget).updateAlignment(),this.sp_line_1.getComponent(cc.Widget).updateAlignment(),this.sp_line_2.getComponent(cc.Widget).updateAlignment(),this.sp_bg_1.getComponent(cc.Widget).updateAlignment(),this.sp_bg_2.getComponent(cc.Widget).updateAlignment(),o.time<0&&(this._nodeBuffer.splice(e,1),0==this._nodeBuffer.length&&(this._playing=!1,this.node.active=!1,this._finishedCall&&this._finishedCall()));break}},e.prototype.Release=function(){this.node.destroy()},e.prototype.Reset=function(){this.node.active=!1,this._playing=!1,this._nodeBuffer=[]},e.prototype.Show=function(t,e){var o=a.DataManager.TablePropConfigDatasById[t],n=c.default.Instance.Player1.MainWeaponProps,i=n.GetPropInfo(t);o&&n&&i?(this.node.active=!0,this.text_prop_name.string=o.name+" Lv."+i.level,this.text_prop_describe.string=n.GetDescribe(i),this.node.width=0,this.node.height=this._height,this._nodeBuffer=[],this._finishedCall=e,this.node_prop_mask.getComponent(cc.Widget).updateAlignment(),this.sp_line_1.getComponent(cc.Widget).updateAlignment(),this.sp_line_2.getComponent(cc.Widget).updateAlignment(),this.sp_bg_1.getComponent(cc.Widget).updateAlignment(),this.sp_bg_2.getComponent(cc.Widget).updateAlignment(),this._nodeBuffer.push({time:.29,widthSpeed:this._width/.29}),this._nodeBuffer.push({time:1.3}),this._nodeBuffer.push({time:.26,heightSpeed:-this._height/.26}),this._playing=!0):console.error("ERROR: UIPropHint.Show config = null or MainWeaponProps = null or PropInfo = null")},r([p(cc.Node)],e.prototype,"node_prop_mask",void 0),r([p(cc.Node)],e.prototype,"sp_bg_1",void 0),r([p(cc.Node)],e.prototype,"sp_bg_2",void 0),r([p(cc.Node)],e.prototype,"sp_line_1",void 0),r([p(cc.Node)],e.prototype,"sp_line_2",void 0),r([p(cc.Label)],e.prototype,"text_prop_name",void 0),r([p(cc.Label)],e.prototype,"text_prop_describe",void 0),r([l],e)}(cc.Component);o.UIPropHint=u,cc._RF.pop()},{"../../config/DataManager":"DataManager","../GameManager":"GameManager","../TimeManager":"TimeManager"}],UIPropInfo:[function(t,e,o){"use strict";cc._RF.push(e,"92af72MnMVNA6uB4CxOm6EW","UIPropInfo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UIPropInfo=void 0;var a=t("../../ads/HelpMgr"),c=t("../../config/DataManager"),s=t("../../utils/LoadManager"),_=t("../GameManager"),l=cc._decorator,p=l.ccclass,u=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sp_prop_icon=null,e.text_prop_name=null,e.text_prop_level=null,e.text_prop_describe=null,e}return i(e,t),e.prototype.Init=function(t){var e=this;a.default.instance.setOvNode(this,function(){e.OnClickEventClose()});var o=c.DataManager.TablePropConfigDatasById[t.propid],n=_.default.Instance.Player1.MainWeaponProps;if(o&&n){var i=s.LoadManager.get(o.icon_path);this.sp_prop_icon.spriteFrame=new cc.SpriteFrame(i),this.text_prop_name.string=o.name,this.text_prop_level.string="Lv."+t.level,this.text_prop_describe.string=n.GetDescribe(t)}else this.node.destroy()},e.prototype.OnClickEventClose=function(){this.node.destroy()},r([u(cc.Sprite)],e.prototype,"sp_prop_icon",void 0),r([u(cc.Label)],e.prototype,"text_prop_name",void 0),r([u(cc.Label)],e.prototype,"text_prop_level",void 0),r([u(cc.Label)],e.prototype,"text_prop_describe",void 0),r([p],e)}(cc.Component);o.UIPropInfo=d,cc._RF.pop()},{"../../ads/HelpMgr":"HelpMgr","../../config/DataManager":"DataManager","../../utils/LoadManager":"LoadManager","../GameManager":"GameManager"}],UIPropItem:[function(t,e,o){"use strict";cc._RF.push(e,"6ddbdWzg+9Isp8KTJ8+i9An","UIPropItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UIPropItem=void 0;var a=t("../../config/DataManager"),c=t("../../utils/LoadManager"),s=cc._decorator,_=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sp_prop_icon=null,e.sp_prop_icon_bg=null,e.text_prop_name=null,e.text_prop_level=null,e._clickCall=null,e._prop=null,e._isChoose=!1,e}return i(e,t),Object.defineProperty(e.prototype,"prop",{get:function(){return this._prop},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isChoose",{get:function(){return this._isChoose},set:function(t){this._isChoose=t,this.sp_prop_icon_bg&&(this.sp_prop_icon_bg.active=t)},enumerable:!1,configurable:!0}),e.prototype.Init=function(t,e){this._prop=t,this._clickCall=e;var o=a.DataManager.TablePropConfigDatasById[this._prop.propid];if(o){var n=c.LoadManager.get(o.icon_path);this.sp_prop_icon.spriteFrame=new cc.SpriteFrame(n),this.text_prop_name.string=o.name,this.text_prop_level.string="Lv."+this._prop.level}},e.prototype.OnClickEventProp=function(){this._clickCall&&this._clickCall(this._prop,this)},r([l(cc.Sprite)],e.prototype,"sp_prop_icon",void 0),r([l(cc.Node)],e.prototype,"sp_prop_icon_bg",void 0),r([l(cc.Label)],e.prototype,"text_prop_name",void 0),r([l(cc.Label)],e.prototype,"text_prop_level",void 0),r([_],e)}(cc.Component);o.UIPropItem=p,cc._RF.pop()},{"../../config/DataManager":"DataManager","../../utils/LoadManager":"LoadManager"}],UIShow:[function(t,e,o){"use strict";cc._RF.push(e,"8ad047mx01IW4v4TbUflOyg","UIShow");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=cc._decorator,c=a.ccclass,s=(a.property,-1.23456),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_time=.5,e.m_initY=s,e}return i(e,t),e.prototype.onLoad=function(){this.node.opacity=0},e.prototype.update=function(t){this.m_time+=t,this.m_time>.5&&(this.m_time=0,this.m_initY==s&&(this.m_initY=this.node.y),this.node.opacity=255,this.node.y=this.m_initY)},r([c],e)}(cc.Component);o.default=_,cc._RF.pop()},{}],UIUsePropHint:[function(t,e,o){"use strict";cc._RF.push(e,"83421q8jVVF8YfTSHGLc3GQ","UIUsePropHint");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UIUsePropHint=void 0;var a=t("../../config/DataManager"),c=t("../GameManager"),s=t("../TimeManager"),_=cc._decorator,l=_.ccclass,p=_.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_prop_mask=null,e.sp_bg_2=null,e.sp_line_1=null,e.sp_line_2=null,e.text_prop_name=null,e._width=0,e._height=0,e._playing=!1,e._nodeBuffer=[],e._finishedCall=null,e}return i(e,t),e.prototype.Init=function(){this._width=this.node.width,this._height=this.node.height,this.node.active=!1},e.prototype.Execute=function(){if(this._playing)for(var t=s.TimeManager.deltaTime,e=0;e<this._nodeBuffer.length;e++){var o=this._nodeBuffer[e],n=t;o.time-=t,o.time<0&&(n-=Math.abs(o.time)),this.node.width+=o.widthSpeed?o.widthSpeed*n:0,this.node.height+=o.heightSpeed?o.heightSpeed*n:0,this.node_prop_mask.getComponent(cc.Widget).updateAlignment(),this.sp_line_1.getComponent(cc.Widget).updateAlignment(),this.sp_line_2.getComponent(cc.Widget).updateAlignment(),this.sp_bg_2.getComponent(cc.Widget).updateAlignment(),o.time<0&&(this._nodeBuffer.splice(e,1),0==this._nodeBuffer.length&&(this._playing=!1,this.node.active=!1,this._finishedCall&&this._finishedCall()));break}},e.prototype.Release=function(){this.node.destroy()},e.prototype.Reset=function(){this.node.active=!1,this._playing=!1,this._nodeBuffer=[]},e.prototype.Show=function(t,e){var o=a.DataManager.TablePropConfigDatasById[t],n=c.default.Instance.Player1.MainWeaponProps,i=n.GetPropInfo(t);o&&n&&i?(this.node.active=!0,this.text_prop_name.string=o.name,this.node.width=0,this.node.height=this._height,this._nodeBuffer=[],this._finishedCall=e,this.node_prop_mask.getComponent(cc.Widget).updateAlignment(),this.sp_line_1.getComponent(cc.Widget).updateAlignment(),this.sp_line_2.getComponent(cc.Widget).updateAlignment(),this.sp_bg_2.getComponent(cc.Widget).updateAlignment(),this._nodeBuffer.push({time:.3,widthSpeed:this._width/.3}),this._nodeBuffer.push({time:1.5}),this._nodeBuffer.push({time:.3,heightSpeed:-this._height/.3}),this._playing=!0):console.error("ERROR: UIPropHint.Show config = null or MainWeaponProps = null or PropInfo = null")},r([p(cc.Node)],e.prototype,"node_prop_mask",void 0),r([p(cc.Node)],e.prototype,"sp_bg_2",void 0),r([p(cc.Node)],e.prototype,"sp_line_1",void 0),r([p(cc.Node)],e.prototype,"sp_line_2",void 0),r([p(cc.Label)],e.prototype,"text_prop_name",void 0),r([l],e)}(cc.Component);o.UIUsePropHint=u,cc._RF.pop()},{"../../config/DataManager":"DataManager","../GameManager":"GameManager","../TimeManager":"TimeManager"}],UIWaveEditor:[function(t,e,o){"use strict";cc._RF.push(e,"16f2829JjpOYbj07TazGo6Q","UIWaveEditor");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UIWaveEditor=void 0;var a=t("../../base/App"),c=t("../../config/DataManager"),s=t("../../global/define"),_=t("../../global/enums"),l=t("../actors/ActorDefine"),p=t("../GameManager"),u=cc._decorator,d=u.ccclass,h=u.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.list_config=null,e.list_monsters=null,e.node_config_item=null,e.node_monster_item=null,e.toggle_wait_finish=null,e.toggle_boss_died_finished=null,e.toggle_loop_create_monsters=null,e._Reload=!1,e._Monsters=[],e._Configs=[],e._currentWaveIndex=1,e}return i(e,t),e.prototype.start=function(){a.App.notice.trigger(_.GameEvent.chapter_pause),this.InitView(),this.InitMonsters(),this.InitConfig()},e.prototype.onDestroy=function(){a.App.notice.trigger(_.GameEvent.chapter_restore)},e.prototype.InitView=function(){this.node_config_item.active=!1,this.node_monster_item.active=!1},e.prototype.InitMonsters=function(){for(var t=c.DataManager.TablePlaneConfigDatasArray,e=t.length-1;e>=0;e--){var o=t[e];if(o.type!=l.EObjectType.ot_main_weapon&&o.type!=l.EObjectType.ot_deputy_weapon&&o.type!=l.EObjectType.ot_support){var n=cc.instantiate(this.node_monster_item),i=n.getChildByName("text_type").getComponent(cc.Label),r=n.getChildByName("text_name").getComponent(cc.Label);n.active=!0,n.parent=this.list_monsters.content,r.string=o.name,i.string=this.GetType(o.type),this._Monsters.push({node:n,planeID:o.id})}}},e.prototype.InitConfig=function(){var t=p.default.Instance.Player2.currentLogic;if(t){var e=t.currentWaveConfig;e&&(this._currentWaveIndex=t.currentWaveIndex,this.LoadConfig(e))}else console.error("UIWaveEditor InitConfig logic = null")},e.prototype.onClickEventRandom=function(){this.list_config.content.removeAllChildren(),this._Configs=[];var t=this.RandomConfig(this._currentWaveIndex);this.LoadConfig(t)},e.prototype.LoadConfig=function(t){var e=this;t.monsters.forEach(function(o,n){var i=t.monsters_level[n]||1,r=t.create_time[n]||0;e.CreateConfig(o,i,r)}),this.toggle_wait_finish.isChecked=1==t.wait_finish,this.toggle_boss_died_finished.isChecked=1==t.boss_died_finished,this.toggle_loop_create_monsters.isChecked=1==t.loop_create_monsters},e.prototype.SetConfigItemInfo=function(t,e,o,n){var i=c.DataManager.TablePlaneConfigDatasById[e];if(i){var r=t.getChildByName("text_type").getComponent(cc.Label),a=t.getChildByName("text_name").getComponent(cc.Label),s=t.getChildByName("edit_level").getComponent(cc.EditBox),_=t.getChildByName("edit_time").getComponent(cc.EditBox);a.string=i.name,r.string=this.GetType(i.type),s.string=""+o,_.string=""+n,s.placeholder=""+o,_.placeholder=""+n}},e.prototype.GetType=function(t){var e="";return t==l.EObjectType.ot_boss?e="BOSS":t==l.EObjectType.ot_monster?e="小怪":t==l.EObjectType.ot_barrier&&(e="障碍物"),e},e.prototype.CreateConfig=function(t,e,o){var n=cc.instantiate(this.node_config_item);n.active=!0,n.parent=this.list_config.content,this.SetConfigItemInfo(n,t,e,o),this._Configs.push({node:n,planeID:t})},e.prototype.ExportConfig=function(){var t=p.default.Instance.Player2.currentLogic;if(t){var e=t.currentWaveConfig;if(!e)return s.Define.OutputMessage("The current wave number configuration is invalid"),null;var o={id:e.id,time:e.time,monsters:[],monsters_level:[],create_time:[],wait_finish:0,boss_died_finished:0,loop_create_monsters:0,show_warning:e.show_warning,exp_proportion:e.exp_proportion,user_exp_proportion:e.user_exp_proportion};o.wait_finish=this.toggle_wait_finish.isChecked?1:0,o.boss_died_finished=this.toggle_boss_died_finished.isChecked?1:0,o.loop_create_monsters=this.toggle_loop_create_monsters.isChecked?1:0;var n=!1;return this._Configs.forEach(function(t){if(!n){var e=t.node.getChildByName("edit_level").getComponent(cc.EditBox),i=t.node.getChildByName("edit_time").getComponent(cc.EditBox),r=Number(e.string),a=Number(i.string);if(isNaN(r)||isNaN(a))return n=!0,void s.Define.OutputMessage("Time and level configuration errors");o.monsters.push(t.planeID),o.monsters_level.push(r),o.create_time.push(a)}}),n?null:o}console.error("UIWaveEditor ExportConfig logic = null")},e.prototype.onClickEventRemove=function(t){var e=this._Configs.findIndex(function(e){return e.node.uuid==t.target.parent.uuid});-1!=e&&(this._Configs[e].node.destroy(),this._Configs.splice(e,1))},e.prototype.onClickEventAdd=function(t){var e=this._Monsters.find(function(e){return e.node.uuid==t.target.parent.uuid});e&&(this.CreateConfig(e.planeID,1,0),this.list_config.scrollToBottom(.1))},e.prototype.onClickEventCancel=function(){this.onEventDestroy(this)},e.prototype.onClickEventSeve=function(){var t=this.ExportConfig();t?(this._Reload=!0,a.App.notice.trigger(_.GameEvent.reload_wave_config,t),this.onEventDestroy(this)):s.Define.OutputMessage("Configuration error")},e.prototype.onClickEventOutput=function(){var t=this.ExportConfig();if(t){console.log("--------------------------");var e="monsters: [";t.monsters.forEach(function(o,n){e+=o,n<t.monsters.length-1?e+=",":e+="]"}),console.log(e),e="monsters_level: [",t.monsters_level.forEach(function(o,n){e+=o,n<t.monsters_level.length-1?e+=",":e+="]"}),console.log(e),e="create_time: [",t.create_time.forEach(function(o,n){e+=o,n<t.create_time.length-1?e+=",":e+="]"}),console.log(e),console.log("--------------------------")}else s.Define.OutputMessage("Configuration error")},e.prototype.onEventDestroy=function(t){return t.onClickEventOutput(),t.node.destroy(),t._Reload},e.prototype.RandomConfig=function(t){(t-=1)<=0&&(t=1);var e={id:t,time:0,monsters:[],monsters_level:[],create_time:[],wait_finish:1,boss_died_finished:0,loop_create_monsters:0,show_warning:0,exp_proportion:100,user_exp_proportion:1},o=!1;if(t%10==0){var n=[1];(a=[14]).push(15),n.push(8),a.push(16),n.push(16),o=!0;var i=a[d=Math.floor(Math.random()*a.length)],r=16-n[d]+1;30==t&&(i=16,r=1),e.monsters.push(i),e.monsters_level.push(r),e.create_time.push(0),e.boss_died_finished=1,e.show_warning=1,e.loop_create_monsters=1}n=[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],(a=[17,17,17,17,17,42,42,42,42,42,18,18,18,19,19,19,20,22,23,24,25,26,27,28]).push(33,33,33,33,33,34,35,36,37,43,43,43,43,43),n.push(60,60,60,60,60,60,60,60,60,60,60,60,60,60),a.push(44,44,44,44,44,45,45,45,45,45,46,47,48,49,50),n.push(130,130,130,130,130,130,130,130,130,130,130,130,130,130,130),a.push(44,44,44,44,44,45,45,45,45,45,46,47,48,49,50),n.push(130,130,130,130,130,130,130,130,130,130,130,130,130,130,130),a.push(44,44,44,44,44,45,45,45,45,45,46,47,48,49,50),n.push(130,130,130,130,130,130,130,130,130,130,130,130,130,130,130),a.push(44,44,44,44,44,45,45,45,45,45,46,47,48,49,50),n.push(130,130,130,130,130,130,130,130,130,130,130,130,130,130,130),a.push(44,44,44,44,44,45,45,45,45,45,46,47,48,49,50),n.push(130,130,130,130,130,130,130,130,130,130,130,130,130,130,130),a.push(44,44,44,44,44,45,45,45,45,45,46,47,48,49,50),n.push(130,130,130,130,130,130,130,130,130,130,130,130,130,130,130);var a,c=0,s=Math.floor(3*Math.random()+4);o&&(s=20);for(var _=0;_<s;_++){var l=Math.floor(5*Math.random()+3);o&&(l=Math.floor(4*Math.random()+3));for(var p=0;p<l;p++){var u=130-n[d=Math.floor(Math.random()*a.length)]+1;e.monsters.push(a[d]),e.monsters_level.push(u+Math.floor(2.6*t)),e.create_time.push(Math.floor(100*c)/100)}c+=o?3:1.5*Math.random()+1.5}for(n=[1,1,1,1],(a=[22,29,30,31]).push(41),n.push(60),a.push(51),n.push(130),a.push(51),n.push(130),a.push(51),n.push(130),a.push(51),n.push(130),a.push(51),n.push(130),a.push(51),n.push(130),c=0,s=Math.floor(3*Math.random()+4),o&&(s=20),_=0;_<s;_++){for(l=Math.floor(2*Math.random()),p=0;p<l;p++){var d;u=130-n[d=Math.floor(Math.random()*a.length)]+1,e.monsters.push(a[d]),e.monsters_level.push(u+Math.floor(2.6*t)),e.create_time.push(Math.floor(100*c)/100)}c+=o?3:1.5*Math.random()+1}return e},e.ShowEditorAsync=function(t){return new Promise(function(e){var o=t.onEventDestroy;t.onEventDestroy=function(){var n=o(t);return e(n),!1}})},r([h(cc.ScrollView)],e.prototype,"list_config",void 0),r([h(cc.ScrollView)],e.prototype,"list_monsters",void 0),r([h(cc.Node)],e.prototype,"node_config_item",void 0),r([h(cc.Node)],e.prototype,"node_monster_item",void 0),r([h(cc.Toggle)],e.prototype,"toggle_wait_finish",void 0),r([h(cc.Toggle)],e.prototype,"toggle_boss_died_finished",void 0),r([h(cc.Toggle)],e.prototype,"toggle_loop_create_monsters",void 0),r([d],e)}(cc.Component);o.UIWaveEditor=f,cc._RF.pop()},{"../../base/App":"App","../../config/DataManager":"DataManager","../../global/define":"define","../../global/enums":"enums","../GameManager":"GameManager","../actors/ActorDefine":"ActorDefine"}],UIWaveHint:[function(t,e,o){"use strict";cc._RF.push(e,"09841uTn6FMso7ajCLLnLZm","UIWaveHint");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UIWaveHint=void 0;var a=t("../TimeManager"),c=cc._decorator,s=c.ccclass,_=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_exp_mask=null,e.sp_line_1=null,e.sp_line_2=null,e.text_exp=null,e._width=0,e._height=0,e._playing=!1,e._nodeBuffer=[],e._finishedCall=null,e}return i(e,t),e.prototype.Init=function(){this._width=this.node.width,this._height=this.node.height,this.node.active=!1},e.prototype.Execute=function(){if(this._playing)for(var t=a.TimeManager.deltaTime,e=0;e<this._nodeBuffer.length;e++){var o=this._nodeBuffer[e],n=t;o.time-=t,o.time<0&&(n-=Math.abs(o.time)),this.node.width+=o.widthSpeed?o.widthSpeed*n:0,this.node.height+=o.heightSpeed?o.heightSpeed*n:0,this.node_exp_mask.getComponent(cc.Widget).updateAlignment(),this.sp_line_1.getComponent(cc.Widget).updateAlignment(),this.sp_line_2.getComponent(cc.Widget).updateAlignment(),o.time<0&&(this._nodeBuffer.splice(e,1),0==this._nodeBuffer.length&&(this._playing=!1,this.node.active=!1,this._finishedCall&&this._finishedCall()));break}},e.prototype.Release=function(){this.node.destroy()},e.prototype.Reset=function(){this.node.active=!1,this._playing=!1,this._nodeBuffer=[]},e.prototype.Show=function(t,e){this.node.active=!0,this.text_exp.string="Level "+t,this.node.width=0,this.node.height=this._height,this._nodeBuffer=[],this._finishedCall=e,this.node_exp_mask.getComponent(cc.Widget).updateAlignment(),this.sp_line_1.getComponent(cc.Widget).updateAlignment(),this.sp_line_2.getComponent(cc.Widget).updateAlignment(),this._nodeBuffer.push({time:1}),this._nodeBuffer.push({time:.29,widthSpeed:this._width/.29}),this._nodeBuffer.push({time:1.3}),this._nodeBuffer.push({time:.26,heightSpeed:-this._height/.26}),this._nodeBuffer.push({time:.2}),this._playing=!0},r([_(cc.Node)],e.prototype,"node_exp_mask",void 0),r([_(cc.Node)],e.prototype,"sp_line_1",void 0),r([_(cc.Node)],e.prototype,"sp_line_2",void 0),r([_(cc.Label)],e.prototype,"text_exp",void 0),r([s],e)}(cc.Component);o.UIWaveHint=l,cc._RF.pop()},{"../TimeManager":"TimeManager"}],UIWaveWarning:[function(t,e,o){"use strict";cc._RF.push(e,"9bb39UqYphA1r+pnfgSIQS+","UIWaveWarning");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UIWaveWarning=void 0;var a=t("../../global/enums"),c=t("../../module/SoundManage"),s=t("../TimeManager"),_=cc._decorator,l=_.ccclass,p=_.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_exp_mask=null,e.sp_line_1=null,e.sp_line_2=null,e.text_exp=null,e.img_warn=null,e._width=0,e._height=0,e._playing=!1,e._nodeBuffer=[],e._finishedCall=null,e}return i(e,t),e.prototype.Init=function(){this._width=this.node.width,this._height=this.node.height,this.node.active=!1},e.prototype.Execute=function(){if(this._playing)for(var t=s.TimeManager.deltaTime,e=0;e<this._nodeBuffer.length;e++){var o=this._nodeBuffer[e],n=t;o.time-=t,o.time<0&&(n-=Math.abs(o.time)),this.node.width+=o.widthSpeed?o.widthSpeed*n:0,this.node.height+=o.heightSpeed?o.heightSpeed*n:0,this.node_exp_mask.getComponent(cc.Widget).updateAlignment(),this.sp_line_1.getComponent(cc.Widget).updateAlignment(),this.sp_line_2.getComponent(cc.Widget).updateAlignment(),o.time<0&&(this._nodeBuffer.splice(e,1),0==this._nodeBuffer.length&&(this._playing=!1,this.node.active=!1,this._finishedCall&&this._finishedCall()));break}},e.prototype.Release=function(){this.node.destroy()},e.prototype.Reset=function(){this.node.active=!1,this._playing=!1,this._nodeBuffer=[]},e.prototype.Show=function(t){var e=this;this.node.active=!0,this.node.width=0,this.node.height=this._height,this._nodeBuffer=[],this._finishedCall=t,this.node_exp_mask.getComponent(cc.Widget).updateAlignment(),this.sp_line_1.getComponent(cc.Widget).updateAlignment(),this.sp_line_2.getComponent(cc.Widget).updateAlignment(),cc.tween(this.img_warn).delay(1).call(function(){c.SoundManage.instance.PlaySound(a.GameSound.sound_warning)}).call(function(){cc.tween(e.img_warn).repeat(2,cc.tween(e.img_warn).to(.5,{scale:1.5}).to(.5,{scale:1})).start()}).start(),this._nodeBuffer.push({time:1}),this._nodeBuffer.push({time:.29,widthSpeed:this._width/.29}),this._nodeBuffer.push({time:2}),this._nodeBuffer.push({time:.26,heightSpeed:-this._height/.26}),this._nodeBuffer.push({time:.2}),this._playing=!0},r([p(cc.Node)],e.prototype,"node_exp_mask",void 0),r([p(cc.Node)],e.prototype,"sp_line_1",void 0),r([p(cc.Node)],e.prototype,"sp_line_2",void 0),r([p(cc.Label)],e.prototype,"text_exp",void 0),r([p(cc.Node)],e.prototype,"img_warn",void 0),r([l],e)}(cc.Component);o.UIWaveWarning=u,cc._RF.pop()},{"../../global/enums":"enums","../../module/SoundManage":"SoundManage","../TimeManager":"TimeManager"}],UIYsxy:[function(t,e,o){"use strict";cc._RF.push(e,"bce66eFMtBBFYb+QNMbDTHo","UIYsxy");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./HelpMgr"),c=cc._decorator,s=c.ccclass,_=c.property,l=(cc.instantiate,cc.sys),p=(cc.find,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.m_node=null,e.m_btn1=null,e.m_btn2=null,e.m_isSend=!1,e}var o;return i(e,t),o=e,e.prototype.setEvent=function(){this.m_isSend?console.log("0000000000 发送打点"):console.log("1111111111 不发送打点")},e.prototype.onEnable=function(){this.close()},e.prototype.setIsSend=function(t){this.m_isSend=t,this.m_btn1.active=this.m_isSend,this.m_btn2.active=!this.m_isSend},e.prototype.close=function(){this.m_node.active=!1,a.default.instance.close_native_banner()},e.prototype.openNode=function(){this.m_node.active=!0,this.setIsSend(!1)},e.prototype.tongyi=function(){},r([_(cc.Node)],e.prototype,"m_node",void 0),r([_(cc.Node)],e.prototype,"m_btn1",void 0),r([_(cc.Node)],e.prototype,"m_btn2",void 0),o=r([s],e)}(cc.Component));o.default=p,cc._RF.pop()},{"./HelpMgr":"HelpMgr"}],VitalityRecoverData:[function(t,e,o){"use strict";cc._RF.push(e,"357cd11kHtFY540aSAw/atC","VitalityRecoverData");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.VitalityRecoverData=void 0;var a=t("../base/App"),c=t("../base/extends/SerializeElement"),s=t("../global/enums"),_=t("../utils/DateUtils"),l=t("./DataPool"),p=t("./RecordManager"),u=t("./WealthRecord"),d=function(t){function e(){var e=t.call(this)||this;return e._vitalitySpeedMax=0,e._recoverTickcount=0,e._lastUpdateTime="2010/07/28",e._vitalitySpeed=600,e}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return l.DataPool.instance.vitalityRecoverData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"recoverTickcount",{get:function(){return this._recoverTickcount},enumerable:!1,configurable:!0}),e.prototype.init=function(){if(this.load()){var t=u.WealthRecord.instance.vitality;if(t<e.VITALITY_MAX){var o=new Date(this._lastUpdateTime),n=new Date,i=Math.floor((n.getTime()-o.getTime())/1e3);if(i>(e.VITALITY_MAX-t)*this._vitalitySpeedMax)u.WealthRecord.instance.AddVitality(e.VITALITY_MAX-t),this._recoverTickcount=this._vitalitySpeedMax,this._lastUpdateTime=_.DateUtils.toString(Date.now()),this.save();else if(i>this._vitalitySpeedMax){var r=Math.floor(i/this._vitalitySpeedMax);u.WealthRecord.instance.AddVitality(r),this._recoverTickcount=this._vitalitySpeedMax-i%this._vitalitySpeedMax,this._lastUpdateTime=_.DateUtils.toString(Date.now()),this.save()}else this._recoverTickcount=this._vitalitySpeedMax-i}}else this._vitalitySpeedMax=this._vitalitySpeed,this._recoverTickcount=this._vitalitySpeedMax,this.save();a.App.timer.on(1e3,this.onTimer,this),a.App.notice.on(s.GameEvent.wealth_change,this.onGameEventWealthChange,this)},e.prototype.load=function(){var t=p.RecordManager.instance.read(s.DataRecord.VitalityRecover);return!!t&&(this.fromRecord(t),!0)},e.prototype.save=function(){p.RecordManager.instance.save(s.DataRecord.VitalityRecover,this.toRecord())},e.prototype.onGameEventWealthChange=function(t,o){if(t==s.WealthType.vitality){var n=u.WealthRecord.instance.vitality,i=n+o;n<e.VITALITY_MAX&&i>=e.VITALITY_MAX&&(this._recoverTickcount=this._vitalitySpeedMax,this._lastUpdateTime=_.DateUtils.toString(Date.now()),this.save())}},e.prototype.onTimer=function(){u.WealthRecord.instance.vitality<e.VITALITY_MAX&&(this._vitalitySpeedMax=this._vitalitySpeed,this._recoverTickcount--,0==this._recoverTickcount&&(this._recoverTickcount=this._vitalitySpeedMax,this._lastUpdateTime=_.DateUtils.toString(Date.now()),this.save(),u.WealthRecord.instance.AddVitality(1)))},e.VITALITY_MAX=20,r([c.Record("vitalitySpeedMax")],e.prototype,"_vitalitySpeedMax",void 0),r([c.Record("recoverTickcount")],e.prototype,"_recoverTickcount",void 0),r([c.Record("lastUpdateTime")],e.prototype,"_lastUpdateTime",void 0),e}(c.SerializeElement);o.VitalityRecoverData=d,cc._RF.pop()},{"../base/App":"App","../base/extends/SerializeElement":"SerializeElement","../global/enums":"enums","../utils/DateUtils":"DateUtils","./DataPool":"DataPool","./RecordManager":"RecordManager","./WealthRecord":"WealthRecord"}],WXGameTopBarUIAdapter:[function(t,e,o){"use strict";cc._RF.push(e,"58882zOMT5HbrtUlu+/LOUk","WXGameTopBarUIAdapter");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),t("../global/define");var a=cc._decorator,c=a.ccclass,s=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},r([c],e)}(cc.Component));o.default=s,cc._RF.pop()},{"../global/define":"define"}],WealthRecord:[function(t,e,o){"use strict";cc._RF.push(e,"ff1f9uUrz5DOKbj3AS3kiHv","WealthRecord");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.WealthRecord=void 0;var a=t("../base/App"),c=t("../base/extends/SerializeElement"),s=t("../global/enums"),_=t("./DataPool"),l=t("./RecordManager"),p=function(t){function e(){var e=t.call(this)||this;return e._wealth_info=[],e}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return _.DataPool.instance.wealthRecord},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exp_user",{get:function(){var t=this._wealth_info.find(function(t){return t.type==s.WealthType.exp_user});return t?t.value:0},enumerable:!1,configurable:!0}),e.prototype.AddExp=function(t){this.addWealth(s.WealthType.exp_user,t)},Object.defineProperty(e.prototype,"vitality",{get:function(){var t=this._wealth_info.find(function(t){return t.type==s.WealthType.vitality});return t?t.value:0},enumerable:!1,configurable:!0}),e.prototype.AddVitality=function(t){this.addWealth(s.WealthType.vitality,t)},Object.defineProperty(e.prototype,"jewel",{get:function(){var t=this._wealth_info.find(function(t){return t.type==s.WealthType.jewel});return t?t.value:0},enumerable:!1,configurable:!0}),e.prototype.AddJewel=function(t){this.addWealth(s.WealthType.jewel,t)},e.prototype.addWealth=function(t,e){var o=this._wealth_info.find(function(e){return e.type==t});o?o.value+=e:(o={type:t,value:e},this._wealth_info.push(o)),a.App.notice.trigger(s.GameEvent.wealth_change,t,o.value,e),this.save()},e.prototype.init=function(){this.load()||(this.AddVitality(e.MAX_VITALITY),this.save())},e.prototype.load=function(){var t=l.RecordManager.instance.read(s.DataRecord.WealtInfo);return!!t&&(this.fromRecord(t),!0)},e.prototype.save=function(){l.RecordManager.instance.save(s.DataRecord.WealtInfo,this.toRecord())},e.MAX_VITALITY=20,r([c.Record("wealth_info")],e.prototype,"_wealth_info",void 0),e}(c.SerializeElement);o.WealthRecord=p,cc._RF.pop()},{"../base/App":"App","../base/extends/SerializeElement":"SerializeElement","../global/enums":"enums","./DataPool":"DataPool","./RecordManager":"RecordManager"}],WelfareLayer:[function(t,e,o){"use strict";cc._RF.push(e,"f49f3asL3VFeI9eJ/3Cts2L","WelfareLayer");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../ads/HelpMgr"),_=t("../../global/define"),l=t("../../record/GameInfoRecord"),p=t("../../record/WealthRecord"),u=t("../../scenee/MainScene"),d=t("../../ThirdParty/ThirdParty"),h=t("../../utils/LoadManager"),f=t("../public/ReveiveAwardAni"),y=t("../public/SwitchEffect"),g=cc._decorator,v=g.ccclass,b=g.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnReceiveStartOffShareFriend=null,e.btnReceiveStartOffCollect=null,e.btnReceiveStartOffShareFriends=null,e.btnReceiveShareFriend=null,e.btnReceiveCollect=null,e.btnReceiveShareFriends=null,e.spFinishedShareFriend=null,e.spFinishedCollect=null,e.spFinishedShareFriends=null,e.node_share_hint=null,e}return i(e,t),e.prototype.start=function(){return a(this,void 0,void 0,function(){var t,e=this;return c(this,function(){return y.SwitchEffect.playOpen(this.node),d.ThirdParty.instance.showBannerAd(),cc.tween(this.node_share_hint).delay(Math.random()).call(function(){cc.tween(e.node_share_hint).repeatForever(cc.tween(e.node_share_hint).to(.5,{scale:.8}).to(.5,{scale:1})).start()}).start(),this.btnReceiveStartOffCollect.active=!l.GameInfoRecord.instance.collectGameReward,this.btnReceiveCollect.active=!1,this.spFinishedCollect.active=l.GameInfoRecord.instance.collectGameReward,t=l.GameInfoRecord.instance.CheckShareReceive(),this.btnReceiveStartOffShareFriend.active=0==t,this.btnReceiveShareFriend.active=1==t,this.spFinishedShareFriend.active=2==t,this.btnReceiveStartOffShareFriends.active=!l.GameInfoRecord.instance.shareFriendsReward,this.btnReceiveShareFriends.active=!1,this.spFinishedShareFriends.active=l.GameInfoRecord.instance.shareFriendsReward,this.spFinishedCollect.active=!1,this.spFinishedShareFriend.active=!1,this.spFinishedShareFriends.active=!1,_.Define.isWeChat(),[2]})})},e.prototype.onEnable=function(){var t=this;s.default.instance.setOvNode(this,function(){t.onClickEventClose()})},e.prototype.update=function(){var t=l.GameInfoRecord.instance.CheckShareReceive();this.node_share_hint.active=0==t||1==t},e.prototype.onDestroy=function(){_.Define.isWeChat()},e.prototype.onClickEventClose=function(){y.SwitchEffect.playClose(this.node,!0),d.ThirdParty.instance.hideBannerAd()},e.prototype.onClickEventStartOffCollect=function(){l.GameInfoRecord.instance.collectGameReward||0==l.GameInfoRecord.instance.openGameCount&&(l.GameInfoRecord.instance.openGameCount=1);var t=h.LoadManager.get("prefab/hall/CollectGameLayer");t&&(cc.instantiate(t).parent=u.default.instance.node),_.Define.BuriedPoint("福利：点击我的小游戏")},e.prototype.onClickEventShareFriend=function(){p.WealthRecord.instance.AddJewel(5),f.default.PlayJewelAni(this.btnReceiveShareFriend,5),l.GameInfoRecord.instance.ReceiveShareFinished(),this.btnReceiveStartOffShareFriend.active=!1,this.btnReceiveShareFriend.active=!1,this.spFinishedShareFriend.active=!0,_.Define.BuriedPoint("福利：分享到朋友，领取")},e.prototype.onClickEventShareFriends=function(){p.WealthRecord.instance.AddJewel(15),f.default.PlayJewelAni(this.btnReceiveShareFriends,15),l.GameInfoRecord.instance.shareFriendsReward=!0,this.btnReceiveStartOffShareFriends.active=!1,this.btnReceiveShareFriends.active=!1,this.spFinishedShareFriends.active=!0,_.Define.BuriedPoint("福利：点击我的小游戏，领取")},e.prototype.onClickEventCollect=function(){p.WealthRecord.instance.AddJewel(30),f.default.PlayJewelAni(this.btnReceiveCollect,30),l.GameInfoRecord.instance.collectGameReward=!0,this.btnReceiveStartOffCollect.active=!1,this.btnReceiveCollect.active=!1,this.spFinishedCollect.active=!0,_.Define.BuriedPoint("福利：分享到朋友圈，领取")},r([b(cc.Node)],e.prototype,"btnReceiveStartOffShareFriend",void 0),r([b(cc.Node)],e.prototype,"btnReceiveStartOffCollect",void 0),r([b(cc.Node)],e.prototype,"btnReceiveStartOffShareFriends",void 0),r([b(cc.Node)],e.prototype,"btnReceiveShareFriend",void 0),r([b(cc.Node)],e.prototype,"btnReceiveCollect",void 0),r([b(cc.Node)],e.prototype,"btnReceiveShareFriends",void 0),r([b(cc.Node)],e.prototype,"spFinishedShareFriend",void 0),r([b(cc.Node)],e.prototype,"spFinishedCollect",void 0),r([b(cc.Node)],e.prototype,"spFinishedShareFriends",void 0),r([b(cc.Node)],e.prototype,"node_share_hint",void 0),r([v],e)}(cc.Component);o.default=m,cc._RF.pop()},{"../../ThirdParty/ThirdParty":"ThirdParty","../../ads/HelpMgr":"HelpMgr","../../global/define":"define","../../record/GameInfoRecord":"GameInfoRecord","../../record/WealthRecord":"WealthRecord","../../scenee/MainScene":"MainScene","../../utils/LoadManager":"LoadManager","../public/ReveiveAwardAni":"ReveiveAwardAni","../public/SwitchEffect":"SwitchEffect"}],WorldManager:[function(t,e,o){"use strict";cc._RF.push(e,"6c1ecJSwARLN6JfbMI5BPdW","WorldManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.WorldManager=void 0;var a=t("../global/enums"),c=t("../utils/LoadManager"),s=t("./actors/ActorDefine"),_=t("./AI/AIActuator"),l=t("./born/BornSystem"),p=t("./collision/CollisionSystem"),u=t("./effect/EffectSystem"),d=t("./fly_object/FlyObjectSystem"),h=t("./GameManager"),f=t("./HUD/HUDSystem"),y=t("./input/InputSystem"),g=t("./map/MapSystem"),v=t("./prompt_lable/PromptLableSystem"),b=t("./prop/PropSystem"),m=t("./ui/UIGameFinished"),A=t("./ui/UIGamePause"),x=t("./ui/UIGameTop"),C=t("./ui/UIHeroRevive"),w=t("./ui/UIJumpWave"),T=t("./ui/UIPropChoose"),E=t("./ui/UIPropChooseConfirm"),S=t("./ui/UIPropChooseList"),O=t("./ui/UIPropHint"),P=t("./ui/UIUsePropHint"),I=t("./ui/UIWaveHint"),k=t("./ui/UIWaveWarning"),R=cc._decorator,D=R.ccclass,M=(R.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ActorsArray=[],e.ActorsDict=new Map,e.BornSystem=null,e.Input=null,e.FlyObjectSystem=null,e.AIActuator=null,e.Map=null,e.PromptLable=null,e.EffectSystem=null,e.HUDSystem=null,e.PropSystem=null,e.CollisionSys=null,e.UITop=null,e.UIWaveHint=null,e.UIGamePause=null,e.UIPropChoose=null,e.UIPropChooseConfirm=null,e.UIPropHint=null,e.UIHeroRevive=null,e.UIGameFinished=null,e.UIUsePropHint=null,e.UIWaveWarning=null,e.UIJumpWave=null,e.UIPropChooseList=null,e}var o;return i(e,t),o=e,Object.defineProperty(e,"Instance",{get:function(){if(!o._instance)throw new Error("必须先加载场景");return o._instance},enumerable:!1,configurable:!0}),e.prototype.Init=function(t){var e=this;o._instance=this;var n=c.LoadManager.get("prefab/game/map/map_node"),i=cc.instantiate(n);this.Map=i.getComponent(g.MapSystem),this.Map.node.parent=this.node,this.Map.node.zIndex=a.ZIndex.ZI_MAP,this.Map.OnLoadFinish=function(){e.OnMapLoaded(),t&&t()},this.Map.LoadMap()},e.prototype.CreateUI=function(t,e,o,n){void 0===n&&(n=!0);var i=c.LoadManager.get(e),r=cc.instantiate(i);r.active=n;var a=r.getComponent(t);return a.node.parent=this.node,a.node.zIndex=o,a},e.prototype.OnMapLoaded=function(){this.UITop=this.CreateUI(x.UIGameTop,"prefab/game/ui/ui_game_top",a.ZIndex.ZI_GAME_UI),this.UITop.Init(),this.UIWaveHint=this.CreateUI(I.UIWaveHint,"prefab/game/ui/ui_wave_hint",a.ZIndex.ZI_HINT_UI),this.UIWaveHint.Init(),this.UIWaveWarning=this.CreateUI(k.UIWaveWarning,"prefab/game/ui/ui_wave_warning",a.ZIndex.ZI_HINT_UI),this.UIWaveWarning.Init(),this.UIGamePause=this.CreateUI(A.UIGamePause,"prefab/game/ui/ui_game_pause",a.ZIndex.ZI_PAUSE_UI,!1),this.UIGamePause.Init(),this.UIPropChoose=this.CreateUI(T.UIPropChoose,"prefab/game/ui/ui_prop_choose",a.ZIndex.ZI_PROP_CHOOSE_UI,!1),this.UIPropChoose.Init(),this.UIPropChooseConfirm=this.CreateUI(E.UIPropChooseConfirm,"prefab/game/ui/ui_prop_choose_confirm",a.ZIndex.ZI_PROP_CHOOSE_UI,!1),this.UIPropChooseConfirm.Init(),this.UIPropHint=this.CreateUI(O.UIPropHint,"prefab/game/ui/ui_prop_hint",a.ZIndex.ZI_HINT_UI),this.UIPropHint.Init(),this.UIHeroRevive=this.CreateUI(C.UIHeroRevive,"prefab/game/ui/ui_heor_revive",a.ZIndex.ZI_HEOR_REVIVE_UI,!1),this.UIHeroRevive.Init(),this.UIGameFinished=this.CreateUI(m.UIGameFinished,"prefab/game/ui/ui_game_finished",a.ZIndex.ZI_GAME_FINISHED_UI,!1),this.UIGameFinished.Init(),this.UIUsePropHint=this.CreateUI(P.UIUsePropHint,"prefab/game/ui/ui_use_prop_hint",a.ZIndex.ZI_HINT_UI),this.UIUsePropHint.Init(),this.UIJumpWave=this.CreateUI(w.UIJumpWave,"prefab/game/ui/ui_jump_wave",a.ZIndex.ZI_PAUSE_UI,!1),this.UIJumpWave.Init(),this.UIPropChooseList=this.CreateUI(S.UIPropChooseList,"prefab/game/ui/ui_prop_choose_list",a.ZIndex.ZI_PAUSE_UI),this.UIPropChooseList.Init(),this.BornSystem=this.node.addComponent(l.BornSystem),this.BornSystem.Init(),this.Input=this.node.addComponent(y.InputSystem),this.Input.Init(),this.FlyObjectSystem=this.node.addComponent(d.FlyObjectSystem),this.FlyObjectSystem.Init(),this.PromptLable=this.node.addComponent(v.PromptLableSystem),this.PromptLable.Init(),this.EffectSystem=this.node.addComponent(u.EffectSystem),this.EffectSystem.Init(),this.PropSystem=this.node.addComponent(b.PropSystem),this.PropSystem.Init(),this.HUDSystem=new f.HUDSystem,this.HUDSystem.Init(),this.CollisionSys=new p.CollisionSysteem,this.CollisionSys.Init(),this.AIActuator=new _.AIActuator},e.prototype.Execute=function(){var t,e,o,n,i,r,c,s,_,l,p,u,d,f,y,g,v,b,m,A,x;h.default.Instance.currentState!=a.GameState.pause&&(null===(t=this.Map)||void 0===t||t.Execute(),this.UpdateActor(),null===(e=this.BornSystem)||void 0===e||e.Execute(),null===(o=this.Input)||void 0===o||o.Execute(),null===(n=this.FlyObjectSystem)||void 0===n||n.Execute(),null===(i=this.PromptLable)||void 0===i||i.Execute(),null===(r=this.EffectSystem)||void 0===r||r.Execute(),null===(c=this.HUDSystem)||void 0===c||c.Execute(),null===(s=this.PropSystem)||void 0===s||s.Execute(),null===(_=this.UITop)||void 0===_||_.Execute(),null===(l=this.UIWaveHint)||void 0===l||l.Execute(),null===(p=this.UIWaveWarning)||void 0===p||p.Execute(),null===(u=this.UIPropChoose)||void 0===u||u.Execute(),null===(d=this.UIPropChooseConfirm)||void 0===d||d.Execute(),null===(f=this.UIPropHint)||void 0===f||f.Execute(),null===(y=this.UIGamePause)||void 0===y||y.Execute(),null===(g=this.UIHeroRevive)||void 0===g||g.Execute(),null===(v=this.UIGameFinished)||void 0===v||v.Execute(),null===(b=this.UIUsePropHint)||void 0===b||b.Execute(),null===(m=this.UIJumpWave)||void 0===m||m.Execute(),null===(A=this.UIPropChooseList)||void 0===A||A.Execute(),null===(x=this.CollisionSys)||void 0===x||x.Execute())},e.prototype.LateExecute=function(t){this.AIActuator.Execute(t)},e.prototype.Release=function(){},e.prototype.Reset=function(){var t,e,o,n,i,r,a,c,s,_,l,p,u,d;null===(t=this.PropSystem)||void 0===t||t.Reset(),null===(e=this.CollisionSys)||void 0===e||e.Reset(),null===(o=this.UITop)||void 0===o||o.Reset(),null===(n=this.UIWaveHint)||void 0===n||n.Reset(),null===(i=this.UIWaveWarning)||void 0===i||i.Reset(),null===(r=this.UIPropChoose)||void 0===r||r.Reset(),null===(a=this.UIPropChooseConfirm)||void 0===a||a.Reset(),null===(c=this.UIPropHint)||void 0===c||c.Reset(),null===(s=this.UIGamePause)||void 0===s||s.Reset(),null===(_=this.UIHeroRevive)||void 0===_||_.Reset(),null===(l=this.UIGameFinished)||void 0===l||l.Reset(),null===(p=this.UIUsePropHint)||void 0===p||p.Reset(),null===(u=this.UIJumpWave)||void 0===u||u.Reset(),null===(d=this.UIPropChooseList)||void 0===d||d.Reset()},e.prototype.UpdateActor=function(){for(var t=0;t<this.ActorsArray.length;t++)this.ActorsArray[t].Execute()},e.prototype.AddActor=function(t){this.ActorsArray.push(t),this.ActorsDict.set(t.guid,t)},e.prototype.GetActor=function(t){return this.ActorsDict.has(t)?this.ActorsDict.get(t):null},e.prototype.DelActor=function(t){if(this.ActorsDict.has(t)){var e=this.ActorsDict.get(t),o=this.ActorsArray.indexOf(e);this.ActorsArray.splice(o,1),this.ActorsDict.delete(t),e.Release()}},e.prototype.ForEachActor=function(t){for(var e=0;e<this.ActorsArray.length;e++)t(this.ActorsArray[e],e)},e.prototype.ShowGameFinished=function(t){this.UITop.TotalExp<=0?t&&t():o.Instance.UIGameFinished.Show(function(){t&&t()})},e.prototype.GetTarget=function(t,e){var n=-1,i=-1,r=-1;return o.Instance.ForEachActor(function(o){if(0!=o.IsActive&&!o.IsDead()){var a=o.node.getContentSize(),c=o.Pos2D,_=cc.winSize;if(!(Math.abs(c.x)-a.width/2>_.width/2||Math.abs(c.y)-a.height/2>_.height/2)&&o.xData.type!=s.EObjectType.ot_barrier&&o.xData.type!=s.EObjectType.ot_deputy_weapon&&o.xData.type!=s.EObjectType.ot_invalid&&t.GetShip(o.camp)==e){var l=t.Pos2D.sub(c).mag(),p=o.BeLockedCount,u=!1;-1==r?u=!0:p<n?u=!0:p==n&&l<i?u=!0:l<i&&(u=!0),u&&(i=l,n=o.BeLockedCount,r=o.guid)}}}),r},e._instance=null,o=r([D],e)}(cc.Component));o.WorldManager=M,cc._RF.pop()},{"../global/enums":"enums","../utils/LoadManager":"LoadManager","./AI/AIActuator":"AIActuator","./GameManager":"GameManager","./HUD/HUDSystem":"HUDSystem","./actors/ActorDefine":"ActorDefine","./born/BornSystem":"BornSystem","./collision/CollisionSystem":"CollisionSystem","./effect/EffectSystem":"EffectSystem","./fly_object/FlyObjectSystem":"FlyObjectSystem","./input/InputSystem":"InputSystem","./map/MapSystem":"MapSystem","./prompt_lable/PromptLableSystem":"PromptLableSystem","./prop/PropSystem":"PropSystem","./ui/UIGameFinished":"UIGameFinished","./ui/UIGamePause":"UIGamePause","./ui/UIGameTop":"UIGameTop","./ui/UIHeroRevive":"UIHeroRevive","./ui/UIJumpWave":"UIJumpWave","./ui/UIPropChoose":"UIPropChoose","./ui/UIPropChooseConfirm":"UIPropChooseConfirm","./ui/UIPropChooseList":"UIPropChooseList","./ui/UIPropHint":"UIPropHint","./ui/UIUsePropHint":"UIUsePropHint","./ui/UIWaveHint":"UIWaveHint","./ui/UIWaveWarning":"UIWaveWarning"}],WxAdMgr:[function(t,e,o){"use strict";cc._RF.push(e,"c6f77lqvPpCfrx6m3OSOpkt","WxAdMgr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.WxAdMgr=o.WxVideoAdType=void 0;var r=t("../ads/HelpMgr"),a=t("../base/InstanceBase");(function(t){t[t.times_30=1]="times_30",t[t.times_60=2]="times_60"})(o.WxVideoAdType||(o.WxVideoAdType={}));var c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._videoAd_30s=null,e._videoAd_60s=null,e._insertAd=null,e.wxBannerAds=[],e._bannerCount=0,e._bannerIndex=0,e}return i(e,t),Object.defineProperty(e,"instance",{get:function(){return e.INSTANCE||(e.INSTANCE=a.InstanceBase.getInstance(e))},enumerable:!1,configurable:!0}),e.prototype.showVideoAd=function(t){console.log("destored wx ad "),r.default.instance.showVideoTemp(t)},e.prototype.createBannerAd=function(){},e.prototype.showBannerAd=function(){},e.prototype.hideBannerAd=function(){r.default.instance.close_native_banner()},e.prototype.showInterstitialAd=function(){var t=this;try{if(""==e._adunit_insert)return;this._insertAd||(this._insertAd=wx.createInterstitialAd({adUnitId:e._adunit_insert}),this._insertAd.onClose(function(t){console.info("插屏广告关闭: ",t)}),this._insertAd.onError(function(t){console.info("插屏广告显示错误1: ",t)})),this._insertAd.load().then(function(){t._insertAd.show()}).catch(function(t){console.info("插屏广告显示错误2: ",t)})}catch(o){console.info("插屏广告创建错误:",o)}},e._adunit_video_30s="18501c6300e2e193e8830893b08b55a6",e._adunit_video_60s="18501c6300e2e193e8830893b08b55a6",e._adunit_banners=["e2b03eec79c5bb90cd09f3ee02bd1b8b"],e._adunit_insert="",e}(a.InstanceBase);o.WxAdMgr=c,cc._RF.pop()},{"../ads/HelpMgr":"HelpMgr","../base/InstanceBase":"InstanceBase"}],YSNodeSy:[function(t,e,o){"use strict";cc._RF.push(e,"cf944GqWtxBv6jotA9FAYaw","YSNodeSy");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./HelpMgr"),c=cc._decorator,s=c.ccclass,_=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nextBtn=null,e.bjckBtn=null,e.m_ysNode=null,e.m_sp=null,e.m_isBtn=!1,e.m_nShowType=1,e}var o;return i(e,t),o=e,e.prototype.hideBack=function(){this.bjckBtn.active=!1},e.prototype.showBack=function(){this.bjckBtn.active=!0},e.prototype.showOver=function(){this.m_isBtn=!1,this.hideBack(),console.log("加载OV ----3333333333------"),this.m_sp&&(this.m_sp.active=o.count>=1,o.count++,cc.game.emit("showNotYs",this.m_sp.active));var t=a.default.instance.getJumpOpen();this.bjckBtn.opacity=t?255:0},e.prototype.djck=function(){0!=this.bjckBtn.opacity&&cc.game.emit("on_clickCK")},e.prototype.jxyx=function(){this.m_isBtn||(this.m_sp.active?a.default.instance.show_video(function(t){t&&cc.game.emit("game_over_ov")},null):a.default.instance.set_on_click_inner_interstitial_btn(function(){cc.game.emit("game_over_ov")}))},e.prototype.onDisable=function(){a.default.instance.hide_game_banner_box(),a.default.instance.load_inner_interstitial_native()},e.count=0,r([_(cc.Node)],e.prototype,"nextBtn",void 0),r([_(cc.Node)],e.prototype,"bjckBtn",void 0),r([_(cc.Node)],e.prototype,"m_ysNode",void 0),r([_(cc.Node)],e.prototype,"m_sp",void 0),o=r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./HelpMgr":"HelpMgr"}],YSNode:[function(t,e,o){"use strict";cc._RF.push(e,"a4859Apo+RC3J+KB3yUxAB4","YSNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("./HelpMgr"),c=t("./OVADBtn"),s=cc._decorator,_=s.ccclass,l=s.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.nextBtn=null,e.bjckBtn=null,e.m_ysNode=null,e.m_isShowYs=!1,e.m_isBtn=!1,e.m_nShowType=1,e.m_cdTime=0,e}return i(e,t),e.prototype.onLoad=function(){this.updateBJCKSp()},e.prototype.setShowType=function(t){this.m_nShowType=t,this.updateBJCKSp()},e.prototype.updateBJCKSp=function(){},e.prototype.changeBtn=function(){this.showUI(0)},e.prototype.showUI=function(t){console.log("showUI 222  ",t,a.default.instance.gameCount),this.nextBtn.setGameShowType(t),this.bjckBtn.setGameShowType(t)},e.prototype.hideBack=function(){this.bjckBtn.closeByAd(!1),this.nextBtn.closeByAd(!1)},e.prototype.showBack=function(){this.bjckBtn.closeByAd(!0),this.nextBtn.closeByAd(!0)},e.prototype.showOver=function(){this.m_cdTime=0,this.m_isBtn=!1,this.m_isShowYs=!1,this.changeBtn(),this.hideBack()},e.prototype.showNotYs=function(t){cc.game.emit("showNotYs",t)},e.prototype.djck=function(){},e.prototype.jxyx=function(){this.m_isBtn},e.prototype.onDisable=function(){a.default.instance.hide_game_banner_box(),a.default.instance.load_inner_interstitial_native()},e.count=0,r([l(c.default)],e.prototype,"nextBtn",void 0),r([l(c.default)],e.prototype,"bjckBtn",void 0),r([l(cc.Node)],e.prototype,"m_ysNode",void 0),r([_],e)}(cc.Component);o.default=p,cc._RF.pop()},{"./HelpMgr":"HelpMgr","./OVADBtn":"OVADBtn"}],"bt.ALL":[function(t,e,o){"use strict";cc._RF.push(e,"bb1fdXU1/tPvpW8VAomBVZk","bt.ALL");var n,i=this&&this.__createBinding||(Object.create?function(t,e,o,n){void 0===n&&(n=o),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[o]}})}:function(t,e,o,n){void 0===n&&(n=o),t[n]=e[o]}),r=this&&this.__exportStar||function(t,e){for(var o in t)"default"===o||Object.prototype.hasOwnProperty.call(e,o)||i(e,t,o)};Object.defineProperty(o,"__esModule",{value:!0}),o.BTPropType=o.BTClassCtorType=o.BTClassType=o.IBTPropOpt=o.IBTClassOpt=o.btprop=o.btclass=o.VERSION=o.APPNAME=void 0,r(t("./api/bt.API"),o),r(t("./util/bt.Logger"),o),r(t("./base/bt.ActionTask"),o),r(t("./base/bt.BehaviorCtrl"),o),r(t("./base/bt.Blackboard"),o),r(t("./base/bt.BranchTask"),o),r(t("./base/bt.CompositeTask"),o),r(t("./base/bt.ConditionTask"),o),r(t("./base/bt.DecoratorTask"),o),r(t("./base/bt.IntercepterTask"),o),r(t("./base/bt.LeafTask"),o),r(t("./base/bt.SharedVariable"),o),r(t("./base/bt.Const"),o),r(t("./base/bt.Task"),o),r(t("./base/bt.TaskEventType"),o),r(t("./base/fsm/bt.FsmTask"),o),r(t("./base/fsm/bt.FsmStateTask"),o),r(t("./base/fsm/bt.FsmTransitionTask"),o),r(t("./base/fsm/bt.FsmType"),o),r(t("./base/task/action/bt.Idle"),o),r(t("./base/task/action/bt.Wait"),o),r(t("./base/task/action/event/bt.FireEvent"),o),r(t("./base/task/action/event/bt.FireEvents"),o),r(t("./base/task/action/event/bt.EmitEvent"),o),r(t("./base/task/action/event/bt.BroadcastEvent"),o),r(t("./base/task/action/event/bt.BroadcastEventEx"),o),r(t("./base/task/action/event/bt.WaitForEvent"),o),r(t("./base/task/action/behavior/bt.SetEnabledBehavior"),o),r(t("./base/task/action/behavior/bt.SetPausedBehavior"),o),r(t("./base/task/action/behavior/bt.RestartBehavior"),o),r(t("./base/task/action/behavior/bt.TerminateBehavior"),o),r(t("./base/task/action/behavior/bt.TickBehavior"),o),r(t("./base/task/action/operator/bt.SetNum"),o),r(t("./base/task/action/operator/bt.SetBool"),o),r(t("./base/task/action/operator/bt.SetStr"),o),r(t("./base/task/action/blackboard/bt.BbDelKey"),o),r(t("./base/task/action/blackboard/bt.BbClear"),o),r(t("./base/task/action/blackboard/bt.BbWrite"),o),r(t("./base/task/action/blackboard/bt.BbRead"),o),r(t("./base/task/action/trigger/bt.CtrlGate"),o),r(t("./base/task/action/trigger/bt.RequestInterrupt"),o),r(t("./base/task/action/math/bt.GenRandom"),o),r(t("./base/task/composite/bt.Selector"),o),r(t("./base/task/composite/bt.Sequence"),o),r(t("./base/task/composite/bt.SequenceTicker"),o),r(t("./base/task/composite/bt.Parallel"),o),r(t("./base/task/composite/bt.ParallelSelector"),o),r(t("./base/task/composite/bt.ParallelComplete"),o),r(t("./base/task/composite/bt.ParallelCompositeTask"),o),r(t("./base/task/composite/bt.RandomCompositeTask"),o),r(t("./base/task/composite/bt.RandomSelector"),o),r(t("./base/task/composite/bt.RandomSequence"),o),r(t("./base/task/composite/bt.RandomTicker"),o),r(t("./base/task/composite/bt.PriorityCompositeTask"),o),r(t("./base/task/composite/bt.PriorityTicker"),o),r(t("./base/task/composite/bt.RevalCompositeTask"),o),r(t("./base/task/composite/bt.RevalSelector"),o),r(t("./base/task/composite/bt.RevalSequence"),o),r(t("./base/task/condition/behavior/bt.IsBehaviorRunning"),o),r(t("./base/task/condition/event/bt.OnEvent"),o),r(t("./base/task/condition/operator/bt.CmpNum"),o),r(t("./base/task/condition/operator/bt.CmpBool"),o),r(t("./base/task/condition/operator/bt.CmpStr"),o),r(t("./base/task/condition/blackboard/bt.BbHasKey"),o),r(t("./base/task/condition/blackboard/bt.BbCmpNum"),o),r(t("./base/task/condition/blackboard/bt.BbCmpBool"),o),r(t("./base/task/condition/blackboard/bt.BbCmpStr"),o),r(t("./base/task/decorator/bt.AlwaysSuccess"),o),r(t("./base/task/decorator/bt.AlwaysFailure"),o),r(t("./base/task/decorator/bt.AlwaysRunning"),o),r(t("./base/task/decorator/bt.UntilSuccess"),o),r(t("./base/task/decorator/bt.FailureUntilSuccess"),o),r(t("./base/task/decorator/bt.UntilFailure"),o),r(t("./base/task/decorator/bt.SuccessUntilFailure"),o),r(t("./base/task/decorator/bt.Inverter"),o),r(t("./base/task/decorator/bt.Period"),o),r(t("./base/task/decorator/bt.Repeater"),o),r(t("./base/task/decorator/bt.FrameRepeater"),o),r(t("./base/task/intercepter/bt.PreCondition"),o),r(t("./base/task/intercepter/bt.PreConditions"),o),r(t("./base/task/intercepter/bt.Delay"),o),r(t("./base/task/intercepter/bt.Cooldown"),o),r(t("./base/task/intercepter/bt.Gate"),o),r(t("./base/task/intercepter/bt.Interrupt"),o),r(t("./base/variable/bt.SharedNumber"),o),r(t("./base/variable/bt.SharedNumberList"),o),r(t("./base/variable/bt.SharedString"),o),r(t("./base/variable/bt.SharedStringList"),o),r(t("./base/variable/bt.SharedBoolean"),o),r(t("./base/variable/bt.SharedBooleanList"),o),r(t("./c2d/bt.BehaviorTree"),o),r(t("./c2d/bt.BehaviorTreeEventType"),o),r(t("./c2d/task/action/bt.WaitFrames"),o),r(t("./c2d/task/action/scene/bt.LoadScene"),o),r(t("./c2d/task/action/scene/bt.SetActive"),o),r(t("./c2d/task/action/scene/bt.SetEnabled"),o),r(t("./c2d/task/action/collision/bt.SetEnabledCollider"),o),r(t("./c2d/task/condition/system/bt.IsKeyDown"),o),r(t("./c2d/task/condition/ui/bt.OnCCEvent"),o),r(t("./c2d/task/condition/ui/bt.OnClick"),o),r(t("./c2d/task/condition/ui/bt.OnToggle"),o),r(t("./c2d/task/condition/ui/bt.OnCheck"),o),r(t("./c2d/task/condition/ui/bt.OnUnCheck"),o),r(t("./c2d/task/condition/ui/bt.IsChecked"),o),r(t("./c2d/task/condition/collision/bt.OnCollisionEnter"),o),r(t("./c2d/task/condition/collision/bt.OnCollisionStay"),o),r(t("./c2d/task/condition/collision/bt.OnCollisionExit"),o),r(t("./c2d/task/decorator/bt.WithinFrames"),o),r(t("./c2d/task/intercepter/bt.AfterFrames"),o),r(t("./c2d/variable/bt.SharedCCComponent"),o),r(t("./c2d/variable/bt.SharedCCComponentList"),o),r(t("./c2d/variable/bt.SharedCCNode"),o),r(t("./c2d/variable/bt.SharedCCNodeList"),o),r(t("./c2d/variable/bt.SharedCCVec2"),o),r(t("./c2d/variable/bt.SharedCCVec2List"),o),r(t("./c2d/variable/bt.SharedCCVec3"),o),r(t("./c2d/variable/bt.SharedCCVec3List"),o),r(t("./c2d/variable/bt.SharedCCColor"),o),r(t("./c2d/variable/bt.SharedCCColorList"),o),r(t("./c2d/variable/bt.SharedCCCollider"),o),r(t("./c2d/variable/bt.SharedCCColliderList"),o),r(t("./c2d/variable/bt.SharedCCEvent"),o),o.APPNAME=(n=t("bt.editor")).APPNAME,o.VERSION=n.VERSION,o.btclass=n.btclass,o.btprop=n.btprop,o.IBTClassOpt=n.IBTClassOpt,o.IBTPropOpt=n.IBTPropOpt,o.BTClassType=n.BTClassType,o.BTClassCtorType=n.BTClassCtorType,o.BTPropType=n.BTPropType,cc._RF.pop()},{"./api/bt.API":"bt.API","./base/bt.ActionTask":"bt.ActionTask","./base/bt.BehaviorCtrl":"bt.BehaviorCtrl","./base/bt.Blackboard":"bt.Blackboard","./base/bt.BranchTask":"bt.BranchTask","./base/bt.CompositeTask":"bt.CompositeTask","./base/bt.ConditionTask":"bt.ConditionTask","./base/bt.Const":"bt.Const","./base/bt.DecoratorTask":"bt.DecoratorTask","./base/bt.IntercepterTask":"bt.IntercepterTask","./base/bt.LeafTask":"bt.LeafTask","./base/bt.SharedVariable":"bt.SharedVariable","./base/bt.Task":"bt.Task","./base/bt.TaskEventType":"bt.TaskEventType","./base/fsm/bt.FsmStateTask":"bt.FsmStateTask","./base/fsm/bt.FsmTask":"bt.FsmTask","./base/fsm/bt.FsmTransitionTask":"bt.FsmTransitionTask","./base/fsm/bt.FsmType":"bt.FsmType","./base/task/action/behavior/bt.RestartBehavior":"bt.RestartBehavior","./base/task/action/behavior/bt.SetEnabledBehavior":"bt.SetEnabledBehavior","./base/task/action/behavior/bt.SetPausedBehavior":"bt.SetPausedBehavior","./base/task/action/behavior/bt.TerminateBehavior":"bt.TerminateBehavior","./base/task/action/behavior/bt.TickBehavior":"bt.TickBehavior","./base/task/action/blackboard/bt.BbClear":"bt.BbClear","./base/task/action/blackboard/bt.BbDelKey":"bt.BbDelKey","./base/task/action/blackboard/bt.BbRead":"bt.BbRead","./base/task/action/blackboard/bt.BbWrite":"bt.BbWrite","./base/task/action/bt.Idle":"bt.Idle","./base/task/action/bt.Wait":"bt.Wait","./base/task/action/event/bt.BroadcastEvent":"bt.BroadcastEvent","./base/task/action/event/bt.BroadcastEventEx":"bt.BroadcastEventEx","./base/task/action/event/bt.EmitEvent":"bt.EmitEvent","./base/task/action/event/bt.FireEvent":"bt.FireEvent","./base/task/action/event/bt.FireEvents":"bt.FireEvents","./base/task/action/event/bt.WaitForEvent":"bt.WaitForEvent","./base/task/action/math/bt.GenRandom":"bt.GenRandom","./base/task/action/operator/bt.SetBool":"bt.SetBool","./base/task/action/operator/bt.SetNum":"bt.SetNum","./base/task/action/operator/bt.SetStr":"bt.SetStr","./base/task/action/trigger/bt.CtrlGate":"bt.CtrlGate","./base/task/action/trigger/bt.RequestInterrupt":"bt.RequestInterrupt","./base/task/composite/bt.Parallel":"bt.Parallel","./base/task/composite/bt.ParallelComplete":"bt.ParallelComplete","./base/task/composite/bt.ParallelCompositeTask":"bt.ParallelCompositeTask","./base/task/composite/bt.ParallelSelector":"bt.ParallelSelector","./base/task/composite/bt.PriorityCompositeTask":"bt.PriorityCompositeTask","./base/task/composite/bt.PriorityTicker":"bt.PriorityTicker","./base/task/composite/bt.RandomCompositeTask":"bt.RandomCompositeTask","./base/task/composite/bt.RandomSelector":"bt.RandomSelector","./base/task/composite/bt.RandomSequence":"bt.RandomSequence","./base/task/composite/bt.RandomTicker":"bt.RandomTicker","./base/task/composite/bt.RevalCompositeTask":"bt.RevalCompositeTask","./base/task/composite/bt.RevalSelector":"bt.RevalSelector","./base/task/composite/bt.RevalSequence":"bt.RevalSequence","./base/task/composite/bt.Selector":"bt.Selector","./base/task/composite/bt.Sequence":"bt.Sequence","./base/task/composite/bt.SequenceTicker":"bt.SequenceTicker","./base/task/condition/behavior/bt.IsBehaviorRunning":"bt.IsBehaviorRunning","./base/task/condition/blackboard/bt.BbCmpBool":"bt.BbCmpBool","./base/task/condition/blackboard/bt.BbCmpNum":"bt.BbCmpNum","./base/task/condition/blackboard/bt.BbCmpStr":"bt.BbCmpStr","./base/task/condition/blackboard/bt.BbHasKey":"bt.BbHasKey","./base/task/condition/event/bt.OnEvent":"bt.OnEvent","./base/task/condition/operator/bt.CmpBool":"bt.CmpBool","./base/task/condition/operator/bt.CmpNum":"bt.CmpNum","./base/task/condition/operator/bt.CmpStr":"bt.CmpStr","./base/task/decorator/bt.AlwaysFailure":"bt.AlwaysFailure","./base/task/decorator/bt.AlwaysRunning":"bt.AlwaysRunning","./base/task/decorator/bt.AlwaysSuccess":"bt.AlwaysSuccess","./base/task/decorator/bt.FailureUntilSuccess":"bt.FailureUntilSuccess","./base/task/decorator/bt.FrameRepeater":"bt.FrameRepeater","./base/task/decorator/bt.Inverter":"bt.Inverter","./base/task/decorator/bt.Period":"bt.Period","./base/task/decorator/bt.Repeater":"bt.Repeater","./base/task/decorator/bt.SuccessUntilFailure":"bt.SuccessUntilFailure","./base/task/decorator/bt.UntilFailure":"bt.UntilFailure","./base/task/decorator/bt.UntilSuccess":"bt.UntilSuccess","./base/task/intercepter/bt.Cooldown":"bt.Cooldown","./base/task/intercepter/bt.Delay":"bt.Delay","./base/task/intercepter/bt.Gate":"bt.Gate","./base/task/intercepter/bt.Interrupt":"bt.Interrupt","./base/task/intercepter/bt.PreCondition":"bt.PreCondition","./base/task/intercepter/bt.PreConditions":"bt.PreConditions","./base/variable/bt.SharedBoolean":"bt.SharedBoolean","./base/variable/bt.SharedBooleanList":"bt.SharedBooleanList","./base/variable/bt.SharedNumber":"bt.SharedNumber","./base/variable/bt.SharedNumberList":"bt.SharedNumberList","./base/variable/bt.SharedString":"bt.SharedString","./base/variable/bt.SharedStringList":"bt.SharedStringList","./c2d/bt.BehaviorTree":"bt.BehaviorTree","./c2d/bt.BehaviorTreeEventType":"bt.BehaviorTreeEventType","./c2d/task/action/bt.WaitFrames":"bt.WaitFrames","./c2d/task/action/collision/bt.SetEnabledCollider":"bt.SetEnabledCollider","./c2d/task/action/scene/bt.LoadScene":"bt.LoadScene","./c2d/task/action/scene/bt.SetActive":"bt.SetActive","./c2d/task/action/scene/bt.SetEnabled":"bt.SetEnabled","./c2d/task/condition/collision/bt.OnCollisionEnter":"bt.OnCollisionEnter","./c2d/task/condition/collision/bt.OnCollisionExit":"bt.OnCollisionExit","./c2d/task/condition/collision/bt.OnCollisionStay":"bt.OnCollisionStay","./c2d/task/condition/system/bt.IsKeyDown":"bt.IsKeyDown","./c2d/task/condition/ui/bt.IsChecked":"bt.IsChecked","./c2d/task/condition/ui/bt.OnCCEvent":"bt.OnCCEvent","./c2d/task/condition/ui/bt.OnCheck":"bt.OnCheck","./c2d/task/condition/ui/bt.OnClick":"bt.OnClick","./c2d/task/condition/ui/bt.OnToggle":"bt.OnToggle","./c2d/task/condition/ui/bt.OnUnCheck":"bt.OnUnCheck","./c2d/task/decorator/bt.WithinFrames":"bt.WithinFrames","./c2d/task/intercepter/bt.AfterFrames":"bt.AfterFrames","./c2d/variable/bt.SharedCCCollider":"bt.SharedCCCollider","./c2d/variable/bt.SharedCCColliderList":"bt.SharedCCColliderList","./c2d/variable/bt.SharedCCColor":"bt.SharedCCColor","./c2d/variable/bt.SharedCCColorList":"bt.SharedCCColorList","./c2d/variable/bt.SharedCCComponent":"bt.SharedCCComponent","./c2d/variable/bt.SharedCCComponentList":"bt.SharedCCComponentList","./c2d/variable/bt.SharedCCEvent":"bt.SharedCCEvent","./c2d/variable/bt.SharedCCNode":"bt.SharedCCNode","./c2d/variable/bt.SharedCCNodeList":"bt.SharedCCNodeList","./c2d/variable/bt.SharedCCVec2":"bt.SharedCCVec2","./c2d/variable/bt.SharedCCVec2List":"bt.SharedCCVec2List","./c2d/variable/bt.SharedCCVec3":"bt.SharedCCVec3","./c2d/variable/bt.SharedCCVec3List":"bt.SharedCCVec3List","./util/bt.Logger":"bt.Logger","bt.editor":"bt.editor"}],"bt.API":[function(t,e,o){"use strict";cc._RF.push(e,"52eebfPoYRBsZKNgYaTvCOq","bt.API"),Object.defineProperty(o,"__esModule",{value:!0}),o.TickType=o.Status=void 0,function(t){t[t.FAILURE=0]="FAILURE",t[t.SUCCESS=1]="SUCCESS",t[t.RUNNING=2]="RUNNING"}(o.Status||(o.Status={})),function(t){t[t.EVERY_FRAME=1]="EVERY_FRAME",t[t.FIXED_SECONDS=2]="FIXED_SECONDS",t[t.MANUAL=3]="MANUAL"}(o.TickType||(o.TickType={})),cc._RF.pop()},{}],"bt.ActionTask":[function(t,e,o){"use strict";cc._RF.push(e,"f783erJu49Fk5DFw0jIMW74","bt.ActionTask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ActionTask=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btclass("ActionTask","Action",{visible:!1})],e)}(t("./bt.LeafTask").LeafTask);o.ActionTask=c,cc._RF.pop()},{"./bt.LeafTask":"bt.LeafTask","bt.editor":"bt.editor"}],"bt.AfterFrames":[function(t,e,o){"use strict";cc._RF.push(e,"4488esrCzdFnoQiB+W90Jxv","bt.AfterFrames");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.AfterFrames=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../../base/bt.Const"),_=t("../../../base/bt.IntercepterTask"),l=t("../../../base/variable/bt.SharedNumber"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.phase=_.IntercepterPhaseType.UPDATE,e.phaseIntervalDft=0,e.statusWhenIntercepted=s.ConditionStatus.FAILURE,e.framesDft=1,e._frames=0,e}return i(e,t),e.prototype.onEnter=function(){return this._frames=this.frames?this.frames.value:this.framesDft,this.log.VERBOSE&&this.log.d("< "+this._frames+" > frames"),this._frames>0&&this._frames<1/0?(this._frames+=cc.director.getTotalFrames(),!0):(0!==this._frames&&this.log.VERBOSE&&this.log.w("infinite frames not allowed"),!1)},e.prototype.onIntercept=function(){return this._frames>0&&this._frames<1/0?cc.director.getTotalFrames()>=this._frames?(this._frames=0,c.Status.FAILURE):c.Status.RUNNING:c.Status.FAILURE},r([a.btprop({readonly:!0})],e.prototype,"phase",void 0),r([a.btprop({visible:!1})],e.prototype,"phaseInterval",void 0),r([a.btprop({visible:!1})],e.prototype,"phaseIntervalDft",void 0),r([a.btprop({visible:!1})],e.prototype,"statusWhenIntercepted",void 0),r([a.btprop({type:l.SharedNumber,tooltip:"Dynamic frames.\n0 indicates no execution.\nInfinite frames not allowed."})],e.prototype,"frames",void 0),r([a.btprop({type:Number,inputtype:"int",min:0,step:1,required:!0,validator:function(t){return t>=0&&t<1/0},tooltip:"Default frames.\n0 indicates no execution.\nInfinite frames not allowed."})],e.prototype,"framesDft",void 0),r([a.btclass("AfterFrames",{description:"Execute child task after some frames."})],e)}(_.IntercepterTask);o.AfterFrames=p,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../../base/bt.Const":"bt.Const","../../../base/bt.IntercepterTask":"bt.IntercepterTask","../../../base/variable/bt.SharedNumber":"bt.SharedNumber","bt.editor":"bt.editor"}],"bt.AlwaysFailure":[function(t,e,o){"use strict";cc._RF.push(e,"fe4449elA9GZ5bYl1GgVyE+","bt.AlwaysFailure");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.AlwaysFailure=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.DecoratorTask"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.phase=s.DecoratorPhaseType.ALWAYS,e}return i(e,t),e.prototype.onDecorate=function(){return c.Status.FAILURE},r([a.btprop({readonly:!0})],e.prototype,"phase",void 0),r([a.btclass("AlwaysFailure",{description:'Always return "FAILURE".'})],e)}(s.DecoratorTask);o.AlwaysFailure=_,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.DecoratorTask":"bt.DecoratorTask","bt.editor":"bt.editor"}],"bt.AlwaysRunning":[function(t,e,o){"use strict";cc._RF.push(e,"363a5LbLe5FJZV5YwuKFhPW","bt.AlwaysRunning");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.AlwaysRunning=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.DecoratorTask"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.phase=s.DecoratorPhaseType.ALWAYS,e}return i(e,t),e.prototype.onDecorate=function(){return c.Status.RUNNING},r([a.btprop({readonly:!0})],e.prototype,"phase",void 0),r([a.btclass("AlwaysRunning",{description:'Always return "RUNNING".'})],e)}(s.DecoratorTask);o.AlwaysRunning=_,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.DecoratorTask":"bt.DecoratorTask","bt.editor":"bt.editor"}],"bt.AlwaysSuccess":[function(t,e,o){"use strict";cc._RF.push(e,"24511gTG35O86zVMNSFqpWn","bt.AlwaysSuccess");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.AlwaysSuccess=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.DecoratorTask"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.phase=s.DecoratorPhaseType.ALWAYS,e}return i(e,t),e.prototype.onDecorate=function(){return c.Status.SUCCESS},r([a.btprop({readonly:!0})],e.prototype,"phase",void 0),r([a.btclass("AlwaysSuccess",{description:'Always return "SUCCESS".'})],e)}(s.DecoratorTask);o.AlwaysSuccess=_,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.DecoratorTask":"bt.DecoratorTask","bt.editor":"bt.editor"}],"bt.BbClear":[function(t,e,o){"use strict";cc._RF.push(e,"eb0ae7X43lFHop52eFMPRow","bt.BbClear");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BbClear=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.Const"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.BlackboardType.LOCAL_BOARD,e}return i(e,t),e.prototype.onUpdate=function(){var t=this.type===s.BlackboardType.LOCAL_BOARD?this.blackboard:this.globalboard;return this.log.VERBOSE&&this.log.d("clear "+t.size+" keys"),t.clear(),c.Status.SUCCESS},r([a.btprop({type:a.btenum(s.BlackboardType),tooltip:"Which blackboard ?"})],e.prototype,"type",void 0),r([a.btclass("BbClear","Action/Blackboard",{description:"Delete all blackboard keys."})],e)}(t("../../../bt.ActionTask").ActionTask);o.BbClear=_,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","../../../bt.Const":"bt.Const","bt.editor":"bt.editor"}],"bt.BbCmpBool":[function(t,e,o){"use strict";cc._RF.push(e,"395d44sgitItLBlOojuJQjn","bt.BbCmpBool");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BbCmpBool=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.Const"),_=t("../../../bt.ConditionTask"),l=t("../../../variable/bt.SharedBoolean"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.BlackboardType.LOCAL_BOARD,e.rhsDft=!0,e.op=s.BooleanCompareOperator["==="],e}return i(e,t),e.prototype.onUpdate=function(){var t,e=(this.type===s.BlackboardType.LOCAL_BOARD?this.blackboard:this.globalboard).read(this.key),o=this.rhs?this.rhs.value:this.rhsDft;switch(this.op){case s.BooleanCompareOperator["==="]:t=e===o;break;case s.BooleanCompareOperator["!=="]:t=e!==o;break;case s.BooleanCompareOperator["=="]:t=e==o;break;case s.BooleanCompareOperator["!="]:t=e!=o;break;default:t=!1}return this.log.VERBOSE&&this.log.d("< lhs "+e+" > "+s.BooleanCompareOperator[this.op]+" < rhs "+o+" > = "+t),t?c.Status.SUCCESS:c.Status.FAILURE},r([a.btprop({type:a.btenum(s.BlackboardType),tooltip:"Which blackboard ?"})],e.prototype,"type",void 0),r([a.btprop({type:String,required:!0,tooltip:"Blackboard value as Left-Hand Side"})],e.prototype,"key",void 0),r([a.btprop({type:l.SharedBoolean,tooltip:"Right-Hand Side Dynamic"})],e.prototype,"rhs",void 0),r([a.btprop({type:Boolean,tooltip:"Right-Hand Side Default"})],e.prototype,"rhsDft",void 0),r([a.btprop({type:a.btenum(s.BooleanCompareOperator),tooltip:"Compare Operator"})],e.prototype,"op",void 0),r([a.btclass("BbCmpBool","Condition/Blackboard",{description:"Boolean comparation on blackboard."})],e)}(_.ConditionTask);o.BbCmpBool=p,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ConditionTask":"bt.ConditionTask","../../../bt.Const":"bt.Const","../../../variable/bt.SharedBoolean":"bt.SharedBoolean","bt.editor":"bt.editor"}],"bt.BbCmpNum":[function(t,e,o){"use strict";cc._RF.push(e,"9c103tNLNBFLJ91IPvAecqJ","bt.BbCmpNum");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BbCmpNum=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.Const"),_=t("../../../bt.ConditionTask"),l=t("../../../variable/bt.SharedNumber"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.BlackboardType.LOCAL_BOARD,e.rhsDft=0,e.op=s.NumberCompareOperator["==="],e}return i(e,t),e.prototype.onUpdate=function(){var t,e=(this.type===s.BlackboardType.LOCAL_BOARD?this.blackboard:this.globalboard).read(this.key),o=this.rhs?this.rhs.value:this.rhsDft;switch(this.op){case s.NumberCompareOperator["==="]:t=e===o;break;case s.NumberCompareOperator["!=="]:t=e!==o;break;case s.NumberCompareOperator["=="]:t=e==o;break;case s.NumberCompareOperator["!="]:t=e!=o;break;case s.NumberCompareOperator[">"]:t=e>o;break;case s.NumberCompareOperator[">="]:t=e>=o;break;case s.NumberCompareOperator["<"]:t=e<o;break;case s.NumberCompareOperator["<="]:t=e<=o;break;default:t=!1}return this.log.VERBOSE&&this.log.d("< lhs "+e+" > "+s.NumberCompareOperator[this.op]+" < rhs "+o+" > = "+t),t?c.Status.SUCCESS:c.Status.FAILURE},r([a.btprop({type:a.btenum(s.BlackboardType),tooltip:"Which blackboard ?"})],e.prototype,"type",void 0),r([a.btprop({type:String,required:!0,tooltip:"Blackboard value as Left-Hand Side"})],e.prototype,"key",void 0),r([a.btprop({type:l.SharedNumber,tooltip:"Right-Hand Side Dynamic"})],e.prototype,"rhs",void 0),r([a.btprop({type:Number,tooltip:"Right-Hand Side Default"})],e.prototype,"rhsDft",void 0),r([a.btprop({type:a.btenum(s.NumberCompareOperator),tooltip:"Compare Operator"})],e.prototype,"op",void 0),r([a.btclass("BbCmpNum","Condition/Blackboard",{description:"Number comparation on blackboard."})],e)}(_.ConditionTask);o.BbCmpNum=p,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ConditionTask":"bt.ConditionTask","../../../bt.Const":"bt.Const","../../../variable/bt.SharedNumber":"bt.SharedNumber","bt.editor":"bt.editor"}],"bt.BbCmpStr":[function(t,e,o){"use strict";cc._RF.push(e,"92ac06VWTxOgaEH/tYIUDaV","bt.BbCmpStr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BbCmpStr=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.Const"),_=t("../../../bt.ConditionTask"),l=t("../../../variable/bt.SharedString"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.BlackboardType.LOCAL_BOARD,e.rhsDft="",e.op=s.StringCompareOperator["==="],e}return i(e,t),e.prototype.onUpdate=function(){var t,e=(this.type===s.BlackboardType.LOCAL_BOARD?this.blackboard:this.globalboard).read(this.key),o=this.rhs?this.rhs.value:this.rhsDft;switch(this.op){case s.StringCompareOperator["==="]:t=e===o;break;case s.StringCompareOperator["!=="]:t=e!==o;break;case s.StringCompareOperator["=="]:t=e==o;break;case s.StringCompareOperator["!="]:t=e!=o;break;default:t=!1}return this.log.VERBOSE&&this.log.d("< lhs "+e+" > "+s.StringCompareOperator[this.op]+" < rhs "+o+" > = "+t),t?c.Status.SUCCESS:c.Status.FAILURE},r([a.btprop({type:a.btenum(s.BlackboardType),tooltip:"Which blackboard ?"})],e.prototype,"type",void 0),r([a.btprop({type:String,required:!0,tooltip:"Blackboard value as Left-Hand Side"})],e.prototype,"key",void 0),r([a.btprop({type:String,tooltip:"Right-Hand Side Default"})],e.prototype,"rhsDft",void 0),r([a.btprop({type:l.SharedString,tooltip:"Right-Hand Side Dynamic"})],e.prototype,"rhs",void 0),r([a.btprop({type:a.btenum(s.StringCompareOperator),tooltip:"Compare Operator"})],e.prototype,"op",void 0),r([a.btclass("BbCmpStr","Condition/Blackboard",{description:"String comparation on blackboard."})],e)}(_.ConditionTask);o.BbCmpStr=p,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ConditionTask":"bt.ConditionTask","../../../bt.Const":"bt.Const","../../../variable/bt.SharedString":"bt.SharedString","bt.editor":"bt.editor"}],"bt.BbDelKey":[function(t,e,o){"use strict";cc._RF.push(e,"edfc2/J8vJDUJD+rtqTiJoX","bt.BbDelKey");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BbDelKey=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.Const"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.BlackboardType.LOCAL_BOARD,e}return i(e,t),e.prototype.onUpdate=function(){var t=this.type===s.BlackboardType.LOCAL_BOARD?this.blackboard:this.globalboard;return t.has(this.key)&&(this.log.VERBOSE&&this.log.d("delete "+this.key),t.delete(this.key)),c.Status.SUCCESS},r([a.btprop({type:a.btenum(s.BlackboardType),tooltip:"Which blackboard ?"})],e.prototype,"type",void 0),r([a.btprop({type:String,required:!0,tooltip:"Blackboard Key"})],e.prototype,"key",void 0),r([a.btclass("BbDelKey","Action/Blackboard",{description:"Delete a blackboard key."})],e)}(t("../../../bt.ActionTask").ActionTask);o.BbDelKey=_,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","../../../bt.Const":"bt.Const","bt.editor":"bt.editor"}],"bt.BbHasKey":[function(t,e,o){"use strict";cc._RF.push(e,"c337bQsrIlMsJfOMARJBKNZ","bt.BbHasKey");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BbHasKey=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.Const"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.BlackboardType.LOCAL_BOARD,e}return i(e,t),e.prototype.onUpdate=function(){return(this.type===s.BlackboardType.LOCAL_BOARD?this.blackboard:this.globalboard).has(this.key)?c.Status.SUCCESS:c.Status.FAILURE},r([a.btprop({type:a.btenum(s.BlackboardType),tooltip:"Which blackboard ?"})],e.prototype,"type",void 0),r([a.btprop({type:String,required:!0,tooltip:"Blackboard Key"})],e.prototype,"key",void 0),r([a.btclass("BbHasKey","Condition/Blackboard",{description:"Existance of a blackboard key."})],e)}(t("../../../bt.ConditionTask").ConditionTask);o.BbHasKey=_,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ConditionTask":"bt.ConditionTask","../../../bt.Const":"bt.Const","bt.editor":"bt.editor"}],"bt.BbRead":[function(t,e,o){"use strict";cc._RF.push(e,"447358JkmZAiIaa4CFvI/I5","bt.BbRead");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BbRead=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.Const"),_=t("../../../bt.ActionTask"),l=t("../../../bt.SharedVariable"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.BlackboardType.LOCAL_BOARD,e}return i(e,t),e.prototype.onUpdate=function(){var t=this.type===s.BlackboardType.LOCAL_BOARD?this.blackboard:this.globalboard;return this.lhs.value=t.read(this.key),this.log.VERBOSE&&this.log.d(this.key+" - "+this.lhs.value),c.Status.SUCCESS},r([a.btprop({type:a.btenum(s.BlackboardType),tooltip:"Which blackboard ?"})],e.prototype,"type",void 0),r([a.btprop({type:String,required:!0,tooltip:"Blackboard value as Right-Hand Side"})],e.prototype,"key",void 0),r([a.btprop({type:l.SharedVariable,required:!0,tooltip:"Left-Hand Side"})],e.prototype,"lhs",void 0),r([a.btclass("BbRead","Action/Blackboard",{description:"Read blackboard."})],e)}(_.ActionTask);o.BbRead=p,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","../../../bt.Const":"bt.Const","../../../bt.SharedVariable":"bt.SharedVariable","bt.editor":"bt.editor"}],"bt.BbWrite":[function(t,e,o){"use strict";cc._RF.push(e,"4dd86uNgqFFPZQNCqLgGKlm","bt.BbWrite");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BbWrite=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.Const"),_=t("../../../bt.ActionTask"),l=t("../../../bt.SharedVariable"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.BlackboardType.LOCAL_BOARD,e}return i(e,t),e.prototype.onUpdate=function(){return(this.type===s.BlackboardType.LOCAL_BOARD?this.blackboard:this.globalboard).write(this.key,this.rhs.value),this.log.VERBOSE&&this.log.d(this.key+" - "+this.rhs.value),c.Status.SUCCESS},r([a.btprop({type:a.btenum(s.BlackboardType)})],e.prototype,"type",void 0),r([a.btprop({type:String,required:!0,tooltip:"Blackboard value as Left-Hand Side"})],e.prototype,"key",void 0),r([a.btprop({type:l.SharedVariable,required:!0,tooltip:"Right-Hand Side"})],e.prototype,"rhs",void 0),r([a.btclass("BbWrite","Action/Blackboard",{description:"Write blackboard."})],e)}(_.ActionTask);o.BbWrite=p,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","../../../bt.Const":"bt.Const","../../../bt.SharedVariable":"bt.SharedVariable","bt.editor":"bt.editor"}],"bt.BehaviorCtrl":[function(t,e,o){"use strict";cc._RF.push(e,"eb5b0nOCqdOkYfWFGbaAtPP","bt.BehaviorCtrl"),Object.defineProperty(o,"__esModule",{value:!0}),o.BehaviorCtrl=void 0;var n=t("../api/bt.API"),i=t("../util/bt.Logger"),r=t("./bt.BranchTask"),a=t("./bt.Blackboard"),c=void 0,s=void 0,_=void 0,l=new a.Blackboard,p=function(){function t(){this.log=new i.Logger,this._tree=c,this._entry=s,this._preview=_,this._readycalled=!1,this._enabled=!0,this._paused=!1,this._startWhenEnable=!0,this._pauseWhenDisable=!1,this._restartWhenComplete=!1,this._restartInNextUpdate=!1,this._tickType=n.TickType.EVERY_FRAME,this._tickSeconds=0,this._dt=0,this._blackboard=new a.Blackboard}return Object.defineProperty(t.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this.setEnabled(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"paused",{get:function(){return this._paused},set:function(t){this.setPaused(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"startWhenEnable",{get:function(){return this._startWhenEnable},set:function(t){this.setStartWhenEnable(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pauseWhenDisable",{get:function(){return this._pauseWhenDisable},set:function(t){this.setPauseWhenDisable(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"restartWhenComplete",{get:function(){return this._restartWhenComplete},set:function(t){this.setRestartWhenComplete(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"restartInNextUpdate",{get:function(){return this._restartInNextUpdate},set:function(t){this.setRestartInNextUpdate(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tickType",{get:function(){return this._tickType},set:function(t){this.setTickType(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tickSeconds",{get:function(){return this._tickSeconds},set:function(t){this.setTickSeconds(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"running",{get:function(){return!!this._entry&&this._entry.running},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completed",{get:function(){return!!this._entry&&this._entry.completed},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._entry?this._entry.status:n.Status.FAILURE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"entry",{get:function(){return this._entry},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blackboard",{get:function(){return this._blackboard},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"globalboard",{get:function(){return l},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dt",{get:function(){return this._dt},enumerable:!1,configurable:!0}),t.prototype.update=function(t){if(this._tree&&this._entry&&this._enabled&&!this._paused)if(this._dt+=t,this._entry.running){if(this._tickType===n.TickType.EVERY_FRAME)return this._tick();if(this._tickType===n.TickType.FIXED_SECONDS&&this._dt>=this._tickSeconds)return this._tick()}else if(this._restartInNextUpdate)return this._restartInNextUpdate=!1,this._tick();return n.Status.FAILURE},t.prototype.tick=function(){return this._tree&&this._entry&&this._enabled&&!this._paused?this._tick():n.Status.FAILURE},t.prototype._tick=function(){this._entry.completed?(this._preview&&this._preview.treeEvent("restart"),this._tree.onBehaviorRestart&&this._tree.onBehaviorRestart(this._tree)):this._entry.running||(this._preview&&this._preview.treeEvent("start"),this._tree.onBehaviorStart&&this._tree.onBehaviorStart(this._tree));var t=this._entry.execute();return this._entry.completed&&(this._preview&&this._preview.treeEvent("complete"),this._entry.onBehaviorComplete(),this._tree.onBehaviorComplete&&this._tree.onBehaviorComplete(this._tree),this.restartWhenComplete&&this.setRestartInNextUpdate(!0)),this._dt=0,t},t.prototype.setEnabled=function(t){this._enabled!==t&&(this._enabled=t,this.onEnableChange())},t.prototype.onEnableChange=function(){this._tree&&this._entry&&(this._enabled?(this.log.VERBOSE&&this.log.d("** enable **"),this._entry.enabled=!0,this._tree.onBehaviorEnable&&this._tree.onBehaviorEnable(this._tree),this.onPauseChange(),this._startWhenEnable&&!this._entry.running&&this.setRestartInNextUpdate(!0)):(this._pauseWhenDisable&&(this._entry.paused||(this.log.VERBOSE&&this.log.d("** pause **"),this._entry.paused=!0,this._tree.onBehaviorPause&&this._tree.onBehaviorPause(this._tree))),this.log.VERBOSE&&this.log.d("** disable **"),this._entry.enabled=!1,this._tree.onBehaviorDisable&&this._tree.onBehaviorDisable(this._tree),this._entry.paused||this._entry.terminate()))},t.prototype.setPaused=function(t){this._paused!==t&&(this._paused=t,this.onPauseChange())},t.prototype.onPauseChange=function(){this._tree&&this._entry&&(this._entry.enabled?this._entry.paused!==this._paused&&(this._entry.paused=this._paused,this._paused?(this.log.VERBOSE&&this.log.d("** pause **"),this._tree.onBehaviorPause&&this._tree.onBehaviorPause(this._tree)):(this.log.VERBOSE&&this.log.d("** resume **"),this._tree.onBehaviorResume&&this._tree.onBehaviorResume(this._tree))):this._pauseWhenDisable||this._entry.terminate())},t.prototype.setStartWhenEnable=function(t){this._startWhenEnable!==t&&(this._startWhenEnable=t)},t.prototype.setPauseWhenDisable=function(t){this._pauseWhenDisable!==t&&(this._pauseWhenDisable=t,!this._entry||t||this._enabled||this._entry.terminate())},t.prototype.setRestartWhenComplete=function(t){this._restartWhenComplete!==t&&(this._restartWhenComplete=t)},t.prototype.setRestartInNextUpdate=function(t){this._restartInNextUpdate!==t&&(this._restartInNextUpdate=t)},t.prototype.setTickType=function(t){this._tickType!==t&&(this._tickType=t)},t.prototype.setTickSeconds=function(t){this._tickSeconds!==t&&(this._tickSeconds=t)},t.prototype.onBehaviorLoaded=function(t,e,o){this.log.d("loaded <","enableLog:",this.log.VERBOSE,"enabled:",this._enabled,"paused:",this._paused,"startWhenEnable:",this._startWhenEnable,"pauseWhenDisable:",this._pauseWhenDisable,"restartWhenComplete:",this._restartWhenComplete,">"),0===e.childCount&&this.log.w("this is an empty tree"),this._tree=t,this._entry=e,this._preview=o,e.onBehaviorLoaded({tree:t,entry:e,preview:this._preview,blackboard:this._blackboard,globalboard:l}),t.onBehaviorLoaded&&t.onBehaviorLoaded(t),o&&o.treeEvent("ready"),this._enabled?(this.log.VERBOSE&&this.log.d("** enable **"),e.enabled=!0,t.onBehaviorEnable&&t.onBehaviorEnable(t),this._paused?(this.log.VERBOSE&&this.log.d("** pause **"),e.paused=!0,t.onBehaviorPause&&t.onBehaviorPause(t)):this._startWhenEnable&&this.setRestartInNextUpdate(!0)):(this.log.VERBOSE&&this.log.d("** disable **"),e.enabled=!1,t.onBehaviorDisable&&t.onBehaviorDisable(t)),this._readycalled&&this._ready()},t.prototype.ready=function(){this._readycalled=!0,this._tree&&this._entry&&this._ready()},t.prototype._ready=function(){this.log.VERBOSE&&this.log.d("** ready **"),this._tree.onBehaviorReady&&this._tree.onBehaviorReady(this._tree),this._entry.onBehaviorReady()},t.prototype.destroy=function(){this._tree&&this._entry&&(this.log.VERBOSE&&this.log.d("** destroy **"),this._preview&&(this._preview.stop(),this._preview=_),this._entry.terminate(),this._entry.onBehaviorDestroy(),this._entry.fire("destroy"),this._tree.onBehaviorDestroy&&this._tree.onBehaviorDestroy(this._tree),this._entry=s,this._tree=c)},t.prototype.terminate=function(){this._entry&&this._entry.terminate()},t.prototype.broadcast=function(t,e,o,n){this._entry&&this._entry.broadcast(t,e,o,n)},t.prototype.walk=function(t){var e=this._entry?this._entry.at(0):void 0;e&&e.walk(t)},t.prototype.getTask=function(t){var e=this._entry?this._entry.at(0):void 0;if(e){if(e instanceof r.BranchTask)return e.getTask(t);if(e instanceof t)return e}},t.prototype.getTaskBy=function(t){var e=this._entry?this._entry.at(0):void 0;if(e){if(e instanceof r.BranchTask)return e.getTaskBy(t);if(t(e))return e}},t.prototype.getTasks=function(t,e){e=e||[];var o=this._entry?this._entry.at(0):void 0;if(o){if(o instanceof r.BranchTask)return o.getTasks(t,e);if(o instanceof t)return e.push(o),e}return e},t.prototype.getTasksBy=function(t,e){e=e||[];var o=this._entry?this._entry.at(0):void 0;if(o){if(o instanceof r.BranchTask)return o.getTasksBy(t,e);if(t(o))return e.push(o),e}return e},t}();o.BehaviorCtrl=p,cc._RF.pop()},{"../api/bt.API":"bt.API","../util/bt.Logger":"bt.Logger","./bt.Blackboard":"bt.Blackboard","./bt.BranchTask":"bt.BranchTask"}],"bt.BehaviorTreeEventType":[function(t,e,o){"use strict";cc._RF.push(e,"725a9manepFL53kF7CgIa8Y","bt.BehaviorTreeEventType"),Object.defineProperty(o,"__esModule",{value:!0}),o.BehaviorTreeEventType=void 0,function(t){t.CLICK="click",t.TOGGLE="toggle",t.COLLISION_ENTER="collision-enter",t.COLLISION_STAY="collision-stay",t.COLLISION_EXIT="collision-exit"}(o.BehaviorTreeEventType||(o.BehaviorTreeEventType={})),cc._RF.pop()},{}],"bt.BehaviorTree":[function(t,e,o){"use strict";cc._RF.push(e,"6acb45p591CkZP+Q3aIi+6p","bt.BehaviorTree");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BehaviorTree=void 0;var a=t("bt.editor"),c=t("../api/bt.API"),s=t("../base/bt.BehaviorCtrl"),_=t("./variable/bt.SharedCCCollider"),l=t("./bt.BehaviorTreeEventType"),p=cc._decorator,u=p.ccclass,d=p.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.description="",e.behaviorName="Behavior Tree",e.asset=void 0,e.options={},e.enableLog=!1,e._ctrl=new s.BehaviorCtrl,e._loadercalled=!1,e._behaviorEnabled=!0,e}return i(e,t),Object.defineProperty(e.prototype,"startWhenEnable",{get:function(){return this._ctrl.startWhenEnable},set:function(t){this._ctrl.startWhenEnable=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pauseWhenDisable",{get:function(){return this._ctrl.pauseWhenDisable},set:function(t){this._ctrl.pauseWhenDisable=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"restartWhenComplete",{get:function(){return this._ctrl.restartWhenComplete},set:function(t){this._ctrl.restartWhenComplete=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"restartInNextUpdate",{get:function(){return this._ctrl.restartInNextUpdate},set:function(t){this._ctrl.restartInNextUpdate=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tickType",{get:function(){return this._ctrl.tickType},set:function(t){this._ctrl.tickType=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tickSeconds",{get:function(){return this._ctrl.tickSeconds},set:function(t){this._ctrl.tickSeconds=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"behaviorEnabled",{get:function(){return this._behaviorEnabled},set:function(t){this.setBehaviorEnabled(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"behaviorPaused",{get:function(){return this._ctrl.paused},set:function(t){this._ctrl.paused=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collisionEnter",{get:function(){return!!this.onCollisionEnter},set:function(t){this.setOnCollisionEnterEnabled(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collisionStay",{get:function(){return!!this.onCollisionStay},set:function(t){this.setOnCollisionStayEnabled(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collisionExit",{get:function(){return!!this.onCollisionExit},set:function(t){this.setOnCollisionExitEnabled(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"log",{get:function(){return this._ctrl.log},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ctrl",{get:function(){return this._ctrl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"behaviorStatus",{get:function(){return this._ctrl.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"behaviorRunning",{get:function(){return this._ctrl.running},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"behaviorCompleted",{get:function(){return this._ctrl.completed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dt",{get:function(){return this._ctrl.dt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blackboard",{get:function(){return this._ctrl.blackboard},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalboard",{get:function(){return this._ctrl.globalboard},enumerable:!1,configurable:!0}),e.prototype.onLoad=function(){this.log.tag=this.behaviorName+"<"+this.uuid+">",this.log.VERBOSE=this.enableLog,this.asset&&this.loadAsset(this.asset)},e.prototype.onDestroy=function(){this._ctrl.destroy()},e.prototype.onEnable=function(){this._ctrl.enabled=this._behaviorEnabled},e.prototype.onDisable=function(){this._ctrl.enabled=!1},e.prototype.start=function(){this._ctrl.ready()},e.prototype.update=function(t){this._ctrl.update(t)},e.prototype.loadAsset=function(t){this._loadercalled||(this.node.parent?(this.asset=t,this._loadercalled=!0,new a.BehaviorLoader(this,this._ctrl).start()):this.asset=t)},e.prototype.tick=function(){return this._ctrl.tick()},e.prototype.terminate=function(){this._ctrl.terminate()},e.prototype.broadcast=function(t,e,o,n){this._ctrl.broadcast(t,e,o,n)},e.prototype.walk=function(t){this._ctrl.walk(t)},e.prototype.getTask=function(t){return this._ctrl.getTask(t)},e.prototype.getTaskBy=function(t){return this._ctrl.getTaskBy(t)},e.prototype.getTasks=function(t,e){return this._ctrl.getTasks(t,e)},e.prototype.getTasksBy=function(t,e){return this._ctrl.getTasksBy(t,e)},e.prototype.setBehaviorEnabled=function(t){this.enabled&&this.node.activeInHierarchy&&(this._ctrl.enabled=t),this._behaviorEnabled=t},e.prototype.onClick=function(t,e){this.log.VERBOSE&&this.log.d("click < "+t.target+" "+e+" >"),this._ctrl.broadcast(l.BehaviorTreeEventType.CLICK,t,e)},e.prototype.onToggle=function(t,e){this.log.VERBOSE&&this.log.d("toggle < "+t.node+" "+e+" >"),this._ctrl.broadcast(l.BehaviorTreeEventType.TOGGLE,t,e)},e.prototype.setOnCollisionEnterEnabled=function(t){this.onCollisionEnter=t?function(t,e){this.log.VERBOSE&&this.log.d("collision-enter < "+t.node.name+" - "+e.node.name+" >"),this.sharedColliderOther&&(this.sharedColliderOther.value=t),this.sharedColliderSelf&&(this.sharedColliderSelf.value=e),this._ctrl.broadcast(l.BehaviorTreeEventType.COLLISION_ENTER)}:void 0},e.prototype.setOnCollisionStayEnabled=function(t){this.onCollisionStay=t?function(t,e){this.log.VERBOSE&&this.log.d("collision-stay < "+t.node.name+" - "+e.node.name+" >"),this.sharedColliderOther&&(this.sharedColliderOther.value=t),this.sharedColliderSelf&&(this.sharedColliderSelf.value=e),this._ctrl.broadcast(l.BehaviorTreeEventType.COLLISION_STAY)}:void 0},e.prototype.setOnCollisionExitEnabled=function(t){this.onCollisionExit=t?function(t,e){this.log.VERBOSE&&this.log.d("collision-exit < "+t.node.name+" - "+e.node.name+" >"),this.sharedColliderOther&&(this.sharedColliderOther.value=t),this.sharedColliderSelf&&(this.sharedColliderSelf.value=e),this._ctrl.broadcast(l.BehaviorTreeEventType.COLLISION_EXIT)}:void 0},r([d({multiline:!0}),a.btprop({multiline:!0})],e.prototype,"description",void 0),r([d,a.btprop({required:"warning"})],e.prototype,"behaviorName",void 0),r([d({type:cc.JsonAsset})],e.prototype,"asset",void 0),r([d({visible:!1})],e.prototype,"options",void 0),r([d({visible:!1}),a.btprop({tooltip:"Generate console log."})],e.prototype,"enableLog",void 0),r([a.btprop({tooltip:"Start ticking immediately when behavior is enabled."})],e.prototype,"startWhenEnable",null),r([a.btprop({tooltip:"Pause execution when behavior is disabled."})],e.prototype,"pauseWhenDisable",null),r([a.btprop({tooltip:"Restart ticking when behavior completes."})],e.prototype,"restartWhenComplete",null),r([a.btprop({type:cc.Enum(c.TickType),tooltip:"The way behavior tree ticks."})],e.prototype,"tickType",null),r([a.btprop({min:0,tooltip:"Ticking intervals if tickType is TickType.FIXED_SECONDS."})],e.prototype,"tickSeconds",null),r([a.btprop()],e.prototype,"behaviorEnabled",null),r([a.btprop()],e.prototype,"behaviorPaused",null),r([a.btprop({type:_.SharedCCCollider,tooltip:"Store collision info and share it with any task concerned."})],e.prototype,"sharedColliderOther",void 0),r([a.btprop({type:_.SharedCCCollider,tooltip:"Store collision info and share it with any task concerned."})],e.prototype,"sharedColliderSelf",void 0),r([a.btprop({tooltip:'Enable/Disable cc collision detection listener.\nConditionTask "OnCollisionEnter" will be available when this property is set to TRUE.'})],e.prototype,"collisionEnter",null),r([a.btprop({tooltip:'Enable/Disable cc collision detection listener.\nConditionTask "OnCollisionStay" will be available when this property is set to TRUE.'})],e.prototype,"collisionStay",null),r([a.btprop({tooltip:'Enable/Disable cc collision detection listener.\nConditionTask "OnCollisionExit" will be available when this property is set to TRUE.'})],e.prototype,"collisionExit",null),r([u,a.btclass("BehaviorTree",{visible:!1})],e)}(cc.Component);o.BehaviorTree=h,cc._RF.pop()},{"../api/bt.API":"bt.API","../base/bt.BehaviorCtrl":"bt.BehaviorCtrl","./bt.BehaviorTreeEventType":"bt.BehaviorTreeEventType","./variable/bt.SharedCCCollider":"bt.SharedCCCollider","bt.editor":"bt.editor"}],"bt.Blackboard":[function(t,e,o){"use strict";cc._RF.push(e,"b0924OrLqJLnLC6eepiSy10","bt.Blackboard"),Object.defineProperty(o,"__esModule",{value:!0}),o.Blackboard=void 0;var n=function(){function t(){this._data=new Map}return Object.defineProperty(t.prototype,"size",{get:function(){return this._data.size},enumerable:!1,configurable:!0}),t.prototype.write=function(t,e){this._data.set(t,e)},t.prototype.read=function(t){return this._data.get(t)},t.prototype.has=function(t){return this._data.has(t)},t.prototype.delete=function(t){return this._data.delete(t)},t.prototype.clear=function(){this._data.clear()},t.prototype.forEach=function(t){this._data.forEach(t)},t}();o.Blackboard=n,cc._RF.pop()},{}],"bt.BranchTask":[function(t,e,o){"use strict";cc._RF.push(e,"4623dRV0KtFkI9OOcQ87UPM","bt.BranchTask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BranchTask=void 0;var a=t("bt.editor"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._children=[],e._childCount=0,e._childIndex=0,e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"childCount",{get:function(){return this._childCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"childIndex",{get:function(){return this._childIndex},enumerable:!1,configurable:!0}),e.prototype.walk=function(e){t.prototype.walk.call(this,e),this._children.forEach(function(t){return t.walk(e)})},e.prototype.forEach=function(t){this._children.forEach(t)},e.prototype.some=function(t){return this._children.some(t)},e.prototype.every=function(t){return this._children.every(t)},e.prototype.at=function(t){return this._children[t]},e.prototype.indexOf=function(t){return this._children.indexOf(t)},e.prototype.getChild=function(t){return this.getChildBy(function(e){return e instanceof t})},e.prototype.getChildBy=function(t){return this._children.find(t)||void 0},e.prototype.getChildren=function(t,e){return this.getChildrenBy(function(e){return e instanceof t},e)},e.prototype.getChildrenBy=function(t,e){return this._children.forEach(function(o){t(o)&&(e?e.push(o):e=[o])}),e||[]},e.prototype.getTask=function(t){return this.getTaskBy(function(e){return e instanceof t})},e.prototype.getTaskBy=function(t){if(t(this))return this;for(var e,n=0,i=this._childCount;n<i;++n){var r=this._children[n];if(r instanceof o){if(e=r.getTaskBy(t))return e}else if(t(r))return r}},e.prototype.getTasks=function(t,e){return this.getTasksBy(function(e){return e instanceof t},e)},e.prototype.getTasksBy=function(t,e){return t(this)&&(e?e.push(this):e=[this]),this._children.forEach(function(n){n instanceof o?n.getTasksBy(t,e):t(n)&&(e?e.push(n):e=[n])}),e||[]},e.prototype.broadcast=function(t,e,n,i){if(!0===this.fire(t,e,n,i))return!0;for(var r=0;r<this._childCount;++r){var a=this._children[r];if(a instanceof o){if(!0===a.broadcast(t,e,n,i))return!0}else if(!0===a.fire(t,e,n,i))return!0}},e.prototype.addChild=function(t){return this.onloadcalled?(this.log.w('"addChild" is a editor-only API'),!1):(this._children.push(t),++this._childCount,!0)},e.prototype.dispatchOnEnter=function(){return!!t.prototype.dispatchOnEnter.call(this)&&(this._childIndex=this.getInitialChildIndex(),!0)},e.prototype.getInitialChildIndex=function(){return 0},e.prototype.onUpdate=function(){return this.onExecuteChildren(this._childIndex)},e.prototype.onExecuteChildren=function(t){var e,o;if(this.onChildExecuted){do{o=(e=this._children[t]).execute(),t=this.onChildExecuted(t,o)}while(t>=0&&t<this._childCount);this._childIndex=e.index}else o=(e=this._children[t]).execute();return o},e.prototype.dispatchOnExit=function(){this.onTerminateChildren(),t.prototype.dispatchOnExit.call(this)},e.prototype.onTerminateChildren=function(){this._childIndex>=0&&this._childIndex<this._childCount&&this._children[this._childIndex].terminate()},e.prototype.onBehaviorLoaded=function(e){t.prototype.onBehaviorLoaded.call(this,e),this._children.forEach(function(t){return t.onBehaviorLoaded(e)})},e.prototype.onBehaviorReady=function(){t.prototype.onBehaviorReady.call(this),this._children.forEach(function(t){return t.onBehaviorReady()})},e.prototype.onBehaviorDestroy=function(){this._children.forEach(function(t){return t.onBehaviorDestroy()}),this._children.length=0,this._childCount=0,t.prototype.onBehaviorDestroy.call(this)},e.prototype.onBehaviorResume=function(){t.prototype.onBehaviorResume.call(this),this._children.forEach(function(t){return t.onBehaviorResume()})},e.prototype.onBehaviorPause=function(){t.prototype.onBehaviorPause.call(this),this._children.forEach(function(t){return t.onBehaviorPause()})},e.prototype.onBehaviorComplete=function(){t.prototype.onBehaviorComplete.call(this),this._children.forEach(function(t){return t.onBehaviorComplete()})},o=r([a.btclass("BranchTask",{visible:!1})],e)}(t("./bt.Task").Task);o.BranchTask=c,cc._RF.pop()},{"./bt.Task":"bt.Task","bt.editor":"bt.editor"}],"bt.BroadcastEventEx":[function(t,e,o){"use strict";cc._RF.push(e,"80c49VrBXBK7a1zKPlK1iJp","bt.BroadcastEventEx");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BroadcastEventEx=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onUpdate=function(){return this.log.VERBOSE&&this.log.d("< "+this.type+" > to behavior < "+this.target.log.tag+" >"),this.target.broadcast(this.type,this.arg1,this.arg2,this.arg3),c.Status.SUCCESS},r([a.btprop({type:"bt-behaviortree",required:!0,tooltip:"The behavior to receive event."})],e.prototype,"target",void 0),r([a.btprop({type:String,required:!0,tooltip:"Event type."})],e.prototype,"type",void 0),r([a.btprop({type:String,tooltip:"First argument."})],e.prototype,"arg1",void 0),r([a.btprop({type:String,tooltip:"Second argument."})],e.prototype,"arg2",void 0),r([a.btprop({type:String,tooltip:"Third argument."})],e.prototype,"arg3",void 0),r([a.btclass("BroadcastEventEx","Action/Event",{description:"Propagate an event downward from the root task of a behaviortree to all of its descendants."})],e)}(t("../../../bt.ActionTask").ActionTask);o.BroadcastEventEx=s,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","bt.editor":"bt.editor"}],"bt.BroadcastEvent":[function(t,e,o){"use strict";cc._RF.push(e,"ae6f7y2I3FLnbXAc06RMmQ2","bt.BroadcastEvent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.BroadcastEvent=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.BranchTask"),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onUpdate=function(){return this.log.VERBOSE&&this.log.d("< "+this.type+" > on task < "+this.target.log.tag+" >"),this.target.broadcast(this.type,this.arg1,this.arg2,this.arg3),c.Status.SUCCESS},r([a.btprop({type:s.BranchTask,required:!0,tooltip:"The task to receive event."})],e.prototype,"target",void 0),r([a.btprop({type:String,required:!0,tooltip:"Event type."})],e.prototype,"type",void 0),r([a.btprop({type:String,tooltip:"First argument."})],e.prototype,"arg1",void 0),r([a.btprop({type:String,tooltip:"Second argument."})],e.prototype,"arg2",void 0),r([a.btprop({type:String,tooltip:"Third argument."})],e.prototype,"arg3",void 0),r([a.btclass("BroadcastEvent","Action/Event",{description:"Propagate an event downward from a branch task to all of its descendants."})],e)}(t("../../../bt.ActionTask").ActionTask);o.BroadcastEvent=_,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","../../../bt.BranchTask":"bt.BranchTask","bt.editor":"bt.editor"}],"bt.CmpBool":[function(t,e,o){"use strict";cc._RF.push(e,"51650uruUlEj5ZIhyUkXDRL","bt.CmpBool");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.CmpBool=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.Const"),_=t("../../../bt.ConditionTask"),l=t("../../../variable/bt.SharedBoolean"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rhsDft=!0,e.op=s.BooleanCompareOperator["==="],e}return i(e,t),e.prototype.onUpdate=function(){var t,e=this.rhs?this.rhs.value:this.rhsDft;switch(this.op){case s.BooleanCompareOperator["==="]:t=this.lhs.value===e;break;case s.BooleanCompareOperator["!=="]:t=this.lhs.value!==e;break;case s.BooleanCompareOperator["=="]:t=this.lhs.value==e;break;case s.BooleanCompareOperator["!="]:t=this.lhs.value!=e;break;default:t=!1}return this.log.VERBOSE&&this.log.d("< lhs "+this.lhs.value+" > "+s.BooleanCompareOperator[this.op]+" < rhs "+e+" > = "+t),t?c.Status.SUCCESS:c.Status.FAILURE},r([a.btprop({type:l.SharedBoolean,required:!0,tooltip:"Left-Hand Side"})],e.prototype,"lhs",void 0),r([a.btprop({type:Boolean,tooltip:"Right-Hand Side Default"})],e.prototype,"rhsDft",void 0),r([a.btprop({type:l.SharedBoolean,tooltip:"Right-Hand Side Dynamic"})],e.prototype,"rhs",void 0),r([a.btprop({type:a.btenum(s.BooleanCompareOperator),tooltip:"Compare Operator"})],e.prototype,"op",void 0),r([a.btclass("CmpBool","Condition/Operator",{description:"Boolean comparation."})],e)}(_.ConditionTask);o.CmpBool=p,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ConditionTask":"bt.ConditionTask","../../../bt.Const":"bt.Const","../../../variable/bt.SharedBoolean":"bt.SharedBoolean","bt.editor":"bt.editor"}],"bt.CmpNum":[function(t,e,o){"use strict";cc._RF.push(e,"9b82cbpALJLQq+pSvmUBwQ6","bt.CmpNum");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.CmpNum=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.Const"),_=t("../../../bt.ConditionTask"),l=t("../../../variable/bt.SharedNumber"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rhsDft=0,e.op=s.NumberCompareOperator["==="],e}return i(e,t),e.prototype.onUpdate=function(){var t,e=this.rhs?this.rhs.value:this.rhsDft;switch(this.op){case s.NumberCompareOperator["==="]:t=this.lhs.value===e;break;case s.NumberCompareOperator["!=="]:t=this.lhs.value!==e;break;case s.NumberCompareOperator["=="]:t=this.lhs.value==e;break;case s.NumberCompareOperator["!="]:t=this.lhs.value!=e;break;case s.NumberCompareOperator["<"]:t=this.lhs.value<e;break;case s.NumberCompareOperator["<="]:t=this.lhs.value<=e;break;case s.NumberCompareOperator[">"]:t=this.lhs.value>e;break;case s.NumberCompareOperator[">="]:t=this.lhs.value>=e;break;default:t=!1}return this.log.VERBOSE&&this.log.d("< lhs "+this.lhs.value+" > "+s.NumberCompareOperator[this.op]+" < rhs "+e+" > = "+t),t?c.Status.SUCCESS:c.Status.FAILURE},r([a.btprop({type:l.SharedNumber,required:!0,tooltip:"Left-Hand Side"})],e.prototype,"lhs",void 0),r([a.btprop({type:Number,tooltip:"Right-Hand Side Default"})],e.prototype,"rhsDft",void 0),r([a.btprop({type:l.SharedNumber,tooltip:"Right-Hand Side Dynamic"})],e.prototype,"rhs",void 0),r([a.btprop({type:a.btenum(s.NumberCompareOperator),tooltip:"Compare Operator"})],e.prototype,"op",void 0),r([a.btclass("CmpNum","Condition/Operator",{description:"Number comparation."})],e)}(_.ConditionTask);o.CmpNum=p,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ConditionTask":"bt.ConditionTask","../../../bt.Const":"bt.Const","../../../variable/bt.SharedNumber":"bt.SharedNumber","bt.editor":"bt.editor"}],"bt.CmpStr":[function(t,e,o){"use strict";cc._RF.push(e,"d1756t5ANVEqbE/JEcDInt7","bt.CmpStr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.CmpStr=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.Const"),_=t("../../../bt.ConditionTask"),l=t("../../../variable/bt.SharedString"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rhsDft="",e.op=s.StringCompareOperator["==="],e}return i(e,t),e.prototype.onUpdate=function(){var t,e=this.rhs?this.rhs.value:this.rhsDft;switch(this.op){case s.StringCompareOperator["==="]:t=this.lhs.value===e;break;case s.StringCompareOperator["!=="]:t=this.lhs.value!==e;break;case s.StringCompareOperator["=="]:t=this.lhs.value==e;break;case s.StringCompareOperator["!="]:t=this.lhs.value!=e;break;default:t=!1}return this.log.VERBOSE&&this.log.d("< lhs "+this.lhs.value+" > "+s.StringCompareOperator[this.op]+" < rhs "+e+" > = "+t),t?c.Status.SUCCESS:c.Status.FAILURE},r([a.btprop({type:l.SharedString,required:!0,tooltip:"Left-Hand Side"})],e.prototype,"lhs",void 0),r([a.btprop({type:String,tooltip:"Right-Hand Side Default"})],e.prototype,"rhsDft",void 0),r([a.btprop({type:l.SharedString,tooltip:"Right-Hand Side Dynamic"})],e.prototype,"rhs",void 0),r([a.btprop({type:a.btenum(s.StringCompareOperator),tooltip:"Compare Operator"})],e.prototype,"op",void 0),r([a.btclass("CmpStr","Condition/Operator",{description:"String comparation."})],e)}(_.ConditionTask);o.CmpStr=p,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ConditionTask":"bt.ConditionTask","../../../bt.Const":"bt.Const","../../../variable/bt.SharedString":"bt.SharedString","bt.editor":"bt.editor"}],"bt.CompositeTask":[function(t,e,o){"use strict";cc._RF.push(e,"d416a+p4NJBMZWOLBHxV4jp","bt.CompositeTask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.CompositeTask=o.AbortType=void 0;var a,c,s=t("bt.editor"),_=t("../api/bt.API"),l=t("./bt.Const"),p=t("./bt.TaskEventType"),u=t("./bt.BranchTask"),d=t("./bt.ConditionTask"),h=t("./bt.DecoratorTask"),f=t("./bt.IntercepterTask");(function(t){t[t.NONE=0]="NONE",t[t.SELF=1]="SELF",t[t.LOWER_PRIORITY=2]="LOWER_PRIORITY",t[t.BOTH=3]="BOTH"})(a=o.AbortType||(o.AbortType={})),function(t){t[t.NONE=0]="NONE",t[t.CONDITION=1]="CONDITION",t[t.COMPOSITE=2]="COMPOSITE",t[t.INDIRECT_COMPOSITE=3]="INDIRECT_COMPOSITE"}(c||(c={}));var y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._abortableChildrenType=[],e._abortableChildCount=0,e._indirectComposite=[],e._abortType=a.NONE,e._canAbortSelf=!1,e._canAbortLowerPriority=!1,e._scheduleAbort=!1,e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"abortType",{get:function(){return this._abortType},set:function(t){this.setAbortType(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canAbortSelf",{get:function(){return this._canAbortSelf&&this._abortableChildCount>0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canAbortLowerPriority",{get:function(){return this._canAbortLowerPriority&&this._abortableChildCount>0},enumerable:!1,configurable:!0}),e.prototype.setAbortType=function(t){this._abortType!==t&&(this._abortType=t,this._canAbortSelf=t===a.SELF||t===a.BOTH,this._canAbortLowerPriority=t===a.LOWER_PRIORITY||t===a.BOTH,this.fire(p.TaskEventType.ABORT_TYPE,t))},e.prototype.scheduleAbort=function(){this._scheduleAbort=!0},e.prototype.setupAbortableChildren=function(){var t=this;this._indirectComposite.length=0,this._abortableChildrenType.length=0,this._abortableChildCount=0,this.forEach(function(e){if(e instanceof d.ConditionTask)++t._abortableChildCount,t._abortableChildrenType.push(c.CONDITION),t._indirectComposite.push(void 0);else if(e instanceof o)e.abortType===a.LOWER_PRIORITY||e.abortType===a.BOTH?(++t._abortableChildCount,t._abortableChildrenType.push(c.COMPOSITE),t._indirectComposite.push(void 0)):(t._abortableChildrenType.push(c.NONE),t._indirectComposite.push(void 0)),e.on(p.TaskEventType.ABORT_TYPE,function(){var o=e.abortType===a.LOWER_PRIORITY||e.abortType===a.BOTH;o!==(t._abortableChildrenType[e.index]!==c.NONE)&&(o?(++t._abortableChildCount,t._abortableChildrenType[e.index]=c.COMPOSITE):(--t._abortableChildCount,t._abortableChildrenType[e.index]=c.NONE))});else if(e instanceof h.DecoratorTask||e instanceof f.IntercepterTask){for(var n=e.at(0);n instanceof h.DecoratorTask||n instanceof f.IntercepterTask;)n=n.at(0);n instanceof d.ConditionTask?(++t._abortableChildCount,t._abortableChildrenType.push(c.CONDITION),t._indirectComposite.push(void 0)):n instanceof o?(n.abortType===a.LOWER_PRIORITY||n.abortType===a.BOTH?(++t._abortableChildCount,t._abortableChildrenType.push(c.INDIRECT_COMPOSITE),t._indirectComposite.push(n)):(t._abortableChildrenType.push(c.NONE),t._indirectComposite.push(void 0)),n.on(p.TaskEventType.ABORT_TYPE,function(){var o=n.abortType===a.LOWER_PRIORITY||n.abortType===a.BOTH;o!==(t._abortableChildrenType[e.index]!==c.NONE)&&(o?(++t._abortableChildCount,t._abortableChildrenType[e.index]=c.INDIRECT_COMPOSITE,t._indirectComposite[e.index]=n):(--t._abortableChildCount,t._abortableChildrenType[e.index]=c.NONE,t._indirectComposite[e.index]=void 0))})):(t._abortableChildrenType.push(c.NONE),t._indirectComposite.push(void 0))}else t._abortableChildrenType.push(c.NONE),t._indirectComposite.push(void 0)})},e.prototype.dispatchOnLoad=function(){t.prototype.dispatchOnLoad.call(this),this.setupAbortableChildren()},e.prototype.dispatchOnDestroy=function(){t.prototype.dispatchOnDestroy.call(this),this._indirectComposite.length=0,this._abortableChildrenType.length=0,this._abortableChildCount=0},e.prototype.onExecuteChildren=function(e){if(this.running){var o=this.evaluateSelfAbort();o>=0&&o<e&&(this.log.VERBOSE&&this.log.d("abort at "+e+" triggered by "+o),this.onTerminateChildren(),this.onConditionalAbort&&this.onConditionalAbort(o),e=o)}else if(this._scheduleAbort)return this._scheduleAbort=!1,this.evaluateLowerPriorityAbort();return t.prototype.onExecuteChildren.call(this,e)},e.prototype.evaluateSelfAbort=function(){if(0===this._abortableChildCount)return l.Const.INVALID_INDEX;var t,e,o=this.getInitialChildIndex();if(this.onChildExecuted)for(;o>=0&&o<this.childIndex;)if((t=this._abortableChildrenType[o])===c.COMPOSITE)if((i=this.at(o)).canAbortLowerPriority){if(i.scheduleAbort(),e=i.evaluate(),(o=this.onChildExecuted(o,e))<0){o=i.index;break}}else++o;else if(t===c.INDIRECT_COMPOSITE)if((i=this._indirectComposite[o]).canAbortLowerPriority){if(i.scheduleAbort(),e=(n=this.at(o)).evaluate(),(o=this.onChildExecuted(o,e))<0){o=n.index;break}}else++o;else if(t===c.CONDITION){var n;if(this._canAbortSelf){if(e=(n=this.at(o)).evaluate(),(o=this.onChildExecuted(o,e))<0){o=n.index;break}}else++o}else++o;else if(o>=0&&o<this.childIndex)if((t=this._abortableChildrenType[o])===c.COMPOSITE)(i=this.at(o)).canAbortLowerPriority?(i.scheduleAbort(),(e=i.evaluate())===_.Status.FAILURE&&(o=l.Const.INVALID_INDEX)):o=l.Const.INVALID_INDEX;else if(t===c.INDIRECT_COMPOSITE){var i;(i=this._indirectComposite[o]).canAbortLowerPriority?(i.scheduleAbort(),(e=this.at(o).evaluate())===_.Status.FAILURE&&(o=l.Const.INVALID_INDEX)):o=l.Const.INVALID_INDEX}else t===c.CONDITION&&this._canAbortSelf?(e=this.at(o).evaluate())===_.Status.FAILURE&&(o=l.Const.INVALID_INDEX):o=l.Const.INVALID_INDEX;return o},e.prototype.evaluateLowerPriorityAbort=function(){var t,e=_.Status.FAILURE,o=this.getInitialChildIndex();if(this.onChildExecuted)for(;o>=0&&o<this.childCount;)(t=this._abortableChildrenType[o])===c.COMPOSITE?(n=this.at(o)).canAbortLowerPriority?(n.scheduleAbort(),e=n.evaluate(),o=this.onChildExecuted(o,e)):++o:t===c.INDIRECT_COMPOSITE?(n=this._indirectComposite[o]).canAbortLowerPriority?(n.scheduleAbort(),e=this.at(o).evaluate(),o=this.onChildExecuted(o,e)):++o:t===c.CONDITION?(e=this.at(o).evaluate(),o=this.onChildExecuted(o,e)):++o;else if(o>=0&&o<this.childCount)if((t=this._abortableChildrenType[o])===c.COMPOSITE)(n=this.at(o)).canAbortLowerPriority&&(n.scheduleAbort(),e=n.evaluate());else if(t===c.INDIRECT_COMPOSITE){var n;(n=this._indirectComposite[o]).canAbortLowerPriority&&(n.scheduleAbort(),e=this.at(o).evaluate())}else t===c.CONDITION&&(e=this.at(o).evaluate());return e},r([s.btprop({type:s.btenum(a)})],e.prototype,"abortType",null),o=r([s.btclass("CompositeTask","Composite",{visible:!1})],e)}(u.BranchTask);o.CompositeTask=y,cc._RF.pop()},{"../api/bt.API":"bt.API","./bt.BranchTask":"bt.BranchTask","./bt.ConditionTask":"bt.ConditionTask","./bt.Const":"bt.Const","./bt.DecoratorTask":"bt.DecoratorTask","./bt.IntercepterTask":"bt.IntercepterTask","./bt.TaskEventType":"bt.TaskEventType","bt.editor":"bt.editor"}],"bt.ConditionTask":[function(t,e,o){"use strict";cc._RF.push(e,"948628wdgBFzIl7vGh/eGSZ","bt.ConditionTask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ConditionTask=void 0;var a=t("bt.editor"),c=t("../api/bt.API"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.invert=!1,e}return i(e,t),e.prototype.dispatchOnUpdate=function(){var e=t.prototype.dispatchOnUpdate.call(this);return e!==c.Status.SUCCESS&&e!==c.Status.FAILURE&&(this.log.e("ConditionTask should always return SUCCESS/FAILURE."),e=c.Status.FAILURE),this.invert&&(e=e===c.Status.SUCCESS?c.Status.FAILURE:c.Status.SUCCESS),e},r([a.btprop({tooltip:"Flip the result."})],e.prototype,"invert",void 0),r([a.btclass("ConditionTask","Condition",{visible:!1})],e)}(t("./bt.LeafTask").LeafTask);o.ConditionTask=s,cc._RF.pop()},{"../api/bt.API":"bt.API","./bt.LeafTask":"bt.LeafTask","bt.editor":"bt.editor"}],"bt.Const":[function(t,e,o){"use strict";cc._RF.push(e,"c0bc8yeacVDUo8oGNhmciVs","bt.Const"),Object.defineProperty(o,"__esModule",{value:!0}),o.StringComputeOperator=o.StringCompareOperator=o.BooleanComputeOperator=o.BooleanCompareOperator=o.NumberComputeOperator=o.NumberCompareOperator=o.BinaryOperator=o.BooleanType=o.FloatToInt=o.BlackboardType=o.ConditionStatus=o.Const=void 0,function(t){t[t.INVALID_INDEX=-1]="INVALID_INDEX"}(o.Const||(o.Const={})),function(t){t[t.FAILURE=0]="FAILURE",t[t.SUCCESS=1]="SUCCESS"}(o.ConditionStatus||(o.ConditionStatus={})),function(t){t[t.LOCAL_BOARD=0]="LOCAL_BOARD",t[t.GLOBAL_BOARD=1]="GLOBAL_BOARD"}(o.BlackboardType||(o.BlackboardType={})),function(t){t[t["-"]=0]="-",t[t.floor=1]="floor",t[t.ceil=2]="ceil",t[t.round=3]="round"}(o.FloatToInt||(o.FloatToInt={})),function(t){t[t.TRUE=0]="TRUE",t[t.FALSE=1]="FALSE",t[t.TOGGLE=2]="TOGGLE"}(o.BooleanType||(o.BooleanType={})),function(t){t[t.AND=0]="AND",t[t.OR=1]="OR"}(o.BinaryOperator||(o.BinaryOperator={})),function(t){t[t["==="]=0]="===",t[t["!=="]=1]="!==",t[t["=="]=2]="==",t[t["!="]=3]="!=",t[t[">"]=4]=">",t[t[">="]=5]=">=",t[t["<"]=6]="<",t[t["<="]=7]="<="}(o.NumberCompareOperator||(o.NumberCompareOperator={})),function(t){t[t["="]=0]="=",t[t["+="]=1]="+=",t[t["-="]=2]="-=",t[t["*="]=3]="*=",t[t["/="]=4]="/="}(o.NumberComputeOperator||(o.NumberComputeOperator={})),function(t){t[t["==="]=0]="===",t[t["!=="]=1]="!==",t[t["=="]=2]="==",t[t["!="]=3]="!="}(o.BooleanCompareOperator||(o.BooleanCompareOperator={})),function(t){t[t["="]=0]="=",t[t["!="]=1]="!="}(o.BooleanComputeOperator||(o.BooleanComputeOperator={})),function(t){t[t["==="]=0]="===",t[t["!=="]=1]="!==",t[t["=="]=2]="==",t[t["!="]=3]="!="}(o.StringCompareOperator||(o.StringCompareOperator={})),function(t){t[t["="]=0]="="}(o.StringComputeOperator||(o.StringComputeOperator={})),cc._RF.pop()},{}],"bt.Cooldown":[function(t,e,o){"use strict";cc._RF.push(e,"70bb6cAPutJGbwU/DwXo5lk","bt.Cooldown");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Cooldown=o.CooldownAbortPolicyType=void 0;var a,c=t("bt.editor"),s=t("../../../api/bt.API"),_=t("../../bt.Const"),l=t("../../bt.IntercepterTask"),p=t("../../variable/bt.SharedNumber");(function(t){t[t.CLEAR_TIMER=0]="CLEAR_TIMER",t[t.RESET_TIMER=1]="RESET_TIMER",t[t.RESERVE_TIMER=2]="RESERVE_TIMER"})(a=o.CooldownAbortPolicyType||(o.CooldownAbortPolicyType={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.phase=l.IntercepterPhaseType.UPDATE,e.phaseIntervalDft=0,e.statusWhenIntercepted=_.ConditionStatus.FAILURE,e.cdTimeDft=0,e.abortPolicy=a.CLEAR_TIMER,e._time=0,e}return i(e,t),e.prototype.onIntercept=function(){return this._time>0&&this._time<1/0?(this._time-=this.tree.dt,this._time<=0?(this._time=0,s.Status.FAILURE):s.Status.RUNNING):0===this._time?s.Status.FAILURE:s.Status.RUNNING},e.prototype.onExit=function(){this._time>0?(this.log.VERBOSE&&this.log.d("interrupted < "+this._time+" > seconds remain"),this.abortPolicy===a.CLEAR_TIMER?this._time=0:this.abortPolicy===a.RESET_TIMER&&(this._time=this.cdTime?this.cdTime.value:this.cdTimeDft)):this._time=this.cdTime?this.cdTime.value:this.cdTimeDft,this.log.VERBOSE&&this.log.d("< "+this._time+" > seconds")},e.AbortPolicyType=a,r([c.btprop({readonly:!0})],e.prototype,"phase",void 0),r([c.btprop({visible:!1})],e.prototype,"phaseInterval",void 0),r([c.btprop({visible:!1})],e.prototype,"phaseIntervalDft",void 0),r([c.btprop({visible:!1})],e.prototype,"statusWhenIntercepted",void 0),r([c.btprop({type:p.SharedNumber,tooltip:"Dynamic time in seconds.\n0 indicates no cooldown.\nNegative and Infinity indicates infinite cooldown."})],e.prototype,"cdTime",void 0),r([c.btprop({type:Number,inputtype:"float",required:"warning",validator:function(t){return 0!==t},tooltip:"Default time in seconds.\n0 indicates no cooldown.\nNegative and Infinity indicates infinite cooldown."})],e.prototype,"cdTimeDft",void 0),r([c.btprop({type:c.btenum(a),tooltip:"How do we deal with the timer if task get interrupted ?"})],e.prototype,"abortPolicy",void 0),r([c.btclass("Cooldown",{description:"Cooldown timer for executing child task."})],e)}(l.IntercepterTask);o.Cooldown=u,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.Const":"bt.Const","../../bt.IntercepterTask":"bt.IntercepterTask","../../variable/bt.SharedNumber":"bt.SharedNumber","bt.editor":"bt.editor"}],"bt.CtrlGate":[function(t,e,o){"use strict";cc._RF.push(e,"86716Ro4OJHmrhgsXIS8jrX","bt.CtrlGate");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.CtrlGate=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.ActionTask"),_=t("../../intercepter/bt.Gate"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ctrl=_.GateCtrlType.OPEN,e}return i(e,t),e.prototype.onUpdate=function(){switch(this.ctrl){case _.GateCtrlType.OPEN:this.target.open();break;case _.GateCtrlType.CLOSE:this.target.close();break;case _.GateCtrlType.TOGGLE:this.target.toggle()}return c.Status.SUCCESS},r([a.btprop({type:_.Gate,required:!0})],e.prototype,"target",void 0),r([a.btprop({type:a.btenum(_.GateCtrlType)})],e.prototype,"ctrl",void 0),r([a.btclass("CtrlGate","Action/Trigger",{description:"Open/Close gate."})],e)}(s.ActionTask);o.CtrlGate=l,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","../../intercepter/bt.Gate":"bt.Gate","bt.editor":"bt.editor"}],"bt.DecoratorTask":[function(t,e,o){"use strict";cc._RF.push(e,"00032h6pdRKI7F7rWOe02BA","bt.DecoratorTask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.DecoratorTask=o.DecoratorPhaseType=void 0;var a,c=t("bt.editor"),s=t("../api/bt.API"),_=t("./bt.BranchTask");(function(t){t[t.ALWAYS=0]="ALWAYS",t[t.COMPLETE=1]="COMPLETE",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE",t[t.RUNNING=4]="RUNNING",t[t.NOT_SUCCESS=5]="NOT_SUCCESS",t[t.NOT_FAILURE=6]="NOT_FAILURE"})(a=o.DecoratorPhaseType||(o.DecoratorPhaseType={}));var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.phase=a.ALWAYS,e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"taskToDecorate",{get:function(){return this._taskToDecorate},enumerable:!1,configurable:!0}),e.prototype.dispatchOnLoad=function(){for(var e=this.at(0);e instanceof o;)e=e.at(0);this._taskToDecorate=e,t.prototype.dispatchOnLoad.call(this)},e.prototype.dispatchOnUpdate=function(){var e=t.prototype.dispatchOnUpdate.call(this);if(this.onDecorate){if(this.phase===a.ALWAYS)return this.onDecorate(e);if(this.phase===a.SUCCESS){if(e===s.Status.SUCCESS)return this.onDecorate(e)}else if(this.phase===a.FAILURE){if(e===s.Status.FAILURE)return this.onDecorate(e)}else if(this.phase===a.RUNNING){if(e===s.Status.RUNNING)return this.onDecorate(e)}else if(this.phase===a.COMPLETE){if(e===s.Status.SUCCESS||e===s.Status.FAILURE)return this.onDecorate(e)}else if(this.phase===a.NOT_SUCCESS){if(e!==s.Status.SUCCESS)return this.onDecorate(e)}else if(this.phase===a.NOT_FAILURE&&e!==s.Status.FAILURE)return this.onDecorate(e)}return e},e.PhaseType=a,r([c.btprop({type:c.btenum(a),tooltip:"When to decorate ?"})],e.prototype,"phase",void 0),o=r([c.btclass("DecoratorTask","Decorator",{childCountMin:1,childCountMax:1,visible:!1})],e)}(_.BranchTask);o.DecoratorTask=l,cc._RF.pop()},{"../api/bt.API":"bt.API","./bt.BranchTask":"bt.BranchTask","bt.editor":"bt.editor"}],"bt.Delay":[function(t,e,o){"use strict";cc._RF.push(e,"824e5pWYbdN+r2mp/+8cbPT","bt.Delay");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Delay=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.Const"),_=t("../../bt.IntercepterTask"),l=t("../../variable/bt.SharedNumber"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.phase=_.IntercepterPhaseType.UPDATE,e.phaseIntervalDft=0,e.statusWhenIntercepted=s.ConditionStatus.FAILURE,e.delayTimeDft=0,e._time=0,e}return i(e,t),e.prototype.onEnter=function(){return this._time=this.delayTime?this.delayTime.value:this.delayTimeDft,this.log.VERBOSE&&this.log.d("< "+this._time+" > seconds"),!0},e.prototype.onIntercept=function(){return this._time>0&&this._time<1/0?(this._time-=this.tree.dt,this._time<=0?(this._time=0,c.Status.FAILURE):c.Status.RUNNING):0===this._time?c.Status.FAILURE:c.Status.RUNNING},r([a.btprop({readonly:!0})],e.prototype,"phase",void 0),r([a.btprop({visible:!1})],e.prototype,"phaseInterval",void 0),r([a.btprop({visible:!1})],e.prototype,"phaseIntervalDft",void 0),r([a.btprop({visible:!1})],e.prototype,"statusWhenIntercepted",void 0),r([a.btprop({type:l.SharedNumber,tooltip:"Dynamic time in seconds.\n0 indicates no delay.\nNegative and Infinity indicates infinite delay."})],e.prototype,"delayTime",void 0),r([a.btprop({type:Number,inputtype:"float",required:"warning",validator:function(t){return 0!==t},tooltip:"Default time in seconds.\n0 indicates no delay.\nNegative and Infinity indicates infinite delay."})],e.prototype,"delayTimeDft",void 0),r([a.btclass("Delay",{description:"Delay child task execution for a time period.\n0 indicates no delay."})],e)}(_.IntercepterTask);o.Delay=p,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.Const":"bt.Const","../../bt.IntercepterTask":"bt.IntercepterTask","../../variable/bt.SharedNumber":"bt.SharedNumber","bt.editor":"bt.editor"}],"bt.EmitEvent":[function(t,e,o){"use strict";cc._RF.push(e,"09a1cYq2HxPhZ4VEpNZjMHs","bt.EmitEvent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.EmitEvent=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onUpdate=function(){return this.log.VERBOSE&&this.log.d("< "+this.type+" > on task < "+this.target.log.tag+" >"),this.target.emit(this.type,this.arg1,this.arg2,this.arg3),c.Status.SUCCESS},r([a.btprop({type:"bt-task",required:!0,tooltip:"The task to receive event."})],e.prototype,"target",void 0),r([a.btprop({type:String,required:!0,tooltip:"Event type."})],e.prototype,"type",void 0),r([a.btprop({type:String,tooltip:"First argument."})],e.prototype,"arg1",void 0),r([a.btprop({type:String,tooltip:"Second argument."})],e.prototype,"arg2",void 0),r([a.btprop({type:String,tooltip:"Third argument."})],e.prototype,"arg3",void 0),r([a.btclass("EmitEvent","Action/Event",{description:"Propagate an event upward along a task's parent chain."})],e)}(t("../../../bt.ActionTask").ActionTask);o.EmitEvent=s,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","bt.editor":"bt.editor"}],"bt.EntryTask":[function(t,e,o){"use strict";cc._RF.push(e,"6304eV6z9tDMJwHVbmzG3kx","bt.EntryTask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.EntryTask=void 0;var a=t("bt.editor"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._enabled=!1,e._paused=!1,e}return i(e,t),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},set:function(t){this.setEnable(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},set:function(t){this.setPause(t)},enumerable:!1,configurable:!0}),e.prototype.setEnable=function(t){this._enabled!==t&&(this._enabled=t)},e.prototype.setPause=function(t){this._paused!==t&&(this._paused=t,t?this.onBehaviorPause():this.onBehaviorResume())},r([a.btclass("Entry",{childCountMin:1,childCountMax:1,visible:!1})],e)}(t("./bt.BranchTask").BranchTask);o.EntryTask=c,cc._RF.pop()},{"./bt.BranchTask":"bt.BranchTask","bt.editor":"bt.editor"}],"bt.FailureUntilSuccess":[function(t,e,o){"use strict";cc._RF.push(e,"7e9e6FHPPFH3JI+tLpl0Fw4","bt.FailureUntilSuccess");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.FailureUntilSuccess=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.DecoratorTask"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.phase=s.DecoratorPhaseType.NOT_SUCCESS,e}return i(e,t),e.prototype.onDecorate=function(){return c.Status.FAILURE},r([a.btprop({readonly:!0})],e.prototype,"phase",void 0),r([a.btclass("FailureUntilSuccess",{description:'Always return "FAILURE" until child task returns "SUCCESS".'})],e)}(s.DecoratorTask);o.FailureUntilSuccess=_,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.DecoratorTask":"bt.DecoratorTask","bt.editor":"bt.editor"}],"bt.FireEvents":[function(t,e,o){"use strict";cc._RF.push(e,"c54d3sCp9JA1IsZxwhnd4zF","bt.FireEvents");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.FireEvents=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targets=[],e}return i(e,t),e.prototype.onUpdate=function(){for(var t=0;t<this.targets.length;++t){var e=this.targets[t];e&&(this.log.VERBOSE&&this.log.d("< "+this.type+" > on task < "+e.log.tag+" >"),e.fire(this.type,this.arg1,this.arg2,this.arg3))}return c.Status.SUCCESS},r([a.btprop({type:["bt-task"],required:!0,tooltip:"The task to receive event."})],e.prototype,"targets",void 0),r([a.btprop({type:String,required:!0,tooltip:"Event type."})],e.prototype,"type",void 0),r([a.btprop({type:String,tooltip:"First argument."})],e.prototype,"arg1",void 0),r([a.btprop({type:String,tooltip:"Second argument."})],e.prototype,"arg2",void 0),r([a.btprop({type:String,tooltip:"Third argument."})],e.prototype,"arg3",void 0),r([a.btclass("FireEvents","Action/Event",{description:"Fire an event on a list of tasks."})],e)}(t("../../../bt.ActionTask").ActionTask);o.FireEvents=s,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","bt.editor":"bt.editor"}],"bt.FireEvent":[function(t,e,o){"use strict";cc._RF.push(e,"8d519Jz/Z9M5IKqh6a8n3wt","bt.FireEvent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.FireEvent=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onUpdate=function(){return this.log.VERBOSE&&this.log.d("< "+this.type+" > on task < "+this.target.log.tag+" >"),this.target.fire(this.type,this.arg1,this.arg2,this.arg3),c.Status.SUCCESS},r([a.btprop({type:"bt-task",required:!0,tooltip:"The task to receive event."})],e.prototype,"target",void 0),r([a.btprop({type:String,required:!0,tooltip:"Event type."})],e.prototype,"type",void 0),r([a.btprop({type:String,tooltip:"First argument."})],e.prototype,"arg1",void 0),r([a.btprop({type:String,tooltip:"Second argument."})],e.prototype,"arg2",void 0),r([a.btprop({type:String,tooltip:"Third argument."})],e.prototype,"arg3",void 0),r([a.btclass("FireEvent","Action/Event",{description:"Fire an event."})],e)}(t("../../../bt.ActionTask").ActionTask);o.FireEvent=s,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","bt.editor":"bt.editor"}],"bt.FrameRepeater":[function(t,e,o){"use strict";cc._RF.push(e,"bc91fOxe1RHKLRvBb6aPHbR","bt.FrameRepeater");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.FrameRepeater=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.DecoratorTask"),_=t("../../variable/bt.SharedNumber"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.countDft=1,e._count=0,e}return i(e,t),e.prototype.onEnter=function(){return this._count=this.count?this.count.value:this.countDft,this.log.VERBOSE&&this.log.d("< "+this._count+" > times in one frame"),(this._count<0||this._count===1/0)&&(this.log.VERBOSE&&this.log.w("infinite repeat not allowed"),this._count=0),0!==this._count},e.prototype.onDecorate=function(){return 0===this._count?c.Status.SUCCESS:c.Status.FAILURE},e.prototype.onChildExecuted=function(t,e){return e===c.Status.FAILURE?-1:0==--this._count?-1:t},r([a.btprop({type:_.SharedNumber,tooltip:"Dynamic count.\n0 indicates no execution.\nInfinite repeat not allowed."})],e.prototype,"count",void 0),r([a.btprop({type:Number,inputtype:"int",min:0,step:1,required:!0,validator:function(t){return t>=0&&t<1/0},tooltip:"Default count.\n0 indicates no execution.\nInfinite repeat not allowed."})],e.prototype,"countDft",void 0),r([a.btclass("FrameRepeater",{description:'Repeatedly execute child task for a number of times in one frame.\nTo avoid infinite loop, "repeat forever" is not allowed.\nStop repeating if child task returns "FAILURE".'})],e)}(s.DecoratorTask);o.FrameRepeater=l,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.DecoratorTask":"bt.DecoratorTask","../../variable/bt.SharedNumber":"bt.SharedNumber","bt.editor":"bt.editor"}],"bt.FsmStateTask":[function(t,e,o){"use strict";cc._RF.push(e,"5e669JZxBJL+qWrSrptNXDD","bt.FsmStateTask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.FsmStateTask=void 0;var a=t("bt.editor"),c=t("../../api/bt.API"),s=t("../bt.BranchTask"),_=t("./bt.FsmType"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onExecuteChildren=function(){var t=this.onEvaluateAction(0);return this.onEvaluateTransitions(1,t)},e.prototype.onEvaluateAction=function(t){var e=this.at(t).execute();return this.onChildExecuted&&this.onChildExecuted(t,e),e},e.prototype.onEvaluateTransitions=function(t,e){for(var o=t;o<this.childCount;++o){var n=this.at(o);if(n.evaluateOnPhase(e))return this.onTransit&&this.onTransit(o,n.nextStateIndex),this.parent.fire(_.FsmEventType.NEXT_STATE,n.nextStateIndex),e===c.Status.SUCCESS?c.Status.SUCCESS:c.Status.FAILURE}return e},r([a.btclass("State","StateMachine")],e)}(s.BranchTask);o.FsmStateTask=l,cc._RF.pop()},{"../../api/bt.API":"bt.API","../bt.BranchTask":"bt.BranchTask","./bt.FsmType":"bt.FsmType","bt.editor":"bt.editor"}],"bt.FsmTask":[function(t,e,o){"use strict";cc._RF.push(e,"0b7e8m2NMdC2qJfphYaOiw5","bt.FsmTask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.FsmTask=void 0;var a=t("bt.editor"),c=t("../bt.Const"),s=t("../bt.BranchTask"),_=t("./bt.FsmType"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stackSize=1e3,e.initialStateIndex=0,e._nextStateIndex=c.Const.INVALID_INDEX,e._stackSize=0,e}return i(e,t),e.prototype.getInitialChildIndex=function(){return this.log.VERBOSE&&this.log.d("initial state < "+this.at(this.initialStateIndex).name+" > at < "+this.initialStateIndex+" >"),this._stackSize=0,this._nextStateIndex=c.Const.INVALID_INDEX,this.initialStateIndex},e.prototype.onChildExecuted=function(){if(this._nextStateIndex!==c.Const.INVALID_INDEX){if(this.log.VERBOSE&&this.log.d("next state < "+this.at(this._nextStateIndex).name+" > at < "+this._nextStateIndex+" >"),this.stackSize>0&&++this._stackSize>=this.stackSize)return this.log.w("Maximum state-transition stack size exceeded < "+this._stackSize+" >"),c.Const.INVALID_INDEX;var t=this._nextStateIndex;return this._nextStateIndex=c.Const.INVALID_INDEX,t}return c.Const.INVALID_INDEX},e.prototype.onEvent=function(t,e){t===_.FsmEventType.NEXT_STATE&&(this._nextStateIndex=e)},r([a.btprop({min:0,step:1,inputtype:"int",tooltip:"[DEBUG] state-transition stack size."})],e.prototype,"stackSize",void 0),r([a.btprop({visible:!1})],e.prototype,"initialStateIndex",void 0),r([a.btclass("StateMachine","StateMachine")],e)}(s.BranchTask);o.FsmTask=l,cc._RF.pop()},{"../bt.BranchTask":"bt.BranchTask","../bt.Const":"bt.Const","./bt.FsmType":"bt.FsmType","bt.editor":"bt.editor"}],"bt.FsmTransitionTask":[function(t,e,o){"use strict";cc._RF.push(e,"1ab58TYYy9Pfry43Xr/LpF0","bt.FsmTransitionTask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.FsmTransitionTask=void 0;var a=t("bt.editor"),c=t("../../api/bt.API"),s=t("../bt.Const"),_=t("../bt.BranchTask"),l=t("./bt.FsmType"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.phase=l.FsmTransitionPhaseType.ALWAYS,e.nextStateIndex=s.Const.INVALID_INDEX,e}return i(e,t),e.prototype.evaluateOnPhase=function(t){var e;switch(this.phase){case l.FsmTransitionPhaseType.ALWAYS:e=!0;break;case l.FsmTransitionPhaseType.COMPLETE:e=t===c.Status.SUCCESS||t===c.Status.FAILURE;break;case l.FsmTransitionPhaseType.SUCCESS:e=t===c.Status.SUCCESS;break;case l.FsmTransitionPhaseType.FAILURE:e=t===c.Status.FAILURE;break;case l.FsmTransitionPhaseType.RUNNING:e=t===c.Status.RUNNING;break;case l.FsmTransitionPhaseType.NOT_SUCCESS:e=t!==c.Status.SUCCESS;break;case l.FsmTransitionPhaseType.NOT_FAILURE:e=t!==c.Status.FAILURE;break;default:e=!1}return!!e&&this.evaluate()===c.Status.SUCCESS},e.prototype.onUpdate=function(){return this.childCount>0?t.prototype.onUpdate.call(this):c.Status.SUCCESS},e.PhaseType=l.FsmTransitionPhaseType,r([a.btprop({type:a.btenum(l.FsmTransitionPhaseType)})],e.prototype,"phase",void 0),r([a.btprop({visible:!1})],e.prototype,"nextStateIndex",void 0),r([a.btclass("Transition","StateMachine")],e)}(_.BranchTask);o.FsmTransitionTask=p,cc._RF.pop()},{"../../api/bt.API":"bt.API","../bt.BranchTask":"bt.BranchTask","../bt.Const":"bt.Const","./bt.FsmType":"bt.FsmType","bt.editor":"bt.editor"}],"bt.FsmType":[function(t,e,o){"use strict";cc._RF.push(e,"4a349eUtuRKK4OgjjRC0NcJ","bt.FsmType"),Object.defineProperty(o,"__esModule",{value:!0}),o.FsmTransitionPhaseType=o.FsmEventType=void 0,(o.FsmEventType||(o.FsmEventType={})).NEXT_STATE="fsm-next-state",function(t){t[t.ALWAYS=0]="ALWAYS",t[t.COMPLETE=1]="COMPLETE",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE",t[t.RUNNING=4]="RUNNING",t[t.NOT_SUCCESS=5]="NOT_SUCCESS",t[t.NOT_FAILURE=6]="NOT_FAILURE"}(o.FsmTransitionPhaseType||(o.FsmTransitionPhaseType={})),cc._RF.pop()},{}],"bt.Gate":[function(t,e,o){"use strict";cc._RF.push(e,"e8b83UYUBpLtKk1wexaJ4v1","bt.Gate");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Gate=o.GateCtrlType=void 0;var a,c=t("bt.editor"),s=t("../../../api/bt.API"),_=t("../../bt.Const"),l=t("../../bt.IntercepterTask");(function(t){t[t.OPEN=0]="OPEN",t[t.CLOSE=1]="CLOSE",t[t.TOGGLE=2]="TOGGLE"})(a=o.GateCtrlType||(o.GateCtrlType={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.opened=!0,e.phase=l.IntercepterPhaseType.UPDATE,e.statusWhenIntercepted=_.ConditionStatus.SUCCESS,e}var o;return i(e,t),o=e,e.prototype.onIntercept=function(){return this.opened?s.Status.FAILURE:s.Status.SUCCESS},e.prototype.onEvent=function(t,e){if(t===o.EVENT_CTRL)switch(e){case a.OPEN:this.opened||(this.log.VERBOSE&&this.log.d("open"),this.opened=!0);break;case a.CLOSE:this.opened&&(this.log.VERBOSE&&this.log.d("close"),this.opened=!1);break;case a.TOGGLE:this.log.VERBOSE&&(this.opened?this.log.d("close"):this.log.d("open")),this.opened=!this.opened}else{if(this.eventsOpen&&this.eventsOpen.includes(t))return this.opened||(this.log.VERBOSE&&this.log.d("open on < "+t+" >"),this.opened=!0),!1;if(this.eventsClose&&this.eventsClose.includes(t))return this.opened&&(this.log.VERBOSE&&this.log.d("close on < "+t+" >"),this.opened=!1),!1;if(this.eventsToggle&&this.eventsToggle.includes(t))return this.log.VERBOSE&&(this.opened?this.log.d("close on < "+t+" >"):this.log.d("open on < "+t+" >")),this.opened=!this.opened,!1}return!1},e.prototype.open=function(){this.fire(o.EVENT_CTRL,a.OPEN)},e.prototype.close=function(){this.fire(o.EVENT_CTRL,a.CLOSE)},e.prototype.toggle=function(){this.fire(o.EVENT_CTRL,a.TOGGLE)},e.EVENT_CTRL="gate-ctrl",r([c.btprop({type:Boolean,tooltip:"Initial State"})],e.prototype,"opened",void 0),r([c.btprop({type:[String]})],e.prototype,"eventsOpen",void 0),r([c.btprop({type:[String]})],e.prototype,"eventsClose",void 0),r([c.btprop({type:[String]})],e.prototype,"eventsToggle",void 0),r([c.btprop({type:c.btenum(l.IntercepterPhaseType)})],e.prototype,"phase",void 0),o=r([c.btclass("Gate",{description:"Block child task."})],e)}(l.IntercepterTask);o.Gate=p,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.Const":"bt.Const","../../bt.IntercepterTask":"bt.IntercepterTask","bt.editor":"bt.editor"}],"bt.GenRandom":[function(t,e,o){"use strict";cc._RF.push(e,"f1764o2mM5BTbiRmNoWMaBx","bt.GenRandom");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.GenRandom=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.Const"),_=t("../../../bt.ActionTask"),l=t("../../../variable/bt.SharedNumber"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.min=0,e.max=1,e.toInt=s.FloatToInt["-"],e}return i(e,t),e.prototype.onEnter=function(){return this.max>this.min},e.prototype.onUpdate=function(){switch(this.lhs.value=Math.random()*(this.max-this.min)+this.min,this.toInt){case s.FloatToInt.floor:this.lhs.value=Math.floor(this.lhs.value);break;case s.FloatToInt.ceil:this.lhs.value=Math.ceil(this.lhs.value);break;case s.FloatToInt.round:this.lhs.value=Math.round(this.lhs.value)}return this.log.VERBOSE&&this.log.d("< "+this.lhs.value+" >"),c.Status.SUCCESS},r([a.btprop({type:l.SharedNumber,required:!0,tooltip:"Left-Hand Side"})],e.prototype,"lhs",void 0),r([a.btprop({type:Number,required:!0,validator:function(t){return t!==-1/0&&t!==1/0},tooltip:"Lower Bound"})],e.prototype,"min",void 0),r([a.btprop({type:Number,required:!0,validator:function(t){return t!==-1/0&&t!==1/0},tooltip:"Upper Bound"})],e.prototype,"max",void 0),r([a.btprop({type:a.btenum(s.FloatToInt),tooltip:"Float to Int"})],e.prototype,"toInt",void 0),r([a.btclass("GenRandom","Action/Math",{description:"Generate random number."})],e)}(_.ActionTask);o.GenRandom=p,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","../../../bt.Const":"bt.Const","../../../variable/bt.SharedNumber":"bt.SharedNumber","bt.editor":"bt.editor"}],"bt.Idle":[function(t,e,o){"use strict";cc._RF.push(e,"b9017XvEolJJqrsLUmjZ6WF","bt.Idle");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Idle=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onUpdate=function(){return c.Status.RUNNING},r([a.btclass("Idle",{description:"Always running."})],e)}(t("../../bt.ActionTask").ActionTask);o.Idle=s,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.ActionTask":"bt.ActionTask","bt.editor":"bt.editor"}],"bt.IntercepterTask":[function(t,e,o){"use strict";cc._RF.push(e,"7851dpl+w5IgbFZ6uHI/mF+","bt.IntercepterTask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.IntercepterTask=o.IntercepterPhaseType=void 0;var a,c=t("bt.editor"),s=t("../api/bt.API"),_=t("./bt.Const"),l=t("./bt.BranchTask"),p=t("./variable/bt.SharedNumber");(function(t){t[t.ENTER=0]="ENTER",t[t.UPDATE=1]="UPDATE",t[t.UPDATE_INTERVAL=2]="UPDATE_INTERVAL"})(a=o.IntercepterPhaseType||(o.IntercepterPhaseType={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.phase=a.ENTER,e.phaseIntervalDft=0,e.statusWhenIntercepted=_.ConditionStatus.FAILURE,e._phaseInterval=0,e._phaseIntervalElapsed=0,e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"taskToIntercept",{get:function(){return this._taskToIntercept},enumerable:!1,configurable:!0}),e.prototype.dispatchOnLoad=function(){for(var e=this.at(0);e instanceof o;)e=e.at(0);this._taskToIntercept=e,t.prototype.dispatchOnLoad.call(this)},e.prototype.dispatchOnEnter=function(){return(this.phase!==a.ENTER||!this.onIntercept||this.onIntercept()===s.Status.FAILURE)&&t.prototype.dispatchOnEnter.call(this)},e.prototype.dispatchOnUpdate=function(){if(this.onIntercept&&(this.phase===a.UPDATE||this.phase===a.UPDATE_INTERVAL)){var e=void 0;if(this.phase===a.UPDATE?e=this.onIntercept():this.running?this._phaseInterval>0&&this._phaseInterval<1/0?(this._phaseIntervalElapsed+=this.tree.dt,this._phaseIntervalElapsed>=this._phaseInterval?(this._phaseIntervalElapsed=0,e=this.onIntercept()):e=s.Status.FAILURE):0===this._phaseInterval?e=this.onIntercept():(this.log.VERBOSE&&this.log.w("invalid phase interval "+this._phaseInterval),e=s.Status.FAILURE):(this._phaseIntervalElapsed=0,this._phaseInterval=this.phaseInterval?this.phaseInterval.value:this.phaseIntervalDft,e=s.Status.FAILURE),e===s.Status.SUCCESS)return this.statusWhenIntercepted===_.ConditionStatus.SUCCESS?s.Status.SUCCESS:s.Status.FAILURE;if(e===s.Status.RUNNING)return e}return t.prototype.dispatchOnUpdate.call(this)},e.PhaseType=a,r([c.btprop({type:c.btenum(a),tooltip:"When to intercept ?"})],e.prototype,"phase",void 0),r([c.btprop({type:p.SharedNumber,tooltip:"Dynamic intercept interval in seconds. Take effect only whenphase is UPDATE_INTERVAL.\nPositive number required."})],e.prototype,"phaseInterval",void 0),r([c.btprop({type:Number,min:0,tooltip:"Default intercept interval in seconds. Take effect only whenphase is UPDATE_INTERVAL.\nPositive number required."})],e.prototype,"phaseIntervalDft",void 0),r([c.btprop({type:c.btenum(_.ConditionStatus),tooltip:'Execution status when intercepted (@function onIntercept returns SUCCESS).\nThis will take effect only on "UPDATE" phase.'})],e.prototype,"statusWhenIntercepted",void 0),o=r([c.btclass("IntercepterTask","Intercepter",{childCountMin:1,childCountMax:1,visible:!1})],e)}(l.BranchTask);o.IntercepterTask=u,cc._RF.pop()},{"../api/bt.API":"bt.API","./bt.BranchTask":"bt.BranchTask","./bt.Const":"bt.Const","./variable/bt.SharedNumber":"bt.SharedNumber","bt.editor":"bt.editor"}],"bt.Interrupt":[function(t,e,o){"use strict";cc._RF.push(e,"30034E9sOJCSo9QBzKU4Wil","bt.Interrupt");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Interrupt=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.Const"),_=t("../../bt.IntercepterTask"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.phase=_.IntercepterPhaseType.UPDATE,e.statusWhenIntercepted=s.ConditionStatus.SUCCESS,e._req=!1,e}var o;return i(e,t),o=e,e.prototype.onIntercept=function(){return this._req?(this._req=!1,this.running?c.Status.SUCCESS:c.Status.FAILURE):c.Status.FAILURE},e.prototype.onEvent=function(t){return t===o.EVENT_IRQ?(this.log.VERBOSE&&this.log.d("irq"),this._req=!0):this.eventsIrq&&this.eventsIrq.includes(t)&&(this.log.VERBOSE&&this.log.d("irq on < "+t+" >"),this._req=!0),!1},e.prototype.onBehaviorComplete=function(){this._req=!1},e.prototype.req=function(){this.fire(o.EVENT_IRQ)},e.EVENT_IRQ="irq",r([a.btprop({type:a.btenum(_.IntercepterPhaseType)})],e.prototype,"phase",void 0),r([a.btprop({type:[String]})],e.prototype,"eventsIrq",void 0),o=r([a.btclass("Interrupt",{description:"Interrupt child task."})],e)}(_.IntercepterTask);o.Interrupt=l,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.Const":"bt.Const","../../bt.IntercepterTask":"bt.IntercepterTask","bt.editor":"bt.editor"}],"bt.Inverter":[function(t,e,o){"use strict";cc._RF.push(e,"5b56dgK889BGo5p5qE5mQw7","bt.Inverter");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Inverter=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onDecorate=function(t){switch(t){case c.Status.SUCCESS:return c.Status.FAILURE;case c.Status.FAILURE:return c.Status.SUCCESS;default:return t}},r([a.btclass("Inverter",{description:"Invert the execution result of child task."})],e)}(t("../../bt.DecoratorTask").DecoratorTask);o.Inverter=s,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.DecoratorTask":"bt.DecoratorTask","bt.editor":"bt.editor"}],"bt.IsBehaviorRunning":[function(t,e,o){"use strict";cc._RF.push(e,"ac18dGm8etKCqDxNbqY7lrr","bt.IsBehaviorRunning");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.IsBehaviorRunning=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onUpdate=function(){return this.target.behaviorRunning?c.Status.SUCCESS:c.Status.FAILURE},r([a.btprop({type:"bt-behaviortree",required:!0,excludeSelf:!0,tooltip:"Self excluded."})],e.prototype,"target",void 0),r([a.btclass("IsBehaviorRunning","Condition/Behavior",{description:"Check if an external behaviortree is running."})],e)}(t("../../../bt.ConditionTask").ConditionTask);o.IsBehaviorRunning=s,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ConditionTask":"bt.ConditionTask","bt.editor":"bt.editor"}],"bt.IsChecked":[function(t,e,o){"use strict";cc._RF.push(e,"78fbbXin31BbZ2bw50VJ1hT","bt.IsChecked");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.IsChecked=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onUpdate=function(){return this.target.isChecked?c.Status.SUCCESS:c.Status.FAILURE},r([a.btprop({type:cc.Toggle,required:!0,tooltip:"The cc.Toggle component."})],e.prototype,"target",void 0),r([a.btclass("IsChecked","Condition/UI",{description:"cc.Toggle.isChecked"})],e)}(t("../../../../base/bt.ConditionTask").ConditionTask);o.IsChecked=s,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../../base/bt.ConditionTask":"bt.ConditionTask","bt.editor":"bt.editor"}],"bt.IsKeyDown":[function(t,e,o){"use strict";cc._RF.push(e,"2a111/he0ZHT5IjicTT45LQ","bt.IsKeyDown");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.IsKeyDown=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._down=!1,e}return i(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.onDestroy=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.onUpdate=function(){return this._down?c.Status.SUCCESS:c.Status.FAILURE},e.prototype.onKeyDown=function(t){this.key&&t.keyCode===cc.macro.KEY[this.key]&&(this.log.VERBOSE&&this.log.d("down < "+this.key+" >"),this._down=!0)},e.prototype.onKeyUp=function(t){this.key&&t.keyCode===cc.macro.KEY[this.key]&&(this.log.VERBOSE&&this.log.d("up < "+this.key+" >"),this._down=!1)},r([a.btprop({type:String,required:!0,validator:function(t){return t in cc.macro.KEY},tooltip:"cc.macro.KEY.xxx"})],e.prototype,"key",void 0),r([a.btclass("IsKeyDown","Condition/System",{description:"Keyboard event."})],e)}(t("../../../../base/bt.ConditionTask").ConditionTask);o.IsKeyDown=s,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../../base/bt.ConditionTask":"bt.ConditionTask","bt.editor":"bt.editor"}],"bt.LeafTask":[function(t,e,o){"use strict";cc._RF.push(e,"5e969LeOWREQIajFdqDTe+f","bt.LeafTask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LeafTask=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btclass("LeafTask")],e)}(t("./bt.Task").Task);o.LeafTask=c,cc._RF.pop()},{"./bt.Task":"bt.Task","bt.editor":"bt.editor"}],"bt.LoadScene":[function(t,e,o){"use strict";cc._RF.push(e,"98e07eBu3hMiIqSfV1qdWxk","bt.LoadScene");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LoadScene=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._launched=!1,e}return i(e,t),e.prototype.onEnter=function(){var t=this;return this._launched=!1,cc.director.loadScene(this.sceneName,function(){t.log.VERBOSE&&t.log.d("launched < "+t.sceneName+" >"),t._launched=!0,t.onSceneLaunched&&t.onSceneLaunched()}),!0},e.prototype.onUpdate=function(){return this._launched?c.Status.SUCCESS:c.Status.RUNNING},r([a.btprop({type:String,required:!0,tooltip:"Name of cc.Scene to load."})],e.prototype,"sceneName",void 0),r([a.btclass("LoadScene","Action/Scene",{description:"cc.director.loadScene()"})],e)}(t("../../../../base/bt.ActionTask").ActionTask);o.LoadScene=s,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../../base/bt.ActionTask":"bt.ActionTask","bt.editor":"bt.editor"}],"bt.Logger":[function(t,e,o){"use strict";cc._RF.push(e,"cc557DuLsVHEZHTt9QX2Nsu","bt.Logger");var n=this&&this.__spreadArrays||function(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;var n=Array(t),i=0;for(e=0;e<o;e++)for(var r=arguments[e],a=0,c=r.length;a<c;a++,i++)n[i]=r[a];return n};Object.defineProperty(o,"__esModule",{value:!0}),o.Logger=void 0;var i=t("bt.editor"),r=function(){function t(e){var o=this;void 0===e&&(e=""),this.VERBOSE=t.VERBOSE,this.treetag="",this.d=t._("d",this),this.i=t._("i",this),this.w=t._("w",this),this.e=t._("e",this),this.v=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.VERBOSE&&o.d.apply(o,t)},this.tag=e}return t.VERBOSE=!1,t.TAG="[ "+i.APPNAME+" ]",t.d=console.log,t.i=console.info,t.w=console.warn,t.e=console.error,t._=function(e,o){return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];o.treetag?t[e].apply(t,n([t.TAG+" [ "+o.treetag+"."+o.tag+" ]"],i)):t[e].apply(t,n([t.TAG+" [ "+o.tag+" ]"],i))}},t}();o.Logger=r,cc._RF.pop()},{"bt.editor":"bt.editor"}],"bt.OnCCEvent":[function(t,e,o){"use strict";cc._RF.push(e,"937dcQEqNRD1rGGW15IChL1","bt.OnCCEvent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.OnCCEvent=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onLoad=function(){this.target&&this.type&&this.target.on(this.type,this._onCCEvent,this)},e.prototype.onDestroy=function(){t.prototype.onDestroy.call(this),this.target&&this.type&&(this.target.isValid?this.target.off(this.type,this._onCCEvent,this):this.log.w("cc.Node is invalid when removing listener < "+this.type+" >")),this.target=void 0},e.prototype._onCCEvent=function(t,e,o){this.fire(this.type,t,e,o)},e.prototype.onEvent=function(e,o,n,i){return!(this.onCCEvent&&!this.onCCEvent(o,n,i))&&t.prototype.onEvent.call(this,e,o,n,i)},r([a.btprop({type:cc.Node,required:"warning",tooltip:"Who trigger the event?"})],e.prototype,"target",void 0),r([a.btclass("OnCCEvent","Condition/UI",{description:"Catch a cc.Node event."})],e)}(t("../../../../base/task/condition/event/bt.OnEvent").OnEvent);o.OnCCEvent=c,cc._RF.pop()},{"../../../../base/task/condition/event/bt.OnEvent":"bt.OnEvent","bt.editor":"bt.editor"}],"bt.OnCheck":[function(t,e,o){"use strict";cc._RF.push(e,"34fdbEa/bxGsargOXCHAOqt","bt.OnCheck");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.OnCheck=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onToggle=function(t,e){return!!t.isChecked&&(!this.onCheck||this.onCheck(t,e))},r([a.btclass("OnCheck","Condition/UI",{description:"Catch a cc.Toggle event."})],e)}(t("./bt.OnToggle").OnToggle);o.OnCheck=c,cc._RF.pop()},{"./bt.OnToggle":"bt.OnToggle","bt.editor":"bt.editor"}],"bt.OnClick":[function(t,e,o){"use strict";cc._RF.push(e,"4a9d82tWxpD1qTTZu6zcNvv","bt.OnClick");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.OnClick=void 0;var a=t("bt.editor"),c=t("../../../../base/task/condition/event/bt.OnEvent"),s=t("../../../bt.BehaviorTreeEventType"),_=t("../../../variable/bt.SharedCCEvent"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.BehaviorTreeEventType.CLICK,e.stopPropagation=!0,e.catchPolicy=c.EventCatchPolicyType.BEHAVIOR_RUNNING,e}return i(e,t),e.prototype.onCCEvent=function(t,e){return!(this.onClick&&!this.onClick(t,e)||(t&&t instanceof cc.Event&&(this.sharedCCEvent&&(this.sharedCCEvent.value=t),t.bubbles&&this.stopPropagation&&t.stopPropagation()),0))},e.prototype.onEventExpired=function(){this.sharedCCEvent&&this.sharedCCEvent.reset()},r([a.btprop({visible:!1})],e.prototype,"type",void 0),r([a.btprop({type:_.SharedCCEvent,tooltip:"Share cc.Event with other tasks."})],e.prototype,"sharedCCEvent",void 0),r([a.btclass("OnClick","Condition/UI",{description:"Catch a cc.Button event."})],e)}(t("./bt.OnCCEvent").OnCCEvent);o.OnClick=l,cc._RF.pop()},{"../../../../base/task/condition/event/bt.OnEvent":"bt.OnEvent","../../../bt.BehaviorTreeEventType":"bt.BehaviorTreeEventType","../../../variable/bt.SharedCCEvent":"bt.SharedCCEvent","./bt.OnCCEvent":"bt.OnCCEvent","bt.editor":"bt.editor"}],"bt.OnCollisionEnter":[function(t,e,o){"use strict";cc._RF.push(e,"7f806ZBYGpOMrbQ3j3Pvzs1","bt.OnCollisionEnter");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.OnCollisionEnter=void 0;var a=t("bt.editor"),c=t("../../../../base/task/condition/event/bt.OnEvent"),s=t("../../../bt.BehaviorTreeEventType"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.BehaviorTreeEventType.COLLISION_ENTER,e}return i(e,t),e.prototype.onEvent=function(e){return(!this.onCollisionEnter||!1!==this.onCollisionEnter())&&t.prototype.onEvent.call(this,e)},r([a.btprop({visible:!1})],e.prototype,"type",void 0),r([a.btclass("OnCollisionEnter","Condition/Collision",{description:'Catch "collision-enter" event.'})],e)}(c.OnEvent);o.OnCollisionEnter=_,cc._RF.pop()},{"../../../../base/task/condition/event/bt.OnEvent":"bt.OnEvent","../../../bt.BehaviorTreeEventType":"bt.BehaviorTreeEventType","bt.editor":"bt.editor"}],"bt.OnCollisionExit":[function(t,e,o){"use strict";cc._RF.push(e,"ab621xE9CBCl6v+ADRTY7j1","bt.OnCollisionExit");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.OnCollisionExit=void 0;var a=t("bt.editor"),c=t("../../../../base/task/condition/event/bt.OnEvent"),s=t("../../../bt.BehaviorTreeEventType"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.BehaviorTreeEventType.COLLISION_EXIT,e}return i(e,t),e.prototype.onEvent=function(e){return(!this.onCollisionExit||!1!==this.onCollisionExit())&&t.prototype.onEvent.call(this,e)},r([a.btprop({visible:!1})],e.prototype,"type",void 0),r([a.btclass("OnCollisionExit","Condition/Collision",{description:'Catch "collision-exit" event.'})],e)}(c.OnEvent);o.OnCollisionExit=_,cc._RF.pop()},{"../../../../base/task/condition/event/bt.OnEvent":"bt.OnEvent","../../../bt.BehaviorTreeEventType":"bt.BehaviorTreeEventType","bt.editor":"bt.editor"}],"bt.OnCollisionStay":[function(t,e,o){"use strict";cc._RF.push(e,"4b41cDU9KZKlqZbyXAgirxS","bt.OnCollisionStay");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.OnCollisionStay=void 0;var a=t("bt.editor"),c=t("../../../../base/task/condition/event/bt.OnEvent"),s=t("../../../bt.BehaviorTreeEventType"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.BehaviorTreeEventType.COLLISION_STAY,e}return i(e,t),e.prototype.onEvent=function(e){return(!this.onCollisionStay||!1!==this.onCollisionStay())&&t.prototype.onEvent.call(this,e)},r([a.btprop({visible:!1})],e.prototype,"type",void 0),r([a.btclass("OnCollisionStay","Condition/Collision",{description:'Catch "collision-stay" event.'})],e)}(c.OnEvent);o.OnCollisionStay=_,cc._RF.pop()},{"../../../../base/task/condition/event/bt.OnEvent":"bt.OnEvent","../../../bt.BehaviorTreeEventType":"bt.BehaviorTreeEventType","bt.editor":"bt.editor"}],"bt.OnEvent":[function(t,e,o){"use strict";cc._RF.push(e,"0e220tlSoNKFrPCIMFh9QBm","bt.OnEvent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.OnEvent=o.EventExpiryPolicyType=o.EventCatchPolicyType=void 0;var a,c,s=t("bt.editor"),_=t("../../../../api/bt.API"),l=t("../../../bt.ConditionTask");(function(t){t[t.ANYTIME=0]="ANYTIME",t[t.BEHAVIOR_IDLE=1]="BEHAVIOR_IDLE",t[t.BEHAVIOR_RUNNING=2]="BEHAVIOR_RUNNING"})(a=o.EventCatchPolicyType||(o.EventCatchPolicyType={})),function(t){t[t.RESERVE=0]="RESERVE",t[t.PERIOD=1]="PERIOD",t[t.TASK_COMPLETE=2]="TASK_COMPLETE",t[t.BEHAVIOR_COMPLETE=3]="BEHAVIOR_COMPLETE"}(c=o.EventExpiryPolicyType||(o.EventExpiryPolicyType={}));var p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stopPropagation=!1,e.catchPolicy=a.ANYTIME,e.expiryTime=0,e._expiryPolicy=c.BEHAVIOR_COMPLETE,e._received=!1,e}return i(e,t),Object.defineProperty(e.prototype,"expiryPolicy",{get:function(){return this._expiryPolicy},set:function(t){this.setExpiryPolicy(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"received",{get:function(){return this._received},enumerable:!1,configurable:!0}),e.prototype.onUpdate=function(){return this._received?_.Status.SUCCESS:_.Status.FAILURE},e.prototype.onExit=function(){this._received&&this.expiryPolicy===c.TASK_COMPLETE&&(this.log.VERBOSE&&this.log.d("expired < "+this.type+" > on task complete"),this._expire())},e.prototype.onDestroy=function(){this._received&&(this.expiryPolicy===c.PERIOD&&void 0!==this._timerId&&(window.clearTimeout(this._timerId),this._timerId=void 0),this._expire())},e.prototype.onBehaviorComplete=function(){this._received&&this.expiryPolicy===c.BEHAVIOR_COMPLETE&&(this.log.VERBOSE&&this.log.d("expired < "+this.type+" > on behavior complete"),this._expire())},e.prototype.onEventFilter=function(t){if(this.type===t)switch(this.catchPolicy){case a.ANYTIME:return!0;case a.BEHAVIOR_IDLE:return!this.tree.behaviorRunning;case a.BEHAVIOR_RUNNING:return this.tree.behaviorRunning}return!1},e.prototype.onEvent=function(t){return this.log.VERBOSE&&(this.log.d("< "+t+" >"),this.stopPropagation&&this.log.d("stop propagation")),this._received=!0,this.expiryPolicy===c.PERIOD&&(void 0!==this._timerId&&(window.clearTimeout(this._timerId),this._timerId=void 0),this._timerId=window.setTimeout(this._onEventTimeout.bind(this),1e3*this.expiryTime)),this.stopPropagation},e.prototype._onEventTimeout=function(){this.log.VERBOSE&&this.log.d("expired < "+this.type+" > "+this.expiryTime+" seconds"),this._timerId=void 0,this._expire()},e.prototype.expire=function(){this._received&&(this.log.VERBOSE&&this.log.d("expired < "+this.type+" >"),this.expiryPolicy===c.PERIOD&&void 0!==this._timerId&&(window.clearTimeout(this._timerId),this._timerId=void 0),this._expire())},e.prototype._expire=function(){this._received=!1,this.onEventExpired&&this.onEventExpired()},e.prototype.setExpiryPolicy=function(t){this._expiryPolicy!==t&&(this._expiryPolicy===c.PERIOD&&void 0!==this._timerId&&(window.clearTimeout(this._timerId),this._timerId=void 0),this._expiryPolicy=t,this._expiryPolicy===c.PERIOD&&this._received&&(this._timerId=window.setTimeout(this._onEventTimeout.bind(this),1e3*this.expiryTime)))},r([s.btprop({type:String,required:!0,tooltip:"Event type."})],e.prototype,"type",void 0),r([s.btprop({type:Boolean,tooltip:"Stop event propagation."})],e.prototype,"stopPropagation",void 0),r([s.btprop({type:s.btenum(a),tooltip:"Event catch policy."})],e.prototype,"catchPolicy",void 0),r([s.btprop({type:s.btenum(c),tooltip:"Event expiry policy."})],e.prototype,"expiryPolicy",null),r([s.btprop({type:Number,min:0,required:!0,validator:function(t){return t<1/0},tooltip:"Expiry time in seconds. Take effect only when expiry policy is PERIOD."})],e.prototype,"expiryTime",void 0),r([s.btclass("OnEvent","Condition/Event",{description:"Standard behaviortree event."})],e)}(l.ConditionTask);o.OnEvent=p,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ConditionTask":"bt.ConditionTask","bt.editor":"bt.editor"}],"bt.OnToggle":[function(t,e,o){"use strict";cc._RF.push(e,"5667ekve2hMhq35UiH/gJ87","bt.OnToggle");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.OnToggle=void 0;var a=t("bt.editor"),c=t("../../../../base/variable/bt.SharedBoolean"),s=t("../../../bt.BehaviorTreeEventType"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=s.BehaviorTreeEventType.TOGGLE,e.stopPropagation=!0,e}return i(e,t),e.prototype.onCCEvent=function(t,e){return this.checkState&&(this.checkState.value=t.isChecked),!this.onToggle||this.onToggle(t,e)},e.prototype.onEventExpired=function(){this.checkState&&this.checkState.reset()},r([a.btprop({visible:!1})],e.prototype,"type",void 0),r([a.btprop({type:c.SharedBoolean,tooltip:"Share check state with other tasks."})],e.prototype,"checkState",void 0),r([a.btclass("OnToggle","Condition/UI",{description:"Catch a cc.Toggle event."})],e)}(t("./bt.OnCCEvent").OnCCEvent);o.OnToggle=_,cc._RF.pop()},{"../../../../base/variable/bt.SharedBoolean":"bt.SharedBoolean","../../../bt.BehaviorTreeEventType":"bt.BehaviorTreeEventType","./bt.OnCCEvent":"bt.OnCCEvent","bt.editor":"bt.editor"}],"bt.OnUnCheck":[function(t,e,o){"use strict";cc._RF.push(e,"aa7e22YuipJKoO1WRfh3rb6","bt.OnUnCheck");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.OnUnCheck=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onToggle=function(t,e){return!t.isChecked&&(!this.onUnCheck||this.onUnCheck(t,e))},r([a.btclass("OnUnCheck","Condition/UI",{description:"Catch a cc.Toggle event."})],e)}(t("./bt.OnToggle").OnToggle);o.OnUnCheck=c,cc._RF.pop()},{"./bt.OnToggle":"bt.OnToggle","bt.editor":"bt.editor"}],"bt.ParallelComplete":[function(t,e,o){"use strict";cc._RF.push(e,"c8dc09w01BL5Ig6iOU+a20K","bt.ParallelComplete");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ParallelComplete=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.Const"),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onChildExecuted=function(t,e){return e===c.Status.RUNNING?t+1:s.Const.INVALID_INDEX},r([a.btclass("ParallelComplete",{description:"Run all child tasks in parallel."})],e)}(t("./bt.ParallelCompositeTask").ParallelCompositeTask);o.ParallelComplete=_,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.Const":"bt.Const","./bt.ParallelCompositeTask":"bt.ParallelCompositeTask","bt.editor":"bt.editor"}],"bt.ParallelCompositeTask":[function(t,e,o){"use strict";cc._RF.push(e,"62393JoAwZL4pF4JFcU0lLq","bt.ParallelCompositeTask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ParallelCompositeTask=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onChildExecuted=function(t){return t+1},e.prototype.onExecuteChildren=function(t){var e,o=c.Status.SUCCESS;if(t=0,this.status===c.Status.RUNNING)do{(e=this.at(t)).status===c.Status.RUNNING?(t=this.onChildExecuted(t,e.execute()))<0?o=c.Status.FAILURE:e.status===c.Status.RUNNING&&(o=c.Status.RUNNING):++t}while(t>=0&&t<this.childCount);else do{e=this.at(t),(t=this.onChildExecuted(t,e.execute()))<0?o=c.Status.FAILURE:e.status===c.Status.RUNNING&&(o=c.Status.RUNNING)}while(t>=0&&t<this.childCount);return o},e.prototype.onTerminateChildren=function(){for(var t=0;t<this.childCount;++t)this.at(t).terminate()},r([a.btclass("ParallelCompositeTask",{visible:!1})],e)}(t("../../bt.CompositeTask").CompositeTask);o.ParallelCompositeTask=s,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.CompositeTask":"bt.CompositeTask","bt.editor":"bt.editor"}],"bt.ParallelSelector":[function(t,e,o){"use strict";cc._RF.push(e,"195562dD4ZOTbibUOYnQwe4","bt.ParallelSelector");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ParallelSelector=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.Const"),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onChildExecuted=function(t,e){return e!==c.Status.SUCCESS?t+1:s.Const.INVALID_INDEX},r([a.btclass("ParallelSelector",{description:"Run all child tasks in parallel."})],e)}(t("./bt.ParallelCompositeTask").ParallelCompositeTask);o.ParallelSelector=_,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.Const":"bt.Const","./bt.ParallelCompositeTask":"bt.ParallelCompositeTask","bt.editor":"bt.editor"}],"bt.Parallel":[function(t,e,o){"use strict";cc._RF.push(e,"fd84f4Xv4dGB5z0qN2o9h1Q","bt.Parallel");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Parallel=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.Const"),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onChildExecuted=function(t,e){return e!==c.Status.FAILURE?t+1:s.Const.INVALID_INDEX},r([a.btclass("Parallel",{description:"Run all child tasks in parallel."})],e)}(t("./bt.ParallelCompositeTask").ParallelCompositeTask);o.Parallel=_,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.Const":"bt.Const","./bt.ParallelCompositeTask":"bt.ParallelCompositeTask","bt.editor":"bt.editor"}],"bt.PauseGame":[function(t,e,o){"use strict";cc._RF.push(e,"529ed27x49LFanmeREwJWBs","bt.PauseGame");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PauseGame=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onUpdate=function(){return this.log.VERBOSE&&this.log.d("pause game"),cc.director.pause(),c.Status.SUCCESS},r([a.btclass("PauseGame","Action/Game",{description:"cc.director.pause()"})],e)}(t("../../../bt.ActionTask").ActionTask);o.PauseGame=s,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","bt.editor":"bt.editor"}],"bt.Period":[function(t,e,o){"use strict";cc._RF.push(e,"fc23bz8oDZNr6uHZoOFSAQT","bt.Period");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Period=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.DecoratorTask"),_=t("../../variable/bt.SharedNumber"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.periodTimeDft=0,e._time=0,e}return i(e,t),e.prototype.onEnter=function(){return this._time=this.periodTime?this.periodTime.value:this.periodTimeDft,this.log.VERBOSE&&this.log.d("< "+this._time+" > seconds"),0!==this._time},e.prototype.onDecorate=function(){return this._time>0&&this._time<1/0?(this._time-=this.tree.dt,this._time<=0?c.Status.SUCCESS:c.Status.RUNNING):c.Status.RUNNING},r([a.btprop({type:_.SharedNumber,tooltip:"Dynamic time in seconds.\n0 indicates no execution.\nNegative and Infinity indicates infinite execution."})],e.prototype,"periodTime",void 0),r([a.btprop({type:Number,inputtype:"float",required:"warning",validator:function(t){return 0!==t},tooltip:"Default time in seconds.\n0 indicates no execution.\nNegative and Infinity indicates infinite execution."})],e.prototype,"periodTimeDft",void 0),r([a.btclass("Period",{description:"Execute child task for a time period."})],e)}(s.DecoratorTask);o.Period=l,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.DecoratorTask":"bt.DecoratorTask","../../variable/bt.SharedNumber":"bt.SharedNumber","bt.editor":"bt.editor"}],"bt.PreConditions":[function(t,e,o){"use strict";cc._RF.push(e,"7b8b99dNLxLO6NYMg8+vUQf","bt.PreConditions");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PreConditions=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.Const"),_=t("../../bt.IntercepterTask"),l=t("../../bt.ConditionTask"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.op=s.BinaryOperator.AND,e.pass=s.ConditionStatus.SUCCESS,e}return i(e,t),e.prototype.onIntercept=function(){if(!this.targets||0===this.targets.length)return c.Status.FAILURE;var t=this.pass===s.ConditionStatus.SUCCESS?c.Status.SUCCESS:c.Status.FAILURE;if(this.op===s.BinaryOperator.AND){for(var e=0,o=this.targets.length;e<o;++e)if((n=this.targets[e])&&n.evaluate()!==t)return this.log.VERBOSE&&this.log.d("failed at [ "+e+" ] with task < "+n.log.tag+" >"),c.Status.SUCCESS;return c.Status.FAILURE}for(e=0,o=this.targets.length;e<o;++e){var n;if((n=this.targets[e])&&n.evaluate()===t)return this.log.VERBOSE&&this.log.d("succeeded at [ "+e+" ] with task < "+n.log.tag+" >"),c.Status.FAILURE}return c.Status.SUCCESS},r([a.btprop({type:[l.ConditionTask],required:"warning",tooltip:"If ConditionTask list not provided, the pre-condition test will always pass."})],e.prototype,"targets",void 0),r([a.btprop({type:a.btenum(s.BinaryOperator),tooltip:"Binary Operator"})],e.prototype,"op",void 0),r([a.btprop({type:a.btenum(s.ConditionStatus),tooltip:"Pass Condition"})],e.prototype,"pass",void 0),r([a.btclass("PreConditions",{description:"Block child task if condition test fails."})],e)}(_.IntercepterTask);o.PreConditions=p,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.ConditionTask":"bt.ConditionTask","../../bt.Const":"bt.Const","../../bt.IntercepterTask":"bt.IntercepterTask","bt.editor":"bt.editor"}],"bt.PreCondition":[function(t,e,o){"use strict";cc._RF.push(e,"f801bwYVt1Hz68xoc8E4VD8","bt.PreCondition");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PreCondition=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.Const"),_=t("../../bt.IntercepterTask"),l=t("../../bt.ConditionTask"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pass=s.ConditionStatus.SUCCESS,e}return i(e,t),e.prototype.onIntercept=function(){if(!this.target)return c.Status.FAILURE;var t=this.pass===s.ConditionStatus.SUCCESS?c.Status.SUCCESS:c.Status.FAILURE;return this.target.evaluate()===t?c.Status.FAILURE:c.Status.SUCCESS},r([a.btprop({type:l.ConditionTask,required:"warning",tooltip:"If ConditionTask not provided, the pre-condition test will always pass."})],e.prototype,"target",void 0),r([a.btprop({type:a.btenum(s.ConditionStatus),tooltip:"Pass Condition"})],e.prototype,"pass",void 0),r([a.btclass("PreCondition",{description:"Block child task if condtion test fails."})],e)}(_.IntercepterTask);o.PreCondition=p,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.ConditionTask":"bt.ConditionTask","../../bt.Const":"bt.Const","../../bt.IntercepterTask":"bt.IntercepterTask","bt.editor":"bt.editor"}],"bt.PriorityCompositeTask":[function(t,e,o){"use strict";cc._RF.push(e,"38bdamidrVH1JEDi+ySi24l","bt.PriorityCompositeTask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PriorityCompositeTask=void 0;var a=t("bt.editor"),c=t("../../bt.Const"),s=t("../../bt.TaskEventType"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._weights=0,e}return i(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.childCount;++t){var e=this.at(t);this._weights+=e.weight,e.on(s.TaskEventType.WEIGHT,this.onChildWeightChange,this)}},e.prototype.getInitialChildIndex=function(){return this.getRandomIndex()},e.prototype.onChildWeightChange=function(t,e,o){this._weights-=t.weight,this._weights+=o},e.prototype.getRandomIndex=function(){for(var t=Math.random()*this._weights,e=0,o=0;o<this.childCount;++o){var n=this.at(o);if(n.weight>0&&(e+=n.weight)>=t)return o}return c.Const.INVALID_INDEX},r([a.btclass("PriorityCompositeTask",{visible:!1})],e)}(t("../../bt.CompositeTask").CompositeTask);o.PriorityCompositeTask=_,cc._RF.pop()},{"../../bt.CompositeTask":"bt.CompositeTask","../../bt.Const":"bt.Const","../../bt.TaskEventType":"bt.TaskEventType","bt.editor":"bt.editor"}],"bt.PriorityTicker":[function(t,e,o){"use strict";cc._RF.push(e,"afc6fxybhtM3rk07IxmxM7p","bt.PriorityTicker");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.PriorityTicker=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btclass("PriorityTicker",{description:'Execute only one child task in a tick. The task is randomly selected based on its "weight".'})],e)}(t("./bt.PriorityCompositeTask").PriorityCompositeTask);o.PriorityTicker=c,cc._RF.pop()},{"./bt.PriorityCompositeTask":"bt.PriorityCompositeTask","bt.editor":"bt.editor"}],"bt.RandomCompositeTask":[function(t,e,o){"use strict";cc._RF.push(e,"413886fDZ9Mg6mt1iOI1dXe","bt.RandomCompositeTask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RandomCompositeTask=void 0;var a=t("bt.editor"),c=t("../../bt.Const"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._childIndies=[],e._childIndiesIndex=-1,e}return i(e,t),e.prototype.onLoad=function(){for(var t=0;t<this.childCount;++t)this._childIndies.push(t)},e.prototype.getInitialChildIndex=function(){return this.generateRandomChildIndies(),this._childIndies[this._childIndiesIndex]},e.prototype.getNextChildIndex=function(){return++this._childIndiesIndex<this.childCount?this._childIndies[this._childIndiesIndex]:c.Const.INVALID_INDEX},e.prototype.generateRandomChildIndies=function(){for(var t,e=0;e<this.childCount;++e){var o=Math.floor(Math.random()*this.childCount);o!==e&&(t=[this._childIndies[o],this._childIndies[e]],this._childIndies[e]=t[0],this._childIndies[o]=t[1])}this._childIndiesIndex=0},r([a.btclass("RandomCompositeTask",{visible:!1})],e)}(t("../../bt.CompositeTask").CompositeTask);o.RandomCompositeTask=s,cc._RF.pop()},{"../../bt.CompositeTask":"bt.CompositeTask","../../bt.Const":"bt.Const","bt.editor":"bt.editor"}],"bt.RandomSelector":[function(t,e,o){"use strict";cc._RF.push(e,"5323euhjTRLzIzyB5aoCyUj","bt.RandomSelector");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RandomSelector=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.Const"),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onChildExecuted=function(t,e){return e===c.Status.FAILURE?this.getNextChildIndex():s.Const.INVALID_INDEX},r([a.btclass("RandomSelector",{description:"Execute child tasks in a random order."})],e)}(t("./bt.RandomCompositeTask").RandomCompositeTask);o.RandomSelector=_,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.Const":"bt.Const","./bt.RandomCompositeTask":"bt.RandomCompositeTask","bt.editor":"bt.editor"}],"bt.RandomSequence":[function(t,e,o){"use strict";cc._RF.push(e,"314c31kbDxDVLyU5oFLTt37","bt.RandomSequence");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RandomSequence=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.Const"),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onChildExecuted=function(t,e){return e===c.Status.SUCCESS?this.getNextChildIndex():s.Const.INVALID_INDEX},r([a.btclass("RandomSequence",{description:"Execute child tasks in a random order."})],e)}(t("./bt.RandomCompositeTask").RandomCompositeTask);o.RandomSequence=_,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.Const":"bt.Const","./bt.RandomCompositeTask":"bt.RandomCompositeTask","bt.editor":"bt.editor"}],"bt.RandomTicker":[function(t,e,o){"use strict";cc._RF.push(e,"acae0DXx5BOfb+DLbuOJe6z","bt.RandomTicker");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RandomTicker=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.getInitialChildIndex=function(){return Math.floor(Math.random()*this.childCount)},r([a.btclass("RandomTicker",{description:"Execute only one child task in a tick. The task is randomly selected."})],e)}(t("../../bt.CompositeTask").CompositeTask);o.RandomTicker=c,cc._RF.pop()},{"../../bt.CompositeTask":"bt.CompositeTask","bt.editor":"bt.editor"}],"bt.Repeater":[function(t,e,o){"use strict";cc._RF.push(e,"abf039NbNBFLZwN+CeO96Px","bt.Repeater");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Repeater=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.DecoratorTask"),_=t("../../variable/bt.SharedNumber"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.countDft=-1,e._count=0,e}return i(e,t),e.prototype.onEnter=function(){return this._count=this.count?this.count.value:this.countDft,this.log.VERBOSE&&this.log.d("< "+this._count+" > times"),0!==this._count},e.prototype.onDecorate=function(){return this._count>0&&this._count<1/0&&0==--this._count?c.Status.SUCCESS:c.Status.RUNNING},r([a.btprop({type:_.SharedNumber,tooltip:"Dynamic count.\n0 indicates no execution.\nNegative and Infinity indicates infinite repeat."})],e.prototype,"count",void 0),r([a.btprop({type:Number,inputtype:"int",step:1,required:"warning",validator:function(t){return 0!==t},tooltip:"Default count.\n0 indicates no execution.\nNegative and Infinity indicates infinite repeat."})],e.prototype,"countDft",void 0),r([a.btclass("Repeater",{description:"Repeatedly execute child task for a number of times."})],e)}(s.DecoratorTask);o.Repeater=l,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.DecoratorTask":"bt.DecoratorTask","../../variable/bt.SharedNumber":"bt.SharedNumber","bt.editor":"bt.editor"}],"bt.RequestInterrupt":[function(t,e,o){"use strict";cc._RF.push(e,"7407a4Mrl1MUrPSAwXqjaXt","bt.RequestInterrupt");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RequestInterrupt=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.ActionTask"),_=t("../../intercepter/bt.Interrupt"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onUpdate=function(){return this.target.req(),c.Status.SUCCESS},r([a.btprop({type:_.Interrupt,required:!0})],e.prototype,"target",void 0),r([a.btclass("RequestInterrupt","Action/Trigger",{description:"Request interrupt."})],e)}(s.ActionTask);o.RequestInterrupt=l,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","../../intercepter/bt.Interrupt":"bt.Interrupt","bt.editor":"bt.editor"}],"bt.RestartBehavior":[function(t,e,o){"use strict";cc._RF.push(e,"db0f2yHkQlP5bixIDYddG63","bt.RestartBehavior");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RestartBehavior=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onUpdate=function(){return this.target.behaviorRunning?(this.log.VERBOSE&&this.log.d("restart < "+this.target.log.tag+" >"),this.target.terminate(),this.target.restartInNextUpdate=!0):this.target.tickType===c.TickType.MANUAL?(this.log.VERBOSE&&this.log.d("start < "+this.target.log.tag+" >"),this.target.tick()):this.target.restartWhenComplete||(this.log.VERBOSE&&this.log.d("restart < "+this.target.log.tag+" >"),this.target.restartInNextUpdate=!0),c.Status.SUCCESS},r([a.btprop({type:"bt-behaviortree",required:!0})],e.prototype,"target",void 0),r([a.btclass("RestartBehavior","Action/Behavior",{description:"Restart a behaviortree."})],e)}(t("../../../bt.ActionTask").ActionTask);o.RestartBehavior=s,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","bt.editor":"bt.editor"}],"bt.ResumeGame":[function(t,e,o){"use strict";cc._RF.push(e,"0f2e7XcVFVLiY++3gy2UkiU","bt.ResumeGame");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.ResumeGame=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onUpdate=function(){return this.log.VERBOSE&&this.log.d("resume game"),cc.director.resume(),c.Status.SUCCESS},r([a.btclass("ResumeGame","Action/Game",{description:"cc.director.resume()"})],e)}(t("../../../bt.ActionTask").ActionTask);o.ResumeGame=s,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","bt.editor":"bt.editor"}],"bt.RevalCompositeTask":[function(t,e,o){"use strict";cc._RF.push(e,"488ebyUFv1MAYRBHb6Hnirs","bt.RevalCompositeTask");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RevalCompositeTask=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onUpdate=function(){return this.onExecuteChildren(0)},e.prototype.onTerminateChildren=function(){for(var t=0;t<this.childCount;++t)this.at(t).terminate()},r([a.btclass("RevalCompositeTask",{visible:!1})],e)}(t("../../bt.CompositeTask").CompositeTask);o.RevalCompositeTask=c,cc._RF.pop()},{"../../bt.CompositeTask":"bt.CompositeTask","bt.editor":"bt.editor"}],"bt.RevalSelector":[function(t,e,o){"use strict";cc._RF.push(e,"4aea8ZzQPBHcLWFzp20pu/d","bt.RevalSelector");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RevalSelector=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.Const"),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onChildExecuted=function(t,e){return e===c.Status.FAILURE?t+1:s.Const.INVALID_INDEX},r([a.btclass("RevalSelector",{description:"Re-execute child tasks in sequence every tick."})],e)}(t("./bt.RevalCompositeTask").RevalCompositeTask);o.RevalSelector=_,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.Const":"bt.Const","./bt.RevalCompositeTask":"bt.RevalCompositeTask","bt.editor":"bt.editor"}],"bt.RevalSequence":[function(t,e,o){"use strict";cc._RF.push(e,"1686aF610tJmoF+6I7c6OKz","bt.RevalSequence");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.RevalSequence=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.Const"),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onChildExecuted=function(t,e){return e===c.Status.SUCCESS?t+1:s.Const.INVALID_INDEX},r([a.btclass("RevalSequence",{description:"Re-execute child tasks in sequence every tick."})],e)}(t("./bt.RevalCompositeTask").RevalCompositeTask);o.RevalSequence=_,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.Const":"bt.Const","./bt.RevalCompositeTask":"bt.RevalCompositeTask","bt.editor":"bt.editor"}],"bt.Selector":[function(t,e,o){"use strict";cc._RF.push(e,"038d61sR8FCSoYDpaVG9sUj","bt.Selector");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Selector=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.Const"),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onChildExecuted=function(t,e){return e===c.Status.FAILURE?t+1:s.Const.INVALID_INDEX},r([a.btclass("Selector",{description:"Execute child tasks in sequence."})],e)}(t("../../bt.CompositeTask").CompositeTask);o.Selector=_,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.CompositeTask":"bt.CompositeTask","../../bt.Const":"bt.Const","bt.editor":"bt.editor"}],"bt.SequenceTicker":[function(t,e,o){"use strict";cc._RF.push(e,"e1d6dS0ZKRHDKWwmWvMp4qT","bt.SequenceTicker");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SequenceTicker=void 0;var a=t("bt.editor"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._nextChildIndex=0,e}return i(e,t),e.prototype.getInitialChildIndex=function(){var t=this._nextChildIndex;return++this._nextChildIndex>=this.childCount&&(this._nextChildIndex=0),t},r([a.btclass("SequenceTicker",{description:"Execute only one child task in a tick.\nThe tasks are executed in rotation."})],e)}(t("../../bt.CompositeTask").CompositeTask);o.SequenceTicker=c,cc._RF.pop()},{"../../bt.CompositeTask":"bt.CompositeTask","bt.editor":"bt.editor"}],"bt.Sequence":[function(t,e,o){"use strict";cc._RF.push(e,"01485Bi6fhA/YgoP1vdiRqy","bt.Sequence");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Sequence=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.Const"),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onChildExecuted=function(t,e){return e===c.Status.SUCCESS?t+1:s.Const.INVALID_INDEX},r([a.btclass("Sequence",{description:"Execute child tasks in sequence."})],e)}(t("../../bt.CompositeTask").CompositeTask);o.Sequence=_,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.CompositeTask":"bt.CompositeTask","../../bt.Const":"bt.Const","bt.editor":"bt.editor"}],"bt.SetActive":[function(t,e,o){"use strict";cc._RF.push(e,"7cfeb29c7lBpKg7cZK/aQBW","bt.SetActive");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SetActive=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../../base/bt.Const"),_=t("../../../../base/bt.ActionTask"),l=t("../../../variable/bt.SharedCCNode"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rhs=s.BooleanType.TRUE,e}return i(e,t),e.prototype.onUpdate=function(){if(!this.sharedNode.value)return c.Status.FAILURE;switch(this.rhs){case s.BooleanType.TRUE:this.sharedNode.value.active||(this.log.VERBOSE&&this.log.d("active < "+this.sharedNode.value.name+" >"),this.sharedNode.value.active=!1);break;case s.BooleanType.FALSE:this.sharedNode.value.active&&(this.log.VERBOSE&&this.log.d("inactive < "+this.sharedNode.value.name+" >"),this.sharedNode.value.active=!1);break;case s.BooleanType.TOGGLE:this.log.VERBOSE&&(this.sharedNode.value.active?this.log.d("inactive < "+this.sharedNode.value.name+" >"):this.log.d("active < "+this.sharedNode.value.name+" >")),this.sharedNode.value.active=!this.sharedNode.value.active}return c.Status.SUCCESS},r([a.btprop({type:l.SharedCCNode,required:!0})],e.prototype,"sharedNode",void 0),r([a.btprop({type:a.btenum(s.BooleanType)})],e.prototype,"rhs",void 0),r([a.btclass("SetActive","Action/Scene",{description:"cc.Node.active"})],e)}(_.ActionTask);o.SetActive=p,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../../base/bt.ActionTask":"bt.ActionTask","../../../../base/bt.Const":"bt.Const","../../../variable/bt.SharedCCNode":"bt.SharedCCNode","bt.editor":"bt.editor"}],"bt.SetBool":[function(t,e,o){"use strict";cc._RF.push(e,"f69daFrNAtMYqR5/PsJUl8S","bt.SetBool");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SetBool=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.Const"),_=t("../../../bt.ActionTask"),l=t("../../../variable/bt.SharedBoolean"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rhsDft=s.BooleanType.TRUE,e.op=s.BooleanComputeOperator["="],e}return i(e,t),e.prototype.onUpdate=function(){if(this.rhs){switch(this.op){case s.BooleanComputeOperator["="]:this.lhs.value=!!this.rhs.value;break;case s.BooleanComputeOperator["!="]:this.lhs.value=!this.rhs.value;break;default:return c.Status.FAILURE}this.log.VERBOSE&&this.log.d("< lhs "+this.lhs.value+" > "+s.BooleanComputeOperator[this.op]+" < rhs "+this.rhs.value+" >")}else{switch(this.rhsDft){case s.BooleanType.TRUE:this.lhs.value=!0;break;case s.BooleanType.FALSE:this.lhs.value=!1;break;case s.BooleanType.TOGGLE:this.lhs.value=!this.lhs.value;break;default:return c.Status.FAILURE}this.log.VERBOSE&&this.log.d("< lhs "+this.lhs.value+"> = < rhs "+this.lhs.value+" >")}return c.Status.SUCCESS},r([a.btprop({type:l.SharedBoolean,required:!0,tooltip:"Left-Hand Side"})],e.prototype,"lhs",void 0),r([a.btprop({type:a.btenum(s.BooleanType),tooltip:"Right-Hand Side Default"})],e.prototype,"rhsDft",void 0),r([a.btprop({type:l.SharedBoolean,tooltip:"Right-Hand Side Dynamic"})],e.prototype,"rhs",void 0),r([a.btprop({type:a.btenum(s.BooleanComputeOperator),tooltip:"Compute Operator"})],e.prototype,"op",void 0),r([a.btclass("SetBool","Action/Operator",{description:"Boolean operation."})],e)}(_.ActionTask);o.SetBool=p,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","../../../bt.Const":"bt.Const","../../../variable/bt.SharedBoolean":"bt.SharedBoolean","bt.editor":"bt.editor"}],"bt.SetEnabledBehavior":[function(t,e,o){"use strict";cc._RF.push(e,"c5314GE2YZElrpSm5LKO7tV","bt.SetEnabledBehavior");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SetEnabledBehavior=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.Const"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rhs=s.BooleanType.TRUE,e}return i(e,t),e.prototype.onUpdate=function(){switch(this.rhs){case s.BooleanType.TRUE:this.target.behaviorEnabled||(this.log.VERBOSE&&this.log.d("enable < "+this.target.log.tag+" >"),this.target.behaviorEnabled=!0);break;case s.BooleanType.FALSE:this.target.behaviorEnabled&&(this.log.VERBOSE&&this.log.d("disable < "+this.target.log.tag+" >"),this.target.behaviorEnabled=!1);break;case s.BooleanType.TOGGLE:this.log.VERBOSE&&(this.target.behaviorEnabled?this.log.d("disable < "+this.target.log.tag+" >"):this.log.d("enable < "+this.target.log.tag+" >")),this.target.behaviorEnabled=!this.target.behaviorEnabled}return c.Status.SUCCESS},r([a.btprop({type:"bt-behaviortree",required:!0})],e.prototype,"target",void 0),r([a.btprop({type:a.btenum(s.BooleanType),tooltip:"Right-Hand Side"})],e.prototype,"rhs",void 0),r([a.btclass("SetEnabledBehavior","Action/Behavior",{description:"Enable/Disable a behaviortree."})],e)}(t("../../../bt.ActionTask").ActionTask);o.SetEnabledBehavior=_,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","../../../bt.Const":"bt.Const","bt.editor":"bt.editor"}],"bt.SetEnabledCollider":[function(t,e,o){"use strict";cc._RF.push(e,"041a6t3mflMLI+JLCoFMsRy","bt.SetEnabledCollider");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SetEnabledCollider=void 0;var a=t("bt.editor"),c=t("../../../variable/bt.SharedCCCollider"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btprop({type:c.SharedCCCollider})],e.prototype,"sharedComp",void 0),r([a.btclass("SetEnabledCollider","Action/Collision",{description:"cc.Collider.enabled"})],e)}(t("../scene/bt.SetEnabled").SetEnabled);o.SetEnabledCollider=s,cc._RF.pop()},{"../../../variable/bt.SharedCCCollider":"bt.SharedCCCollider","../scene/bt.SetEnabled":"bt.SetEnabled","bt.editor":"bt.editor"}],"bt.SetEnabled":[function(t,e,o){"use strict";cc._RF.push(e,"a3b06oseq9MsLIVfcrHSHQv","bt.SetEnabled");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SetEnabled=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../../base/bt.Const"),_=t("../../../../base/bt.ActionTask"),l=t("../../../variable/bt.SharedCCComponent"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rhs=s.BooleanType.TRUE,e}return i(e,t),e.prototype.onUpdate=function(){if(!this.sharedComp.value)return c.Status.FAILURE;switch(this.rhs){case s.BooleanType.TRUE:this.sharedComp.value.enabled||(this.log.VERBOSE&&this.log.d("enable < "+this.sharedComp.value.name+" >"),this.sharedComp.value.enabled=!0);break;case s.BooleanType.FALSE:this.sharedComp.value.enabled&&(this.log.VERBOSE&&this.log.d("disable < "+this.sharedComp.value.name+" >"),this.sharedComp.value.enabled=!1);break;case s.BooleanType.TOGGLE:this.log.VERBOSE&&(this.sharedComp.value.enabled?this.log.d("disable < "+this.sharedComp.value.name+" >"):this.log.d("enable < "+this.sharedComp.value.name+" >")),this.sharedComp.value.enabled=!this.sharedComp.value.enabled}return c.Status.SUCCESS},r([a.btprop({type:l.SharedCCComponent,required:!0})],e.prototype,"sharedComp",void 0),r([a.btprop({type:a.btenum(s.BooleanType)})],e.prototype,"rhs",void 0),r([a.btclass("SetEnabled","Action/Scene",{description:"cc.Component.enabled"})],e)}(_.ActionTask);o.SetEnabled=p,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../../base/bt.ActionTask":"bt.ActionTask","../../../../base/bt.Const":"bt.Const","../../../variable/bt.SharedCCComponent":"bt.SharedCCComponent","bt.editor":"bt.editor"}],"bt.SetNum":[function(t,e,o){"use strict";cc._RF.push(e,"1ceebxPldtL/oPa09iJkiFv","bt.SetNum");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SetNum=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.Const"),_=t("../../../bt.ActionTask"),l=t("../../../variable/bt.SharedNumber"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rhsDft=0,e.op=s.NumberComputeOperator["="],e}return i(e,t),e.prototype.onUpdate=function(){var t=this.rhs?this.rhs.value:this.rhsDft;switch(this.op){case s.NumberComputeOperator["="]:this.lhs.value=t;break;case s.NumberComputeOperator["+="]:this.lhs.value+=t;break;case s.NumberComputeOperator["-="]:this.lhs.value-=t;break;case s.NumberComputeOperator["*="]:this.lhs.value*=t;break;case s.NumberComputeOperator["/="]:if(0===t)return this.log.VERBOSE&&this.log.w("divide by zero"),c.Status.FAILURE;this.lhs.value/=t;break;default:return c.Status.FAILURE}return this.log.VERBOSE&&this.log.d("< lhs "+this.lhs.value+" > "+s.NumberComputeOperator[this.op]+" < rhs "+t+" >"),c.Status.SUCCESS},r([a.btprop({type:l.SharedNumber,required:!0,tooltip:"Left-Hand Side"})],e.prototype,"lhs",void 0),r([a.btprop({type:Number,tooltip:"Right-Hand Side Default"})],e.prototype,"rhsDft",void 0),r([a.btprop({type:l.SharedNumber,tooltip:"Right-Hand Side Dynamic"})],e.prototype,"rhs",void 0),r([a.btprop({type:a.btenum(s.NumberComputeOperator),tooltip:"Compute Operator"})],e.prototype,"op",void 0),r([a.btclass("SetNum","Action/Operator",{description:"Number operation."})],e)}(_.ActionTask);o.SetNum=p,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","../../../bt.Const":"bt.Const","../../../variable/bt.SharedNumber":"bt.SharedNumber","bt.editor":"bt.editor"}],"bt.SetPausedBehavior":[function(t,e,o){"use strict";cc._RF.push(e,"a1112qjmR9LXLS6f55nm/PI","bt.SetPausedBehavior");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SetPausedBehavior=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.Const"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rhs=s.BooleanType.TRUE,e}return i(e,t),e.prototype.onUpdate=function(){switch(this.rhs){case s.BooleanType.TRUE:this.target.behaviorPaused||(this.log.VERBOSE&&this.log.d("pause < "+this.target.log.tag+" >"),this.target.behaviorPaused=!0);break;case s.BooleanType.FALSE:this.target.behaviorPaused&&(this.log.VERBOSE&&this.log.d("resume < "+this.target.log.tag+" >"),this.target.behaviorPaused=!1);break;case s.BooleanType.TOGGLE:this.log.VERBOSE&&(this.target.behaviorPaused?this.log.d("resume < "+this.target.log.tag+" >"):this.log.d("pause < "+this.target.log.tag+" >")),this.target.behaviorPaused=!this.target.behaviorPaused}return c.Status.SUCCESS},r([a.btprop({type:"bt-behaviortree",required:!0})],e.prototype,"target",void 0),r([a.btprop({type:a.btenum(s.BooleanType),tooltip:"Right-Hand Side"})],e.prototype,"rhs",void 0),r([a.btclass("SetPausedBehavior","Action/Behavior",{description:"Pause/Resume a behaviortree."})],e)}(t("../../../bt.ActionTask").ActionTask);o.SetPausedBehavior=_,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","../../../bt.Const":"bt.Const","bt.editor":"bt.editor"}],"bt.SetStr":[function(t,e,o){"use strict";cc._RF.push(e,"73005J5nOtE/Iwvb5KJcCUK","bt.SetStr");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SetStr=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=t("../../../bt.Const"),_=t("../../../bt.ActionTask"),l=t("../../../variable/bt.SharedString"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rhsDft="",e.op=s.StringComputeOperator["="],e}return i(e,t),e.prototype.onUpdate=function(){var t=this.rhs?this.rhs.value:this.rhsDft;switch(this.op){case s.StringComputeOperator["="]:this.lhs.value=t?t+"":void 0;break;default:return c.Status.FAILURE}return this.log.VERBOSE&&this.log.d("< lhs "+this.lhs.value+" > "+s.StringComputeOperator[this.op]+" < rhs "+t+" >"),c.Status.SUCCESS},r([a.btprop({type:l.SharedString,required:!0,tooltip:"Left-Hand Side"})],e.prototype,"lhs",void 0),r([a.btprop({type:String,tooltip:"Right-Hand Side Default"})],e.prototype,"rhsDft",void 0),r([a.btprop({type:l.SharedString,tooltip:"Right-Hand Side Dynamic"})],e.prototype,"rhs",void 0),r([a.btprop({type:a.btenum(s.StringComputeOperator),tooltip:"Compute Operator"})],e.prototype,"op",void 0),r([a.btclass("SetStr","Action/Operator",{description:"String operation."})],e)}(_.ActionTask);o.SetStr=p,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","../../../bt.Const":"bt.Const","../../../variable/bt.SharedString":"bt.SharedString","bt.editor":"bt.editor"}],"bt.SharedBooleanList":[function(t,e,o){"use strict";cc._RF.push(e,"a056a6ZEF1NHIQHfy6ofMXe","bt.SharedBooleanList");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedBooleanList=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btprop({type:[Boolean]})],e.prototype,"value",void 0),r([a.btclass("SharedBooleanList")],e)}(t("../bt.SharedVariable").SharedVariable);o.SharedBooleanList=c,cc._RF.pop()},{"../bt.SharedVariable":"bt.SharedVariable","bt.editor":"bt.editor"}],"bt.SharedBoolean":[function(t,e,o){"use strict";cc._RF.push(e,"d5ba4nTD0JCI7NQoLiSR7iH","bt.SharedBoolean");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedBoolean=void 0;var a=t("bt.editor"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=!0,e}return i(e,t),r([a.btprop({type:Boolean})],e.prototype,"value",void 0),r([a.btclass("SharedBoolean")],e)}(t("../bt.SharedVariable").SharedVariable);o.SharedBoolean=c,cc._RF.pop()},{"../bt.SharedVariable":"bt.SharedVariable","bt.editor":"bt.editor"}],"bt.SharedCCColliderList":[function(t,e,o){"use strict";cc._RF.push(e,"67c44HnWIZHxq5J++rxBMhn","bt.SharedCCColliderList");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedCCColliderList=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btprop({type:[cc.Collider]})],e.prototype,"value",void 0),r([a.btclass("SharedCCColliderList")],e)}(t("./bt.SharedCCComponentList").SharedCCComponentList);o.SharedCCColliderList=c,cc._RF.pop()},{"./bt.SharedCCComponentList":"bt.SharedCCComponentList","bt.editor":"bt.editor"}],"bt.SharedCCCollider":[function(t,e,o){"use strict";cc._RF.push(e,"81ae0dkfz9GWoWkJorcqwqA","bt.SharedCCCollider");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedCCCollider=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btprop({type:cc.Collider})],e.prototype,"value",void 0),r([a.btclass("SharedCCCollider")],e)}(t("./bt.SharedCCComponent").SharedCCComponent);o.SharedCCCollider=c,cc._RF.pop()},{"./bt.SharedCCComponent":"bt.SharedCCComponent","bt.editor":"bt.editor"}],"bt.SharedCCColorList":[function(t,e,o){"use strict";cc._RF.push(e,"ff553WnE8VDQamA1Aqefv/l","bt.SharedCCColorList");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedCCColorList=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btprop({type:[cc.Color]})],e.prototype,"value",void 0),r([a.btclass("SharedCCColorList")],e)}(t("../../base/bt.SharedVariable").SharedVariable);o.SharedCCColorList=c,cc._RF.pop()},{"../../base/bt.SharedVariable":"bt.SharedVariable","bt.editor":"bt.editor"}],"bt.SharedCCColor":[function(t,e,o){"use strict";cc._RF.push(e,"db78doENjhHHY6nB1WyEdo9","bt.SharedCCColor");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedCCColor=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btprop({type:cc.Color})],e.prototype,"value",void 0),r([a.btclass("SharedCCColor")],e)}(t("../../base/bt.SharedVariable").SharedVariable);o.SharedCCColor=c,cc._RF.pop()},{"../../base/bt.SharedVariable":"bt.SharedVariable","bt.editor":"bt.editor"}],"bt.SharedCCComponentList":[function(t,e,o){"use strict";cc._RF.push(e,"2e5753TL9BAoZ9NxQ4lB7Qq","bt.SharedCCComponentList");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedCCComponentList=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btprop({type:[cc.Component]})],e.prototype,"value",void 0),r([a.btclass("SharedCCComponentList")],e)}(t("../../base/bt.SharedVariable").SharedVariable);o.SharedCCComponentList=c,cc._RF.pop()},{"../../base/bt.SharedVariable":"bt.SharedVariable","bt.editor":"bt.editor"}],"bt.SharedCCComponent":[function(t,e,o){"use strict";cc._RF.push(e,"233a7ejkBxPkrp0rrwYQ5HO","bt.SharedCCComponent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedCCComponent=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btprop({type:cc.Component})],e.prototype,"value",void 0),r([a.btclass("SharedCCComponent")],e)}(t("../../base/bt.SharedVariable").SharedVariable);o.SharedCCComponent=c,cc._RF.pop()},{"../../base/bt.SharedVariable":"bt.SharedVariable","bt.editor":"bt.editor"}],"bt.SharedCCEvent":[function(t,e,o){"use strict";cc._RF.push(e,"4b01550dkNND43kyf5YRT+P","bt.SharedCCEvent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedCCEvent=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btclass("SharedCCEvent")],e)}(t("../../base/bt.SharedVariable").SharedVariable);o.SharedCCEvent=c,cc._RF.pop()},{"../../base/bt.SharedVariable":"bt.SharedVariable","bt.editor":"bt.editor"}],"bt.SharedCCNodeList":[function(t,e,o){"use strict";cc._RF.push(e,"56d28QNqltHjrBL8F3k2oXh","bt.SharedCCNodeList");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedCCNodeList=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btprop({type:[cc.Node],highlighted:!0})],e.prototype,"value",void 0),r([a.btclass("SharedCCNodeList")],e)}(t("../../base/bt.SharedVariable").SharedVariable);o.SharedCCNodeList=c,cc._RF.pop()},{"../../base/bt.SharedVariable":"bt.SharedVariable","bt.editor":"bt.editor"}],"bt.SharedCCNode":[function(t,e,o){"use strict";cc._RF.push(e,"d0ed4IQEbBGYrqEnU5NJ3/M","bt.SharedCCNode");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedCCNode=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btprop({type:cc.Node,highlighted:!0})],e.prototype,"value",void 0),r([a.btclass("SharedCCNode")],e)}(t("../../base/bt.SharedVariable").SharedVariable);o.SharedCCNode=c,cc._RF.pop()},{"../../base/bt.SharedVariable":"bt.SharedVariable","bt.editor":"bt.editor"}],"bt.SharedCCVec2List":[function(t,e,o){"use strict";cc._RF.push(e,"aeaa2lGjplG2KPV2+Ac7Ht3","bt.SharedCCVec2List");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedCCVec2List=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btprop({type:[cc.Vec2]})],e.prototype,"value",void 0),r([a.btclass("SharedCCVec2List")],e)}(t("../../base/bt.SharedVariable").SharedVariable);o.SharedCCVec2List=c,cc._RF.pop()},{"../../base/bt.SharedVariable":"bt.SharedVariable","bt.editor":"bt.editor"}],"bt.SharedCCVec2":[function(t,e,o){"use strict";cc._RF.push(e,"11c1881JlNOr7hMdRk2WFxb","bt.SharedCCVec2");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedCCVec2=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btprop({type:cc.Vec2})],e.prototype,"value",void 0),r([a.btclass("SharedCCVec2")],e)}(t("../../base/bt.SharedVariable").SharedVariable);o.SharedCCVec2=c,cc._RF.pop()},{"../../base/bt.SharedVariable":"bt.SharedVariable","bt.editor":"bt.editor"}],"bt.SharedCCVec3List":[function(t,e,o){"use strict";cc._RF.push(e,"c127cJWC3FD8oHUiVtP1VaU","bt.SharedCCVec3List");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedCCVec3List=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btprop({type:[cc.Vec3]})],e.prototype,"value",void 0),r([a.btclass("SharedCCVec3List")],e)}(t("../../base/bt.SharedVariable").SharedVariable);o.SharedCCVec3List=c,cc._RF.pop()},{"../../base/bt.SharedVariable":"bt.SharedVariable","bt.editor":"bt.editor"}],"bt.SharedCCVec3":[function(t,e,o){"use strict";cc._RF.push(e,"bed0ayKIJ5FSJwNNIQBh9bv","bt.SharedCCVec3");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedCCVec3=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btprop({type:cc.Vec3})],e.prototype,"value",void 0),r([a.btclass("SharedCCVec3")],e)}(t("../../base/bt.SharedVariable").SharedVariable);o.SharedCCVec3=c,cc._RF.pop()},{"../../base/bt.SharedVariable":"bt.SharedVariable","bt.editor":"bt.editor"}],"bt.SharedNumberList":[function(t,e,o){"use strict";cc._RF.push(e,"5c6b9AXP5xOMaDsnF4rfEgC","bt.SharedNumberList");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedNumberList=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btprop({type:[Number]})],e.prototype,"value",void 0),r([a.btclass("SharedNumberList")],e)}(t("../bt.SharedVariable").SharedVariable);o.SharedNumberList=c,cc._RF.pop()},{"../bt.SharedVariable":"bt.SharedVariable","bt.editor":"bt.editor"}],"bt.SharedNumber":[function(t,e,o){"use strict";cc._RF.push(e,"e9093ziuVRBfryO2BJgI/bL","bt.SharedNumber");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedNumber=void 0;var a=t("bt.editor"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=0,e}return i(e,t),e.prototype.reset=function(){this.value=0},r([a.btprop({type:Number})],e.prototype,"value",void 0),r([a.btclass("SharedNumber")],e)}(t("../bt.SharedVariable").SharedVariable);o.SharedNumber=c,cc._RF.pop()},{"../bt.SharedVariable":"bt.SharedVariable","bt.editor":"bt.editor"}],"bt.SharedStringList":[function(t,e,o){"use strict";cc._RF.push(e,"134a3KsiEND3Z+ITXNdnxW/","bt.SharedStringList");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedStringList=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btprop({type:[String]})],e.prototype,"value",void 0),r([a.btclass("SharedStringList")],e)}(t("../bt.SharedVariable").SharedVariable);o.SharedStringList=c,cc._RF.pop()},{"../bt.SharedVariable":"bt.SharedVariable","bt.editor":"bt.editor"}],"bt.SharedString":[function(t,e,o){"use strict";cc._RF.push(e,"66c51ge9zRBG7BL3qFn1SNR","bt.SharedString");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedString=void 0;var a=t("bt.editor"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a.btprop({type:String})],e.prototype,"value",void 0),r([a.btclass("SharedString")],e)}(t("../bt.SharedVariable").SharedVariable);o.SharedString=c,cc._RF.pop()},{"../bt.SharedVariable":"bt.SharedVariable","bt.editor":"bt.editor"}],"bt.SharedVariable":[function(t,e,o){"use strict";cc._RF.push(e,"ac37bL+HlJHkZUG0tSTtrNx","bt.SharedVariable");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SharedVariable=void 0;var i=t("bt.editor"),r=t("../util/bt.Logger"),a=function(){function t(t){this.log=new r.Logger,this._name="",this._uuid=t}return Object.defineProperty(t.prototype,"uuid",{get:function(){return this._uuid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this.setName(t)},enumerable:!1,configurable:!0}),t.prototype.setName=function(t){this._name=t;for(var e=0,o=this.log.tag.length;e<o;++e)if("<"===this.log.tag[e]){this.log.tag=this.log.tag.substring(0,e)+"<"+t+">";break}},t.prototype.reset=function(){this.value=void 0},n([i.btprop({type:String,required:"warning",placeholder:"name required"})],t.prototype,"name",null),n([i.btclass("SharedVariable",{visible:!1})],t)}();o.SharedVariable=a,cc._RF.pop()},{"../util/bt.Logger":"bt.Logger","bt.editor":"bt.editor"}],"bt.SuccessUntilFailure":[function(t,e,o){"use strict";cc._RF.push(e,"79460p36XJEUKdyH3nN5NBI","bt.SuccessUntilFailure");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.SuccessUntilFailure=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.DecoratorTask"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.phase=s.DecoratorPhaseType.NOT_FAILURE,e}return i(e,t),e.prototype.onDecorate=function(){return c.Status.SUCCESS},r([a.btprop({readonly:!0})],e.prototype,"phase",void 0),r([a.btclass("SuccessUntilFailure",{description:'Always return "SUCCESS" until child task returns "FAILURE".'})],e)}(s.DecoratorTask);o.SuccessUntilFailure=_,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.DecoratorTask":"bt.DecoratorTask","bt.editor":"bt.editor"}],"bt.TaskEventType":[function(t,e,o){"use strict";cc._RF.push(e,"a17eaodz/9G0bSxGIFuCIa1","bt.TaskEventType"),Object.defineProperty(o,"__esModule",{value:!0}),o.TaskEventType=void 0,function(t){t.WEIGHT="weight",t.ABORT_TYPE="abort-type"}(o.TaskEventType||(o.TaskEventType={})),cc._RF.pop()},{}],"bt.Task":[function(t,e,o){"use strict";cc._RF.push(e,"f42c4NalhVB+qMyGHOvw8i4","bt.Task");var n=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Task=void 0;var i,r=t("bt.editor"),a=t("../api/bt.API"),c=t("../util/bt.Logger"),s=t("./bt.Const"),_=t("./bt.TaskEventType"),l=void 0,p=void 0,u=void 0,d=void 0;(function(t){t[t.NONE=0]="NONE",t[t.ENTER=1]="ENTER",t[t.EXIT=2]="EXIT"})(i||(i={}));var h=function(){function t(t){this.log=new c.Logger,this._name="",this._tree=l,this._root=p,this._parent=p,this._preview=d,this._blackboard=u,this._globalboard=u,this._weight=1,this._index=s.Const.INVALID_INDEX,this._status=a.Status.FAILURE,this._execstate=i.NONE,this._onloadcalled=!1,this._eventcbws=new Map,this._uuid=t}return Object.defineProperty(t.prototype,"enableLog",{get:function(){return this.log.VERBOSE},set:function(t){this.log.VERBOSE=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onloadcalled",{get:function(){return this._onloadcalled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uuid",{get:function(){return this._uuid},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},set:function(t){this.setName(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tree",{get:function(){return this._tree},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._root},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blackboard",{get:function(){return this._blackboard},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"globalboard",{get:function(){return this._globalboard},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this._index},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"weight",{get:function(){return this.getWeight()},set:function(t){this.setWeight(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"running",{get:function(){return this._status===a.Status.RUNNING},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"entered",{get:function(){return this._execstate===i.ENTER},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"completed",{get:function(){return this._execstate===i.EXIT},enumerable:!1,configurable:!0}),t.prototype.getBehaviorTree=function(){return this._tree},t.prototype.walk=function(t){t(this)},t.prototype.on=function(t,e,o){var n=this._eventcbws.get(t);n||(n=[],this._eventcbws.set(t,n)),n.every(function(t){return t.cb!==e||t.target!==o})?n.push({cb:e,target:o}):this.log.w('event "'+t+'" callback already registered: '+e+" "+o)},t.prototype.off=function(t,e,o){var n=this._eventcbws.get(t);if(n){var i=n.findIndex(function(t){return t.cb===e&&t.target===o});-1!==i?n.splice(i,1):this.log.w('event "'+t+'" callback not registered: '+e+" "+o)}else this.log.w('event "'+t+'" callback not registered: '+e+" "+o)},t.prototype.fire=function(t,e,o,n){var i=this,r=this._eventcbws.get(t);return r&&r.forEach(function(r){r.target?r.cb.call(r.target,i,t,e,o,n):r.cb(i,t,e,o,n)}),this.dispatchOnEvent(t,e,o,n)},t.prototype.emit=function(t,e,o,n){return!0===this.fire(t,e,o,n)||!!this._parent&&this._parent.emit(t,e,o,n)},t.prototype.evaluate=function(){return this.execute()===a.Status.RUNNING&&this.terminate(),this._status},t.prototype.execute=function(){return this._execstate!==i.ENTER&&this.dispatchOnEnter()&&(this._execstate=i.ENTER),this._execstate===i.ENTER?this._status=this.dispatchOnUpdate():this._status=a.Status.FAILURE,this._status!==a.Status.RUNNING&&(this.dispatchOnExit(),this._execstate=i.EXIT),this._preview&&this._preview.taskExec(this,this._status),this._status},t.prototype.terminate=function(){this._status===a.Status.RUNNING&&(this._status=a.Status.FAILURE,this.dispatchOnAbort(),this.dispatchOnExit(),this._execstate=i.EXIT,this._preview&&this._preview.taskExec(this,this._status))},t.prototype.dispatchOnEnter=function(){return!this.onEnter||this.onEnter()},t.prototype.dispatchOnUpdate=function(){return this.onUpdate?this.onUpdate():a.Status.SUCCESS},t.prototype.dispatchOnExit=function(){this.onExit&&this.onExit()},t.prototype.dispatchOnAbort=function(){this.onAbort&&this.onAbort()},t.prototype.dispatchOnResume=function(){this.onResume&&this.onResume()},t.prototype.dispatchOnPause=function(){this.onPause&&this.onPause()},t.prototype.dispatchOnLoad=function(){this.onLoad&&this.onLoad()},t.prototype.dispatchOnReady=function(){this.onReady&&this.onReady()},t.prototype.dispatchOnDestroy=function(){this.onDestroy&&this.onDestroy()},t.prototype.dispatchOnEvent=function(t,e,o,n){return!(this.onEventFilter&&!this.onEventFilter(t,e,o,n))&&!!this.onEvent&&this.onEvent(t,e,o,n)},t.prototype.onBehaviorLoaded=function(t){if(!this._onloadcalled){this._tree=t.tree,this._preview=t.preview,this._blackboard=t.blackboard,this._globalboard=t.globalboard,this._onloadcalled=!0;var e=t.entry.at(0);e!==this&&t.entry!==this?this._root=e:this._parent=p,this.dispatchOnLoad()}},t.prototype.onBehaviorReady=function(){this._onloadcalled&&this.dispatchOnReady()},t.prototype.onBehaviorDestroy=function(){this._onloadcalled&&(this.dispatchOnDestroy(),this._tree=l,this._root=p,this._parent=p,this._preview=d,this._blackboard=u,this._globalboard=u,this._index=s.Const.INVALID_INDEX,this._eventcbws.clear())},t.prototype.onBehaviorResume=function(){this._onloadcalled&&this.dispatchOnResume()},t.prototype.onBehaviorPause=function(){this._onloadcalled&&this.dispatchOnPause()},t.prototype.onBehaviorComplete=function(){},t.prototype.setName=function(t){this._name=t;for(var e=0;e<this.log.tag.length;++e)if("<"===this.log.tag[e]){this.log.tag=this.log.tag.substring(0,e)+"<"+t+">";break}},t.prototype.setParent=function(t){this._onloadcalled?this.log.w('"setParent" is a editor-only API'):(this._parent=t,this.setIndex(t?t.indexOf(this):s.Const.INVALID_INDEX))},t.prototype.setIndex=function(t){this._onloadcalled?this.log.w('"setIndex" is a editor-only API'):this._index!==t&&(this.onIndexChange&&this.onIndexChange(t),this._index=t)},t.prototype.getWeight=function(){return this._weight},t.prototype.setWeight=function(t){t<0&&(t=0),this._weight!==t&&(this.onWeightChange&&this.onWeightChange(t),this.fire(_.TaskEventType.WEIGHT,t),this._weight=t)},n([r.btprop({type:Boolean})],t.prototype,"enableLog",null),n([r.btprop({type:String})],t.prototype,"name",null),n([r.btprop({type:Number,inputtype:"int",min:0,step:1,tooltip:"Range [ 0, Infinity )"})],t.prototype,"weight",null),n([r.btclass("Task",{visible:!1})],t)}();o.Task=h,cc._RF.pop()},{"../api/bt.API":"bt.API","../util/bt.Logger":"bt.Logger","./bt.Const":"bt.Const","./bt.TaskEventType":"bt.TaskEventType","bt.editor":"bt.editor"}],"bt.TerminateBehavior":[function(t,e,o){"use strict";cc._RF.push(e,"919ebsKXOpMA5IdXYT7d8mF","bt.TerminateBehavior");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.TerminateBehavior=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.onUpdate=function(){return this.target.behaviorRunning&&(this.log.VERBOSE&&this.log.d("terminate < "+this.target.log.tag+" >"),this.target.terminate()),c.Status.SUCCESS},r([a.btprop({type:"bt-behaviortree",required:!0})],e.prototype,"target",void 0),r([a.btclass("TerminateBehavior","Action/Behavior",{description:"Terminate a running behaviortree."})],e)}(t("../../../bt.ActionTask").ActionTask);o.TerminateBehavior=s,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","bt.editor":"bt.editor"}],"bt.TickBehavior":[function(t,e,o){"use strict";cc._RF.push(e,"08728DfAWdFjbCAcls4QNZW","bt.TickBehavior");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.TickBehavior=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.asSubTree=!0,e}return i(e,t),e.prototype.onUpdate=function(){return this.target.tickType===c.TickType.MANUAL?(this.log.VERBOSE&&this.log.d("tick < "+this.target.log.tag+" > subtree "+this.asSubTree),this.asSubTree?this.target.tick():this.target.tick()!==c.Status.FAILURE?c.Status.SUCCESS:c.Status.FAILURE):c.Status.FAILURE},e.prototype.onExit=function(){this.asSubTree&&this.target.tickType===c.TickType.MANUAL&&this.target.behaviorRunning&&(this.log.VERBOSE&&this.log.d("terminate < "+this.target.log.tag+" >"),this.target.terminate())},e.prototype.onPause=function(){this.asSubTree&&this.target.tickType===c.TickType.MANUAL&&(this.log.VERBOSE&&this.log.d("pause < "+this.target.log.tag+" >"),this.target.behaviorPaused=!0)},e.prototype.onResume=function(){this.asSubTree&&this.target.tickType===c.TickType.MANUAL&&(this.log.VERBOSE&&this.log.d("resume < "+this.target.log.tag+" >"),this.target.behaviorPaused=!1)},r([a.btprop({type:"bt-behaviortree",required:!0,excludeSelf:!0,tooltip:"The external behaviortree to tick manually."})],e.prototype,"target",void 0),r([a.btprop({type:Boolean,tooltip:"Treat external behaviortree as subtree."})],e.prototype,"asSubTree",void 0),r([a.btclass("TickBehavior","Action/Behavior",{description:'Tick an external behaviortree when its "tickType" is "MANUAL".'})],e)}(t("../../../bt.ActionTask").ActionTask);o.TickBehavior=s,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","bt.editor":"bt.editor"}],"bt.UntilFailure":[function(t,e,o){"use strict";cc._RF.push(e,"70a36UO7t5MmZGudomyJtxi","bt.UntilFailure");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UntilFailure=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.DecoratorTask"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.phase=s.DecoratorPhaseType.NOT_FAILURE,e}return i(e,t),e.prototype.onDecorate=function(){return c.Status.RUNNING},r([a.btprop({readonly:!0})],e.prototype,"phase",void 0),r([a.btclass("UntilFailure",{description:'Always return "RUNNING" until child task returns "FAILURE".'})],e)}(s.DecoratorTask);o.UntilFailure=_,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.DecoratorTask":"bt.DecoratorTask","bt.editor":"bt.editor"}],"bt.UntilSuccess":[function(t,e,o){"use strict";cc._RF.push(e,"5e811IM74ZN2pv80u2s9AMI","bt.UntilSuccess");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.UntilSuccess=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.DecoratorTask"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.phase=s.DecoratorPhaseType.NOT_SUCCESS,e}return i(e,t),e.prototype.onDecorate=function(){return c.Status.RUNNING},r([a.btprop({readonly:!0})],e.prototype,"phase",void 0),r([a.btclass("UntilSuccess",{description:'Always return "RUNNING" until child task returns "SUCCESS".'})],e)}(s.DecoratorTask);o.UntilSuccess=_,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.DecoratorTask":"bt.DecoratorTask","bt.editor":"bt.editor"}],"bt.WaitForEvent":[function(t,e,o){"use strict";cc._RF.push(e,"394c8jkhspIwYBxu9xBOaiF","bt.WaitForEvent");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.WaitForEvent=void 0;var a=t("bt.editor"),c=t("../../../../api/bt.API"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.stopPropagation=!1,e._received=!1,e}return i(e,t),e.prototype.onEventFilter=function(t){return this.type===t},e.prototype.onEvent=function(t){return this.log.VERBOSE&&(this.log.d("< "+t+" >"),this.stopPropagation&&this.log.d("stop propagation")),this._received=!0,this.stopPropagation},e.prototype.onUpdate=function(){return this._received?c.Status.SUCCESS:c.Status.RUNNING},e.prototype.onExit=function(){this._received=!1},r([a.btprop({type:String,required:!0,tooltip:"Event type."})],e.prototype,"type",void 0),r([a.btprop({type:Boolean,tooltip:"Stop event propagation."})],e.prototype,"stopPropagation",void 0),r([a.btclass("WaitForEvent","Action/Event",{description:"Wait for an event."})],e)}(t("../../../bt.ActionTask").ActionTask);o.WaitForEvent=s,cc._RF.pop()},{"../../../../api/bt.API":"bt.API","../../../bt.ActionTask":"bt.ActionTask","bt.editor":"bt.editor"}],"bt.WaitFrames":[function(t,e,o){"use strict";cc._RF.push(e,"4d4a7CuqSNOLrRhRlcBpRGv","bt.WaitFrames");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.WaitFrames=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../../base/bt.ActionTask"),_=t("../../../base/variable/bt.SharedNumber"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.framesDft=-1,e._frames=0,e}return i(e,t),e.prototype.onEnter=function(){return this._frames=this.frames?this.frames.value:this.framesDft,this.log.VERBOSE&&this.log.d("< "+this._frames+" > frames"),this._frames>0&&this._frames<1/0&&(this._frames+=cc.director.getTotalFrames()),0!==this._frames},e.prototype.onUpdate=function(){return this._frames>0&&this._frames<1/0&&cc.director.getTotalFrames()>=this._frames?c.Status.SUCCESS:c.Status.RUNNING},r([a.btprop({type:_.SharedNumber,tooltip:"Dynamic frames.\n0 indicates no wait.\nNegative and Infinity indicates infinite wait."})],e.prototype,"frames",void 0),r([a.btprop({type:Number,inputtype:"int",min:-1,step:1,tooltip:"Default frames.\n0 indicates no wait.\nNegative and Infinity indicates infinite wait."})],e.prototype,"framesDft",void 0),r([a.btclass("WaitFrames",{description:"Wait for some frames."})],e)}(s.ActionTask);o.WaitFrames=l,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../../base/bt.ActionTask":"bt.ActionTask","../../../base/variable/bt.SharedNumber":"bt.SharedNumber","bt.editor":"bt.editor"}],"bt.Wait":[function(t,e,o){"use strict";cc._RF.push(e,"6e99dIn+49GEJDrBz7JC96U","bt.Wait");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.Wait=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../bt.ActionTask"),_=t("../../variable/bt.SharedNumber"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.waitTimeDft=-1,e._time=0,e}return i(e,t),e.prototype.onEnter=function(){return this._time=this.waitTime?this.waitTime.value:this.waitTimeDft,this.log.VERBOSE&&this.log.d("< "+this._time+" > seconds"),0!==this._time},e.prototype.onUpdate=function(){return this._time>0&&this._time<1/0&&(this._time-=this.tree.dt,this._time<=0)?c.Status.SUCCESS:c.Status.RUNNING},r([a.btprop({type:_.SharedNumber,tooltip:"Dynamic time in seconds.\n0 indicates no wait.\nNegative and Infinity indicates infinite wait."})],e.prototype,"waitTime",void 0),r([a.btprop({type:Number,inputtype:"float",required:"warning",validator:function(t){return 0!==t},tooltip:"Default time in seconds.\n0 indicates no wait.\nNegative and Infinity indicates infinite wait."})],e.prototype,"waitTimeDft",void 0),r([a.btclass("Wait",{description:"Wait for some time."})],e)}(s.ActionTask);o.Wait=l,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../bt.ActionTask":"bt.ActionTask","../../variable/bt.SharedNumber":"bt.SharedNumber","bt.editor":"bt.editor"}],"bt.WithinFrames":[function(t,e,o){"use strict";cc._RF.push(e,"259d3flN6JD6a54AtpAu7Su","bt.WithinFrames");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.WithinFrames=void 0;var a=t("bt.editor"),c=t("../../../api/bt.API"),s=t("../../../base/bt.DecoratorTask"),_=t("../../../base/variable/bt.SharedNumber"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.framesDft=1,e._frames=0,e}return i(e,t),e.prototype.onEnter=function(){return this._frames=this.frames?this.frames.value:this.framesDft,this.log.VERBOSE&&this.log.d("< "+this._frames+" > frames"),this._frames>0&&this._frames<1/0?(this._frames+=cc.director.getTotalFrames(),!0):(0!==this._frames&&this.log.VERBOSE&&this.log.w("infinite frames not allowed"),!1)},e.prototype.onDecorate=function(){return cc.director.getTotalFrames()>=this._frames?c.Status.SUCCESS:c.Status.RUNNING},r([a.btprop({type:_.SharedNumber,tooltip:"Dynamic frames.\n0 indicates no execution.\nInfinite frames not allowed."})],e.prototype,"frames",void 0),r([a.btprop({type:Number,inputtype:"int",min:0,step:1,required:!0,validator:function(t){return t>=0&&t<1/0},tooltip:"Default frames.\n0 indicates no execution.\nInfinite frames not allowed."})],e.prototype,"framesDft",void 0),r([a.btclass("WithinFrames",{description:"Execute child task within some frames."})],e)}(s.DecoratorTask);o.WithinFrames=l,cc._RF.pop()},{"../../../api/bt.API":"bt.API","../../../base/bt.DecoratorTask":"bt.DecoratorTask","../../../base/variable/bt.SharedNumber":"bt.SharedNumber","bt.editor":"bt.editor"}],"bt.editor":[function(t,e,o){"use strict";cc._RF.push(e,"81512RAGupMMoRV7OlymSWS","bt.editor"),o.__esModule=!0,o.btclass=function(t,e,o){return function(n){e&&c(e)===a("0x16")?k[a("0x4e")](t,"",n,e):k[a("0x4e")](t,e,n,o)}},o.btenum=rt,o.btprop=function(t){return function(e,o,n){k[a("0x29")](o,e[a("0x17")],t||{},n)}},o._factory=o._clsmgr=o.VERSION=o.BehaviorLoader=o.APPNAME=void 0;var n,i,r=["isValid","iterator","symbol","function","prototype","Cannot call a class as a function","length","enumerable","configurable","value","writable","defineProperty","Super expression must either be null or a function","create","setPrototypeOf","getPrototypeOf","undefined","construct","toString","call","bind","apply","this hasn't been initialised - super() hasn't been called","object","constructor","isArray","from","slice","Object","name","Map","Set","Arguments","test","Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.","push","random","_ctor","_props","_opt","_name","_bttype","addprop","owner","_ctorname","_category","category","find","ctor","props","ctorname","forEach","opt","visible","visibleChildren","description","childCountMin","childCountMax","bttype","_pd","_btname","descriptor","_owner","btname","_btcat","_clss","getsuperctor","getsupercls","getcls","string","toctorname","findcls","findctor","hascls","some","getclsname","getcatname","getbttype","getopt","addcls","BehaviorTree","Task","SharedVariable","[object Array]","array","type","btcat","getvalidator","getprop","validator","getprops","every","instanceOf","instantiate","clss","VERBOSE","treetag","tag","TAG","[ behavior-dog ]","log","info","error","concat"," [ ","_tasks","_variables","_uuid","includes","cannot add task, already added ","removeTask","cannot remove task, not found ","splice","addVariable","cannot add variable, already added ","removeVariable","indexOf","uuid","variables","tree","_tree","_shared","_trees","_scenes","_universe","_treeCreateListeners","destroyTree","findIndex","onTreeCreate","getTree","getShared","shared","addSharedTask","addTask","removeSharedTask","addSharedVariable","removeSharedVariable","universe","des","path","node path not defined <","comptype","compoent type not defined <","getComponent","> not found at <","loaded <","assetManager","loadAny","resources","cannot load <","> err:","message","loader","load","Vec2","invalid format <","Vec3","Color","dft","JsonLoader","Infinity","-Infinity","number","_loader","uuid not defined < ","findVariable","cache not found ","loaded < ","_treeManager","entry","entry not defined < ","found < ","behaviorName","*** waiting for < "," > to load ***","not found < ","add","add prop deser ","_propDesers","bt-behaviortree","addDeser","bt-task","-deser","_dftDeser","deserialize","getDeser","bt-sharedvariable","cc-node","cc-asset","cc-vec2","cc-vec3","cc-color","_cache","get","walk","variable","uuidtomap","root","count","_count","_root","set","_variableMaps","_taskMap","findTask","task","variableMaps","propDeser","_propDeser","enableLog","_sceneUuid","loadprops","keys",'update "',"> to <","assettype"," (array) : ","prepareUniverseVariables","_prepareVariables","prepareSceneVariables","scene.","split","prepareVariables"," ] no variables data found"," ] prepared variable "," >. ","loadUniverseVariables","_loadVariables","loadSceneVariables"," ] loading 0 variable"," ] loading "," variables","prepareTasks","tasks not defined","children","root task not defined"," child task not found: ","Subtree","StateMachine","transitions","Transition","next state < "," > not found","prepared task ","missing task < ","instantiation skipped.","loadTasks","tasks","taskMap","tasks not prepared","loading "," tasks","setParent","tasks linked","failed to link tasks","loaded ","failed to load props","_manager","createTree","notifyLoadTreeFailure","getSharedTasks","getSharedVariables","_stamp","__enums__","isEnum","hasOwnProperty","getList","isInteger","sort","_ws","readyState","_pendingMsgs","_entry","options","port","ws://localhost:","onopen","onclose","onerror","onmessage","listening on: ","OPEN","close","send","_ready","ready","stopped ","error ","parse","data","update","treeEvent","subClassOf","BranchTask","childCount","stringify","status","taskExec","parent","entered","Composite","index","exec","_jsonLoader","_ctrl","getSceneUuid","createJsonLoader","start","isUniverseLoaded","onUniverseLoaded","addUniverseLoadedListener","isUniverseLoading","loadUniverse","onLoadError","onDeserialize","loadUniverseFromJson","universe data is empty","fireUniverseLoaded","universeError","universe variables not loaded","isSceneLoaded","addSceneLoadedListener","onSceneLoaded","isSceneLoading","loadScene","scene","loadSceneFromJson","scene data is empty ","fireSceneLoaded","scene variables not loaded","sceneError","loadTree","loadTreeFromJson","asset data not found","tree not executable","tree data not defined","tree props not defined","entry not defined","loading < ","variables not prepared","destroy","onLoaded","onReleaseResources","_options","onBehaviorLoadError","scenes","asset","json","director","getScene","json asset not found","loadRes","behavior-dog/generated/","JsonAsset","_sceneAsset","cannot load ","un-supported Cocos Version ","unknown type "];n=r,i=359,function(t){for(;--t;)n.push(n.shift())}(++i);var a=function(t){return r[t-=0]};function c(t){return(c="function"==typeof Symbol&&typeof Symbol[a("0x0")]===a("0x1")?function(t){return typeof t}:function(t){return t&&typeof Symbol===a("0x2")&&t.constructor===Symbol&&t!==Symbol[a("0x3")]?a("0x1"):typeof t})(t)}function s(t,e){if(!(t instanceof e))throw new TypeError(a("0x4"))}function _(t,e){for(var o=0;o<e[a("0x5")];o++){var n=e[o];n[a("0x6")]=n[a("0x6")]||!1,n[a("0x7")]=!0,a("0x8")in n&&(n[a("0x9")]=!0),Object[a("0xa")](t,n.key,n)}}function l(t,e,o){return e&&_(t[a("0x3")],e),o&&_(t,o),t}function p(t,e){if("function"!=typeof e&&null!==e)throw new TypeError(a("0xb"));t[a("0x3")]=Object[a("0xc")](e&&e[a("0x3")],{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}function u(t){return(u=Object[a("0xd")]?Object[a("0xe")]:function(t){return t.__proto__||Object[a("0xe")](t)})(t)}function d(t,e){return(d=Object[a("0xd")]||function(t,e){return t.__proto__=e,t})(t,e)}function h(){if(typeof Reflect===a("0xf")||!Reflect[a("0x10")])return!1;if(Reflect[a("0x10")].sham)return!1;if(typeof Proxy===a("0x2"))return!0;try{return Date[a("0x3")][a("0x11")][a("0x12")](Reflect[a("0x10")](Date,[],function(){})),!0}catch(t){return!1}}function f(){return(f=h()?Reflect[a("0x10")]:function(t,e,o){var n=[null];n.push.apply(n,e);var i=new(Function[a("0x13")].apply(t,n));return o&&d(i,o[a("0x3")]),i})[a("0x14")](null,arguments)}function y(t){if(void 0===t)throw new ReferenceError(a("0x15"));return t}function g(t,e){return!e||typeof e!==a("0x16")&&typeof e!==a("0x2")?y(t):e}function v(t){return function(){var e,o=u(t);if(h()){var n=u(this)[a("0x17")];e=Reflect.construct(o,arguments,n)}else e=o[a("0x14")](this,arguments);return g(this,e)}}function b(t){return m(t)||A(t)||x(t)||w()}function m(t){if(Array[a("0x18")](t))return C(t)}function A(t){if(typeof Symbol!==a("0xf")&&Symbol.iterator in Object(t))return Array[a("0x19")](t)}function x(t,e){if(t){if("string"==typeof t)return C(t,e);var o=Object[a("0x3")][a("0x11")][a("0x12")](t)[a("0x1a")](8,-1);return o===a("0x1b")&&t[a("0x17")]&&(o=t[a("0x17")][a("0x1c")]),o===a("0x1d")||o===a("0x1e")?Array[a("0x19")](o):o===a("0x1f")||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[a("0x20")](o)?C(t,e):void 0}}function C(t,e){(null==e||e>t[a("0x5")])&&(e=t[a("0x5")]);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}function w(){throw new TypeError(a("0x21"))}for(var T=[],E=0;E<256;E++)T[a("0x22")]((E<16?"0":"")+E.toString(16));var S=void 0,O=void 0,P=function(){function t(e){s(this,t),this[a("0x24")]=void 0,this[a("0x25")]=[],this[a("0x26")]=void 0,this._ctorname=S,this[a("0x27")]=S,this._category=S,this[a("0x28")]=S,this[a("0x24")]=e,this[a("0x26")]={visible:!0,visibleChildren:!0}}return l(t,[{key:"instantiate",value:function(t){return new(this[a("0x24")])(t||(e=4294967295*Math.random()|0,o=4294967295*Math.random()|0,n=4294967295*Math[a("0x23")]()|0,i=4294967295*Math[a("0x23")]()|0,T[255&e]+T[e>>8&255]+T[e>>16&255]+T[e>>24&255]+"-"+T[255&o]+T[o>>8&255]+"-"+T[o>>16&15|64]+T[o>>24&255]+"-"+T[63&n|128]+T[n>>8&255]+"-"+T[n>>16&255]+T[n>>24&255]+T[255&i]+T[i>>8&255]+T[i>>16&255]+T[i>>24&255]));var e,o,n,i}},{key:a("0x29"),value:function(t,e,o){var n=new I(t,e,o);return this._ctorname&&(n[a("0x2a")]=this[a("0x2b")]),this[a("0x2c")]&&(n[a("0x2d")]=this[a("0x2c")]),this[a("0x25")][a("0x22")](n),n}},{key:"getprop",value:function(t){return this[a("0x25")][a("0x2e")](function(e){return e[a("0x1c")]===t})||void 0}},{key:a("0x2f"),get:function(){return this[a("0x24")]}},{key:a("0x30"),get:function(){return this[a("0x25")]}},{key:"name",get:function(){return this[a("0x27")]},set:function(t){this[a("0x27")]=t}},{key:a("0x31"),get:function(){return this[a("0x2b")]},set:function(t){this[a("0x2b")]=t,t&&("__BTNAME__"in this[a("0x24")]?this[a("0x24")].__BTNAME__=t:Object[a("0xa")](this[a("0x24")],"__BTNAME__",{value:t,enumerable:!1,writable:!0,configurable:!0}),Object[a("0xa")](this[a("0x24")],t,{value:t,enumerable:!1,writable:!1,configurable:!1}),this[a("0x25")].forEach(function(e){return e[a("0x2a")]=t}))}},{key:a("0x2d"),get:function(){return this[a("0x2c")]},set:function(t){this[a("0x2c")]=t,this[a("0x25")][a("0x32")](function(e){return e[a("0x2d")]=t})}},{key:a("0x33"),get:function(){return this._opt},set:function(t){t&&(typeof t[a("0x34")]!==a("0xf")&&(this[a("0x26")][a("0x34")]=t.visible),typeof t.visibleChildren!==a("0xf")&&(this._opt[a("0x35")]=t.visibleChildren),typeof t[a("0x36")]!==a("0xf")&&(this._opt[a("0x36")]=t[a("0x36")]),void 0!==t[a("0x37")]&&(this[a("0x26")][a("0x37")]=t[a("0x37")]),typeof t[a("0x38")]!==a("0xf")&&(this[a("0x26")][a("0x38")]=t[a("0x38")]))}},{key:a("0x39"),get:function(){return this[a("0x28")]},set:function(t){this._bttype=t}}]),t}(),I=function(){function t(e,o,n){s(this,t),this._name=void 0,this[a("0x3a")]=void 0,this._opt=void 0,this._owner=S,this[a("0x2c")]=S,this[a("0x28")]=S,this[a("0x3b")]=S,this._btcat=S,this[a("0x27")]=e,this[a("0x26")]=o,this[a("0x3a")]=n||O,typeof this._opt.visible===a("0xf")&&(this._opt[a("0x34")]=!0)}return l(t,[{key:a("0x1c"),get:function(){return this[a("0x27")]}},{key:a("0x3c"),get:function(){return this[a("0x3a")]}},{key:"opt",get:function(){return this[a("0x26")]}},{key:"owner",get:function(){return this[a("0x3d")]},set:function(t){this[a("0x3d")]=t}},{key:a("0x2d"),get:function(){return this[a("0x2c")]},set:function(t){this._category=t}},{key:a("0x39"),get:function(){return this._bttype},set:function(t){this[a("0x28")]=t}},{key:a("0x3e"),get:function(){return this[a("0x3b")]},set:function(t){this[a("0x3b")]=t}},{key:"btcat",get:function(){return this[a("0x3f")]},set:function(t){this[a("0x3f")]=t}}]),t}(),k=new(function(){function t(){s(this,t),this[a("0x40")]=[]}return l(t,[{key:a("0x41"),value:function(t){var e=t[a("0x3")],o=e&&Object[a("0xe")](e);return o&&o.constructor}},{key:a("0x42"),value:function(t){var e=this.getsuperctor(t);return e?this[a("0x43")](e):void 0}},{key:"getcls",value:function(t,e){return(typeof t===a("0x44")?void 0!==e?this[a("0x40")][a("0x2e")](function(o){return o[a("0x1c")]===t&&o[a("0x2d")]===e}):this[a("0x40")][a("0x2e")](function(e){return e[a("0x1c")]===t}):this[a("0x40")][a("0x2e")](function(e){return e.ctor===t}))||void 0}},{key:a("0x45"),value:function(t,e){return"__"+(e&&""!==e?e+"_"+t:t)+"__"}},{key:a("0x46"),value:function(t,e){var o=this.toctorname(t,e);return this[a("0x40")].find(function(t){return t.ctorname===o})||void 0}},{key:a("0x47"),value:function(t,e){var o=this.findcls(t,e);return o?o.ctor:void 0}},{key:a("0x48"),value:function(t,e){return typeof t===a("0x44")?void 0!==e?this[a("0x40")].some(function(o){return o[a("0x1c")]===t&&o[a("0x2d")]===e}):this[a("0x40")][a("0x49")](function(e){return e[a("0x1c")]===t}):this._clss[a("0x49")](function(e){return e.ctor===t})}},{key:a("0x4a"),value:function(t){var e=this._clss[a("0x2e")](function(e){return e.ctor===t});return e?e[a("0x1c")]:S}},{key:a("0x4b"),value:function(t){var e=this[a("0x40")][a("0x2e")](function(e){return e[a("0x2f")]===t});return e?e[a("0x2d")]:S}},{key:"getctorname",value:function(t){var e=this[a("0x40")].find(function(e){return e.ctor===t});return e?e[a("0x31")]:S}},{key:a("0x4c"),value:function(t){var e=this.getcls(t);return e?e[a("0x39")]:S}},{key:a("0x4d"),value:function(t){var e=this[a("0x40")][a("0x2e")](function(e){return e[a("0x2f")]===t});return e?e[a("0x33")]:void 0}},{key:a("0x4e"),value:function(t,e,o,n){n=n||{};var i=S;if(t===a("0x4f"))n[a("0x34")]=!1,n.visibleChildren=!1,i=a("0x4f");else if(t===a("0x50"))i=a("0x50");else if(t===a("0x51"))n[a("0x34")]=!1,i=a("0x51");else{var r=this[a("0x41")](o);if(!e){var c=this[a("0x4b")](r);c&&(e=c)}var s=this[a("0x43")](r);s&&(i=s[a("0x39")]);var _=this.getopt(r);_&&(!1===_[a("0x35")]&&(n[a("0x34")]=!1,n[a("0x35")]=!1),void 0!==_[a("0x37")]&&(n[a("0x37")]=_[a("0x37")]),void 0!==_.childCountMax&&(n[a("0x38")]=_[a("0x38")]))}var l=this[a("0x43")](o);l||(l=new P(o),this[a("0x40")][a("0x22")](l)),l[a("0x1c")]!==t&&(l[a("0x30")][a("0x32")](function(n){n[a("0x33")].type===o&&(n.bttype=i,n[a("0x3e")]=t,n.btcat=e)}),l[a("0x1c")]=t,l[a("0x2d")]=e,l.opt=n,l[a("0x39")]=i,l[a("0x31")]=this[a("0x45")](t,e))}},{key:"addprop",value:function(t,e,o,n){var i=this[a("0x43")](e);i||(i=new P(e),this._clss[a("0x22")](i));var r=i[a("0x29")](t,o,n),c=this[a("0x42")](e);if(c){var s=c.getprop(t);if(s)for(var _ in s.opt)typeof s[a("0x33")][_]!==a("0xf")&&typeof r[a("0x33")][_]===a("0xf")&&(r[a("0x33")][_]=s.opt[_])}if(o&&o.type){Object.prototype.toString[a("0x12")](o.type)===a("0x52")&&(o[a("0x53")]=!0,0!==o[a("0x54")][a("0x5")]&&(o[a("0x54")]=o[a("0x54")][0]));var l=this[a("0x43")](o[a("0x54")]);l&&(r[a("0x39")]=l[a("0x39")],r[a("0x3e")]=l[a("0x1c")],r[a("0x55")]=l[a("0x2d")])}}},{key:a("0x56"),value:function(t,e){var o=this[a("0x57")](t,e);return o&&o.opt[a("0x58")]||null}},{key:a("0x57"),value:function(t,e){var o=this[a("0x43")](t);return o?o[a("0x57")](e):void 0}},{key:a("0x59"),value:function(t,e){var o=e||[],n=this[a("0x43")](t);if(n){n.props.forEach(function(t){o[a("0x5a")](function(e){return e[a("0x1c")]!==t.name})&&o.push(t)});var i=this.getsuperctor(t);if(i)return this[a("0x59")](i,o)}return o}},{key:"subClassOf",value:function(t,e,o){if(typeof e===a("0x44")){var n=this[a("0x45")](e,o);return t[n]===n}return t[e.__BTNAME__]===e.__BTNAME__}},{key:a("0x5b"),value:function(t,e){return t[e.__BTNAME__]===e.__BTNAME__}},{key:a("0x5c"),value:function(t,e,o){var n=this.getcls(t,e);return n?n[a("0x5c")](o):null}},{key:a("0x5d"),get:function(){return this[a("0x40")]}}]),t}());o._clsmgr=k;var R=function t(){var e=this,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";s(this,t),this[a("0x5e")]=t.VERBOSE,this[a("0x5f")]="",this[a("0x60")]=void 0,this.d=t._("d",this),this.i=t._("i",this),this.w=t._("w",this),this.e=t._("e",this),this.v=function(){e[a("0x5e")]&&e.d[a("0x14")](e,arguments)},this[a("0x60")]=o};R[a("0x5e")]=!1,R[a("0x61")]=a("0x62"),R.d=console[a("0x63")],R.i=console[a("0x64")],R.w=console.warn,R.e=console[a("0x65")],R._=function(t,e){return function(){for(var o=arguments[a("0x5")],n=new Array(o),i=0;i<o;i++)n[i]=arguments[i];e[a("0x5f")]?R[t][a("0x14")](R,[""[a("0x66")](R[a("0x61")],a("0x67"))[a("0x66")](e[a("0x5f")],".")[a("0x66")](e.tag," ]")][a("0x66")](n)):R[t].apply(R,[""[a("0x66")](R[a("0x61")],a("0x67"))[a("0x66")](e.tag," ]")][a("0x66")](n))}};var D=function(){function t(e){s(this,t),this[a("0x63")]=new R("Shared"),this[a("0x68")]=[],this[a("0x69")]=[],this[a("0x6a")]=void 0,this[a("0x6a")]=e}return l(t,[{key:"addTask",value:function(t){return this[a("0x68")][a("0x6b")](t)?(this[a("0x63")].e(a("0x6c")[a("0x66")](t[a("0x1c")])),!1):(this[a("0x68")][a("0x22")](t),!0)}},{key:a("0x6d"),value:function(t){var e=this[a("0x68")].indexOf(t);return-1===e?(this[a("0x63")].e(a("0x6e")[a("0x66")](t[a("0x1c")])),!1):(this[a("0x68")][a("0x6f")](e,1),!0)}},{key:a("0x70"),value:function(t){return this[a("0x69")].includes(t)?(this[a("0x63")].e(a("0x71").concat(t[a("0x1c")])),!1):(this[a("0x69")].push(t),!0)}},{key:a("0x72"),value:function(t){var e=this._variables[a("0x73")](t);return-1===e?(this[a("0x63")].e("cannot remove variable, not found "[a("0x66")](t.name)),!1):(this[a("0x69")].splice(e,1),!0)}},{key:a("0x74"),get:function(){return this[a("0x6a")]}},{key:"tasks",get:function(){return this[a("0x68")]}},{key:a("0x75"),get:function(){return this[a("0x69")]}}]),t}(),M=function(){function t(e,o){s(this,t),this[a("0x77")]=void 0,this._shared=void 0,this._uuid=void 0,this._tree=e,this[a("0x6a")]=o,this[a("0x78")]=new D(o)}return l(t,[{key:a("0x76"),get:function(){return this[a("0x77")]}},{key:"uuid",get:function(){return this[a("0x6a")]}},{key:"shared",get:function(){return this._shared}}]),t}(),B=function(){function t(e){s(this,t),this[a("0x78")]=void 0,this[a("0x78")]=new D(e)}return l(t,[{key:a("0x74"),get:function(){return this[a("0x78")][a("0x74")]}},{key:"shared",get:function(){return this._shared}}]),t}(),j=function(){function t(e){s(this,t),this[a("0x78")]=void 0,this[a("0x78")]=new D(e)}return l(t,[{key:"uuid",get:function(){return this._shared.uuid}},{key:"shared",get:function(){return this._shared}}]),t}(),L=function(){function t(){s(this,t),this[a("0x79")]=[],this[a("0x7a")]=[],this[a("0x7b")]=new j(""),this[a("0x7c")]={}}return l(t,[{key:"createTree",value:function(t,e){var o=new M(t,e);e in this._treeCreateListeners&&(this._treeCreateListeners[e][a("0x32")](function(e){return e(t)}),this._treeCreateListeners[e][a("0x5")]=0,delete this[a("0x7c")][e]),this[a("0x79")][a("0x22")](o)}},{key:a("0x7d"),value:function(t){var e=this[a("0x79")][a("0x7e")](function(e){return e[a("0x74")]===t});-1!==e&&this._trees[a("0x6f")](e,1)}},{key:"notifyLoadTreeFailure",value:function(t){t in this[a("0x7c")]&&(this[a("0x7c")][t].forEach(function(t){return t(void 0)}),this._treeCreateListeners[t][a("0x5")]=0,delete this._treeCreateListeners[t])}},{key:a("0x7f"),value:function(t,e){t in this[a("0x7c")]?this._treeCreateListeners[t][a("0x22")](e):this[a("0x7c")][t]=[e]}},{key:a("0x80"),value:function(t){return this[a("0x79")][a("0x2e")](function(e){return e[a("0x74")]===t})||void 0}},{key:"getScene",value:function(t){var e=this[a("0x7a")][a("0x2e")](function(e){return e.uuid===t});return e||(e=new B(t),this[a("0x7a")][a("0x22")](e)),e}},{key:a("0x81"),value:function(t,e){if(t===a("0x76")){var o=this[a("0x80")](e);return o?o[a("0x82")]:void 0}return"scene"===t?this.getScene(e)[a("0x82")]:"universe"===t?this[a("0x7b")][a("0x82")]:void 0}},{key:a("0x83"),value:function(t,e,o){var n=this[a("0x81")](e,o);return!!n&&n[a("0x84")](t)}},{key:a("0x85"),value:function(t,e,o){var n=this[a("0x81")](e,o);return!!n&&n[a("0x6d")](t)}},{key:a("0x86"),value:function(t,e,o){var n=this[a("0x81")](e,o);return!!n&&n[a("0x70")](t)}},{key:a("0x87"),value:function(t,e,o){var n=this[a("0x81")](e,o);return!!n&&n[a("0x72")](t)}},{key:a("0x88"),get:function(){return this._universe}}]),t}(),N=function t(){s(this,t),this[a("0x63")]=new R},G=function(){p(e,N);var t=v(e);function e(){return s(this,e),t[a("0x14")](this,arguments)}return l(e,[{key:a("0x89"),value:function(t,e){if(t.value&&t.value[a("0x74")]){if(!t[a("0x8")][a("0x8a")])return this[a("0x63")].w(a("0x8b"),t[a("0x8")],">"),void e(void 0);var o=cc[a("0x2e")](t[a("0x8")][a("0x8a")]);if(!o)return this[a("0x63")].w("cc.Node not found <",t[a("0x8")][a("0x8a")],">"),void e(void 0);this.log[a("0x5e")]&&this[a("0x63")].d("loaded <",o[a("0x1c")],"at",t[a("0x8")][a("0x8a")],">"),e(o)}else e(void 0)}}]),e}(),F=function(){p(e,N);var t=v(e);function e(){return s(this,e),t[a("0x14")](this,arguments)}return l(e,[{key:a("0x89"),value:function(t,e){if(t[a("0x8")]&&t[a("0x8")][a("0x74")]){if(!t[a("0x8")][a("0x8a")])return this.log.w(a("0x8b"),t[a("0x8")],">"),void e(void 0);if(!t[a("0x8c")])return this[a("0x63")].w(a("0x8d"),t[a("0x8")],">"),void e(void 0);var o=cc[a("0x2e")](t.value[a("0x8a")]);if(!o)return this[a("0x63")].w("cc.Node not found <",t[a("0x8")].path,">"),void e(void 0);var n=o[a("0x8e")](t[a("0x8c")]);if(!n)return this[a("0x63")].w("<",t[a("0x8c")],a("0x8f"),t[a("0x8")][a("0x8a")],">"),void e(void 0);this.log[a("0x5e")]&&this.log.d(a("0x90"),n[a("0x1c")],"at",t[a("0x8")][a("0x8a")],">"),e(n)}else e(void 0)}}]),e}(),U=function(){p(e,N);var t=v(e);function e(){return s(this,e),t[a("0x14")](this,arguments)}return l(e,[{key:a("0x89"),value:function(t,e){var o=this;t[a("0x8")]&&t.value.uuid?cc.assetManager&&cc[a("0x91")][a("0x92")]?cc[a("0x91")][a("0x92")]({uuid:t[a("0x8")].uuid},{bundle:a("0x93")},function(n,i){n?(o[a("0x63")].w(a("0x94"),t[a("0x8")][a("0x74")],a("0x95"),n[a("0x96")]),e(void 0)):(o[a("0x63")].VERBOSE&&o[a("0x63")].d(a("0x90"),i[a("0x1c")],i,">"),e(i))}):cc[a("0x97")][a("0x98")]({uuid:t.value[a("0x74")]},function(n,i){n?(o.log.w(a("0x94"),t.value[a("0x74")],a("0x95"),n.message),e(void 0)):(o[a("0x63")].VERBOSE&&o[a("0x63")].d(a("0x90"),i[a("0x1c")],i,">"),e(i))}):e(void 0)}}]),e}(),W=function(){p(e,N);var t=v(e);function e(){return s(this,e),t[a("0x14")](this,arguments)}return l(e,[{key:"des",value:function(t,e){if(t[a("0x8")]){if(!(t[a("0x8")]instanceof Array)||2!==t[a("0x8")][a("0x5")])return this.log.w("invalid format <",t[a("0x8")],">"),void e(void 0);var o=f(cc[a("0x99")],b(t[a("0x8")]));this[a("0x63")][a("0x5e")]&&this[a("0x63")].d(a("0x90"),o,">"),e(o)}else e(void 0)}}]),e}(),H=function(){p(e,N);var t=v(e);function e(){return s(this,e),t[a("0x14")](this,arguments)}return l(e,[{key:a("0x89"),value:function(t,e){if(t[a("0x8")]){if(!(t[a("0x8")]instanceof Array)||3!==t[a("0x8")][a("0x5")])return this[a("0x63")].w(a("0x9a"),t[a("0x8")],">"),void e(void 0);var o=f(cc[a("0x9b")],b(t[a("0x8")]));this.log[a("0x5e")]&&this[a("0x63")].d(a("0x90"),o,">"),e(o)}else e(void 0)}}]),e}(),V=function(){p(e,N);var t=v(e);function e(){return s(this,e),t.apply(this,arguments)}return l(e,[{key:"des",value:function(t,e){if(t[a("0x8")]){if(!(t[a("0x8")]instanceof Array)||4!==t[a("0x8")][a("0x5")])return this[a("0x63")].w(a("0x9a"),t[a("0x8")],">"),void e(void 0);var o=f(cc[a("0x9c")],b(t[a("0x8")]));this[a("0x63")][a("0x5e")]&&this.log.d(a("0x90"),o,">"),e(o)}else e(void 0)}}]),e}(),J=function(){function t(){s(this,t),this[a("0x5e")]=R[a("0x5e")],this[a("0x9d")]=new R(a("0x9e"))}return l(t,[{key:"d",value:function(t){for(var e=arguments[a("0x5")],o=new Array(e>1?e-1:0),n=1;n<e;n++)o[n-1]=arguments[n];var i;if(typeof t===a("0x44"))(i=this[a("0x9d")]).d[a("0x14")](i,[t].concat(o));else if(c(t)===a("0x16")){(t&&t[a("0x63")]&&t[a("0x63")].d?t[a("0x63")].d:this.dft.d)[a("0x14")](void 0,o)}}},{key:"i",value:function(t){for(var e=arguments.length,o=new Array(e>1?e-1:0),n=1;n<e;n++)o[n-1]=arguments[n];var i;if(typeof t===a("0x44"))(i=this[a("0x9d")]).i[a("0x14")](i,[t].concat(o));else if(c(t)===a("0x16")){(t&&t[a("0x63")]&&t[a("0x63")].i?t.log.i:this[a("0x9d")].i)[a("0x14")](void 0,o)}}},{key:"w",value:function(t){for(var e=arguments[a("0x5")],o=new Array(e>1?e-1:0),n=1;n<e;n++)o[n-1]=arguments[n];var i;if("string"==typeof t)(i=this.dft).w[a("0x14")](i,[t].concat(o));else if(c(t)===a("0x16")){(t&&t[a("0x63")]&&t[a("0x63")].w?t[a("0x63")].w:this[a("0x9d")].w).apply(void 0,o)}}},{key:"e",value:function(t){for(var e=arguments.length,o=new Array(e>1?e-1:0),n=1;n<e;n++)o[n-1]=arguments[n];var i;if(typeof t===a("0x44"))(i=this[a("0x9d")]).e[a("0x14")](i,[t].concat(o));else if(c(t)===a("0x16")){(t&&t.log&&t.log.e?t[a("0x63")].e:this[a("0x9d")].e)[a("0x14")](void 0,o)}}},{key:a("0x60"),set:function(t){this[a("0x9d")].tag=t},get:function(){return this[a("0x9d")][a("0x60")]}}]),t}(),q=function(){p(e,N);var t=v(e);function e(){return s(this,e),t[a("0x14")](this,arguments)}return l(e,[{key:a("0x89"),value:function(t,e){e(t[a("0x8")])}}]),e}(),z=function(){p(e,N);var t=v(e);function e(){return s(this,e),t[a("0x14")](this,arguments)}return l(e,[{key:"des",value:function(t,e){typeof t[a("0x8")]===a("0x44")?t[a("0x8")]===a("0x9f")?e(1/0):t[a("0x8")]===a("0xa0")?e(-1/0):e(Number(t[a("0x8")])):typeof t[a("0x8")]===a("0xa1")?e(t[a("0x8")]):e(0)}}]),e}(),K=function(){p(e,N);var t=v(e);function e(o){var n;return s(this,e),(n=t[a("0x12")](this))._loader=void 0,n[a("0xa2")]=o,n}return l(e,[{key:a("0x89"),value:function(t,e){if(t.value){if(!t[a("0x8")][a("0x74")])return this[a("0x63")].w(a("0xa3").concat(t[a("0x8")]," >")),void e(void 0);var o=this[a("0xa2")][a("0xa4")](t[a("0x8")][a("0x74")]);if(!o)return this[a("0x63")].w(a("0xa5").concat(t[a("0x8")])),void e(void 0);this[a("0x63")][a("0x5e")]&&this[a("0x63")].d("loaded < "[a("0x66")](o[a("0x1c")]," ")[a("0x66")](o[a("0x74")]," >")),e(o)}else e(void 0)}}]),e}(),X=function(){p(e,N);var t=v(e);function e(o){var n;return s(this,e),(n=t.call(this))._loader=void 0,n[a("0xa2")]=o,n}return l(e,[{key:a("0x89"),value:function(t,e){if(t[a("0x8")]){if(!t.value.uuid)return this[a("0x63")].w(a("0xa3")[a("0x66")](t[a("0x8")]," >")),void e(void 0);var o=this._loader.findTask(t[a("0x8")].uuid);if(!o)return this[a("0x63")].w(a("0xa5")[a("0x66")](t)),void e(void 0);this.log[a("0x5e")]&&this[a("0x63")].d(a("0xa6").concat(o[a("0x1c")]," ").concat(o.uuid," >")),e(o)}else e(void 0)}}]),e}(),Y=function(){p(e,N);var t=v(e);function e(o){var n;return s(this,e),(n=t.call(this))[a("0xa7")]=void 0,n[a("0xa7")]=o,n}return l(e,[{key:"des",value:function(t,e){var o=this;if(t.value){if(!t[a("0x8")][a("0xa8")])return this[a("0x63")].w(a("0xa9")[a("0x66")](t.value," >")),void e(void 0);var n=this[a("0xa7")][a("0x80")](t[a("0x8")].entry);n?(this.log[a("0x5e")]&&this[a("0x63")].d(a("0xaa")[a("0x66")](n[a("0x76")][a("0xab")]," ")[a("0x66")](n[a("0x76")][a("0x74")]," >")),e(n.tree)):(this[a("0x63")][a("0x5e")]&&this.log.d(a("0xac")[a("0x66")](t.value[a("0xa8")],a("0xad"))),this[a("0xa7")][a("0x7f")](t[a("0x8")][a("0xa8")],function(n){n?(o[a("0x63")][a("0x5e")]&&o[a("0x63")].d(a("0xaa").concat(n.behaviorName," ").concat(t[a("0x8")].entry," >")),e(n)):(o[a("0x63")].w(a("0xae")[a("0x66")](t[a("0x8")][a("0xa8")]," >")),e(void 0))}))}else e(void 0)}}]),e}(),Q=function(){function t(e,o){var n=this;s(this,t),this[a("0x63")]=new J,this[a("0xb1")]={},this._dftDeser=new q,this.log.VERBOSE=o[a("0x63")][a("0x5e")],0!==t._w[a("0x5")]&&t._w[a("0x32")](function(t){t[a("0x54")]===a("0xb2")?n[a("0xb3")](t[a("0x54")],new(t[a("0x2f")])(e)):"bt-sharedvariable"===t[a("0x54")]?n[a("0xb3")](t[a("0x54")],new(t[a("0x2f")])(o)):t[a("0x54")]===a("0xb4")?n[a("0xb3")](t[a("0x54")],new(t[a("0x2f")])(o)):n.addDeser(t.type,new(t[a("0x2f")]))})}return l(t,null,[{key:a("0xaf"),value:function(e,o){t._w.every(function(t){return t.type!==e})?(R[a("0x5e")]&&R.d(R[a("0x61")],a("0xb0")[a("0x66")](e)),t._w[a("0x22")]({type:e,ctor:o})):R.w(R.TAG,"prop deser already registered: "[a("0x66")](e))}}]),l(t,[{key:a("0xb3"),value:function(t,e){Object[a("0xa")](this[a("0xb1")],t,{value:e,enumerable:!0,writable:!1,configurable:!1}),e[a("0x63")][a("0x60")]=""[a("0x66")](t,a("0xb5")),e[a("0x63")][a("0x5e")]=this[a("0x63")][a("0x5e")]}},{key:"getDeser",value:function(t){return t in this[a("0xb1")]?this[a("0xb1")][t]:this[a("0xb6")]}},{key:a("0xb7"),value:function(t,e){if(null!=t.value){var o=this[a("0xb8")](t[a("0x54")]);if(o&&o[a("0x89")])return void o[a("0x89")](t,e)}e(void 0)}}]),t}();Q._w=[],Q[a("0xaf")](a("0xa1"),z),Q[a("0xaf")](a("0xb9"),K),Q.add(a("0xb4"),X),Q[a("0xaf")](a("0xb2"),Y),Q[a("0xaf")](a("0xba"),G),Q[a("0xaf")]("cc-comp",F),Q[a("0xaf")](a("0xbb"),U),Q.add(a("0xbc"),W),Q[a("0xaf")](a("0xbd"),H),Q[a("0xaf")](a("0xbe"),V);var Z,$=function(){function t(){s(this,t),this[a("0xbf")]={}}return l(t,[{key:"set",value:function(t,e){this[a("0xbf")][t]=e}},{key:a("0xc0"),value:function(t){return this[a("0xbf")][t]||void 0}},{key:a("0xc1"),value:function(t){var e;for(var o in this[a("0xbf")])t((e=this[a("0xbf")][o])[a("0xc2")],e[a("0xc3")])}}]),t}(),tt=function(){function t(e,o){s(this,t),this[a("0xbf")]={},this[a("0xc7")]=void 0,this[a("0xc6")]=0,this._root=o,this[a("0xc8")](e,o)}return l(t,[{key:a("0xc4"),get:function(){return this._root}},{key:a("0xc5"),get:function(){return this[a("0xc6")]}}]),l(t,[{key:a("0xc8"),value:function(t,e){this[a("0xbf")][t]=e,++this[a("0xc6")]}},{key:a("0xc0"),value:function(t){return this[a("0xbf")][t]}}]),t}(),et=function(){function t(){s(this,t),this[a("0xc9")]=[],this[a("0xca")]=void 0}return l(t,[{key:a("0xaf"),value:function(t){t instanceof $?this[a("0xc9")].push(t):t instanceof tt&&(this[a("0xca")]=t)}},{key:"findVariable",value:function(t){var e=void 0;return this[a("0xc9")][a("0x49")](function(o){var n=o[a("0xc0")](t);return!!n&&(e=n[a("0xc2")],!0)}),e}},{key:a("0xcb"),value:function(t){var e=this._taskMap?this._taskMap[a("0xc0")](t):void 0;return e?e[a("0xcc")]:void 0}},{key:a("0xcd"),get:function(){return this[a("0xc9")]}},{key:"taskMap",get:function(){return this[a("0xca")]}}]),t}(),ot={},nt=function(){function t(e,o,n){s(this,t),this[a("0x63")]=new J,this._sceneUuid=void 0,this._cache=new et,this[a("0xcf")]=void 0,this[a("0x63")][a("0x5e")]=o[a("0xd0")],this[a("0x63")][a("0x60")]=o[a("0x63")][a("0x60")],this[a("0xd1")]=e,this[a("0xcf")]=new Q(n,this),this[a("0xcf")][a("0x63")][a("0x5e")]=o[a("0xd0")]}return l(t,[{key:a("0xce"),get:function(){return this._propDeser}}]),l(t,[{key:a("0xd2"),value:function(t,e,o){var n=this,i=Object[a("0xd3")](e).length;if(0!==i){var r=function(r){var c=e[r],s=t[r],_=function(e){s!=e&&(t[r]=e,n[a("0x63")][a("0x5e")]&&n[a("0x63")].d(t,a("0xd4")+r+'" <',s,a("0xd5"),e,">")),0==--i&&o()},l=void 0,p=void 0,u=void 0,d=void 0,h=void 0;if(a("0x54")in c?(l=c[a("0x53")],p=c[a("0x8")],u=c[a("0x54")],d=c[a("0x8c")],h=c[a("0xd6")]):(l=c.a,p=c.v,u=c.t,d=c.r,h=c.s),l)if(p instanceof Array){var f=p.length;0===f?_([]):function(){for(var t=[],e=function(e){t[a("0x22")](void 0),n[a("0xcf")][a("0xb7")]({type:u,comptype:d,assettype:h,value:p[e]},function(o){return n=o,t[e]=n,void(0==--f&&_(t));var n})},o=0,i=p[a("0x5")];o<i;++o)e(o)}()}else null!=p?(n[a("0x63")].w(t,"invalid "[a("0x66")](r,a("0xd7"))[a("0x66")](p)),_(void 0)):_(void 0);else n[a("0xcf")][a("0xb7")]({type:u,comptype:d,assettype:h,value:p},_)};for(var c in e)r(c)}else o()}},{key:a("0xd8"),value:function(t){var e=this[a("0xd9")](t,a("0x88"));return!!e&&(Z||(Z=new et),Z.add(e),!0)}},{key:a("0xda"),value:function(t){var e,o=a("0xdb")[a("0x66")](this[a("0xd1")][a("0xdc")]("-")[0]),n=this[a("0xd9")](t,o);return!!n&&(this._sceneUuid in ot?e=ot[this._sceneUuid]:(e=new et,ot[this._sceneUuid]=e),e[a("0xaf")](n),!0)}},{key:a("0xdd"),value:function(t){var e=this[a("0xd9")](t,this[a("0x63")][a("0x60")]);return!!e&&(this._cache.add(e),!0)}},{key:a("0xd9"),value:function(t,e){var o=t.vs||t[a("0x75")];if(o){var n=new $;for(var i in o){var r=o[i],c=r.n||r[a("0x3e")],s=k[a("0x5c")](c);s?(this.log.VERBOSE&&R.d(R[a("0x61")],"[ "[a("0x66")](e,a("0xdf"))[a("0x66")](c," ").concat(i)),s.log[a("0x5f")]=e,s[a("0x63")][a("0x60")]="".concat(c,"<").concat(s[a("0x1c")],">"),n.set(i,{uuidtomap:i,variable:s})):this.log[a("0x5e")]&&R.w(R.TAG,"[ ".concat(e," ] missing variable < ")[a("0x66")](c,a("0xe0"))+"instantiation skipped.")}return n}this[a("0x63")][a("0x5e")]&&R.w(R[a("0x61")],"[ "[a("0x66")](e,a("0xde")))}},{key:a("0xe1"),value:function(t,e){this[a("0xe2")](t,e,a("0x88"))}},{key:a("0xe3"),value:function(t,e){var o=a("0xdb")[a("0x66")](this[a("0xd1")][a("0xdc")]("-")[0]);this[a("0xe2")](t,e,o)}},{key:"loadVariables",value:function(t,e){this._loadVariables(t,e,this[a("0x63")][a("0x60")])}},{key:"findVariable",value:function(t){var e=this[a("0xbf")][a("0xa4")](t);return e||(this._sceneUuid in ot&&(e=ot[this._sceneUuid][a("0xa4")](t))?e:Z[a("0xa4")](t))}},{key:a("0xe2"),value:function(t,e,o){var n=this,i=t.vs||t[a("0x75")];if(!i)return this[a("0x63")][a("0x5e")]&&R.d(R[a("0x61")],"[ "[a("0x66")](o,a("0xde"))),void e(void 0);var r=Object[a("0xd3")](i)[a("0x5")];if(0===r)return this[a("0x63")].VERBOSE&&R.d(R[a("0x61")],"[ "[a("0x66")](o,a("0xe4"))),void e([]);this.log[a("0x5e")]&&R.d(R.TAG,"[ ".concat(o,a("0xe5"))[a("0x66")](r,a("0xe6")));var c=[],s=function(t){var s=i[t],_=s.p||s.props,l=function(t){t&&c[a("0x22")](t),0==--r&&(n[a("0x63")][a("0x5e")]&&R.d(R[a("0x61")],"[ "[a("0x66")](o," ] loaded ")[a("0x66")](c[a("0x5")],a("0xe6"))),e(c))},p=n[a("0xa4")](t);p?n[a("0xd2")](p,_,function(){l(p)}):(n[a("0x63")][a("0x5e")]&&R.w(R[a("0x61")],"[ "[a("0x66")](o," ] variable not prepared ")[a("0x66")](t)),l(void 0))};for(var _ in i)s(_)}},{key:a("0xe7"),value:function(t){var e,o=this,n=t.ts||t.tasks;if(!n)return a("0xe8");for(var i in n)if("Entry"===(n[i].n||n[i][a("0x3e")])){e=n[i];break}if(!e)return"entry not defined";var r=e.c||e[a("0xe9")];if(!r||0===r.length)return a("0xea");for(var c in n)n[c].uuid=c;var s=new tt(e[a("0x74")],{uuidtomap:e[a("0x74")],task:k[a("0x5c")]("Entry",void 0,e[a("0x74")]),props:{},children:e[a("0xe9")],isSubtree:!1});this._cache[a("0xaf")](s);var _=null;return function t(e){var i=e.c||e[a("0xe9")];return!(i&&0!==i[a("0x5")]&&!i.every(function(i){var r=n[i];if(!r)return _=""[a("0x66")](e[a("0x74")],a("0xeb")).concat(i),!1;var c,l=r.n||r[a("0x3e")],p=r.m||r[a("0x55")],u=r.c||r[a("0xe9")],d=r.p||r.props,h=!1;if(l===a("0xec")&&p===a("0xec"))h=!0,c=void 0;else if("State"===l&&p===a("0xed")){if(u[a("0x5")]=0,u[a("0x22")](r.action),u[a("0x22")][a("0x14")](u,b(r[a("0xee")])),u[a("0x5")]>0){var f=n[u[0]],y=f.p||f.props,g=f.n||f[a("0x3e")],v=y[a("0x1c")],m=v?v.value:void 0;d[a("0x1c")][a("0x8")]=m?""[a("0x66")](g,"<")[a("0x66")](m,">"):""[a("0x66")](g,"<>")}c=k[a("0x5c")](l,p)}else if(l===a("0xef")&&p===a("0xed")){var A=r.state[a("0x74")],x=!1;for(var C in n)if(n[C][a("0x3e")]===a("0xed")){var w=n[C][a("0xe9")][a("0x73")](A);if(-1!==w){d.nextStateIndex[a("0x8")]=w,x=!0;break}}if(!x)return _=a("0xf0")[a("0x66")](A,a("0xf1")),!1;if(u[a("0x5")]>0){var T=n[u[0]],E=T.p||T[a("0x30")],S=T.n||T.btname,O=E[a("0x1c")],P=O?O.value:void 0;d[a("0x1c")][a("0x8")]=P?""[a("0x66")](S,"<")[a("0x66")](P,">"):"".concat(S,"<>")}c=k[a("0x5c")](l,p)}else c=k[a("0x5c")](l,p);if(c){var I={uuidtomap:i,task:c,props:d,children:u,isSubtree:h};return o[a("0x63")].VERBOSE&&o.log.d(a("0xf2").concat(l," ")[a("0x66")](i)),c.log[a("0x5f")]=o.log[a("0x60")],c.log[a("0x60")]="".concat(l,"<").concat(c[a("0x1c")],">"),s[a("0xc8")](i,I),t(r)}if(h){var R={uuidtomap:i,task:c,props:d,children:u,isSubtree:h};return s&&s[a("0xc8")](i,R),t(r)}return _=a("0xf3")[a("0x66")](l," ").concat(p," >. ")+a("0xf4"),!1}))}(e),_}},{key:a("0xcb"),value:function(t){return this._cache[a("0xcb")](t)}},{key:a("0xf5"),value:function(t,e){var o=this;if(t.ts||t[a("0xf6")]){var n=this._cache[a("0xf7")];if(n){var i=n[a("0xc5")];this.log[a("0x5e")]&&this[a("0x63")].d(a("0xf9")[a("0x66")](i,a("0xfa")));var r=function t(e){return!(e[a("0xe9")]&&0!==e[a("0xe9")][a("0x5")]&&!e[a("0xe9")].every(function(o){var i=n[a("0xc0")](o);if(!i)return!1;if(i.isSubtree&&!(i=i.children&&i.children[a("0x5")]>0?n[a("0xc0")](i[a("0xe9")][0]):void 0))return!1;var r=e[a("0xcc")];return r.addChild(i[a("0xcc")]),i[a("0xcc")][a("0xfb")](r),!!t(i)}))},c=function(){0==--i&&(o[a("0x63")][a("0x5e")]&&o[a("0x63")].d(a("0xfe")[a("0x66")](n[a("0xc5")],a("0xfa"))),r(n[a("0xc4")])?(o[a("0x63")][a("0x5e")]&&o.log.d(a("0xfc")),e(void 0,n.root[a("0xcc")])):e(a("0xfd")))};(function t(e){return!(!e||(e.isSubtree?c():o[a("0xd2")](e.task,e.props,c),e[a("0xe9")]&&0!==e[a("0xe9")].length&&!e[a("0xe9")][a("0x5a")](function(e){return t(n[a("0xc0")](e))})))})(n[a("0xc4")])||0===i||e(a("0xff"))}else e(a("0xf8"))}else e(a("0xe8"))}}]),t}(),it=new(function(){function t(){s(this,t),this[a("0x100")]=void 0,this._stamp=(new Date).getTime(),this[a("0x100")]=new L}return l(t,[{key:a("0x101"),value:function(t,e){this[a("0x100")][a("0x101")](t,e)}},{key:a("0x7d"),value:function(t){this[a("0x100")][a("0x7d")](t)}},{key:"notifyLoadTreeFailure",value:function(t){this._manager[a("0x102")](t)}},{key:"createJsonLoader",value:function(t,e){return new nt(t,e,this[a("0x100")])}},{key:a("0x83"),value:function(t,e,o){return this[a("0x100")][a("0x83")](t,e,o)}},{key:a("0x85"),value:function(t,e,o){return this._manager[a("0x85")](t,e,o)}},{key:a("0x103"),value:function(t,e,o){var n=o||[],i=this[a("0x100")][a("0x81")](t,e);return i&&n.push.apply(n,b(i.tasks)),n}},{key:"addSharedVariable",value:function(t,e,o){return this[a("0x100")][a("0x86")](t,e,o)}},{key:"removeSharedVariable",value:function(t,e,o){return this[a("0x100")][a("0x87")](t,e,o)}},{key:a("0x104"),value:function(t,e,o){var n=o||[],i=this._manager[a("0x81")](t,e);return i&&n[a("0x22")][a("0x14")](n,b(i[a("0x75")])),n}},{key:"stamp",get:function(){return this[a("0x105")]}}]),t}());function rt(t){if(a("0x106")in t)return t;Object[a("0xa")](t,"__enums__",{value:null,enumerable:!1,writable:!0,configurable:!0});for(var e=-1,o=Object.keys(t),n=0;n<o.length;n++){var i=o[n],r=t[i];if(-1===r)r=++e,t[i]=r;else if("number"==typeof r)e=r;else if("string"==typeof r&&Number.isInteger(parseFloat(i)))continue;var c=""+r;if(i!==c){if(c in t&&t[c]!==i)continue;Object[a("0xa")](t,c,{value:i,enumerable:!1,writable:!0,configurable:!0})}}return t}o._factory=it,rt[a("0x107")]=function(t){return t&&t[a("0x108")](a("0x106"))},rt[a("0x109")]=function(t){if(t.__enums__)return t[a("0x106")];var e=t.__enums__=[];for(var o in t){var n=t[o];Number[a("0x10a")](n)&&e[a("0x22")]({name:o,value:n})}return e[a("0x10b")](function(t,e){return t.value-e[a("0x8")]}),e};var at,ct,st=function(t,e){return"Infinity"===e?1/0:e===a("0xa0")?-1/0:e},_t=function(){function t(e,o,n){if(s(this,t),this[a("0x63")]=new R("preview"),this[a("0x10c")]=void 0,this[a("0x77")]=void 0,this._entry=void 0,this[a("0x68")]=new Map,this._ready=!1,this[a("0x10e")]=[],this[a("0xcf")]=void 0,this._tree=e,this[a("0x10f")]=o,this[a("0xcf")]=n,at)return at;if(at=this,e.options&&!0===e[a("0x110")].ws){var i=e[a("0x110")][a("0x111")]||9527,r=a("0x112")[a("0x66")](i);this[a("0x10c")]=new WebSocket(r),this[a("0x10c")][a("0x113")]=this.onopen.bind(this),this._ws[a("0x114")]=this[a("0x114")][a("0x13")](this),this._ws[a("0x115")]=this[a("0x115")].bind(this),this[a("0x10c")][a("0x116")]=this.onmessage[a("0x13")](this),this[a("0x63")].d(a("0x117").concat(e.log.tag))}}return l(t,[{key:"listening",get:function(){return this[a("0x10c")]&&this[a("0x10c")][a("0x10d")]===WebSocket.OPEN}}]),l(t,[{key:"stop",value:function(){this._ws&&this[a("0x10c")][a("0x10d")]===WebSocket[a("0x118")]&&this[a("0x10c")][a("0x119")]()}},{key:a("0x11a"),value:function(t){this[a("0x11b")]&&this[a("0x10c")]&&this._ws[a("0x10d")]===WebSocket[a("0x118")]?this[a("0x10c")][a("0x11a")](t):this._pendingMsgs[a("0x22")](t)}},{key:a("0x113"),value:function(){var t=this;this[a("0x63")].d(a("0x11c")),this[a("0x11b")]=!0,0!==this[a("0x10e")][a("0x5")]&&(this._pendingMsgs[a("0x32")](function(e){return t[a("0x11a")](e)}),this[a("0x10e")][a("0x5")]=0)}},{key:a("0x114"),value:function(t){this[a("0x63")].d(a("0x11d")[a("0x66")](t.reason)),this[a("0x11b")]=!1}},{key:a("0x115"),value:function(t){this[a("0x63")].d(a("0x11e").concat(t[a("0x54")]))}},{key:a("0x116"),value:function(t){var e,o=this,n=JSON[a("0x11f")](t[a("0x120")],st);if(n.bttype===a("0x4f")?e=this[a("0x77")]:n[a("0x39")]===a("0x50")&&(e=this[a("0x68")][a("0xc0")](n[a("0x74")])),e){if(!n.valid)return e[a("0x63")].d(a("0x121"),n.name,"<",e[n[a("0x1c")]],"> to <",void 0,">"),void(e[n[a("0x1c")]]=void 0);n.array?n[a("0x8")]?(e[n[a("0x1c")]]=[],0!==n.value[a("0x5")]&&n[a("0x8")].forEach(function(t,i){e[n[a("0x1c")]][a("0x22")](void 0),o[a("0xcf")][a("0xb7")]({type:n[a("0x54")],assettype:n[a("0xd6")],value:t},function(t){e[a("0x63")].d(a("0x121"),n.name,i,"<",e[n[a("0x1c")]][i],a("0xd5"),t,">"),e[n.name][i]=t})})):(e.log.d(a("0x121"),n[a("0x1c")],"<",e[n.name],a("0xd5"),void 0,">"),e[n[a("0x1c")]]=void 0):this[a("0xcf")][a("0xb7")](n,function(t){e[a("0x63")].d("update",n[a("0x1c")],"<",e[n[a("0x1c")]],"> to <",t,">"),e[n.name]=t})}}},{key:a("0x122"),value:function(t){var e=this;if(t===a("0x11c")){var o=function t(o){var n=o[a("0x74")]!==e._entry.uuid?k.getclsname(o[a("0x17")]):"Entry",i=o.uuid;if(e[a("0x68")][a("0xc8")](i,o),k[a("0x123")](o[a("0x17")],a("0x124"))){for(var r=[],c=o,s=0,_=c[a("0x125")];s<_;++s)r[s]=t(c.at(s));return{btname:n,uuid:i,children:r}}return{btname:n,uuid:i}}(this[a("0x10f")]),n=JSON[a("0x126")]({isTreeEvent:!0,event:t,data:o});this[a("0x11a")](n)}else this[a("0x11a")](JSON[a("0x126")]({isTreeEvent:!0,event:t,treeStatus:this[a("0x10f")][a("0x127")]}))}},{key:a("0x128"),value:function(t,e){var o;o=t[a("0x129")]?!t[a("0x129")][a("0x12a")]||!k[a("0x123")](t.parent[a("0x17")],"ParallelCompositeTask",a("0x12b"))&&t[a("0x12c")]!==t[a("0x129")].childIndex:!this._entry[a("0x12a")],this[a("0x11a")](JSON[a("0x126")]({uuid:t[a("0x74")],event:"exec",status:e,treeStatus:this[a("0x10f")].status,condition:o})),t[a("0x74")]===this[a("0x10f")][a("0x74")]&&this[a("0x11a")](JSON.stringify({isTreeEvent:!0,event:a("0x12d"),treeStatus:this[a("0x10f")][a("0x127")]}))}}]),t}(),lt={universe:!0,scenes:{}},pt={universe:!1,scenes:{}},ut={},dt=[],ht={},ft=function(){function t(e,o){s(this,t),this[a("0x63")]=new R,this._options=void 0,this[a("0x77")]=void 0,this._ctrl=void 0,this[a("0x12e")]=void 0,this[a("0x10f")]=void 0,this[a("0xd1")]=void 0,this[a("0x63")][a("0x60")]=o[a("0x63")][a("0x60")],this[a("0x63")].VERBOSE=o.log[a("0x5e")],this[a("0x77")]=e,this[a("0x12f")]=o,this._options=e[a("0x110")],this[a("0xd1")]=this[a("0x130")](),this[a("0x12e")]=it[a("0x131")](this._sceneUuid,e)}return l(t,[{key:a("0x76"),get:function(){return this[a("0x77")]}}]),l(t,[{key:a("0x132"),value:function(){this[a("0xd1")]?this[a("0x133")]?this[a("0x134")]():(this[a("0x135")](this[a("0x134")].bind(this)),this[a("0x136")]||this[a("0x137")]()):this[a("0x138")]("scene uuid not found")}},{key:a("0x137"),value:function(){var t=this;this.isUniverseLoading=!0,this[a("0x139")](a("0x88"),function(e,o){o?t[a("0x13a")](o):(R.d(R.TAG,a("0x13b")),t[a("0x133")]=!0,t[a("0x136")]=!1,t[a("0x13c")]())})}},{key:a("0x13a"),value:function(t){var e=this;this[a("0x12e")][a("0xd8")](t),this[a("0x12e")][a("0xe1")](t,function(t){e[a("0x133")]=!0,e.isUniverseLoading=!1,t?e[a("0x13c")]():(e[a("0x13d")]=a("0x13e"),e[a("0x13c")]())})}},{key:a("0x135"),value:function(t){dt[a("0x22")](t)}},{key:a("0x13c"),value:function(){dt[a("0x32")](function(t){return t()}),dt[a("0x5")]=0}},{key:a("0x134"),value:function(){this[a("0x13d")]?this[a("0x138")](this[a("0x13d")]):this[a("0x13f")]?this.onSceneLoaded():(this[a("0x140")](this[a("0x141")][a("0x13")](this)),this[a("0x142")]||this[a("0x143")]())}},{key:a("0x143"),value:function(){var t=this;this[a("0x142")]=!0,this.onDeserialize(a("0x144"),function(e,o){o?t[a("0x145")](o):(R.d(R[a("0x61")],a("0x146")[a("0x66")](t._sceneUuid)),t[a("0x13f")]=!0,t[a("0x142")]=!1,t[a("0x147")]())})}},{key:a("0x145"),value:function(t){var e=this;this[a("0x12e")].prepareSceneVariables(t),this._jsonLoader[a("0xe3")](t,function(t){e[a("0x13f")]=!0,e[a("0x142")]=!1,t?e[a("0x147")]():(e.sceneError=a("0x148"),e[a("0x147")]())})}},{key:a("0x140"),value:function(t){var e;this[a("0xd1")]in ht?e=ht[this[a("0xd1")]]:(e=[],ht[this[a("0xd1")]]=e),e[a("0x22")](t)}},{key:a("0x147"),value:function(){this[a("0xd1")]in ht&&(ht[this[a("0xd1")]].forEach(function(t){return t()}),ht[this[a("0xd1")]][a("0x5")]=0,delete ht[this._sceneUuid])}},{key:a("0x141"),value:function(){this[a("0x149")]?this[a("0x138")](this.sceneError):this.loadTree()}},{key:a("0x14a"),value:function(){var t=this;this[a("0x139")](a("0x76"),function(e,o){o?t[a("0x14b")](o):t[a("0x138")](a("0x14c"))})}},{key:"loadTreeFromJson",value:function(t){var e=this;if(!0===t.executable||"b"in t&&"ts"in t&&"vs"in t){var o=t.b||t[a("0x76")];if(o){var n=o.p||o[a("0x30")];if(n){var i,r=t.ts||t[a("0xf6")],c=void 0;for(var s in r)if("Entry"===(r[s].n||r[s][a("0x3e")])){it[a("0x101")](this[a("0x77")],s),c=s;break}if(c)if(this.log.d(a("0x151")[a("0x66")](this[a("0x77")][a("0xab")]," ")[a("0x66")](c," >")),this._jsonLoader.prepareVariables(t))if(i=this[a("0x12e")][a("0xe7")](t))this.onLoadError(i);else{var _=function(){e[a("0x12e")][a("0xd2")](e[a("0x77")],n,e.onLoaded.bind(e))};e[a("0x12e")].loadVariables(t,function(o){o?e[a("0x12e")][a("0xf5")](t,function(t,o){o?(e[a("0x10f")]=o,e[a("0x10f")].on(a("0x153"),function(t){return it[a("0x7d")](t[a("0x74")])}),_()):e.onLoadError(t)}):e[a("0x138")]("failed to load tree variables")})}else this.onLoadError(a("0x152"));else this[a("0x138")](a("0x150"))}else this.onLoadError(a("0x14f"))}else this.onLoadError(a("0x14e"))}else this[a("0x138")](a("0x14d"))}},{key:a("0x154"),value:function(){var t;this[a("0x155")](),t=this._options&&!0===this[a("0x156")].ws?new _t(this[a("0x77")],this[a("0x10f")],this[a("0x12e")][a("0xce")]):void 0,this[a("0x12f")].onBehaviorLoaded(this._tree,this[a("0x10f")],t)}},{key:a("0x138"),value:function(t){this.onReleaseResources(),this[a("0x63")].VERBOSE&&this[a("0x63")].w(t),this[a("0x77")][a("0x157")]&&this[a("0x77")].onBehaviorLoadError(this._tree,t),this[a("0x10f")]&&it[a("0x102")](this[a("0x10f")][a("0x74")]),this[a("0x63")].w("disabled")}},{key:"isUniverseLoaded",get:function(){return!0===lt[a("0x88")]},set:function(t){lt[a("0x88")]=t}},{key:a("0x136"),get:function(){return!0===pt[a("0x88")]},set:function(t){pt[a("0x88")]=t}},{key:a("0x13d"),get:function(){return ct},set:function(t){ct=t}},{key:a("0x13f"),get:function(){return!0===lt[a("0x158")][this._sceneUuid]},set:function(t){lt[a("0x158")][this._sceneUuid]=t}},{key:a("0x142"),get:function(){return!0===pt[a("0x158")][this[a("0xd1")]]},set:function(t){pt.scenes[this[a("0xd1")]]=t}},{key:a("0x149"),get:function(){return ut[this[a("0xd1")]]},set:function(t){ut[this[a("0xd1")]]=t}}]),t}(),yt=void 0,gt=cc.ENGINE_VERSION.split("."),vt=parseInt(gt[0]),bt=parseInt(gt[1]),mt=function(){p(e,ft);var t=v(e);function e(){var o;s(this,e);for(var n=arguments[a("0x5")],i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(o=t[a("0x12")].apply(t,[this][a("0x66")](i)))._sceneAsset=yt,o}return l(e,[{key:"getSceneUuid",value:function(){var t=this[a("0x76")][a("0x159")]?this.tree[a("0x159")][a("0x15a")]:void 0;return t&&t.scene?t.scene[a("0x74")]:cc[a("0x15b")][a("0x15c")]().uuid}},{key:a("0x139"),value:function(t,e){var o=this,n=this.tree[a("0x159")],i=n?n[a("0x15a")]:void 0;i?t===a("0x144")?2===vt?bt<4?cc[a("0x97")][a("0x15e")](a("0x15f").concat(this[a("0x130")]()),function(t,n){n&&n instanceof cc[a("0x160")]?(o[a("0x161")]=n,e(void 0,n[a("0x15a")])):e("cannot load "[a("0x66")](o.getSceneUuid()))}):cc[a("0x93")]&&cc.resources.load?cc[a("0x93")][a("0x98")](a("0x15f")[a("0x66")](this[a("0x130")]()),function(t,n){n&&n instanceof cc[a("0x160")]?(o._sceneAsset=n,e(void 0,n[a("0x15a")])):e(a("0x162")[a("0x66")](o[a("0x130")]()))}):e(a("0x162")[a("0x66")](this.getSceneUuid())):e(a("0x163")[a("0x66")](cc.ENGINE_VERSION)):t===a("0x76")?e(void 0,i):e(a("0x164")[a("0x66")](t)):e(a("0x15d"))}},{key:"onReleaseResources",value:function(){this[a("0x161")]&&(this[a("0x161")][a("0x165")]&&this._sceneAsset[a("0x153")](),this[a("0x161")]=yt)}}]),e}();o.BehaviorLoader=mt,o.APPNAME="behavior-dog",o.VERSION="1.3.2",cc._RF.pop()},{}],define:[function(t,e,o){"use strict";cc._RF.push(e,"57c56yAl3JKWYVz5eFLL8fv","define"),Object.defineProperty(o,"__esModule",{value:!0}),o.Define=void 0;var n=t("../prefab/public/OutputMessage"),i=t("../prefab/public/LoadingLayer"),r=t("../prefab/public/MessageBox"),a=t("../utils/LoadManager"),c=t("../logic/WorldManager"),s=t("./GlobaLocalData"),_=t("./enums"),l=t("../prefab/public/GameGuide"),p=t("../ads/HelpMgr");o.Define={colorRed:cc.color(255,63,9),colorWhite:cc.color(255,255,255),colorYellow:cc.color(255,250,0),colorPurple:cc.color(208,0,230),uuid:function(){return"xxxx-xxxx-xxxx-xxxx-xxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"==t?e:3&e|8).toString(16)})},isWeChat:function(){return!0},isTouTiao:function(){return cc.sys.BYTEDANCE_GAME==cc.sys.platform},isBaidu:function(){return cc.sys.BAIDU_GAME==cc.sys.platform},isOppo:function(){return cc.sys.platform==cc.sys.OPPO_GAME},isVivo:function(){return cc.sys.platform==cc.sys.VIVO_GAME},isIOS:function(){return cc.sys.platform==cc.sys.IPHONE||cc.sys.platform==cc.sys.IPAD},isWeb:function(){return cc.sys.platform==cc.sys.DESKTOP_BROWSER},urlParse:function(){var t,e,o={};if(null==window.location)return o;for(var n=window.location.href,i=n.indexOf("?"),r=(n=n.substr(i+1)).split("&"),a=0;a<r.length;a++)(i=r[a].indexOf("="))>0&&(t=r[a].substring(0,i),e=r[a].substr(i+1),o[t]=e);return o},addClickEvent:function(t,e,o,n){console.log(o+":"+n);var i=new cc.Component.EventHandler;i.target=e,i.component=o,i.handler=n,t.getComponent(cc.Button).clickEvents.push(i)},addSlideEvent:function(t,e,o,n){var i=new cc.Component.EventHandler;i.target=e,i.component=o,i.handler=n,t.getComponent(cc.Slider).slideEvents.push(i)},addScrollViewEvent:function(t,e,o,n){var i=new cc.Component.EventHandler;i.target=e,i.component=o,i.handler=n,t.getComponent(cc.ScrollView).scrollEvents.push(i)},formatstring:function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var n=t;if(arguments.length>1)if(2==arguments.length&&"object"==typeof e){for(var i in e)if(null!=e[i]){var r=new RegExp("{"+i+"}","g");n=n.replace(r,e[i])}}else for(var a=1;a<arguments.length;a++)null!=arguments[a]&&(r=new RegExp("({)"+a+"(})","g"),n=n.replace(r,arguments[a]));return n},SwitchTime:function(t){var e=Math.floor(t/60),o=t-60*e,n="";return n+=e<10?"0"+e.toString():e.toString(),(n+=":")+(o<10?"0"+o.toString():o.toString())},CreateLoading:function(t,e){void 0===t&&(t=""),void 0===e&&(e=!1),o.Define.RemoveLoading();var n=a.LoadManager.get("prefab/public/LoadingPrefab");if(n){var r=cc.instantiate(n);r.getComponent(i.LoadingLayer).setHint(t,e),r.x=cc.winSize.width/2,r.y=cc.winSize.height/2,r.name="LoadingLayer",cc.director.getScene().addChild(r,cc.macro.MAX_ZINDEX)}else console.error("ERROR: CreateLoading prefab = null")},RemoveLoading:function(){var t=cc.director.getScene().getChildByName("LoadingLayer");t&&t.removeFromParent(!0)},GetNowTime:function(){return"["+new Date(Date.now()).toUTCString()+"] "},RandomLoadHint:function(){var t=["","","","","",""];return t[Math.floor(100*Math.random())%t.length]},objectToParameter:function(t){if("object"!=typeof t)return"";var e="";return Object.keys(t).forEach(function(o){e+=o+"="+t[o]+"&"}),e.length>1&&(e=e.substr(0,e.length-1)),e},OutputMessage:function(t){var e=a.LoadManager.get("prefab/public/OutputMessage");if(e){var o=cc.director.getScene().getChildByName("OutputMessageLayer");null==o&&((o=cc.instantiate(e)).name="OutputMessageLayer",cc.director.getScene().addChild(o,cc.macro.MAX_ZINDEX)),o.getComponent(n.default).AddHint(t)}else console.error("ERROR: OutputMessage prefab = null")},PopMessageBox:function(t,e,o,n){var i=a.LoadManager.get("prefab/public/MessageBoxPrefab");if(i){var c=cc.instantiate(i);c.x=cc.winSize.width/2,c.y=cc.winSize.height/2,cc.director.getScene().addChild(c,cc.macro.MAX_ZINDEX),c.getComponent(r.MessageBox).PopMessageBox(t,e,o,n)}else console.error("ERROR: PopMessageBox prefab = null")},RandomNumInt:function(t,e){var o=e-t,n=Math.random();return t+Math.round(n*o)},ConvertNnm:function(t,e){void 0===e&&(e=!1);var o=t.toString();if(t<1e3)return{v:o,u:""};var n=Math.floor((o.length-1)/3)-1,i=o.length%3,r=["K","M","B","T"];if(i=0==i?3:i,n<0||n>r.length)return{v:o,u:""};for(var a="",c=0;c<i;c++)a+=o.charAt(c);return"0"==o.charAt(i)&&"0"==o.charAt(i+1)||(a+="."+o.charAt(i),"0"!=o.charAt(i+1)&&(a+=o.charAt(i+1))),e||(a+=r[n]),{v:a,u:r[n]}},ConvertN:function(t){return o.Define.ConvertNnm(t).v},ConvertChapter:function(t){var e=["一","二","三","四","五","六","七","八","九","十","十一","十二"];return t>e.length||t<0?t.toString():e[t-1]},ScreenWobble:function(t,e,o){void 0===t&&(t=1),void 0===e&&(e=5),void 0===o&&(o=null),e+=10;var n=c.WorldManager.Instance.Map.node;1!=n.__sccreen_wobble__&&(n.__sccreen_wobble__=!0,cc.tween(n).repeat(t,cc.tween(n).call(function(){o&&o()}).by(.1,{x:e,y:e}).by(.1,{x:-e,y:-e}).delay(.1)).to(.1,{x:0,y:0}).call(function(){n.__sccreen_wobble__=!1}).start())},Vibrate:function(t){if(0!=s.GlobaLocalData.instance.ReadGameConfig().shake){var e=c.WorldManager.Instance.Map.node;1!=e.__vibrate__&&(e.__vibrate__=!0,cc.tween(e).delay(.15).call(function(){e.__vibrate__=!1}).start(),o.Define.isWeChat()?p.default.instance.vibrateShort():(cc.sys.platform==cc.sys.ANDROID||o.Define.isIOS())&&jsb.Device.vibrate(t))}},BuriedPoint:function(){o.Define.isWeChat()},CreateGuideLayer:function(t,e){return void 0===t&&(t=_.GameGuideID.invalid),void 0===e&&(e=[]),new Promise(function(o){var n=a.LoadManager.get("prefab/public/GameGuide");if(n){var i=cc.instantiate(n);i.x=cc.winSize.width/2,i.y=cc.winSize.height/2,i.getComponent(l.default).init(t,e),cc.director.getScene().addChild(i,cc.macro.MAX_ZINDEX-1)}o()})}},cc._RF.pop()},{"../ads/HelpMgr":"HelpMgr","../logic/WorldManager":"WorldManager","../prefab/public/GameGuide":"GameGuide","../prefab/public/LoadingLayer":"LoadingLayer","../prefab/public/MessageBox":"MessageBox","../prefab/public/OutputMessage":"OutputMessage","../utils/LoadManager":"LoadManager","./GlobaLocalData":"GlobaLocalData","./enums":"enums"}],enums:[function(t,e,o){"use strict";cc._RF.push(e,"7626dt3mjNKQLup4y+o0uzy","enums"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameGuideEvent=o.GameGuidExTagID=o.GameGuideID=o.ConfigFiles=o.GameSound=o.Authorization=o.GameState=o.CrashIDs=o.GameEvent=o.ZIndex=o.GameModel=o.WealthType=o.DataRecord=void 0,function(t){t.invalid="DataRecord.xxxxxxxxxxxxxxxxxxxxxxxxxx",t.ChapterInfo="DataRecord.ChapterInfo",t.OfflineReward="DataRecord.OfflineReward",t.GameInfo="DataRecord.GameInfo",t.DeputyWeapon="DataRecord.DeputyWeapon",t.MainWeapon="DataRecord.MainWeapon",t.WealtInfo="DataRecord.WealtInfo",t.VitalityRecover="DataRecord.VitalityRecover"}(o.DataRecord||(o.DataRecord={})),function(t){t[t.exp_user=1]="exp_user",t[t.vitality=2]="vitality",t[t.jewel=3]="jewel"}(o.WealthType||(o.WealthType={})),function(t){t[t.gm_invalid=0]="gm_invalid",t[t.gm_chapter=1]="gm_chapter",t[t.gm_endless=2]="gm_endless"}(o.GameModel||(o.GameModel={})),function(t){t[t.ZI_MAP=1]="ZI_MAP",t[t.ZI_GAME_UI=2]="ZI_GAME_UI",t[t.ZI_EFFECT_FLOOR=3]="ZI_EFFECT_FLOOR",t[t.ZI_HUD_FLOOR=4]="ZI_HUD_FLOOR",t[t.ZI_PROP=10]="ZI_PROP",t[t.ZI_BARRIER_FLOOR=900]="ZI_BARRIER_FLOOR",t[t.ZI_HERO_BULLET=1e3]="ZI_HERO_BULLET",t[t.ZI_MONSTER_BULLET=1001]="ZI_MONSTER_BULLET",t[t.ZI_MONSTER=2e3]="ZI_MONSTER",t[t.ZI_BOSS=3e3]="ZI_BOSS",t[t.ZI_HERO=4e3]="ZI_HERO",t[t.ZI_BULLET_LASER=4500]="ZI_BULLET_LASER",t[t.ZI_EFFECT=5e3]="ZI_EFFECT",t[t.ZI_HUD=6e3]="ZI_HUD",t[t.ZI_PROMPT=7e3]="ZI_PROMPT",t[t.ZI_HINT_UI=8e3]="ZI_HINT_UI",t[t.ZI_PROP_CHOOSE_UI=9e3]="ZI_PROP_CHOOSE_UI",t[t.ZI_HEOR_REVIVE_UI=9001]="ZI_HEOR_REVIVE_UI",t[t.ZI_GAME_FINISHED_UI=9002]="ZI_GAME_FINISHED_UI",t[t.ZI_PAUSE_UI=9003]="ZI_PAUSE_UI"}(o.ZIndex||(o.ZIndex={})),function(t){t.chapter_start="GAMEEVENT.chapter_start",t.chapter_pause="GAMEEVENT.chapter_pause",t.chapter_restore="GAMEEVENT.chapter_restore",t.chapter_finished="GAMEEVENT.chapter_finished",t.chapter_failure="GAMEEVENT.chapter_failure",t.wave_start="GAMEEVENT.wave_start",t.wave_finished="GAMEEVENT.wave_finished",t.wealth_change="GAMEEVENT.wealth_change",t.offline_reward_update="GAMEEVENT.offline_reward_update",t.reload_wave_config="GAMEEVENT.reload_wave_config"}(o.GameEvent||(o.GameEvent={})),function(t){t[t.invalid=0]="invalid"}(o.CrashIDs||(o.CrashIDs={})),function(t){t.invalid="GAMEMODEL.INVALID",t.free="GAMEMODEL.FREE",t.start="GAMEMODEL.START",t.in_game="GAMEMODEL.IN_GAME",t.pause="GAMEMODEL.PAUSE",t.end="GAMEMODEL.END"}(o.GameState||(o.GameState={})),function(t){t.NOTICE_UI_POP_MODALWINDOW="NOTICE_UI_POP_MODALWINDOW",t.NOTICE_UI_POP_GUIDE_AUTHORIZATION_USERINFO="NOTICE_UI_POP_GUIDE_AUTHORIZATION_USERINFO"}(o.Authorization||(o.Authorization={})),function(t){t.music_hall="sounds/music_hall",t.music_game="sounds/music_game",t.music_boss="sounds/music_boss",t.sound_prop_random="sounds/sound_prop_random",t.sound_bullet_launch="sounds/sound_bullet_launch",t.sound_monster_bomb="sounds/sound_monster_bomb",t.sound_monster_bomb_1="sounds/sound_monster_bomb_1",t.sound_monster_bomb_2="sounds/sound_monster_bomb_2",t.sound_btn_click="sounds/sound_btn_click",t.sound_receive_award="sounds/sound_receive_award",t.sound_menu_switch="sounds/sound_menu_switch",t.sound_weapon_upgrade="sounds/sound_weapon_upgrade",t.sound_enter_game="sounds/sound_enter_game",t.sound_exchange="sounds/sound_exchange",t.sound_hit="sounds/sound_hit",t.sound_warning="sounds/sound_warning"}(o.GameSound||(o.GameSound={})),function(t){t.invalid="ConfigFiles.invalid",t.game_guide_config="config/game_guide_config"}(o.ConfigFiles||(o.ConfigFiles={})),function(t){t.invalid="GameGuideID.invalid",t.start_game="GameGuideID.start_game"}(o.GameGuideID||(o.GameGuideID={})),(o.GameGuidExTagID||(o.GameGuidExTagID={})).invalid="GameGuidExTagID.invalid",function(t){t.invalid="GameGuideEvent.invalid",t.base_event_operation_finish="GameGuideEvent.base_event_operation_finish"}(o.GameGuideEvent||(o.GameGuideEvent={})),cc._RF.pop()},{}],lq_base_util:[function(t,e,o){"use strict";cc._RF.push(e,"c7e04p42ktCfrNWlS+lycpO","lq_base_util"),Object.defineProperty(o,"__esModule",{value:!0}),o.LQBaseUtil=void 0;var n=t("./lq_platform_util"),i=t("../data/lq_const"),r=cc.view,a=function(){function t(){}return t.has_value=function(t,e){for(var o=!1,n=0;n<t.length;n++)if(t[n]===e){o=!0;break}return o},t.get_value_by_duration=function(t,e){if(0===e.length)return 1;for(var o=-1,n=1;n<e.length;n++)if(e[n].x>t){o=n;break}if(-1===o)return e[e.length-1].y;var i=o-1;return e[i].y+(e[o].y-e[i].y)*((t-e[i].x)/(e[o].x-e[i].x))},t.number_to_counting=function(t){return t<1e3?t+"":t<1e6?Math.floor(t/1e3)+"K":t<1e9?Math.floor(t/1e6)+"M":t<1e12?Math.floor(t/1e9)+"B":Math.floor(t/1e12)+"T"},t.number_to_time=function(t){var e=Math.floor(t/3600);t-=3600*e;var o=e.toString(),n=Math.floor(t/60).toString(),i=(t%60).toString();return 1===o.length&&(o="0"+o),1===n.length&&(n="0"+n),1===i.length&&(i="0"+i),[o,n,i]},t.set_normal_angle=function(t){for(;t>360;)t-=360;for(;t<0;)t+=360;return t},t.compare_version=function(t,e){for(var o=t.split("."),n=e.split("."),i=Math.max(o.length,n.length);o.length<i;)o.push("0");for(;n.length<i;)n.push("0");for(var r=0;r<i;r++){var a=parseInt(o[r]),c=parseInt(n[r]);if(a>c)return 1;if(a<c)return-1}return 0},t.is_today=function(t){var e,o=new Date;return t&&""!==t?e=new Date(t):(e=new Date).setDate(e.getDate()-1),o.getFullYear()===e.getFullYear()&&o.getMonth()===e.getMonth()&&o.getDate()===e.getDate()},t.is_safe_area=function(){var t=function(t,e){return 2280===t&&1080===e||1792===t&&828===e||2436===t&&1125===e||2688===t&&1242===e};switch(n.LQPlatformUtil.get_platform()){case i.LQPlatformType.baidu:var e=swan.getSystemInfoSync();return t(e.pixelRatio*e.screenWidth,e.pixelRatio*e.screenHeight);case i.LQPlatformType.qq:var o=qq.getSystemInfoSync();return t(o.pixelRatio*o.screenWidth,o.pixelRatio*o.screenHeight);case i.LQPlatformType.tt:var a=tt.getSystemInfoSync();return t(a.pixelRatio*a.screenWidth,a.pixelRatio*a.screenHeight);case i.LQPlatformType.oppo:case i.LQPlatformType.vivo:var c=qg.getSystemInfoSync();return t(c.pixelRatio*c.screenWidth,c.pixelRatio*c.screenHeight);case i.LQPlatformType.wx:var s=wx.getSystemInfoSync();return t(s.pixelRatio*s.screenWidth,s.pixelRatio*s.screenHeight);case i.LQPlatformType.android:break;case i.LQPlatformType.ios:var _=r.getFrameSize();return t(_.width,_.height)}return!1},t.deep_clone=function(t){if("object"!=typeof t)return t;var e=t instanceof Array?[]:{};for(var o in t)"object"==typeof t[o]?e[o]=this.deep_clone(t[o]):e[o]=t[o];return e},t}();o.LQBaseUtil=a,cc._RF.pop()},{"../data/lq_const":"lq_const","./lq_platform_util":"lq_platform_util"}],lq_collide_base:[function(t,e,o){"use strict";cc._RF.push(e,"079c7bU451A/bla0Y4X6drj","lq_collide_base");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LQCollideBase=void 0;var a=cc._decorator.ccclass,c=cc._decorator.executeInEditMode,s=t("./lq_collide"),_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.find_collide=function(){var t=this.node.getComponent(s.LQCollide);return t||(t=this.node.addComponent(s.LQCollide)),t},e.prototype.onLoad=function(){var t=this.find_collide();t&&t.init()},e.prototype.onEnable=function(){var t=this.find_collide();t&&t.enable_collide()},e.prototype.onDisable=function(){var t=this.find_collide();t&&t.disable_collide()},e.prototype.onDestroy=function(){this.find_collide()},e.prototype.onFocusInEditor=function(){this.find_collide()},e.prototype.onLostFocusInEditor=function(){this.find_collide()},e.prototype.resetInEditor=function(){this.find_collide()},r([a,c],e)}(cc.Component);o.LQCollideBase=_,cc._RF.pop()},{"./lq_collide":"lq_collide"}],lq_collide_config:[function(t,e,o){"use strict";cc._RF.push(e,"0062aEI14dCHIvWTdCmYuC7","lq_collide_config"),Object.defineProperty(o,"__esModule",{value:!0}),o.LQCollideConfig=o.LQCollideInfoList=void 0,function(t){t[t.default=0]="default",t[t.role=1]="role",t[t.role_bullet=2]="role_bullet",t[t.enemy=3]="enemy",t[t.enemy_bullet=4]="enemy_bullet",t[t.prop=5]="prop",t[t.support=6]="support",t[t.support_bullet=7]="support_bullet"}(o.LQCollideInfoList||(o.LQCollideInfoList={}));var n=function(){function t(){}return t.switch_auto_run=!1,t.switch_print_log=!1,t.switch_quad_tree=!1,t.max_node_len=10,t.max_node_level=4,t.active_area_x=0,t.active_area_y=0,t.active_area_width=1e3,t.active_area_height=1e3,t.collide_group_map={default:{id:1,category:1,index:0,mask:1},role:{id:2,category:2,index:1,mask:56},role_bullet:{id:3,category:4,index:2,mask:8},enemy:{id:4,category:8,index:3,mask:198},enemy_bullet:{id:5,category:16,index:4,mask:66},prop:{id:6,category:32,index:5,mask:2},support:{id:7,category:64,index:6,mask:24},support_bullet:{id:8,category:128,index:7,mask:8}},t}();o.LQCollideConfig=n,cc._RF.pop()},{}],lq_collide_system:[function(t,e,o){"use strict";cc._RF.push(e,"a0096x29sxHFKQ/dWyoLltf","lq_collide_system"),o.__esModule=!0,o.LQCollideSystem=void 0;var n=t("../lq_base/data/lq_const"),i=t("../lq_base/util/lq_math_util"),r=t("./lq_collide_config"),a=t("../lq_base/data/lq_data"),c=cc.Vec2,s=cc.game,_=cc.director,l=cc.Scheduler,p=cc.misc,u=function(){function t(t,e,o,n){this.collide_arr=[],this.node_arr=[],this.max_object=e||10,this.max_level=o||4,this.level=n||0,this.rect=t,this.collide_arr=[],this.node_arr=[]}return t.prototype.split=function(){var e=this.level+1,o=.5*this.rect.width,n=.5*this.rect.height,i=this.rect.x,r=this.rect.y;this.node_arr[0]=new t(new a.LQRect(i+o,r,o,n),this.max_object,this.max_level,e),this.node_arr[1]=new t(new a.LQRect(i,r,o,n),this.max_object,this.max_level,e),this.node_arr[2]=new t(new a.LQRect(i,r+n,o,n),this.max_object,this.max_level,e),this.node_arr[3]=new t(new a.LQRect(i+o,r+n,o,n),this.max_object,this.max_level,e)},t.prototype.get_index=function(t){var e=[],o=this.rect.x+this.rect.half_width,n=this.rect.y+this.rect.half_height,i=t.world_rect.y+t.world_rect.half_height>n,r=t.world_rect.x-t.world_rect.half_width<o,a=t.world_rect.x+t.world_rect.half_width>o,c=t.world_rect.y-t.world_rect.half_height<n;return a&&i&&e.push(0),r&&i&&e.push(1),r&&c&&e.push(2),c&&a&&e.push(3),e},t.prototype.insert=function(t){var e;if(this.node_arr.length){e=this.get_index(t);for(var o=0;o<e.length;o++)this.node_arr[e[o]].insert(t)}else if(this.collide_arr.push(t),this.collide_arr.length>this.max_object&&this.level<this.max_level){for(this.node_arr.length||this.split(),o=0;o<this.collide_arr.length;o++){var n=this.collide_arr[o];e=this.get_index(n);for(var i=0;i<e.length;i++)this.node_arr[e[i]].insert(n)}this.collide_arr=[]}},t.prototype.retrieve=function(e){var o,n=this.get_index(e);if(this.collide_arr.length&&(o=t.temp_collide_arr).push.apply(o,this.collide_arr),this.node_arr.length)for(var i=0;i<n.length;i++)this.node_arr[n[i]].retrieve(e)},t.prototype.get_all_area=function(){if(this.collide_arr.length&&t.all_collide_arr.push(this.collide_arr),this.node_arr.length)for(var e=0;e<4;e++)this.node_arr[e].get_all_area()},t.prototype.clear=function(){this.collide_arr=[];for(var t=0;t<this.node_arr.length;t++)this.node_arr.length&&this.node_arr[t].clear();this.node_arr=[]},t.temp_collide_arr=[],t.all_collide_arr=[],t}(),d=function(){function t(){}return t.get_axe=function(t,e){var o=t.sub(e);return new c(o.y,-o.x).normalize()},t.get_axes=function(t,e){return t.cache_polygon_points||(this.cache_polygon(t),this.cache_axes(t,e)),t.cache_axes},t.cache_axes=function(t,e){if(t.cache_axes=[],t._collide_shape===n.LQCollideShape.Circle){e.cache_polygon_points||(this.cache_polygon(e),this.cache_axes(e,t));for(var o=n.LQConst.VEC_ZERO,i=Number.MAX_SAFE_INTEGER,r=e.cache_polygon_points,a=0;a<r.length;a++){var c=r[a],s=t.world_rect.sub(c).magSqr();s<i&&(i=s,o=c)}t.cache_axes.push(this.get_axe(t.world_rect,o))}else{a=0;for(var _=(r=t.cache_polygon_points).length-1;a<_;a++)t.cache_axes.push(this.get_axe(r[a],r[a+1]));t.cache_axes.push(this.get_axe(r[0],r[r.length-1]))}},t.cache_polygon=function(t){if(t._collide_shape===n.LQCollideShape.Rect)t.cache_polygon_points=[],t.cache_polygon_points.push(t.world_rect.bottom_left()),t.cache_polygon_points.push(t.world_rect.bottom_right()),t.cache_polygon_points.push(t.world_rect.top_left()),t.cache_polygon_points.push(t.world_rect.top_right());else if(t._collide_shape===n.LQCollideShape.Polygon){t.cache_polygon_points=[];for(var e=t.world_rect.pos(),o=p.degreesToRadians(t.node.angle),i=Math.sin(o),r=Math.cos(o),a=0;a<t._polygon_points.length;a++)t.cache_polygon_points.push((s=t._polygon_points[a],new c(s.x*r-s.y*i,s.x*i+s.y*r)).add(e))}var s},t.get_projection=function(t,e){if(t._collide_shape===n.LQCollideShape.Circle){var o=(_=e.dot(t.world_rect))-t.radius,i=_+t.radius;return{min:Math.min(o,i),max:Math.max(o,i)}}for(var r=Number.MAX_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER,c=0,s=t.cache_polygon_points;c<s.length;c++){var _=s[c].dot(e);r=Math.min(r,_),a=Math.max(a,_)}return{min:r,max:a}},t.intersects_polygon=function(t,e){for(var o=this.get_axes(t,e),n=this.get_axes(e,t),i=0,r=o;i<r.length;i++){var a=r[i],c=this.get_projection(t,a),s=this.get_projection(e,a);if(c.max<=s.min||s.max<=c.min)return!1}for(var _=0,l=n;_<l.length;_++)if(a=l[_],c=this.get_projection(t,a),s=this.get_projection(e,a),c.max<=s.min||s.max<=c.min)return!1;return!0},t.update_world_rect=function(t){t.world_rect&&(t.node._updateWorldMatrix(),c.transformMat4(t.world_rect,t._offset,t.node._worldMatrix))},t.update_collide_logic=function(t){if(t.is_open_func)for(var e in t.collide_map){var o=t.collide_map[e];1===o.status?o.status=2:(delete t.collide_map[e],t.on_exit(o.collide))}},t.collide_other=function(t,e){if(t.is_open_func){var o=t.collide_map[e.collide_id];o?o.status=1:(t.collide_map[e.collide_id]={collide:e,status:1},t.on_enter(e))}if(e.is_open_func){var n=e.collide_map[t.collide_id];n?n.status=1:(e.collide_map[t.collide_id]={collide:t,status:1},e.on_enter(t))}t.on_collide(e),e.on_collide(t)},t.add_collide=function(t){this.update_world_rect(t),this.collide_arr.push(t)},t.remove_collide=function(t){for(var e=this.collide_arr.length-1;e>=0;e--)if(this.collide_arr[e].collide_id===t.collide_id){this.collide_arr.splice(e,1);break}},t.update_logic=function(){if(this.is_enable)if(r.LQCollideConfig.switch_quad_tree){this.quad_tree.clear();for(var t=this.collide_arr.length-1;t>=0;t--){if(!(s=this.collide_arr[t]))return;s.isValid?(this.update_collide_logic(s),s.is_enable&&(this.update_world_rect(s),this.quad_tree.insert(s))):this.collide_arr.splice(t,1)}u.all_collide_arr=[],this.quad_tree.get_all_area();for(var e=0;e<u.all_collide_arr.length;e++){var o=u.all_collide_arr[e];for(t=0;t<o.length;t++)for(var n=o[t],a=t+1;a<o.length;a++){var c=o[a];n.collide_category&c.collide_mask&&n!==c&&(1===n._collide_shape&&1===c._collide_shape?i.LQMathUtil.intersects_rect(n.world_rect,c.world_rect)&&this.collide_other(n,c):1===n._collide_shape&&2===c._collide_shape?i.LQMathUtil.intersects_circle_rect(c.world_rect,c.radius,n.world_rect)&&this.collide_other(n,c):2===n._collide_shape&&1===c._collide_shape?i.LQMathUtil.intersects_circle_rect(n.world_rect,n.radius,c.world_rect)&&this.collide_other(n,c):2===n._collide_shape&&2===c._collide_shape?i.LQMathUtil.intersects_circle(n.world_rect,n.radius,c.world_rect,c.radius)&&this.collide_other(n,c):this.intersects_polygon(n,c)&&this.collide_other(n,c))}}}else{for(o=[],t=this.collide_arr.length-1;t>=0;t--){var s;if(!(s=this.collide_arr[t]))return;s.isValid?(this.update_collide_logic(s),s.is_enable&&(this.update_world_rect(s),o.push(s))):this.collide_arr.splice(t,1)}var _=o.length;for(t=0;t<_;t++)for(n=o[t],a=t+1;a<_;a++)c=o[a],n.collide_category&c.collide_mask&&(1===n._collide_shape&&1===c._collide_shape?i.LQMathUtil.intersects_rect(n.world_rect,c.world_rect)&&this.collide_other(n,c):1===n._collide_shape&&2===c._collide_shape?i.LQMathUtil.intersects_circle_rect(c.world_rect,c.radius,n.world_rect)&&this.collide_other(n,c):2===n._collide_shape&&1===c._collide_shape?i.LQMathUtil.intersects_circle_rect(n.world_rect,n.radius,c.world_rect)&&this.collide_other(n,c):2===n._collide_shape&&2===c._collide_shape?i.LQMathUtil.intersects_circle(n.world_rect,n.radius,c.world_rect,c.radius)&&this.collide_other(n,c):this.intersects_polygon(n,c)&&this.collide_other(n,c))}},t.get_group_by_index=function(t){for(var e in r.LQCollideConfig.collide_group_map){var o=r.LQCollideConfig.collide_group_map[e];if(o.index===t)return o}},t.get_info_by_id=function(t){var e;for(var o in r.LQCollideConfig.collide_group_map){var n=r.LQCollideConfig.collide_group_map[o];if(n.id===t)return n;e||(e=n)}return e},t.find_nearest_collide=function(e){for(var o=[],n=t.collide_arr.length-1;n>=0;n--){var i=t.collide_arr[n];e!==i&&i.is_enable&&(e.follow_target_category?i.collide_category===e.follow_target_category&&o.push(i):0!=(i.collide_category&e.collide_mask)&&o.push(i))}return o.sort(function(t,o){return e.world_rect.sub(t.world_rect).magSqr()-e.world_rect.sub(o.world_rect).magSqr()}),o[0]},t.clear=function(t){if(void 0===t&&(t=!1),t)for(var e=this.collide_arr.length-1;e>=0;e--){var o=this.collide_arr[e];o.isValid&&o.node.destroy()}this.collide_arr=[]},t.check_collide=function(t){var e,o=[];r.LQCollideConfig.switch_quad_tree?(u.temp_collide_arr=[],this.quad_tree.retrieve(t),e=u.temp_collide_arr):e=this.collide_arr;for(var n=0;n<e.length;n++){var a=e[n];t!==a&&t.collide_category&a.collide_mask&&(1===t._collide_shape&&1===a._collide_shape?i.LQMathUtil.intersects_rect(t.world_rect,a.world_rect)&&o.push(a):1===t._collide_shape&&2===a._collide_shape?i.LQMathUtil.intersects_circle_rect(a.world_rect,a.radius,t.world_rect)&&o.push(a):2===t._collide_shape&&1===a._collide_shape?i.LQMathUtil.intersects_circle_rect(t.world_rect,t.radius,a.world_rect)&&o.push(a):2===t._collide_shape&&2===a._collide_shape?i.LQMathUtil.intersects_circle(t.world_rect,t.radius,a.world_rect,a.radius)&&o.push(a):this.intersects_polygon(t,a)&&o.push(a))}return o},t.is_enable=!1,t.collide_arr=[],t.quad_tree=new u(new a.LQRect(r.LQCollideConfig.active_area_x,r.LQCollideConfig.active_area_y,r.LQCollideConfig.active_area_width,r.LQCollideConfig.active_area_height),r.LQCollideConfig.max_node_len,r.LQCollideConfig.max_node_level),t}();o.LQCollideSystem=d;var h=function(){function t(){}return t.prototype.update=function(t){d.update_logic(t)},t}();s.on(s.EVENT_GAME_INITED,function(){if(r.LQCollideConfig.switch_auto_run){var t=new h;_.getScheduler().enableForTarget(t),_.getScheduler().scheduleUpdate(t,l.PRIORITY_SYSTEM,!1)}}),cc._RF.pop()},{"../lq_base/data/lq_const":"lq_const","../lq_base/data/lq_data":"lq_data","../lq_base/util/lq_math_util":"lq_math_util","./lq_collide_config":"lq_collide_config"}],lq_collide:[function(t,e,o){"use strict";cc._RF.push(e,"07283Ee1tVMu4l04EtBpUif","lq_collide");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0}),o.LQCollide=void 0;var a=cc._decorator.ccclass,c=cc._decorator.property,s=cc._decorator.requireComponent,_=cc._decorator.menu,l=cc.Component,p=cc.Enum,u=cc.Size,d=cc.Vec2,h=cc.Graphics,f=cc.Node,y=cc.macro,g=cc.Color,v=t("../lq_base/data/lq_const"),b=t("./lq_collide_config"),m=t("./lq_collide_system"),A=t("../lq_base/data/lq_data"),x=t("./lq_collide_base"),C=t("../lq_base/util/lq_game_util"),w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._draw_collide=!1,e._collide_shape=v.LQCollideShape.Rect,e._collide_group_index=-1,e.collide_group_id=0,e._radius=50,e._size=new u(100,100),e._polygon_points=[new d(-100,-50),new d(0,100),new d(100,-50)],e._offset=new d(0,0),e.data_string="",e.collide_id=0,e.collide_status=v.LQCollideStatus.Idle,e.is_enable=!0,e.is_open_func=!1,e.collide_category=0,e.collide_mask=0,e.collide_map={},e.Guid=-1,e.onCollideCall=null,e.onEnterCall=null,e.onExitCall=null,e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"draw_collide",{get:function(){return this._draw_collide},set:function(t){this._draw_collide=t,this.draw_shape()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collide_shape",{get:function(){return this._collide_shape},set:function(t){this._collide_shape=t,this.draw_shape()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"collide_group_index",{get:function(){return-1===this._collide_group_index&&(this._collide_group_index=m.LQCollideSystem.get_info_by_id(this.collide_group_id).index),this._collide_group_index},set:function(t){this._collide_group_index!==t&&(this._collide_group_index=t,this.collide_group_id=m.LQCollideSystem.get_group_by_index(t).id)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radius",{get:function(){return this._radius},set:function(t){this._radius=t,this.draw_shape()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._size},set:function(t){this._size=t,this.world_rect&&(this.world_rect.width=t.width,this.world_rect.height=t.height,this.world_rect.half_width=.5*t.width,this.world_rect.half_height=.5*t.height),this.draw_shape()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offset",{get:function(){return this._offset},set:function(t){this._offset=t,this.draw_shape()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygon_points",{get:function(){return this._polygon_points},set:function(t){this._polygon_points=t,this.draw_shape()},enumerable:!1,configurable:!0}),e.prototype.checkDebugDrawValid=function(){if(!this._debugDrawer||!this._debugDrawer.isValid){var t=this.node.getChildByName("Collide");t?this._debugDrawer=t.getComponent(h):((t=new f("Collide")).zIndex=y.MAX_ZINDEX,this.node.addChild(t),t._objFlags=1096,this._debugDrawer=t.addComponent(h),this._debugDrawer.lineWidth=3,this._debugDrawer.strokeColor=new g(255,0,0),this._debugDrawer.fillColor=new g(255,0,0))}},e.prototype.draw_shape=function(){if(this._draw_collide){this.checkDebugDrawValid(),this._debugDrawer.clear();var t={key:"scaleX",value:this.node.scaleX},e={key:"scaleY",value:this.node.scaleY};if(C.LQGameUtil.recursion_node_property(this.node,t),C.LQGameUtil.recursion_node_property(this.node,e),0!==t.value&&0!==e.value)switch(this._debugDrawer.node.scaleX=1/t.value,this._debugDrawer.node.scaleY=1/e.value,this._collide_shape){case v.LQCollideShape.Circle:this._debugDrawer.circle(+this._offset.x,+this._offset.y,this._radius),this._debugDrawer.stroke();break;case v.LQCollideShape.Rect:this._debugDrawer.moveTo(.5*-this._size.width+this._offset.x,.5*-this._size.height+this._offset.y),this._debugDrawer.lineTo(.5*-this._size.width+this._offset.x,.5*+this._size.height+this._offset.y),this._debugDrawer.lineTo(.5*this._size.width+this._offset.x,.5*+this._size.height+this._offset.y),this._debugDrawer.lineTo(.5*this._size.width+this._offset.x,.5*-this._size.height+this._offset.y),this._debugDrawer.lineTo(.5*-this._size.width+this._offset.x,.5*-this._size.height+this._offset.y),this._debugDrawer.stroke();break;case v.LQCollideShape.Polygon:this._debugDrawer.moveTo(this._polygon_points[0].x+this._offset.x,this._polygon_points[0].y+this._offset.y);for(var o=1;o<this._polygon_points.length;o++)this._debugDrawer.lineTo(this._polygon_points[o].x+this._offset.x,this._polygon_points[o].y+this._offset.y);this._debugDrawer.lineTo(this._polygon_points[0].x+this._offset.x,this._polygon_points[0].y+this._offset.y),this._debugDrawer.stroke()}}else this._debugDrawer&&this._debugDrawer.clear()},e.prototype.update_size=function(t,e){this._size.width=t,this.world_rect.width=t,this.world_rect.half_width=.5*t,this._size.height=e,this.world_rect.height=e,this.world_rect.half_height=.5*e,this.draw_shape()},e.prototype.init=function(){var t=this;this.world_rect=new A.LQRect(0,0,this._size.width,this._size.height),this.draw_shape(),this.node.off(f.EventType.ROTATION_CHANGED),this.node.off(f.EventType.POSITION_CHANGED),this.node.on(f.EventType.ROTATION_CHANGED,function(){t.cache_polygon_points=void 0},this),this.node.on(f.EventType.POSITION_CHANGED,function(){t.cache_polygon_points=void 0});var e=m.LQCollideSystem.get_info_by_id(this.collide_group_id);this.collide_mask=e.mask,this.collide_category=e.category,this.collide_id=o.id_maker++},e.prototype.enable_collide=function(){this.collide_status!==v.LQCollideStatus.Live?(this.is_enable=!0,this.collide_status=v.LQCollideStatus.Live,m.LQCollideSystem.add_collide(this)):console.warn(this.node.name+"重复添加")},e.prototype.disable_collide=function(){this.collide_status===v.LQCollideStatus.Live&&(this.is_enable=!1,this.collide_status=v.LQCollideStatus.Idle,m.LQCollideSystem.remove_collide(this))},e.prototype.on_collide=function(t){b.LQCollideConfig.switch_print_log&&console.log(this.node.name+" collide"),this.onCollideCall&&this.onCollideCall(t)},e.prototype.on_enter=function(t){b.LQCollideConfig.switch_print_log&&console.log(this.node.name+" on_enter"),this.onEnterCall&&this.onEnterCall(t)},e.prototype.on_exit=function(t){b.LQCollideConfig.switch_print_log&&console.log(this.node.name+" on_exit"),this.onExitCall&&this.onExitCall(t)},e.id_maker=1,r([c({displayName:"绘制形状"})],e.prototype,"draw_collide",null),r([c],e.prototype,"_draw_collide",void 0),r([c({tooltip:"碰撞形状，None就是无敌，不参与碰撞",type:p(v.LQCollideShape),displayName:"碰撞形状"})],e.prototype,"collide_shape",null),r([c()],e.prototype,"_collide_shape",void 0),r([c({type:p(b.LQCollideInfoList),tooltip:"碰撞类别",displayName:"碰撞类别"})],e.prototype,"collide_group_index",null),r([c({serializable:!1})],e.prototype,"_collide_group_index",void 0),r([c({visible:!1})],e.prototype,"collide_group_id",void 0),r([c({tooltip:"collide半径",visible:function(){return this._collide_shape===v.LQCollideShape.Circle},displayName:"半径"})],e.prototype,"radius",null),r([c()],e.prototype,"_radius",void 0),r([c({tooltip:"collide长宽",visible:function(){return this._collide_shape===v.LQCollideShape.Rect},displayName:"长宽"})],e.prototype,"size",null),r([c()],e.prototype,"_size",void 0),r([c({displayName:"位置偏移"})],e.prototype,"offset",null),r([c({type:d,visible:function(){return this._collide_shape===v.LQCollideShape.Polygon},displayName:"多边形碰撞点"})],e.prototype,"polygon_points",null),r([c()],e.prototype,"_polygon_points",void 0),r([c()],e.prototype,"_offset",void 0),r([c({displayName:"自定义字符串"})],e.prototype,"data_string",void 0),o=r([a,s(x.LQCollideBase),_("lq/collide")],e)}(l);o.LQCollide=w,cc._RF.pop()},{"../lq_base/data/lq_const":"lq_const","../lq_base/data/lq_data":"lq_data","../lq_base/util/lq_game_util":"lq_game_util","./lq_collide_base":"lq_collide_base","./lq_collide_config":"lq_collide_config","./lq_collide_system":"lq_collide_system"}],lq_const:[function(t,e,o){"use strict";cc._RF.push(e,"305855I3qxOwKqMRPLteqgg","lq_const"),Object.defineProperty(o,"__esModule",{value:!0}),o.LQConst=o.LQOperateType=o.LQLevelStatus=o.LQCallAd=o.LQCallBase=o.LQAnalysisTag=o.LQByteDanceType=o.LQPlatformType=o.LQHttpDataType=o.LQHttpRequestType=o.LQEasing=o.LQCollideStatus=o.LQFollowTargetMode=o.LQCollideShape=o.LQBulletEmitterStatus=void 0;var n=cc.Vec2;(function(t){t[t.Idle=0]="Idle",t[t.Start=1]="Start",t[t.End=2]="End"})(o.LQBulletEmitterStatus||(o.LQBulletEmitterStatus={})),function(t){t[t.Rect=1]="Rect",t[t.Circle=2]="Circle",t[t.Polygon=3]="Polygon"}(o.LQCollideShape||(o.LQCollideShape={})),function(t){t[t.Always=0]="Always",t[t.Once=1]="Once",t[t.Pass=2]="Pass"}(o.LQFollowTargetMode||(o.LQFollowTargetMode={})),function(t){t[t.Idle=0]="Idle",t[t.Live=1]="Live"}(o.LQCollideStatus||(o.LQCollideStatus={})),function(t){t.BackIn="backIn",t.BackOut="backOut",t.quadIn="quadIn",t.quadOut="quadOut",t.quadInOut="quadInOut",t.cubicIn="cubicIn",t.expoOut="expoOut"}(o.LQEasing||(o.LQEasing={})),function(t){t.Get="get",t.Post="post"}(o.LQHttpRequestType||(o.LQHttpRequestType={})),function(t){t[t.Text=0]="Text",t[t.Binary=1]="Binary"}(o.LQHttpDataType||(o.LQHttpDataType={})),function(t){t.unknown="未知平台",t.all="全平台",t.wx="微信",t.tt="字节跳动",t.oppo="oppo",t.vivo="vivo",t.qq="qq",t.baidu="百度",t.kwaigame="快手",t.android="安卓",t.ios="苹果",t.browser="浏览器"}(o.LQPlatformType||(o.LQPlatformType={})),function(t){t.tt="头条",t.tt_lite="头条极速版",t.douyin="抖音",t.douyin_lite="抖音极速版",t.ppx="皮皮虾",t.devtools="字节开发工具"}(o.LQByteDanceType||(o.LQByteDanceType={})),function(t){t.VideoComplete="video_complete",t.VideoBegin="video_begin",t.VideoInterrupt="video_interrupt",t.InterstitialShow="interstitial_show",t.BannerShow="banner_show",t.ExportShow="export_show",t.NativeShow="native_show",t.NativeClick="native_show"}(o.LQAnalysisTag||(o.LQAnalysisTag={})),function(t){t[t.InitSdk=0]="InitSdk",t[t.KeepScreenOn=1]="KeepScreenOn",t[t.Vibrate=2]="Vibrate",t[t.GetVersionCode=3]="GetVersionCode",t[t.GetVersionName=4]="GetVersionName",t[t.OpenUrl=5]="OpenUrl",t[t.DeleteDir=6]="DeleteDir",t[t.DeleteFile=7]="DeleteFile"}(o.LQCallBase||(o.LQCallBase={})),function(t){t[t.ShowBanner=0]="ShowBanner",t[t.HideBanner=1]="HideBanner",t[t.ShowVideo=2]="ShowVideo",t[t.ShowInterstitial=3]="ShowInterstitial",t[t.ShowNative=4]="ShowNative",t[t.CacheAd=5]="CacheAd"}(o.LQCallAd||(o.LQCallAd={})),function(t){t[t.Begin=0]="Begin",t[t.Failed=1]="Failed",t[t.Complete=2]="Complete"}(o.LQLevelStatus||(o.LQLevelStatus={})),function(t){t[t.ClickNode=0]="ClickNode",t[t.ClickScreen=1]="ClickScreen",t[t.Move=2]="Move",t[t.Null=3]="Null"}(o.LQOperateType||(o.LQOperateType={}));var i=function(){function t(){}return t.VEC_ZERO=n.ZERO,t}();o.LQConst=i,cc._RF.pop()},{}],lq_data:[function(t,e,o){"use strict";cc._RF.push(e,"d010bWISCZDH4o+GFMIb73D","lq_data"),Object.defineProperty(o,"__esModule",{value:!0}),o.LQPlatformData=o.LQShareData=o.LQNativeComponent=o.LQRect=void 0;var n=cc.Vec2,i=cc.Rect,r=function(){function t(t,e,o,n){this.x=t,this.y=e,this.width=o,this.height=n,this.half_width=.5*o,this.half_height=.5*n}return t.prototype.top_left=function(){return new n(this.x-this.half_width,this.y+this.half_height)},t.prototype.top_right=function(){return new n(this.x+this.half_width,this.y+this.half_height)},t.prototype.bottom_left=function(){return new n(this.x-this.half_width,this.y-this.half_height)},t.prototype.bottom_right=function(){return new n(this.x+this.half_width,this.y-this.half_height)},t.prototype.pos=function(){return new n(this.x,this.y)},t.prototype.sub=function(t){return new n(t.x-this.x,t.y-this.y)},t.prototype.add=function(t){return new n(t.x+this.x,t.y+this.y)},t.prototype.to_cocos_rect=function(){return new i(this.x-this.half_width,this.y-this.half_height,this.width,this.height)},t}();o.LQRect=r;o.LQNativeComponent=function(){this.node_btn_arr=[]};o.LQShareData=function(){};o.LQPlatformData=function(){},cc._RF.pop()},{}],lq_game_util:[function(t,e,o){"use strict";cc._RF.push(e,"58e70iyN+JFsI4hpH2+cOg3","lq_game_util"),Object.defineProperty(o,"__esModule",{value:!0}),o.LQGameUtil=void 0;var n=cc.SpriteFrame,i=cc.director,r=cc.tween,a=cc.visibleRect,c=cc.find,s=function(){function t(){}return t.get_image=function(t,e,o){var i=this;void 0===o&&(o=!0),t&&""!==t?this.image_cache[t]?e(!0,this.image_cache[t]):cc.loader.load({url:t,type:"png"},function(r,a){if(r)return console.error("err:"+r),void e(!1,void 0);var c=new n(a);e(!0,c),o&&(i.image_cache[t]=c)}):e(!1,void 0)},t.canvas_policy=function(t,e,o){return a.height/a.width>o/e?(t.fitHeight=!1,t.fitWidth=!0):(t.fitHeight=!0,t.fitWidth=!1),t.fitHeight},t.recursion_node_property=function(t,e){t.parent&&(e.value*=t.parent[e.key],this.recursion_node_property(t.parent,e))},t.find_node=function(t){if(!t||t.length<=0)console.warn("路径不正确");else{var e=t.split("/"),o=c(e[0]);if(o){for(var n=o,i=1;i<e.length;i++){var r=n.getChildByName(e[i]);if(!r)return void console.warn("没找到节点:"+e[i]);n=r}return n}console.warn("没找到节点:"+e[0])}},t.wait=function(t){return new Promise(function(e){r(i.getScene()).delay(t).call(function(){e()}).start()})},t.image_cache={},t}();o.LQGameUtil=s,cc._RF.pop()},{}],lq_interface:[function(t,e,o){"use strict";cc._RF.push(e,"cafd7O1AR1LcpB+v+F+ZE+g","lq_interface"),Object.defineProperty(o,"__esModule",{value:!0}),cc._RF.pop()},{}],lq_math_util:[function(t,e,o){"use strict";cc._RF.push(e,"01b04aRTHlEk4N5UtGLWzjR","lq_math_util"),Object.defineProperty(o,"__esModule",{value:!0}),o.LQMathUtil=void 0;var n=function(){function t(){}return t.random=function(t,e){return t===e?t:t<e?Math.random()*(e-t)+t:Math.random()*(t-e)+e},t.random_int=function(t,e){return Math.floor(this.random(t,e))},t.get_radians=function(t,e){var o=Math.atan2(e.y-t.y,e.x-t.x);return o>0?o:o+6.28},t.intersects_rect=function(t,e){return Math.abs(t.x-e.x)<t.half_width+e.half_width&&Math.abs(t.y-e.y)<t.half_height+e.half_height},t.intersects_point_rect=function(t,e){return t.x>e.x-.5*e.width&&t.x<e.x+.5*e.width&&t.y>e.y-.5*e.height&&t.y<e.y+.5*e.height},t.intersects_point_circle=function(t,e,o){return t.sub(e).magSqr()<o*o},t.intersects_circle=function(t,e,o,n){return t.sub(o).mag()<e+n},t.intersects_circle_rect=function(t,e,o){var n=t.x-o.x,i=t.y-o.y,r=Math.min(n,o.half_width),a=Math.max(r,-o.half_width),c=Math.min(i,o.half_height),s=Math.max(c,-o.half_height);return(a-n)*(a-n)+(s-i)*(s-i)<=e*e},t}();o.LQMathUtil=n,cc._RF.pop()},{}],lq_platform_util:[function(t,e,o){"use strict";cc._RF.push(e,"5791eG5gC1Kco7QW4J/kU98","lq_platform_util"),Object.defineProperty(o,"__esModule",{value:!0}),o.LQPlatformUtil=void 0;var n=t("../data/lq_const"),i=function(){function t(){}return t.init=function(){if("undefined"!=typeof qq)this.platform_type=n.LQPlatformType.qq;else if("undefined"!=typeof swan)this.platform_type=n.LQPlatformType.baidu;else if("undefined"!=typeof tt)switch(this.platform_type=n.LQPlatformType.tt,tt.getSystemInfoSync().appName){case"Toutiao":this.byte_dance_type=n.LQByteDanceType.tt;break;case"news_article_lite":this.byte_dance_type=n.LQByteDanceType.tt_lite;break;case"Douyin":this.byte_dance_type=n.LQByteDanceType.douyin;break;case"douyin_lite":this.byte_dance_type=n.LQByteDanceType.douyin_lite;break;case"PPX":this.byte_dance_type=n.LQByteDanceType.ppx;break;case"devtools":this.byte_dance_type=n.LQByteDanceType.devtools}else"undefined"!=typeof qg?qg.getBattle?this.platform_type=n.LQPlatformType.oppo:this.platform_type=n.LQPlatformType.vivo:"undefined"!=typeof wx?this.platform_type=n.LQPlatformType.wx:"undefined"!=typeof jsb?cc.sys.os===cc.sys.OS_ANDROID?this.platform_type=n.LQPlatformType.android:cc.sys.os===cc.sys.OS_IOS?this.platform_type=n.LQPlatformType.ios:this.platform_type=n.LQPlatformType.unknown:cc.sys.isBrowser&&(this.platform_type=n.LQPlatformType.browser)},t.get_platform=function(){return this.platform_type},t.get_byte_dance=function(){return this.byte_dance_type},t.is_wx=function(){return this.platform_type===n.LQPlatformType.wx},t.is_tt=function(){return this.platform_type===n.LQPlatformType.tt},t.is_oppo=function(){return this.platform_type===n.LQPlatformType.oppo},t.is_vivo=function(){return this.platform_type===n.LQPlatformType.vivo},t.is_browser=function(){return this.platform_type===n.LQPlatformType.browser},t.is_android=function(){return this.platform_type===n.LQPlatformType.android},t.is_ios=function(){return this.platform_type===n.LQPlatformType.ios},t.is_native=function(){return this.platform_type===n.LQPlatformType.android||this.platform_type===n.LQPlatformType.ios},t.is_qq=function(){return this.platform_type===n.LQPlatformType.qq},t.is_baidu=function(){return this.platform_type===n.LQPlatformType.baidu},t.is_kwaigame=function(){return this.platform_type===n.LQPlatformType.kwaigame},t}();o.LQPlatformUtil=i,i.init(),i.is_tt()?console.log("---------当前平台:"+i.get_byte_dance()):console.log("---------当前平台:"+i.get_platform()),cc._RF.pop()},{"../data/lq_const":"lq_const"}],lq_pool_util:[function(t,e,o){"use strict";cc._RF.push(e,"6bf70byZupNkJFmWCG+FwCg","lq_pool_util"),Object.defineProperty(o,"__esModule",{value:!0}),o.LQPoolUtil=void 0;var n=cc.Animation,i=cc.ParticleSystem,r=cc.instantiate,a=function(){function t(){}return t.reset_ani=function(t){var e=t.getComponent(n);if(e){var o=e.currentClip?e.currentClip:e.defaultClip;if(!o)return;e.playOnLoad&&o&&o.wrapMode===cc.WrapMode.Normal&&e.play(o.name)}else{var i=t.getComponent(sp.Skeleton);i&&!i.loop&&i.setAnimation(0,i.animation,!1)}for(var r=0;r<t.childrenCount;r++){var a=t.children[r];this.reset_ani(a)}},t.recursion_stop_particle=function(t,e){var o=t.getComponent(i);o&&(o.stopSystem(),e.has=!0,o.node.opacity=0);for(var n=0;n<t.childrenCount;n++){var r=t.children[n];this.recursion_stop_particle(r,e)}},t.recursion_reset_particle=function(t){if(t.isValid){var e=t.getComponent(i);e&&(e.resetSystem(),e.node.opacity=255);for(var o=0;o<t.childrenCount;o++){var n=t.children[o];this.recursion_reset_particle(n)}}},t.get_node_from_pool=function(t,e){var o=this.any_pool[e.uuid];o||(this.any_pool[e.uuid]=[],o=[]);var n=o.pop();return n&&n.isValid?(n.active=!0,n.is_from_pool=!0,this.reset_ani(n)):((n=r(e)).recovery_uuid=e.uuid,n.is_from_pool=!1,t.addChild(n)),n},t.check_pool_push=function(t,e){for(var o=0;o<t.length;o++)if(t[o]===e)return void console.warn("池子不能重复添加节点",e.name,e.recovery_uuid);e.active=!1,t.push(e)},t.push_node_to_pool=function(t){var e=this;if(t.recovery_uuid&&this.any_pool[t.recovery_uuid]){var o={has:!1};if(this.recursion_stop_particle(t,o),o.has){var n=t.opacity;t.opacity=0,setTimeout(function(){e.recursion_reset_particle(t),t.opacity=n,e.check_pool_push(e.any_pool[t.recovery_uuid],t)},500)}else this.check_pool_push(this.any_pool[t.recovery_uuid],t)}else t.isValid&&t.destroy()},t.any_pool={},t}();o.LQPoolUtil=a,cc._RF.pop()},{}],md5:[function(t,e){"use strict";cc._RF.push(e,"f24edcNJ/RFR63miKZCkVWa","md5"),window.md5=function(t){function e(t,e,o){return t&e|~t&o}function o(t,e,o){return o&t|~o&e}function n(t,e,o){return t^e^o}function i(t,e,o){return e^(t|~o)}function r(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]}function a(t){for(var e=[],o=0;o<t.length;o++)if(t.charCodeAt(o)<=127)e.push(t.charCodeAt(o));else for(var n=encodeURIComponent(t.charAt(o)).substr(1).split("%"),i=0;i<n.length;i++)e.push(parseInt(n[i],16));return e}function c(t){for(var e=new Array(t.length),o=0;o<t.length;o++)e[o]=t[o];return e}var s=null,_=null;function l(t,e){return 4294967295&t+e}return"string"==typeof t?s=a(t):t.constructor==Array?0===t.length?s=t:"string"==typeof t[0]?s=function(t){for(var e=[],o=0;o<t.length;o++)e=e.concat(a(t[o]));return e}(t):"number"==typeof t[0]?s=t:_=typeof t[0]:"undefined"!=typeof ArrayBuffer?t instanceof ArrayBuffer?s=c(new Uint8Array(t)):t instanceof Uint8Array||t instanceof Int8Array?s=c(t):t instanceof Uint32Array||t instanceof Int32Array||t instanceof Uint16Array||t instanceof Int16Array||t instanceof Float32Array||t instanceof Float64Array?s=c(new Uint8Array(t.buffer)):_=typeof t:_=typeof t,_&&alert("MD5 type mismatch, cannot process "+_),function(){function t(t,e,o,n){var i=v;v=g,y=l(g=y,function(t){return t<<n&4294967295|t>>>32-n}(l(f,l(t,l(e,o))))),f=i}var a=s.length;s.push(128);var c=s.length%64;if(56<c){for(var _=0;_<64-c;_++)s.push(0);c=s.length%64}for(_=0;_<56-c;_++)s.push(0);s=s.concat(function(t){for(var e=[],o=0;o<8;o++)e.push(255&t),t>>>=8;return e}(8*a));var p=1732584193,u=4023233417,d=2562383102,h=271733878,f=0,y=0,g=0,v=0;for(_=0;_<s.length/64;_++){f=p;var b=64*_;t(e(y=u,g=d,v=h),3614090360,r(s,b),7),t(e(y,g,v),3905402710,r(s,4+b),12),t(e(y,g,v),606105819,r(s,8+b),17),t(e(y,g,v),3250441966,r(s,12+b),22),t(e(y,g,v),4118548399,r(s,16+b),7),t(e(y,g,v),1200080426,r(s,20+b),12),t(e(y,g,v),2821735955,r(s,24+b),17),t(e(y,g,v),4249261313,r(s,28+b),22),t(e(y,g,v),1770035416,r(s,32+b),7),t(e(y,g,v),2336552879,r(s,36+b),12),t(e(y,g,v),4294925233,r(s,40+b),17),t(e(y,g,v),2304563134,r(s,44+b),22),t(e(y,g,v),1804603682,r(s,48+b),7),t(e(y,g,v),4254626195,r(s,52+b),12),t(e(y,g,v),2792965006,r(s,56+b),17),t(e(y,g,v),1236535329,r(s,60+b),22),t(o(y,g,v),4129170786,r(s,4+b),5),t(o(y,g,v),3225465664,r(s,24+b),9),t(o(y,g,v),643717713,r(s,44+b),14),t(o(y,g,v),3921069994,r(s,b),20),t(o(y,g,v),3593408605,r(s,20+b),5),t(o(y,g,v),38016083,r(s,40+b),9),t(o(y,g,v),3634488961,r(s,60+b),14),t(o(y,g,v),3889429448,r(s,16+b),20),t(o(y,g,v),568446438,r(s,36+b),5),t(o(y,g,v),3275163606,r(s,56+b),9),t(o(y,g,v),4107603335,r(s,12+b),14),t(o(y,g,v),1163531501,r(s,32+b),20),t(o(y,g,v),2850285829,r(s,52+b),5),t(o(y,g,v),4243563512,r(s,8+b),9),t(o(y,g,v),1735328473,r(s,28+b),14),t(o(y,g,v),2368359562,r(s,48+b),20),t(n(y,g,v),4294588738,r(s,20+b),4),t(n(y,g,v),2272392833,r(s,32+b),11),t(n(y,g,v),1839030562,r(s,44+b),16),t(n(y,g,v),4259657740,r(s,56+b),23),t(n(y,g,v),2763975236,r(s,4+b),4),t(n(y,g,v),1272893353,r(s,16+b),11),t(n(y,g,v),4139469664,r(s,28+b),16),t(n(y,g,v),3200236656,r(s,40+b),23),t(n(y,g,v),681279174,r(s,52+b),4),t(n(y,g,v),3936430074,r(s,b),11),t(n(y,g,v),3572445317,r(s,12+b),16),t(n(y,g,v),76029189,r(s,24+b),23),t(n(y,g,v),3654602809,r(s,36+b),4),t(n(y,g,v),3873151461,r(s,48+b),11),t(n(y,g,v),530742520,r(s,60+b),16),t(n(y,g,v),3299628645,r(s,8+b),23),t(i(y,g,v),4096336452,r(s,b),6),t(i(y,g,v),1126891415,r(s,28+b),10),t(i(y,g,v),2878612391,r(s,56+b),15),t(i(y,g,v),4237533241,r(s,20+b),21),t(i(y,g,v),1700485571,r(s,48+b),6),t(i(y,g,v),2399980690,r(s,12+b),10),t(i(y,g,v),4293915773,r(s,40+b),15),t(i(y,g,v),2240044497,r(s,4+b),21),t(i(y,g,v),1873313359,r(s,32+b),6),t(i(y,g,v),4264355552,r(s,60+b),10),t(i(y,g,v),2734768916,r(s,24+b),15),t(i(y,g,v),1309151649,r(s,52+b),21),t(i(y,g,v),4149444226,r(s,16+b),6),t(i(y,g,v),3174756917,r(s,44+b),10),t(i(y,g,v),718787259,r(s,8+b),15),t(i(y,g,v),3951481745,r(s,36+b),21),p=l(p,f),u=l(u,y),d=l(d,g),h=l(h,v)}return function(t,e,o,n){for(var i,r="",a=0,c=0,s=3;0<=s;s--)a=255&(c=arguments[s]),a<<=8,a|=255&(c>>>=8),a<<=8,a|=255&(c>>>=8),a<<=8,r+=(i=((a|=c>>>=8)>>>0).toString(16),"00000000".substr(0,8-i.length)+i);return r}(h,d,u,p).toUpperCase()}()},cc._RF.pop()},{}],model:[function(t,e,o){"use strict";cc._RF.push(e,"22f98UduLZP4ogQj7etrn5S","model"),Object.defineProperty(o,"__esModule",{value:!0}),o.launch_options=o.push_param=o.native_ad_data=o.syyx_view=void 0,function(t){t[t.native_banner=0]="native_banner",t[t.inner_interstitial=1]="inner_interstitial",t[t.interstitial=2]="interstitial",t[t.native_icon=3]="native_icon",t[t.toast=4]="toast",t[t.ctr_check=5]="ctr_check"}(o.syyx_view||(o.syyx_view={}));o.native_ad_data=function(){this.order=0};o.push_param=function(){};o.launch_options=function(){},cc._RF.pop()},{}],nodeChapter:[function(t,e,o){"use strict";cc._RF.push(e,"0e82ee0i3tKu5ApcBX2jhOl","nodeChapter");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../base/extends/GameException"),c=t("../../config/DataManager"),s=t("../../global/define"),_=t("../../logic/WorldManager"),l=t("../../record/ChapterInfo"),p=t("../../scenee/MainScene"),u=t("../../utils/LoadManager"),d=cc._decorator,h=d.ccclass,f=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnChapterLeft=null,e.btnChapterRight=null,e.spLockLeft=null,e.spLockRight=null,e.spArrowLeft=null,e.spArrowRight=null,e.spChapterIcon=null,e.textChapterName=null,e.textWave=null,e.textTaskWave=null,e.spTaskClickHint=null,e.spChapterUnlockHint=null,e.node_endless_lock=null,e.currentChapter=0,e}var o;return i(e,t),o=e,Object.defineProperty(e.prototype,"active",{get:function(){return this.node.active},set:function(t){1==t?this.Show():this.Hide()},enumerable:!1,configurable:!0}),e.prototype.start=function(){o.instance=this},e.prototype.update=function(){var t=l.ChapterInfo.instance.chapterTaskProgress,e=c.DataManager.TableChapterTaskDatasById[t];if(e){var o=l.ChapterInfo.instance.GetLastChapter(),n=!1;e.chapter<o.chapter?n=!0:e.chapter==o.chapter&&e.wave<=o.level&&(n=!0),this.spTaskClickHint.active=n,this.textTaskWave.string="chapter "+e.chapter+"-"+e.wave}else this.spTaskClickHint.active=!1;o=l.ChapterInfo.instance.GetLastChapter(),this.node_endless_lock.active=o.chapter<3},e.prototype.onDestroy=function(){this.RemoveEventListener()},e.prototype.Init=function(){this.currentChapter=l.ChapterInfo.instance.currentChapter,this.UpdateView(),this.AddEventListener(),this.node.active=!1},e.prototype.Show=function(){this.node.active=!0},e.prototype.Hide=function(){this.node.active=!1},e.prototype.UpdateView=function(){var t=this.currentChapter,e=c.DataManager.TableChapterInfoDatasById[t];if(!e)throw new a.GameException(-1,"nodeChapter UpdateView chapterInfo 章节信息未找到");var o=c.DataManager[e.config_name+"DatasArray"];if(!o)throw new a.GameException(-1,"nodeChapter UpdateView chapterConfig 章节配置未找到");this.textChapterName.string=e.name;var n=u.LoadManager.get(e.icon_path);n&&(this.spChapterIcon.spriteFrame=new cc.SpriteFrame(n));var i=l.ChapterInfo.instance.GetChapterInfo(t);this.textWave.string=i?"Level："+i.level+"/"+o.length:"";var r=c.DataManager.TableChapterInfoDatasById[t-1];if(r&&t-1>=1&&0==r.demo){var s=l.ChapterInfo.instance.GetChapterInfo(t-1);this.btnChapterLeft.active=!0,this.spLockLeft.active=null==s,this.spArrowLeft.active=null!=s}else this.btnChapterLeft.active=!1;var _=c.DataManager.TableChapterInfoDatasById[t+1];if(_&&0==_.demo){var p=l.ChapterInfo.instance.GetChapterInfo(t+1);this.btnChapterRight.active=!0,this.spLockRight.active=null==p,this.spArrowRight.active=null!=p}else this.btnChapterRight.active=!1;var d=l.ChapterInfo.instance.GetLastChapter();d&&0==d.level&&d.chapter!=t?this.spChapterUnlockHint.active=!0:this.spChapterUnlockHint.active=!1},e.prototype.AddEventListener=function(){},e.prototype.RemoveEventListener=function(){},e.prototype.onClickEventChapterLeft=function(){var t=c.DataManager.TableChapterInfoDatasById[this.currentChapter-1];!t||this.currentChapter-1<1||1==t.demo?s.Define.OutputMessage("No more for now"):l.ChapterInfo.instance.GetChapterInfo(this.currentChapter-1)?(this.currentChapter-=1,l.ChapterInfo.instance.currentChapter=this.currentChapter,_.WorldManager.Instance.Map.UpdateMap(),this.UpdateView()):s.Define.OutputMessage("Unlocked after clearing Chapter "+this.currentChapter)},e.prototype.onClickEventChapterRight=function(){var t=c.DataManager.TableChapterInfoDatasById[this.currentChapter+1];t&&1!=t.demo?l.ChapterInfo.instance.GetChapterInfo(this.currentChapter+1)?(this.currentChapter+=1,l.ChapterInfo.instance.currentChapter=this.currentChapter,_.WorldManager.Instance.Map.UpdateMap(),this.UpdateView()):s.Define.OutputMessage("Unlocked after clearing Chapter "+this.currentChapter):s.Define.OutputMessage("No more for now")},e.prototype.onClickEventChapterTask=function(){var t=u.LoadManager.get("prefab/hall/ChapterTaskLayer");t&&(cc.instantiate(t).parent=p.default.instance.node)},e.instance=null,r([f(cc.Node)],e.prototype,"btnChapterLeft",void 0),r([f(cc.Node)],e.prototype,"btnChapterRight",void 0),r([f(cc.Node)],e.prototype,"spLockLeft",void 0),r([f(cc.Node)],e.prototype,"spLockRight",void 0),r([f(cc.Node)],e.prototype,"spArrowLeft",void 0),r([f(cc.Node)],e.prototype,"spArrowRight",void 0),r([f(cc.Sprite)],e.prototype,"spChapterIcon",void 0),r([f(cc.Label)],e.prototype,"textChapterName",void 0),r([f(cc.Label)],e.prototype,"textWave",void 0),r([f(cc.Label)],e.prototype,"textTaskWave",void 0),r([f(cc.Node)],e.prototype,"spTaskClickHint",void 0),r([f(cc.Node)],e.prototype,"spChapterUnlockHint",void 0),r([f(cc.Node)],e.prototype,"node_endless_lock",void 0),o=r([h],e)}(cc.Component);o.default=y,cc._RF.pop()},{"../../base/extends/GameException":"GameException","../../config/DataManager":"DataManager","../../global/define":"define","../../logic/WorldManager":"WorldManager","../../record/ChapterInfo":"ChapterInfo","../../scenee/MainScene":"MainScene","../../utils/LoadManager":"LoadManager"}],nodeDeputyWeapon:[function(t,e,o){"use strict";cc._RF.push(e,"d9a925kRqRNkKYuzumhRVI3","nodeDeputyWeapon");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../config/DataManager"),_=t("../../global/define"),l=t("../../global/enums"),p=t("../../logic/GameManager"),u=t("../../module/SoundManage"),d=t("../../record/DeputyWeaponStore"),h=t("../../record/WealthRecord"),f=t("../../utils/ComponentAsync"),y=t("../../utils/LoadManager"),g=t("./nodeTopBG"),v=cc._decorator,b=v.ccclass,m=v.property,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_upgrade=null,e.node_lock=null,e.list_deputy_weapon=null,e.node_weapon_item=null,e.text_unlock_hint=null,e.text_atk_consume=null,e.text_firepower_consume=null,e.text_atk_level=null,e.text_firepower_level=null,e.text_atk=null,e.text_firepower=null,e.sp_atk_hint=null,e.sp_firepower_hint=null,e._weaponList=[],e._currentData=null,e}return i(e,t),Object.defineProperty(e.prototype,"active",{get:function(){return this.node.active},set:function(t){1==t?this.Show():this.Hide()},enumerable:!1,configurable:!0}),e.prototype.start=function(){},e.prototype.onDestroy=function(){this.RemoveEventListener()},e.prototype.Init=function(){this.InitView(),this.InitPlaneList(),this.AddEventListener(),this.node.active=!1},e.prototype.Show=function(){this.node.active=!0;var t=d.DeputyWeaponStore.instance.getDeputyWeapon();if(t){var e=this._weaponList.find(function(e){return e.data.plane_id==t.deputy_weapon_id});e?this.SelectMainWeapon(e.item):this.SelectMainWeapon(this._weaponList[0].item)}else this.SelectMainWeapon(this._weaponList[0].item)},e.prototype.Hide=function(){this.node.active=!1},e.prototype.InitView=function(){this.node_weapon_item.active=!1},e.prototype.AddEventListener=function(){},e.prototype.RemoveEventListener=function(){},e.prototype.InitPlaneList=function(){var t=this;s.DataManager.TableDeputyWeaponShopDatasArray.forEach(function(e){var o=cc.instantiate(t.node_weapon_item);o.active=!0,o.x=0,o.y=0,o.parent=t.list_deputy_weapon.content;var n=o.getChildByName("sp_icon").getComponent(cc.Sprite),i=o.getChildByName("sp_lock"),r=o.getChildByName("sp_selected"),a=s.DataManager.TablePlaneConfigDatasById[e.plane_id],c=y.LoadManager.get(a.icon_path);n.spriteFrame=new cc.SpriteFrame(c),t._weaponList.push({data:e,item:o,sp_icon:n,sp_lock:i,sp_selected:r})})},e.prototype.SelectMainWeapon=function(t){var e=this;this._weaponList.forEach(function(o){var n=o.data.plane_id,i=d.DeputyWeaponStore.instance.get(n);o.sp_lock.active=null==i,o.item.uuid==t.uuid?(e._currentData=o,o.sp_selected.active=!0,e.UpdateAttribute(o),i&&(d.DeputyWeaponStore.instance.setDeputyWeapon(n),p.default.Instance.Player1.ShowShop(!0)),d.DeputyWeaponStore.instance.closeClickHint(n)):o.sp_selected.active=!1})},e.prototype.update=function(){if(this._weaponList.forEach(function(t){var e=t.item.getChildByName("sp_click_hint");if(e){var o=d.DeputyWeaponStore.instance.showClickHint(t.data.plane_id);e.active=o}}),this._currentData){var t=d.DeputyWeaponStore.instance.get(this._currentData.data.plane_id);if(t){var e=h.WealthRecord.instance.exp_user,o=d.DeputyWeaponStore.calcuateConsume(t.atk_lv),n=d.DeputyWeaponStore.calcuateConsume(t.firepower_lv),i=o<=e;this.text_atk_consume.node.color=i?_.Define.colorWhite:_.Define.colorRed,this.sp_atk_hint.active=i;var r=n<=e;this.text_firepower_consume.node.color=r?_.Define.colorWhite:_.Define.colorRed,this.sp_firepower_hint.active=r}}},e.prototype.UpdateAttribute=function(t){var e=t.data.plane_id,o=s.DataManager.TablePlaneConfigDatasById[e];if(null!=o&&null!=s.DataManager.TableDeputyWeaponDatasById[o.property_id]){var n=d.DeputyWeaponStore.instance.get(e);if(this.node_upgrade.active=null!=n,this.node_lock.active=null==n,n){var i=d.DeputyWeaponStore.calcuateConsume(n.atk_lv),r=d.DeputyWeaponStore.calcuateConsume(n.firepower_lv);this.text_atk_level.string="Upgrade ATK [Lv."+n.atk_lv+"]",this.text_firepower_level.string="Upgrade Fire [Lv."+n.firepower_lv+"]",this.text_atk_consume.string=""+_.Define.ConvertN(i),this.text_firepower_consume.string=""+_.Define.ConvertN(r),this.text_atk.string="ATK: "+d.DeputyWeaponStore.calcuateAtk(e,n.atk_lv),this.text_firepower.string="Fire: "+d.DeputyWeaponStore.calcuateFirepower(n.firepower_lv)}else t.data.level_unlock>0?this.text_unlock_hint.string="Unlocked after passing Chapter "+t.data.chapter_unlock+", Level "+t.data.level_unlock:this.text_unlock_hint.string="Unlocked after passing Chapter "+t.data.chapter_unlock}},e.prototype.onClickEventDeputyWeaponSelect=function(t){this.SelectMainWeapon(t.target)},e.prototype.onClickEventUpgradeAtk=function(){return a(this,void 0,void 0,function(){var t,e,o;return c(this,function(n){switch(n.label){case 0:return null==this._currentData?(_.Define.OutputMessage("Please choose an auxiliary weapon first"),[2]):(t=this._currentData.data.plane_id,null==(e=d.DeputyWeaponStore.instance.get(t))?(_.Define.OutputMessage("The current weapon cannot be upgraded"),[2]):(o=d.DeputyWeaponStore.calcuateConsume(e.atk_lv),h.WealthRecord.instance.exp_user<o?(u.SoundManage.instance.PlaySound(l.GameSound.sound_btn_click),[4,f.ComponentDestoryAsync(g.default.instance.ShowExchangeExp(!0))]):[3,2]));case 1:return n.sent(),this.UpdateAttribute(this._currentData),[2];case 2:return _.Define.BuriedPoint("升级副武器：攻击力"),d.DeputyWeaponStore.instance.upgradeAtk(t)?(h.WealthRecord.instance.AddExp(-o),this.UpdateAttribute(this._currentData),_.Define.OutputMessage("ATK: Lv."+e.atk_lv),u.SoundManage.instance.PlaySound(l.GameSound.sound_weapon_upgrade)):_.Define.OutputMessage("Can't upgrade"),[2]}})})},e.prototype.onClickEventUpgradeFirepower=function(){return a(this,void 0,void 0,function(){var t,e,o;return c(this,function(n){switch(n.label){case 0:return null==this._currentData?(_.Define.OutputMessage("Please choose an auxiliary weapon first"),[2]):(t=this._currentData.data.plane_id,null==(e=d.DeputyWeaponStore.instance.get(t))?(_.Define.OutputMessage("The current weapon cannot be upgraded"),[2]):(o=d.DeputyWeaponStore.calcuateConsume(e.firepower_lv),h.WealthRecord.instance.exp_user<o?(u.SoundManage.instance.PlaySound(l.GameSound.sound_btn_click),[4,f.ComponentDestoryAsync(g.default.instance.ShowExchangeExp(!0))]):[3,2]));case 1:return n.sent(),this.UpdateAttribute(this._currentData),[2];case 2:return _.Define.BuriedPoint("升级副武器：火力"),d.DeputyWeaponStore.instance.upgradeFirepower(t)?(h.WealthRecord.instance.AddExp(-o),this.UpdateAttribute(this._currentData),_.Define.OutputMessage("Fire: Lv."+e.firepower_lv),u.SoundManage.instance.PlaySound(l.GameSound.sound_weapon_upgrade)):_.Define.OutputMessage("Can't upgrade"),[2]}})})},r([m(cc.Node)],e.prototype,"node_upgrade",void 0),r([m(cc.Node)],e.prototype,"node_lock",void 0),r([m(cc.ScrollView)],e.prototype,"list_deputy_weapon",void 0),r([m(cc.Node)],e.prototype,"node_weapon_item",void 0),r([m(cc.Label)],e.prototype,"text_unlock_hint",void 0),r([m(cc.Label)],e.prototype,"text_atk_consume",void 0),r([m(cc.Label)],e.prototype,"text_firepower_consume",void 0),r([m(cc.Label)],e.prototype,"text_atk_level",void 0),r([m(cc.Label)],e.prototype,"text_firepower_level",void 0),r([m(cc.Label)],e.prototype,"text_atk",void 0),r([m(cc.Label)],e.prototype,"text_firepower",void 0),r([m(cc.Node)],e.prototype,"sp_atk_hint",void 0),r([m(cc.Node)],e.prototype,"sp_firepower_hint",void 0),r([b],e)}(cc.Component);o.default=A,cc._RF.pop()},{"../../config/DataManager":"DataManager","../../global/define":"define","../../global/enums":"enums","../../logic/GameManager":"GameManager","../../module/SoundManage":"SoundManage","../../record/DeputyWeaponStore":"DeputyWeaponStore","../../record/WealthRecord":"WealthRecord","../../utils/ComponentAsync":"ComponentAsync","../../utils/LoadManager":"LoadManager","./nodeTopBG":"nodeTopBG"}],nodeFloorBG:[function(t,e,o){"use strict";cc._RF.push(e,"926b1QE5WxD1rppoJoKV0s9","nodeFloorBG");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../record/DeputyWeaponStore"),c=t("../../record/MainWeaponStore"),s=t("../../record/WealthRecord"),_=cc._decorator,l=_.ccclass,p=_.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_mw_upgrade_hint_1=null,e.node_mw_upgrade_hint_2=null,e.node_dw_upgrade_hint_1=null,e.node_dw_upgrade_hint_2=null,e}var o;return i(e,t),o=e,e.prototype.start=function(){o.instance=this},e.prototype.update=function(){var t=c.MainWeaponStore.instance.getMainWeapon();if(c.MainWeaponStore.instance.isDemo(t.main_weapon_id))this.node_mw_upgrade_hint_1.active=!1,this.node_mw_upgrade_hint_2.active=!1;else{var e=c.MainWeaponStore.calcuateConsume(t.lv)<=s.WealthRecord.instance.exp_user;this.node_mw_upgrade_hint_1.active=e,this.node_mw_upgrade_hint_2.active=e}if(t=a.DeputyWeaponStore.instance.getDeputyWeapon()){var o=a.DeputyWeaponStore.instance.get(t.deputy_weapon_id);if(o){var n=s.WealthRecord.instance.exp_user,i=a.DeputyWeaponStore.calcuateConsume(o.atk_lv)<=n,r=a.DeputyWeaponStore.calcuateConsume(o.firepower_lv)<=n;this.node_dw_upgrade_hint_1.active=i||r,this.node_dw_upgrade_hint_2.active=i||r}}else{var _=a.DeputyWeaponStore.instance.getCount()>0;this.node_dw_upgrade_hint_1.active=_,this.node_dw_upgrade_hint_2.active=_}},e.prototype.onDestroy=function(){},e.instance=null,r([p(cc.Node)],e.prototype,"node_mw_upgrade_hint_1",void 0),r([p(cc.Node)],e.prototype,"node_mw_upgrade_hint_2",void 0),r([p(cc.Node)],e.prototype,"node_dw_upgrade_hint_1",void 0),r([p(cc.Node)],e.prototype,"node_dw_upgrade_hint_2",void 0),o=r([l],e)}(cc.Component);o.default=u,cc._RF.pop()},{"../../record/DeputyWeaponStore":"DeputyWeaponStore","../../record/MainWeaponStore":"MainWeaponStore","../../record/WealthRecord":"WealthRecord"}],nodeHallUI:[function(t,e,o){"use strict";cc._RF.push(e,"4c776LlrQJNy4C+2BHuNFOC","nodeHallUI");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../global/define"),c=t("../../global/enums"),s=t("../../global/GlobalUserInfo"),_=t("../../logic/GameManager"),l=t("../../module/SoundManage"),p=t("../../record/GameInfoRecord"),u=t("../../scenee/MainScene"),d=t("../../ThirdParty/ThirdParty"),h=t("../public/SwitchEffect"),f=t("./nodeChapter"),y=t("./nodeDeputyWeapon"),g=t("./nodeMainWeapon"),v=cc._decorator,b=v.ccclass,m=v.property,A=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_click_hint_ani=[],e.node_set_ani=null,e.node_off_line_ani=null,e.node_chapter_bg_ani=null,e.node_chapter_ani=null,e.node_start_text_ani=null,e.node_start_ani=null,e.node_start_light_ani=null,e.btnSelectBG=null,e.btnMainWeapon=null,e.btnChapter=null,e.btnDeputyWeapon=null,e.nodeChapter=null,e.nodeMainWeapon=null,e.nodeDeputyWeapon=null,e._currentSelectMenu=null,e._objChapter=null,e._objMainWeapon=null,e._objDeputyWeapon=null,e._nodeMainWeaponY=0,e._nodeDeputyWeaponY=0,e}return i(e,t),e.prototype.start=function(){var t=this;this.CreateAnimation(),this.AddEventListener(),this._objChapter=this.nodeChapter.getComponent(f.default),this._objMainWeapon=this.nodeMainWeapon.getComponent(g.default),this._objDeputyWeapon=this.nodeDeputyWeapon.getComponent(y.default),this._objChapter.Init(),this._objMainWeapon.Init(),this._objDeputyWeapon.Init(),p.GameInfoRecord.instance.enterGameCount+=1,cc.tween(this.node).delay(.01).call(function(){t.nodeMainWeapon.getComponent(cc.Widget).updateAlignment(),t.nodeDeputyWeapon.getComponent(cc.Widget).updateAlignment(),t._nodeMainWeaponY=t.nodeMainWeapon.y,t._nodeDeputyWeaponY=t.nodeDeputyWeapon.y,t.onMenuSelect("chapter"),t.PlayMenuSelectAni(t.btnChapter),p.GameInfoRecord.instance.CheckGuideFinish(c.GameGuideID.start_game)||(u.default.instance.firstGame=!0,cc.tween(t.node).delay(.1).call(function(){a.Define.CreateGuideLayer(c.GameGuideID.start_game)}).start())}).start()},e.prototype.onDestroy=function(){this.RemoveEventListener()},e.prototype.AddEventListener=function(){},e.prototype.RemoveEventListener=function(){},e.prototype.onClickEventMainWeapon=function(t){this.onMenuSelect("mainWeapon"),this.PlayMenuSelectAni(t.target),l.SoundManage.instance.PlaySound(c.GameSound.sound_menu_switch),a.Define.BuriedPoint("切换到主武器")},e.prototype.onClickEventDeputyWeapon=function(t){this.onMenuSelect("deputyWeapon"),this.PlayMenuSelectAni(t.target),l.SoundManage.instance.PlaySound(c.GameSound.sound_menu_switch),a.Define.BuriedPoint("切换到副武器")},e.prototype.onClickEventChapter=function(t){this.onMenuSelect("chapter"),this.PlayMenuSelectAni(t.target),l.SoundManage.instance.PlaySound(c.GameSound.sound_menu_switch),a.Define.BuriedPoint("切换到章节")},e.prototype.onMenuSelect=function(t){this._objChapter.active="chapter"==t,this._objMainWeapon.active="mainWeapon"==t,this._objDeputyWeapon.active="deputyWeapon"==t,"mainWeapon"!=t&&"deputyWeapon"!=t||(cc.Tween.stopAllByTarget(this.nodeMainWeapon),cc.Tween.stopAllByTarget(this.nodeDeputyWeapon),this.nodeMainWeapon.y=this._nodeMainWeaponY-60,this.nodeDeputyWeapon.y=this._nodeDeputyWeaponY-60,this.nodeMainWeapon.opacity=0,this.nodeDeputyWeapon.opacity=0,cc.tween(this.nodeMainWeapon).to(.15,{y:this._nodeMainWeaponY,opacity:255}).start(),cc.tween(this.nodeDeputyWeapon).to(.15,{y:this._nodeDeputyWeaponY,opacity:255}).start()),"chapter"!=t?_.default.Instance.Player1.ShowShop("mainWeapon"==t):_.default.Instance.Player1.HideShop()},e.prototype.OnCheckEventShare=function(){d.ThirdParty.instance.shareAppMessage({})},e.prototype.OnCheckEventRank=function(){a.Define.OutputMessage("The function is not yet open")},e.prototype.CreateAnimation=function(){var t=this;this.node_click_hint_ani.forEach(function(t){t.scale=1,cc.tween(t).delay(Math.random()).call(function(){cc.tween(t).repeatForever(cc.tween(t).to(.5,{scale:.8}).to(.5,{scale:1})).start()}).start()}),cc.tween(this.node_set_ani).repeatForever(cc.tween(this.node_set_ani).to(10,{angle:360}).call(function(){t.node_set_ani.angle=0})).start(),cc.tween(this.node_off_line_ani).repeatForever(cc.tween(this.node_off_line_ani).to(10,{angle:-360}).call(function(){t.node_off_line_ani.angle=0})).start(),cc.tween(this.node_chapter_bg_ani).repeatForever(cc.tween(this.node_chapter_bg_ani).to(5,{angle:-360}).call(function(){t.node_chapter_bg_ani.angle=0})).start(),this.node_chapter_ani.y+=30,cc.tween(this.node_chapter_ani).repeatForever(cc.tween(this.node_chapter_ani).by(3,{y:-60}).by(3,{y:60})).start(),cc.tween(this.node_start_text_ani).repeatForever(cc.tween(this.node_start_text_ani).by(.6,{scale:.2}).by(.6,{scale:-.2})).start();for(var e=function(t){var e=cc.instantiate(o.node_start_ani);e.parent=o.node_start_ani,e.x=0,e.y=0,e.opacity=0,cc.tween(e).delay(t<5?.2*t:.2*t+.2).call(function(){cc.tween(e).repeatForever(cc.tween(e).call(function(){e.scale=1,e.opacity=160}).to(.4,{scale:1.35,opacity:0}).delay(2)).start()}).start()},o=this,n=0;n<6;n++)e(n);cc.tween(this.node_start_light_ani).repeatForever(cc.tween(this.node_start_light_ani).call(function(){t.node_start_light_ani.x=235}).to(1,{x:-235}).delay(3)).start()},e.prototype.PlayMenuSelectAni=function(t){if(cc.Tween.stopAllByTarget(this.btnSelectBG),cc.tween(this.btnSelectBG).to(.2,{x:t.x}).start(),this._currentSelectMenu){var e=this._currentSelectMenu.getChildByName("textName"),o=this._currentSelectMenu.getChildByName("spUnselected"),n=this._currentSelectMenu.getChildByName("spSelected");cc.Tween.stopAllByTarget(e),cc.Tween.stopAllByTarget(o),cc.Tween.stopAllByTarget(n),e.active=!1,n.active=!1,o.active=!0,o.opacity=255,n.opacity=255,e.opacity=255,o.y=91,n.y=91,cc.tween(o).to(.2,{y:42}).start()}this._currentSelectMenu=t;var i=this._currentSelectMenu.getChildByName("textName"),r=this._currentSelectMenu.getChildByName("spUnselected"),a=this._currentSelectMenu.getChildByName("spSelected");cc.Tween.stopAllByTarget(i),cc.Tween.stopAllByTarget(r),cc.Tween.stopAllByTarget(a),i.active=!0,a.active=!0,r.active=!1,i.opacity=0,a.y=42,cc.tween(a).to(.2,{y:91}).call(function(){cc.tween(a).repeatForever(cc.tween(a).by(1.5,{y:20}).by(1.5,{y:-20})).start()}).start(),cc.tween(i).to(.4,{opacity:255}).start()},r([m([cc.Node])],e.prototype,"node_click_hint_ani",void 0),r([m(cc.Node)],e.prototype,"node_set_ani",void 0),r([m(cc.Node)],e.prototype,"node_off_line_ani",void 0),r([m(cc.Node)],e.prototype,"node_chapter_bg_ani",void 0),r([m(cc.Node)],e.prototype,"node_chapter_ani",void 0),r([m(cc.Node)],e.prototype,"node_start_text_ani",void 0),r([m(cc.Node)],e.prototype,"node_start_ani",void 0),r([m(cc.Node)],e.prototype,"node_start_light_ani",void 0),r([m(cc.Prefab)],e.prototype,"RankLayerPrefab",void 0),r([m(cc.Node)],e.prototype,"btnSelectBG",void 0),r([m(cc.Node)],e.prototype,"btnMainWeapon",void 0),r([m(cc.Node)],e.prototype,"btnChapter",void 0),r([m(cc.Node)],e.prototype,"btnDeputyWeapon",void 0),r([m(cc.Node)],e.prototype,"nodeChapter",void 0),r([m(cc.Node)],e.prototype,"nodeMainWeapon",void 0),r([m(cc.Node)],e.prototype,"nodeDeputyWeapon",void 0),r([b],e)}(cc.Component);o.default=A,cc._RF.pop()},{"../../ThirdParty/ThirdParty":"ThirdParty","../../global/GlobalUserInfo":"GlobalUserInfo","../../global/define":"define","../../global/enums":"enums","../../logic/GameManager":"GameManager","../../module/SoundManage":"SoundManage","../../record/GameInfoRecord":"GameInfoRecord","../../scenee/MainScene":"MainScene","../public/SwitchEffect":"SwitchEffect","./nodeChapter":"nodeChapter","./nodeDeputyWeapon":"nodeDeputyWeapon","./nodeMainWeapon":"nodeMainWeapon"}],nodeMainWeapon:[function(t,e,o){"use strict";cc._RF.push(e,"4256d4Ejd1LvYP1UUGTJ0Az","nodeMainWeapon");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../config/DataManager"),_=t("../../global/define"),l=t("../../global/enums"),p=t("../../logic/actors/ActorDefine"),u=t("../../logic/GameManager"),d=t("../../module/SoundManage"),h=t("../../record/MainWeaponStore"),f=t("../../record/WealthRecord"),y=t("../../ThirdParty/ThirdParty"),g=t("../../ThirdParty/WxAdMgr"),v=t("../../utils/ComponentAsync"),b=t("../../utils/LoadManager"),m=t("./nodeTopBG"),A=cc._decorator,x=A.ccclass,C=A.property,w=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_upgrade=null,e.node_lock=null,e.list_main_weapon=null,e.node_weapon_item=null,e.list_property_buff=null,e.node_buff_item=null,e.text_level_upgrade_hint=null,e.text_atk=null,e.text_hp=null,e.text_atk_buff=null,e.text_hp_buff=null,e.text_upgrade_consume=null,e.text_unlock_consume=null,e.btn_upgrade=null,e.node_demo_hint=null,e.sp_upgrade_hint=null,e._weaponList=[],e._currentData=null,e}return i(e,t),Object.defineProperty(e.prototype,"active",{get:function(){return this.node.active},set:function(t){1==t?this.Show():this.Hide()},enumerable:!1,configurable:!0}),e.prototype.start=function(){},e.prototype.onDestroy=function(){this.RemoveEventListener()},e.prototype.Init=function(){this.InitView(),this.InitPlaneList(),this.AddEventListener(),this.node.active=!1},e.prototype.Show=function(){this.node.active=!0;var t=h.MainWeaponStore.instance.getMainWeapon(),e=this._weaponList.find(function(e){return e.data.plane_id==t.main_weapon_id});e?this.SelectMainWeapon(e.item):this.SelectMainWeapon(this._weaponList[0].item)},e.prototype.Hide=function(){this.node.active=!1},e.prototype.InitView=function(){this.node_weapon_item.active=!1,this.node_buff_item.active=!1},e.prototype.AddEventListener=function(){},e.prototype.RemoveEventListener=function(){},e.prototype.InitPlaneList=function(){var t=this;s.DataManager.TableMainWeaponShopDatasArray.forEach(function(e){var o=cc.instantiate(t.node_weapon_item);o.active=!0,o.x=0,o.y=0,o.parent=t.list_main_weapon.content;var n=o.getChildByName("sp_icon").getComponent(cc.Sprite),i=o.getChildByName("sp_lock"),r=o.getChildByName("sp_selected"),a=s.DataManager.TablePlaneConfigDatasById[e.plane_id],c=b.LoadManager.get(a.icon_path);n.spriteFrame=new cc.SpriteFrame(c),t._weaponList.push({data:e,item:o,sp_icon:n,sp_lock:i,sp_selected:r})})},e.prototype.SelectMainWeapon=function(t){var e=this;this._weaponList.forEach(function(o){var n=o.data.plane_id,i=h.MainWeaponStore.instance.get(n),r=h.MainWeaponStore.instance.isDemo(n);o.sp_lock.active=null==i||1==r,o.item.uuid==t.uuid?(e._currentData=o,o.sp_selected.active=!0,e.UpdateAttribute(o),i&&(h.MainWeaponStore.instance.clearDemoMainWeapon(),r?h.MainWeaponStore.instance.setDemoMainWeapon(n):h.MainWeaponStore.instance.setMainWeapon(n),u.default.Instance.Player1.ShowShop(!0))):o.sp_selected.active=!1})},e.prototype.update=function(){if(this._currentData){var t=h.MainWeaponStore.instance.isDemo(this._currentData.data.plane_id),e=h.MainWeaponStore.instance.get(this._currentData.data.plane_id);if(e&&!t){var o=h.MainWeaponStore.calcuateConsume(e.lv)<=f.WealthRecord.instance.exp_user;this.text_upgrade_consume.node.color=o?_.Define.colorWhite:_.Define.colorRed,this.sp_upgrade_hint.active=o}}},e.prototype.UpdateAttribute=function(t){var e=t.data.plane_id,o=s.DataManager.TablePlaneConfigDatasById[e];if(null!=o&&null!=s.DataManager.TableMainWeaponDatasById[o.property_id]){var n=h.MainWeaponStore.instance.get(e);this.node_upgrade.active=null!=n,this.node_lock.active=null==n,this.btn_upgrade.active=!h.MainWeaponStore.instance.isDemo(e),this.node_demo_hint.active=h.MainWeaponStore.instance.isDemo(e);var i=t.data.price<=f.WealthRecord.instance.jewel;if(this.text_unlock_consume.string=""+t.data.price,this.text_unlock_consume.node.color=i?_.Define.colorPurple:_.Define.colorRed,n){var r=h.MainWeaponStore.calcuateConsume(n.lv);this.text_upgrade_consume.string=""+_.Define.ConvertN(r),this.text_level_upgrade_hint.string="Upgrade [Lv."+n.lv+"]",this.text_atk.string="ATK: "+h.MainWeaponStore.calcuateAtk(e,n.lv),this.text_hp.string="HP: "+h.MainWeaponStore.calcuateHP(e,n.lv)}this.UpdateSpecialAttributes(e,o.property_id)}},e.prototype.UpdateSpecialAttributes=function(t,e){var o=this.list_property_buff.content.children;if(o.forEach(function(t){t.active=!1}),null!=s.DataManager.TableMainWeaponDatasById[e]){var n=s.DataManager["TableMainWeaponID_"+e+"DatasArray"];if(null!=n){if(n.length>o.length){for(var i=n.length-o.length,r=0;r<i;r++){var a=cc.instantiate(this.node_buff_item);a.parent=this.list_property_buff.content,a.active=!1}o=this.list_property_buff.content.children}var c=h.MainWeaponStore.instance.get(t);if(o.forEach(function(t,e){if(!(e>=n.length)){var o=n[e],i=c&&c.lv>=o.begin_level,r=t.getChildByName("text_level").getComponent(cc.Label),a=t.getChildByName("text_buff").getComponent(cc.Label),s=t.getChildByName("sp_finished"),_=t.getChildByName("sp_unfinished");t.active=!0,r.string="Lv."+o.begin_level,a.string=o.describe,a.node.color=i?cc.color(255,255,255):cc.color(180,180,180),s.active=i,_.active=!i}}),c){var _=h.MainWeaponStore.calacuateSpecialAttr(t,c.lv);0==_.getAttr(p.EAttrID.EA_ATK)?(this.text_atk_buff.string="",this.text_atk.node.x=0):(this.text_atk_buff.string="(+"+_.getAttr(p.EAttrID.EA_ATK)+")",this.text_atk_buff._forceUpdateRenderData(!0),this.text_atk.node.x=-this.text_atk_buff.node.width-5),0==_.getAttr(p.EAttrID.EA_HP)?(this.text_hp_buff.string="",this.text_hp.node.x=0):(this.text_hp_buff.string="(+"+_.getAttr(p.EAttrID.EA_HP)+")",this.text_hp_buff._forceUpdateRenderData(!0),this.text_hp.node.x=-this.text_hp_buff.node.width-5)}else this.text_atk_buff.string="",this.text_hp_buff.string="",this.text_atk.node.x=0,this.text_hp.node.x=0}}},e.prototype.onClickEventMainWeaponSelect=function(t){this.SelectMainWeapon(t.target)},e.prototype.onClickEventUnlock=function(){if(null!=this._currentData){if(f.WealthRecord.instance.jewel<this._currentData.data.price)return d.SoundManage.instance.PlaySound(l.GameSound.sound_btn_click),void m.default.instance.ShowDailyPack(!0);_.Define.BuriedPoint("解锁主武器："+this._currentData.data.plane_id);var t=this._currentData.data.plane_id;f.WealthRecord.instance.AddJewel(-this._currentData.data.price),h.MainWeaponStore.instance.push({main_weapon_id:t,lv:1}),h.MainWeaponStore.instance.clearDemoMainWeapon(),h.MainWeaponStore.instance.setMainWeapon(t),u.default.Instance.Player1.ShowShop(!0),this.SelectMainWeapon(this._currentData.item),d.SoundManage.instance.PlaySound(l.GameSound.sound_weapon_upgrade)}else _.Define.OutputMessage("Choose a weapon")},e.prototype.onClickEventDemo=function(){var t=this;null!=this._currentData?(_.Define.CreateLoading("Ads loading..."),playVideo(res=>{if(res){_.Define.RemoveLoading(),_.Define.BuriedPoint("Try the weapon: "+t._currentData.data.plane_id),h.MainWeaponStore.instance.setDemoMainWeapon(t._currentData.data.plane_id),u.default.Instance.Player1.ShowShop(!0),t.UpdateAttribute(t._currentData),d.SoundManage.instance.PlaySound(l.GameSound.sound_weapon_upgrade)}else{_.Define.RemoveLoading(),_.Define.OutputMessage("Ad failed")}})):_.Define.OutputMessage("Choose a weapon")},e.prototype.onClickEventUpgrade=function(){return a(this,void 0,void 0,function(){var t,e,o,n;return c(this,function(i){switch(i.label){case 0:return null==this._currentData?(_.Define.OutputMessage("Choose a weapon"),[2]):(t=this._currentData.data.plane_id,e=h.MainWeaponStore.instance.get(t),o=h.MainWeaponStore.instance.isDemo(t),null==e||o?(_.Define.OutputMessage("The current weapon cannot be upgraded"),[2]):(n=h.MainWeaponStore.calcuateConsume(e.lv),f.WealthRecord.instance.exp_user<n?(d.SoundManage.instance.PlaySound(l.GameSound.sound_btn_click),[4,v.ComponentDestoryAsync(m.default.instance.ShowExchangeExp(!0))]):[3,2]));case 1:return i.sent(),this.UpdateAttribute(this._currentData),[2];case 2:return _.Define.BuriedPoint("升级主武器："+t),h.MainWeaponStore.instance.upgrade(t)?(f.WealthRecord.instance.AddExp(-n),this.UpdateAttribute(this._currentData),_.Define.OutputMessage("Weapon upgrades: Lv."+e.lv),d.SoundManage.instance.PlaySound(l.GameSound.sound_weapon_upgrade)):_.Define.OutputMessage("Unable to upgrade"),[2]}})})},r([C(cc.Node)],e.prototype,"node_upgrade",void 0),r([C(cc.Node)],e.prototype,"node_lock",void 0),r([C(cc.ScrollView)],e.prototype,"list_main_weapon",void 0),r([C(cc.Node)],e.prototype,"node_weapon_item",void 0),r([C(cc.ScrollView)],e.prototype,"list_property_buff",void 0),r([C(cc.Node)],e.prototype,"node_buff_item",void 0),r([C(cc.Label)],e.prototype,"text_level_upgrade_hint",void 0),r([C(cc.Label)],e.prototype,"text_atk",void 0),r([C(cc.Label)],e.prototype,"text_hp",void 0),r([C(cc.Label)],e.prototype,"text_atk_buff",void 0),r([C(cc.Label)],e.prototype,"text_hp_buff",void 0),r([C(cc.Label)],e.prototype,"text_upgrade_consume",void 0),r([C(cc.Label)],e.prototype,"text_unlock_consume",void 0),r([C(cc.Node)],e.prototype,"btn_upgrade",void 0),r([C(cc.Node)],e.prototype,"node_demo_hint",void 0),r([C(cc.Node)],e.prototype,"sp_upgrade_hint",void 0),r([x],e)}(cc.Component);o.default=w,cc._RF.pop()},{"../../ThirdParty/ThirdParty":"ThirdParty","../../ThirdParty/WxAdMgr":"WxAdMgr","../../config/DataManager":"DataManager","../../global/define":"define","../../global/enums":"enums","../../logic/GameManager":"GameManager","../../logic/actors/ActorDefine":"ActorDefine","../../module/SoundManage":"SoundManage","../../record/MainWeaponStore":"MainWeaponStore","../../record/WealthRecord":"WealthRecord","../../utils/ComponentAsync":"ComponentAsync","../../utils/LoadManager":"LoadManager","./nodeTopBG":"nodeTopBG"}],nodeScore:[function(t,e,o){"use strict";cc._RF.push(e,"f1112jEsHJAN5YweFvpFLw3","nodeScore");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a};Object.defineProperty(o,"__esModule",{value:!0});var a=t("../../global/GlobalUserInfo"),c=cc._decorator,s=c.ccclass,_=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.spMaxScoreBG=null,e.textMaxScore=null,e}return i(e,t),e.prototype.start=function(){this.spMaxScoreBG.node.active=!1,this.textMaxScore.string=a.GlobalUserInfo.instance.score.toString()},e.prototype.update=function(){this.spMaxScoreBG.node.x=-(this.spMaxScoreBG.node.width+this.textMaxScore.node.width+5)/2},r([_(cc.Sprite)],e.prototype,"spMaxScoreBG",void 0),r([_(cc.Label)],e.prototype,"textMaxScore",void 0),r([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../../global/GlobalUserInfo":"GlobalUserInfo"}],nodeTopBG:[function(t,e,o){"use strict";cc._RF.push(e,"6332dGWPQlD2qpydGZWwFMT","nodeTopBG");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(a=(r<3?i(a):r>3?i(e,o,a):i(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a},a=this&&this.__awaiter||function(t,e,o,n){return new(o||(o=Promise))(function(i,r){function a(t){try{s(n.next(t))}catch(e){r(e)}}function c(t){try{s(n.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?i(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(a,c)}s((n=n.apply(t,e||[])).next())})},c=this&&this.__generator||function(t,e){var o,n,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function c(t){return function(e){return s([t,e])}}function s(r){if(o)throw new TypeError("Generator is already executing.");for(;a;)try{if(o=1,n&&(i=2&r[0]?n.return:r[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,r[1])).done)return i;switch(n=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,n=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===r[0]||2===r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=e.call(t,a)}catch(c){r=[6,c],n=0}finally{o=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../base/App"),_=t("../../global/define"),l=t("../../global/enums"),p=t("../../record/GameInfoRecord"),u=t("../../record/OfflineRewardRecord"),d=t("../../record/VitalityRecoverData"),h=t("../../record/WealthRecord"),f=t("../../scenee/MainScene"),y=t("../../utils/ComponentAsync"),g=t("../../utils/DateUtils"),v=t("../../utils/LoadManager"),b=t("./DailyPackLayer"),m=t("./ExchangeExpLayer"),A=t("./ExchangeVitalityLayer"),x=t("./OfflineRewardLayer"),C=t("./SetLayer"),w=t("./SigninLayer"),T=t("./WelfareLayer"),E=cc._decorator,S=E.ccclass,O=E.property,P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_signin_hint=null,e.node_offline_hint=null,e.node_daily_pack_hint=null,e.node_welfare_hint=null,e.btnExp=null,e.btnJewel=null,e.btnVitality=null,e.textExp=null,e.textVitality=null,e.textJewel=null,e.textVitalityTime=null,e}var o;return i(e,t),o=e,e.prototype.start=function(){o.instance=this,this.UpdateData(),this.AddEventListener(),this.OpenFunction()},e.prototype.OpenFunction=function(){return a(this,void 0,void 0,function(){return c(this,function(t){switch(t.label){case 0:return p.GameInfoRecord.instance.CheckGuideFinish(l.GameGuideID.start_game)?p.GameInfoRecord.instance.CheckSignin()?[3,2]:[4,y.ComponentDestoryAsync(this.ShowSignin())]:[2];case 1:t.sent(),t.label=2;case 2:return u.OfflineRewardRecord.instance.calculateAward(1).exp>=1e3?[4,y.ComponentDestoryAsync(this.ShowOfflineReward())]:[3,4];case 3:t.sent(),t.label=4;case 4:return[2]}})})},e.prototype.update=function(){if(h.WealthRecord.instance.vitality>=d.VitalityRecoverData.VITALITY_MAX)this.textVitalityTime.string="Full of SP";else{var t=d.VitalityRecoverData.instance.recoverTickcount;this.textVitalityTime.string=g.DateUtils.secondToMS(t)+" +1"}var e=p.GameInfoRecord.instance.CheckSignin();this.node_signin_hint.active=!e,e=u.OfflineRewardRecord.instance.calculateAward(1);var o=u.OfflineRewardRecord.calcuateConsume(),n=h.WealthRecord.instance.exp_user>=o;this.node_offline_hint.active=n||e.exp>=1e3,e=p.GameInfoRecord.instance.CheckDailyPack(),this.node_daily_pack_hint.active=!e;var i=p.GameInfoRecord.instance.CheckShareReceive();this.node_welfare_hint.active=0==i||1==i},e.prototype.onDestroy=function(){this.RemoveEventListener()},e.prototype.AddEventListener=function(){s.App.notice.on(l.GameEvent.wealth_change,this.OnGameEventWealthChange,this)},e.prototype.RemoveEventListener=function(){s.App.notice.off(l.GameEvent.wealth_change,this.OnGameEventWealthChange,this)},e.prototype.OnGameEventWealthChange=function(){this.UpdateData()},e.prototype.UpdateData=function(){this.textExp.string=_.Define.ConvertN(h.WealthRecord.instance.exp_user)+"",this.textVitality.string=h.WealthRecord.instance.vitality+"/"+h.WealthRecord.MAX_VITALITY,this.textJewel.string=h.WealthRecord.instance.jewel+""},e.prototype.GetExpNode=function(){return this.btnExp},e.prototype.GetJewelNode=function(){return this.btnJewel},e.prototype.GetVitalityNode=function(){return this.btnVitality},e.prototype.OnCheckEventSet=function(){this.ShowSet(),_.Define.BuriedPoint("点击设置")},e.prototype.OnCheckEventOfflineReward=function(){this.ShowOfflineReward(),_.Define.BuriedPoint("点击离线收益")},e.prototype.OnCheckEventExchangeJewel=function(){this.ShowDailyPack(),_.Define.BuriedPoint("Click core")},e.prototype.OnCheckEventExchangeExp=function(){this.ShowExchangeExp(),_.Define.BuriedPoint("点击经验兑换")},e.prototype.OnCheckEventExchangeVitality=function(){this.ShowExchangeVitality(),_.Define.BuriedPoint("点击体力兑换")},e.prototype.OnCheckEventDailyPack=function(){this.ShowDailyPack(),_.Define.BuriedPoint("点击每日礼包")},e.prototype.OnCheckEventSignin=function(){this.ShowSignin(),_.Define.BuriedPoint("点击签到")},e.prototype.OnCheckEventWelfare=function(){this.ShowWelfare(),_.Define.BuriedPoint("点击福利")},e.prototype.ShowSet=function(){var t=v.LoadManager.get("prefab/hall/SetLayer");if(t){var e=cc.instantiate(t);return e.parent=f.default.instance.node,e.getComponent(C.SetLayer)}return null},e.prototype.ShowOfflineReward=function(){var t=v.LoadManager.get("prefab/hall/OfflineRewardLayer");if(t){var e=cc.instantiate(t);return e.parent=f.default.instance.node,e.getComponent(x.default)}return null},e.prototype.ShowExchangeExp=function(t){void 0===t&&(t=!1),t&&_.Define.OutputMessage("Not enough Exp");var e=v.LoadManager.get("prefab/hall/ExchangeExpLayer");if(e){var o=cc.instantiate(e);return o.parent=f.default.instance.node,o.getComponent(m.default)}return null},e.prototype.ShowExchangeVitality=function(t){void 0===t&&(t=!1),t&&_.Define.OutputMessage("Not enough SP");var e=v.LoadManager.get("prefab/hall/ExchangeVitalityLayer");if(e){var o=cc.instantiate(e);return o.parent=f.default.instance.node,o.getComponent(A.default)}return null},e.prototype.ShowDailyPack=function(t){void 0===t&&(t=!1),t&&_.Define.OutputMessage("Not enough Cores");var e=v.LoadManager.get("prefab/hall/DailyPackLayer");if(e){var o=cc.instantiate(e);return o.parent=f.default.instance.node,o.getComponent(b.default)}return null},e.prototype.ShowSignin=function(){var t=v.LoadManager.get("prefab/hall/SigninLayer");if(t){var e=cc.instantiate(t);return e.parent=f.default.instance.node,e.getComponent(w.default)}return null},e.prototype.ShowWelfare=function(){var t=v.LoadManager.get("prefab/hall/WelfareLayer");if(t){var e=cc.instantiate(t);return e.parent=f.default.instance.node,e.getComponent(T.default)}return null},e.instance=null,r([O(cc.Node)],e.prototype,"node_signin_hint",void 0),r([O(cc.Node)],e.prototype,"node_offline_hint",void 0),r([O(cc.Node)],e.prototype,"node_daily_pack_hint",void 0),r([O(cc.Node)],e.prototype,"node_welfare_hint",void 0),r([O(cc.Node)],e.prototype,"btnExp",void 0),r([O(cc.Node)],e.prototype,"btnJewel",void 0),r([O(cc.Node)],e.prototype,"btnVitality",void 0),r([O(cc.Label)],e.prototype,"textExp",void 0),r([O(cc.Label)],e.prototype,"textVitality",void 0),r([O(cc.Label)],e.prototype,"textJewel",void 0),r([O(cc.Label)],e.prototype,"textVitalityTime",void 0),o=r([S],e)}(cc.Component);o.default=P,cc._RF.pop()},{"../../base/App":"App","../../global/define":"define","../../global/enums":"enums","../../record/GameInfoRecord":"GameInfoRecord","../../record/OfflineRewardRecord":"OfflineRewardRecord","../../record/VitalityRecoverData":"VitalityRecoverData","../../record/WealthRecord":"WealthRecord","../../scenee/MainScene":"MainScene","../../utils/ComponentAsync":"ComponentAsync","../../utils/DateUtils":"DateUtils","../../utils/LoadManager":"LoadManager","./DailyPackLayer":"DailyPackLayer","./ExchangeExpLayer":"ExchangeExpLayer","./ExchangeVitalityLayer":"ExchangeVitalityLayer","./OfflineRewardLayer":"OfflineRewardLayer","./SetLayer":"SetLayer","./SigninLayer":"SigninLayer","./WelfareLayer":"WelfareLayer"}],xLoader:[function(t,e,o){"use strict";cc._RF.push(e,"91c519uoq1Cn4uoFrHuP7I2","xLoader");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.xLoader=void 0;var r=t("../../base/InstanceBase"),a=t("../../config/DataManager"),c=t("../../global/enums"),s=t("../../record/DeputyWeaponStore"),_=t("../../record/MainWeaponStore"),l=t("../actors/ActorDefine"),p=t("../actors/ActorProperty"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),Object.defineProperty(e,"Instance",{get:function(){return e._instance||(e._instance=e.getInstance(e))},enumerable:!1,configurable:!0}),e.prototype.loadMainWeapon=function(t){var e=new p.ActorProperty,o=_.MainWeaponStore.instance.get(t),n=a.DataManager.TablePlaneConfigDatasById[o.main_weapon_id],i=a.DataManager.TableMainWeaponDatasById[n.property_id];return e.dbid=o.main_weapon_id,e.PropertyID=n.property_id,e.uuid=o.uuid,e.level=o.lv,e.name=n.name,e.BulletID=i.bullet_id,e.CollisionType=i.collision_type,e.type=l.EObjectType.ot_main_weapon,e.zIndex=c.ZIndex.ZI_HERO,e.BornScript=0,e.ActionID=i.action_id,e.isReward=!1,e},e.prototype.loadDeputyWeapon=function(t){var e=new p.ActorProperty,o=s.DeputyWeaponStore.instance.get(t),n=a.DataManager.TablePlaneConfigDatasById[o.deputy_weapon_id],i=a.DataManager.TableDeputyWeaponDatasById[n.property_id];return e.dbid=o.deputy_weapon_id,e.PropertyID=n.property_id,e.uuid=o.uuid,e.level=1,e.name=n.name,e.BulletID=i.bullet_id,e.CollisionType=i.collision_type,e.type=l.EObjectType.ot_deputy_weapon,e.zIndex=c.ZIndex.ZI_HERO-1,e.BornScript=2,e.ActionID=i.action_id,e.isReward=!1,e},e.prototype.loadSupport=function(t){var e=new p.ActorProperty,o=a.DataManager.TablePlaneConfigDatasById[t];if(!o)return null;var n=a.DataManager.TableSupportConfigDatasById[o.property_id];return n?(e.dbid=t,e.PropertyID=o.property_id,e.uuid="",e.level=1,e.name=o.name,e.BulletID=n.bullet_id,e.CollisionType=n.collision_type,e.type=l.EObjectType.ot_support,e.zIndex=c.ZIndex.ZI_HERO-2,e.BornScript=3,e.ActionID=n.action_id,e.isReward=!1,e):null},e.prototype.loadBoss=function(t,e){var o=new p.ActorProperty,n=a.DataManager.TablePlaneConfigDatasById[t],i=a.DataManager.TableBossConfigDatasById[n.property_id];return o.dbid=n.id,o.PropertyID=n.property_id,o.uuid="",o.level=e,o.name=n.name,o.BulletID=i.bullet_id,o.CollisionType=i.collision_type,o.type=l.EObjectType.ot_boss,o.zIndex=c.ZIndex.ZI_BOSS,o.BornScript=1,o.ActionID=i.action_id,o.isReward=!1,o},e.prototype.loadMonster=function(t,e){var o=new p.ActorProperty,n=a.DataManager.TablePlaneConfigDatasById[t],i=a.DataManager.TableMonsterConfigDatasById[n.property_id];return o.dbid=n.id,o.PropertyID=n.property_id,o.uuid="",o.level=e,o.name=n.name,o.BulletID=i.bullet_id,o.CollisionType=i.collision_type,o.type=l.EObjectType.ot_monster,o.zIndex=c.ZIndex.ZI_MONSTER,o.BornScript=1,o.ActionID=i.action_id,o.isReward=1==i.is_reward,o},e.prototype.loadBarrier=function(t,e){var o=new p.ActorProperty,n=a.DataManager.TablePlaneConfigDatasById[t],i=a.DataManager.TableBarrierConfigDatasById[n.property_id];return o.dbid=n.id,o.PropertyID=n.property_id,o.uuid="",o.level=e,o.name=n.name,o.BulletID=i.bullet_id,o.CollisionType=i.collision_type,o.type=l.EObjectType.ot_barrier,o.zIndex=c.ZIndex.ZI_MONSTER,o.BornScript=1,o.ActionID=i.action_id,o.isReward=!1,o},e._instance=null,e}(r.InstanceBase);o.xLoader=u,cc._RF.pop()},{"../../base/InstanceBase":"InstanceBase","../../config/DataManager":"DataManager","../../global/enums":"enums","../../record/DeputyWeaponStore":"DeputyWeaponStore","../../record/MainWeaponStore":"MainWeaponStore","../actors/ActorDefine":"ActorDefine","../actors/ActorProperty":"ActorProperty"}]},{},["lq_const","lq_data","lq_interface","lq_base_util","lq_game_util","lq_math_util","lq_platform_util","lq_pool_util","lq_collide","lq_collide_base","lq_collide_config","lq_collide_system","ThirdParty","WxAdMgr","AddYsNode","BtnCkgg","BtnWin","GameConfigAds","HelpMgr","MainInit","OVADBtn","RecordNode","RecordingScreen","ToolsAds","UIShow","UIYsxy","YSNode","YSNodeSy","md5","model","App","Guid","InstanceBase","Dictionary","GameException","Method","PoolBase","Reflect","SerializeElement","SingleSerializeElement","ClockManager","RenderManager","UIDManager","ConfigTypeDefind","DataManager","Datas","GlobaLocalData","GlobalOption","GlobalUserInfo","define","enums","AIActuator","AimingTarget","AttackTarget","IAction","MoveAttackPoint","MoveBirthPoint","Action_Aim_CDGJJ","Action_Aim_Default","Action_Aim_HBFTJJ","Action_Aim_JGFYJ","Action_Aim_JGLJJ","Action_Aim_SWSJ","Action_Aim_XXZCJ","Action_ATK_CDGJJ","Action_ATK_Default","Action_ATK_HBFTJJ","Action_ATK_JGLJJ","Action_ATK_SWSJ","Action_ATK_Support_PaoTa","Action_ATK_XXZCJ","Action_MA_CDGJJ","Action_MA_DYS","Action_MA_Default","Action_MA_HBFTJJ","Action_MA_HD","Action_MA_JGLJJ","Action_MA_JYC","Action_MA_SWSJ","Action_MA_XYS","Action_MB_CDGJJ","Action_MB_Default","Action_MB_HBFTJJ","Action_MB_SWSJ","Action_MB_Support_PaoTa","Action_MB_XXZCJ","GameManager","GuidManager","HUDBase","HUDBlood","HUDSystem","TimeManager","WorldManager","Actor","ActorAI","ActorAttack","ActorAttr","ActorBuff","ActorBullet","ActorCollision","ActorCommand","ActorDefine","ActorEffect","ActorHUD","ActorNav","ActorProp","ActorProperty","ActorRotation","IActorComponent","BornSystem","Born_0","Born_1","Born_2","Born_3","IBorn","BuffDefine","Buff_Frenzy","Buff_HPRestore","Buff_LastHarm","Buff_ReviveInvincible","Buff_Shield","IBuff","Bullet_Gatling","Bullet_Oblique","Bullet_Shot","Bullet_Straight","IBullet","CmdDefine","CommandMove","ICommand","CollisionSystem","LQReplace","ComputerContorl","ComputerLogicChapter","ComputerLogicEndless","IComputerLogic","PlayerContorl","xLoader","EffectDefine","EffectSystem","Effect_AimJGFYJ","Effect_AttackWarning","Effect_BlastBoss","Effect_BlastHero","Effect_BlastHeroSpot","Effect_BlastMonster","Effect_BuffHalo","Effect_BulletLaunch","Effect_HeroInjured","Effect_HeroLeech","Effect_HeroMove","Effect_HeroRecover","Effect_HeroRecoverBG","Effect_Hit1","Effect_Hit2","Effect_PropHPRevover","IEffect","FlyDefine","FlyObject","FlyObjectSystem","FlyScript_Arc","FlyScript_Laser","FlyScript_Straight","InputSystem","MapChapterAni","MapSystem","INavigate","NavigateDefine","Navigate_Arc","Navigate_Straight","PromptDefint","PromptLableDefine","PromptLableObject","PromptLableSystem","IProp","PropAttr","PropDefine","PropSystem","Prop_0","Prop_1","UIGameFinished","UIGamePause","UIGameTop","UIHeroRevive","UIJumpWave","UIPropChoose","UIPropChooseConfirm","UIPropChooseList","UIPropHint","UIPropInfo","UIPropItem","UIUsePropHint","UIWaveEditor","UIWaveHint","UIWaveWarning","ConfigManager","GuideManager","NodePool","ObjectPool","SoundManage","ChapterTaskLayer","DailyPackLayer","ExchangeExpLayer","ExchangeVitalityLayer","OfflineRewardLayer","RankItem","SetLayer","ShareFriendsLayer","SigninLayer","WelfareLayer","nodeChapter","nodeDeputyWeapon","nodeFloorBG","nodeHallUI","nodeMainWeapon","nodeScore","nodeTopBG","DisableTouchSwallow","GameGuide","GuideAuthorizationUserInfo","LoadingLayer","MessageBox","ModalWindow","OutputMessage","OutputMessageItem","ReveiveAwardAni","SwitchEffect","ChapterInfo","DataPool","DeputyWeaponStore","GameInfoRecord","MainWeaponStore","OfflineRewardRecord","RecordManager","VitalityRecoverData","WealthRecord","LauncherScene","MainScene","TestScene","BackgroundAdapter","BtnSound_1","BtnSound_2","ComponentAsync","ContentAdapter","CryptoJS","DateUtils","DebugTools","Geometry","ListViewEx","LoadManager","Messenger","ParseUtils","StrTools","WXGameTopBarUIAdapter","bt.API","bt.ActionTask","bt.BehaviorCtrl","bt.Blackboard","bt.BranchTask","bt.CompositeTask","bt.ConditionTask","bt.Const","bt.DecoratorTask","bt.EntryTask","bt.IntercepterTask","bt.LeafTask","bt.SharedVariable","bt.Task","bt.TaskEventType","bt.FsmStateTask","bt.FsmTask","bt.FsmTransitionTask","bt.FsmType","bt.RestartBehavior","bt.SetEnabledBehavior","bt.SetPausedBehavior","bt.TerminateBehavior","bt.TickBehavior","bt.BbClear","bt.BbDelKey","bt.BbRead","bt.BbWrite","bt.Idle","bt.Wait","bt.BroadcastEvent","bt.BroadcastEventEx","bt.EmitEvent","bt.FireEvent","bt.FireEvents","bt.WaitForEvent","bt.PauseGame","bt.ResumeGame","bt.GenRandom","bt.SetBool","bt.SetNum","bt.SetStr","bt.CtrlGate","bt.RequestInterrupt","bt.Parallel","bt.ParallelComplete","bt.ParallelCompositeTask","bt.ParallelSelector","bt.PriorityCompositeTask","bt.PriorityTicker","bt.RandomCompositeTask","bt.RandomSelector","bt.RandomSequence","bt.RandomTicker","bt.RevalCompositeTask","bt.RevalSelector","bt.RevalSequence","bt.Selector","bt.Sequence","bt.SequenceTicker","bt.IsBehaviorRunning","bt.BbCmpBool","bt.BbCmpNum","bt.BbCmpStr","bt.BbHasKey","bt.OnEvent","bt.CmpBool","bt.CmpNum","bt.CmpStr","bt.AlwaysFailure","bt.AlwaysRunning","bt.AlwaysSuccess","bt.FailureUntilSuccess","bt.FrameRepeater","bt.Inverter","bt.Period","bt.Repeater","bt.SuccessUntilFailure","bt.UntilFailure","bt.UntilSuccess","bt.Cooldown","bt.Delay","bt.Gate","bt.Interrupt","bt.PreCondition","bt.PreConditions","bt.SharedBoolean","bt.SharedBooleanList","bt.SharedNumber","bt.SharedNumberList","bt.SharedString","bt.SharedStringList","bt.ALL","bt.BehaviorTree","bt.BehaviorTreeEventType","bt.WaitFrames","bt.SetEnabledCollider","bt.LoadScene","bt.SetActive","bt.SetEnabled","bt.OnCollisionEnter","bt.OnCollisionExit","bt.OnCollisionStay","bt.IsKeyDown","bt.IsChecked","bt.OnCCEvent","bt.OnCheck","bt.OnClick","bt.OnToggle","bt.OnUnCheck","bt.WithinFrames","bt.AfterFrames","bt.SharedCCCollider","bt.SharedCCColliderList","bt.SharedCCColor","bt.SharedCCColorList","bt.SharedCCComponent","bt.SharedCCComponentList","bt.SharedCCEvent","bt.SharedCCNode","bt.SharedCCNodeList","bt.SharedCCVec2","bt.SharedCCVec2List","bt.SharedCCVec3","bt.SharedCCVec3List","bt.editor","bt.Logger"]);