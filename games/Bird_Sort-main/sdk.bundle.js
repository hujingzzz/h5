!function(){var t={1:function(t,n,e){t.exports=e(23)},23:function(t){var n=function(t){"use strict";var n,e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{u({},"")}catch(t){u=function(t,n,e){return t[n]=e}}function s(t,n,e,r){var o=n&&n.prototype instanceof g?n:g,i=Object.create(o.prototype),a=new D(r||[]);return i._invoke=function(t,n,e){var r=l;return function(o,i){if(r===h)throw new Error("Generator is already running");if(r===y){if("throw"===o)throw i;return x()}for(e.method=o,e.arg=i;;){var a=e.delegate;if(a){var c=E(a,e);if(c){if(c===p)continue;return c}}if("next"===e.method)e.sent=e._sent=e.arg;else if("throw"===e.method){if(r===l)throw r=y,e.arg;e.dispatchException(e.arg)}else"return"===e.method&&e.abrupt("return",e.arg);r=h;var u=f(t,n,e);if("normal"===u.type){if(r=e.done?y:d,u.arg===p)continue;return{value:u.arg,done:e.done}}"throw"===u.type&&(r=y,e.method="throw",e.arg=u.arg)}}}(t,e,a),i}function f(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}t.wrap=s;var l="suspendedStart",d="suspendedYield",h="executing",y="completed",p={};function g(){}function v(){}function m(){}var w={};u(w,i,(function(){return this}));var A=Object.getPrototypeOf,P=A&&A(A(_([])));P&&P!==e&&r.call(P,i)&&(w=P);var S=m.prototype=g.prototype=Object.create(w);function k(t){["next","throw","return"].forEach((function(n){u(t,n,(function(t){return this._invoke(n,t)}))}))}function b(t,n){function e(o,i,a,c){var u=f(t[o],t,i);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"==typeof l&&r.call(l,"__await")?n.resolve(l.__await).then((function(t){e("next",t,a,c)}),(function(t){e("throw",t,a,c)})):n.resolve(l).then((function(t){s.value=t,a(s)}),(function(t){return e("throw",t,a,c)}))}c(u.arg)}var o;this._invoke=function(t,r){function i(){return new n((function(n,o){e(t,r,n,o)}))}return o=o?o.then(i,i):i()}}function E(t,e){var r=t.iterator[e.method];if(r===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=n,E(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var o=f(r,t.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var i=o.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=n),e.delegate=null,p):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function I(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function L(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function D(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(I,this),this.reset(!0)}function _(t){if(t){var e=t[i];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(r.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}return{next:x}}function x(){return{value:n,done:!0}}return v.prototype=m,u(S,"constructor",m),u(m,"constructor",v),v.displayName=u(m,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===v||"GeneratorFunction"===(n.displayName||n.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,m):(t.__proto__=m,u(t,c,"GeneratorFunction")),t.prototype=Object.create(S),t},t.awrap=function(t){return{__await:t}},k(b.prototype),u(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(n,e,r,o,i){void 0===i&&(i=Promise);var a=new b(s(n,e,r,o),i);return t.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(S),u(S,c,"Generator"),u(S,i,(function(){return this})),u(S,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var n=[];for(var e in t)n.push(e);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=_,D.prototype={constructor:D,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(L),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=n)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function o(r,o){return c.type="throw",c.arg=t,e.next=r,o&&(e.method="next",e.arg=n),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],c=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var u=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(u&&s){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var o=this.tryEntries[e];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=n&&n<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=t,a.arg=n,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),p},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),L(e),p}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var o=r.arg;L(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:_(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=n),p}},t}(t.exports);try{regeneratorRuntime=n}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}}},n={};function e(r){var o=n[r];if(void 0!==o)return o.exports;var i=n[r]={exports:{}};return t[r](i,i.exports,e),i.exports}e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},e.d=function(t,n){for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};!function(){"use strict";function t(t,n,e,r,o,i,a){try{var c=t[i](a),u=c.value}catch(t){return void e(t)}c.done?n(u):Promise.resolve(u).then(r,o)}function n(n){return function(){var e=this,r=arguments;return new Promise((function(o,i){var a=n.apply(e,r);function c(n){t(a,o,i,c,u,"next",n)}function u(n){t(a,o,i,c,u,"throw",n)}c(void 0)}))}}function o(t,n){return o=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},o(t,n)}function i(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,o(t,n)}e.r(r);var a=e(1),c=e.n(a),u=function(){function t(){this.player=void 0,this.context=void 0,this.tournament=void 0,this.payments=void 0}var n=t.prototype;return n.getLocale=function(){return null},n.getPlatform=function(){return null},n.getSDKVersion=function(){return"0.0"},n.getSupportedAPIs=function(){return[]},n.getEntryPointData=function(){return null},n.getEntryPointAsync=function(){return new Promise((function(t){t("")}))},n.canCreateShortcutAsync=function(){return new Promise((function(t,n){n(new Error("Not implemented"))}))},n.quit=function(){},n.performHapticFeedbackAsync=function(){return Promise.resolve()},t}(),s=function(){function t(){}var n=t.prototype;return n.getID=function(){return null},n.getType=function(){return"SOLO"},t}(),f=function(t){function n(n){var e;return(e=t.call(this)||this).sdk=void 0,e.sdk=n,e}i(n,t);var e=n.prototype;return e.getID=function(){return this.sdk.getID()},e.getType=function(){return this.sdk.getType()},e.isSizeBetween=function(t,n){return this.sdk.isSizeBetween(t,n)},e.switchAsync=function(t){return this.sdk.switchAsync(t)},e.chooseAsync=function(t){return this.sdk.chooseAsync(t)},e.createAsync=function(t){return this.sdk.createAsync(t)},e.getPlayersAsync=function(){return this.sdk.getPlayersAsync()},n}(s),l=f,d=function(){},h=function(t){function n(n){var e;return(e=t.call(this)||this).sdk=void 0,e.sdk=n,e}i(n,t);var e=n.prototype;return e.getID=function(){return this.sdk.getID()},e.getName=function(){return this.sdk.getName()},e.getPhoto=function(){return this.sdk.getPhoto()},e.getDataAsync=function(t){return this.sdk.getDataAsync(t)},e.setDataAsync=function(t){return this.sdk.setDataAsync(t)},e.flushDataAsync=function(){return this.sdk.flushDataAsync()},e.getSignedPlayerInfoAsync=function(t){return this.sdk.getSignedPlayerInfoAsync(t)},e.canSubscribeBotAsync=function(){return this.sdk.canSubscribeBotAsync()},e.subscribeBotAsync=function(){return this.sdk.subscribeBotAsync()},e.getStatsAsync=function(t){return this.sdk.getStatsAsync(t)},e.setStatsAsync=function(t){return this.sdk.setStatsAsync(t)},e.incrementStatsAsync=function(t){return this.sdk.incrementStatsAsync(t)},e.getConnectedPlayersAsync=function(){return this.sdk.getConnectedPlayersAsync()},n}(d),y=h,p=function(t){function e(n){var e;return(e=t.call(this)||this).sdk=void 0,e.player=void 0,e.context=void 0,e.tournament=void 0,e.sdk=n,e.player=new y(n.player),e.context=new l(n.context),e}i(e,t);var r=e.prototype;return r.getLocale=function(){return this.sdk.getLocale()},r.getPlatform=function(){return this.sdk.getPlatform()},r.getSDKVersion=function(){return this.sdk.getSDKVersion()},r.initializeAsync=function(){return this.sdk.initializeAsync()},r.setLoadingProgress=function(t){this.sdk.setLoadingProgress(t)},r.getSupportedAPIs=function(){return this.sdk.getSupportedAPIs()},r.getEntryPointData=function(){return this.sdk.getEntryPointData()},r.getEntryPointAsync=function(){return this.sdk.getEntryPointAsync()},r.setSessionData=function(t){this.sdk.setSessionData(t)},r.startGameAsync=function(){return this.sdk.startGameAsync()},r.shareAsync=function(t){return this.sdk.shareAsync(t)},r.updateAsync=function(t){return this.sdk.updateAsync(t)},r.switchGameAsync=function(t,n){return this.sdk.switchGameAsync(t,n)},r.canCreateShortcutAsync=function(){return this.sdk.canCreateShortcutAsync()},r.createShortcutAsync=function(){return this.sdk.createShortcutAsync()},r.quit=function(){this.sdk.quit()},r.logEvent=function(t,n,e){return this.sdk.logEvent(t,n,e)},r.onPause=function(t){this.sdk.onPause(t)},r.getInterstitialAdAsync=function(t){return this.sdk.getInterstitialAdAsync(t)},r.getRewardedVideoAsync=function(t){return this.sdk.getRewardedVideoAsync(t)},r.matchPlayerAsync=function(t,n,e){return this.sdk.matchPlayerAsync(t,n,e)},r.checkCanPlayerMatchAsync=function(){return this.sdk.checkCanPlayerMatchAsync()},r.getLeaderboardAsync=function(t){return this.sdk.getLeaderboardAsync(t)},r.postSessionScoreAsync=function(t){return this.sdk.postSessionScoreAsync(t)},r.loadBannerAdAsync=function(t){return this.sdk.loadBannerAdAsync(t)},r.setBannerAdSize=function(t,n){},r.hideBannerAdAsync=function(){return this.sdk.hideBannerAdAsync()},r.showGameRating=function(){var t=n(c().mark((function t(){return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.reject(new Error("CLIENT_UNSUPPORTED_OPERATION")));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r.getTournamentAsync=function(){return this.sdk.getTournamentAsync()},r.inviteAsync=function(t){return this.sdk.inviteAsync(t)},e}(u),g=p;function v(t){return v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},v(t)}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function w(t,n,e){return w=m()?Reflect.construct:function(t,n,e){var r=[null];r.push.apply(r,n);var i=new(Function.bind.apply(t,r));return e&&o(i,e.prototype),i},w.apply(null,arguments)}function A(t){var n="function"==typeof Map?new Map:void 0;return A=function(t){if(null===t||(e=t,-1===Function.toString.call(e).indexOf("[native code]")))return t;var e;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(t))return n.get(t);n.set(t,r)}function r(){return w(t,arguments,v(this).constructor)}return r.prototype=Object.create(t.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o(r,t)},A(t)}var P=function(t){function n(){var n;return(n=t.call(this)||this).code=void 0,n.name="USER_INPUT",n.code="USER_INPUT",n.message="User closed rewarded ad!",n}return i(n,t),n}(A(Error)),S=function(t){function n(){var n;return(n=t.call(this)||this).code=void 0,n.name="INVALID_OPERATION",n.code="INVALID_OPERATION",n.message="Call show ad too fast. Min time is 120s!",n}return i(n,t),n}(A(Error)),k=function(t){function n(n,e){var r;return(r=t.call(this)||this).ads=void 0,r.type=void 0,r.ads=e,r.type=n,r}i(n,t);var e=n.prototype;return e.getPlacementID=function(){return"privateId"},e.loadAsync=function(){return new Promise((function(t){t()}))},e.showAsync=function(){var t=this;return new Promise((function(n,e){if("interstitial"===t.type){if((new Date).valueOf()-t.ads.lastShowTime<=12e4)return void e(new S);t.ads.showFullscreenAdv({callbacks:{onClose:n,onError:e}})}else if("rewarded"===t.type){var r=!1;


}else e(new Error("Unknown ad type"))}))},n}((function(){})),b=function(t){function n(n){var e;return(e=t.call(this)||this).sdk=void 0,e.sdk=n,e}i(n,t);var e=n.prototype;return e.getID=function(){return null},e.getType=function(){return"SOLO"},e.isSizeBetween=function(t,n){return null},e.switchAsync=function(t){return new Promise((function(t,n){n(new Error("Unsupported"))}))},e.chooseAsync=function(){return new Promise((function(t,n){n(new Error("Unsupported"))}))},e.createAsync=function(t){return new Promise((function(t,n){n(new Error("Unsupported"))}))},e.getPlayersAsync=function(){return new Promise((function(t,n){n(new Error("Unsupported"))}))},n}(s),E=b;function I(){return I=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},I.apply(this,arguments)}var L="GuestID",D="GuestData",_="GuestStats",x=function(){function t(){this._personalInfo=void 0,this._uniqueId=void 0,this._playerData=void 0,this._playerStats=void 0,this._uniqueId=this.checkAndGetIdFromLocalStorage(),this._personalInfo={id:this._uniqueId,avatarIdHash:"0",lang:"ru",publicName:this.getName(),uniqueID:this._uniqueId,scopePermissions:{avatar:"forbid",public_name:"forbid"}},this._playerData=this.getDataFromLocalStorage(),this._playerStats=this.getStatsFromLocalStorage()}var n=t.prototype;return n.getUniqueID=function(){return this._uniqueId},n.getName=function(){return"Guest"},n.getPhoto=function(){return""},n.getMode=function(){return""},n.getData=function(t){var n=this;if(t){var e=t.reduce((function(t,e){var r;return I({},t,((r={})[e]=n._playerData[e],r))}),{});return Promise.resolve(e)}return Promise.resolve(this._playerData)},n.setData=function(t){return this._playerData=I({},this._playerData,t),this.writeDataToLocalStorage(this._playerData),Promise.resolve(!0)},n.setStats=function(t){return this._playerStats=I({},this._playerStats,t),this.writeStatsToLocalStorage(this._playerStats),Promise.resolve(!0)},n.incrementStats=function(t){for(var n=0,e=Object.entries(t);n<e.length;n++){var r=e[n],o=r[0],i=r[1];this._playerStats[o]=(this._playerStats[o]||0)+i}return this.writeStatsToLocalStorage(this._playerStats),Promise.resolve(this._playerStats)},n.getStats=function(t){var n=this;if(t){var e=t.reduce((function(t,e){var r;return I({},t,((r={})[e]=n._playerStats[e],r))}),{});return Promise.resolve(e)}return Promise.resolve(this._playerStats)},n.getIDsPerGame=function(){return Promise.resolve([])},n.checkAndGetIdFromLocalStorage=function(){var t=localStorage.getItem(L);if(null!=t)return t;var n=this.getRandomID();return localStorage.setItem(L,n),n},n.getRandomID=function(){return"GUEST_"+Math.random().toString(36).substr(2,15)},n.getDataFromLocalStorage=function(){var t=localStorage.getItem(D);return t?JSON.parse(t):{}},n.writeDataToLocalStorage=function(t){return localStorage.setItem(D,JSON.stringify(t))},n.getStatsFromLocalStorage=function(){var t=localStorage.getItem(_);return t?JSON.parse(t):{}},n.writeStatsToLocalStorage=function(t){return localStorage.setItem(_,JSON.stringify(t))},t}(),O=function(t){function e(n){var e;return(e=t.call(this)||this).sdk=void 0,e.player=void 0,e.sdk=n,e}i(e,t);var r=e.prototype;return r.initPlayerAsync=function(){var t=n(c().mark((function t(){var n=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){n.sdk.getPlayer().then((function(t){n.player=t})).catch((function(){n.player=new x})).finally(t)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r.openAuthDialogAsync=function(){var t=n(c().mark((function t(){var n=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,e){n.sdk.auth.openAuthDialog().then((function(){n.sdk.getPlayer().then((function(e){n.player=e,t()})).catch(e)})).catch(e)})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r.rejectPlayerNotInitialized=function(){return Promise.reject(new Error("Player is not initialized"))},r.getID=function(){var t,n;return null!=(t=null==(n=this.player)?void 0:n.getUniqueID())?t:null},r.getName=function(){var t,n,e=null!=(t=null==(n=this.player)?void 0:n.getName())?t:null;return""===e?"Anonymous":e},r.getPhoto=function(){var t,n;return null!=(t=null==(n=this.player)?void 0:n.getPhoto())?t:null},r.getDataAsync=function(t){var n=this;return new Promise((function(e,r){n.validateIsLogged(r),n.player.getData(t).then(e).catch(r)}))},r.setDataAsync=function(t){var n=this;return new Promise((function(e,r){n.validateIsLogged(r),n.getDataAsync().then((function(o){var i=I({},o,t);n.player.setData(i,!1).then((function(){e()})).catch(r)})).catch(r)}))},r.flushDataAsync=function(){var t,n;return null!=(t=null==(n=this.player)?void 0:n.setData({}).then())?t:this.rejectPlayerNotInitialized()},r.getSignedPlayerInfoAsync=function(){var t,n,e=this,r=null!=(t=null==(n=this.player)?void 0:n.getUniqueID())?t:this.rejectPlayerNotInitialized();return new Promise((function(t,n){"string"==typeof r?t({getPlayerID:function(){var t;return null!=(t=e.getID())?t:"10"},getSignature:function(){return r}}):n(new Error("Can't get player signed"))}))},r.canSubscribeBotAsync=function(){return new Promise((function(t){t(!1)}))},r.subscribeBotAsync=function(){return new Promise((function(t,n){n(new Error("Unsupported"))}))},r.getStatsAsync=function(t){var n=this;return new Promise((function(e,r){n.validateIsLogged(r),e(n.player.getStats(t))}))},r.setStatsAsync=function(t){var n=this;return new Promise((function(e,r){n.validateIsLogged(r),n.player.setStats(t).then((function(){return e()})).catch(r)}))},r.incrementStatsAsync=function(t){var n=this;return new Promise((function(e,r){n.validateIsLogged(r),n.player.incrementStats(t).then(e).catch(r)}))},r.getConnectedPlayersAsync=function(){return new Promise((function(t,n){n(new Error("Unsupported"))}))},r.isGuest=function(){if(!this.player)return!0;var t=this.getID();return!t||"GUEST"==t.slice(0,5)},r.validateIsLogged=function(t){this.player||t(new Error("Player is not initialized"))},e}(d),T=O,G=function(t){function e(n){var e;return(e=t.call(this)||this).sdk=void 0,e.ysdk=void 0,e.player=void 0,e.context=void 0,e.tournament=void 0,e.rewardedAdInstance=void 0,e.interstitialAdInstance=void 0,e.currentPercentLoading=0,e.initSDKAsync=function(t){return new Promise((function(n){e.ysdk=t,e.player=new T(e.ysdk),e.context=new E(e.ysdk),e.rewardedAdInstance=new k("rewarded",e.ysdk.adv),e.interstitialAdInstance=new k("interstitial",e.ysdk.adv),e.player.initPlayerAsync().finally(n)}))},e.sdk=n,e.ysdk=null,e}i(e,t);var r=e.prototype;return r.getLocale=function(){var t,n;return null!=(t=null==(n=this.ysdk)?void 0:n.environment.i18n.lang)?t:"ru"},r.getSDKVersion=function(){return"2.0"},r.getSupportedAPIs=function(){return["getLocale","getSDKVersion","initializeAsync","startGameAsync","setLoadingProgress","getInterstitialAdAsync","getRewardedVideoAsync","getPlatform","loadBannerAdAsync","hideBannerAdAsync"]},r.initializeAsync=function(){var t=this;return new Promise((function(n,e){var r=document.getElementById("lds-content");if(r)r.hidden=!1;else{var o='<div id="lds-content"><div id="lds-dual-ring"></div><div id="lds-text"><span id="lds-percent">0</span>% loaded</div></div>';"complete"===document.readyState?t.appendHtml(document.body,o):window.addEventListener("load",(function(){t.appendHtml(document.body,o)}))}t.sdk.init({screen:{fullscreen:!0,orientation:{value:"portrait",lock:!0}}}).then((function(r){t.initSafeStorage(r).then((function(){t.initSDKAsync(r).then(n).catch(e)})).catch(e)})).catch(e)}))},r.startGameAsync=function(){var t,n=this;return this.setLoadingProgress(100),null==(t=document.getElementById("lds-content"))||t.remove(),new Promise((function(t,e){n.ysdk?t():e("Initialize Failed")}))},r.setLoadingProgress=function(t){var n=document.getElementById("lds-percent");n&&(this.currentPercentLoading=Math.round(Math.max(Math.min(t,100),this.currentPercentLoading)),n.innerHTML=""+this.currentPercentLoading,this.currentPercentLoading=t)},r.setSessionData=function(t){},r.shareAsync=function(t){return new Promise((function(t,n){n(new Error("Unsupported"))}))},r.updateAsync=function(t){return new Promise((function(t,n){n(new Error("Unsupported"))}))},r.switchGameAsync=function(t){return new Promise((function(t,n){n(new Error("Unsupported"))}))},r.canCreateShortcutAsync=function(){return new Promise((function(t,n){n(!1)}))},r.createShortcutAsync=function(){return new Promise((function(t,n){n(new Error("Unsupported"))}))},r.logEvent=function(){return null},r.onPause=function(t){},r.getInterstitialAdAsync=function(t){var n=this;return new Promise((function(t){t(n.interstitialAdInstance)}))},r.getRewardedVideoAsync=function(t){var n=this;return new Promise((function(t){t(n.rewardedAdInstance)}))},r.matchPlayerAsync=function(t){return new Promise((function(t,n){n(new Error("Unsupported"))}))},r.checkCanPlayerMatchAsync=function(){return new Promise((function(t,n){n(!1)}))},r.getLeaderboardAsync=function(t){var n=this;return new Promise((function(e,r){n.ysdk?n.ysdk.getLeaderboards().then((function(r){e(n.mapLeaderboardsAsync(r,t))})):r("Yandex not initialized")}))},r.mapLeaderboardsAsync=function(t,n){var e,r=this,o="GUEST"==(null==(e=this.player.getID())?void 0:e.slice(0,5));return{getName:function(){return n},getContextID:function(){return null},getEntryCountAsync:function(){return new Promise((function(e,r){t.getLeaderboardEntries(n,{includeUser:!1,quantityAround:0,quantityTop:20}).then((function(t){return e(t.entries.length)})).catch(e)}))},setScoreAsync:function(e,i){return new Promise((function(a,c){o?c(new Error("FetchError: Unauthorized")):r.wrapGetPlayerEntryAsync(t,n).then((function(o){null==o||o.getScore()<e?t.setLeaderboardScore(n,e,i).then((function(){r.wrapGetPlayerEntryAsync(t,n).then((function(t){null!=t?a(t):c(new Error("Unknown Error"))}))})).catch(c):a(o)})).catch(c)}))},getPlayerEntryAsync:function(){return new Promise((function(e,i){o?e(null):r.wrapGetPlayerEntryAsync(t,n).then(e).catch(i)}))},getEntriesAsync:function(e,o){return new Promise((function(o,i){t.getLeaderboardEntries(n,{includeUser:!1,quantityTop:Math.min(e,20)}).then((function(t){o(t.entries.map((function(t){return r.wrapLeaderboardEntry(t)})))})).catch(i)}))},getConnectedPlayerEntriesAsync:function(){return new Promise((function(t){t([])}))}}},r.wrapGetPlayerEntryAsync=function(t,n){var e=this;return new Promise((function(r,o){t.getLeaderboardPlayerEntry(n).then((function(t){r(e.wrapLeaderboardEntry(t))})).catch((function(t){"LEADERBOARD_PLAYER_NOT_PRESENT"===t.code&&r(null),o(t)}))}))},r.wrapLeaderboardEntry=function(t){return{getScore:function(){return t.score},getFormattedScore:function(){return t.formattedScore},getTimestamp:function(){return(new Date).valueOf()},getRank:function(){return t.rank},getExtraData:function(){return t.extraData},getPlayer:function(){return{getName:function(){return t.player.publicName},getPhoto:function(){return t.player.getAvatarSrc("medium")},getID:function(){return t.player.uniqueID}}},playerId:t.player.uniqueID,score:t.score,rank:t.rank}},r.initSafeStorage=function(t){return new Promise((function(n,e){t.getStorage().then((function(t){return Object.defineProperty(window,"localStorage",{get:function(){return t}})})).then((function(){return n()})).catch(e)}))},r.postSessionScoreAsync=function(t){return new Promise((function(t,n){n(new Error("Unsupported"))}))},r.appendHtml=function(t,n){var e=document.createElement("div");for(e.innerHTML=n;e.children.length>0;)t.appendChild(e.children[0])},r.getPlatform=function(){if(!this.ysdk)return null;var t=this.ysdk.deviceInfo.isMobile(),n=this.ysdk.deviceInfo.isTablet();return t||n?"MOBILE_WEB":"WEB"},r.loadBannerAdAsync=function(t,n){var e=this;return new Promise((function(r,o){window.yaContextCb=window.yaContextCb||[];var i=document.getElementById("yandexAdContextScript");i||((i=document.createElement("script")).src="",i.async=!0,i.id="yandexAdContextScript",document.head.appendChild(i));var a="yandex_rtb_wrapper_"+t,c="yandex_rtb_"+t;document.getElementById(a);e.setBannerAdSize(t,n||{}),window.yaContextCb.push((function(){window.Ya.Context.AdvManager.render({renderTo:c,blockId:t,onRender:r,onError:o})}))}))},r.setBannerAdSize=function(t,n){var e=n.bannerHeight,r=void 0===e?50:e,o=n.bannerWidth,i=void 0===o?320:o,a="yandex_rtb_wrapper_"+t,c="yandex_rtb_"+t,u=document.getElementById(a),s=document.getElementById(c);if(u&&s){var f=document.body,l=(f.clientHeight,f.clientWidth);u.style.top="",u.style.bottom="0px",u.style.left=(l-i)/2+"px",u.style.margin="auto",u.style.height=r+"px",u.style.width=i+"px",s.style.height=r+"px",s.style.width=i+"px"}},r.hideBannerAdAsync=function(){return new Promise((function(t){document.querySelectorAll('div[id^="yandex_rtb_wrapper_"]').forEach((function(t){var n=t;n.style.bottom="",n.style.top="-"+n.style.height})),t()}))},r.showGameRating=function(){var t=n(c().mark((function t(){var n=this;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){n.ysdk?n.ysdk.feedback.canReview().then((function(e){var r=e.value;if(e.reason,r){if(!n.ysdk)return void t();n.ysdk.feedback.requestReview().then((function(n){n.feedbackSent,t()})).catch((function(){t()}))}else t()})).catch((function(){t()})):t()})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r.getTournamentAsync=function(){return Promise.reject(new Error("Unsupported"))},r.inviteAsync=function(t){return Promise.reject(new Error("Unsupported"))},e}(u),N=G;"FBInstant"in window?window.GameSDK=new g(window.FBInstant):"YaGames"in window&&(window.GameSDK=new N(window.YaGames)),window.FBInstant=window.GameSDK}()}();