(function(){"use strict";var t={47:function(t,e,r){r.r(e);var n=r(3),o=r(1),s=r.n(o),i=function(){function t(t){this.state=void 0,this.gameSuccessors=void 0,this.lastColors=void 0,this.score=void 0,this.state=t,this.calculateLastColors(),this.processState()}var e=t.prototype;return e.getScore=function(){return this.score},e.processState=function(){this.gameSuccessors=this.calculateAllSuccessors(),this.score=this.calculateStateScore()},e.getState=function(){return this.state},e.isWin=function(){for(var t=0;t<this.state.bottleList.length;t++){var e=this.getLastColor(t);if(0!==e.count&&e.count!==this.state.bottleVolume)return!1}return!0},e.isLose=function(){return 0===this.gameSuccessors.length},e.getAllSuccessors=function(){return this.gameSuccessors},e.calculateAllSuccessors=function(){var t=[],e=[];this.state.bottleList.forEach((function(t){0!==t.length&&e.push(t[0])}));for(var r=0;r<this.state.bottleList.length;r++)for(var n=0;n<this.state.bottleList.length;n++){if(r!==n)if(this.isCanGiveTo(r,n)){var o=this.give(r,n);t.push({from:r,to:n,state:o})}}return t},e.give=function(t,e){for(var r=JSON.parse(JSON.stringify(this.state)),n=r.bottleList,o=n[t],s=n[e],i=this.getLastColor(t),a=0;a<i.count;a++)o.pop(),s.push(i.color);return r},e.isCanGiveTo=function(t,e){var r=this.state.bottleList,n=r[t],o=r[e],s=this.getEmptyCount(e),i=this.getLastColor(e),a=this.getLastColor(t);if(a.count===n.length){if(0==i.count)return!1;if(i.count!=o.length)return!1}return 0!==a.count&&(0===i.count||!(a.count>s)&&a.color==i.color)},e.getLastColor=function(t){return this.lastColors[t]},e.calculateLastColors=function(){this.lastColors=[];for(var t=0;t<this.state.bottleList.length;t++)this.lastColors.push(this.calculateLastColor(t))},e.calculateLastColor=function(t){var e=this.state,r=e.bottleList,n=(e.bottleVolume,r[t]);if(0===n.length)return{count:0,color:""};for(var o=0,s=n[n.length-1],i=n.length-1;i>=0;i--){if(n[i]!=s)break;o+=1}return{color:s,count:o}},e.getEmptyCount=function(t){var e=this.state,r=e.bottleList;return e.bottleVolume-r[t].length},e.calculateStateScore=function(){if(this.isWin())return 999999999999999;if(this.isLose())return-99999999999999;var t=0;t+=this.getAllSuccessors().length;for(var e=0;e<this.state.bottleList.length;e++){var r=this.state.bottleList[e];if(0!==r.length)for(var n=r[0],o=1;o<r.length;o++)n===r[o]?t+=2*(this.state.bottleVolume-o):(n=r[o],t-=2*(o+1));else t+=2}return t},t}(),a=function(t,e){this.data=void 0,this.value=void 0,this.data=t,this.value=e};a.prototype.valueOf=function(){return this.value};var u=function(){function t(){this.values=void 0,this.values=[]}var e=t.prototype;return e.isEmpty=function(){return 0===this.values.length},e.parent=function(t){return Math.floor((t-1)/2)},e.leftChild=function(t){return 2*t+1},e.rightChild=function(t){return 2*t+2},e.isLeaf=function(t){return t>=Math.floor(this.values.length/2)&&t<=this.values.length-1},e.swap=function(t,e){var r=[this.values[e],this.values[t]];this.values[t]=r[0],this.values[e]=r[1]},e.heapifyDown=function(t){if(!this.isLeaf(t)){var e=this.leftChild(t),r=this.rightChild(t),n=t;this.values[e]>this.values[n]&&(n=e),this.values[r]>=this.values[n]&&(n=r),n!==t&&(this.swap(t,n),this.heapifyDown(n))}},e.heapifyUp=function(t){for(var e=t,r=this.parent(e);e>0&&this.values[e]>this.values[r];)this.swap(e,r),e=r,r=this.parent(r)},e.add=function(t,e){var r=new a(t,e);this.values.push(r),this.heapifyUp(this.values.length-1)},e.peek=function(){return this.values[0]},e.extractMax=function(){var t=this.values[0],e=this.values.pop();return 0===this.values.length||(this.values[0]=e,this.heapifyDown(0)),t},e.buildHeap=function(t){this.values=t;for(var e=Math.floor(this.values.length/2);e>=0;e--)this.heapifyDown(e)},e.print=function(){for(var t=0;!this.isLeaf(t);)t++},t}(),l=function(){function t(){this.count=0}var e=t.prototype;return e.solve=function(t){this.count=0;var e=new i(t),r=new u,n=[];for(n=this.DFSSolve({state:e,move:[]},r);0==n.length&&!r.isEmpty()&&this.count<2e3;){var o=r.extractMax().data;n=this.DFSSolve(o,r)}return{moves:n,searchCount:this.count}},e.DFSSolve=function(t,e){if(this.count+=1,t.state.isWin()){for(var r=t,n=[];void 0!=(null==(o=r)?void 0:o.parentState);){var o;n.unshift(r.move),r=r.parentState}return n}if(!t.state.isLose())for(var s=t.state.getAllSuccessors(),a=0;a<s.length;a++){var u=s[a],l=u.state,c=[u.from,u.to],h=new i(l);e.add({state:h,move:c,parentState:t},h.getScore())}return e.isEmpty(),[]},t}();onmessage=function(){var t=(0,n.default)(s().mark((function t(e){var r,n,o;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.data,n=new l,o=n.solve(r.state),postMessage(o);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var s=e[n]={exports:{}};return t[n].call(s.exports,s,s.exports,r),s.exports}r.m=t,r.x=function(){var t=r.O(void 0,[216],(function(){return r(47)}));return t=r.O(t)},function(){var t=[];r.O=function(e,n,o,s){if(!n){var i=1/0;for(c=0;c<t.length;c++){n=t[c][0],o=t[c][1],s=t[c][2];for(var a=!0,u=0;u<n.length;u++)(!1&s||i>=s)&&Object.keys(r.O).every((function(t){return r.O[t](n[u])}))?n.splice(u--,1):(a=!1,s<i&&(i=s));if(a){t.splice(c--,1);var l=o();void 0!==l&&(e=l)}}return e}s=s||0;for(var c=t.length;c>0&&t[c-1][2]>s;c--)t[c]=t[c-1];t[c]=[n,o,s]}}(),r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,{a:e}),e},r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.f={},r.e=function(t){return Promise.all(Object.keys(r.f).reduce((function(e,n){return r.f[n](t,e),e}),[]))},r.u=function(t){return"vendors.bundle.js"},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}(),r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var n=e.getElementsByTagName("script");n.length&&(t=n[n.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t}(),function(){var t={26:1};r.f.i=function(e,n){t[e]||importScripts(r.p+r.u(e))};var e=self.webpackChunkgame_core=self.webpackChunkgame_core||[],n=e.push.bind(e);e.push=function(e){var o=e[0],s=e[1],i=e[2];for(var a in s)r.o(s,a)&&(r.m[a]=s[a]);for(i&&i(r);o.length;)t[o.pop()]=1;n(e)}}(),function(){var t=r.x;r.x=function(){return r.e(216).then(t)}}();r.x()})();