System.register("chunks:///_virtual/AbstractPlayerData.ts",["cc"],(function(t){var a;return{setters:[function(t){a=t.cclegacy}],execute:function(){a._RF.push({},"894c0LUQ8dMWq2M7On4Y1T5","AbstractPlayerData",void 0);t("AbstractPlayerData",(function(){this.player=void 0}));a._RF.pop()}}}));

System.register("chunks:///_virtual/AbstractPlayerProfileProvider.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YsdkInitializer.ts","./Settings.ts"],(function(e){var t,i,r,n,a;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy},function(e){n=e.YsdkInitializer},function(e){a=e.Settings}],execute:function(){var o,l;r._RF.push({},"ddff5OMvHJAW5CMNHAAnuxO","AbstractPlayerProfileProvider",void 0);var s=e("playerDataFields",[]),c=e("playerData",(function(e,t){s.push(t)}));e("AbstractPlayerProfileProvider",(l=t((o=function(){function e(){var e,t=this;this.player=void 0,i(this,"Settings",l,this),null==(e=n.Instance.ysdkEventTarget)||e.on(n.EventType.PlayerReceived,(function(e,i){t.player=e,t.setFieldsData(e,i)}))}var t=e.prototype;return t.setFieldsData=function(e,t){var i=this;s.forEach((function(r){i[r].setPlayerData(e,t)})),console.log("Received player data: \n"+JSON.stringify(t,null,4))},t.SaveProfile=function(e){void 0===e&&(e=!0);var t=this.getProfileData();console.log("Saving profile: \n"+JSON.stringify(t,null,4));var i={Profile:t};if(null!=this.player)return this.player.setData(i,e).then((function(){console.log("Set profile.")}))},t.getProfileData=function(){var e=this,t={};return s.forEach((function(i){t[i]=e[i].getPlayerData()})),t},e}()).prototype,"Settings",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),o));r._RF.pop()}}}));

System.register("chunks:///_virtual/AbstractPlayerStats.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"f8314cdKfxC4bbjjCp2syjP","AbstractPlayerStats",void 0);t("AbstractPlayerStats",function(){function t(){this.player=void 0}return t.prototype.incrementStats=function(t,e){if(null!=this.player){var r=this.player.incrementStats(t);e&&r.then(e)}},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/AdShower.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ysdk.ts","./ServiceLocator.ts","./AudioManager.ts","./PlayerProfileProvider.ts"],(function(e){var o,n,d,r,i,t,u;return{setters:[function(e){o=e.createClass},function(e){n=e.cclegacy,d=e.director},function(e){r=e.ysdk},function(e){i=e.provide},function(e){t=e.audioManager},function(e){u=e.playerProfileProvider}],execute:function(){n._RF.push({},"42bcdpLFuxHMoF4pWd7KV5p","AdShower",void 0);var a=function(e){return e.FullScreenAdOpened="AdShower:FullScreenAd:Opened",e.FullScreenAdClosed="AdShower:FullScreenAd:Closed",e.RewardVideoOpened="AdShower:RewardVideo:Opened",e.RewardVideoRewarded="AdShowed:RewardVideo:Rewarded",e.RewardVideoClosed="AdShower:RewardVideo:Closed",e}(a||{}),l=e("AdShower",function(){function e(){this._interval=60,this._lastShownTime=0}var n=e.prototype;return n.TryShowFullScreenAd=function(){var e=this;return this._lastShownTime+this._interval<Date.now()&&(this._lastShownTime=Date.now(),null==r.adv||r.deviceInfo.isTV()?console.log("show add"):r.adv.showFullscreenAdv({callbacks:{onOpen:function(){d.emit(a.FullScreenAdOpened),t.muteSound()},onClose:function(o){d.emit(a.FullScreenAdClosed),e.restoreAudioVolume()},onError:function(){}}}),!0)},n.ShowRewardedVideo=function(){var e=this;if(null==r.adv||r.deviceInfo.isTV())return console.log("show RV"),d.emit(a.RewardVideoRewarded),void d.emit(a.RewardVideoClosed);r.adv.showRewardedVideo({callbacks:{onOpen:function(){t.muteSound(),d.emit(a.RewardVideoOpened)},onRewarded:function(){d.emit(a.RewardVideoRewarded)},onClose:function(o){d.emit(a.RewardVideoClosed),e.restoreAudioVolume()},onError:function(){}}})},n.restoreAudioVolume=function(){var e=t.GetBackgroundMusicVolume();t.SetBackgroundMusicVolume(e),t.toggleAudioMute(u.Settings.audioMuted)},o(e,null,[{key:"Instance",get:function(){return null==this._instance&&(this._instance=new e),this._instance}}]),e}());l.EventType=a,l._instance=void 0;var s=e("adShower",l.Instance);i(l,s),n._RF.pop()}}}));

System.register("chunks:///_virtual/assets.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,o,s;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy,o=e.assetManager,s=e.Texture2D}],execute:function(){function u(){return(u=t(n().mark((function e(t,r){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){o.loadRemote(t.getPhoto(r),{ext:".jpg"},(function(t,r){if(r){var o=new s;o.image=r,e(o)}t&&n(t)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e("loadPhotoAsTexture",(function(e,t){return u.apply(this,arguments)})),r._RF.push({},"46055MhEgxFn6Lr2X4OIvvr","assets",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ServiceLocator.ts","./Utils.ts","./PlayerProfileProvider.ts"],(function(o){var i,e,u,t,n,r,a,s,d,c,l,h,p,g,f,S,m,v;return{setters:[function(o){i=o.applyDecoratedDescriptor,e=o.inheritsLoose,u=o.initializerDefineProperty,t=o.assertThisInitialized,n=o.createClass},function(o){r=o.cclegacy,a=o._decorator,s=o.AudioClip,d=o.CCFloat,c=o.AudioSource,l=o.resources,h=o.log,p=o.director,g=o.find,f=o.Component},function(o){S=o.provide},function(o){m=o.fadeAudioVolume},function(o){v=o.playerProfileProvider}],execute:function(){var y,M,A,b,k,C,F,V,_,P;o("audioManager",void 0),r._RF.push({},"4d9f5txQ0FHj4eu5gSJc3op","AudioManager",void 0);var D,T=a.ccclass,w=a.property,R=function(o){return o.MuteAudioChanged="MuteAudioChanged",o}(R||{});o("AudioManager",(y=T("AudioManager"),M=w({type:s}),A=w({type:d,min:0,max:1,slide:!0,step:.01}),b=w(d),y(((P=function(i){function r(){for(var o,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return o=i.call.apply(i,[this].concat(n))||this,u(o,"backgroundMusic",F,t(o)),u(o,"musicVolume",V,t(o)),u(o,"fadingDuration",_,t(o)),o.audioSources=[],o.audioSourcesStartedThisFrame=[],o.backgroundAudioSource=new c,o.loopedSounds=new Map,o.backgroundMusicVolume=void 0,o._mute=!1,o}e(r,i),r.Init=function(){(D=o("audioManager",r.inst)).preInit(),S(r,D)};var a=r.prototype;return a.muteSound=function(){this.toggleAudioMute(!0)},a.unmuteSound=function(){this.toggleAudioMute(!1)},a.toggleAudioMute=function(o){var i=this;this._mute=o,this.backgroundAudioSource.playing||o||this.backgroundAudioSource.play(),m(this.backgroundAudioSource,o?0:this.backgroundMusicVolume,this.fadingDuration),this.loopedSounds.forEach((function(e){m(e.audioSource,o?0:i.musicVolume,i.fadingDuration)}))},a.playOneShot=function(o,i){var e=this;if(void 0===i&&(i=1),!this.mute)return o instanceof s?this.Play(o,i):void l.load(o,(function(o,u){if(!o)return e.Play(u,i);console.log(o)}))},a.playSoundConfig=function(o){o.clips&&this.playOneShot(o.getRandomClip(),o.volume)},a.playSpecialStateSoundConfig=function(o,i,e,u){if(void 0===u&&(u=!0),e.clips){var t=this.loopedSounds.get(o);if(null==t){var n=this.addComponent(c);n.loop=u,n.clip=e.getRandomClip(),n.volume=e.volume,this.mute||n.play(),this.loopedSounds.set(o,{audioSource:n,holders:[i]})}else t.holders.push(i)}},a.stopSpecialStateSoundConfig=function(o,i,e){void 0===e&&(e=!1);var u=this.loopedSounds.get(o);if(null!=u){var t=u.holders.indexOf(i);-1!=t&&(u.holders.splice(t,1),(0==u.holders.length||e)&&(u.audioSource.stop(),u.audioSource.destroy(),this.loopedSounds.delete(o)))}},a.SetBackgroundMusicVolume=function(o){this.backgroundAudioSource.volume=o},a.GetBackgroundMusicVolume=function(){return this.backgroundAudioSource.volume},a.ResetBackgroundMusicVolume=function(){h("ResetBackgroundMusicVolume"),this.backgroundAudioSource.volume=this.backgroundMusicVolume},a.preInit=function(){for(var o=0;o<10;o++)this.audioSources.push(this.addComponent(c)),this.audioSourcesStartedThisFrame.push(!1);this.backgroundAudioSource=this.addComponent(c),this.backgroundAudioSource.loop=!0,this.backgroundAudioSource.clip=this.backgroundMusic,v.Settings.audioMuted||this.backgroundAudioSource.play(),this.backgroundMusicVolume=this.backgroundAudioSource.volume=this.musicVolume,this.SetMute(),p.on(R.MuteAudioChanged,this.SetMute,this)},a.GetFirstFreeAudioSource=function(){for(var o=0;o<this.audioSources.length;o++)if(!this.audioSources[o].playing&&!this.audioSourcesStartedThisFrame[o])return this.audioSourcesStartedThisFrame[o]=!0,this.audioSources[o];return null},a.Play=function(o,i){var e=this.GetFirstFreeAudioSource();null!=e&&(e.clip=o,e.volume=i,e.play())},a.onDestroy=function(){p.off(R.MuteAudioChanged,this.SetMute,this)},a.SetMute=function(){this.toggleAudioMute(v.Settings.audioMuted)},a.update=function(){for(var o=0;o<this.audioSourcesStartedThisFrame.length;o++)this.audioSourcesStartedThisFrame[o]=!1},n(r,[{key:"mute",get:function(){return this._mute},set:function(o){this._mute=o,o?(this.backgroundAudioSource.stop(),this.loopedSounds.forEach((function(o){o.audioSource.stop()}))):(this.backgroundAudioSource.play(),this.loopedSounds.forEach((function(o){o.audioSource.play()})))}}],[{key:"inst",get:function(){return r._inst||(this._inst=g("Managers/AudioManager").getComponent(r)),this._inst}}]),r}(f)).EventType=R,P._inst=void 0,F=i((C=P).prototype,"backgroundMusic",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=i(C.prototype,"musicVolume",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),_=i(C.prototype,"fadingDuration",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.4}}),k=C))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/auto-config-intl-manager.ts",["cc","./l10n-manager.ts","./env"],(function(){var t,n,e,a;return{setters:[function(e){t=e.cclegacy,n=e.game},function(t){e=t.default},function(t){a=t.EDITOR}],execute:async function(){t._RF.push({},"2f21bx4gAFNj6dct9qDHJHH","auto-config-intl-manager",void 0),t.GAME_VIEW||a?await e.createIntl({}):n.onPostProjectInitDelegate.add((function(){return e.createIntl({})})),t._RF.pop()}}}));

System.register("chunks:///_virtual/BackgroundScaler.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,o,r,n,s,a,c,h,l,p,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,s=t._decorator,a=t.UITransform,c=t.Sprite,h=t.log,l=t.Size,p=t.Node,u=t.Component}],execute:function(){var g,f,z,d,y,S,A;n._RF.push({},"e88d0Whe8VE84PDCQb2738R","BackgroundScaler",void 0);var R=s.ccclass,v=s.property;t("BackgroundScaler",(g=R("BackgroundScaler"),f=v({type:a}),z=v({type:a}),g((S=e((y=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,o(e,"targetTransform",S,r(e)),o(e,"root",A,r(e)),e.originalAspectRatio=void 0,e}i(e,t);var n=e.prototype;return n.ResetAspectRatio=function(){var t=this.targetTransform.getComponent(c).spriteFrame;null!=t&&(this.originalAspectRatio=t.width/t.height)},n.resize=function(){h(this.originalAspectRatio);var t=this.root.contentSize.width/this.root.contentSize.height;this.originalAspectRatio<=t?this.targetTransform.contentSize=new l(this.root.contentSize.x,this.root.contentSize.x/this.originalAspectRatio):this.targetTransform.contentSize=new l(this.root.contentSize.y*this.originalAspectRatio,this.root.contentSize.y),h(this.targetTransform.contentSize)},n.start=function(){this.ResetAspectRatio(),this.root.node.on(p.EventType.SIZE_CHANGED,this.resize,this),this.root.node.on(p.EventType.ANCHOR_CHANGED,this.resize,this),this.resize()},n.onDestroy=function(){this.root.node&&(this.root.node.off(p.EventType.SIZE_CHANGED,this.resize,this),this.root.node.off(p.EventType.ANCHOR_CHANGED,this.resize,this))},e}(u)).prototype,"targetTransform",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(y.prototype,"root",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=y))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/BackgroundSetter.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceManager.ts","./ResourcePathProvider.ts","./BackgroundScaler.ts"],(function(e){var r,t,n,o,a,c,i,u,s,p,l,d,g;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,c=e._decorator,i=e.Sprite,u=e.log,s=e.SpriteFrame,p=e.Component},function(e){l=e.resourceManager},function(e){d=e.resourcePathProvider},function(e){g=e.BackgroundScaler}],execute:function(){var f,h,k,v,B;a._RF.push({},"c153dHtH5pGL6c0ibXgh7uP","BackgroundSetter",void 0);var S=c.ccclass,y=c.property;e("BackgroundSetter",(f=S("BackgroundSetter"),h=y(i),f((B=r((v=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),c=0;c<t;c++)a[c]=arguments[c];return r=e.call.apply(e,[this].concat(a))||this,n(r,"sprite",B,o(r)),r}return t(r,e),r.prototype.start=function(){var e=this;u("BackgroundSetter start "+d.Background),l.LoadResource(s,d.Background).then((function(r){e.sprite.spriteFrame=r;var t=e.node.getComponent(g);null!=t&&(t.ResetAspectRatio(),t.resize())}))},r}(p)).prototype,"sprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=v))||k));a._RF.pop()}}}));

System.register("chunks:///_virtual/BaseStoreConfig.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"9fed1nkV2lFjKobKuuNMmsd","BaseStoreConfig",void 0);e("BaseStoreConfig",(function(){}));t._RF.pop()}}}));

System.register("chunks:///_virtual/BaseWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ServiceLocator.ts"],(function(n){var o,e,t,i,r;return{setters:[function(n){o=n.inheritsLoose},function(n){e=n.cclegacy,t=n._decorator,i=n.Component},function(n){r=n.inject}],execute:function(){var s;e._RF.push({},"61533rvMAlKwrYrDYaWuUms","BaseWindow",void 0);var c=t.ccclass;n("BaseWindow",c("BaseWindow")(s=function(n){function e(){return n.apply(this,arguments)||this}return o(e,n),e.prototype.CloseWindow=function(){r("WindowManager").CloseWindow()},e}(i))||s);e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseWindowManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseWindow.ts"],(function(e){var n,i,t,o,r,a,s,w,d,p,l,u,f,c,h,g,W;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,t=e.inheritsLoose,o=e.assertThisInitialized,r=e.createForOfIteratorHelperLoose,a=e.createClass},function(e){s=e.cclegacy,w=e._decorator,d=e.CCString,p=e.Prefab,l=e.Node,u=e.EventTarget,f=e.find,c=e.log,h=e.instantiate,g=e.Component},function(e){W=e.BaseWindow}],execute:function(){var b,v,y,C,m,M,S,P,z,B,T,I;s._RF.push({},"f3cccgRGoNC0Ja4VCbgE0VI","BaseWindowManager",void 0);var O=w.ccclass,_=w.property,D=function(e){return e.WindowOpened="WindowOpened",e.WindowClosed="WindowClosed",e}(D||{}),E=e("WindowPrefab",(b=O("WindowPrefab"),v=_(d),y=_(p),b((M=n((m=function(){i(this,"alias",M,this),i(this,"prefab",S,this)}).prototype,"alias",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=n(m.prototype,"prefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=m))||C));e("BaseWindowManager",(P=_({type:[E]}),z=_(l),T=n((B=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return(n=e.call.apply(e,[this].concat(r))||this).typeMapping=new Map,n.windowsShowed=[],n.eventTarget=new u,i(n,"windows",T,o(n)),i(n,"windowCanvas",I,o(n)),n}t(n,e),n.getComponent=function(){return f("WindowCanvas").getComponent("WindowManager")};var s=n.prototype;return s.CloseAllWindows=function(){for(;this.windowsShowed.length>0;)this.CloseWindow()},s.ShowWindow=function(e){c(e);var n=this.windows.find((function(n){return n.alias===e}));if(!n)throw new Error("Window prefab not found for the type "+e);var i=this.showWindowPrefab(n.prefab);return this.typeMapping.set(i,e),this.eventTarget.emit(D.WindowOpened,e),i},s.CloseWindow=function(){var e=this.windowsShowed.pop(),n=this.typeMapping.get(e);this.typeMapping.delete(e),e.node.destroy(),this.eventTarget.emit(D.WindowClosed,n)},s.IsShowingWindowOfType=function(e){for(var n,i=r(this.windowsShowed);!(n=i()).done;){var t=n.value;if(this.typeMapping.get(t)==e)return!0}return!1},s.showWindowPrefab=function(e){var n=h(e);n.setParent(this.windowCanvas);var i=n.getComponent(W);return this.windowsShowed.push(i),i},a(n,[{key:"IsShowingWindow",get:function(){return null!=this.windowsShowed}}]),n}(g)).prototype,"windows",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=n(B.prototype,"windowCanvas",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B));s._RF.pop()}}}));

System.register("chunks:///_virtual/BonusLevel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractPlayerData.ts"],(function(e){var t,s,n;return{setters:[function(e){t=e.inheritsLoose},function(e){s=e.cclegacy},function(e){n=e.AbstractPlayerData}],execute:function(){s._RF.push({},"6b579NIqudP5rZVnJBxvC96","BonusLevel",void 0);e("BonusLevel",function(e){function s(){for(var t,s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return(t=e.call.apply(e,[this].concat(n))||this).accessible=!1,t.timestamp=null,t}t(s,e);var n=s.prototype;return n.setPlayerData=function(e,t){e&&t.Profile&&t.Profile.BonusLevel&&(this.accessible=t.Profile.BonusLevel.accessible,this.timestamp=t.Profile.BonusLevel.timestamp)},n.getPlayerData=function(){return{accessible:this.accessible,timestamp:this.timestamp}},s}(n));s._RF.pop()}}}));

System.register("chunks:///_virtual/BonusLevelButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants2.ts","./BonusLevelManager.ts","./GameLoopController.ts","./WindowManager.ts"],(function(e){var t,n,i,o,a,r,l,s,u,c,p,d,h,b,L;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Label,s=e.Button,u=e.Component},function(e){c=e.MILLISECONDS_IN_HOUR,p=e.MILLISECONDS_IN_MINUTE},function(e){d=e.bonusLevelManager},function(e){h=e.gameLoopController},function(e){b=e.windowManager,L=e.WindowManager}],execute:function(){var v,m,f,g,T,B,M;a._RF.push({},"5d276QfTblFxZyszIBsm0oj","BonusLevelButton",void 0);var S=r.ccclass,w=r.property;e("BonusLevelButton",(v=S("BonusLevelButton"),m=w(l),f=w(l),v((B=t((T=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"buttonTextLabel",B,o(t)),i(t,"timerLabel",M,o(t)),t.timerUpdateInterval=1,t}n(t,e);var a=t.prototype;return a.start=function(){var e=this.node.getComponent(s);d.isBonusLevelAccessible()?(this.node.active=!0,d.isBonusLevelAvailable()?e.interactable=!0:(e.interactable=!1,this.timerLabel.node.active=!0,this.buttonTextLabel.node.active=!1,this.updateTime(),this.schedule(this.updateTime.bind(this),this.timerUpdateInterval))):this.node.active=!1},a.updateTime=function(){d.getTimeToNewBonusLevel()<=0?(this.unscheduleAllCallbacks(),this.getComponent(s).interactable=!0,this.buttonTextLabel.node.active=!0,this.timerLabel.node.active=!1):this.timerLabel.string=this.formatTime(d.getTimeToNewBonusLevel())},a.formatTime=function(e){return Math.floor(e/c).toString().padStart(2,"0")+":"+Math.min(Math.floor(e%c/p),59).toString().padStart(2,"0")+":"+Math.min(Math.floor(e%p/1e3),59).toString().padStart(2,"0")},a.StartLevel=function(){h.BonusLevelRequired=!0,b.SwitchToWindow(L.WindowType.GameMode)},t}(u)).prototype,"buttonTextLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=t(T.prototype,"timerLabel",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=T))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/BonusLevelManager.ts",["cc","./ServiceLocator.ts","./PlayerProfileProvider.ts","./Constants2.ts","./PlayerStats.ts"],(function(e){var n,t,o,s,l;return{setters:[function(e){n=e.cclegacy},function(e){t=e.provide},function(e){o=e.playerProfileProvider},function(e){s=e.MILLISECONDS_IN_DAY},function(e){l=e.playerStats}],execute:function(){var i;e("bonusLevelManager",void 0),n._RF.push({},"fc960cjol5HnKUWXR12lN0r","BonusLevelManager",void 0);e("BonusLevelManager",function(){function n(){}n.Init=function(){i=e("bonusLevelManager",new n),t(n,i)};var u=n.prototype;return u.isBonusLevelAccessible=function(){return o.BonusLevel.accessible},u.setBonusLevelAccessibility=function(e){void 0===e&&(e=null),null===e&&(e=l.CurrentClassicLevel.Value>3),o.BonusLevel.accessible!==e&&(o.BonusLevel.accessible=e,o.SaveProfile(!1))},u.makeBonusLevelCompleted=function(){o.BonusLevel.timestamp=Date.now(),o.SaveProfile(!1)},u.makeBonusLevelAvailable=function(){o.BonusLevel.timestamp=null,o.SaveProfile(!1)},u.isBonusLevelAvailable=function(){return null===o.BonusLevel.timestamp||this.getTimeToNewBonusLevel()>=s},u.getTimeToNewBonusLevel=function(){return o.BonusLevel.timestamp?s-(Date.now()-o.BonusLevel.timestamp):0},n}());n._RF.pop()}}}));

System.register("chunks:///_virtual/bundle-manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./constants.ts"],(function(n){var r,e,t,u,a,o;return{setters:[function(n){r=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){t=n.cclegacy,u=n.assetManager},null,function(n){a=n.L10N_BUNDLE,o=n.PACKAGE_NAME}],execute:function(){t._RF.push({},"94e6abajrtN0aYqgFoM43+q","bundle-manager",void 0);n("L10NBundleManager",function(){function n(){}var t=n.prototype;return t.load=function(){var n=r(e().mark((function n(){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.next=4;break;case 4:return n.abrupt("return",this.runtimeLoad(a.BUNDLE_PATH));case 8:return n.abrupt("return",this.previewLoad(a.BUNDLE_PATH));case 9:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),t.runtimeLoad=function(){var n=r(e().mark((function n(r){var t,u;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.loadBundleAsync(a.NAME);case 2:return t=n.sent,n.next=5,this.loadBundleFileAsync(t,r);case 5:if(u=n.sent){n.next=8;break}throw new Error("Can't load "+r+" in runtime");case 8:return n.abrupt("return",u.json);case 9:case"end":return n.stop()}}),n,this)})));return function(r){return n.apply(this,arguments)}}(),t.previewLoad=function(){var n=r(e().mark((function n(r){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(o+"/"+r);case 3:return n.abrupt("return",n.sent.json());case 6:throw n.prev=6,n.t0=n.catch(0),new Error("Can't load bundle in preview");case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(r){return n.apply(this,arguments)}}(),t.loadBundleAsync=function(){var n=r(e().mark((function n(r){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){u.loadBundle(r,(function(e,t){if(e)throw new Error("Can't load "+r+" from AssetManager");n(t)}))})));case 1:case"end":return n.stop()}}),n)})));return function(r){return n.apply(this,arguments)}}(),t.loadBundleFileAsync=function(){var n=r(e().mark((function n(r,t){return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n){r.load(t,(function(r,e){n(r?void 0:e)}))})));case 1:case"end":return n.stop()}}),n)})));return function(r,e){return n.apply(this,arguments)}}(),n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonSoundTrigger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundConfig.ts","./AudioManager.ts"],(function(n){var t,o,r,e,i,u,a,s,g,c,d;return{setters:[function(n){t=n.applyDecoratedDescriptor,o=n.inheritsLoose,r=n.initializerDefineProperty,e=n.assertThisInitialized},function(n){i=n.cclegacy,u=n._decorator,a=n.Button,s=n.log,g=n.Component},function(n){c=n.SoundConfig},function(n){d=n.AudioManager}],execute:function(){var l,p,f,h,y;i._RF.push({},"4b101JsoXhJ6ouymNxbQdFy","ButtonSoundTrigger",void 0);var S=u.ccclass,v=u.property;n("ButtonSoundTrigger",(l=S("ButtonSoundTrigger"),p=v({type:c}),l((y=t((h=function(n){function t(){for(var t,o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return t=n.call.apply(n,[this].concat(i))||this,r(t,"soundConfig",y,e(t)),t}o(t,n);var i=t.prototype;return i.TriggerSound=function(){d.inst.playSoundConfig(this.soundConfig)},i.start=function(){var n=new a.EventHandler;n.target=this.node,n.component="ButtonSoundTrigger",n.handler="TriggerSound";var t=this.node.getComponent(a);t&&t.clickEvents.push(n),s("ButtonSoundTrigger start")},t}(g)).prototype,"soundConfig",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=h))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/ComplexButton.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,r,i,a,p,s,c,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,a=t._decorator,p=t.Button,s=t.EventHandler,c=t.NodeEventType,u=t.Component}],execute:function(){var E,f,l,v,g,d,h;i._RF.push({},"da01ewcRfZLRozWbXN88Bj7","ComplexButton",void 0);var C=a.ccclass,b=a.property;t("ComplexButton",(E=C("ComplexButton"),f=b([p]),l=b([s]),E((d=e((g=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),a=0;a<n;a++)i[a]=arguments[a];return e=t.call.apply(t,[this].concat(i))||this,o(e,"buttons",d,r(e)),o(e,"clickEvents",h,r(e)),e}n(e,t);var i=e.prototype;return i.onLoad=function(){this.buttons.length&&(this.buttons[0].getComponent(p).clickEvents=this.clickEvents)},i.onEnable=function(){this.registerEvents()},i.onDisable=function(){this.unregisterEvents()},i.registerEvents=function(){var t=this;this.buttons.forEach((function(e){e.node.on(c.TOUCH_START,t.propagateEvent,t),e.node.on(c.TOUCH_MOVE,t.propagateEvent,t),e.node.on(c.TOUCH_END,t.propagateEvent,t),e.node.on(c.TOUCH_CANCEL,t.propagateEvent,t),e.node.on(c.MOUSE_ENTER,t.propagateEvent,t),e.node.on(c.MOUSE_LEAVE,t.propagateEvent,t)}))},i.unregisterEvents=function(){var t=this;this.buttons.forEach((function(e){e.node.off(c.TOUCH_START,t.propagateEvent,t),e.node.off(c.TOUCH_MOVE,t.propagateEvent,t),e.node.off(c.TOUCH_END,t.propagateEvent,t),e.node.off(c.TOUCH_CANCEL,t.propagateEvent,t),e.node.off(c.MOUSE_ENTER,t.propagateEvent,t),e.node.off(c.MOUSE_LEAVE,t.propagateEvent,t)}))},i.propagateEvent=function(t){t.target!==this.node&&(t.target=this.node,this.buttons.forEach((function(e){return e.node.emit(t.type,t)})))},e}(u)).prototype,"buttons",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=e(g.prototype,"clickEvents",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=g))||v));i._RF.pop()}}}));

System.register("chunks:///_virtual/constants.ts",["cc"],(function(n){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"870071T0JlKEKWNB1jiXE4A","constants",void 0);n("PACKAGE_NAME","yandex-games-sdk"),n("L10N_BUNDLE",{NAME:"ysdk-i18n-bundle",BUNDLE_PATH:"translations"});t._RF.pop()}}}));

System.register("chunks:///_virtual/Constants2.ts",["cc"],(function(e){var n,t;return{setters:[function(e){n=e.cclegacy,t=e.Quat}],execute:function(){n._RF.push({},"7093cnYmplN0YS0FucnYapP","Constants",void 0);e("ZeroAngle",t.fromAngleZ(new t,0)),e("MILLISECONDS_IN_DAY",864e5),e("MILLISECONDS_IN_HOUR",36e5),e("MILLISECONDS_IN_MINUTE",6e4);n._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Color,g=t.Canvas,h=t.UITransform,p=t.instantiate,c=t.Label,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[a.WHITE,a.BLACK,a.RED,a.GREEN,a.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(g)){var t=this.node.parent.getComponent(h),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=p(s);l.parent=this.node,l.name="Buttons";var r=p(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=p(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(c);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=a.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?p(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(c);this.labelComponentList[this.labelComponentList.length]=S;var x=p(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(c)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=p(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(c)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=p(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?p(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/DebugHud.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BonusLevelManager.ts","./PlayerProfileProvider.ts","./Constants2.ts","./ysdk.ts","./Settings.ts","./Inventory.ts","./PlayerStats.ts"],(function(e){var n,t,o,i,s,r,a,c,l,u,f,d,v,L,C,E,p,g,S,I,h,b,y,O;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.Node,c=e.profiler,l=e.Layout,u=e.instantiate,f=e.Label,d=e.Overflow,v=e.Sprite,L=e.Color,C=e.UITransform,E=e.randomRangeInt,p=e.Component},function(e){g=e.bonusLevelManager},function(e){S=e.playerProfileProvider},function(e){I=e.MILLISECONDS_IN_DAY},function(e){h=e.ysdk},function(e){b=e.Settings},function(e){y=e.Inventory},function(e){O=e.playerStats}],execute:function(){var m,B,N,A,P;s._RF.push({},"5afc0HwU4xOFY8WTaHxiwP1","DebugHud",void 0);var w=r.ccclass,D=r.property;e("DebugHud",(m=w("DebugHud"),B=D(a),m((P=n((A=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return n=e.call.apply(e,[this].concat(s))||this,o(n,"buttonNode",P,i(n)),n.nodes={},n.colors=["#ffbfdc","#805690","#bdc4ff","#d46f93","#ffbaa9","#94e5d3","#f89e9d","#f9dc90","#baffbf","#fdf1cd"],n.actions={"❌":function(){n.node.active=!1},"BONUS LEVEL":{"ON/OFF BONUS":function(){g.setBonusLevelAccessibility(!g.isBonusLevelAccessible()),console.info("~~~~~~ BONUS LEVEL ACCESSIBILITY: "+g.isBonusLevelAccessible()+" ~~~~~")},"COMPLETE BONUS":function(){g.makeBonusLevelCompleted(),console.info("~~~~~ BONUS LEVEL COMPLETED ~~~~~")},"MAKE AVAILABLE":function(){g.makeBonusLevelAvailable()},"MAKE ALMOST AVAILABLE":function(){S.BonusLevel.timestamp=Date.now()-I+2e4,S.SaveProfile()}},"PLAYER PROFILE":{"LOG PROFILE":function(){h.getPlayer().then((function(e){console.log(JSON.stringify(e)),e.getData().then((function(e){console.log(e)}))}))},"RESET PROFILE":function(){S.Settings=new b,S.Inventory=new y,S.SaveProfile(!1),O.Coins.Value=5,O.Cups.Value=0,O.CurrentClassicLevel.Value=0},"SET 0 COINS":function(){O.Coins.Value=0},"SET 999999 COINS":function(){O.Coins.Value=999999},"ADD 100 COINS":function(){O.Coins.Increment(100)}},"PLAYER LEVEL":{0:n.getIncrementLevelCallback(null),"+1":n.getIncrementLevelCallback(1),"+10":n.getIncrementLevelCallback(10)},"SHOW/HIDE PROFILER STATS":function(){c.isShowingStats()?c.hideStats():c.showStats()}},n}t(n,e);var s=n.prototype;return s.start=function(){this.getComponent(l).enabled=!0,this.addButtons(this.actions)},s.addButtons=function(e,n,t){for(var o in void 0===n&&(n=!0),void 0===t&&(t=null),e)this.addButton(e,o,n,t||this.getNewColor())},s.addButton=function(e,n,t,o){var i,s=this,r=e[n],c=u(this.buttonNode),l=c.getComponentInChildren(f);if(l.overflow=d.NONE,l.string=n,l.isBold=t,c.active=!0,c.getComponent(v).color="❌"===n?L.WHITE:o,this.node.addChild(c),this.nodes[n]=c,"function"==typeof r)i=r;else{var E=e[n];i=function(){var e=Object.keys(E),n=s.nodes[e[0]].active;e.forEach((function(e){return s.nodes[e].active=!n}))},this.addButtons(E,!1,o)}c.on(a.EventType.TOUCH_END,(function(){try{i()}catch(e){console.error(e)}})),setTimeout((function(){c.getComponent(C).width=l.node.getComponent(C).width+20,c.active=t}))},s.getIncrementLevelCallback=function(e){return function(){null!==e?O.CurrentClassicLevel.Increment(e):O.CurrentClassicLevel.Value=0}},s.getNewColor=function(){var e=this.colors.pop();return e?L.fromHEX(new L,e):new L(E(200,255),E(200,255),E(200,255))},n}(p)).prototype,"buttonNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=A))||N));s._RF.pop()}}}));

System.register("chunks:///_virtual/DebugHudOpener.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,r,t,i,o,u,a,c,s,l,p;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,u=e._decorator,a=e.CCInteger,c=e.CCString,s=e.Node,l=e.NodeEventType,p=e.Component}],execute:function(){var d,g,b,f,h,y,O,m,v;o._RF.push({},"7d13c1V7/lEW61Rg29LkFPq","DebugHudOpener",void 0);var C=u.ccclass,D=u.property;e("DebugHudOpener",(d=C("DebugHudOpener"),g=D(a),b=D(c),f=D(s),d((O=n((y=function(e){function n(){for(var n,r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return n=e.call.apply(e,[this].concat(o))||this,t(n,"numOfClicksToOpen",O,i(n)),t(n,"dbgPass",m,i(n)),t(n,"debugHud",v,i(n)),n.counter=0,n}return r(n,e),n.prototype.start=function(){var e=this;new URL(window.location.href).searchParams.get("dbgPass")==this.dbgPass&&this.node.on(l.TOUCH_END,(function(){++e.counter>=e.numOfClicksToOpen&&(e.debugHud.active=!0)}))},n}(p)).prototype,"numOfClicksToOpen",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),m=n(y.prototype,"dbgPass",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"LkYjgPWDKsdS"}}),v=n(y.prototype,"debugHud",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=y))||h));o._RF.pop()}}}));

System.register("chunks:///_virtual/DefaultLevelDataProvider.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ILevelDataProvider.ts","./FlaskData.ts","./PlayerStats.ts","./LevelGenerator.ts","./LiquidLayerData.ts","./GameLoopController.ts","./InputCatcher.ts"],(function(e){var t,r,a,n,l,o,i,u,s,c,v,L,f,p,d,D;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,a=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator,i=e.JsonAsset,u=e.math,s=e.Component},function(e){c=e.LevelType},function(e){v=e.default},function(e){L=e.playerStats},function(e){f=e.LevelGenerator},function(e){p=e.LiquidLayerData},function(e){d=e.gameLoopController},function(e){D=e.InputCatcher}],execute:function(){var y,g,h,C,m;l._RF.push({},"914a7xqPKlGuomoeYiV0u0K","DefaultLevelDataProvider",void 0);var w=o.ccclass,G=o.property;e("DefaultLevelDataProvider",(y=w("DefaultLevelDataProvider"),g=G(i),y((m=t((C=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),o=0;o<r;o++)l[o]=arguments[o];return t=e.call.apply(e,[this].concat(l))||this,a(t,"rawLevelData",m,n(t)),t.levelGenerator=new f,t}r(t,e);var l=t.prototype;return l.allowAdditionalFlasks=function(){return L.CurrentClassicLevel.Value>0&&this.getLevelType()==c.General&&!D.IsTv},l.getLevelData=function(){return 0==L.CurrentClassicLevel.Value?this.rawLevelData.json.map((function(e){return new v({size:e.size,layers:e.layers.map((function(e){return new p(e.color)})),extendable:e.extendable||!1})})):d.BonusLevelRequired?this.levelGenerator.getLevel(7):this.levelGenerator.getLevel(this.getFlasksNum(L.CurrentClassicLevel.Value))},l.getFlasksNum=function(e){var t={2:3,3:4,4:4,5:5,6:5,7:6,8:6,9:6,10:7,11:7,12:7,13:7,14:8,15:8,17:8,18:8,19:9,20:9,21:9,22:9,24:9}[e+1];return void 0!==t?t:10},l.getLevelReward=function(){return u.randomRangeInt(6,10)},l.getLevelType=function(){if(d.BonusLevelRequired)return c.Bonus2;var e=L.CurrentClassicLevel.Value+1;return e<=24&&e%8==0||e>=36&&(e-36)%20==0||e>=44&&(e-44)%20==0?c.Bonus1:c.General},t}(s)).prototype,"rawLevelData",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),h=C))||h));l._RF.pop()}}}));

System.register("chunks:///_virtual/ExitButtonListener.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ysdk.ts","./InputCatcher.ts","./WindowManager.ts","./YesNoDialog.ts"],(function(t){var n,e,i,o,s,a,r,u,c;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,o=t.Component},function(t){s=t.ysdk},function(t){a=t.inputCatcher,r=t.InputCatcherEventType},function(t){u=t.windowManager},function(t){c=t.YesNoDialog}],execute:function(){var l;e._RF.push({},"185a7kB7oVAQLCE8cMleVbd","ExitButtonListener",void 0);var d=i.ccclass;i.property,t("ExitButtonListener",d("ExitButtonListener")(l=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).handlingExitMenu=void 0,n.IgnoreExitButton=void 0,n}n(e,t);var i=e.prototype;return i.start=function(){void 0!==a&&a.eventTarget.on(r.BackPressed,this.HandleBackButton,this)},i.onDestroy=function(){void 0!==a&&a.eventTarget.off(r.BackPressed,this.HandleBackButton,this)},i.HandleBackButton=function(){var t=this;this.handlingExitMenu||this.IgnoreExitButton||(this.handlingExitMenu=!0,u.ShowWindow("yes_no_dialog").getComponent(c).Init("ui_lbl_tv_is_close_game",(function(){t.handlingExitMenu=!1,s.dispatchEvent(s.EVENTS.EXIT)}),(function(){t.handlingExitMenu=!1})))},e}(o))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/Fadable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts"],(function(e){var t,n,i,a,r,o,u,l,f,c,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,u=e.CCFloat,l=e.CCString,f=e.Component},function(e){c=e.fadeInNode,s=e.fadeOutNode}],execute:function(){var d,p,b,g,h,y,D,I,O,m,v;r._RF.push({},"704bbm4cAtPA6C+4/pX+e3Z","Fadable",void 0);var F=o.ccclass,z=o.property;e("Fadable",(d=F("Fadable"),p=z(u),b=z(l),g=z(u),h=z(l),d((I=t((D=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"fadeInDuration",I,a(t)),i(t,"fadeInEasing",O,a(t)),i(t,"fadeOutDuration",m,a(t)),i(t,"fadeOutEasing",v,a(t)),t}n(t,e);var r=t.prototype;return r.fadeIn=function(){c(this.node,this.fadeInDuration,this.fadeInEasing)},r.fadeOut=function(){s(this.node,this.fadeOutDuration,this.fadeOutEasing)},t}(f)).prototype,"fadeInDuration",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),O=t(D.prototype,"fadeInEasing",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"linear"}}),m=t(D.prototype,"fadeOutDuration",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),v=t(D.prototype,"fadeOutEasing",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"linear"}}),y=D))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/Flask.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FlaskSkin.ts","./FlaskView.ts","./FlaskLiquids.ts","./FlaskData.ts","./LevelController.ts","./FlaskSounds.ts","./AdShower.ts"],(function(t){var e,i,s,n,o,a,l,r,u,c,d,_,h,T,f,E,O,k,S,p,L,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,s=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){a=t.cclegacy,l=t._decorator,r=t.CCInteger,u=t.Node,c=t.instantiate,d=t.director,_=t.tween,h=t.Vec3,T=t.Component},function(t){f=t.FlaskSkin},function(t){E=t.FlaskView},function(t){O=t.FlaskLiquids},function(t){k=t.default},function(t){S=t.levelController},function(t){p=t.FlaskSounds},function(t){L=t.AdShower,I=t.adShower}],execute:function(){var N,m,g,v,C,y,P,U,F,R,D,G;a._RF.push({},"d2392yHbMxE/LK1xgEjQeUE","Flask",void 0);var w=l.ccclass,M=l.property,z=function(t){return t.SIZE_CHANGED="Flask:SizeChanged",t.ROTATION_CHANGED="Flask:RotationChanged",t.SCALE_CHANGED="Flask:ScaleChanged",t.SELECT="Flask:Select",t.SELECTED="Flask:Selected",t.UNSELECT="Flask:Unselect",t.UNSELECTED="Flask:Unselected",t.SELECTED_TO_POUR_IN="Flask:SelectedToPourIn",t.MOVING_TO_POUR_OUT_STARTED="Flask:MovingToPourOutStarted",t.MOVING_TO_POUR_OUT_COMPLETED="Flask:MovingToPourOutCompleted",t.MOVING_AFTER_POURING_OUT_COMPLETED="Flask:MovingAfterPouringOutCompleted",t.POURING_OUT_STARTED="Flask:PouringOutStarted",t.POURING_OUT_COMPLETED="Flask:PouringOutCompleted",t.POURING_IN_STARTED="Flask:PouringInStarted",t.POURING_IN_COMPLETED="Flask:PouringInCompleted",t.COMPLETED="Flask:Completed",t}(z||{}),H=function(t){return t.UNSELECTED="unselected",t.SELECTED="selected",t.POURING_IN="pouring_in",t.POURING_OUT="pouring_out",t.WAITING_TO_POUR_IN="waiting_to_pour_in",t.MOVING_TO_HOME_POSITION="moving_to_home_position",t.MOVING_TO_POURING_POSITION="moving_to_pouring_position",t}(H||{});t("Flask",(N=w("Flask"),m=M(r),g=M(u),v=M(u),C=M({type:r,slide:!0,min:0,max:4,step:1}),N(((G=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return(e=t.call.apply(t,[this].concat(o))||this).flaskLiquids=void 0,e.flaskView=void 0,e.flaskSkin=void 0,e.flaskSounds=void 0,e.selectHintTween=void 0,s(e,"maxSize",U,n(e)),e._state=H.UNSELECTED,s(e,"playerEventTarget",F,n(e)),s(e,"selectHint",R,n(e)),e._extendable=!1,s(e,"_size",D,n(e)),e.Locked=!1,e}i(e,t);var a=e.prototype;return a.init=function(t,e,i,s,n,o,a){var l=t.layers;this._size=t.size,this._extendable=t.extendable,this.flaskSkin=this.node.getComponent(f),this.flaskView=this.node.getComponent(E),this.flaskView.init(e,s,n,o,a),this.flaskSkin.init(this._size),this.flaskLiquids=this.node.getComponent(O),this.flaskLiquids.init(l,e,i),this.flaskSounds=c(e.flaskSounds).getComponent(p),this.flaskSounds.node.name="Sound",this.flaskSounds.node.setParent(this.node),this.flaskSounds.init(this.node),this.initEvents()},a.extendFlaskForReward=function(){var t=this;d.once(L.EventType.RewardVideoRewarded,(function(){t.size++,t._size>=t.maxSize&&S.addEmptyFlask()})),I.ShowRewardedVideo()},a.select=function(){var t=this;this._state=H.SELECTED,console.log(this.node.name+" : "+this.flaskLiquids.getLayerQuantity()),this.node.emit(e.EventType.SELECT),this.flaskView.select((function(){t.node.emit(e.EventType.SELECTED)}))},a.unselect=function(){var t=this;this.node.emit(e.EventType.UNSELECT),this.flaskView.moveToHomePosition((function(){t._state=H.UNSELECTED,t.node.emit(e.EventType.UNSELECTED)}))},a.moveToHomePosition=function(){var t=this;this._state=H.MOVING_TO_HOME_POSITION,this.flaskView.moveToHomePosition((function(){t._state=H.UNSELECTED,t.node.emit(e.EventType.MOVING_AFTER_POURING_OUT_COMPLETED)}))},a.pourOutToFlask=function(t){var i=this;this._state=H.MOVING_TO_POURING_POSITION,t.state=H.WAITING_TO_POUR_IN;var s=this.flaskLiquids.getTopLiquidLayerData(),n=Math.min(t.getAvailableSpace(),this.flaskLiquids.getTopLiquidLayersOfTheSameColorQuantity());t.flaskLiquids.reserveSpaceForLayers(n),this.node.emit(e.EventType.MOVING_TO_POUR_OUT_STARTED),this.flaskView.pourOutToFlask(t,s,this.flaskLiquids.getLayerQuantity()-1,n,(function(){t.state=H.POURING_IN,i.node.emit(e.EventType.POURING_OUT_STARTED,i,t,s,n)}))},a.pourIn=function(t,e,i){this.flaskLiquids.pourInLiquidLayer(t,e,i)},a.getData=function(){return new k(this._size,this.flaskLiquids.liquidLayers.map((function(t){return t.clone()})),this._extendable)},a.isReadyToPourInFrom=function(t){if(this._state!==H.UNSELECTED&&this._state!==H.POURING_IN)return console.info("wrong state"),!1;if(this.isFull())return console.info("target flask is full"),!1;var e=this.flaskLiquids.getTopLiquidLayerData(),i=t.flaskLiquids.getTopLiquidLayerData();return i?!(e&&!e.equals(i))||(console.info("colors don't match"),console.log(i,e),!1):(console.info("source flask is empty"),!1)},a.showMoveIsImpossible=function(){this.flaskView.showMoveIsImpossible()},a.canBeSelected=function(){return this._size>0&&!this.isEmpty()&&this.state===H.UNSELECTED},a.getAvailableSpace=function(){return this._size-this.flaskLiquids.getLayerQuantity()},a.isMoving=function(){return this._state===H.MOVING_TO_POURING_POSITION||this._state===H.POURING_OUT||this._state===H.MOVING_TO_HOME_POSITION},a.isBeingPouredIn=function(){return this._state===H.POURING_IN},a.isFull=function(){return this._size<=this.flaskLiquids.getLayerQuantity()},a.isEmpty=function(){return 0===this.flaskLiquids.getLayerQuantity()},a.isCompleted=function(){var t=this.flaskLiquids.getLayers();if(!t.length)return!1;var e=t[0].color,i=S.getLayersQuantityForColor(e),s=0;for(var n in t){if(t[n].color!=e)return!1;s++}return s===i},a.initEvents=function(){var t=this;this.node.on(u.EventType.TRANSFORM_CHANGED,(function(e){e&u.TransformBit.ROTATION&&t.node.emit(z.ROTATION_CHANGED),e&u.TransformBit.SCALE&&t.node.emit(z.SCALE_CHANGED,t.node.scale)})),this.node.on(z.POURING_IN_COMPLETED,(function(){t._state=H.UNSELECTED,t.flaskLiquids.resetReservedSpace(),t.checkFlaskCompletion()})),this.node.on(z.MOVING_TO_POUR_OUT_COMPLETED,(function(){t._state=H.POURING_OUT})),this.node.on(O.EventType.REMOVING_LIQUIDS_COMPLETED,(function(){t._state===H.POURING_OUT&&(t.node.emit(z.POURING_OUT_COMPLETED),t.moveToHomePosition())}))},a.checkFlaskCompletion=function(){this.isCompleted()&&(this.flaskView.showFlaskIsCompleted(),this.node.emit(z.COMPLETED))},a.emitEventForState=function(t){var e;switch(t){case H.WAITING_TO_POUR_IN:e=z.SELECTED_TO_POUR_IN}e&&this.node.emit(e)},a.changeContents=function(t){t.hasSomethingToRemove()&&this.flaskLiquids.removeLiquidLayers(t.remove),t.hasSomethingToAdd()&&this.flaskLiquids.addMultipleLiquidLayers(t.add)},a.getFlaskMargin=function(){return this.flaskSkin.getSkinMargin(this._size).multiplyScalar(this.node.scale.x)},a.ShowSelectHint=function(){this.selectHint&&(this.selectHint.active=!0,this.selectHintTween=_(this.selectHint).repeatForever(_(this.selectHint).to(.5,{scale:new h(1.1,1.1,1.1)}).to(.5,{scale:new h(1,1,1)})).start())},a.HideSelectHint=function(){this.selectHint&&(this.selectHint.active=!1),this.selectHintTween&&(this.selectHintTween.stop(),this.selectHintTween=null)},a.LockInteraction=function(){this.Locked=!0,this.flaskSkin.setLockedState(this.Locked)},a.UnlockInteraction=function(){this.Locked=!1,this.flaskSkin.setLockedState(this.Locked)},o(e,[{key:"state",get:function(){return this._state},set:function(t){this.emitEventForState(t),this._state=t}},{key:"extendable",get:function(){return this._extendable}},{key:"size",get:function(){return this._size},set:function(t){t!==this._size&&(this._size=t,this.flaskSkin.setFlaskSize(this._size),this._extendable&&(this._extendable=this._size<this.maxSize),this.flaskView.toggleIsExtendableState(this._extendable),this.node.emit(z.SIZE_CHANGED,t))}}]),e}(T)).EventType=z,U=e((P=G).prototype,"maxSize",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),F=e(P.prototype,"playerEventTarget",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=e(P.prototype,"selectHint",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=e(P.prototype,"_size",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),e(P.prototype,"size",[C],Object.getOwnPropertyDescriptor(P.prototype,"size"),P.prototype),y=P))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/FlaskColliderProvider.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Flask.ts"],(function(e){var r,i,o,t,l,n,s,a,c,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,o=e.inheritsLoose,t=e.assertThisInitialized},function(e){l=e.cclegacy,n=e._decorator,s=e.PolygonCollider2D,a=e.CCInteger,c=e.Component},function(e){u=e.Flask}],execute:function(){var d,f,p,h,v,g,k,y,z,C,b,F;l._RF.push({},"0c772Ke4UtHD5oueoOL8Bg1","FlaskColliderProvider",void 0);var w=n.ccclass,P=n.property,m=(d=w("FlaskCollider"),f=P(s),p=P(a),d((g=r((v=function(){i(this,"collider",g,this),i(this,"size",k,this)}).prototype,"collider",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=r(v.prototype,"size",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),h=v))||h);e("FlaskColliderProvider",(y=w("FlaskColliderProvider"),z=P([m]),y((F=r((b=function(e){function r(){for(var r,o=arguments.length,l=new Array(o),n=0;n<o;n++)l[n]=arguments[n];return(r=e.call.apply(e,[this].concat(l))||this).flask=void 0,i(r,"colliders",F,t(r)),r}o(r,e);var l=r.prototype;return l.onLoad=function(){this.flask=this.node.parent.getComponent(u)},l.getCollider=function(){var e,r=this.flask.size;0===r&&(r=1);var i=null==(e=this.colliders.find((function(e){return e.size===r})))?void 0:e.collider;if(!i)throw new Error("No collider was found for the size "+this.flask.size);return i},r}(c)).prototype,"colliders",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=b))||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/FlaskData.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"f0fc53907hB1oDA/pmT+vwJ","FlaskData",void 0);e("default",function(){function e(){this.size=void 0,this.layers=void 0,this.extendable=void 0;for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];1===t.length?(this.size=t[0].size,this.layers=t[0].layers,this.extendable=t[0].extendable):(this.size=t[0],this.layers=t[1],this.extendable=t[2])}e.GetSpareFlask=function(){return new e({size:0,layers:[],extendable:!0})};var t=e.prototype;return t.getData=function(){return{size:this.size,layers:this.layers,extendable:this.extendable}},t.clone=function(){return new e(this.getData())},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/FlaskLiquids.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FlaskLiquidsView.ts","./Flask.ts"],(function(i){var e,s,t,n,r,o,a;return{setters:[function(i){e=i.inheritsLoose},function(i){s=i.cclegacy,t=i._decorator,n=i.Component},function(i){r=i.FlaskLiquidsView,o=i.FlaskLiquidViewType},function(i){a=i.Flask}],execute:function(){var u,l;s._RF.push({},"aa425DU0EFLqrvXqnA+bEAJ","FlaskLiquids",void 0);var d=t.ccclass,L=t.requireComponent,y=function(i){return i.REMOVING_LIQUIDS_COMPLETED="FlaskLiquids:RemovingLiquidsCompleted",i}(y||{});i("FlaskLiquids",d("FlaskLiquids")(u=L(r)(((l=function(i){function s(){for(var e,s=arguments.length,t=new Array(s),n=0;n<s;n++)t[n]=arguments[n];return(e=i.call.apply(i,[this].concat(t))||this).flaskLiquidsView=void 0,e.liquidLayers=[],e.flaskNode=void 0,e.reservedLayerQuantity=0,e}e(s,i);var t=s.prototype;return t.getTopLiquidLayerData=function(){return this.liquidLayers.slice(-1)[0]||null},t.init=function(i,e,s){var t=this;if(this.flaskNode=this.node,this.flaskLiquidsView=this.getComponent(r),this.liquidLayers=i,this.flaskLiquidsView.init(i,e,s),this.flaskNode.on(a.EventType.POURING_OUT_STARTED,(function(i,e,s,t){i.flaskLiquids.removeLiquidLayers(t),e.pourIn(s,t,i.node)})),s===o.HideAllLayers){var n=this.flaskNode.getComponent(a);this.flaskNode.on(a.EventType.SELECTED,(function(){n.isCompleted()||t.flaskLiquidsView.showTopLayer()})),this.flaskNode.on(a.EventType.UNSELECTED,(function(){n.isCompleted()||t.flaskLiquidsView.hideTopLayer()})),this.flaskNode.on(a.EventType.POURING_OUT_COMPLETED,(function(){n.isCompleted()||n.isEmpty()||t.flaskLiquidsView.hideTopLayer()})),this.flaskNode.on(a.EventType.POURING_IN_COMPLETED,(function(){t.flaskNode.getComponent(a).isCompleted()||t.flaskLiquidsView.hideTopLayer()}))}s===o.HideAllLayersExceptTop&&this.flaskNode.on(a.EventType.POURING_OUT_COMPLETED,(function(){t.flaskNode.getComponent(a).isEmpty()||t.flaskLiquidsView.showTopLayer()})),s!==o.HideAllLayers&&s!==o.HideAllLayersExceptTop||this.flaskNode.on(a.EventType.COMPLETED,(function(){t.flaskLiquidsView.showAllLayers()}))},t.getLayerQuantity=function(){return this.liquidLayers.length+this.reservedLayerQuantity},t.getLayers=function(){return this.liquidLayers},t.pourInLiquidLayer=function(i,e,s){void 0===s&&(s=null),console.log("old length is: "+this.liquidLayers.length);var t=new Array(e).fill(1).map((function(){return i.clone()}));this.liquidLayers=this.liquidLayers.concat(t),this.flaskLiquidsView.pourInLiquidLayers(i,e,s)},t.getTopLiquidLayersOfTheSameColorQuantity=function(){var i=this.getTopLiquidLayerData();if(1===this.liquidLayers.length)return 1;var e=this.liquidLayers.slice().reverse(),s=0;for(var t in e){if(!e[t].equals(i))return s;s++}return s+this.reservedLayerQuantity},t.logLayerColors=function(i){void 0===i&&(i=this.liquidLayers);var e=[];i.forEach((function(i,s){e[s]=i.color})),e.reverse().forEach((function(i,e){console.log(e+" %c▮▮▮▮▮▮","color: "+i+"; background: "+i)}))},t.addMultipleLiquidLayers=function(i){if(0!==i.length){for(var e=i[0],s=1,t=1;t<i.length;t++){var n=i[t];e.equals(n)?s++:(this.pourInLiquidLayer(e,s),e=n,s=1)}this.pourInLiquidLayer(e,s)}},t.removeLiquidLayers=function(i){this.liquidLayers=this.liquidLayers.slice(0,-i),this.flaskLiquidsView.removeLiquidLayersFromTop(i)},t.reserveSpaceForLayers=function(i){this.reservedLayerQuantity+=i},t.resetReservedSpace=function(){this.reservedLayerQuantity=0},t.getReservedSpace=function(){return this.reservedLayerQuantity},s}(n)).EventType=y,u=l))||u)||u);s._RF.pop()}}}));

System.register("chunks:///_virtual/FlaskLiquidsView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Flask.ts","./LiquidFlowView.ts","./LayerViewControllerBuilder.ts","./Constants2.ts","./SingleLayerPerColorLayerViewController.ts","./LiquidSurface.ts","./FlaskLiquids.ts","./FlaskColliderProvider.ts","./Utils.ts","./LiquidLayer.ts","./InputCatcher.ts"],(function(i){var e,t,n,o,r,l,a,u,s,d,c,f,p,y,h,L,q,C,g,w,b,m,E,I,v,T,P,N,V,k,S,A;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,l=i._decorator,a=i.Enum,u=i.Node,s=i.Prefab,d=i.CCInteger,c=i.CCFloat,f=i.UITransform,p=i.ParticleSystem2D,y=i.Vec3,h=i.Quat,L=i.Component,q=i.toRadian},function(i){C=i.Flask},function(i){g=i.LiquidFlowView},function(i){w=i.LiquidLayerViewControllerType},function(i){b=i.ZeroAngle},function(i){m=i.default},function(i){E=i.LiquidSurface},function(i){I=i.FlaskLiquids},function(i){v=i.FlaskColliderProvider},function(i){T=i.instantiatePrefabIntoContainer,P=i.stopParticles,N=i.stopParticlesInNodeChildren,V=i.startParticlesInNodeChildren,k=i.startParticles},function(i){S=i.LiquidLayer},function(i){A=i.InputCatcher}],execute:function(){var D,O,F,_,z,R,H,M,U,B,G,Q,j,x,W,Y,Z,J,K,X,$,ii,ei,ti,ni,oi,ri,li,ai,ui,si,di,ci,fi,pi,yi;r._RF.push({},"389ceo9BMBIdqQ6TtYt2dYL","FlaskLiquidsView",void 0);var hi=l.ccclass,Li=l.property;a(w);var qi={name:"Containers",type:"section"},Ci=i("FlaskLiquidViewType",function(i){return i[i.ShowAllLayers=0]="ShowAllLayers",i[i.HideAllLayersExceptTop=1]="HideAllLayersExceptTop",i[i.HideAllLayers=2]="HideAllLayers",i}({})),gi={name:"Properties to check values",style:"section"};i("FlaskLiquidsView",(D=hi("FlaskLiquidsView"),O=Li({type:u,group:qi}),F=Li({type:u,group:qi}),_=Li({type:u,group:qi}),z=Li({type:u,group:qi}),R=Li({type:s,group:gi}),H=Li(u),M=Li(u),U=Li({type:u,group:qi}),B=Li(d),G=Li(c),Q=Li({type:E,group:gi}),j=Li({type:w}),x=Li(c),W=Li(g),Y=Li(v),Z=Li([u]),D(((yi=function(i){function e(){for(var e,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return e=i.call.apply(i,[this].concat(r))||this,n(e,"liquidsOutsideContainerNode",X,o(e)),n(e,"idleEffectsContainer",$,o(e)),n(e,"topEffectsContainer",ii,o(e)),n(e,"liquidLayersInsideContainerNode",ei,o(e)),n(e,"liquidBodyPrefab",ti,o(e)),n(e,"liquidLayersMask",ni,o(e)),n(e,"bubbleMask",oi,o(e)),n(e,"liquidFlowContainer",ri,o(e)),n(e,"layerHeight",li,o(e)),n(e,"liquidsBottomMargin",ai,o(e)),n(e,"liquidSurface",ui,o(e)),e.liquidLayerViewController=void 0,e.flaskNode=void 0,n(e,"liquidLayerPreviewControllerType",si,o(e)),e.liquidsContainerUITransform=void 0,e.flaskUITransform=void 0,n(e,"pouringAnimationDurationPerLayer",di,o(e)),n(e,"liquidFlowView",ci,o(e)),n(e,"colliderProvider",fi,o(e)),n(e,"pouringInEffects",pi,o(e)),e.liquidViewType=Ci.ShowAllLayers,e}t(e,i);var r=e.prototype;return r.init=function(i,e,t){this.liquidViewType=t,this.flaskNode=this.node,this.flaskUITransform=this.flaskNode.getComponent(f),this.liquidsContainerUITransform=this.liquidLayersInsideContainerNode.getComponent(f),this.liquidBodyPrefab=e.body,A.IsTv||null==e.idleEffects?this.idleEffectsContainer.active=!1:T(e.idleEffects,this.idleEffectsContainer),this.setEffects(e),this.liquidFlowView.liquidFlowPrefab=e.flow,this.liquidSurface=this.addLiquidSurface(e.surface),this.liquidLayerViewController=new m(this,this.liquidBodyPrefab,this.layerHeight),this.liquidLayerViewController.setLiquidViewType(t),this.liquidSurface.colliderProvider=this.colliderProvider,this.liquidLayerViewController.setLiquidSurface(this.liquidSurface),this.liquidLayerViewController.buildLiquidLayers(i),P(this.pouringInEffects.map((function(i){return i.getComponent(p)}))),this.initEvents()},r.adjustLayerHeightOnRotation=function(){var i=this.flaskNode.rotation.clone(),e=new y;h.toEuler(e,i);var t,n,o=this.liquidLayersInsideContainerNode.scale.clone();o.y=(t=e.z,void 0===n&&(n=.5),n+Math.cos(q(t))*(1-n)),this.liquidLayersInsideContainerNode.setScale(o),this.liquidLayerViewController.actualizeBubbleMask(),this.liquidLayerViewController.repositionLiquidSurface()},r.compensateFlaskRotationAngle=function(){this.liquidsOutsideContainerNode.setWorldRotation(b)},r.removeLiquidLayersFromTop=function(i){this.liquidLayerViewController.removeTopLiquidLayersWithAnimation(i,this.getPouringAnimationDuration(i))},r.pourInLiquidLayers=function(i,e,t){void 0===e&&(e=1),void 0===t&&(t=null),t&&this.liquidFlowView.pourIn(i.color,this.getPouringAnimationDuration(e),t,this.flaskNode),this.flaskNode.emit(C.EventType.POURING_IN_STARTED,e),t&&this.startPouringInEffects(),this.liquidLayerViewController.addLiquidLayersWithAnimation(i,e,this.getPouringAnimationDuration(e))},r.getLiquidsHeight=function(i,e){void 0===i&&(i=0);var t=0;return this.liquidLayersInsideContainerNode.children.slice(i,e).forEach((function(i){t+=i.getComponent(f).height})),t},r.showTopLayer=function(){var i=this.liquidLayerViewController.getTopLayerNode().getComponent(S);i.showLiquid(),this.liquidSurface.setColor(i.color)},r.hideTopLayer=function(){this.liquidLayerViewController.getTopLayerNode().getComponent(S).hideLiquid(),this.liquidSurface.setColor(e.HIDDEN_LIQUID_COLOR)},r.showAllLayers=function(){var i;this.liquidLayerViewController.getLayerNodes().forEach((function(e){(i=e.getComponent(S)).showLiquid()})),i&&this.liquidSurface.setColor(i.color)},r.getPouringAnimationDuration=function(i){switch(i){case 1:return.3;case 2:return.4;case 3:return.6;case 4:return.8}return this.pouringAnimationDurationPerLayer*i},r.initEvents=function(){var i=this;this.flaskNode.on(C.EventType.MOVING_TO_POUR_OUT_STARTED,(function(){N(i.idleEffectsContainer)})),this.flaskNode.on(C.EventType.MOVING_AFTER_POURING_OUT_COMPLETED,(function(){V(i.idleEffectsContainer)})),this.flaskNode.on(C.EventType.ROTATION_CHANGED,(function(){i.compensateFlaskRotationAngle(),i.adjustLayerHeightOnRotation()})),this.liquidLayerViewController.onPouringInComplete((function(){i.flaskNode.emit(C.EventType.POURING_IN_COMPLETED),i.liquidLayerViewController.actualizeBubbleMask(),i.stopPouringInEffects()})),this.liquidLayerViewController.onPouringOutComplete((function(){var t;i.flaskNode.emit(I.EventType.REMOVING_LIQUIDS_COMPLETED),i.flaskNode.getComponent(C).isEmpty()||(t=i.liquidViewType===Ci.HideAllLayers?e.HIDDEN_LIQUID_COLOR:i.flaskNode.getComponent(I).getTopLiquidLayerData().color),i.liquidLayerViewController.setLiquidSurfaceColor(t)})),this.node.on(C.EventType.SIZE_CHANGED,(function(){i.liquidLayerViewController.setLiquidSurface(i.liquidSurface),i.liquidLayerViewController.repositionLiquidSurface()})),this.node.on(C.EventType.SCALE_CHANGED,(function(e){i.liquidLayerViewController.setLiquidSurfaceScale(e)}))},r.startPouringInEffects=function(){this.liquidSurface.node.active=!0,this.pouringInEffects.forEach((function(i){i&&i.name&&(i.active=!0,k(null==i?void 0:i.getComponent(p)))}))},r.stopPouringInEffects=function(){this.pouringInEffects.forEach((function(i){i&&i.name&&(P(i.getComponent(p)),i.active=!1)}))},r.addLiquidSurface=function(i){var e=this,t=T(i,this.liquidsOutsideContainerNode);return t.scale=new y(1,1,1).divide(this.node.scale),t&&t.getComponentsInChildren(p).forEach((function(i){e.pouringInEffects.push(i.node)})),null==t?void 0:t.getComponent(E)},r.setEffects=function(i){var e,t=T(i.pouringTopEffects,this.topEffectsContainer);t.scale=new y(1,1,1).divide(this.node.scale),(e=this.pouringInEffects).push.apply(e,t.children)},e}(L)).HIDDEN_LIQUID_COLOR=0,X=e((K=yi).prototype,"liquidsOutsideContainerNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),$=e(K.prototype,"idleEffectsContainer",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ii=e(K.prototype,"topEffectsContainer",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ei=e(K.prototype,"liquidLayersInsideContainerNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ti=e(K.prototype,"liquidBodyPrefab",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ni=e(K.prototype,"liquidLayersMask",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),oi=e(K.prototype,"bubbleMask",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ri=e(K.prototype,"liquidFlowContainer",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),li=e(K.prototype,"layerHeight",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),ai=e(K.prototype,"liquidsBottomMargin",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),ui=e(K.prototype,"liquidSurface",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),si=e(K.prototype,"liquidLayerPreviewControllerType",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.SingleLayerPerColorLayerViewController}}),di=e(K.prototype,"pouringAnimationDurationPerLayer",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ci=e(K.prototype,"liquidFlowView",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),fi=e(K.prototype,"colliderProvider",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pi=e(K.prototype,"pouringInEffects",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=K))||J));r._RF.pop()}}}));

System.register("chunks:///_virtual/FlaskSkin.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,o,r,n,a,s,l,u,c,p,g,d,f,k,h;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty,o=e.inheritsLoose,r=e.assertThisInitialized},function(e){n=e.cclegacy,a=e._decorator,s=e.CCInteger,l=e.SpriteFrame,u=e.Size,c=e.Node,p=e.Vec2,g=e.Color,d=e.Sprite,f=e.UITransform,k=e.Vec3,h=e.Component}],execute:function(){var m,b,F,S,y,z,C,w,v,N,L,M,B,_,A,D,O,T,x,E,P,R,I,U,V,H,W,j,Y,Z,q;n._RF.push({},"01d33Bal8pPW5bVLgZ6wwgE","FlaskSkin",void 0);var G=a.ccclass,J=a.property,K=(m=G("FlaskSprite"),b=J({type:s,name:"Size",min:1,max:8}),F=J(l),S=J(l),y=J(l),z=J(u),m((v=i((w=function(){t(this,"size",v,this),t(this,"foreground",N,this),t(this,"background",L,this),t(this,"mask",M,this),t(this,"dimensions",B,this)}).prototype,"size",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=i(w.prototype,"foreground",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=i(w.prototype,"background",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=i(w.prototype,"mask",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=i(w.prototype,"dimensions",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),C=w))||C);e("FlaskSkin",(_=G("FlaskSkin"),A=J([K]),D=J(c),O=J(c),T=J(c),x=J(p),E=J(g),P=J(g),_(((q=function(e){function i(){for(var i,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return i=e.call.apply(e,[this].concat(n))||this,t(i,"sprites",U,r(i)),t(i,"flaskForegroundNode",V,r(i)),t(i,"flaskBackgroundNode",H,r(i)),t(i,"flaskMaskNode",W,r(i)),t(i,"maskMargin",j,r(i)),t(i,"inactiveColor",Y,r(i)),t(i,"lockedColor",Z,r(i)),i}o(i,e);var n=i.prototype;return n.init=function(e){void 0===e&&(e=1),this.setFlaskSize(e)},n.setFlaskSize=function(e){this.setFlaskSprite(this.getSpriteForSize(e)),this.toggleActiveState(e>0)},n.setFlaskSprite=function(e){this.flaskForegroundNode.getComponent(d).spriteFrame=e.foreground,this.flaskBackgroundNode.getComponent(d).spriteFrame=e.background,this.flaskMaskNode.getComponent(d).spriteFrame=e.mask,this.node.getComponent(f).setContentSize(e.dimensions);var i=this.flaskForegroundNode.getComponent(f),t=new k;t.x=this.flaskForegroundNode.position.x+this.maskMargin.x,t.y=this.flaskForegroundNode.position.y-i.anchorY*i.height+this.maskMargin.y,this.flaskMaskNode.setPosition(t)},n.toggleActiveState=function(e){void 0===e&&(e=!0);var t=e?i.DEFAULT_COLOR:this.inactiveColor;this.flaskForegroundNode.getComponent(d).color=t,this.flaskBackgroundNode.getComponent(d).color=t},n.setLockedState=function(e){void 0===e&&(e=!0);var t=e?this.lockedColor:i.DEFAULT_COLOR;this.flaskForegroundNode.getComponent(d).color=t,this.flaskBackgroundNode.getComponent(d).color=t},n.getSkinMargin=function(e){var i=this.flaskForegroundNode.getPosition(),t=this.getSpriteForSize(999),o=this.getSpriteForSize(e),r=new k;return r.subtract(i),r.y+=o.dimensions.height-t.dimensions.height,r.y+=t.dimensions.height/2,r},n.getSpriteForSize=function(e){return 0===e&&(e=1),this.sprites.find((function(i){return i.size===e}))||this.sprites[this.sprites.length-1]},i}(h)).DEFAULT_COLOR=g.WHITE,U=i((I=q).prototype,"sprites",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=i(I.prototype,"flaskForegroundNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=i(I.prototype,"flaskBackgroundNode",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(I.prototype,"flaskMaskNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=i(I.prototype,"maskMargin",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(0,0)}}),Y=i(I.prototype,"inactiveColor",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g(165,165,165,165)}}),Z=i(I.prototype,"lockedColor",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new g(165,165,165,165)}}),R=I))||R));n._RF.pop()}}}));

System.register("chunks:///_virtual/FlaskSounds.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Flask.ts","./AudioManager.ts","./SoundConfig.ts"],(function(n){var e,i,o,t,r,u,a,p,l,c;return{setters:[function(n){e=n.applyDecoratedDescriptor,i=n.inheritsLoose,o=n.initializerDefineProperty,t=n.assertThisInitialized},function(n){r=n.cclegacy,u=n._decorator,a=n.Component},function(n){p=n.Flask},function(n){l=n.audioManager},function(n){c=n.SoundConfig}],execute:function(){var f,s,g,d,y,b,S,w,E,v,C,k,m;r._RF.push({},"27f5dDjA21EP7P4r2CN78IQ","FlaskSounds",void 0);var D=u.ccclass,T=u.property;n("FlaskSounds",(f=D("FlaskSounds"),s=T(c),g=T(c),d=T(c),y=T(c),b=T([c]),f((E=e((w=function(n){function e(){for(var e,i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return e=n.call.apply(n,[this].concat(r))||this,o(e,"pouringIn",E,t(e)),o(e,"completed",v,t(e)),o(e,"pickUp",C,t(e)),o(e,"putDown",k,t(e)),o(e,"pouring",m,t(e)),e}return i(e,n),e.prototype.init=function(n){var e=this;n.on(p.EventType.SELECT,(function(){l.playSoundConfig(e.pickUp)})),n.on(p.EventType.UNSELECTED,(function(){l.playSoundConfig(e.putDown)})),n.on(p.EventType.COMPLETED,(function(){l.playSoundConfig(e.completed)})),n.on(p.EventType.POURING_IN_STARTED,(function(n){e.pouring.length>=n&&l.playSoundConfig(e.pouring[n-1])}))},e}(a)).prototype,"pouringIn",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),v=e(w.prototype,"completed",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),C=e(w.prototype,"pickUp",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),k=e(w.prototype,"putDown",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),m=e(w.prototype,"pouring",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=w))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/FlaskView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Constants2.ts","./Flask.ts","./FlaskLiquidsView.ts","./Utils.ts","./Fadable.ts"],(function(t){var e,i,o,n,a,s,r,l,u,f,d,c,h,p,g,m,k,b,N,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,s=t._decorator,r=t.Vec3,l=t.CCFloat,u=t.Node,f=t.UITransform,d=t.tween,c=t.Quat,h=t.Component},function(t){p=t.ZeroAngle},function(t){g=t.Flask},function(t){m=t.FlaskLiquidsView},function(t){k=t.instantiatePrefabIntoContainer,b=t.stopParticlesInNodeChildren,N=t.startParticlesInNodeChildren},function(t){v=t.Fadable}],execute:function(){var P,F,O,T,w,A,E,C,y,I,D,_,R,z,B,S,V,x,M,U,H,L,q,G,Z,W,Q;a._RF.push({},"4e026PniT1OXZEVHdZWBQmI","FlaskView",void 0);var j=s.ccclass,X=s.property;t("FlaskView",(P=j("FlaskView"),F=X(r),O=X(r),T=X(l),w=X(l),A=X(l),E=X(l),C=X(l),y=X(u),I=X(r),D=X([l]),_=X(u),R=X(u),P((S=e((B=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];return e=t.call.apply(t,[this].concat(a))||this,o(e,"pouringOutMargin",S,n(e)),o(e,"targetPositionOffset",V,n(e)),o(e,"selectionAnimationDuration",x,n(e)),o(e,"preparationRotationAnimationDuration",M,n(e)),o(e,"pouringAnimationDuration",U,n(e)),o(e,"movingToPouringOutPositionAnimationDuration",H,n(e)),o(e,"liquidFlowAnimationDuration",L,n(e)),o(e,"selectedHighlightNode",q,n(e)),o(e,"selectionRelatedPosition",G,n(e)),o(e,"pouringAngles",Z,n(e)),o(e,"completionEffectsContainer",W,n(e)),o(e,"extendFlaskButton",Q,n(e)),e.flaskNode=void 0,e.flaskNodeTransform=void 0,e.restFieldNode=void 0,e.movementFieldNode=void 0,e.movementFieldTransform=void 0,e.flaskPlaceholderNode=void 0,e.flaskCompletionEffect=void 0,e.homePosition=void 0,e}i(e,t);var a=e.prototype;return a.init=function(t,e,i,o,n){this.flaskNode=this.node,this.movementFieldNode=i,this.movementFieldTransform=i.getComponent(f),this.restFieldNode=e,this.flaskPlaceholderNode=o,this.flaskNodeTransform=this.flaskNode.getComponent(f),this.toggleIsExtendableState(this.flaskNode.getComponent(g).extendable),this.flaskCompletionEffect=k(t.completionEffects,this.completionEffectsContainer),b(this.flaskCompletionEffect),this.initEvents()},a.select=function(t){this.flaskNode.setParent(this.movementFieldNode,!0),this.homePosition=this.flaskNode.position.clone(),d(this.flaskNode).by(this.selectionAnimationDuration,{position:this.selectionRelatedPosition},{easing:"smooth",onComplete:t}).start()},a.moveToHomePosition=function(t){var e=this,i=this.flaskNode,o=d(i);i.rotation.equals(p)||o.to(this.selectionAnimationDuration,{rotation:p},{easing:"smooth",onComplete:function(){e.flaskNode.getComponent(m).liquidSurface.restoreInitialHorizontalPosition()}});var n=this.homePosition;o.to(this.selectionAnimationDuration,{position:n},{easing:"smooth",onComplete:function(){e.flaskNode.setParent(e.flaskPlaceholderNode,!0),t&&t()}}).start()},a.getPouringInWorldPosition=function(){return this.flaskNode.getWorldPosition().add(this.pouringOutMargin.multiply(this.node.getScale()))},a.pourOutToFlask=function(t,e,i,o,n){var a=this,s=t.flaskView.getPouringInWorldPosition(),r=this.movementFieldTransform.convertToNodeSpaceAR(s).add(this.targetPositionOffset),l=this.getStartAngle(i),u=this.getEndAngle(i,o);console.log([l,u]);var f=c.fromAngleZ(new c,l),h=c.fromAngleZ(new c,u);d(this.flaskNode).to(this.movingToPouringOutPositionAnimationDuration,{position:r},{easing:"sineOut",onComplete:function(){a.flaskNode.emit(g.EventType.MOVING_TO_POUR_OUT_COMPLETED)}}).to(this.preparationRotationAnimationDuration,{rotation:f}).to(this.pouringAnimationDuration,{rotation:h},{easing:"linear",onStart:n}).start()},a.showMoveIsImpossible=function(){for(var t=this.flaskNode.position.clone(),e=new r(20,0),i=t.clone().subtract(e),o=t.clone().add(e),n=d(this.flaskNode),a=!0,s=0;s<6;s++)n.to(.05,{position:a?o:i},{easing:"smooth"}),a=!a;n.to(.05,{position:t},{easing:"smooth"}),n.start()},a.showFlaskIsCompleted=function(){N(this.flaskCompletionEffect)},a.SetSelectedHighlight=function(t){null!=this.selectedHighlightNode?this.selectedHighlightNode.active=t:console.log("Selected highlight node is not set")},a.toggleIsExtendableState=function(t){this.extendFlaskButton&&(this.extendFlaskButton.active=t)},a.getStartAngle=function(t){return-this.pouringAngles[t+1]},a.getEndAngle=function(t,e){return-this.pouringAngles[t-e+1]},a.initEvents=function(){this.extendFlaskButton&&(this.flaskNode.on(g.EventType.SELECTED_TO_POUR_IN,this.fadeOutButton,this),this.flaskNode.on(g.EventType.MOVING_TO_POUR_OUT_STARTED,this.fadeOutButton,this),this.flaskNode.on(g.EventType.POURING_IN_COMPLETED,this.fadeInButton,this),this.flaskNode.on(g.EventType.MOVING_AFTER_POURING_OUT_COMPLETED,this.fadeInButton,this))},a.fadeInButton=function(){this.extendFlaskButton.getComponent(v).fadeIn()},a.fadeOutButton=function(){this.extendFlaskButton.getComponent(v).fadeOut()},e}(h)).prototype,"pouringOutMargin",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r(0,50)}}),V=e(B.prototype,"targetPositionOffset",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r}}),x=e(B.prototype,"selectionAnimationDuration",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.3}}),M=e(B.prototype,"preparationRotationAnimationDuration",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),U=e(B.prototype,"pouringAnimationDuration",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),H=e(B.prototype,"movingToPouringOutPositionAnimationDuration",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),L=e(B.prototype,"liquidFlowAnimationDuration",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.8}}),q=e(B.prototype,"selectedHighlightNode",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(B.prototype,"selectionRelatedPosition",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new r(0,50)}}),Z=e(B.prototype,"pouringAngles",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),W=e(B.prototype,"completionEffectsContainer",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=e(B.prototype,"extendFlaskButton",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=B))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameLoopController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./WindowManager.ts","./SoundConfig.ts","./WinScreen.ts","./PlayerStats.ts","./Initializer.ts","./ILevelDataProvider.ts","./BonusLevelManager.ts","./ysdk.ts"],(function(e){var n,o,t,i,r,a,l,u,s,c,d,p,v,f,L,g,C,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.find,u=e.Component},function(e){s=e.audioManager},function(e){c=e.windowManager,d=e.WindowManager},function(e){p=e.SoundConfig},function(e){v=e.WinScreen},function(e){f=e.playerStats},function(e){L=e.levelDataProvider},function(e){g=e.LevelType},function(e){C=e.bonusLevelManager},function(e){y=e.ysdk}],execute:function(){var m,S,w,h,W;e("gameLoopController",void 0),r._RF.push({},"2be91Tchm5CRIUcMAyL8g5u","GameLoopController",void 0);var M=a.property,b=a.ccclass;e("GameLoopController",(m=b("GameLoopController"),S=M(p),m((W=n((h=function(n){function r(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=n.call.apply(n,[this].concat(r))||this,t(e,"winSound",W,i(e)),e.BonusLevelRequired=void 0,e}o(r,n),r.Init=function(){e("gameLoopController",l("Managers/GameLoopController").getComponent(r))};var a=r.prototype;return a.start=function(){},a.CompleteLevel=function(e){var n=this;void 0===e&&(e=!1),this.scheduleOnce((function(){s.playSoundConfig(n.winSound),n.updateBonusLevelStatus(),c.ShowWindow(d.WindowType.PreWinScreen),n.scheduleOnce((function(){var n=c.SwitchToWindow(d.WindowType.WinScreen).getComponent(v),o=f.Coins.Value,t=e?0:L.getLevelReward(),i=f.CurrentClassicLevel.Value;f.CurrentClassicLevel.Increment(1),f.Coins.Increment(t),f.Cups.Increment(1);try{y.getLeaderboards().then((function(e){e.setLeaderboardScore("cups",f.Cups.Value)}))}catch(e){console.log(e)}n.Init(o,t,i,e)}),2)}),1)},a.updateBonusLevelStatus=function(){L.getLevelType()===g.Bonus2&&C.makeBonusLevelCompleted(),C.setBonusLevelAccessibility()},a.StartNextLevel=function(){this.BonusLevelRequired=!1,c.ShowWindow(d.WindowType.GameMode)},r}(u)).prototype,"winSound",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=h))||w));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameMode.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseWindow.ts","./WindowManager.ts"],(function(e){var o,n,t,i,a;return{setters:[function(e){o=e.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator},function(e){i=e.BaseWindow},function(e){a=e.windowManager}],execute:function(){var c;n._RF.push({},"29e4eJBfoRG77NIWlmL7OTU","GameMode",void 0);var r=t.ccclass;e("GameMode",r("GameMode")(c=function(e){function n(){return e.apply(this,arguments)||this}return o(n,e),n.prototype.Back=function(){a.CloseAllWindows(),a.ShowDefaultWindow()},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/icu-component.ts",["cc"],(function(){var e,c;return{setters:[function(t){e=t.cclegacy,c=t._decorator}],execute:function(){e._RF.push({},"7a9702ZfUJLAYlcof0GxBG1","icu-component",void 0);c.ccclass,c.property,c.requireComponent,c.executeInEditMode;e._RF.pop()}}}));

System.register("chunks:///_virtual/icu-options.ts",["cc"],(function(){var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"dc153GItvdCNIAlIBY8vQ+M","icu-options",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/icu-type.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"e5dc4ljkiFFpI9LqK8hBCPl","icu-type",void 0);var i=e("default",function(e){return e[e.DateTime=0]="DateTime",e[e.Number=1]="Number",e[e.List=2]="List",e[e.RelativeTime=3]="RelativeTime",e}(i||{}));t._RF.pop()}}}));

System.register("chunks:///_virtual/IFlaskData.ts",["cc"],(function(){var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"8c8c5dnLN9Ml4HE8cwd6DHF","IFlaskData",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/ILevelDataProvider.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"19784yYUVZLUJJEcSKLfl0w","ILevelDataProvider",void 0);e("LevelType",function(e){return e.General="general",e.Bonus1="bonus1",e.Bonus2="bonus2",e}({}));n._RF.pop()}}}));

System.register("chunks:///_virtual/ILevelReward.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"285e06DXhVLEqkW4MULl6Ll","ILevelReward",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ILiquidLayerData.ts",["cc"],(function(){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"fdd60S9xOxA06cZIZmT71OA","ILiquidLayerData",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc","./assets.ts"],(function(t){var e;return{setters:[function(t){e=t.cclegacy},function(e){t("loadPhotoAsTexture",e.loadPhotoAsTexture)}],execute:function(){e._RF.push({},"1d662zDgxVCQbqzCkXxd6YC","index",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/index2.ts",["cc","./constants.ts","./l10n2.ts","./localization.ts","./log.ts","./schema.ts","./server.ts","./text.ts","./ipc.ts"],(function(e){var a;return{setters:[function(e){a=e.cclegacy},function(a){var t={};t.L10N_BUNDLE=a.L10N_BUNDLE,t.PACKAGE_NAME=a.PACKAGE_NAME,e(t)},null,function(a){var t={};t.LanguageCode=a.LanguageCode,t.domainToLanguageCode=a.domainToLanguageCode,t.getLanguageName=a.getLanguageName,t.getLanguageNativeName=a.getLanguageNativeName,t.isLanguageCode=a.isLanguageCode,e(t)},function(a){var t={};t.error=a.error,t.log=a.log,t.warn=a.warn,e(t)},function(a){e("generateSchema",a.generateSchema)},function(a){e("editorServerFetch",a.editorServerFetch)},function(a){var t={};t.capitalizeEachWord=a.capitalizeEachWord,t.capitalizeFirstLetter=a.capitalizeFirstLetter,e(t)},function(a){e("ipc",a.ipc)}],execute:function(){a._RF.push({},"bc0b6NxYGdJxZck6fcTp7Uv","index",void 0),a._RF.pop()}}}));

System.register("chunks:///_virtual/index3.ts",["cc","./bundle-manager.ts"],(function(e){var n;return{setters:[function(e){n=e.cclegacy},function(n){e("L10NBundleManager",n.L10NBundleManager)}],execute:function(){n._RF.push({},"e1466lxRnFCtLipaA8K/N1Q","index",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/Initializer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YsdkInitializer.ts","./PlayerProfileProvider.ts","./WindowManager.ts","./AudioManager.ts","./ResourceManager.ts","./ResourcePathProvider.ts","./PlayerStats.ts","./ResourcesPreloader.ts","./GameLoopController.ts","./DefaultLevelDataProvider.ts","./BonusLevelManager.ts","./l10n-manager.ts","./ysdk.ts"],(function(e){var t,n,a,i,r,o,l,s,c,u,d,f,v,g,h,p,P,y,D,I,R,S,b,L,M;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Node,s=e.Prefab,c=e.instantiate,u=e.Component},function(e){d=e.YsdkInitializer},function(e){f=e.PlayerProfileProvider,v=e.playerProfileProvider},function(e){g=e.WindowManager,h=e.windowManager},function(e){p=e.AudioManager},function(e){P=e.ResourceManager},function(e){y=e.ResourcePathProvider},function(e){D=e.PlayerStats},function(e){I=e.ResourcesPreloader},function(e){R=e.GameLoopController},function(e){S=e.DefaultLevelDataProvider},function(e){b=e.BonusLevelManager},function(e){L=e.default},function(e){M=e.ysdk}],execute:function(){var m,w,k,z,A,C,H;e("levelDataProvider",void 0),r._RF.push({},"1bbffQK0Q1Aq53DrMfoeX2Z","Initializer",void 0);var U=o.ccclass,B=o.property;e("Initializer",(m=U("Initializer"),w=B(l),k=B(s),m((C=t((A=function(t){function r(){for(var e,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,a(e,"globalHUDRoot",C,i(e)),a(e,"globalHUDPrefab",H,i(e)),e.playerDataReceived=void 0,e.playerStatsReceived=void 0,e}n(r,t);var o=r.prototype;return o.start=function(){this.InitYSDKIndependentStuff(),this.InitDataModel(),d.Instance.ysdkEventTarget.on(d.EventType.StatsReceived,this.PlayerStatsReceived,this),d.Instance.ysdkEventTarget.on(d.EventType.PlayerReceived,this.PlayerDataReceived,this),d.Init()},o.PlayerDataReceived=function(){this.playerDataReceived=!0,this.CheckAllDataReceived()},o.PlayerStatsReceived=function(){this.playerStatsReceived=!0,this.CheckAllDataReceived()},o.CheckAllDataReceived=function(){var e=this;this.playerDataReceived&&this.playerStatsReceived&&(console.log("*********"),this.scheduleOnce((function(){e.InitDataModelBasedServices(),e.StartGameStuff()}),.01))},o.InitYSDKIndependentStuff=function(){P.Init(),g.Init()},o.InitDataModel=function(){f.Init(),D.Init()},o.InitDataModelBasedServices=function(){this.setLanguage(),y.Init(),I.Init(),R.Init(),b.Init(),e("levelDataProvider",this.getComponent(S)),p.Init()},o.StartGameStuff=function(){c(this.globalHUDPrefab).setParent(this.globalHUDRoot),h.ShowDefaultWindow()},o.setLanguage=function(){var e=function(e){L.currentLanguage!=e&&L.changeLanguage(L.checkLanguage(e)?e:"en")};if(null==v.Settings.Language){var t=new URL(window.location.href).searchParams.get("lang");null==t?null==M.environment||null==M.environment.i18n.lang?e("en"):e(M.environment.i18n.lang):e(t)}else e(v.Settings.Language)},r}(u)).prototype,"globalHUDRoot",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),H=t(A.prototype,"globalHUDPrefab",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=A))||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/InputCatcher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ysdk.ts","./ServiceLocator.ts"],(function(e){var t,n,i,s,o,r,a,d,p,c,u,h,v,l,f,y,P,g,C,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized,o=e.createClass},function(e){r=e.cclegacy,a=e._decorator,d=e.Node,p=e.Vec2,c=e.Canvas,u=e.UITransform,h=e.EventTarget,v=e.KeyCode,l=e.Button,f=e.math,y=e.input,P=e.Input,g=e.Component},function(e){C=e.ysdk},function(e){k=e.provide}],execute:function(){var m,w,b,T,I,R,E,A,W,_,K;e("inputCatcher",void 0),r._RF.push({},"82ce9x+u9JJU7hR5ukDow+n","InputCatcher",void 0);var B,O=a.ccclass,D=a.property,S=e("InputCatcherEventType",function(e){return e.BackPressed="backPressed",e.OKPressed="okPressed",e}({}));e("InputCatcher",(m=O("InputCatcher"),w=D({type:d}),b=D({type:p}),T=D({type:[c]}),I=D({type:u}),m((A=t((E=function(t){function r(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e=t.call.apply(t,[this].concat(o))||this,i(e,"pointer",A,s(e)),i(e,"pointerMovementSpeed",W,s(e)),i(e,"canvases",_,s(e)),i(e,"pointerCanvas",K,s(e)),e.eventTarget=new h,e.upPressed=void 0,e.downPressed=void 0,e.leftPressed=void 0,e.rightPressed=void 0,e.enterPressed=void 0,e}n(r,t);var a=r.prototype;return a.start=function(){this.PointerActive=r.IsTv,r.IsTv&&this.Init()},a.onKeyUp=function(e){e.keyCode==v.ARROW_UP&&(this.upPressed=!1),e.keyCode==v.ARROW_DOWN&&(this.downPressed=!1),e.keyCode==v.ARROW_LEFT&&(this.leftPressed=!1),e.keyCode==v.ARROW_RIGHT&&(this.rightPressed=!1)},a.onKeyDown=function(e){e.keyCode==v.ARROW_UP&&(this.upPressed=!0),e.keyCode==v.ARROW_DOWN&&(this.downPressed=!0),e.keyCode==v.ARROW_LEFT&&(this.leftPressed=!0),e.keyCode==v.ARROW_RIGHT&&(this.rightPressed=!0),e.keyCode==v.BACKSPACE&&this.onBackButtonPressed()},a.onGamePadAction=function(e){this.upPressed=e.gamepad.dpad.up.getValue(),this.downPressed=e.gamepad.dpad.down.getValue(),this.leftPressed=e.gamepad.dpad.left.getValue(),this.rightPressed=e.gamepad.dpad.right.getValue()},a.onBackButtonPressed=function(){this.eventTarget.emit(S.BackPressed)},a.onKeyUpWeb=function(e){"Enter"==e.key&&(this.enterPressed=!1)},a.onKeyDownWeb=function(e){"Enter"==e.key&&(this.enterPressed||(this.enterPressed=!0,this.PerformClick()))},a.PerformClick=function(){if(this.pointer.active)for(var e=0;e<this.canvases.length;e++){for(var t=this.canvases[e].getComponentsInChildren(l).reverse(),n=!1,i=0;i<t.length;i++){var s=t[i];if(s.getComponent(u).getBoundingBoxToWorld().contains(new p(this.pointer.worldPosition.x,this.pointer.worldPosition.y))&&s.node.active){s.interactable&&s.clickEvents.forEach((function(e){e.emit([e.customEventData])})),n=!0;break}}if(n)break}else this.eventTarget.emit(S.OKPressed)},a.update=function(e){var t=0;this.upPressed?t=this.pointerMovementSpeed.y:this.downPressed&&(t=-this.pointerMovementSpeed.y);var n=0;this.leftPressed?n=-this.pointerMovementSpeed.x:this.rightPressed&&(n=this.pointerMovementSpeed.x),this.pointer.setPosition(f.clamp(this.pointer.position.x+n*e,-this.pointerCanvas.width/2,this.pointerCanvas.width/2-30),f.clamp(this.pointer.position.y+t*e,-this.pointerCanvas.height/2+30,this.pointerCanvas.height/2))},a.Init=function(){var t=this;window.addEventListener("keydown",(function(e){return t.onKeyDownWeb(e)}),!0),window.addEventListener("keyup",(function(e){return t.onKeyUpWeb(e)}),!0);try{C.onEvent(C.EVENTS.HISTORY_BACK,(function(){t.onBackButtonPressed()}))}catch(e){console.log("failed to subscribe exit key pressed event")}y.on(P.EventType.GAMEPAD_INPUT,this.onGamePadAction,this),y.on(P.EventType.KEY_DOWN,this.onKeyDown,this),y.on(P.EventType.KEY_UP,this.onKeyUp,this),B=e("inputCatcher",this),k("InputCatcher",B)},o(r,[{key:"PointerActive",get:function(){return this.pointer.active},set:function(e){this.pointer.active=e&&r.IsTv}}],[{key:"IsTv",get:function(){return null!=C.deviceInfo&&C.deviceInfo.isTV()}}]),r}(g)).prototype,"pointer",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=t(E.prototype,"pointerMovementSpeed",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p(10,10)}}),_=t(E.prototype,"canvases",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=t(E.prototype,"pointerCanvas",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=E))||R));r._RF.pop()}}}));

System.register("chunks:///_virtual/Intl.PluralRules.ts",["cc","./polyfill.mjs_cjs=&original=.js"],(function(){var l;return{setters:[function(n){l=n.cclegacy},null],execute:function(){l._RF.push({},"c9594RdIOFIPIqnCMoH103U","Intl.PluralRules",void 0),l._RF.pop()}}}));

System.register("chunks:///_virtual/Inventory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractPlayerData.ts"],(function(t){var e,n,r;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.AbstractPlayerData}],execute:function(){n._RF.push({},"989e4UmNyxNI5ux7QF9WjZM","Inventory",void 0);t("Inventory",function(t){function n(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).itemsPurchased=["labFlask","labSubstance","labBackground"],e}e(n,t);var r=n.prototype;return r.addPurchasedItem=function(t){this.itemsPurchased.push(t)},r.setPlayerData=function(t,e){null!=t&&void 0!==e.Profile&&void 0!==e.Profile.Inventory&&(this.itemsPurchased=e.Profile.Inventory.itemsPurchased)},r.hasItem=function(t){return-1!=this.itemsPurchased.indexOf(t)},r.getPlayerData=function(){return{itemsPurchased:this.itemsPurchased}},n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/ipc.ts",["cc","./constants.ts"],(function(e){var t,s;return{setters:[function(e){t=e.cclegacy},function(e){s=e.PACKAGE_NAME}],execute:function(){t._RF.push({},"33cdfu2iRRITJu5YK/KTssE","ipc",void 0);e("ipc",{main:{request:function(e){return Editor.Message.request(s,e)},on:function(e,t){Editor.Message.addBroadcastListener(e,t)},off:function(e,t){Editor.Message.removeBroadcastListener(e,t)},broadcast:function(e){for(var t,s=arguments.length,n=new Array(s>1?s-1:0),r=1;r<s;r++)n[r-1]=arguments[r];(t=Editor.Message).broadcast.apply(t,[e].concat(n))}},scene:{request:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Editor.Message.request("scene","execute-scene-script",{name:s,method:e,args:n})},softReload:function(){Editor.Message.send("scene","soft-reload")}}});t._RF.pop()}}}));

System.register("chunks:///_virtual/JSONLevelDataProvider.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelDataProvider.ts","./FlaskData.ts","./LiquidLayerData.ts"],(function(e){var t,a,r,n,i,o,l,s,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,l=e.JsonAsset},function(e){s=e.LevelDataProvider},function(e){c=e.default},function(e){u=e.LiquidLayerData}],execute:function(){var v,p,L,d,f;i._RF.push({},"ace9bnQzzJF/byLPIKePoX0","JSONLevelDataProvider",void 0);var D=o.ccclass,y=o.property;e("JSONLevelDataProvider",(v=D("JSONLevelDataProvider"),p=y(l),v((f=t((d=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"rawLevelData",f,n(t)),t}return a(t,e),t.prototype.getLevelFlasksData=function(){return this.rawLevelData.json.map((function(e){return new c({size:e.size,layers:e.layers.map((function(e){return new u(e.color)})),extendable:e.extendable||!1})}))},t}(s)).prototype,"rawLevelData",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=d))||L));i._RF.pop()}}}));

System.register("chunks:///_virtual/l10n-component.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env"],(function(t){var e,n,o,r,i,l,a,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.createClass},function(t){r=t.cclegacy,i=t._decorator,l=t.Label,a=t.Component},function(t){s=t.EDITOR}],execute:function(){var c,p,u,d,h,f,g;r._RF.push({},"64a56e3cKhJIYlOsrVQprpv","l10n-component",void 0);var v=i.ccclass,b=i.property,y=i.disallowMultiple,m=i.requireComponent,L=i.menu;t("default",(c=v("L10nComponent"),p=m(l),u=y(),d=L("hidden:LocalizationEditor/L10nComponent"),h=b({readonly:!0}),c(f=p(f=u(f=d((e((g=function(t){function e(){var e;return(e=t.call(this)||this).label=void 0,e}n(e,t);var r=e.prototype;return r.onLoad=function(){this.label=this.node.getComponent(l)},r.start=function(){this.render()},r.render=function(){},r.preview=function(t){if(this.label&&s){var e=this.label.string;this.label._string=t,this.label.updateRenderData(!0),cce.Engine.repaintInEditMode(),this.label._string=e}},o(e,[{key:"string",get:function(){var t;return(null==(t=this.label)?void 0:t.string)||""}}]),e}(a)).prototype,"string",[h],Object.getOwnPropertyDescriptor(g.prototype,"string"),g.prototype),f=g))||f)||f)||f)||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/l10n-component2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ysdk.ts"],(function(e){var t,s,r,o,n,c,i,p,a,E;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.createClass},function(e){c=e.cclegacy,i=e._decorator,p=e.Enum,a=e.Component},function(e){E=e.l10n}],execute:function(){var l,u,P,A;c._RF.push({},"d95e47vDGRGCaVe/kRPhiG+","l10n-component",void 0);i.ccclass;var _=i.property,C=function(e){return e[e.NONE=0]="NONE",e[e.CAPITALIZE_FIRST_LETTER=1]="CAPITALIZE_FIRST_LETTER",e[e.CAPITALIZE_EACH_WORD=2]="CAPITALIZE_EACH_WORD",e[e.UPPERCASE=3]="UPPERCASE",e[e.LOWERCASE=4]="LOWERCASE",e}(C||{});e("L10nComponent",(l=_({visible:!1}),u=_({visible:!0,type:p(C)}),A=t((P=function(e){function t(){for(var t,s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return t=e.call.apply(e,[this].concat(n))||this,r(t,"_postProcess",A,o(t)),t}return s(t,e),t.prototype.translateKey=function(e){var t={};switch(this._postProcess){case C.CAPITALIZE_EACH_WORD:t.postProcess="capitalize";break;case C.CAPITALIZE_FIRST_LETTER:t.postProcess="capitalize_first";break;case C.UPPERCASE:t.postProcess="uppercase";break;case C.LOWERCASE:t.postProcess="lowercase"}return E.t(e,t)},n(t,[{key:"postProcess",get:function(){return this._postProcess},set:function(e){this._postProcess=e,this.render()}}]),t}(a)).prototype,"_postProcess",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.CAPITALIZE_EACH_WORD}}),t(P.prototype,"postProcess",[u],Object.getOwnPropertyDescriptor(P.prototype,"postProcess"),P.prototype),P));c._RF.pop()}}}));

System.register("chunks:///_virtual/l10n-label.ts",["./rollupPluginModLoBabelHelpers.js","cc","./l10n-manager.ts","./l10n-component.ts"],(function(t){var e,n,o,i,r,a,c,l,u,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.createClass},function(t){a=t.cclegacy,c=t._decorator,l=t.CCInteger},function(t){u=t.default},function(t){p=t.default}],execute:function(){var s,y,f,b,d,h,g,v,_,k,L,z,m;a._RF.push({},"30d83qzRfZHLYMFn4KA9PG4","l10n-label",void 0);var w=c.ccclass,D=c.property,P=c.executeInEditMode,C=c.menu;t("default",(s=w("L10nLabel"),y=P(!0),f=C("LocalizationEditor/L10nLabel"),b=D({type:Boolean}),d=D({visible:!1}),h=D({visible:!0}),g=D({visible:!1}),v=D({type:l,visible:!0}),s(_=y(_=f((L=e((k=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"capitalize",L,i(e)),o(e,"_key",z,i(e)),o(e,"_count",m,i(e)),e}n(e,t);var a=e.prototype;return a.onLoad=function(){"function"==typeof t.prototype.onLoad&&t.prototype.onLoad.call(this)},a.render=function(){var t=u.t(this._key,{count:this._count});void 0!==this.label&&void 0!==t&&(this.label.string=this.capitalize?t.toUpperCase():t)},r(e,[{key:"key",get:function(){return this._key},set:function(t){this._key=t,this.render()}},{key:"count",get:function(){return this._count},set:function(t){this._count=t,this.render()}}]),e}(p)).prototype,"capitalize",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),z=e(k.prototype,"_key",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e(k.prototype,"key",[h],Object.getOwnPropertyDescriptor(k.prototype,"key"),k.prototype),m=e(k.prototype,"_count",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(k.prototype,"count",[v],Object.getOwnPropertyDescriptor(k.prototype,"count"),k.prototype),_=k))||_)||_)||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/l10n-label2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./l10n-component2.ts"],(function(e){var t,n,i,r,o,l,a,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){l=e.cclegacy,a=e._decorator,s=e.Label},function(e){c=e.L10nComponent}],execute:function(){var p,u,h,b,y,d,f,v,g;l._RF.push({},"afb67eQMKVCZYlTST8Ivjev","l10n-label",void 0);var _=a.ccclass,k=a.property,L=a.executeInEditMode,m=a.requireComponent,D=a.menu;e("default",(p=_("L10nLabel"),u=L(!0),h=m(s),b=D("YandexGamesSDK/L10nLabel"),y=k({visible:!1}),d=k({visible:!0}),p(f=u(f=h(f=b((g=t((v=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))||this).label=void 0,i(t,"_key",g,r(t)),t}n(t,e);var l=t.prototype;return l.start=function(){this.render()},l.onLoad=function(){this.label=this.node.getComponent(s)},l.preview=function(e){if(this.label){var t=this.label.string;this.label._string=e,this.label.updateRenderData(!0),cce.Engine.repaintInEditMode(),this.label._string=t}},l.render=function(){var e=this.translateKey(this._key);void 0!==this.label&&void 0!==e&&(this.label.string=e)},o(t,[{key:"key",get:function(){return this._key},set:function(e){this._key=e,this.label&&(this.label.string=this._key),this.render()}}]),t}(c)).prototype,"_key",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(v.prototype,"key",[d],Object.getOwnPropertyDescriptor(v.prototype,"key"),v.prototype),f=v))||f)||f)||f)||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/l10n-listen-event.ts",["cc"],(function(e){var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"34153BqzJ9LR4lhJDevpA4f","l10n-listen-event",void 0);var t=e("default",function(e){return e.languageChanged="languageChanged",e.onMissingKey="missingKey",e}(t||{}));n._RF.pop()}}}));

System.register("chunks:///_virtual/l10n-manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./i18next2.js","./resource-data-manager.ts","./localization-global.ts"],(function(e){var t,n,r,a,i,l,s,u,o,c;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,r=e.regeneratorRuntime,a=e.extends},function(e){i=e.cclegacy,l=e.assetManager},function(e){s=e.createInstance},function(e){u=e.default},function(e){o=e.mainName,c=e.pluginName}],execute:function(){var g;i._RF.push({},"2856a7GSV9Fbb53nOimJ33J","l10n-manager",void 0);var h=e("L10nManager",function(){function e(){this._intl=void 0,this._options={},this.resourceList=void 0,this.resourceBundle={},this.resourceDataManager=void 0,this.resourceDataManager=new u}var i=e.prototype;return i.isInitialized=function(){var e,t;return null!=(e=null==(t=this._intl)?void 0:t.isInitialized)&&e},i.createIntl=function(){var t=n(r().mark((function t(n){var i,l,u,o,c,g,h,d,v,_;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.reloadResourceData();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:return this._options=n,this._intl=s(),c=void 0,c=localStorage.getItem(null!=(g=f._options.localStorageLanguageKey)?g:e.LOCAL_STORAGE_LANGUAGE_KEY),c=this.checkLanguage(c),h=null!=(i=null!=(l=c)?l:n.language)?i:this.resourceList.defaultLanguage,d=null!=(u=n.fallbackLanguage)?u:this.resourceList.fallbackLanguage,v=null!=(o=n.resources)?o:this.resourceBundle,_={lng:h,fallbackLng:d,resources:a({},v),ns:e.ALLOW_NAMESPACE,defaultNS:e.DEFAULT_NAMESPACE,initImmediate:!1,load:"currentOnly"},t.next=15,this._intl.init(_);case 15:this.setAssetOverrideMap(v[h][e.ASSET_NAMESPACE]);case 16:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.checkLanguage=function(e){if(e&&0!==e.length&&"null"!==e&&null!==e&&"undefined"!==e&&void 0!==e)return this.resourceList&&this.resourceList.languages.length>0&&this.resourceList.languages.find((function(t){return t===e}))?e:void 0},i.cloneIntl=function(e){if(!this._intl)throw new Error("i18next not init, please use 'l10n.createIntl'");this._intl=this._intl.cloneInstance(e)},i.reloadResourceData=function(){var e=n(r().mark((function e(){var t,n,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.resourceDataManager.readResourceList();case 2:if(this.resourceList=e.sent,this.resourceList){e.next=6;break}return console.log("["+c+"] not found translate language list, skip init l10n"),e.abrupt("return",!1);case 6:return e.next=8,this.resourceDataManager.readResourceBundle(null!=(t=null==(n=this.resourceList)?void 0:n.languages)?t:[]);case 8:if(this.resourceBundle=e.sent,null!=(a=this.resourceList)&&a.defaultLanguage){e.next=12;break}return console.log("["+c+"] not found translate language data, skip init l10n"),e.abrupt("return",!1);case 12:return e.abrupt("return",!0);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),i.config=function(e){this.cloneIntl(e)},i.changeLanguage=function(){var t=n(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=3;break}return console.warn("["+c+"] invalid language tag"),t.abrupt("return");case 3:if(console.log("["+c+"] will change language to",n),!this._intl){t.next=12;break}return this.currentLanguage&&this.releaseOverrideMap(this.resourceBundle[this.currentLanguage][e.ASSET_NAMESPACE]),t.next=8,this._intl.changeLanguage(n);case 8:this.setAssetOverrideMap(this.resourceBundle[n][e.ASSET_NAMESPACE]),localStorage.setItem(e.LOCAL_STORAGE_LANGUAGE_KEY,n),console.log("["+c+"] game will restart"),t.next=13;break;case 12:console.log("["+c+"] language data not load, please confirm whether the language data is included in the build");case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.t=function(e,t){var n,r;return null!=(n=null==(r=this._intl)?void 0:r.isInitialized)&&n?this._intl.t(e,t):e},i.tn=function(e,t){var n,r,a;if(null==(n=null==(r=this._intl)?void 0:r.isInitialized)||!n)return e.toString();var i={};Object.assign(i,t);for(var l=0,s=Object.keys(i);l<s.length;l++){var u=s[l];("string"==typeof i[u]&&0===i[u].length||"number"==typeof i[u]&&0===i[u])&&delete i[u]}return new Intl.NumberFormat(null==(a=this._intl)?void 0:a.language,i).format(e)},i.td=function(e,t){var n,r,a;if(null==(n=null==(r=this._intl)?void 0:r.isInitialized)||!n)return e.toString();var i={};Object.assign(i,t);for(var l=0,s=Object.keys(i);l<s.length;l++){var u=s[l];"string"==typeof i[u]&&0===i[u].length&&delete i[u]}return new Intl.DateTimeFormat(null==(a=this._intl)?void 0:a.language,i).format(e)},i.tt=function(e,t,n){var r,a,i;if(null==(r=null==(a=this._intl)?void 0:a.isInitialized)||!r)return e.toString();var l={};Object.assign(l,n);for(var s=0,u=Object.keys(l);s<u.length;s++){var o=u[s];"string"==typeof l[o]&&0===l[o].length&&delete l[o]}return new Intl.RelativeTimeFormat(null==(i=this._intl)?void 0:i.language,l).format(e,t)},i.tl=function(e){var t,n,r;return null!=(t=null==(n=this._intl)?void 0:n.isInitialized)&&t?new Intl.ListFormat(null==(r=this._intl)?void 0:r.language).format(e):e.toString()},i.exists=function(e){var t,n;return null!=(t=null==(n=this._intl)?void 0:n.exists(e))&&t},i.direction=function(e){return(e?new Intl.Locale(e):new Intl.Locale(this._intl.language)).textInfo().direction},i.on=function(e,t){var n;null==(n=this._intl)||n.on(e,t)},i.off=function(e,t){var n;null==(n=this._intl)||n.off(e,t)},i.getResourceBundle=function(e,t){var n;return null==(n=this._intl)?void 0:n.getResourceBundle(e,t)},i.setAssetOverrideMap=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];l.assetsOverrideMap.set(r,e[r])}},i.releaseOverrideMap=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];l.assetsOverrideMap.delete(r)}},t(e,[{key:"currentLanguage",get:function(){var e,t;return null!=(e=null==(t=this._intl)?void 0:t.language)?e:""}},{key:"languages",get:function(){var e,t;return null!=(e=null==(t=this.resourceList)?void 0:t.languages)?e:[]}}]),e}());g=h,h.LOCAL_STORAGE_LANGUAGE_KEY=o+"/language",h.DEFAULT_NAMESPACE="translation",h.ASSET_NAMESPACE="asset",h.ALLOW_NAMESPACE=[g.DEFAULT_NAMESPACE,g.ASSET_NAMESPACE],h.l10n=new g;var f=e("default",h.l10n);i._RF.pop()}}}));

System.register("chunks:///_virtual/l10n-options.ts",["cc"],(function(){var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"b4618IbsRtLLbRp2dQrE3EI","l10n-options",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/l10n-richtext.ts",["./rollupPluginModLoBabelHelpers.js","cc","./l10n-component2.ts"],(function(t){var e,i,r,n,o,c,s,h,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){c=t.cclegacy,s=t._decorator,h=t.RichText},function(t){a=t.L10nComponent}],execute:function(){var u,p,l,y,d,x,f,T,v;c._RF.push({},"d889170h91DMqHUZuQZMCmm","l10n-richtext",void 0);var g=s.ccclass,_=s.property,k=s.executeInEditMode,m=s.requireComponent,b=s.menu;t("default",(u=g("L10nRichText"),p=k(!0),l=m(h),y=b("YandexGamesSDK/L10nRichText"),d=_({visible:!1}),x=_({visible:!0}),u(f=p(f=l(f=y((v=e((T=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),c=0;c<i;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))||this).richText=void 0,r(e,"_key",v,n(e)),e}i(e,t);var c=e.prototype;return c.start=function(){this.render()},c.onLoad=function(){this.richText=this.node.getComponent(h)},c.preview=function(t){if(this.richText){var e=this.richText.string;this.richText._string=t,this.richText._updateRichText(),cce.Engine.repaintInEditMode(),this.richText._string=e}},c.render=function(){var t=this.translateKey(this._key);void 0!==this.richText&&void 0!==t&&(this.richText.string=t)},o(e,[{key:"key",get:function(){return this._key},set:function(t){this._key=t,this.richText&&(this.richText.string=this._key),this.render()}}]),e}(a)).prototype,"_key",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),e(T.prototype,"key",[x],Object.getOwnPropertyDescriptor(T.prototype,"key"),T.prototype),f=T))||f)||f)||f)||f));c._RF.pop()}}}));

System.register("chunks:///_virtual/l10n.ts",["cc","./l10n-manager.ts","./l10n-listen-event.ts","./l10n-label.ts"],(function(n){var t;return{setters:[function(n){t=n.cclegacy},function(t){var e={};e.L10nManager=t.L10nManager,e.l10n=t.default,n(e)},function(t){n("L10nListenEvent",t.default)},function(t){n("L10nLabel",t.default)}],execute:function(){t._RF.push({},"07b54nOFPVJZJ/ENmuVbfjY","l10n",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/l10n2.ts",["cc"],(function(){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"3d4e04rSOhJ+p7GWgiTZuZ6","l10n",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/l10n3.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index2.ts","./bundle-manager.ts","./i18next.js","./text.ts"],(function(n){var t,e,r,a,i,u,s;return{setters:[function(n){t=n.asyncToGenerator,e=n.regeneratorRuntime},function(n){r=n.cclegacy},null,function(n){a=n.L10NBundleManager},function(n){i=n.createInstance},function(n){u=n.capitalizeEachWord,s=n.capitalizeFirstLetter}],execute:function(){var c;r._RF.push({},"e02c8/sI8JH6JuHzvjBbDSH","l10n",void 0);var l="translations",o=n("L10NManager",function(){function n(){this._i18next=void 0,this.l10nBundle=void 0,this.currentLanguage=void 0}var r=n.prototype;return r.init=function(){var n=t(e().mark((function n(){var t,r;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(new a).load();case 2:return this.l10nBundle=n.sent,this.currentLanguage=this.l10nBundle.defaultLanguage,t=this.l10nBundle.translations,Object.entries(t).forEach((function(n){var e=n[0],r=n[1],a=new Object;a.translations=r,t[e]=a})),this._i18next=i(),r={lng:this.currentLanguage,resources:t,defaultNS:l,fallbackLng:this.l10nBundle.defaultLanguage},n.next=10,this._i18next.init(r);case 10:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),r.reload=function(){var n=t(e().mark((function n(){var t,r,a;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:n.next=11;break;case 3:return this.l10nBundle=n.sent,t=i(),r=this.l10nBundle.translations,Object.entries(r).forEach((function(n){var t=n[0],e=n[1],a=new Object;a.translations=e,r[t]=a})),a={lng:this.currentLanguage,resources:this.l10nBundle.translations,defaultNS:l,fallbackLng:this.l10nBundle.defaultLanguage},n.next=10,t.init(a);case 10:this._i18next=t;case 11:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}(),r.changeLanguage=function(){var n=t(e().mark((function n(t){var r;return e().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.currentLanguage=t,null==(r=this._i18next)||r.changeLanguage(t);case 2:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}(),r.getLanguage=function(){var n;return null==(n=this._i18next)?void 0:n.language},r.isInitialized=function(){var n,t;return null!=(n=null==(t=this._i18next)?void 0:t.isInitialized)&&n},r.t=function(n,t){if(!this._i18next)return n;var e=this._i18next.t(n);if(!t)return e;switch(t.postProcess){case"capitalize_first":return s(e);case"capitalize":return u(e);case"uppercase":return e.toUpperCase();case"lowercase":return e.toLowerCase();default:return e}},n}());c=o,o.instance=new c,r._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,a,n,r,i,l,o,u,g,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,o=e.Sprite,u=e.Label,g=e.Button,c=e.Component}],execute:function(){var p,s,f,m,b,h,d,y,v;i._RF.push({},"16a2d8rOqBD3aMgmif6Gt48","LanguageItem",void 0);var L=l.ccclass,I=l.property;e("LanguageItem",(p=L("LanguageItem"),s=I(o),f=I(u),m=I(g),p((d=t((h=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),l=0;l<a;l++)i[l]=arguments[l];return t=e.call.apply(e,[this].concat(i))||this,n(t,"flag",d,r(t)),n(t,"languageName",y,r(t)),n(t,"button",v,r(t)),t}return a(t,e),t.prototype.Init=function(e,t){this.flag.spriteFrame=e.flag,this.languageName.string=e.languageName.toUpperCase();var a=new g.EventHandler;a.target=t.node,a.component="LanguageSelector",a.handler="HandleLanguageSelectionButton",a.customEventData=e.code,this.button.clickEvents.push(a)},t}(c)).prototype,"flag",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(h.prototype,"languageName",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(h.prototype,"button",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=h))||b));i._RF.pop()}}}));

System.register("chunks:///_virtual/LanguageSelector.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LanguageItem.ts","./InputCatcher.ts","./ExitButtonListener.ts","./l10n-manager.ts","./WindowManager.ts","./PlayerProfileProvider.ts"],(function(e){var t,n,i,a,r,l,o,u,s,g,c,f,p,h,b,d,L,m,y,v,w,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.initializerDefineProperty,i=e.inheritsLoose,a=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,o=e.CCString,u=e.SpriteFrame,s=e.Prefab,g=e.Node,c=e.Sprite,f=e.Label,p=e.log,h=e.instantiate,b=e.Component},function(e){d=e.LanguageItem},function(e){L=e.inputCatcher,m=e.InputCatcherEventType},function(e){y=e.ExitButtonListener},function(e){v=e.default},function(e){w=e.windowManager},function(e){C=e.playerProfileProvider}],execute:function(){var S,B,P,I,z,D,O,x,k,H,E,N,F,T,_,M,R,W,A,Z,j,K,U,q,G,J,Q,V;r._RF.push({},"5d31boZwORK1ZbHoPgfpHfx","LanguageSelector",void 0);var X=l.ccclass,Y=l.property,$=e("LanguageData",(S=X("LanguageData"),B=Y(o),P=Y(o),I=Y(u),S((O=t((D=function(){n(this,"languageName",O,this),n(this,"code",x,this),n(this,"flag",k,this)}).prototype,"languageName",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(D.prototype,"code",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=t(D.prototype,"flag",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=D))||z));e("LanguageSelector",(H=X("LanguageSelector"),E=Y(s),N=Y([$]),F=Y(g),T=Y(g),_=Y(c),M=Y(f),R=Y(g),W=Y(y),H((j=t((Z=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"languageItemPrefab",j,a(t)),n(t,"languagesData",K,a(t)),n(t,"list",U,a(t)),n(t,"placeholder",q,a(t)),n(t,"flag",G,a(t)),n(t,"languageName",J,a(t)),n(t,"clickHandler",Q,a(t)),n(t,"exitButtonListener",V,a(t)),t.languagesButtons=[],t.listOpened=!1,t}i(t,e);var r=t.prototype;return r.start=function(){p(v.currentLanguage.toString()),this.SelectLanguage(v.currentLanguage.toString()),this.CloseList(),void 0!==L&&L.eventTarget.on(m.BackPressed,this.CloseIfOpened,this)},r.onDestroy=function(){void 0!==L&&L.eventTarget.off(m.BackPressed,this.CloseIfOpened,this)},r.OpenList=function(){this.list.active=!0,this.listOpened=!0,this.clickHandler.active=!0,this.exitButtonListener.IgnoreExitButton=!0},r.CloseList=function(){this.list.active=!1,this.listOpened=!1,this.clickHandler.active=!1,this.exitButtonListener.IgnoreExitButton=!1},r.CloseIfOpened=function(){this.listOpened&&this.CloseList()},r.HandleClick=function(){this.listOpened?this.CloseList():this.OpenList()},r.HandleLanguageSelectionButton=function(e,t){this.SelectLanguage(t)},r.SelectLanguage=function(e){var t=this;this.languagesButtons.forEach((function(e){e.destroy()})),this.languagesButtons=[],this.languagesData.filter((function(t){return t.code!=e})).forEach((function(e){var n=h(t.languageItemPrefab);n.parent=t.placeholder,n.getComponent(d).Init(e,t),t.languagesButtons.push(n)}));var n=this.languagesData.find((function(t){return t.code===e}));n&&(this.flag.spriteFrame=n.flag,this.languageName.string=n.languageName.toUpperCase(),this.CloseList()),v.currentLanguage!=e&&(v.changeLanguage(v.checkLanguage(e)?e:"en"),C.Settings.Language=e,C.SaveProfile(),w.CloseAllWindows(),w.ShowDefaultWindow())},t}(b)).prototype,"languageItemPrefab",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=t(Z.prototype,"languagesData",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),U=t(Z.prototype,"list",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(Z.prototype,"placeholder",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=t(Z.prototype,"flag",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),J=t(Z.prototype,"languageName",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(Z.prototype,"clickHandler",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=t(Z.prototype,"exitButtonListener",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=Z))||A));r._RF.pop()}}}));

System.register("chunks:///_virtual/LayerViewController.ts",["cc","./Utils.ts","./FlaskLiquidsView.ts","./LiquidLayer.ts","./SizeSetter.ts"],(function(i){var e,t,o,n,r,s,l,a;return{setters:[function(i){e=i.cclegacy,t=i.instantiate,o=i.Sprite,n=i.UITransform},function(i){r=i.TweenPool},function(i){s=i.FlaskLiquidViewType},function(i){l=i.LiquidLayer},function(i){a=i.SizeSetter}],execute:function(){e._RF.push({},"c0fa3NMxEVB1qQsTvcEkQFV","LayerViewController",void 0);i("LayerViewController",function(){function i(i,e,t,o){void 0===o&&(o=6e3),this.layerHeight=void 0,this.layerWidth=void 0,this.flaskLiquidsView=void 0,this.layersTotalHeight=void 0,this.liquidLayersContainerNode=void 0,this.bubbleMask=void 0,this.pourInTweenPool=new r,this.pourOutTweenPool=new r,this.liquidLayersContainerUITransform=void 0,this.liquidPrefab=void 0,this.liquidsContainerUITransform=void 0,this.liquidViewType=s.ShowAllLayers,this.flaskLiquidsView=i,this.liquidLayersContainerNode=i.liquidLayersInsideContainerNode,this.liquidLayersContainerUITransform=this.liquidLayersContainerNode.getComponent(n),this.bubbleMask=i.bubbleMask,this.liquidPrefab=e,this.layerHeight=t,this.layerWidth=o,this.liquidsContainerUITransform=this.liquidLayersContainerNode.getComponent(n)}var e=i.prototype;return e.actualizeBubbleMask=function(){},e.onPouringInComplete=function(i){this.pourInTweenPool.onAllComplete(i)},e.onPouringOutComplete=function(i){this.pourOutTweenPool.onAllComplete(i)},e.getLayerColor=function(i){return i.getComponent(l).color},e.setLiquidViewType=function(i){this.liquidViewType=i},e.buildLayer=function(i,e,o,n){void 0===n&&(n=null);var r=t(this.liquidPrefab),s=r.getComponent(a);return r.getComponent(l).setLiquidVisibility(o),n&&(r.name=n),s.height=e,s.width=this.layerWidth,this.setColor(r,i.color),r},e.changeLayersTotalHeight=function(i){return this.layersTotalHeight+=i},e.setColor=function(i,e){this.getLayerComponent(i).color=e},e.getLayerComponent=function(i){var e=i.getComponent(l);return e||(e=i.getComponent(o)),e},i}());e._RF.pop()}}}));

System.register("chunks:///_virtual/LayerViewControllerBuilder.ts",["cc","./SingleLayerPerColorLayerViewController.ts","./MultipleLayersPerColorLayerViewController.ts"],(function(e){var r,o,l;return{setters:[function(e){r=e.cclegacy},function(e){o=e.default},function(e){l=e.default}],execute:function(){r._RF.push({},"a63df6XsRVOBJHer5mI5wx8","LayerViewControllerBuilder",void 0);var n=e("LiquidLayerViewControllerType",function(e){return e[e.SingleLayerPerColorLayerViewController=0]="SingleLayerPerColorLayerViewController",e[e.MultipleLayersPerColorLayerViewController=1]="MultipleLayersPerColorLayerViewController",e}({}));e("LayerViewControllerBuilder",function(){function e(){}return e.make=function(e,r,t,i,a){switch(void 0===a&&(a=6e3),e){case n.SingleLayerPerColorLayerViewController:return new o(r,t,i,a);case n.MultipleLayersPerColorLayerViewController:return new l(r,t,i,a)}},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/LayoutController.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,i,o,a,c,l,r,s,u,h,p,g,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.extends,c=t.createClass},function(t){l=t.cclegacy,r=t._decorator,s=t.Vec2,u=t.CCFloat,h=t.Vec3,p=t.UITransform,g=t.Layout,d=t.Size,m=t.Component}],execute:function(){var f,y,w,S,v,C,L;l._RF.push({},"d4c8aLsl1tJdKXnk2EZHO8X","LayoutController",void 0);var z=r.ccclass,D=r.property;t("LayoutController",(f=z("LayoutController"),y=D(s),w=D(u),f((C=e((v=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return e=t.call.apply(t,[this].concat(a))||this,i(e,"minSpacing",C,o(e)),i(e,"minScale",L,o(e)),e._calculatedScale=new h(1,1,1),e}n(e,t);var l=e.prototype;return l.repositionFlasks=function(t,e){var n=this,i=e[0].node;console.info("ORIGINAL NODE SIZE");var o=i.getComponent(p).contentSize;console.log(o),console.info(i.name);var a=t.getComponent(g),c=e.length,l=this.minScale,r=t.getComponent(p).contentSize.clone();r.height-=a.paddingTop+a.paddingBottom;var s=this.calculateOptimalLayout(c,o,l,r);this._calculatedScale=new h(s.scale,s.scale,s.scale),console.info("BEST LAYOUT:"),console.log(s),a.type=g.Type.GRID,a.constraint=g.Constraint.FIXED_ROW,a.constraintNum=s.rows,a.cellSize=new d(r.width/s.columns,r.height/s.rows),a.enabled=!0,e.forEach((function(t){t.node.setScale(n._calculatedScale.clone())}))},l.calculateOptimalLayout=function(t,e,n,i){var o=this.minSpacing,c=this.calculateMultiRowOptions(t,e,n,i,o).reduce((function(t,e){return t&&t.totalArea>e.totalArea?t:e}));return a({},c,{spacing:o})},l.calculateMultiRowOptions=function(t,e,n,i,o){for(var a=[],c=e.height*n+o.y,l=1;l<=i.height/c;l++){var r=Math.ceil(t/l),s=i.width-(r-1)*o.x,u=i.height-(l-1)*o.y,h=new d(Math.min(s/r,e.width+o.x),Math.min(u/l,e.height+o.y)),p=Math.min(1,h.height/(e.height+o.y),h.width/(e.width+o.x)),g=p*h.height*h.width*t;if(!(this.calculateDimension(p,e.width,r,o.x)>i.width))this.calculateDimension(p,e.height,l,o.y)>i.height||a.push({rows:l,columns:r,totalArea:g,size:h,scale:p})}return a},l.calculateDimension=function(t,e,n,i){return e*t*n+(n-1)*i},c(e,[{key:"calculatedScale",get:function(){return this._calculatedScale.clone()}}]),e}(m)).prototype,"minSpacing",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),L=e(v.prototype,"minScale",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.4}}),S=v))||S));l._RF.pop()}}}));

System.register("chunks:///_virtual/LeaderBoard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseWindow.ts","./ysdk.ts","./LeaderBoardRecord.ts","./YsdkInitializer.ts"],(function(e){var r,t,n,i,a,o,u,l,c,d,s,p,f,b,y;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,u=e.Prefab,l=e.Node,c=e.CCInteger,d=e.CCString,s=e.instantiate},function(e){p=e.BaseWindow},function(e){f=e.ysdk},function(e){b=e.LeaderBoardRecord},function(e){y=e.YsdkInitializer}],execute:function(){var g,m,h,L,q,z,I,w,B,N,k,v,P,T,A;a._RF.push({},"c0dfapkjStILa5KOk3ZEddL","LeaderBoard",void 0);var C=o.ccclass,D=o.property;e("LeaderBoard",(g=C("LeaderBoard"),m=D(u),h=D(l),L=D(c),q=D(c),z=D(c),I=D(d),g((N=r((B=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),o=0;o<t;o++)a[o]=arguments[o];return r=e.call.apply(e,[this].concat(a))||this,n(r,"recordPrefab",N,i(r)),n(r,"placeholder",k,i(r)),n(r,"recordsNumber",v,i(r)),n(r,"quntityTop",P,i(r)),n(r,"quantityAround",T,i(r)),n(r,"leaderboardName",A,i(r)),r}return t(r,e),r.prototype.start=function(){var e=this;f.getLeaderboards().then((function(r){("lite"==y.Instance.player.getMode()?function(){return r.getLeaderboardEntries("cups",{quantityTop:e.recordsNumber,includeUser:!1})}:function(){return r.getLeaderboardEntries(e.leaderboardName,{quantityTop:e.quntityTop,quantityAround:e.quantityAround,includeUser:!0})})().then((function(r){console.log(JSON.stringify(r)),r.entries.forEach((function(r){var t=s(e.recordPrefab);t.setParent(e.placeholder),t.getComponent(b).Init(r.rank,r.player.publicName,r.score,r.player.uniqueID==y.Instance.player.getUniqueID())}))}))}))},r}(p)).prototype,"recordPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=r(B.prototype,"placeholder",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(B.prototype,"recordsNumber",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),P=r(B.prototype,"quntityTop",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),T=r(B.prototype,"quantityAround",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),A=r(B.prototype,"leaderboardName",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=B))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/LeaderBoardRecord.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,i,l,o,a,n,s,p,c,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,l=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,n=e.Label,s=e.Sprite,p=e.SpriteFrame,c=e.Color,u=e.Component}],execute:function(){var b,y,h,g,L,m,d,f,P,S,w,z,C,B,R,v,F;o._RF.push({},"bb5d1KW5YpLY7lZC4RjIq/2","LeaderBoardRecord",void 0);var _=a.ccclass,D=a.property;e("LeaderBoardRecord",(b=_("LeaderBoardRecord"),y=D({type:n}),h=D({type:n}),g=D({type:n}),L=D({type:s}),m=D({type:p}),d=D({type:s}),f=D({type:c}),b((w=r((S=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,i(r,"numberLabel",w,l(r)),i(r,"nameLabel",z,l(r)),i(r,"scoreLabel",C,l(r)),i(r,"bgSprite",B,l(r)),i(r,"thisPlayerBg",R,l(r)),i(r,"cupsSprite",v,l(r)),i(r,"thisPlayerColor",F,l(r)),r}return t(r,e),r.prototype.Init=function(e,r,t,i){this.numberLabel.string=e.toString(),this.nameLabel.string=r,this.scoreLabel.string=t.toString(),i&&(this.cupsSprite.color=this.thisPlayerColor,this.numberLabel.color=this.thisPlayerColor,this.nameLabel.color=this.thisPlayerColor,this.scoreLabel.color=this.thisPlayerColor,this.bgSprite.spriteFrame=this.thisPlayerBg)},r}(u)).prototype,"numberLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=r(S.prototype,"nameLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=r(S.prototype,"scoreLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),B=r(S.prototype,"bgSprite",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),R=r(S.prototype,"thisPlayerBg",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=r(S.prototype,"cupsSprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=r(S.prototype,"thisPlayerColor",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(255,255,255,255)}}),P=S))||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/LevelController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Flask.ts","./FlaskData.ts","./WindowManager.ts","./InputCatcher.ts","./SubstanceConfig.ts","./ResourcesPreloader.ts","./LevelStateController.ts","./RevertButton.ts","./AdShower.ts","./YesNoDialog.ts","./GameLoopController.ts","./Initializer.ts","./LayoutController.ts","./ILevelDataProvider.ts","./FlaskLiquidsView.ts"],(function(e){var t,i,l,n,s,o,a,r,h,d,u,c,f,g,k,v,p,F,C,y,S,T,m,L,H,w,E,P,M,b,I,O,_,B,D,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,l=e.initializerDefineProperty,n=e.assertThisInitialized,s=e.createClass},function(e){o=e.cclegacy,a=e._decorator,r=e.Node,h=e.CCFloat,d=e.director,u=e.log,c=e.instantiate,f=e.Layout,g=e.Tween,k=e.find,v=e.UITransform,p=e.Component},function(e){F=e.Flask},function(e){C=e.default},function(e){y=e.windowManager,S=e.WindowManager},function(e){T=e.inputCatcher,m=e.InputCatcherEventType,L=e.InputCatcher},function(e){H=e.SubstanceConfig},function(e){w=e.resourcesPreloader},function(e){E=e.LevelStateController},function(e){P=e.RevertButton},function(e){M=e.adShower,b=e.AdShower},function(e){I=e.YesNoDialog},function(e){O=e.gameLoopController},function(e){_=e.levelDataProvider},function(e){B=e.LayoutController},function(e){D=e.LevelType},function(e){R=e.FlaskLiquidViewType}],execute:function(){var A,V,N,U,z,Q,G,x,W,j,Y,q,Z,J;e("levelController",void 0),o._RF.push({},"41327ojO2FJwZaCYRjgQslC","LevelController",void 0);var K=a.ccclass,X=a.property,$=function(e){return e.LevelCompleted="Level.Completed",e.LevelLoaded="Level.Loaded",e.FlaskSelected="Flask.Selected",e.PouredOutToFlask="Flask.PouredOutToFlask",e}($||{}),ee=new Map([[D.General,R.ShowAllLayers],[D.Bonus1,R.HideAllLayersExceptTop],[D.Bonus2,R.HideAllLayers]]);e("LevelController",(A=K("LevelController"),V=X(r),N=X(r),U=X(B),z=X(h),Q=X(P),A(((J=function(t){function o(){for(var e,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return e=t.call.apply(t,[this].concat(s))||this,l(e,"flaskPositioningField",W,n(e)),l(e,"flaskMovementField",j,n(e)),l(e,"layoutController",Y,n(e)),l(e,"tvFlaskHighlightThreshold",q,n(e)),l(e,"revertButton",Z,n(e)),e.selectedFlask=void 0,e._flasks=[],e.colorQuantity={},e._handlingTvInput=!1,e.timeFromLastFlaskHighlight=0,e.flaskHighlighted=void 0,e.placeholderWidth=void 0,e.levelStateController=new E(e.flasks),e}i(o,t);var a=o.prototype;return a.start=function(){var t=this;M.TryShowFullScreenAd(),e("levelController",this),this.revertButton.init(),w.triggerWhenBasicResourcesReady(this.startLevel.bind(this)),this.revertButton.node.on(P.EventType.CounterDecreased,(function(){t.undoMove(),t.revertButton.setCanRevert(t.levelStateController.canUndoMove())})),this.revertButton.node.on(P.EventType.CounterEnded,(function(){y.ShowWindow(S.WindowType.YesNoDialog).getComponent(I).Init("ui_lbl_rewarder_forward_window",(function(){d.once(b.EventType.RewardVideoRewarded,(function(){t.revertButton.resetCounter(),t.revertButton.setCanRevert(t.levelStateController.canUndoMove())})),M.ShowRewardedVideo()}))})),this.flaskPositioningField.on(r.EventType.SIZE_CHANGED,(function(){t.layoutController.repositionFlasks(t.flaskPositioningField,t.flasks),t.applyMarginToAllFlasks()}))},a.hasMovingFlasks=function(){return void 0===this.flasks.find((function(e){return e.isMoving()}))},a.onDestroy=function(){void 0!==T&&(T.eventTarget.off(m.BackPressed,this.SwitchInput,this),T.eventTarget.off(m.OKPressed,this.HandleTvOkButton,this))},a.update=function(e){void 0!==T&&this.HandleTvInput(e)},a.getSpareFlaskData=function(){return C.GetSpareFlask()},a.startLevel=function(){var e=_.getLevelData();_.allowAdditionalFlasks()&&e.push(this.getSpareFlaskData()),this.generateScene(e,!0),this.levelStateController.addCurrentState(),this.revertButton.resetCounter(),this.revertButton.setCanRevert(this.levelStateController.canUndoMove()),void 0!==T&&(this.HandlingTvInput=!0,T.eventTarget.on(m.BackPressed,this.SwitchInput,this),T.eventTarget.on(m.OKPressed,this.HandleTvOkButton,this))},a.HandleTvOkButton=function(){u("ok button pressed"),this.selectFlask(this.flaskHighlighted)},a.getLayersQuantityForColor=function(e){return this.colorQuantity[e]||0},a.getSubstanceConfig=function(){return c(w.SubstancePrefab).getComponent(H)},a.selectFlask=function(e){if(!this.isLevelCompleted()&&!e.Locked&&!e.isMoving()){if(this.selectedFlask!==e)return this.selectedFlask&&e.isReadyToPourInFrom(this.selectedFlask)?(this.selectedFlask.pourOutToFlask(e),this.node.emit($.PouredOutToFlask,e),void(this.selectedFlask=null)):void(e.canBeSelected()&&(this.selectedFlask&&this.selectedFlask.unselect(),e.select(),this.selectedFlask=e,this.node.emit($.FlaskSelected,e)));this.unselectFlask()}},a.unselectFlask=function(){null!==this.selectedFlask&&(this.selectedFlask.unselect(),this.selectedFlask=null)},a.setLevelColorsQuantity=function(e){var t=this;this.colorQuantity={},e.forEach((function(e){e.layers.forEach((function(e){var i=e.color;t.colorQuantity[i]?t.colorQuantity[i]++:t.colorQuantity[i]=1}))}))},a.isLevelCompleted=function(){for(var e in this.flasks){var t=this.flasks[e];if(!t.isEmpty()&&!t.isCompleted())return!1}return!0},a.endLevel=function(){this.flasks.forEach((function(e){e.isEmpty()||e.flaskView.showFlaskIsCompleted()})),O.CompleteLevel()},a.HandleTvInput=function(e){if(this.timeFromLastFlaskHighlight+=e,!(this.timeFromLastFlaskHighlight<this.tvFlaskHighlightThreshold)&&this.HandlingTvInput){if(T.leftPressed){this.timeFromLastFlaskHighlight=0;var t=this.flasks.indexOf(this.flaskHighlighted),i=0==t?this.flasks.length-1:t-1;this.flaskHighlighted.flaskView.SetSelectedHighlight(!1),this.flaskHighlighted=this.flasks[i],this.flaskHighlighted.flaskView.SetSelectedHighlight(!0)}if(T.rightPressed){this.timeFromLastFlaskHighlight=0;var l=this.flasks.indexOf(this.flaskHighlighted),n=l==this.flasks.length-1?0:l+1;this.flaskHighlighted.flaskView.SetSelectedHighlight(!1),this.flaskHighlighted=this.flasks[n],this.flaskHighlighted.flaskView.SetSelectedHighlight(!0)}if(T.downPressed){this.timeFromLastFlaskHighlight=0;var s=this.flaskPositioningField.getComponent(f).constraintNum,o=Math.ceil(this.flasks.length/s),a=o*s,r=(this.flasks.indexOf(this.flaskHighlighted)+a+o)%a;this.flaskHighlighted.flaskView.SetSelectedHighlight(!1),this.flaskHighlighted=this.flasks[r],this.flaskHighlighted.flaskView.SetSelectedHighlight(!0)}if(T.upPressed){this.timeFromLastFlaskHighlight=0;var h=this.flaskPositioningField.getComponent(f).constraintNum,d=Math.ceil(this.flasks.length/h),u=d*h,c=(this.flasks.indexOf(this.flaskHighlighted)+u-d)%u;this.flaskHighlighted.flaskView.SetSelectedHighlight(!1),this.flaskHighlighted=this.flasks[c],this.flaskHighlighted.flaskView.SetSelectedHighlight(!0)}}},a.SwitchInput=function(){this.HandlingTvInput=!this.HandlingTvInput},a.cleanUpScene=function(){this.selectedFlask=null,this.flasks.splice(0,this.flasks.length),g.stopAll(),this.flaskPositioningField.removeAllChildren(),this.flaskMovementField.removeAllChildren()},a.generateScene=function(e,t){var i=this;void 0===t&&(t=!1),this.cleanUpScene();var l=(k("WindowCanvas")||this.flaskPositioningField).getComponent(v).contentSize;this.setLevelColorsQuantity(e),this.placeholderWidth=l.width/e.length-100/e.length,e.forEach((function(e,t){i.addFlask(e).flaskView.SetSelectedHighlight(null!=T&&0===t)})),t?this.layoutController.repositionFlasks(this.flaskPositioningField,this.flasks):this.flasks.forEach((function(e){return e.node.setScale(i.layoutController.calculatedScale)})),this.applyMarginToAllFlasks(),this.flaskHighlighted=this.flasks[0],this.node.once($.LevelCompleted,(function(){i.endLevel()})),this.node.emit($.LevelLoaded)},a.addFlask=function(e){var t=this,i=c(w.FlaskPrefab),l=this.flasks.length+1;i.name="Flask "+l;var n=new r;n.name="FlaskPlaceholder "+l,n.addComponent(v),n.addChild(i);var s=i.getComponent(F);this.flasks.push(s),this.flaskPositioningField.addChild(n);var o=this.getSubstanceConfig();return s.init(e,o,ee.get(_.getLevelType()),this.flaskPositioningField,this.flaskMovementField,n,l),s.playerEventTarget.on(r.EventType.TOUCH_END,(function(e){e.propagationStopped=!0,t.selectFlask(s)})),i.on(F.EventType.MOVING_TO_POUR_OUT_STARTED,(function(){t.revertButton.setCanRevert(!1)})),i.on(F.EventType.MOVING_AFTER_POURING_OUT_COMPLETED,(function(){t.revertButton.setCanRevert(t.hasMovingFlasks()&&t.levelStateController.canUndoMove())})),i.on(F.EventType.POURING_OUT_COMPLETED,(function(){t.levelStateController.addCurrentState()})),i.on(F.EventType.COMPLETED,(function(){t.isLevelCompleted()&&(t.node.emit($.LevelCompleted),t.flasks.forEach((function(e){e.playerEventTarget.off(r.EventType.TOUCH_END)})))})),i.on(F.EventType.SIZE_CHANGED,(function(){t.applyMarginToFlask(s)})),s},a.applyMarginToFlask=function(e){e.node.setPosition(e.getFlaskMargin())},a.changeState=function(e){var t=this;Object.keys(e).forEach((function(i){t.flasks[i].changeContents(e[i])}))},a.addEmptyFlask=function(){this.addFlask(this.getSpareFlaskData()).node.setScale(this.layoutController.calculatedScale),this.layoutController.repositionFlasks(this.flaskPositioningField,this.flasks),this.applyMarginToAllFlasks()},a.applyMarginToAllFlasks=function(){var e=this;this.flasks.forEach((function(t){return e.applyMarginToFlask(t)}))},a.reloadLevel=function(){this.revertButton.resetCounter(),this.revertButton.disable(),this.levelStateController.resetState(),this.generateScene(this.levelStateController.getCurrentState())},a.undoMove=function(){this.changeState(this.levelStateController.undoLastMove())},a.dumpLevel=function(){console.log(JSON.stringify(this.flasks.map((function(e){return{size:e.size,layers:e.flaskLiquids.getLayers(),extendable:e.extendable}}))))},s(o,[{key:"flasks",get:function(){return this._flasks}},{key:"HandlingTvInput",get:function(){return this._handlingTvInput&&L.IsTv},set:function(e){T.PointerActive=!e,this._handlingTvInput=e}}]),o}(p)).EventType=$,W=t((x=J).prototype,"flaskPositioningField",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=t(x.prototype,"flaskMovementField",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=t(x.prototype,"layoutController",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(x.prototype,"tvFlaskHighlightThreshold",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),Z=t(x.prototype,"revertButton",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=x))||G));o._RF.pop()}}}));

System.register("chunks:///_virtual/LevelDataProvider.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ILevelDataProvider.ts"],(function(e){var t,n,r,o,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e.math,o=e.Component},function(e){a=e.LevelType}],execute:function(){n._RF.push({},"c571fBSuRFHyqePop5tdDAg","LevelDataProvider",void 0);e("LevelDataProvider",function(e){function n(){return e.apply(this,arguments)||this}t(n,e),n.toJson=function(e){var t=e.map((function(e){return{size:e.size,layers:e.layers.map((function(e){return{color:e.color}})),extendable:e.extendable}}));return JSON.stringify(t)};var o=n.prototype;return o.getLevelFlasksData=function(){throw new Error("Method not implemented")},o.getLevelData=function(){return this.getLevelFlasksData()},o.getLevelReward=function(){return 42+r.randomRangeInt(0,10)},o.getLevelType=function(){return a.General},o.allowAdditionalFlasks=function(){return!0},n}(o));n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelGenerator.ts",["cc","./FlaskData.ts","./LiquidLayerData.ts"],(function(a){var e,t,r,n;return{setters:[function(a){e=a.cclegacy,t=a.log},function(a){r=a.default},function(a){n=a.LiquidLayerData}],execute:function(){e._RF.push({},"6caffOH7dRAWo2uFQveJBKP","LevelGenerator",void 0);a("LevelGenerator",function(){function a(){this.additionalFlasksNum=2,this.layersInFlask=4}var e=a.prototype;return e.getLevel=function(a){for(var e=this,s=[],o=[],u=1;u<=a;u++)for(var i=0;i<this.layersInFlask;i++)o.push(u);o=this.shuffle(o);for(var l=function(){var a=[];o.slice(f*e.layersInFlask,(f+1)*e.layersInFlask).forEach((function(e){a.push(new n(e))}));var t=new r(e.layersInFlask,a,!1);s.push(t)},f=0;f<a;f++)l();for(var c=0;c<this.additionalFlasksNum;c++)s.push(new r(this.layersInFlask,[],!1));return t(s),s},e.shuffle=function(a){for(var e=a.length-1;e>0;e--){var t=Math.floor(Math.random()*(e+1)),r=[a[t],a[e]];a[e]=r[0],a[t]=r[1]}return a},a}());e._RF.pop()}}}));

System.register("chunks:///_virtual/LevelNumber.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerStats.ts","./l10n.ts","./GameLoopController.ts","./l10n-manager.ts"],(function(e){var t,r,l,n,i,o,a,u,s,c,p,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,l=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,a=e.Label,u=e.CCString,s=e.Component},function(e){c=e.playerStats},null,function(e){p=e.gameLoopController},function(e){b=e.default}],execute:function(){var f,v,y,m,L,g,h;i._RF.push({},"5dc8cttUctL1o1PPmFrX6N0","LevelNumber",void 0);var C=o.ccclass,d=o.property;e("LevelNumber",(f=C("LevelNumber"),v=d(a),y=d(u),f((g=t((L=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,l(t,"label",g,n(t)),l(t,"levelKey",h,n(t)),t}return r(t,e),t.prototype.start=function(){p.BonusLevelRequired?this.label.string=b.t("ui_lbl_bonus_level").toUpperCase():this.label.string=b.t(this.levelKey).toUpperCase()+" "+(c.CurrentClassicLevel.Value+1)},t}(s)).prototype,"label",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=t(L.prototype,"levelKey",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),m=L))||m));i._RF.pop()}}}));

System.register("chunks:///_virtual/LevelSkipControl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameLoopController.ts","./WindowManager.ts","./YesNoDialog.ts","./AdShower.ts","./PlayerStats.ts","./InputCatcher.ts"],(function(e){var t,o,n,i,r,a,l,s,c,u,p,d,f,w,h,v,y,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,l=e.CCFloat,s=e.Node,c=e.director,u=e.Component},function(e){p=e.gameLoopController},function(e){d=e.windowManager,f=e.WindowManager},function(e){w=e.YesNoDialog},function(e){h=e.AdShower,v=e.adShower},function(e){y=e.playerStats},function(e){C=e.InputCatcher}],execute:function(){var g,k,L,S,b,D,m;r._RF.push({},"be4d5LUGgpBrL0TCwOeEz75","LevelSkipControl",void 0);var _=a.ccclass,B=a.property;e("LevelSkipControl",(g=_("LevelSkipControl"),k=B(l),L=B(s),g((D=t((b=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"skipDelay",D,i(t)),n(t,"skipButton",m,i(t)),t}o(t,e);var r=t.prototype;return r.start=function(){var e=this;this.skipButton.active=!1,0==y.CurrentClassicLevel.Value||C.IsTv||this.scheduleOnce((function(){e.skipButton.active=!0}),this.skipDelay)},r.skipLevel=function(){d.ShowWindow(f.WindowType.YesNoDialog).getComponent(w).Init("ui_lbl_rewarder_window",(function(){c.once(h.EventType.RewardVideoRewarded,(function(){p.CompleteLevel(!0)})),v.ShowRewardedVideo()}))},t}(u)).prototype,"skipDelay",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),m=t(b.prototype,"skipButton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=b))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/LevelStateController.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"aac51pwLhFKPpl85b8BoYPs","LevelStateController",void 0);var s=t("FlaskDiff",function(){function t(t,e,s){void 0===t&&(t=[]),void 0===e&&(e=0),void 0===s&&(s={}),this.add=[],this.remove=0,this.replace={},Array.isArray(t)?this.add=t:(this.add=t.add||[],e=t.remove||0,s=t.replace||{}),this.remove=Math.max(0,e),this.replace=s}var e=t.prototype;return e.isNotEmpty=function(){return this.hasSomethingToAdd()||this.hasSomethingToRemove()||this.hasSomethingToReplace()},e.hasSomethingToReplace=function(){return Object.keys(this.replace).length>0},e.hasSomethingToAdd=function(){return this.add.length>0},e.hasSomethingToRemove=function(){return this.remove>0},t}());t("LevelStateController",function(){function t(t){void 0===t&&(t=[]),this.stateHistory=[],this.flasks=[],this.flasks=t}var e=t.prototype;return e.addState=function(t){this.stateHistory.push(t)},e.addCurrentState=function(){this.addState(this.flasks.map((function(t){return t.getData()})))},e.undoLastMove=function(){if(!this.canUndoMove())return{};var t=this.stateHistory.pop(),e=this.getCurrentState();return this.diffStates(t,e)},e.resetState=function(){if(!(this.stateHistory.length<=1)){this.stateHistory[0],this.stateHistory.pop();this.stateHistory.splice(1)}},e.canUndoMove=function(){return this.stateHistory.length>1},e.getCurrentState=function(){if(0===this.stateHistory.length)return[];var t=this.stateHistory[this.stateHistory.length-1];return this.flaskSizesDifferFromState(t)?this.applyFlasksState(t):t},e.setFlasks=function(t){this.flasks=t},e.flaskSizesDifferFromState=function(t){return t.length!==this.flasks.length||t.slice(-1)[0].size!==this.flasks.slice(-1)[0].size},e.applyFlasksState=function(t){return this.flasks.map((function(e,s){var a,n=e.getData();return n.layers=(null==(a=t[s])?void 0:a.layers)||[],n}))},e.diffStates=function(t,e){var a={};return t.forEach((function(t,n){for(var r,i=e[n]||t.clone(),o=new s({remove:Math.max(0,t.layers.length-(null==i||null==(r=i.layers)?void 0:r.length))}),l=Math.min(t.layers.length,i.layers.length),h=0;h<l;h++)t.layers[h].equals(i.layers[h])||(o.replace[h]=i.layers[h].clone());if(t.layers.length<i.layers.length){var u=i.layers.length-t.layers.length;o.add=i.layers.slice(-u).map((function(t){return t.clone()}))}o.isNotEmpty()&&(a[n]=o)})),a},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/LiquidFlowView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FlaskLiquidsView.ts","./FlaskView.ts","./SpriteColorSetter.ts","./SizeSetter.ts","./ResourcesPreloader.ts"],(function(e){var t,o,i,n,r,s,a,l,c,u,p,d,f,g,h,m,w,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.Prefab,l=e.tween,c=e.Vec3,u=e.Sprite,p=e.instantiate,d=e.UITransform,f=e.Component},function(e){g=e.FlaskLiquidsView},function(e){h=e.FlaskView},function(e){m=e.SpriteColorSetter},function(e){w=e.SizeSetter},function(e){C=e.resourcesPreloader}],execute:function(){var F,v,P,S,y;r._RF.push({},"2185dnvAetGXq6uPem8z1NA","LiquidFlowView",void 0);var q=s.ccclass,b=s.property;e("LiquidFlowView",(F=q("LiquidFlowView"),v=b(a),F((y=t((S=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"liquidFlowPrefab",y,n(t)),t}o(t,e);var r=t.prototype;return r.pourIn=function(e,t,o,i){var n=this.initNode(e);this.setPositionFromWorldPosition(n,o.worldPosition),this.setSizeFromTargetFlask(n,i),this.node.insertChild(n,0),n.active=!0,this.animate(n,t)},r.animate=function(e,t){var o=.1*t;l(e).to(o,{scale:new c(1,1)},{easing:"smooth"}).delay(t-2*o).to(o,{scale:new c(0,1)},{easing:"smooth",onComplete:function(){e.active=!1,e.destroy()}}).start()},r.setColor=function(e,t){(e.getComponent(m)||e.getComponent(u)).color=C.SubstanceConfig.getColor(t)},r.initNode=function(e){var t=p(this.liquidFlowPrefab);return t.getComponent(d).setAnchorPoint(.5,1),this.setColor(t,e),t.scale=new c(0,1),t.active=!1,t},r.setPositionFromWorldPosition=function(e,t){var o=this.node.getComponent(d).convertToNodeSpaceAR(t);o.x-=e.getComponent(d).width/2,e.setPosition(o)},r.setSizeFromTargetFlask=function(e,t){var o=e.getComponent(w)||e.getComponent(d),i=t.getComponent(g).getLiquidsHeight();o.height=t.getComponent(d).height-i+t.getComponent(h).pouringOutMargin.y-10},t}(f)).prototype,"liquidFlowPrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=S))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/LiquidLayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourcesPreloader.ts"],(function(i){var t,e,o,r,n,a,s,c,l,u,p,h,d,v;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,o=i.initializerDefineProperty,r=i.assertThisInitialized,n=i.createClass},function(i){a=i.cclegacy,s=i._decorator,c=i.Sprite,l=i.Node,u=i.CCFloat,p=i.UIOpacity,h=i.tween,d=i.Component},function(i){v=i.resourcesPreloader}],execute:function(){var f,y,b,m,g,q,L,C,D;a._RF.push({},"9fb9bueA1tEMqJYxvLgmc3c","LiquidLayer",void 0);var _=s.ccclass,w=s.property;i("LiquidLayer",(f=_("LiquidLayer"),y=w(c),b=w(l),m=w(u),f((L=t((q=function(i){function t(){for(var t,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return t=i.call.apply(i,[this].concat(n))||this,o(t,"liquid",L,r(t)),o(t,"secret",C,r(t)),o(t,"animationDuration",D,r(t)),t._color=void 0,t.visible=!0,t}e(t,i);var a=t.prototype;return a.hideLiquid=function(){var i=this;if(this.visible){this.visible=!1;var t=this.secret.getComponent(p);t.opacity=0,this.secret.active=!0,h(t).to(this.animationDuration,{opacity:255},{onComplete:function(){i.liquid.node.active=!1}}).start()}},a.showLiquid=function(){var i=this;if(!this.visible){this.visible=!0;var t=this.secret.getComponent(p);t.opacity=255,this.liquid.node.active=!0,h(t).to(this.animationDuration,{opacity:0},{onComplete:function(){i.secret.active=!1}}).start()}},a.setLiquidVisibility=function(i){this.visible=i,this.secret.active=!i,this.liquid.node.active=i,this.secret.getComponent(p).opacity=i?0:255},n(t,[{key:"color",get:function(){return this._color},set:function(i){this._color=i,this.liquid.color=v.SubstanceConfig.getColor(i)}}]),t}(d)).prototype,"liquid",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(q.prototype,"secret",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=t(q.prototype,"animationDuration",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),g=q))||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/LiquidLayerData.ts",["cc"],(function(t){var o;return{setters:[function(t){o=t.cclegacy}],execute:function(){o._RF.push({},"1494aSWUQtGeZdFOn6LTTd3","LiquidLayerData",void 0);t("LiquidLayerData",function(){function t(t){this.color=void 0,this.color=t}var o=t.prototype;return o.equals=function(t){return this.color==t.color},o.clone=function(){return new t(this.color)},o.toJSON=function(){return{color:this.color}},o.toString=function(){return JSON.stringify(this)},t}());o._RF.pop()}}}));

System.register("chunks:///_virtual/LiquidSurface.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Utils.ts","./Constants2.ts","./FlaskColliderProvider.ts","./ResourcesPreloader.ts"],(function(i){var t,e,o,r,s,n,l,a,c,h,d,u,p,f,y,g,v,b,x,C,m,w;return{setters:[function(i){t=i.applyDecoratedDescriptor,e=i.inheritsLoose,o=i.initializerDefineProperty,r=i.assertThisInitialized},function(i){s=i.cclegacy,n=i._decorator,l=i.PolygonCollider2D,a=i.Graphics,c=i.CCBoolean,h=i.ERaycast2DType,d=i.Vec3,u=i.UITransform,p=i.Sprite,f=i.Vec2,y=i.Color,g=i.clamp,v=i.PhysicsSystem2D,b=i.Component},function(i){x=i.vec2to3},function(i){C=i.ZeroAngle},function(i){m=i.FlaskColliderProvider},function(i){w=i.resourcesPreloader}],execute:function(){var P,R,k,N,T,S,A,M,z,E,L;s._RF.push({},"cf1feLtHbdAbbN6f0teXfMB","LiquidSurface",void 0);var D=n.ccclass,q=n.property,F=n.type;i("LiquidSurface",(P=D("LiquidSurface"),R=F(l),k=F(a),N=q(c),T=q(m),P((M=t((A=function(i){function t(){for(var t,e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return t=i.call.apply(i,[this].concat(s))||this,o(t,"collider",M,r(t)),o(t,"ctx",z,r(t)),o(t,"debugRaycasts",E,r(t)),o(t,"colliderProvider",L,r(t)),t.counter=0,t.colliderNode=void 0,t.hwratio=void 0,t.width=void 0,t.height=void 0,t.mask=16777215,t.raycastType=h.Closest,t.raycastMargin=500,t.initialPosition=void 0,t.flaskScale=new d(1,1),t}e(t,i);var s=t.prototype;return s.init=function(){this.collider=this.colliderProvider.getCollider(),this.colliderNode=this.collider.node;var i=this.node.getComponent(u),t=i.width,e=i.height;return this.width=t,this.height=e,this.hwratio=t/e,this.ctx&&(this.ctx.node.active=this.debugRaycasts,this.ctx.node.setWorldPosition(d.ZERO)),this},s.setColor=function(i){this.getComponent(p).color=w.SubstanceConfig.getColor(i)},s.repositionSurface=function(i,t){void 0===t&&(t=[]),this.debugRaycasts&&(this.ctx.node.setWorldPosition(d.ZERO),this.ctx.node.setWorldRotation(C),this.ctx.clear());var e=this.colliderNode.getComponent(u);this.enableCollider();var o=new f(this.colliderNode.worldPosition.x+e.width/2,i.y),r=o.clone().subtract2f(this.raycastMargin,0),s=o.clone().add2f(this.raycastMargin,0),n=[],l=this.raycast(r,s,this.mask,this.raycastType,y.CYAN),a={mask:this.mask,group:this.collider.group,withCollider:(this.mask&this.collider.group)>0,left:null,right:null,type:this.raycastType,ok:!1};if(l.length&&(n.push(l[0].point),a.left=l[0].collider.node.parent.name),(l=this.raycast(s,r,this.mask,this.raycastType)).length&&(n.push(l[0].point),a.right=l[0].collider.node.parent.name),n.length>=2){var c=this.node.getComponent(u),h=Math.abs(n[1].x-n[0].x);o.x=Math.min(n[0].x,n[1].x)+h/2,c.width=h/this.flaskScale.x,this.node.setWorldPosition(x(o)),c.height=g(c.width*this.hwratio,0,this.height),this.initialPosition||(this.initialPosition=this.node.position.clone())}a.ok=a.left===this.colliderNode.parent.name||a.right===this.colliderNode.parent.name,t.push(a),this.disableCollider()},s.restoreInitialHorizontalPosition=function(){this.initialPosition&&this.node.setPosition(this.initialPosition.x,this.node.position.y)},s.disableCollider=function(){this.collider.enabled=!1,this.colliderNode.active=!1},s.enableCollider=function(){this.colliderNode.active=!0,this.collider.enabled=!0},s.clearCtx=function(){this.ctx.clear()},s.hide=function(){this.node.active=!1},s.show=function(){this.node.active||(this.node.active=!0)},s.raycast=function(i,t,e,o,r){void 0===o&&(o=h.Closest),void 0===r&&(r=y.MAGENTA);try{var s=v.instance.raycast(i,t,o,e);return this.drawRay(i,t,r),this.drawResults(s,r),s}catch(i){return[]}},s.drawRay=function(i,t,e){void 0===e&&(e=y.MAGENTA),this.debugRaycasts&&(this.ctx.strokeColor=e,this.ctx.moveTo(i.x,i.y),this.ctx.lineTo(t.x,t.y),this.ctx.stroke())},s.drawResults=function(i,t){var e=this;void 0===t&&(t=y.MAGENTA),this.debugRaycasts&&(this.ctx.fillColor=t,i.forEach((function(i){e.ctx.circle(i.point.x,i.point.y,5)})),this.ctx.fill())},t}(b)).prototype,"collider",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(A.prototype,"ctx",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(A.prototype,"debugRaycasts",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),L=t(A.prototype,"colliderProvider",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=A))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/localization-global.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"02d9etKgNBGqLPpvU7RX29o","localization-global",void 0);e("pluginName","Localization Editor"),e("mainName","localization-editor"),e("runtimeBundleName","l10n"),e("resourceListPath","resource-list"),e("resourceBundlePath","resource-bundle");t._RF.pop()}}}));

System.register("chunks:///_virtual/localization.ts",["cc"],(function(a){var e;return{setters:[function(a){e=a.cclegacy}],execute:function(){e._RF.push({},"a09acqb7B1KJ73GfuOzq7EA","localization",void 0);a("LanguageCode",{AF:"af",AM:"am",AR:"ar",AZ:"az",BE:"be",BG:"bg",BN:"bn",CA:"ca",CS:"cs",DA:"da",DE:"de",EL:"el",EN:"en",ES:"es",ET:"et",EU:"eu",FA:"fa",FI:"fi",FR:"fr",GL:"gl",HE:"he",HI:"hi",HR:"hr",HU:"hu",HY:"hy",ID:"id",IS:"is",IT:"it",JA:"ja",KA:"ka",KK:"kk",KM:"km",KN:"kn",KO:"ko",KY:"ky",LO:"lo",LT:"lt",LV:"lv",MK:"mk",ML:"ml",MN:"mn",MR:"mr",MS:"ms",MY:"my",NE:"ne",NL:"nl",NO:"no",PL:"pl",PT:"pt",RO:"ro",RU:"ru",SI:"si",SK:"sk",SL:"sl",SR:"sr",SV:"sv",SW:"sw",TA:"ta",TE:"te",TG:"tg",TH:"th",TK:"tk",TL:"tl",TR:"tr",UK:"uk",UR:"ur",UZ:"uz",VI:"vi",ZH:"zh",ZU:"zu"});var n={af:{name:"afrikaans",nativeName:"afrikaans"},am:{name:"amharic",nativeName:"አማርኛ"},ar:{name:"arabic",nativeName:"اَلْعَرَبِيَّةُ"},az:{name:"azerbaijani",nativeName:"azərbaycan dili"},be:{name:"belarusian",nativeName:"беларуская мова"},bg:{name:"bulgarian",nativeName:"български език"},bn:{name:"bengali",nativeName:"বাংলা"},ca:{name:"catalan",nativeName:"català"},cs:{name:"czech",nativeName:"čeština"},da:{name:"danish",nativeName:"dansk"},de:{name:"german",nativeName:"deutsch"},el:{name:"greek",nativeName:"ελληνικά"},en:{name:"english",nativeName:"english"},es:{name:"spanish",nativeName:"español"},et:{name:"estonian",nativeName:"eesti"},eu:{name:"basque",nativeName:"euskara"},fa:{name:"persian",nativeName:"فارسی"},fi:{name:"finnish",nativeName:"suomi"},fr:{name:"french",nativeName:"français"},gl:{name:"galician",nativeName:"galego"},he:{name:"hebrew",nativeName:"עברית"},hi:{name:"hindi",nativeName:"हिन्दी"},hr:{name:"croatian",nativeName:"hrvatski"},hu:{name:"hungarian",nativeName:"magyar"},hy:{name:"armenian",nativeName:"հայերեն"},id:{name:"indonesian",nativeName:"bahasa indonesia"},is:{name:"icelandic",nativeName:"íslenska"},it:{name:"italian",nativeName:"italiano"},ja:{name:"japanese",nativeName:"日本語"},ka:{name:"georgian",nativeName:"ქართული"},kk:{name:"kazakh",nativeName:"қазақ тілі"},km:{name:"khmer",nativeName:"ខេមរភាសា"},kn:{name:"kannada",nativeName:"ಕನ್ನಡ"},ko:{name:"korean",nativeName:"한국어"},ky:{name:"kyrgyz",nativeName:"кыргызча"},lo:{name:"lao",nativeName:"ພາສາລາວ"},lt:{name:"lithuanian",nativeName:"lietuvių kalba"},lv:{name:"latvian",nativeName:"latviešu valoda"},mk:{name:"macedonian",nativeName:"македонски јазик"},ml:{name:"malayalam",nativeName:"മലയാളം"},mn:{name:"mongolian",nativeName:"монгол хэл"},mr:{name:"marathi",nativeName:"मराठी"},ms:{name:"malay",nativeName:"bahasa melayu"},my:{name:"burmese",nativeName:"ဗမာစာ"},ne:{name:"nepali",nativeName:"नेपाली"},nl:{name:"dutch",nativeName:"nederlands"},no:{name:"norwegian",nativeName:"norsk"},pl:{name:"polish",nativeName:"polski"},pt:{name:"portuguese",nativeName:"português"},ro:{name:"romanian",nativeName:"română"},ru:{name:"russian",nativeName:"русский"},si:{name:"sinhala",nativeName:"සිංහල"},sk:{name:"slovak",nativeName:"slovenčina"},sl:{name:"slovenian",nativeName:"slovenščina"},sr:{name:"serbian",nativeName:"српски језик"},sv:{name:"swedish",nativeName:"svenska"},sw:{name:"swahili",nativeName:"kiswahili"},ta:{name:"tamil",nativeName:"தமிழ்"},te:{name:"telugu",nativeName:"తెలుగు"},tg:{name:"tajik",nativeName:"тоҷикӣ"},th:{name:"thai",nativeName:"ไทย"},tk:{name:"turkmen",nativeName:"türkmençe"},tl:{name:"tagalog",nativeName:"wikang tagalog"},tr:{name:"turkish",nativeName:"türkçe"},uk:{name:"ukrainian",nativeName:"українська"},ur:{name:"urdu",nativeName:"اردو"},uz:{name:"uzbek",nativeName:"ўзбек"},vi:{name:"vietnamese",nativeName:"tiếng việt"},zh:{name:"chinese",nativeName:"中文"},zu:{name:"zulu",nativeName:"isizulu"}},m=(a("getLanguageName",(function(a){return n[a].name})),a("getLanguageNativeName",(function(a){return n[a].nativeName})),Object.keys(n)),i=(a("isLanguageCode",(function(a){return 2==a.length&&m.includes(a.toLowerCase())})),{az:"az",by:"be","co.il":"he",com:"en","com.am":"hy","com.ge":"ka","com.tr":"tr",ee:"et",fr:"fr",kz:"kk",kg:"ky",lt:"lt",lv:"lv",md:"ro",ru:"ru",tj:"tg",tm:"tk",ua:"uk",uz:"uz"});a("domainToLanguageCode",(function(a){return i[a]}));e._RF.pop()}}}));

System.register("chunks:///_virtual/log.ts",["cc","./constants.ts"],(function(n){var o,r;return{setters:[function(n){o=n.cclegacy},function(n){r=n.PACKAGE_NAME}],execute:function(){o._RF.push({},"8913fM5KKRHVYjfC9ACSxD7","log",void 0);n("log",(function(){for(var n,o=arguments.length,c=new Array(o),t=0;t<o;t++)c[t]=arguments[t];(n=console).log.apply(n,["["+r+"]"].concat(c))})),n("warn",(function(){for(var n,o=arguments.length,c=new Array(o),t=0;t<o;t++)c[t]=arguments[t];(n=console).warn.apply(n,["["+r+"]"].concat(c))})),n("error",(function(){for(var n,o=arguments.length,c=new Array(o),t=0;t<o;t++)c[t]=arguments[t];(n=console).error.apply(n,["["+r+"]"].concat(c))}));o._RF.pop()}}}));

System.register("chunks:///_virtual/MailData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractPlayerData.ts"],(function(a){var e,t,s;return{setters:[function(a){e=a.inheritsLoose},function(a){t=a.cclegacy},function(a){s=a.AbstractPlayerData}],execute:function(){t._RF.push({},"08a303ZB85B/5wn1dhdJ8Uh","MailData",void 0);a("MailData",function(a){function t(){for(var e,t=arguments.length,s=new Array(t),n=0;n<t;n++)s[n]=arguments[n];return(e=a.call.apply(a,[this].concat(s))||this).MessagesRead=[],e}return e(t,a),t.prototype.setPlayerData=function(a,e){null!=e&&null!=e.Profile&&null!=e.Profile.MessagesRead&&(this.MessagesRead=e.Profile.MailData.MessagesRead)},t}(s));t._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./BonusLevelManager.ts","./DefaultLevelDataProvider.ts","./ILevelDataProvider.ts","./JSONLevelDataProvider.ts","./LevelDataProvider.ts","./LevelGenerator.ts","./RandomLevelDataProvider.ts","./FlaskData.ts","./IFlaskData.ts","./ILiquidLayerData.ts","./LiquidLayerData.ts","./Flask.ts","./FlaskColliderProvider.ts","./FlaskLiquids.ts","./FlaskLiquidsView.ts","./FlaskSkin.ts","./FlaskSounds.ts","./FlaskView.ts","./LayerViewController.ts","./LayerViewControllerBuilder.ts","./MultipleLayersPerColorLayerViewController.ts","./SingleLayerPerColorLayerViewController.ts","./LayoutController.ts","./LevelController.ts","./LevelSkipControl.ts","./LevelStateController.ts","./LiquidFlowView.ts","./LiquidLayer.ts","./LiquidSurface.ts","./SpriteColorSetter.ts","./SubstanceConfig.ts","./TutorialController.ts","./GameLoopController.ts","./StoreConfig.ts","./StoreItemConfig.ts","./StoreItemType.ts","./BonusLevel.ts","./Inventory.ts","./PlayerData.ts","./PlayerProfileProvider.ts","./PlayerStats.ts","./SkinsSet.ts","./SpriteScroller.ts","./BonusLevelButton.ts","./ComplexButton.ts","./DebugHud.ts","./LanguageItem.ts","./LanguageSelector.ts","./LevelNumber.ts","./RevertButton.ts","./Store.ts","./StoreItem.ts","./StoreItemData.ts","./StoreItemState.ts","./WindowManager.ts","./GameMode.ts","./MainMenu.ts","./TutorialWindow.ts","./WinScreen.ts","./BackgroundSetter.ts","./Constants2.ts","./DebugHudOpener.ts","./Initializer.ts","./ResourcePathProvider.ts","./ResourcesPreloader.ts","./SizeSetter.ts","./constants.ts","./index2.ts","./ipc.ts","./l10n2.ts","./localization.ts","./log.ts","./schema.ts","./server.ts","./text.ts","./l10n-component2.ts","./l10n-label2.ts","./l10n-richtext.ts","./bundle-manager.ts","./index3.ts","./l10n3.ts","./assets.ts","./index.ts","./ysdk.ts","./icu-component.ts","./l10n-component.ts","./l10n-label.ts","./auto-config-intl-manager.ts","./icu-options.ts","./icu-type.ts","./l10n-listen-event.ts","./l10n-manager.ts","./l10n-options.ts","./localization-global.ts","./resource-data-manager.ts","./l10n.ts","./Intl.PluralRules.ts","./ServiceLocator.ts","./AudioManager.ts","./ButtonSoundTrigger.ts","./SoundConfig.ts","./ToggleSoundButton.ts","./ExitButtonListener.ts","./Fadable.ts","./InputCatcher.ts","./ILevelReward.ts","./AbstractPlayerData.ts","./AbstractPlayerProfileProvider.ts","./AbstractPlayerStats.ts","./MailData.ts","./PlayerStat.ts","./PlayerStuffComponent.ts","./Settings.ts","./YsdkInitializer.ts","./YesNoDialog.ts","./SpriteLocalizer.ts","./BaseWindow.ts","./BaseWindowManager.ts","./LeaderBoard.ts","./LeaderBoardRecord.ts","./BaseStoreConfig.ts","./AdShower.ts","./BackgroundScaler.ts","./ResourceManager.ts","./Scheduler.ts","./TweenHelpers.ts","./Utils.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainMenu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseWindow.ts","./WindowManager.ts","./GameLoopController.ts"],(function(){var e,o,n,i,t,r,a,c,l,u,s;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.initializerDefineProperty,i=t.assertThisInitialized},function(e){t=e.cclegacy,r=e._decorator,a=e.Node},function(e){c=e.BaseWindow},function(e){l=e.windowManager,u=e.WindowManager},function(e){s=e.gameLoopController}],execute:function(){var d,p,w,f,y;t._RF.push({},"70f1fm06C9Dc4FeA7liXY4H","MainMenu",void 0);var v=r.ccclass,h=r.property;d=v("MainMenu"),p=h(a),d((y=e((f=function(e){function t(){for(var o,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return o=e.call.apply(e,[this].concat(r))||this,n(o,"waveScroll",y,i(o)),o}o(t,e);var r=t.prototype;return r.start=function(){var e=this;this.waveScroll.once(a.EventType.TRANSFORM_CHANGED,(function(){e.waveScroll.setPosition(0,-130)}))},r.Play=function(){s.BonusLevelRequired=!1,l.SwitchToWindow(u.WindowType.GameMode)},r.Store=function(){l.ShowWindow(u.WindowType.Store)},r.Leaderboard=function(){l.ShowWindow(u.WindowType.Leaderboard)},r.PlayBonusLevel=function(){l.SwitchToWindow(u.WindowType.GameMode)},t}(c)).prototype,"waveScroll",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=f));t._RF.pop()}}}));

System.register("chunks:///_virtual/MultipleLayersPerColorLayerViewController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LayerViewController.ts"],(function(e){var i,r,t,n,o;return{setters:[function(e){i=e.inheritsLoose},function(e){r=e.cclegacy,t=e.UITransform,n=e.Vec3},function(e){o=e.LayerViewController}],execute:function(){r._RF.push({},"0349eI73W9Bvr4r2K9vM6n4","MultipleLayersPerColorLayerViewController",void 0);e("default",function(e){function r(){return e.apply(this,arguments)||this}i(r,e);var o=r.prototype;return o.buildLiquidLayers=function(e){this.liquidLayersContainerNode.removeAllChildren();var i=0;for(var r in e){var n=e[r],o=this.buildLayer(n,this.layerHeight,!0,"liquid "+r);i+=o.getComponent(t).height,this.liquidLayersContainerNode.addChild(o)}this.liquidLayersContainerNode.getComponent(t).height=i,this.liquidLayersContainerNode.setPosition(0,0)},o.addLiquidLayersWithAnimation=function(e,i,r){for(var t=0;t<i;t++){var o=this.buildLayer(e,this.layerHeight,!0,null);o.scale=new n(1,0),this.liquidLayersContainerNode.addChild(o),this.pourInTweenPool.to(o,r,{scale:new n(1,1)},{easing:"linear"})}this.pourInTweenPool.start()},o.removeTopLiquidLayersWithAnimation=function(e,i){var r=this.liquidLayersContainerNode.children.slice(-e);this.pourOutLiquidLayers(r,i)},o.pourOutLiquidLayers=function(e,i){e=e.slice().reverse(),this.pourOutTweenPool.bulkTo(e,i,{scale:new n(1,0)},{easing:"linear"}).start()},r}(o));r._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerData.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractPlayerData.ts"],(function(a){var t,e,r;return{setters:[function(a){t=a.inheritsLoose},function(a){e=a.cclegacy},function(a){r=a.AbstractPlayerData}],execute:function(){e._RF.push({},"80abdU+imBKEZdgEpGpWUse","PlayerData",void 0);a("PlayerData",function(a){function e(){for(var t,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return(t=a.call.apply(a,[this].concat(r))||this).flaskApplied="labFlask",t.backgroundApplied="labBackground",t.substanceApplied="labSubstance",t.itemsPurchased=[],t}return t(e,a),e}(r));e._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerProfileProvider.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractPlayerProfileProvider.ts","./ServiceLocator.ts","./SkinsSet.ts","./Inventory.ts","./BonusLevel.ts"],(function(e){var r,n,t,i,o,l,a,c,u,s,f,p;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.inheritsLoose,t=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator},function(e){a=e.AbstractPlayerProfileProvider,c=e.playerData},function(e){u=e.provide},function(e){s=e.SkinsSet},function(e){f=e.Inventory},function(e){p=e.BonusLevel}],execute:function(){var v,P,y,d,b;e("playerProfileProvider",void 0),o._RF.push({},"eb3408dhNFLrJI2gpbknU9V","PlayerProfileProvider",void 0);var h,w=l.ccclass;e("PlayerProfileProvider",w("PlayerProfileProvider")((y=r((P=function(r){function o(){for(var e,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return e=r.call.apply(r,[this].concat(o))||this,t(e,"SkinsSet",y,i(e)),t(e,"Inventory",d,i(e)),t(e,"BonusLevel",b,i(e)),e}return n(o,r),o.Init=function(){h=e("playerProfileProvider",new o),u(o,h)},o.prototype.Reset=function(){throw new Error("Method not implemented.")},o}(a)).prototype,"SkinsSet",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),d=r(P.prototype,"Inventory",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f}}),b=r(P.prototype,"BonusLevel",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new p}}),v=P))||v);o._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerStat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./YsdkInitializer.ts"],(function(t){var e,n,a;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy},function(t){a=t.YsdkInitializer}],execute:function(){n._RF.push({},"d342c1Zg4hOXJb55FUCZBAg","PlayerStat",void 0);t("IntPlayerStat",function(){function t(t,e){var n=this;this.__statName=void 0,this.__value=void 0,this.player=void 0,this.__statName=t,this.__value=e,a.Instance.ysdkEventTarget.on(a.EventType.StatsReceived,(function(t,e){null!=t&&(n.player=t,void 0!==e[n.__statName]?n.__value=e[n.__statName]:n.Increment(n.__value))}),this)}return t.prototype.Increment=function(t){var e,n=this;this.__value+=t,null!=this.player&&(console.log("will increment "+this.__statName+" by "+t),this.player.incrementStats((e={},e[this.__statName]=t,e)).then((function(){console.log("Stat "+n.__statName+" updated")})).catch((function(t){console.log("Error updating stat "+n.__statName+": "+t)})))},e(t,[{key:"Value",get:function(){return this.__value},set:function(t){this.Increment(t-this.__value)}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerStats.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ServiceLocator.ts","./AbstractPlayerStats.ts","./PlayerStat.ts"],(function(t){var e,n,r,a,s;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){r=t.provide},function(t){a=t.AbstractPlayerStats},function(t){s=t.IntPlayerStat}],execute:function(){var c;t("playerStats",void 0),n._RF.push({},"36047Y66nZIiKTmflzOeIPO","PlayerStats",void 0);t("PlayerStats",function(n){function a(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return(t=n.call.apply(n,[this].concat(r))||this).CurrentClassicLevel=new s("CurrentClassicLevel",0),t.Coins=new s("Coins",5),t.Cups=new s("cups",0),t}return e(a,n),a.Init=function(){c=t("playerStats",new a),r("PlayerStats",c)},a.prototype.setPlayerStats=function(t,e){},a}(a));n._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerStuffComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var t,e,o,r;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,o=n._decorator,r=n.Component}],execute:function(){var a;e._RF.push({},"af854aien9ADaCnqSGfbzTv","PlayerStuffComponent",void 0);var c=o.ccclass;n("PlayerStuffComponent",c("PlayerStuffComponent")(a=function(n){function e(){for(var t,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return(t=n.call.apply(n,[this].concat(o))||this).ok=!1,t}return t(e,n),e}(r))||a);e._RF.pop()}}}));

System.register("chunks:///_virtual/RandomLevelDataProvider.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelDataProvider.ts","./FlaskData.ts","./LiquidLayerData.ts"],(function(a){var t,e,r,n,i,o,l,s,u,c,d,m,y;return{setters:[function(a){t=a.applyDecoratedDescriptor,e=a.inheritsLoose,r=a.initializerDefineProperty,n=a.assertThisInitialized,i=a.createClass},function(a){o=a.cclegacy,l=a._decorator,s=a.CCInteger,u=a.randomRangeInt,c=a.Color},function(a){d=a.LevelDataProvider},function(a){m=a.default},function(a){y=a.LiquidLayerData}],execute:function(){var f,h,v,p,g,L,D,R,k;o._RF.push({},"0323bO2bK1L56cY/0+d+77l","RandomLevelDataProvider",void 0);var F=l.ccclass,b=l.property;a("RandomLevelDataProvider",(f=F("RandomLevelDataProvider"),h=b(s),v=b(s),p=b(s),f((D=t((L=function(a){function t(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return t=a.call.apply(a,[this].concat(i))||this,r(t,"maxFlaskSize",D,n(t)),r(t,"minLayerQuantity",R,n(t)),r(t,"maxLayerQuantity",k,n(t)),t._randomFlaskData=void 0,t}e(t,a);var o=t.prototype;return o.getLevelFlasksData=function(){var a=this.getRandomColorSet(5);return this.generate(5,a),this._randomFlaskData},o.generate=function(a,t){this._randomFlaskData=this.getFlasksRandomData(a,t)},o.getFlasksRandomData=function(a,t){for(var e=[],r=0;r<a;r++){var n=this.getRandomLayers(t);e.push(new m({size:u(n.length-1,this.maxFlaskSize),layers:n,extendable:!1}))}return e},o.getRandomLayers=function(a){for(var t=u(this.minLayerQuantity,this.maxLayerQuantity),e=[],r=0;r<t;r++)e.push(new y(a[u(0,a.length-1)]));return e},o.getRandomColorSet=function(a){for(var t=[],e=0;e<a;e++)t.push(this.getRandomColor());return t},o.getRandomColor=function(){return new c(255*Math.random(),255*Math.random(),255*Math.random())},i(t,[{key:"randomFlaskData",get:function(){return this._randomFlaskData}}]),t}(d)).prototype,"maxFlaskSize",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 8}}),R=t(L.prototype,"minLayerQuantity",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),k=t(L.prototype,"maxLayerQuantity",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),g=L))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/resource-data-manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./localization-global.ts"],(function(r){var e,n,t,u,a,s,c,o,i,p,f;return{setters:[function(r){e=r.asyncToGenerator,n=r.regeneratorRuntime},function(r){t=r.cclegacy,u=r.settings,a=r.Settings,s=r.assetManager},function(r){c=r.resourceListPath,o=r.pluginName,i=r.resourceBundlePath,p=r.mainName,f=r.runtimeBundleName}],execute:function(){t._RF.push({},"0a95a0kirtJnJnMnZWSRaFn","resource-data-manager",void 0);r("default",function(){function r(){}var t=r.prototype;return t.readResourceList=function(){var r=e(n().mark((function r(){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.next=4;break;case 4:return console.log("["+o+"] this is build env"),r.abrupt("return",this.runtimeLoad(c));case 9:return r.abrupt("return",this.previewLoad(c));case 10:case"end":return r.stop()}}),r,this)})));return function(){return r.apply(this,arguments)}}(),t.readResourceBundle=function(){var r=e(n().mark((function r(e){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.next=4;break;case 4:return r.abrupt("return",this.runtimeLoad(i));case 8:return r.abrupt("return",this.previewLoad(i));case 9:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),t.editorLoad=function(){var r=e(n().mark((function r(e){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Editor.Message.request(p,"get-resource-bundle",e));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),t.runtimeLoad=function(){var r=e(n().mark((function r(e){var t,u;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,this.getBundle(f);case 2:if(t=r.sent){r.next=5;break}return r.abrupt("return",void 0);case 5:return r.next=7,this.getResource(t,e);case 7:if((u=r.sent)&&u.json){r.next=10;break}return r.abrupt("return",void 0);case 10:return r.abrupt("return",u.json);case 11:case"end":return r.stop()}}),r,this)})));return function(e){return r.apply(this,arguments)}}(),t.previewLoad=function(){var r=e(n().mark((function r(e){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch(p+"/"+e);case 3:return r.next=5,r.sent.json();case 5:return r.abrupt("return",r.sent);case 8:return r.prev=8,r.t0=r.catch(0),r.abrupt("return",void 0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}(),t.checkBundle=function(){var r=e(n().mark((function r(e){var t,s;return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t=u.querySettings(a.Category.ASSETS,"preloadBundles"),s=null==t?void 0:t.find((function(r){return r.bundle===e})),r.abrupt("return",!!s);case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),t.getBundle=function(){var r=e(n().mark((function r(e){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r){s.loadBundle(e,(function(e,n){r(e?void 0:n)}))})));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),t.getResource=function(){var r=e(n().mark((function r(e,t){return n().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r){e.load(t,(function(e,n){r(e?void 0:n)}))})));case 1:case"end":return r.stop()}}),r)})));return function(e,n){return r.apply(this,arguments)}}(),r}());t._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceManager.ts",["cc","./ServiceLocator.ts"],(function(e){var r,s,o,n;return{setters:[function(e){r=e.cclegacy,s=e.resources,o=e.log},function(e){n=e.provide}],execute:function(){var t;e("resourceManager",void 0),r._RF.push({},"b2048lLIE1O/K6cFtmLYYq8","ResourceManager",void 0);e("ResourceManager",function(){function r(){this._resourcesLoaded=new Map,this._resourcesInProgress=new Map}return r.Init=function(){t=e("resourceManager",new r),n(r,t)},r.prototype.LoadResource=function(e,r){var n=this;if(this._resourcesLoaded.has(r))return new Promise((function(e){e(n._resourcesLoaded.get(r))}));if(this._resourcesInProgress.has(r))return this._resourcesInProgress.get(r);var t=new Promise((function(n,t){s.load(r,e,(function(e,r){if(e)return o(e),console.log(e),void t(e);n(r)}))}));return t.then((function(e){n._resourcesInProgress.delete(r),n._resourcesLoaded.set(r,e)})),this._resourcesInProgress.set(r,t),t},r}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcePathProvider.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ServiceLocator.ts","./StoreItemType.ts","./PlayerProfileProvider.ts"],(function(e){var t,r,n,c,o;return{setters:[function(e){t=e.createClass},function(e){r=e.cclegacy},function(e){n=e.provide},function(e){c=e.StoreItemType},function(e){o=e.playerProfileProvider}],execute:function(){var s;e("resourcePathProvider",void 0),r._RF.push({},"6a05fHwjy1E3Z4DGanhu/o4","ResourcePathProvider",void 0);e("ResourcePathProvider",function(){function r(){}return r.prototype.GetStoreIcon=function(e,t){var r;switch(t){case c.Substance:r="Substances";break;case c.Flask:r="Flasks";break;case c.Background:r="Backgrounds"}return"Icons/"+r+"/"+e+"/spriteFrame"},r.Init=function(){s=e("resourcePathProvider",new r),n("ResourcePathProvider",s)},t(r,[{key:"Background",get:function(){return"Skins/Backgrounds/"+this.BackgroundSelected+"/spriteFrame"}},{key:"Flask",get:function(){return"Skins/Flasks/"+this.FlaskSelected}},{key:"SubstanceConfig",get:function(){return"Skins/Substances/"+this.SubstanceSelected}},{key:"FlaskSelected",get:function(){return o.SkinsSet.FlaskSkin}},{key:"BackgroundSelected",get:function(){return o.SkinsSet.BackgroundSkin}},{key:"SubstanceSelected",get:function(){return o.SkinsSet.SubstanceSkin}}]),r}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcesPreloader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SkinsSet.ts","./ResourceManager.ts","./ResourcePathProvider.ts","./SubstanceConfig.ts"],(function(e){var n,t,s,a,i,o,r,c,u,f,l,b;return{setters:[function(e){n=e.createForOfIteratorHelperLoose,t=e.createClass},function(e){s=e.cclegacy,a=e.Prefab,i=e.log,o=e.instantiate,r=e.SpriteFrame,c=e.director},function(e){u=e.SkinsSet},function(e){f=e.resourceManager},function(e){l=e.resourcePathProvider},function(e){b=e.SubstanceConfig}],execute:function(){e("resourcesPreloader",void 0),s._RF.push({},"bac7eD4lENB6qu3gM2Qx9L/","ResourcesPreloader",void 0);e("ResourcesPreloader",function(){function s(){this._flaskPrefab=void 0,this._substancePrefab=void 0,this._substanceConfig=void 0,this.actionsWaiting=[],this.loadFlaskPrefab(),this.loadSubstancePrefab(),c.on(u.EventType.FlaskChanged,this.loadFlaskPrefab,this),c.on(u.EventType.LiquidChanged,this.loadSubstancePrefab,this),c.on(u.EventType.BackgroundChanged,this.preloadBackground,this)}s.Init=function(){e("resourcesPreloader",new s)};var h=s.prototype;return h.loadFlaskPrefab=function(){var e=this;this._flaskPrefab=null,f.LoadResource(a,l.Flask).then((function(n){e._flaskPrefab=n,e.checkActionsWaiting()}))},h.loadSubstancePrefab=function(){var e=this;this._substancePrefab=null,i(l.SubstanceConfig),f.LoadResource(a,l.SubstanceConfig).then((function(n){e._substancePrefab=n,e._substanceConfig=o(n).getComponent(b),e.checkActionsWaiting()}))},h.checkActionsWaiting=function(){if(null!=this._flaskPrefab&&null!=this._substancePrefab){for(var e,t=n(this.actionsWaiting);!(e=t()).done;){(0,e.value)()}this.actionsWaiting=[]}},h.triggerWhenBasicResourcesReady=function(e){null!=this._flaskPrefab&&null!=this._substancePrefab?e():this.actionsWaiting.push(e)},h.preloadBackground=function(){f.LoadResource(r,l.Background)},t(s,[{key:"FlaskPrefab",get:function(){return this._flaskPrefab}},{key:"SubstancePrefab",get:function(){return this._substancePrefab}},{key:"SubstanceConfig",get:function(){return this._substanceConfig}}]),s}());s._RF.pop()}}}));

System.register("chunks:///_virtual/RevertButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InputCatcher.ts"],(function(t){var e,n,o,r,i,u,a,c,s,l,h,d,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){i=t.cclegacy,u=t._decorator,a=t.CCInteger,c=t.Label,s=t.Node,l=t.EventHandler,h=t.Button,d=t.Component},function(t){p=t.InputCatcher}],execute:function(){var b,f,v,C,g,y,m,E,I,R;i._RF.push({},"6e1f4G2eIxOZLcDdvE3TXhz","RevertButton",void 0);var B=u.ccclass,L=u.property,w=function(t){return t.CounterDecreased="RevertButton:CounterDecreased",t.CounterEnded="RevertButton:CounterEnded",t}(w||{});t("RevertButton",(b=B("RevertButton"),f=L(a),v=L(c),C=L(s),b(((R=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),u=0;u<n;u++)i[u]=arguments[u];return e=t.call.apply(t,[this].concat(i))||this,o(e,"defaultCounterValue",m,r(e)),o(e,"counterLabel",E,r(e)),o(e,"emptyCounterIcon",I,r(e)),e.button=void 0,e.counter=0,e}n(e,t);var i=e.prototype;return i.init=function(){var t=new l;t.target=this.node,t.component="RevertButton",t.handler="handleCounter",this.button=this.node.getComponent(h),this.button.clickEvents.push(t),this.resetCounter()},i.handleCounter=function(){this.counter>0?(console.info("decreasing counter"),this.counter--,this.node.emit(w.CounterDecreased)):this.node.emit(w.CounterEnded),this.updateView()},i.enable=function(){this.button.interactable=!0},i.disable=function(){this.button.interactable=!1},i.toggleEnabled=function(t){this.button.interactable=t},i.setCanRevert=function(t){this.toggleEnabled(t||this.counter<=0)},i.resetCounter=function(){this.enable(),this.counter=p.IsTv?Number.MAX_SAFE_INTEGER:this.defaultCounterValue,this.updateView()},i.updateView=function(){this.counter>0?(this.counterLabel.node.active=!0,this.emptyCounterIcon.active=!1,this.counterLabel.string=p.IsTv?"∞":this.counter.toString()):(this.counterLabel.node.active=!1,this.emptyCounterIcon.active=!0)},e}(d)).EventType=w,m=e((y=R).prototype,"defaultCounterValue",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),E=e(y.prototype,"counterLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=e(y.prototype,"emptyCounterIcon",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),g=y))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/Scheduler.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,t,c,r,s,o;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){c=e.cclegacy,r=e._decorator,s=e.find,o=e.Component}],execute:function(){var u,i;c._RF.push({},"0635aWCHcZCR4TtHoDTPrwj","Scheduler",void 0);var l=r.ccclass;e("Scheduler",l("Scheduler")(((i=function(e){function c(){return e.apply(this,arguments)||this}return n(c,e),c.prototype.scheduleOnce=function(n,t){e.prototype.scheduleOnce.call(this,n,t)},t(c,null,[{key:"Instance",get:function(){return c._instance||(this._instance=s("Managers/Scheduler").getComponent(c)),this._instance}}]),c}(o))._instance=void 0,u=i))||u);c._RF.pop()}}}));

System.register("chunks:///_virtual/schema.ts",["cc"],(function(e){var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){e("generateSchema",(function e(r){if(Array.isArray(r))return;for(var t={},c=0,s=Object.entries(r);c<s.length;c++){var n=s[c],a=n[0],i=n[1];switch(typeof i){case"string":t[a]={type:"string"};break;case"object":var o=e(i);o&&(t[a]=o)}}return{type:"object",properties:t,required:Object.keys(t)}})),r._RF.push({},"e5770g3f2lDZqGmydzzoGkv","schema",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/server.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"02691Mp4bhNXJo9w5iuormH","server",void 0);e("editorServerFetch",(function(e){return new Promise((function(t,n){fetch(e).then((function(e){t(e.json())})).catch((function(){return n()}))}))}));t._RF.pop()}}}));

System.register("chunks:///_virtual/ServiceLocator.ts",["cc"],(function(t){var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){t({inject:function(t){return r.inject(t)},provide:function(t,n){return r.provide(t,n)}}),n._RF.push({},"b31f8IrXIdE44LUVvXVttWS","ServiceLocator",void 0);var e=t("ServiceLocator",function(){function t(){this.registry=void 0,this.registry=new Map}t.provide=function(t,n){return this.getInstance().provide(t,n)},t.inject=function(t){return this.getInstance().inject(t)},t.getInstance=function(){return this.instance||(this.instance=new t),this.instance};var n=t.prototype;return n.provide=function(t,n){"string"!=typeof t&&(t=t.name),this.registry.set(t,n)},n.inject=function(t){"string"!=typeof t&&(t=t.name);var n=this.registry.get(t);if(!n)throw new Error("Service '"+t+"' not found!");return n},t}());e.instance=void 0;var r=e.getInstance();n._RF.pop()}}}));

System.register("chunks:///_virtual/Settings.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./AbstractPlayerData.ts","./PlayerProfileProvider.ts"],(function(t){var e,i,n,o,u,a,r,s;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){n=t.cclegacy,o=t.director,u=t.EventTarget},function(t){a=t.AudioManager},function(t){r=t.AbstractPlayerData},function(t){s=t.playerProfileProvider}],execute:function(){n._RF.push({},"05fe4gezSFN/4rWYpozD7U5","Settings",void 0);t("Settings",function(t){function n(){for(var e,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).eventTarget=new u,e._audioMuted=!1,e.Language=void 0,e}e(n,t);var r=n.prototype;return r.setPlayerData=function(t,e){null!=t&&(this.player=t,void 0!==e&&void 0!==e.Profile&&void 0!==e.Profile.Settings&&(this._audioMuted=e.Profile.Settings.MuteAudio,o.emit(a.EventType.MuteAudioChanged,this._audioMuted)),void 0!==e&&void 0!==e.Profile&&void 0!==e.Profile.Settings&&(this.Language=e.Profile.Settings.Language))},r.getPlayerData=function(){return{Language:this.Language,MuteAudio:this._audioMuted}},i(n,[{key:"audioMuted",get:function(){return this._audioMuted},set:function(t){this._audioMuted!=t&&(this._audioMuted=t,null!=this.player&&(s.Settings.audioMuted=t,s.SaveProfile().then((function(){console.log("set mute")}))),o.emit(a.EventType.MuteAudioChanged,this._audioMuted))}}]),n}(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/SingleLayerPerColorLayerViewController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LayerViewController.ts","./FlaskLiquidsView.ts"],(function(i){var e,t,o,r,a,n,u,s;return{setters:[function(i){e=i.inheritsLoose,t=i.createForOfIteratorHelperLoose},function(i){o=i.cclegacy,r=i.UITransform,a=i.Vec2},function(i){n=i.LayerViewController},function(i){u=i.FlaskLiquidViewType,s=i.FlaskLiquidsView}],execute:function(){o._RF.push({},"07bd8vBLRpORpEXU5VPGcRE","SingleLayerPerColorLayerViewController",void 0);i("default",function(i){function o(){for(var e,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return(e=i.call.apply(i,[this].concat(o))||this).liquidSurface=void 0,e}e(o,i);var n=o.prototype;return n.setLiquidSurface=function(i){this.liquidSurface=i.init()},n.buildLiquidLayers=function(i){var e,o=this,r=1,a=0,n=0;this.liquidSurface.hide(),this.liquidLayersContainerNode.removeAllChildren();for(var l,d=t(i);!(l=d()).done;){var h=l.value;e?(e.equals(h)?r++:(a+=n=this.buildAndAddLayer(n,r,e,a,this.liquidViewType===u.ShowAllLayers),r=1),e=h):e=h}if(e){var c=this.liquidViewType!==u.HideAllLayers;a+=n=this.buildAndAddLayer(n,r,e,a,c),setTimeout((function(){o.repositionLiquidSurface(),o.liquidSurface.show(),o.liquidSurface.setColor(c?e.color:s.HIDDEN_LIQUID_COLOR)}))}this.layersTotalHeight=a,this.liquidLayersContainerUITransform.height=a,this.actualizeBubbleMask()},n.removeTopLiquidLayersWithAnimation=function(i,e){var t=this.getTopLayerNode().getComponent(r),o=-i*this.layerHeight;this.animateLiquidLayerChange(this.pourOutTweenPool,t,e,o),this.changeLayersTotalHeight(o),this.actualizeBubbleMask()},n.addLiquidLayersWithAnimation=function(i,e,t){var o=this.getTopLayerNode();this.liquidLayersContainerNode.children.length&&this.getLayerColor(o)==i.color||(o=this.buildLayer(i,0,!0,null),this.liquidLayersContainerNode.addChild(o),this.repositionLiquidSurface(o),this.setLiquidSurfaceColor(i.color));var a=e*this.layerHeight;this.animateLiquidLayerChange(this.pourInTweenPool,o.getComponent(r),t,a),this.changeLayersTotalHeight(a)},n.buildAndAddLayer=function(i,e,t,o,r,a){void 0===r&&(r=!0),void 0===a&&(a="Layer"),i=this.layerHeight*e;var n=this.buildLayer(t,i,r,a);return this.liquidLayersContainerNode.addChild(n),n.setPosition(0,o),i},n.getTopLayerNode=function(){return this.liquidLayersContainerNode.children.slice(-1)[0]},n.getLayerNodes=function(){return this.liquidLayersContainerNode.children},n.getLayerPosition=function(i){void 0===i&&(i=this.getTopLayerNode());var e=i.getComponent(r).getBoundingBoxToWorld();return new a(e.x+e.width/2,e.y+e.height)},n.onPouringOutComplete=function(i){var e=this;this.pourOutTweenPool.onAllComplete((function(t){var o=!1;t.forEach((function(i){i&&i.height<e.layerHeight&&(i.node.destroy(),o=!0)})),o?setTimeout((function(){i()})):i()}))},n.actualizeBubbleMask=function(){this.bubbleMask.getComponent(r).height=this.layersTotalHeight*this.liquidLayersContainerNode.scale.y},n.repositionLiquidSurface=function(i){if(void 0===i&&(i=this.getTopLayerNode()),i){var e=this.getLayerPosition(i);this.liquidSurface.repositionSurface(e)}},n.setLiquidSurfaceColor=function(i){i||0===i?(this.liquidSurface.show(),this.liquidSurface.setColor(i)):this.liquidSurface.hide()},n.setLiquidSurfaceScale=function(i){this.liquidSurface.flaskScale=i.clone()},n.animateLiquidLayerChange=function(i,e,t,o){var r=this,a=this.flaskLiquidsView.getLiquidsHeight(0,-1);i.by(e,t,{height:o},{easing:"linear",onUpdate:function(i){r.repositionLiquidSurface(),r.layersTotalHeight=a+i.height,r.actualizeBubbleMask()}}).start()},o}(n));o._RF.pop()}}}));

System.register("chunks:///_virtual/SizeSetter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,i,o,r,s,c,h,a,u,d,p,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){s=e.cclegacy,c=e._decorator,h=e.Enum,a=e.Node,u=e.UITransform,d=e.NodeEventType,p=e.Size,y=e.Component}],execute:function(){var S,f,l,z,g,v,m,C,b,w,N,B;s._RF.push({},"a85feXREhRBn5uagYZ2JpXc","SizeSetter",void 0);var T=c.ccclass,k=c.property,E=c.type,H=function(e){return e[e.Height=1]="Height",e[e.Width=2]="Width",e[e.Both=3]="Both",e}(H||{});h(H);var I=(S=T("SyncedSizeNode"),f=k(a),l=E(H),S((v=t((g=function(){function e(){i(this,"node",v,this),i(this,"sizeSyncType",m,this)}return e.prototype.setSize=function(e,t){void 0===t&&(t=this.sizeSyncType);var n=this.node.getComponent(u);switch(t&=this.sizeSyncType){case H.Height:n.height=e.height;break;case H.Width:n.width=e.width;break;case H.Both:n.setContentSize(e)}},e}()).prototype,"node",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=t(g.prototype,"sizeSyncType",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return H.Both}}),z=g))||z);e("SizeSetter",(C=T("SizeSetter"),b=k([I]),C((B=t((N=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,i(t,"nodesInSync",B,o(t)),t}n(t,e);var s=t.prototype;return s.start=function(){var e=this,t=this.node.getComponent(u);this.node.on(d.SIZE_CHANGED,(function(){e.syncNodesSize(t.contentSize)}))},s.setContentSize=function(e,t){var n;n=void 0===t?e:new p(e,t),this.node.getComponent(u).setContentSize(n),this.syncNodesSize(n)},s.syncNodesSize=function(e,t){void 0===t&&(t=H.Both),this.nodesInSync.forEach((function(n){n.setSize(e,t)}))},r(t,[{key:"contentSize",get:function(){return this.node.getComponent(u).contentSize},set:function(e){this.setContentSize(e)}},{key:"height",get:function(){return this.node.getComponent(u).height},set:function(e){this.node.getComponent(u).height=e,this.syncNodesSize(new p(void 0,e),H.Height)}},{key:"width",set:function(e){this.node.getComponent(u).width=e,this.syncNodesSize(new p(e,void 0),H.Width)}}]),t}(y)).prototype,"nodesInSync",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=N))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/SkinsSet.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AbstractPlayerData.ts"],(function(n){var i,t,e,a,k;return{setters:[function(n){i=n.inheritsLoose,t=n.createClass},function(n){e=n.cclegacy,a=n.director},function(n){k=n.AbstractPlayerData}],execute:function(){e._RF.push({},"084e4+tsI1OXJtRGbdjwM9v","SkinsSet",void 0);var s=function(n){return n.BackgroundChanged="SkinsSet:BackgroundChanged",n.FlaskChanged="SkinsSet:FlaskChanged",n.LiquidChanged="SkinsSet:LiquidChanged",n}(s||{});n("SkinsSet",function(n){function e(){for(var i,t=arguments.length,e=new Array(t),a=0;a<t;a++)e[a]=arguments[a];return(i=n.call.apply(n,[this].concat(e))||this)._FlaskSkin="labFlask",i._BackgroundSkin="labBackground",i._SubstanceSkin="labSubstance",i}i(e,n);var k=e.prototype;return k.setPlayerData=function(n,i){null!=n&&void 0!==i.Profile&&void 0!==i.Profile.SkinsSet&&(this._FlaskSkin!==i.Profile.SkinsSet.flaskSkin&&(this.FlaskSkin=i.Profile.SkinsSet.flaskSkin),this._BackgroundSkin!==i.Profile.SkinsSet.backgroundSkin&&(this.BackgroundSkin=i.Profile.SkinsSet.backgroundSkin),this._SubstanceSkin!==i.Profile.SkinsSet.liquidSkin&&(this.SubstanceSkin=i.Profile.SkinsSet.liquidSkin))},k.getPlayerData=function(){return{flaskSkin:this._FlaskSkin,backgroundSkin:this._BackgroundSkin,liquidSkin:this._SubstanceSkin}},t(e,[{key:"FlaskSkin",get:function(){return this._FlaskSkin},set:function(n){this._FlaskSkin=n,a.emit(s.FlaskChanged)}},{key:"BackgroundSkin",get:function(){return this._BackgroundSkin},set:function(n){this._BackgroundSkin=n,a.emit(s.BackgroundChanged)}},{key:"SubstanceSkin",get:function(){return this._SubstanceSkin},set:function(n){this._SubstanceSkin=n,a.emit(s.LiquidChanged)}}]),e}(k)).EventType=s,e._RF.pop()}}}));

System.register("chunks:///_virtual/SoundConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,n,r,o,l,a,c,p,u,s;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.wrapNativeSuper},function(e){l=e.cclegacy,a=e._decorator,c=e.AudioClip,p=e.CCFloat,u=e.randomRangeInt,s=e.clamp}],execute:function(){var f,g,d,h,y,m,v;l._RF.push({},"237d7Zb+aBORqrgpM+MfyUI","SoundConfig",void 0);var C=a.ccclass,b=a.property;e("SoundConfig",(f=C("SoundConfig"),g=b({type:[c]}),d=b({type:p,min:0,max:1,slide:!0,step:.01}),f((y=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return i=e.call.apply(e,[this].concat(o))||this,n(i,"clips",m,r(i)),n(i,"volume",v,r(i)),i}t(i,e);var o=i.prototype;return o.getRandomClip=function(){return this.clips[u(0,this.clips.length-1)]},o.getClip=function(e){return void 0===e&&(e=0),this.clips[s(e,0,this.clips.length-1)]},i}(o(Comment)),m=i(y.prototype,"clips",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v=i(y.prototype,"volume",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),h=y))||h));l._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteColorSetter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,r,o,i,n,l,s,c,a;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,n=t.createClass},function(t){l=t.cclegacy,s=t._decorator,c=t.Sprite,a=t.Component}],execute:function(){var p,u,f,S,C;l._RF.push({},"9124a6rl0RF8IM78CovgYgn","SpriteColorSetter",void 0);var h=s.ccclass,y=s.property;t("SpriteColorSetter",(p=h("SpriteColorSetter"),u=y([c]),p((C=e((S=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,o(e,"spritesToSetColor",C,i(e)),e}return r(e,t),e.prototype.setColor=function(t){this.spritesToSetColor.forEach((function(e){e.color=t}))},n(e,[{key:"color",set:function(t){this.setColor(t)}}]),e}(a)).prototype,"spritesToSetColor",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),f=S))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteLocalizer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./l10n.ts","./l10n-manager.ts"],(function(e){var r,t,i,n,o,a,l,p,u,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,l=e.SpriteFrame,p=e.Sprite,u=e.Component},null,function(e){c=e.default}],execute:function(){var s,f,h,S,y,g,m;o._RF.push({},"24172KRADVBTKUjMOJ8ocL1","SpriteLocalizer",void 0);var z=a.ccclass,L=a.property;e("SpriteLocalizer",(s=z("SpriteLocalizer"),f=L({type:l}),h=L({type:l}),s((g=r((y=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return r=e.call.apply(e,[this].concat(o))||this,i(r,"ruSprite",g,n(r)),i(r,"otherSprite",m,n(r)),r}return t(r,e),r.prototype.start=function(){this.node.getComponent(p).spriteFrame="ru"===c.currentLanguage?this.ruSprite:this.otherSprite},r}(u)).prototype,"ruSprite",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=r(y.prototype,"otherSprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=y))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteScroller.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,o,i,l,s,c,n,a,p,d,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,s=e._decorator,c=e.CCFloat,n=e.Node,a=e.UITransform,p=e.tween,d=e.Vec3,u=e.Component}],execute:function(){var h,y,f,S,b,m,w,N,v;l._RF.push({},"1485fTiIOxA/aE56Sy6dmpY","SpriteScroller",void 0);var g=s.ccclass,R=s.property;e("SpriteScroller",(h=g("SpriteScroller"),y=R(c),f=R(n),S=R(a),h((w=t((m=function(e){function t(){for(var t,r=arguments.length,l=new Array(r),s=0;s<r;s++)l[s]=arguments[s];return t=e.call.apply(e,[this].concat(l))||this,o(t,"scrollSpeed",w,i(t)),o(t,"scrolledNode",N,i(t)),o(t,"maskRect",v,i(t)),t}return r(t,e),t.prototype.start=function(){var e=this,t=function(){e.scrolledNode.position=new d(-e.maskRect.width/2,e.scrolledNode.position.y,0)};t.call(this),p(this.scrolledNode).by(this.scrollSpeed,{position:new d(this.maskRect.width,this.scrolledNode.position.y,0)}).call((function(){})).start(),p(this.scrolledNode).sequence(p(this.scrolledNode).by(this.scrollSpeed,{position:new d(this.maskRect.width,this.scrolledNode.position.y,0)}),p(this.scrolledNode).call(t)).repeatForever().start()},t}(u)).prototype,"scrollSpeed",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=t(m.prototype,"scrolledNode",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(m.prototype,"maskRect",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),b=m))||b));l._RF.pop()}}}));

System.register("chunks:///_virtual/Store.ts",["./rollupPluginModLoBabelHelpers.js","cc","./WindowManager.ts","./BaseWindow.ts","./PlayerProfileProvider.ts","./StoreItemType.ts","./StoreItem.ts","./StoreItemData.ts","./StoreItemState.ts","./PlayerStats.ts","./YesNoDialog.ts"],(function(t){var e,n,o,i,r,s,a,c,l,u,b,p,h,d,f,m,I,S,g,k,C,B,y,w,v,T,P;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Label,c=t.JsonAsset,l=t.Prefab,u=t.Node,b=t.Color,p=t.Button,h=t.SpriteFrame,d=t.instantiate,f=t.tween,m=t.Vec3,I=t.Sprite},function(t){S=t.windowManager,g=t.WindowManager},function(t){k=t.BaseWindow},function(t){C=t.playerProfileProvider},function(t){B=t.StoreItemType},function(t){y=t.StoreItem},function(t){w=t.StoreItemData},function(t){v=t.StoreItemState},function(t){T=t.playerStats},function(t){P=t.YesNoDialog}],execute:function(){var z,F,L,A,_,D,E,x,W,O,q,M,U,J,N,V,Y,j,R,H,Z,G,K;r._RF.push({},"d562cDurO5MEZyO5g0igIdO","Store",void 0);var Q=s.ccclass,X=s.property;t("Store",(z=Q("Store"),F=X(a),L=X(c),A=X(l),_=X(u),D=X(b),E=X(b),x=X(p),W=X(p),O=X(p),q=X(h),z((J=e((U=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,o(e,"coinsLabel",J,i(e)),o(e,"storeConfigJson",N,i(e)),o(e,"storeItemPrefab",V,i(e)),o(e,"storeItemsContainer",Y,i(e)),o(e,"activeButtonIconColor",j,i(e)),o(e,"inactiveButtonIconColor",R,i(e)),o(e,"flasksButton",H,i(e)),o(e,"backgroundsButton",Z,i(e)),o(e,"substancesButton",G,i(e)),o(e,"anyIcon",K,i(e)),e.storeConfig=void 0,e.storeItemTypeSelected=void 0,e.textBounceTween=void 0,e.storeItems=[],e}n(e,t);var r=e.prototype;return r.start=function(){this.storeConfig=this.storeConfigJson.json,this.setFlasksCategory()},r.SetItemType=function(t){var e,n=this;switch(this.CleanUp(),this.storeItemTypeSelected=t,this.storeItemTypeSelected){case B.Flask:e=C.SkinsSet.FlaskSkin;break;case B.Background:e=C.SkinsSet.BackgroundSkin;break;case B.Substance:e=C.SkinsSet.SubstanceSkin}this.storeConfig.storeItems.filter((function(e){return e.storeItemType==t&&e.available})).forEach((function(t){var o=d(n.storeItemPrefab),i=o.getComponent(y);n.storeItems.push(i),o.parent=n.storeItemsContainer;var r=e==t.id?v.Equipped:C.Inventory.hasItem(t.id)?v.Purchased:v.Available,s=new w(t.price,t.id,t.storeItemType,r);n.UpdateCoinsLabel(),i.Init(s,(function(t){return n.OnStoreItemClicked(t)}))}))},r.CleanUp=function(){this.storeItems.forEach((function(t){return t.node.destroy()})),this.storeItems=[]},r.OnStoreItemClicked=function(t){var e=this,n=function(){e.storeItems.forEach((function(e){e.itemState==v.Equipped&&e!=t&&e.SetPurchased()}))};switch(t.itemState){case v.Available:if(T.Coins.Value>=t.Price){var o="";switch(t.itemType){case B.Substance:o="ui_lbl_purchaseSubstanceAsk";break;case B.Flask:o="ui_lbl_purchaseFlaskAsk";break;case B.Background:o="ui_lbl_purchaseBackgroundAsk"}S.ShowWindow(g.WindowType.YesNoDialog).getComponent(P).Init(o,(function(){T.Coins.Increment(-t.Price),e.UpdateCoinsLabel(),C.Inventory.addPurchasedItem(t.itemId),e.SetItemApplied(t),C.SaveProfile(),t.SetEquipped(),n()}),(function(){}),!1)}else this.BounceTextLabel();break;case v.Purchased:this.SetItemApplied(t),t.SetEquipped(),n(),C.SaveProfile();break;case v.Equipped:}},r.SetItemApplied=function(t){switch(t.itemType){case B.Flask:C.SkinsSet.FlaskSkin=t.itemId;break;case B.Background:C.SkinsSet.BackgroundSkin=t.itemId;break;case B.Substance:C.SkinsSet.SubstanceSkin=t.itemId}},r.BounceTextLabel=function(){var t=this;null!=this.textBounceTween&&this.textBounceTween.stop(),this.textBounceTween=f(this.coinsLabel.node).to(.2,{scale:new m(1.5,1.5,1)},{easing:"smooth"}).to(.4,{scale:new m(1,1,1)},{easing:"elasticOut"}).call((function(){return t.textBounceTween=null})).start()},r.UpdateCoinsLabel=function(){this.coinsLabel.string=T.Coins.Value.toString()},r.CloseWindow=function(){S.CloseWindow()},r.setFlasksCategory=function(){this.backgroundsButton.interactable=this.substancesButton.interactable=!0,this.flasksButton.interactable=!1,this.backgroundsButton.getComponentInChildren(I).color=this.substancesButton.getComponentInChildren(I).color=this.activeButtonIconColor,this.flasksButton.getComponentInChildren(I).color=this.inactiveButtonIconColor,this.SetItemType(B.Flask)},r.setBackgroundsCategory=function(){this.flasksButton.interactable=this.substancesButton.interactable=!0,this.backgroundsButton.interactable=!1,this.flasksButton.getComponentInChildren(I).color=this.substancesButton.getComponentInChildren(I).color=this.activeButtonIconColor,this.backgroundsButton.getComponentInChildren(I).color=this.inactiveButtonIconColor,this.SetItemType(B.Background)},r.setSubstancesCategory=function(){this.flasksButton.interactable=this.backgroundsButton.interactable=!0,this.substancesButton.interactable=!1,this.flasksButton.getComponentInChildren(I).color=this.backgroundsButton.getComponentInChildren(I).color=this.activeButtonIconColor,this.substancesButton.getComponentInChildren(I).color=this.inactiveButtonIconColor,this.SetItemType(B.Substance)},e}(k)).prototype,"coinsLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),N=e(U.prototype,"storeConfigJson",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(U.prototype,"storeItemPrefab",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Y=e(U.prototype,"storeItemsContainer",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),j=e(U.prototype,"activeButtonIconColor",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new b(255,255,255,255)}}),R=e(U.prototype,"inactiveButtonIconColor",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new b(255,255,255,255)}}),H=e(U.prototype,"flasksButton",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=e(U.prototype,"backgroundsButton",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=e(U.prototype,"substancesButton",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),K=e(U.prototype,"anyIcon",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),M=U))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/StoreConfig.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1bafexM9BlMPrQA7WyxTbaW","StoreConfig",void 0);t("StoreConfig",(function(){this.storeItems=void 0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/StoreItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StoreItemState.ts","./ResourceManager.ts","./ResourcePathProvider.ts"],(function(e){var t,i,r,a,o,n,s,c,u,l,p,h,m,d,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){n=e.cclegacy,s=e._decorator,c=e.Node,u=e.Label,l=e.Sprite,p=e.SpriteFrame,h=e.Component},function(e){m=e.StoreItemState},function(e){d=e.resourceManager},function(e){I=e.resourcePathProvider}],execute:function(){var b,S,f,v,y,g,D,k,P,w,F,L,q,z,C;n._RF.push({},"4d2c5tsbeFP3LvdBGJ22Ffx","StoreItem",void 0);var R=s.ccclass,T=s.property;e("StoreItem",(b=R("StoreItem"),S=T(c),f=T(c),v=T(c),y=T(u),g=T(l),D=T(p),b((w=t((P=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),n=0;n<i;n++)o[n]=arguments[n];return t=e.call.apply(e,[this].concat(o))||this,r(t,"avaliable",w,a(t)),r(t,"purchased",F,a(t)),r(t,"equipped",L,a(t)),r(t,"priceLabel",q,a(t)),r(t,"icon",z,a(t)),r(t,"unknownSpriteFrame",C,a(t)),t.onClick=void 0,t.storeItemData=void 0,t}i(t,e);var n=t.prototype;return n.Init=function(e,t){this.storeItemData=e,this.onClick=t,this.priceLabel.string=e.Price.toString(),this.SetState()},n.SetState=function(){var e=this;switch(this.storeItemData.storeItemState){case m.Available:this.avaliable.active=!0,this.purchased.active=!1,this.equipped.active=!1,this.icon.spriteFrame=this.unknownSpriteFrame;break;case m.Purchased:this.avaliable.active=!1,this.purchased.active=!0,this.equipped.active=!1,d.LoadResource(p,I.GetStoreIcon(this.storeItemData.itemId,this.storeItemData.storeItemType)).then((function(t){return e.icon.spriteFrame=t}));break;case m.Equipped:this.avaliable.active=!1,this.purchased.active=!1,this.equipped.active=!0,d.LoadResource(p,I.GetStoreIcon(this.storeItemData.itemId,this.storeItemData.storeItemType)).then((function(t){return e.icon.spriteFrame=t}))}},n.OnClick=function(){this.onClick(this)},n.SetPurchased=function(){this.storeItemData.storeItemState=m.Purchased,this.SetState()},n.SetEquipped=function(){this.storeItemData.storeItemState=m.Equipped,this.SetState()},o(t,[{key:"itemType",get:function(){return this.storeItemData.storeItemType}},{key:"itemId",get:function(){return this.storeItemData.itemId}},{key:"itemState",get:function(){return this.storeItemData.storeItemState}},{key:"Price",get:function(){return this.storeItemData.Price}}]),t}(h)).prototype,"avaliable",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(P.prototype,"purchased",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=t(P.prototype,"equipped",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=t(P.prototype,"priceLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=t(P.prototype,"icon",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(P.prototype,"unknownSpriteFrame",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=P))||k));n._RF.pop()}}}));

System.register("chunks:///_virtual/StoreItemConfig.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"4ca5dP5YGRFWI3Pq2MKOdGE","StoreItemConfig",void 0);t("StoreItemConfig",(function(){this.id=void 0,this.price=void 0,this.storeItemType=void 0,this.available=void 0}));e._RF.pop()}}}));

System.register("chunks:///_virtual/StoreItemData.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1eb0dv3Y2RNAKb/Q8+stVbx","StoreItemData",void 0);t("StoreItemData",(function(t,e,i,s){this.Price=void 0,this.itemId=void 0,this.storeItemType=void 0,this.storeItemState=void 0,this.Price=t,this.itemId=e,this.storeItemType=i,this.storeItemState=s}));e._RF.pop()}}}));

System.register("chunks:///_virtual/StoreItemState.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"700b2nU4IxEDaUCgq39CxtB","StoreItemState",void 0);e("StoreItemState",function(e){return e[e.Available=0]="Available",e[e.Purchased=1]="Purchased",e[e.Equipped=2]="Equipped",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/StoreItemType.ts",["cc"],(function(e){var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"2bbcfU09RpCS5KkmwxNqId3","StoreItemType",void 0);e("StoreItemType",function(e){return e[e.Substance=0]="Substance",e[e.Flask=1]="Flask",e[e.Background=2]="Background",e}({}));t._RF.pop()}}}));

System.register("chunks:///_virtual/SubstanceConfig.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var o,t,r,i,l,n,a,u,c;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,n=e._decorator,a=e.Prefab,u=e.Color,c=e.Component}],execute:function(){var p,s,f,b,g,y,m,d,w,h,C,z,S,E,v,k,D,L,_;l._RF.push({},"e29d2SOLU9CeakSbqeJLXDC","SubstanceConfig",void 0);var P=n.ccclass,T=n.property,F={name:"Effects",style:"section"},R={name:"Substance",style:"section"};e("SubstanceConfig",(p=P("SubstanceConfig"),s=T({type:a,group:R}),f=T({type:a,group:R}),b=T({type:a,group:R}),g=T({type:a,group:F}),y=T({type:a,group:F}),m=T({type:a,group:F}),d=T({type:a,group:F}),w=T([u]),p((z=o((C=function(e){function o(){for(var o,t=arguments.length,l=new Array(t),n=0;n<t;n++)l[n]=arguments[n];return o=e.call.apply(e,[this].concat(l))||this,r(o,"surface",z,i(o)),r(o,"body",S,i(o)),r(o,"flow",E,i(o)),r(o,"idleEffects",v,i(o)),r(o,"completionEffects",k,i(o)),r(o,"pouringTopEffects",D,i(o)),r(o,"flaskSounds",L,i(o)),r(o,"colors",_,i(o)),o}return t(o,e),o.prototype.getColor=function(e){return console.log("get color "+e),e>=this.colors.length?(console.log("Color out of range"),new u(0,0,0)):(console.log("Color: "+this.colors[e]),this.colors[e])},o}(c)).prototype,"surface",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=o(C.prototype,"body",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=o(C.prototype,"flow",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=o(C.prototype,"idleEffects",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=o(C.prototype,"completionEffects",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=o(C.prototype,"pouringTopEffects",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=o(C.prototype,"flaskSounds",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=o(C.prototype,"colors",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=C))||h));l._RF.pop()}}}));

System.register("chunks:///_virtual/text.ts",["cc"],(function(t){var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){function c(t){return t.charAt(0).toUpperCase()+t.slice(1)}t({capitalizeEachWord:function(t){return t.split(" ").map((function(t){return c(t)})).join(" ")},capitalizeFirstLetter:c}),e._RF.push({},"fc885DJwtBFgrQ8MjsyB2GZ","text",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ToggleSoundButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerProfileProvider.ts","./AudioManager.ts"],(function(e){var t,o,n,i,r,u,a,l,s,p,d,c,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,u=e._decorator,a=e.SpriteFrame,l=e.Sprite,s=e.director,p=e.log,d=e.Component},function(e){c=e.playerProfileProvider},function(e){f=e.AudioManager}],execute:function(){var S,g,y,h,m,b,v,F,T;r._RF.push({},"f30f8b8p3RFOoKCaO7gTm6l","ToggleSoundButton",void 0);var M=u.ccclass,O=u.property;e("ToggleSoundButton",(S=M("ToggleSoundButton"),g=O({type:a}),y=O({type:a}),h=O({type:l}),S((v=t((b=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),u=0;u<o;u++)r[u]=arguments[u];return t=e.call.apply(e,[this].concat(r))||this,n(t,"soundOnSpriteFrame",v,i(t)),n(t,"soundOffSpriteFrame",F,i(t)),n(t,"soundSprite",T,i(t)),t}o(t,e);var r=t.prototype;return r.start=function(){s.on(f.EventType.MuteAudioChanged,this.SetSoundIcon,this),this.SetSoundIcon(c.Settings.audioMuted)},r.onDestroy=function(){p("ToggleSoundButton.onDestroy"),s.off(f.EventType.MuteAudioChanged,this.SetSoundIcon,this)},r.SetSoundIcon=function(e){this.soundSprite.spriteFrame=e?this.soundOffSpriteFrame:this.soundOnSpriteFrame},r.ToggleSound=function(){c.Settings.audioMuted=!c.Settings.audioMuted},t}(d)).prototype,"soundOnSpriteFrame",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(b.prototype,"soundOffSpriteFrame",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(b.prototype,"soundSprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),m=b))||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialController.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LevelController.ts","./PlayerStats.ts","./TutorialWindow.ts","./l10n.ts","./l10n-manager.ts"],(function(t){var e,l,n,o,r,i,a,s,u,c,f,h,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,l=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,i=t._decorator,a=t.Node,s=t.Component},function(t){u=t.LevelController,c=t.levelController},function(t){f=t.playerStats},function(t){h=t.TutorialWindow},null,function(t){d=t.default}],execute:function(){var p,v,y,k,T,b,S,F,O;r._RF.push({},"ce570G/8s5DeI0LAaHqTIlr","TutorialController",void 0);var C=i.ccclass,_=i.property;t("TutorialController",(p=C("TutorialController"),v=_(h),y=_(a),k=_(a),p((S=e((b=function(t){function e(){for(var e,l=arguments.length,r=new Array(l),i=0;i<l;i++)r[i]=arguments[i];return e=t.call.apply(t,[this].concat(r))||this,n(e,"tutorialOverlay",S,o(e)),n(e,"restartButton",F,o(e)),n(e,"cancelTurnButton",O,o(e)),e}l(e,t);var r=e.prototype;return r.start=function(){if(0==f.CurrentClassicLevel.Value){this.restartButton.active=!1,this.cancelTurnButton.active=!1,this.tutorialOverlay.node.active=!0,this.node.on(u.EventType.FlaskSelected,this.FlaskSelected,this),this.node.on(u.EventType.PouredOutToFlask,this.PouredOutToFlask,this),c.flasks[0].ShowSelectHint();for(var t=1;t<c.flasks.length;t++)c.flasks[t].LockInteraction();this.tutorialOverlay.SetText(d.t("ui_lbl_tutor_1"))}else this.tutorialOverlay.node.active=!1},r.onDestroy=function(){this.Unsubscribe()},r.FlaskSelected=function(){this.tutorialOverlay.SetText(d.t("ui_lbl_tutor_2")),c.flasks[0].HideSelectHint(),c.flasks[0].LockInteraction(),c.flasks[1].UnlockInteraction(),c.flasks[1].ShowSelectHint()},r.PouredOutToFlask=function(){c.flasks.forEach((function(t,e){1==e?t.HideSelectHint():t.UnlockInteraction()})),this.Unsubscribe()},r.Unsubscribe=function(){this.node.off(u.EventType.FlaskSelected,this.FlaskSelected,this),this.node.off(u.EventType.PouredOutToFlask,this.PouredOutToFlask,this)},e}(s)).prototype,"tutorialOverlay",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=e(b.prototype,"restartButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=e(b.prototype,"cancelTurnButton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=b))||T));r._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialWindow.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseWindow.ts"],(function(t){var e,i,r,n,o,a,l,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,l=t.Label},function(t){c=t.BaseWindow}],execute:function(){var s,u,p,f,d;o._RF.push({},"2499f7yDnBMNaCxkPaHZzW7","TutorialWindow",void 0);var y=a.ccclass,h=a.property;t("TutorialWindow",(s=y("TutorialWindow"),u=h(l),s((d=e((f=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"text",d,n(e)),e}return i(e,t),e.prototype.SetText=function(t){this.text.string=t},e}(c)).prototype,"text",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/TweenHelpers.ts",["cc"],(function(t){var n,e;return{setters:[function(t){n=t.cclegacy,e=t.tween}],execute:function(){n._RF.push({},"90075DAyMtFsZ6/4j8KqB4O","TweenHelpers",void 0);t("TweenHelpers",function(){function t(){}return t.RotateCounter=function(t,n,r,c,o,u,i){var a=e();a.target(n),a.call((function(){r(),t(c.toString())}));var f=(o-c)/(i/u);if(f>=.01)for(var l=function(){var n=Math.floor(s).toString();a.call((function(){t(n)})),a.delay(u)},s=c+f;s<=o-f;s+=f)l();return a.call((function(){t(o.toString())})),a},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){var e,n,o,i,s,r,a,l;return{setters:[function(t){e=t.cclegacy,n=t.tween,o=t.Vec3,i=t.Vec2,s=t.instantiate,r=t.UIOpacity,a=t.Sprite,l=t.ParticleSystem2D}],execute:function(){t({fadeAudioVolume:function(t,e,o,i){void 0===i&&(i=function(){});n(t).to(o,{volume:e},{onComplete:i}).start()},fadeInNode:function(t,e,n){void 0===n&&(n="linear");c(t,e,255,n)},fadeNode:c,fadeOutNode:function(t,e,n){void 0===n&&(n="linear");c(t,e,0,n)},instantiatePrefabIntoContainer:function(t,e){var n=s(t);return e.addChild(n),n},logColor:function(t,e){void 0===e&&(e="");var n=t.toCSS();console.log(e+"%c▮▮▮▮▮▮","color: "+n+"; background: "+n)},startParticles:u,startParticlesInNodeChildren:function(t){u(t.getComponentsInChildren(l))},stopParticles:h,stopParticlesInNodeChildren:function(t){h(t.getComponentsInChildren(l))},toggleParticles:f,vec2to3:function(t){return new o(t.x,t.y)},vec3to2:function(t){return new i(t.x,t.y)}}),e._RF.push({},"9607bc8uXNOvaa2rtvusrK1","Utils",void 0);t("TweenPool",function(){function t(){this._log=!1,this._tweens=[],this.onAllCompleteCallback=void 0,this.isPlaying=!1,this._destroySelf=!1,this._targets=new Map}var e=t.prototype;return e.onAllComplete=function(t){return this.onAllCompleteCallback=t,this},e.useLogger=function(){return this._log=!0,this},e.destroySelf=function(){return this._destroySelf=!0,this},e.bulkTo=function(t,e,n,o){var i=this;return void 0===o&&(o={}),t.forEach((function(t){i.to(t,e,n,o)})),this},e.to=function(t,e,o,i){void 0===i&&(i={}),i.onComplete=this.startNext.bind(this);var s=n(t).to(e,o,i);return this.addTween(s),this._targets.set(t,t),this},e.by=function(t,e,o,i){void 0===i&&(i={}),i.onComplete=this.startNext.bind(this);var s=n(t).by(e,o,i);return this.addTween(s),this._targets.set(t,t),this},e.start=function(){return this.isPlaying||(this.isPlaying=!0,this.startNext()),this},e.startNext=function(){var t=this._tweens.shift();t?(this.log("animation started"),t.start()):(this.onAllCompleteCallback&&this.onAllCompleteCallback(this._targets),this._targets.clear(),this.isPlaying=!1)},e.addTween=function(t){this._destroySelf&&t.destroySelf(),this._tweens.push(t)},e.log=function(){var t;this._log&&(t=console).log.apply(t,arguments)},t}());function c(t,e,o,i){void 0===i&&(i="linear");var s=t.getComponent(r)||t.getComponent(a);if(s){var l;if(s instanceof r)l={opacity:o};else{var c=s.color.clone();c.a=o,l={color:c}}n(s).to(e,l,{easing:i}).start()}}function u(t){f(!0,t)}function h(t){f(!1,t)}function f(t,e){e&&(Array.isArray(e)||(e=[e]),e.forEach((function(e){e&&(t?null==e||e.resetSystem():null==e||e.stopSystem(),e.enabled=t,e.node.active=t)})))}e._RF.pop()}}}));

System.register("chunks:///_virtual/WindowManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseWindowManager.ts","./ServiceLocator.ts"],(function(n){var e,o,i,r,a;return{setters:[function(n){e=n.inheritsLoose},function(n){o=n.cclegacy,i=n._decorator},function(n){r=n.BaseWindowManager},function(n){a=n.provide}],execute:function(){var t,s;n("windowManager",void 0),o._RF.push({},"3c781I/DZhPh6+kXaPI7S7L","WindowManager",void 0);var c,u=i.ccclass,d=function(n){return n.MainMenu="main_menu",n.GameMode="game_window",n.Store="store",n.PreWinScreen="prewin_screen",n.WinScreen="win_screen",n.Leaderboard="leaderboard",n.YesNoDialog="yes_no_dialog",n.YesNoDialogWithImage="yes_no_dialog_with_image",n.Tutorial="tutorial",n}(d||{});n("WindowManager",u("WindowManager")(((s=function(o){function i(){return o.apply(this,arguments)||this}e(i,o),i.Init=function(){c=n("windowManager",this.getComponent()),a("WindowManager",c)};var r=i.prototype;return r.ShowDefaultWindow=function(){return this.ShowWindow(d.MainMenu)},r.SwitchToWindow=function(n){return this.CloseAllWindows(),this.ShowWindow(n)},i}(r)).WindowType=d,t=s))||t);o._RF.pop()}}}));

System.register("chunks:///_virtual/WinScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseWindow.ts","./WindowManager.ts","./AudioManager.ts","./SoundConfig.ts","./GameLoopController.ts","./l10n.ts","./InputCatcher.ts","./l10n-manager.ts"],(function(e){var i,t,n,o,r,s,l,a,u,c,p,h,d,f,w,C,g,S;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,l=e.Label,a=e.CCFloat,u=e.log,c=e.math},function(e){p=e.BaseWindow},function(e){h=e.windowManager,d=e.WindowManager},function(e){f=e.audioManager},function(e){w=e.SoundConfig},function(e){C=e.gameLoopController},null,function(e){g=e.inputCatcher},function(e){S=e.default}],execute:function(){var v,T,b,m,y,W,x,M,L,_,z,I,k;r._RF.push({},"3e63dGDigBLuqkiV3a5wF7O","WinScreen",void 0);var A=s.ccclass,B=s.property;e("WinScreen",(v=A("WinScreen"),T=B(l),b=B(w),m=B(l),y=B(a),W=B(a),v((L=i((M=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(i=e.call.apply(e,[this].concat(r))||this).counter=0,i.score=void 0,n(i,"scoreText",L,o(i)),n(i,"winSound",_,o(i)),n(i,"levelText",z,o(i)),n(i,"counterTotalTime",I,o(i)),n(i,"counterIterationTime",k,o(i)),i.initialCoins=void 0,i.rewardCoins=void 0,i.skip=void 0,i}t(i,e);var r=i.prototype;return r.NextLevel=function(){this.stopSound(),h.CloseAllWindows(),C.StartNextLevel()},r.ShowStore=function(){this.stopSound(),h.CloseAllWindows(),h.ShowWindow(d.WindowType.MainMenu),h.ShowWindow(d.WindowType.Store)},r.start=function(){this.skip||f.playSoundConfig(this.winSound)},r.update=function(e){if(this.score!=this.initialCoins+this.rewardCoins&&(this.counter+=e,this.counter>this.counterIterationTime)){var i=Math.ceil(this.counterTotalTime/this.counter);u(this.rewardCoins+"/"+i),this.score=c.clamp(this.score+Math.ceil(this.rewardCoins/i),0,this.initialCoins+this.rewardCoins),this.setCoinsText(),this.counter=0}},r.stopSound=function(){f.stopSpecialStateSoundConfig("winscreen",this,!0)},r.Init=function(e,i,t,n){null!=g&&(g.PointerActive=!0),this.skip=n,C.BonusLevelRequired?this.levelText.string=S.t("ui_lbl_bonus_level").toUpperCase():this.levelText.string=S.t("ui_lbl_levelCompleted").toUpperCase().replace("{0}",(t+1).toString()),this.initialCoins=e,this.score=e,this.rewardCoins=i,this.setCoinsText()},r.setCoinsText=function(){this.scoreText.string=this.score+" (+"+this.rewardCoins+")"},i}(p)).prototype,"scoreText",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),_=i(M.prototype,"winSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new w}}),z=i(M.prototype,"levelText",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=i(M.prototype,"counterTotalTime",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=i(M.prototype,"counterIterationTime",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=M))||x));r._RF.pop()}}}));

System.register("chunks:///_virtual/YesNoDialog.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseWindow.ts","./l10n.ts","./ServiceLocator.ts","./WindowManager.ts","./l10n-manager.ts"],(function(i){var n,t,e,o,r,s,a,l,c,u,p,f;return{setters:[function(i){n=i.applyDecoratedDescriptor,t=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,s=i._decorator,a=i.Label,l=i.Sprite},function(i){c=i.BaseWindow},null,function(i){u=i.inject},function(i){p=i.windowManager},function(i){f=i.default}],execute:function(){var d,g,h,v,w,b,m;r._RF.push({},"926feb90I5P7LUUZS+r6z07","YesNoDialog",void 0);var y=s.ccclass,C=s.property;i("YesNoDialog",(d=y("YesNoDialog"),g=C({type:a}),h=C(l),d((b=n((w=function(i){function n(){for(var n,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return n=i.call.apply(i,[this].concat(r))||this,e(n,"messageLabel",b,o(n)),e(n,"sprite",m,o(n)),n.onYesClick=void 0,n.onNoClick=void 0,n.windowsManager=void 0,n}t(n,i);var r=n.prototype;return r.start=function(){this.windowsManager=u("WindowManager")},r.Init=function(i,n,t,e,o){void 0===t&&(t=function(){}),void 0===e&&(e=!1),this.messageLabel.string=e?f.t(i).toUpperCase():f.t(i),this.onYesClick=n,this.onNoClick=t},r.InitWithSprite=function(i,n,t,e,o){void 0===t&&(t=function(){}),void 0===e&&(e=!1),void 0===o&&(o=null),this.Init(i,n,t,e,o),null!=this.sprite&&(this.sprite.spriteFrame=o)},r.InitWithPromiseSprite=function(i,n,t,e,o){var r=this;void 0===t&&(t=function(){}),void 0===e&&(e=!1),o.then((function(i){null!=r.sprite&&(r.sprite.spriteFrame=i)})).catch((function(){console.log("Error loading sprite frame")})),this.Init(i,n,t,e)},r.OnYesClick=function(){p.CloseWindow(),this.onYesClick()},r.OnNoClick=function(){p.CloseWindow(),this.onNoClick()},n}(c)).prototype,"messageLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(w.prototype,"sprite",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=w))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/ysdk.ts",["./rollupPluginModLoBabelHelpers.js","cc","./env","./l10n3.ts","./index2.ts","./constants.ts","./localization.ts","./log.ts","./schema.ts","./server.ts","./text.ts","./ipc.ts"],(function(e){var n,a,t,r,i,o;return{setters:[function(e){n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){t=e.cclegacy,r=e.game},function(e){i=e.EDITOR},function(e){o=e.L10NManager},null,function(n){var a={};a.L10N_BUNDLE=n.L10N_BUNDLE,a.PACKAGE_NAME=n.PACKAGE_NAME,e(a)},function(n){var a={};a.LanguageCode=n.LanguageCode,a.domainToLanguageCode=n.domainToLanguageCode,a.getLanguageName=n.getLanguageName,a.getLanguageNativeName=n.getLanguageNativeName,a.isLanguageCode=n.isLanguageCode,e(a)},function(n){var a={};a.error=n.error,a.log=n.log,a.warn=n.warn,e(a)},function(n){e("generateSchema",n.generateSchema)},function(n){e("editorServerFetch",n.editorServerFetch)},function(n){var a={};a.capitalizeEachWord=n.capitalizeEachWord,a.capitalizeFirstLetter=n.capitalizeFirstLetter,e(a)},function(n){e("ipc",n.ipc)}],execute:async function(){t._RF.push({},"deeb3KOEFVCpYd+yNouZ+WL","ysdk",void 0);var c=e("ysdk",{}),s=e("l10n",o.instance);t.GAME_VIEW||i?await s.init():r.onPostProjectInitDelegate.add(n(a().mark((function n(){return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,YaGames.init();case 2:return c=e("ysdk",n.sent),n.next=5,s.init();case 5:s.changeLanguage(c.environment.i18n.lang);case 6:case"end":return n.stop()}}),n)})))),t._RF.pop()}}}));

System.register("chunks:///_virtual/YsdkInitializer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ysdk.ts","./AdShower.ts"],(function(e){var t,n,i,s,r,a,o,c,l,d;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){i=e.cclegacy,s=e._decorator,r=e.EventTarget,a=e.director,o=e.find,c=e.Component},function(e){l=e.ysdk},function(e){d=e.AdShower}],execute:function(){var u,y;i._RF.push({},"ca65bjDFwNNKq8VR4Pq1sgm","YsdkInitializer",void 0);var g=s.ccclass,v=function(e){return e.YsdkInitialized="YsdkInitialized",e.PlayerReceived="playerReceived",e.StatsReceived="statsReceived",e}(v||{});e("YsdkInitializer",g("YsdkInitializer")(((y=function(e){function i(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))||this).player=void 0,t.ysdkEventTarget=new r,t}t(i,e),i.Init=function(){this.Instance.Init()};var s=i.prototype;return s.Init=function(){var e=this;try{l.features.LoadingAPI.ready(),l.getPlayer().then((function(t){console.log(JSON.stringify(t)),e.player=t,t.getData().then((function(n){console.log(JSON.stringify(n)),e.ysdkEventTarget.emit(v.PlayerReceived,t,n)})),t.getStats().then((function(n){console.log(JSON.stringify(n)),e.ysdkEventTarget.emit(v.StatsReceived,t,n)}))})),this.onInitComplete(),d.Instance.TryShowFullScreenAd()}catch(e){this.onInitComplete(),this.ysdkEventTarget.emit(v.PlayerReceived,null,null),this.ysdkEventTarget.emit(v.StatsReceived,null,null),console.error("Failed to initialize Yandex Games SDK: "+e),console.log(e)}},s.onInitComplete=function(){a.emit(v.YsdkInitialized)},n(i,null,[{key:"Instance",get:function(){return i.instance||(this.instance=o("Managers/YsdkInitializer").getComponent(i)),i.instance}}]),i}(c)).EventType=v,y.instance=void 0,u=y))||u);i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});