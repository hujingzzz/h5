window.__require=function e(t,i,n){function r(s,c){if(!i[s]){if(!t[s]){var a=s.split("/");if(a=a[a.length-1],!t[a]){var l="function"==typeof __require&&__require;if(!c&&l)return l(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var u=i[s]={exports:{}};t[s][0].call(u.exports,function(e){return r(t[s][1][e]||e)},u,u.exports,e,t,i,n)}return i[s].exports}for(var o="function"==typeof __require&&__require,s=0;s<n.length;s++)r(n[s]);return r}({Adapt:[function(e,t){"use strict";cc._RF.push(t,"61dfd/hfrJOuozCPQ4LTij9","Adapt");var i=t.exports,n=__extends,r=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,s=o.ccclass,c=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isByChange=!0,t}return n(t,e),t.prototype.onLoad=function(){var e=this;this.isByChange&&cc.view.setResizeCallback(function(){return e.resize()}),this.resize()},t.prototype.resize=function(){var e=cc.find("Canvas").getComponent(cc.Canvas);this.curDR||(this.curDR=e.designResolution);var t=this.curDR,i=cc.view.getFrameSize(),n=i.width,r=i.height,o=n,s=r;n/r>t.width/t.height?o=(s=t.height)*n/r:s=r/n*(o=t.width),e.designResolution=cc.size(o,s),e.node.width=o,e.node.height=s,e.node.emit("resize")},r([c()],t.prototype,"isByChange",void 0),r([s],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],AddPropViewRecive:[function(e,t){"use strict";cc._RF.push(t,"afb14r9G0dHsJGd6eNBQWEs","AddPropViewRecive");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("TTAPI"),c=i("GameMgr"),a=i("User"),l=i("Common5"),u=i("MapCtrl"),d=i("PageBaseUI"),h=i("YPlatform"),p=cc._decorator,y=p.ccclass,f=p.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_left=null,t.btn_right=null,t.topScore=null,t.topObs=null,t.topIce=null,t.lab_obs=null,t.lab_ice=null,t.lab_score=null,t.spr_progress=null,t.lab_times=null,t.lab_title=null,t.lab_val=null,t.callBackFunc=null,t}return r(t,e),t.prototype.onLoad=function(){var t=this;if(e.prototype.onLoad.call(this),a.default.setMapData_csryw(null),c.default.getInstance_csryw().saveGameData_csryw(),this.togglePage(function(){l.default.btnRegister_csryw(t.btn_left,t.onclickBtnLeft.bind(t)),l.default.btnRegister_csryw(t.btn_right,t.onclickBtnRight.bind(t))}),this.lab_times.string="\uff08"+u.default.inst.prop1Times+"/3)",this.updateShowScore(),this.updateShowObs(),this.updateShowIce(),"undefined"!=typeof langManager)switch(langManager.langType){case"RU":this.lab_title.string="\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0431\u043b\u043e\u043a",this.lab_val.string="\u0423\u0434\u0430\u043b\u0438\u0442\u044c 1 \u0433\u0440\u0443\u043f\u043f\u0443 \u0431\u043b\u043e\u043a\u043e\u0432";break;case"TR":this.lab_title.string="Blo\u011fu Sil",this.lab_val.string="1 grup blo\u011fu sil";break;case"EN":default:this.lab_title.string="Delete Block",this.lab_val.string="Delete 1 groups of blocks"}},t.prototype.onclickBtnLeft=function(){this.isClick||(this.isClick=!0,this.isClick=!1,this.closeFunc(!1),this.callBackFunc&&this.callBackFunc(),h.YPlatform.showFullScreenAd())},t.prototype.onclickBtnRight=function(){var e=this;this.isClick||(this.isClick=!0,s.default.showRewardedVideoAd_csryw("\u770b\u89c6\u9891\u83b7\u5f97\u590d\u6d3b\u9524\u5b50"+u.default.inst.levelId+"_"+l.default.calculateLevel(u.default.inst.curScore,u.default.inst.winScore),function(t){t?(u.default.inst.prop1Times++,u.default.inst.curVideoNum++,u.default.inst.saveLvMapData(),u.default.inst.isAdAid+=1,c.default.getInstance_csryw().saveGameData_csryw(),u.default.inst.initPropDelet(),e.isClick=!1,e.closeFunc(!1),u.default.inst.reciveDelet()):e.isClick=!1},function(){e.isClick=!1}))},t.prototype.updateShowScore=function(){var e=u.default.inst.curScore,t=u.default.inst.winScore;this.lab_score.string=e+"/"+t;var i=e/t;i>1&&(i=1),this.spr_progress.fillRange=i,0==t&&(this.lab_score.node.parent.active=!1)},t.prototype.updateShowObs=function(){this.lab_obs.string=""+(u.default.inst.winObs-u.default.inst.curObs),u.default.inst.winObs==u.default.inst.curObs&&(this.lab_obs.node.parent.getChildByName("finish").active=!0,this.lab_obs.string=""),0==u.default.inst.winObs&&(this.lab_obs.node.parent.active=!1)},t.prototype.updateShowIce=function(){this.lab_ice.string=""+(u.default.inst.winIce-u.default.inst.curIce),u.default.inst.winObs==u.default.inst.curObs&&(this.lab_ice.node.parent.getChildByName("finish").active=!0,this.lab_ice.string=""),0==u.default.inst.winIce&&(this.lab_obs.node.parent.active=!1)},o([f(cc.Node)],t.prototype,"btn_left",void 0),o([f(cc.Node)],t.prototype,"btn_right",void 0),o([f(cc.Node)],t.prototype,"topScore",void 0),o([f(cc.Node)],t.prototype,"topObs",void 0),o([f(cc.Node)],t.prototype,"topIce",void 0),o([f(cc.Label)],t.prototype,"lab_obs",void 0),o([f(cc.Label)],t.prototype,"lab_ice",void 0),o([f(cc.Label)],t.prototype,"lab_score",void 0),o([f(cc.Label)],t.prototype,"lab_title",void 0),o([f(cc.Label)],t.prototype,"lab_val",void 0),o([f(cc.Sprite)],t.prototype,"spr_progress",void 0),o([f(cc.Label)],t.prototype,"lab_times",void 0),o([y],t)}(d.default);n.default=_,cc._RF.pop()},{}],AddPropView:[function(e,t){"use strict";cc._RF.push(t,"3534amOA+1NobzDUMdrS8AQ","AddPropView");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("TTAPI"),c=i("GameMgr"),a=i("User"),l=i("Common5"),u=i("MapCtrl"),d=i("PageBaseUI"),h=cc._decorator,p=h.ccclass,y=h.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.props=null,t.btn_left=null,t.btn_right=null,t.lab_tittle=null,t.lab_detail=null,t.lab_num=null,t.lab_times=null,t.btn_close=null,t.curMoney=0,t.tiitleArr=["\u6e05\u9664\u65b9\u5757","\u4ea4\u6362\u65b9\u5757","\u5237\u65b0"],t.strArr=["\u70b9\u51fb\u6d88\u96641\u7ec4\u65b9\u5757","\u62d6\u52a8\u4efb\u610f2\u7ec4\u65b9\u5757\u4ea4\u6362\uff01","\u5237\u65b03\u7ec4\u65b9\u5757\uff01"],t.curType=0,t}return r(t,e),t.prototype.onLoad=function(){if("undefined"!=typeof langManager)switch(langManager.langType){case"RU":this.tiitleArr=["\u0423\u0434\u0430\u043b\u0438\u0442\u044c","\u041e\u0431\u043c\u0435\u043d","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c"],this.strArr=["\u0423\u0441\u0442\u0440\u0430\u043d\u0438\u0442\u0435 1 \u0433\u0440\u0443\u043f\u043f\u0443 \u0431\u043b\u043e\u043a\u043e\u0432","\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 2 \u043d\u0430\u0431\u043e\u0440\u0430 \u0431\u043b\u043e\u043a\u043e\u0432, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u0438\u0445 \u043c\u0435\u0441\u0442\u0430\u043c\u0438!","\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u0435 3 \u043d\u0430\u0431\u043e\u0440\u0430 \u0431\u043b\u043e\u043a\u043e\u0432!"];break;case"TR":this.tiitleArr=["Silmek","De\u011fi\u015fme","Yenile"],this.strArr=["1 grup blo\u011fu ortadan kald\u0131r\u0131n","De\u011fi\u015ftirmek i\xe7in 2 blok k\xfcmesini s\xfcr\xfckleyin!","3 set blo\u011fu yenileyin!"];break;case"EN":default:this.tiitleArr=["Clear","Exchange","Refresh"],this.strArr=["Eliminate 1 group of blocks","Drag 2 sets of blocks to swap!","Refresh 3 sets of blocks!"]}var t=this;e.prototype.onLoad.call(this),this.btn_close=this.page.getChildByName("btn_close"),this.togglePage(function(){l.default.btnRegister_csryw(t.btn_close,t.closeFunc.bind(t)),l.default.btnRegister_csryw(t.btn_left,t.onclickBtnLeft.bind(t)),l.default.btnRegister_csryw(t.btn_right,t.onclickBtnRight.bind(t))})},t.prototype.initView=function(e){this.curType=e,this.lab_tittle.string=this.tiitleArr[e-1],this.lab_detail.string=this.strArr[e-1],this.props.getChildByName(""+e).active=!0,1==e?(this.curMoney=l.default.hammerPrice,this.lab_times.string="\uff08"+u.default.inst.prop1Times+"/3)"):2==e?(this.curMoney=l.default.exchangeCardPrice,this.lab_times.string="\uff08"+u.default.inst.prop2Times+"/3)"):3==e&&(this.curMoney=l.default.dealCardsPrice,this.lab_times.string="\uff08"+u.default.inst.prop3Times+"/3)"),this.lab_num.string=""+this.curMoney},t.prototype.onclickBtnLeft=function(){this.isClick||(this.isClick=!0,this.isClick=!1,this.closeFunc(!1))},t.prototype.onclickBtnRight=function(){var e=this;this.isClick||(this.isClick=!0,s.default.showRewardedVideoAd_csryw("\u770b\u89c6\u9891\u83b7\u5f97\u9053\u5177"+this.tiitleArr[this.curType-1]+u.default.inst.levelId+"_"+l.default.calculateLevel(u.default.inst.curScore,u.default.inst.winScore),function(t){if(t){u.default.inst.curVideoNum++;var i=a.default.getPropNumArr_csryw();1==e.curType?(i[0]=1,a.default.setPropNumArr_csryw(i),u.default.inst.initPropDelet(),u.default.inst.onClickBtnDelet(u.default.inst.btn_delet)):2==e.curType?(i[1]=1,a.default.setPropNumArr_csryw(i),u.default.inst.initPropTouch(),u.default.inst.onClickBtnTouch(u.default.inst.btn_touch)):3==e.curType&&(i[2]=1,a.default.setPropNumArr_csryw(i),u.default.inst.initPropChange(),u.default.inst.onClickBtnChange(u.default.inst.btn_change)),u.default.inst.saveLvMapData(),c.default.getInstance_csryw().saveGameData_csryw(),e.isClick=!1,e.closeFunc(!1)}else e.isClick=!1},function(){e.isClick=!1}))},o([y(cc.Node)],t.prototype,"props",void 0),o([y(cc.Node)],t.prototype,"btn_left",void 0),o([y(cc.Node)],t.prototype,"btn_right",void 0),o([y(cc.Label)],t.prototype,"lab_tittle",void 0),o([y(cc.Label)],t.prototype,"lab_detail",void 0),o([y(cc.Label)],t.prototype,"lab_num",void 0),o([y(cc.Label)],t.prototype,"lab_times",void 0),o([p],t)}(d.default);n.default=f,cc._RF.pop()},{}],AesTools:[function(e,t){"use strict";cc._RF.push(t,"9c8c9VeXudGa6FEiTG/ZPQx","AesTools");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0});var r=i("aes"),o=function(){function e(){}return e.encrypt_csryw=function(t){var i=r.enc.Utf8.parse(e.KEY_csryw),n=r.enc.Utf8.parse(e.IV_csryw);return r.AES.encrypt(t,i,{iv:n,mode:r.mode.CBC,padding:r.pad.Pkcs7}).toString()},e.decrypt_csryw=function(t){var i=r.enc.Utf8.parse(e.KEY_csryw),n=r.enc.Utf8.parse(e.IV_csryw);return r.AES.decrypt(t,i,{iv:n,padding:r.pad.Pkcs7}).toString(r.enc.Utf8)},e.KEY_csryw="b#63fFJ6AvkK3YT*",e.IV_csryw="J$f4DU%sNL73M&Go",e}();n.default=o,cc._RF.pop()},{}],AppConfig:[function(e,t){"use strict";cc._RF.push(t,"b8f67bBoedOMYO872FafoSD","AppConfig");var i=t.exports;Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(){}return e.GameName_csryw="\u4e0d\u54cd\u4e38\u8fa3",e.closeUseRYSDK_csryw=!1,e.isWX_TT_QQ_MiniGame_csryw=0,e.TT_APP_ID_csryw="tt786b0ed6e75af14802",e.WX_APP_ID_csryw="bxwl",e.QQ_APP_ID_csryw="",e.VIVO_APP_ID_csryw="",e.OPPO_APP_ID_csryw="",e.APK_APP_ID_csryw="",e.TT_gameid_csryw=-1,e.WX_gameid_csryw=-1,e.QQ_gameid_csryw=-1,e.VIVO_gameid_csryw=-1,e.OPPO_gameid_csryw=-1,e.APK_gameid_csryw=-1,e.TT_ResServer_csryw="",e.WX_ResServer_csryw="",e.QQ_ResServer_csryw="",e.VIVO_ResServer_csryw="",e.OPPO_ResServer_csryw="",e.APK_ResServer_csryw="",e.KS_ResServer_csryw="",e.TT_Versions_csryw="0.0.0",e.WX_Versions_csryw="1.0.0",e.QQ_Versions_csryw="0.0.0",e.VIVO_Versions_csryw="0.0.0",e.OPPO_Versions_csryw="0.0.0",e.APK_Versions_csryw="0.0.0",e.KS_Versions_csryw="1.0.1",e.TT_LoopAdLocationID_csryw=-1,e.TT_BannerAdLocationID_csryw=-1,e.TT_InsertAdLocationID_csryw=-1,e.TT_AniAdLocationID_csryw=-1,e.TT_HistoryLocationID_csryw=-1,e.TT_MoreGameLocationID_csryw=-1,e.WX_LoopAdLocationID_csryw="",e.WX_BannerAdLocationID_csryw="",e.WX_InsertAdLocationID_csryw=-1,e.WX_AniAdLocationID_csryw="",e.WX_HistoryLocationID_csryw=-1,e.WX_MoreGameLocationID_csryw="",e.QQ_LoopAdLocationID_csryw=-1,e.QQ_BannerAdLocationID_csryw=-1,e.QQ_InsertAdLocationID_csryw=-1,e.QQ_AniAdLocationID_csryw=-1,e.QQ_HistoryLocationID_csryw=-1,e.QQ_MoreGameLocationID_csryw=-1,e.VIVO_LoopAdLocationID_csryw=-1,e.VIVO_BannerAdLocationID_csryw=-1,e.VIVO_InsertAdLocationID_csryw=-1,e.VIVO_AniAdLocationID_csryw=-1,e.VIVO_HistoryLocationID_csryw=-1,e.VIVO_MoreGameLocationID_csryw=-1,e.OPPO_LoopAdLocationID_csryw=-1,e.OPPO_BannerAdLocationID_csryw=-1,e.OPPO_InsertAdLocationID_csryw=-1,e.OPPO_AniAdLocationID_csryw=-1,e.OPPO_HistoryLocationID_csryw=-1,e.OPPO_MoreGameLocationID_csryw=-1,e.adUnitId_csryw="",e.bannerAdUnitId_csryw="",e.InsAdUnitId_csryw="",e.tt_adUnitId_csryw="",e.tt_bannerAdUnitId_csryw="",e.tt_InsAdUnitId_csryw="",e.tt_templateId_csryw="",e.tt_adUnitIdArr_csryw=["3wumb4be31t4bjimai","3e253jficge3312ma6","3h8g2ehhcc3i5i87b6"],e.ks_InsAdUnitId_csryw="",e.qq_adUnitId_csryw="",e.qq_bannerAdUnitId_csryw="",e.qq_InsAdUnitId_csryw="",e.qq_AppBoxId_csryw="",e.qq_blockAdArray_csryw=[],e.subResArray_csryw=["subRes","subResFrame","subRes_config"],e.TT_state_csryw=1,e.WX_state_csryw=0,e.QQ_state_csryw=4,e.VIVO_state_csryw=7,e.OPPO_state_csryw=5,e.BD_state_csryw=3,e.APK_state_csryw=6,e.AppID_csryw="",e.state_csryw=0,e.gameid_csryw=0,e.ResServer_csryw="",e.Versions_csryw="0.0.0",e.LoopAdLocationID_csryw=-1,e.BannerAdLocationID_csryw=-1,e.InsertAdLocationID_csryw=-1,e.AniAdLocationID_csryw=-1,e.HistoryLocationID_csryw=-1,e.MoreGameLocationID_csryw=-1,e.UseRYSDK_csryw=!0,e}();i.default=n,cc._RF.pop()},{}],AppPlatform:[function(e,t){"use strict";cc._RF.push(t,"f8b57dn8sFM+5vHjIk2kcjH","AppPlatform");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0});var r=i("LogUtils"),o=i("AppConfig"),s=i("EventMgr"),c=i("EventEnum"),a=i("RYPlatformMgr"),l=i("TTAPI"),u=i("OPPOAPI"),d=i("VIVOAPI"),h=i("QQMiniGameAPI"),p=i("WXAPI"),y=i("UmengMgr"),f=i("KSAPI"),_=function(){function e(){}return e.loginPlatform_csryw=function(t,i,n){if(e.is_KS_csryw())f.default.login_csryw(function(e){t(e)},function(e){i(e)});else if(e.is_TT_GAME_csryw())l.default.ttLogin_csryw(function(e){t(e)},function(){i()});else if(e.is_WECHAT_GAME_csryw())p.default.wxLogin_csryw(function(e){t(e)},null);else if(e.is_OPPO_GAME_csryw())u.default.initAdService_csryw(function(){},function(){},function(){}),u.default.Login_csryw(function(e){t(e)},null);else if(e.is_QQ_PLAY_csryw())h.default.Login_csryw(function(e){t(e)},null);else if(e.is_VIVO_GAME_csryw()){var o=0,s=function(e){t(e)},c=function e(){if(o>=1)return console.log("vivo \u767b\u9646\u5931\u8d25\uff01\uff01\uff01\u91cd\u8bd5\u6b21\u6570\u5df2\u8fbe\u4e0a\u9650"),void i();d.default.showDialog_csryw("\u63d0\u793a","\u767b\u5f55\u5931\u8d25\uff0c\u70b9\u51fb\u786e\u5b9a\u6309\u94ae\u91cd\u8bd5",[{text:"\u786e\u5b9a",color:"#33dd44"}],function(){d.default.Login_csryw(function(e){s(e)},function(){e()}),++o},function(){},function(){})};d.default.Login_csryw(function(e){s(e)},function(){c()})}else e.is_Android_csryw()||e.is_Iphone_csryw()?r.LogUtils.log_csryw("playVideo android ios \u672a\u5b9e\u73b0"):n?n():i()},e.loadSubpackageFinish_csryw=function(){},e.playVideo_csryw=function(e){l.default.showRewardedVideoAd_csryw("\u672a\u77e5",e.onClose,e.onFailed)},e.showToast_csryw=function(t){e.is_WECHAT_GAME_csryw()||(e.is_TT_GAME_csryw()?window.tt.showToast({title:t,icon:"none"}):e.is_VIVO_GAME_csryw()?window.qg.showToast({message:t}):e.is_OPPO_GAME_csryw()?window.qg.showToast({title:t,icon:"none"}):e.is_QQ_PLAY_csryw()?window.qq.showToast({title:t,icon:"none"}):e.is_Android_csryw()||e.is_Iphone_csryw()||r.LogUtils.log_csryw("showToast \u5176\u4ed6\u5e73\u53f0 \u672a\u5b9e\u73b0"))},e.checkUpdate_csryw=function(){var t="";if(e.is_WECHAT_GAME_csryw()?t="wx":e.is_TT_GAME_csryw()&&(t="tt"),""!=t){console.log("\u542f\u52a8\u4e86\u7248\u672c\u66f4\u65b0\u673a\u5236\u3002\u3002\u3002\u3002");var i=window[t].getUpdateManager();i.onCheckForUpdate(function(e){console.log("\u662f\u5426\u9700\u8981\u66f4\u65b0 : ",e.hasUpdate)}),i.onUpdateReady(function(){window[t].showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5c0f\u6e38\u620f\uff1f",success:function(e){e.confirm&&i.applyUpdate()}})}),i.onUpdateFailed(function(){console.log("\u65b0\u7248\u672c\u4e0b\u8f7d\u5931\u8d25!!!")})}},e.navigateToMiniProgram_csryw=function(t,i){t&&(r.LogUtils.log_csryw("\u8df3\u8f6c\u6e38\u620f\uff1a "+t.title),e.is_TT_GAME_csryw()?l.default.showMoreGamesModal_csryw(function(){r.LogUtils.log_csryw("\u8df3\u8f6c\u6210\u529f")},function(){r.LogUtils.log_csryw("\u8df3\u8f6c\u5931\u8d25"),s.default.emitEvent_csryw(c.ryw_Event.ryw_ADKRQ_ClickQuit_csryw)}):e.is_WECHAT_GAME_csryw()?(a.default.sendClickAd_csryw(t.id),y.UmengMgr.sendReportAdClickStart_csryw(t.title,t.appid),p.default.navigateToMiniProgram_csryw(t.appid,t.url,function(){r.LogUtils.log_csryw("\u8df3\u8f6c\u6210\u529f"),y.UmengMgr.sendReportAdClickSuccess_csryw(t.title,t.appid),a.default.sendClickAdAllow_csryw(t.id)},function(e){r.LogUtils.log_csryw("\u8df3\u8f6c\u5931\u8d25"),s.default.emitEvent_csryw(c.ryw_Event.ryw_ADKRQ_ClickQuit_csryw),"navigateToMiniProgram:fail cancel"==e.errMsg&&(r.LogUtils.log_csryw("\u7528\u6237\u53d6\u6d88\u8df3\u8f6c"),y.UmengMgr.sendReportAdClickFail_csryw(t.title,t.appid),s.default.emitEvent_csryw(c.ryw_Event.ryw_ADKRQ_ClickQuit_csryw,i))},function(){r.LogUtils.log_csryw("\u8df3\u8f6c\u5b8c\u6210")})):e.is_OPPO_GAME_csryw()?u.default.navigateToMiniProgram_csryw(t.appid,t.title,t.url,function(){r.LogUtils.log_csryw("\u8df3\u8f6c\u6210\u529f")},function(){r.LogUtils.log_csryw("\u8df3\u8f6c\u5931\u8d25"),s.default.emitEvent_csryw(c.ryw_Event.ryw_ADKRQ_ClickQuit_csryw)},function(){r.LogUtils.log_csryw("\u8df3\u8f6c\u5b8c\u6210")}):e.is_QQ_PLAY_csryw()?h.default.navigateToMiniProgram_csryw(t.appid,t.url,function(){r.LogUtils.log_csryw("\u8df3\u8f6c\u6210\u529f")},function(){r.LogUtils.log_csryw("\u8df3\u8f6c\u5931\u8d25"),s.default.emitEvent_csryw(c.ryw_Event.ryw_ADKRQ_ClickQuit_csryw)},function(){r.LogUtils.log_csryw("\u8df3\u8f6c\u5b8c\u6210")}):e.is_VIVO_GAME_csryw()&&d.default.navigateToMiniProgram_csryw(t.appid,t.url,function(){r.LogUtils.log_csryw("\u8df3\u8f6c\u6210\u529f")},function(){r.LogUtils.log_csryw("\u8df3\u8f6c\u5931\u8d25"),s.default.emitEvent_csryw(c.ryw_Event.ryw_ADKRQ_ClickQuit_csryw)},function(){r.LogUtils.log_csryw("\u8df3\u8f6c\u5b8c\u6210")}))},e.initGame_csryw=function(){e.is_WECHAT_GAME_csryw()||(e.is_QQ_PLAY_csryw()?h.default.LoadAppBoxAd_csryw(function(){},function(){}):e.is_OPPO_GAME_csryw()?(null!=window.qg.reportMonitor&&"function"==typeof window.qg.reportMonitor&&window.qg.reportMonitor("game_scene",0),u.default.LoadCahcedNativeAd_csryw()):e.is_VIVO_GAME_csryw()?d.default.LoadCahcedNativeAd_csryw():e.is_TT_GAME_csryw())},e.is_KS_csryw=function(){return null!=window.kwaigame},e.is_WECHAT_GAME_csryw=function(){return 0==o.default.isWX_TT_QQ_MiniGame_csryw&&cc.sys.platform==cc.sys.WECHAT_GAME},e.is_QQ_PLAY_csryw=function(){return cc.sys.platform==cc.sys.WECHAT_GAME&&2==o.default.isWX_TT_QQ_MiniGame_csryw},e.is_OPPO_GAME_csryw=function(){return cc.sys.platform==cc.sys.OPPO_GAME},e.is_VIVO_GAME_csryw=function(){return cc.sys.platform==cc.sys.VIVO_GAME},e.is_TT_GAME_csryw=function(){return cc.sys.platform==cc.sys.BYTEDANCE_GAME},e.is_Xiaomi_GAME_csryw=function(){return cc.sys.platform==cc.sys.XIAOMI_GAME},e.is_Android_csryw=function(){return cc.sys.platform==cc.sys.ANDROID},e.isIphoneX_csryw=function(){if(this.is_Iphone_csryw()){var e=cc.sys.windowPixelResolution;if(2436==e.width&&1125==e.height||2436==e.height&&1125==e.width)return!0;if(2688==e.width&&1242==e.height||2688==e.height&&1242==e.width)return!0;if(1792==e.width&&828==e.height||1792==e.height&&828==e.width)return!0}return!1},e.is_Iphone_csryw=function(){return cc.sys.platform==cc.sys.IPHONE||cc.sys.platform==cc.sys.IPAD},e.getLaunchOptionsSync_csryw=function(){var t=null;if(e.is_TT_GAME_csryw()){t=window.tt.getLaunchOptionsSync();var i=JSON.stringify(t);return r.LogUtils.log_csryw("\u573a\u666f\u503c: "+i),t}if(e.is_WECHAT_GAME_csryw())return t=window.wx.getLaunchOptionsSync(),i=JSON.stringify(t),r.LogUtils.log_csryw("\u573a\u666f\u503c: "+i),t;if(e.is_OPPO_GAME_csryw()){var n=window.qg.getLaunchOptionsSync();return null!=n&&""!=n?t=n:(t={query:"",referrerInfo:{package:"",extraData:{appid:""}}},console.log("\u6ca1\u6709\u542f\u52a8\u8bbe\u7f6e\uff01\uff01\uff01")),i=JSON.stringify(t),r.LogUtils.log_csryw("\u573a\u666f\u503c: "+i),t}return e.is_QQ_PLAY_csryw()?(t=window.qq.getLaunchOptionsSync(),i=JSON.stringify(t),r.LogUtils.log_csryw("\u573a\u666f\u503c: "+i),t):(e.is_VIVO_GAME_csryw(),{})},e.startRecord_csryw=function(){e.is_KS_csryw()?f.default.startRecord_csryw():e.is_TT_GAME_csryw()?l.default.startRecord_csryw():r.LogUtils.log_csryw("startRecord \u5176\u4ed6\u5e73\u53f0 \u672a\u5b9e\u73b0")},e.stopRecord_csryw=function(){e.is_KS_csryw()?f.default.stopRecord_csryw():e.is_TT_GAME_csryw()?l.default.stopRecord_csryw():r.LogUtils.log_csryw("stopRecord \u5176\u4ed6\u5e73\u53f0 \u672a\u5b9e\u73b0")},e.shareRecord_csryw=function(){e.is_KS_csryw()?f.default.shareRecord_csryw():e.is_TT_GAME_csryw()?l.default.shareRecord_csryw():r.LogUtils.log_csryw("shareRecord \u5176\u4ed6\u5e73\u53f0 \u672a\u5b9e\u73b0")},e.PlatformResSubName_csryw="PlatformRes",e.isBackGameWX=!1,e}();n.default=_,cc._RF.pop()},{}],AppSwitchConfig:[function(e,t){"use strict";cc._RF.push(t,"363a2/EfUxOjLZAJUzEw51c","AppSwitchConfig");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.cocosWxcfg=n.BDCfg=n.VVcfg=n.TT2Cfg=n.TTCfg=n.QQCfg=n.OPPOCfg=n.WXCfg=n.Quickgamecfg=n.AppSwitchData=void 0;var r=i("AppConfig"),o=i("LogUtils"),s=i("FMInterface"),c=function(){function e(){this.version_csryw="",this.banner_csryw=0,this.wudian_csryw=0,this.debuginfo_csryw=0,this.isNetWorkGame_csryw=1,this.wudianAvailableTime_csryw={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},this.homePageExportTimeControl_csryw={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0},this.mailiang_csryw=1,this.mailianglist_csryw=new Array,this.mailiangSceneList_csryw=new Array,this.wxWuDianBanners_csryw=new Array,this.recreateBannerIDList_csryw=new Array,this.bannerRecreateTime_csryw=5,this.kuangdianjiange_csryw=0,this.btnMoveTimer_csryw=1,this.bannerMoveTimer_csryw=.5,this.bannerFreshTimer_csryw=200,this.bannerCreateFailNum_csryw=3,this.bannerTodayBannerMax_csryw=10,this.adSwitch_csryw=1,this.wudianSceneList_csryw=new Array,this.continueBtnDelayTime_csryw=2,this.bannerShowTime_csryw=30,this.fakeBtn_csryw=0,this.popAd_csryw=0,this.continueBanner_csryw=0,this.continueBannerShowTime_csryw=2,this.continueBannerHideTime_csryw=2,this.oppocfg_csryw=new u,this.qqcfg_csryw=new d,this.ttcfg_csryw=new h,this.vivocfg_csryw=new y,this.wxcfg_csryw=new l,this.tt2cfg_csryw=new p,this.cocosWxcfg_csryw=new _,this.bdcfg_csryw=new f,this.quickgamecfg_csryw=new a}return Object.defineProperty(e.prototype,"wudianTimeAvaliable_csryw",{get:function(){return 1==this.wudianAvailableTime_csryw[(new Date).getHours()]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"homePageExportIsOpen_csryw",{get:function(){return 1==Number(this.homePageExportTimeControl_csryw[""+(new Date).getHours()])},enumerable:!1,configurable:!0}),e}();n.AppSwitchData=c;var a=function(){this.autoExport=0,this.bigExportColor="416e8d",this.bigExportColor_g="416e8d",this.bigExportBannerType=100,this.bigExportShowBannerTime=1,this.bigExportHideBannerTime=2,this.hotplayBannerType=100,this.hotplayShowBannerTime=1,this.hotplayHideBannerTime=2,this.recommendBannerType=100,this.recommendShowBannerTime=1,this.recommendButMoveTime=.2,this.endBannerType=100,this.endShowBannerTime=1,this.endButMoveTime=.2,this.crazyShowBanner=[3,10],this.playButVideo=0,this.crazyBannerHideTime=0};n.Quickgamecfg=a;var l=function(){this.kuangdian_csryw=1,this.kuangdianBanner_csryw=0,this.kuangdianLevelSpcacing_csryw=0,this.ForceSkip_csryw=0,this.SlideSkip_csryw=0,this.tc_ForceSkip_csryw=0,this.tc_SlideSkip_csryw=0,this.phb_ForceSkip_csryw=0,this.phb_SlideSkip_csryw=0,this.tc_continueBanner_csryw=0,this.MainPop_csryw=0,this.hyrw_ForceSkip_csryw=0,this.hyrw_SlideSkip_csryw=0,this.hyrw_continueBanner_csryw=0,this.handShow_csryw=1,this.firstOpen_csryw=0,this.startVideo_csryw=0,this.mainBackBtn_csryw=1,this.mainMoreBtn_csryw=1,this.mainItemBtn_csryw=1,this.mainExportShow_csryw=0,this.isJumpHotPlay_csryw=0,this.moreGameShowLevel_csryw=0,this.setUserScan_csryw=0};n.WXCfg=l;var u=function(){this.yuansheng_csryw=100,this.yuanshengSwitch_csryw=1,this.addToDesktop_csryw=0,this.oppoversions_csryw="",this.btnShowTimer_csryw=0,this.indexAdSwitch_csryw=0,this.endAdSwitch_csryw=0,this.yuansheng2_csryw=100,this.yuanshengSwitch2_csryw=1};n.OPPOCfg=u;var d=function(){this.kuangdianBanner_csryw=0,this.kuangdianBox_csryw=0,this.box_csryw=0,this.weiyi_csryw=0,this.qqversions_csryw=""};n.QQCfg=d;var h=function(){this.moreGameSwitch_csryw=0,this.kuangdianBanner_csryw=0,this.luping_csryw=0,this.ttversions_csryw=""};n.TTCfg=h;var p=function(){this.startSwitch_csryw=0,this.signInSwitch_csryw=0,this.getSwitch_csryw=0,this.useSwitch_csryw=0,this.reliveSwitch_csryw=0,this.screenCapSwitch_csryw=0,this.boxSwitch_csryw=0};n.TT2Cfg=p;var y=function(){this.yuanshengSwitch_csryw=1,this.yuansheng_csryw=100,this.yuanshengSwitch2_csryw=1,this.yuansheng2_csryw=100,this.chapingSwitch_csryw=1,this.chaping_csryw=100,this.addToDesktop_csryw=1,this.vivoversions_csryw="",this.btnShowTimer_csryw=1};n.VVcfg=y;var f=function(){this.version_csryw="",this.signInSwitch_csryw=0,this.taskVideo_csryw=1,this.btnDelayTime_csryw=0};n.BDCfg=f;var _=function(){this.loopAd={rollWayLeftUp_csryw:0,rollWaitNum_csryw:1,rollWaitTime_csryw:1,roolSpeed_csryw:3,bgColor_csryw:"62d5ff"},this.skinTrial={videoIcon_csryw:0,wudian_csryw:0,timeClick_csryw:0,butMoveTime_csryw:0,bannerShowTime_csryw:0,bannerHideTime_csryw:0,butDelayShowTime_csryw:0,rollWayLeftUp_csryw:1,rollWaitNum_csryw:1,rollWaitTime_csryw:1,roolSpeed_csryw:3},this.revival={videoIcon_csryw:0,wudian_csryw:0,timeClick_csryw:0,butMoveTime_csryw:0,bannerShowTime_csryw:0,bannerHideTime_csryw:0,butDelayShowTime_csryw:0,rollWayLeftUp_csryw:1,rollWaitNum_csryw:1,rollWaitTime_csryw:1,roolSpeed_csryw:3},this.moreGoodGame={bgColor_csryw:"3485fb",maskColor_csryw:"",mouseEventIsUp_csryw:0,cancelIntercept_csryw:1,wudian_csryw:0,timeClick_csryw:0,butMoveTime_csryw:0,bannerShowTime_csryw:0,bannerHideTime_csryw:0,butDelayShowTime_csryw:0,rollWayLeftUp_csryw:1,rollWaitNum_csryw:1,rollWaitTime_csryw:1,roolSpeed_csryw:3},this.bigLoopAd={bgColor_csryw:"3485fb",maskColor_csryw:"",wudian_csryw:0,timeClick_csryw:0,butMoveTime_csryw:0,bannerShowTime_csryw:0,bannerHideTime_csryw:0,butDelayShowTime_csryw:0,rollWayLeftUp_csryw:1,rollWaitNum_csryw:1,rollWaitTime_csryw:1,roolSpeed_csryw:3},this.settlePage={bgColor_csryw:"3485fb",maskColor_csryw:"",wudian_csryw:0,timeClick_csryw:0,butMoveTime_csryw:0,bannerShowTime_csryw:0,bannerHideTime_csryw:0,butDelayShowTime_csryw:0,rollWayLeftUp_csryw:1,rollWaitNum_csryw:1,rollWaitTime_csryw:1,roolSpeed_csryw:3},this.moreGoodGame2={bgColor_csryw:"3485fb",maskColor_csryw:"",butDelayShowTime_csryw:0,rollWayLeftUp_csryw:1,rollWaitNum_csryw:1,rollWaitTime_csryw:1,roolSpeed_csryw:3}};n.cocosWxcfg=_;var g=function(){function e(){this._data_csryw=new Array}return e.getInstance_csryw=function(){return e._instance_csryw},e.prototype.loadUrlConfig_csryw=function(e,t){var i=this;if(""==r.default.ResServer_csryw)return o.LogUtils.warn_csryw("\u6ca1\u6709\u627e\u5230\u5408\u9002\u7684AppswitchConfig \u8def\u5f84"),this._data_csryw.push(new c),void(e&&s.callFM_csryw(e));var n=r.default.ResServer_csryw+"/json/appswitch.json?"+(new Date).getTime();cc.assetManager.loadRemote(n,function(r,a){if(cc.assetManager.cacheManager&&cc.assetManager.cacheManager.removeCache(n),r)return o.LogUtils.error_csryw(r),i._data_csryw.push(new c),void(t&&s.callFM_csryw(t));i._data_csryw.length=0;var l=a.json;if(o.LogUtils.log_csryw("\u4e0b\u8f7d appswitch.json>>>"),o.LogUtils.log_csryw(a),l)for(var u=0;u<l.length;++u){var d=l[u],h=new c;h.version_csryw=String(d.version),h.banner_csryw=Number(d.banner),h.wudian_csryw=Number(d.wudian),h.debuginfo_csryw=Number(d.debuginfo),h.isNetWorkGame_csryw=Number(d.netWorkgame),h.wudianAvailableTime_csryw=Object(d.wudianTime),h.homePageExportTimeControl_csryw=Object(d.homePageExportTimeControl);var p=d.wxwudianbanners;if(null!=p)for(var y=0;y<p.length;++y){var f=String(p[y]);h.wxWuDianBanners_csryw.push(f)}var _=d.recreateBannerIDList;if(null!=_)for(y=0;y<_.length;++y)f=String(_[y]),h.recreateBannerIDList_csryw.push(f);h.bannerRecreateTime_csryw=null!=d.bannerRecreateTime?Number(d.bannerRecreateTime):h.bannerRecreateTime_csryw,h.kuangdianjiange_csryw=null!=d.kuangdianjiange?Number(d.kuangdianjiange):h.kuangdianjiange_csryw,h.btnMoveTimer_csryw=Number(d.btnMoveTimer),h.bannerMoveTimer_csryw=Number(d.bannerMoveTimer),h.bannerCreateFailNum_csryw=Number(d.createFailNum),h.bannerFreshTimer_csryw=Number(d.bannerFreshTimer),h.bannerTodayBannerMax_csryw=Number(d.todayBannerMax),h.adSwitch_csryw=Number(d.adSwitch);var g=d.wudianSceneList;if(null!=g)for(y=0;y<g.length;++y){var w=Number(g[y]);h.wudianSceneList_csryw.push(w)}if(h.continueBtnDelayTime_csryw=Number(d.continueBtnDelayTime),h.bannerShowTime_csryw=Number(d.bannerShowTime),h.fakeBtn_csryw=null!=d.fakeBtn?Number(d.fakeBtn):h.fakeBtn_csryw,h.popAd_csryw=null!=d.popAd?Number(d.popAd):h.popAd_csryw,h.continueBanner_csryw=null!=d.continueBanner?Number(d.continueBanner):h.continueBanner_csryw,h.continueBannerShowTime_csryw=null!=d.continueBannerShowTime?Number(d.continueBannerShowTime):h.continueBannerShowTime_csryw,h.continueBannerHideTime_csryw=null!=d.continueBannerHideTime?Number(d.continueBannerHideTime):h.continueBannerHideTime_csryw,null!=d.oppocfg){var m=d.oppocfg;h.oppocfg_csryw.yuansheng_csryw=Number(m.yuansheng),h.oppocfg_csryw.yuanshengSwitch_csryw=Number(m.yuanshengSwitch),h.oppocfg_csryw.addToDesktop_csryw=Number(m.addToDesktop),h.oppocfg_csryw.oppoversions_csryw=String(m.oppoversions),h.oppocfg_csryw.btnShowTimer_csryw=Number(m.btnShowTimer),h.oppocfg_csryw.indexAdSwitch_csryw=Number(m.indexAdSwitch),h.oppocfg_csryw.endAdSwitch_csryw=Number(m.endAdSwitch),h.oppocfg_csryw.yuansheng2_csryw=null!=m.yuansheng2?Number(m.yuansheng2):h.oppocfg_csryw.yuansheng2_csryw,h.oppocfg_csryw.yuanshengSwitch2_csryw=null!=m.yuanshengSwitch2?Number(m.yuanshengSwitch2):h.oppocfg_csryw.yuanshengSwitch2_csryw}if(null!=d.qqcfg&&(m=d.qqcfg,h.qqcfg_csryw.kuangdianBanner_csryw=Number(m.kuangdianBanner),h.qqcfg_csryw.kuangdianBox_csryw=Number(m.kuangdianBox),h.qqcfg_csryw.box_csryw=Number(m.box),h.qqcfg_csryw.weiyi_csryw=Number(m.weiyi),h.qqcfg_csryw.qqversions_csryw=String(m.qqversions)),null!=d.ttcfg&&(m=d.ttcfg,h.ttcfg_csryw.moreGameSwitch_csryw=Number(m.moreGameSwitch),h.ttcfg_csryw.kuangdianBanner_csryw=Number(m.kuangdianBanner),h.ttcfg_csryw.luping_csryw=Number(m.luping),h.ttcfg_csryw.ttversions_csryw=String(m.ttversions)),null!=d.tt2cfg&&(m=d.tt2cfg,h.tt2cfg_csryw.startSwitch_csryw=Number(m.startSwitch),h.tt2cfg_csryw.signInSwitch_csryw=Number(m.signInSwitch),h.tt2cfg_csryw.getSwitch_csryw=Number(m.getSwitch),h.tt2cfg_csryw.useSwitch_csryw=Number(m.useSwitch),h.tt2cfg_csryw.reliveSwitch_csryw=Number(m.reliveSwitch),h.tt2cfg_csryw.screenCapSwitch_csryw=Number(m.screenCapSwitch),h.tt2cfg_csryw.boxSwitch_csryw=Number(m.boxSwitch)),null!=d.vivocfg&&(m=d.vivocfg,h.vivocfg_csryw.yuanshengSwitch_csryw=Number(m.yuanshengSwitch),h.vivocfg_csryw.yuansheng_csryw=Number(m.yuansheng),h.vivocfg_csryw.yuanshengSwitch2_csryw=Number(m.yuanshengSwitch2),h.vivocfg_csryw.yuansheng2_csryw=Number(m.yuansheng2),h.vivocfg_csryw.chapingSwitch_csryw=Number(m.chapingSwitch),h.vivocfg_csryw.chaping_csryw=Number(m.chaping),h.vivocfg_csryw.addToDesktop_csryw=Number(m.addToDesktop),h.vivocfg_csryw.vivoversions_csryw=String(m.vivoversions),h.vivocfg_csryw.btnShowTimer_csryw=Number(m.btnShowTimer)),null!=d.wxcfg&&(m=d.wxcfg,h.wxcfg_csryw.kuangdian_csryw=Number(m.kuangdian),h.wxcfg_csryw.kuangdianBanner_csryw=Number(m.kuangdianBanner),h.wxcfg_csryw.kuangdianLevelSpcacing_csryw=Number(m.kuangdianLevelSpcacing),h.wxcfg_csryw.ForceSkip_csryw=Number(m.ForceSkip),h.wxcfg_csryw.SlideSkip_csryw=Number(m.SlideSkip),h.wxcfg_csryw.tc_ForceSkip_csryw=Number(m.tc_ForceSkip),h.wxcfg_csryw.tc_SlideSkip_csryw=Number(m.tc_SlideSkip),h.wxcfg_csryw.phb_ForceSkip_csryw=Number(m.phb_ForceSkip),h.wxcfg_csryw.phb_SlideSkip_csryw=Number(m.phb_SlideSkip),h.wxcfg_csryw.tc_continueBanner_csryw=Number(m.tc_continueBanner),h.wxcfg_csryw.MainPop_csryw=Number(m.MainPop),h.wxcfg_csryw.hyrw_ForceSkip_csryw=Number(m.hyrw_ForceSkip),h.wxcfg_csryw.hyrw_SlideSkip_csryw=Number(m.hyrw_SlideSkip),h.wxcfg_csryw.hyrw_continueBanner_csryw=Number(m.hyrw_continueBanner),h.wxcfg_csryw.handShow_csryw=Number(m.handShow),h.wxcfg_csryw.firstOpen_csryw=Number(m.firstOpen),h.wxcfg_csryw.startVideo_csryw=Number(m.startVideo),h.wxcfg_csryw.mainBackBtn_csryw=Number(m.mainBackBtn),h.wxcfg_csryw.mainMoreBtn_csryw=Number(m.mainMoreBtn),h.wxcfg_csryw.mainItemBtn_csryw=Number(m.mainItemBtn),h.wxcfg_csryw.mainExportShow_csryw=Number(m.mainExportShow),h.wxcfg_csryw.isJumpHotPlay_csryw=Number(m.isJumpHotPlay),h.wxcfg_csryw.moreGameShowLevel_csryw=Number(m.moreGameShowLevel),h.wxcfg_csryw.setUserScan_csryw=Number(m.setUserScan)),null!=d.bdcfg&&(m=d.bdcfg,h.bdcfg_csryw.btnDelayTime_csryw=Number(m.btnDelayTime),h.bdcfg_csryw.signInSwitch_csryw=Number(m.signInSwitch),h.bdcfg_csryw.taskVideo_csryw=Number(m.taskVideo),h.bdcfg_csryw.version_csryw=String(m.version)),null!=d.cocosWxConfig){var v=(m=d.cocosWxConfig).loopAd,b=m.skinTrial,S=m.revival,A=m.moreGoodGame,C=m.bigLoopAd,k=m.settlePage,N=m.moreGoodGame2;for(var I in h.cocosWxcfg_csryw.loopAd)Object.prototype.hasOwnProperty.call(h.cocosWxcfg_csryw.loopAd,I)&&(h.cocosWxcfg_csryw.loopAd[I]="bgColor"==I?null!=v[I]?String(v[I]):h.cocosWxcfg_csryw.loopAd[I]:null!=v[I]?Number(v[I]):h.cocosWxcfg_csryw.loopAd[I]);for(var I in h.cocosWxcfg_csryw.skinTrial)Object.prototype.hasOwnProperty.call(h.cocosWxcfg_csryw.skinTrial,I)&&(h.cocosWxcfg_csryw.skinTrial[I]=null!=b[I]?Number(b[I]):h.cocosWxcfg_csryw.skinTrial[I]);for(var I in h.cocosWxcfg_csryw.revival)Object.prototype.hasOwnProperty.call(h.cocosWxcfg_csryw.revival,I)&&(h.cocosWxcfg_csryw.revival[I]=null!=S[I]?Number(S[I]):h.cocosWxcfg_csryw.revival[I]);for(var I in h.cocosWxcfg_csryw.moreGoodGame)Object.prototype.hasOwnProperty.call(h.cocosWxcfg_csryw.moreGoodGame,I)&&(h.cocosWxcfg_csryw.moreGoodGame[I]="bgColor"==I||"maskColor"==I?null!=A[I]?String(A[I]):h.cocosWxcfg_csryw.moreGoodGame[I]:null!=A[I]?Number(A[I]):h.cocosWxcfg_csryw.moreGoodGame[I]);for(var I in h.cocosWxcfg_csryw.bigLoopAd)Object.prototype.hasOwnProperty.call(h.cocosWxcfg_csryw.bigLoopAd,I)&&(h.cocosWxcfg_csryw.bigLoopAd[I]="bgColor"==I||"maskColor"==I?null!=C[I]?String(C[I]):h.cocosWxcfg_csryw.bigLoopAd[I]:null!=C[I]?Number(C[I]):h.cocosWxcfg_csryw.bigLoopAd[I]);for(var I in h.cocosWxcfg_csryw.settlePage)Object.prototype.hasOwnProperty.call(h.cocosWxcfg_csryw.settlePage,I)&&(h.cocosWxcfg_csryw.settlePage[I]="bgColor"==I||"maskColor"==I?null!=k[I]?String(k[I]):h.cocosWxcfg_csryw.settlePage[I]:null!=k[I]?Number(k[I]):h.cocosWxcfg_csryw.settlePage[I]);for(var I in h.cocosWxcfg_csryw.moreGoodGame2)Object.prototype.hasOwnProperty.call(h.cocosWxcfg_csryw.moreGoodGame2,I)&&(h.cocosWxcfg_csryw.moreGoodGame2[I]="bgColor"==I||"maskColor"==I?null!=N[I]?String(N[I]):h.cocosWxcfg_csryw.moreGoodGame2[I]:null!=N[I]?Number(N[I]):h.cocosWxcfg_csryw.moreGoodGame2[I])}if(null!=d.quickgamecfg){m=d.quickgamecfg,h.quickgamecfg_csryw.autoExport=Number(m.autoExport),h.quickgamecfg_csryw.bigExportColor=m.bigExportColor,h.quickgamecfg_csryw.bigExportColor_g=m.bigExportColor_g,h.quickgamecfg_csryw.bigExportBannerType=Number(m.bigExportBannerType),h.quickgamecfg_csryw.bigExportShowBannerTime=Number(m.bigExportShowBannerTime),h.quickgamecfg_csryw.bigExportHideBannerTime=Number(m.bigExportHideBannerTime),h.quickgamecfg_csryw.hotplayBannerType=Number(m.hotplayBannerType),h.quickgamecfg_csryw.hotplayShowBannerTime=Number(m.hotplayShowBannerTime),h.quickgamecfg_csryw.hotplayHideBannerTime=Number(m.hotplayHideBannerTime),h.quickgamecfg_csryw.recommendBannerType=Number(m.recommendBannerType),h.quickgamecfg_csryw.recommendShowBannerTime=Number(m.recommendShowBannerTime),h.quickgamecfg_csryw.recommendButMoveTime=Number(m.recommendButMoveTime),h.quickgamecfg_csryw.endBannerType=Number(m.endBannerType),h.quickgamecfg_csryw.endShowBannerTime=Number(m.endShowBannerTime),h.quickgamecfg_csryw.endButMoveTime=Number(m.endButMoveTime),h.quickgamecfg_csryw.playButVideo=null==m.playButVideo?0:Number(m.playButVideo),h.quickgamecfg_csryw.crazyBannerHideTime=null==m.crazyBannerHideTime?0:Number(m.crazyBannerHideTime);var P=m.crazyShowBanner;if(P){var T=P.split(",");h.quickgamecfg_csryw.crazyShowBanner[0]=Number(T[0]),h.quickgamecfg_csryw.crazyShowBanner[1]=Number(T[1])}}i._data_csryw.push(h)}else i._data_csryw.push(new c);e&&s.callFM_csryw(e)})},e.prototype.getAppSwitchData_csryw=function(){return this._data_csryw[0]},e._instance_csryw=new e,e}();n.default=g,cc._RF.pop()},{}],BloodView:[function(e,t){"use strict";cc._RF.push(t,"a5369IXrCRO1L5g5DLl08Vu","BloodView");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("TTAPI"),c=i("EventEnum"),a=i("EventMgr"),l=i("DialogMgr"),u=i("GameMgr"),d=i("PhysicalPowerMgr"),h=i("User"),p=i("Common5"),y=i("PageBaseUI"),f=cc._decorator,_=f.ccclass,g=f.property,w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_close=null,t.timer=null,t.labelPowerTime=null,t.btn_left=null,t.btn_right=null,t.numShow=null,t.lab_num=null,t}return r(t,e),t.prototype.onLoad=function(){var t=this;e.prototype.onLoad.call(this),this.btn_close=this.page.getChildByName("btn_close"),this.togglePage(function(){p.default.btnRegister_csryw(t.btn_close,t.closeFunc.bind(t)),p.default.btnRegister_csryw(t.btn_left,t.onclickBtnLeft.bind(t)),p.default.btnRegister_csryw(t.btn_right,t.onclickBtnRight.bind(t))}),a.default.onEvent_csryw(c.ryw_Event.updatePhysicalPower,function(){t.updatePhysicalPower()},this),this.updatePhysicalPower(),this.lab_num.string=""+p.default.powerPrice},t.prototype.updatePhysicalPower=function(){if(d.default.getPhysicalNum()<d.default.MaxPhysical){var e=d.default.getPhyVideoTime(),t=(new Date).getTime(),i=1e3*d.default.RecoverPhysicalTime-(t-e);i>0?(this.timer.active=!0,this.labelPowerTime.string="\u5012\u8ba1\u65f6"+d.default.formatTime3(i/1e3)):(this.labelPowerTime.string="\u5df2\u6ee1",this.timer.active=!1)}else this.labelPowerTime.string="\u5df2\u6ee1",this.timer.active=!1;for(var n=d.default.getPhysicalNum(),r=this.numShow.childrenCount,o=0;o<r;o++)this.numShow.children[o].children[0].opacity=n-o>=1?255:0},t.prototype.onclickBtnLeft=function(){if(!this.isClick){if(this.isClick=!0,d.default.getPhysicalNum()==d.default.MaxPhysical)return l.default.openToast("\u8840\u91cf\u5df2\u6ee1"),void(this.isClick=!1);if(h.default.getMoney_csryw()<p.default.powerPrice)return l.default.openToast("\u60a8\u7684\u91d1\u5e01\u4e0d\u8db3"),void(this.isClick=!1);h.default.subMoney_csryw(p.default.powerPrice),d.default.setPhysicalNum(d.default.getPhysicalNum()+1),u.default.getInstance_csryw().saveGameData_csryw(),this.isClick=!1}},t.prototype.onclickBtnRight=function(){var e=this;if(!this.isClick){if(this.isClick=!0,d.default.getPhysicalNum()==d.default.MaxPhysical)return l.default.openToast("\u8840\u91cf\u5df2\u6ee1"),void(this.isClick=!1);s.default.showRewardedVideoAd_csryw("\u770b\u89c6\u9891\u6062\u590d\u8840\u91cf",function(t){t?(d.default.setPhysicalNum(d.default.getPhysicalNum()+1),u.default.getInstance_csryw().saveGameData_csryw(),e.isClick=!1):e.isClick=!1},function(){e.isClick=!1})}},o([g(cc.Node)],t.prototype,"timer",void 0),o([g(cc.Label)],t.prototype,"labelPowerTime",void 0),o([g(cc.Node)],t.prototype,"btn_left",void 0),o([g(cc.Node)],t.prototype,"btn_right",void 0),o([g(cc.Node)],t.prototype,"numShow",void 0),o([g(cc.Label)],t.prototype,"lab_num",void 0),o([_],t)}(y.default);n.default=w,cc._RF.pop()},{}],BreathingEffect:[function(e,t){"use strict";cc._RF.push(t,"be74cRLqEZD8JRc6OzKGBRq","BreathingEffect");var i=t.exports,n=__extends,r=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,s=o.ccclass,c=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.targetScale=1.2,t.targetNode=null,t.breathDuration=2,t.isStart=!1,t}return n(t,e),t.prototype.onEnable=function(){this.startBreathing()},t.prototype.startBreathing=function(){this.isStart=!0;var e=this.targetNode.scale,t=e*this.targetScale,i=this.breathDuration/2;cc.tween(this.targetNode).to(i,{scale:t}).to(i,{scale:e}).union().repeatForever().start()},t.prototype.stopBreathing=function(){this.targetNode.stopAllActions()},t.prototype.onDisable=function(){this.stopBreathing(),this.node.scale=1},r([c(cc.Float)],t.prototype,"targetScale",void 0),r([c(cc.Node)],t.prototype,"targetNode",void 0),r([c({range:[0,10]})],t.prototype,"breathDuration",void 0),r([s],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],BundleMgr:[function(e,t){"use strict";cc._RF.push(t,"877a3UASUlFu5nMq3NX2h6R","BundleMgr");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0});var r=i("FMInterface"),o=i("LogUtils"),s=function(){function e(){}return e.loadBundleByName_csryw=function(e,t){o.LogUtils.info_csryw("\u52a0\u8f7d\u8d44\u6e90\u5305 "+e),cc.assetManager.loadBundle(e,function(e,i){console.log(i),r.callFM_csryw(t,e,i)})},e.getBundle_csryw=function(e){return cc.assetManager.getBundle(e)},e.removeBundle_csryw=function(e,t){void 0===t&&(t=!0);var i=this.getBundle_csryw(e);i&&t&&i.releaseAll(),cc.assetManager.removeBundle(i)},e.runScene_csryw=function(e,t,i){void 0===i&&(i=null);var n=this.getBundle_csryw(e);n?n.loadScene(t,function(e,t){i&&r.callFM_csryw(i),cc.director.runScene(t)}):this.loadBundleByName_csryw(e,r.handleFM_csryw(function(e,n){n.loadScene(t,function(e,t){i&&r.callFM_csryw(i),cc.director.runScene(t)})},this))},e}();n.default=s,cc._RF.pop()},{}],CandyTs:[function(e,t){"use strict";cc._RF.push(t,"89843wZ+mxAWZmtbRJRabfh","CandyTs");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("EventEnum"),c=i("EventMgr"),a=i("Common5"),l=i("User"),u=cc._decorator,d=u.ccclass,h=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.val_lab=null,t}return r(t,e),t.prototype.onLoad=function(){this.val_lab=this.node.getChildByName("val_lab").getComponent(cc.Label),this.updateShow(),c.default.onEvent_csryw(s.ryw_Event.ryw_Game_OnUserCandyChange_csryw,this.updateShow,this)},t.prototype.start=function(){},t.prototype.updateShow=function(){this.val_lab.string=a.default.getHS(l.default.getCandy_csryw(),!0)},o([d],t)}(cc.Component));n.default=h,cc._RF.pop()},{}],Cll:[function(e,t){"use strict";cc._RF.push(t,"28e790ohkdDdLMmhltlRLvB","Cll");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("TTAPI"),c=i("EventEnum"),a=i("EventMgr"),l=i("DialogMgr"),u=i("GameMgr"),d=i("Common5"),h=i("User"),p=i("AppPlatform"),y=i("FMMainScene"),f=cc._decorator,_=f.ccclass,g=(f.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_close=null,t.btn_get=null,t.btn_to=null,t.isCanClick=!1,t.page=null,t.isClick=!1,t}return r(t,e),t.prototype.onLoad=function(){var e=this;this.page=this.node.getChildByName("center"),this.btn_close=this.page.getChildByName("btn_close"),this.btn_get=this.page.getChildByName("btn_get"),this.btn_get.children[0].active=!0,this.btn_to=this.page.getChildByName("btn_to"),this.chekCll(),this.btn_to.active=!1,s.default.checkCanToSide(function(t){e.isCanClick?e.btn_to.active=!1:e.btn_to.active=t}),a.default.onEvent_csryw(c.ryw_Event.ryw_cll,this.chekCll,this)},t.prototype.start=function(){d.default.btnRegister_csryw(this.btn_close,this.closeFunc.bind(this)),d.default.btnRegister_csryw(this.btn_to,this.natToSide.bind(this))},t.prototype.natToSide=function(){s.default.openSideBar()},t.prototype.chekCll=function(){"021036"!=p.default.getLaunchOptionsSync_csryw().scene&&"021036"!=p.default.getLaunchOptionsSync_csryw().query.scene||(console.log("ly+++++++++++ \u4fa7\u62c9\u680f\u8fdb\u5165"),s.default.isCll=!0),this.isCanClick=s.default.isCll,this.isCanClick&&(this.btn_to.active=!1,this.btn_get.children[0].active=!1,d.default.btnRegister_csryw(this.btn_get,this.onClickBtn.bind(this)))},t.prototype.onClickBtn=function(){this.isClick||(this.isClick=!0,l.default.openToast("\u9886\u53d6\u6210\u529f"),y.default.inst.btn_cll.active=!1,h.default.addCandy_csryw(100),u.default.getInstance_csryw().saveGameData_csryw(),this.closeFunc())},t.prototype.closeFunc=function(){this.node.destroy()},o([_],t)}(cc.Component));n.default=g,cc._RF.pop()},{}],Common5:[function(e,t){"use strict";cc._RF.push(t,"13e43Fx7ddF3LPuuRWEAlfb","Common5");var i=e,n=t.exports,r=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var o=i("AppConfig"),s=i("VibrateMgr"),c=i("BundleMgr"),a=i("SoundMgr"),l=(i("User"),i("AppPlatform")),u=cc._decorator,d=u.ccclass,h=(u.property,function(){function e(){}var t;return t=e,e.loadPassConfig_csryw=function(){cc.assetManager.loadRemote(o.default.ResServer_csryw+"/json/gameconfig1.json",function(e){e?console.log("loadAngelConfig-----err,\u6539\u4ece\u672c\u5730\u8bfb\u53d6"):console.log("==========\u8bfb\u53d6oss-gameconfig\u6210\u529f==========")})},e.addUrlSprite_csryw=function(e,i){t.downloadDomImage(i,null,function(t){var i=new cc.Texture2D;i.initWithElement(t);var n=new cc.SpriteFrame;n.setTexture(i),e.spriteFrame=n})},e.addResourseSprite_csryw=function(e,t){cc.resources.load(t,cc.Texture2D,function(t,i){if(t)console.log("\u52a0\u8f7d\u56fe\u7247\u5931\u8d25");else{var n=new cc.SpriteFrame(i);e.spriteFrame=n}})},e.btnRegister_csryw=function(e,i,n,r,o,c){void 0===n&&(n=.1),void 0===r&&(r=.2),void 0===o&&(o="anniu"),void 0===c&&(c=null),e.off(cc.Node.EventType.TOUCH_START),e.off(cc.Node.EventType.TOUCH_END),e.off(cc.Node.EventType.TOUCH_CANCEL),e.getComponent(cc.Sprite),o="Sound/"+o;var l=e.getComponent(cc.PolygonCollider),u=!1;e.on(cc.Node.EventType.TOUCH_START,function(i){if(l&&l.points.length>0){var n=i.getLocation();if(n=e.convertToNodeSpaceAR(n),!cc.Intersection.pointInPolygon(n,l.points))return}a.default.isSoundEnabled()&&!u&&(u=!0,"Sound/"!=o&&t.getSoundFromBundle_csryw("resources",o,!1)),s.default.vibrateShort_csryw(),r>0&&cc.tween(e).to(r,{scale:1.1}).start(),null!=c&&(e.getComponent(cc.Sprite).spriteFrame=c)},this),e.on(cc.Node.EventType.TOUCH_END,function(o){if(l&&l.points.length>0){var c=o.getLocation();if(c=e.convertToNodeSpaceAR(c),!cc.Intersection.pointInPolygon(c,l.points))return}s.default.vibrateShort_csryw(),r>0&&cc.tween(e).to(r,{scale:1}).start(),!1===t.isTouching&&(t.isTouching=!0,i(e),setTimeout(function(){u=!1,t.isTouching=!1},1e3*n))},this),e.on(cc.Node.EventType.TOUCH_CANCEL,function(){r>0&&cc.tween(e).to(r,{scale:1}).start()},this)},e.btnoffTouch=function(e){e.off(cc.Node.EventType.TOUCH_START),e.off(cc.Node.EventType.TOUCH_END),e.off(cc.Node.EventType.TOUCH_CANCEL)},e.getPosInWorld_csryw=function(e){if(null!=e&&null!=e.parent){var t=e.getPosition(),i=e.parent.convertToWorldSpaceAR(t);return cc.v2(i.x-cc.winSize.width/2,i.y-cc.winSize.height/2)}return cc.v2(1e5,1e6)},e.makeNodeDistance_csryw=function(e,i){var n=t.getPosInWorld_csryw(e),r=t.getPosInWorld_csryw(i);return t.makeDistance(n,r)},e.makeDistance=function(e,t){return Math.abs(e.sub(t).mag())},e.makeAngle=function(e,t,i){var n=cc.v2(e.x-i.x,e.y-i.y),r=cc.v2(t.x-i.x,t.y-i.y),o=0;return 0==n.x&&0==n.y||0==r.x&&0==r.y||(o=r.signAngle(n)),-o/Math.PI*180},e.vectorsToDegress=function(e){var t=cc.v2(0,1),i=e.signAngle(t);return-cc.misc.radiansToDegrees(i)},e.getMathInLimitArr_csryw=function(e){return e.length<0?0:e[Math.floor(Math.random()*e.length)]},e.getMathArrInLimitArr_csryw=function(e,t){for(var i=[],n=0;n<t;n++)if(e.length<=0);else{var r=Math.floor(Math.random()*e.length);i.push(e[r]),e.splice(r,1)}return{returnArr:i,limitArr:e}},e.getMathArrInLimitArr_csryw2=function(e,t){for(var i=[],n=0;n<t;n++)if(e.length<=0);else{var r=Math.floor(Math.random()*e.length);i.push(e[r]),e.splice(r,1)}return{returnArr:i,limitArr:e}},e.getRandomNumArr_csryw=function(e,t,i){if(e>=t||i<0||t-e+1<i)return console.log("\u8f93\u5165\u53c2\u6570\u6709\u8bef"),[];for(var n=[],r=e;r<=t;r++)n.push(r);for(var o=[];o.length<i;){var s=Math.random()*n.length>>0;o.push(n.splice(s,1)[0])}return o},e.randomRange=function(e,t,i){if(null!=i){for(var n=[],r=e;r<t+1;r++)i!=r&&n.push(r);return n[Math.floor(Math.random()*n.length)]}return Math.round(Math.random()*(t-e))+e},e.getRandomIntInRange=function(e,t,i){for(var n=[],r=e;r<=t;r++)i.includes(r)||n.push(r);if(0===n.length)throw new Error("\u6ca1\u6709\u4e86");return n[Math.floor(Math.random()*n.length)]},e.showTips_csryw=function(e){var t=cc.find("Canvas"),i=new cc.Node("tips"),n=i.addComponent(cc.Label);n.string=e,n.enableBold=!0,n.fontSize=40;var r=i.addComponent(cc.LabelOutline);r.width=5,r.color=new cc.Color(0,0,0,255),t.addChild(i),i.x=0,i.y=0,i.group="ui",cc.tween(i).delay(2.5).to(1,{y:555,opacity:0}).call(function(){i.removeFromParent()}).start()},e.addPrefab=function(e,t,i){void 0===i&&(i=null);var n=t;cc.loader.loadRes(e,function(e,t){if(e)console.log("\u52a0\u8f7d\u9884\u5236\u4f53\u9519\u8bef>:",e);else{var r=cc.instantiate(t);r.parent=n,i&&i(r)}})},e.getSoundFromBundle_csryw=function(e,i,n,r){if(void 0===e&&(e="subResResources"),void 0===n&&(n=!1),void 0===r&&(r=!1),1!=t.isMute){var o=null,s=cc.assetManager.getBundle(e);s&&s.load(i,cc.AudioClip,function(e,t){if(e)return console.log("\u52a0\u8f7d\u97f3\u6548\u9519\u8bef>:",e),null;if(o=t,1==n){if(!a.default.isMusicEnabled())return;cc.audioEngine.playMusic(o,!0)}else{if(!a.default.isSoundEnabled())return;cc.audioEngine.play(o,r,1)}})}},e.getSpriteFrameFromBundle=function(e,t,i,n){void 0===e&&(e="subResAddMode"),void 0===i&&(i=null),void 0===n&&(n=null);var r=cc.assetManager.getBundle(e);r&&r.load(t,cc.SpriteFrame,function(e,t){if(e)return console.log("\u52a0\u8f7dSprite\u9519\u8bef>:",e),null;null!=i&&(i.spriteFrame=t),n&&n(t)})},e.getPrefabFromBundle=function(e,t,i,n){void 0===e&&(e="subRes_resources"),void 0===n&&(n=null);var r=cc.assetManager.getBundle(e);r&&r.load(t,cc.Prefab,function(r,o){if(r)return console.log("\u52a0\u8f7d\u8def\u5f84\uff1a\uff1a",e,"+++++++++",t),console.log("\u52a0\u8f7d\u9884\u5236\u4f53\u9519\u8bef>:",r),n(null),null;if(i)try{var s=cc.instantiate(o);i.addChild(s),n&&n(s)}catch(a){}else n&&n(o)})},e.shuffle=function(e){for(var t=[],i=e.length-1;i>=0;i--){var n=Math.floor(Math.random()*(e.length-.01));t.push(e[n]),e.splice(n,1)}return t},e.groupingArr=function(e,t){for(var i=[],n=0;n<t;n++)if(e.length>0){var r=Math.floor(Math.random()*e.length);i[n]=[e[r]],e.splice(r,1)}if(e.length>0)for(n=0;n<e.length;n++)1==i[r=Math.floor(Math.random()*i.length)].length&&i[r].push(e[n]);return console.log("---returnArr+++",i),i},e.parabolaFunc=function(e,t,i,n,r,o){void 0===o&&(o=null);var s=cc.v2((t.x+i.x)/2,(t.y+i.y)/2+n);cc.tween(e).bezierTo(r,t,s,i).call(function(){null!=o&&o()}).start()},e.getPosInWorld=function(e){var t=e.getPosition(),i=e.parent.convertToWorldSpaceAR(t);return cc.v2(i.x-cc.winSize.width/2,i.y-cc.winSize.height/2)},e.createPrefab_csryw=function(e,t){var i=cc.instantiate(e);return t?i.parent=t:cc.director.getScene().getChildByName("Canvas").addChild(i,0),i},e.getRelativePosition=function(e,t,i){var n=i||cc.Vec2.ZERO,r=e.convertToWorldSpaceAR(n);return t.convertToNodeSpaceAR(r)},e.getPoint=function(e,t,i,n){for(var r=[],o=Math.PI/180*Math.round(360/n),s=0;s<n;s++){var c=t+e*Math.sin(o*s),a=i+e*Math.cos(o*s);r.push(new cc.Vec2(c,a))}return r},e.getRandomNum=function(e,t){var i=t-e,n=Math.random();return e+Math.round(n*i)},e.floatRandomRange=function(e,t){return Math.random()*(t-e)+e},e.GetWeight=function(e){try{for(var t=e.reduce(function(e,t){return e+t},0),i=Math.ceil(Math.random()*t),n=0,r=0;r<e.length;r++)if(i<=(n+=e[r]))return r}catch(s){}},e.lookAtObj=function(e,t){return cc.v2(t.x-e.x,t.y-e.y).signAngle(cc.v2(0,1))/Math.PI*180},e.registerHeadImgLoader=function(){cc.assetManager.downloader.register(this.headImgExt,function(e,t,i){i(null,e)}),cc.assetManager.parser.register(this.headImgExt,t.downloadDomImage),cc.assetManager.factory.register(this.headImgExt,function(e,t,i,n){var r=null,o=null;try{(r=new cc.Texture2D)._uuid=e,r._nativeUrl=e,r._nativeAsset=t}catch(c){o=c}n&&n(o,r)})},e.downloadDomImage=function(e,t,i){var n=new Image;function r(){n.removeEventListener("load",r),n.removeEventListener("error",o),i&&i(n)}function o(){n.removeEventListener("load",r),n.removeEventListener("error",o),i&&i(new Error(e))}return"file:"!==window.location.protocol&&(n.crossOrigin="anonymous"),n.addEventListener("load",r),n.addEventListener("error",o),n.src=e,n},e.getSpriteFrameInSpriteAtlasFromBundle=function(e,t,i,n,r){void 0===e&&(e="subRes"),void 0===n&&(n=null),void 0===r&&(r=null);var o=cc.assetManager.getBundle(e);o&&o.load(t,cc.SpriteAtlas,function(e,t){if(e)return console.log("\u52a0\u8f7dSprite\u9519\u8bef>:",e),null;var o=t.getSpriteFrame(i);null!=n&&(n.spriteFrame=o),r&&r(o)})},e.webCopyString=function(e,t){void 0===t&&(t=null),l.default.is_TT_GAME_csryw()&&window.tt.setClipboardData({data:e,success:function(e){t&&t(e)}})},e.isSameWeek=function(e,t){var i=new Date(e).setHours(0,0,0,0),n=new Date(t).setHours(0,0,0,0),r=new Date(i),o=new Date(n);if(Math.abs(r.getTime()-o.getTime())>=6048e5)return!1;var s=r.getDay(),c=o.getDay(),a=new Date(i-864e5*s),l=new Date(n-864e5*c),u=a.getTime(),d=l.getTime();return!(Math.abs(d-u)>=6048e5)},e.loadSubPackageJson=function(e,t,i){var n=cc.assetManager.getBundle(e);n?n.load(t,function(e,t){if(e)console.error("Failed to load JSON file:",e);else{var n=t.json;i(n)}}):console.error("Failed to load subRes:",e)},e.vec2Tovec3=function(e){return new cc.Vec3(e.x,e.y,0)},e.vec3Tovec2=function(e){return new cc.Vec2(e.x,e.y)},e.getHS=function(e,i,n){void 0===i&&(i=!1),void 0===n&&(n=!0);var r=String(Math.trunc(e)),o=String(Math.trunc(e)).split("+");if(o[1]){var s=o[1],c=Number(s),a=String(Math.trunc(e));return t.dasdS(a,c,e)}var l=8;if(r.length<=4)r+="";else for(var u=0;u<t.DWAy.length;u++){var d=t.DWAy[u];if(r.length<=l){var h=e/Math.pow(10,l-5)/10;h=i?n?(Math.floor(10*h)/10).toFixed(1):h.toFixed(1):Math.floor(h),r=String(h)+d,u=t.DWAy.length+10}l+=4}return r},e.dasdS=function(e,i,n){var r=8;if(i<=5)e+="";else for(var o=0;o<t.DWAy.length;o++){var s=t.DWAy[o];if(i<=r){var c=Math.round(n/Math.pow(10,r-5))/10;e=String(c)+s,o=t.DWAy.length+10}r+=4}return e},e.addLinmFeed=function(e){e=String(e);var t="";return e.length<=13?t=e:0==e.indexOf("......")?function e(i){var n=i.length;n>13?(t+=i.substring(0,12)+"\n",e(i.substring(12,n))):t="......"+(t+=i)}(e.substring(5,e.length)):function e(i){var n=i.length;n>13?(t+=i.substring(0,12)+"\n",e(i.substring(12,n))):t+=i}(e),t},e.QuDuoYu=function(e){return e.length<16?e:e.substring(0,15)+"......"},e.isWhiteLIst=function(){return!1},e.loadBmdConfig_csryw=function(){cc.assetManager.loadRemote(o.default.ResServer_csryw+"/json/BmdConfig.json",function(e,i){e?console.log(e):t.bmdConfig=i.json})},e.checkGm=function(){return!1},e.checkInBmd=function(){return!1},e.loadBundle=function(e,t){c.default.getBundle_csryw(e)?t&&t():c.default.loadBundleByName_csryw(e,handleFM_csryw(function(e){e?console.error(e):t&&t()},this))},e.loadPrefbas=function(e,t){return new Promise(function(i){cc.assetManager.getBundle(e).load(t,cc.Prefab,function(e,t){i(t)})})},e.preload=function(e,t){return new Promise(function(i){cc.assetManager.getBundle(e).preload(t,function(e,t){i(t)})})},e.countConsecutiveDuplicates=function(e){for(var t=1,i=e.length-1;i>0&&e[i]===e[i-1];i--)t++;return t},e.calculateLevel=function(e,t){var i=1;return e>=.75*t?i=4:e>=.5*t?i=3:e>=.25*t&&(i=2),i},e.isNeighbor=function(e,t){var i=t.split(",").map(function(e){return parseInt(e,10)});return e==i[0]+1+","+(i[1]-1)||e==i[0]+1+","+i[1]||e==i[0]+","+(i[1]+1)||e==i[0]-1+","+(i[1]+1)||e==i[0]-1+","+i[1]||e==i[0]+","+(i[1]-1)},e.isTouching=!1,e.isFirstIn=0,e.isMute=!1,e.isNoZD=!1,e.dragTar=0,e.maxLv=25,e.isNetConfig=!1,e.version=7,e.maxPower=5,e.powerAddTime=1800,e.hammerPrice=25,e.exchangeCardPrice=40,e.dealCardsPrice=10,e.powerPrice=15,e.hammerUnlock=4,e.exchangeCardUnlock=6,e.dealCardsUnlock=8,e.freeGold=5,e.gold1=15,e.gold2=25,e.gold3=35,e.gold4=50,e.netTime=0,e.isDaRen=!1,e.headImgExt=".head",e.DWAy=["\u4e07","\u4ebf","\u5146","\u4eac","\u5793","\u79ed","\u7a63","\u6c9f","\u6da7","\u6b63","\u8f7d","\u6781","\u6052\u6cb3\u6c99","\u963f\u50e7\u7947","\u90a3\u7531\u4ed6","\u4e0d\u601d\u8bae","\u65e0\u91cf","\u5927\u6570","\u5929\u6570","\u65e0\u6781","\u5f39\u6307","\u65e0\u95f4","\u987b\u81fe","\u865a","\u4ec4","\u51c0","\u77ac\u606f","\u6f20","\u575e","\u7075","\u7389","\u6676","\u7802","\u9ad3","\u9b44","\u5b50","\u4e11","\u5bc5","\u536f","\u8fb0","\u5df3","\u5348","\u672a","\u7533","\u9149","\u620c","\u4ea5","\u4e7e","\u5764","\u5dfd","\u9707","\u574e","\u79bb","\u826e","\u5151","\u5929\u9b41","\u5929\u7f61","\u5929\u673a","\u5929\u95f2","\u5929\u52c7","\u5929\u96c4","\u5929\u731b","\u5929\u5a01","\u5929\u82f1","\u5929\u8d35","\u5929\u5bcc","\u5929\u6ee1","\u5929\u5b64","\u5929\u4f24","\u5929\u7384","\u5929\u5065","\u5929\u6697","\u5929\u4f51","\u5929\u7a7a","\u5929\u901f","\u5929\u5f02","\u5929\u715e","\u5929\u5fae","\u5929\u7a76","\u5929\u9000","\u5929\u5bff","\u5929\u5251","\u5929\u5e73","\u5929\u7f6a","\u5929\u635f","\u5929\u8d25","\u5929\u7262","\u5929\u6167","\u5929\u66b4","\u5929\u54ed","\u5929\u5de7","\u5316\u4e00","\u5927\u6210","\u8f6e\u56de","\u6781\u4e50","\u592a\u521d","\u592a\u865a","\u68b5\u5883","\u53e4\u6208\u5c14","\u57df"],t=r([d],e)}());n.default=h,cc._RF.pop()},{}],Common:[function(e,t){"use strict";cc._RF.push(t,"50741XyLllMFLPp3iHvyV3u","Common");var i=t.exports;Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(){}return e.createPrefab_csryw=function(e,t,i){var n=cc.instantiate(e);return i?i.addChild(n):cc.director.getScene().getChildByName("Canvas").addChild(n),n.getComponent(t)},e}();i.default=n,cc._RF.pop()},{}],DateUtils:[function(e,t){"use strict";cc._RF.push(t,"553a9c8nklAvIKumN8bOwCk","DateUtils");var i=t.exports;Object.defineProperty(i,"__esModule",{value:!0}),i.DateUtils=void 0;var n=function(){function e(){}return e.getNowTime_csryw=function(){return(new Date).getTime()},e.formatTime2_csryw=function(e){var t="",i=e/60,n=e-60*(i=parseInt(i+""));return(t+=i>9?i+"\u5206":"0"+i+"\u5206")+((n=parseInt(n+""))>9?n+"\u79d2":"0"+n+"\u79d2")},e.formatTime3_csryw=function(e){var t="",i=e/60,n=e-60*(i=parseInt(i+""));return(t+=i>9?i+":":"0"+i+":")+((n=parseInt(n+""))>9?n:"0"+n)},e.formatTime_csryw=function(e){var t="",i=e/3600,n=(e-3600*(i=parseInt(i+"")))/60,r=e-3600*i-60*(n=parseInt(n+""));return i>0&&(t+=i+":"),(t+=n>9?n+":":"0"+n+":")+((r=parseInt(r+""))>9?r+"":"0"+r)},e.millisecondsToDate_csryw=function(e,t){var i=new Date(e),n={"M+":i.getMonth()+1,"d+":i.getDate(),"h+":i.getHours(),"H+":i.getHours(),"m+":i.getMinutes(),"s+":i.getSeconds(),"q+":Math.floor((i.getMonth()+3)/3),S:i.getMilliseconds()};for(var r in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(i.getFullYear()+"").substr(4-RegExp.$1.length))),/(E+)/.test(t)&&(t=t.replace(RegExp.$1,(RegExp.$1.length>1?RegExp.$1.length>2?"\u661f\u671f":"\u5468":"")+{0:"\u65e5",1:"\u4e00",2:"\u4e8c",3:"\u4e09",4:"\u56db",5:"\u4e94",6:"\u516d"}[i.getDay()+""])),n)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[r]:("00"+n[r]).substr((""+n[r]).length)));return t},e.convertDateFromString_csryw=function(e){if(e){var t=e.split(" ")[0].split("/");return new Date(t[0],t[1]-1,t[2])}},e.getMonTimeByNowTime_csryw=function(){var e=new Date,t=e.getDay();return 0==t&&(t=7),e.setHours(0,0,0,0),new Date(e.getTime()-864e5*(t-1)).getTime()},e.isSameDay_csryw=function(e,t){void 0===t&&(t=Date.now());var i=Number(e),n=Number(t);if(i&&n){var r=new Date(i),o=new Date(n);return r.setHours(0,0,0,0)==o.setHours(0,0,0,0)}return!1},e.getMonthWeek_csryw=function(){var e=new Date,t=(e.getFullYear(),e.getDay(),e.getDate(),e.getDay()),i=e.getDate();return Math.ceil((i+6-t)/7)},e}();i.DateUtils=n,cc._RF.pop()},{}],DebugInfoMgr:[function(e,t){"use strict";cc._RF.push(t,"0d2f3IqZ7JJM78bv3EoAtkN","DebugInfoMgr");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0});var r=i("AppConfig"),o=i("AppSwitchConfig"),s=i("EventEnum"),c=i("EventMgr"),a=i("HttpUnit"),l=i("AppPlatform"),u=i("DateUtils"),d=i("Utilit"),h=i("WudianMgr"),p=function(){function e(){}return e.setDebug_csryw=function(){var e=this;if(1==o.default.getInstance_csryw().getAppSwitchData_csryw().debuginfo_csryw){this.isOpenDebug_csryw=!0,c.default.onEvent_csryw(s.ryw_Event.ryw_App_OnUpdateIpBlockState_csryw,function(){e.isNetIpBlockState_csryw=!0,e.debugPanel_csryw.active&&(e.updateFrameInfo_csryw(),e.updateItem_csryw())},this),c.default.onEvent_csryw(s.ryw_Event.ryw_PlatformLoginState_csryw,function(t){t.state;var i=t.info;e.addDebugInfo_csryw(i)},this),c.default.onEvent_csryw(s.ryw_Event.ryw_NetLoginState_csryw,function(t){t.state;var i=t.info;e.addDebugInfo_csryw(i)},this),c.default.onEvent_csryw(s.ryw_Event.ryw_NetUserDataState_csryw,function(t){t.state;var i=t.info;e.addDebugInfo_csryw(i)},this),c.default.onEvent_csryw(s.ryw_Event.ryw_Umeng_csryw,function(t){var i=t.event;e.debugUmengInfoList_csryw[i]?e.debugUmengInfoList_csryw[i]=e.debugUmengInfoList_csryw[i]+1:e.debugUmengInfoList_csryw[i]=1,e.updateItem_csryw()},this);var t=cc.view.getVisibleSize();cc.view.getFrameSize(),console.log("\u542f\u52a8\u4e86debug\u5c55\u793a"),this.debugNode_csryw=new cc.Node,cc.game.addPersistRootNode(this.debugNode_csryw),this.debugNode_csryw.width=t.width,this.debugNode_csryw.height=t.height,this.debugNode_csryw.anchorX=0,this.debugNode_csryw.anchorY=0,this.debugNode_csryw.x=0,this.debugNode_csryw.y=0;var i=cc.size(180,120),n=this.createNode_csryw(this.debugNode_csryw,cc.v2(0,t.height-i.height),cc.Color.WHITE);n.setContentSize(i),n.on(cc.Node.EventType.TOUCH_START,function(){},this),n._touchListener.onTouchBegan=function(t){var r=n.convertToNodeSpaceAR(t.getLocation());if(!(r.x<0||r.y<0||r.x>i.width||r.y>i.height)){if(e.isOpenStartClick_csryw)e.debugPanel_csryw.active||(e.updateFrameInfo_csryw(),e.updateItem_csryw(),e.debugPanel_csryw.active=!0);else{var o=u.DateUtils.getNowTime_csryw();o-e.clickTime_csryw<=500?(e.touchClickSum_csryw=e.touchClickSum_csryw+1,e.touchClickSum_csryw>10&&(e.isOpenStartClick_csryw=!0)):e.touchClickSum_csryw=0,e.clickTime_csryw=o}return!0}},n._touchListener.setSwallowTouches(!1);var r=cc.size(.98*t.width,.7*t.height);this.debugPanel_csryw=this.createNode_csryw(this.debugNode_csryw,cc.v2((t.width-r.width)/2,(t.height-r.height)/2),cc.Color.WHITE,r),this.debugPanel_csryw.active=!1,this.debugPanel_csryw.addComponent(cc.Button);var l=this.createNode_csryw(this.debugPanel_csryw,cc.v2(0,0),cc.Color.GRAY,r);this.scrollview_csryw=l.addComponent(cc.ScrollView),this.scrollview_csryw.horizontal=!1,this.scrollview_csryw.vertical=!0,this.scrollview_csryw.inertia=!0,this.scrollview_csryw.brake=.75;var d=this.createNode_csryw(l,cc.v2(0,0),cc.Color.WHITE);d.setContentSize(r),d.addComponent(cc.Mask),d.anchorY=1,d.y=r.height,this.content_csryw=this.createNode_csryw(d,cc.v2(0,0),cc.Color.GRAY,r),this.content_csryw.anchorY=1,this.scrollview_csryw.content=this.content_csryw,this.createButton_csryw(this.debugPanel_csryw,cc.v2(0,r.height),"\u5173\u95ed",cc.color(255,180,180),cc.Color.RED,cc.size(100,70),function(){e.debugPanel_csryw.active=!1}),this.createButton_csryw(this.debugPanel_csryw,cc.v2(r.width-170,r.height),"\u6e05\u7406\u7f13\u5b58",cc.color(255,180,180),cc.Color.RED,cc.size(170,70),function(){a.default.saveGameData_csryw("{}",function(e){1==e.code?console.log("\u5b58\u6863\u6210\u529f"):console.log("\u5b58\u6863\u5931\u8d25")},function(){console.log("\u5b58\u6863\u5931\u8d25")}),e.showToast_csryw("\u6e05\u7406\u7528\u6237\u6570\u636e\uff0c\u5e76\u63d0\u4ea4\uff01\u8bf7\u91cd\u542f")});var h=cc.size(.9*r.width,100);this.showInfoNode_csryw=this.createNode_csryw(this.debugNode_csryw,cc.v2(t.width/2,t.height/2),cc.color(175,100,170),h),this.showInfoNode_csryw.anchorX=.5,this.showInfoNode_csryw.anchorY=.5,this.showInfoLabel_csryw=this.createLabel_csryw(this.showInfoNode_csryw,cc.v2(0,0),"",cc.Color.RED).getComponent(cc.Label),this.showInfoLabel_csryw.node.anchorX=.5,this.showInfoLabel_csryw.node.anchorY=.5,this.showInfoNode_csryw.active=!1}},e.addDebugInfo_csryw=function(e){this.isOpenDebug_csryw&&this.debugInfoList_csryw.push(e)},e.updateFrameInfo_csryw=function(){var e=this;this.debugFrameInfoList_csryw=[],function(){var t,i=d.default.checkVersions_csryw();t=l.default.is_TT_GAME_csryw()?"ttcfg:<"+o.default.getInstance_csryw().getAppSwitchData_csryw().ttcfg_csryw.ttversions_csryw+">":l.default.is_OPPO_GAME_csryw()?"oppocfg:<"+o.default.getInstance_csryw().getAppSwitchData_csryw().oppocfg_csryw.oppoversions_csryw+">":l.default.is_QQ_PLAY_csryw()?"qqcfg:<"+o.default.getInstance_csryw().getAppSwitchData_csryw().qqcfg_csryw.qqversions_csryw+">":l.default.is_WECHAT_GAME_csryw()?"vivocfg:<"+o.default.getInstance_csryw().getAppSwitchData_csryw().vivocfg_csryw.vivoversions_csryw+">":"version:<"+o.default.getInstance_csryw().getAppSwitchData_csryw().version_csryw+">";var n="\u6e38\u620f\u540d\u5b57:["+r.default.GameName_csryw+"],gameid:["+r.default.gameid_csryw+"]\n";n=(n=n+r.default.ResServer_csryw+"\n")+"\u672c\u5730\u7248\u672c\u53f7:["+r.default.Versions_csryw+"]\n\u8fdc\u7aef\u7248\u672c\u53f7:["+t+"]\n\u7248\u672c\u6bd4\u8f83\u7ed3\u679c:"+(i?"true":"false"),e.debugFrameInfoList_csryw.push(n)}(),function(){var t=1==o.default.getInstance_csryw().getAppSwitchData_csryw().wudian_csryw,i=o.default.getInstance_csryw().getAppSwitchData_csryw().wudianTimeAvaliable_csryw,n=h.default.ryw_GetIpBlocked_csryw(),r=l.default.getLaunchOptionsSync_csryw().scene;l.default.is_TT_GAME_csryw()&&(t=!0,i=!0);for(var s=!0,c=o.default.getInstance_csryw().getAppSwitchData_csryw().wudianSceneList_csryw,a=0;a<c.length;a++)r==c[a]&&(s=!1);var u=t&&s&&n&&i,d="ip\u5c4f\u853d\u63a5\u53e3\u8c03\u7528:"+(e.isNetIpBlockState_csryw?"\u6210\u529f":"\u5931\u8d25")+"\n\u8bef\u70b9\u6700\u7ec8\u7ed3\u679c\uff1a["+(u?"\u6709":"\u6ca1\u6709")+"]\n\u5f53\u524d\u573a\u666f\u503c:["+r+"]\nip\u6ca1\u6709\u5c4f\u853d:["+(n?"\u662f":"\u4e0d\u662f")+"]\n\u573a\u666f\u6ca1\u6709\u5c4f\u853d:["+(s?"\u662f":"\u4e0d\u662f")+"]\n\u8bef\u70b9\u5f00\u5173:["+(t?"\u6253\u5f00":"\u5173\u95ed")+"],\n\u65f6\u95f4\u5f00\u5173:["+(i?"\u6253\u5f00":"\u5173\u95ed")+"]";e.debugFrameInfoList_csryw.push(d)}()},e.showToast_csryw=function(e){var t=this;cc.Tween.stopAllByTarget(this.showInfoNode_csryw),this.showInfoLabel_csryw.string=e,this.showInfoNode_csryw.active=!0,this.showInfoNode_csryw.opacity=0,this.showInfoNode_csryw.scale=.75,cc.tween(this.showInfoNode_csryw).to(.25,{opacity:255,scale:1},{easing:"backOut"}).delay(2).call(function(){t.showInfoNode_csryw.active=!1}).start()},e.updateItem_csryw=function(){for(var e=[],t=0;t<this.debugFrameInfoList_csryw.length;t++){var i=this.debugFrameInfoList_csryw[t];e.push(i)}var n="\u53cb\u76df\u7edf\u8ba1\u5f00\u59cb\uff1a\n";for(var r in this.debugUmengInfoList_csryw)Object.prototype.hasOwnProperty.call(this.debugUmengInfoList_csryw,r)&&(n="\u4e8b\u4ef6\uff1a"+n+r+",\u6b21\u6570: "+this.debugUmengInfoList_csryw[r]+"\n");for(n+="\u53cb\u76df\u7edf\u8ba1\u7ed3\u675f!",e.push(n),t=0;t<this.debugInfoList_csryw.length;t++)i=this.debugInfoList_csryw[t],e.push(i);var o=e.length-this.debugLabelList_csryw.length;if(o>0)for(t=0;t<o;t++)(a=this.createLabel_csryw(this.content_csryw,cc.v2(0,0),"",cc.Color.BLACK).getComponent(cc.Label)).node.width=this.content_csryw.width,a.overflow=cc.Label.Overflow.RESIZE_HEIGHT,a.horizontalAlign=cc.Label.HorizontalAlign.LEFT,a.node.anchorY=1,this.debugLabelList_csryw.push(a);for(t=0;t<this.debugLabelList_csryw.length;t++)(i=this.debugLabelList_csryw[t]).node.active=!1;var s=0,c=!1;for(t=0;t<e.length;t++){var a;i=e[t],(a=this.debugLabelList_csryw[t]).string=i,a.node.y=-s,a.node.active=!0,a._forceUpdateRenderData(),s=s+a.node.height+5,c?(c=!1,a.node.color=cc.color(0,0,0)):(c=!0,a.node.color=cc.color(122,22,22))}this.content_csryw.height=s},e.createLabel_csryw=function(e,t,i,n){var r=this.createNode_csryw(e,t,n),o=r.addComponent(cc.Label);return o.fontSize=30,o.lineHeight=32,o.string=i,r},e.createNode_csryw=function(e,t,i,n){var r=new cc.Node;return n&&(r.setContentSize(n),r.addComponent(cc.Sprite).spriteFrame=this.createSpriteFrame_csryw(n)),r.color=i,e.addChild(r),r.x=t.x,r.y=t.y,r.anchorX=0,r.anchorY=0,r},e.createButton_csryw=function(e,t,i,n,r,o,s){var c=this.createNode_csryw(e,t,n,o);return c.addComponent(cc.Button),c.color=n,s&&c.on("click",s,this),this.createLabel_csryw(e,t,i,r),c},e.createSpriteFrame_csryw=function(e){for(var t=new cc.Texture2D,i=new cc.SpriteFrame,n=e.width*e.height*4,r=new Uint8Array(n),o=0;o<n;o+=4)r[o]=255,r[o+1]=255,r[o+2]=255,r[o+3]=255;return t.initWithData(r,cc.Texture2D.PixelFormat.RGBA8888,e.width,e.height),i.setTexture(t),i.setRect(cc.rect(0,0,e.width,e.height)),i},e.debugNode_csryw=null,e.debugPanel_csryw=null,e.scrollview_csryw=null,e.content_csryw=null,e.debugInfoList_csryw=new Array,e.debugFrameInfoList_csryw=new Array,e.debugLabelList_csryw=new Array,e.debugUmengInfoList_csryw={},e.showInfoNode_csryw=null,e.showInfoLabel_csryw=null,e.isOpenDebug_csryw=!1,e.isOpenStartClick_csryw=!1,e.touchClickSum_csryw=0,e.clickTime_csryw=0,e.isNetIpBlockState_csryw=!1,e}();n.default=p,cc._RF.pop()},{}],DialogAddPowerAll:[function(e,t){"use strict";cc._RF.push(t,"158fb5OPdlEDKaTlRD/TyZv","DialogAddPowerAll");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("TTAPI"),c=i("PhysicalPowerMgr"),a=i("DialogUIBase"),l=cc._decorator,u=l.ccclass,d=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t}return r(t,e),t.prototype.initView_csryw=function(){var t=this;e.prototype.initView_csryw.call(this),this.onClick(this.childNode("butLeft",this.showNode),function(){t.closeDialog()},this);var i=this.childNode("butRight",this.showNode);this.label=this.child(i,"label",cc.Label),this.onClick(i,function(){s.default.showRewardedVideoAd_csryw("\u65e0\u7ebf\u4f53\u529b",function(e){if(e){var i=c.default.getPhyVideoAllNum();(i+=1)>=3?(i=0,c.default.setPhyVideoAllNum(i),c.default.addNewPhysicalAll(),t.closeDialog(!0)):(c.default.setPhyVideoAllNum(i),t.updateVideoNum())}},function(){})},this),this.updateVideoNum()},t.prototype.updateVideoNum=function(){this.label.string=c.default.getPhyVideoAllNum()+"/3"},o([u],t)}(a.default));n.default=d,cc._RF.pop()},{}],DialogAddPower:[function(e,t){"use strict";cc._RF.push(t,"51ef57GSeRLcrzbr5MPSyFo","DialogAddPower");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("TTAPI"),c=i("GameMgr"),a=i("PhysicalPowerMgr"),l=i("DialogUIBase"),u=cc._decorator,d=u.ccclass,h=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initView_csryw=function(){var t=this;e.prototype.initView_csryw.call(this),this.onClick(this.childNode("butLeft",this.showNode),function(){t.closeDialog()},this),this.onClick(this.childNode("butRight",this.showNode),function(){s.default.showRewardedVideoAd_csryw("\u8865\u5145\u4f53\u529b",function(e){e&&(a.default.setPhysicalNum(a.default.MaxPhysical),c.default.getInstance_csryw().saveGameData_csryw(),t.closeDialog(!0))},function(){})},this)},o([d],t)}(l.default));n.default=h,cc._RF.pop()},{}],DialogLoading:[function(e,t){"use strict";cc._RF.push(t,"da62cRX36FO47RxnGLVZx5L","DialogLoading");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("FMViewBase"),c=i("AppPlatform"),a=cc._decorator,l=a.ccclass,u=a.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgNode=null,t.labelInfo=null,t.typeNode1=null,t.typeNode2=null,t.butLoad1=null,t.butVisitor1=null,t.butLoad2=null,t.EventEnumView_csryw={ClickVisitor:"ClickVisitor",ClickLoad:"ClickLoad"},t}return r(t,e),t.prototype.initView_csryw=function(){var e=this;this.butLoad1.on("click",function(){e.closeView(),e.emitListenerEvent_csryw(e.EventEnumView_csryw.ClickLoad)},this),this.butVisitor1.on("click",function(){e.closeView(),e.emitListenerEvent_csryw(e.EventEnumView_csryw.ClickVisitor)},this),this.butLoad2.on("click",function(){e.closeView(),e.emitListenerEvent_csryw(e.EventEnumView_csryw.ClickLoad)},this),c.default.is_Android_csryw()||c.default.is_Iphone_csryw()?(this.typeNode1.active=!1,this.typeNode2.active=!0):(this.typeNode1.active=!0,this.typeNode2.active=!1)},t.prototype.openView=function(e){this._initView_csryw(),this.labelInfo.string=e,cc.Tween.stopAllByTarget(this.bgNode),this.bgNode.opacity=0,this.bgNode.scale=.75,cc.tween(this.bgNode).to(.25,{opacity:255,scale:1},{easing:"backOut"}).call(function(){}).start(),this.node.active=!0},t.prototype.closeView=function(){this.node.active=!1},t.prototype.addEvent_csryw=function(){},t.prototype.removeEvent_csryw=function(){},o([u({tooltip:"\u80cc\u666f\u56fe",type:cc.Node})],t.prototype,"bgNode",void 0),o([u({tooltip:"\u9519\u8bef\u6587\u672c",type:cc.Label})],t.prototype,"labelInfo",void 0),o([u({tooltip:"\u7b2c\u4e00\u79cd\u7c7b\u578b",type:cc.Node})],t.prototype,"typeNode1",void 0),o([u({tooltip:"\u7b2c\u4e8c\u79cd\u7c7b\u578b",type:cc.Node})],t.prototype,"typeNode2",void 0),o([u({tooltip:"\u7c7b\u578b1\u4e2d\u91cd\u65b0\u767b\u5f55",type:cc.Node})],t.prototype,"butLoad1",void 0),o([u({tooltip:"\u7c7b\u578b1\u4e2d\u6e38\u5ba2\u6a21\u5f0f",type:cc.Node})],t.prototype,"butVisitor1",void 0),o([u({tooltip:"\u7c7b\u578b2\u4e2d\u91cd\u65b0\u767b\u5f55",type:cc.Node})],t.prototype,"butLoad2",void 0),o([l],t)}(s.default);n.default=d,cc._RF.pop()},{}],DialogMgr:[function(e,t){"use strict";cc._RF.push(t,"a0d24ZWtl9PAoSgQxifrCRC","DialogMgr");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0});var r=i("DialogToast"),o=i("DialogUIBase"),s=i("ResSubMgr"),c=function(){function e(){}return e.openAddPowerDialog=function(t,i){i=i||cc.director.getScene().getChildByName("Canvas");var n=s.ResSubMgr.getPrefabBySubFrame(s.EnumSubFrameRes.DialogAddPower),r=cc.instantiate(n);i.addChild(r,e.DIALOG_INDEX),r.getComponent(o.default).openDialog(t)},e.openAddPowerAllDialog=function(t,i){i=i||cc.director.getScene().getChildByName("Canvas");var n=s.ResSubMgr.getPrefabBySubFrame(s.EnumSubFrameRes.DialogAddPowerAll),r=cc.instantiate(n);i.addChild(r,e.DIALOG_INDEX),r.getComponent(o.default).openDialog(t)},e.openSettingDialog=function(t,i){i=i||cc.director.getScene().getChildByName("Canvas");var n=s.ResSubMgr.getPrefabBySubFrame(s.EnumSubFrameRes.DialogSetting),r=cc.instantiate(n);i.addChild(r,e.DIALOG_INDEX),r.getComponent(o.default).openDialog(t)},e.openToast=function(t){var i=cc.director.getScene().getChildByName("Canvas"),n=s.ResSubMgr.getPrefabBySubFrame(s.EnumSubFrameRes.DialogToast),o=cc.instantiate(n);i.addChild(o,e.TOAST_INDEX),o.getComponent(r.default).openTip(t)},e.DIALOG_INDEX=10,e.TOAST_INDEX=11,e}();n.default=c,cc._RF.pop()},{}],DialogSetting:[function(e,t){"use strict";cc._RF.push(t,"49f4bQoFEtGNKvEW7uVu7JQ","DialogSetting");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("SoundMgr"),c=i("VibrateMgr"),a=i("DialogUIBase"),l=cc._decorator,u=l.ccclass,d=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EventEnumView_csryw={},t.soundCloseNode=null,t.vibratCloseNode=null,t}return r(t,e),t.prototype.initView_csryw=function(){var t=this;e.prototype.initView_csryw.call(this);var i=this.childNode("butSound",this.showNode),n=this.childNode("butVibrat",this.showNode);this.soundCloseNode=this.childNode("close",i),this.vibratCloseNode=this.childNode("close",n),this.onClick(i,function(){s.default.setSoundEnabled(!s.default.isSoundEnabled()),t.updateShowSound()},this),this.onClick(n,function(){c.default.isEnable_csryw=!c.default.isEnable_csryw,t.updateShowVibrat()},this),this.onClick(this.childNode("butClose",this.showNode),function(){t.closeDialog()},this)},t.prototype.updateShowSound=function(){s.default.isSoundEnabled()?this.soundCloseNode.active=!1:this.soundCloseNode.active=!0},t.prototype.updateShowVibrat=function(){c.default.isEnable_csryw?this.vibratCloseNode.active=!1:this.vibratCloseNode.active=!0},o([u],t)}(a.default));n.default=d,cc._RF.pop()},{}],DialogToast:[function(e,t){"use strict";cc._RF.push(t,"4e6958nwKZCgZMGAU/8C0b3","DialogToast");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("FMComponentExtend"),c=cc._decorator,a=c.ccclass,l=(c.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EventEnumView_csryw={},t.label=null,t}return r(t,e),t.prototype.initView_csryw=function(){this.label=this.child(this.node,"label",cc.Label)},t.prototype.openTip=function(e){this.__onInit_csryw(),this.label.string=e;var t=.25*cc.winSize.height;this.node.opacity=0,this.node.x=0,this.node.y=t;var i=this;cc.tween(this.node).to(.5,{y:t+150,opacity:255},{easing:cc.easing.cubicOut}).delay(2).to(.5,{y:t+250,opacity:0},{easing:cc.easing.cubicOut}).call(function(){i.node.destroy()}).start()},o([a],t)}(s.default));n.default=l,cc._RF.pop()},{}],DialogUIBase:[function(e,t){"use strict";cc._RF.push(t,"b16f9zCpZBKWZiw5vyh4wQx","DialogUIBase");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("FMComponentExtend"),c=i("TweenScale"),a=cc._decorator,l=a.ccclass,u=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EventEnumView_csryw={},t.showNode=null,t.tweenScale=null,t.listener=null,t}return r(t,e),t.prototype.initView_csryw=function(){this.showNode=this.node.getChildByName("showNode"),this.tweenScale=this.showNode.getComponent(c.default)},t.prototype.openDialog=function(e){this.listener=e,this.__onInit_csryw(),this.tweenScale.openAction()},t.prototype.closeDialog=function(e){var t=this;this.tweenScale.closeAction(handleFM_csryw(function(){callFM_csryw(t.listener,!0,e),t.node.destroy()},this))},o([l],t)}(s.default));n.default=u,cc._RF.pop()},{}],Dictionary:[function(e,t){"use strict";cc._RF.push(t,"e5327xc5BxLDJNvKffsjZaf","Dictionary");var i=t.exports;Object.defineProperty(i,"__esModule",{value:!0}),i.Dictionary=void 0;var n=function(){function e(){this.keys=[],this.values=[]}return e.prototype.setValue=function(e,t){var i=this.keys.indexOf(e);-1==i?(this.keys.push(e),this.values.push(t)):this.values[i]=t},e.prototype.getValue=function(e){var t=this.keys.indexOf(e);return-1==t?null:this.values[t]},e.prototype.remove=function(e){var t=this.keys.indexOf(e,0);t>-1&&(this.keys.splice(t,1),this.values.splice(t,1))},e.prototype.removeAll=function(){this.keys=[],this.values=[]},e.prototype.hasKey=function(e){return-1!=this.keys.indexOf(e)},e.prototype.getKeys=function(){return this.keys},e.prototype.getValues=function(){return this.values},Object.defineProperty(e.prototype,"count",{get:function(){return this.keys.length},enumerable:!1,configurable:!0}),e.ClassName="Dictionary",e}();i.Dictionary=n,cc._RF.pop()},{}],DragUtil:[function(e,t){"use strict";cc._RF.push(t,"8eef99mAaxM+qyGFRMshfUE","DragUtil");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("SoundMgr"),c=i("Common5"),a=cc._decorator,l=a.ccclass,u=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.touchStartCallback=null,t.touchEndCallback=null,t.touchMoveCallback=null,t.startPos=null,t.resetNodePos=null,t.addX=0,t.addY=0,t.isCanTouch=!1,t.isCanClick=!0,t}return r(t,e),t.prototype.onLoad=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this)},t.prototype.setTouchCallback=function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=0),this.touchMoveCallback=e,this.touchEndCallback=t,this.addX=i,this.addY=n},t.prototype.setTouchStart=function(e){this.touchStartCallback=e},t.prototype.onTouchStart=function(e){if(this.isCanClick&&0==c.default.dragTar&&(s.default.playSound_csryw("anniu"),c.default.dragTar=1,this.isCanTouch=!0,this.touchStartCallback)){var t=e.getLocation();this.startPos=this.node.getPosition(),this.resetNodePos=this.node.getPosition();var i=this.node.parent.convertToNodeSpaceAR(t);this.node.setPosition(i.x+this.addX,i.y+this.addY),this.startPos.x+=this.addX,this.startPos.y+=this.addY,this.touchStartCallback&&this.touchStartCallback(this.startPos,this.node,t)}},t.prototype.onTouchMove=function(e){if(this.isCanClick&&this.isCanTouch&&this.touchMoveCallback){var t=e.getLocation(),i=this.node.parent.convertToNodeSpaceAR(t);this.node.setPosition(i.x+this.addX,i.y+this.addY),this.touchMoveCallback&&this.touchMoveCallback(t,this.node)}},t.prototype.onTouchEnd=function(e){if(this.isCanClick)if(0==c.default.dragTar)this.touchMoveCallback&&((t=e.getLocation()).x+=this.addX,t.y+=this.addY,this.touchEndCallback&&this.touchEndCallback(t,this.node),s.default.playSound_csryw("anniu"));else if(this.isCanTouch&&(c.default.dragTar=0,this.isCanTouch=!1,this.touchMoveCallback)){var t=e.getLocation();this.touchEndCallback&&this.touchEndCallback(t,this.node),s.default.playSound_csryw("anniu")}},t.prototype.resetPos=function(){this.node.setPosition(this.resetNodePos)},t.prototype.btnoffTouch=function(){this.node.off(cc.Node.EventType.TOUCH_START),this.node.off(cc.Node.EventType.TOUCH_MOVE),this.node.off(cc.Node.EventType.TOUCH_CANCEL),this.node.off(cc.Node.EventType.TOUCH_END)},o([l],t)}(cc.Component));n.default=u,cc._RF.pop()},{}],EndSpine:[function(e,t){"use strict";cc._RF.push(t,"75bbawcmJBNsKRkkUcP0/qT","EndSpine");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("FMSkeletonExtend"),c=cc._decorator,a=c.ccclass,l=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onLoad=function(){var e=this;this.node.getComponent(s.default).setCompleteListener(function(t){"win1"==t.animation.name?e.node.getComponent(s.default).setAnimation(0,"win2",!0):"lose1"==t.animation.name&&e.node.getComponent(s.default).setAnimation(0,"lose2",!0)})},o([a],t)}(cc.Component));n.default=l,cc._RF.pop()},{}],EndUI:[function(e,t){"use strict";cc._RF.push(t,"c36b6wPFNJL7bJjgkSUhTc+","EndUI");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("TTAPI"),c=i("GameMgr"),a=i("PhysicalPowerMgr"),l=i("User"),u=i("DateUtils"),d=i("ShushuReport"),h=i("Common5"),p=i("MapCtrl"),y=i("YPlatform"),f=cc._decorator,_=f.ccclass,g=f.property,w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.succNode=null,t.coin=null,t.lab_moneny=null,t.btn_video=null,t.candy=null,t.lab_candy=null,t.lab_lv1=null,t.lab_lv2=null,t.failNode=null,t.btnNext=null,t.btnShare0=null,t.btnShare1=null,t.btnRestart=null,t.btnRecive=null,t.isClick=!1,t}return r(t,e),t.prototype.onLoad=function(){var e=this;this.lab_lv1.string="#."+p.default.inst.levelId,this.lab_lv2.string="#."+p.default.inst.levelId,l.default.setMapData_csryw(null),c.default.getInstance_csryw().saveGameData_csryw(),this.succNode=this.node.getChildByName("succ"),this.failNode=this.node.getChildByName("fail"),this.coin.scale=0,this.candy.scale=0,this.btnNext=this.succNode.getChildByName("layout").getChildByName("btnNext"),h.default.btnRegister_csryw(this.btnNext,function(){e.btnNextFunc()}),this.btnShare0=this.succNode.getChildByName("btnShare"),h.default.btnRegister_csryw(this.btnShare0,function(){e.btnShareFunc()}),this.btnRestart=this.failNode.getChildByName("btnRestart"),h.default.btnRegister_csryw(this.btnRestart,function(){e.btnRestartFunc()}),this.btnRecive=this.failNode.getChildByName("btnRecive"),h.default.btnRegister_csryw(this.btnRecive,function(){e.btnReciveFunc()}),this.btnShare1=this.failNode.getChildByName("btnShare"),h.default.btnRegister_csryw(this.btnShare1,function(){e.btnShareFunc()});var t=this.node.getChildByName("btn_back");h.default.btnRegister_csryw(t,function(){e.btnBack()}),h.default.btnRegister_csryw(this.btn_video,function(){e.btnDouFunc()})},t.prototype.initEndUI=function(e){var t=Math.floor((u.DateUtils.getNowTime_csryw()-p.default.inst.startTime)/1e3);this.succNode.active=e,this.failNode.active=!e;var i=p.default.inst.curScore;d.default.reportedEvent("GameEnd",{endscore:h.default.calculateLevel(i,p.default.inst.winScore),iswin:e,levelnum:p.default.inst.levelId,viedonum:p.default.inst.curVideoNum,duringTime:t}),s.default.stopRecord_csryw(),e&&(this.lab_moneny.string="x"+p.default.inst.winMoneny,this.lab_candy.string="x"+p.default.inst.winCandy,l.default.setLeveNum_csryw(l.default.getLeveNum_csryw()+1),c.default.getInstance_csryw().saveGameData_csryw(),cc.tween(this.coin).delay(.2).to(.5,{scale:1}).start(),cc.tween(this.candy).delay(.2).to(.5,{scale:1}).start()),y.YPlatform.showFullScreenAd()},t.prototype.btnNextFunc=function(){this.isClick||(this.isClick=!0,console.log("\u4e0b\u4e00\u5173\uff0cnext"),this.goToGame(),y.YPlatform.showFullScreenAd())},t.prototype.btnRestartFunc=function(){this.isClick||(this.isClick=!0,console.log("\u91cd\u65b0\u5f00\u59cb\uff0crestart"),this.goToGame(),y.YPlatform.showFullScreenAd())},t.prototype.btnShareFunc=function(){s.default.shareRecord_csryw(function(){},function(){})},t.prototype.goToGame=function(){c.default.getInstance_csryw().onLoadToGameScene_csryw()},t.prototype.btnBack=function(){this.isClick||(this.isClick=!0,c.default.getInstance_csryw().onLoadToWorldScene_csryw(),y.YPlatform.showFullScreenAd())},t.prototype.btnDouFunc=function(){var e=this;this.isClick||(this.isClick=!0,s.default.showRewardedVideoAd_csryw("\u770b\u89c6\u98913\u500d\u9886\u53d6"+p.default.inst.levelId+"_"+h.default.calculateLevel(p.default.inst.curScore,p.default.inst.winScore),function(t){t?(l.default.addCandy_csryw(2*p.default.inst.winCandy),e.lab_candy.string="x"+3*p.default.inst.winCandy,l.default.setMapData_csryw(null),c.default.getInstance_csryw().saveGameData_csryw(),e.isClick=!1,e.btn_video.active=!1):e.isClick=!1},function(){e.isClick=!1}))},t.prototype.btnReciveFunc=function(){var e=this;this.isClick||(this.isClick=!0,s.default.showRewardedVideoAd_csryw("\u770b\u89c6\u9891\u590d\u6d3b"+p.default.inst.levelId+"_"+h.default.calculateLevel(p.default.inst.curScore,p.default.inst.winScore),function(t){t?(a.default.setPhysicalNum(a.default.getPhysicalNum()+1),c.default.getInstance_csryw().saveGameData_csryw(),p.default.inst.curVideoNum++,p.default.inst.isAdAid++,p.default.inst.reciveFunc(),p.default.inst.saveLvMapData(),e.node.destroy(),e.isClick=!1):e.isClick=!1},function(){e.isClick=!1}))},o([g(cc.Node)],t.prototype,"coin",void 0),o([g(cc.Label)],t.prototype,"lab_moneny",void 0),o([g(cc.Node)],t.prototype,"btn_video",void 0),o([g(cc.Node)],t.prototype,"candy",void 0),o([g(cc.Label)],t.prototype,"lab_candy",void 0),o([g(cc.Label)],t.prototype,"lab_lv1",void 0),o([g(cc.Label)],t.prototype,"lab_lv2",void 0),o([_],t)}(cc.Component);n.default=w,cc._RF.pop()},{}],EventEnum:[function(e,t){"use strict";cc._RF.push(t,"94947oCpcdGZ6oeuKmdOGCo","EventEnum");var i=t.exports;Object.defineProperty(i,"__esModule",{value:!0}),i.ryw_Event=void 0,function(e){e[e.None_csryw=0]="None_csryw",e[e.ryw_ADKRQ_ClickQuit_csryw=400]="ryw_ADKRQ_ClickQuit_csryw",e[e.ryw_Export3_Dismiss_csryw=401]="ryw_Export3_Dismiss_csryw",e[e.ryw_App_CloseFirstLoadingView_csryw=500]="ryw_App_CloseFirstLoadingView_csryw",e[e.ryw_AD_OnShareAdFail_csryw=501]="ryw_AD_OnShareAdFail_csryw",e[e.ryw_Game_OnViewOpen_csryw=600]="ryw_Game_OnViewOpen_csryw",e[e.ryw_Game_OnViewClose_csryw=601]="ryw_Game_OnViewClose_csryw",e[e.ryw_Game_OnUserMoneyChange_csryw=701]="ryw_Game_OnUserMoneyChange_csryw",e[e.ryw_Game_OnUserCrystalChange_csryw=702]="ryw_Game_OnUserCrystalChange_csryw",e[e.ryw_Game_OnUserUnlockedStore_csryw=703]="ryw_Game_OnUserUnlockedStore_csryw",e[e.ryw_Game_OnLevelStart_csryw=1e3]="ryw_Game_OnLevelStart_csryw",e[e.ryw_Game_OnLevelComplate_csryw=1001]="ryw_Game_OnLevelComplate_csryw",e[e.ryw_AD_WudianBanner_LoadComplete_csryw=2217]="ryw_AD_WudianBanner_LoadComplete_csryw",e[e.ryw_AD_WudianBanner_Show_csryw=2218]="ryw_AD_WudianBanner_Show_csryw",e[e.ryw_AD_WudianBanner_Hide_csryw=2219]="ryw_AD_WudianBanner_Hide_csryw",e[e.ryw_AD_WudianBanner_PreLoad_csryw=2220]="ryw_AD_WudianBanner_PreLoad_csryw",e[e.ryw_App_OnUpdateIpBlockState_csryw=2221]="ryw_App_OnUpdateIpBlockState_csryw",e[e.ryw_Umeng_csryw=2230]="ryw_Umeng_csryw",e[e.ryw_PlatformLoginState_csryw=2997]="ryw_PlatformLoginState_csryw",e[e.ryw_NetLoginState_csryw=2998]="ryw_NetLoginState_csryw",e[e.ryw_NetUserDataState_csryw=2999]="ryw_NetUserDataState_csryw",e[e.ryw_Video_Finish_csryw=3e3]="ryw_Video_Finish_csryw",e[e.ryw_Video_UnFinish_csryw=3001]="ryw_Video_UnFinish_csryw",e[e.ryw_Video_Error_csryw=3002]="ryw_Video_Error_csryw",e[e.ryw_SET_LIST_PARAM=3003]="ryw_SET_LIST_PARAM",e[e.updatePhysicalPower=4e3]="updatePhysicalPower",e[e.ryw_cll=1e4]="ryw_cll",e[e.updateScore=5e4]="updateScore",e[e.ryw_Game_OnUserCandyChange_csryw=50001]="ryw_Game_OnUserCandyChange_csryw",e[e.ryw_Game_OnGoldGetChange_csryw=50002]="ryw_Game_OnGoldGetChange_csryw",e[e.ryw_Game_OnGoldHouseChange_csryw=50003]="ryw_Game_OnGoldHouseChange_csryw",e[e.updateGridDelet=50004]="updateGridDelet",e[e.updateGridDelet2=50005]="updateGridDelet2"}(i.ryw_Event||(i.ryw_Event={})),cc._RF.pop()},{}],EventMgr:[function(e,t){"use strict";cc._RF.push(t,"f8dfeJgdmJHo6btOQzfwZzs","EventMgr");var i=t.exports;Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(){}return e.emitEvent_csryw=function(e,t,i,n,r,o){this.eventTarget_csryw.emit(e+"",t,i,n,r,o)},e.onEvent_csryw=function(e,t,i){this.eventTarget_csryw.on(e+"",t,i)},e.onceEvent_csryw=function(e,t,i){this.eventTarget_csryw.once(e+"",t,i)},e.offEvent_csryw=function(e,t,i){this.eventTarget_csryw.off(e+"",t,i)},e.offTargetEvent_csryw=function(e){this.eventTarget_csryw.targetOff(e)},e.eventTarget_csryw=new cc.EventTarget,e}();i.default=n,cc._RF.pop()},{}],FMButton:[function(e,t){"use strict";cc._RF.push(t,"063f2oeVtlKeav7jb4gZRiz","FMButton");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0}),n.FMButton=void 0;var s=i("SoundMgr"),c=cc._decorator,a=c.ccclass,l=(c.property,c.menu),u=c.disallowMultiple,d=(c.executionOrder,c.requireComponent),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onLoad=function(){var e=this.node.getComponent(cc.Button);e.transition==cc.Button.Transition.NONE&&(e.transition=cc.Button.Transition.SCALE,e.duration=.1,e.zoomScale=.9),this.node.on("click",function(){s.default.playSound_csryw("anniu")},this)},o([a,d(cc.Button),u(),l("FM\u7ec4\u4ef6/FMButton")],t)}(cc.Component);n.FMButton=h,cc._RF.pop()},{}],FMComponentExtend:[function(e,t){"use strict";cc._RF.push(t,"415e8HkD95B7aloMcGJWw9P","FMComponentExtend");var i=t.exports,n=__extends;Object.defineProperty(i,"__esModule",{value:!0});var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.__isInit_csryw=!1,t.EventEnumView_csryw={},t}return n(t,e),t.prototype.onLoad=function(){this.__onInit_csryw()},t.prototype.childNode=function(e,t){var i=t||this.node,n=i.getChildByName(e);return n||console.error("\u6ca1\u6709\u627e\u5230\u8282\u70b9 ",e,i.name),n},t.prototype.child=function(e,t,i){var n=e.getChildByName(t);if(n)return n.getComponent(i);console.error("\u6ca1\u6709\u627e\u5230\u8282\u70b9 ",t,e.name)},t.prototype.onClick=function(e,t,i){return e.on("click",t,i)},t.prototype.__onInit_csryw=function(){this.__isInit_csryw||(this.__isInit_csryw=!0,this.initView_csryw())},t.prototype.onListenerEventView_csryw=function(e){this._listenerCallView_csryw=e},t.prototype.emitListenerEvent_csryw=function(e,t,i){this._listenerCallView_csryw&&callFM_csryw(this._listenerCallView_csryw,e,this,t,i)},t.prototype.isActiveView_csryw=function(){return!(!cc.isValid(this,!0)||!this.node.activeInHierarchy)},t.prototype.onDestroy=function(){},t}(cc.Component);i.default=r,cc._RF.pop()},{}],FMInterface:[function(e,t){"use strict";cc._RF.push(t,"960ddPW6plCX7rTQuyZQoCo","FMInterface");var i=t.exports,n=__spreadArrays;Object.defineProperty(i,"__esModule",{value:!0}),i.callFM_csryw=i.handleFM_csryw=i.FMListener=void 0;var r=function(){};function o(e,t){return{target:t,callback:e}}function s(e){for(var t,i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];if(e&&e.callback)return(t=e.callback).call.apply(t,n([e.target],i))}i.FMListener=r,i.handleFM_csryw=o,i.callFM_csryw=s,window.FMListener=r,window.handleFM_csryw=o,window.callFM_csryw=s,cc._RF.pop()},{}],FMItemLayout:[function(e,t){"use strict";cc._RF.push(t,"8482a+fXPVGpbazvKpZtGQW","FMItemLayout");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("FMViewBase"),c=cc._decorator,a=c.ccclass,l=c.property,u=(c.requireComponent,c.disallowMultiple),d=(c.menu,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemChilds=[],t.ad_tag_csryw=null,t.itemIndex_csryw=0,t}return r(t,e),t.prototype.setAdTag_csryw=function(e){this.ad_tag_csryw=e},t.prototype.addEvent_csryw=function(){},t.prototype.removeEvent_csryw=function(){},t.prototype.initView_csryw=function(){},t.prototype.setFMListenerUpdate_csryw=function(e){this._fmListenerData_csryw=e},t.prototype.setItemIndex_csryw=function(e){if(this.itemIndex_csryw=e,this._fmListenerData_csryw)for(var t=this.itemChilds.length,i=0;i<t;i++){var n=this.itemIndex_csryw*t+i,r=callFM_csryw(this._fmListenerData_csryw,n);this.updateDataItemByIndex_csryw(r,i)}},t.prototype.updateDataItemByIndex_csryw=function(e){LogUtils.log_csryw("FMItemLayout -> updateDataItemByIndex -> data",e)},t.prototype.getItemIndex_csryw=function(){return this.itemIndex_csryw},t.prototype.getPointX_csryw=function(){return this.node.x},t.prototype.getPointY_csryw=function(){return this.node.y},t.prototype.setPointX_csryw=function(e){this.node.x=e},t.prototype.setPointY_csryw=function(e){this.node.y=e},t.prototype.getItemChildrenCount_csryw=function(){return this.itemChilds.length},o([l({tooltip:"\u5b50\u8282\u70b9\u96c6\u5408",type:[cc.Node]})],t.prototype,"itemChilds",void 0),o([a,u()],t)}(s.default));n.default=d,cc._RF.pop()},{}],FMMainScene:[function(e,t){"use strict";cc._RF.push(t,"d5474BSd0xPPrq9DFz4LkL1","FMMainScene");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("TTAPI"),c=i("FMSkeletonExtend"),a=i("DialogMgr"),l=i("GameMgr"),u=i("PhysicalPowerMgr"),d=i("SoundMgr"),h=i("VibrateMgr"),p=i("SettingUI"),y=i("Common5"),f=i("GameConfig"),_=i("User"),g=i("AppPlatform"),w=i("DateUtils"),m=i("UnlockHouse"),v=i("YPlatform"),b=cc._decorator,S=b.ccclass,A=b.property,C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_cll=null,t.btnSet=null,t.candyNode=null,t.btn_build=null,t.isClick=!1,t.curHouse=null,t.curSpendArr=[],t.curHouseData=null,t.nextHouseData=null,t.isShowUnlock=!1,t.isNotEnough=!1,t.isLongTouch=!1,t.checkTime=.1,t.isCanBuild=!0,t.isPlay=!1,t.isPlayUp=!1,t}var i;return r(t,e),i=t,t.prototype.onLoad=function(){var e=this;i.inst=this,console.log("ly++++++++++++++++++++++  calculateLevel:",y.default.calculateLevel(200,360)),this.node.getChildByName("butStart").on("click",function(){e.isClick||(e.isClick=!0,u.default.getPhysicalNum()>=1?(e.goToGame(),v.YPlatform.showFullScreenAd()):y.default.getPrefabFromBundle("subRes","Prefabs/UI/BloodView",cc.find("Canvas"),function(){e.scheduleOnce(function(){e.isClick=!1},.3)}))},this),this.node.getChildByName("butToast").on("click",function(){a.default.openToast("\u8fd9\u662f\u63d0\u793a\u8bed")},this),this.btn_cll=this.node.getChildByName("btn_cll"),this.btn_cll.active=!(1==_.default.getIsCll()),this.btn_cll.on("click",function(){e.onClickCll()},this),this.btn_cll.active=0==_.default.getIsCll(),s.default.checkCanToSide(function(t){t||(e.btn_cll.active=!1)}),this.node.getChildByName("butReSet").on("click",function(){_.default.testInitUser_csryw(),l.default.getInstance_csryw().saveGameData_csryw()},this),this.initCandy(),this.btn_build.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.btn_build.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.btn_build.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),d.default.playMusic("resources","Sound/bgm"),this.checkNextDay()},t.prototype.goToGame=function(){l.default.getInstance_csryw().onLoadToGameScene_csryw()},t.prototype.onDestroy=function(){i.inst=null,d.default.stopMusic()},t.prototype.onClickCll=function(){var e=this;this.isClick||(this.isClick=!0,y.default.getPrefabFromBundle("subRes","Prefabs/UI/cll",this.node,function(){e.scheduleOnce(function(){e.isClick=!1},.3)}))},t.prototype.btnSetFunc=function(){var e=this;this.isClick||(this.isClick=!0,y.default.getPrefabFromBundle("subRes","Prefabs/UI/SettingUI",this.node,function(t){t.getComponent(p.default).initSet(!1),e.scheduleOnce(function(){e.isClick=!1},.3)}),v.YPlatform.showFullScreenAd())},t.prototype.initCandy=function(){var e=this;if(!(_.default.getHouseNum_csryw()>=6)){this.curHouse=null,this.curSpendArr=[],this.curHouseData=null,this.nextHouseData=null,this.candyNode.removeAllChildren();var t=_.default.getHouseNum_csryw();this.curHouseData=JSON.parse(JSON.stringify(f.default.houseDic.getValue(t))),this.nextHouseData=JSON.parse(JSON.stringify(f.default.houseDic.getValue(t+1))),this.curSpendArr=this.curHouseData.gold.split("|").map(function(e){return parseInt(e,10)});var i="Prefabs/CandyHouse/house"+t;y.default.getPrefabFromBundle("subRes",i,this.candyNode,function(t){e.curHouse=t,e.updateShowPro(!1),e.isCanBuild=!0,e.isShowUnlock=!1,"undefined"!=typeof langManager?e.curHouse.getChildByName("name").getChildByName("label_name").getComponent(cc.Label).string=langManager.getLangStr(e.curHouseData.tag):e.curHouse.getChildByName("name").getChildByName("label_name").getComponent(cc.Label).string=e.curHouseData.name,console.log("ly++++++++++++ this.isCanBuild:",e.isCanBuild)})}},t.prototype.showUnlockCandy=function(){var e=this;if(!this.isShowUnlock&&this.isCanBuild){this.isShowUnlock=!0,this.isCanBuild=!1;var t=this.curHouse.getChildByName("3");this.playUp(t),t.getChildByName("proShow").active=!1;var i=this.curHouse.getChildByName("name").children[0];cc.tween(i).to(.8,{opacity:0}).start(),this.scheduleOnce(function(){e.curHouse.getChildByName("3").getChildByName("proShow").active=!1,console.log("ly++++++++++++ this.isCanBuild:",e.isCanBuild),_.default.setHouseNum_csryw(_.default.getHouseNum_csryw()+1),_.default.setHousePro_csryw(0),l.default.getInstance_csryw().saveGameData_csryw(),y.default.getPrefabFromBundle("subRes","Prefabs/UI/UnlockHouse",e.node,function(t){t.getComponent(m.default).init(e.curHouseData.wzicon,function(){e.playAddAni()})})},2)}},t.prototype.showMonenyNotEnough=function(){this.isNotEnough||(this.isNotEnough=!0,y.default.getPrefabFromBundle("subRes","Prefabs/UI/MonenyNotEnough",this.node,function(){}))},t.prototype.openHouseShow=function(){var e=this;this.isClick||(this.isClick=!0,y.default.getPrefabFromBundle("subRes","Prefabs/UI/HouseShow",this.node,function(){e.scheduleOnce(function(){e.isClick=!1},.3)}),v.YPlatform.showFullScreenAd())},t.prototype.onTouchStart=function(){this.isLongTouch=!1,this.schedule(this.touchFun,this.checkTime)},t.prototype.onTouchEnd=function(){this.unschedule(this.touchFun),this.isLongTouch||this.clickFun()},t.prototype.touchFun=function(){var e=this;if(!(_.default.getHouseNum_csryw()>=6)&&this.isCanBuild){this.isLongTouch=!0,h.default.vibrateShort_csryw();var t=_.default.getHousePro_csryw(),i=Math.floor(t);i>this.curSpendArr.length-1&&(i=this.curSpendArr.length-1);var n=this.curSpendArr[i]/100;_.default.getCandy_csryw()>=n?(_.default.subCandy_csryw(n),l.default.getInstance_csryw().saveGameData_csryw(),t+=.01,_.default.setHousePro_csryw(t),t>=this.curSpendArr.length&&this.showUnlockCandy(),this.flyCoin(this.btn_build,this.curHouse.getChildByName(""+(i+1)),function(){e.updateShowPro()})):this.showMonenyNotEnough()}},t.prototype.clickFun=function(){var e=this;if(!(_.default.getHouseNum_csryw()>=6)&&this.isCanBuild){h.default.vibrateShort_csryw();var t=_.default.getHousePro_csryw(),i=Math.floor(t),n=this.curSpendArr[i]/100;_.default.getCandy_csryw()>=n?(_.default.subCandy_csryw(n),l.default.getInstance_csryw().saveGameData_csryw(),t+=.01,_.default.setHousePro_csryw(t),t>=this.curSpendArr.length&&this.showUnlockCandy(),this.flyCoin(this.btn_build,this.curHouse.getChildByName(""+(i+1)),function(){e.updateShowPro()})):this.showMonenyNotEnough()}},t.prototype.updateShowPro=function(e){if(void 0===e&&(e=!0),this.curHouse&&!this.isShowUnlock){var t=_.default.getHousePro_csryw(),i=Math.floor(t),n=0,r=null,o=null;if(0==i)this.curHouse.getChildByName("Img_pro").getComponent(cc.Sprite).fillRange=-1+t,o=this.curHouse.getChildByName("proShow").getChildByName("lab_pro").getComponent(cc.Label),r=this.curHouse.getChildByName("proShow"),n=t;else if(1==i)(s=this.curHouse.getChildByName("Img_pro")).getComponent(cc.Sprite).fillRange=0,this.curHouse.getChildByName("proShow").active=!1,this.curHouse.getChildByName(""+(i+1)).getChildByName("Img_pro").getComponent(cc.Sprite).fillRange=t-1-1,o=(r=this.curHouse.getChildByName(""+(i+1)).getChildByName("proShow")).getChildByName("lab_pro").getComponent(cc.Label),n=t-1,e&&n<=.09&&this.playUp(s);else if(2==i){var s;this.curHouse.getChildByName("Img_pro").getComponent(cc.Sprite).fillRange=0,this.curHouse.getChildByName("proShow").active=!1,(s=this.curHouse.getChildByName(""+i).getChildByName("Img_pro")).getComponent(cc.Sprite).fillRange=0,this.curHouse.getChildByName(""+i).getChildByName("proShow").active=!1,this.curHouse.getChildByName(""+(i+1)).getChildByName("Img_pro").getComponent(cc.Sprite).fillRange=t-2-1,o=(r=this.curHouse.getChildByName(""+(i+1)).getChildByName("proShow")).getChildByName("lab_pro").getComponent(cc.Label),n=t-2,e&&n<=.09&&this.playUp(s)}r.active=!0,t>=3&&(n=1,(o=(r=this.curHouse.getChildByName("3").getChildByName("proShow")).getChildByName("lab_pro").getComponent(cc.Label)).string="100%",this.curHouse.children.forEach(function(e){e.active=!1})),o.string=Math.floor(100*n)+"%"}},t.prototype.playAddAni=function(){var e=this;if(!(_.default.getHouseNum_csryw()>=6)){this.isCanBuild=!1;var t="Prefabs/CandyHouse/house"+_.default.getHouseNum_csryw();y.default.getPrefabFromBundle("subRes",t,this.candyNode,function(t){t.x+=750,cc.tween(e.curHouse).to(1,{x:-750}).call(function(){e.curHouse.destroy()}).start(),cc.tween(t).to(1,{x:0}).call(function(){e.initCandy()}).start()})}},t.prototype.flyCoin=function(e,t,i){var n=this,r=null;"house5"!=t.parent.name&&"1"==t.name&&(r=t.parent.getChildByName("Img_pro"));var o=this.node.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2(0,0)));o.y+=100;var s=this.node.convertToNodeSpaceAR(t.convertToWorldSpaceAR(cc.v2(0,0)));y.default.getPrefabFromBundle("subRes","Prefabs/CandyHouse/coinA",this.node,function(e){e.setPosition(o),cc.tween(e).bezierTo(1,o,cc.v2(o.x+y.default.randomRange(-150,150),o.y+y.default.randomRange(300,600)),s).call(function(){if(!n.isPlay){n.isPlay=!0,r&&cc.tween(r).to(.2,{scale:.98},{easing:cc.easing.backOut}).to(.2,{scale:1},{easing:cc.easing.backOut}).start();var e="house5"==t.parent.name?t.parent:t;cc.tween(e).to(.2,{scale:.98},{easing:cc.easing.backOut}).to(.2,{scale:1},{easing:cc.easing.backOut}).call(function(){n.isPlay=!1}).start()}i&&i()}).start(),e.scale=.5,cc.tween(e).to(.2,{scale:1}).to(.8,{scale:0},{easing:cc.easing.sineIn}).call(function(){e.destroy(),d.default.playSoundFromBundle("resources",d.MusicName.\u91d1\u5e01)}).start()})},t.prototype.playUp=function(e){var t=this;if(!this.isPlayUp){this.isPlayUp=!0;var i=this.node.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2(0,0)));d.default.playSoundFromBundle("resources",d.MusicName.\u5347\u7ea7\u6210\u529f),y.default.getPrefabFromBundle("subRes","Prefabs/CandyHouse/smallUp",this.node,function(e){e.setPosition(i);var n=e.getComponent(c.default);n.setAnimation(0,"play",!1),n.setCompleteListener(function(){e.destroy(),t.isPlayUp=!1})})}},t.prototype.checkNextDay=function(){var e=_.default.getLastDate(),t=w.DateUtils.getNowTime_csryw();g.default.is_TT_GAME_csryw()&&(t=y.default.netTime),t>e&&(w.DateUtils.isSameDay_csryw(t,e)||(_.default.setLastDate(t),_.default.setGoldGetArr_csryw([0,0,0,0,0]),l.default.getInstance_csryw().saveGameData_csryw(),console.log("ly++++++ \u65b0\u7684\u4e00\u5929")))},t.inst=null,o([A(cc.Node)],t.prototype,"btnSet",void 0),o([A(cc.Node)],t.prototype,"candyNode",void 0),o([A(cc.Node)],t.prototype,"btn_build",void 0),i=o([S],t)}(cc.Component);n.default=C,cc._RF.pop()},{}],FMScrollViewLoop:[function(e,t){"use strict";cc._RF.push(t,"685e88bRjRGNawxLozbkHdK","FMScrollViewLoop");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("FMTouchMaskView"),c=i("FMInterface"),a=i("Utilit"),l=i("FMItemLayout"),u=cc._decorator,d=u.ccclass,h=u.property,p=(u.requireComponent,u.disallowMultiple),y=(u.menu,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isAutoMoveType=!0,t.arrayAliveListLayout_csryw=[],t.arrayFreeListLayout_csryw=[],t.viewLayoutNum_csryw=0,t.viewLayoutGapNum_csryw=3,t.viewLayoutSum_csryw=0,t.startIndexItem_csryw=0,t.isCanUpdateItems_csryw=!1,t.isTouchStop_csryw=!1,t._isCanScrollViewLoopUpdate_csryw=!0,t.isAutoMoveWayLeftUp_csryw=!0,t.autoMoveWaitTime_csryw=60,t.autoMoveWaitNum_csryw=1,t.autoMoveSpeed_csryw=3,t._nextMoveLength_csryw=0,t._waitTimeNum_csryw=0,t._moveState_csryw=0,t}return r(t,e),Object.defineProperty(t.prototype,"isAutoMoveType",{get:function(){return this._isAutoMoveType},set:function(e){this._isAutoMoveType=e},enumerable:!1,configurable:!0}),t.prototype._init_csryw=function(){if(e.prototype._init_csryw.call(this)){this._slideDirection==s.SlideDirection.HORIZONTAL?this.viewLayoutNum_csryw=Math.ceil(this.node.width/this.itemPrefabWidth_csryw):this._slideDirection==s.SlideDirection.VERTICAL&&(this.viewLayoutNum_csryw=Math.ceil(this.node.width/this.itemPrefabHeight_csryw)),this.viewLayoutSum_csryw=this.viewLayoutNum_csryw+2*this.viewLayoutGapNum_csryw;for(var t=0,i=0;i<this.viewLayoutSum_csryw;i++){var n=this.cloneLayout_csryw(),r=n.node;this._slideDirection==s.SlideDirection.HORIZONTAL?(r.x=t,r.y=0,t+=r.width):this._slideDirection==s.SlideDirection.VERTICAL&&(r.x=0,r.y=t,t-=r.height),this.arrayAliveListLayout_csryw.push(n)}return this.isCanUpdateItems_csryw=!0,!0}return!1},t.prototype.setFMListenerUpdateItem_csryw=function(e){this.fmListenerUpdateData_csryw=e},t.prototype.setAutoData_csryw=function(e,t,i,n,r){this.isAutoMoveWayLeftUp_csryw=0==e,this.autoMoveWaitNum_csryw=t?Math.abs(t):0,this.autoMoveWaitTime_csryw=i?60*Math.abs(i):60,this.autoMoveSpeed_csryw=n?Math.abs(n):3,r&&(this.node.color=a.default.colorHex2Rgb_csryw(r))},t.prototype.isTouchStopView_csryw=function(){return this.isTouchStop_csryw},t.prototype.setCanScrollViewLoopUpdate_csryw=function(e){this._isCanScrollViewLoopUpdate_csryw=e},t.prototype.setAdTag_csryw=function(e){this.ad_tag_csryw=e;for(var t=0;t<this.arrayAliveListLayout_csryw.length;t++)this.arrayAliveListLayout_csryw[t].setAdTag_csryw(this.ad_tag_csryw);for(t=0;t<this.arrayFreeListLayout_csryw.length;t++)this.arrayFreeListLayout_csryw[t].setAdTag_csryw(this.ad_tag_csryw)},t.prototype.initUpdateItems_csryw=function(){if(this._init_csryw(),this.startIndexItem_csryw=0,this._slideDirection==s.SlideDirection.HORIZONTAL)for(var e=3*-this.itemPrefabWidth_csryw,t=0;t<this.arrayAliveListLayout_csryw.length;t++)(i=this.arrayAliveListLayout_csryw[t]).setPointX_csryw(e),i.setItemIndex_csryw(this.startIndexItem_csryw+t),e+=this.itemPrefabWidth_csryw;else for(e=3*this.itemPrefabHeight_csryw,t=0;t<this.arrayAliveListLayout_csryw.length;t++){var i;(i=this.arrayAliveListLayout_csryw[t]).setPointY_csryw(e),i.setItemIndex_csryw(this.startIndexItem_csryw+t),e-=this.itemPrefabHeight_csryw}this._updateNextLengthTime_csryw()},t.prototype.update=function(){this.isCanUpdateItems_csryw&&this._isCanScrollViewLoopUpdate_csryw&&(this.updateScrollingItems_csryw(),1==this.isAutoMoveType&&this._updateAutoMove_csryw())},t.prototype.listenerUpdateInitItem_csryw=function(e){if(this.fmListenerUpdateData_csryw)return c.callFM_csryw(this.fmListenerUpdateData_csryw,e)},t.prototype._updateAutoMove_csryw=function(){this.isTouchStopView_csryw()||(0==this._moveState_csryw?(this.isAutoMoveWayLeftUp_csryw?this._slideDirection==s.SlideDirection.HORIZONTAL?this.content_csryw.x=this.content_csryw.x-this.autoMoveSpeed_csryw:this.content_csryw.y=this.content_csryw.y+this.autoMoveSpeed_csryw:this._slideDirection==s.SlideDirection.HORIZONTAL?this.content_csryw.x=this.content_csryw.x+this.autoMoveSpeed_csryw:this.content_csryw.y=this.content_csryw.y-this.autoMoveSpeed_csryw,this.autoMoveWaitNum_csryw>0&&(this._nextMoveLength_csryw=this._nextMoveLength_csryw-this.autoMoveSpeed_csryw,this._nextMoveLength_csryw<=0&&(this._moveState_csryw=1))):(this._waitTimeNum_csryw=this._waitTimeNum_csryw+1,this._waitTimeNum_csryw>=this.autoMoveWaitTime_csryw&&(this._waitTimeNum_csryw=0,this._updateNextLengthTime_csryw())))},t.prototype._dispatchEvent_csryw=function(e){e!=s.FMTouchEvent.Scrolling&&(e==s.FMTouchEvent.TouchStart?this.isTouchStop_csryw=!0:e==s.FMTouchEvent.TouchEnded&&(this._updateNextLengthTime_csryw(),this.isTouchStop_csryw=!1))},t.prototype._updateNextLengthTime_csryw=function(){if(this.autoMoveWaitNum_csryw>0)if(this._slideDirection==s.SlideDirection.HORIZONTAL)if(this._nextMoveLength_csryw=this.autoMoveWaitNum_csryw*this.itemPrefab.data.width,this.isAutoMoveWayLeftUp_csryw)for(var e=0;e<this.arrayAliveListLayout_csryw.length;e++){var t=this.arrayAliveListLayout_csryw[e];if((i=this.content_csryw.x+t.node.x)>-t.node.width&&i<0){this._nextMoveLength_csryw=this._nextMoveLength_csryw+i;break}}else for(e=this.arrayAliveListLayout_csryw.length-1;e>=0;e--){var i;if(t=this.arrayAliveListLayout_csryw[e],(i=this.content_csryw.x+t.node.x)<this.node.width+t.node.width&&i>this.node.width){i-=this.node.width,this._nextMoveLength_csryw=this._nextMoveLength_csryw-i;break}}else if(this._nextMoveLength_csryw=this.autoMoveWaitNum_csryw*this.itemPrefab.data.height,this.isAutoMoveWayLeftUp_csryw){for(e=0;e<this.arrayAliveListLayout_csryw.length;e++)if(t=this.arrayAliveListLayout_csryw[e],(n=this.content_csryw.y+t.node.y)<t.node.height&&n>0){this._nextMoveLength_csryw=this._nextMoveLength_csryw-n;break}}else for(e=this.arrayAliveListLayout_csryw.length-1;e>=0;e--){var n;if(t=this.arrayAliveListLayout_csryw[e],(n=this.content_csryw.y+t.node.y-t.node.height)>-(this.node.height+t.node.height)&&n<-this.node.height){n+=this.node.height,this._nextMoveLength_csryw=this._nextMoveLength_csryw+n;break}}this._waitTimeNum_csryw=0,this._moveState_csryw=0},t.prototype.updateScrollingItems_csryw=function(){var e=[];if(this._slideDirection==s.SlideDirection.HORIZONTAL){for(var t=0;t<this.arrayAliveListLayout_csryw.length;t++){var i=this.arrayAliveListLayout_csryw[t];this.content_csryw.x+i.getPointX_csryw()<3*-this.itemPrefabWidth_csryw?this.addFreeItem_csryw(i):i.getPointX_csryw()+this.content_csryw.x>this.node.width+3*this.itemPrefabWidth_csryw?this.addFreeItem_csryw(i):e.push(i)}e[0].getPointX_csryw()+this.content_csryw.x>-this.itemPrefabWidth_csryw&&((i=this.getFreeItem_csryw()).setPointX_csryw(e[0].getPointX_csryw()-this.itemPrefabWidth_csryw),i.setItemIndex_csryw(e[0].getItemIndex_csryw()-1),e.splice(0,0,i),i.node.active=!0),e[e.length-1].getPointX_csryw()+this.content_csryw.x<+this.node.width+this.itemPrefabWidth_csryw&&((i=this.getFreeItem_csryw()).setPointX_csryw(e[e.length-1].getPointX_csryw()+this.itemPrefabWidth_csryw),i.setItemIndex_csryw(e[e.length-1].getItemIndex_csryw()+1),e.push(i),i.node.active=!0)}else{for(t=0;t<this.arrayAliveListLayout_csryw.length;t++)(i=this.arrayAliveListLayout_csryw[t]).getPointY_csryw()+this.content_csryw.y>3*this.itemPrefabHeight_csryw?this.addFreeItem_csryw(i):i.getPointY_csryw()<-(this.content_csryw.y+this.node.height+3*this.itemPrefabHeight_csryw)?this.addFreeItem_csryw(i):e.push(i);e[0].getPointY_csryw()+this.content_csryw.y<=this.itemPrefabHeight_csryw&&((i=this.getFreeItem_csryw()).setPointY_csryw(e[0].getPointY_csryw()+this.itemPrefabHeight_csryw),i.setItemIndex_csryw(e[0].getItemIndex_csryw()-1),e.splice(0,0,i),i.node.active=!0),e[e.length-1].getPointY_csryw()>=-(this.content_csryw.y+this.node.height+this.itemPrefabHeight_csryw)&&((i=this.getFreeItem_csryw()).setPointY_csryw(e[e.length-1].getPointY_csryw()-this.itemPrefabHeight_csryw),i.setItemIndex_csryw(e[e.length-1].getItemIndex_csryw()+1),e.push(i),i.node.active=!0)}this.arrayAliveListLayout_csryw=e},t.prototype.cloneLayout_csryw=function(){var e=cc.instantiate(this.itemPrefab),t=e.getComponent(l.default);return t.setAdTag_csryw(this.ad_tag_csryw),t.setFMListenerUpdate_csryw(c.handleFM_csryw(this.listenerUpdateInitItem_csryw,this)),this.content_csryw.addChild(e),t},t.prototype.getFreeItem_csryw=function(){var e=this.arrayFreeListLayout_csryw.pop();return e||(e=this.cloneLayout_csryw()),e},t.prototype.addFreeItem_csryw=function(e){e.node.active=!1,this.arrayFreeListLayout_csryw.push(e)},o([h()],t.prototype,"_isAutoMoveType",void 0),o([h({tooltip:"\u81ea\u52a8\u6eda\u52a8",type:cc.Boolean})],t.prototype,"isAutoMoveType",null),o([d,p()],t)}(s.default));n.default=y,cc._RF.pop()},{}],FMSkeletonExtend:[function(e,t){"use strict";cc._RF.push(t,"9e0489vcsZLQrcbLb8LpzGm","FMSkeletonExtend");var i=t.exports,n=__extends,r=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,s=o.ccclass,c=o.property,a=o.menu,l=(o.disallowMultiple,o.executionOrder,o.requireComponent,o.executeInEditMode),u=o.playOnFocus,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isEditorPlay_csryw=!0,t._isEditoAttach_csryw=!1,t}return n(t,e),Object.defineProperty(t.prototype,"isEditorPlay",{get:function(){return this._isEditorPlay_csryw},set:function(e){this._isEditorPlay_csryw=e,this._isEditorPlay_csryw},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isEditorAttach",{get:function(){return this._isEditoAttach_csryw},set:function(e){this._isEditoAttach_csryw=e,this._isEditoAttach_csryw&&this.attachUtil.generateAllAttachedNodes()},enumerable:!1,configurable:!0}),t.prototype.update=function(t){e.prototype.update.call(this,t)},t.prototype.dumpSpineInfo_csryw=function(){var e=this._skeleton.data,t=e.animations,i=e.events,n=e.skins;console.group("spine : \u8282\u70b9 "+this.name+" ,\u52a8\u753b <"+this._N$skeletonData._name+" >");for(var r="[",o=0;o<t.length;o++)0!=o&&(r+=","),r+=c=t[o].name;r+="]";var s="[";for(o=0;o<i.length;o++){var c=i[o].name,a=i[o].stringValue;""==a&&(a='""'),0!=o&&(s+=","),s=s+c+":"+a}s+="]";var l="[";for(o=0;o<n.length;o++)0!=o&&(l+=","),l+=c=n[o].name;l+="]",console.log("%c \u52a8\u4f5c\u96c6\u5408\uff1a %c "+r+" ","background: #35495E;padding: 1px;border-radius: 2px 0 0 2px;color: #fff;","background: #409EFF;padding: 1px;border-radius: 0 2px 2px 0;color: #fff;"),console.log("%c \u4e8b\u4ef6\u96c6\u5408\uff1a %c "+s+" ","background: #35495E;padding: 1px;border-radius: 2px 0 0 2px;color: #fff;","background: #409EFF;padding: 1px;border-radius: 0 2px 2px 0;color: #fff;"),console.log("%c \u76ae\u80a4\u96c6\u5408\uff1a %c "+l+" ","background: #35495E;padding: 1px;border-radius: 2px 0 0 2px;color: #fff;","background: #409EFF;padding: 1px;border-radius: 0 2px 2px 0;color: #fff;"),console.groupEnd()},r([c()],t.prototype,"_isEditorPlay_csryw",void 0),r([c({tooltip:"\u7f16\u8f91\u5668\u4e2d\u81ea\u52a8\u64ad\u653e\u52a8\u4f5c\n\u52fe\u9009\u72b6\u6001\uff0c\u5728\u9009\u4e2d\u8282\u70b9\u65f6\uff0c\u5e27\u738760\uff0c\u5426\u5219\u53ea\u6709\u5fc5\u8981\u65f6\u624d\u91cd\u7ed8\n\u975e\u52fe\u9009\uff0c\u4e0d\u81ea\u52a8\u64ad\u653e",type:cc.Boolean})],t.prototype,"isEditorPlay",null),r([c()],t.prototype,"_isEditoAttach_csryw",void 0),r([c({tooltip:"\u7f16\u8f91\u5668\u4e2d\u751f\u6210\u6302\u70b9\n\u52fe\u9009\u72b6\u6001\uff0c\u751f\u6210\u6302\u70b9 ATTACHED_NODE_TREE\n\u975e\u52fe\u9009\uff0c\u4e0d\u505a\u64cd\u4f5c",type:cc.Boolean})],t.prototype,"isEditorAttach",null),r([s,l,u,a("FM\u7ec4\u4ef6/\u6269\u5c55/FMSkeletonExtend")],t)}(sp.Skeleton);i.default=d,cc._RF.pop()},{}],FMSpine:[function(e,t){"use strict";cc._RF.push(t,"4b1a8Us5hFCxrdcJbkFM0w9","FMSpine");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("FMSkeletonExtend"),c=i("FMComponentExtend"),a=i("SoundMgr"),l=cc._decorator,u=l.ccclass,d=(l.property,l.menu),h=l.disallowMultiple,p=(l.executionOrder,l.requireComponent),y=(l.executeInEditMode,l.playOnFocus,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.arrayEvent=[],t.arraySlotEvent={},t.EventEnumView_csryw={},t}return r(t,e),t.prototype.initView_csryw=function(){var e=this;this.getSpine().setEventListener(function(t,i){var n=t.animation,r=t.animation.name,o=i.data&&i.data.name,s=i.stringValue;i.intValue,i.floatValue,"sound"==o&&a.default.playSpineSound_csryw(s,r),e.arrayEvent.forEach(function(e){var t=e.name,i=e.listener;t==o&&callFM_csryw(i,n,r,o)})})},t.prototype.addSlotByNodeEvent=function(e,t,i){this.arraySlotEvent[e]={slot:this.getSpine().findSlot(e),arrayAction:t,childNode:i}},t.prototype.addEvent=function(e,t){this.arrayEvent.push({name:e,listener:t})},t.prototype.removeEventAll=function(){this.arrayEvent=[]},t.prototype.animation=function(){return this.getSpine().animation},t.prototype.setTimeScale=function(e){this.getSpine().timeScale=e},t.prototype.getSpine=function(){return null==this.spine&&(this.spine=this.node.getComponent(s.default)),this.spine},t.prototype.update=function(){},t.prototype.setAnimation=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=0),this.getSpine().setAnimation(i,e,t)},t.prototype.setMix=function(e,t,i){this.getSpine().setMix(e,t,i)},t.prototype.setSkin=function(e){this.getSpine().setSkin(e)},o([u,p(s.default),h(),d("FM\u7ec4\u4ef6/FMSpine")],t)}(c.default));n.default=y,cc._RF.pop()},{}],FMTouchMaskView:[function(e,t){"use strict";cc._RF.push(t,"74f62CQmAVNqqrNvtKV9cdq","FMTouchMaskView");var i,n,r=e,o=t.exports,s=__extends,c=__decorate;Object.defineProperty(o,"__esModule",{value:!0}),o.FMTouchEvent=o.SlideDirection=void 0;var a=r("LogUtils"),l=r("FMItemLayout"),u=cc._decorator,d=u.ccclass,h=u.property,p=(u.requireComponent,u.disallowMultiple);u.menu,function(e){e[e.HORIZONTAL=1]="HORIZONTAL",e[e.VERTICAL=2]="VERTICAL"}(i=o.SlideDirection||(o.SlideDirection={})),function(e){e.TouchStart="touch_start",e.Scrolling="scrolling",e.TouchEnded="touch_ended"}(n=o.FMTouchEvent||(o.FMTouchEvent={}));var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.itemPrefab=null,t._slideDirection=i.HORIZONTAL,t._tempPoint_csryw=cc.v2(),t._tempPrevPoint_csryw=cc.v2(),t._outOfBoundaryAmount_csryw=cc.v2(0,0),t._outOfBoundaryAmountDirty_csryw=!0,t._inited_csryw=!1,t._touchMoved_csryw=!1,t.cancelInnerEvents_csryw=!0,t.itemPrefabWidth_csryw=0,t.itemPrefabHeight_csryw=0,t}return s(t,e),Object.defineProperty(t.prototype,"slideDirection",{get:function(){return this._slideDirection},set:function(e){this._slideDirection=e},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){this._init_csryw()},t.prototype._init_csryw=function(){if(this._inited_csryw)return!1;var e=this.node.getComponent(cc.Widget);e&&e.updateAlignment();var t=new cc.Node;t.anchorX=0,t.anchorY=1;var i=t.addComponent(cc.Widget);return i.top=0,i.left=0,i.right=0,i.bottom=0,i.isAlignTop=!0,i.isAlignLeft=!0,i.isAlignRight=!0,i.isAlignBottom=!0,this.node.addChild(t),i.updateAlignment(),t.addComponent(cc.Mask).type=cc.Mask.Type.RECT,this.content_csryw=new cc.Node,t.addChild(this.content_csryw),this.content_csryw.width=t.width,this.content_csryw.height=t.height,this.content_csryw.anchorX=0,this.content_csryw.anchorY=1,this.content_csryw.x=0,this.content_csryw.y=0,this.itemPrefabWidth_csryw=this.itemPrefab.data.width,this.itemPrefabHeight_csryw=this.itemPrefab.data.height,this.scriptItemPrefab_csryw=this.itemPrefab.data.getComponent(l.default),this.scriptItemPrefab_csryw?0==this.scriptItemPrefab_csryw.getItemChildrenCount_csryw()&&a.LogUtils.error_csryw("FMTouchMaskView -> _init -> scriptItemPrefab item child count ==0"):a.LogUtils.error_csryw("FMTouchMaskView -> _init -> scriptItemPrefab is null"),this._inited_csryw=!0,!0},t.prototype._dispatchEvent_csryw=function(e){console.log("FMTouchMaskView -> _dispatchEvent -> name",e)},t.prototype.setCancelInnerEvents_csryw=function(e){this.cancelInnerEvents_csryw=e},t.prototype.handlePressLogic_csryw=function(){this._dispatchEvent_csryw(n.TouchStart)},t.prototype.handleMoveLogic_csryw=function(e){var t=this.getLocalAxisAlignDelta_csryw(e),i=t=this.clampDelta_csryw(t),r=this.getHowMuchOutOfBoundary_csryw(i);0===(i=i.add(r)).x&&0===i.y||(this._moveContent_csryw(i),this._dispatchEvent_csryw(n.Scrolling))},t.prototype.handleReleaseLogic_csryw=function(e){this.getLocalAxisAlignDelta_csryw(e),this._dispatchEvent_csryw(n.TouchEnded)},t.prototype._flattenVectorByDirection_csryw=function(e){var t=e;return t.x=this._slideDirection==i.HORIZONTAL?t.x:0,t.y=this._slideDirection==i.VERTICAL?t.y:0,t},t.prototype._moveContent_csryw=function(e){var t=this._flattenVectorByDirection_csryw(e),i=this.getContentPosition_csryw().add(t);this.setContentPosition_csryw(i)},t.prototype.getLocalAxisAlignDelta_csryw=function(e){return this.node.convertToNodeSpaceAR(e.getLocation(),this._tempPoint_csryw),this.node.convertToNodeSpaceAR(e.getPreviousLocation(),this._tempPrevPoint_csryw),this._tempPoint_csryw.sub(this._tempPrevPoint_csryw)},t.prototype._hasNestedViewGroup_csryw=function(e,t){if(e.eventPhase===cc.Event.CAPTURING_PHASE){if(t)for(var i=0;i<t.length;++i){var n=t[i];if(this.node===n)return!!e.target.getComponent(cc.ViewGroup);if(n.getComponent(cc.ViewGroup))return!0}return!1}},t.prototype._stopPropagationIfTargetIsMe_csryw=function(e){e.eventPhase===cc.Event.AT_TARGET&&e.target===this.node&&e.stopPropagation()},t.prototype._onTouchBegan_csryw=function(e,t){if(this.enabledInHierarchy&&!this._hasNestedViewGroup_csryw(e,t)){var i=e.touch;this.content_csryw&&this.handlePressLogic_csryw(i),this._touchMoved_csryw=!1,this._stopPropagationIfTargetIsMe_csryw(e)}},t.prototype._onTouchMoved_csryw=function(e,t){if(this.enabledInHierarchy&&!this._hasNestedViewGroup_csryw(e,t)){var i=e.touch;if(this.node._hitTest(i.getLocation(),this.node)&&(this.content_csryw&&this.handleMoveLogic_csryw(i),this.cancelInnerEvents_csryw)){if(i.getLocation().sub(i.getStartLocation()).mag()>7&&!this._touchMoved_csryw){var n=new cc.Event.EventTouch(e.getTouches(),e.bubbles);n.type=cc.Node.EventType.TOUCH_CANCEL,n.touch=e.touch,n.simulate=!0,e.target.dispatchEvent(n),this._touchMoved_csryw=!0}this._stopPropagationIfTargetIsMe_csryw(e)}}},t.prototype._onTouchEnded_csryw=function(e,t){if(this.enabledInHierarchy&&!this._hasNestedViewGroup_csryw(e,t)){var i=e.touch;this.content_csryw&&this.handleReleaseLogic_csryw(i),this._touchMoved_csryw?e.stopPropagation():this._stopPropagationIfTargetIsMe_csryw(e)}},t.prototype._onTouchCancelled_csryw=function(e,t){if(this.enabledInHierarchy&&!this._hasNestedViewGroup_csryw(e,t)){if(!e.simulate){var i=e.touch;this.content_csryw&&this.handleReleaseLogic_csryw(i)}this._stopPropagationIfTargetIsMe_csryw(e)}},t.prototype.clampDelta_csryw=function(e){return this._slideDirection==i.HORIZONTAL?e.y=0:this._slideDirection==i.VERTICAL&&(e.x=0),e},t.prototype.getHowMuchOutOfBoundary_csryw=function(e){if((e=e||cc.v2(0,0)).fuzzyEquals(cc.v2(0,0),1e-4)&&!this._outOfBoundaryAmountDirty_csryw)return this._outOfBoundaryAmount_csryw;var t=cc.v2(0,0);return e.fuzzyEquals(cc.v2(0,0),1e-4)&&(this._outOfBoundaryAmount_csryw=t,this._outOfBoundaryAmountDirty_csryw=!1),this.clampDelta_csryw(t)},t.prototype.getContentPosition_csryw=function(){return this.content_csryw.getPosition()},t.prototype.setContentPosition_csryw=function(e){e.fuzzyEquals(this.getContentPosition_csryw(),1e-4)||(this.content_csryw.setPosition(e),this._outOfBoundaryAmountDirty_csryw=!0)},t.prototype.onEnable=function(){this._registerEvent_csryw()},t.prototype.onDisable=function(){this._unregisterEvent_csryw()},t.prototype._registerEvent_csryw=function(){this.node.on(cc.Node.EventType.TOUCH_START,this._onTouchBegan_csryw,this,!0),this.node.on(cc.Node.EventType.TOUCH_MOVE,this._onTouchMoved_csryw,this,!0),this.node.on(cc.Node.EventType.TOUCH_END,this._onTouchEnded_csryw,this,!0),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancelled_csryw,this,!0)},t.prototype._unregisterEvent_csryw=function(){this.node.off(cc.Node.EventType.TOUCH_START,this._onTouchBegan_csryw,this,!0),this.node.off(cc.Node.EventType.TOUCH_MOVE,this._onTouchMoved_csryw,this,!0),this.node.off(cc.Node.EventType.TOUCH_END,this._onTouchEnded_csryw,this,!0),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this._onTouchCancelled_csryw,this,!0)},c([h({tooltip:"layout\u9884\u5236\u4f53(0,1)",type:cc.Prefab})],t.prototype,"itemPrefab",void 0),c([h()],t.prototype,"_slideDirection",void 0),c([h({type:cc.Enum(i),tooltip:"\u6eda\u52a8\u65b9\u5411:\n HORIZONTAL \u6c34\u5e73\u6eda\u52a8\nVERTICAL\u5782\u76f4\u6eda\u52a8"})],t.prototype,"slideDirection",null),c([d,p()],t)}(cc.Component);o.default=y,cc._RF.pop()},{}],FMViewBase:[function(e,t){"use strict";cc._RF.push(t,"3b171HYpFRDJ7C8uE/nm09B","FMViewBase");var i=e,n=t.exports,r=__extends;Object.defineProperty(n,"__esModule",{value:!0});var o=i("FMInterface"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isInit_csryw=0,t.EventEnumView_csryw={},t}return r(t,e),t.prototype.onLoad=function(){this._initView_csryw()},t.prototype._initView_csryw=function(){if(0==this._isInit_csryw)return this._isInit_csryw=1,this.initView_csryw(),this.addEvent_csryw(),this._isInit_csryw=2,!0},t.prototype.onListenerEventView_csryw=function(e){this._listenerCallView_csryw=e},t.prototype.emitListenerEvent_csryw=function(e){console.log("\u53d1\u9001 "+e),this._listenerCallView_csryw&&o.callFM_csryw(this._listenerCallView_csryw,e,this)},t.prototype.removeView_csryw=function(){this.onDestroy(),this.node.destroy()},t.prototype.hideView_csryw=function(){this.node.active=!1},t.prototype.showView_csryw=function(){this.node.active=!0},t.prototype.isActiveView_csryw=function(){return!(!cc.isValid(this,!0)||!this.node.activeInHierarchy)},t.prototype.showBanner_csryw=function(){},t.prototype.hideBanner_csryw=function(){},t.prototype.onEnable=function(){},t.prototype.onDisable=function(){this.hideBanner_csryw()},t.prototype.onDestroy=function(){this.removeEvent_csryw(),this.hideBanner_csryw()},t}(cc.Component);n.default=s,cc._RF.pop()},{}],GameConfig:[function(e,t){"use strict";cc._RF.push(t,"531d3/vO4BF1aTkLpkO/uSR","GameConfig");var i=e,n=t.exports,r=__decorate,o=__awaiter,s=__generator;Object.defineProperty(n,"__esModule",{value:!0}),n.GameMapData=n.HouseData=n.MapData=n.LevelData=n.FruitData=n.GameData=void 0;var c=i("AppConfig"),a=i("DialogMgr"),l=i("PhysicalPowerMgr"),u=i("Common5"),d=i("Dictionary"),h=cc._decorator,p=h.ccclass,y=(h.property,function(){});n.GameData=y;var f=function(){};n.FruitData=f;var _=function(){};n.LevelData=_;var g=function(){};n.MapData=g;var w=function(){};n.HouseData=w,n.GameMapData=function(){this.levelId=0,this.MapData=null,this.curScore=0,this.curObs=0,this.curIce=0,this.curAidTimes=0,this.cardIds1=[],this.cardIds2=[],this.cardIds3=[],this.curVideoNum=0,this.isShowOnlyOneTip=0,this.lockGridArr=[],this.videoGridArr=[],this.obstacleGridArr=[],this.obstacleGridNum=[],this.icecakeGridArr=[],this.icecakeGridNum=[],this.isAdAid=0,this.prop1Times=0,this.prop2Times=0,this.prop3Times=0,this.reciveTimes=0,this.curScoreLv=0};var m=function(){function e(){}var t;return t=e,e.loadSubResJosn=function(){return o(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,new Promise(function(e){var t=c.default.ResServer_csryw+"/json/GameConfig.json?"+(new Date).getTime();cc.assetManager.loadRemote(t,function(i,n){if(cc.assetManager.cacheManager&&cc.assetManager.cacheManager.removeCache(t),i)a.default.openToast("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u5c1d\u8bd5\u91cd\u542f\u6e38\u620f");else{for(var r=n.json,o=r.length,s=new y,c=0;c<o;c++)s=JSON.parse(JSON.stringify(r[c])),u.default.isNetConfig=1==s.isNetConfig,u.default.isNetConfig&&(u.default.maxLv=s.MaxLv,u.default.powerAddTime=s.PowerAddTime,u.default.hammerPrice=s.HammerPrice,u.default.exchangeCardPrice=s.ExchangeCardPrice,u.default.dealCardsPrice=s.DealCardsPrice,u.default.powerPrice=s.PowerPrice,u.default.hammerUnlock=s.HammerUnlock,u.default.exchangeCardUnlock=s.ExchangeCardUnlock,u.default.dealCardsUnlock=s.DealCardsUnlock,u.default.freeGold=s.FreeGold,u.default.gold1=s.Gold1,u.default.gold2=s.Gold2,u.default.gold3=s.Gold3,u.default.gold4=s.Gold4),l.default.RecoverPhysicalTime=u.default.powerAddTime;e()}})})];case 1:return e.sent(),u.default.isNetConfig?[4,new Promise(function(e){var i=c.default.ResServer_csryw+"/json/LevelConfig.json?"+(new Date).getTime();cc.assetManager.loadRemote(i,function(n,r){if(cc.assetManager.cacheManager&&cc.assetManager.cacheManager.removeCache(i),n)a.default.openToast("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u5c1d\u8bd5\u91cd\u542f\u6e38\u620f");else{for(var o=r.json,s=o.length,c=new _,l=0;l<s;l++)c=JSON.parse(JSON.stringify(o[l])),t.levelDic.setValue(c.Id,c);e()}})})]:[3,4];case 2:return e.sent(),[4,new Promise(function(e){var i=c.default.ResServer_csryw+"/json/MapConfig.json?"+(new Date).getTime();cc.assetManager.loadRemote(i,function(n,r){if(cc.assetManager.cacheManager&&cc.assetManager.cacheManager.removeCache(i),n)a.default.openToast("\u7f51\u7edc\u5f02\u5e38\uff0c\u8bf7\u5c1d\u8bd5\u91cd\u542f\u6e38\u620f");else{for(var o=r.json,s=o.length,c=new g,l=0;l<s;l++)c=JSON.parse(JSON.stringify(o[l])),t.mapDic.setValue(c.MapId,c);e()}})})];case 3:return e.sent(),[3,7];case 4:return[4,new Promise(function(e){u.default.loadSubPackageJson("subRes_config","LevelConfig",function(i){for(var n=i.length,r=new _,o=0;o<n;o++)r=JSON.parse(JSON.stringify(i[o])),t.levelDic.setValue(r.Id,r);e()})})];case 5:return e.sent(),[4,new Promise(function(e){u.default.loadSubPackageJson("subRes_config","MapConfig",function(i){for(var n=i.length,r=new g,o=0;o<n;o++)r=JSON.parse(JSON.stringify(i[o])),t.mapDic.setValue(r.MapId,r);console.log(">>>",t.mapDic.getValues()),e()})})];case 6:e.sent(),e.label=7;case 7:return[4,new Promise(function(e){u.default.loadSubPackageJson("subRes_config","FruitConfig",function(i){for(var n=i.length,r=new f,o=0;o<n;o++)r=JSON.parse(JSON.stringify(i[o])),t.fruitDic.setValue(r.Id,r);e()})})];case 8:return e.sent(),[4,new Promise(function(e){u.default.loadSubPackageJson("subRes_config","HouseConfig",function(i){for(var n=i.length,r=new w,o=0;o<n;o++)r=JSON.parse(JSON.stringify(i[o])),t.houseDic.setValue(r.id,r);e()})})];case 9:return e.sent(),[2]}})})},e.loadLocalSubResJosn=function(){return o(this,void 0,void 0,function(){return s(this,function(e){switch(e.label){case 0:return[4,new Promise(function(e){u.default.loadSubPackageJson("subRes_config","GameConfig",function(t){for(var i=t.length,n=new y,r=0;r<i;r++)n=JSON.parse(JSON.stringify(t[r])),u.default.isNetConfig=1==n.isNetConfig,u.default.isNetConfig&&(u.default.maxLv=n.MaxLv,u.default.powerAddTime=n.PowerAddTime,u.default.hammerPrice=n.HammerPrice,u.default.exchangeCardPrice=n.ExchangeCardPrice,u.default.dealCardsPrice=n.DealCardsPrice,u.default.powerPrice=n.PowerPrice,u.default.hammerUnlock=n.HammerUnlock,u.default.exchangeCardUnlock=n.ExchangeCardUnlock,u.default.dealCardsUnlock=n.DealCardsUnlock,u.default.freeGold=n.FreeGold,u.default.gold1=n.Gold1,u.default.gold2=n.Gold2,u.default.gold3=n.Gold3,u.default.gold4=n.Gold4),l.default.RecoverPhysicalTime=u.default.powerAddTime;e()})})];case 1:return e.sent(),[4,new Promise(function(e){u.default.loadSubPackageJson("subRes_config","LevelConfig",function(i){for(var n=i.length,r=new _,o=0;o<n;o++)r=JSON.parse(JSON.stringify(i[o])),t.levelDic.setValue(r.Id,r);e()})})];case 2:return e.sent(),[4,new Promise(function(e){u.default.loadSubPackageJson("subRes_config","MapConfig",function(i){for(var n=i.length,r=new g,o=0;o<n;o++)r=JSON.parse(JSON.stringify(i[o])),t.mapDic.setValue(r.MapId,r);console.log(">>>",t.mapDic.getValues()),e()})})];case 3:return e.sent(),[4,new Promise(function(e){u.default.loadSubPackageJson("subRes_config","FruitConfig",function(i){for(var n=i.length,r=new f,o=0;o<n;o++)r=JSON.parse(JSON.stringify(i[o])),t.fruitDic.setValue(r.Id,r);e()})})];case 4:return e.sent(),[4,new Promise(function(e){u.default.loadSubPackageJson("subRes_config","HouseConfig",function(i){for(var n=i.length,r=new w,o=0;o<n;o++)r=JSON.parse(JSON.stringify(i[o])),t.houseDic.setValue(r.id,r);e()})})];case 5:return e.sent(),[2]}})})},e.fruitDic=new d.Dictionary,e.levelDic=new d.Dictionary,e.mapDic=new d.Dictionary,e.houseDic=new d.Dictionary,t=r([p],e)}();n.default=m,cc._RF.pop()},{}],GameHttpMgr:[function(e,t){"use strict";cc._RF.push(t,"af3b25wGU9IcLD2NvXQzPyO","GameHttpMgr");var i=e,n=t.exports,r=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var o=i("HttpUnit"),s=i("NetConfig"),c=i("User"),a=i("AppConfig"),l=i("AppPlatform"),u=cc._decorator,d=u.ccclass,h=(u.property,function(){function e(){}var t;return t=e,e.getInstance=function(){return null==this._inst&&(this._inst=new t),this._inst},e.prototype.UserLoginActive=function(e,t,i,n,r){if(l.default.is_TT_GAME_csryw()){var a="456";c.default.getGameCode().length>0&&(a=c.default.getGameCode(),console.log(a));var u={code:a,city:e,userName:t,type:"1",portrait:i,oaid:l.default.getLaunchOptionsSync_csryw().query.oaid,promotionid:l.default.getLaunchOptionsSync_csryw().query.promotionid,callback:l.default.getLaunchOptionsSync_csryw().query.callback,ad_type:l.default.getLaunchOptionsSync_csryw().query.ad_type,adid:l.default.getLaunchOptionsSync_csryw().query.adid,aid:l.default.getLaunchOptionsSync_csryw().query.aid,clickid:l.default.getLaunchOptionsSync_csryw().query.clickid,creativeid:l.default.getLaunchOptionsSync_csryw().query.creativeid,creativetype:l.default.getLaunchOptionsSync_csryw().creativetype,mpversion:l.default.getLaunchOptionsSync_csryw().query.mpversion};console.log("ly++++data:",u);var d=new o.requestData;null==n&&(n=function(e){c.default.setGameOpenid(e.user.openid)}),null==r&&(r=function(e){console.log("UserLoginActive onFail== ",e)}),d.onSuccess_csryw=n,d.onFail_csryw=r,d.url_csryw=s.default.getUserLogin_Active("");var h=JSON.stringify(u);o.default.sendHttpUrl_csryw(d,h,n,r,{"Content-Type":"application/x-www-form-urlencoded"})}},e.prototype.Video_Active=function(e,t,i){if(void 0===i&&(i=null),l.default.is_TT_GAME_csryw()&&c.default.getGameOpenid()&&""!=c.default.getGameOpenid()&&null!=c.default.getGameOpenid()){var n=new o.requestData,r={openid:c.default.getGameOpenid(),mp_id:a.default.TT_APP_ID_csryw,userPlot:i};console.log("openid2",c.default.getGameOpenid()),null==e&&(e=function(e){console.log("Video_Active onSuccess== ",e)}),null==t&&(t=function(e){console.log("Video_Active onFail== ",e)}),n.onSuccess_csryw=e,n.onFail_csryw=t,n.url_csryw=s.default.getVideo_Active("");var u=JSON.stringify(r);o.default.sendHttpUrl_csryw(n,u,e,t,{"Content-Type":"application/x-www-form-urlencoded"})}},t=r([d],e)}());n.default=h,cc._RF.pop()},{}],GameMgr:[function(e,t){"use strict";cc._RF.push(t,"00994MxDNBEArlTl2C0FNx/","GameMgr");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0});var r=i("User"),o=i("LogUtils"),s=i("AppConfig"),c=i("Common5"),a=i("GameConfig"),l=i("AppPlatform"),u=i("Dictionary"),d=i("GameHttpMgr"),h=function(){function e(){this.isFirstLoadAD=!1,this.isWinner=!1}return e.getInstance_csryw=function(){return e._instance_csryw},e.prototype.preloadScene_csryw=function(){o.LogUtils.warn_csryw("GameMgr.getInstance().preloadScene_csryw\u8fd9\u91cc\u53ef\u4ee5\u52a0\u8f7d\u9700\u8981\u9884\u52a0\u8f7d\u7684\u573a\u666f"),cc.director.preloadScene("GameScene"),this.preLoadGame1()},e.prototype.onLoadToWorldScene_csryw=function(){cc.director.loadScene("FMMainScene",function(){console.log("\u8df3\u8f6c\u6e38\u620f\u573a\u666f FMMainScene")})},e.prototype.onLoadToGameScene_csryw=function(){cc.director.loadScene("GameScene",function(){console.log("\u8df3\u8f6c\u6e38\u620f\u573a\u666f GameScene")})},e.prototype.saveGameData_csryw=function(t){void 0===t&&(t="user"),cc.sys.localStorage.setItem("data"+s.default.AppID_csryw,r.default.getSaveData_csryw()),e.savePost(t,r.default.getSaveData_csryw())},e.prototype.preLoadGame1=function(){a.default.fruitDic.getValues().forEach(function(e){c.default.preload("subRes","Textures/"+e.FruitNum)}),c.default.preload("subRes","Prefabs/videoBoxUnlock"),c.default.preload("subRes","Prefabs/scoreBoxUnlock"),c.default.preload("subRes","Prefabs/ObstacleUnlock"),c.default.preload("subRes","Prefabs/IceCakeUnlock"),c.default.preload("subRes","Prefabs/delAni"),c.default.preload("subRes","Particle/ef_xiaochu"),c.default.preload("subRes","Particle/ef_jiesuo"),c.default.preload("subRes","Prefabs/UI/AddPropViewRecive"),c.default.preload("subRes","Prefabs/UI/ReciveView"),c.default.preload("subRes","Particle/ef_bingdong")},e.savePost=function(e,t){var i=this;if(l.default.is_TT_GAME_csryw()){var n=this.postTimerFun.getValue(e);n>=0&&clearTimeout(n);var r=function(){d.default.getInstance().Video_Active(function(e){console.log("ly++++++++++ res",e),c.default.netTime=e.time},null,t)},o=function(){i.postTimers.setValue(e,null),i.postTimerFun.setValue(e,null)},s=this.postTimers.getValue(e);if(s)if(++s>=this.maxPostTimes)this.postTimers.setValue(e,null),r(),o();else{this.postTimers.setValue(e,s);var a=setTimeout(function(){r(),o()},this.SAVE_INTERVAL);this.postTimerFun.setValue(e,a)}else this.postTimers.setValue(e,1),a=setTimeout(function(){r(),o()},this.SAVE_INTERVAL),this.postTimerFun.setValue(e,a)}},e._instance_csryw=new e,e.SAVE_INTERVAL=4e3,e.maxPostTimes=10,e.postTimers=new u.Dictionary,e.postTimerFun=new u.Dictionary,e}();n.default=h,cc._RF.pop()},{}],GetPropView:[function(e,t){"use strict";cc._RF.push(t,"373b4lvVKhEg46Muhao1ZzB","GetPropView");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("GameMgr"),c=i("User"),a=i("Common5"),l=i("MapCtrl"),u=cc._decorator,d=u.ccclass,h=u.property,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.tittle=null,t.bg=null,t.props=null,t.light=null,t.detail=null,t.lab_val=null,t.btn_get=null,t.curProp=0,t.tarProp=null,t.strArr=["\u4f7f\u7528\u540e\uff0c\u53ef\u4ee5\u6d88\u9664\u4efb\u610f\u5730\u677f\u4e0a\u7684\u65b9\u5757","\u4f7f\u7528\u540e\uff0c\u53ef\u4ee5\u4ea4\u6362\u4efb\u610f\u4e24\u4e2a\u5730\u677f\u4e0a\u7684\u65b9\u5757\u4f4d\u7f6e","\u4f7f\u7528\u540e\uff0c\u53ef\u4ee5\u5237\u65b0\u5f53\u524d\u624b\u724c"],t.isclick=!1,t}return r(t,e),t.prototype.onLoad=function(){},t.prototype.initView=function(e){var t=this;this.curProp=e,this.lab_val.string=this.strArr[e-1],this.tarProp=this.props.getChildByName(""+e),this.tarProp.active=!0,this.light.opacity=0,this.detail.opacity=0,this.tittle.opacity=0,this.tarProp.scale=0,this.btn_get.opacity=0,cc.tween(this.tarProp).to(.5,{scale:1}).call(function(){t.light.opacity=255}).delay(.2).call(function(){cc.tween(t.tittle).to(.2,{opacity:255}).start()}).delay(.2).call(function(){cc.tween(t.detail).to(.2,{opacity:255}).start()}).delay(.2).call(function(){cc.tween(t.btn_get).to(.2,{opacity:255}).call(function(){a.default.btnRegister_csryw(t.btn_get,t.onClickGet.bind(t))}).start()}).start()},t.prototype.onClickGet=function(){var e=this;if(!this.isclick){this.isclick=!0,this.tittle.active=!1,this.bg.opacity=0,this.detail.active=!1,this.btn_get.active=!1,this.light.active=!1;var t=cc.v2(0,0);1==this.curProp?t=this.props.convertToNodeSpaceAR(l.default.inst.btn_delet.convertToWorldSpaceAR(cc.v2(0,0))):2==this.curProp?t=this.props.convertToNodeSpaceAR(l.default.inst.btn_touch.convertToWorldSpaceAR(cc.v2(0,0))):3==this.curProp&&(t=this.props.convertToNodeSpaceAR(l.default.inst.btn_change.convertToWorldSpaceAR(cc.v2(0,0))));var i=c.default.getPropNumArr_csryw();cc.tween(this.tarProp).to(.5,{scale:.5}).to(1,{position:cc.v3(t)}).call(function(){e.tarProp.opacity=0,1==e.curProp?(i[0]=1,c.default.setPropNumArr_csryw(i),s.default.getInstance_csryw().saveGameData_csryw(),l.default.inst.initPropDelet()):2==e.curProp?(i[1]=1,c.default.setPropNumArr_csryw(i),s.default.getInstance_csryw().saveGameData_csryw(),l.default.inst.initPropTouch()):3==e.curProp&&(i[2]=1,c.default.setPropNumArr_csryw(i),s.default.getInstance_csryw().saveGameData_csryw(),l.default.inst.initPropChange()),l.default.inst.noClick.active=!1,e.node.destroy()}).start()}},o([h(cc.Node)],t.prototype,"tittle",void 0),o([h(cc.Node)],t.prototype,"bg",void 0),o([h(cc.Node)],t.prototype,"props",void 0),o([h(cc.Node)],t.prototype,"light",void 0),o([h(cc.Node)],t.prototype,"detail",void 0),o([h(cc.Label)],t.prototype,"lab_val",void 0),o([h(cc.Node)],t.prototype,"btn_get",void 0),o([d],t)}(cc.Component);n.default=p,cc._RF.pop()},{}],GoldView:[function(e,t){"use strict";cc._RF.push(t,"702d0vomH9HJKT3tGocCsma","GoldView");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("TTAPI"),c=i("EventEnum"),a=i("EventMgr"),l=i("GameMgr"),u=i("User"),d=i("Common5"),h=i("PageBaseUI"),p=cc._decorator,y=p.ccclass,f=p.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.layout=null,t}return r(t,e),t.prototype.onLoad=function(){var t=this;e.prototype.onLoad.call(this),this.initViewShow(),this.btn_close=this.page.getChildByName("btn_close"),this.togglePage(function(){d.default.btnRegister_csryw(t.btn_close,t.closeFunc.bind(t))})},t.prototype.initViewShow=function(){for(var e=this,t=u.default.getGoldGetArr_csryw(),i=this.layout.childrenCount,n=function(i){var n=r.layout.children[i],o=n.getChildByName("lab_num").getComponent(cc.Label),s=n.getChildByName("btn_get"),c=n.getChildByName("btn_video"),a=n.getChildByName("lock"),l=a.getChildByName("lab_num2").getComponent(cc.Label),u=n.getChildByName("tip_get"),h=0;0==i?(h=d.default.freeGold,s.active=0==t[i],u.active=1==t[i],c.active=!1,a.active=!1):1==i?(h=d.default.gold1,s.active=!1,u.active=1==t[i],c.active=0==t[i],a.active=0==t[i-1]):2==i?(h=d.default.gold2,u.active=1==t[i],c.active=0==t[i],a.active=0==t[i-1]):3==i?(h=d.default.gold3,u.active=1==t[i],c.active=0==t[i],a.active=0==t[i-1]):4==i&&(h=d.default.gold4,u.active=1==t[i],c.active=0==t[i],a.active=0==t[i-1]),o.string="x"+h,l.string="x"+h,d.default.btnRegister_csryw(s,r.onClickBtnGet.bind(r)),d.default.btnRegister_csryw(c,function(){e.onClickBtnVideo(c,i)})},r=this,o=0;o<i;o++)n(o)},t.prototype.onClickBtnGet=function(e){if(!this.isClick){this.isClick=!0;var t=e.parent.getChildByName("lock"),i=e.parent.getChildByName("tip_get");if(t.active||i.active)this.isClick=!1;else{u.default.addMoney_csryw(d.default.freeGold);var n=u.default.getGoldGetArr_csryw();n[0]=1,u.default.setGoldGetArr_csryw(n),l.default.getInstance_csryw().saveGameData_csryw(),e.active=!1,e.parent.getChildByName("tip_get").active=!0,this.layout.getChildByName("2").getChildByName("lock").active=!1,this.isClick=!1}}},t.prototype.onClickBtnVideo=function(e,t){var i=this;if(!this.isClick){this.isClick=!0;var n=e.parent.getChildByName("lock"),r=e.parent.getChildByName("tip_get");n.active||r.active?this.isClick=!1:s.default.showRewardedVideoAd_csryw("\u770b\u89c6\u9891\u9886\u53d6\u91d1\u5e01"+(t+1),function(e){if(e){1==t?u.default.addMoney_csryw(d.default.gold1):2==t?u.default.addMoney_csryw(d.default.gold2):3==t?u.default.addMoney_csryw(d.default.gold3):4==t&&u.default.addMoney_csryw(d.default.gold4);var n=i.layout.getChildByName(""+(t+1));n.getChildByName("btn_video").active=!1,n.getChildByName("tip_get").active=!0;var r=i.layout.getChildByName(""+(t+2));r&&(r.getChildByName("lock").active=!1);var o=u.default.getGoldGetArr_csryw();o[t]=1,u.default.setGoldGetArr_csryw(o),l.default.getInstance_csryw().saveGameData_csryw(),a.default.emitEvent_csryw(c.ryw_Event.ryw_Game_OnGoldGetChange_csryw),i.isClick=!1}else i.isClick=!1},function(){i.isClick=!1})}},o([f(cc.Node)],t.prototype,"layout",void 0),o([y],t)}(h.default);n.default=_,cc._RF.pop()},{}],HoleMask:[function(e,t){"use strict";cc._RF.push(t,"f4ffaC6B4RBDZ9E5CRL88Yh","HoleMask");var i=t.exports,n=__extends,r=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,s=o.ccclass,c=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.maskNode=null,t.holeNode=null,t}return n(t,e),t.prototype.onLoad=function(){this.createHoleMask()},t.prototype.createHoleMask=function(){var e=this.maskNode.addComponent(cc.Graphics);e.fillColor=cc.Color.BLACK,e.fillRect(0,0,cc.winSize.width,cc.winSize.height);var t=this.holeNode.addComponent(cc.Graphics);t.fillColor=cc.Color.TRANSPARENT,t.circle(0,0,50),t.fill();var i=this.maskNode.addComponent(cc.Mask);i.type=cc.Mask.Type.IMAGE_STENCIL,i.alphaThreshold=.1,i.spriteFrame=new cc.SpriteFrame,this.holeNode.parent=this.maskNode},t.prototype.onDestroy=function(){this.maskNode.destroy()},r([c(cc.Node)],t.prototype,"maskNode",void 0),r([c(cc.Node)],t.prototype,"holeNode",void 0),r([s],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],HouseShow:[function(e,t){"use strict";cc._RF.push(t,"b917drzD2BOJKuapuRVXIIf","HouseShow");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("GameConfig"),c=i("EventEnum"),a=i("EventMgr"),l=i("GameMgr"),u=i("SettingUI"),d=i("Common5"),h=i("User"),p=cc._decorator,y=p.ccclass,f=p.property,_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isClick=!1,t.content=null,t}return r(t,e),t.prototype.onLoad=function(){for(var e=this.content.childrenCount,t=h.default.getHouseNum_csryw(),i=0;i<e;i++){var n=this.content.children[i];i+1<t&&(n.getChildByName("lock").active=!1,"undefined"!=typeof langManager?n.getChildByName("bxwl_tgw27_3").getChildByName("lab_name").getComponent(cc.Label).string=langManager.getLangStr(s.default.houseDic.values[i].tag):n.getChildByName("bxwl_tgw27_3").getChildByName("lab_name").getComponent(cc.Label).string=s.default.houseDic.values[i].name)}h.default.setHouseTip_csryw(0),l.default.getInstance_csryw().saveGameData_csryw(),a.default.emitEvent_csryw(c.ryw_Event.ryw_Game_OnGoldHouseChange_csryw)},t.prototype.btnSetFunc=function(){var e=this;this.isClick||(this.isClick=!0,d.default.getPrefabFromBundle("subRes","Prefabs/UI/SettingUI",this.node,function(t){t.getComponent(u.default).initSet(!1),e.scheduleOnce(function(){e.isClick=!1},.3)}))},t.prototype.closeFunc=function(){this.isClick||(this.isClick=!0,this.node.destroy())},o([f(cc.Node)],t.prototype,"content",void 0),o([y],t)}(cc.Component);n.default=_,cc._RF.pop()},{}],HttpUnit:[function(e,t){"use strict";cc._RF.push(t,"c40efu7MRdF+6aINqLysydZ","HttpUnit");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.requestData=void 0;var r=i("NetConfig"),o=i("User"),s=i("AesTools"),c=i("AppConfig"),a=i("LogUtils"),l=function(){this.meth_csryw="post",this.url_csryw="",this.onSuccess_csryw=null,this.onFail_csryw=null,this.data_csryw={}};n.requestData=l;var u=function(){function e(){}return e.sendHttpUrl_csryw=function(e,t,i,n,r){var o=r||{},s=new XMLHttpRequest;if(s.onerror=function(e){a.LogUtils.networkError_csryw("\u7f51\u7edc\u8bf7\u6c42\u5f02\u5e38"+e),n("\u7f51\u7edc\u8bf7\u6c42\u5f02\u5e38")},s.ontimeout=function(e){a.LogUtils.networkError_csryw("\u7f51\u7edc\u8d85\u65f6"+e),n("\u7f51\u7edc\u8d85\u65f6")},s.onreadystatechange=function(){var e=s.readyState,t=s.status;if(4===e)if(t>=200&&t<300){var r=s.responseText;a.LogUtils.networkLog_csryw("\u63a5\u6536\u6570\u636e\uff1a----------------------"),a.LogUtils.networkLog_csryw("\u63a5\u6536\u5185\u5bb9:"+r);var o=JSON.parse(r);i(o)}else{var c=s.statusText;a.LogUtils.networkError_csryw("\u63a5\u6536\u6570\u636e\u5f02\u5e38\uff1a----------------------status "+t),a.LogUtils.networkLog_csryw("\u63a5\u6536\u5185\u5bb9:"+c),n(c)}},s.open(e.meth_csryw,e.url_csryw,!0),o)for(var c in o)s.setRequestHeader(c,o[c]);a.LogUtils.networkLog_csryw("\u53d1\u9001\u6570\u636e\uff1a----------------------"),a.LogUtils.networkLog_csryw(e.url_csryw+"  "+e.meth_csryw),a.LogUtils.networkLog_csryw(t),a.LogUtils.networkLog_csryw(JSON.stringify(r)),a.LogUtils.networkLog_csryw("----------------------"),s.send(t)},e.request_csryw=function(e){e.url_csryw.indexOf("https://")>-1||e.url_csryw.indexOf("http://")>-1?e.url_csryw=e.url_csryw:e.url_csryw=r.default.serverUrl_csryw+e.url_csryw;var t=e.onFail_csryw,i="time="+String(Date.now()),n={"Content-Type":"application/json"};n.state=c.default.state_csryw,n.gameid=c.default.gameid_csryw,n.sign=s.default.encrypt_csryw(i),o.default.token_csryw&&(n.token=o.default.token_csryw);var l=null;e.data_csryw&&(l=JSON.stringify(e.data_csryw)),this.sendHttpUrl_csryw(e,l,function(t){a.LogUtils.networkLog_csryw(t,"http Success"),e.onSuccess_csryw&&e.onSuccess_csryw(t),e.onSuccess_csryw=null,e=null},function(i){a.LogUtils.networkLog_csryw(i,"http fail"),t&&t(i),e&&(e.onFail_csryw=null),t=null,e=null},n)},e.getServerTime_csryw=function(t,i){var n=new l;n.url_csryw=r.default.Get_ServerTime_csryw,n.onSuccess_csryw=t,n.onFail_csryw=i,e.request_csryw(n)},e.login_csryw=function(t,i){var n=new l;n.url_csryw=r.default.Login_csryw,n.onSuccess_csryw=t,n.onFail_csryw=i,e.request_csryw(n)},e.saveGameData_csryw=function(t,i,n){var o=new l;o.url_csryw=r.default.SaveGameData_csryw,o.data_csryw.gameData=t,o.onSuccess_csryw=i,o.onFail_csryw=n,e.request_csryw(o)},e.getGameData_csryw=function(t,i){var n=new l;n.url_csryw=r.default.GetUser_csryw,n.onSuccess_csryw=t,n.onFail_csryw=i,e.request_csryw(n)},e.GetIpBlock_csryw=function(e,t){if(-1!=c.default.gameid_csryw){console.error("\u542f\u52a8\u65b0\u7248\u672c\u7684\u5c4f\u853d\u7cfb\u7edf");var i={},n=new XMLHttpRequest;n.timeout=15e3,n.onerror=function(e){a.LogUtils.networkError_csryw("\u7f51\u7edc\u8bf7\u6c42\u5f02\u5e38"+e),t("\u7f51\u7edc\u8bf7\u6c42\u5f02\u5e38")},n.ontimeout=function(e){a.LogUtils.networkError_csryw("\u7f51\u7edc\u8d85\u65f6"+e),t("\u7f51\u7edc\u8d85\u65f6")},n.onreadystatechange=function(){var t=n.readyState,i=n.status;if(4===t){var r={code:1};if(i>=200&&i<300){var o=n.responseText;a.LogUtils.networkLog_csryw("\u63a5\u6536\u6570\u636e\uff1a----------------------"),a.LogUtils.networkLog_csryw("\u63a5\u6536\u5185\u5bb9:"+o);var s=JSON.parse(o);s&&0==s.isBlackIp?(r.code=0,console.error("\u65b0\u7248\u672c\u7684\u5c4f\u853d\u7cfb\u7edf  \u4e0d\u5c4f\u853d")):console.error("\u65b0\u7248\u672c\u7684\u5c4f\u853d\u7cfb\u7edf  ",o),e(r)}else{var c=n.statusText;a.LogUtils.networkError_csryw("\u63a5\u6536\u6570\u636e\u5f02\u5e38\uff1a----------------------status "+i),a.LogUtils.networkLog_csryw("\u63a5\u6536\u5185\u5bb9:"+c),e(r)}}},n.open("POST","",!0),i["Content-Type"]||(i["Content-Type"]="application/json"),n.setRequestHeader(o,i[o]);var r={gameId:c.default.gameid_csryw},s=JSON.stringify(r);n.send(s)}},e.reportExport_csryw=function(t,i,n,o){var s=new l;s.url_csryw=r.default.reportExport_csryw,s.data_csryw.wbappid=t,s.data_csryw.game_name=i,s.onSuccess_csryw=n,s.onFail_csryw=o,e.request_csryw(s)},e.reportImport_csryw=function(t,i,n,o){var s=new l;s.url_csryw=r.default.reportImport_csryw,s.data_csryw.wbappid=t,s.data_csryw.channel=i,s.onSuccess_csryw=n,s.onFail_csryw=o,e.request_csryw(s)},e.Getuserip_csryw=function(t,i){var n=new l;n.url_csryw=r.default.getuserip_csryw,n.onSuccess_csryw=t,n.onFail_csryw=i,e.request_csryw(n)},e.SignIn_csryw=function(t,i){var n=new l;n.url_csryw=r.default.signin_csryw,n.onSuccess_csryw=t,n.onFail_csryw=i,n.data_csryw.type=1,e.request_csryw(n)},e.GetSignIn_csryw=function(t,i){var n=new l;n.url_csryw=r.default.signin_csryw,n.onSuccess_csryw=t,n.onFail_csryw=i,n.data_csryw.type=0,e.request_csryw(n)},e.reportTTLaunchChannel_csryw=function(t,i,n,o,s){var c=new l;c.url_csryw=r.default.ttReportLaunchChannel_csryw,c.onSuccess_csryw=o,c.onFail_csryw=s,c.data_csryw.ak=t,c.data_csryw.bid=n,c.data_csryw.cd=i,e.request_csryw(c)},e.userScanCode_csryw=function(t,i,n){var o=new l;o.url_csryw=r.default.userScanCode_csryw,o.onSuccess_csryw=i,o.onFail_csryw=n,o.data_csryw.code=t.code,o.data_csryw.state=t.state,o.data_csryw.type=t.type,o.data_csryw.scan=t.scan,e.request_csryw(o)},e}();n.default=u,cc._RF.pop()},{}],IceCakeUnlock:[function(e,t){"use strict";cc._RF.push(t,"5f317p0BilKDo1gghwEquEA","IceCakeUnlock");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("FMSkeletonExtend"),c=i("EventEnum"),a=i("EventMgr"),l=i("SoundMgr"),u=i("Common5"),d=i("MapCtrl"),h=cc._decorator,p=h.ccclass,y=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.curIceCakeNum=0,t.curGridName="",t.numNode=null,t.isUp=!1,t.isPlaying=!1,t}return r(t,e),t.prototype.onLoad=function(){a.default.onEvent_csryw(c.ryw_Event.updateGridDelet,this.socreUpdate,this),a.default.onEvent_csryw(c.ryw_Event.updateGridDelet2,this.socreUpdate2,this)},t.prototype.initScore=function(e,t,i){void 0===i&&(i=!1),this.numNode=this.node.getChildByName("num"),this.curIceCakeNum=e,this.curGridName=t,this.isUp=i,this.updateShow(!0)},t.prototype.updateShow=function(e){var t=this;switch(void 0===e&&(e=!1),this.curIceCakeNum){case 0:var i=this.numNode.children[0];this.numNode.children[1].active=!1,this.numNode.children[2].active=!1,this.numNode.children[3].active=!1,e?i.active=!1:this.scheduleOnce(function(){l.default.playSoundFromBundle("resources",l.MusicName.\u51b0\u5757\u7834\u788e),t.playIceAni(),t.scheduleOnce(function(){if(t.isUp){var e=t.curGridName,n=d.default.inst.icecakeGridArr.indexOf(e);d.default.inst.icecakeGridArr.splice(n,1),d.default.inst.icecakeGridNum.splice(n,1),d.default.inst.curIce++,d.default.inst.flyIce(d.default.inst.node.getChildByName(e),function(){d.default.inst.updateShowIce(),console.log("ly++++++++++++ this.curGridName:",e),d.default.inst.checkLink(e)})}i.active=!1,t.node.destroy()},.3)},.2);break;case 1:console.log("ly+++++++++",this.curGridName,this.curIceCakeNum),this.numNode.children[0].active=!0;var n=this.numNode.children[1];this.numNode.children[2].active=!1,this.numNode.children[3].active=!1,e?n.active=!1:this.scheduleOnce(function(){l.default.playSoundFromBundle("resources",l.MusicName.\u51b0\u5757\u7834\u788e),t.playIceAni(),t.scheduleOnce(function(){n.active=!1},.3)},.2);break;case 2:this.numNode.children[0].active=!0,this.numNode.children[1].active=!0;var r=this.numNode.children[2];r.active=!0,this.numNode.children[3].active=!1,e?r.active=!1:this.scheduleOnce(function(){l.default.playSoundFromBundle("resources",l.MusicName.\u51b0\u5757\u7834\u788e),t.playIceAni(),t.scheduleOnce(function(){r.active=!1},.3)},.2);break;case 3:this.numNode.children[0].active=!1,this.numNode.children[1].active=!1,this.numNode.children[2].active=!1,this.numNode.children[3].active=!0}},t.prototype.socreUpdate=function(e){if(console.log("ly++++ socreUpdate"),u.default.isNeighbor(e,this.curGridName)){this.curIceCakeNum--;var t=d.default.inst.icecakeGridArr.indexOf(this.curGridName);d.default.inst.icecakeGridNum[t]=this.curIceCakeNum,this.updateShow()}},t.prototype.socreUpdate2=function(e){if(console.log("ly++++ socreUpdate"),e==this.curGridName){if(this.curIceCakeNum--,this.isUp){var t=d.default.inst.icecakeGridArr.indexOf(this.curGridName);d.default.inst.icecakeGridNum[t]=this.curIceCakeNum}this.updateShow()}},t.prototype.playIceAni=function(){var e=this;if(this.isUp&&!this.isPlaying){this.isPlaying=!0;var t=this.node.getChildByName("unlockani").getComponent(s.default);t.setAnimation(0,"play",!1),t.setCompleteListener(function(){e.isPlaying=!1,t.setCompleteListener(null)})}},o([p],t)}(cc.Component));n.default=y,cc._RF.pop()},{}],KSAPI:[function(e,t){"use strict";cc._RF.push(t,"a9a5a6ijHxFjKvDcmBIW2QS","KSAPI");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0});var r=i("AppConfig"),o=function(){function e(){}return e.init_csryw=function(){this.KS&&this.KS.init({appId:this.App_ID})},e.readyGo_csryw=function(){this.KS&&this.KS.readyGo()},e.login_csryw=function(e,t){this.KS&&this.KS.login({success:function(t){console.log("\u767b\u5f55\u6210\u529f"+JSON.stringify(t)),t.gameToken,t.gameUserId,e(t.gameToken)},fail:function(e){console.log("\u767b\u5f55\u5931\u8d25"+JSON.stringify(e)),t(e)}})},e.loadSubPackage_csryw=function(e,t,i,n){if(!this.KS.isSupport(this.KS.Support.features.Subpackage))return window.require(e+"/main.js"),void t();this.KS.loadSubpackage({name:e,success:function(e){t(e)},fail:function(e){console.log(e),i(e)}}).onProgressUpdate(function(e){console.log(e),n(e)})},e.onRewardVideo_csryw=function(t){console.log("\u6fc0\u52b1\u89c6\u9891\u5956\u52b1\u56de\u8c03: ",JSON.stringify(t),e.isPlaySuccess),e.onRewardCallBack&&e.onRewardCallBack(e.isPlaySuccess)},e.onCloseVideo_csryw=function(t){console.log("\u6fc0\u52b1\u89c6\u9891\u5173\u95ed\u56de\u8c03: ",JSON.stringify(t),e.isPlaySuccess),e.onCloseCallBack&&e.onCloseCallBack(!1)},e.regRewardedVideoAdEvent_csryw=function(t){t.onReward(e.onRewardVideo_csryw),t.onClose(e.onCloseVideo_csryw),e.isRegisterVideoEvent=!0},e.showRewardedVideoAd_csryw=function(t,i,n){if(this.KS){e.onCloseCallBack=t,e.onRewardCallBack=n;var r=this.KS.createRewardedVideoAd({adUnitId:e.adUnitId});e.isPlaySuccess=!1,r?(e.isRegisterVideoEvent||e.regRewardedVideoAdEvent_csryw(r),r.show({success:function(){console.log("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u6210\u529f"),e.isPlaySuccess=!0},fail:function(e){console.log("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u5931\u8d25: "+JSON.stringify(e)),i()}})):(console.log("\u6fc0\u52b1\u89c6\u9891\u64ad\u653e\u5931\u8d25!"),i())}else n()},e.createRecord_csryw=function(){if(this.KS)if(this.record=this.KS.createMediaRecorder(),this.record){var e=this;this.record.onStart(function(){console.log("\u5f55\u9891\u5f00\u59cb\u6210\u529f")}),this.record.onStop(function(t){e.recordVideoID=t.videoID,console.log("\u5f55\u9891\u505c\u6b62\u6210\u529f "+JSON.stringify(t)+" ")}),this.record.onError(function(e){console.log("\u5f55\u9891\u8fc7\u7a0b\u4e2d\u53d1\u751f\u9519\u8bef "+JSON.stringify(e)+" ")}),this.record.onPause(function(){console.log("\u6682\u505c\u5f55\u5236\u6210\u529f!")}),this.record.onResume(function(){console.log("\u6062\u590d\u5f55\u5236\u6210\u529f!")})}else console.log("\u8be5\u7248\u672c\u4e0d\u652f\u6301\u5f55\u5c4f!"),this.isCanRecord=!1},e.startRecord_csryw=function(){this.stopRecord_csryw(),this.KS&&(e.recordStartTime=(new Date).getTime(),null==this.record&&this.createRecord_csryw(),this.record&&this.record.start())},e.stopRecord_csryw=function(){this.KS&&this.record&&(e.recordStopTime=(new Date).getTime(),this.record.stop())},e.pauseRecord_csryw=function(){this.KS&&this.record&&(e.recordPauseTime=(new Date).getTime(),this.record.pause())},e.resumeRecord_csryw=function(){this.KS&&this.record&&(e.recordResumeTime=(new Date).getTime(),this.record.resume())},e.shareRecord_csryw=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.KS&&this.record&&this.record.publishVideo({video:this.recordVideoID,mouldId:this.adMoudleId,callback:function(i){if(null!=i&&null!=i)return console.log("\u5206\u4eab\u5f55\u5c4f\u5931\u8d25: "+JSON.stringify(i)),void(t&&t());console.log("\u5206\u4eab\u5f55\u5c4f\u6210\u529f"),e&&e()}})},e.onHide_csryw=function(e){this.KS&&this.KS.onHide(e)},e.onShow_csryw=function(e){this.KS&&this.KS.onShow(e)},e.getLocation_csryw=function(){var e=this;this.KS&&this.KS.getLocation({success:function(t){console.log("\u83b7\u53d6\u5730\u7406\u4f4d\u7f6e\u6210\u529f:"+JSON.stringify(t)),e.location=t.province+t.city},fail:function(e){console.log("\u83b7\u53d6\u5730\u7406\u4f4d\u7f6e\u5931\u8d25:"+JSON.stringify(e))}})},e.showInterstitialAd=function(e){if(this.KS){console.log("\u63d2\u5c4f\u63d2\u5c4fcreate....................");var t=this.KS.createInterstitialAd({adUnitId:r.default.ks_InsAdUnitId_csryw});t.show().then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u6210\u529f\uff01")}).catch(function(e){console.log("\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u5931\u8d25\uff1a",JSON.stringify(e))}),t.onClose(function(){console.log("\u63d2\u5c4f\u5e7f\u544a \u5173\u95ed"),t.destroy(),e&&e()})}},e.App_ID="ks716072342233021082",e.KS=window.kwaigame,e.adUnitId="2300003758_01",e.adMoudleId=null,e.isRegisterVideoEvent=!1,e.onRewardCallBack=null,e.onCloseCallBack=null,e.recordStartTime=0,e.recordStopTime=0,e.recordPauseTime=0,e.recordResumeTime=0,e.recordVideoID=null,e.isCanRecord=!0,e.location=null,e.isPlaySuccess=!1,e}();n.default=o,cc._RF.pop()},{}],LevelTs:[function(e,t){"use strict";cc._RF.push(t,"43c52kHsj9AuLKI5ospq2m0","LevelTs");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("GameMgr"),c=i("Common5"),a=i("User"),l=cc._decorator,u=l.ccclass,d=(l.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.val_lab=null,t}return r(t,e),t.prototype.onLoad=function(){this.val_lab=this.node.getChildByName("val_lab").getComponent(cc.Label),this.updateShow()},t.prototype.start=function(){},t.prototype.updateShow=function(){var e=a.default.getLeveNum_csryw();e>=c.default.maxLv&&(e=c.default.maxLv,a.default.setLeveNum_csryw(c.default.maxLv),s.default.getInstance_csryw().saveGameData_csryw()),this.val_lab.string="#."+a.default.getLeveNum_csryw()},o([u],t)}(cc.Component));n.default=d,cc._RF.pop()},{}],LoadingView:[function(e,t){"use strict";cc._RF.push(t,"280c6yp8JpK9ZcRBOOviij+","LoadingView");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,l=s.menu,u=s.disallowMultiple,d=i("SoundMgr"),h=i("YPlatform"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.progressBar=null,t}return r(t,e),t.prototype.onLoad=function(){var e=cc.sys.localStorage.getItem("sound_trigger"),t=cc.sys.localStorage.getItem("music_trigger");d.default.setSoundEnabled(1==e||null==e),d.default.setMusicEnabled(1==t||null==t),this.setProcess_csryw(0),h.YPlatform.showFullScreenAd(null,!0)},t.prototype.onDisable=function(){var e=document.getElementById("splash");e&&(e.style.display="none")},t.prototype.setProcess_csryw=function(e){e<0?e=0:e>1&&(e=1),this.progressBar.progress=e},t.prototype.getProcess_csryw=function(){return this.progressBar.progress},o([a({tooltip:"\u8fdb\u5ea6\u6761",type:cc.ProgressBar})],t.prototype,"progressBar",void 0),o([c,u(),l("FrameWork\u7ec4\u4ef6/LoadingView")],t)}(cc.Component);n.default=p,cc._RF.pop()},{}],LogUtils:[function(e,t){"use strict";cc._RF.push(t,"030ecwzd3BB0oWLzUfn/dol","LogUtils");var i=t.exports,n=__spreadArrays;Object.defineProperty(i,"__esModule",{value:!0}),i.LogUtils=void 0;var r=function(){function e(){}return e.setLogStatus=function(t){e._logStatus_csryw=t},e.log_csryw=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];e._logStatus_csryw&&console.log.apply(console,n(["[log][",e.getFullTime_csryw(),"]",":",t],i))},e.info_csryw=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];e._logStatus_csryw&&console.debug.apply(console,n(["[debug][",e.getFullTime_csryw(),"]",":",t],i))},e.warn_csryw=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];e._logStatus_csryw&&console.warn.apply(console,n(["[warn][",e.getFullTime_csryw(),"]",":",t],i))},e.error_csryw=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];e._logStatus_csryw&&console.error.apply(console,n(["[error][",e.getFullTime_csryw(),"]",":",t],i))},e.networkLog_csryw=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];e._logStatus_csryw&&console.log.apply(console,n(["[network][",e.getFullTime_csryw(),"]",":",t],i))},e.networkError_csryw=function(t){for(var i=[],r=1;r<arguments.length;r++)i[r-1]=arguments[r];e._logStatus_csryw&&console.error.apply(console,n(["[network][",e.getFullTime_csryw(),"]",":",t],i))},e.getFullTime_csryw=function(){var e=new Date;return e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()+"-"+e.getMilliseconds()},e._logStatus_csryw=!0,e}();i.LogUtils=r,window.LogUtils=r,cc._RF.pop()},{}],Main:[function(e,t){"use strict";cc._RF.push(t,"1cbf7NzsSZAopnEpDM060/i","Main");var i=e,n=t.exports,r=__extends,o=__decorate,s=__awaiter,c=__generator;Object.defineProperty(n,"__esModule",{value:!0});var a=i("LoadingView"),l=i("AppPlatform"),u=i("AppConfig"),d=i("BundleMgr"),h=i("GameMgr"),p=i("User"),y=i("RYSDK"),f=i("ResSubMgr"),_=i("KSAPI"),g=i("GameConfig"),w=i("Common5"),m=i("TTAPI"),v=i("GameHttpMgr"),b=i("DialogMgr"),S=i("ShushuReport"),A=cc._decorator,C=A.ccclass,k=A.property,N=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.loadingPrefab=null,t.loadSubpackageTotal_csryw=.8,t.loadHttpNetworkTotal_csryw=1,t.subpackageIndex_csryw=0,t.subpackageSum_csryw=0,t.needProcessNum_csryw=0,t.loadingState_csryw=0,t.loadingSpeed_csryw=0,t}return r(t,e),t.prototype.onLoad=function(){m.default.checkSideBarInGame(),cc.macro.ENABLE_MULTI_TOUCH=!1,l.default.is_TT_GAME_csryw()?(u.default.AppID_csryw=u.default.TT_APP_ID_csryw,u.default.state_csryw=u.default.TT_state_csryw,u.default.gameid_csryw=u.default.TT_gameid_csryw,u.default.ResServer_csryw=u.default.TT_ResServer_csryw,u.default.Versions_csryw=u.default.TT_Versions_csryw,u.default.UseRYSDK_csryw=!1,u.default.LoopAdLocationID_csryw=u.default.TT_LoopAdLocationID_csryw,u.default.BannerAdLocationID_csryw=u.default.TT_BannerAdLocationID_csryw,u.default.InsertAdLocationID_csryw=u.default.TT_InsertAdLocationID_csryw,u.default.AniAdLocationID_csryw=u.default.TT_AniAdLocationID_csryw,u.default.HistoryLocationID_csryw=u.default.TT_HistoryLocationID_csryw,u.default.MoreGameLocationID_csryw=u.default.TT_MoreGameLocationID_csryw):l.default.is_KS_csryw()?(console.log(" --- mian kwaigame ===== "),_.default.init_csryw(),u.default.AppID_csryw=_.default.App_ID,u.default.ResServer_csryw=u.default.KS_ResServer_csryw,u.default.Versions_csryw=u.default.KS_Versions_csryw,u.default.UseRYSDK_csryw=!1):l.default.is_WECHAT_GAME_csryw()?(u.default.AppID_csryw=u.default.WX_APP_ID_csryw,u.default.state_csryw=u.default.WX_state_csryw,u.default.gameid_csryw=u.default.WX_gameid_csryw,u.default.ResServer_csryw=u.default.WX_ResServer_csryw,u.default.Versions_csryw=u.default.WX_Versions_csryw,u.default.UseRYSDK_csryw=!0,u.default.closeUseRYSDK_csryw&&(u.default.UseRYSDK_csryw=!1),u.default.LoopAdLocationID_csryw=u.default.WX_LoopAdLocationID_csryw,u.default.BannerAdLocationID_csryw=u.default.WX_BannerAdLocationID_csryw,u.default.InsertAdLocationID_csryw=u.default.WX_InsertAdLocationID_csryw,u.default.AniAdLocationID_csryw=u.default.WX_AniAdLocationID_csryw,u.default.HistoryLocationID_csryw=u.default.WX_HistoryLocationID_csryw,u.default.MoreGameLocationID_csryw=u.default.WX_MoreGameLocationID_csryw):l.default.is_QQ_PLAY_csryw()?(u.default.AppID_csryw=u.default.QQ_APP_ID_csryw,u.default.state_csryw=u.default.QQ_state_csryw,u.default.gameid_csryw=u.default.QQ_gameid_csryw,u.default.ResServer_csryw=u.default.QQ_ResServer_csryw,u.default.Versions_csryw=u.default.QQ_Versions_csryw,u.default.UseRYSDK_csryw=!1,u.default.LoopAdLocationID_csryw=u.default.QQ_LoopAdLocationID_csryw,u.default.BannerAdLocationID_csryw=u.default.QQ_BannerAdLocationID_csryw,u.default.InsertAdLocationID_csryw=u.default.QQ_InsertAdLocationID_csryw,u.default.AniAdLocationID_csryw=u.default.QQ_AniAdLocationID_csryw,u.default.HistoryLocationID_csryw=u.default.QQ_HistoryLocationID_csryw,u.default.MoreGameLocationID_csryw=u.default.QQ_MoreGameLocationID_csryw):l.default.is_OPPO_GAME_csryw()?(u.default.AppID_csryw=u.default.OPPO_APP_ID_csryw,u.default.state_csryw=u.default.OPPO_state_csryw,u.default.gameid_csryw=u.default.OPPO_gameid_csryw,u.default.ResServer_csryw=u.default.OPPO_ResServer_csryw,u.default.Versions_csryw=u.default.OPPO_Versions_csryw,u.default.UseRYSDK_csryw=!1,u.default.LoopAdLocationID_csryw=u.default.OPPO_LoopAdLocationID_csryw,u.default.BannerAdLocationID_csryw=u.default.OPPO_BannerAdLocationID_csryw,u.default.InsertAdLocationID_csryw=u.default.OPPO_InsertAdLocationID_csryw,u.default.AniAdLocationID_csryw=u.default.OPPO_AniAdLocationID_csryw,u.default.HistoryLocationID_csryw=u.default.OPPO_HistoryLocationID_csryw,u.default.MoreGameLocationID_csryw=u.default.OPPO_MoreGameLocationID_csryw):l.default.is_VIVO_GAME_csryw()?(u.default.AppID_csryw=u.default.VIVO_APP_ID_csryw,u.default.state_csryw=u.default.VIVO_state_csryw,u.default.gameid_csryw=u.default.VIVO_gameid_csryw,u.default.ResServer_csryw=u.default.VIVO_ResServer_csryw,u.default.Versions_csryw=u.default.VIVO_Versions_csryw,u.default.UseRYSDK_csryw=!1,u.default.LoopAdLocationID_csryw=u.default.VIVO_LoopAdLocationID_csryw,u.default.BannerAdLocationID_csryw=u.default.VIVO_BannerAdLocationID_csryw,u.default.InsertAdLocationID_csryw=u.default.VIVO_InsertAdLocationID_csryw,u.default.AniAdLocationID_csryw=u.default.VIVO_AniAdLocationID_csryw,u.default.HistoryLocationID_csryw=u.default.VIVO_HistoryLocationID_csryw,u.default.MoreGameLocationID_csryw=u.default.VIVO_MoreGameLocationID_csryw):l.default.is_Android_csryw()||l.default.is_Iphone_csryw()?(u.default.AppID_csryw=u.default.APK_APP_ID_csryw,u.default.state_csryw=u.default.APK_state_csryw,u.default.gameid_csryw=u.default.APK_gameid_csryw,u.default.ResServer_csryw=u.default.APK_ResServer_csryw,u.default.Versions_csryw=u.default.APK_Versions_csryw,u.default.UseRYSDK_csryw=!1):(u.default.AppID_csryw=u.default.WX_APP_ID_csryw,u.default.state_csryw=u.default.WX_state_csryw,u.default.gameid_csryw=u.default.WX_gameid_csryw,u.default.ResServer_csryw=u.default.WX_ResServer_csryw,u.default.Versions_csryw=u.default.WX_Versions_csryw,u.default.UseRYSDK_csryw=!1,u.default.LoopAdLocationID_csryw=u.default.WX_LoopAdLocationID_csryw,u.default.BannerAdLocationID_csryw=u.default.WX_BannerAdLocationID_csryw,u.default.InsertAdLocationID_csryw=u.default.WX_InsertAdLocationID_csryw,u.default.AniAdLocationID_csryw=u.default.WX_AniAdLocationID_csryw,u.default.HistoryLocationID_csryw=u.default.WX_HistoryLocationID_csryw,u.default.MoreGameLocationID_csryw=u.default.WX_MoreGameLocationID_csryw),this.loadView_csryw=this.loadingPrefab.getComponent(a.default),this.subpackageSum_csryw=u.default.subResArray_csryw.length,this.loadView_csryw.setProcess_csryw(0),this.loadSubpackage_csryw(),l.default.checkUpdate_csryw()},t.prototype.start=function(){},t.prototype.loadSubpackage_csryw=function(){var e=this,t=this;if(this.subpackageIndex_csryw<this.subpackageSum_csryw){var i=u.default.subResArray_csryw[this.subpackageIndex_csryw],n=(this.subpackageIndex_csryw+1)/this.subpackageSum_csryw*t.loadSubpackageTotal_csryw;this.setStartLoadingPerNum_csryw(n),d.default.loadBundleByName_csryw(i,handleFM_csryw(function(n){n?console.error(n):(t.subpackageIndex_csryw=t.subpackageIndex_csryw+1,f.ResSubMgr.loadSubpackageFinish_csryw(i,handleFM_csryw(function(){t.loadSubpackage_csryw()},e)))},this))}else this.onLoadResComplate_csryw()},t.prototype.setStartLoadingPerNum_csryw=function(e){this.setLoadingState_csryw(1,e)},t.prototype.setLoadingState_csryw=function(e,t){switch(this.loadingState_csryw=e,this.needProcessNum_csryw=t,e){case 0:break;case 1:this.loadingSpeed_csryw=1/80;break;case 2:this.loadingSpeed_csryw=.005;break;case 3:var i=1-this.loadView_csryw.getProcess_csryw();this.loadingSpeed_csryw=i>0?i/20:.5}},t.prototype.update=function(){if(this.loadView_csryw){var e=this.loadView_csryw.getProcess_csryw(),t=e+this.loadingSpeed_csryw;switch(this.loadingState_csryw){case 0:break;case 1:t>=.7*this.needProcessNum_csryw&&(t>=this.needProcessNum_csryw&&(t=this.needProcessNum_csryw),this.setLoadingState_csryw(2,this.needProcessNum_csryw));break;case 2:t>=this.needProcessNum_csryw&&(t=this.needProcessNum_csryw);break;case 3:t>=1&&(t=1,this.loadingState_csryw=4)}e!=t&&this.loadView_csryw.setProcess_csryw(t)}},t.prototype.setDownloadOver_csryw=function(){this.initGame_csryw(),this.setLoadingState_csryw(3,1)},t.prototype.onLoadResComplate_csryw=function(){return s(this,void 0,void 0,function(){var e,t;return c(this,function(i){switch(i.label){case 0:return[4,g.default.loadLocalSubResJosn()];case 1:return i.sent(),e=this,this.setStartLoadingPerNum_csryw(this.loadHttpNetworkTotal_csryw),h.default.getInstance_csryw().preloadScene_csryw(),(t=cc.sys.localStorage.getItem("data"+u.default.AppID_csryw))?p.default.initiUser_csryw(JSON.parse(t)):p.default.initiUser_csryw(null),e.setDownloadOver_csryw(),[2]}})})},t.prototype.initGame_csryw=function(){l.default.is_KS_csryw()?l.default.loginPlatform_csryw(function(){console.log("\u767b\u9646\u6210\u529f\uff0c\u8fdb\u884c\u521d\u59cb\u5316"),h.default.getInstance_csryw().onLoadToWorldScene_csryw()},null):l.default.is_WECHAT_GAME_csryw()?(console.log("\u5c0f\u6e38\u620f\u8bbe\u7f6e\u8f6c\u53d1\u6309\u94ae"),window.wx.showShareMenu({withShareTicket:!1,success:function(){},fail:function(){},complete:function(){}}),window.wx.onShareAppMessage(function(){return{title:"",imageUrl:""}}),window.wx.onShow(function(){console.log("\u5fae\u4fe1 \u663e\u793a\u5728\u524d\u53f0"),l.default.isBackGameWX=!0}),l.default.loginPlatform_csryw(function(e){console.log("\u767b\u9646\u6210\u529f\uff0c\u8fdb\u884c\u521d\u59cb\u5316"),h.default.getInstance_csryw().onLoadToWorldScene_csryw(),u.default.UseRYSDK_csryw&&y.default.init_csryw(e)},null)):l.default.is_TT_GAME_csryw()?l.default.loginPlatform_csryw(function(e){p.default.setGameCode(e),v.default.getInstance().UserLoginActive("","","",function(e){p.default.setGameOpenid(e.user.openid),S.default.initTE(),w.default.netTime=e.time;var t=JSON.parse(e.user.userPlot);if(null!=t&&(console.log("ly+++++++++++",t.lastDate,p.default.getLastDate()),t.lastDate>p.default.getLastDate()))for(var i in console.log("ly+++++++++++ \u4f7f\u7528\u4e91\u5b58\u6863"),t)Object.prototype.hasOwnProperty.call(t,i)&&(p.default._gameData_csryw[i]=t[i]);p.default._gameData_csryw.curVersion<w.default.version&&(console.log("ly+++++ \u56de\u6863"),p.default.testInitUser_csryw(),p.default.setVersion_csryw(w.default.version),h.default.getInstance_csryw().saveGameData_csryw()),console.log("\u767b\u9646\u6210\u529f\uff0c\u8fdb\u884c\u521d\u59cb\u5316"),S.default.reportedEvent("LoginGame",null),h.default.getInstance_csryw().onLoadToWorldScene_csryw()},function(){b.default.openToast("\u670d\u52a1\u5668\u8fde\u63a5\u5931\u8d25\uff0c\u8bf7\u7a0d\u540e\u518d\u8bd5")})},null):(p.default._gameData_csryw.curVersion<w.default.version&&(console.log("ly+++++ \u56de\u6863"),p.default.testInitUser_csryw(),p.default.setVersion_csryw(w.default.version),h.default.getInstance_csryw().saveGameData_csryw()),h.default.getInstance_csryw().onLoadToWorldScene_csryw())},t.isBack_csryw=!1,o([k({tooltip:"\u52a0\u8f7d\u9875\u9762\u9884\u652f",type:cc.Node})],t.prototype,"loadingPrefab",void 0),o([C],t)}(cc.Component);n.default=N,cc._RF.pop()},{}],MapCtrl:[function(e,t){"use strict";cc._RF.push(t,"21ec3519vNNNZpDFr+BJ937","MapCtrl");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("TTAPI"),c=i("FMSkeletonExtend"),a=i("EventEnum"),l=i("EventMgr"),u=i("GameHttpMgr"),d=i("GameMgr"),h=i("SoundMgr"),p=i("SettingUI"),y=i("User"),f=i("DateUtils"),_=i("ShushuReport"),g=i("Utilit"),w=i("AddPropView"),m=i("AddPropViewRecive"),v=i("BreathingEffect"),b=i("Common5"),S=i("Dictionary"),A=i("DragUtil"),C=i("EndUI"),k=i("GameConfig"),N=i("GetPropView"),I=i("IceCakeUnlock"),P=i("ObstacleUnlock"),T=i("ReciveView"),M=i("ScoreBoxUnlock"),D=i("YPlatform"),O=cc._decorator,L=O.ccclass,x=O.property,R=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.touch1=null,t.touch2=null,t.touch3=null,t.lab_score=null,t.lab_obs=null,t.lab_ice=null,t.spr_progress=null,t.lab_level=null,t.btn_delet=null,t.btn_touch=null,t.btn_change=null,t.propTip=null,t.prop_node_img=null,t.prop_lab_tittle=null,t.prop_lab_tip=null,t.prop_btn_close=null,t.firstTip=null,t.hand=null,t.flyTxt=null,t.addScoreAni=null,t.noClick=null,t.winNode=null,t.first1=null,t.first2=null,t.OnlyOneTip=null,t.btn_closeOne=null,t.tip_ndbs=null,t.topScore=null,t.topObs=null,t.topIce=null,t.MapData=new S.Dictionary,t.isOver=!1,t.cardOffsetY=8,t.upCardOffsetY=25,t.levelId=1,t.levelInfo=null,t.fruitTypeArr=[],t.fruitTypeScoreArr=[],t.fruitTypeLv=0,t.fruitNumArr=[],t.fruitNumProArr=[],t.fruitTypeNumArr1=[],t.fruitTypeNumProArr1=[],t.scoreArr1=[],t.scoreProArr1=[],t.scoreLv1=-1,t.fruitTypeNumArr2=[],t.fruitTypeNumProArr2=[],t.scoreArr2=[],t.scoreProArr2=[],t.scoreLv2=-1,t.fruitTypeNumArr3=[],t.fruitTypeNumProArr3=[],t.scoreArr3=[],t.scoreProArr3=[],t.scoreLv3=-1,t.fruitTypeNumArr4=[],t.fruitTypeNumProArr4=[],t.scoreArr4=[],t.scoreProArr4=[],t.scoreLv4=-1,t.fruitTypeNumArr5=[],t.fruitTypeNumProArr5=[],t.scoreArr5=[],t.scoreProArr5=[],t.scoreLv5=-1,t.winScore=100,t.curScore=0,t.winObs=0,t.curObs=0,t.winIce=0,t.curIce=0,t.cardIds1=[],t.cardIds2=[],t.cardIds3=[],t.cardNode=null,t.dragCom1=null,t.dragCom2=null,t.dragCom3=null,t.touch1Pos=cc.v2(-200,-426.764),t.touch2Pos=cc.v2(0,-426.764),t.touch3Pos=cc.v2(200,-426.764),t.isCheckAgain=!0,t.lockGridArr=[],t.videoGridArr=[],t.obstacleGridArr=[],t.obstacleGridNum=[],t.icecakeGridArr=[],t.icecakeGridNum=[],t.propTittle=["\u6e05\u9664\u65b9\u5757","\u4ea4\u6362\u65b9\u5757"],t.propTips=["\u70b9\u51fb\u65b9\u5757\u4f7f\u7528","\u62d6\u52a8\u65b9\u5757\u4f7f\u7528"],t.isAid=!1,t.isAdAid=0,t.aidTimes=0,t.aidGridsNum=0,t.aidColourRate=[],t.aidTypeNumArr=[],t.aidTypeProArr=[],t.aidColorArr=[],t.curAidTimes=0,t.isDelet=!1,t.winMoneny=0,t.winCandy=0,t.videoNum=0,t.curVideoNum=0,t.isShowOnlyOneTip=0,t.blanks=0,t.isOld=!1,t.gridNum=0,t.prop1Times=0,t.prop2Times=0,t.prop3Times=0,t.reciveTimes=0,t.startTime=0,t.curScoreLv=0,t.startPos=cc.v2(0,0),t.lastIdx=0,t.lastGrid=null,t.changeArr=[],t.canDestoryArr=[],t.fullArr=[],t.isMoving=!1,t.moveGridArr=[],t.tarBox=null,t.isPropDelet=!1,t.isPropMove=!1,t.touchBox=null,t.tempBox=null,t.isClick=!1,t.isPlaying=!1,t.firstPart=0,t.isPlayingScale=!1,t.isPlayingObsScale=!1,t.isPlayingIceScale=!1,t}var i;return r(t,e),i=t,t.prototype.onLoad=function(){var e=this;i.inst=this;var t=y.default.getMapData_csryw();if(this.startTime=f.DateUtils.getNowTime_csryw(),t&&(this.levelId=y.default.getLeveNum_csryw(),this.levelId>=b.default.maxLv&&(this.levelId=b.default.maxLv,y.default.setLeveNum_csryw(b.default.maxLv)),t.levelId&&t.levelId==this.levelId)){for(var n in this.isOld=!0,t)if(Object.prototype.hasOwnProperty.call(t,n))if("MapData"==n)for(var r=t[n].keys.length,o=0;o<r;o++)this.MapData.setValue(t[n].keys[o],t[n].values[o]);else i.inst[n]=t[n];console.log("ly++++ oldData:",t,this.MapData)}b.default.dragTar=0,this.touch1Pos=this.touch1.getPosition(),this.touch2Pos=this.touch2.getPosition(),this.touch3Pos=this.touch3.getPosition(),this.touch1.addComponent(A.default),this.dragCom1=this.touch1.getComponent(A.default),this.dragCom1.setTouchStart(function(t,i,n){e.touchStartFunc(t,i,n)}),this.dragCom1.setTouchCallback(function(t,i){e.touchMoveFunc(t,i)},function(t,i){e.touchFunc(t,i)}),this.touch2.addComponent(A.default),this.dragCom2=this.touch2.getComponent(A.default),this.dragCom2.setTouchStart(function(t,i,n){e.touchStartFunc(t,i,n)}),this.dragCom2.setTouchCallback(function(t,i){e.touchMoveFunc(t,i)},function(t,i){e.touchFunc(t,i)}),this.touch3.addComponent(A.default),this.dragCom3=this.touch3.getComponent(A.default),this.dragCom3.setTouchStart(function(t,i,n){e.touchStartFunc(t,i,n)}),this.dragCom3.setTouchCallback(function(t,i){e.touchMoveFunc(t,i)},function(t,i){e.touchFunc(t,i)}),this.cardNode||b.default.getPrefabFromBundle("subRes","Prefabs/card",null,function(t){e.cardNode=t}),this.initPropDelet(),this.initPropTouch(),this.initPropChange(),this.initMap(),this.initLevel(),this.node.children.forEach(function(t){if(t.active){var i=t.children[0].getComponent(cc.Label),n=i.string;if(t.name=n,e.MapData.getValue(n)||e.MapData.setValue(n,[]),i.node.destroy(),!t.getChildByName("box")){var r=new cc.Node;r.name="box",t.addChild(r)}}}),this.isOld&&(null==this.cardNode?b.default.getPrefabFromBundle("subRes","Prefabs/card",null,function(t){console.log("ly++???? ",t.name),e.cardNode=t,e.initOldGrid()}):this.initOldGrid()),console.log(this.MapData.getKeys().length),this.setNoTouch(!0),this.isOld&&(this.cardIds1.length>0||this.cardIds2.length>0||this.cardIds3.length>0)?(this.initOldFlyCard(),this.touch1.active=!0,this.touch2.active=!0,this.touch3.active=!0,this.touch1.opacity=255,this.touch2.opacity=255,this.touch3.opacity=255):this.flyCard(),0==this.firstPart&&(this.dragCom1.isCanClick=!0,this.dragCom2.isCanClick=!0,this.dragCom3.isCanClick=!0),s.default.startRecord_csryw();var c=this.node.parent.getChildByName("btnSet");b.default.btnRegister_csryw(c,function(){e.btnSetting()}),this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchMapStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMapMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchMapEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchMapEnd,this),b.default.btnRegister_csryw(this.btn_delet,this.onClickBtnDelet.bind(this)),b.default.btnRegister_csryw(this.btn_touch,this.onClickBtnTouch.bind(this)),b.default.btnRegister_csryw(this.btn_change,this.onClickBtnChange.bind(this)),b.default.btnRegister_csryw(this.btn_closeOne,this.onclikCloseOne.bind(this)),this.node.parent.getChildByName("btn_last").on("click",function(){y.default.getLeveNum_csryw()>1&&(y.default.setMapData_csryw(null),y.default.setLeveNum_csryw(y.default.getLeveNum_csryw()-1),d.default.getInstance_csryw().saveGameData_csryw(),d.default.getInstance_csryw().onLoadToGameScene_csryw())},this),this.node.parent.getChildByName("btn_next").on("click",function(){y.default.getLeveNum_csryw()<b.default.maxLv&&(y.default.setMapData_csryw(null),y.default.setLeveNum_csryw(y.default.getLeveNum_csryw()+1),d.default.getInstance_csryw().saveGameData_csryw(),d.default.getInstance_csryw().onLoadToGameScene_csryw())},this),b.default.btnRegister_csryw(this.prop_btn_close,function(){var t=e.isPropDelet?1:2;e.showPropTip(t,!1,!1)}),this.noClick.active=!1,this.levelId==b.default.hammerUnlock&&-1==y.default.getPropNumArr_csryw()[0]&&this.showGetPropView(1),this.levelId==b.default.exchangeCardUnlock&&-1==y.default.getPropNumArr_csryw()[1]&&this.showGetPropView(2),this.levelId==b.default.dealCardsUnlock&&-1==y.default.getPropNumArr_csryw()[2]&&this.showGetPropView(3),this.updateShowScore(),this.updateShowObs(),this.updateShowIce()},t.prototype.onDestroy=function(){i.inst=null,this.isOver=!1,this.setNoTouch(!0),this.unscheduleAllCallbacks(),this.node.targetOff(this.node)},t.prototype.initLevel=function(){this.levelId=y.default.getLeveNum_csryw(),this.levelId>=b.default.maxLv&&(this.levelId=b.default.maxLv,y.default.setLeveNum_csryw(b.default.maxLv),d.default.getInstance_csryw().saveGameData_csryw()),s.default.reportAnalytics("playLv",{title:this.levelId}),_.default.reportedEvent("IntoLevel",{levelnum:this.levelId}),this.lab_level.string="#."+this.levelId,this.levelInfo=JSON.parse(JSON.stringify(k.default.levelDic.getValue(this.levelId)));for(var e=this.levelInfo.ItemAppearCondition.split("|"),t=0;t<e.length;t++){var i=e[t].split("_");this.fruitTypeScoreArr.push(Number(i[0])),this.fruitTypeArr.push(i[1].split(",").map(function(e){return parseInt(e,10)}))}var n=this.levelInfo.FruitNum;this.fruitNumArr=n.split("|").map(function(e){return parseInt(e,10)});var r=this.levelInfo.FruitNumRate;this.fruitNumProArr=r.split("|").map(function(e){return parseInt(e,10)});var o=this.levelInfo.FruitTypeNum1;this.fruitTypeNumArr1=o.split("|").map(function(e){return parseInt(e,10)});var c=this.levelInfo.FruitTypeNumRate1;this.fruitTypeNumProArr1=c.split("|").map(function(e){return parseInt(e,10)});var a=String(this.levelInfo.ScoreIntervalRata1);if("0"!=a){var l=a.split("|");for(t=0;t<l.length;t++){var u=l[t].split("_");this.scoreArr1.push(Number(u[0])),this.scoreProArr1.push(u[1].split(",").map(function(e){return parseInt(e,10)}))}}var h=this.levelInfo.FruitTypeNum2;this.fruitTypeNumArr2=h.split("|").map(function(e){return parseInt(e,10)});var p=this.levelInfo.FruitTypeNumRate2;this.fruitTypeNumProArr2=p.split("|").map(function(e){return parseInt(e,10)});var f=String(this.levelInfo.ScoreIntervalRata2);if("0"!=f){var g=f.split("|");for(t=0;t<g.length;t++){var w=g[t].split("_");this.scoreArr2.push(Number(w[0])),this.scoreProArr2.push(w[1].split(",").map(function(e){return parseInt(e,10)}))}}var m=this.levelInfo.FruitTypeNum3;this.fruitTypeNumArr3=m.split("|").map(function(e){return parseInt(e,10)});var v=this.levelInfo.FruitTypeNumRate3;this.fruitTypeNumProArr3=v.split("|").map(function(e){return parseInt(e,10)});var S=String(this.levelInfo.ScoreIntervalRata3);if("0"!=S){var A=S.split("|");for(t=0;t<A.length;t++){var C=A[t].split("_");this.scoreArr3.push(Number(C[0])),this.scoreProArr3.push(C[1].split(",").map(function(e){return parseInt(e,10)}))}}var N=this.levelInfo.FruitTypeNum4;this.fruitTypeNumArr4=N.split("|").map(function(e){return parseInt(e,10)});var I=this.levelInfo.FruitTypeNumRate4;this.fruitTypeNumProArr4=I.split("|").map(function(e){return parseInt(e,10)});var P=String(this.levelInfo.ScoreIntervalRata4);if("0"!=P){var T=P.split("|");for(t=0;t<T.length;t++){var M=T[t].split("_");this.scoreArr4.push(Number(M[0])),this.scoreProArr4.push(M[1].split(",").map(function(e){return parseInt(e,10)}))}}var D=this.levelInfo.FruitTypeNum5;this.fruitTypeNumArr5=D.split("|").map(function(e){return parseInt(e,10)});var O=this.levelInfo.FruitTypeNumRate5;this.fruitTypeNumProArr5=O.split("|").map(function(e){return parseInt(e,10)});var L=String(this.levelInfo.ScoreIntervalRata5);if("0"!=L){var x=L.split("|");for(t=0;t<x.length;t++){var R=x[t].split("_");this.scoreArr5.push(Number(R[0])),this.scoreProArr5.push(R[1].split(",").map(function(e){return parseInt(e,10)}))}}this.aidTimes=this.levelInfo.Times,this.aidGridsNum=this.levelInfo.Grids;var E=String(this.levelInfo.AdTimes).split("|").map(function(e){return parseInt(e,10)});this.videoNum=b.default.getMathInLimitArr_csryw(E),this.aidColorArr=String(this.levelInfo.FruitColour).split("|").map(function(e){return parseInt(e,10)}),this.aidColourRate=String(this.levelInfo.FruitColourRate).split("|").map(function(e){return parseInt(e,10)}),this.aidTypeNumArr=String(this.levelInfo.FruitType).split("|").map(function(e){return parseInt(e,10)}),this.aidTypeProArr=String(this.levelInfo.FruitTypeRate).split("|").map(function(e){return parseInt(e,10)}),this.blanks=this.levelInfo.Blanks,this.winScore=this.levelInfo.VictoryScore,this.winObs=this.levelInfo.RemoveRope,this.winIce=this.levelInfo.RemoveIceblock,0==this.winScore&&(this.topScore.active=!1),0==this.winObs&&(this.topObs.active=!1),0==this.winIce&&(this.topIce.active=!1),0==this.winIce&&0==this.winObs&&(this.topObs.parent.active=!1),3!=this.levelId||this.isOld||this.playSeconedAni()},t.prototype.touchStartFunc=function(e,t){this.isOver||(t==this.touch1?this.startPos=this.touch1Pos:t==this.touch2?this.startPos=this.touch2Pos:t==this.touch3&&(this.startPos=this.touch3Pos),this.lastIdx=t.getSiblingIndex(),t.setSiblingIndex(t.parent.childrenCount-1))},t.prototype.touchFunc=function(e,t){if(!this.isOver){var i=t.getBoundingBoxToWorld();this.lastGrid&&(this.lastGrid.opacity=255);for(var n=null,r=this.node.childrenCount,o=0;o<r;o++){var s=this.node.children[o];if(s.active){var c=s.getBoundingBoxToWorld();i.intersects(c)&&(null==n?n=s:b.default.makeNodeDistance_csryw(t,s)<b.default.makeNodeDistance_csryw(t,n)&&(n=s))}}if(n){var a=n.name;if(-1!=this.changeArr.indexOf(a)||-1!=this.canDestoryArr.indexOf(a))return t==this.touch1?this.startPos=this.touch1Pos:t==this.touch2?this.startPos=this.touch2Pos:t==this.touch3&&(this.startPos=this.touch3Pos),void cc.tween(t).to(.6,{position:cc.v3(this.startPos)},{easing:cc.easing.cubicOut}).start();if(console.log("ly+++++++++++++++ pushNode:"+a),1==this.firstPart)if("0,0"==a){c=n.getChildByName("box"),console.log("\u7a7a\u683c,\u6210\u529f\u653e\u7f6e"),t==this.touch1?(this.MapData.setValue(a,this.cardIds1),this.cardIds1=[]):t==this.touch2?(this.MapData.setValue(a,this.cardIds2),this.cardIds2=[]):t==this.touch3&&(this.MapData.setValue(a,this.cardIds3),this.cardIds3=[]);var l=t.childrenCount;for(o=0;o<l;o++)t.children[0].setParent(c);t.active=!1,this.checkLink(a),this.checkFly(),this.firstPart=2,this.first1.active=!1,this.first2.active=!0,this.dragCom2.isCanClick=!0,this.playHand2(),this.node.getChildByName("-1,1").opacity=180}else cc.tween(t).to(.6,{position:cc.v3(this.startPos)},{easing:cc.easing.cubicOut}).start();else if(2==this.firstPart)if("-1,1"==a){c=n.getChildByName("box"),console.log("\u7a7a\u683c,\u6210\u529f\u653e\u7f6e"),t==this.touch1?(this.MapData.setValue(a,this.cardIds1),this.cardIds1=[]):t==this.touch2?(this.MapData.setValue(a,this.cardIds2),this.cardIds2=[]):t==this.touch3&&(this.MapData.setValue(a,this.cardIds3),this.cardIds3=[]);var u=t.childrenCount;for(o=0;o<u;o++)t.children[0].setParent(c);t.active=!1,this.checkLink(a),this.checkFly(),this.firstPart=0,this.dragCom3.isCanClick=!0,this.firstTip.active=!1,this.first2.active=!1}else cc.tween(t).to(.6,{position:cc.v3(this.startPos)},{easing:cc.easing.cubicOut}).start();else if(this.isGrid2(a)&&0==this.MapData.getValue(a).length){c=n.getChildByName("box"),console.log("\u7a7a\u683c,\u6210\u529f\u653e\u7f6e"),t==this.touch1?(this.MapData.setValue(a,this.cardIds1),this.cardIds1=[]):t==this.touch2?(this.MapData.setValue(a,this.cardIds2),this.cardIds2=[]):t==this.touch3&&(this.MapData.setValue(a,this.cardIds3),this.cardIds3=[]);var d=t.childrenCount;for(o=0;o<d;o++)t.children[0].setParent(c);t.active=!1,this.checkLink(a),this.checkFly(),t.setPosition(this.startPos)}else console.log("\u4e0d\u4e3a\u7a7a\u683c,\u4e0d\u80fd\u653e\u7f6e"),cc.tween(t).to(.6,{position:cc.v3(this.startPos)},{easing:cc.easing.cubicOut}).start();n.opacity=255}else cc.tween(t).to(.6,{position:cc.v3(this.startPos)},{easing:cc.easing.cubicOut}).start()}},t.prototype.touchMoveFunc=function(e,t){if(!this.isOver){for(var i=t.getBoundingBoxToWorld(),n=this.node.childrenCount,r=!1,o=0;o<n;o++){var s=this.node.children[o];if(s.active){var c=s.getBoundingBoxToWorld();if(i.intersects(c)){var a=this.MapData.getValue(s.name);a&&0==a.length&&(r=!0,null==this.lastGrid?(this.lastGrid=s,this.lastGrid.opacity=100):b.default.makeNodeDistance_csryw(t,s)<b.default.makeNodeDistance_csryw(t,this.lastGrid)&&(this.lastGrid.opacity=255,this.lastGrid=s,this.lastGrid.opacity=100))}}}r||null==this.lastGrid||(this.lastGrid.opacity=255)}},t.prototype.flyCard=function(){var e=this;this.touch1.active=!1,this.touch2.active=!1,this.touch3.active=!1,this.touch1.removeAllChildren(),this.touch2.removeAllChildren(),this.touch3.removeAllChildren(),this.touch1.active=!0,this.touch2.active=!0,this.touch3.active=!0;var t=this.isAllFull();console.log("ly++++++++ flyCard:",this.curAidTimes,this.aidTimes),t.length<=this.aidGridsNum&&this.curAidTimes<this.aidTimes&&this.curVideoNum>=this.videoNum?(console.log("ly+++++++++++  Aid"),this.isAid=!0,this.getEmptyAdjoin(t)):(this.isAid||this.isAdAid>0)&&this.getEmptyAdjoin(t),1==y.default.getIsFirst_csryw()&&1==y.default.getLeveNum_csryw()&&(this.showFirstTips(),y.default.setIsFirst_csryw(0),d.default.getInstance_csryw().saveGameData_csryw(),u.default.getInstance().Video_Active(function(e){b.default.netTime=e.time},null,y.default.getSaveData_csryw()));for(var i=function(t){n.scheduleOnce(function(){e.creatCards(t),e.isOver||h.default.playSoundFromBundle("resources",h.MusicName.\u5237\u65b0\u51fa\u724c),2==t&&(e.isAid||e.isAdAid>0)&&(e.isAid=!1,0==e.isAdAid?e.curAidTimes++:e.isAdAid--)},.2*t)},n=this,r=0;r<3;r++)i(r)},t.prototype.creatCards=function(e){var t,i=this,n=[],r=1,o=[],s=[],c=null,a=b.default.GetWeight(this.fruitNumProArr);if(t=this.fruitNumArr[a],this.scoreLv1=-1,this.scoreArr1.length>0)for(var l=0;l<this.scoreArr1.length;l++){var u=this.scoreArr1[l];if(this.curScore<u){this.scoreLv1=l;break}}if(this.scoreLv2=-1,this.scoreArr2.length>0)for(l=0;l<this.scoreArr2.length;l++)if(u=this.scoreArr2[l],this.curScore<u){this.scoreLv2=l;break}if(this.scoreLv3=-1,this.scoreArr3.length>0)for(l=0;l<this.scoreArr3.length;l++)if(u=this.scoreArr3[l],this.curScore<u){this.scoreLv3=l;break}if(this.scoreLv4=-1,this.scoreArr4.length>0)for(l=0;l<this.scoreArr4.length;l++)if(u=this.scoreArr4[l],this.curScore<u){this.scoreLv4=l;break}if(this.scoreLv5=-1,this.scoreArr5.length>0)for(l=0;l<this.scoreArr5.length;l++)if(u=this.scoreArr5[l],this.curScore<u){this.scoreLv5=l;break}if(2==t){var d=-1==this.scoreLv1?this.fruitTypeNumProArr1:this.scoreProArr1[this.scoreLv1];console.log("ly++++++++++ tarArr1:",d);var h=b.default.GetWeight(d);r=this.fruitTypeNumArr1[h],(this.isAid||this.isAdAid>0)&&this.aidTypeProArr.length&&(r=this.aidTypeNumArr[b.default.GetWeight(this.aidTypeProArr)],0==this.aidColorArr.length?r=this.fruitTypeNumArr1[h]:r>this.aidColorArr.length&&(r=this.aidColorArr.length)),console.log("ly++++++++++ fruitTypeNum2:",r),1==r?s.push(2):2==r&&(s=[1,1])}else if(3==t){d=-1==this.scoreLv2?this.fruitTypeNumProArr2:this.scoreProArr2[this.scoreLv2],console.log("ly++++++++++ tarArr2:",d);var p=b.default.GetWeight(d);r=this.fruitTypeNumArr2[p],(this.isAid||this.isAdAid>0)&&this.aidTypeProArr.length&&(r=this.aidTypeNumArr[b.default.GetWeight(this.aidTypeProArr)],0==this.aidColorArr.length?r=this.fruitTypeNumArr2[p]:r>this.aidColorArr.length&&(r=this.aidColorArr.length)),console.log("ly++++++++++ fruitTypeNum3:",r),1==r?s.push(3):2==r?s=b.default.shuffle([2,1]):3==r&&(s=b.default.shuffle([1,1,1]))}else if(5==t){d=-1==this.scoreLv3?this.fruitTypeNumProArr3:this.scoreProArr3[this.scoreLv3],console.log("ly++++++++++ tarArr3:",d);var y=b.default.GetWeight(d);r=this.fruitTypeNumArr3[y],(this.isAid||this.isAdAid>0)&&this.aidTypeProArr.length&&(r=this.aidTypeNumArr[b.default.GetWeight(this.aidTypeProArr)],0==this.aidColorArr.length?r=this.fruitTypeNumArr3[y]:r>this.aidColorArr.length&&(r=this.aidColorArr.length)),console.log("ly++++++++++ fruitTypeNum5:",r),1==r?s.push(5):2==r?s=Math.random()<.5?b.default.shuffle([1,4]):b.default.shuffle([2,3]):3==r&&(s=b.default.shuffle([1,2,2]))}else if(4==t){d=-1==this.scoreLv4?this.fruitTypeNumProArr4:this.scoreProArr4[this.scoreLv4];var f=b.default.GetWeight(d);r=this.fruitTypeNumArr4[f],(this.isAid||this.isAdAid>0)&&this.aidTypeProArr.length&&(r=this.aidTypeNumArr[b.default.GetWeight(this.aidTypeProArr)],0==this.aidColorArr.length?r=this.fruitTypeNumArr4[f]:r>this.aidColorArr.length&&(r=this.aidColorArr.length)),console.log("ly++++++++++ fruitTypeNum4:",r),1==r?s.push(4):2==r?s=Math.random()<.5?b.default.shuffle([1,3]):b.default.shuffle([2,2]):3==r&&(s=b.default.shuffle([1,1,2]))}else if(6==t){d=-1==this.scoreLv5?this.fruitTypeNumProArr5:this.scoreProArr5[this.scoreLv5];var _=b.default.GetWeight(d);r=this.fruitTypeNumArr5[_],(this.isAid||this.isAdAid>0)&&this.aidTypeProArr.length&&(r=this.aidTypeNumArr[b.default.GetWeight(this.aidTypeProArr)],0==this.aidColorArr.length?r=this.fruitTypeNumArr5[_]:r>this.aidColorArr.length&&(r=this.aidColorArr.length)),console.log("ly++++++++++ fruitTypeNum6:",r),1==r?s.push(6):2==r?s=b.default.getMathInLimitArr_csryw([b.default.shuffle([1,5]),b.default.shuffle([3,3]),b.default.shuffle([2,4])]):3==r&&(s=b.default.getMathInLimitArr_csryw([b.default.shuffle([1,2,3]),b.default.shuffle([2,2,2])]))}for(this.fruitTypeLv=0,l=0;l<this.fruitTypeScoreArr.length;l++)if(u=this.fruitTypeScoreArr[l],this.curScore<u){this.fruitTypeLv=l;break}var g=JSON.parse(JSON.stringify(this.fruitTypeArr[this.fruitTypeLv])),w=r,m=this.aidColorArr;(this.isAid||this.isAdAid>0)&&this.aidColorArr.length?(w>m.length&&(w=m.length),o=b.default.getMathArrInLimitArr_csryw(m,w).returnArr):o=b.default.getMathArrInLimitArr_csryw(g,w).returnArr,0==e?((c=this.touch1).removeAllChildren(),c.opacity=0,this.scheduleOnce(function(){c.active=!0,cc.tween(c).to(0,{x:1e3}).call(function(){c.opacity=255}).to(.3,{position:cc.v3(i.touch1Pos)},{easing:cc.easing.cubicOut}).start()},0)):1==e?((c=this.touch2).removeAllChildren(),c.opacity=0,this.scheduleOnce(function(){c.active=!0,cc.tween(c).to(0,{x:1e3}).call(function(){c.opacity=255}).to(.5,{position:cc.v3(i.touch2Pos)},{easing:cc.easing.cubicOut}).start()},0)):2==e&&((c=this.touch3).removeAllChildren(),c.opacity=0,this.scheduleOnce(function(){c.active=!0,cc.tween(c).to(0,{x:1e3}).call(function(){c.opacity=255}).to(.7,{position:cc.v3(i.touch3Pos)},{easing:cc.easing.cubicOut}).start()},0)),console.log("ly++++++++++++++++numArr:",s,"typeArr:",o,"fruitTypeNum:",r),this.firstPart>0&&1==this.levelId&&(0==e?(s=[5],o=[101]):1==e?(s=[3],o=[102]):2==e&&(s=[2],o=[102]));var v=s.length,S=function(){for(var t=0;t<v;t++){var r=s[t],a=o[t],l="";try{l=k.default.fruitDic.getValue(a).FruitNum}catch(h){console.log("ly++++++++++++++++ typeId:",a)}for(var u=0;u<r;u++){n.push(a);var d=cc.instantiate(i.cardNode);c.addChild(d),b.default.getSpriteFrameFromBundle("subRes","Textures/"+l,d.getComponent(cc.Sprite)),d.y=d.getSiblingIndex()*i.cardOffsetY}}0==e?i.cardIds1=n:1==e?i.cardIds2=n:2==e&&(i.cardIds3=n)};null==this.cardNode?b.default.getPrefabFromBundle("subRes","Prefabs/card",null,function(e){i.cardNode=e,S()}):S()},t.prototype.checkFly=function(){var e=this;console.log("ly+++++++++++++ checkFly",this.touch1.active,this.touch2.active,this.touch3.active),this.scheduleOnce(function(){(0==e.touch1.active&&0==e.touch2.active&&0==e.touch3.active||0==e.touch1.childrenCount&&0==e.touch2.childrenCount&&0==e.touch3.childrenCount)&&e.scheduleOnce(function(){e.flyCard()},.3)},0)},t.prototype.checkLink=function(e){var t=this;if(!this.isOver&&-1==this.changeArr.indexOf(e))if(this.isDelet||this.isMoving)this.changeArr.unshift(e);else{this.fullArr=[],console.log("ly++++++++++++ tarName",e);var i=JSON.parse(JSON.stringify(this.MapData.getValue(e)));if(console.log("ly+++++++++ curData",i),i){var n=i.length,r=b.default.countConsecutiveDuplicates(i),o=i[n-1];console.log("ly+++++++++++ curtype:",o);var s=r==n,c=e.split(",").map(function(e){return parseInt(e,10)}),u={name:"",len:0},d=null,p=[],y=[];if(o){var f=c[0]+1+","+(c[1]-1);if(-1==this.icecakeGridArr.indexOf(f)){var _=JSON.parse(JSON.stringify(this.MapData.getValue(f)));if(_){if(-1!=this.moveGridArr.indexOf(f))return void this.changeArr.unshift(e);var g=_.length;if(console.log("ly++++++++++ data1:",f,_),g>0&&_[g-1]==o){var w=b.default.countConsecutiveDuplicates(_);w==g&&o==_[0]?g>u.len?(""!=u.name&&this.fullArr.push(u.name),u.name=f,u.len=g):this.fullArr.push(f):(p.push(f),y.push(w),d=f)}}}var m=c[0]+1+","+c[1];if(-1==this.icecakeGridArr.indexOf(m)){var v=JSON.parse(JSON.stringify(this.MapData.getValue(m)));if(v){if(-1!=this.moveGridArr.indexOf(m))return void this.changeArr.unshift(e);var S=v.length;if(console.log("ly++++++++++ data2:",m,v),S>0&&v[S-1]==o){var A=b.default.countConsecutiveDuplicates(v);A==S&&o==v[0]?S>u.len?(""!=u.name&&this.fullArr.push(u.name),u.name=m,u.len=S):this.fullArr.push(m):(p.push(m),y.push(A),d=m)}}}var C=c[0]+","+(c[1]+1);if(-1==this.icecakeGridArr.indexOf(C)){var k=JSON.parse(JSON.stringify(this.MapData.getValue(C)));if(k){if(-1!=this.moveGridArr.indexOf(C))return void this.changeArr.unshift(e);var N=k.length;if(console.log("ly++++++++++ data3:",C,k),N>0&&k[N-1]==o){var I=b.default.countConsecutiveDuplicates(k);I==N&&o==k[0]?N>u.len?(""!=u.name&&this.fullArr.push(u.name),u.name=C,u.len=N):this.fullArr.push(C):(p.push(C),y.push(I),d=C)}}}var P=c[0]-1+","+(c[1]+1);if(-1==this.icecakeGridArr.indexOf(P)){var T=JSON.parse(JSON.stringify(this.MapData.getValue(P)));if(T){if(-1!=this.moveGridArr.indexOf(P))return void this.changeArr.unshift(e);var M=T.length;if(console.log("ly++++++++++ data4:",P,T),M>0&&T[M-1]==o){var D=b.default.countConsecutiveDuplicates(T);D&&o==T[0]?M>u.len?(""!=u.name&&this.fullArr.push(u.name),u.name=P,u.len=M):this.fullArr.push(P):(p.push(P),y.push(D),d=P)}}}var O=c[0]-1+","+c[1];if(-1==this.icecakeGridArr.indexOf(O)){var L=JSON.parse(JSON.stringify(this.MapData.getValue(O)));if(L){if(-1!=this.moveGridArr.indexOf(O))return void this.changeArr.unshift(e);var x=L.length;if(console.log("ly++++++++++ data5:",O,L),x>0&&L[x-1]==o){var R=b.default.countConsecutiveDuplicates(L);R==x&&o==L[0]?x>u.len?(""!=u.name&&this.fullArr.push(u.name),u.name=O,u.len=x):this.fullArr.push(O):(p.push(O),y.push(R),d=O)}}}var E=c[0]+","+(c[1]-1);if(-1==this.icecakeGridArr.indexOf(E)){var F=JSON.parse(JSON.stringify(this.MapData.getValue(E)));if(F){if(-1!=this.moveGridArr.indexOf(E))return void this.changeArr.unshift(e);var B=F.length;console.log("ly++++++++++ data6:",E,F),B>0&&F[B-1]==o&&(b.default.countConsecutiveDuplicates(F)==B&&o==F[0]?B>u.len?(""!=u.name&&this.fullArr.push(u.name),u.name=E,u.len=B):this.fullArr.push(E):(p.push(E),d=E))}}}var U="",G=function(i){void 0===i&&(i=!0),console.log("ly++++++++++ \u589e\u52a0"),-1==t.changeArr.indexOf(U)&&(t.changeArr.push(U),console.log("ly++++++++++ changeArr:",t.changeArr)),t.startMove(t.node.getChildByName(U),t.node.getChildByName(e),function(){t.checkLink(e)})},V=function(){console.log("ly++++++++++ \u51cf\u5c11"),-1==t.changeArr.indexOf(e)&&(t.changeArr.push(e),console.log("ly++++++++++ changeArr:",t.changeArr)),t.startMove(t.node.getChildByName(e),t.node.getChildByName(U),function(){-1==t.changeArr.indexOf(U)&&t.changeArr.push(U),t.checkLink(t.changeArr.pop())})},j=function n(){console.log("ly++++++++++ \u6ca1\u6709",i);var r=JSON.parse(JSON.stringify(t.MapData.getValue(e)));if(b.default.countConsecutiveDuplicates(r)>=10&&-1==t.canDestoryArr.indexOf(e)&&(t.canDestoryArr.push(e),-1==t.changeArr.indexOf(e)&&t.changeArr.push(e)),t.changeArr.length>0)console.log("ly++++++++++ \u518d\u6b21\u68c0\u6d4b changeArr:",t.changeArr),t.checkLink(t.changeArr.pop());else if(t.saveLvMapData(),0==t.canDestoryArr.length&&0==t.isAllFull().length)console.log("ly++++++++++ \u6e38\u620f\u5931\u8d25"),t.scheduleOnce(function(){0==t.canDestoryArr.length&&0==t.isAllFull().length?t.showResult(!1):n()},.3);else{if(t.isMoving)return;console.log("ly++++++++++ \u5220\u9664");var o=t.canDestoryArr.length;o>0?t.isDelet=!0:t.changeArr.length>0&&t.checkLink(t.changeArr.pop());for(var s=function(e){var i=t.canDestoryArr[e],n=JSON.parse(JSON.stringify(t.MapData.getValue(i))),r=b.default.countConsecutiveDuplicates(n);if(r>=10){var s=n.length-r,c=n.splice(s,r);t.MapData.setValue(i,n);var u=t.node.getChildByName(i).getChildByName("box"),d=u.parent.name;t.playDeletAni(u);var p=u.childrenCount;l.default.emitEvent_csryw(a.ryw_Event.updateGridDelet,d);for(var y=function(i){var n=u.children[p-i-1];cc.tween(n).delay(.05*i).to(.2,{scale:0}).call(function(){t.canDestoryArr.splice(t.canDestoryArr.indexOf(n.name),1),i==r-1&&(h.default.playSoundFromBundle("resources",h.MusicName.\u54bb\u54bb),t.flyScore(c[0],r,u.parent),e==o-1&&t.scheduleOnce(function(){console.log(" ??????? this.changeArr:",t.changeArr,d),t.isDelet=!1,0!=t.changeArr.length?(-1==t.changeArr.indexOf(d)&&t.changeArr.unshift(d),t.checkLink(t.changeArr.pop())):t.checkLink(d)},.3)),n.destroy()}).start()},f=0;f<r;f++)y(f)}},c=0;c<o;c++)s(c)}};if(s)if(0!=u.len)U=u.name,G();else if(null!=d)if(this.blanks>=this.isAllFull().length&&this.curVideoNum>=this.videoNum)if(r+this.calculateSum(y)>=10)U=d,G();else{var H=this.findMaxIndex(y),q=H[0];r+H[1]>=10?(U=d,G()):(U=p[q],V())}else U=d,G();else j();else 0==u.len?null!=d?(U=d,b.default.countConsecutiveDuplicates(d)>r?V():G()):j():(console.log("ly+++++++++ fullArr",this.fullArr),null!=d?(U=d,G(!1)):this.fullArr.length>0?(U=this.fullArr.pop(),G(!1)):(this.isCheckAgain=!0,U=u.name,V()))}}},t.prototype.isAllFull=function(){for(var e=[],t=this.MapData.getValues(),i=t.length,n=0;n<i;n++){var r=t[n],o=this.MapData.getKeys()[n];0==r.length&&this.isGrid2(o)&&e.push(o)}return console.log("ly+++++ emptyArr:",e),e},t.prototype.startMove=function(e,t,i){var n=this;if(console.log("ly+++++++++++++ startMove",e.name,t.name),1!=this.isMoving){-1==this.moveGridArr.indexOf(e.name)&&this.moveGridArr.push(e.name),-1==this.moveGridArr.indexOf(t.name)&&this.moveGridArr.push(t.name),this.isMoving=!0;var r=JSON.parse(JSON.stringify(this.MapData.getValue(e.name))),o=JSON.parse(JSON.stringify(this.MapData.getValue(t.name))),s=r[r.length-1],c=b.default.countConsecutiveDuplicates(r);r.splice(r.length-c,c),console.log("ly++++++++++ splice",r),this.MapData.setValue(e.name,r);var a=e.getChildByName("box"),l=t.getChildByName("box"),u=[],d=a.childrenCount;u=a.children.slice(d-c,d);for(var p=0;p<c;p++)o.push(s),this.MapData.setValue(t.name,o);console.log("ly++++++++",u.length),u.sort(function(e,t){return t.y-e.y});var y=u[u.length-1],f=this.node.convertToNodeSpaceAR(t.convertToWorldSpaceAR(cc.v2(0,0))),_=Math.abs(f.y-y.y),g=0;_<u[0].height&&(g=1);var w=Math.abs(f.x-y.x),m=0;w<u[0].width&&(m=1),0==m&&0==g&&(m=1),1==m&&1==g&&(m=1,g=0);var v=0;console.log("ly++++++++  endBox.childrenCount",l.childrenCount),f.y+=l.childrenCount*this.cardOffsetY,this.schedule(function r(){var o=u[v],s=n.node.convertToNodeSpaceAR(o.convertToWorldSpaceAR(cc.v2(0,0)));o.setParent(n.node),o.setPosition(s);var c=cc.v2(0,0);c=o.getPosition();var a=cc.v2(f.x,f.y+v*n.cardOffsetY),d=v+l.childrenCount;if(n.parabolaFunc(o,c,a,300,.4),cc.tween(o).delay(0).to(.2,{scaleX:m,scaleY:g}).call(function(){o.zIndex=d,h.default.playSoundFromBundle("resources",h.MusicName.\u98de\u8dc3)}).to(.2,{scaleX:1,scaleY:1}).call(function(){var e=l.convertToNodeSpaceAR(o.convertToWorldSpaceAR(cc.v2(0,0)));o.setParent(l),o.setPosition(e),o.zIndex=e.y,e.y>l.children[l.childrenCount-1].position.y&&o.setSiblingIndex(l.childrenCount-1)}).start(),(v+=1)>=u.length){if(!n.isMoving)return;n.isMoving=!1,n.unschedule(r),console.log("ly++++++  !isMoving"),n.scheduleOnce(function(){var r=n.moveGridArr.indexOf(e.name);r>-1&&n.moveGridArr.splice(r,1);var o=n.moveGridArr.indexOf(t.name);r>-1&&n.moveGridArr.splice(o,1),console.log("ly++++++  cb"),i()},.5)}},.05)}},t.prototype.parabolaFunc=function(e,t,i,n,r,o){void 0===o&&(o=null);var s=cc.v2((t.x+i.x)/2,(t.y+i.y)/2+n);cc.tween(e).bezierTo(r,t,s,i).call(function(){null!=o&&o()}).start()},t.prototype.parabolaFunc2=function(e,t,i,n,r,o){void 0===o&&(o=null);var s=cc.v2((t.x+i.x)/2,(t.y+i.y)/2+n);return cc.tween(e).bezierTo(r,t,s,i).call(function(){null!=o&&o()})},t.prototype.showResult=function(e){var t=this;this.isOver||(this.isOver=!0,this.noClick.active=!0,e?(y.default.addCandy_csryw(this.winCandy),d.default.getInstance_csryw().saveGameData_csryw(),h.default.playSoundFromBundle("resources",h.MusicName.\u80dc\u5229),this.winNode.active=!0,this.winDeletAll(function(){b.default.getPrefabFromBundle("subRes","Prefabs/UI/EndUI",t.node.parent,function(t){t.getComponent(C.default).initEndUI(e),s.default.stopRecord_csryw()})})):(h.default.playSoundFromBundle("resources",h.MusicName.\u5931\u8d25),this.scheduleOnce(function(){t.showFailProp(function(){b.default.getPrefabFromBundle("subRes","Prefabs/UI/EndUI",t.node.parent,function(t){t.getComponent(C.default).initEndUI(e),s.default.stopRecord_csryw()})})},.4)))},t.prototype.updateShowScore=function(){this.lab_score.string=this.curScore+"/"+this.winScore;var e=this.curScore/this.winScore;if(e>1&&(e=1),this.spr_progress.fillRange=e,this.curScore>=this.winScore&&this.curObs>=this.winObs&&this.curIce>=this.winIce&&this.showResult(!0),0!=this.curScore){var t=b.default.calculateLevel(this.curScore,this.winScore);this.curScoreLv!=t&&(this.curScoreLv=t,console.log("ly+++++++ curlv:",t),_.default.reportedEvent("GameLv",{lvNum:this.levelId,score:t}))}l.default.emitEvent_csryw(a.ryw_Event.updateScore,this.curScore),this.saveLvMapData()},t.prototype.updateShowObs=function(){this.lab_obs.string=""+(this.winObs-this.curObs),this.winObs==this.curObs&&(this.lab_obs.node.parent.getChildByName("finish").active=!0,this.lab_obs.string=""),this.curScore>=this.winScore&&this.curObs>=this.winObs&&this.curIce>=this.winIce&&this.showResult(!0),this.saveLvMapData()},t.prototype.updateShowIce=function(){this.lab_ice.string=""+(this.winIce-this.curIce),this.winIce==this.curIce&&(this.lab_ice.node.parent.getChildByName("finish").active=!0,this.lab_ice.string=""),this.curScore>=this.winScore&&this.curObs>=this.winObs&&this.curIce>=this.winIce&&this.showResult(!0),this.saveLvMapData()},t.prototype.btnBack=function(){d.default.getInstance_csryw().onLoadToWorldScene_csryw()},t.prototype.setNoTouch=function(e){this.dragCom1.isCanClick=e,this.dragCom2.isCanClick=e,this.dragCom3.isCanClick=e},t.prototype.onTouchMapStart=function(e){var t=this;if(!this.isMoving)for(var i=e.getLocation(),n=this.node.childrenCount,r=function(e){var n=o.node.children[e];if(n.active&&n.getBoundingBoxToWorld().contains(i)){var r=n.getChildByName("box"),s=n.name,c=r.childrenCount;if(o.isPropMove&&o.isGrid2(n.name)){if(c>=1)return o.touchBox=r,o.tempBox=cc.instantiate(o.touchBox),o.tempBox.setParent(o.node),o.tempBox.setPosition(o.node.convertToNodeSpaceAR(o.touchBox.convertToWorldSpaceAR(cc.v2(0,0)))),o.touchBox.active=!1,"break"}else{if(!o.isPropDelet){if(c>1){o.tarBox=r;for(var u=0;u<c;u++){var d=o.tarBox.children[u];cc.tween(d).to(.2,{opacity:20}).start()}}return"break"}if(o.isGrid(s)){o.prop1Times++;var p=o.obstacleGridArr.indexOf(s),y=o.icecakeGridArr.indexOf(s);return-1!=p?(h.default.playSoundFromBundle("resources",h.MusicName.\u9524\u5b50),l.default.emitEvent_csryw(a.ryw_Event.updateGridDelet2,s),o.playCzAni(r,function(){t.prop1Times<3&&(t.btn_delet.getChildByName("tip_get").active=!0),t.isPropDelet=!1,t.showPropTip(1,!1,!0),t.setNoTouch(!0)}),"break"):-1!=y?(h.default.playSoundFromBundle("resources",h.MusicName.\u9524\u5b50),l.default.emitEvent_csryw(a.ryw_Event.updateGridDelet2,s),o.playCzAni(r,function(){t.prop1Times<3&&(t.btn_delet.getChildByName("tip_get").active=!0),t.isPropDelet=!1,t.showPropTip(1,!1,!0),t.setNoTouch(!0)}),"break"):(o.initPropDelet(),c>=1?(console.log("ly+++++++++ \u9524\u5b50\u9053\u5177:",s),h.default.playSoundFromBundle("resources",h.MusicName.\u9524\u5b50),o.playCzAni(r,function(){t.propDelet(s,function(){t.prop1Times<3&&(t.btn_delet.getChildByName("tip_get").active=!0)}),t.playDeletAni(r)})):(o.prop1Times<3&&(o.btn_delet.getChildByName("tip_get").active=!0),o.isPropDelet=!1,o.showPropTip(1,!1,!0),o.setNoTouch(!0),h.default.playSoundFromBundle("resources",h.MusicName.\u9524\u5b50),o.playCzAni(r,function(){})),o.isAdAid++,"break")}}}},o=this,s=0;s<n&&"break"!==r(s);s++);},t.prototype.onTouchMapMove=function(e){if(!this.isMoving&&this.isPropMove&&this.touchBox){var t=e.getLocation(),i=this.node.convertToNodeSpaceAR(t);this.tempBox.setPosition(i)}},t.prototype.onTouchMapEnd=function(e){var t=this;if(this.tarBox){for(var i=this.tarBox.childrenCount,n=0;n<i;n++){var r=this.tarBox.children[n];cc.tween(r).to(.2,{opacity:255}).start()}this.tarBox=null}if(!this.isMoving&&this.isPropMove&&this.touchBox){var o=e.getLocation(),s=this.node.childrenCount,c=function(e){var i=a.node.children[e],n=i.name;if(i.getBoundingBoxToWorld().contains(o)&&a.isGrid2(n)){var r=a.touchBox.parent.name;if(n!=r){var s=JSON.parse(JSON.stringify(a.MapData.getValue(n))),c=JSON.parse(JSON.stringify(a.MapData.getValue(r))),l=i.getChildByName("box"),u=[];if(a.touchBox.children.forEach(function(e){u.push(e)}),s.length>0){a.MapData.setValue(r,s),a.MapData.setValue(n,c);var d=[];l.children.forEach(function(e){d.push(e)});for(var h=0;h<u.length;h++){var p=u[h];p.setParent(l),p.y=h*a.cardOffsetY}for(var y=0;y<d.length;y++){var f=d[y];f.setParent(a.touchBox),f.y=y*a.cardOffsetY}}else{a.MapData.setValue(r,[]),a.MapData.setValue(n,c);for(var _=0;_<u.length;_++){var g=u[_];g.setParent(l),g.y=_*a.cardOffsetY}}return a.touchBox.setPosition(cc.v2(0,0)),a.isPropMove=!1,a.isAdAid++,a.showPropTip(2,!1,!0),a.setNoTouch(!0),console.log("ly++++++++ >>>>>>>>>>>>>>>>>"),-1==a.changeArr.indexOf(r)&&a.changeArr.push(r),a.prop2Times++,a.prop2Times<3&&(a.btn_touch.getChildByName("tip_get").active=!0),a.initPropTouch(),a.scheduleOnce(function(){t.checkLink(n)},.3),"break"}}},a=this;for(n=0;n<s&&"break"!==c(n);n++);this.touchBox.setPosition(cc.v2(0,0)),this.touchBox.active=!0,this.touchBox=null,this.tempBox.destroy()}},t.prototype.initMap=function(){var e=this;this.levelId=y.default.getLeveNum_csryw(),this.levelId>=b.default.maxLv&&(this.levelId=b.default.maxLv,y.default.setLeveNum_csryw(b.default.maxLv),d.default.getInstance_csryw().saveGameData_csryw()),this.lab_level.string="#."+this.levelId,this.levelInfo=JSON.parse(JSON.stringify(k.default.levelDic.getValue(this.levelId)));var t=this.levelInfo.MapId,i=JSON.parse(JSON.stringify(k.default.mapDic.getValue(t)));if(this.node.scale=i.Scale,this.touch1.scale=this.touch2.scale=this.touch3.scale=i.Scale,this.node.y+=i.Translation,i.Translation2&&(this.node.x+=i.Translation2),this.winMoneny=i.gold,this.winCandy=i.tgnumb,console.log("mapInfo",i),null!=i){for(var n=0==i.HideBox?[]:i.HideBox.split("|"),r=0;r<n.length;r++)this.node.getChildByName(n[r]).active=!1;var o=0==i.VideoBox?[]:String(i.VideoBox).split("|");if(this.isOld)for(r=0;r<o.length;r++)(N=this.node.getChildByName(o[r])).active=!0,-1!=this.videoGridArr.indexOf(N.children[0].getComponent(cc.Label).string)&&b.default.getPrefabFromBundle("subRes","Prefabs/videoBoxUnlock",N,function(){});else for(r=0;r<o.length;r++)(N=this.node.getChildByName(o[r])).active=!0,this.videoGridArr.push(N.children[0].getComponent(cc.Label).string),b.default.getPrefabFromBundle("subRes","Prefabs/videoBoxUnlock",N,function(){});var s=0==i.ScoreBox?[]:String(i.ScoreBox).split("|"),c=0==i.ScoreNum?[]:String(i.ScoreNum).split("|");if(this.isOld){var a=function(){var e=l.node.getChildByName(s[r]);if(e.active=!0,-1!=l.lockGridArr.indexOf(e.children[0].getComponent(cc.Label).string)){var t=Number(c[r]);b.default.getPrefabFromBundle("subRes","Prefabs/scoreBoxUnlock",e,function(e){e.getComponent(M.default).initScore(t)})}},l=this;for(r=0;r<s.length;r++)a()}else{var u=function(){var e=h.node.getChildByName(s[r]);e.active=!0;var t=Number(c[r]);h.lockGridArr.push(e.children[0].getComponent(cc.Label).string),b.default.getPrefabFromBundle("subRes","Prefabs/scoreBoxUnlock",e,function(e){e.getComponent(M.default).initScore(t)})},h=this;for(r=0;r<s.length;r++)u()}for(var p=0==i.Obstacle?[]:String(i.Obstacle).split("|"),f=[],_=[],g=0;g<p.length;g++){var w=p[g].split("_");f.push(w[0]),_.push(Number(w[1]))}if(this.isOld){var m=function(){var e=v.node.getChildByName(f[r]);e.active=!0;var t=e.children[0].getComponent(cc.Label).string,i=v.obstacleGridArr.indexOf(t);if(-1!=i){var n=v.obstacleGridNum[i];b.default.getPrefabFromBundle("subRes","Prefabs/ObstacleUnlock",e,function(e){e.getComponent(P.default).initScore(n,t)})}},v=this;for(r=0;r<f.length;r++)m()}else{var S=function(){var e=A.node.getChildByName(f[r]);e.active=!0;var t=Number(_[r]),i=e.children[0].getComponent(cc.Label).string;A.obstacleGridArr.push(i),A.obstacleGridNum.push(t),b.default.getPrefabFromBundle("subRes","Prefabs/ObstacleUnlock",e,function(e){e.getComponent(P.default).initScore(t,i)})},A=this;for(r=0;r<f.length;r++)S()}var C=0==i.Icecake?[]:String(i.Icecake).split("|");if(!this.isOld)for(r=0;r<C.length;r++){var N,T=(N=this.node.getChildByName(C[r])).children[0].getComponent(cc.Label).string;this.icecakeGridArr.push(T),this.icecakeGridNum.push(3)}if(this.MapData&&0==this.MapData.count){var D=0==i.SpecialBox?[]:i.SpecialBox.split("|"),O=function(){var t=D[r].split("_");L.node.getChildByName(t[0]).active=!0;var i=t[1].split(",");console.log("lytodo:spwanPicArr",i);var n=L.node.getChildByName(t[0]),o=n.children[0].getComponent(cc.Label).string,s=i.map(function(e){return parseInt(e,10)});L.MapData.setValue(o,s);var c=function(){for(var t=e.icecakeGridArr.indexOf(o),r=e.icecakeGridNum[t],s=function(s){var c=i[s],a=n.getChildByName("box");a||((a=new cc.Node).name="box",n.addChild(a));var l=cc.instantiate(e.cardNode);a.addChild(l);var u=k.default.fruitDic.getValue(Number(c)).FruitNum;b.default.getSpriteFrameFromBundle("subRes","Textures/"+u,l.getComponent(cc.Sprite)),l.y=l.getSiblingIndex()*e.cardOffsetY,-1!=t&&b.default.getPrefabFromBundle("subRes","Prefabs/IceCakeUnlock",l,function(e){s==i.length-1?e.getComponent(I.default).initScore(r,o,!0):e.getComponent(I.default).initScore(r,o)})},c=0;c<i.length;c++)s(c)};null==L.cardNode?b.default.getPrefabFromBundle("subRes","Prefabs/card",null,function(t){e.cardNode=t,c()}):c()},L=this;for(r=0;r<D.length;r++)O()}}},t.prototype.btnSetting=function(){var e=this;this.isClick||(this.isClick=!0,b.default.getPrefabFromBundle("subRes","Prefabs/UI/SettingUI",this.node.parent,function(t){t.getComponent(p.default).initSet(!0),e.scheduleOnce(function(){e.isClick=!1},.3),D.YPlatform.showFullScreenAd()}))},t.prototype.onClickBtnDelet=function(e){var t=this;this.isAllFull().length==this.MapData.getKeys().length&&this.isClick||(this.isClick=!0,this.isPropDelet||this.isPropMove||(this.OnlyOneTip.active&&this.onclikCloseOne(),e.getChildByName("lock").active?this.isClick=!1:e.getChildByName("tip_get").active?b.default.getPrefabFromBundle("subRes","Prefabs/UI/AddPropView",cc.find("Canvas"),function(e){e.getComponent(w.default).initView(1),t.scheduleOnce(function(){t.isClick=!1},.3),D.YPlatform.showFullScreenAd()}):(this.isPropDelet=!0,this.setNoTouch(!1),this.showPropTip(1,!0))))},t.prototype.onClickBtnTouch=function(e){var t=this;this.isClick||(this.isClick=!0,this.isPropDelet||this.isPropMove||(this.OnlyOneTip.active&&this.onclikCloseOne(),e.getChildByName("lock").active?this.isClick=!1:e.getChildByName("tip_get").active?b.default.getPrefabFromBundle("subRes","Prefabs/UI/AddPropView",cc.find("Canvas"),function(e){e.getComponent(w.default).initView(2),t.scheduleOnce(function(){t.isClick=!1},.3),D.YPlatform.showFullScreenAd()}):(this.isPropMove=!0,this.setNoTouch(!1),this.showPropTip(2,!0))))},t.prototype.onClickBtnChange=function(e){var t=this;if(!this.isClick&&(this.isClick=!0,!this.isPropDelet&&!this.isPropMove))if(this.OnlyOneTip.active&&this.onclikCloseOne(),e.getChildByName("lock").active)this.isClick=!1;else if(e.getChildByName("tip_get").active)b.default.getPrefabFromBundle("subRes","Prefabs/UI/AddPropView",cc.find("Canvas"),function(e){e.getComponent(w.default).initView(3),t.scheduleOnce(function(){t.isClick=!1},.3),D.YPlatform.showFullScreenAd()});else{this.isAdAid+=2,this.isAid=!0,this.flyCard();var i=y.default.getPropNumArr_csryw();i[2]=0,y.default.setPropNumArr_csryw(i),this.prop3Times++,d.default.getInstance_csryw().saveGameData_csryw(),this.initPropChange(),this.isClick=!1}},t.prototype.propDelet=function(e,t){var i=this;this.isPropDelet=!1,this.showPropTip(1,!1,!0);var n=JSON.parse(JSON.stringify(this.MapData.getValue(e))),r=n.length;n=[],this.MapData.setValue(e,n);for(var o=this.node.getChildByName(e).getChildByName("box"),s=o.childrenCount,c=function(e){var t=o.children[s-e-1];cc.tween(t).delay(.05*e).to(.2,{scale:0}).call(function(){t.destroy()}).start()},a=0;a<r;a++)c(a);this.updateShowScore(),this.scheduleOnce(function(){i.setNoTouch(!0),t&&t()},.3+.05*r)},t.prototype.isGrid2=function(e){return-1!=e.indexOf(",")&&-1==this.lockGridArr.indexOf(e)&&-1==this.videoGridArr.indexOf(e)&&-1==this.obstacleGridArr.indexOf(e)&&-1==this.icecakeGridArr.indexOf(e)},t.prototype.isGrid=function(e){return-1!=e.indexOf(",")&&-1==this.lockGridArr.indexOf(e)&&-1==this.videoGridArr.indexOf(e)},t.prototype.playDeletAni=function(e){var t=this;h.default.playSoundFromBundle("resources",h.MusicName.\u6d88\u9664),b.default.getPrefabFromBundle("subRes","Prefabs/delAni",this.node.parent,function(i){var n=i.getComponent(c.default),r=n.setAnimation(0,"play",!1),o=t.node.parent.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2(0,e.childrenCount*t.cardOffsetY)));n.setCompleteListener(function(){i.destroy()}),i.setPosition(o),n.setTrackEventListener(r,function(e,i){"play"==i.data.name&&b.default.getPrefabFromBundle("subRes","Particle/ef_xiaochu",t.node.parent,function(e){e.setPosition(o)})})})},t.prototype.playCzAni=function(e,t){var i=this;this.isPlaying||(this.isPlaying=!0,b.default.getPrefabFromBundle("subRes","Prefabs/czAni",this.node.parent,function(n){var r=n.getComponent(c.default),o=r.setAnimation(0,"play",!1),s=i.node.parent.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2(0,e.childrenCount*i.cardOffsetY)));n.setPosition(s),r.setTrackEventListener(o,function(e,i){"play"==i.data.name&&t&&t()}),r.setCompleteListener(function(){i.isPlaying=!1,n.destroy()})}))},t.prototype.showPropTip=function(e,t,i){var n;void 0===i&&(i=!0),t?(this.propTip.active=!0,1==e?(this.prop_lab_tittle.string=this.propTittle[0],"undefined"!=typeof langManager?this.prop_lab_tip.string=langManager.getLangStr("click_tip"):this.prop_lab_tip.string=this.propTips[0],this.prop_node_img.children[0].active=!0,this.prop_node_img.children[1].active=!1,this.btn_delet.getChildByName("light").active=!0,this.btn_delet.getComponent(v.default).enabled=!0):(this.prop_lab_tittle.string=this.propTittle[1],"undefined"!=typeof langManager?this.prop_lab_tip.string=langManager.getLangStr("drag_tip"):this.prop_lab_tip.string=this.propTips[1],this.prop_node_img.children[0].active=!1,this.prop_node_img.children[1].active=!0,this.btn_touch.getChildByName("light").active=!0,this.btn_touch.getComponent(v.default).enabled=!0)):(this.propTip.active=!1,this.isClick=!1,1==e?(this.isPropDelet=!1,i&&(this.btn_delet.getComponent(v.default).enabled=!1),i&&((n=y.default.getPropNumArr_csryw())[0]=0,y.default.setPropNumArr_csryw(n),d.default.getInstance_csryw().saveGameData_csryw(),this.initPropDelet()),this.btn_delet.getChildByName("light").active=!1):(this.isPropMove=!1,i&&(this.btn_touch.getComponent(v.default).enabled=!1),i&&((n=y.default.getPropNumArr_csryw())[1]=0,y.default.setPropNumArr_csryw(n),d.default.getInstance_csryw().saveGameData_csryw(),this.initPropTouch()),this.btn_touch.getChildByName("light").active=!1),this.setNoTouch(!0))},t.prototype.showFirstTips=function(){if(this.firstPart=1,this.dragCom2.isCanClick=!1,this.dragCom3.isCanClick=!1,this.firstTip.active=!0,this.playHand1(),this.node.getChildByName("0,0").opacity=180,"undefined"!=typeof langManager)switch(langManager.langType){case"RU":this.first1.getChildByName("bxwl_fh4").getChildByName("lab_first").getComponent(cc.Label).string="\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435\n\u0438 \u043e\u0442\u043f\u0443\u0441\u0442\u0438\u0442\u0435";break;case"TR":this.first1.getChildByName("bxwl_fh4").getChildByName("lab_first").getComponent(cc.Label).string="S\xfcr\xfckle \nve b\u0131rak";break;case"EN":default:this.first1.getChildByName("bxwl_fh4").getChildByName("lab_first").getComponent(cc.Label).string="Drag \nand drop"}this.first1.active=!0},t.prototype.playHand1=function(){var e=this.hand.parent.convertToNodeSpaceAR(this.node.getChildByName("0,0").convertToWorldSpaceAR(cc.v2(0,0))),t=this.hand.parent.convertToNodeSpaceAR(this.touch1.convertToWorldSpaceAR(cc.v2(0,0)));this.hand.setPosition(e),cc.tween(this.hand).to(1,{position:cc.v3(t)}).to(.7,{position:cc.v3(e)}).union().repeatForever().start()},t.prototype.playHand2=function(){this.hand.stopAllActions(),this.node.targetOff(this.hand);var e=this.hand.parent.convertToNodeSpaceAR(this.node.getChildByName("-1,1").convertToWorldSpaceAR(cc.v2(0,0))),t=this.hand.parent.convertToNodeSpaceAR(this.touch2.convertToWorldSpaceAR(cc.v2(0,0)));this.hand.setPosition(e),cc.tween(this.hand).to(1,{position:cc.v3(t)}).to(.7,{position:cc.v3(e)}).union().repeatForever().start()},t.prototype.flyScore=function(e,t,i){var n=this;console.log("ly+++++++++++ flyScore:",e),b.default.getPrefabFromBundle("subRes","Prefabs/flyScoreCard",this.node.parent,function(r){var o=r.getChildByName("spr_img").getComponent(cc.Sprite),s=k.default.fruitDic.getValue(e),c=s.FruitNum;console.log("ly++++++++++++ imgUrl:",c);var a=g.default.colorHex2Rgb_csryw(s.color),l=r.parent.convertToNodeSpaceAR(n.addScoreAni.node.convertToWorldSpaceAR(cc.v2(0,0))),u=r.parent.convertToNodeSpaceAR(i.convertToWorldSpaceAR(cc.v2(0,0)));r.setPosition(u),r.getChildByName("suiyingtuowei").getComponent(cc.MotionStreak).color=a,b.default.getSpriteFrameFromBundle("subRes","Textures/"+c,o,function(){var e=u.x,i=u.y;cc.tween(r).to(.2,{position:cc.v3(e-30,i)},{easing:cc.easing.sineInOut}).to(.2,{position:cc.v3(e-15,i+30)},{easing:cc.easing.sineInOut}).to(.5,{position:cc.v3(l.x+5,l.y)},{easing:cc.easing.sineInOut}).call(function(){n.playTopScoreScaleAni(),b.default.getPrefabFromBundle("subRes","Particle/ef_jiesuo",r.parent,function(e){e.setPosition(l)}),h.default.playSoundFromBundle("resources",h.MusicName.\u52a0\u5206),n.addScoreAni.node.active=!0,n.addScoreAni.setAnimation(0,"play",!1),n.curScore+=t,n.addScoreAni.setCompleteListener(function(){n.updateShowScore(),n.addScoreAni.setCompleteListener(null),n.addScoreAni.node.active=!1});var e=cc.instantiate(n.flyTxt);e.getComponent(cc.Label).string="+"+t,e.color=a,e.setParent(n.flyTxt.parent),e.active=!0,r.destroy()}).start()})})},t.prototype.flyObs=function(e,t){var i=this;b.default.getPrefabFromBundle("subRes","Prefabs/flyScoreCard",this.node.parent,function(n){var r=n.getChildByName("spr_img").getComponent(cc.Sprite);console.log("ly++++++++++++ imgUrl:","bxwl_za2");var o=g.default.colorHex2Rgb_csryw("f8c497"),s=n.parent.convertToNodeSpaceAR(i.topObs.convertToWorldSpaceAR(cc.v2(0,0))),c=n.parent.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2(0,0)));n.setPosition(c),n.getChildByName("suiyingtuowei").getComponent(cc.MotionStreak).color=o,r.node.scale=.5,b.default.getSpriteFrameFromBundle("subRes","Textures/bxwl_za2",r,function(){var e=c.x,r=c.y;cc.tween(n).to(.2,{position:cc.v3(e-30,r)},{easing:cc.easing.sineInOut}).to(.2,{position:cc.v3(e-15,r+30)},{easing:cc.easing.sineInOut}).to(.5,{position:cc.v3(s.x+5,s.y)},{easing:cc.easing.sineInOut}).call(function(){i.playTopObsScaleAni(),b.default.getPrefabFromBundle("subRes","Particle/ef_jiesuo",n.parent,function(e){e.setPosition(s)}),h.default.playSoundFromBundle("resources",h.MusicName.\u52a0\u5206),t&&t(),n.destroy()}).start()})})},t.prototype.flyIce=function(e,t){var i=this;b.default.getPrefabFromBundle("subRes","Prefabs/flyScoreCard",this.node.parent,function(n){var r=n.getChildByName("spr_img").getComponent(cc.Sprite);console.log("ly++++++++++++ imgUrl:","bxwl_za3");var o=g.default.colorHex2Rgb_csryw("ffffff"),s=n.parent.convertToNodeSpaceAR(i.topIce.convertToWorldSpaceAR(cc.v2(0,0))),c=n.parent.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2(0,0)));n.setPosition(c),n.getChildByName("suiyingtuowei").getComponent(cc.MotionStreak).color=o,r.node.scale=.5,b.default.getSpriteFrameFromBundle("subRes","Textures/bxwl_za3",r,function(){var e=c.x,r=c.y;cc.tween(n).to(.2,{position:cc.v3(e-30,r)},{easing:cc.easing.sineInOut}).to(.2,{position:cc.v3(e-15,r+30)},{easing:cc.easing.sineInOut}).to(.5,{position:cc.v3(s.x+5,s.y)},{easing:cc.easing.sineInOut}).call(function(){i.playTopIceScaleAni(),b.default.getPrefabFromBundle("subRes","Particle/ef_jiesuo",n.parent,function(e){e.setPosition(s)}),h.default.playSoundFromBundle("resources",h.MusicName.\u52a0\u5206),t&&t(),n.destroy()}).start()})})},t.prototype.playTopScoreScaleAni=function(){var e=this;this.isPlayingScale||(this.isPlayingScale=!0,cc.tween(this.topScore).to(.2,{scale:1.1}).to(.2,{scale:.8}).call(function(){e.isPlayingScale=!1}).start())},t.prototype.playTopObsScaleAni=function(){var e=this;this.isPlayingObsScale||(this.isPlayingObsScale=!0,cc.tween(this.topObs).to(.2,{scale:1.2}).to(.2,{scale:1}).call(function(){e.isPlayingObsScale=!1}).start())},t.prototype.playTopIceScaleAni=function(){var e=this;this.isPlayingIceScale||(this.isPlayingIceScale=!0,cc.tween(this.topIce).to(.2,{scale:1.2}).to(.2,{scale:1}).call(function(){e.isPlayingIceScale=!1}).start())},t.prototype.winDeletAll=function(e){this.touch1.active=!1,this.touch2.active=!1,this.touch3.active=!1,cc.tween(this.node).to(2,{angle:45,scale:.6}).start(),this.node.children.forEach(function(e){var t=e.getChildByName("box");if(t&&t.childrenCount>0)for(var i=t.childrenCount,n=function(e){var n=t.children[i-e-1];cc.tween(n).delay(.1*e).to(.4,{scale:0}).call(function(){n.destroy()}).start()},r=0;r<i;r++)n(r)});var t=[];this.findNodesByName(this.node,"card",t),t.forEach(function(e){e.opacity=0}),this.scheduleOnce(function(){e()},1.8)},t.prototype.findNodesByName=function(e,t,i){if("box"!=e.name){e.name===t&&i.push(e);for(var n=e.children,r=0;r<n.length;r++)this.findNodesByName(n[r],t,i)}},t.prototype.getEmptyAdjoin=function(e){this.aidColorArr=[];for(var t=e.length,i=0;i<t;i++){var n=e[i].split(",").map(function(e){return parseInt(e,10)}),r=n[0]+1+","+(n[1]-1),o=JSON.parse(JSON.stringify(this.MapData.getValue(r)));if(o&&(p=o.length)>0){var s=o[p-1];-1==this.aidColorArr.indexOf(s)&&this.aidColorArr.push(s)}var c=n[0]+1+","+n[1],a=JSON.parse(JSON.stringify(this.MapData.getValue(c)));a&&(p=a.length)>0&&(s=a[p-1],-1==this.aidColorArr.indexOf(s)&&this.aidColorArr.push(s));var l=n[0]+","+(n[1]+1),u=JSON.parse(JSON.stringify(this.MapData.getValue(l)));u&&(p=u.length)>0&&(s=u[p-1],-1==this.aidColorArr.indexOf(s)&&this.aidColorArr.push(s));var d=n[0]-1+","+(n[1]+1),h=JSON.parse(JSON.stringify(this.MapData.getValue(d)));h&&(p=h.length)>0&&(s=h[p-1],-1==this.aidColorArr.indexOf(s)&&this.aidColorArr.push(s));var p,y=n[0]-1+","+n[1],f=JSON.parse(JSON.stringify(this.MapData.getValue(y)));f&&(p=f.length)>0&&(s=f[p-1],-1==this.aidColorArr.indexOf(s)&&this.aidColorArr.push(s));var _=n[0]+","+(n[1]-1),g=JSON.parse(JSON.stringify(this.MapData.getValue(_)));g&&(p=g.length)>0&&(s=g[p-1],-1==this.aidColorArr.indexOf(s)&&this.aidColorArr.push(s)),console.log("ly+++++++++++++ aidColorArr:",this.aidColorArr)}},t.prototype.reciveFunc=function(){for(var e=b.default.getMathArrInLimitArr_csryw(JSON.parse(JSON.stringify(this.MapData.getKeys())),3).returnArr,t=0;t<e.length;t++){var i=e[t];this.node.getChildByName(i).getChildByName("box").removeAllChildren(),this.MapData.setValue(i,[])}this.isOver=!1,this.noClick.active=!1},t.prototype.initPropDelet=function(){var e=y.default.getPropNumArr_csryw(),t=this.btn_delet.getChildByName("lock"),i=t.getChildByName("lab_lv").getComponent(cc.Label),n=e[0],r=this.btn_delet.getChildByName("tip_one");this.btn_delet.getChildByName("light").active=!1;var o=this.btn_delet.getChildByName("child"),s=this.btn_delet.getChildByName("tip_get");-1==n?(i.string=""+b.default.hammerUnlock,t.active=!0,r.active=!1,o.active=!1,s.active=!1):0==n?(t.active=!1,r.active=!1,o.active=!0,s.active=!0):(t.active=!1,r.active=!0,o.active=!0,s.active=!1,this.onClickBtnDelet(this.btn_delet)),this.btn_delet.getChildByName("numShow").getChildByName("lab_num").getComponent(cc.Label).string=this.prop1Times+"/3",3==this.prop1Times&&(t.active=!0,s.active=!1)},t.prototype.initPropTouch=function(){var e=y.default.getPropNumArr_csryw(),t=this.btn_touch.getChildByName("lock"),i=t.getChildByName("lab_lv").getComponent(cc.Label),n=e[1],r=this.btn_touch.getChildByName("tip_one");this.btn_touch.getChildByName("light").active=!1;var o=this.btn_touch.getChildByName("child"),s=this.btn_touch.getChildByName("tip_get");-1==n?(i.string=""+b.default.exchangeCardUnlock,t.active=!0,r.active=!1,o.active=!1,s.active=!1):0==n?(t.active=!1,r.active=!1,o.active=!0,s.active=!0):(t.active=!1,r.active=!0,o.active=!0,s.active=!1,this.onClickBtnTouch(this.btn_touch)),this.btn_touch.getChildByName("numShow").getChildByName("lab_num").getComponent(cc.Label).string=this.prop2Times+"/3",3==this.prop2Times&&(t.active=!0,s.active=!1)},t.prototype.initPropChange=function(){var e=y.default.getPropNumArr_csryw(),t=this.btn_change.getChildByName("lock"),i=t.getChildByName("lab_lv").getComponent(cc.Label),n=e[2],r=this.btn_change.getChildByName("tip_one");this.btn_change.getChildByName("light").active=!1;var o=this.btn_change.getChildByName("child"),s=this.btn_change.getChildByName("tip_get");-1==n?(i.string=""+b.default.dealCardsUnlock,t.active=!0,r.active=!1,o.active=!1,s.active=!1):0==n?(t.active=!1,r.active=!1,o.active=!0,s.active=!0):(t.active=!1,r.active=!0,o.active=!0,s.active=!1),this.btn_change.getChildByName("numShow").getChildByName("lab_num").getComponent(cc.Label).string=this.prop3Times+"/3",3==this.prop3Times&&(t.active=!0,s.active=!1)},t.prototype.showGetPropView=function(e){this.noClick.active=!0,b.default.getPrefabFromBundle("subRes","Prefabs/UI/GetPropView",cc.find("Canvas"),function(t){t.getComponent(N.default).initView(e)})},t.prototype.initOldGrid=function(){var e=this,t=this.MapData.getKeys(),i=function(){for(var i=function(i){var n=t[i],r=e.node.getChildByName(n),o=r.getChildByName("box");o||((o=new cc.Node).name="box",r.addChild(o));for(var s=e.MapData.getValue(n),c=function(t){var i=s[t],r=cc.instantiate(e.cardNode);o.addChild(r);var c=k.default.fruitDic.getValue(Number(i)).FruitNum;b.default.getSpriteFrameFromBundle("subRes","Textures/"+c,r.getComponent(cc.Sprite)),r.y=r.getSiblingIndex()*e.cardOffsetY;var a=e.icecakeGridArr.indexOf(n),l=e.icecakeGridNum[a];-1!=a&&b.default.getPrefabFromBundle("subRes","Prefabs/IceCakeUnlock",r,function(e){t==s.length-1?e.getComponent(I.default).initScore(l,n,!0):e.getComponent(I.default).initScore(l,n)})},a=0;a<s.length;a++)c(a)},n=0;n<t.length;n++)i(n)};null==this.cardNode?b.default.getPrefabFromBundle("subRes","Prefabs/card",null,function(t){e.cardNode=t,i()}):i()},t.prototype.saveLvMapData=function(){var e=new k.GameMapData;e.levelId=this.levelId,e.MapData=this.MapData,e.curScore=this.curScore,e.curObs=this.curObs,e.curIce=this.curIce,e.curAidTimes=this.curAidTimes,e.cardIds1=this.cardIds1,e.cardIds2=this.cardIds2,e.cardIds3=this.cardIds3,e.curVideoNum=this.curVideoNum,e.isShowOnlyOneTip=this.isShowOnlyOneTip,e.lockGridArr=this.lockGridArr,e.videoGridArr=this.videoGridArr,e.obstacleGridArr=this.obstacleGridArr,e.obstacleGridNum=this.obstacleGridNum,e.icecakeGridArr=this.icecakeGridArr,e.icecakeGridNum=this.icecakeGridNum,e.curScoreLv=this.curScoreLv,e.isAdAid=this.isAdAid,e.prop1Times=this.prop1Times,e.prop2Times=this.prop2Times,e.prop3Times=this.prop3Times,e.reciveTimes=this.reciveTimes,y.default.setMapData_csryw(e),d.default.getInstance_csryw().saveGameData_csryw("Map")},t.prototype.initOldFlyCard=function(){for(var e=this.cardIds1.length,t=0;t<e;t++){var i=this.cardIds1[t],n="";n=k.default.fruitDic.getValue(i).FruitNum;var r=cc.instantiate(this.cardNode);this.touch1.addChild(r),b.default.getSpriteFrameFromBundle("subRes","Textures/"+n,r.getComponent(cc.Sprite)),r.y=r.getSiblingIndex()*this.cardOffsetY}var o=this.cardIds2.length;for(t=0;t<o;t++)i=this.cardIds2[t],n="",n=k.default.fruitDic.getValue(i).FruitNum,r=cc.instantiate(this.cardNode),this.touch2.addChild(r),b.default.getSpriteFrameFromBundle("subRes","Textures/"+n,r.getComponent(cc.Sprite)),r.y=r.getSiblingIndex()*this.cardOffsetY;var s=this.cardIds3.length;for(t=0;t<s;t++)i=this.cardIds3[t],n="",n=k.default.fruitDic.getValue(i).FruitNum,r=cc.instantiate(this.cardNode),this.touch3.addChild(r),b.default.getSpriteFrameFromBundle("subRes","Textures/"+n,r.getComponent(cc.Sprite)),r.y=r.getSiblingIndex()*this.cardOffsetY},t.prototype.showOnlyOneTip=function(){this.OnlyOneTip.active=!0;var e=this.OnlyOneTip.getChildByName("bot"),t=e.getChildByName("focusNode1"),i=e.getChildByName("focusNode2"),n=e.getChildByName("focusNode3"),r=e.getChildByName("1"),o=e.getChildByName("2"),s=e.getChildByName("3");this.levelId>=b.default.dealCardsUnlock?(t.active=!1,i.active=!1,n.active=!0,r.active=!0,o.active=!0,s.active=!0):this.levelId>=b.default.exchangeCardUnlock?(t.active=!1,i.active=!0,n.active=!1,r.active=!0,o.active=!0,s.active=!1):this.levelId>=b.default.hammerUnlock&&(t.active=!0,i.active=!1,n.active=!1,r.active=!0,o.active=!1,s.active=!1)},t.prototype.onclikCloseOne=function(){this.OnlyOneTip.active=!1,this.isShowOnlyOneTip=1,this.isClick=!1},t.prototype.findMaxIndex=function(e){for(var t=0,i=e[0],n=1;n<e.length;n++)e[n]>i&&(i=e[n],t=n);return[t,i]},t.prototype.calculateSum=function(e){for(var t=0,i=0;i<e.length;i++)t+=e[i];return t},t.prototype.findHasSix=function(){for(var e=this.MapData.getKeys(),t=e.length,i=[],n=0;n<t;n++){var r=e[n],o=0,s=r.split(",").map(function(e){return parseInt(e,10)}),c=s[0]+1+","+(s[1]-1);JSON.parse(JSON.stringify(this.MapData.getValue(c)))&&o++;var a=s[0]+1+","+s[1];JSON.parse(JSON.stringify(this.MapData.getValue(a)))&&o++;var l=s[0]+","+(s[1]+1);JSON.parse(JSON.stringify(this.MapData.getValue(l)))&&o++;var u=s[0]-1+","+(s[1]+1);JSON.parse(JSON.stringify(this.MapData.getValue(u)))&&o++;var d=s[0]-1+","+s[1];JSON.parse(JSON.stringify(this.MapData.getValue(d)))&&o++;var h=s[0]+","+(s[1]-1);JSON.parse(JSON.stringify(this.MapData.getValue(h)))&&o++,6==o&&this.isGrid2(r)&&this.MapData.getValue(r).length>0&&i.push(r)}return console.log("ly++++++++++ findHasSix:",i),i},t.prototype.countUniqueElements=function(e){return new Set(e).size},t.prototype.showFailProp=function(e){0==this.reciveTimes?b.default.getPrefabFromBundle("subRes","Prefabs/UI/ReciveView",this.node.parent,function(t){t.getComponent(T.default).callBackFunc=e}):this.prop1Times<3?b.default.getPrefabFromBundle("subRes","Prefabs/UI/AddPropViewRecive",this.node.parent,function(t){t.getComponent(m.default).callBackFunc=e}):e()},t.prototype.deletMoreOne=function(e){var t=this,i=this.findHasSix(),n="",r=i.length;if(r){for(var o=0;o<r;o++){var s=i[o];this.countUniqueElements(this.MapData.getValue(s))>0&&(n=s)}h.default.playSoundFromBundle("resources",h.MusicName.\u9524\u5b50),this.playCzAni(this.node.getChildByName(n).getChildByName("box"),function(){t.propDelet(n,function(){t.MapData.setValue(n,[]),e&&e()})})}else{for(var c=b.default.getMathArrInLimitArr_csryw(JSON.parse(JSON.stringify(this.MapData.getKeys())),1).returnArr,a=c[0];!this.isGrid2(a);)c=b.default.getMathArrInLimitArr_csryw(JSON.parse(JSON.stringify(this.MapData.getKeys())),1).returnArr,a=c[0];h.default.playSoundFromBundle("resources",h.MusicName.\u9524\u5b50),this.playCzAni(this.node.getChildByName(a).getChildByName("box"),function(){t.propDelet(a,function(){t.MapData.setValue(a,[]),e&&e()})})}},t.prototype.deletMoreThree=function(e){for(var t=function(t){var n=i.findHasSix(),r="",o=n.length;if(o){for(var s=0;s<o;s++){var c=n[s];i.countUniqueElements(i.MapData.getValue(c))>0&&(r=c)}i.MapData.setValue(r,[]),[].push(r);var a=i.node.getChildByName(r).getChildByName("box");h.default.playSoundFromBundle("resources",h.MusicName.\u590d\u6d3b\u6d88\u9664),cc.tween(a).to(.2,{opacity:0}).to(.2,{opacity:255}).to(.2,{opacity:0}).to(.2,{opacity:255}).call(function(){a.removeAllChildren(),2==t&&e&&e()}).start()}else{for(var l=b.default.getMathArrInLimitArr_csryw(JSON.parse(JSON.stringify(i.MapData.getKeys())),1).returnArr,u=l[0];!i.isGrid2(u);)u=(l=b.default.getMathArrInLimitArr_csryw(JSON.parse(JSON.stringify(i.MapData.getKeys())),1).returnArr)[0];i.MapData.setValue(u,[]);var d=i.node.getChildByName(u).getChildByName("box");cc.tween(d).to(.2,{opacity:0}).to(.2,{opacity:255}).to(.2,{opacity:0}).to(.2,{opacity:255}).call(function(){d.removeAllChildren(),2==t&&(h.default.playSoundFromBundle("resources",h.MusicName.\u590d\u6d3b\u6d88\u9664),e&&e())}).start()}},i=this,n=0;n<3;n++)t(n)},t.prototype.reciveDelet=function(){var e=this;this.deletMoreOne(function(){e.isOver=!1,e.noClick.active=!1,i.inst.flyCard()})},t.prototype.reciveDelet3=function(){var e=this;this.deletMoreThree(function(){e.isOver=!1,e.noClick.active=!1})},t.prototype.playSeconedAni=function(){var e=this;this.tip_ndbs.active=!0,this.scheduleOnce(function(){e.tip_ndbs.active=!1},2)},t.inst=null,o([x(cc.Node)],t.prototype,"touch1",void 0),o([x(cc.Node)],t.prototype,"touch2",void 0),o([x(cc.Node)],t.prototype,"touch3",void 0),o([x(cc.Label)],t.prototype,"lab_score",void 0),o([x(cc.Label)],t.prototype,"lab_obs",void 0),o([x(cc.Label)],t.prototype,"lab_ice",void 0),o([x(cc.Sprite)],t.prototype,"spr_progress",void 0),o([x(cc.Label)],t.prototype,"lab_level",void 0),o([x(cc.Node)],t.prototype,"btn_delet",void 0),o([x(cc.Node)],t.prototype,"btn_touch",void 0),o([x(cc.Node)],t.prototype,"btn_change",void 0),o([x(cc.Node)],t.prototype,"propTip",void 0),o([x(cc.Node)],t.prototype,"prop_node_img",void 0),o([x(cc.Label)],t.prototype,"prop_lab_tittle",void 0),o([x(cc.Label)],t.prototype,"prop_lab_tip",void 0),o([x(cc.Node)],t.prototype,"prop_btn_close",void 0),o([x(cc.Node)],t.prototype,"firstTip",void 0),o([x(cc.Node)],t.prototype,"hand",void 0),o([x(cc.Node)],t.prototype,"flyTxt",void 0),o([x(c.default)],t.prototype,"addScoreAni",void 0),o([x(cc.Node)],t.prototype,"noClick",void 0),o([x(cc.Node)],t.prototype,"winNode",void 0),o([x(cc.Node)],t.prototype,"first1",void 0),o([x(cc.Node)],t.prototype,"first2",void 0),o([x(cc.Node)],t.prototype,"OnlyOneTip",void 0),o([x(cc.Node)],t.prototype,"btn_closeOne",void 0),o([x(cc.Node)],t.prototype,"tip_ndbs",void 0),o([x(cc.Node)],t.prototype,"topScore",void 0),o([x(cc.Node)],t.prototype,"topObs",void 0),o([x(cc.Node)],t.prototype,"topIce",void 0),o([x(cc.Prefab)],t.prototype,"cardNode",void 0),i=o([L],t)}(cc.Component);n.default=R,cc._RF.pop()},{}],MonenyNotEnough:[function(e,t){"use strict";cc._RF.push(t,"45008KA9zJDBpnpJ1BLHWpH","MonenyNotEnough");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("GameMgr"),c=i("FMMainScene"),a=cc._decorator,l=a.ccclass,u=a.property,d=(a.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isClick=!1,t.lab_title=null,t.lab_val=null,t}return r(t,e),t.prototype.start=function(){},t.prototype.onLoad=function(){if("undefined"!=typeof langManager)switch(langManager.langType){case"RU":this.lab_title.string="\u041d\u0430\u043c\u0435\u043a\u0430\u0442\u044c",this.lab_val.string="\u041a\u043e\u043d\u0444\u0435\u0442\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e!";break;case"TR":this.lab_title.string="\u0130pucu",this.lab_val.string="\u015eeker yeterli de\u011fil!";break;case"EN":default:this.lab_title.string="Tip",this.lab_val.string="Candy is not enough!"}},t.prototype.goToGame=function(){this.isClick||(this.isClick=!0,s.default.getInstance_csryw().onLoadToGameScene_csryw())},t.prototype.closeFun=function(){this.isClick||(this.isClick=!0,c.default.inst.isNotEnough=!1,this.node.destroy())},o([u(cc.Label)],t.prototype,"lab_title",void 0),o([u(cc.Label)],t.prototype,"lab_val",void 0),o([l],t)}(cc.Component));n.default=d,cc._RF.pop()},{}],MoneyTs:[function(e,t){"use strict";cc._RF.push(t,"4a410pyqZRK3ZIZzT4jVRj6","MoneyTs");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("EventEnum"),c=i("EventMgr"),a=i("Common5"),l=i("User"),u=cc._decorator,d=u.ccclass,h=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.val_lab=null,t.btn_add=null,t.isClick=!1,t}return r(t,e),t.prototype.onLoad=function(){this.val_lab=this.node.getChildByName("val_lab").getComponent(cc.Label),this.btn_add=this.node.getChildByName("btn_add"),this.btn_add&&a.default.btnRegister_csryw(this.btn_add,this.onClickBtnAdd.bind(this)),this.updateShow(),c.default.onEvent_csryw(s.ryw_Event.ryw_Game_OnUserMoneyChange_csryw,this.updateShow,this)},t.prototype.start=function(){},t.prototype.updateShow=function(){this.val_lab.string=a.default.getHS(l.default.getMoney_csryw(),!0)},t.prototype.onClickBtnAdd=function(){var e=this;this.isClick||(this.isClick=!0,a.default.getPrefabFromBundle("subRes","Prefabs/UI/GoldView",cc.find("Canvas"),function(){e.scheduleOnce(function(){e.isClick=!1},.3)}))},o([d],t)}(cc.Component));n.default=h,cc._RF.pop()},{}],NetConfig:[function(e,t){"use strict";cc._RF.push(t,"96e2fJpstFCTboG9kwVf8Op","NetConfig");var i=t.exports;Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(){}return e.getUserLogin_Active=function(e){return this.httpUrl_csryw+"/"+e+this.UserLogin_Active},e.getVideo_Active=function(e){return this.httpUrl_csryw+"/"+e+this.Video_Active},e.serverUrl_csryw="",e.Login_csryw="/api/user/login",e.SaveGameData_csryw="/api/user/game/data/write",e.GetUser_csryw="/api/user/game/data/read",e.IpBlock_csryw="/api/user/ip/select",e.reportExport_csryw="/api/share/getwaibuad",e.reportImport_csryw="/api/share/getzjadml",e.getuserip_csryw="/api/user/ip",e.signin_csryw="/api/user/sign",e.Get_ServerTime_csryw="/api/share/gettime",e.userScanCode_csryw="/api/user/scan/code",e.ttReportLaunchChannel_csryw="",e.httpUrl_csryw="",e.UserLogin_Active="bxwl/user/userLogin",e.Video_Active="bxwl/user/userPostTime",e.postTime="bxwl/different/Different_PostTime",e}();i.default=n,cc._RF.pop()},{}],OPPOAPI:[function(e,t){"use strict";cc._RF.push(t,"e171acnwxpKoIMn4Mkvf/JE","OPPOAPI");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0});var r=i("AppPlatform"),o=i("AppConfig"),s=i("HttpUnit"),c=i("AppSwitchConfig"),a=i("LogUtils"),l=function(){function e(){}return Object.defineProperty(e,"BannerInstance_csryw",{get:function(){return e._banner_csryw},enumerable:!1,configurable:!0}),e.Login_csryw=function(e){r.default.is_OPPO_GAME_csryw()&&window.qg.login({success:function(t){var i=t.data.token;for(var n in e(i),console.log("OPPO \u767b\u9646\u6210\u529f,\u83b7\u53d6\u5230 token : "+i),t)console.log(n,t[n])},fail:function(e){for(var t in console.log("OPPO \u767b\u9646\u5931\u8d25",e),e)console.log(t,e[t])}})},e.initAdService_csryw=function(e,t,i){window.qg.initAdService({appId:o.default.AppID_csryw,isDebug:!1,success:function(t){console.log("oppo initAdService success"),e&&e(t)},fail:function(e){console.log("oppo initAdService fail: ",e.code,e.msg),t&&t(e)},complete:function(e){console.log("oppo initAdService complete"),i&&i(e)}})},e.showRewardedVideoAd_csryw=function(e,t,i){if(r.default.is_OPPO_GAME_csryw()){var n=o.default.tt_adUnitId_csryw;i&&(n=i);var s=window.qg.createRewardedVideoAd({posId:n});s.onLoad(function(){console.log("oppo \u89c6\u9891\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"),s.show()}),s.onVideoStart(function(){console.log("oppo \u89c6\u9891\u5e7f\u544a\u5f00\u59cb\u64ad\u653e")}),s.onClose(function(t){t.isEnded?(console.log("oppo \u89c6\u9891\u5e7f\u544a\u89c2\u770b \u5b8c\u6210"),e(!0)):(console.log("oppo \u89c6\u9891\u5e7f\u544a\u89c2\u770b \u672a\u5b8c\u6210"),e(!1)),s.destroy()}),s.onError(function(e){console.log("oppo \u89c6\u9891\u5e7f\u544a\u83b7\u53d6\u5931\u8d25",e),s.destroy(),t()}),s.load()}else e(!0)},e.navigateToMiniProgram_csryw=function(e,t,i,n,c){if(r.default.is_OPPO_GAME_csryw()){console.log("OPPO \u8df3\u8f6c\u6e38\u620f\uff1a "+e),s.default.reportExport_csryw(e,t,function(e){1==e.code?console.log("OPPO \u5bfc\u51fa\u4e0a\u62a5\u6210\u529f"):console.log("OPPO \u5bfc\u51fa\u4e0a\u62a5\u5931\u8d25",e.msg)},function(e){for(var t in console.log("OPPO \u5bfc\u51fa\u4e0a\u62a5\u5931\u8d25"),e)console.log(t,e[t])});for(var a=Date.now();Date.now()-a<=500;);window.qg.navigateToMiniGame({pkgName:e,path:i,extraData:{from:o.default.AppID_csryw},envVersion:"release",success:function(e){n&&n(e)},fail:function(e){c&&c(e)}})}},e.showInterstitialAd_csryw=function(t,i){if(r.default.is_OPPO_GAME_csryw()){var n=window.qg.createInsertAd({posId:e.InsAdUnitId_csryw});n.load(),n.onLoad(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210"),n.show()}),n.onShow(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u6210\u529f")}),n.onError(function(e){console.log("\u63d2\u5c4f\u5e7f\u544a\u62c9\u53d6\u5931\u8d25",e),n.destroy(),i&&i()})}else t()},e.showBannaer_csryw=function(){if(e._banner_csryw)e._banner_csryw.show();else{var t=window.qg.createBannerAd({posId:e.bannerAdUnitId_csryw});t.show(),e._banner_csryw=t}},e.hideBanner_csryw=function(){e._banner_csryw&&e._banner_csryw.hide()},e.destroyBanner_csryw=function(){e._banner_csryw&&e._banner_csryw.destroy(),e._banner_csryw=null},e.getLaunchOptionsSync_csryw=function(){var e={query:"",referrerInfo:{package:"",extraData:{appid:""}}};if(r.default.is_OPPO_GAME_csryw()){var t=window.qg.getLaunchOptionsSync();return null!=t&&""!=t?e=t:console.log("\u6ca1\u6709\u542f\u52a8\u8bbe\u7f6e\uff01\uff01\uff01"),e}return e},e.share_csryw=function(e){e(!1)},e.createDesktopIcon_csryw=function(e,t){r.default.is_OPPO_GAME_csryw()?window.qg.hasShortcutInstalled({success:function(i){0==i?window.qg.installShortcut({success:function(){e&&e()},fail:function(e){for(var i in t&&t(),console.log("\u521b\u5efa\u684c\u9762\u56fe\u6807\u5931\u8d25\uff01\uff01\uff01\uff01",e),e)console.log(i,e)},complete:function(){}}):(console.log("\u684c\u9762\u56fe\u6807\u5df2\u5b58\u5728\uff01\uff01\uff01\uff01"),t&&t())},fail:function(e){for(var i in t&&t(),console.log("\u5224\u65ad\u684c\u9762\u56fe\u6807\u662f\u5426\u5b58\u5728\u5931\u8d25\uff01\uff01\uff01",e),e)console.log(i,e)},complete:function(){}}):t&&t()},e.autoPopCreateDestopIcon_csryw=function(t,i){r.default.is_OPPO_GAME_csryw()&&Math.floor(100*Math.random())<=c.default.getInstance_csryw().getAppSwitchData_csryw().oppocfg_csryw.addToDesktop_csryw?e.createDesktopIcon_csryw(t,i):null!=i&&i()},e.showNativeAd_csryw=function(){a.LogUtils.warn_csryw("111111111111111111111111")},e.LoadCahcedNativeAd_csryw=function(){},e.hasShortcutInstalled=function(e,t){window.qg.hasShortcutInstalled({success:function(t){0==t?(console.log("\u684c\u9762\u56fe\u6807\u4e0d\u5b58\u5728\uff01\uff01\uff01\uff01"),e&&e(!1)):(console.log("\u684c\u9762\u56fe\u6807\u5df2\u5b58\u5728\uff01\uff01\uff01\uff01"),e&&e(!0))},fail:function(e){for(var i in t&&t(),console.log("\u5224\u65ad\u684c\u9762\u56fe\u6807\u662f\u5426\u5b58\u5728\u5931\u8d25\uff01\uff01\uff01",e),e)console.log(i,e)},complete:function(){}})},e.adUnitId_csryw="",e.bannerAdUnitId_csryw="",e.InsAdUnitId_csryw="",e.OpenScreenAdUnitId_csryw="",e.NativeAdId_csryw="",e._banner_csryw=null,e._cachedNativeAd_csryw=null,e._cachedAdItem_csryw=null,e._cachedimgUrl_csryw=null,e._tryLoadCount_csryw=5,e}();n.default=l,cc._RF.pop()},{}],ObstacleUnlock:[function(e,t){"use strict";cc._RF.push(t,"83999GrXPhKZKomCsYWkcmZ","ObstacleUnlock");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("FMSkeletonExtend"),c=i("EventEnum"),a=i("EventMgr"),l=i("SoundMgr"),u=i("Common5"),d=i("MapCtrl"),h=cc._decorator,p=h.ccclass,y=(h.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.curObstacleNum=0,t.curGridName="",t.numNode=null,t}return r(t,e),t.prototype.onLoad=function(){a.default.onEvent_csryw(c.ryw_Event.updateGridDelet,this.socreUpdate,this),a.default.onEvent_csryw(c.ryw_Event.updateGridDelet2,this.socreUpdate2,this)},t.prototype.initScore=function(e,t){this.numNode=this.node.getChildByName("num"),this.curObstacleNum=e,this.curGridName=t,this.updateShow(!0)},t.prototype.updateShow=function(e){var t=this;switch(void 0===e&&(e=!1),this.curObstacleNum){case 0:var i=this.numNode.children[0];if(this.numNode.children[1].active=!1,this.numNode.children[2].active=!1,e)i.active=!1;else{var n=i.getComponent(s.default);this.scheduleOnce(function(){n.setAnimation(0,"play",!1),l.default.playSoundFromBundle("resources",l.MusicName.\u5272\u5f00\u7ef3\u5b50),n.setCompleteListener(function(){var e=d.default.inst.obstacleGridArr.indexOf(t.curGridName);d.default.inst.obstacleGridArr.splice(e,1),d.default.inst.obstacleGridNum.splice(e,1),d.default.inst.curObs++,d.default.inst.flyObs(d.default.inst.node.getChildByName(t.curGridName),function(){d.default.inst.updateShowObs()}),i.active=!1,t.node.destroy(),l.default.playSoundFromBundle("resources",l.MusicName.\u89e3\u9501\u65b0\u5730\u5757)})},.5)}break;case 1:console.log("ly+++++++++",this.curGridName,this.curObstacleNum),this.numNode.children[0].active=!0;var r=this.numNode.children[1];if(this.numNode.children[2].active=!1,e)r.active=!1;else{var o=r.getComponent(s.default);this.scheduleOnce(function(){l.default.playSoundFromBundle("resources",l.MusicName.\u5272\u5f00\u7ef3\u5b50),o.setAnimation(0,"play",!1),o.setCompleteListener(function(){r.active=!1})},.5)}break;case 2:this.numNode.children[0].active=!0,this.numNode.children[1].active=!0;var c=this.numNode.children[2];if(e)c.active=!1;else{var a=c.getComponent(s.default);this.scheduleOnce(function(){a.setAnimation(0,"play",!1),l.default.playSoundFromBundle("resources",l.MusicName.\u5272\u5f00\u7ef3\u5b50),a.setCompleteListener(function(){c.active=!1})},.5)}break;case 3:this.numNode.children[0].active=!0,this.numNode.children[1].active=!0,this.numNode.children[2].active=!0}},t.prototype.socreUpdate=function(e){if(u.default.isNeighbor(e,this.curGridName)){this.curObstacleNum--;var t=d.default.inst.obstacleGridArr.indexOf(this.curGridName);d.default.inst.obstacleGridNum[t]=this.curObstacleNum,this.updateShow()}},t.prototype.socreUpdate2=function(e){if(e==this.curGridName){this.curObstacleNum--;var t=d.default.inst.obstacleGridArr.indexOf(this.curGridName);d.default.inst.obstacleGridNum[t]=this.curObstacleNum,this.updateShow()}},o([p],t)}(cc.Component));n.default=y,cc._RF.pop()},{}],PageBaseUI:[function(e,t){"use strict";cc._RF.push(t,"18f305CDHpMYaeN8HqywE2A","PageBaseUI");var i,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0}),n.PageDirection=void 0;var s=cc._decorator,c=s.ccclass,a=s.property;(function(e){e[e.none=0]="none",e[e.up=1]="up",e[e.down=2]="down",e[e.left=3]="left",e[e.right=4]="right"})(i=n.PageDirection||(n.PageDirection={}));var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dir=i.up,t.page=null,t.openPosition=cc.Vec2.ZERO,t.closedPosition=cc.Vec2.ZERO,t.animationDuration=.3,t.isOpen=!1,t.isClick=!1,t}return r(t,e),t.prototype.onLoad=function(){this.page.opacity=0;var e=cc.winSize;switch(this.dir){case i.up:this.closedPosition.y+=e.height/2;break;case i.down:this.closedPosition.y-=e.height/2;break;case i.left:this.closedPosition.x-=e.width/2;break;case i.right:this.closedPosition.x+=e.width/2}this.page.setPosition(this.closedPosition)},t.prototype.start=function(){},t.prototype.togglePage=function(e){this.isOpen?this.closePage(e):this.openPage(e)},t.prototype.openPage=function(e){this.page.opacity=255,cc.tween(this.page).to(this.animationDuration,{position:cc.v3(this.openPosition)},{easing:"sineOut"}).call(function(){e&&e()}).start(),this.isOpen=!0},t.prototype.closePage=function(e){cc.tween(this.page).to(this.animationDuration,{position:cc.v3(this.closedPosition)},{easing:"sineIn"}).call(function(){e&&e()}).start(),this.isOpen=!1},t.prototype.destroyFunc=function(){this.node.destroy()},t.prototype.closeFunc=function(e){var t=this;void 0===e&&(e=!0),this.isClick||(this.isClick=!0,e?this.togglePage(function(){t.destroyFunc()}):this.destroyFunc())},o([a({type:cc.Enum(i),tooltip:"\u8fdb\u5165\u65b9\u5411:\n up \u4ece\u4e0a\u8fdb\u5165\n down \u4ece\u4e0b\u8fdb\u5165 \n left \u4ece\u5de6\u8fdb\u5165 \n right \u4ece\u53f3\u8fdb\u5165"})],t.prototype,"dir",void 0),o([a(cc.Node)],t.prototype,"page",void 0),o([a(cc.Vec2)],t.prototype,"openPosition",void 0),o([a(cc.Vec2)],t.prototype,"closedPosition",void 0),o([a(cc.Float)],t.prototype,"animationDuration",void 0),o([c],t)}(cc.Component);n.default=l,cc._RF.pop()},{}],PhysicalPowerMgr:[function(e,t){"use strict";cc._RF.push(t,"8f51fOT21dGNJWVLl8YDg8c","PhysicalPowerMgr");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0});var r=i("EventEnum"),o=i("EventMgr"),s=i("Common5"),c=i("DialogMgr"),a=i("GameMgr"),l=function(){function e(){}return e.initData=function(t){var i=this;e.MaxPhysical=s.default.maxPower,this.physicalNum=this.verify(t.physicalNum,0),this.physicalTime=this.verify(t.physicalTime,0),this.physicalAllNum=this.verify(t.physicalAllNum,0),this.physicalAllTime=this.verify(t.physicalAllTime,0),this.interval&&(clearInterval(this.interval),this.interval=null),this.interval=setInterval(function(){i.updatePhysicalTime()},1e3),this.updatePhysicalTime()},e.getData=function(){return{physicalNum:this.physicalNum,physicalTime:this.physicalTime,physicalAllNum:this.physicalAllNum,physicalAllTime:this.physicalAllTime}},e.isCanUserPhysical=function(e){void 0===e&&(e=1);var t=!1;return this.getPhysicalNum()-e<0?t=!1:(this.getPhyVideoTime()<=0&&this.setPhyVideoTime(this.getNowTime()),this.setPhysicalNum(this.getPhysicalNum()-e),a.default.getInstance_csryw().saveGameData_csryw(),this.updatePhysicalTime(),t=!0),t},e.openAddPowerDialog=function(e,t){var i=this;void 0===t&&(t=!0),c.default.openAddPowerAllDialog(handleFM_csryw(function(n,r){n&&(r?callFM_csryw(e,!0):t?c.default.openAddPowerDialog(handleFM_csryw(function(t,i){t&&i?callFM_csryw(e,!0):callFM_csryw(e,!1)},i)):callFM_csryw(e,!1))},this))},e.getPhysicalNum=function(){return this.physicalNum},e.setPhysicalNum=function(e){this.physicalNum=e,this.updatePhysicalTime()},e.getPhyVideoAllNum=function(){return this.physicalAllNum},e.setPhyVideoAllNum=function(e){this.physicalAllNum=e},e.getPhyVideoAllTime=function(){return this.physicalAllTime},e.setPhyVideoAllTime=function(e){this.physicalAllTime=e},e.getPhyVideoTime=function(){return this.physicalTime},e.setPhyVideoTime=function(e){this.physicalTime=e},e.updatePhysicalTime=function(){var e=!1;if(this.getPhyVideoAllTime()>0)(t=this.getPhyVideoAllTime())-(i=(new Date).getTime())<=0&&(this.setPhyVideoAllTime(0),this.setPhysicalNum(this.MaxPhysical),this.setPhyVideoTime(0),a.default.getInstance_csryw().saveGameData_csryw(),e=!0);else if(this.getPhysicalNum()<this.MaxPhysical){var t=this.getPhyVideoTime(),i=(new Date).getTime(),n=1e3*this.RecoverPhysicalTime;if(i-t>=n){t+=n,this.setPhyVideoTime(t);var s=this.getPhysicalNum()+1;s>=this.MaxPhysical&&(s=this.MaxPhysical,this.setPhyVideoTime(0)),this.setPhysicalNum(s),a.default.getInstance_csryw().saveGameData_csryw(),e=!0}}else this.setPhyVideoTime(0);o.default.emitEvent_csryw(r.ryw_Event.updatePhysicalPower),e&&this.updatePhysicalTime()},e.addNewPhysicalAll=function(){var e=this.getNowTime()+864e5;this.getPhyVideoAllTime()>0&&(e=this.getPhyVideoAllTime()+864e5),this.setPhyVideoAllTime(e),a.default.getInstance_csryw().saveGameData_csryw(),this.updatePhysicalTime()},e.getNowTime=function(){return(new Date).getTime()},e.verify=function(e,t){return void 0!==e?e:t},e.formatTime3=function(e){var t="",i=e/60,n=e-60*(i=parseInt(i+""));return(t+=i>9?i+":":"0"+i+":")+((n=parseInt(n+""))>9?n:"0"+n)},e.formatTime=function(e){var t="",i=e/3600,n=(e-3600*(i=parseInt(i+"")))/60,r=e-3600*i-60*(n=parseInt(n+""));return i>0&&(t+=i+":"),(t+=n>9?n+":":"0"+n+":")+((r=parseInt(r+""))>9?r+"":"0"+r)},e.RecoverPhysicalTime=300,e.MaxPhysical=100,e.physicalNum=0,e.physicalTime=0,e.physicalAllNum=0,e.physicalAllTime=0,e.interval=null,e}();n.default=l,cc._RF.pop()},{}],PowerNode:[function(e,t){"use strict";cc._RF.push(t,"3dbe5epM8JNWZ1v3YZdRVhi","PowerNode");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("FMComponentExtend"),c=i("EventEnum"),a=i("EventMgr"),l=i("PhysicalPowerMgr"),u=i("Common5"),d=cc._decorator,h=d.ccclass,p=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EventEnumView_csryw={},t.labelPower=null,t.labelPowerTime=null,t.timeTag=null,t.labelPowerAll=null,t}return r(t,e),t.prototype.initView_csryw=function(){var e=this,t=this.node.getChildByName("bgNode"),i=t.getChildByName("btn_add");this.onClick(i,function(){u.default.getPrefabFromBundle("subRes","Prefabs/UI/BloodView",cc.find("Canvas"),function(){})},this),this.labelPower=this.child(t,"labelPower",cc.Label),this.labelPowerTime=this.child(t,"labelPowerTime",cc.Label),this.labelPowerAll=this.child(t,"labelPowerAll",cc.Label),this.timeTag=this.labelPowerTime.node.getChildByName("timeTag"),this.labelPower.node.active=!0,this.labelPowerTime.node.active=!0,this.labelPowerAll.node.active=!0,a.default.onEvent_csryw(c.ryw_Event.updatePhysicalPower,function(){e.updatePhysicalPower()},this),this.updatePhysicalPower()},t.prototype.updatePhysicalPower=function(){if(l.default.getPhyVideoAllTime()>0){this.labelPowerTime.string="",this.labelPower.string="";var e=(t=l.default.getPhyVideoAllTime())-(i=(new Date).getTime());this.labelPowerAll.string=l.default.formatTime(e/1e3)}else if(this.labelPowerAll.string="",this.labelPower.string=l.default.getPhysicalNum()+"/"+l.default.MaxPhysical,l.default.getPhysicalNum()<l.default.MaxPhysical){var t=l.default.getPhyVideoTime(),i=(new Date).getTime();(e=1e3*l.default.RecoverPhysicalTime-(i-t))>0?(this.timeTag.opacity=255,this.labelPowerTime.string=l.default.formatTime3(e/1e3)):(this.labelPowerTime.string="",this.timeTag.opacity=0)}else this.labelPower.string=l.default.getPhysicalNum()+"/"+l.default.MaxPhysical,this.labelPowerTime.string="",this.timeTag.opacity=0},o([h],t)}(s.default));n.default=p,cc._RF.pop()},{}],QQMiniGameAPI:[function(e,t){"use strict";cc._RF.push(t,"d621cKEqIRF+qeAD5jRxzQ2","QQMiniGameAPI");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0});var r=i("AppPlatform"),o=i("AppConfig"),s=i("AppSwitchConfig"),c=i("WudianMgr"),a=function(){function e(){}return e.Login_csryw=function(e){r.default.is_QQ_PLAY_csryw()&&window.qq.login({success:function(t){if(t.code){var i=t.code;e(i),console.log("\u767b\u9646\u6210\u529f,\u83b7\u53d6\u5230code : "+i)}}})},e.onRewardedVideoAdLoad_csryw=function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210")},e.onRewardedVideoAdError_csryw=function(t){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"+t),e._onRewardedVideoAdFailed_csryw&&e._onRewardedVideoAdFailed_csryw()},e.onRewardedVideoAdClose_csryw=function(t){t&&t.isEnded||null==t?(console.log("\u6fc0\u52b1\u89c6\u9891 \u5df2\u5b8c\u6574\u89c2\u770b"),e._onRewardedVideoAdClose_csryw&&e._onRewardedVideoAdClose_csryw(!0)):(console.log("\u6fc0\u52b1\u89c6\u9891 \u672a\u5b8c\u6574\u89c2\u770b"),e._onRewardedVideoAdClose_csryw&&e._onRewardedVideoAdClose_csryw(!1))},e.regRewardedVideoAdEvent_csryw=function(t){t.onLoad(e.onRewardedVideoAdLoad_csryw),t.onError(e.onRewardedVideoAdError_csryw),t.onClose(e.onRewardedVideoAdClose_csryw),e._isRegRewardedVideoAdEvent_csryw=!0},e.showRewardedVideoAd_csryw=function(t,i){if(r.default.is_QQ_PLAY_csryw()){e._onRewardedVideoAdClose_csryw=t,e._onRewardedVideoAdFailed_csryw=i;var n=window.qq.createRewardedVideoAd({adUnitId:o.default.qq_adUnitId_csryw});e._isRegRewardedVideoAdEvent_csryw||e.regRewardedVideoAdEvent_csryw(n),n.load().then(function(){var e=n.show();e.then(function(){return console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u6210\u529f")}),e.catch(function(){n.load().then(function(){return n.show()}).catch(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25"),i&&i()})})}).catch(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"),i&&i()})}else t(!0)},e.navigateToMiniProgram_csryw=function(e,t,i,n,o){r.default.is_QQ_PLAY_csryw()&&(console.log("\u8df3\u8f6c\u6e38\u620f\uff1a "+e),window.qq.navigateToMiniProgram({appId:e,path:t,extraData:{foo:"bar"},envVersion:"release",success:function(e){i&&i(e)},fail:function(e){n&&n(e)},complete:function(e){o&&o(e)}}))},e.share_csryw=function(t,i,n){var o=this;r.default.is_QQ_PLAY_csryw()&&(e._onShow_csryw=function(){window.qq.offShow(e._onShow_csryw),e._onShow_csryw=null,Date.now(),o._lastShareTime_csryw,t&&(Date.now()-o._lastShareTime_csryw>2e3?t(!0):t(!1))},window.qq.onShow(e._onShow_csryw),e._lastShareTime_csryw=Date.now(),window.qq.shareAppMessage({title:i,imageUrl:n}))},e.showInterstitialAd_csryw=function(e,t){if(r.default.is_QQ_PLAY_csryw()){var i=window.qq.createInterstitialAd({adUnitId:o.default.qq_InsAdUnitId_csryw}),n=function e(){console.log("\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u5b8c\u6210"),i.show().catch(function(n){console.log("\u63d2\u5c4f\u5e7f\u544a \u663e\u793a\u5931\u8d25 \uff1a"+n),i.offLoad(e),i.offError(s),i.offClose(c),i.destroy(),t&&t()})};i.onLoad(n);var s=function e(r){console.log("\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u5931\u8d25"+r),i.offLoad(n),i.offError(e),i.offClose(c),i.destroy(),t&&t()};i.onError(s);var c=function t(){console.log("\u63d2\u5c4f\u5e7f\u544a \u5173\u95ed"),i.offLoad(n),i.offError(s),i.offClose(t),i.destroy(),e&&e()};i.onClose(c)}else e()},e.LoadAppBoxAd_csryw=function(e,t){r.default.is_QQ_PLAY_csryw()?(this.mAppboxAd_csryw=window.qq.createAppBox({adUnitId:o.default.qq_AppBoxId_csryw}),this.mAppboxAd_csryw.load().then(function(){console.log("\u76d2\u5b50\u5e7f\u544a \u52a0\u8f7d\u5b8c\u6210")}),this.mAppboxAd_csryw.onError(function(e){console.log("\u76d2\u5b50\u5e7f\u544a \u52a0\u8f7d\u5931\u8d25"+e),t&&(t(),t=null)}),this.onBoxAdClose_csryw=function(){console.log("\u76d2\u5b50\u5e7f\u544a \u5173\u95ed"),e&&(e(),e=null)},this.mAppboxAd_csryw.onClose(this.onBoxAdClose_csryw)):e&&(e(),e=null)},e.showAppBoxAd_csryw=function(t,i){r.default.is_QQ_PLAY_csryw()&&(e.mAppboxAd_csryw?(console.log("\u663e\u793a\u76d2\u5b50\u5e7f\u544a"),e.mAppboxAd_csryw.offClose(e.onBoxAdClose_csryw),e.onBoxAdClose_csryw=function(){console.log("\u76d2\u5b50\u5e7f\u544a \u5173\u95ed"),i&&(i(),i=null)},e.mAppboxAd_csryw.onClose(e.onBoxAdClose_csryw),e.mAppboxAd_csryw.show().catch(function(e){console.log("\u76d2\u5b50\u5e7f\u544a \u663e\u793a\u5931\u8d25 \uff1a"+e),t&&(t(),t=null)})):e.LoadAppBoxAd_csryw(i,t))},e.getLaunchOptionsSync_csryw=function(){if(r.default.is_QQ_PLAY_csryw()){var e=window.qq.getLaunchOptionsSync();console.log("\u573a\u666f\u503c "+e.scene);var t=JSON.stringify(e.query);console.log("Query\u53c2\u6570 "+t);var i=e.query.key;return console.log("Query\u53c2\u6570\uff1akey "+i),console.log("ShareTicket "+e.shareTicket),console.log("ReferrerInfo.appId "+e.referrerInfo.appId),console.log("ReferrerInfo.extraData "+e.referrerInfo.extraData),e}return{scene:1001,query:"",shareTicket:"",appId:"",extraData:""}},e.SetShareMenu_csryw=function(e,t,i,n,o){r.default.is_QQ_PLAY_csryw()&&(console.log("\u5c0f\u6e38\u620f\u8bbe\u7f6e\u8f6c\u53d1\u6309\u94ae"),window.qq.showShareMenu({withShareTicket:!1,success:i,fail:n,complete:o}),window.qq.onShareAppMessage(function(){return{title:e,imageUrl:t}}))},e.tryShowWXCrazyClick_csryw=function(){for(var t=e.getLaunchOptionsSync_csryw().scene,i=!0,n=s.default.getInstance_csryw().getAppSwitchData_csryw().wudianSceneList_csryw,r=0;r<n.length;++r)t==n[r]&&(i=!1);var a=c.default.ryw_GetIpBlocked_csryw(),l=s.default.getInstance_csryw().getAppSwitchData_csryw().wudian_csryw,u=s.default.getInstance_csryw().getAppSwitchData_csryw().qqcfg_csryw.kuangdianBanner_csryw;return!(o.default.Versions_csryw!=s.default.getInstance_csryw().getAppSwitchData_csryw().qqcfg_csryw.qqversions_csryw||!a||!i||1!=l||1!=u)},e.tryShowWXCrazyClick2_csryw=function(){for(var t=e.getLaunchOptionsSync_csryw().scene,i=!0,n=s.default.getInstance_csryw().getAppSwitchData_csryw().wudianSceneList_csryw,r=0;r<n.length;++r)t==n[r]&&(i=!1);var a=c.default.ryw_GetIpBlocked_csryw(),l=s.default.getInstance_csryw().getAppSwitchData_csryw().wudian_csryw,u=s.default.getInstance_csryw().getAppSwitchData_csryw().qqcfg_csryw.kuangdianBox_csryw;return!(o.default.Versions_csryw!=s.default.getInstance_csryw().getAppSwitchData_csryw().qqcfg_csryw.qqversions_csryw||!a||!i||1!=l||1!=u)},e.showAppBlockAd_csryw=function(t,i,n){if(void 0===i&&(i=150),void 0===n&&(n="landscape"),r.default.is_QQ_PLAY_csryw()&&window.qq.createBlockAd&&!e.isAppBlockAdLoading_csryw){if(e.isAppBlockAdLoading_csryw=!0,isNaN(e.screenWidth_csryw))try{var s=window.qq.getSystemInfoSync();e.screenWidth_csryw=s.windowWidth,e.screenHeight_csryw=s.windowHeight,e.pixelRatio_csryw=s.pixelRatio,e.isIos_csryw="ios"==s.platform,e.skdVersion_csryw=s.SDKVersion,e.screenWidth_csryw*=e.isIos_csryw?1:e.pixelRatio_csryw,e.screenHeight_csryw*=e.isIos_csryw?1:e.pixelRatio_csryw,console.log("getSystemInfoSync ==> ",s.SDKVersion)}catch(y){return void(t&&t())}for(var c=e.skdVersion_csryw.split(".").map(function(e){return parseInt(e)}),a=e.supportSDKVersion_csryw.split(".").map(function(e){return parseInt(e)}),l=!0,u=0;u<c.length;u++)if(c[u]<a[u]){l=!1;break}if(l){console.log("QQMiniGameAPI.showAppBlockAd ",i),e.destroyAppBlockAd_csryw(),e.onFail=t;var d=e.isIos_csryw?32/e.pixelRatio_csryw:32,h=Math.max(d,i/(e.isIos_csryw?e.pixelRatio_csryw:1)),p=e.screenWidth_csryw;p=d,e.mAppBlockAd_csryw=window.qq.createBlockAd({adUnitId:o.default.qq_blockAdArray_csryw[Math.floor(Math.random()*o.default.qq_blockAdArray_csryw.length)],style:{left:p,top:h},size:e.AppBlockSize_csryw,orientation:n}),e.mAppBlockAd_csryw.onError(e.appBlockADError_csryw),e.mAppBlockAd_csryw.show().catch(function(e){console.log("\u79ef\u6728\u5e7f\u544a \u663e\u793a\u5931\u8d25 \uff1a"+JSON.stringify(e)),t&&t()}),e.isAppBlockAdLoading_csryw=!1}}},e.appBlockADResize_csryw=function(t){if(e.mAppBlockAd_csryw.style){var i=t.width,n=(t.height,(e.screenWidth_csryw-i)/2);e.mAppBlockAd_csryw.style.left=n}},e.appBlockADError_csryw=function(t){console.log("\u79ef\u6728\u5e7f\u544a  \u52a0\u8f7d\u5931\u8d25 ",JSON.stringify(t)),e.onFail&&e.onFail()},e.destroyAppBlockAd_csryw=function(){r.default.is_QQ_PLAY_csryw()&&e.mAppBlockAd_csryw&&(console.log("QQMiniGameAPI.destroyAppBlockAd"),e.mAppBlockAd_csryw.offResize(e.appBlockADResize_csryw),e.mAppBlockAd_csryw.offError(e.appBlockADError_csryw),e.mAppBlockAd_csryw.hide(),e.mAppBlockAd_csryw.destroy(),e.mAppBlockAd_csryw=null)},e.AppBlockStyle_csryw={left:120,top:200},e.AppBlockSize_csryw=5,e.AppBlockOrientation_csryw="landscape",e._isRegRewardedVideoAdEvent_csryw=!1,e._onRewardedVideoAdFailed_csryw=null,e._onRewardedVideoAdClose_csryw=null,e._onShow_csryw=null,e._lastShareTime_csryw=0,e.mAppboxAd_csryw=null,e.onBoxAdClose_csryw=null,e.mAppBlockAd_csryw=null,e.screenWidth_csryw=NaN,e.isAppBlockAdLoading_csryw=!1,e.supportSDKVersion_csryw="1.15.0",e}();n.default=a,cc._RF.pop()},{}],RYAD:[function(e,t){"use strict";cc._RF.push(t,"03b26de3y9CwKBkYtLxD4rO","RYAD");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0});var r=i("RYSDK"),o=function(){function e(){}return e.prototype.getAD_csryw=function(t,i,n){n=null==n||n;var o={adv_key:t,success:function(t){if(console.log("\u83b7\u53d6\u5230\u5e7f\u544a\u6570\u636e RYAD:",t),200==t.code){var r=t.result.list;null==r&&console.error("\u83b7\u53d6\u5230\u5e7f\u544a\u6570\u636e  \u4e3aNULL"),1==n&&e.sortDatas_csryw(r),i(r)}else console.error("\u83b7\u53d6\u5230\u5e7f\u544a\u6570\u636e  \u4e3aNULL"),i(null)},fail:function(){i(null)},complete:function(){}};null!=r.default.Instance_csryw.rysdk_csryw?r.default.Instance_csryw.rysdk_csryw.ry_GetAdv(o):i(null)},e.sortDatas_csryw=function(e){if(null==e||0==e.length)return[];for(var t={},i=new Array,n=0;n<e.length;++n)null==t[(l=e[n]).appid]?(t[l.appid]=new Array,t[l.appid].push(l),i.push(l.appid)):t[l.appid].push(l);for(n=0;n<i.length;++n){var r=i[n],o=i[a=Math.floor(Math.random()*i.length)];i[a]=r,i[n]=o}for(n=0;n<i.length;++n)for(var s=t[r=i[n]],c=0;c<s.length;++c){var a,l=s[c];o=s[a=Math.floor(Math.random()*s.length)],s[a]=l,s[c]=o}for(var u=new Array;i.length>0;)if(1==i.length){var d=!1;for(s=t[r=i[0]],n=0;n<u.length;++n){var h=u[n],p=u[n+1];if(null!=p){if(h.appid!=r&&p.appid!=r){if(null!=(l=s.shift())){var y=u.slice(0,n+1),f=u.slice(n+1,u.length);(u=y).push(l);for(var _=0;_<f.length;++_)u.push(f[_])}d=!0;break}}else if(h.appid!=r){if(null!=(l=s.shift()))for(y=u.slice(0,n+1),f=u.slice(n+1,u.length),(u=y).push(l),_=0;_<f.length;++_)u.push(f[_]);d=!0;break}}(!d||s.length<=0)&&i.splice(0,1)}else for(n=0;n<i.length;++n)l=(s=t[r=i[n]]).shift(),u.push(l),s.length<=0&&(i.splice(n,1),--n);return u},e}();n.default=o,cc._RF.pop()},{}],RYPlatformMgr:[function(e,t){"use strict";cc._RF.push(t,"a0d33tVObpCvoiBV5k15So1","RYPlatformMgr");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0});var r=i("AppConfig"),o=i("HttpUnit"),s=i("RYAD"),c=i("RYSDK"),a=i("LogUtils"),l=function(){function e(){}return e.sendClickAd_csryw=function(e){r.default.UseRYSDK_csryw&&(a.LogUtils.info_csryw("\u8fd0\u8425\u4e0a\u62a5\uff1a\u70b9\u51fb\u5e7f\u544a"+e),c.default.Instance_csryw.STAT_csryw.reportClickAd_csryw(e))},e.sendClickAdAllow_csryw=function(e){r.default.UseRYSDK_csryw&&(a.LogUtils.info_csryw("\u8fd0\u8425\u4e0a\u62a5\uff1a\u70b9\u51fb\u5e7f\u544a\u6210\u529f "+e),c.default.Instance_csryw.STAT_csryw.reportClickAdAllow_csryw(e))},e.getAD_csryw=function(e,t,i){return!!r.default.UseRYSDK_csryw&&(c.default.Instance_csryw.AD_csryw.getAD_csryw(e,t,i),!0)},e.getADList_csryw=function(e,t,i){this.getRYWADVData_csryw(e,function(e){if(e.result&&e.result.list){var n=e.result.list;1==i&&s.default.sortDatas_csryw(n),t(n)}else a.LogUtils.networkError_csryw("\u83b7\u53d6\u5230\u5e7f\u544a\u6570\u636e  \u4e3aNULL"),t(null)},function(){a.LogUtils.networkError_csryw("\u83b7\u53d6\u5230\u5e7f\u544a\u6570\u636e  \u4e3aNULL"),t(null)})},e.getRYWADVData_csryw=function(e,t,i){var n,r=Date.now(),s=new o.requestData;s.url_csryw=this.urlRYWAdv_csryw,s.data_csryw.timelog=r,s.data_csryw.key=e,s.onSuccess_csryw=t,s.onFail_csryw=i;for(var c=s.onFail_csryw,l="",u=0,d=Object.keys(s.data_csryw);u<d.length;u++){var h=d[u];l+=h+"="+s.data_csryw[h]+"&"}n=l,o.default.sendHttpUrl_csryw(s,n,function(e){a.LogUtils.networkLog_csryw(e,"http Success"),s.onSuccess_csryw&&s.onSuccess_csryw(e),s.onSuccess_csryw=null,s=null},function(e){a.LogUtils.networkLog_csryw(e,"http fail"),c&&c(e),s&&(s.onFail_csryw=null),c=null,s=null},{"Content-Type":"application/x-www-form-urlencoded",au:"renyou"})},e.urlRYWAdv_csryw="",e}();n.default=l,cc._RF.pop()},{}],RYSDK:[function(e,t){"use strict";cc._RF.push(t,"96027gZ9+1CLIR6i5jgelrB","RYSDK");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0});var r=i("RYAD"),o=i("RYSTAT"),s=function(){function e(){this._ad_csryw=null,this._stat_csryw=null,this._rysdk_csryw=null}return Object.defineProperty(e,"Instance_csryw",{get:function(){return null==e._instance_csryw&&console.error("\u8bf7\u5148\u8c03\u7528 RYSDK.init() \u5bf9RYSDK\u8fdb\u884c\u521d\u59cb\u5316\uff01\uff01\uff01\uff01\uff01\uff01"),e._instance_csryw},enumerable:!1,configurable:!0}),e.init_csryw=function(){if(null==e._instance_csryw){console.log("\u521d\u59cb\u5316 RYSDK \uff01\uff01\uff01\uff01\uff01\uff01");var t=new e;t._ad_csryw=new r.default,t._stat_csryw=new o.default,e._instance_csryw=t,null!=window.rysdk&&(window.rysdk.ry_init(),e._instance_csryw._rysdk_csryw=window.rysdk,e.Instance_csryw.STAT_csryw.reportInit_csryw(),e.Instance_csryw.STAT_csryw.reportLogin_csryw())}else console.error("\u8bf7\u4e0d\u8981\u91cd\u590d\u521d\u59cb\u5316 RYSDK \uff01\uff01\uff01\uff01\uff01\uff01")},Object.defineProperty(e.prototype,"AD_csryw",{get:function(){return this._ad_csryw},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"STAT_csryw",{get:function(){return this._stat_csryw},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rysdk_csryw",{get:function(){return this._rysdk_csryw},enumerable:!1,configurable:!0}),e._instance_csryw=null,e}();n.default=s,cc._RF.pop()},{}],RYSTAT:[function(e,t){"use strict";cc._RF.push(t,"236c6WMFXJLnZZDWycGws3k","RYSTAT");var i,n=e,r=t.exports;Object.defineProperty(r,"__esModule",{value:!0}),r.RYSTAT_Event=void 0;var o=n("RYSDK"),s=n("TimerUtils");(function(e){e.RYSTAT_E_INIT_csryw="init",e.RYSTAT_E_LOGIN_csryw="login",e.RYSTAT_E_ENTRY_SOURCE_csryw="entrysource",e.RYSTAT_E_CLICK_AD_csryw="clickad",e.RYSTAT_E_CLICK_ALLOW_csryw="clickad"})(i=r.RYSTAT_Event||(r.RYSTAT_Event={}));var c=function(){function e(){}return e.prototype.SendEvent_csryw=function(e,t,i,n){null!=o.default.Instance_csryw.rysdk_csryw&&null!=o.default.Instance_csryw.rysdk_csryw.ry_SendEvent&&o.default.Instance_csryw.rysdk_csryw.ry_SendEvent(e,t,null,i,n)},e.prototype.reportInitFail_csryw=function(){null!=o.default.Instance_csryw.rysdk_csryw&&null!=o.default.Instance_csryw.rysdk_csryw.ry_ReportFail&&o.default.Instance_csryw.rysdk_csryw.ry_ReportFail()},e.prototype.reportInit_csryw=function(){var e=this,t=0,n=function(){console.log("init \u4e0a\u62a5\u6210\u529f!!")};this.SendEvent_csryw(i.RYSTAT_E_INIT_csryw,null,n,function r(){console.log("init \u4e0a\u62a5\u5931\u8d25!!"),t>=10?(console.log("init \u4e0a\u62a5\u91cd\u8bd5\u6b21\u6570\u8d85\u8fc7 10\u6b21\uff0c\u653e\u5f03\u4e0a\u62a5"),e.reportInitFail_csryw()):(++t,s.TimerUtils.once_csryw(function(){e.SendEvent_csryw(i.RYSTAT_E_INIT_csryw,null,n,r),console.log("init \u7b2c "+t+" \u6b21\u91cd\u65b0\u4e0a\u62a5")},5))})},e.prototype.reportLogin_csryw=function(){this.SendEvent_csryw(i.RYSTAT_E_LOGIN_csryw)},e.prototype.reportEntrySource_csryw=function(){this.SendEvent_csryw(i.RYSTAT_E_ENTRY_SOURCE_csryw)},e.prototype.reportClickAd_csryw=function(e){this.SendEvent_csryw(i.RYSTAT_E_CLICK_AD_csryw,{adv_id:e,timelog:Date.now(),type:0})},e.prototype.reportClickAdAllow_csryw=function(e){this.SendEvent_csryw(i.RYSTAT_E_CLICK_ALLOW_csryw,{adv_id:e,timelog:Date.now(),type:1})},e}();r.default=c,cc._RF.pop()},{}],ReciveView:[function(e,t){"use strict";cc._RF.push(t,"0d442usU0pK3Id6Ry63273d","ReciveView");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("TTAPI"),c=i("GameMgr"),a=i("User"),l=i("Common5"),u=i("MapCtrl"),d=i("PageBaseUI"),h=cc._decorator,p=h.ccclass,y=h.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_left=null,t.btn_right=null,t.topScore=null,t.topObs=null,t.topIce=null,t.lab_obs=null,t.lab_ice=null,t.lab_score=null,t.lab_val=null,t.lab_title=null,t.spr_progress=null,t.callBackFunc=null,t}return r(t,e),t.prototype.onLoad=function(){var t=this;if(e.prototype.onLoad.call(this),a.default.setMapData_csryw(null),c.default.getInstance_csryw().saveGameData_csryw(),this.togglePage(function(){l.default.btnRegister_csryw(t.btn_left,t.onclickBtnLeft.bind(t)),l.default.btnRegister_csryw(t.btn_right,t.onclickBtnRight.bind(t))}),this.updateShowScore(),this.updateShowObs(),this.updateShowIce(),"undefined"!=typeof langManager)switch(langManager.langType){case"RU":this.lab_title.string="\u0432\u043e\u0437\u0440\u043e\u0436\u0434\u0435\u043d\u0438\u0435",this.lab_val.string="\u0423\u0434\u0430\u043b\u0438\u0442\u044c 3 \u0433\u0440\u0443\u043f\u043f\u044b \u0431\u043b\u043e\u043a\u043e\u0432";break;case"TR":this.lab_title.string="dirili\u015f",this.lab_val.string="3 grup blo\u011fu sil";break;case"EN":default:this.lab_title.string="Relife",this.lab_val.string="Delete 3 groups of blocks"}},t.prototype.start=function(){},t.prototype.onclickBtnLeft=function(){this.isClick||(this.isClick=!0,this.isClick=!1,this.closeFunc(!1),this.callBackFunc&&this.callBackFunc())},t.prototype.onclickBtnRight=function(){var e=this;this.isClick||(this.isClick=!0,s.default.showRewardedVideoAd_csryw("\u770b\u89c6\u9891\u590d\u6d3b"+u.default.inst.levelId+"_"+l.default.calculateLevel(u.default.inst.curScore,u.default.inst.winScore),function(t){t?(u.default.inst.touch1.removeAllChildren(),u.default.inst.touch2.removeAllChildren(),u.default.inst.touch3.removeAllChildren(),u.default.inst.reciveTimes=1,u.default.inst.curVideoNum++,u.default.inst.isAdAid+=1,u.default.inst.reciveDelet3(),u.default.inst.saveLvMapData(),u.default.inst.flyCard(),e.node.destroy(),e.isClick=!1):e.isClick=!1},function(){e.isClick=!1}))},t.prototype.updateShowScore=function(){var e=u.default.inst.curScore,t=u.default.inst.winScore;this.lab_score.string=e+"/"+t;var i=e/t;i>1&&(i=1),this.spr_progress.fillRange=i,0==t&&(this.lab_score.node.parent.active=!1)},t.prototype.updateShowObs=function(){this.lab_obs.string=""+(u.default.inst.winObs-u.default.inst.curObs),u.default.inst.winObs==u.default.inst.curObs&&(this.lab_obs.node.parent.getChildByName("finish").active=!0,this.lab_obs.string=""),0==u.default.inst.winObs&&(this.lab_obs.node.parent.active=!1)},t.prototype.updateShowIce=function(){this.lab_ice.string=""+(u.default.inst.winIce-u.default.inst.curIce),u.default.inst.winObs==u.default.inst.curObs&&(this.lab_ice.node.parent.getChildByName("finish").active=!0,this.lab_ice.string=""),0==u.default.inst.winIce&&(this.lab_obs.node.parent.active=!1)},o([y(cc.Node)],t.prototype,"btn_left",void 0),o([y(cc.Node)],t.prototype,"btn_right",void 0),o([y(cc.Node)],t.prototype,"topScore",void 0),o([y(cc.Node)],t.prototype,"topObs",void 0),o([y(cc.Node)],t.prototype,"topIce",void 0),o([y(cc.Label)],t.prototype,"lab_obs",void 0),o([y(cc.Label)],t.prototype,"lab_ice",void 0),o([y(cc.Label)],t.prototype,"lab_score",void 0),o([y(cc.Label)],t.prototype,"lab_val",void 0),o([y(cc.Label)],t.prototype,"lab_title",void 0),o([y(cc.Sprite)],t.prototype,"spr_progress",void 0),o([p],t)}(d.default);n.default=f,cc._RF.pop()},{}],RedPointGoldGet:[function(e,t){"use strict";cc._RF.push(t,"9f59bgEq1ZMbY9qRCrA/EQA","RedPointGoldGet");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("EventEnum"),c=i("EventMgr"),a=i("User"),l=cc._decorator,u=l.ccclass,d=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onLoad=function(){this.updataShow(),c.default.onEvent_csryw(s.ryw_Event.ryw_Game_OnGoldGetChange_csryw,this.updataShow,this)},t.prototype.updataShow=function(){var e=a.default.getGoldGetArr_csryw(),t=e.length;this.node.active=!1;for(var i=0;i<t;i++)if(0==e[i]){this.node.active=!0;break}},o([u],t)}(cc.Component));n.default=d,cc._RF.pop()},{}],RedPointHouseUnlock:[function(e,t){"use strict";cc._RF.push(t,"3109aTiRTdAE6+x4XoJv8Od","RedPointHouseUnlock");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("EventEnum"),c=i("EventMgr"),a=i("User"),l=cc._decorator,u=l.ccclass,d=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onLoad=function(){this.updataShow(),c.default.onEvent_csryw(s.ryw_Event.ryw_Game_OnGoldHouseChange_csryw,this.updataShow,this)},t.prototype.updataShow=function(){var e=1==a.default.getHouseTip_csryw();this.node.active=e},o([u],t)}(cc.Component));n.default=d,cc._RF.pop()},{}],RemoteMgr:[function(e,t){"use strict";cc._RF.push(t,"fb8ednCAwpACpPZDcMTgAI6","RemoteMgr");var i=t.exports;Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function e(){}return e.removeAllRemote_csryw=function(){for(var e in this.remoteArrayTexture_csryw)this.remoteArrayTexture_csryw[e].decRef();this.remoteArrayTexture_csryw={}},e.loadRemote_csryw=function(e,t){var i=this;this.remoteArrayTexture_csryw[e]?callFM_csryw(t,null,this.remoteArrayTexture_csryw[e]):cc.assetManager.loadRemote(e,function(n,r){n?callFM_csryw(t,n,null):(i.remoteArrayTexture_csryw[e]||(i.remoteArrayTexture_csryw[e]=r,i.remoteArrayTexture_csryw[e].addRef()),callFM_csryw(t,null,i.remoteArrayTexture_csryw[e]))})},e.remoteArrayTexture_csryw={},e}();i.default=n,cc._RF.pop()},{}],ResSubMgr:[function(e,t){"use strict";cc._RF.push(t,"8337dnPwEFKPLARHw3Ci4BA","ResSubMgr");var i=t.exports;Object.defineProperty(i,"__esModule",{value:!0}),i.ResSubMgr=i.EnumSubFrameRes=void 0,function(e){e.DialogAddPower="DialogAddPower",e.DialogAddPowerAll="DialogAddPowerAll",e.DialogSetting="DialogSetting",e.DialogToast="DialogToast",e.PowerNode="PowerNode"}(i.EnumSubFrameRes||(i.EnumSubFrameRes={}));var n=function(){function e(){}return e.loadSubpackageFinish_csryw=function(t,i){t==e.subFrameRes.subName?(e.subFrameRes.bundle=cc.assetManager.getBundle(t),e.subFrameRes.bundle.loadDir("Prefab",cc.Prefab,function(t,n){for(var r=0;r<n.length;r++){var o=n[r];e.subFrameRes.prefab[o.name]=o}i&&callFM_csryw(i)})):i&&callFM_csryw(i)},e.getPrefabBySubFrame=function(t){if(null!=e.subFrameRes.prefab[t])return e.subFrameRes.prefab[t];console.error("\u6ca1\u6709\u627e\u5230 subResFrame <",t,"> \u4e2d\u7684\u9884\u5236\u4f53")},e.subFrameRes={prefab:{},subName:"subResFrame"},e}();i.ResSubMgr=n,cc._RF.pop()},{}],RestartView:[function(e,t){"use strict";cc._RF.push(t,"7c5cf+zxTdGjJSAdXNMGMd/","RestartView");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("GameMgr"),c=i("User"),a=i("Common5"),l=i("PageBaseUI"),u=cc._decorator,d=u.ccclass,h=(u.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.btn_close=null,t.btn_restart=null,t}return r(t,e),t.prototype.onLoad=function(){var t=this;e.prototype.onLoad.call(this),this.btn_close=this.page.getChildByName("btn_close"),this.btn_restart=this.page.getChildByName("btn_restart"),this.togglePage(function(){a.default.btnRegister_csryw(t.btn_close,t.closeFunc.bind(t)),a.default.btnRegister_csryw(t.btn_restart,t.onclickBtnRestart.bind(t))})},t.prototype.onclickBtnRestart=function(){this.isClick||(this.isClick=!0,c.default.setMapData_csryw(null),s.default.getInstance_csryw().onLoadToGameScene_csryw(),s.default.getInstance_csryw().saveGameData_csryw())},o([d],t)}(l.default));n.default=h,cc._RF.pop()},{}],RotaAni:[function(e,t){"use strict";cc._RF.push(t,"2bb704PMwJKLrkdU1ypdhFm","RotaAni");var i=t.exports,n=__extends,r=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,s=o.ccclass,c=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.speed=10,t}return n(t,e),t.prototype.update=function(e){this.node.angle-=e*this.speed},r([c],t.prototype,"speed",void 0),r([s],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],RoteShakeAni:[function(e,t){"use strict";cc._RF.push(t,"ac7d3wmo/RCSIngoNhge0Rr","RoteShakeAni");var i=t.exports,n=__extends,r=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,s=o.ccclass,c=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.breathDuration=1,t}return n(t,e),t.prototype.start=function(){var e=this.breathDuration/2;cc.tween(this.node).to(e,{angle:3}).to(e,{angle:-3}).union().repeatForever().start()},r([c({range:[0,10]})],t.prototype,"breathDuration",void 0),r([s],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],ScoreBoxUnlock:[function(e,t){"use strict";cc._RF.push(t,"69cfcFuY2RIvZcIM3BebdjB","ScoreBoxUnlock");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("EventEnum"),c=i("EventMgr"),a=i("SoundMgr"),l=i("Common5"),u=i("MapCtrl"),d=cc._decorator,h=d.ccclass,p=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.unlockScore=0,t}return r(t,e),t.prototype.onLoad=function(){c.default.onEvent_csryw(s.ryw_Event.updateScore,this.socreUpdate,this)},t.prototype.initScore=function(e){this.unlockScore=e,this.node.getChildByName("label").getComponent(cc.Label).string=e},t.prototype.socreUpdate=function(e){if(e>=this.unlockScore){u.default.inst.lockGridArr.splice(u.default.inst.lockGridArr.indexOf(this.node.parent.name),1),this.node.destroy(),a.default.playSoundFromBundle("resources",a.MusicName.\u89e3\u9501\u65b0\u5730\u5757);var t=this.node.parent.convertToNodeSpaceAR(this.node.convertToWorldSpaceAR(cc.v2(0,0)));l.default.getPrefabFromBundle("subRes","Particle/ef_jiesuo",this.node.parent,function(e){e.setPosition(t)})}},o([h],t)}(cc.Component));n.default=p,cc._RF.pop()},{}],SettingUI:[function(e,t){"use strict";cc._RF.push(t,"e6f20ObleBFd5cUqUyPyfrK","SettingUI");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("GameMgr"),c=i("SoundMgr"),a=i("VibrateMgr"),l=i("User"),u=i("DialogUIBase"),d=cc._decorator,h=d.ccclass,p=(d.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.EventEnumView_csryw={},t.soundCloseNode=null,t.musicCloseNode=null,t.vibratCloseNode=null,t.btnBack=null,t.btnRestart=null,t.isClick=!1,t}return r(t,e),t.prototype.initView_csryw=function(){var t=this;e.prototype.initView_csryw.call(this);var i=this.childNode("layout",this.showNode),n=this.childNode("butSound",i),r=this.childNode("butMusic",i),o=this.childNode("butVibrat",i);this.btnBack=this.childNode("btnBack",i),this.btnRestart=this.childNode("btnRestart",i),this.onClick(this.btnBack,function(){t.btnBackFunc()},this),this.onClick(this.btnRestart,function(){t.btnRestartFunc()},this),this.soundCloseNode=this.childNode("close",n),this.musicCloseNode=this.childNode("close",r),this.vibratCloseNode=this.childNode("close",o),this.updateShowSound(),this.updateShowMusic(),this.updateShowVibrat(),this.onClick(n,function(){c.default.setSoundEnabled(!c.default.isSoundEnabled()),t.updateShowSound()},this),this.onClick(r,function(){c.default.setMusicEnabled(!c.default.isMusicEnabled()),t.updateShowMusic()},this),this.onClick(o,function(){a.default.isEnable_csryw=!a.default.isEnable_csryw,t.updateShowVibrat()},this),this.onClick(this.childNode("butClose",this.showNode),function(){t.closeDialog()},this),c.default.isSoundEnabled()?this.soundCloseNode.active=!1:this.soundCloseNode.active=!0,c.default.isMusicEnabled()?this.musicCloseNode.active=!1:this.musicCloseNode.active=!0},t.prototype.initSet=function(e){void 0===e&&(e=!1),1==e?(this.showNode.y=420,this.showNode.height=800,this.btnBack.active=!0,this.btnRestart.active=!0):(this.showNode.y=300,this.showNode.height=600,this.btnBack.active=!1,this.btnRestart.active=!1)},t.prototype.updateShowSound=function(){c.default.isSoundEnabled()?(this.soundCloseNode.active=!1,cc.sys.localStorage.setItem("sound_trigger",1)):(this.soundCloseNode.active=!0,cc.sys.localStorage.setItem("sound_trigger",0))},t.prototype.updateShowMusic=function(){c.default.isMusicEnabled()?(this.musicCloseNode.active=!1,cc.sys.localStorage.setItem("music_trigger",1)):(this.musicCloseNode.active=!0,cc.sys.localStorage.setItem("music_trigger",0))},t.prototype.updateShowVibrat=function(){a.default.isEnable_csryw?this.vibratCloseNode.active=!1:this.vibratCloseNode.active=!0},t.prototype.btnBackFunc=function(){this.isClick||(this.isClick=!0,s.default.getInstance_csryw().onLoadToWorldScene_csryw())},t.prototype.btnRestartFunc=function(){this.isClick||(this.isClick=!0,l.default.setMapData_csryw(null),s.default.getInstance_csryw().saveGameData_csryw(),s.default.getInstance_csryw().onLoadToGameScene_csryw())},o([h],t)}(u.default));n.default=p,cc._RF.pop()},{}],ShushuReport:[function(e,t){"use strict";cc._RF.push(t,"98053WNWXlKoZdWVq6Ef/+8","ShushuReport");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("User"),c=i("AppPlatform"),a=cc._decorator,l=a.ccclass,u=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var i;return r(t,e),i=t,t.initTE=function(){if(c.default.is_TT_GAME_csryw()){if("025001"!=c.default.getLaunchOptionsSync_csryw().scene)return i.isReport=!1,void console.log("\u975ezt\u7528\u6237...");var e,t={appId:i.shushuAppid,serverUrl:i.shushuServerUrl,autoTrack:{appLaunch:!0,appShow:!0,appHide:!0,pageShow:!0,pageShare:!0}};TDAnalytics.init(t),e=""==s.default.getGameOpenid()||null==s.default.getGameOpenid()?i.getRandomOpenID():s.default.getGameOpenid(),TDAnalytics.login(e)}},t.reportedEvent=function(e,t){console.log("==========\u4e0a\u62a5\u6570\u636e==========",c.default.is_TT_GAME_csryw(),i.isReport),console.log("\u4e8b\u4ef6\u540d\u79f0:",e),console.log("\u4e8b\u4ef6\u5c5e\u6027:",JSON.stringify(t)),c.default.is_TT_GAME_csryw()&&i.isReport&&(TDAnalytics.track({eventName:e,properties:t}),TDAnalytics.flush())},t.setUserTE=function(e){c.default.is_WECHAT_GAME_csryw()&&TDAnalytics.userSet(e)},t.getRandomOpenID=function(){for(var e="abcdefghijklmnopqrstuvwxyz1234567890",t="",i=0;i<15;i++)t+=e[Math.floor(Math.random()*(e.length-.1))];return console.log("random openid:"+t),t},t.shushuAppid="6400e10053d141b4ba225470981c6acf",t.shushuServerUrl="",t.isReport=!0,i=o([l],t)}(cc.Component));n.default=u,cc._RF.pop()},{}],SoundMgr:[function(e,t){"use strict";cc._RF.push(t,"f4408q1KolDabTXfdwaMWMQ","SoundMgr");var i=t.exports;Object.defineProperty(i,"__esModule",{value:!0}),i.MusicName=void 0,function(e){e["\u5237\u65b0\u51fa\u724c"]="Sound/sxcp",e["\u6d88\u9664"]="Sound/xc",e["\u89e3\u9501\u65b0\u5730\u5757"]="Sound/jsxdk",e["\u9524\u5b50"]="Sound/cz",e["\u98de\u8dc3"]="Sound/fy",e["\u80dc\u5229"]="Sound/Victor",e["\u5931\u8d25"]="Sound/loser",e["\u52a0\u5206"]="Sound/jf",e["\u54bb\u54bb"]="Sound/xiuxiu",e["\u91d1\u5e01"]="Sound/gold2",e["\u5347\u7ea7\u6210\u529f"]="Sound/sjcg",e["\u590d\u6d3b\u6d88\u9664"]="Sound/fhxc",e["\u5272\u5f00\u7ef3\u5b50"]="Sound/gksz",e["\u51b0\u5757\u7834\u788e"]="Sound/bkps"}(i.MusicName||(i.MusicName={}));var n=function(){function e(){}return e.isSoundEnabled=function(){return e.soundEnable},e.setSoundEnabled=function(t){e.soundEnable=t},e.isMusicEnabled=function(){return e.musicEnable},e.setMusicEnabled=function(t){e.musicEnable=t,e.musicEnable?e.autoPlayMusic():e.autoStopMusic()},e.playMusic=function(t,i,n){void 0===t&&(t="resources"),void 0===n&&(n=null),e.musicBundleName=t,e.musicPath=i,e.musicEnable&&(e.stopMusic(),cc.assetManager.getBundle(t).load(i,cc.AudioClip,function(e,t){if(e)console.log("playMusic_err",e);else{var i=cc.audioEngine.playMusic(t,!0);cc.audioEngine.setMusicVolume(1),null!=n&&n(i)}}))},e.autoPlayMusic=function(){""!=e.musicBundleName&&""!=e.musicPath&&(e.autoStopMusic(),e.playMusic(e.musicBundleName,e.musicPath))},e.autoStopMusic=function(){cc.audioEngine.stopMusic()},e.stopMusic=function(){cc.audioEngine.stopMusic()},e.playSound_csryw=function(t){if(e.soundEnable){var i=e.getSoundUrl_csryw(t);cc.resources.load(i,cc.AudioClip,function(e,t){e?LogUtils.error_csryw(e):cc.audioEngine.play(t,!1,1)})}},e.playSpineSound_csryw=function(){e.soundEnable},e.getSoundUrl_csryw=function(t){return e.soundResPath_csryw+t},e.playSoundFromBundle=function(t,i,n,r){if(void 0===t&&(t="resources"),void 0===n&&(n=!1),void 0===r&&(r=null),e.soundEnable)if("resources"==t)cc.resources.load(i,cc.AudioClip,function(e,t){if(!e)return cc.audioEngine.play(t,n,1);LogUtils.error_csryw(e)});else{var o=cc.assetManager.getBundle(t);if(""==i)return;if(!o)return-1;o.load(i,cc.AudioClip,function(e,t){if(e)return console.log("err",e),-1;var i=cc.audioEngine.play(t,n,1);return null!=r&&r(i),i})}},e.playSoundByAduioClip=function(t,i){if(void 0===i&&(i=!1),e.soundEnable)return cc.audioEngine.play(t,i,1)},e.StopSoundById=function(e){cc.audioEngine.stop(e)},e.StopSoundsIdArr=function(t){for(var i=0;i<t.length;i++){var n=t[i];e.StopSoundById(n)}},e.playAnniuSound=function(){e.playSound_csryw("anniu")},e.soundResPath_csryw="Sound/",e.soundSpineResPath_csryw="Spine/",e.musicBundleName="",e.musicPath="",e.soundEnable=!0,e.musicEnable=!0,e}();i.default=n,cc._RF.pop()},{}],TTAPI:[function(e,t){"use strict";cc._RF.push(t,"8644fgvRi1MWKdaywy+s6mk","TTAPI");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0});var r=i("AppPlatform"),o=i("AppConfig"),s=(i("DialogMgr"),i("EventMgr")),c=i("EventEnum"),a=i("GameHttpMgr"),l=i("MapCtrl"),u=i("FMMainScene"),d=i("User"),h=i("Common5"),p=i("YPlatform"),y=(i("ShushuReport"),function(){function e(){}return e.ttLogin_csryw=function(t,i){r.default.is_TT_GAME_csryw()&&(window.tt.login({force:!1,success:function(e){console.log(e),console.log("\u767b\u9646\u6210\u529f1");var n=e.code;n?t(n):(console.log("\u7528\u6237\u6ca1\u6709\u767b\u9646\uff0c\u91c7\u7528\u4e34\u65f6code"),i())},fail:function(){console.log("\u767b\u9646\u5931\u8d251"),i()}}),e.initRecord_csryw())},e.onRewardedVideoAdLoad_csryw=function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210")},e.onRewardedVideoAdError_csryw=function(){window.tt.hideLoading()},e.onRewardedVideoAdClose_csryw=function(t){window.tt.hideLoading(),t&&t.isEnded||null==t?(console.log("\u6fc0\u52b1\u89c6\u9891 \u5df2\u5b8c\u6574\u89c2\u770b"),e.reportAnalytics("videoFinished"),e._onRewardedVideoAdClose_csryw&&e._onRewardedVideoAdClose_csryw(!0),a.default.getInstance().Video_Active(null,null)):(console.log("\u6fc0\u52b1\u89c6\u9891 \u672a\u5b8c\u6574\u89c2\u770b"),e.reportAnalytics("videoUnFinished"),e._onRewardedVideoAdClose_csryw&&e._onRewardedVideoAdClose_csryw(!1))},e.regRewardedVideoAdEvent_csryw=function(t){t.onLoad(e.onRewardedVideoAdLoad_csryw),t.onError(e.onRewardedVideoAdError_csryw),t.onClose(e.onRewardedVideoAdClose_csryw),e._isRegRewardedVideoAdEvent_csryw=!0},e.showRewardedVideoAd_csryw=function(e,t){window.parent.postMessage("reward","*"),window.rewardRun=(w=>{t(w)});return;p.YPlatform.showReward(function(){t(!0)})},e.reportAnalytics=function(e,t){void 0===t&&(t={}),r.default.is_TT_GAME_csryw()&&window.tt.reportAnalytics(e,t)},e.initRecord_csryw=function(){e.record_csryw=window.tt.getGameRecorderManager(),null!=e.record_csryw&&(e.record_csryw.onStart(function(){console.log("\u5f55\u5c4f\u5f00\u59cb"),e.recordRes_csryw=""}),e.record_csryw.onStop(function(t){console.log("\u5f55\u5c4f\u7ed3\u675f"),e.recordRes_csryw=t.videoPath}))},e.startRecord_csryw=function(t){void 0===t&&(t=300),r.default.is_TT_GAME_csryw()&&e.record_csryw.start({duration:t})},e.stopRecord_csryw=function(){r.default.is_TT_GAME_csryw()&&e.record_csryw.stop()},e.shareRecord_csryw=function(t,i){void 0===t&&(t=null),void 0===i&&(i=null),r.default.is_TT_GAME_csryw()&&(""!=e.recordRes_csryw?window.tt.shareAppMessage({channel:"video",extra:{videoPath:e.recordRes_csryw,videoTopics:[o.default.GameName_csryw]},success:function(){null!=t&&t(),console.log("\u5206\u4eab\u89c6\u9891\u6210\u529f")},fail:function(e){console.log("\u5206\u4eab\u89c6\u9891\u5931\u8d25",e);var t=!1;e&&21105==e.errNo&&(t=!0,window.tt.showToast({title:"\u5206\u4eab\u5931\u8d25\uff0c\u5206\u4eab\u89c6\u9891\u65f6\u95f4\u8fc7\u77ed"})),null!=i&&i(e,t)}}):(null!=i&&i(),console.log("\u5206\u4eab\u89c6\u9891\u4e3a\u7a7a")))},e.share_csryw=function(e){void 0===e&&(e=null),r.default.is_TT_GAME_csryw()&&window.tt.shareAppMessage({templateId:o.default.tt_templateId_csryw,success:function(){null!=e&&e()},fail:function(){console.log("\u5206\u4eab\u5931\u8d25")}})},e.showBanner_csryw=function(){if(r.default.is_TT_GAME_csryw()&&!(o.default.tt_bannerAdUnitId_csryw.length<=0)){if(!e._banner_csryw){var t=window.tt.getSystemInfoSync(),i=t.windowWidth,n=t.windowHeight;e._banner_csryw=window.tt.createBannerAd({adUnitId:o.default.tt_bannerAdUnitId_csryw,adIntervals:30,style:{width:150,top:n-84.375}}),e._banner_csryw.style.left=(i-150)/2,e._banner_csryw.onResize(function(t){console.log(t.width,t.height),e._banner_csryw.style.top=n-t.height,e._banner_csryw.style.left=(i-t.width)/2})}e._banner_csryw.show()}},e.hideBanner_csryw=function(){null!=e._banner_csryw&&e._banner_csryw.hide()},e.showMoreGamesModal_csryw=function(e,t){"ios"!==window.tt.getSystemInfoSync().platform?window.tt.showMoreGamesModal({appLaunchOptions:[{appId:o.default.AppID_csryw,query:"foo=bar&baz=qux",extraData:{}}],success:function(t){console.log("success",t.errMsg),e&&e()},fail:function(e){console.log("fail",e.errMsg),t&&t()}}):t&&t()},e.showInterstitialAd=function(e){if(r.default.is_TT_GAME_csryw()){console.log("\u63d2\u5c4f\u63d2\u5c4fcreate....................");var t=window.tt.createInterstitialAd({adUnitId:o.default.tt_InsAdUnitId_csryw});t.load().then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u6210\u529f\uff01"),t.show().then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u5c55\u793a\u6210\u529f\uff01")}).catch(function(e){console.log("\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u5931\u8d25\uff1a",JSON.stringify(e))})}).catch(function(e){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25\uff1a",JSON.stringify(e))}),t.onClose(function(){console.log("\u63d2\u5c4f\u5e7f\u544a \u5173\u95ed"),t.destroy(),e&&e()})}},e.getLaunchOptionsSync_csryw=function(){if(r.default.is_TT_GAME_csryw()){var t=window.tt.getLaunchOptionsSync();console.log("obj ",t),console.log("\u573a\u666f\u503c "+t.scene);var i=JSON.stringify(t.query);console.log("Query\u53c2\u6570 "+i);var n=t.query.key;return console.log("Query\u53c2\u6570\uff1akey "+n),e.isCll||"021036"!=t.scene||(e.isCll=!0),t}return{scene:1001,query:""}},e.followTTCount=function(){r.default.is_TT_GAME_csryw()&&window.tt.openAwemeUserProfile({success:function(e){console.log(e)}})},e.addToZM=function(){r.default.is_TT_GAME_csryw()&&window.tt.addShortcut({success:function(){console.log("\u6dfb\u52a0\u6210\u529f")},fail:function(){console.log("\u6dfb\u52a0\u5931\u8d25")}})},e.setRankData=function(e,t,i,n,o,s){void 0===n&&(n="extra"),r.default.is_TT_GAME_csryw()&&window.tt.setImRankData({dataType:e,value:t,priority:i,extra:n,success:function(e){console.log("setImRankData success res: "+e),o&&o()},fail:function(e){console.log("setImRankData fail res: "+e.errMsg),s&&s()}})},e.getRankList=function(e,t,i,n,r,o,s){window.tt.getImRankList({relationType:e,dataType:t,rankType:i,suffix:n,rankTitle:r,success:function(e){console.log("getImRankData success res: "+e),o&&o()},fail:function(e){console.log("getImRankData fail res: "+e.errMsg),s&&s()}})},e.getRankData=function(e,t,i,n,r){window.tt.getImRankData({relationType:e,dataType:t,rankType:i,pageNum:1,pageSize:40,success:function(e,t){console.log("getImRankData success res: "+e),n&&n(t)},fail:function(e){console.log("getImRankData fail res: "+e.errMsg),r&&r()}})},e.checkSideBarInGame=function(){var e=this;r.default.is_TT_GAME_csryw()&&(window.tt.onShow(function(t){console.log("\u542f\u52a8\u573a\u666f\u5b57\u6bb5\uff1a",t.launch_from,", ",t.location);var i="homepage"===t.launch_from&&"sidebar_card"===t.location;e.isCll=i,s.default.emitEvent_csryw(c.ryw_Event.ryw_cll)}),window.tt.onHide(function(){(l.default.inst||u.default.inst)&&a.default.getInstance().Video_Active(function(e){h.default.netTime=e.time},null,d.default.getSaveData_csryw())}))},e.openSideBar=function(){r.default.is_TT_GAME_csryw()&&window.tt.navigateToScene&&window.tt.navigateToScene({scene:"sidebar"})},e.checkCanToSide=function(e){r.default.is_TT_GAME_csryw()&&window.tt.checkScene?window.tt.checkScene({scene:"sidebar",success:function(t){e(t.isExist)},fail:function(){e(!1)}}):e(!1)},e.recordRes_csryw="",e._banner_csryw=null,e._isRegRewardedVideoAdEvent_csryw=!1,e._onRewardedVideoAdFailed_csryw=null,e._onRewardedVideoAdClose_csryw=null,e.isCll=!1,e}());n.default=y,cc._RF.pop()},{}],TimerUtils:[function(e,t){"use strict";cc._RF.push(t,"6bf29BcCWtM6532YBz8PUL4","TimerUtils");var i=t.exports;Object.defineProperty(i,"__esModule",{value:!0}),i.TimerUtils=void 0;var n=function(){function e(){}return e.loopNum_csryw=function(e,t,i,n){return this.schedule_csryw(e,t,i,n)},e.once_csryw=function(e,t){return void 0===t&&(t=0),this.scheduleOnce_csryw(e,t)},e.loop_csryw=function(e,t,i){return void 0===t&&(t=0),void 0===i&&(i=0),this.schedule_csryw(e,t||.02,cc.macro.REPEAT_FOREVER,i)},e.removeTimer_csryw=function(e){this.unschedule_csryw(e)},e.removeAllTimers_csryw=function(){cc.director.getScheduler().unscheduleAllForTarget(this)},e.scheduleOnce_csryw=function(e,t){return this.schedule_csryw(e,0,0,t),e},e.schedule_csryw=function(e,t,i,n){return cc.director.getScheduler().schedule(e,this,t,i,n),e},e.unschedule_csryw=function(e){e&&cc.director.getScheduler().unschedule(e,this)},e}();i.TimerUtils=n,cc._RF.pop()},{}],TweenScale:[function(e,t){"use strict";cc._RF.push(t,"d2473xfbABKDqOOb69JqPVy","TweenScale");var i=t.exports,n=__extends,r=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,s=o.ccclass,c=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scaleStartNum=.65,t.scaleEndNum=1,t.scaleTime=.3,t.listener=null,t}return n(t,e),t.prototype.openAction=function(e){var t=this;this.listener=e,cc.Tween.stopAllByTarget(this),this.node.scale=this.scaleStartNum,cc.tween(this.node).to(this.scaleTime,{scale:this.scaleEndNum},{easing:cc.easing.backOut}).call(function(){t.listener&&callFM_csryw(e)}).start()},t.prototype.closeAction=function(e){var t=this;this.listener=e,cc.Tween.stopAllByTarget(this),cc.tween(this.node).to(this.scaleTime,{scale:this.scaleStartNum},{easing:cc.easing.backIn}).call(function(){t.listener&&callFM_csryw(e)}).start()},r([c({tooltip:"\u521d\u59cb\u7f29\u653e\u6bd4\u4f8b",type:cc.Float})],t.prototype,"scaleStartNum",void 0),r([c({tooltip:"\u7ed3\u675f\u7f29\u653e\u6bd4\u4f8b",type:cc.Float})],t.prototype,"scaleEndNum",void 0),r([c({tooltip:"\u7f29\u653e\u65f6\u95f4",type:cc.Float})],t.prototype,"scaleTime",void 0),r([s],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],TweenUtils:[function(e,t){"use strict";cc._RF.push(t,"742a75rY+xFBqss+FpyXdRN","TweenUtils");var i=t.exports,n=__decorate;Object.defineProperty(i,"__esModule",{value:!0}),i.TweenUtils=void 0;var r=cc._decorator,o=r.ccclass,s=(r.property,function(){function e(){}return e.prototype.start=function(){},e.bezierTo=function(e,t,i,n,r,o){return(o=o||Object.create(null)).onUpdate=function(t,o){var s,c,a,l,u,d;e.position=(a=n,l=r,u=(1-(s=o))*(1-s)*(c=i).x+2*s*(1-s)*a.x+s*s*l.x,d=(1-s)*(1-s)*c.y+2*s*(1-s)*a.y+s*s*l.y,cc.v3(u,d,0))},cc.tween(e).to(t,{},o)},n([o("TweenUtils")],e)}());i.TweenUtils=s,cc._RF.pop()},{}],UmengMgr:[function(e,t){"use strict";cc._RF.push(t,"8a7ae6tdfhBgpuxR3eH1jyX","UmengMgr");var i,n=e,r=t.exports;Object.defineProperty(r,"__esModule",{value:!0}),r.UmengMgr=void 0;var o=n("AppPlatform"),s=n("LogUtils"),c=n("EventMgr"),a=n("EventEnum");(function(e){e.ReportAdClickSuccess_csryw="ReportAdClickSuccess",e.ReportAdClickFail_csryw="ReportAdClickFail",e.ReportAdClickStart_csryw="ReportAdClickStart",e.ReportLaunchOptions_csryw="ReportLaunchOptions",e.LogReportInfo_csryw="LogReportInfo",e.LogReportError_csryw="LogReportError",e.LoginReportInfo_csryw="LoginReportInfo",e.GameEventLVInto_csryw="Event_LVInto",e.GameEventLVFinish_csryw="Event_LVFinish",e.Event_Commerce_csryw="Event_Commerce",e.Event_Custom_csryw="Event_Custom"})(i||(i={}));var l=function(){function e(){}return e.sendEvent_csryw=function(t,i){o.default.is_WECHAT_GAME_csryw()?e.uma_trackEvent(t,i):o.default.is_Iphone_csryw()||o.default.is_Android_csryw(),c.default.emitEvent_csryw(a.ryw_Event.ryw_Umeng_csryw,{event:t})},e.sendReportLaunchOptions_csryw=function(t,n,r){e.sendEvent_csryw(i.ReportLaunchOptions_csryw,{scene:t,dqip:n,ipxq:r})},e.sendReportAdClickSuccess_csryw=function(t,n){e.sendEvent_csryw(i.ReportAdClickSuccess_csryw,{title:t,appid:String(n)})},e.sendReportAdClickFail_csryw=function(t,n){e.sendEvent_csryw(i.ReportAdClickFail_csryw,{title:t,appid:String(n)})},e.sendReportAdClickStart_csryw=function(t,n){e.sendEvent_csryw(i.ReportAdClickStart_csryw,{title:t,appid:String(n)})},e.sendGameEventLvInto_csryw=function(t){e.sendEvent_csryw(i.GameEventLVInto_csryw,{level:t}),o.default.is_WECHAT_GAME_csryw()&&window.wx.uma.stage.onStart({stageId:t+"",stageName:"\u7b2c"+t+"\u5173"})},e.sendGameEventLvFinish_csryw=function(t,n,r,s){var c="win";n||(c="lose");var a={};if(a.level=t,a.status=c,a.duration=r,s)for(var l in s)if(Object.prototype.hasOwnProperty.call(s,l)){var u=s[l];"status"==l?u&&(a.status="home"):a[l]=u}if(e.sendEvent_csryw(i.GameEventLVFinish_csryw,a),o.default.is_WECHAT_GAME_csryw()){var d=0;r&&(d=1e3*r),window.wx.uma.stage.onEnd({stageId:t+"",stageName:"\u7b2c"+t+"\u5173",event:n?"complete":"fail",_um_sdu:d})}},e.sendEvent_Commerce_csryw=function(t){e.sendEvent_csryw(i.Event_Commerce_csryw,t)},e.sendEvent_Custom_csryw=function(t){e.sendEvent_csryw(i.Event_Custom_csryw,t)},e.sendLogReportInfo_csryw=function(t){e.sendEvent_csryw(i.LogReportInfo_csryw,{info:t})},e.sendLogReportError_csryw=function(t){e.sendEvent_csryw(i.LogReportError_csryw,{info:t})},e.sendLoginReportInfo_csryw=function(t,n,r){e.sendEvent_csryw(i.LoginReportInfo_csryw,{type:t,state:n,info:r})},e.uma_trackEvent=function(e,t){o.default.is_WECHAT_GAME_csryw()&&(window.wx.uma?window.wx.uma.trackEvent(e,t):s.LogUtils.error_csryw("\u7edf\u8ba1\u4e8b\u4ef6 \u65e0\u53cb\u76df"))},e}();r.UmengMgr=l,cc._RF.pop()},{}],UnlockHouse:[function(e,t){"use strict";cc._RF.push(t,"09aa2YlGvlDXoo+2hFIy0OE","UnlockHouse");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("EventEnum"),c=i("EventMgr"),a=i("GameMgr"),l=i("Common5"),u=i("User"),d=cc._decorator,h=d.ccclass,p=d.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.spr_img=null,t.cb=null,t}return r(t,e),t.prototype.onLoad=function(){},t.prototype.init=function(e,t){this.cb=t,l.default.getSpriteFrameFromBundle("subRes","Textures/Tgw/"+e,this.spr_img),u.default.setHouseTip_csryw(1),a.default.getInstance_csryw().saveGameData_csryw(),c.default.emitEvent_csryw(s.ryw_Event.ryw_Game_OnGoldHouseChange_csryw)},t.prototype.closeFun=function(){this.node.destroy(),this.cb&&this.cb()},o([p(cc.Sprite)],t.prototype,"spr_img",void 0),o([h],t)}(cc.Component);n.default=y,cc._RF.pop()},{}],UpAndHide:[function(e,t){"use strict";cc._RF.push(t,"a1952d6ndpNLZLEWNNyTAWb","UpAndHide");var i=t.exports,n=__extends,r=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,s=o.ccclass,c=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.upY=100,t.upTime=.5,t}return n(t,e),t.prototype.onEnable=function(){var e=this;cc.tween(this.node).by(this.upTime,{y:this.upY,opacity:-255}).call(function(){e.node.destroy()}).start()},r([c(cc.Float)],t.prototype,"upY",void 0),r([c(cc.Float)],t.prototype,"upTime",void 0),r([s],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],UpDownAni:[function(e,t){"use strict";cc._RF.push(t,"3152a2ERUpHjq8IGPIRjrMY","UpDownAni");var i=t.exports,n=__extends,r=__decorate;Object.defineProperty(i,"__esModule",{value:!0});var o=cc._decorator,s=o.ccclass,c=o.property,a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.upY=50,t.upTime=.5,t.downY=50,t.downTime=.5,t}return n(t,e),t.prototype.start=function(){var e=cc.moveBy(this.upTime,cc.v2(0,this.upY)),t=cc.moveBy(this.downTime,cc.v2(0,-this.downY)),i=cc.sequence([e,t]),n=cc.repeatForever(i);this.node.runAction(n)},r([c({type:cc.Float,tooltip:"\u4e0a\u5347Y"})],t.prototype,"upY",void 0),r([c({type:cc.Float,tooltip:"\u4e0a\u5347\u65f6\u95f4"})],t.prototype,"upTime",void 0),r([c({type:cc.Float,tooltip:"\u4e0b\u964dY"})],t.prototype,"downY",void 0),r([c({type:cc.Float,tooltip:"\u4e0b\u964d\u65f6\u95f4"})],t.prototype,"downTime",void 0),r([s],t)}(cc.Component);i.default=a,cc._RF.pop()},{}],User:[function(e,t){"use strict";cc._RF.push(t,"a1a5ei05EVBtYVLpdIe0BNl","User");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.UserGameData=void 0;var r=i("EventMgr"),o=i("EventEnum"),s=i("PhysicalPowerMgr"),c=i("Common5"),a=i("GameMgr"),l=i("AppPlatform"),u=function(){this.physicalData={},this.levelNum=1,this.moneyNum=0,this.candyNum=0,this.houseNum=1,this.housePro=0,this.houseTip=0,this.isCll=0,this.isFirst=1,this.isFirst2=1,this.curVersion=0,this.lastDate=0,this.goldGetArr=[0,0,0,0,0],this.propNumArr=[0,0,0],this.mapData=null,this.saveTime=0};n.UserGameData=u;var d=function(){function e(){}return Object.defineProperty(e,"isLogin_csryw",{get:function(){return""!=e.code_csryw||""!=e.token_csryw},enumerable:!1,configurable:!0}),e.getSaveData_csryw=function(){return e._gameData_csryw.physicalData=s.default.getData(),JSON.stringify(e._gameData_csryw)},e.testInitUser_csryw=function(){e._gameData_csryw.levelNum=1,e._gameData_csryw.moneyNum=0,e._gameData_csryw.candyNum=0,e._gameData_csryw.isCll=0,e._gameData_csryw.isFirst=1,e._gameData_csryw.isFirst2=1,e._gameData_csryw.houseNum=1,e._gameData_csryw.housePro=0,e._gameData_csryw.houseTip=0,e._gameData_csryw.curVersion=0,e._gameData_csryw.lastDate=0,e._gameData_csryw.goldGetArr=[0,0,0,0,0],e._gameData_csryw.propNumArr=[0,0,0],e._gameData_csryw.mapData=null,s.default.initData({})},e.initiUser_csryw=function(t){console.log("*****************************  User initUser  **************************************  "),console.log(t),t&&0!=t?(e._gameData_csryw.levelNum=e.verify(t.levelNum,0),e._gameData_csryw.moneyNum=e.verify(t.moneyNum,0),s.default.initData(e.verify(t.physicalData,{})),e._gameData_csryw.isCll=e.verify(t.isCll,0),e._gameData_csryw.isFirst=e.verify(t.isFirst,1),e._gameData_csryw.isFirst2=e.verify(t.isFirst2,1),e._gameData_csryw.houseNum=e.verify(t.houseNum,1),e._gameData_csryw.housePro=e.verify(t.housePro,0),e._gameData_csryw.houseTip=e.verify(t.houseTip,0),e._gameData_csryw.curVersion=e.verify(t.curVersion,0),e._gameData_csryw.candyNum=e.verify(t.candyNum,0),e._gameData_csryw.goldGetArr=e.verify(t.goldGetArr,[0,0,0,0,0]),e._gameData_csryw.lastDate=e.verify(t.lastDate,0),e._gameData_csryw.propNumArr=e.verify(t.propNumArr,[0,0,0]),t.mapData&&(e._gameData_csryw.mapData=t.mapData),l.default.is_TT_GAME_csryw()||e._gameData_csryw.curVersion<c.default.version&&(console.log("ly+++++ \u56de\u6863"),e.testInitUser_csryw(),e.setVersion_csryw(c.default.version),a.default.getInstance_csryw().saveGameData_csryw())):(s.default.initData({}),e.setVersion_csryw(c.default.version),a.default.getInstance_csryw().saveGameData_csryw())},e.setLeveNum_csryw=function(t){e._gameData_csryw.levelNum=t},e.getLeveNum_csryw=function(){return e._gameData_csryw.levelNum},e.addMoney_csryw=function(t){t=Math.ceil(t);var i=e._gameData_csryw.moneyNum;e._gameData_csryw.moneyNum+=t,r.default.emitEvent_csryw(o.ryw_Event.ryw_Game_OnUserMoneyChange_csryw,{curr:e._gameData_csryw.moneyNum,last:i})},e.subMoney_csryw=function(t){t=Math.ceil(t);var i=e._gameData_csryw.moneyNum;e._gameData_csryw.moneyNum-=t,e._gameData_csryw.moneyNum<0&&(e._gameData_csryw.moneyNum=0),r.default.emitEvent_csryw(o.ryw_Event.ryw_Game_OnUserMoneyChange_csryw,{curr:e._gameData_csryw.moneyNum,last:i})},e.getMoney_csryw=function(){return e._gameData_csryw.moneyNum},e.verify=function(e,t){return void 0!==e?e:t},e.getIsCll=function(){return e._gameData_csryw.isCll},e.setIsCll=function(t){e._gameData_csryw.isCll=t},e.setIsFirst_csryw=function(t){e._gameData_csryw.isFirst=t},e.getIsFirst_csryw=function(){return e._gameData_csryw.isFirst},e.setIsFirst2_csryw=function(t){e._gameData_csryw.isFirst=t},e.getIsFirst2_csryw=function(){return e._gameData_csryw.isFirst2},e.setHouseNum_csryw=function(t){e._gameData_csryw.houseNum=t},e.getHouseNum_csryw=function(){return e._gameData_csryw.houseNum},e.setHousePro_csryw=function(t){e._gameData_csryw.housePro=t},e.getHousePro_csryw=function(){return e._gameData_csryw.housePro},e.setHouseTip_csryw=function(t){e._gameData_csryw.houseTip=t},e.getHouseTip_csryw=function(){return e._gameData_csryw.houseTip},e.setGameCode=function(t){e.code_csryw=t},e.setGameOpenid=function(t){return e.openId_csryw=t},e.getGameOpenid=function(){return e.openId_csryw},e.getGameCode=function(){return e.code_csryw},e.setVersion_csryw=function(t){e._gameData_csryw.curVersion=t},e.getVersion_csryw=function(){return e._gameData_csryw.curVersion},e.addCandy_csryw=function(t){t=Math.ceil(t);var i=e._gameData_csryw.candyNum;e._gameData_csryw.candyNum+=t,r.default.emitEvent_csryw(o.ryw_Event.ryw_Game_OnUserCandyChange_csryw,{curr:e._gameData_csryw.candyNum,last:i})},e.subCandy_csryw=function(t){t=Math.ceil(t);var i=e._gameData_csryw.candyNum;e._gameData_csryw.candyNum-=t,e._gameData_csryw.candyNum<0&&(e._gameData_csryw.candyNum=0),r.default.emitEvent_csryw(o.ryw_Event.ryw_Game_OnUserCandyChange_csryw,{curr:e._gameData_csryw.candyNum,last:i})},e.getCandy_csryw=function(){return e._gameData_csryw.candyNum},e.setGoldGetArr_csryw=function(t){e._gameData_csryw.goldGetArr=t},e.getGoldGetArr_csryw=function(){return e._gameData_csryw.goldGetArr},e.getLastDate=function(){return e._gameData_csryw.lastDate},e.setLastDate=function(t){e._gameData_csryw.lastDate=t},e.setPropNumArr_csryw=function(t){e._gameData_csryw.propNumArr=t},e.getPropNumArr_csryw=function(){return e._gameData_csryw.propNumArr},e.setMapData_csryw=function(t){e._gameData_csryw.mapData=t},e.getMapData_csryw=function(){return e._gameData_csryw.mapData},e.code_csryw="",e.openId_csryw="",e.token_csryw=null,e.nickName_csryw="",e.gender_csryw=0,e._gameData_csryw=new u,e}();n.default=d,cc._RF.pop()},{}],Utilit:[function(e,t){"use strict";cc._RF.push(t,"61c44zlHUFAS7qfo4uDNl9l","Utilit");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0});var r=i("AppConfig"),o=i("AppPlatform"),s=i("AppSwitchConfig"),c=function(){function e(){}return e.random_csryw=function(e){return Math.floor(Math.random()*e)},e.convertDesignToFrameSize_csryw=function(e){var t=e.convertToWorldSpace(cc.v2(0,e.height)),i=e.width,n=cc.view.getFrameSize(),r=cc.view.getVisibleSize(),o=cc.director.getScene().getChildByName("Canvas"),s=1,c=0,a=0;if(o){var l=o.getComponent(cc.Canvas);if(l.fitWidth&&l.fitHeight){var u=n.width/r.width,d=n.height/r.height;u<d?(s=u,a=r.width,c=n.height*r.width/n.width):(s=d,c=r.height,a=n.width*r.height/n.height),c=(c-r.height)/2,a=(a-r.width)/2}else l.fitWidth?s=n.width/r.width:l.fitHeight&&(s=n.height/r.height)}var h=r.height-t.y+c,p=t.x*s+a,y=h*s,f=i*s,_={};return _.left=p,_.top=y,_.width=f,_},e.colorHex2Rgb_csryw=function(e){var t=cc.color(75,154,228);if(6==e.length){var i=parseInt("0x"+e.slice(0,2)),n=parseInt("0x"+e.slice(2,4)),r=parseInt("0x"+e.slice(4,6));t.r=i,t.g=n,t.b=r}return t},e.checkVersions_csryw=function(){var e=r.default.Versions_csryw;return null===e||""===e||(o.default.is_TT_GAME_csryw()?e===s.default.getInstance_csryw().getAppSwitchData_csryw().ttcfg_csryw.ttversions_csryw:o.default.is_OPPO_GAME_csryw()?e===s.default.getInstance_csryw().getAppSwitchData_csryw().oppocfg_csryw.oppoversions_csryw:o.default.is_QQ_PLAY_csryw()?e===s.default.getInstance_csryw().getAppSwitchData_csryw().qqcfg_csryw.qqversions_csryw:o.default.is_WECHAT_GAME_csryw()?e===s.default.getInstance_csryw().getAppSwitchData_csryw().version_csryw:!o.default.is_WECHAT_GAME_csryw()||e===s.default.getInstance_csryw().getAppSwitchData_csryw().vivocfg_csryw.vivoversions_csryw)},e.ryw_OriginStageWidth_csryw=1334,e.ryw_OriginStageHeight_csryw=750,e.ryw_grayscaleMat_csryw=[.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,.3086,.6094,.082,0,0,0,0,0,1,0],e}();n.default=c,cc._RF.pop()},{}],VIVOAPI:[function(e,t){"use strict";cc._RF.push(t,"08928uow1VAept/ZcH0nf9M","VIVOAPI");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0});var r=i("AppPlatform"),o=i("AppSwitchConfig"),s=i("AppConfig"),c=function(){function e(){}return Object.defineProperty(e,"BannerInstance_csryw",{get:function(){return this._banner_csryw},enumerable:!1,configurable:!0}),e.Login_csryw=function(e,t){window.qg.getSystemInfoSync().platformVersionCode>=1053?(console.log("vivo \u5f00\u59cb\u767b\u9646 >= 1053"),window.qg.login().then(function(i){if(i.data.token){var n=i.data.token;e(n,!0),console.log("vivo \u767b\u9646\u6210\u529f,\u83b7\u53d6\u5230 token : "+n)}else console.log("\u767b\u5f55\u5931\u8d25 res.data.token \u4e3a null"),t()},function(e){console.log("\u767b\u5f55\u5931\u8d25"+JSON.stringify(e)),t()})):(console.log("vivo \u5f00\u59cb\u767b\u9646 < 1053"),window.qg.authorize({type:"token",success:function(i){window.qg.getProfile({token:i.accessToken,success:function(t){console.log("openid\u83b7\u53d6\u6210\u529f",t.openid),e(t.openid,!1)},fail:function(e,i){console.log("\u83b7\u53d6openid\u5931\u8d25 : "+i),t()}})},fail:function(e,i){console.log("\u767b\u5f55\u5931\u8d25"+i),t()}}))},e.showDialog_csryw=function(e,t,i,n,r,o){window.qg.showDialog({title:e,message:t,buttons:i,success:function(){console.log("handling callback"),n()},cancel:function(){console.log("handling cancel"),r()},fail:function(e,t){console.log("handling fail, code = "+t),o()}})},e.createRewardedVideoAd_csryw=function(){r.default.is_VIVO_GAME_csryw()&&(e.rewardedAd_csryw=window.qg.createRewardedVideoAd({posId:e.adUnitId_csryw,style:{}}),e.rewardedAd_csryw.onError(function(e){switch(e.errCode){case-3:console.log("\u6fc0\u52b1\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25---\u8c03\u7528\u592a\u9891\u7e41",JSON.stringify(e));break;case-4:console.log("\u6fc0\u52b1\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25--- \u4e00\u5206\u949f\u5185\u4e0d\u80fd\u91cd\u590d\u52a0\u8f7d",JSON.stringify(e));break;case 30008:break;default:console.log("\u6fc0\u52b1\u5e7f\u544a\u5c55\u793a\u5931\u8d25"),console.log(JSON.stringify(e))}}),e.rewardedAd_csryw.onLoad(function(){var t=e.rewardedAd_csryw.show();t&&t.then(function(){console.log("\u6fc0\u52b1\u5e7f\u544a\u5c55\u793a\u6210\u529f")}).catch(function(t){console.log("\u6fc0\u52b1\u5e7f\u544a\u5c55\u793a\u5931\u8d25"+JSON.stringify(t)),e.onFailed()})}),e.rewardedAd_csryw.onClose(function(t){t&&t.isEnded?(console.log("\u6b63\u5e38\u64ad\u653e\u7ed3\u675f\uff0c\u53ef\u4ee5\u4e0b\u53d1\u6e38\u620f\u5956\u52b1"),e.onAdClose(!0)):(console.log("\u64ad\u653e\u4e2d\u9014\u9000\u51fa\uff0c\u4e0d\u4e0b\u53d1\u6e38\u620f\u5956\u52b1"),e.onAdClose(!1))}))},e.showRewardedVideoAd_csryw=function(t,i){if(r.default.is_VIVO_GAME_csryw()){if(e.onAdClose=t,e.onFailed=i,console.log("---------------------------------- VIVOAPI.rewardedAd:",e.rewardedAd_csryw+",VIVOAPI.rewardedAdNum:",e.rewardedAdNum_csryw),0==e.rewardedAdNum_csryw)e.createRewardedVideoAd_csryw();else{var n=e.rewardedAd_csryw.load();n&&n.catch(function(e){console.log("\u6fc0\u52b1\u5e7f\u544aload\u5931\u8d25"+JSON.stringify(e)),i()})}e.rewardedAdNum_csryw=1,console.log("\u8fd1\u6765showRewardedVideoAd")}},e.showBannerAd_csryw=function(){if(r.default.is_VIVO_GAME_csryw()){console.log("===========bannerAd showBanerAd");var t=window.qg.getSystemInfoSync();t.screenWidth,t.screenHeight,this.mBannerAd_csryw=window.qg.createBannerAd({posId:e.bannerAdUnitId_csryw,style:{}});var i=this.mBannerAd_csryw.show();i&&i.then(function(){console.log("banner\u5e7f\u544a\u5c55\u793a\u6210\u529f")}).catch(function(e){switch(e.code){case 30003:console.log("\u65b0\u7528\u62377\u5929\u5185\u4e0d\u80fd\u66dd\u5149Banner\uff0c\u8bf7\u5c06\u624b\u673a\u65f6\u95f4\u8c03\u6574\u4e3a7\u5929\u540e\uff0c\u9000\u51fa\u6e38\u620f\u91cd\u65b0\u8fdb\u5165");break;case 30009:console.log("10\u79d2\u5185\u8c03\u7528\u5e7f\u544a\u6b21\u6570\u8d85\u8fc71\u6b21\uff0c10\u79d2\u540e\u518d\u8c03\u7528");break;case 30002:console.log("\u52a0\u8f7d\u5e7f\u544a\u5931\u8d25\uff0c\u91cd\u65b0\u52a0\u8f7d\u5e7f\u544a");break;default:console.log("banner\u5e7f\u544a\u5c55\u793a\u5931\u8d25"),console.log(JSON.stringify(e))}}),this.mBannerAd_csryw.onError(function(e){console.log("Banner\u5e7f\u544a\u52a0\u8f7d\u5931\u8d25111:"+JSON.stringify(e))})}},e.hideBannerAd_csryw=function(){this.mBannerAd_csryw?(console.log("===========bannerAd \u9690\u85cf"),this.mBannerAd_csryw.hide(),this.mBannerAd_csryw.destroy(),this.mBannerAd_csryw=null):console.log("===========bannerAd \u4e3a\u7a7a")},e.navigateToMiniProgram_csryw=function(e,t,i,n,o){r.default.is_VIVO_GAME_csryw()&&(console.log("vivo \u8df3\u8f6c\u6e38\u620f\uff1a "+e),window.qg.navigateToMiniGame({pkgName:e,path:t,extraData:{from:s.default.AppID_csryw},envVersion:"release",success:function(e){i&&i(e)},fail:function(e){n&&n(e)},complete:function(e){o&&o(e)}}))},e.showInterstitialAd_csryw=function(t,i){if(r.default.is_VIVO_GAME_csryw()){var n=window.qg.createInterstitialAd({posId:e.InsAdUnitId_csryw});n.onLoad(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210")}),n.onClose(function(){t&&t()}),n.onError(function(e){console.log("\u63d2\u5c4f\u5e7f\u544a\u62c9\u53d6\u5931\u8d25",JSON.stringify(e)),i&&i()}),n.show().then(function(){console.log("\u63d2\u5c4f\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(){i&&i()})}else t&&t()},e.getLaunchOptionsSync_csryw=function(){return{}},e.share_csryw=function(e){r.default.is_VIVO_GAME_csryw()&&window.qg.share({success:function(){null!=e&&e(!0),window.qg.showToast({message:"\u5206\u4eab\u6210\u529f"})},fail:function(){window.qg.showToast({message:"\u5206\u4eab\u5931\u8d25"})},cancel:function(){window.qg.showToast({message:"\u5206\u4eab\u5931\u8d25"})},complete:function(){}})},e.createDesktopIcon_csryw=function(e,t){r.default.is_VIVO_GAME_csryw()?window.qg.hasShortcutInstalled({success:function(i){0==i?window.qg.installShortcut({success:function(){e&&e()},fail:function(e){for(var i in t&&t(),console.log("\u521b\u5efa\u684c\u9762\u56fe\u6807\u5931\u8d25\uff01\uff01\uff01\uff01",e),e)console.log(i,e)},complete:function(){}}):(console.log("\u684c\u9762\u56fe\u6807\u5df2\u5b58\u5728\uff01\uff01\uff01\uff01"),t&&t())},fail:function(e){for(var i in t&&t(),console.log("\u5224\u65ad\u684c\u9762\u56fe\u6807\u662f\u5426\u5b58\u5728\u5931\u8d25\uff01\uff01\uff01",e),e)console.log(i,e)},complete:function(){}}):t&&t()},e.tryShowNativeAd_csryw=function(){var e=o.default.getInstance_csryw().getAppSwitchData_csryw().vivocfg_csryw.yuanshengSwitch_csryw,t=o.default.getInstance_csryw().getAppSwitchData_csryw().vivocfg_csryw.vivoversions_csryw;return 1==e&&t==s.default.Versions_csryw},e.tryPopCreateDestopIcon_csryw=function(t,i){r.default.is_VIVO_GAME_csryw()&&1==o.default.getInstance_csryw().getAppSwitchData_csryw().vivocfg_csryw.addToDesktop_csryw?e.createDesktopIcon_csryw(t,i):null!=i&&i()},e.tryShowInsAd_csryw=function(t,i){1==o.default.getInstance_csryw().getAppSwitchData_csryw().vivocfg_csryw.chapingSwitch_csryw&&100*Math.random()<=o.default.getInstance_csryw().getAppSwitchData_csryw().vivocfg_csryw.chaping_csryw?e.showInterstitialAd_csryw(function(){t&&t()},function(){i&&i()}):i&&i()},e.LoadCahcedNativeAd_csryw=function(){},e.hasShortcutInstalled_csryw=function(e,t){window.qg.hasShortcutInstalled({success:function(t){0==t?(console.log("\u684c\u9762\u56fe\u6807\u4e0d\u5b58\u5728\uff01\uff01\uff01\uff01"),e&&e(!1)):(console.log("\u684c\u9762\u56fe\u6807\u5df2\u5b58\u5728\uff01\uff01\uff01\uff01"),e&&e(!0))},fail:function(e){for(var i in t&&t(),console.log("\u5224\u65ad\u684c\u9762\u56fe\u6807\u662f\u5426\u5b58\u5728\u5931\u8d25\uff01\uff01\uff01",e),e)console.log(i,e)},complete:function(){}})},e.adUnitId_csryw="",e.bannerAdUnitId_csryw="",e.nativeAdId_csryw="",e.InsAdUnitId_csryw="",e.rewardedAd_csryw=null,e.rewardedAdNum_csryw=0,e._banner_csryw=null,e.mBannerAd_csryw=null,e._cachedNativeAd_csryw=null,e._cachedAdItem_csryw=null,e._cachedimgUrl_csryw=null,e._tryLoadCount_csryw=5,e}();n.default=c,cc._RF.pop()},{}],VibrateMgr:[function(e,t){"use strict";cc._RF.push(t,"d1fd08XFy1K54GbFPz7QBml","VibrateMgr");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0});var r=i("AppPlatform"),o=function(){function e(){}return e.vibrateShort_csryw=function(){if(e.isEnable_csryw){var t="";r.default.is_TT_GAME_csryw()?t="tt":r.default.is_WECHAT_GAME_csryw()?t="wx":r.default.is_OPPO_GAME_csryw()||r.default.is_VIVO_GAME_csryw()?t="qg":r.default.is_QQ_PLAY_csryw()&&(t="qq"),""!=t&&window[t].vibrateShort()}},e.vibrateLong_csryw=function(){if(e.isEnable_csryw){var t="";r.default.is_TT_GAME_csryw()?t="tt":r.default.is_WECHAT_GAME_csryw()?t="wx":r.default.is_OPPO_GAME_csryw()||r.default.is_VIVO_GAME_csryw()?t="qg":r.default.is_QQ_PLAY_csryw()&&(t="qq"),""!=t&&window[t].vibrateLong()}},e.vibrate_csryw=function(t){if(e.isEnable_csryw){var i=0,n=t/15,o=null;o=function(t){setTimeout(function(){e.vibrateShort_csryw(),++i<=n&&o(t)},t)},r.default.is_TT_GAME_csryw()?(n=t/15,o(16)):r.default.is_WECHAT_GAME_csryw()?(n=t/15,o(16)):r.default.is_OPPO_GAME_csryw()?(n=t/20,o(21)):r.default.is_QQ_PLAY_csryw()&&(n=t/20,o(21))}},e.isEnable_csryw=!0,e}();n.default=o,cc._RF.pop()},{}],VideoBoxUnlock:[function(e,t){"use strict";cc._RF.push(t,"c56a8oQBFxAipAwv8+YbCpJ","VideoBoxUnlock");var i=e,n=t.exports,r=__extends,o=__decorate;Object.defineProperty(n,"__esModule",{value:!0});var s=i("TTAPI"),c=i("SoundMgr"),a=i("Common5"),l=i("MapCtrl"),u=cc._decorator,d=u.ccclass,h=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.onLoad=function(){var e=this;a.default.btnRegister_csryw(this.node,function(){s.default.showRewardedVideoAd_csryw("\u770b\u89c6\u9891\u89e3\u9501\u683c\u5b50"+l.default.inst.levelId+"_"+a.default.calculateLevel(l.default.inst.curScore,l.default.inst.winScore),function(t){if(1==t){l.default.inst.curVideoNum++,l.default.inst.videoGridArr.splice(l.default.inst.videoGridArr.indexOf(e.node.parent.name),1),e.node.destroy(),c.default.playSoundFromBundle("resources",c.MusicName.\u89e3\u9501\u65b0\u5730\u5757);var i=e.node.parent.convertToNodeSpaceAR(e.node.convertToWorldSpaceAR(cc.v2(0,0)));a.default.getPrefabFromBundle("subRes","Particle/ef_jiesuo",e.node.parent,function(e){e.setPosition(i)})}},function(){})})},o([d],t)}(cc.Component));n.default=h,cc._RF.pop()},{}],WXAPI:[function(e,t){"use strict";cc._RF.push(t,"bc8023CDWpHe7xTzNvqfFhi","WXAPI");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0}),n.GameRecorder=void 0;var r=i("AppPlatform"),o=i("AppConfig"),s=i("AppSwitchConfig"),c=i("WudianMgr"),a=function(){function e(){this._recorder_csryw=null}return Object.defineProperty(e.prototype,"recorder_csryw",{get:function(){return this._recorder_csryw},enumerable:!1,configurable:!0}),e.prototype.start_csryw=function(){null!=this.recorder_csryw&&this.recorder_csryw.start()},e.prototype.stop_csryw=function(){null!=this.recorder_csryw&&this.recorder_csryw.stop()},e.prototype.pause_csryw=function(){null!=this.recorder_csryw&&this.recorder_csryw.pause()},e.prototype.resume_csryw=function(){null!=this.recorder_csryw&&this.recorder_csryw.resume()},e.prototype.abort_csryw=function(){null!=this.recorder_csryw&&this.recorder_csryw.abort()},e.prototype.showShareBtn_csryw=function(){null!=this.recorder_csryw&&window.wx.createGameRecorderShareButton({style:{left:10,top:150,height:50,color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4,iconMarginRight:16,paddingLeft:1,paddingRight:30},image:"button.jpg",text:"\u81ea\u5b9a\u4e49\u6587\u6848",icon:"icon.jpg",share:{query:"a=1&b=2",bgm:"walkin.mp3",timeRange:[[0,1e3],[2e3,3e3]],title:{template:"default.score",data:{score:6500}},button:{template:"default.enter"}}})},e}();n.GameRecorder=a;var l=function(){function e(){}return e.wxLogin_csryw=function(e){r.default.is_WECHAT_GAME_csryw()&&window.wx.login({success:function(t){if(t.code){var i=t.code;console.log("\u767b\u9646\u6210\u529f,\u83b7\u53d6\u5230code : "+i),e(i)}}})},e.onRewardedVideoAdLoad_csryw=function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u5b8c\u6210")},e.onRewardedVideoAdError_csryw=function(t){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25"+t),console.log(JSON.stringify(t)),e._onRewardedVideoAdFailed_csryw&&e._onRewardedVideoAdFailed_csryw()},e.onRewardedVideoAdClose_csryw=function(t){t&&t.isEnded||null==t?(console.log("\u6fc0\u52b1\u89c6\u9891 \u5df2\u5b8c\u6574\u89c2\u770b"),e._onRewardedVideoAdClose_csryw&&e._onRewardedVideoAdClose_csryw(!0)):(console.log("\u6fc0\u52b1\u89c6\u9891 \u672a\u5b8c\u6574\u89c2\u770b"),e._onRewardedVideoAdClose_csryw&&e._onRewardedVideoAdClose_csryw(!1))},e.regRewardedVideoAdEvent_csryw=function(t){t.onLoad(e.onRewardedVideoAdLoad_csryw),t.onError(e.onRewardedVideoAdError_csryw),t.onClose(e.onRewardedVideoAdClose_csryw),e._isRegRewardedVideoAdEvent_csryw=!0},e.showRewardedVideoAd_csryw=function(t,i,n){var s=Math.floor(Math.random()*o.default.adUnitId_csryw.length);if(r.default.is_WECHAT_GAME_csryw()){e._onRewardedVideoAdClose_csryw=t,e._onRewardedVideoAdFailed_csryw=i;var c=o.default.adUnitId_csryw[s];n&&(c=n);var a=window.wx.createRewardedVideoAd({adUnitId:c});e._isRegRewardedVideoAdEvent_csryw||e.regRewardedVideoAdEvent_csryw(a),a.load().then(function(){var e=a.show();e.then(function(){return console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u6210\u529f")}),e.catch(function(){a.load().then(function(){return a.show()}).catch(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25")})})}).catch(function(){console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u52a0\u8f7d\u5931\u8d25")})}else t(!0)},e.navigateToMiniProgram_csryw=function(e,t,i,n,o){r.default.is_WECHAT_GAME_csryw()&&(console.log("\u8df3\u8f6c\u6e38\u620f\uff1a "+e),window.wx.navigateToMiniProgram({appId:e,path:t,extraData:{foo:"bar"},envVersion:"release",success:function(e){i&&i(e)},fail:function(e){n&&n(e)},complete:function(e){o&&o(e)}}))},e.share_csryw=function(t,i,n){var o=this;r.default.is_WECHAT_GAME_csryw()&&(e._onShow_csryw=function(){window.wx.offShow(e._onShow_csryw),e._onShow_csryw=null,Date.now(),o._lastShareTime_csryw,t&&(Date.now()-o._lastShareTime_csryw>2e3?t(!0):t(!1))},window.wx.onShow(e._onShow_csryw),this._lastShareTime_csryw=Date.now(),window.wx.shareAppMessage({title:i,imageUrl:n}))},e.showInterstitialAd_csryw=function(e,t){var i=Math.floor(Math.random()*o.default.InsAdUnitId_csryw.length);if(r.default.is_WECHAT_GAME_csryw()){var n=window.wx.createInterstitialAd({adUnitId:o.default.InsAdUnitId_csryw[i]});n.onLoad(function(){console.log("\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u5b8c\u6210"),n.show().catch(function(e){console.log("\u63d2\u5c4f\u5e7f\u544a \u663e\u793a\u5931\u8d25 \uff1a"+e),t&&t()})}),n.onError(function(e){console.log("\u63d2\u5c4f\u5e7f\u544a \u52a0\u8f7d\u5931\u8d25"+e),t&&t()}),n.onClose(function(){console.log("\u63d2\u5c4f\u5e7f\u544a \u5173\u95ed"),e&&e()})}else e()},e.getLaunchOptionsSync_csryw=function(){if(r.default.is_WECHAT_GAME_csryw()){var e=window.wx.getLaunchOptionsSync();console.log("\u573a\u666f\u503c "+e.scene);var t=JSON.stringify(e.query);console.log("Query\u53c2\u6570 "+t);var i=e.query.key;return console.log("Query\u53c2\u6570\uff1akey "+i),console.log("ShareTicket "+e.shareTicket),console.log("ReferrerInfo.appId "+e.referrerInfo.appId),console.log("ReferrerInfo.extraData "+e.referrerInfo.extraData),e}return{scene:1001,query:"",shareTicket:"",appId:"",extraData:""}},e.SetShareMenu_csryw=function(e,t,i,n,o){r.default.is_WECHAT_GAME_csryw()&&(console.log("\u5c0f\u6e38\u620f\u8bbe\u7f6e\u8f6c\u53d1\u6309\u94ae"),window.wx.showShareMenu({withShareTicket:!1,success:i,fail:n,complete:o}),window.wx.onShareAppMessage(function(){return{title:e,imageUrl:t}}))},e.checkUpdate_csryw=function(){if(r.default.is_WECHAT_GAME_csryw()){var e=window.wx.getUpdateManager();e.onCheckForUpdate(function(e){console.log("\u662f\u5426\u9700\u8981\u66f4\u65b0 : ",e.hasUpdate)}),e.onUpdateReady(function(){window.wx.showModal({title:"\u66f4\u65b0\u63d0\u793a",content:"\u65b0\u7248\u672c\u5df2\u7ecf\u51c6\u5907\u597d\uff0c\u662f\u5426\u91cd\u542f\u5c0f\u6e38\u620f\uff1f",success:function(t){t.confirm&&e.applyUpdate()}})}),e.onUpdateFailed(function(){console.log("\u65b0\u7248\u672c\u4e0b\u8f7d\u5931\u8d25!!!")})}},e.tryShowWXCrazyClick_csryw=function(){if(!c.default.wudianFlag_csryw||1!=s.default.getInstance_csryw().getAppSwitchData_csryw().wxcfg_csryw.kuangdianBanner_csryw)return!1;var t=s.default.getInstance_csryw().getAppSwitchData_csryw().wxcfg_csryw.kuangdianLevelSpcacing_csryw;return 0==t||(console.log(" WXAPI._crazyClickShowCounter_csryw = "+e._crazyClickShowCounter_csryw+" (kuangdianLevelSpcacing - 1) = "+(t-1)),e._crazyClickShowCounter_csryw==t-1?(e._crazyClickShowCounter_csryw=0,!0):(e._crazyClickShowCounter_csryw++,!1))},e.GameRecorder_csryw=new a,e._isRegRewardedVideoAdEvent_csryw=!1,e._onRewardedVideoAdFailed_csryw=null,e._onRewardedVideoAdClose_csryw=null,e._onShow_csryw=null,e._lastShareTime_csryw=0,e._crazyClickShowCounter_csryw=0,e}();n.default=l,cc._RF.pop()},{}],WudianMgr:[function(e,t){"use strict";cc._RF.push(t,"84175hHWFRDVLEderLL8jc9","WudianMgr");var i=e,n=t.exports;Object.defineProperty(n,"__esModule",{value:!0});var r=i("QQMiniGameAPI"),o=i("WXAPI"),s=i("AppSwitchConfig"),c=i("EventEnum"),a=i("EventMgr"),l=i("HttpUnit"),u=i("AppPlatform"),d=function(){function e(){}return e.ryw_IpBlockFlag_csryw=function(){return e.ipBlockFlag_csryw},e.UpdateIpBlockState_csryw=function(t){l.default.GetIpBlock_csryw(function(i){console.log("\u8c03\u7528IpBlock\u63a5\u53e3\u6210\u529f,\u7ed3\u679c\u4e3a:",i),e.ipBlockFlag_csryw=i.code,a.default.emitEvent_csryw(c.ryw_Event.ryw_App_OnUpdateIpBlockState_csryw,{ipBlockFlag:e.ipBlockFlag_csryw}),t&&t()},null)},e.ryw_GetIpBlocked_csryw=function(){return 0==e.ipBlockFlag_csryw},e.ryw_IsSwitchOpen_csryw=function(){var e=1==s.default.getInstance_csryw().getAppSwitchData_csryw().wudian_csryw,t=s.default.getInstance_csryw().getAppSwitchData_csryw().wudianTimeAvaliable_csryw;return console.log("\u8bef\u70b9 Flag_csryw \u72b6\u6001: ","\u603b\u5f00\u5173:",e,"\u6253\u5f00\u65f6\u95f4",t),e&&t},Object.defineProperty(e,"wudianFlag_noIpBlock_csryw",{get:function(){var e=1==s.default.getInstance_csryw().getAppSwitchData_csryw().wudian_csryw,t=s.default.getInstance_csryw().getAppSwitchData_csryw().wudianTimeAvaliable_csryw,i=u.default.getLaunchOptionsSync_csryw().scene;u.default.is_TT_GAME_csryw()&&(e=!0,t=!0);for(var n=!0,r=s.default.getInstance_csryw().getAppSwitchData_csryw().wudianSceneList_csryw,o=0;o<r.length;++o)i==r[o]&&(n=!1);return console.log("\u8bef\u70b9 Flag_csryw \u72b6\u6001: ","\u603b\u5f00\u5173:",e,"\u573a\u666f\u8fdb\u5165",n,"\u6253\u5f00\u65f6\u95f4",t),e&&n&&t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"wudianFlag_csryw",{get:function(){var e=1==s.default.getInstance_csryw().getAppSwitchData_csryw().wudian_csryw,t=s.default.getInstance_csryw().getAppSwitchData_csryw().wudianTimeAvaliable_csryw,i=0==this.ipBlockFlag_csryw,n=u.default.getLaunchOptionsSync_csryw().scene;u.default.is_TT_GAME_csryw()&&(e=!0,t=!0);for(var r=!0,o=s.default.getInstance_csryw().getAppSwitchData_csryw().wudianSceneList_csryw,c=0;c<o.length;++c)n==o[c]&&(r=!1);return console.log("\u8bef\u70b9 Flag_csryw \u72b6\u6001: ","\u603b\u5f00\u5173:",e,"\u573a\u666f\u8fdb\u5165",r,"IP\u672a\u88ab\u5c4f\u853d",i,"\u6253\u5f00\u65f6\u95f4",t),e&&r&&i&&t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"NoTimeWudianFlag_csryw",{get:function(){for(var t=1==s.default.getInstance_csryw().getAppSwitchData_csryw().wudian_csryw,i=u.default.getLaunchOptionsSync_csryw().scene,n=!0,r=s.default.getInstance_csryw().getAppSwitchData_csryw().wudianSceneList_csryw,o=0;o<r.length;++o)i==r[o]&&(n=!1);var c=0==e.ipBlockFlag_csryw;return console.log("\u8bef\u70b9 Flag_csryw \u72b6\u6001: ","\u603b\u5f00\u5173:",t,"\u573a\u666f\u8fdb\u5165",n,"IP\u672a\u88ab\u5c4f\u853d"),t&&n&&c},enumerable:!1,configurable:!0}),Object.defineProperty(e,"isEnterBySerach_csryw",{get:function(){var e=null;u.default.is_WECHAT_GAME_csryw()?e=o.default.getLaunchOptionsSync_csryw().scene:u.default.is_QQ_PLAY_csryw()&&(e=r.default.getLaunchOptionsSync_csryw().scene);for(var t=!0,i=[1011,1012,1013,1047],n=0;n<i.length;++n)e==i[n]&&(t=!1);return console.log("\u573a\u666f\u8fdb\u5165",t),t},enumerable:!1,configurable:!0}),e.ipBlockFlag_csryw=-1,e}();n.default=d,cc._RF.pop()},{}],YPlatform:[function(e,t){"use strict";cc._RF.push(t,"96e1epR22tNbodaGMJhSSOG","YPlatform");var i=t.exports;Object.defineProperty(i,"__esModule",{value:!0}),i.YPlatform=void 0;var n=function(){function e(){this.prompt_=null,this.fullAdTime=0,this.isMusicPause=!1,this.morePanel=null}return e.prototype.showReward=function(e,t){var i=this;if(console.log("---showReward---"),window.ysdk){this.isMusicPause=!0;var n=!1;window.ysdk.adv.showRewardedVideo({callbacks:{onOpen:function(){cc.audioEngine.stopAll(),i.isMusicPause=!0,console.warn("Video ad open.")},onRewarded:function(){n=!0,console.warn("Rewarded!")},onClose:function(){i.isMusicPause=!1,n?(e&&e(),e=null):(t&&t(),t=null),console.warn("Video ad closed.")},onError:function(e){i.isMusicPause=!1,t&&t(),t=null,console.warn("Error while open video ad:",e)}}})}else e&&e(),e=null},e.prototype.showFullScreenAd=function(e,t){var i=this;console.log("---showFullScreen---");var n=Math.round((new Date).getTime()/1e3);window.ysdk&&(t||!isDraft)&&n-this.fullAdTime>=60?(this.isMusicPause=!0,window.ysdk.adv.showFullscreenAdv({callbacks:{onOpen:function(){cc.audioEngine.stopAll(),i.isMusicPause=!0,i.fullAdTime=Math.round((new Date).getTime()/1e3),console.warn("fullscreen open")},onClose:function(t){i.isMusicPause=!1,t&&(i.fullAdTime=Math.round((new Date).getTime()/1e3)),e&&e(),console.warn("fullscreen close",t)},onError:function(t){i.isMusicPause=!1,e&&e(),console.warn("fullscreen error",t)}}})):e&&e()},e.prototype.prompt=function(e,t){this.prompt_||(this.prompt_=document.createElement("div"),this.prompt_.style.cssText="font-family:siyuan;max-width:80%;min-width:320px;padding:10px 10px 10px 10px;min-height:40px;color: rgb(255, 255, 255);line-height: 20px;text-align:center;border-radius: 4px;position: fixed;top: 40%;left: 50%;transform: translate(-50%, -50%);z-index: 999999;background: rgba(0, 0, 0,.7);font-size: 16px;",document.body.appendChild(this.prompt_)),this.prompt_.innerHTML=e,t=isNaN(t)?2e3:t,this.prompt_.style.display="inline",this.prompt_.style.opacity="1",setTimeout(function(){this.prompt_.style.webkitTransition="-webkit-transform 0.5s ease-in, opacity 0.5s ease-in",this.prompt_.style.opacity="0",this.prompt_.style.display="none"}.bind(this),t)},e}();i.default=n,i.YPlatform=new n,cc._RF.pop()},{}],aes:[function(e,t){"use strict";cc._RF.push(t,"214e0sY5D5IGaWnD8e+Y13+","aes");var i,n,r=t,o=o||function(e){var t={},i=t.lib={},n=function(){},r=i.Base={extend:function(e){n.prototype=this;var t=new n;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=i.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,i=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var r=0;r<e;r++)t[n+r>>>2]|=(i[r>>>2]>>>24-r%4*8&255)<<24-(n+r)%4*8;else if(65535<i.length)for(r=0;r<e;r+=4)t[n+r>>>2]=i[r>>>2];else t.push.apply(t,i);return this.sigBytes+=e,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i=[],n=0;n<t;n+=4)i.push(4294967296*e.random()|0);return new o.init(i,t)}}),s=t.enc={},c=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++){var r=t[n>>>2]>>>24-n%4*8&255;i.push((r>>>4).toString(16)),i.push((15&r).toString(16))}return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n+=2)i[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new o.init(i,t/2)}},a=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var i=[],n=0;n<e;n++)i.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return i.join("")},parse:function(e){for(var t=e.length,i=[],n=0;n<t;n++)i[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new o.init(i,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(a.stringify(e)))}catch(t){throw Error("Malformed UTF-8 data")}},parse:function(e){return a.parse(unescape(encodeURIComponent(e)))}},u=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,n=i.words,r=i.sigBytes,s=this.blockSize,c=r/(4*s);if(t=(c=t?e.ceil(c):e.max((0|c)-this._minBufferSize,0))*s,r=e.min(4*t,r),t){for(var a=0;a<t;a+=s)this._doProcessBlock(n,a);a=n.splice(0,t),i.sigBytes-=r}return new o.init(a,r)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=u.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new d.HMAC.init(e,i).finalize(t)}}});var d=t.algo={};return t}(Math);n=(i=o).lib.WordArray,i.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,n=this._map;e.clamp(),e=[];for(var r=0;r<i;r+=3)for(var o=(t[r>>>2]>>>24-r%4*8&255)<<16|(t[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t[r+2>>>2]>>>24-(r+2)%4*8&255,s=0;4>s&&r+.75*s<i;s++)e.push(n.charAt(o>>>6*(3-s)&63));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var t=e.length,i=this._map;(r=i.charAt(64))&&-1!=(r=e.indexOf(r))&&(t=r);for(var r=[],o=0,s=0;s<t;s++)if(s%4){var c=i.indexOf(e.charAt(s-1))<<s%4*2,a=i.indexOf(e.charAt(s))>>>6-s%4*2;r[o>>>2]|=(c|a)<<24-o%4*8,o++}return n.create(r,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(e){function t(e,t,i,n,r,o,s){return((e=e+(t&i|~t&n)+r+s)<<o|e>>>32-o)+t}function i(e,t,i,n,r,o,s){return((e=e+(t&n|i&~n)+r+s)<<o|e>>>32-o)+t}function n(e,t,i,n,r,o,s){return((e=e+(t^i^n)+r+s)<<o|e>>>32-o)+t}function r(e,t,i,n,r,o,s){return((e=e+(i^(t|~n))+r+s)<<o|e>>>32-o)+t}for(var s=o,c=(l=s.lib).WordArray,a=l.Hasher,l=s.algo,u=[],d=0;64>d;d++)u[d]=4294967296*e.abs(e.sin(d+1))|0;l=l.MD5=a.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,o){for(var s=0;16>s;s++){var c=e[a=o+s];e[a]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}s=this._hash.words;var a=e[o+0],l=(c=e[o+1],e[o+2]),d=e[o+3],h=e[o+4],p=e[o+5],y=e[o+6],f=e[o+7],_=e[o+8],g=e[o+9],w=e[o+10],m=e[o+11],v=e[o+12],b=e[o+13],S=e[o+14],A=e[o+15],C=t(C=s[0],I=s[1],N=s[2],k=s[3],a,7,u[0]),k=t(k,C,I,N,c,12,u[1]),N=t(N,k,C,I,l,17,u[2]),I=t(I,N,k,C,d,22,u[3]);C=t(C,I,N,k,h,7,u[4]),k=t(k,C,I,N,p,12,u[5]),N=t(N,k,C,I,y,17,u[6]),I=t(I,N,k,C,f,22,u[7]),C=t(C,I,N,k,_,7,u[8]),k=t(k,C,I,N,g,12,u[9]),N=t(N,k,C,I,w,17,u[10]),I=t(I,N,k,C,m,22,u[11]),C=t(C,I,N,k,v,7,u[12]),k=t(k,C,I,N,b,12,u[13]),N=t(N,k,C,I,S,17,u[14]),C=i(C,I=t(I,N,k,C,A,22,u[15]),N,k,c,5,u[16]),k=i(k,C,I,N,y,9,u[17]),N=i(N,k,C,I,m,14,u[18]),I=i(I,N,k,C,a,20,u[19]),C=i(C,I,N,k,p,5,u[20]),k=i(k,C,I,N,w,9,u[21]),N=i(N,k,C,I,A,14,u[22]),I=i(I,N,k,C,h,20,u[23]),C=i(C,I,N,k,g,5,u[24]),k=i(k,C,I,N,S,9,u[25]),N=i(N,k,C,I,d,14,u[26]),I=i(I,N,k,C,_,20,u[27]),C=i(C,I,N,k,b,5,u[28]),k=i(k,C,I,N,l,9,u[29]),N=i(N,k,C,I,f,14,u[30]),C=n(C,I=i(I,N,k,C,v,20,u[31]),N,k,p,4,u[32]),k=n(k,C,I,N,_,11,u[33]),N=n(N,k,C,I,m,16,u[34]),I=n(I,N,k,C,S,23,u[35]),C=n(C,I,N,k,c,4,u[36]),k=n(k,C,I,N,h,11,u[37]),N=n(N,k,C,I,f,16,u[38]),I=n(I,N,k,C,w,23,u[39]),C=n(C,I,N,k,b,4,u[40]),k=n(k,C,I,N,a,11,u[41]),N=n(N,k,C,I,d,16,u[42]),I=n(I,N,k,C,y,23,u[43]),C=n(C,I,N,k,g,4,u[44]),k=n(k,C,I,N,v,11,u[45]),N=n(N,k,C,I,A,16,u[46]),C=r(C,I=n(I,N,k,C,l,23,u[47]),N,k,a,6,u[48]),k=r(k,C,I,N,f,10,u[49]),N=r(N,k,C,I,S,15,u[50]),I=r(I,N,k,C,p,21,u[51]),C=r(C,I,N,k,v,6,u[52]),k=r(k,C,I,N,d,10,u[53]),N=r(N,k,C,I,w,15,u[54]),I=r(I,N,k,C,c,21,u[55]),C=r(C,I,N,k,_,6,u[56]),k=r(k,C,I,N,A,10,u[57]),N=r(N,k,C,I,y,15,u[58]),I=r(I,N,k,C,b,21,u[59]),C=r(C,I,N,k,h,6,u[60]),k=r(k,C,I,N,m,10,u[61]),N=r(N,k,C,I,l,15,u[62]),I=r(I,N,k,C,g,21,u[63]),s[0]=s[0]+C|0,s[1]=s[1]+I|0,s[2]=s[2]+N|0,s[3]=s[3]+k|0},_doFinalize:function(){var t=this._data,i=t.words,n=8*this._nDataBytes,r=8*t.sigBytes;i[r>>>5]|=128<<24-r%32;var o=e.floor(n/4294967296);for(i[15+(r+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),i[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),t.sigBytes=4*(i.length+1),this._process(),i=(t=this._hash).words,n=0;4>n;n++)r=i[n],i[n]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);return t},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),s.MD5=a._createHelper(l),s.HmacMD5=a._createHmacHelper(l)}(Math),function(){var e,t=o,i=(e=t.lib).Base,n=e.WordArray,r=(e=t.algo).EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:e.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var i=(c=this.cfg).hasher.create(),r=n.create(),o=r.words,s=c.keySize,c=c.iterations;o.length<s;){a&&i.update(a);var a=i.update(e).finalize(t);i.reset();for(var l=1;l<c;l++)a=i.finalize(a),i.reset();r.concat(a)}return r.sigBytes=4*s,r}});t.EvpKDF=function(e,t,i){return r.create(i).compute(e,t)}}(),o.lib.Cipher||function(){var e=(p=o).lib,t=e.Base,i=e.WordArray,n=e.BufferedBlockAlgorithm,r=p.enc.Base64,s=p.algo.EvpKDF,c=e.Cipher=n.extend({cfg:t.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,i){this.cfg=this.cfg.extend(i),this._xformMode=e,this._key=t,this.reset()},reset:function(){n.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(e){return{encrypt:function(t,i,n){return("string"==typeof i?y:h).encrypt(e,t,i,n)},decrypt:function(t,i,n){return("string"==typeof i?y:h).decrypt(e,t,i,n)}}}});e.StreamCipher=c.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var a=p.mode={},l=function(e,t,i){var n=this._iv;n?this._iv=void 0:n=this._prevBlock;for(var r=0;r<i;r++)e[t+r]^=n[r]},u=(e.BlockCipherMode=t.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}})).extend();u.Encryptor=u.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize;l.call(this,e,t,n),i.encryptBlock(e,t),this._prevBlock=e.slice(t,t+n)}}),u.Decryptor=u.extend({processBlock:function(e,t){var i=this._cipher,n=i.blockSize,r=e.slice(t,t+n);i.decryptBlock(e,t),l.call(this,e,t,n),this._prevBlock=r}}),a=a.CBC=u,u=(p.pad={}).Pkcs7={pad:function(e,t){for(var n,r=(n=(n=4*t)-e.sigBytes%n)<<24|n<<16|n<<8|n,o=[],s=0;s<n;s+=4)o.push(r);n=i.create(o,n),e.concat(n)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},e.BlockCipher=c.extend({cfg:c.cfg.extend({mode:a,padding:u}),reset:function(){c.reset.call(this);var e=(t=this.cfg).iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var i=t.createEncryptor;else i=t.createDecryptor,this._minBufferSize=1;this._mode=i.call(t,this,e&&e.words)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){e.pad(this._data,this.blockSize);var t=this._process(!0)}else t=this._process(!0),e.unpad(t);return t},blockSize:4});var d=e.CipherParams=t.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),h=(a=(p.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext;return((e=e.salt)?i.create([1398893684,1701076831]).concat(e).concat(t):t).toString(r)},parse:function(e){var t=(e=r.parse(e)).words;if(1398893684==t[0]&&1701076831==t[1]){var n=i.create(t.slice(2,4));t.splice(0,4),e.sigBytes-=16}return d.create({ciphertext:e,salt:n})}},e.SerializableCipher=t.extend({cfg:t.extend({format:a}),encrypt:function(e,t,i,n){n=this.cfg.extend(n);var r=e.createEncryptor(i,n);return t=r.finalize(t),r=r.cfg,d.create({ciphertext:t,key:i,iv:r.iv,algorithm:e,mode:r.mode,padding:r.padding,blockSize:e.blockSize,formatter:n.format})},decrypt:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),e.createDecryptor(i,n).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}})),p=(p.kdf={}).OpenSSL={execute:function(e,t,n,r){return r||(r=i.random(8)),e=s.create({keySize:t+n}).compute(e,r),n=i.create(e.words.slice(t),4*n),e.sigBytes=4*t,d.create({key:e,iv:n,salt:r})}},y=e.PasswordBasedCipher=h.extend({cfg:h.cfg.extend({kdf:p}),encrypt:function(e,t,i,n){return i=(n=this.cfg.extend(n)).kdf.execute(i,e.keySize,e.ivSize),n.iv=i.iv,(e=h.encrypt.call(this,e,t,i.key,n)).mixIn(i),e},decrypt:function(e,t,i,n){return n=this.cfg.extend(n),t=this._parse(t,n.format),i=n.kdf.execute(i,e.keySize,e.ivSize,t.salt),n.iv=i.iv,h.decrypt.call(this,e,t,i.key,n)}})}(),function(){for(var e=o,t=e.lib.BlockCipher,i=e.algo,n=[],r=[],s=[],c=[],a=[],l=[],u=[],d=[],h=[],p=[],y=[],f=0;256>f;f++)y[f]=128>f?f<<1:f<<1^283;var _=0,g=0;for(f=0;256>f;f++){var w=(w=g^g<<1^g<<2^g<<3^g<<4)>>>8^255&w^99;n[_]=w,r[w]=_;var m=y[_],v=y[m],b=y[v],S=257*y[w]^16843008*w;s[_]=S<<24|S>>>8,c[_]=S<<16|S>>>16,a[_]=S<<8|S>>>24,l[_]=S,S=16843009*b^65537*v^257*m^16843008*_,u[w]=S<<24|S>>>8,d[w]=S<<16|S>>>16,h[w]=S<<8|S>>>24,p[w]=S,_?(_=m^y[y[y[b^m]]],g^=y[y[g]]):_=g=1}var A=[0,1,2,4,8,16,32,64,128,27,54];i=i.AES=t.extend({_doReset:function(){for(var e=(i=this._key).words,t=i.sigBytes/4,i=4*((this._nRounds=t+6)+1),r=this._keySchedule=[],o=0;o<i;o++)if(o<t)r[o]=e[o];else{var s=r[o-1];o%t?6<t&&4==o%t&&(s=n[s>>>24]<<24|n[s>>>16&255]<<16|n[s>>>8&255]<<8|n[255&s]):(s=n[(s=s<<8|s>>>24)>>>24]<<24|n[s>>>16&255]<<16|n[s>>>8&255]<<8|n[255&s],s^=A[o/t|0]<<24),r[o]=r[o-t]^s}for(e=this._invKeySchedule=[],t=0;t<i;t++)o=i-t,s=t%4?r[o]:r[o-4],e[t]=4>t||4>=o?s:u[n[s>>>24]]^d[n[s>>>16&255]]^h[n[s>>>8&255]]^p[n[255&s]]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,s,c,a,l,n)},decryptBlock:function(e,t){var i=e[t+1];e[t+1]=e[t+3],e[t+3]=i,this._doCryptBlock(e,t,this._invKeySchedule,u,d,h,p,r),i=e[t+1],e[t+1]=e[t+3],e[t+3]=i},_doCryptBlock:function(e,t,i,n,r,o,s,c){for(var a=this._nRounds,l=e[t]^i[0],u=e[t+1]^i[1],d=e[t+2]^i[2],h=e[t+3]^i[3],p=4,y=1;y<a;y++){var f=n[l>>>24]^r[u>>>16&255]^o[d>>>8&255]^s[255&h]^i[p++],_=n[u>>>24]^r[d>>>16&255]^o[h>>>8&255]^s[255&l]^i[p++],g=n[d>>>24]^r[h>>>16&255]^o[l>>>8&255]^s[255&u]^i[p++];h=n[h>>>24]^r[l>>>16&255]^o[u>>>8&255]^s[255&d]^i[p++],l=f,u=_,d=g}f=(c[l>>>24]<<24|c[u>>>16&255]<<16|c[d>>>8&255]<<8|c[255&h])^i[p++],_=(c[u>>>24]<<24|c[d>>>16&255]<<16|c[h>>>8&255]<<8|c[255&l])^i[p++],g=(c[d>>>24]<<24|c[h>>>16&255]<<16|c[l>>>8&255]<<8|c[255&u])^i[p++],h=(c[h>>>24]<<24|c[l>>>16&255]<<16|c[u>>>8&255]<<8|c[255&d])^i[p++],e[t]=f,e[t+1]=_,e[t+2]=g,e[t+3]=h},keySize:8}),e.AES=t._createHelper(i)}(),r.exports=o,cc._RF.pop()},{}],"tdanalytics.mg.cocoscreator.min":[function(e,t){"use strict";cc._RF.push(t,"2f3b1p0iutB7omzupXe3IQ4","tdanalytics.mg.cocoscreator.min");var i=t;function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,i){return t&&o(e.prototype,t),i&&o(e,i),e}var c={},a=Array.prototype,l=Object.prototype,u=a.slice,d=l.toString,h=Object.prototype.hasOwnProperty,p=a.forEach,y=Array.isArray,f={},_=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"];c.each=function(e,t,i){if(null==e)return!1;if(p&&e.forEach===p)e.forEach(t,i);else if(e.length===+e.length){for(var n=0,r=e.length;n<r;n++)if(n in e&&t.call(i,e[n],n,e)===f)return!1}else for(var o in e)if(h.call(e,o)&&t.call(i,e[o],o,e)===f)return!1},c.extend=function(e){return c.each(u.call(arguments,1),function(t){for(var i in t)void 0!==t[i]&&(e[i]=t[i])}),e},c.extend2Layers=function(e){return c.each(u.call(arguments,1),function(t){for(var i in t)void 0!==t[i]&&(c.isObject(t[i])&&c.isObject(e[i])?c.extend(e[i],t[i]):e[i]=t[i])}),e},c.isArray=y||function(e){return"[object Array]"===d.call(e)},c.isFunction=function(e){try{return"function"==typeof e}catch(e){return!1}},c.isPromise=function(e){return"[object Promise]"===d.call(e)&&null!=e},c.isObject=function(e){return"[object Object]"===d.call(e)&&null!=e},c.isEmptyObject=function(e){if(c.isObject(e)){for(var t in e)if(h.call(e,t))return!1;return!0}return!1},c.isUndefined=function(e){return void 0===e},c.isString=function(e){return"[object String]"===d.call(e)},c.isDate=function(e){return"[object Date]"===d.call(e)},c.isBoolean=function(e){return"[object Boolean]"===d.call(e)},c.isNumber=function(e){return"[object Number]"===d.call(e)&&/[\d\.]+/.test(String(e))},c.isJSONString=function(e){try{JSON.parse(e)}catch(e){return!1}return!0},c.decodeURIComponent=function(e){var t="";try{t=decodeURIComponent(e)}catch(n){t=e}return t},c.encodeURIComponent=function(e){var t="";try{t=encodeURIComponent(e)}catch(n){t=e}return t},c.utf8Encode=function(e){for(var t,i="",n=t=0,r=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,o=0;o<r;o++){var s=e.charCodeAt(o),c=null;s<128?t++:c=127<s&&s<2048?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),null!==c&&(n<t&&(i+=e.substring(n,t)),i+=c,n=t=o+1)}return n<t&&(i+=e.substring(n,e.length)),i},c.base64Encode=function(e){var t,i,n,r,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",s=0,a=0,l="",u=[];if(!e)return e;for(e=c.utf8Encode(e);t=(r=e.charCodeAt(s++)<<16|e.charCodeAt(s++)<<8|e.charCodeAt(s++))>>18&63,i=r>>12&63,n=r>>6&63,r&=63,u[a++]=o.charAt(t)+o.charAt(i)+o.charAt(n)+o.charAt(r),s<e.length;);switch(l=u.join(""),e.length%3){case 1:l=l.slice(0,-2)+"==";break;case 2:l=l.slice(0,-1)+"="}return l},c.encodeDates=function(e){return c.each(e,function(t,i){if(c.isDate(t))e[i]=c.formatDate(t);else if(c.isObject(t))e[i]=c.encodeDates(t);else if(c.isArray(t))for(var n=0;n<t.length;n++)c.isDate(t[n])&&(e[i][n]=c.formatDate(t[n]))}),e},c.formatDate=function(e){function t(e){return e<10?"0"+e:e}return e.getFullYear()+"-"+t(e.getMonth()+1)+"-"+t(e.getDate())+" "+t(e.getHours())+":"+t(e.getMinutes())+":"+t(e.getSeconds())+"."+((i=e.getMilliseconds())<100&&9<i?"0"+i:i<10?"00"+i:i);var i},c.searchObjDate=function(e){try{(c.isObject(e)||c.isArray(e))&&c.each(e,function(t,i){c.isObject(t)||c.isArray(t)?c.searchObjDate(e[i]):c.isDate(t)&&(e[i]=c.formatDate(t))})}catch(i){g.warn(i)}},c.UUID=function(){var e=(new Date).getTime();return String(Math.random()).replace(".","").slice(1,11)+"-"+e},c.UUIDv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},c.setMpPlatform=function(e){c.mpPlatform=e},c.getMpPlatform=function(){return c.mpPlatform},c.createExtraHeaders=function(){return{"TA-Integration-Type":"MG","TA-Integration-Version":"3.0.0-beta.1","TA-Integration-Count":"1","TA-Integration-Extra":c.getMpPlatform()}},c.checkAppId=function(e){return e.replace(/\s*/g,"")},c.checkUrl=function(e){return e=e.replace(/\s*/g,""),c.url("basic",e)},c.url=function(){function e(){return new RegExp(/(.*?)\.?([^.]*?)\.(com|net|org|biz|ws|in|me|co\.uk|co|org\.uk|ltd\.uk|plc\.uk|me\.uk|edu|mil|br\.com|cn\.com|eu\.com|hu\.com|no\.com|qc\.com|sa\.com|se\.com|se\.net|us\.com|uy\.com|ac|co\.ac|gv\.ac|or\.ac|ac\.ac|af|am|as|at|ac\.at|co\.at|gv\.at|or\.at|asn\.au|com\.au|edu\.au|org\.au|net\.au|id\.au|be|ac\.be|adm\.br|adv\.br|am\.br|arq\.br|art\.br|bio\.br|cng\.br|cnt\.br|com\.br|ecn\.br|eng\.br|esp\.br|etc\.br|eti\.br|fm\.br|fot\.br|fst\.br|g12\.br|gov\.br|ind\.br|inf\.br|jor\.br|lel\.br|med\.br|mil\.br|net\.br|nom\.br|ntr\.br|odo\.br|org\.br|ppg\.br|pro\.br|psc\.br|psi\.br|rec\.br|slg\.br|tmp\.br|tur\.br|tv\.br|vet\.br|zlg\.br|br|ab\.ca|bc\.ca|mb\.ca|nb\.ca|nf\.ca|ns\.ca|nt\.ca|on\.ca|pe\.ca|qc\.ca|sk\.ca|yk\.ca|ca|cc|ac\.cn|net\.cn|com\.cn|edu\.cn|gov\.cn|org\.cn|bj\.cn|sh\.cn|tj\.cn|cq\.cn|he\.cn|nm\.cn|ln\.cn|jl\.cn|hl\.cn|js\.cn|zj\.cn|ah\.cn|gd\.cn|gx\.cn|hi\.cn|sc\.cn|gz\.cn|yn\.cn|xz\.cn|sn\.cn|gs\.cn|qh\.cn|nx\.cn|xj\.cn|tw\.cn|hk\.cn|mo\.cn|cn|cx|cz|de|dk|fo|com\.ec|tm\.fr|com\.fr|asso\.fr|presse\.fr|fr|gf|gs|co\.il|net\.il|ac\.il|k12\.il|gov\.il|muni\.il|ac\.in|co\.in|org\.in|ernet\.in|gov\.in|net\.in|res\.in|is|it|ac\.jp|co\.jp|go\.jp|or\.jp|ne\.jp|ac\.kr|co\.kr|go\.kr|ne\.kr|nm\.kr|or\.kr|li|lt|lu|asso\.mc|tm\.mc|com\.mm|org\.mm|net\.mm|edu\.mm|gov\.mm|ms|nl|no|nu|pl|ro|org\.ro|store\.ro|tm\.ro|firm\.ro|www\.ro|arts\.ro|rec\.ro|info\.ro|nom\.ro|nt\.ro|se|si|com\.sg|org\.sg|net\.sg|gov\.sg|sk|st|tf|ac\.th|co\.th|go\.th|mi\.th|net\.th|or\.th|tm|to|com\.tr|edu\.tr|gov\.tr|k12\.tr|net\.tr|org\.tr|com\.tw|org\.tw|net\.tw|ac\.uk|uk\.com|uk\.net|gb\.com|gb\.net|vg|sh|kz|ch|info|ua|gov|name|pro|ie|hk|com\.hk|org\.hk|net\.hk|edu\.hk|us|tk|cd|by|ad|lv|eu\.lv|bz|es|jp|cl|ag|mobi|eu|co\.nz|org\.nz|net\.nz|maori\.nz|iwi\.nz|io|la|md|sc|sg|vc|tw|travel|my|se|tv|pt|com\.pt|edu\.pt|asia|fi|com\.ve|net\.ve|fi|org\.ve|web\.ve|info\.ve|co\.ve|tel|im|gr|ru|net\.ru|org\.ru|hr|com\.hr|ly|xyz)$/)}function t(e,t){var i=e.charAt(0);return t=t.split(i),i===e?t:t[(e=parseInt(e.substring(1),10))<0?t.length+e:e-1]}function i(e,t){for(var i,n,r=e.charAt(0),o=t.split("&"),s=[],a={},l=e.substring(1),u=0,d=o.length;u<d;u++)if(""!==(s=(s=o[u].match(/(.*?)=(.*)/))||[o[u],o[u],""])[1].replace(/\s/g,"")){if(s[2]=(n=s[2]||"",c.decodeURIComponent(n.replace(/\+/g," "))),l===s[1])return s[2];(i=s[1].match(/(.*)\[([0-9]+)\]/))?(a[i[1]]=a[i[1]]||[],a[i[1]][i[2]]=s[2]):a[s[1]]=s[2]}return r===e?a:a[l]}return function(n,r){var o={};if("tld?"===n)return e();if(r=r||window.location.toString(),!n)return r;if(n=n.toString(),r.match(/^mailto:([^/]. + ) /))s=r.match(/^mailto:([^/]. + ) /),o.protocol="mailto",o.email=s[1];else{if(r.match(/(.*?)\/#!(.*)/)&&(r=(s=r.match(/(.*?)\/#!(.*)/))[1]+s[2]),r.match(/(.*?)#(.*)/)&&(s=r.match(/(.*?)#(.*)/),o.hash=s[2],r=s[1]),o.hash&&n.match(/^#/))return i(n,o.hash);if(r.match(/(.*?)\?(.*)/)&&(s=r.match(/(.*?)\?(.*)/),o.query=s[2],r=s[1]),o.query&&n.match(/^\?/))return i(n,o.query);if(r.match(/(.*?):?\/\/(.*)/)&&(s=r.match(/(.*?):?\/\/(.*)/),o.protocol=s[1].toLowerCase(),r=s[2]),r.match(/(.*?)(\/.*)/)&&(s=r.match(/(.*?)(\/.*)/),o.path=s[2],r=s[1]),o.path=(o.path||"").replace(/^([^/]) /,"/$1").replace(/\/$/,""),n.match(/^[-0-9]+$/)&&(n=n.replace(/^([^/]) /,"/$1")),n.match(/^\//))return t(n,o.path.substring(1));if((s=(s=t("/-1",o.path.substring(1)))&&s.match(/(.*?)\.(.*)/))&&(o.file=s[0],o.filename=s[1],o.fileext=s[2]),r.match(/(.*):([0-9]+)$/)&&(s=r.match(/(.*):([0-9]+)$/),o.port=s[2],r=s[1]),r.match(/(.*?)@(.*)/)&&(s=r.match(/(.*?)@(.*)/),o.auth=s[1],r=s[2]),o.auth&&(s=o.auth.match(/(.*):(.*)/),o.user=s?s[1]:o.auth,o.pass=s?s[2]:void 0),o.hostname=r.toLowerCase(),"."===n.charAt(0))return t(n,o.hostname);e()&&(s=o.hostname.match(e()))&&(o.tld=s[3],o.domain=s[2]?s[2]+"."+s[3]:void 0,o.sub=s[1]||void 0);var s=o.port?":"+o.port:"";o.protocol=o.protocol||window.location.protocol.replace(":",""),o.port=o.port||("https"===o.protocol?"443":"80"),o.protocol=o.protocol||("443"===o.port?"https":"http"),o.basic=o.protocol+"://"+o.hostname+s}return n in o?o[n]:"{}"===n?o:""}}(),c.createString=function(e){for(var t=e,i=Math.random().toString(36).substr(2);i.length<t;)i+=Math.random().toString(36).substr(2);return i.substr(0,e)},c.createAesKey=function(){return c.createString(16)},c.generateEncryptyData=function(e,t){if(void 0===t)return e;var i=t.publicKey,n=t.version;if(void 0===i||void 0===n)return e;if("undefined"==typeof CryptoJS||"undefined"==typeof JSEncrypt)return e;var r=c.createAesKey();try{var o=CryptoJS.enc.Utf8.parse(r),s=CryptoJS.enc.Utf8.parse(JSON.stringify(e)),a=c.isUndefined(CryptoJS.pad.Pkcs7)?CryptoJS.pad.PKCS7:CryptoJS.pad.Pkcs7;return o=CryptoJS.AES.encrypt(s,o,{mode:CryptoJS.mode.ECB,padding:a}).toString(),(a=new JSEncrypt).setPublicKey(i),!1===(a=a.encrypt(r))?(g.warn("Encryption failed, return the original data"),e):{pkv:n,ekey:a,payload:o}}catch(e){g.warn("Encryption failed, return the original data: "+e)}return e},c.getUtm=function(){var e={};return c.each(_,function(t){try{var i=c.getQueryParam(location.href,t);i.length&&(e[t]=i)}catch(t){g.warn("get utm fail: "+t)}}),JSON.stringify(e)},c.getQueryParam=function(e,t){return t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]"),e=c.decodeURIComponent(e),null===(e=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e))||e&&"string"!=typeof e[1]&&e[1].length?"":c.decodeURIComponent(e[1])},c.getUtmFromQuery=function(e){var t={};return c.each(_,function(i){e[i]&&(t[i]=e[i])}),JSON.stringify(t)},c.indexOf=function(e,t){var i=e.indexOf;if(i)return i.call(e,t);for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1},c.checkCalibration=function(e){return e};var g="object"===n(g)?g:{};g.info=function(){if("object"===("undefined"==typeof console?"undefined":n(console))&&console.log&&g.enabled)try{return arguments[0]="[ThinkingData] Info: "+arguments[0],console.log.apply(console,arguments)}catch(e){console.log("[ThinkingData] Info: "+arguments[0])}},g.warn=function(){if("object"===("undefined"==typeof console?"undefined":n(console))&&console.log&&g.enabled)try{return arguments[0]="[ThinkingData] Warning: "+arguments[0],console.warn.apply(console,arguments)}catch(e){console.warn("[ThinkingData] Warning: "+arguments[0])}};var w=function(){function e(){r(this,e),this.config={persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_mg"}}return s(e,[{key:"getConfig",value:function(){return this.config}},{key:"getStorage",value:function(e,t,i){if(e=localStorage.getItem(e),!t)return c.isJSONString(e)?JSON.parse(e):{};c.isJSONString(e)?i(JSON.parse(e)):i({})}},{key:"setStorage",value:function(e,t){localStorage.setItem(e,t)}},{key:"removeStorage",value:function(e){localStorage.removeItem(e)}},{key:"_setSystemProxy",value:function(e){this._sysCallback=e}},{key:"getSystemInfo",value:function(e){var t={mp_platform:"web",system:this._getOs(),screenWidth:window.screen.width,screenHeight:window.screen.height,systemLanguage:navigator.language};this._sysCallback&&(t=c.extend(t,this._sysCallback(e))),e.success(t),e.complete()}},{key:"_getOs",value:function(){var e=navigator.userAgent;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"MacOS":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"ChromeOS":""}},{key:"getNetworkType",value:function(e){e.complete()}},{key:"onNetworkStatusChange",value:function(){}},{key:"request",value:function(e){var t={},i=new XMLHttpRequest;if(i.open(e.method,e.url),e.header)for(var n in e.header)i.setRequestHeader(n,e.header[n]);return i.onreadystatechange=function(){4===i.readyState&&200===i.status?(t.statusCode=200,c.isJSONString(i.responseText)&&(t.data=JSON.parse(i.responseText)),e.success(t)):200!==i.status&&(t.errMsg="network error",e.fail(t))},i.ontimeout=function(){t.errMsg="timeout",e.fail(t)},i.send(e.data),i}},{key:"initAutoTrackInstance",value:function(e,t){this.instance=e,this.autoTrack=t.autoTrack;var i=this;i.onPageShow(),i.autoTrack.appHide&&i.instance.timeEvent("ta_page_hide"),"onvisibilitychange"in document&&(document.onvisibilitychange=function(){document.hidden?i.onPageHide(!0):(i.onPageShow(),i.autoTrack.appHide&&i.instance.timeEvent("ta_page_hide"))})}},{key:"setGlobal",value:function(e,t){window[t]=e}},{key:"getAppOptions",value:function(){}},{key:"showToast",value:function(){}},{key:"onPageShow",value:function(){var e;this.autoTrack.appShow&&(e={},c.extend(e,this.autoTrack.properties),c.isFunction(this.autoTrack.callback)&&c.extend(e,this.autoTrack.callback("appShow")),this.instance._internalTrack("ta_page_show",e))}},{key:"onPageHide",value:function(e){var t;this.autoTrack.appHide&&(t={},c.extend(t,this.autoTrack.properties),c.isFunction(this.autoTrack.callback)&&c.extend(t,this.autoTrack.callback("appHide")),this.instance._internalTrack("ta_page_hide",t,new Date,null,e))}}],[{key:"createInstance",value:function(){return new e}}]),e}(),m=function(){function e(t,i){r(this,e),this.taInstance=t,this.config=i||{},this.referrer="Directly open",this.config.isPlugin?(t.App=function(){App.apply(this,arguments)},inension(t.Page)):(t=App,App=this._initAppExtention(t),t=Page,Page=this._initPageExtension(t))}return s(e,[{key:"_initPageExtension",value:function(e){var t=this;return function(i){var n=i.onShow,r=i.onShareAppMessage;return i.onShow=function(e){t.onPageShow(),"function"==typeof n&&n.call(this,e)},"function"==typeof r&&(i.onShareAppMessage=function(e){return e=r.call(this,e),t.onPageShare(e)}),e(i)}}},{key:"_initAppExtention",value:function(e){var t=this;return function(i){var n=i.onLaunch,r=i.onShow,o=i.onHide;return i.onLaunch=function(e){t.onAppLaunch(e,this),"function"==typeof n&&n.call(this,e)},i.onShow=function(e){t.onAppShow(e),"function"==typeof r&&r.call(this,e)},i.onHide=function(){t.onAppHide(),"function"==typeof o&&o.call(this)},e(i)}}},{key:"onAppLaunch",value:function(e,t){this._setAutoTrackProperties(e),c.isUndefined(t)||(t[this.taInstance.name]=this.taInstance),this.config.appLaunch&&(t={},e&&e.path&&(t["#url_path"]=this._getPath(e.path)),e&&e.query&&(t["#utm"]=c.getUtmFromQuery(e.query)),this.taInstance._internalTrack("ta_mp_launch",t))}},{key:"onAppShow",value:function(e){var t;this.config.appHide&&this.taInstance.timeEvent("ta_mp_hide"),this._setAutoTrackProperties(e),this.config.appShow&&(t={},e&&e.path&&(t["#url_path"]=this._getPath(e.path)),e&&e.query&&(t["#utm"]=c.getUtmFromQuery(e.query)),c.extend(t,this.config.properties),c.isFunction(this.config.callback)&&c.extend(t,this.config.callback("appShow")),this.taInstance._internalTrack("ta_mp_show",t))}},{key:"onAppHide",value:function(){var e;this.config.appHide&&(e={"#url_path":this._getCurrentPath()},c.extend(e,this.config.properties),c.isFunction(this.config.callback)&&c.extend(e,this.config.callback("appHide")),this.taInstance._internalTrack("ta_mp_hide",e))}},{key:"_getCurrentPath",value:function(){var e="Not to get";try{var t=getCurrentPages();e=t[t.length-1].route}catch(e){g.info(e)}return e}},{key:"_setAutoTrackProperties",value:function(e){e={"#scene":e.scene},this.taInstance._setAutoTrackProperties(e)}},{key:"_getPath",value:function(e){return"string"==typeof e?e.replace(/^\//,""):"Abnormal values"}},{key:"onPageShare",value:function(e){return this.config.pageShare&&this.taInstance._internalTrack("ta_mp_share",{"#url_path":this._getCurrentPath()}),c.isObject(e)?e:{}}},{key:"onPageShow",value:function(){var e,t;this.config.pageShow&&(t={"#url_path":(e=this._getCurrentPath())||"The system did not get a value","#referrer":this.referrer},this.referrer=e,this.taInstance._internalTrack("ta_mp_view",t))}}]),e}(),v=function(){function e(t,i,n){var o=this;r(this,e),this.taInstance=t,this.config=i||{},i=n.getLaunchOptionsSync(),this._onShow(i),this.startTracked=!0,n.onShow(function(e){o._onShow(e)}),n.onHide(function(){var e;o.startTracked=!1,o.config.appHide&&(e={},c.extend(e,o.config.properties),c.isFunction(o.config.callback)&&c.extend(e,o.config.callback("appHide")),o.taInstance._internalTrack("ta_mg_hide",e))})}return s(e,[{key:"_onShow",value:function(e){this.startTracked||(this.config.appHide&&this.taInstance.timeEvent("ta_mg_hide"),e&&e.scene&&this.taInstance._setAutoTrackProperties({"#scene":e.scene}),this.config.appShow&&(e={},c.extend(e,this.config.properties),c.isFunction(this.config.callback)&&c.extend(e,this.config.callback("appShow")),this.taInstance._internalTrack("ta_mg_show",e)))}}]),e}(),b=function(){function e(t,i,n){r(this,e),this.api=t,this.config=i,this._config=n}return s(e,[{key:"getConfig",value:function(){return this.config}},{key:"getStorage",value:function(e,t,i){if(!t){if("dd_mp"===this._config.platform){var n=this.api.getStorageSync({key:e});return c.isJSONString(n.data)?JSON.parse(n.data):{}}return n=this.api.getStorageSync(e),c.isJSONString(n)?JSON.parse(n):{}}this.api.getStorage({key:e,success:function(e){e=c.isJSONString(e.data)?JSON.parse(e.data):{},i(e)},fail:function(){g.warn("getStorage faild"),i({})}})}},{key:"setStorage",value:function(e,t){"ali_mp"===this._config.platform||"tb_mp"===this._config.platform||"dd_mp"===this._config.platform?this.api.setStorageSync({key:e,data:t}):this.api.setStorageSync(e,t)}},{key:"removeStorage",value:function(e){c.isFunction(this.api.removeStorage)?this.api.removeStorage({key:e}):c.isFunction(this.api.deleteStorage)&&this.api.deleteStorage({key:e})}},{key:"_getPlatform",value:function(){return""}},{key:"getSystemInfo",value:function(e){var t=this._config.mpPlatform;this.api.getSystemInfo({success:function(i){c.isFunction(t)?i.mp_platform=t(i):i.mp_platform=t,e.success(i),"wechat"===t&&e.complete()},complete:function(){e.complete()}})}},{key:"getNetworkType",value:function(e){c.isFunction(this.api.getNetworkType)?this.api.getNetworkType({success:function(t){e.success(t)},complete:function(){e.complete()}}):(e.success({}),e.complete())}},{key:"onNetworkStatusChange",value:function(e){c.isFunction(this.api.onNetworkStatusChange)?this.api.onNetworkStatusChange(e):e({})}},{key:"request",value:function(e){if("ali_mp"!==this._config.platform&&"dd_mp"!==this._config.platform)return this.api.request(e);var t=c.extend({},e);return t.headers=e.header,t.success=function(t){t.statusCode=t.status,e.success(t)},t.fail=function(t){t.errMsg=t.errorMessage,e.fail(t)},"dd_mp"===this._config.platform?this.api.httpRequest(t):this.api.request(t)}},{key:"initAutoTrackInstance",value:function(e,t){return c.isObject(t.autoTrack)&&(t.autoTrack.isPlugin=t.is_plugin),new(this._config.mp?m:v)(e,t.autoTrack,this.api)}},{key:"setGlobal",value:function(e,t){this._config.mp?g.warn("ThinkingAnalytics: we do not set global name for TA instance when you do not enable auto track."):GameGlobal[t]=e}},{key:"getAppOptions",value:function(e){var t={};try{t=this.api.getLaunchOptionsSync()}catch(e){g.warn("Cannot get launch options.")}if(c.isFunction(e))try{this._config.mp?this.api.onAppShow(e):this.api.onShow(e)}catch(e){g.warn("Cannot register onShow callback.")}return t}},{key:"showToast",value:function(e){var t;c.isFunction(this.api.showToast)&&(t={title:e},"dd_mp"!==this._config.platform&&"ali_mp"!==this._config.platform||(t.content=e),this.api.showToast(t))}}],[{key:"createInstance",value:function(){return this._createInstance("R_CURRENT_PLATFORM")}},{key:"_createInstance",value:function(t){switch(t){case"wechat_mp":return new e(wx,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_wechat"},{mpPlatform:"wechat",mp:!0,platform:t});case"wechat_mg":return new e(wx,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_wechat_game"},{mpPlatform:"wechat",platform:t});case"qq_mp":return new e(qq,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_qq"},{mpPlatform:"qq",mp:!0,platform:t});case"qq_mg":return new e(qq,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_qq_game"},{mpPlatform:"qq",platform:t});case"baidu_mp":return new e(swan,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_swan"},{mpPlatform:function(e){return e.host},mp:!0,platform:t});case"baidu_mg":return new e(swan,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_swan_game"},{mpPlatform:function(e){return e.host},platform:t});case"tt_mg":return new e(tt,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_tt_game"},{mpPlatform:function(e){return e.appName},platform:t});case"tt_mp":return new e(tt,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_tt"},{mpPlatform:function(e){return e.appName},mp:!0,platform:t});case"ali_mp":return new e(my,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_ali"},{mpPlatform:function(e){return e.app},mp:!0,platform:t});case"dd_mp":return new e(dd,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_dd"},{mpPlatform:"dingding",mp:!0,platform:t});case"bl_mg":return new e(bl,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_mg"},{mpPlatform:"bilibili",platform:t});case"kuaishou_mp":return new e(ks,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_kuaishou"},{mpPlatform:"kuaishou",mp:!0,platform:t});case"qh360_mg":return new e(qh,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_qh360"},{mpPlatform:"qh360",platform:t});case"tb_mp":return new e(my,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_tb"},{mpPlatform:"tb",mp:!0,platform:t});case"jd_mp":return new e(jd,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_jd"},{mpPlatform:"jd",mp:!0,platform:t});case"qh360_mp":return new e(qh,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_qh360"},{mpPlatform:"qh360",mp:!0,platform:t});case"WEB":return new w.createInstance}}}]),e}(),S=function e(t,i){var n=this;r(this,e),this.taInstance=t,this.config=i||{},this.config.appShow&&this.taInstance._internalTrack("ta_mg_show"),this.config.appHide&&this.taInstance.timeEvent("ta_mg_hide"),qg.onShow(function(){var e;n.config.appHide&&n.taInstance.timeEvent("ta_mg_hide"),n.config.appShow&&(e={},c.extend(e,n.config.properties),c.isFunction(n.config.callback)&&c.extend(e,n.config.callback("appShow")),n.taInstance._internalTrack("ta_mg_show"))}),qg.onHide(function(){var e;n.config.appHide&&(e={},c.extend(e,n.config.properties),c.isFunction(n.config.callback)&&c.extend(e,n.config.callback("appHide")),n.taInstance._internalTrack("ta_mg_hide"))})},A=function(){function e(){r(this,e),this.config={persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_qg_vivo_game",asyncPersistence:!0}}return s(e,[{key:"getConfig",value:function(){return this.config||{}}},{key:"getStorage",value:function(e,t,i){if(!t)return t=qg.getStorageSync({key:e}),c.isJSONString(t)?JSON.parse(t):{};qg.getStorage({key:e,success:function(e){e=c.isJSONString(e)?JSON.parse(e):{},i(e)},fail:function(){i({})}})}},{key:"setStorage",value:function(e,t){qg.setStorage({key:e,value:t})}},{key:"removeStorage",value:function(e){qg.deleteStorage({key:e})}},{key:"getSystemInfo",value:function(e){qg.getSystemInfo({success:function(t){var i=t,n=[t.osType,t.osVersionName].join(" ");i.brand=t.manufacturer,i.system=n,i.mp_platform="vivo_qg",e.success(i)},complete:function(){e.complete()}})}},{key:"getNetworkType",value:function(e){qg.getNetworkType({success:function(t){var i=t;i.networkType=t.type,e.success(i)},complete:function(){e.complete()}})}},{key:"onNetworkStatusChange",value:function(e){qg.subscribeNetworkStatus({callback:function(t){var i=t;i.networkType=t.type,e(i)}})}},{key:"request",value:function(e){return qg.request({url:e.url,data:e.data,method:e.method,header:e.header,success:function(t){e.success(t)},fail:function(t){e.fail(t)}})}},{key:"initAutoTrackInstance",value:function(e,t){return new S(e,t.autoTrack)}},{key:"setGlobal",value:function(e,t){globalThis[t]=e}},{key:"getAppOptions",value:function(){return{}}},{key:"showToast",value:function(e){qg.showToast({message:e,duration:0})}}],[{key:"createInstance",value:function(){return new e}}]),e}(),C=function e(t,i,n){var o=this;r(this,e),this.taInstance=t,this.config=i||{},this.config.appShow&&(i={},c.extend(i,this.config.properties),c.isFunction(this.config.callback)&&c.extend(i,this.config.callback("appShow")),this.taInstance._internalTrack("ta_mg_show",i)),this.config.appHide&&this.taInstance.timeEvent("ta_mg_hide"),n.onShow(function(){var e;o.config.appHide&&o.taInstance.timeEvent("ta_mg_hide"),o.config.appShow&&(e={},c.extend(e,o.config.properties),c.isFunction(o.config.callback)&&c.extend(e,o.config.callback("appShow")),o.taInstance._internalTrack("ta_mg_show",e))}),n.onHide(function(){var e;o.config.appHide&&(e={},c.extend(e,o.config.properties),c.isFunction(o.config.callback)&&c.extend(e,o.config.callback("appHide")),o.taInstance._internalTrack("ta_mg_hide",e))})},k=function(){function e(t,i,n){r(this,e),this.api=t,this.config=i,this._config=n}return s(e,[{key:"getConfig",value:function(){return this.config||{}}},{key:"getStorage",value:function(e,t,i){if(e=localStorage.getItem(e),!t)return c.isJSONString(e)?JSON.parse(e):{};c.isJSONString(e)?i(JSON.parse(e)):i({})}},{key:"setStorage",value:function(e,t){localStorage.setItem(e,t)}},{key:"removeStorage",value:function(e){localStorage.removeItem(e)}},{key:"getSystemInfo",value:function(e){var t=this._config.mpPlatform;this.api.getSystemInfo({success:function(i){i.mp_platform=t,e.success(i)},complete:function(){e.complete()}})}},{key:"getNetworkType",value:function(e){this.api.getNetworkType({success:function(t){e.success(t)},complete:function(){e.complete()}})}},{key:"onNetworkStatusChange",value:function(e){this.api.onNetworkStatusChange({callback:function(t){e(t)}})}},{key:"request",value:function(e){var t={},i=new XMLHttpRequest;if(i.open(e.method,e.url),e.header)for(var n in e.header)i.setRequestHeader(n,e.header[n]);return i.onreadystatechange=function(){4===i.readyState&&200===i.status?(t.statusCode=200,c.isJSONString(i.responseText)&&(t.data=JSON.parse(i.responseText)),e.success(t)):200!==i.status&&(t.errMsg="network error",e.fail(t))},i.ontimeout=function(){t.errMsg="timeout",e.fail(t)},i.send(e.data),i}},{key:"initAutoTrackInstance",value:function(e,t){return new C(e,t.autoTrack,this.api)}},{key:"setGlobal",value:function(e,t){globalThis[t]=e}},{key:"getAppOptions",value:function(){return this.api.getLaunchOptionsSync()}},{key:"showToast",value:function(e){this.api.showToast({title:e,icon:"none",duration:2e3})}}],[{key:"createInstance",value:function(){return this._createInstance("R_CURRENT_PLATFORM")}},{key:"_createInstance",value:function(t){switch(t){case"oppo":return new e(qg,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_qg_oppo_game"},{mpPlatform:"oppo_qg"});case"huawei":return new e(hbs,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_qg_huawei_game"},{mpPlatform:"huawei_qg"});case"mz":return new e(qg,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_qg_mz_game"},{mpPlatform:"mz"});case"xiaomi":return new e(qg,{persistenceName:"thinkingdata",persistenceNameOld:"thinkingdata_qg"},{mpPlatform:"xiaomi"})}}}]),e}(),N=function(){function e(){r(this,e)}return s(e,null,[{key:"createInstance",value:function(){var e=Object.freeze({WECHAT_GAME:104,QQ_PLAY:105,BAIDU_GAME:107,VIVO_GAME:108,OPPO_GAME:109,HUAWEI_GAME:110,XIAOMI_GAME:111,BYTEDANCE_GAME:117,QTT_GAME:116,LINKSURE:119,WECHAT_MINI_GAME:"WECHAT_GAME",BAIDU_MINI_GAME:"BAIDU_MINI_GAME",XIAOMI_QUICK_GAME:"XIAOMI_QUICK_GAME",OPPO_MINI_GAME:"OPPO_MINI_GAME",VIVO_MINI_GAME:"VIVO_MINI_GAME",HUAWEI_QUICK_GAME:"HUAWEI_QUICK_GAME",BYTEDANCE_MINI_GAME:"BYTEDANCE_MINI_GAME",QTT_MINI_GAME:"QTT_MINI_GAME",LINKSURE_MINI_GAME:"LINKSURE_MINI_GAME"});if(cc.sys.platform===e.WECHAT_GAME||cc.sys.platform===e.WECHAT_MINI_GAME)return b._createInstance("wechat_mg");if(cc.sys.platform===e.BAIDU_GAME||cc.sys.platform===e.BAIDU_MIN_GAME)return b._createInstance("baidu_mg");if(cc.sys.platform===e.VIVO_GAME||cc.sys.platform===e.VIVO_MINI_GAME)return A.createInstance();if(cc.sys.platform===e.QQ_PLAY)return b._createInstance("qq_mg");if(cc.sys.platform===e.OPPO_GAME||cc.sys.platform===e.OPPO_MINI_GAME)return k._createInstance("oppo");if(cc.sys.platform===e.HUAWEI_GAME||cc.sys.platform===e.HUAWEI_QUICK_GAME)return k._createInstance("huawei");if(cc.sys.platform===e.XIAOMI_GAME||cc.sys.platform===e.XIAOMI_QUICK_GAME)return k._createInstance("xiaomi");if(cc.sys.platform===e.BYTEDANCE_GAME||cc.sys.platform===e.BYTEDANCE_MINI_GAME)return b._createInstance("tt_mg");var t=w.createInstance();return t._sysCallback=function(){return{system:cc.sys.os.replace(" ","")+" "+cc.sys.osVersion}},t.getNetworkType=function(e){var t={};switch(cc.sys.getNetworkType()){case cc.sys.NetworkType.LAN:t.networkType="WIFI";break;case cc.sys.NetworkType.WWAN:t.networkType="WWAN";break;default:t.networkType="NONE"}e.success(t),e.complete()},t.getSystemInfo=function(e){var i={mp_platform:cc.sys.platform.toString(),system:t._getOs(),screenWidth:window.screen.width,screenHeight:window.screen.height};t._sysCallback&&(i=c.extend(i,t._sysCallback(e))),e.success(i),e.complete()},t}}]),e}(),I=function(){function e(){r(this,e)}return s(e,null,[{key:"_getCurrentPlatform",value:function(){return this.currentPlatform||(this.currentPlatform=N.createInstance())}},{key:"getConfig",value:function(){return this._getCurrentPlatform().getConfig()}},{key:"getStorage",value:function(e,t,i){return this._getCurrentPlatform().getStorage(e,t,i)}},{key:"setStorage",value:function(e,t){return this._getCurrentPlatform().setStorage(e,t)}},{key:"removeStorage",value:function(e){return this._getCurrentPlatform().removeStorage(e)}},{key:"getSystemInfo",value:function(e){return this._getCurrentPlatform().getSystemInfo(e)}},{key:"getNetworkType",value:function(e){return this._getCurrentPlatform().getNetworkType(e)}},{key:"onNetworkStatusChange",value:function(e){this._getCurrentPlatform().onNetworkStatusChange(e)}},{key:"request",value:function(e){return this._getCurrentPlatform().request(e)}},{key:"initAutoTrackInstance",value:function(e,t){return this._getCurrentPlatform().initAutoTrackInstance(e,t)}},{key:"setGlobal",value:function(e,t){e&&t&&this._getCurrentPlatform().setGlobal(e,t)}},{key:"getAppOptions",value:function(e){return this._getCurrentPlatform().getAppOptions(e)}},{key:"showDebugToast",value:function(e){this._getCurrentPlatform().showToast(e)}}]),e}(),P=/^[a-zA-Z][a-zA-Z0-9_]{0,49}$/,T=function(){function e(){r(this,e)}return s(e,null,[{key:"stripProperties",value:function(e){return c.isObject(e)&&c.each(e,function(e,t){c.isString(e)||c.isNumber(e)||c.isDate(e)||c.isBoolean(e)||c.isArray(e)||c.isObject(e)||g.warn("Your data -",t,e,"- format does not meet requirements and may not be stored correctly. Attribute values only support String, Number, Date, Boolean, Array, Object")}),e}},{key:"_checkPropertiesKey",value:function(e){var t=!0;return c.each(e,function(e,i){P.test(i)||(g.warn("Invalid KEY: "+i),t=!1)}),t}},{key:"event",value:function(e){return!(!c.isString(e)||!P.test(e))||(g.warn("Check the parameter format. The eventName must start with an English letter and contain no more than 50 characters including letters, digits, and underscores: "+e),!1)}},{key:"propertyName",value:function(e){return!(!c.isString(e)||!P.test(e))||(g.warn("Check the parameter format. PropertyName must start with a letter and contain letters, digits, and underscores (_). The value is a string of no more than 50 characters: "+e),!1)}},{key:"properties",value:function(e){return this.stripProperties(e),!(e&&(c.isObject(e)?!this._checkPropertiesKey(e)&&(g.warn("Check the parameter format. The properties key must start with a letter, contain digits, letters, and underscores (_), and contain a maximum of 50 characters"),1):(g.warn("properties can be none, but it must be an object"),1)))}},{key:"propertiesMust",value:function(e){return this.stripProperties(e),void 0===e||!c.isObject(e)||c.isEmptyObject(e)?(g.warn("properties must be an object with a value"),!1):!!this._checkPropertiesKey(e)||(g.warn("Check the parameter format. The properties key must start with a letter, contain digits, letters, and underscores (_), and contain a maximum of 50 characters"),!1)}},{key:"userId",value:function(e){return!(!c.isString(e)||!/^.{1,64}$/.test(e))||(g.warn("The user ID must be a string of less than 64 characters and cannot be null"),!1)}},{key:"userAddProperties",value:function(e){if(!this.propertiesMust(e))return!1;for(var t in e)if(!c.isNumber(e[t]))return g.warn("The attributes of userAdd need to be Number"),!1;return!0}},{key:"userAppendProperties",value:function(e){if(!this.propertiesMust(e))return!1;for(var t in e)if(!c.isArray(e[t]))return g.warn("The attribute of userAppend must be Array"),!1;return!0}}]),e}(),M=function(){function e(t,i,n,o,s){r(this,e),this.data=t,this.serverUrl=i,this.callback=s,this.tryCount=c.isNumber(n)?n:1,this.timeout=c.isNumber(o)?o:3e3,this.taClassName="HttpTask"}return s(e,[{key:"run",value:function(){var e=this,t=c.createExtraHeaders();t["content-type"]="application/json";var i=I.request({url:this.serverUrl,method:"POST",data:this.data,header:t,success:function(t){e.onSuccess(t),clearTimeout(n)},fail:function(t){e.onFailed(t),clearTimeout(n)}}),n=setTimeout(function(){(c.isObject(i)||c.isPromise(i))&&c.isFunction(i.abort)&&i.abort()},this.timeout)}},{key:"onSuccess",value:function(e){if(200===e.statusCode){var t;switch(e.data.code){case 0:t="success";break;case-1:t="invalid data";break;case-2:t="invalid APP ID";break;default:t="Unknown return code"}this.callback({code:e.data.code,msg:t})}else this.callback({code:-3,msg:e.statusCode})}},{key:"onFailed",value:function(e){0<--this.tryCount?this.run():this.callback({code:-3,msg:e.errMsg})}}]),e}(),D=function(){function e(t,i,n,o,s,a,l){r(this,e),this.data=t,this.serverDebugUrl=i,this.callback=l,this.tryCount=c.isNumber(n)?n:1,this.timeout=c.isNumber(o)?o:3e3,this.dryrun=s,this.deviceId=a,this.taClassName="HttpTaskDebug"}return s(e,[{key:"run",value:function(){var e=this,t="appid="+this.data["#app_id"]+"&source=client&dryRun="+this.dryrun+"&deviceId="+this.deviceId+"&data="+encodeURIComponent(JSON.stringify(this.data.data[0])),i=c.createExtraHeaders();i["content-type"]="application/x-www-form-urlencoded";var n=I.request({url:this.serverDebugUrl,method:"POST",data:t,header:i,success:function(t){e.onSuccess(t),clearTimeout(r)},fail:function(t){e.onFailed(t),clearTimeout(r)}}),r=setTimeout(function(){(c.isObject(n)||c.isPromise(n))&&c.isFunction(n.abort)&&n.abort()},this.timeout)}},{key:"onSuccess",value:function(e){if(200===e.statusCode){var t;if(0===e.data.errorLevel)t="Verify data success.";else if(1===e.data.errorLevel){for(var i=e.data.errorProperties,n="",r=0;r<i.length;r++){var o=i[r].errorReason;n=n+" propertyName:"+i[r].propertyName+" errorReasons:"+o+"\n"}t="Debug data error. errorLevel:"+e.data.errorLevel+" reason:"+n}else 2!==e.data.errorLevel&&-1!==e.data.errorLevel||(t="Debug data error. errorLevel:"+e.data.errorLevel+" reason:"+e.data.errorReasons);g.info(t),this.callback({code:e.data.errorLevel,msg:t})}else this.callback({code:-3,msg:e.statusCode})}},{key:"onFailed",value:function(e){0<--this.tryCount?this.run():this.callback({code:-3,msg:e.errMsg})}}]),e}(),O=new(function(){function e(){r(this,e),this.items=[],this.isRunning=!1,this.showDebug=!1}return s(e,[{key:"enqueue",value:function(e,t,i,n){n=!(3<arguments.length&&void 0!==n)||n;var r=this;t="debug"===i.debugMode?new D(e,t,i.maxRetries,i.sendTimeout,0,i.deviceId,function(e){r.isRunning=!1,c.isFunction(i.callback)&&i.callback(e),r._runNext(),!1===r.showDebug&&(0!==e.code&&1!==e.code&&2!==e.code||(r.showDebug=!0,c.isFunction(I.showDebugToast)&&I.showDebugToast("The current mode is Debug")))}):"debugOnly"===i.debugMode?new D(e,t,i.maxRetries,i.sendTimeout,1,i.deviceId,function(e){r.isRunning=!1,c.isFunction(i.callback)&&i.callback(e),r._runNext(),!1===r.showDebug&&(0!==e.code&&1!==e.code&&2!==e.code||(r.showDebug=!0,c.isFunction(I.showDebugToast)&&I.showDebugToast("The current mode is debugOnly")))}):new M(JSON.stringify(e),t,i.maxRetries,i.sendTimeout,function(e){r.isRunning=!1,c.isFunction(i.callback)&&i.callback(e),r._runNext()}),!0===n?(this.items.push(t),this._runNext()):t.run()}},{key:"_dequeue",value:function(){return this.items.shift()}},{key:"_runNext",value:function(){if(0<this.items.length&&!this.isRunning)if(this.isRunning=!0,"HttpTask"!==this.items[0].taClassName)this._dequeue().run();else{var e=this.items.splice(0,this.items.length),t=e[0],i=JSON.parse(t.data),n=i["#app_id"],r=[];r.push(t.callback);for(var o=1;o<e.length;o++){var s=e[o],c=JSON.parse(s.data);c["#app_id"]===n&&t.serverUrl===s.serverUrl?(i.data=i.data.concat(c.data),r.push(s.callback)):this.items.push(s)}var a=(new Date).getTime();i["#flush_time"]=a,new M(JSON.stringify(i),t.serverUrl,t.tryCount,t.timeout,function(e){for(var t in r)Object.hasOwnProperty.call(r,t)&&(0,r[t])(e)}).run()}}}]),e}()),L={name:"thinkingdata",is_plugin:!1,maxRetries:3,sendTimeout:3e3,enablePersistence:!0,asyncPersistence:!1,enableLog:!0,strict:!1,debugMode:"none",enableCalibrationTime:!1},x={properties:{"#lib":"MG","#lib_version":"3.0.0-beta.1"},initDeviceId:function(e){c.isString(e)&&(this.properties["#device_id"]=e)},getSystemInfo:function(e){var t=this;I.onNetworkStatusChange(function(e){t.properties["#network_type"]=e.networkType}),I.getNetworkType({success:function(e){t.properties["#network_type"]=e.networkType},complete:function(){I.getSystemInfo({success:function(e){var i=e.system?e.system.replace(/\s+/g," ").split(" "):[];i={"#manufacturer":e.brand,"#device_model":e.model,"#screen_width":Number(e.screenWidth),"#screen_height":Number(e.screenHeight),"#os":i[0],"#os_version":i[1],"#mp_platform":e.mp_platform,"#system_language":e.systemLanguage},c.extend(t.properties,i),c.setMpPlatform(e.mp_platform)},complete:function(){e()}})}})}},R=function(){function e(t,i){var n=this;r(this,e),this.enabled=t.enablePersistence,this.enabled?(t.isChildInstance?(this.name=t.persistenceName+"_"+t.name,this.nameOld=t.persistenceNameOld+"_"+t.name):(this.name=t.persistenceName,this.nameOld=t.persistenceNameOld),t.asyncPersistence?(this._state={},I.getStorage(this.name,!0,function(e){c.isEmptyObject(e)?I.getStorage(n.nameOld,!0,function(e){n._state=c.extend2Layers({},e,n._state),n._init(t,i),n._save()}):(n._state=c.extend2Layers({},e,n._state),n._init(t,i),n._save())})):(this._state=I.getStorage(this.name)||{},c.isEmptyObject(this._state)&&(this._state=I.getStorage(this.nameOld)||{}),this._init(t,i))):(this._state={},this._init(t,i))}return s(e,[{key:"_init",value:function(e,t){this.getDistinctId()||this.setDistinctId(c.UUID()),e.isChildInstance||(this.getDeviceId()||this._setDeviceId(c.UUID()),x.initDeviceId(this.getDeviceId())),this.initComplete=!0,"function"==typeof t&&t(),this._save()}},{key:"_save",value:function(){this.enabled&&this.initComplete&&I.setStorage(this.name,JSON.stringify(this._state))}},{key:"_set",value:function(e,t){var i,r=this;"string"==typeof e?(i={})[e]=t:"object"===n(e)&&(i=e),c.each(i,function(e,t){r._state[t]=e}),this._save()}},{key:"_get",value:function(e){return this._state[e]}},{key:"setEventTimer",value:function(e,t){var i=this._state.event_timers||{};i[e]=t,this._set("event_timers",i)}},{key:"removeEventTimer",value:function(e){var t=(this._state.event_timers||{})[e];return c.isUndefined(t)||(delete this._state.event_timers[e],this._save()),t}},{key:"getDeviceId",value:function(){return this._state.device_id}},{key:"_setDeviceId",value:function(e){this.getDeviceId()?g.warn("cannot modify the device id."):this._set("device_id",e)}},{key:"getDistinctId",value:function(){return this._state.distinct_id}},{key:"setDistinctId",value:function(e){this._set("distinct_id",e)}},{key:"getAccountId",value:function(){return this._state.account_id}},{key:"setAccountId",value:function(e){this._set("account_id",e)}},{key:"getSuperProperties",value:function(){return this._state.props||{}}},{key:"setSuperProperties",value:function(e,t){e=t?e:c.extend(this.getSuperProperties(),e),this._set("props",e)}}]),e}(),E="tab_tampsdk_",F=function(){function e(t,i){r(this,e),this.config=t,this.ta=i,this.timer=null,this.batchConfig=c.extend({size:5,interval:5e3,storageLimit:200},this.config.batchConfig),this.batchConfig.size<1&&(this.batchConfig.size=1),30<this.batchConfig.size&&(this.batchConfig.size=30),this.tabKey=E+this.config.appId,this.storageLimit=this.batchConfig.storageLimit,this.isRequest=!1,this.trackList=[],this.needFlush=!1}return s(e,[{key:"batchInterval",value:function(){var e=this;e.timer=setTimeout(function(){e.recycle(),e.send(),clearTimeout(e.timer),e.batchInterval()},this.batchConfig.interval)}},{key:"add",value:function(e){if(this.isRequest)this.trackList.push(e);else{var t=e,i="tampsdk_"+this.config.appId+"_"+String(c.UUID());if(e=I.getStorage(this.tabKey),c.isArray(e)||(e=[]),e.length<=this.storageLimit)e.push(i),I.setStorage(this.tabKey,JSON.stringify(e)),I.setStorage(i,JSON.stringify(t));else{var n=e.splice(0,20);console.log("deleted events data:"+n),e.push(i),I.setStorage(this.tabKey,JSON.stringify(e)),I.setStorage(i,JSON.stringify(t)),t={};for(var r=[],o=0;o<n.length;o++){var s=I.getStorage(n[o]);r.push(s)}t.data=r,t["#app_id"]=this.config.appId,this.request(t,n)}}}},{key:"flush",value:function(){clearTimeout(this.timer),this.send(),this.batchInterval()}},{key:"send",value:function(){if(this.isRequest)this.needFlush=!0;else{var e=I.getStorage(this.tabKey);if(e&&e.length){for(var t={},i=[],n=[],r=e.length<this.batchConfig.size?e.length:this.batchConfig.size,o=0;o<r;o++){var s=I.getStorage(e[o]);i.push(s),n.push(e[o])}t.data=i,t["#app_id"]=this.config.appId,this.request(t,n)}}}},{key:"request",value:function(e,t){var i=this;g.info("Flush data: "+JSON.stringify(e)),i.isRequest=!0,O.enqueue(e,this.ta.serverUrl,{maxRetries:this.config.maxRetries,sendTimeout:this.config.sendTimeout,callback:function(e){0===e.code&&i.remove(t),i.isRequest=!1;for(var n=0;n<i.trackList.length;n++)i.add(i.trackList[n]);i.trackList=[],i.needFlush&&(i.needFlush=!1,i.flush())},debugMode:this.config.debugMode,deviceId:this.ta.getDeviceId()})}},{key:"remove",value:function(e){var t=I.getStorage(this.tabKey);if(t){for(var i=0;i<e.length;i++){var n=c.indexOf(t,e[i]);-1<n&&t.splice(n,1),I.removeStorage(e[i])}I.setStorage(this.tabKey,JSON.stringify(t))}}},{key:"recycle",value:function(){}}]),e}(),B=function(){function e(t){r(this,e),t.appId=t.appId?c.checkAppId(t.appId):c.checkAppId(t.appid),t.serverUrl=t.serverUrl?c.checkUrl(t.serverUrl):c.checkUrl(t.server_url);var i=c.extend({},L,I.getConfig());c.isObject(t)?this.config=c.extend(i,t):this.config=i,this._init(this.config)}return s(e,[{key:"_init",value:function(e){var t=this;this.name=e.name,this.appId=e.appId||e.appid;var i=e.serverUrl||e.server_url;this.serverUrl=i+"/sync_xcx",this.serverDebugUrl=i+"/data_debug",this.configUrl=i+"/config",this.autoTrackProperties={},this._queue=[],this.updateConfig(this.configUrl,this.appId),e.isChildInstance?this._state={}:(g.enabled=e.enableLog,this.instances=[],this._state={getSystemInfo:!1,initComplete:!1},I.setGlobal(this,this.name)),this.store=new R(e,function(){t.config.asyncPersistence&&c.isFunction(t.config.persistenceComplete)&&t.config.persistenceComplete(t),t._updateState()}),this.enabled=!c.isBoolean(this.store._get("ta_enabled"))||this.store._get("ta_enabled"),this.isOptOut=!!c.isBoolean(this.store._get("ta_isOptOut"))&&this.store._get("ta_isOptOut"),!e.isChildInstance&&e.autoTrack&&(this.autoTrack=I.initAutoTrackInstance(this,e)),void 0!==this.config.enableBatch&&!1!==this.config.enableBatch&&(this.batchConsumer=new F(this.config,this),this.batchConsumer.batchInterval())}},{key:"initSystemInfo",value:function(){var e=this;this.config.isChildInstance||x.getSystemInfo(function(){e._updateState({getSystemInfo:!0})})}},{key:"updateConfig",value:function(e,t){var i=this,n=c.createExtraHeaders();n["content-type"]="application/json";var r=I.request({url:e+"?appid="+t,method:"GET",header:n,success:function(e){c.isUndefined(e)||c.isUndefined(e.data)||(g.info("Get remote config success("+t+") :"+JSON.stringify(e.data)),c.isUndefined(e.data.data)||(i.config.syncBatchSize=e.data.data.sync_batch_size,i.config.syncInterval=e.data.data.sync_interval,i.config.disableEventList=e.data.data.disable_event_list,c.isUndefined(e.data.data.secret_key)||(e=e.data.data.secret_key,i.config.secretKey={publicKey:e.key,version:e.version})))},fail:function(e){g.info("Get remote config fail("+t+") :"+e.errMsg)}});setTimeout(function(){(c.isObject(r)||c.isPromise(r))&&c.isFunction(r.abort)&&r.abort()},3e3)}},{key:"initInstance",value:function(t,i){if(this.config.isChildInstance)g.warn("initInstance() cannot be called on child instance");else{if(c.isString(t)&&t!==this.name&&c.isUndefined(this[t]))return i=new e(c.extend({},this.config,{enablePersistence:!1,isChildInstance:!0,name:t},i)),this[t]=i,this.instances.push(t),this[t]._state=this._state,i;g.warn("initInstance() failed due to the name is invalid: "+t)}}},{key:"lightInstance",value:function(e){return this[e]}},{key:"_setAutoTrackProperties",value:function(e){c.extend(this.autoTrackProperties,e)}},{key:"init",value:function(){if(this.initSystemInfo(),this._state.initComplete)return!1;this._updateState({initComplete:!0}),g.info("TDAnalytics SDK initialize success, AppId = "+this.config.appId+", ServerUrl = "+this.config.serverUrl+", Mode = "+this.config.model+", DeviceId = "+this.getDeviceId()+", Lib = MG, LibVersion = 3.0.0-beta.1")}},{key:"_isReady",value:function(){return this._state.getSystemInfo&&this._state.initComplete&&this.store.initComplete&&this.getDeviceId()}},{key:"_updateState",value:function(e){var t=this;c.isObject(e)&&c.extend(this._state,e),this._onStateChange(),c.each(this.instances,function(e){t[e]._onStateChange()})}},{key:"_onStateChange",value:function(){var e=this;this._isReady()&&this._queue&&0<this._queue.length&&(c.each(this._queue,function(t){e[t[0]].apply(e,u.call(t[1]))}),this._queue=[])}},{key:"_hasDisabled",value:function(){var e=!this.enabled||this.isOptOut;return e&&g.info("SDK is Pause or Stop!"),e}},{key:"_sendRequest",value:function(e,t,i){if(!this._hasDisabled())if(c.isUndefined(this.config.disableEventList)||!this.config.disableEventList.includes(e.eventName)){t=c.isDate(t)?t:new Date;var n={data:[{"#type":e.type,"#time":c.formatDate(t),"#distinct_id":this.store.getDistinctId()}]};this.store.getAccountId()&&(n.data[0]["#account_id"]=this.store.getAccountId()),"track"===e.type||"track_update"===e.type||"track_overwrite"===e.type?(n.data[0]["#event_name"]=e.eventName,"track_update"===e.type||"track_overwrite"===e.type?n.data[0]["#event_id"]=e.extraId:e.firstCheckId&&(n.data[0]["#first_check_id"]=e.firstCheckId),n.data[0].properties=c.extend({"#zone_offset":0-t.getTimezoneOffset()/60},x.properties,this.autoTrackProperties,this.store.getSuperProperties(),this.dynamicProperties?this.dynamicProperties():{}),t=this.store.removeEventTimer(e.eventName),c.isUndefined(t)||(r=(new Date).getTime()-t,86400<(r=parseFloat((r/1e3).toFixed(3)))?r=86400:r<0&&(r=0),n.data[0].properties["#duration"]=r)):n.data[0].properties={},c.isObject(e.properties)&&!c.isEmptyObject(e.properties)&&c.extend(n.data[0].properties,e.properties),c.searchObjDate(n.data[0]),1<this.config.maxRetries&&(n.data[0]["#uuid"]=c.UUIDv4()),n["#app_id"]=this.appId,g.info("Tracking data, "+JSON.stringify(n,null,4));var r="debug"===this.config.debugMode||"debugOnly"===this.config.debugMode?this.serverDebugUrl:this.serverUrl;if(c.isBoolean(this.config.enableEncrypt)&&!0===this.config.enableEncrypt&&(n.data[0]=c.generateEncryptyData(n.data[0],this.config.secretKey)),this.batchConsumer&&"none"===this.config.debugMode&&!i)return this.batchConsumer.add(n.data[0]),void(c.isFunction(e.onComplete)&&e.onComplete({code:0,msg:"success"}));i?(i=new FormData,"debug"===this.config.debugMode||"debugOnly"===this.config.debugMode?(i.append("source","client"),i.append("appid",this.appId),i.append("dryRun","debugOnly"===this.config.debugMode?1:0),i.append("deviceId",this.getDeviceId()),i.append("data",JSON.stringify(n.data[0])),navigator.sendBeacon(r,i)):(i=(new Date).getTime(),n["#flush_time"]=i,navigator.sendBeacon(r,JSON.stringify(n))),c.isFunction(e.onComplete)&&e.onComplete({statusCode:200})):O.enqueue(n,r,{maxRetries:this.config.maxRetries,sendTimeout:this.config.sendTimeout,callback:e.onComplete,debugMode:this.config.debugMode,deviceId:this.getDeviceId()})}else g.info("Disabled Event : "+e.eventName)}},{key:"_isObjectParams",value:function(e){return c.isObject(e)&&c.isFunction(e.onComplete)}},{key:"track",value:function(e,t,i,n){var r;this._hasDisabled()||(this._isObjectParams(e)&&(e=(r=e).eventName,t=r.properties,i=r.time,n=r.onComplete),T.event(e)&&T.properties(t)||!this.config.strict?this._internalTrack(e,t,i,n):c.isFunction(n)&&n({code:-1,msg:"invalid parameters"}))}},{key:"trackUpdate",value:function(e){var t,i;this._hasDisabled()||(e&&e.eventId&&(T.event(e.eventName)&&T.properties(e.properties)||!this.config.strict)?this._isReady()?(t=c.checkCalibration(e.properties,e.time,this.config.enableCalibrationTime),i=c.isDate(e.time)?e.time:new Date,this._sendRequest({type:"track_update",eventName:e.eventName,properties:t,onComplete:e.onComplete,extraId:e.eventId},i)):this._queue.push(["trackUpdate",[e]]):(g.warn("Invalide parameter for trackUpdate: you should pass an object contains eventId to trackUpdate()"),c.isFunction(e.onComplete)&&e.onComplete({code:-1,msg:"invalid parameters"})))}},{key:"trackOverwrite",value:function(e){var t,i;this._hasDisabled()||(e&&e.eventId&&(T.event(e.eventName)&&T.properties(e.properties)||!this.config.strict)?this._isReady()?(t=c.checkCalibration(e.properties,e.time,this.config.enableCalibrationTime),i=c.isDate(e.time)?e.time:new Date,this._sendRequest({type:"track_overwrite",eventName:e.eventName,properties:t,onComplete:e.onComplete,extraId:e.eventId},i)):this._queue.push(["trackOverwrite",[e]]):(g.warn("Invalide parameter for trackOverwrite: you should pass an object contains eventId to trackOverwrite()"),c.isFunction(e.onComplete)&&e.onComplete({code:-1,msg:"invalid parameters"})))}},{key:"trackFirstEvent",value:function(e){var t,i;this._hasDisabled()||(e&&e.eventName&&(T.event(e.eventName)&&T.properties(e.properties)||!this.config.strict)?this._isReady()?(t=c.checkCalibration(e.properties,e.time,this.config.enableCalibrationTime),i=c.isDate(e.time)?e.time:new Date,this._sendRequest({type:"track",eventName:e.eventName,properties:t,onComplete:e.onComplete,firstCheckId:e.firstCheckId||this.getDeviceId()},i)):this._queue.push(["trackFirstEvent",[e]]):(g.warn("Invalide parameter for trackFirstEvent: you should pass an object contains eventName to trackFirstEvent()"),c.isFunction(e.onComplete)&&e.onComplete({code:-1,msg:"invalid parameters"})))}},{key:"_internalTrack",value:function(e,t,i,n,r){var o;this._hasDisabled()||(o=c.checkCalibration(t,i,this.config.enableCalibrationTime),i=c.isDate(i)?i:new Date,this._isReady()?this._sendRequest({type:"track",eventName:e,properties:o,onComplete:n},i,r):this._queue.push(["_internalTrack",[e,t,i,n]]))}},{key:"userSet",value:function(e,t,i){var n;this._hasDisabled()||(this._isObjectParams(e)&&(e=(n=e).properties,t=n.time,i=n.onComplete),T.propertiesMust(e)||!this.config.strict?(t=c.isDate(t)?t:new Date,this._isReady()?this._sendRequest({type:"user_set",properties:e,onComplete:i},t):this._queue.push(["userSet",[e,t,i]])):(g.warn("calling userSet failed due to invalid arguments"),c.isFunction(i)&&i({code:-1,msg:"invalid parameters"})))}},{key:"userSetOnce",value:function(e,t,i){var n;this._hasDisabled()||(this._isObjectParams(e)&&(e=(n=e).properties,t=n.time,i=n.onComplete),T.propertiesMust(e)||!this.config.strict?(t=c.isDate(t)?t:new Date,this._isReady()?this._sendRequest({type:"user_setOnce",properties:e,onComplete:i},t):this._queue.push(["userSetOnce",[e,t,i]])):(g.warn("calling userSetOnce failed due to invalid arguments"),c.isFunction(i)&&i({code:-1,msg:"invalid parameters"})))}},{key:"userUnset",value:function(e,t,i){var n;this._hasDisabled()||(this._isObjectParams(n)&&(e=n.property,t=n.time,i=n.onComplete),T.propertyName(e)||!this.config.strict?(t=c.isDate(t)?t:new Date,this._isReady()?((n={})[e]=0,this._sendRequest({type:"user_unset",properties:n,onComplete:i},t)):this._queue.push(["userUnset",[e,i,t]])):(g.warn("calling userUnset failed due to invalid arguments"),c.isFunction(i)&&i({code:-1,msg:"invalid parameters"})))}},{key:"userDel",value:function(e,t){var i;this._hasDisabled()||(this._isObjectParams(e)&&(e=(i=e).time,t=i.onComplete),e=c.isDate(e)?e:new Date,this._isReady()?this._sendRequest({type:"user_del",onComplete:t},e):this._queue.push(["userDel",[e,t]]))}},{key:"userAdd",value:function(e,t,i){var n;this._hasDisabled()||(this._isObjectParams(e)&&(e=(n=e).properties,t=n.time,i=n.onComplete),T.userAddProperties(e)||!this.config.strict?(t=c.isDate(t)?t:new Date,this._isReady()?this._sendRequest({type:"user_add",properties:e,onComplete:i},t):this._queue.push(["userAdd",[e,t,i]])):(g.warn("calling userAdd failed due to invalid arguments"),c.isFunction(i)&&i({code:-1,msg:"invalid parameters"})))}},{key:"userAppend",value:function(e,t,i){var n;this._hasDisabled()||(this._isObjectParams(e)&&(e=(n=e).properties,t=n.time,i=n.onComplete),T.userAppendProperties(e)||!this.config.strict?(t=c.isDate(t)?t:new Date,this._isReady()?this._sendRequest({type:"user_append",properties:e,onComplete:i},t):this._queue.push(["userAppend",[e,t,i]])):(g.warn("calling userAppend failed due to invalid arguments"),c.isFunction(i)&&i({code:-1,msg:"invalid parameters"})))}},{key:"userUniqAppend",value:function(e,t,i){var n;this._hasDisabled()||(this._isObjectParams(e)&&(e=(n=e).properties,t=n.time,i=n.onComplete),T.userAppendProperties(e)||!this.config.strict?(t=c.isDate(t)?t:new Date,this._isReady()?this._sendRequest({type:"user_uniq_append",properties:e,onComplete:i},t):this._queue.push(["userUniqAppend",[e,t,i]])):(g.warn("calling userAppend failed due to invalid arguments"),c.isFunction(i)&&i({code:-1,msg:"invalid parameters"})))}},{key:"flush",value:function(){this.batchConsumer&&"none"===this.config.debugMode&&this.batchConsumer.flush()}},{key:"authorizeOpenID",value:function(e){this.identify(e)}},{key:"identify",value:function(e){if(!this._hasDisabled()){if("number"==typeof e)e=String(e);else if("string"!=typeof e)return!1;this.store.setDistinctId(e),g.info("Setting distinct ID, DistinctId = "+e)}}},{key:"getDistinctId",value:function(){return this.store.getDistinctId()}},{key:"login",value:function(e){if(!this._hasDisabled()){if("number"==typeof e)e=String(e);else if("string"!=typeof e)return!1;this.store.setAccountId(e),g.info("Login SDK, AccountId = "+e)}}},{key:"getAccountId",value:function(){return this.store.getAccountId()}},{key:"logout",value:function(){this._hasDisabled()||(this.store.setAccountId(null),g.info("Logout SDK"))}},{key:"setSuperProperties",value:function(e){this._hasDisabled()||(T.propertiesMust(e)||!this.config.strict?this.store.setSuperProperties(e):g.warn("setSuperProperties parameter must be a valid property value"))}},{key:"clearSuperProperties",value:function(){this._hasDisabled()||this.store.setSuperProperties({},!0)}},{key:"unsetSuperProperty",value:function(e){var t;this._hasDisabled()||c.isString(e)&&(delete(t=this.getSuperProperties())[e],this.store.setSuperProperties(t,!0))}},{key:"getSuperProperties",value:function(){return this.store.getSuperProperties()}},{key:"getPresetProperties",value:function(){var e=x.properties,t={},i=e["#os"];t.os=c.isUndefined(i)?"":i,i=e["#screen_width"],t.screenWidth=c.isUndefined(i)?0:i,i=e["#screen_height"],t.screenHeight=c.isUndefined(i)?0:i,i=e["#network_type"],t.networkType=c.isUndefined(i)?"":i,i=e["#device_model"],t.deviceModel=c.isUndefined(i)?"":i,i=e["#os_version"],t.osVersion=c.isUndefined(i)?"":i,t.deviceId=this.getDeviceId();var n=0-(new Date).getTimezoneOffset()/60;return t.zoneOffset=n,e=e["#manufacturer"],t.manufacturer=c.isUndefined(e)?"":e,t.toEventPresetProperties=function(){return{"#device_model":t.deviceModel,"#device_id":t.deviceId,"#screen_width":t.screenWidth,"#screen_height":t.screenHeight,"#os":t.os,"#os_version":t.osVersion,"#network_type":t.networkType,"#zone_offset":n,"#manufacturer":t.manufacturer}},t}},{key:"setDynamicSuperProperties",value:function(e){this._hasDisabled()||("function"==typeof e?T.properties(e())||!this.config.strict?this.dynamicProperties=e:g.warn("A dynamic public property must return a valid property value"):g.warn("setDynamicSuperProperties parameter must be a function type"))}},{key:"timeEvent",value:function(e,t){this._hasDisabled()||(t=c.isDate(t)?t:new Date,this._isReady()?T.event(e)||!this.config.strict?this.store.setEventTimer(e,t.getTime()):g.warn("calling timeEvent failed due to invalid eventName: "+e):this._queue.push(["timeEvent",[e,t]]))}},{key:"getDeviceId",value:function(){return x.properties["#device_id"]}},{key:"enableTracking",value:function(e){this.enabled=e,this.store._set("ta_enabled",e)}},{key:"optOutTracking",value:function(){this.store.setSuperProperties({},!0),this.store.setDistinctId(c.UUID()),this.store.setAccountId(null),this._queue.splice(0,this._queue.length),this.isOptOut=!0,this.store._set("ta_isOptOut",!0)}},{key:"optOutTrackingAndDeleteUser",value:function(){var e=new Date;this._sendRequest({type:"user_del"},e),this.optOutTracking()}},{key:"optInTracking",value:function(){this.isOptOut=!1,this.store._set("ta_isOptOut",!1)}},{key:"setTrackStatus",value:function(e){switch(e){case"PAUSE":this.eventSaveOnly=!1,this.optInTracking(),this.enableTracking(!1);break;case"STOP":this.eventSaveOnly=!1,this.optOutTracking(!0);break;case"SAVE_ONLY":break;case"NORMAL":default:this.eventSaveOnly=!1,this.optInTracking(),this.enableTracking(!0)}g.info("Change Status to "+e)}}]),e}(),U={name:"thinkingdata",enableLog:!0,enableNative:!1},G=function(){function e(t){r(this,e),t.appId=t.appId?c.checkAppId(t.appId):c.checkAppId(t.appid),t.serverUrl=t.serverUrl?c.checkUrl(t.serverUrl):c.checkUrl(t.server_url);var i=c.extend({},U,I.getConfig());c.isObject(t)?this.config=c.extend(i,t):this.config=i,this._init(this.config)}return s(e,[{key:"_isNativePlatform",value:function(){return!(!this._isIOS()&&!this._isAndroid()||!this.config.enableNative)}},{key:"_isIOS",value:function(){return!(!cc.sys.isNative||"iOS"!==cc.sys.os)}},{key:"_isAndroid",value:function(){return!(!cc.sys.isNative||"Android"!==cc.sys.os)}},{key:"_init",value:function(e){this.name=e.name,this.appId=e.appId||e.appid,this._isNativePlatform()?(this.initInstanceForNative(this.name,e,this.appId),this._readStorage(e)):this.taJs=new ThinkingAnalyticsAPIForJS(e)}},{key:"_readStorage",value:function(e){var t=this,i=e.persistenceName,n=e.persistenceNameOld;e.isChildInstance&&(i=e.persistenceName+"_"+e.name,n=e.persistenceNameOld+"_"+e.name),this._state=I.getStorage(i)||{},c.isEmptyObject(this._state)&&(this._state=I.getStorage(n)||{}),c.isEmptyObject(this._state)?I.getStorage(i,!0,function(e){c.isEmptyObject(e)?I.getStorage(n,!0,function(e){t._state=c.extend2Layers({},e,t._state)}):t._state=c.extend2Layers({},e,t._state),t._state.distinct_id&&t.identifyForNative(t._state.distinct_id),t._state.account_id&&t.loginForNative(t._state.account_id)}):(this._state.distinct_id&&this.identifyForNative(this._state.distinct_id),this._state.account_id&&this.loginForNative(this._state.account_id))}},{key:"initInstance",value:function(e,t){return this._isNativePlatform()?c.isUndefined(t)?this[e]=new ThinkingAnalyticsAPI(this.config):this[e]=new ThinkingAnalyticsAPI(t):this[e]=this.taJs.initInstance(e,t),this[e]}},{key:"lightInstance",value:function(e){return this[e]}},{key:"init",value:function(){if(this._isNativePlatform()){var e=window,t=this;return e.__autoTrackCallback=function(e){return c.isFunction(t.config.autoTrack.callback)?(e=t.config.autoTrack.callback(e),JSON.stringify(e)):"{}"},void this.startThinkingAnalyticsForNative()}this.taJs.init()}},{key:"track",value:function(e,t,i,n){this._isNativePlatform()?this.trackForNative(e,t,i,this.appId):this.taJs.track(e,t,i,n)}},{key:"trackUpdate",value:function(e){this._isNativePlatform()?this.trackUpdateForNative(e,this.appId):this.taJs.trackUpdate(e)}},{key:"trackOverwrite",value:function(e){this._isNativePlatform()?this.trackOverwriteForNative(e,this.appId):this.taJs.trackOverwrite(e)}},{key:"trackFirstEvent",value:function(e){this._isNativePlatform()?this.trackFirstEventForNative(e,this.appId):this.taJs.trackFirstEvent(e)}},{key:"userSet",value:function(e,t,i){this._isNativePlatform()?this.userSetForNative(e,this.appId):this.taJs.userSet(e,t,i)}},{key:"userSetOnce",value:function(e,t,i){this._isNativePlatform()?this.userSetOnceForNative(e,this.appId):this.taJs.userSetOnce(e,t,i)}},{key:"userUnset",value:function(e,t,i){this._isNativePlatform()?this.userUnsetForNative(e,this.appId):this.taJs.userUnset(e,t,i)}},{key:"userDel",value:function(e,t){this._isNativePlatform()?this.userDelForNative(this.appId):this.taJs.userDel(e,t)}},{key:"userAdd",value:function(e,t,i){this._isNativePlatform()?this.userAddForNative(e,this.appId):this.taJs.userAdd(e,t,i)}},{key:"userAppend",value:function(e,t,i){this._isNativePlatform()?this.userAppendForNative(e,this.appId):this.taJs.userAppend(e,t,i)}},{key:"userUniqAppend",value:function(e,t,i){this._isNativePlatform()?this.userUniqAppendForNative(e,this.appId):this.taJs.userUniqAppend(e,t,i)}},{key:"flush",value:function(){this._isNativePlatform()?this.flushForNative(this.appId):this.taJs.flush()}},{key:"authorizeOpenID",value:function(e){this.identify(e)}},{key:"identify",value:function(e){this._isNativePlatform()?this.identifyForNative(e,this.appId):this.taJs.identify(e)}},{key:"getDistinctId",value:function(){return this._isNativePlatform()?this.getDistinctIdForNative(this.appId):this.taJs.getDistinctId()}},{key:"login",value:function(e){this._isNativePlatform()?this.loginForNative(e,this.appId):this.taJs.login(e)}},{key:"getAccountId",value:function(){return this._isNativePlatform()?this.getAccountIdForNative(this.appId):this.taJs.getAccountId()}},{key:"logout",value:function(){this._isNativePlatform()?this.logoutForNative(this.appId):this.taJs.logout()}},{key:"setSuperProperties",value:function(e){this._isNativePlatform()?this.setSuperPropertiesForNative(e,this.appId):this.taJs.setSuperProperties(e)}},{key:"clearSuperProperties",value:function(){this._isNativePlatform()?this.clearSuperPropertiesForNative(this.appId):this.taJs.clearSuperProperties()}},{key:"unsetSuperProperty",value:function(e){this._isNativePlatform()?this.unsetSuperPropertyForNative(e,this.appId):this.taJs.unsetSuperProperty(e)}},{key:"getSuperProperties",value:function(){return this._isNativePlatform()?this.getSuperPropertiesForNative(this.appId):this.taJs.getSuperProperties()}},{key:"getPresetProperties",value:function(){if(this._isNativePlatform()){var e=this.getPresetPropertiesForNative(this.appId),t={},i=e["#os"];t.os=c.isUndefined(i)?"":i,i=e["#screen_width"],t.screenWidth=c.isUndefined(i)?0:i,i=e["#screen_height"],t.screenHeight=c.isUndefined(i)?0:i,i=e["#network_type"],t.networkType=c.isUndefined(i)?"":i,i=e["#device_model"],t.deviceModel=c.isUndefined(i)?"":i,i=e["#os_version"],t.osVersion=c.isUndefined(i)?"":i,t.deviceId=this.getDeviceId();var n=0-(new Date).getTimezoneOffset()/60;return t.zoneOffset=n,e=e["#manufacturer"],t.manufacturer=c.isUndefined(e)?"":e,t.toEventPresetProperties=function(){return{"#device_model":t.deviceModel,"#device_id":t.deviceId,"#screen_width":t.screenWidth,"#screen_height":t.screenHeight,"#os":t.os,"#os_version":t.osVersion,"#network_type":t.networkType,"#zone_offset":n,"#manufacturer":t.manufacturer}},t}return this.taJs.getPresetProperties()}},{key:"setDynamicSuperProperties",value:function(e){this._isNativePlatform()?"function"==typeof e?(this.dynamicProperties=e,window.__dynamicPropertiesForNative=function(t){return console.log("__dynamicPropertiesForNative: native msg: ",t),t=e(),t=c.encodeDates(t),JSON.stringify(t)},this.setDynamicSuperPropertiesForNative("__dynamicPropertiesForNative")):logger.warn("setDynamicSuperProperties parameter must be a function type"):this.taJs.setDynamicSuperProperties(e)}},{key:"timeEvent",value:function(e,t){return this._isNativePlatform()?this.timeEventForNative(e,this.appId):this.taJs.timeEvent(e,t)}},{key:"getDeviceId",value:function(){return this._isNativePlatform()?this.getDeviceIdForNative(this.appId):this.taJs.getDeviceId()}},{key:"enableTracking",value:function(e){this._isNativePlatform()?this.enableTrackingForNative(e,this.appId):this.taJs.enableTracking(e)}},{key:"optOutTracking",value:function(){this._isNativePlatform()?this.optOutTrackingForNative(this.appId):this.taJs.optOutTracking()}},{key:"optOutTrackingAndDeleteUser",value:function(){this._isNativePlatform()?this.optOutTrackingAndDeleteUserForNative(this.appId):this.taJs.optOutTrackingAndDeleteUser()}},{key:"optInTracking",value:function(){this._isNativePlatform()?this.optInTrackingForNative(this.appId):this.taJs.optInTracking()}},{key:"setTrackStatus",value:function(e){this._isNativePlatform()?this.setTrackStatusForNative(e,this.appId):this.taJs.setTrackStatus(e)}},{key:"trackForNative",value:function(e,t,i,n){i=c.isDate(i)?c.formatDate(i):"",c.isUndefined(t)&&(t={}),t=c.extend(t,this.dynamicProperties?this.dynamicProperties():{}),t=c.encodeDates(t),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","track","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,JSON.stringify(t),i,n):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","track:properties:time:appId:",e,JSON.stringify(t),i,n)}},{key:"trackUpdateForNative",value:function(e,t){e.properties=c.extend(c.isUndefined(e.properties)?{}:e.properties,this.dynamicProperties?this.dynamicProperties():{}),e=c.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","trackUpdate","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","trackUpdate:appId:",JSON.stringify(e),t)}},{key:"trackFirstEventForNative",value:function(e,t){e.properties=c.extend(c.isUndefined(e.properties)?{}:e.properties,this.dynamicProperties?this.dynamicProperties():{}),e=c.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","trackFirstEvent","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","trackFirstEvent:appId:",JSON.stringify(e),t)}},{key:"trackOverwriteForNative",value:function(e,t){e.properties=c.extend(c.isUndefined(e.properties)?{}:e.properties,this.dynamicProperties?this.dynamicProperties():{}),e=c.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","trackOverwrite","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","trackOverwrite:appId:",JSON.stringify(e),t)}},{key:"timeEventForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","timeEvent","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","timeEvent:appId:",e,t)}},{key:"loginForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","login","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","login:appId:",e,t)}},{key:"logoutForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","logout","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","logout:",e)}},{key:"setSuperPropertiesForNative",value:function(e,t){e=c.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","setSuperProperties","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","setSuperProperties:appId:",JSON.stringify(e),t)}},{key:"getSuperPropertiesForNative",value:function(e){var t="{}";return this._isAndroid()?t=jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","getSuperProperties","(Ljava/lang/String;)Ljava/lang/String;",e):this._isIOS()&&(t=jsb.reflection.callStaticMethod("CocosCreatorProxyApi","getSuperProperties:",e)),JSON.parse(t)}},{key:"unsetSuperPropertyForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","unsetSuperProperty","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","unsetSuperProperty:appId:",e,t)}},{key:"clearSuperPropertiesForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","clearSuperProperties","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","clearSuperProperties:",e)}},{key:"userSetForNative",value:function(e,t){e=c.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userSet","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userSet:appId:",JSON.stringify(e),t)}},{key:"userSetOnceForNative",value:function(e,t){e=c.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userSetOnce","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userSetOnce:appId:",JSON.stringify(e),t)}},{key:"userAppendForNative",value:function(e,t){e=c.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userAppend","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userAppend:appId:",JSON.stringify(e),t)}},{key:"userUniqAppendForNative",value:function(e,t){e=c.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userUniqAppend","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userUniqAppend:appId:",JSON.stringify(e),t)}},{key:"userAddForNative",value:function(e,t){e=c.encodeDates(e),this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userAdd","(Ljava/lang/String;Ljava/lang/String;)V",JSON.stringify(e),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userAdd:appId:",JSON.stringify(e),t)}},{key:"userUnsetForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userUnset","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userUnset:appId:",e,t)}},{key:"userDelForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","userDel","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","userDel:",e)}},{key:"flushForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","flush","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","flush:",e)}},{key:"authorizeOpenIDForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","authorizeOpenID","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","authorizeOpenID:appId:",e,t)}},{key:"identifyForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","identify","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","identify:appId:",e,t)}},{key:"initInstanceForNative",value:function(e,t,i){this._isAndroid()?(jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","setCustomerLibInfo","(Ljava/lang/String;Ljava/lang/String;)V","MG","3.0.0-beta.1"),c.isUndefined(t)?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","initInstanceAppId","(Ljava/lang/String;Ljava/lang/String;)V",e,i):jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","initInstanceConfig","(Ljava/lang/String;Ljava/lang/String;)V",e,JSON.stringify(t))):this._isIOS()&&(jsb.reflection.callStaticMethod("CocosCreatorProxyApi","setCustomerLibInfoWithLibName:libVersion:","MG","3.0.0-beta.1"),c.isUndefined(t)?jsb.reflection.callStaticMethod("CocosCreatorProxyApi","initInstance:appId:",e,i):jsb.reflection.callStaticMethod("CocosCreatorProxyApi","initInstance:config:",e,JSON.stringify(t)))}},{key:"lightInstanceForNative",value:function(e,t){return this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","lightInstance","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()?jsb.reflection.callStaticMethod("CocosCreatorProxyApi","lightInstance:appId:",e,t):void 0}},{key:"startThinkingAnalyticsForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","startThinkingAnalytics","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","startThinkingAnalytics:",e)}},{key:"setDynamicSuperPropertiesForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","setDynamicSuperProperties","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","setDynamicSuperProperties:appId:",e,t)}},{key:"getDeviceIdForNative",value:function(e){return this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","getDeviceId","(Ljava/lang/String;)Ljava/lang/String;",e):this._isIOS()?jsb.reflection.callStaticMethod("CocosCreatorProxyApi","getDeviceId:",e):void 0}},{key:"getDistinctIdForNative",value:function(e){return this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","getDistinctId","(Ljava/lang/String;)Ljava/lang/String;",e):this._isIOS()?jsb.reflection.callStaticMethod("CocosCreatorProxyApi","getDistinctId:",e):void 0}},{key:"getAccountIdForNative",value:function(e){return this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","getAccountId","(Ljava/lang/String;)Ljava/lang/String;",e):this._isIOS()?jsb.reflection.callStaticMethod("CocosCreatorProxyApi","getAccountId:",e):void 0}},{key:"getPresetPropertiesForNative",value:function(e){var t="{}";return this._isAndroid()?t=jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","getPresetProperties","(Ljava/lang/String;)Ljava/lang/String;",e):this._isIOS()&&(t=jsb.reflection.callStaticMethod("CocosCreatorProxyApi","getPresetProperties:",e)),JSON.parse(t)}},{key:"enableTrackingForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","enableTracking","(Ljava/lang/String;Ljava/lang/String;)V",e.toString(),t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","enableTracking:appId:",e.toString(),t)}},{key:"optOutTrackingForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","optOutTracking","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","optOutTracking:",e)}},{key:"optOutTrackingAndDeleteUserForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","optOutTrackingAndDeleteUser","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","optOutTrackingAndDeleteUser:",e)}},{key:"optInTrackingForNative",value:function(e){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","optInTracking","(Ljava/lang/String;)V",e):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","optInTracking:",e)}},{key:"setTrackStatusForNative",value:function(e,t){this._isAndroid()?jsb.reflection.callStaticMethod("com/cocos/game/CocosCreatorProxyApi","setTrackStatus","(Ljava/lang/String;Ljava/lang/String;)V",e,t):this._isIOS()&&jsb.reflection.callStaticMethod("CocosCreatorProxyApi","setTrackStatus:appId:",e,t)}}]),e}();window.ThinkingAnalyticsAPI=G,window.ThinkingAnalyticsAPIForJS=B;var V=function(){function e(){r(this,e)}return s(e,null,[{key:"_shareInstance",value:function(e){return void 0!==this._instanceMaps[e]?this._instanceMaps[e]:void 0!==this._defaultInstance?this._defaultInstance:void 0}},{key:"init",value:function(e){var t=new G(e);t.init(),void 0!==t&&(void 0===this._defaultInstance&&(this._defaultInstance=t,this._instanceMaps={}),this._instanceMaps[e.appId]=t)}},{key:"lightInstance",value:function(e){return this._shareInstance(e).lightInstance()}},{key:"track",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).track(e.eventName,e.properties,e.time,e.onComplete)}},{key:"trackFirst",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).trackFirstEvent(e)}},{key:"trackUpdate",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).trackUpdate(e)}},{key:"trackOverwrite",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).trackOverwrite(e)}},{key:"timeEvent",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).timeEvent(e.eventName,e.time)}},{key:"userSet",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).userSet(e.properties,e.time,e.onComplete)}},{key:"userSetOnce",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).userSetOnce(e.properties,e.time,e.onComplete)}},{key:"userUnset",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).userUnset(e.property,e.time,e.onComplete)}},{key:"userAdd",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).userAdd(e.properties,e.time,e.onComplete)}},{key:"userAppend",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).userAppend(e.properties,e.time,e.onComplete)}},{key:"userUniqAppend",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).userUniqAppend(e.properties,e.time,e.onComplete)}},{key:"userDelete",value:function(e,t){e=0<arguments.length&&void 0!==e?e:{},t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).userDel(e.time,e.onComplete)}},{key:"setSuperProperties",value:function(e,t){t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).setSuperProperties(e)}},{key:"unsetSuperProperty",value:function(e,t){t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).unsetSuperProperty(e)}},{key:"clearSuperProperties",value:function(e){this._shareInstance(e).clearSuperProperties()}},{key:"getSuperProperties",value:function(e){return this._shareInstance(e).getSuperProperties()}},{key:"setDynamicSuperProperties",value:function(e,t){t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).setDynamicSuperProperties(e)}},{key:"getPresetProperties",value:function(e){return this._shareInstance(e).getPresetProperties()}},{key:"login",value:function(e,t){t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).login(e)}},{key:"logout",value:function(e){this._shareInstance(e).logout()}},{key:"setDistinctId",value:function(e,t){t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).identify(e)}},{key:"getDistinctId",value:function(e){return this._shareInstance(e).getDistinctId()}},{key:"getSDKVersion",value:function(){return"1.0.0"}},{key:"getDeviceId",value:function(e){return this._shareInstance(e).getDeviceId()}},{key:"flush",value:function(e){this._shareInstance(e).flush()}},{key:"setTrackStatus",value:function(e,t){t=1<arguments.length&&void 0!==t?t:"",this._shareInstance(t).setTrackStatus(e)}},{key:"ThinkingDataAPI",value:function(){return G}}]),e}();window.TDAnalytics=V,i.exports=V,cc._RF.pop()},{}],ts:[function(e,t){"use strict";cc._RF.push(t,"03410pykuNHe7K99/OiQPQR","ts"),cc._RF.pop()},{}]},{},["Adapt","AddPropView","AddPropViewRecive","AesTools","AppConfig","AppPlatform","AppSwitchConfig","BloodView","BreathingEffect","BundleMgr","CandyTs","Cll","Common","Common5","DateUtils","DebugInfoMgr","DialogAddPower","DialogAddPowerAll","DialogLoading","DialogMgr","DialogSetting","DialogToast","DialogUIBase","Dictionary","DragUtil","EndSpine","EndUI","EventEnum","EventMgr","FMButton","FMComponentExtend","FMInterface","FMItemLayout","FMMainScene","FMScrollViewLoop","FMSkeletonExtend","FMSpine","FMTouchMaskView","FMViewBase","GameConfig","GameHttpMgr","GameMgr","GetPropView","GoldView","HoleMask","HouseShow","HttpUnit","IceCakeUnlock","KSAPI","LevelTs","LoadingView","LogUtils","Main","MapCtrl","MonenyNotEnough","MoneyTs","NetConfig","OPPOAPI","ObstacleUnlock","PageBaseUI","PhysicalPowerMgr","PowerNode","QQMiniGameAPI","RYAD","RYPlatformMgr","RYSDK","RYSTAT","ReciveView","RedPointGoldGet","RedPointHouseUnlock","RemoteMgr","ResSubMgr","RestartView","RotaAni","RoteShakeAni","ScoreBoxUnlock","SettingUI","ShushuReport","SoundMgr","TTAPI","TimerUtils","TweenScale","TweenUtils","UmengMgr","UnlockHouse","UpAndHide","UpDownAni","User","Utilit","VIVOAPI","VibrateMgr","VideoBoxUnlock","WXAPI","WudianMgr","YPlatform","aes","tdanalytics.mg.cocoscreator.min","ts"]);
window.addEventListener('message', (e)=>{
	// console.log(e);
	if (e && e.data) {
		if (e.data === 'rewardSuccess') {
			rewardRun(true);
		} else if (e.data === 'rewardDismissed') {
			showMessage('Reward canceled');
			rewardRun(false);
		} else if (e.data === 'rewardFailed'){
			showMessage('Failed to get the reward, please try again later.');
			rewardRun(false);
		}
	}
});