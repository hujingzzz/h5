/*
 howler.js v2.1.1 | (c) 2013-2018, James Simpson of GoldFire Studios | MIT License | howlerjs.com  Spatial Plugin  @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(V,r,A){V!=Array.prototype&&V!=Object.prototype&&(V[r]=A.value)};
$jscomp.getGlobal=function(V){V=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,V];for(var r=0;r<V.length;++r){var A=V[r];if(A&&A.Math==Math)return A}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(V,r,A,z){if(r){A=$jscomp.global;V=V.split(".");for(z=0;z<V.length-1;z++){var x=V[z];x in A||(A[x]={});A=A[x]}V=V[V.length-1];z=A[V];r=r(z);r!=z&&null!=r&&$jscomp.defineProperty(A,V,{configurable:!0,writable:!0,value:r})}};
$jscomp.polyfill("String.fromCodePoint",function(V){return V?V:function(r){for(var A="",z=0;z<arguments.length;z++){var x=Number(arguments[z]);if(0>x||1114111<x||x!==Math.floor(x))throw new RangeError("invalid_code_point "+x);65535>=x?A+=String.fromCharCode(x):(x-=65536,A+=String.fromCharCode(x>>>10&1023|55296),A+=String.fromCharCode(x&1023|56320))}return A}},"es6","es3");$jscomp.arrayIteratorImpl=function(V){var r=0;return function(){return r<V.length?{done:!1,value:V[r++]}:{done:!0}}};
$jscomp.arrayIterator=function(V){return{next:$jscomp.arrayIteratorImpl(V)}};$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.SymbolClass=function(V,r){this.$jscomp$symbol$id_=V;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:r})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
$jscomp.Symbol=function(){function V(A){if(this instanceof V)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(A||"")+"_"+r++,A)}var r=0;return V}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var V=$jscomp.global.Symbol.iterator;V||(V=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[V]&&$jscomp.defineProperty(Array.prototype,V,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var V=$jscomp.global.Symbol.asyncIterator;V||(V=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(V){$jscomp.initSymbolIterator();V={next:V};V[$jscomp.global.Symbol.iterator]=function(){return this};return V};
$jscomp.iteratorFromArray=function(V,r){$jscomp.initSymbolIterator();V instanceof String&&(V+="");var A=0,z={next:function(){if(A<V.length){var x=A++;return{value:r(x,V[x]),done:!1}}z.next=function(){return{done:!0,value:void 0}};return z.next()}};z[Symbol.iterator]=function(){return z};return z};$jscomp.polyfill("Array.prototype.keys",function(V){return V?V:function(){return $jscomp.iteratorFromArray(this,function(r){return r})}},"es6","es3");
$jscomp.findInternal=function(V,r,A){V instanceof String&&(V=String(V));for(var z=V.length,x=0;x<z;x++){var J=V[x];if(r.call(A,J,x,V))return{i:x,v:J}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(V){return V?V:function(r,A){return $jscomp.findInternal(this,r,A).v}},"es6","es3");$jscomp.polyfill("Array.prototype.entries",function(V){return V?V:function(){return $jscomp.iteratorFromArray(this,function(r,A){return[r,A]})}},"es6","es3");
$jscomp.checkStringArgs=function(V,r,A){if(null==V)throw new TypeError("The 'this' value for String.prototype."+A+" must not be null or undefined");if(r instanceof RegExp)throw new TypeError("First argument to String.prototype."+A+" must not be a regular expression");return V+""};
$jscomp.polyfill("String.prototype.startsWith",function(V){return V?V:function(r,A){var z=$jscomp.checkStringArgs(this,r,"startsWith");r+="";var x=z.length,J=r.length;A=Math.max(0,Math.min(A|0,z.length));for(var m=0;m<J&&A<x;)if(z[A++]!=r[m++])return!1;return m>=J}},"es6","es3");
$jscomp.polyfill("String.prototype.endsWith",function(V){return V?V:function(r,A){var z=$jscomp.checkStringArgs(this,r,"endsWith");r+="";void 0===A&&(A=z.length);A=Math.max(0,Math.min(A|0,z.length));for(var x=r.length;0<x&&0<A;)if(z[--A]!=r[--x])return!1;return 0>=x}},"es6","es3");$jscomp.makeIterator=function(V){var r="undefined"!=typeof Symbol&&Symbol.iterator&&V[Symbol.iterator];return r?r.call(V):$jscomp.arrayIterator(V)};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(V){function r(){this.batch_=null}function A(m){return m instanceof x?m:new x(function(r,l){r(m)})}if(V&&!$jscomp.FORCE_POLYFILL_PROMISE)return V;r.prototype.asyncExecute=function(m){if(null==this.batch_){this.batch_=[];var r=this;this.asyncExecuteFunction(function(){r.executeBatch_()})}this.batch_.push(m)};var z=$jscomp.global.setTimeout;r.prototype.asyncExecuteFunction=function(m){z(m,0)};r.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var m=
this.batch_;this.batch_=[];for(var r=0;r<m.length;++r){var l=m[r];m[r]=null;try{l()}catch(h){this.asyncThrow_(h)}}}this.batch_=null};r.prototype.asyncThrow_=function(m){this.asyncExecuteFunction(function(){throw m;})};var x=function(m){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var r=this.createResolveAndReject_();try{m(r.resolve,r.reject)}catch(l){r.reject(l)}};x.prototype.createResolveAndReject_=function(){function m(h){return function(f){l||(l=!0,h.call(r,f))}}var r=this,l=!1;
return{resolve:m(this.resolveTo_),reject:m(this.reject_)}};x.prototype.resolveTo_=function(m){if(m===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(m instanceof x)this.settleSameAsPromise_(m);else{a:switch(typeof m){case "object":var r=null!=m;break a;case "function":r=!0;break a;default:r=!1}r?this.resolveToNonPromiseObj_(m):this.fulfill_(m)}};x.prototype.resolveToNonPromiseObj_=function(m){var r=void 0;try{r=m.then}catch(l){this.reject_(l);return}"function"==typeof r?
this.settleSameAsThenable_(r,m):this.fulfill_(m)};x.prototype.reject_=function(m){this.settle_(2,m)};x.prototype.fulfill_=function(m){this.settle_(1,m)};x.prototype.settle_=function(m,r){if(0!=this.state_)throw Error("Cannot settle("+m+", "+r+"): Promise already settled in state"+this.state_);this.state_=m;this.result_=r;this.executeOnSettledCallbacks_()};x.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var m=0;m<this.onSettledCallbacks_.length;++m)J.asyncExecute(this.onSettledCallbacks_[m]);
this.onSettledCallbacks_=null}};var J=new r;x.prototype.settleSameAsPromise_=function(m){var r=this.createResolveAndReject_();m.callWhenSettled_(r.resolve,r.reject)};x.prototype.settleSameAsThenable_=function(m,r){var l=this.createResolveAndReject_();try{m.call(r,l.resolve,l.reject)}catch(h){l.reject(h)}};x.prototype.then=function(m,r){function l(m,l){return"function"==typeof m?function(l){try{h(m(l))}catch(ua){f(ua)}}:l}var h,f,K=new x(function(m,l){h=m;f=l});this.callWhenSettled_(l(m,h),l(r,f));
return K};x.prototype.catch=function(m){return this.then(void 0,m)};x.prototype.callWhenSettled_=function(m,r){function l(){switch(h.state_){case 1:m(h.result_);break;case 2:r(h.result_);break;default:throw Error("Unexpected state: "+h.state_);}}var h=this;null==this.onSettledCallbacks_?J.asyncExecute(l):this.onSettledCallbacks_.push(l)};x.resolve=A;x.reject=function(m){return new x(function(r,l){l(m)})};x.race=function(m){return new x(function(r,l){for(var h=$jscomp.makeIterator(m),f=h.next();!f.done;f=
h.next())A(f.value).callWhenSettled_(r,l)})};x.all=function(m){var r=$jscomp.makeIterator(m),l=r.next();return l.done?A([]):new x(function(h,f){function m(f){return function(m){I[f]=m;Ea--;0==Ea&&h(I)}}var I=[],Ea=0;do I.push(void 0),Ea++,A(l.value).callWhenSettled_(m(I.length-1),f),l=r.next();while(!l.done)})};return x},"es6","es3");
(function(V,r){V.lime=V.lime||{};V.lime.$scripts=V.lime.$scripts||{};V.lime.$scripts["zoo-offline"]=function(r,z){(function(r,A){function m(a,b){a=Object.create(a);for(var c in b)a[c]=b[c];b.toString!==Object.prototype.toString&&(a.toString=b.toString);return a}function x(a){return a instanceof Array?new id(a):a.iterator()}function l(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=A.$haxeUID++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=b.bind(a),
a.hx__closures__[b.__id__]=c);return c}r.lime=r.lime||{};var h={},f=function(){return L.__string_rec(this,"")},K=K||{},I,Ea=function(){};h["lime.app.IModule"]=Ea;Ea.__name__="lime.app.IModule";Ea.__isInterface__=!0;var va=function(){this.onExit=new Jd};h["lime.app.Module"]=va;va.__name__="lime.app.Module";va.__interfaces__=[Ea];va.prototype={__class__:va};var ua=function(a){this.gameDeviceCache=new nb;this.parent=a;this.nextUpdate=this.lastUpdate=this.currentUpdate=0;this.framePeriod=-1;ae.init();
this.accelerometer=uc.registerSensor(Bi.ACCELEROMETER,0)};h["lime._internal.backend.html5.HTML5Application"]=ua;ua.__name__="lime._internal.backend.html5.HTML5Application";ua.prototype={convertKeyCode:function(a){if(65<=a&&90>=a)return a+32;switch(a){case 12:return 1073741980;case 16:return 1073742049;case 17:return 1073742048;case 18:return 1073742050;case 19:return 1073741896;case 20:return 1073741881;case 33:return 1073741899;case 34:return 1073741902;case 35:return 1073741901;case 36:return 1073741898;
case 37:return 1073741904;case 38:return 1073741906;case 39:return 1073741903;case 40:return 1073741905;case 41:return 1073741943;case 43:return 1073741940;case 44:return 1073741894;case 45:return 1073741897;case 46:return 127;case 91:return 1073742051;case 92:return 1073742055;case 93:return 1073742055;case 95:return 1073742106;case 96:return 1073741922;case 97:return 1073741913;case 98:return 1073741914;case 99:return 1073741915;case 100:return 1073741916;case 101:return 1073741917;case 102:return 1073741918;
case 103:return 1073741919;case 104:return 1073741920;case 105:return 1073741921;case 106:return 1073741909;case 107:return 1073741911;case 108:return 1073741923;case 109:return 1073741910;case 110:return 1073741923;case 111:return 1073741908;case 112:return 1073741882;case 113:return 1073741883;case 114:return 1073741884;case 115:return 1073741885;case 116:return 1073741886;case 117:return 1073741887;case 118:return 1073741888;case 119:return 1073741889;case 120:return 1073741890;case 121:return 1073741891;
case 122:return 1073741892;case 123:return 1073741893;case 124:return 1073741928;case 125:return 1073741929;case 126:return 1073741930;case 127:return 1073741931;case 128:return 1073741932;case 129:return 1073741933;case 130:return 1073741934;case 131:return 1073741935;case 132:return 1073741936;case 133:return 1073741937;case 134:return 1073741938;case 135:return 1073741939;case 144:return 1073741907;case 145:return 1073741895;case 160:return 94;case 161:return 33;case 163:return 35;case 164:return 36;
case 166:return 1073742094;case 167:return 1073742095;case 168:return 1073742097;case 169:return 41;case 170:return 42;case 171:return 96;case 172:return 1073741898;case 173:return 45;case 174:return 1073741953;case 175:return 1073741952;case 176:return 1073742082;case 177:return 1073742083;case 178:return 1073742084;case 179:return 1073742085;case 180:return 1073742089;case 181:return 1073742086;case 182:return 1073741953;case 183:return 1073741952;case 186:return 59;case 187:return 61;case 188:return 44;
case 189:return 45;case 190:return 46;case 191:return 47;case 192:return 96;case 193:return 63;case 194:return 1073741923;case 219:return 91;case 220:return 92;case 221:return 93;case 222:return 39;case 223:return 96;case 224:return 1073742051;case 226:return 92}return a},exec:function(){window.addEventListener("keydown",l(this,this.handleKeyEvent),!1);window.addEventListener("keyup",l(this,this.handleKeyEvent),!1);window.addEventListener("focus",l(this,this.handleWindowEvent),!1);window.addEventListener("blur",
l(this,this.handleWindowEvent),!1);window.addEventListener("resize",l(this,this.handleWindowEvent),!1);window.addEventListener("beforeunload",l(this,this.handleWindowEvent),!1);window.addEventListener("devicemotion",l(this,this.handleSensorEvent),!1);CanvasRenderingContext2D.prototype.isPointInStroke||(CanvasRenderingContext2D.prototype.isPointInStroke=function(a,b,c){return!1});CanvasRenderingContext2D.prototype.isPointInPath||(CanvasRenderingContext2D.prototype.isPointInPath=function(a,b,c){return!1});
0=="performance"in window&&(window.performance={});if(0=="now"in window.performance){var a=Date.now();performance.timing&&performance.timing.navigationStart&&(a=performance.timing.navigationStart);window.performance.now=function(){return Date.now()-a}}for(var b=0,c=["ms","moz","webkit","o"],d=0;d<c.length&&!window.requestAnimationFrame;++d)window.requestAnimationFrame=window[c[d]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[c[d]+"CancelAnimationFrame"]||window[c[d]+"CancelRequestAnimationFrame"];
window.requestAnimationFrame||(window.requestAnimationFrame=function(a,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-b));c=window.setTimeout(function(){a(d+e)},e);b=d+e;return c});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)});window.requestAnimFrame=window.requestAnimationFrame;this.lastUpdate=(new Date).getTime();this.handleApplicationEvent();return 0},exit:function(){},handleApplicationEvent:function(a){a=0;for(var b=this.parent.__windows;a<b.length;){var c=
b[a];++a;c.__backend.updateSize()}this.updateGameDevices();this.currentUpdate=(new Date).getTime();if(this.currentUpdate>=this.nextUpdate){this.deltaTime=this.currentUpdate-this.lastUpdate;a=0;for(b=this.parent.__windows;a<b.length;)c=b[a],++a,this.parent.onUpdate.dispatch(this.deltaTime|0),null!=c.context&&c.onRender.dispatch(c.context);this.nextUpdate=0>this.framePeriod?this.currentUpdate:this.currentUpdate-this.currentUpdate%this.framePeriod+this.framePeriod;this.lastUpdate=this.currentUpdate}window.requestAnimationFrame(l(this,
this.handleApplicationEvent))},handleKeyEvent:function(a){if(null!=this.parent.__window){var b=this.convertKeyCode(null!=a.keyCode?a.keyCode:a.which),c=(a.shiftKey?3:0)|(a.ctrlKey?192:0)|(a.altKey?768:0)|(a.metaKey?3072:0);"keydown"==a.type?(this.parent.__window.onKeyDown.dispatch(b,c),this.parent.__window.onKeyDown.canceled&&a.cancelable&&a.preventDefault()):(this.parent.__window.onKeyUp.dispatch(b,c),this.parent.__window.onKeyUp.canceled&&a.cancelable&&a.preventDefault())}},handleSensorEvent:function(a){this.accelerometer.onUpdate.dispatch(a.accelerationIncludingGravity.x,
a.accelerationIncludingGravity.y,a.accelerationIncludingGravity.z)},handleWindowEvent:function(a){if(null!=this.parent.__window)switch(a.type){case "blur":this.hidden||(this.parent.__window.onFocusOut.dispatch(),this.parent.__window.onDeactivate.dispatch(),this.hidden=!0);break;case "focus":this.hidden&&(this.parent.__window.onFocusIn.dispatch(),this.parent.__window.onActivate.dispatch(),this.hidden=!1);break;case "resize":this.parent.__window.__backend.handleResizeEvent(a);break;case "visibilitychange":window.document.hidden?
this.hidden||(this.parent.__window.onFocusOut.dispatch(),this.parent.__window.onDeactivate.dispatch(),this.hidden=!0):this.hidden&&(this.parent.__window.onFocusIn.dispatch(),this.parent.__window.onActivate.dispatch(),this.hidden=!1)}},updateGameDevices:function(){var a=vb.__getDeviceData();if(null!=a)for(var b,c,d,e,g,k=0,q=a.length;k<q;)if(b=k++,e=a[b],null!=e){if(!this.gameDeviceCache.h.hasOwnProperty(b)){g=new Kh;g.id=b;g.connected=e.connected;c=0;for(d=e.buttons.length;c<d;){var t=c++;g.buttons.push(e.buttons[t].value)}c=
0;for(d=e.axes.length;c<d;)t=c++,g.axes.push(e.axes[t]);"standard"==e.mapping&&(g.isGamepad=!0);this.gameDeviceCache.h[b]=g;e.connected&&(vb.__connect(b),g.isGamepad&&Gb.__connect(b))}g=this.gameDeviceCache.h[b];d=vb.devices.h[b];c=Gb.devices.h[b];if(e.connected){for(var n=0,f=e.buttons.length;n<f;){var p=n++;t=e.buttons[p].value;if(t!=g.buttons[p]){if(6==p)d.onAxisMove.dispatch(e.axes.length,t),null!=c&&c.onAxisMove.dispatch(4,t);else if(7==p)d.onAxisMove.dispatch(e.axes.length+1,t),null!=c&&c.onAxisMove.dispatch(5,
t);else if(0<t?d.onButtonDown.dispatch(p):d.onButtonUp.dispatch(p),null!=c){switch(p){case 0:b=0;break;case 1:b=1;break;case 2:b=2;break;case 3:b=3;break;case 4:b=9;break;case 5:b=10;break;case 8:b=4;break;case 9:b=6;break;case 10:b=7;break;case 11:b=8;break;case 12:b=11;break;case 13:b=12;break;case 14:b=13;break;case 15:b=14;break;case 16:b=5;break;default:continue}0<t?c.onButtonDown.dispatch(b):c.onButtonUp.dispatch(b)}g.buttons[p]=t}}b=0;for(t=e.axes.length;b<t;)n=b++,e.axes[n]!=g.axes[n]&&(d.onAxisMove.dispatch(n,
e.axes[n]),null!=c&&c.onAxisMove.dispatch(n,e.axes[n]),g.axes[n]=e.axes[n])}else g.connected&&(g.connected=!1,vb.__disconnect(b),Gb.__disconnect(b))}},__class__:ua};var Ma=function(){this.onCreateWindow=new Lh;this.onUpdate=new Jd;this.onExit=new Jd;null==Ma.current&&(Ma.current=this);this.meta=new Ia;this.modules=[];this.__windowByID=new nb;this.__windows=[];this.__backend=new ua(this);this.__registerLimeModule(this);this.__preloader=new Mh;this.__preloader.onProgress.add(l(this,this.onPreloadProgress));
this.__preloader.onComplete.add(l(this,this.onPreloadComplete))};h["lime.app.Application"]=Ma;Ma.__name__="lime.app.Application";Ma.__super__=va;Ma.prototype=m(va.prototype,{createWindow:function(a){a=this.__createWindow(a);this.__addWindow(a);return a},exec:function(){Ma.current=this;return this.__backend.exec()},onGamepadAxisMove:function(a,b,c){},onGamepadButtonDown:function(a,b){},onGamepadButtonUp:function(a,b){},onGamepadConnect:function(a){},onGamepadDisconnect:function(a){},onJoystickAxisMove:function(a,
b,c){},onJoystickButtonDown:function(a,b){},onJoystickButtonUp:function(a,b){},onJoystickConnect:function(a){},onJoystickDisconnect:function(a){},onJoystickHatMove:function(a,b,c){},onJoystickTrackballMove:function(a,b,c,d){},onKeyDown:function(a,b){},onKeyUp:function(a,b){},onModuleExit:function(a){},onMouseDown:function(a,b,c){},onMouseMove:function(a,b){},onMouseMoveRelative:function(a,b){},onMouseUp:function(a,b,c){},onMouseWheel:function(a,b,c){},onPreloadComplete:function(){},onPreloadProgress:function(a,
b){},onRenderContextLost:function(){},onRenderContextRestored:function(a){},onTextEdit:function(a,b,c){},onTextInput:function(a){},onTouchCancel:function(a){},onTouchEnd:function(a){},onTouchMove:function(a){},onTouchStart:function(a){},onWindowActivate:function(){},onWindowClose:function(){},onWindowCreate:function(){},onWindowDeactivate:function(){},onWindowDropFile:function(a){},onWindowEnter:function(){},onWindowExpose:function(){},onWindowFocusIn:function(){},onWindowFocusOut:function(){},onWindowFullscreen:function(){},
onWindowLeave:function(){},onWindowMove:function(a,b){},onWindowMinimize:function(){},onWindowResize:function(a,b){},onWindowRestore:function(){},render:function(a){},update:function(a){},__addWindow:function(a){if(null!=a){this.__windows.push(a);this.__windowByID.h[a.id]=a;var b=l(this,this.__onWindowClose);a.onClose.add(function(){b(a)},!1,-1E4);null==this.__window&&(this.__window=a,a.onActivate.add(l(this,this.onWindowActivate)),a.onRenderContextLost.add(l(this,this.onRenderContextLost)),a.onRenderContextRestored.add(l(this,
this.onRenderContextRestored)),a.onDeactivate.add(l(this,this.onWindowDeactivate)),a.onDropFile.add(l(this,this.onWindowDropFile)),a.onEnter.add(l(this,this.onWindowEnter)),a.onExpose.add(l(this,this.onWindowExpose)),a.onFocusIn.add(l(this,this.onWindowFocusIn)),a.onFocusOut.add(l(this,this.onWindowFocusOut)),a.onFullscreen.add(l(this,this.onWindowFullscreen)),a.onKeyDown.add(l(this,this.onKeyDown)),a.onKeyUp.add(l(this,this.onKeyUp)),a.onLeave.add(l(this,this.onWindowLeave)),a.onMinimize.add(l(this,
this.onWindowMinimize)),a.onMouseDown.add(l(this,this.onMouseDown)),a.onMouseMove.add(l(this,this.onMouseMove)),a.onMouseMoveRelative.add(l(this,this.onMouseMoveRelative)),a.onMouseUp.add(l(this,this.onMouseUp)),a.onMouseWheel.add(l(this,this.onMouseWheel)),a.onMove.add(l(this,this.onWindowMove)),a.onRender.add(l(this,this.render)),a.onResize.add(l(this,this.onWindowResize)),a.onRestore.add(l(this,this.onWindowRestore)),a.onTextEdit.add(l(this,this.onTextEdit)),a.onTextInput.add(l(this,this.onTextInput)),
this.onWindowCreate());this.onCreateWindow.dispatch(a)}},__createWindow:function(a){a=new Nh(this,a);return-1==a.id?null:a},__registerLimeModule:function(a){a.onUpdate.add(l(this,this.update));a.onExit.add(l(this,this.onModuleExit),!1,0);a.onExit.add(l(this,this.__onModuleExit),!1,0);for(a=Gb.devices.iterator();a.hasNext();){var b=a.next();this.__onGamepadConnect(b)}Gb.onConnect.add(l(this,this.__onGamepadConnect));for(a=vb.devices.iterator();a.hasNext();)b=a.next(),this.__onJoystickConnect(b);vb.onConnect.add(l(this,
this.__onJoystickConnect));ec.onCancel.add(l(this,this.onTouchCancel));ec.onStart.add(l(this,this.onTouchStart));ec.onMove.add(l(this,this.onTouchMove));ec.onEnd.add(l(this,this.onTouchEnd))},__removeWindow:function(a){null!=a&&this.__windowByID.h.hasOwnProperty(a.id)&&(this.__window==a&&(this.__window=null),E.remove(this.__windows,a),this.__windowByID.remove(a.id),a.close(),0==this.__windows.length&&vc.exit(0))},__onGamepadConnect:function(a){this.onGamepadConnect(a);var b=l(this,this.onGamepadAxisMove),
c=function(c,d){b(a,c,d)};a.onAxisMove.add(c);var d=l(this,this.onGamepadButtonDown);c=function(b){d(a,b)};a.onButtonDown.add(c);var e=l(this,this.onGamepadButtonUp);c=function(b){e(a,b)};a.onButtonUp.add(c);var g=l(this,this.onGamepadDisconnect);a.onDisconnect.add(function(){g(a)})},__onJoystickConnect:function(a){this.onJoystickConnect(a);var b=l(this,this.onJoystickAxisMove),c=function(c,d){b(a,c,d)};a.onAxisMove.add(c);var d=l(this,this.onJoystickButtonDown);c=function(b){d(a,b)};a.onButtonDown.add(c);
var e=l(this,this.onJoystickButtonUp);c=function(b){e(a,b)};a.onButtonUp.add(c);var g=l(this,this.onJoystickDisconnect);a.onDisconnect.add(function(){g(a)});var k=l(this,this.onJoystickHatMove);c=function(b,c){k(a,b,c)};a.onHatMove.add(c);var q=l(this,this.onJoystickTrackballMove);c=function(b,c,d){q(a,b,c,d)};a.onTrackballMove.add(c)},__onModuleExit:function(a){this.__backend.exit()},__onWindowClose:function(a){if(this.__window==a)this.onWindowClose();this.__removeWindow(a)},__class__:Ma});var z=
function(){};h.ApplicationMain=z;z.__name__="ApplicationMain";z.main=function(){vc.__registerEntryPoint("zoo-offline",z.create)};z.create=function(a){wa.init(a);var b=new ib;b.meta.h.build="20169";b.meta.h.company="Plutonium Bytes";b.meta.h.file="zoo-offline";b.meta.h.name="Zoo Boom";b.meta.h.packageName="com.plutoniumbytes.zoo";b.meta.h.version="1.1.3";var c={allowHighDPI:!0,alwaysOnTop:!1,borderless:!1,element:null,frameRate:100,height:0,hidden:!1,maximized:!1,minimized:!1,parameters:{},resizable:!0,
title:"Zoo Boom",width:0,x:null,y:null,context:{antialiasing:0,background:16777215,colorDepth:32,depth:!0,hardware:!0,stencil:!1,type:null,vsync:!1}};if(null==b.__window&&null!=a)for(var d=0,e=F.fields(a);d<e.length;){var g=e[d];++d;Object.prototype.hasOwnProperty.call(c,g)?c[g]=F.field(a,g):Object.prototype.hasOwnProperty.call(c.context,g)&&(c.context[g]=F.field(a,g))}b.createWindow(c);d=0;for(e=wa.preloadLibraries;d<e.length;)a=e[d],++d,b.__preloader.addLibrary(a);d=0;for(e=wa.preloadLibraryNames;d<
e.length;)a=e[d],++d,b.__preloader.addLibraryName(a);b.__preloader.load();z.start(b)};z.start=function(a){a.exec()};var J=function(){};h.DateTools=J;J.__name__="DateTools";J.__format_get=function(a,b){switch(b){case "%":return"%";case "A":return J.DAY_NAMES[a.getDay()];case "B":return J.MONTH_NAMES[a.getMonth()];case "C":return oa.lpad(M.string(a.getFullYear()/100|0),"0",2);case "D":return J.__format(a,"%m/%d/%y");case "F":return J.__format(a,"%Y-%m-%d");case "I":case "l":return a=a.getHours()%12,
oa.lpad(M.string(0==a?12:a),"I"==b?"0":" ",2);case "M":return oa.lpad(M.string(a.getMinutes()),"0",2);case "R":return J.__format(a,"%H:%M");case "S":return oa.lpad(M.string(a.getSeconds()),"0",2);case "T":return J.__format(a,"%H:%M:%S");case "Y":return M.string(a.getFullYear());case "a":return J.DAY_SHORT_NAMES[a.getDay()];case "b":case "h":return J.MONTH_SHORT_NAMES[a.getMonth()];case "d":return oa.lpad(M.string(a.getDate()),"0",2);case "e":return M.string(a.getDate());case "H":case "k":return oa.lpad(M.string(a.getHours()),
"H"==b?"0":" ",2);case "m":return oa.lpad(M.string(a.getMonth()+1),"0",2);case "n":return"\n";case "p":return 11<a.getHours()?"PM":"AM";case "r":return J.__format(a,"%I:%M:%S %p");case "s":return M.string(a.getTime()/1E3|0);case "t":return"\t";case "u":return b=a.getDay(),0==b?"7":null==b?"null":""+b;case "w":return M.string(a.getDay());case "y":return oa.lpad(M.string(a.getFullYear()%100),"0",2);default:throw new Be("Date.format %"+b+"- not implemented yet.",null,{fileName:"DateTools.hx",lineNumber:101,
className:"DateTools",methodName:"__format_get"});}};J.__format=function(a,b){for(var c="",d=0;;){var e=b.indexOf("%",d);if(0>e)break;var g=e-d;c+=null==g?E.substr(b,d,null):E.substr(b,d,g);c+=M.string(J.__format_get(a,E.substr(b,e+1,1)));d=e+2}g=b.length-d;return c+=null==g?E.substr(b,d,null):E.substr(b,d,g)};J.format=function(a,b){return J.__format(a,b)};var V=function(a,b){this.r=new RegExp(a,b.split("u").join(""))};h.EReg=V;V.__name__="EReg";V.prototype={match:function(a){this.r.global&&(this.r.lastIndex=
0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw P.thrown("EReg::matched");},__class__:V};var E=function(){};h.HxOverrides=E;E.__name__="HxOverrides";E.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),
b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw P.thrown("Invalid date format : "+a);}};E.cca=function(a,b){a=a.charCodeAt(b);if(a==a)return a};E.substr=function(a,b,c){if(null==c)c=a.length;else if(0>c)if(0==b)c=a.length+c;else return"";return a.substr(b,c)};E.remove=function(a,b){b=a.indexOf(b);if(-1==b)return!1;a.splice(b,1);return!0};E.now=function(){return Date.now()};var Ka=function(){};h.Lambda=Ka;Ka.__name__="Lambda";Ka.fold=function(a,b,c){for(a=
x(a);a.hasNext();){var d=a.next();c=b(d,c)}return c};var qa=function(){this.active=!0;this.mLastUpdateTime=this.mDeactivateTimeStamp=0;Ma.call(this);qa.sInstance=this;this.mLastUpdateTime=(new Date).getTime()/1E3;var a=new pb(window.document.URL),b={};if(null!=a.queryArray){var c=0;for(a=a.queryArray;c<a.length;){var d=a[c];++c;var e=decodeURIComponent(d.v.split("+").join(" "));jd.setValue(d.k,e);b[d.k]=e}}jd.setValue("urlParams",b);this.onCreateWindow.add(l(this,this.onWindowCreated))};h["system.utils.XApplication"]=
qa;qa.__name__="system.utils.XApplication";qa.__super__=Ma;qa.prototype=m(Ma.prototype,{onWindowCreated:function(a){Ua.instance.init()},onWindowCreate:function(){switch(this.__window.context.type){case "opengl":case "opengles":case "webgl":p.instance.set_glContext(this.__window.context.webgl);p.instance.setWindow(this.__window);this.onRendererInitialized();break;default:var a=window.document.getElementById("noWebGL");if(null!=a)switch(a.style.display="block",window.document.documentElement.style.overflow=
"scroll",yc.getBrowser()._hx_index){case 1:case 2:window.document.getElementById("browserChrome").style.display="block";break;case 3:window.document.getElementById("browserSafari").style.display="block";break;case 4:window.document.getElementById("browserFirefox").style.display="block";break;default:window.document.getElementById("browserChrome").style.display="block",window.document.getElementById("browserFirefox").style.display="block",window.document.getElementById("browserSafari").style.display=
"block"}throw P.thrown("Unsupported render context: "+this.__window.context.type);}Ma.prototype.onWindowCreate.call(this)},init:function(){var a=this;(new fc(1E3)).run=function(){a.mLastUpdateTime+.9<(new Date).getTime()/1E3&&a.update(0)}},onRendererInitialized:function(){},onPreloadComplete:function(){this.init()},onKeyDown:function(a,b){1073742094==a&&this.__window.onKeyDown.cancel();ca.get_instance().keyDown(a)},onKeyUp:function(a,b){ca.get_instance().keyUp(a)},onMouseDown:function(a,b,c){ca.get_instance().mouseDown(a,
b,c)},onMouseUp:function(a,b,c){ca.get_instance().mouseUp(a,b,c)},onMouseMove:function(a,b){ca.get_instance().mouseMove(a,b)},onMouseMoveRelative:function(a,b){ca.get_instance().mouseMoveRelative(a,b)},onMouseWheel:function(a,b,c){ca.get_instance().mouseWheel(a,b,c)},onTouchCancel:function(a){ca.get_instance().onTouchCancel(a)},onTouchStart:function(a){ca.get_instance().onTouchStart(a)},onTouchMove:function(a){ca.get_instance().onTouchMove(a)},onTouchEnd:function(a){ca.get_instance().onTouchEnd(a)},
onWindowActivate:function(){Ma.prototype.onWindowActivate.call(this);3600<H.timer-this.mDeactivateTimeStamp&&Wb.get_instance().newSession();Y.get_instance().onActivate()},onWindowDeactivate:function(){Ma.prototype.onWindowDeactivate.call(this);Y.get_instance().onDeactivate();this.mDeactivateTimeStamp=H.timer},update:function(a){a=(new Date).getTime()/1E3-this.mLastUpdateTime;this.active&&(p.instance.setWindow(this.__window),H.get_instance().update(a),p.instance.update());this.mLastUpdateTime=(new Date).getTime()/
1E3},render:function(a){null!=p.gl&&this.active&&(p.instance.preDraw(),p.instance.render())},__class__:qa});var ib=function(){qa.call(this)};h.Main=ib;ib.__name__="Main";ib.__super__=qa;ib.prototype=m(qa.prototype,{onPreloadProgress:function(a,b){var c=100*a/Math.max(1,b);ka.get_instance().setPreloadProgress(c);qa.prototype.onPreloadProgress.call(this,a,b)},init:function(){var a=this;ka.get_instance().init({id:"zoo-boom"});Bc.get_instance().allow=ka.get_instance().hasFeature("payment");Wb.get_instance().enabled=
ka.get_instance().hasFeature("tracking");Y.get_instance().handleActivationEvents=!1;Y.get_instance().set_volumeFactor(ka.get_instance().getVolume());ka.get_instance().onRequest("changeVolume",function(a){Y.get_instance().set_volumeFactor(ka.get_instance().getVolume())});ka.get_instance().onRequest("enableAudio",function(a){Y.get_instance().set_muteMusic(Y.get_instance().set_muteSound(!0))});ka.get_instance().onRequest("disableAudio",function(a){Y.get_instance().set_muteMusic(Y.get_instance().set_muteSound(!1))});
ka.get_instance().onRequest("enableMusic",function(a){Y.get_instance().set_muteMusic(!1)});ka.get_instance().onRequest("disableMusic",function(a){Y.get_instance().set_muteMusic(!0)});ca.get_instance().init();this.initClasses();var b=ka.get_instance().get_currentLocale();b=Ua.instance.getSetting("loca",b);N.initLang(b,function(){var b=new nf;p.instance.views.push(b);b.addChild(new Z);u.get_instance().addXEventListener("BackendLayer:READY_EVENT",l(a,a.start));u.get_instance().init(ka.get_instance().hasFeature("tracking",
!0))});qa.prototype.init.call(this)},start:function(a){B.instance.addChild(new Xb);B.instance.get_foreground().addChild(wb.get_instance());u.get_instance().removeXEventListener("BackendLayer:READY_EVENT",l(this,this.start));ka.get_instance().get_adBlockerDetected();null!=u.get_instance().levelToken?B.instance.addScreen(v.get_instance()):(gc.show(),v.get_instance().set_level(u.get_instance().get_bestLevel()));G.get_instance().dispose()},initClasses:function(){ta.registerElementClass("jumpStarter",
of);ta.registerElementClass("rewardedAd",Kd);ta.registerElementClass("newsList",pf);ta.registerElementClass("player",qd);ta.registerElementClass("team",lb);ta.registerElementClass("buy",be)},onRendererInitialized:function(){p.instance.setClearColor(0,0,0,1);p.instance.views.push(G.get_instance())},__class__:ib});var wa=function(){};h.ManifestResources=wa;wa.__name__="ManifestResources";wa.init=function(a){wa.preloadLibraries=[];wa.preloadLibraryNames=[];wa.rootPath=null;null!=a&&Object.prototype.hasOwnProperty.call(a,
"rootPath")&&(wa.rootPath=F.field(a,"rootPath"));null==wa.rootPath&&(wa.rootPath="./");a=hc.parse('{"name":null,"assets":"aoy4:pathy11:assets.jsony4:sizei25669y4:typey4:TEXTy2:idR1y7:preloadtgoR0y14:xml%2Fhelp.xmlR2i4694R3R4R5R7R6tgoR0y17:xml%2Flibrary.xmlR2i23217R3R4R5R8R6tgoR0y22:xml%2Flibrary_news.xmlR2i693R3R4R5R9R6tgoR0y19:xml%2Fplayfield.xmlR2i43378R3R4R5R10R6tgoR0y15:font%2Ffont.pngR2i801284R3y5:IMAGER5R11R6tgoR0y15:font%2Ffont.fntR2i98913R3R4R5R13R6tgoR0y22:field%2Fa000000000.pngR2i97R3R12R5R14R6tgoR0y22:field%2Fa000000001.pngR2i249R3R12R5R15R6tgoR0y22:field%2Fa000000010.pngR2i156R3R12R5R16R6tgoR0y22:field%2Fa000000100.pngR2i250R3R12R5R17R6tgoR0y22:field%2Fa000001000.pngR2i152R3R12R5R18R6tgoR0y22:field%2Fa000001111.pngR2i224R3R12R5R19R6tgoR0y22:field%2Fa000100000.pngR2i158R3R12R5R20R6tgoR0y22:field%2Fa000100111.pngR2i249R3R12R5R21R6tgoR0y22:field%2Fa001000000.pngR2i302R3R12R5R22R6tgoR0y22:field%2Fa010000000.pngR2i164R3R12R5R23R6tgoR0y22:field%2Fa100000000.pngR2i270R3R12R5R24R6tgoR0y22:field%2Fa101111111.pngR2i312R3R12R5R25R6tgoR0y22:field%2Fa111001000.pngR2i287R3R12R5R26R6tgoR0y22:field%2Fa111011111.pngR2i333R3R12R5R27R6tgoR0y22:field%2Fa111100000.pngR2i279R3R12R5R28R6tgoR0y22:field%2Fa111101111.pngR2i564R3R12R5R29R6tgoR0y22:field%2Fa111110111.pngR2i347R3R12R5R30R6tgoR0y22:field%2Fa111111101.pngR2i392R3R12R5R31R6tgoR0y17:splash%2Flogo.jpgR2i42608R3R12R5R32R6tgoR0y14:ui%2Farrow.pngR2i1082R3R12R5R33R6tgoR0y20:ui%2Farrow_white.pngR2i3335R3R12R5R34R6tgoR0y21:ui%2Fbarbutton_01.pngR2i9241R3R12R5R35R6tgoR0y21:ui%2Fbarbutton_02.pngR2i5688R3R12R5R36R6tgoR0y14:ui%2Fblock.pngR2i77R3R12R5R37R6tgoR0y12:ui%2Fbox.pngR2i1526R3R12R5R38R6tgoR0y17:ui%2Fbox_blue.pngR2i9500R3R12R5R39R6tgoR0y18:ui%2Fbox_brown.pngR2i15706R3R12R5R40R6tgoR0y18:ui%2Fbox_green.pngR2i8402R3R12R5R41R6tgoR0y19:ui%2Fbox_orange.pngR2i8226R3R12R5R42R6tgoR0y16:ui%2Fbox_red.pngR2i7778R3R12R5R43R6tgoR0y16:ui%2Fbutton3.pngR2i3048R3R12R5R44R6tgoR0y16:ui%2Fbutton4.pngR2i3503R3R12R5R45R6tgoR0y16:ui%2Fbutton5.pngR2i2237R3R12R5R46R6tgoR0y14:ui%2Fchest.pngR2i7802R3R12R5R47R6tgoR0y19:ui%2Fchest_open.pngR2i29681R3R12R5R48R6tgoR0y14:ui%2Fclose.pngR2i2267R3R12R5R49R6tgoR0y13:ui%2Fdark.pngR2i1687R3R12R5R50R6tgoR0y14:ui%2Fframe.pngR2i1274R3R12R5R51R6tgoR0y13:ui%2Fglow.pngR2i7036R3R12R5R52R6tgoR0y14:ui%2Fglow2.pngR2i12315R3R12R5R53R6tgoR0y13:ui%2Fgold.pngR2i33944R3R12R5R54R6tgoR0y17:ui%2Fgradient.pngR2i1474R3R12R5R55R6tgoR0y18:ui%2Findicator.pngR2i24309R3R12R5R56R6tgoR0y17:ui%2Finfinity.pngR2i5601R3R12R5R57R6tgoR0y19:ui%2Finput_hint.pngR2i1570R3R12R5R58R6tgoR0y13:ui%2Flife.pngR2i9409R3R12R5R59R6tgoR0y13:ui%2Fmail.pngR2i2560R3R12R5R60R6tgoR0y13:ui%2Fmark.pngR2i2042R3R12R5R61R6tgoR0y15:ui%2Fmarker.pngR2i637R3R12R5R62R6tgoR0y13:ui%2Fmore.pngR2i5161R3R12R5R63R6tgoR0y18:ui%2Fmoremoves.pngR2i3913R3R12R5R64R6tgoR0y14:ui%2Fmoves.pngR2i10664R3R12R5R65R6tgoR0y14:ui%2Fmovie.pngR2i3698R3R12R5R66R6tgoR0y11:ui%2Fok.pngR2i1319R3R12R5R67R6tgoR0y23:ui%2Fpin_horizontal.pngR2i2310R3R12R5R68R6tgoR0y21:ui%2Fpin_vertical.pngR2i3116R3R12R5R69R6tgoR0y13:ui%2Fplus.pngR2i277R3R12R5R70R6tgoR0y17:ui%2Fquestion.pngR2i4452R3R12R5R71R6tgoR0y26:ui%2Fregler_horizontal.pngR2i2614R3R12R5R72R6tgoR0y24:ui%2Fregler_vertical.pngR2i3731R3R12R5R73R6tgoR0y21:ui%2Frewardground.pngR2i1612R3R12R5R74R6tgoR0y15:ui%2Fscreen.pngR2i13076R3R12R5R75R6tgoR0y16:ui%2Fscreen2.pngR2i14373R3R12R5R76R6tgoR0y17:ui%2Fsettings.pngR2i5865R3R12R5R77R6tgoR0y19:ui%2Fshopground.pngR2i1559R3R12R5R78R6tgoR0y21:ui%2FSquareButton.pngR2i3886R3R12R5R79R6tgoR0y24:ui%2FSquareButtonRed.pngR2i3583R3R12R5R80R6tgoR0y19:ui%2Fstar_chest.pngR2i9091R3R12R5R81R6tgoR0y24:ui%2Fstar_chest_open.pngR2i36415R3R12R5R82R6tgoR0y17:ui%2Fstar_off.pngR2i3695R3R12R5R83R6tgoR0y16:ui%2Fstar_on.pngR2i5104R3R12R5R84R6tgoR0y17:ui%2Ftab_dark.pngR2i2155R3R12R5R85R6tgoR0y18:ui%2Ftab_dark0.pngR2i2790R3R12R5R86R6tgoR0y18:ui%2Ftab_light.pngR2i2569R3R12R5R87R6tgoR0y19:ui%2Ftab_light0.pngR2i2640R3R12R5R88R6tgoR0y19:ui%2Ftop_border.pngR2i188R3R12R5R89R6tgoR0y15:ui%2Ftrophy.pngR2i15329R3R12R5R90R6tgoR0y21:ui%2Ftrophy_small.pngR2i4156R3R12R5R91R6tgoR0y24:ui%2FZooBoomLogoHigh.pngR2i8501R3R12R5R92R6tgoR0y21:ui%2FZooBoom_Logo.pngR2i49408R3R12R5R93R6tgoR0y23:ui%2FZooBoom_LogoHD.pngR2i83721R3R12R5R94R6tgoR0y21:lang%2Flang-de-DE.txtR2i13537R3R4R5R95goR0y21:lang%2Flang-en-US.txtR2i12274R3R4R5R96goR0y21:lang%2Flang-es-ES.txtR2i13203R3R4R5R97goR0y21:lang%2Flang-fr-FR.txtR2i14072R3R4R5R98goR0y21:lang%2Flang-ru-RU.txtR2i19526R3R4R5R99goR0y21:lang%2Flang-tr-TR.txtR2i13241R3R4R5R100goR0y21:lang%2Flang-uk-UA.txtR2i19209R3R4R5R101goR0y16:gems%2Fanvil.pngR2i14585R3R12R5R102goR0y25:gems%2Fapple_stone_01.pngR2i26631R3R12R5R103goR0y25:gems%2Fapple_stone_02.pngR2i28181R3R12R5R104goR0y25:gems%2Fapple_stone_03.pngR2i29680R3R12R5R105goR0y17:gems%2Fballon.pngR2i15438R3R12R5R106goR0y20:gems%2Fbanana_01.pngR2i7929R3R12R5R107goR0y20:gems%2Fbanana_02.pngR2i8454R3R12R5R108goR0y20:gems%2Fbanana_03.pngR2i7577R3R12R5R109goR0y22:gems%2Fbanana_base.pngR2i8011R3R12R5R110goR0y25:gems%2Fbanana_overlay.pngR2i3641R3R12R5R111goR0y17:gems%2Fbasket.pngR2i35975R3R12R5R112goR0y22:gems%2Fbasket_back.pngR2i17433R3R12R5R113goR0y25:gems%2Fbasket_twister.pngR2i31845R3R12R5R114goR0y24:gems%2Fbathsuit_duck.pngR2i2819R3R12R5R115goR0y18:gems%2Fbeehive.pngR2i27107R3R12R5R116goR0y16:gems%2Fberry.pngR2i2966R3R12R5R117goR0y18:gems%2Fbg_glow.pngR2i4535R3R12R5R118goR0y15:gems%2Fblob.pngR2i4440R3R12R5R119goR0y18:gems%2Fbluecap.pngR2i2711R3R12R5R120goR0y21:gems%2Fbluegloves.pngR2i3103R3R12R5R121goR0y15:gems%2Fbomb.pngR2i23183R3R12R5R122goR0y18:gems%2Fbowl_01.pngR2i27231R3R12R5R123goR0y18:gems%2Fbowl_02.pngR2i27055R3R12R5R124goR0y18:gems%2Fbowl_03.pngR2i21869R3R12R5R125goR0y18:gems%2Fbowl_04.pngR2i17187R3R12R5R126goR0y14:gems%2Fbox.pngR2i4837R3R12R5R127goR0y15:gems%2Fbox2.pngR2i5424R3R12R5R128goR0y20:gems%2Fbox_white.pngR2i6861R3R12R5R129goR0y17:gems%2Fbranch.pngR2i15662R3R12R5R130goR0y17:gems%2Fbucket.pngR2i31738R3R12R5R131goR0y24:gems%2FCappie_Yellow.pngR2i3066R3R12R5R132goR0y20:gems%2Fchameleon.pngR2i15678R3R12R5R133goR0y25:gems%2Fchameleon_mask.pngR2i22187R3R12R5R134goR0y16:gems%2Fchest.pngR2i4394R3R12R5R135goR0y21:gems%2Fchest_open.pngR2i4951R3R12R5R136goR0y18:gems%2Fchicken.pngR2i39809R3R12R5R137goR0y22:gems%2Fchicken_eye.pngR2i1417R3R12R5R138goR0y23:gems%2Fchicken_head.pngR2i13815R3R12R5R139goR0y17:gems%2Fcircle.pngR2i9253R3R12R5R140goR0y21:gems%2Fcoconut_01.pngR2i26290R3R12R5R141goR0y21:gems%2Fcoconut_02.pngR2i24961R3R12R5R142goR0y15:gems%2Fcoin.pngR2i30595R3R12R5R143goR0y16:gems%2Fcoins.pngR2i15329R3R12R5R144goR0y21:gems%2Fcoin_white.pngR2i6900R3R12R5R145goR0y20:gems%2Fcolor_box.pngR2i5032R3R12R5R146goR0y21:gems%2Fcrackling1.pngR2i3730R3R12R5R147goR0y21:gems%2Fcrackling2.pngR2i4401R3R12R5R148goR0y20:gems%2Fdeserthat.pngR2i2626R3R12R5R149goR0y15:gems%2Fdung.pngR2i29903R3R12R5R150goR0y20:gems%2Fdung_pile.pngR2i33679R3R12R5R151goR0y24:gems%2Fearwarmer_red.pngR2i3486R3R12R5R152goR0y14:gems%2Fegg.pngR2i8534R3R12R5R153goR0y22:gems%2Fegg_rainbow.pngR2i10211R3R12R5R154goR0y20:gems%2Fegg_white.pngR2i5345R3R12R5R155goR0y15:gems%2Feyes.pngR2i5224R3R12R5R156goR0y21:gems%2Feyes_blink.pngR2i4629R3R12R5R157goR0y22:gems%2Feyes_closed.pngR2i2322R3R12R5R158goR0y21:gems%2Ffertilizer.pngR2i40165R3R12R5R159goR0y29:gems%2Ffish_fin_bottom_01.pngR2i6578R3R12R5R160goR0y29:gems%2Ffish_fin_bottom_02.pngR2i7155R3R12R5R161goR0y27:gems%2Ffish_fin_rear_01.pngR2i12517R3R12R5R162goR0y27:gems%2Ffish_fin_rear_02.pngR2i13340R3R12R5R163goR0y26:gems%2Ffish_fin_top_01.pngR2i9599R3R12R5R164goR0y26:gems%2Ffish_fin_top_02.pngR2i10337R3R12R5R165goR0y24:gems%2Ffish_head2_01.pngR2i15517R3R12R5R166goR0y24:gems%2Ffish_head2_02.pngR2i16440R3R12R5R167goR0y23:gems%2Ffish_head_01.pngR2i16547R3R12R5R168goR0y23:gems%2Ffish_head_02.pngR2i17628R3R12R5R169goR0y20:gems%2Ffish_icon.pngR2i16560R3R12R5R170goR0y24:gems%2Ffish_scale_01.pngR2i5482R3R12R5R171goR0y24:gems%2Ffish_scale_02.pngR2i5847R3R12R5R172goR0y14:gems%2Ffly.pngR2i6858R3R12R5R173goR0y19:gems%2Ffly_icon.pngR2i20483R3R12R5R174goR0y19:gems%2Ffly_wing.pngR2i7975R3R12R5R175goR0y19:gems%2Fgem_blue.pngR2i5801R3R12R5R176goR0y20:gems%2Fgem_green.pngR2i5268R3R12R5R177goR0y22:gems%2Fgem_penguin.pngR2i14062R3R12R5R178goR0y21:gems%2Fgem_purple.pngR2i15877R3R12R5R179goR0y18:gems%2Fgem_red.pngR2i5512R3R12R5R180goR0y20:gems%2Fgem_white.pngR2i19440R3R12R5R181goR0y21:gems%2Fgem_yellow.pngR2i4345R3R12R5R182goR0y15:gems%2Fgift.pngR2i31082R3R12R5R183goR0y17:gems%2Fgift02.pngR2i15322R3R12R5R184goR0y17:gems%2Fgift03.pngR2i14358R3R12R5R185goR0y19:gems%2FhardCage.pngR2i8934R3R12R5R186goR0y16:gems%2Fhoney.pngR2i30490R3R12R5R187goR0y15:gems%2Fleaf.pngR2i55074R3R12R5R188goR0y22:gems%2Flock_bottom.pngR2i4546R3R12R5R189goR0y19:gems%2Flock_top.pngR2i4751R3R12R5R190goR0y14:gems%2Forb.pngR2i3869R3R12R5R191goR0y14:gems%2Fore.pngR2i41247R3R12R5R192goR0y20:gems%2Foyster_01.pngR2i26537R3R12R5R193goR0y20:gems%2Foyster_02.pngR2i37535R3R12R5R194goR0y18:gems%2Fpumpkin.pngR2i36241R3R12R5R195goR0y28:gems%2Fpumpkinplant_test.pngR2i14798R3R12R5R196goR0y31:gems%2Fpumpkinplant_test_02.pngR2i5376R3R12R5R197goR0y20:gems%2Frandombox.pngR2i25396R3R12R5R198goR0y17:gems%2Fredcap.pngR2i2701R3R12R5R199goR0y19:gems%2Fredscarf.pngR2i3849R3R12R5R200goR0y14:gems%2Frow.pngR2i13152R3R12R5R201goR0y16:gems%2Fskunk.pngR2i5078R3R12R5R202goR0y20:gems%2Fsnowflake.pngR2i11688R3R12R5R203goR0y18:gems%2Fsnowman.pngR2i31933R3R12R5R204goR0y19:gems%2FsoftCage.pngR2i2279R3R12R5R205goR0y16:gems%2Fspark.pngR2i3494R3R12R5R206goR0y17:gems%2Fsquare.pngR2i2141R3R12R5R207goR0y15:gems%2Fstar.pngR2i2303R3R12R5R208goR0y16:gems%2Fstorm.pngR2i11437R3R12R5R209goR0y23:gems%2Fsunglases_01.pngR2i3671R3R12R5R210goR0y23:gems%2Fsunglases_02.pngR2i3967R3R12R5R211goR0y16:gems%2Fswarm.pngR2i11515R3R12R5R212goR0y24:gems%2FTierkorb_Back.pngR2i5302R3R12R5R213goR0y25:gems%2FTierkorb_Front.pngR2i40907R3R12R5R214goR0y21:gems%2Fwater_drop.pngR2i14005R3R12R5R215goR0y24:gems%2FZooBoom_Cage2.pngR2i2761R3R12R5R216goR0y14:flags%2FAL.pngR2i9085R3R12R5R217goR0y14:flags%2FAR.pngR2i6622R3R12R5R218goR0y14:flags%2FAT.pngR2i3401R3R12R5R219goR0y14:flags%2FAU.pngR2i8892R3R12R5R220goR0y14:flags%2FAZ.pngR2i6216R3R12R5R221goR0y14:flags%2FBA.pngR2i7486R3R12R5R222goR0y14:flags%2FBE.pngR2i4995R3R12R5R223goR0y14:flags%2FBR.pngR2i9174R3R12R5R224goR0y14:flags%2FBY.pngR2i7062R3R12R5R225goR0y14:flags%2FCA.pngR2i6381R3R12R5R226goR0y14:flags%2FCH.pngR2i3631R3R12R5R227goR0y14:flags%2FCL.pngR2i4429R3R12R5R228goR0y14:flags%2FCN.pngR2i6125R3R12R5R229goR0y14:flags%2FCO.pngR2i4941R3R12R5R230goR0y14:flags%2FCZ.pngR2i4393R3R12R5R231goR0y14:flags%2FDE.pngR2i4736R3R12R5R232goR0y14:flags%2FDK.pngR2i5556R3R12R5R233goR0y14:flags%2FEG.pngR2i4497R3R12R5R234goR0y14:flags%2FES.pngR2i7246R3R12R5R235goR0y14:flags%2FFI.pngR2i3646R3R12R5R236goR0y14:flags%2FFR.pngR2i6928R3R12R5R237goR0y14:flags%2FGR.pngR2i5372R3R12R5R238goR0y14:flags%2FHK.pngR2i7572R3R12R5R239goR0y14:flags%2FHR.pngR2i6872R3R12R5R240goR0y14:flags%2FHU.pngR2i4292R3R12R5R241goR0y14:flags%2FIE.pngR2i6040R3R12R5R242goR0y14:flags%2FIL.pngR2i4590R3R12R5R243goR0y14:flags%2FIN.pngR2i6166R3R12R5R244goR0y14:flags%2FIS.pngR2i6978R3R12R5R245goR0y14:flags%2FIT.pngR2i3775R3R12R5R246goR0y14:flags%2FJM.pngR2i8010R3R12R5R247goR0y14:flags%2FJP.pngR2i3911R3R12R5R248goR0y14:flags%2FKR.pngR2i7776R3R12R5R249goR0y14:flags%2FKW.pngR2i5556R3R12R5R250goR0y14:flags%2FLT.pngR2i4940R3R12R5R251goR0y14:flags%2FLU.pngR2i3963R3R12R5R252goR0y14:flags%2FMC.pngR2i3818R3R12R5R253goR0y14:flags%2FMX.pngR2i9230R3R12R5R254goR0y14:flags%2FNL.pngR2i4942R3R12R5R255goR0y14:flags%2FNO.pngR2i7396R3R12R5R256goR0y14:flags%2FPL.pngR2i4826R3R12R5R257goR0y14:flags%2FPT.pngR2i11514R3R12R5R258goR0y14:flags%2FQA.pngR2i6071R3R12R5R259goR0y14:flags%2FRO.pngR2i6027R3R12R5R260goR0y14:flags%2FRU.pngR2i2275R3R12R5R261goR0y14:flags%2FSA.pngR2i8910R3R12R5R262goR0y14:flags%2FSE.pngR2i5376R3R12R5R263goR0y14:flags%2FSG.pngR2i5678R3R12R5R264goR0y14:flags%2FSI.pngR2i5193R3R12R5R265goR0y14:flags%2FSK.pngR2i6006R3R12R5R266goR0y14:flags%2FSP.pngR2i7249R3R12R5R267goR0y14:flags%2FTN.pngR2i8039R3R12R5R268goR0y14:flags%2FTR.pngR2i6163R3R12R5R269goR0y14:flags%2FUA.pngR2i4621R3R12R5R270goR0y14:flags%2FUE.pngR2i5037R3R12R5R271goR0y14:flags%2FUK.pngR2i8069R3R12R5R272goR0y14:flags%2FUS.pngR2i11778R3R12R5R273goR0y14:flags%2FUY.pngR2i6035R3R12R5R274goR0y13:flags%2FX.pngR2i2207R3R12R5R275goR0y14:flags%2FZA.pngR2i8417R3R12R5R276goR0y22:bg%2Farctic%2Fbear.pngR2i28735R3R12R5R277goR0y20:bg%2Farctic%2Fbg.jpgR2i420991R3R12R5R278goR0y28:bg%2Farctic%2Fcharacters.pngR2i596393R3R12R5R279goR0y36:bg%2Fbeach%2Fbg_beach_background.jpgR2i808116R3R12R5R280goR0y37:bg%2Fbeach%2Fbg_beach_characters2.pngR2i836757R3R12R5R281goR0y23:bg%2Fbeach%2Fparrot.pngR2i39620R3R12R5R282goR0y22:bg%2Fcarnival%2Fbg.jpgR2i5187R3R12R5R283goR0y24:bg%2Fcarnival%2Fbird.pngR2i69029R3R12R5R284goR0y30:bg%2Fcarnival%2Fcharacters.pngR2i751322R3R12R5R285goR0y31:bg%2Fcarnival%2Fcharacters2.pngR2i650880R3R12R5R286goR0y32:bg%2Fcarnival%2Fmiddleground.pngR2i2884385R3R12R5R287goR0y18:bg%2Fcave%2Fbg.jpgR2i611391R3R12R5R288goR0y26:bg%2Fcave%2Fcharacters.jpgR2i790920R3R12R5R289goR0y19:bg%2Fcrypt%2Fbg.jpgR2i1010017R3R12R5R290goR0y21:bg%2Fcrypt%2Fbird.pngR2i41562R3R12R5R291goR0y27:bg%2Fcrypt%2Fcharacters.jpgR2i1054234R3R12R5R292goR0y32:bg%2Fdesert%2Fbd_desert_bird.pngR2i42168R3R12R5R293goR0y38:bg%2Fdesert%2Fbg_desert_background.jpgR2i626552R3R12R5R294goR0y43:bg%2Fdesert%2Fbg_desert_characters_dust.pngR2i722704R3R12R5R295goR0y40:bg%2Fdesert%2Fbg_desert_middleground.pngR2i518430R3R12R5R296goR0y18:bg%2Fdino%2Fbg.jpgR2i278332R3R12R5R297goR0y26:bg%2Fdino%2Fcharacters.jpgR2i365403R3R12R5R298goR0y19:bg%2Fegypt%2Fbg.jpgR2i773759R3R12R5R299goR0y21:bg%2Fegypt%2Fbird.pngR2i68942R3R12R5R300goR0y27:bg%2Fegypt%2Fcharacters.jpgR2i881788R3R12R5R301goR0y18:bg%2Ffarm%2Fbg.jpgR2i789464R3R12R5R302goR0y20:bg%2Ffarm%2Fbird.pngR2i56806R3R12R5R303goR0y26:bg%2Ffarm%2Fcharacters.pngR2i340584R3R12R5R304goR0y23:bg%2Ffarm%2Fchicken.pngR2i157339R3R12R5R305goR0y20:bg%2Fforest%2Fbg.jpgR2i966368R3R12R5R306goR0y22:bg%2Fforest%2Fbird.pngR2i83281R3R12R5R307goR0y28:bg%2Fforest%2Fcharacters.jpgR2i559790R3R12R5R308goR0y21:bg%2Fhayloft%2Fbg.jpgR2i474126R3R12R5R309goR0y23:bg%2Fhayloft%2Fbird.pngR2i100996R3R12R5R310goR0y22:bg%2Fhayloft%2Fcar.pngR2i1029372R3R12R5R311goR0y29:bg%2Fhayloft%2Fcharacters.pngR2i427123R3R12R5R312goR0y29:bg%2Fhayloft%2Fforeground.pngR2i554835R3R12R5R313goR0y38:bg%2Fjungle%2Fbg_jungle_background.jpgR2i238191R3R12R5R314goR0y38:bg%2Fjungle%2Fbg_jungle_characters.pngR2i974782R3R12R5R315goR0y38:bg%2Fjungle%2Fbg_jungle_foreground.pngR2i464680R3R12R5R316goR0y23:bg%2Flava%2Fbg_lava.jpgR2i961650R3R12R5R317goR0y34:bg%2Flava%2Fbg_lava_characters.pngR2i1754493R3R12R5R318goR0y21:bg%2Fmeadow%2Fbee.pngR2i51505R3R12R5R319goR0y20:bg%2Fmeadow%2Fbg.jpgR2i911818R3R12R5R320goR0y22:bg%2Fmeadow%2Fbird.pngR2i66236R3R12R5R321goR0y28:bg%2Fmeadow%2Fcharacters.pngR2i477417R3R12R5R322goR0y22:bg%2Fmountain%2Fbg.jpgR2i68183R3R12R5R323goR0y30:bg%2Fmountain%2Fcharacters.pngR2i730884R3R12R5R324goR0y26:bg%2Fmountain%2Fcloud1.pngR2i18377R3R12R5R325goR0y26:bg%2Fmountain%2Fcloud2.pngR2i18467R3R12R5R326goR0y26:bg%2Fmountain%2Fcloud3.pngR2i16201R3R12R5R327goR0y32:bg%2Fmountain%2Fmiddleground.pngR2i2948574R3R12R5R328goR0y19:bg%2Focean%2Fbg.jpgR2i167015R3R12R5R329goR0y20:bg%2Focean%2Fbg2.jpgR2i212169R3R12R5R330goR0y21:bg%2Focean%2Fbird.pngR2i50165R3R12R5R331goR0y27:bg%2Focean%2Fcharacters.pngR2i2310402R3R12R5R332goR0y27:bg%2Focean%2Fforeground.pngR2i410037R3R12R5R333goR0y26:bg%2Focean%2Flightning.pngR2i138962R3R12R5R334goR0y26:bg%2Focean%2Ftentacle0.pngR2i57093R3R12R5R335goR0y26:bg%2Focean%2Ftentacle1.pngR2i180600R3R12R5R336goR0y26:bg%2Focean%2Ftentacle2.pngR2i148937R3R12R5R337goR0y19:bg%2Fplane%2Fbg.jpgR2i179208R3R12R5R338goR0y21:bg%2Fplane%2Fbird.pngR2i24933R3R12R5R339goR0y27:bg%2Fplane%2Fcharacters.pngR2i698396R3R12R5R340goR0y24:bg%2Fplane%2Fseagull.pngR2i25420R3R12R5R341goR0y19:bg%2Friver%2Fbg.jpgR2i770703R3R12R5R342goR0y27:bg%2Friver%2Fcharacters.pngR2i544772R3R12R5R343goR0y27:bg%2Friver%2Fforeground.pngR2i669092R3R12R5R344goR0y20:bg%2Fsafari%2Fbg.jpgR2i438151R3R12R5R345goR0y22:bg%2Fsafari%2Fbird.pngR2i89297R3R12R5R346goR0y28:bg%2Fsafari%2Fcharacters.jpgR2i546065R3R12R5R347goR0y19:bg%2Fspace%2Fbg.jpgR2i753498R3R12R5R348goR0y21:bg%2Fspace%2Fbird.pngR2i65177R3R12R5R349goR0y27:bg%2Fspace%2Fcharacters.pngR2i446143R3R12R5R350goR0y20:bg%2Fspace%2Fufo.pngR2i51838R3R12R5R351goR0y41:bg%2Fwater%2Fbg_underwater_background.jpgR2i397203R3R12R5R352goR0y41:bg%2Fwater%2Fbg_underwater_characters.pngR2i612029R3R12R5R353goR0y21:bg%2Fwater%2Ffish.pngR2i45870R3R12R5R354goR0y23:bg%2Fwaterfall%2Fbg.jpgR2i13036R3R12R5R355goR0y25:bg%2Fwaterfall%2Fbird.pngR2i49635R3R12R5R356goR0y31:bg%2Fwaterfall%2Fcharacters.pngR2i1441935R3R12R5R357goR0y28:bg%2Fwaterfall%2Fcloud01.pngR2i13502R3R12R5R358goR0y28:bg%2Fwaterfall%2Fcloud02.pngR2i52937R3R12R5R359goR0y28:bg%2Fwaterfall%2Fcloud03.pngR2i23387R3R12R5R360goR0y33:bg%2Fwaterfall%2Fmiddleground.pngR2i3760034R3R12R5R361goR0y28:bg%2Fwinter%2Fbackground.jpgR2i475275R3R12R5R362goR0y22:bg%2Fwinter%2Fbird.pngR2i72852R3R12R5R363goR0y28:bg%2Fwinter%2Fcharacters.pngR2i573443R3R12R5R364goR0y22:bg%2Fwinter%2Fwolf.pngR2i16871R3R12R5R365goR0y17:bg%2Fzoo%2Fbg.jpgR2i796158R3R12R5R366goR0y19:bg%2Fzoo%2Fbird.pngR2i21959R3R12R5R367goR0y25:bg%2Fzoo%2Fcharacters.jpgR2i899939R3R12R5R368goR0y24:dynamic%2Farrowwheel.pngR2i5694R3R12R5R369goR0y24:dynamic%2Farrow_left.pngR2i1242R3R12R5R370goR0y20:dynamic%2Favatar.pngR2i8305R3R12R5R371goR0y17:dynamic%2Fbag.pngR2i9985R3R12R5R372goR0y17:dynamic%2Fbee.pngR2i15113R3R12R5R373goR0y23:dynamic%2Fbtn_block.pngR2i6689R3R12R5R374goR0y25:dynamic%2Fbtn_unblock.pngR2i6748R3R12R5R375goR0y20:dynamic%2Fbubble.pngR2i7427R3R12R5R376goR0y22:dynamic%2Fcolormap.pngR2i51671R3R12R5R377goR0y20:dynamic%2Fcolumn.pngR2i14510R3R12R5R378goR0y19:dynamic%2Fcrown.pngR2i17570R3R12R5R379goR0y20:dynamic%2Fdeco01.pngR2i168330R3R12R5R380goR0y20:dynamic%2Fdeco02.pngR2i340588R3R12R5R381goR0y20:dynamic%2Fdelete.pngR2i2022R3R12R5R382goR0y26:dynamic%2Fdifficulty_1.pngR2i29987R3R12R5R383goR0y32:dynamic%2Fdifficulty_1_small.pngR2i14874R3R12R5R384goR0y26:dynamic%2Fdifficulty_2.pngR2i31755R3R12R5R385goR0y32:dynamic%2Fdifficulty_2_small.pngR2i15696R3R12R5R386goR0y17:dynamic%2Fdot.pngR2i1599R3R12R5R387goR0y20:dynamic%2Fdot_on.pngR2i952R3R12R5R388goR0y18:dynamic%2Fdown.pngR2i1474R3R12R5R389goR0y18:dynamic%2Fedit.pngR2i2561R3R12R5R390goR0y30:dynamic%2Fexclamation-mark.pngR2i2107R3R12R5R391goR0y30:dynamic%2Ffacebook-sign-in.pngR2i9537R3R12R5R392goR0y24:dynamic%2Fflag-de-DE.pngR2i3824R3R12R5R393goR0y24:dynamic%2Fflag-en-US.pngR2i9312R3R12R5R394goR0y24:dynamic%2Fflag-fr-FR.pngR2i3272R3R12R5R395goR0y24:dynamic%2Fflag-ru-RU.pngR2i3667R3R12R5R396goR0y19:dynamic%2Fframe.pngR2i1761R3R12R5R397goR0y22:dynamic%2Fframe_02.pngR2i4328R3R12R5R398goR0y22:dynamic%2Fframe_03.pngR2i5701R3R12R5R399goR0y28:dynamic%2Fgoogle-sign-in.pngR2i6516R3R12R5R400goR0y20:dynamic%2Fhammer.pngR2i19463R3R12R5R401goR0y18:dynamic%2Fhelp.pngR2i4839R3R12R5R402goR0y18:dynamic%2Finfo.pngR2i3793R3R12R5R403goR0y25:dynamic%2FJennyJungle.pngR2i307733R3R12R5R404goR0y27:dynamic%2FJenny_Curious.pngR2i307194R3R12R5R405goR0y24:dynamic%2FJenny_Flag.pngR2i409124R3R12R5R406goR0y25:dynamic%2FJenny_Happy.pngR2i324974R3R12R5R407goR0y24:dynamic%2Fjenny_head.pngR2i17080R3R12R5R408goR0y30:dynamic%2FJenny_Presenting.pngR2i324376R3R12R5R409goR0y23:dynamic%2FJenny_Sad.pngR2i276499R3R12R5R410goR0y26:dynamic%2FJenny_Trophy.pngR2i404879R3R12R5R411goR0y26:dynamic%2FJenny_Worker.pngR2i342603R3R12R5R412goR0y18:dynamic%2Flist.pngR2i4213R3R12R5R413goR0y18:dynamic%2Flogo.pngR2i17243R3R12R5R414goR0y22:dynamic%2Fmail_big.pngR2i10305R3R12R5R415goR0y19:dynamic%2Fmusic.pngR2i4665R3R12R5R416goR0y23:dynamic%2Fmusic_off.pngR2i5218R3R12R5R417goR0y18:dynamic%2Fnews.pngR2i35470R3R12R5R418goR0y18:dynamic%2Fopen.pngR2i5201R3R12R5R419goR0y17:dynamic%2Forb.pngR2i17478R3R12R5R420goR0y18:dynamic%2Fplay.pngR2i4231R3R12R5R421goR0y18:dynamic%2Fplus.pngR2i1631R3R12R5R422goR0y18:dynamic%2Fquit.pngR2i4651R3R12R5R423goR0y20:dynamic%2Frepeat.pngR2i5696R3R12R5R424goR0y17:dynamic%2Frow.pngR2i18519R3R12R5R425goR0y18:dynamic%2Fshop.pngR2i4341R3R12R5R426goR0y22:dynamic%2Fshop_tip.pngR2i48240R3R12R5R427goR0y18:dynamic%2Fshre.pngR2i5163R3R12R5R428goR0y19:dynamic%2Fskunk.pngR2i15641R3R12R5R429goR0y19:dynamic%2Fsound.pngR2i4237R3R12R5R430goR0y23:dynamic%2Fsound_off.pngR2i5223R3R12R5R431goR0y22:dynamic%2Fstrahlen.pngR2i10929R3R12R5R432goR0y20:dynamic%2Fstreak.pngR2i27019R3R12R5R433goR0y20:dynamic%2Fswitch.pngR2i3193R3R12R5R434goR0y21:dynamic%2Fswizzle.pngR2i11464R3R12R5R435goR0y18:dynamic%2Fteam.pngR2i12133R3R12R5R436goR0y23:dynamic%2FTipHand_1.pngR2i13311R3R12R5R437goR0y23:dynamic%2FTipHand_2.pngR2i11641R3R12R5R438goR0y26:dynamic%2Ftrophy_multi.pngR2i34115R3R12R5R439goR0y23:dynamic%2Fvignette2.pngR2i68724R3R12R5R440goR0y18:dynamic%2Fweek.pngR2i35099R3R12R5R441goR0y28:dynamic%2Fwheeloffortune.pngR2i20975R3R12R5R442goR0y33:dynamic%2Fwheeloffortune_icon.pngR2i17636R3R12R5R443goR0y17:dynamic%2Fyes.pngR2i1762R3R12R5R444goR0y19:avatar%2Fava001.pngR2i10531R3R12R5R445goR0y19:avatar%2Fava002.pngR2i46680R3R12R5R446goR0y19:avatar%2Fava003.pngR2i31118R3R12R5R447goR0y19:avatar%2Fava004.pngR2i48649R3R12R5R448goR0y19:avatar%2Fava005.pngR2i44709R3R12R5R449goR0y19:avatar%2Fava006.pngR2i54437R3R12R5R450goR0y19:avatar%2Fava007.pngR2i45691R3R12R5R451goR0y19:avatar%2Fava008.pngR2i46790R3R12R5R452goR0y19:avatar%2Fava009.pngR2i59927R3R12R5R453goR0y19:avatar%2Fava010.pngR2i75129R3R12R5R454goR0y19:avatar%2Fava011.pngR2i68739R3R12R5R455goR0y19:avatar%2Fava012.pngR2i62120R3R12R5R456goR0y19:avatar%2Fava013.pngR2i13564R3R12R5R457goR0y19:avatar%2Fava014.pngR2i57207R3R12R5R458goR0y19:avatar%2Fava015.pngR2i40266R3R12R5R459goR0y19:avatar%2Fava016.pngR2i51016R3R12R5R460goR0y19:avatar%2Fava017.pngR2i60036R3R12R5R461goR0y19:avatar%2Fava018.pngR2i44839R3R12R5R462goR0y19:avatar%2Fava019.pngR2i34673R3R12R5R463goR0y19:avatar%2Fava020.pngR2i30920R3R12R5R464goR0y19:teams%2F0%2F000.pngR2i8633R3R12R5R465goR0y19:teams%2F0%2F001.pngR2i6564R3R12R5R466goR0y19:teams%2F0%2F002.pngR2i7798R3R12R5R467goR0y19:teams%2F0%2F003.pngR2i7569R3R12R5R468goR0y19:teams%2F0%2F004.pngR2i15736R3R12R5R469goR0y19:teams%2F0%2F005.pngR2i3990R3R12R5R470goR0y19:teams%2F0%2F006.pngR2i2748R3R12R5R471goR0y19:teams%2F1%2F000.pngR2i9030R3R12R5R472goR0y19:teams%2F1%2F001.pngR2i11970R3R12R5R473goR0y19:teams%2F1%2F002.pngR2i3715R3R12R5R474goR0y19:teams%2F1%2F003.pngR2i8783R3R12R5R475goR0y19:teams%2F1%2F004.pngR2i8689R3R12R5R476goR0y19:teams%2F1%2F005.pngR2i6945R3R12R5R477goR0y19:teams%2F1%2F006.pngR2i4401R3R12R5R478goR0y19:teams%2F2%2F000.pngR2i6101R3R12R5R479goR0y21:teams%2F2%2F000_o.pngR2i4799R3R12R5R480goR0y19:teams%2F2%2F001.pngR2i4429R3R12R5R481goR0y21:teams%2F2%2F001_o.pngR2i5892R3R12R5R482goR0y19:teams%2F2%2F002.pngR2i7488R3R12R5R483goR0y21:teams%2F2%2F002_o.pngR2i5276R3R12R5R484goR0y19:teams%2F2%2F003.pngR2i6099R3R12R5R485goR0y21:teams%2F2%2F003_o.pngR2i4271R3R12R5R486goR0y19:teams%2F2%2F004.pngR2i5613R3R12R5R487goR0y21:teams%2F2%2F004_o.pngR2i4640R3R12R5R488goR0y19:teams%2F2%2F005.pngR2i4558R3R12R5R489goR0y21:teams%2F2%2F005_o.pngR2i7171R3R12R5R490goR0y19:teams%2F2%2F006.pngR2i4017R3R12R5R491goR0y21:teams%2F2%2F006_o.pngR2i5521R3R12R5R492goR0y19:teams%2F2%2F007.pngR2i4017R3R12R5R493goR0y21:teams%2F2%2F007_o.pngR2i7907R3R12R5R494goR0y20:xml%2Fbackground.xmlR2i477R3R4R5R495goR0y14:xml%2Fchat.xmlR2i252R3R4R5R496goR0y18:xml%2Fchat_tab.xmlR2i4635R3R4R5R497goR0y22:xml%2Fchoose_color.xmlR2i777R3R4R5R498goR0y21:xml%2Fchoose_flag.xmlR2i1205R3R4R5R499goR0y35:xml%2Fchoose_jump_starter_popup.xmlR2i4307R3R4R5R500goR0y21:xml%2Fcloud_layer.xmlR2i172R3R4R5R501goR0y28:xml%2Fdaily_login_screen.xmlR2i2498R3R4R5R502goR0y22:xml%2Feditor_login.xmlR2i1414R3R4R5R503goR0y27:xml%2Fedit_avatar_popup.xmlR2i1038R3R4R5R504goR0y27:xml%2Femail_login_popup.xmlR2i1537R3R4R5R505goR0y30:xml%2Femail_register_popup.xmlR2i1926R3R4R5R506goR0y20:xml%2Fenter_text.xmlR2i624R3R4R5R507goR0R7R2i4694R3R4R5R7goR0y20:xml%2Finfo_popup.xmlR2i748R3R4R5R508goR0y28:xml%2Fitem_success_popup.xmlR2i645R3R4R5R509goR0R8R2i23217R3R4R5R8goR0R9R2i693R3R4R5R9goR0y21:xml%2Fmain_screen.xmlR2i14199R3R4R5R510goR0y18:xml%2Fnews_tab.xmlR2i476R3R4R5R511goR0y25:xml%2Fnew_theme_popup.xmlR2i713R3R4R5R512goR0y36:xml%2Fnot_enough_resources_popup.xmlR2i1711R3R4R5R513goR0y24:xml%2Fno_lifes_popup.xmlR2i1283R3R4R5R514goR0y24:xml%2Fno_moves_popup.xmlR2i3535R3R4R5R515goR0y26:xml%2Fopen_chest_popup.xmlR2i2174R3R4R5R516goR0y33:xml%2Fplayer_chat_channel_tab.xmlR2i2169R3R4R5R517goR0y24:xml%2Fplayer_details.xmlR2i9205R3R4R5R518goR0R10R2i43378R3R4R5R10goR0y24:xml%2Fplayfield_help.xmlR2i2852R3R4R5R519goR0y15:xml%2Fpopup.xmlR2i501R3R4R5R520goR0y26:xml%2Fquit_level_popup.xmlR2i1482R3R4R5R521goR0y16:xml%2Freview.xmlR2i1554R3R4R5R522goR0y23:xml%2Freview_result.xmlR2i1324R3R4R5R523goR0y21:xml%2Fscreen_list.xmlR2i718R3R4R5R524goR0y14:xml%2Fshop.xmlR2i8803R3R4R5R525goR0y19:xml%2FshortInfo.xmlR2i419R3R4R5R526goR0y23:xml%2Fsign_in_popup.xmlR2i2271R3R4R5R527goR0y22:xml%2Fslider_popup.xmlR2i4528R3R4R5R528goR0y20:xml%2Fsocial_hub.xmlR2i2483R3R4R5R529goR0y27:xml%2Fstreak_info_popup.xmlR2i926R3R4R5R530goR0y21:xml%2Fteam_create.xmlR2i1499R3R4R5R531goR0y22:xml%2Fteam_details.xmlR2i8187R3R4R5R532goR0y25:xml%2Fteam_edit_badge.xmlR2i2379R3R4R5R533goR0y29:xml%2Ftournament_finished.xmlR2i2000R3R4R5R534goR0y24:xml%2Ftournament_tab.xmlR2i1693R3R4R5R535goR0y32:xml%2Ftournament_winners_tab.xmlR2i319R3R4R5R536goR0y31:xml%2Funlimited_lifes_popup.xmlR2i1661R3R4R5R537goR0y20:xml%2Fweekly_tab.xmlR2i1492R3R4R5R538goR0y21:xml%2Fwheel_popup.xmlR2i2532R3R4R5R539goR0y19:xml%2Fwin_popup.xmlR2i3205R3R4R5R540goR0y16:level%2Fabc.jsonR2i538R3R4R5R541goR0y22:level%2Flevel0001.jsonR2i2030R3R4R5R542goR0y22:level%2Flevel0002.jsonR2i2037R3R4R5R543goR0y22:level%2Flevel0003.jsonR2i2038R3R4R5R544goR0y22:level%2Flevel0004.jsonR2i2346R3R4R5R545goR0y22:level%2Flevel0005.jsonR2i418R3R4R5R546goR0y22:level%2Flevel0006.jsonR2i729R3R4R5R547goR0y22:level%2Flevel0007.jsonR2i2155R3R4R5R548goR0y22:level%2Flevel0008.jsonR2i624R3R4R5R549goR0y22:level%2Flevel0009.jsonR2i930R3R4R5R550goR0y22:level%2Flevel0010.jsonR2i566R3R4R5R551goR0y22:level%2Flevel0011.jsonR2i429R3R4R5R552goR0y22:level%2Flevel0012.jsonR2i2904R3R4R5R553goR0y22:level%2Flevel0013.jsonR2i2333R3R4R5R554goR0y22:level%2Flevel0014.jsonR2i1667R3R4R5R555goR0y22:level%2Flevel0015.jsonR2i318R3R4R5R556goR0y22:level%2Flevel0016.jsonR2i2452R3R4R5R557goR0y22:level%2Flevel0017.jsonR2i2469R3R4R5R558goR0y22:level%2Flevel0018.jsonR2i3549R3R4R5R559goR0y22:level%2Flevel0019.jsonR2i2217R3R4R5R560goR0y22:level%2Flevel0020.jsonR2i2171R3R4R5R561goR0y22:level%2Flevel0021.jsonR2i334R3R4R5R562goR0y22:level%2Flevel0022.jsonR2i2282R3R4R5R563goR0y22:level%2Flevel0023.jsonR2i1801R3R4R5R564goR0y22:level%2Flevel0024.jsonR2i304R3R4R5R565goR0y22:level%2Flevel0025.jsonR2i661R3R4R5R566goR0y22:level%2Flevel0026.jsonR2i626R3R4R5R567goR0y22:level%2Flevel0027.jsonR2i1559R3R4R5R568goR0y22:level%2Flevel0028.jsonR2i546R3R4R5R569goR0y22:level%2Flevel0029.jsonR2i531R3R4R5R570goR0y22:level%2Flevel0030.jsonR2i864R3R4R5R571goR0y22:level%2Flevel0031.jsonR2i400R3R4R5R572goR0y22:level%2Flevel0032.jsonR2i306R3R4R5R573goR0y22:level%2Flevel0033.jsonR2i1085R3R4R5R574goR0y22:level%2Flevel0034.jsonR2i988R3R4R5R575goR0y22:level%2Flevel0035.jsonR2i1405R3R4R5R576goR0y22:level%2Flevel0036.jsonR2i1937R3R4R5R577goR0y22:level%2Flevel0037.jsonR2i719R3R4R5R578goR0y22:level%2Flevel0038.jsonR2i445R3R4R5R579goR0y22:level%2Flevel0039.jsonR2i343R3R4R5R580goR0y22:level%2Flevel0040.jsonR2i552R3R4R5R581goR0y22:level%2Flevel0041.jsonR2i726R3R4R5R582goR0y22:level%2Flevel0042.jsonR2i784R3R4R5R583goR0y22:level%2Flevel0043.jsonR2i674R3R4R5R584goR0y22:level%2Flevel0044.jsonR2i843R3R4R5R585goR0y22:level%2Flevel0045.jsonR2i630R3R4R5R586goR0y22:level%2Flevel0046.jsonR2i760R3R4R5R587goR0y22:level%2Flevel0047.jsonR2i507R3R4R5R588goR0y22:level%2Flevel0048.jsonR2i474R3R4R5R589goR0y22:level%2Flevel0049.jsonR2i701R3R4R5R590goR0y22:level%2Flevel0050.jsonR2i829R3R4R5R591goR0y22:level%2Flevel0051.jsonR2i549R3R4R5R592goR0y22:level%2Flevel0052.jsonR2i798R3R4R5R593goR0y22:level%2Flevel0053.jsonR2i1197R3R4R5R594goR0y22:level%2Flevel0054.jsonR2i2651R3R4R5R595goR0y22:level%2Flevel0055.jsonR2i1039R3R4R5R596goR0y22:level%2Flevel0056.jsonR2i340R3R4R5R597goR0y22:level%2Flevel0057.jsonR2i602R3R4R5R598goR0y22:level%2Flevel0058.jsonR2i995R3R4R5R599goR0y22:level%2Flevel0059.jsonR2i1265R3R4R5R600goR0y22:level%2Flevel0060.jsonR2i431R3R4R5R601goR0y22:level%2Flevel0061.jsonR2i504R3R4R5R602goR0y22:level%2Flevel0062.jsonR2i590R3R4R5R603goR0y22:level%2Flevel0063.jsonR2i572R3R4R5R604goR0y22:level%2Flevel0064.jsonR2i469R3R4R5R605goR0y22:level%2Flevel0065.jsonR2i609R3R4R5R606goR0y22:level%2Flevel0066.jsonR2i484R3R4R5R607goR0y22:level%2Flevel0067.jsonR2i1015R3R4R5R608goR0y22:level%2Flevel0068.jsonR2i749R3R4R5R609goR0y22:level%2Flevel0069.jsonR2i1611R3R4R5R610goR0y22:level%2Flevel0070.jsonR2i577R3R4R5R611goR0y22:level%2Flevel0071.jsonR2i626R3R4R5R612goR0y22:level%2Flevel0072.jsonR2i710R3R4R5R613goR0y22:level%2Flevel0073.jsonR2i553R3R4R5R614goR0y22:level%2Flevel0074.jsonR2i662R3R4R5R615goR0y22:level%2Flevel0075.jsonR2i568R3R4R5R616goR0y22:level%2Flevel0076.jsonR2i1602R3R4R5R617goR0y22:level%2Flevel0077.jsonR2i1492R3R4R5R618goR0y22:level%2Flevel0078.jsonR2i2212R3R4R5R619goR0y22:level%2Flevel0079.jsonR2i1242R3R4R5R620goR0y22:level%2Flevel0080.jsonR2i2178R3R4R5R621goR0y22:level%2Flevel0081.jsonR2i962R3R4R5R622goR0y22:level%2Flevel0082.jsonR2i742R3R4R5R623goR0y22:level%2Flevel0083.jsonR2i675R3R4R5R624goR0y22:level%2Flevel0084.jsonR2i862R3R4R5R625goR0y22:level%2Flevel0085.jsonR2i859R3R4R5R626goR0y22:level%2Flevel0086.jsonR2i3153R3R4R5R627goR0y22:level%2Flevel0087.jsonR2i620R3R4R5R628goR0y22:level%2Flevel0088.jsonR2i826R3R4R5R629goR0y22:level%2Flevel0089.jsonR2i635R3R4R5R630goR0y22:level%2Flevel0090.jsonR2i1480R3R4R5R631goR0y22:level%2Flevel0091.jsonR2i757R3R4R5R632goR0y22:level%2Flevel0092.jsonR2i1285R3R4R5R633goR0y22:level%2Flevel0093.jsonR2i741R3R4R5R634goR0y22:level%2Flevel0094.jsonR2i830R3R4R5R635goR0y22:level%2Flevel0095.jsonR2i483R3R4R5R636goR0y22:level%2Flevel0096.jsonR2i627R3R4R5R637goR0y22:level%2Flevel0097.jsonR2i712R3R4R5R638goR0y22:level%2Flevel0098.jsonR2i962R3R4R5R639goR0y22:level%2Flevel0099.jsonR2i710R3R4R5R640goR0y22:level%2Flevel0100.jsonR2i898R3R4R5R641goR0y22:level%2Flevel0101.jsonR2i794R3R4R5R642goR0y22:level%2Flevel0102.jsonR2i559R3R4R5R643goR0y22:level%2Flevel0103.jsonR2i537R3R4R5R644goR0y22:level%2Flevel0104.jsonR2i394R3R4R5R645goR0y22:level%2Flevel0105.jsonR2i338R3R4R5R646goR0y22:level%2Flevel0106.jsonR2i409R3R4R5R647goR0y22:level%2Flevel0107.jsonR2i625R3R4R5R648goR0y22:level%2Flevel0108.jsonR2i596R3R4R5R649goR0y22:level%2Flevel0109.jsonR2i398R3R4R5R650goR0y22:level%2Flevel0110.jsonR2i638R3R4R5R651goR0y22:level%2Flevel0111.jsonR2i1757R3R4R5R652goR0y22:level%2Flevel0112.jsonR2i526R3R4R5R653goR0y22:level%2Flevel0113.jsonR2i643R3R4R5R654goR0y22:level%2Flevel0114.jsonR2i707R3R4R5R655goR0y22:level%2Flevel0115.jsonR2i448R3R4R5R656goR0y22:level%2Flevel0116.jsonR2i631R3R4R5R657goR0y22:level%2Flevel0117.jsonR2i550R3R4R5R658goR0y22:level%2Flevel0118.jsonR2i534R3R4R5R659goR0y22:level%2Flevel0119.jsonR2i580R3R4R5R660goR0y22:level%2Flevel0120.jsonR2i606R3R4R5R661goR0y22:level%2Flevel0121.jsonR2i1797R3R4R5R662goR0y22:level%2Flevel0122.jsonR2i596R3R4R5R663goR0y22:level%2Flevel0123.jsonR2i496R3R4R5R664goR0y22:level%2Flevel0124.jsonR2i630R3R4R5R665goR0y22:level%2Flevel0125.jsonR2i1412R3R4R5R666goR0y22:level%2Flevel0126.jsonR2i692R3R4R5R667goR0y22:level%2Flevel0127.jsonR2i993R3R4R5R668goR0y22:level%2Flevel0128.jsonR2i668R3R4R5R669goR0y22:level%2Flevel0129.jsonR2i532R3R4R5R670goR0y22:level%2Flevel0130.jsonR2i517R3R4R5R671goR0y22:level%2Flevel0131.jsonR2i594R3R4R5R672goR0y22:level%2Flevel0132.jsonR2i534R3R4R5R673goR0y22:level%2Flevel0133.jsonR2i1472R3R4R5R674goR0y22:level%2Flevel0134.jsonR2i435R3R4R5R675goR0y22:level%2Flevel0135.jsonR2i394R3R4R5R676goR0y22:level%2Flevel0136.jsonR2i476R3R4R5R677goR0y22:level%2Flevel0137.jsonR2i1088R3R4R5R678goR0y22:level%2Flevel0138.jsonR2i842R3R4R5R679goR0y22:level%2Flevel0139.jsonR2i632R3R4R5R680goR0y22:level%2Flevel0140.jsonR2i897R3R4R5R681goR0y22:level%2Flevel0141.jsonR2i398R3R4R5R682goR0y22:level%2Flevel0142.jsonR2i533R3R4R5R683goR0y22:level%2Flevel0143.jsonR2i469R3R4R5R684goR0y22:level%2Flevel0144.jsonR2i880R3R4R5R685goR0y22:level%2Flevel0145.jsonR2i1374R3R4R5R686goR0y22:level%2Flevel0146.jsonR2i672R3R4R5R687goR0y22:level%2Flevel0147.jsonR2i499R3R4R5R688goR0y22:level%2Flevel0148.jsonR2i604R3R4R5R689goR0y22:level%2Flevel0149.jsonR2i1223R3R4R5R690goR0y22:level%2Flevel0150.jsonR2i2594R3R4R5R691goR0y22:level%2Flevel0151.jsonR2i2300R3R4R5R692goR0y22:level%2Flevel0152.jsonR2i1967R3R4R5R693goR0y22:level%2Flevel0153.jsonR2i1782R3R4R5R694goR0y22:level%2Flevel0154.jsonR2i2378R3R4R5R695goR0y22:level%2Flevel0155.jsonR2i1967R3R4R5R696goR0y22:level%2Flevel0156.jsonR2i2078R3R4R5R697goR0y22:level%2Flevel0157.jsonR2i2209R3R4R5R698goR0y22:level%2Flevel0158.jsonR2i1898R3R4R5R699goR0y22:level%2Flevel0159.jsonR2i1735R3R4R5R700goR0y22:level%2Flevel0160.jsonR2i2246R3R4R5R701goR0y22:level%2Flevel0161.jsonR2i2205R3R4R5R702goR0y22:level%2Flevel0162.jsonR2i2525R3R4R5R703goR0y22:level%2Flevel0163.jsonR2i2367R3R4R5R704goR0y22:level%2Flevel0164.jsonR2i1927R3R4R5R705goR0y22:level%2Flevel0165.jsonR2i1741R3R4R5R706goR0y22:level%2Flevel0166.jsonR2i2009R3R4R5R707goR0y22:level%2Flevel0167.jsonR2i2776R3R4R5R708goR0y22:level%2Flevel0168.jsonR2i2913R3R4R5R709goR0y22:level%2Flevel0169.jsonR2i2875R3R4R5R710goR0y22:level%2Flevel0170.jsonR2i2384R3R4R5R711goR0y22:level%2Flevel0171.jsonR2i2224R3R4R5R712goR0y22:level%2Flevel0172.jsonR2i2238R3R4R5R713goR0y22:level%2Flevel0173.jsonR2i2427R3R4R5R714goR0y22:level%2Flevel0174.jsonR2i2448R3R4R5R715goR0y22:level%2Flevel0175.jsonR2i1970R3R4R5R716goR0y22:level%2Flevel0176.jsonR2i1455R3R4R5R717goR0y22:level%2Flevel0177.jsonR2i1495R3R4R5R718goR0y22:level%2Flevel0178.jsonR2i2228R3R4R5R719goR0y22:level%2Flevel0179.jsonR2i1740R3R4R5R720goR0y22:level%2Flevel0180.jsonR2i2116R3R4R5R721goR0y22:level%2Flevel0181.jsonR2i1709R3R4R5R722goR0y22:level%2Flevel0182.jsonR2i1728R3R4R5R723goR0y22:level%2Flevel0183.jsonR2i2497R3R4R5R724goR0y22:level%2Flevel0184.jsonR2i1659R3R4R5R725goR0y22:level%2Flevel0185.jsonR2i1920R3R4R5R726goR0y22:level%2Flevel0186.jsonR2i2128R3R4R5R727goR0y22:level%2Flevel0187.jsonR2i2004R3R4R5R728goR0y22:level%2Flevel0188.jsonR2i2638R3R4R5R729goR0y22:level%2Flevel0189.jsonR2i1135R3R4R5R730goR0y22:level%2Flevel0190.jsonR2i2208R3R4R5R731goR0y22:level%2Flevel0191.jsonR2i2003R3R4R5R732goR0y22:level%2Flevel0192.jsonR2i2177R3R4R5R733goR0y22:level%2Flevel0193.jsonR2i1897R3R4R5R734goR0y22:level%2Flevel0194.jsonR2i1364R3R4R5R735goR0y22:level%2Flevel0195.jsonR2i2143R3R4R5R736goR0y22:level%2Flevel0196.jsonR2i2185R3R4R5R737goR0y22:level%2Flevel0197.jsonR2i1678R3R4R5R738goR0y22:level%2Flevel0198.jsonR2i3018R3R4R5R739goR0y22:level%2Flevel0199.jsonR2i1930R3R4R5R740goR0y22:level%2Flevel0200.jsonR2i1955R3R4R5R741goR0y22:level%2Flevel0201.jsonR2i2996R3R4R5R742goR0y22:level%2Flevel0202.jsonR2i2107R3R4R5R743goR0y22:level%2Flevel0203.jsonR2i3085R3R4R5R744goR0y22:level%2Flevel0204.jsonR2i2920R3R4R5R745goR0y22:level%2Flevel0205.jsonR2i2185R3R4R5R746goR0y22:level%2Flevel0206.jsonR2i1555R3R4R5R747goR0y22:level%2Flevel0207.jsonR2i2680R3R4R5R748goR0y22:level%2Flevel0208.jsonR2i2801R3R4R5R749goR0y22:level%2Flevel0209.jsonR2i2469R3R4R5R750goR0y22:level%2Flevel0210.jsonR2i3062R3R4R5R751goR0y22:level%2Flevel0211.jsonR2i2758R3R4R5R752goR0y22:level%2Flevel0212.jsonR2i2541R3R4R5R753goR0y22:level%2Flevel0213.jsonR2i2454R3R4R5R754goR0y22:level%2Flevel0214.jsonR2i3004R3R4R5R755goR0y22:level%2Flevel0215.jsonR2i2968R3R4R5R756goR0y22:level%2Flevel0216.jsonR2i3312R3R4R5R757goR0y22:level%2Flevel0217.jsonR2i2845R3R4R5R758goR0y22:level%2Flevel0218.jsonR2i3224R3R4R5R759goR0y22:level%2Flevel0219.jsonR2i2728R3R4R5R760goR0y22:level%2Flevel0220.jsonR2i2435R3R4R5R761goR0y22:level%2Flevel0221.jsonR2i2261R3R4R5R762goR0y22:level%2Flevel0222.jsonR2i2689R3R4R5R763goR0y22:level%2Flevel0223.jsonR2i2584R3R4R5R764goR0y22:level%2Flevel0224.jsonR2i3224R3R4R5R765goR0y22:level%2Flevel0225.jsonR2i2608R3R4R5R766goR0y22:level%2Flevel0226.jsonR2i2841R3R4R5R767goR0y22:level%2Flevel0227.jsonR2i2886R3R4R5R768goR0y22:level%2Flevel0228.jsonR2i2284R3R4R5R769goR0y22:level%2Flevel0229.jsonR2i2441R3R4R5R770goR0y22:level%2Flevel0230.jsonR2i2539R3R4R5R771goR0y22:level%2Flevel0231.jsonR2i3166R3R4R5R772goR0y22:level%2Flevel0232.jsonR2i2456R3R4R5R773goR0y22:level%2Flevel0233.jsonR2i2653R3R4R5R774goR0y22:level%2Flevel0234.jsonR2i2540R3R4R5R775goR0y22:level%2Flevel0235.jsonR2i2383R3R4R5R776goR0y22:level%2Flevel0236.jsonR2i2877R3R4R5R777goR0y22:level%2Flevel0237.jsonR2i2142R3R4R5R778goR0y22:level%2Flevel0238.jsonR2i2561R3R4R5R779goR0y22:level%2Flevel0239.jsonR2i2566R3R4R5R780goR0y22:level%2Flevel0240.jsonR2i2445R3R4R5R781goR0y22:level%2Flevel0241.jsonR2i2679R3R4R5R782goR0y22:level%2Flevel0242.jsonR2i2827R3R4R5R783goR0y22:level%2Flevel0243.jsonR2i2685R3R4R5R784goR0y22:level%2Flevel0244.jsonR2i2206R3R4R5R785goR0y22:level%2Flevel0245.jsonR2i3051R3R4R5R786goR0y22:level%2Flevel0246.jsonR2i2317R3R4R5R787goR0y22:level%2Flevel0247.jsonR2i2256R3R4R5R788goR0y22:level%2Flevel0248.jsonR2i2534R3R4R5R789goR0y22:level%2Flevel0249.jsonR2i2405R3R4R5R790goR0y22:level%2Flevel0250.jsonR2i2155R3R4R5R791goR0y22:level%2Flevel0251.jsonR2i1834R3R4R5R792goR0y22:level%2Flevel0252.jsonR2i2091R3R4R5R793goR0y22:level%2Flevel0253.jsonR2i2391R3R4R5R794goR0y22:level%2Flevel0254.jsonR2i2019R3R4R5R795goR0y22:level%2Flevel0255.jsonR2i2301R3R4R5R796goR0y22:level%2Flevel0256.jsonR2i2632R3R4R5R797goR0y22:level%2Flevel0257.jsonR2i1774R3R4R5R798goR0y22:level%2Flevel0258.jsonR2i1893R3R4R5R799goR0y22:level%2Flevel0259.jsonR2i1845R3R4R5R800goR0y22:level%2Flevel0260.jsonR2i2233R3R4R5R801goR0y22:level%2Flevel0261.jsonR2i2077R3R4R5R802goR0y22:level%2Flevel0262.jsonR2i1981R3R4R5R803goR0y22:level%2Flevel0263.jsonR2i2228R3R4R5R804goR0y22:level%2Flevel0264.jsonR2i1641R3R4R5R805goR0y22:level%2Flevel0265.jsonR2i1990R3R4R5R806goR0y22:level%2Flevel0266.jsonR2i2075R3R4R5R807goR0y22:level%2Flevel0267.jsonR2i2353R3R4R5R808goR0y22:level%2Flevel0268.jsonR2i1422R3R4R5R809goR0y22:level%2Flevel0269.jsonR2i2545R3R4R5R810goR0y22:level%2Flevel0270.jsonR2i1931R3R4R5R811goR0y22:level%2Flevel0271.jsonR2i1735R3R4R5R812goR0y22:level%2Flevel0272.jsonR2i1989R3R4R5R813goR0y22:level%2Flevel0273.jsonR2i2016R3R4R5R814goR0y22:level%2Flevel0274.jsonR2i1864R3R4R5R815goR0y22:level%2Flevel0275.jsonR2i2101R3R4R5R816goR0y22:level%2Flevel0276.jsonR2i2247R3R4R5R817goR0y22:level%2Flevel0277.jsonR2i1713R3R4R5R818goR0y22:level%2Flevel0278.jsonR2i1756R3R4R5R819goR0y22:level%2Flevel0279.jsonR2i2136R3R4R5R820goR0y22:level%2Flevel0280.jsonR2i2188R3R4R5R821goR0y22:level%2Flevel0281.jsonR2i2272R3R4R5R822goR0y22:level%2Flevel0282.jsonR2i2568R3R4R5R823goR0y22:level%2Flevel0283.jsonR2i2348R3R4R5R824goR0y22:level%2Flevel0284.jsonR2i2430R3R4R5R825goR0y22:level%2Flevel0285.jsonR2i2383R3R4R5R826goR0y22:level%2Flevel0286.jsonR2i1793R3R4R5R827goR0y22:level%2Flevel0287.jsonR2i1639R3R4R5R828goR0y22:level%2Flevel0288.jsonR2i1737R3R4R5R829goR0y22:level%2Flevel0289.jsonR2i2121R3R4R5R830goR0y22:level%2Flevel0290.jsonR2i1843R3R4R5R831goR0y22:level%2Flevel0291.jsonR2i2297R3R4R5R832goR0y22:level%2Flevel0292.jsonR2i2470R3R4R5R833goR0y22:level%2Flevel0293.jsonR2i2055R3R4R5R834goR0y22:level%2Flevel0294.jsonR2i2166R3R4R5R835goR0y22:level%2Flevel0295.jsonR2i1756R3R4R5R836goR0y22:level%2Flevel0296.jsonR2i2079R3R4R5R837goR0y22:level%2Flevel0297.jsonR2i1840R3R4R5R838goR0y22:level%2Flevel0298.jsonR2i2036R3R4R5R839goR0y22:level%2Flevel0299.jsonR2i2523R3R4R5R840goR0y22:level%2Flevel0300.jsonR2i2422R3R4R5R841goR0y22:level%2Flevel0301.jsonR2i1377R3R4R5R842goR0y22:level%2Flevel0302.jsonR2i2473R3R4R5R843goR0y22:level%2Flevel0303.jsonR2i2437R3R4R5R844goR0y22:level%2Flevel0304.jsonR2i2279R3R4R5R845goR0y22:level%2Flevel0305.jsonR2i2970R3R4R5R846goR0y22:level%2Flevel0306.jsonR2i2961R3R4R5R847goR0y22:level%2Flevel0307.jsonR2i2802R3R4R5R848goR0y22:level%2Flevel0308.jsonR2i2816R3R4R5R849goR0y22:level%2Flevel0309.jsonR2i1940R3R4R5R850goR0y22:level%2Flevel0310.jsonR2i3154R3R4R5R851goR0y22:level%2Flevel0311.jsonR2i2907R3R4R5R852goR0y22:level%2Flevel0312.jsonR2i2579R3R4R5R853goR0y22:level%2Flevel0313.jsonR2i2279R3R4R5R854goR0y22:level%2Flevel0314.jsonR2i2580R3R4R5R855goR0y22:level%2Flevel0315.jsonR2i2638R3R4R5R856goR0y22:level%2Flevel0316.jsonR2i2265R3R4R5R857goR0y22:level%2Flevel0317.jsonR2i2166R3R4R5R858goR0y22:level%2Flevel0318.jsonR2i2248R3R4R5R859goR0y22:level%2Flevel0319.jsonR2i2407R3R4R5R860goR0y22:level%2Flevel0320.jsonR2i2597R3R4R5R861goR0y22:level%2Flevel0321.jsonR2i2865R3R4R5R862goR0y22:level%2Flevel0322.jsonR2i2493R3R4R5R863goR0y22:level%2Flevel0323.jsonR2i2848R3R4R5R864goR0y22:level%2Flevel0324.jsonR2i2283R3R4R5R865goR0y22:level%2Flevel0325.jsonR2i2876R3R4R5R866goR0y22:level%2Flevel0326.jsonR2i2495R3R4R5R867goR0y22:level%2Flevel0327.jsonR2i3029R3R4R5R868goR0y22:level%2Flevel0328.jsonR2i2672R3R4R5R869goR0y22:level%2Flevel0329.jsonR2i3220R3R4R5R870goR0y22:level%2Flevel0330.jsonR2i2795R3R4R5R871goR0y22:level%2Flevel0331.jsonR2i2616R3R4R5R872goR0y22:level%2Flevel0332.jsonR2i2655R3R4R5R873goR0y22:level%2Flevel0333.jsonR2i2748R3R4R5R874goR0y22:level%2Flevel0334.jsonR2i2780R3R4R5R875goR0y22:level%2Flevel0335.jsonR2i2329R3R4R5R876goR0y22:level%2Flevel0336.jsonR2i2358R3R4R5R877goR0y22:level%2Flevel0337.jsonR2i2348R3R4R5R878goR0y22:level%2Flevel0338.jsonR2i2394R3R4R5R879goR0y22:level%2Flevel0339.jsonR2i1948R3R4R5R880goR0y22:level%2Flevel0340.jsonR2i2280R3R4R5R881goR0y22:level%2Flevel0341.jsonR2i2643R3R4R5R882goR0y22:level%2Flevel0342.jsonR2i2211R3R4R5R883goR0y22:level%2Flevel0343.jsonR2i1913R3R4R5R884goR0y22:level%2Flevel0344.jsonR2i1932R3R4R5R885goR0y22:level%2Flevel0345.jsonR2i2089R3R4R5R886goR0y22:level%2Flevel0346.jsonR2i2013R3R4R5R887goR0y22:level%2Flevel0347.jsonR2i1892R3R4R5R888goR0y22:level%2Flevel0348.jsonR2i2116R3R4R5R889goR0y22:level%2Flevel0349.jsonR2i2222R3R4R5R890goR0y22:level%2Flevel0350.jsonR2i2295R3R4R5R891goR0y22:level%2Flevel0351.jsonR2i2204R3R4R5R892goR0y22:level%2Flevel0352.jsonR2i2250R3R4R5R893goR0y22:level%2Flevel0353.jsonR2i1885R3R4R5R894goR0y22:level%2Flevel0354.jsonR2i2238R3R4R5R895goR0y22:level%2Flevel0355.jsonR2i1974R3R4R5R896goR0y22:level%2Flevel0356.jsonR2i1911R3R4R5R897goR0y22:level%2Flevel0357.jsonR2i2342R3R4R5R898goR0y22:level%2Flevel0358.jsonR2i1996R3R4R5R899goR0y22:level%2Flevel0359.jsonR2i1990R3R4R5R900goR0y22:level%2Flevel0360.jsonR2i1992R3R4R5R901goR0y22:level%2Flevel0361.jsonR2i2168R3R4R5R902goR0y22:level%2Flevel0362.jsonR2i1382R3R4R5R903goR0y22:level%2Flevel0363.jsonR2i1704R3R4R5R904goR0y22:level%2Flevel0364.jsonR2i2470R3R4R5R905goR0y22:level%2Flevel0365.jsonR2i2050R3R4R5R906goR0y22:level%2Flevel0366.jsonR2i2042R3R4R5R907goR0y22:level%2Flevel0367.jsonR2i2122R3R4R5R908goR0y22:level%2Flevel0368.jsonR2i2326R3R4R5R909goR0y22:level%2Flevel0369.jsonR2i2233R3R4R5R910goR0y22:level%2Flevel0370.jsonR2i1890R3R4R5R911goR0y22:level%2Flevel0371.jsonR2i1909R3R4R5R912goR0y22:level%2Flevel0372.jsonR2i2487R3R4R5R913goR0y22:level%2Flevel0373.jsonR2i1921R3R4R5R914goR0y22:level%2Flevel0374.jsonR2i2238R3R4R5R915goR0y22:level%2Flevel0375.jsonR2i1858R3R4R5R916goR0y22:level%2Flevel0376.jsonR2i1689R3R4R5R917goR0y22:level%2Flevel0377.jsonR2i1311R3R4R5R918goR0y22:level%2Flevel0378.jsonR2i1868R3R4R5R919goR0y22:level%2Flevel0379.jsonR2i2060R3R4R5R920goR0y22:level%2Flevel0380.jsonR2i2102R3R4R5R921goR0y22:level%2Flevel0381.jsonR2i2163R3R4R5R922goR0y22:level%2Flevel0382.jsonR2i1759R3R4R5R923goR0y22:level%2Flevel0383.jsonR2i1840R3R4R5R924goR0y22:level%2Flevel0384.jsonR2i2764R3R4R5R925goR0y22:level%2Flevel0385.jsonR2i1925R3R4R5R926goR0y22:level%2Flevel0386.jsonR2i1962R3R4R5R927goR0y22:level%2Flevel0387.jsonR2i2037R3R4R5R928goR0y22:level%2Flevel0388.jsonR2i1926R3R4R5R929goR0y22:level%2Flevel0389.jsonR2i2710R3R4R5R930goR0y22:level%2Flevel0390.jsonR2i1929R3R4R5R931goR0y22:level%2Flevel0391.jsonR2i2328R3R4R5R932goR0y22:level%2Flevel0392.jsonR2i2138R3R4R5R933goR0y22:level%2Flevel0393.jsonR2i1993R3R4R5R934goR0y22:level%2Flevel0394.jsonR2i2322R3R4R5R935goR0y22:level%2Flevel0395.jsonR2i2020R3R4R5R936goR0y22:level%2Flevel0396.jsonR2i2025R3R4R5R937goR0y22:level%2Flevel0397.jsonR2i1809R3R4R5R938goR0y22:level%2Flevel0398.jsonR2i1728R3R4R5R939goR0y22:level%2Flevel0399.jsonR2i1959R3R4R5R940goR0y22:level%2Flevel0400.jsonR2i2325R3R4R5R941goR0y22:level%2Flevel0401.jsonR2i2567R3R4R5R942goR0y22:level%2Flevel0402.jsonR2i2633R3R4R5R943goR0y22:level%2Flevel0403.jsonR2i1788R3R4R5R944goR0y22:level%2Flevel0404.jsonR2i2289R3R4R5R945goR0y22:level%2Flevel0405.jsonR2i2924R3R4R5R946goR0y22:level%2Flevel0406.jsonR2i2552R3R4R5R947goR0y22:level%2Flevel0407.jsonR2i2323R3R4R5R948goR0y22:level%2Flevel0408.jsonR2i2372R3R4R5R949goR0y22:level%2Flevel0409.jsonR2i2676R3R4R5R950goR0y22:level%2Flevel0410.jsonR2i2333R3R4R5R951goR0y22:level%2Flevel0411.jsonR2i2474R3R4R5R952goR0y22:level%2Flevel0412.jsonR2i2066R3R4R5R953goR0y22:level%2Flevel0413.jsonR2i2534R3R4R5R954goR0y22:level%2Flevel0414.jsonR2i2792R3R4R5R955goR0y22:level%2Flevel0415.jsonR2i2336R3R4R5R956goR0y22:level%2Flevel0416.jsonR2i3374R3R4R5R957goR0y22:level%2Flevel0417.jsonR2i3027R3R4R5R958goR0y22:level%2Flevel0418.jsonR2i2252R3R4R5R959goR0y22:level%2Flevel0419.jsonR2i2557R3R4R5R960goR0y22:level%2Flevel0420.jsonR2i2288R3R4R5R961goR0y22:level%2Flevel0421.jsonR2i2538R3R4R5R962goR0y22:level%2Flevel0422.jsonR2i3128R3R4R5R963goR0y22:level%2Flevel0423.jsonR2i2045R3R4R5R964goR0y22:level%2Flevel0424.jsonR2i2576R3R4R5R965goR0y22:level%2Flevel0425.jsonR2i1978R3R4R5R966goR0y22:level%2Flevel0426.jsonR2i1597R3R4R5R967goR0y22:level%2Flevel0427.jsonR2i2763R3R4R5R968goR0y22:level%2Flevel0428.jsonR2i2940R3R4R5R969goR0y22:level%2Flevel0429.jsonR2i2295R3R4R5R970goR0y22:level%2Flevel0430.jsonR2i2136R3R4R5R971goR0y22:level%2Flevel0431.jsonR2i2600R3R4R5R972goR0y22:level%2Flevel0432.jsonR2i3279R3R4R5R973goR0y22:level%2Flevel0433.jsonR2i2427R3R4R5R974goR0y22:level%2Flevel0434.jsonR2i2659R3R4R5R975goR0y22:level%2Flevel0435.jsonR2i2111R3R4R5R976goR0y22:level%2Flevel0436.jsonR2i2427R3R4R5R977goR0y22:level%2Flevel0437.jsonR2i2979R3R4R5R978goR0y22:level%2Flevel0438.jsonR2i2581R3R4R5R979goR0y22:level%2Flevel0439.jsonR2i2635R3R4R5R980goR0y22:level%2Flevel0440.jsonR2i2389R3R4R5R981goR0y22:level%2Flevel0441.jsonR2i1990R3R4R5R982goR0y22:level%2Flevel0442.jsonR2i2335R3R4R5R983goR0y22:level%2Flevel0443.jsonR2i2189R3R4R5R984goR0y22:level%2Flevel0444.jsonR2i2592R3R4R5R985goR0y22:level%2Flevel0445.jsonR2i2216R3R4R5R986goR0y22:level%2Flevel0446.jsonR2i2327R3R4R5R987goR0y22:level%2Flevel0447.jsonR2i3031R3R4R5R988goR0y22:level%2Flevel0448.jsonR2i2596R3R4R5R989goR0y22:level%2Flevel0449.jsonR2i2819R3R4R5R990goR0y22:level%2Flevel0450.jsonR2i2297R3R4R5R991goR0y22:level%2Flevel0451.jsonR2i2558R3R4R5R992goR0y22:level%2Flevel0452.jsonR2i2049R3R4R5R993goR0y22:level%2Flevel0453.jsonR2i2229R3R4R5R994goR0y22:level%2Flevel0454.jsonR2i1772R3R4R5R995goR0y22:level%2Flevel0455.jsonR2i1851R3R4R5R996goR0y22:level%2Flevel0456.jsonR2i1568R3R4R5R997goR0y22:level%2Flevel0457.jsonR2i2266R3R4R5R998goR0y22:level%2Flevel0458.jsonR2i1714R3R4R5R999goR0y22:level%2Flevel0459.jsonR2i2055R3R4R5R1000goR0y22:level%2Flevel0460.jsonR2i1918R3R4R5R1001goR0y22:level%2Flevel0461.jsonR2i1331R3R4R5R1002goR0y22:level%2Flevel0462.jsonR2i2128R3R4R5R1003goR0y22:level%2Flevel0463.jsonR2i1566R3R4R5R1004goR0y22:level%2Flevel0464.jsonR2i2306R3R4R5R1005goR0y22:level%2Flevel0465.jsonR2i2158R3R4R5R1006goR0y22:level%2Flevel0466.jsonR2i2166R3R4R5R1007goR0y22:level%2Flevel0467.jsonR2i2077R3R4R5R1008goR0y22:level%2Flevel0468.jsonR2i1918R3R4R5R1009goR0y22:level%2Flevel0469.jsonR2i1744R3R4R5R1010goR0y22:level%2Flevel0470.jsonR2i1760R3R4R5R1011goR0y22:level%2Flevel0471.jsonR2i2408R3R4R5R1012goR0y22:level%2Flevel0472.jsonR2i1962R3R4R5R1013goR0y22:level%2Flevel0473.jsonR2i1844R3R4R5R1014goR0y22:level%2Flevel0474.jsonR2i1619R3R4R5R1015goR0y22:level%2Flevel0475.jsonR2i1810R3R4R5R1016goR0y22:level%2Flevel0476.jsonR2i1467R3R4R5R1017goR0y22:level%2Flevel0477.jsonR2i2041R3R4R5R1018goR0y22:level%2Flevel0478.jsonR2i1862R3R4R5R1019goR0y22:level%2Flevel0479.jsonR2i1923R3R4R5R1020goR0y22:level%2Flevel0480.jsonR2i1996R3R4R5R1021goR0y22:level%2Flevel0481.jsonR2i1815R3R4R5R1022goR0y22:level%2Flevel0482.jsonR2i2013R3R4R5R1023goR0y22:level%2Flevel0483.jsonR2i1871R3R4R5R1024goR0y22:level%2Flevel0484.jsonR2i2156R3R4R5R1025goR0y22:level%2Flevel0485.jsonR2i1959R3R4R5R1026goR0y22:level%2Flevel0486.jsonR2i2151R3R4R5R1027goR0y22:level%2Flevel0487.jsonR2i1929R3R4R5R1028goR0y22:level%2Flevel0488.jsonR2i2079R3R4R5R1029goR0y22:level%2Flevel0489.jsonR2i2385R3R4R5R1030goR0y22:level%2Flevel0490.jsonR2i1649R3R4R5R1031goR0y22:level%2Flevel0491.jsonR2i2183R3R4R5R1032goR0y22:level%2Flevel0492.jsonR2i2065R3R4R5R1033goR0y22:level%2Flevel0493.jsonR2i2672R3R4R5R1034goR0y22:level%2Flevel0494.jsonR2i2035R3R4R5R1035goR0y22:level%2Flevel0495.jsonR2i1832R3R4R5R1036goR0y22:level%2Flevel0496.jsonR2i2075R3R4R5R1037goR0y22:level%2Flevel0497.jsonR2i2046R3R4R5R1038goR0y22:level%2Flevel0498.jsonR2i2128R3R4R5R1039goR0y22:level%2Flevel0499.jsonR2i2437R3R4R5R1040goR0y22:level%2Flevel0500.jsonR2i2114R3R4R5R1041goR0y22:level%2Flevel0501.jsonR2i2446R3R4R5R1042goR0y22:level%2Flevel0502.jsonR2i2531R3R4R5R1043goR0y22:level%2Flevel0503.jsonR2i2923R3R4R5R1044goR0y22:level%2Flevel0504.jsonR2i1989R3R4R5R1045goR0y22:level%2Flevel0505.jsonR2i2327R3R4R5R1046goR0y22:level%2Flevel0506.jsonR2i2371R3R4R5R1047goR0y22:level%2Flevel0507.jsonR2i2573R3R4R5R1048goR0y22:level%2Flevel0508.jsonR2i2662R3R4R5R1049goR0y22:level%2Flevel0509.jsonR2i3426R3R4R5R1050goR0y22:level%2Flevel0510.jsonR2i2348R3R4R5R1051goR0y22:level%2Flevel0511.jsonR2i2570R3R4R5R1052goR0y22:level%2Flevel0512.jsonR2i2452R3R4R5R1053goR0y22:level%2Flevel0513.jsonR2i2875R3R4R5R1054goR0y22:level%2Flevel0514.jsonR2i2706R3R4R5R1055goR0y22:level%2Flevel0515.jsonR2i2402R3R4R5R1056goR0y22:level%2Flevel0516.jsonR2i2513R3R4R5R1057goR0y22:level%2Flevel0517.jsonR2i3083R3R4R5R1058goR0y22:level%2Flevel0518.jsonR2i2873R3R4R5R1059goR0y22:level%2Flevel0519.jsonR2i2295R3R4R5R1060goR0y22:level%2Flevel0520.jsonR2i2514R3R4R5R1061goR0y22:level%2Flevel0521.jsonR2i2492R3R4R5R1062goR0y22:level%2Flevel0522.jsonR2i2427R3R4R5R1063goR0y22:level%2Flevel0523.jsonR2i1872R3R4R5R1064goR0y22:level%2Flevel0524.jsonR2i2003R3R4R5R1065goR0y22:level%2Flevel0525.jsonR2i1208R3R4R5R1066goR0y22:level%2Flevel0526.jsonR2i1425R3R4R5R1067goR0y22:level%2Flevel0527.jsonR2i1666R3R4R5R1068goR0y22:level%2Flevel0528.jsonR2i1681R3R4R5R1069goR0y22:level%2Flevel0529.jsonR2i1758R3R4R5R1070goR0y22:level%2Flevel0530.jsonR2i1590R3R4R5R1071goR0y22:level%2Flevel0531.jsonR2i1394R3R4R5R1072goR0y22:level%2Flevel0532.jsonR2i1770R3R4R5R1073goR0y22:level%2Flevel0533.jsonR2i1159R3R4R5R1074goR0y22:level%2Flevel0534.jsonR2i1915R3R4R5R1075goR0y22:level%2Flevel0535.jsonR2i1553R3R4R5R1076goR0y22:level%2Flevel0536.jsonR2i1482R3R4R5R1077goR0y22:level%2Flevel0537.jsonR2i2013R3R4R5R1078goR0y22:level%2Flevel0538.jsonR2i1736R3R4R5R1079goR0y22:level%2Flevel0539.jsonR2i1507R3R4R5R1080goR0y22:level%2Flevel0540.jsonR2i1647R3R4R5R1081goR0y22:level%2Flevel0541.jsonR2i1402R3R4R5R1082goR0y22:level%2Flevel0542.jsonR2i1176R3R4R5R1083goR0y22:level%2Flevel0543.jsonR2i1202R3R4R5R1084goR0y22:level%2Flevel0544.jsonR2i1694R3R4R5R1085goR0y22:level%2Flevel0545.jsonR2i1612R3R4R5R1086goR0y22:level%2Flevel0546.jsonR2i1657R3R4R5R1087goR0y22:level%2Flevel0547.jsonR2i1163R3R4R5R1088goR0y22:level%2Flevel0548.jsonR2i1273R3R4R5R1089goR0y22:level%2Flevel0549.jsonR2i1378R3R4R5R1090goR0y22:level%2Flevel0550.jsonR2i2760R3R4R5R1091goR0y22:level%2Flevel0551.jsonR2i1627R3R4R5R1092goR0y22:level%2Flevel0552.jsonR2i1761R3R4R5R1093goR0y22:level%2Flevel0553.jsonR2i1706R3R4R5R1094goR0y22:level%2Flevel0554.jsonR2i1770R3R4R5R1095goR0y22:level%2Flevel0555.jsonR2i1704R3R4R5R1096goR0y22:level%2Flevel0556.jsonR2i1919R3R4R5R1097goR0y22:level%2Flevel0557.jsonR2i1739R3R4R5R1098goR0y22:level%2Flevel0558.jsonR2i1910R3R4R5R1099goR0y22:level%2Flevel0559.jsonR2i1522R3R4R5R1100goR0y22:level%2Flevel0560.jsonR2i2094R3R4R5R1101goR0y22:level%2Flevel0561.jsonR2i1748R3R4R5R1102goR0y22:level%2Flevel0562.jsonR2i2146R3R4R5R1103goR0y22:level%2Flevel0563.jsonR2i2115R3R4R5R1104goR0y22:level%2Flevel0564.jsonR2i2130R3R4R5R1105goR0y22:level%2Flevel0565.jsonR2i1943R3R4R5R1106goR0y22:level%2Flevel0566.jsonR2i1900R3R4R5R1107goR0y22:level%2Flevel0567.jsonR2i1761R3R4R5R1108goR0y22:level%2Flevel0568.jsonR2i1949R3R4R5R1109goR0y22:level%2Flevel0569.jsonR2i2191R3R4R5R1110goR0y22:level%2Flevel0570.jsonR2i2180R3R4R5R1111goR0y22:level%2Flevel0571.jsonR2i1972R3R4R5R1112goR0y22:level%2Flevel0572.jsonR2i1850R3R4R5R1113goR0y22:level%2Flevel0573.jsonR2i2189R3R4R5R1114goR0y22:level%2Flevel0574.jsonR2i2299R3R4R5R1115goR0y22:level%2Flevel0575.jsonR2i2070R3R4R5R1116goR0y22:level%2Flevel0576.jsonR2i1724R3R4R5R1117goR0y22:level%2Flevel0577.jsonR2i1531R3R4R5R1118goR0y22:level%2Flevel0578.jsonR2i1683R3R4R5R1119goR0y22:level%2Flevel0579.jsonR2i1700R3R4R5R1120goR0y22:level%2Flevel0580.jsonR2i2186R3R4R5R1121goR0y22:level%2Flevel0581.jsonR2i1907R3R4R5R1122goR0y22:level%2Flevel0582.jsonR2i1988R3R4R5R1123goR0y22:level%2Flevel0583.jsonR2i1834R3R4R5R1124goR0y22:level%2Flevel0584.jsonR2i2200R3R4R5R1125goR0y22:level%2Flevel0585.jsonR2i1762R3R4R5R1126goR0y22:level%2Flevel0586.jsonR2i2081R3R4R5R1127goR0y22:level%2Flevel0587.jsonR2i1421R3R4R5R1128goR0y22:level%2Flevel0588.jsonR2i1828R3R4R5R1129goR0y22:level%2Flevel0589.jsonR2i1729R3R4R5R1130goR0y22:level%2Flevel0590.jsonR2i2108R3R4R5R1131goR0y22:level%2Flevel0591.jsonR2i2024R3R4R5R1132goR0y22:level%2Flevel0592.jsonR2i1835R3R4R5R1133goR0y22:level%2Flevel0593.jsonR2i1848R3R4R5R1134goR0y22:level%2Flevel0594.jsonR2i2000R3R4R5R1135goR0y22:level%2Flevel0595.jsonR2i1650R3R4R5R1136goR0y22:level%2Flevel0596.jsonR2i2371R3R4R5R1137goR0y22:level%2Flevel0597.jsonR2i1433R3R4R5R1138goR0y22:level%2Flevel0598.jsonR2i1809R3R4R5R1139goR0y22:level%2Flevel0599.jsonR2i1807R3R4R5R1140goR0y22:level%2Flevel0600.jsonR2i1887R3R4R5R1141goR0y22:level%2Flevel0601.jsonR2i2172R3R4R5R1142goR0y22:level%2Flevel0602.jsonR2i1914R3R4R5R1143goR0y22:level%2Flevel0603.jsonR2i1946R3R4R5R1144goR0y22:level%2Flevel0604.jsonR2i1925R3R4R5R1145goR0y22:level%2Flevel0605.jsonR2i1696R3R4R5R1146goR0y22:level%2Flevel0606.jsonR2i1885R3R4R5R1147goR0y22:level%2Flevel0607.jsonR2i2076R3R4R5R1148goR0y22:level%2Flevel0608.jsonR2i1735R3R4R5R1149goR0y22:level%2Flevel0609.jsonR2i2228R3R4R5R1150goR0y22:level%2Flevel0610.jsonR2i2036R3R4R5R1151goR0y22:level%2Flevel0611.jsonR2i1925R3R4R5R1152goR0y22:level%2Flevel0612.jsonR2i1700R3R4R5R1153goR0y22:level%2Flevel0613.jsonR2i1905R3R4R5R1154goR0y22:level%2Flevel0614.jsonR2i2007R3R4R5R1155goR0y22:level%2Flevel0615.jsonR2i1818R3R4R5R1156goR0y22:level%2Flevel0616.jsonR2i1915R3R4R5R1157goR0y22:level%2Flevel0617.jsonR2i2167R3R4R5R1158goR0y22:level%2Flevel0618.jsonR2i1755R3R4R5R1159goR0y22:level%2Flevel0619.jsonR2i1804R3R4R5R1160goR0y22:level%2Flevel0620.jsonR2i1762R3R4R5R1161goR0y22:level%2Flevel0621.jsonR2i1594R3R4R5R1162goR0y22:level%2Flevel0622.jsonR2i2699R3R4R5R1163goR0y22:level%2Flevel0623.jsonR2i2006R3R4R5R1164goR0y22:level%2Flevel0624.jsonR2i1419R3R4R5R1165goR0y22:level%2Flevel0625.jsonR2i2504R3R4R5R1166goR0y22:level%2Flevel0626.jsonR2i1948R3R4R5R1167goR0y22:level%2Flevel0627.jsonR2i1625R3R4R5R1168goR0y22:level%2Flevel0628.jsonR2i1920R3R4R5R1169goR0y22:level%2Flevel0629.jsonR2i1655R3R4R5R1170goR0y22:level%2Flevel0630.jsonR2i2161R3R4R5R1171goR0y22:level%2Flevel0631.jsonR2i2014R3R4R5R1172goR0y22:level%2Flevel0632.jsonR2i2233R3R4R5R1173goR0y22:level%2Flevel0633.jsonR2i2254R3R4R5R1174goR0y22:level%2Flevel0634.jsonR2i1982R3R4R5R1175goR0y22:level%2Flevel0635.jsonR2i2093R3R4R5R1176goR0y22:level%2Flevel0636.jsonR2i2196R3R4R5R1177goR0y22:level%2Flevel0637.jsonR2i2128R3R4R5R1178goR0y22:level%2Flevel0638.jsonR2i2045R3R4R5R1179goR0y22:level%2Flevel0639.jsonR2i1998R3R4R5R1180goR0y22:level%2Flevel0640.jsonR2i1813R3R4R5R1181goR0y22:level%2Flevel0641.jsonR2i2107R3R4R5R1182goR0y22:level%2Flevel0642.jsonR2i1732R3R4R5R1183goR0y22:level%2Flevel0643.jsonR2i2558R3R4R5R1184goR0y22:level%2Flevel0644.jsonR2i1830R3R4R5R1185goR0y22:level%2Flevel0645.jsonR2i2023R3R4R5R1186goR0y22:level%2Flevel0646.jsonR2i1974R3R4R5R1187goR0y22:level%2Flevel0647.jsonR2i2260R3R4R5R1188goR0y22:level%2Flevel0648.jsonR2i2297R3R4R5R1189goR0y22:level%2Flevel0649.jsonR2i2320R3R4R5R1190goR0y22:level%2Flevel0650.jsonR2i2212R3R4R5R1191goR0y22:level%2Flevel0651.jsonR2i1998R3R4R5R1192goR0y22:level%2Flevel0652.jsonR2i2154R3R4R5R1193goR0y22:level%2Flevel0653.jsonR2i2199R3R4R5R1194goR0y22:level%2Flevel0654.jsonR2i2027R3R4R5R1195goR0y22:level%2Flevel0655.jsonR2i2054R3R4R5R1196goR0y22:level%2Flevel0656.jsonR2i2049R3R4R5R1197goR0y22:level%2Flevel0657.jsonR2i2277R3R4R5R1198goR0y22:level%2Flevel0658.jsonR2i2497R3R4R5R1199goR0y22:level%2Flevel0659.jsonR2i1933R3R4R5R1200goR0y22:level%2Flevel0660.jsonR2i2232R3R4R5R1201goR0y22:level%2Flevel0661.jsonR2i2157R3R4R5R1202goR0y22:level%2Flevel0662.jsonR2i2044R3R4R5R1203goR0y22:level%2Flevel0663.jsonR2i2021R3R4R5R1204goR0y22:level%2Flevel0664.jsonR2i2134R3R4R5R1205goR0y22:level%2Flevel0665.jsonR2i2017R3R4R5R1206goR0y22:level%2Flevel0666.jsonR2i2050R3R4R5R1207goR0y22:level%2Flevel0667.jsonR2i1929R3R4R5R1208goR0y22:level%2Flevel0668.jsonR2i2143R3R4R5R1209goR0y22:level%2Flevel0669.jsonR2i2216R3R4R5R1210goR0y22:level%2Flevel0670.jsonR2i2379R3R4R5R1211goR0y22:level%2Flevel0671.jsonR2i2452R3R4R5R1212goR0y22:level%2Flevel0672.jsonR2i2507R3R4R5R1213goR0y22:level%2Flevel0673.jsonR2i2294R3R4R5R1214goR0y22:level%2Flevel0674.jsonR2i2385R3R4R5R1215goR0y22:level%2Flevel0675.jsonR2i2311R3R4R5R1216goR0y22:level%2Flevel0676.jsonR2i2227R3R4R5R1217goR0y22:level%2Flevel0677.jsonR2i2051R3R4R5R1218goR0y22:level%2Flevel0678.jsonR2i2608R3R4R5R1219goR0y22:level%2Flevel0679.jsonR2i2505R3R4R5R1220goR0y22:level%2Flevel0680.jsonR2i2531R3R4R5R1221goR0y22:level%2Flevel0681.jsonR2i2413R3R4R5R1222goR0y22:level%2Flevel0682.jsonR2i1848R3R4R5R1223goR0y22:level%2Flevel0683.jsonR2i2164R3R4R5R1224goR0y22:level%2Flevel0684.jsonR2i2279R3R4R5R1225goR0y22:level%2Flevel0685.jsonR2i2257R3R4R5R1226goR0y22:level%2Flevel0686.jsonR2i2258R3R4R5R1227goR0y22:level%2Flevel0687.jsonR2i2314R3R4R5R1228goR0y22:level%2Flevel0688.jsonR2i1553R3R4R5R1229goR0y22:level%2Flevel0689.jsonR2i1787R3R4R5R1230goR0y22:level%2Flevel0690.jsonR2i2072R3R4R5R1231goR0y22:level%2Flevel0691.jsonR2i1917R3R4R5R1232goR0y22:level%2Flevel0692.jsonR2i2021R3R4R5R1233goR0y22:level%2Flevel0693.jsonR2i2100R3R4R5R1234goR0y22:level%2Flevel0694.jsonR2i1943R3R4R5R1235goR0y22:level%2Flevel0695.jsonR2i2110R3R4R5R1236goR0y22:level%2Flevel0696.jsonR2i2078R3R4R5R1237goR0y22:level%2Flevel0697.jsonR2i1862R3R4R5R1238goR0y22:level%2Flevel0698.jsonR2i1863R3R4R5R1239goR0y22:level%2Flevel0699.jsonR2i2058R3R4R5R1240goR0y22:level%2Flevel0700.jsonR2i2412R3R4R5R1241goR0y22:level%2Flevel0701.jsonR2i2216R3R4R5R1242goR0y22:level%2Flevel0702.jsonR2i1880R3R4R5R1243goR0y22:level%2Flevel0703.jsonR2i2041R3R4R5R1244goR0y22:level%2Flevel0704.jsonR2i2368R3R4R5R1245goR0y22:level%2Flevel0705.jsonR2i1917R3R4R5R1246goR0y22:level%2Flevel0706.jsonR2i1751R3R4R5R1247goR0y22:level%2Flevel0707.jsonR2i2072R3R4R5R1248goR0y22:level%2Flevel0708.jsonR2i2531R3R4R5R1249goR0y22:level%2Flevel0709.jsonR2i1944R3R4R5R1250goR0y22:level%2Flevel0710.jsonR2i2996R3R4R5R1251goR0y22:level%2Flevel0711.jsonR2i1793R3R4R5R1252goR0y22:level%2Flevel0712.jsonR2i2228R3R4R5R1253goR0y22:level%2Flevel0713.jsonR2i2259R3R4R5R1254goR0y22:level%2Flevel0714.jsonR2i2429R3R4R5R1255goR0y22:level%2Flevel0715.jsonR2i2597R3R4R5R1256goR0y22:level%2Flevel0716.jsonR2i2217R3R4R5R1257goR0y22:level%2Flevel0717.jsonR2i2062R3R4R5R1258goR0y22:level%2Flevel0718.jsonR2i2098R3R4R5R1259goR0y22:level%2Flevel0719.jsonR2i2529R3R4R5R1260goR0y22:level%2Flevel0720.jsonR2i2219R3R4R5R1261goR0y22:level%2Flevel0721.jsonR2i2065R3R4R5R1262goR0y22:level%2Flevel0722.jsonR2i2120R3R4R5R1263goR0y22:level%2Flevel0723.jsonR2i2543R3R4R5R1264goR0y22:level%2Flevel0724.jsonR2i1826R3R4R5R1265goR0y22:level%2Flevel0725.jsonR2i2011R3R4R5R1266goR0y22:level%2Flevel0726.jsonR2i2378R3R4R5R1267goR0y22:level%2Flevel0727.jsonR2i2539R3R4R5R1268goR0y22:level%2Flevel0728.jsonR2i2104R3R4R5R1269goR0y22:level%2Flevel0729.jsonR2i2098R3R4R5R1270goR0y22:level%2Flevel0730.jsonR2i2104R3R4R5R1271goR0y22:level%2Flevel0731.jsonR2i1932R3R4R5R1272goR0y22:level%2Flevel0732.jsonR2i2086R3R4R5R1273goR0y22:level%2Flevel0733.jsonR2i2250R3R4R5R1274goR0y22:level%2Flevel0734.jsonR2i2069R3R4R5R1275goR0y22:level%2Flevel0735.jsonR2i2201R3R4R5R1276goR0y22:level%2Flevel0736.jsonR2i2605R3R4R5R1277goR0y22:level%2Flevel0737.jsonR2i2133R3R4R5R1278goR0y22:level%2Flevel0738.jsonR2i2449R3R4R5R1279goR0y22:level%2Flevel0739.jsonR2i2312R3R4R5R1280goR0y22:level%2Flevel0740.jsonR2i2306R3R4R5R1281goR0y22:level%2Flevel0741.jsonR2i1943R3R4R5R1282goR0y22:level%2Flevel0742.jsonR2i2342R3R4R5R1283goR0y22:level%2Flevel0743.jsonR2i2355R3R4R5R1284goR0y22:level%2Flevel0744.jsonR2i2253R3R4R5R1285goR0y22:level%2Flevel0745.jsonR2i1966R3R4R5R1286goR0y22:level%2Flevel0746.jsonR2i2293R3R4R5R1287goR0y22:level%2Flevel0747.jsonR2i2045R3R4R5R1288goR0y22:level%2Flevel0748.jsonR2i1870R3R4R5R1289goR0y22:level%2Flevel0749.jsonR2i2091R3R4R5R1290goR0y22:level%2Flevel0750.jsonR2i1796R3R4R5R1291goR0y22:level%2Flevel0751.jsonR2i2609R3R4R5R1292goR0y22:level%2Flevel0752.jsonR2i2310R3R4R5R1293goR0y22:level%2Flevel0753.jsonR2i1847R3R4R5R1294goR0y22:level%2Flevel0754.jsonR2i2059R3R4R5R1295goR0y22:level%2Flevel0755.jsonR2i1919R3R4R5R1296goR0y22:level%2Flevel0756.jsonR2i2679R3R4R5R1297goR0y22:level%2Flevel0757.jsonR2i1781R3R4R5R1298goR0y22:level%2Flevel0758.jsonR2i3161R3R4R5R1299goR0y22:level%2Flevel0759.jsonR2i2544R3R4R5R1300goR0y22:level%2Flevel0760.jsonR2i3013R3R4R5R1301goR0y22:level%2Flevel0761.jsonR2i2590R3R4R5R1302goR0y22:level%2Flevel0762.jsonR2i2807R3R4R5R1303goR0y22:level%2Flevel0763.jsonR2i5399R3R4R5R1304goR0y22:level%2Flevel0764.jsonR2i3018R3R4R5R1305goR0y22:level%2Flevel0765.jsonR2i2073R3R4R5R1306goR0y22:level%2Flevel0766.jsonR2i1379R3R4R5R1307goR0y22:level%2Flevel0767.jsonR2i4645R3R4R5R1308goR0y22:level%2Flevel0768.jsonR2i3163R3R4R5R1309goR0y22:level%2Flevel0769.jsonR2i3613R3R4R5R1310goR0y22:level%2Flevel0770.jsonR2i3363R3R4R5R1311goR0y22:level%2Flevel0771.jsonR2i2111R3R4R5R1312goR0y22:level%2Flevel0772.jsonR2i2088R3R4R5R1313goR0y22:level%2Flevel0773.jsonR2i2356R3R4R5R1314goR0y22:level%2Flevel0774.jsonR2i2381R3R4R5R1315goR0y22:level%2Flevel0775.jsonR2i2300R3R4R5R1316goR0y22:level%2Flevel0776.jsonR2i1968R3R4R5R1317goR0y22:level%2Flevel0777.jsonR2i2210R3R4R5R1318goR0y22:level%2Flevel0778.jsonR2i2620R3R4R5R1319goR0y22:level%2Flevel0779.jsonR2i2477R3R4R5R1320goR0y22:level%2Flevel0780.jsonR2i2195R3R4R5R1321goR0y22:level%2Flevel0781.jsonR2i2359R3R4R5R1322goR0y22:level%2Flevel0782.jsonR2i2225R3R4R5R1323goR0y22:level%2Flevel0783.jsonR2i2040R3R4R5R1324goR0y22:level%2Flevel0784.jsonR2i2529R3R4R5R1325goR0y22:level%2Flevel0785.jsonR2i2243R3R4R5R1326goR0y22:level%2Flevel0786.jsonR2i1975R3R4R5R1327goR0y22:level%2Flevel0787.jsonR2i1808R3R4R5R1328goR0y22:level%2Flevel0788.jsonR2i2331R3R4R5R1329goR0y22:level%2Flevel0789.jsonR2i2080R3R4R5R1330goR0y22:level%2Flevel0790.jsonR2i2196R3R4R5R1331goR0y22:level%2Flevel0791.jsonR2i1906R3R4R5R1332goR0y22:level%2Flevel0792.jsonR2i2037R3R4R5R1333goR0y22:level%2Flevel0793.jsonR2i1855R3R4R5R1334goR0y22:level%2Flevel0794.jsonR2i2186R3R4R5R1335goR0y22:level%2Flevel0795.jsonR2i2285R3R4R5R1336goR0y22:level%2Flevel0796.jsonR2i2355R3R4R5R1337goR0y22:level%2Flevel0797.jsonR2i2248R3R4R5R1338goR0y22:level%2Flevel0798.jsonR2i2131R3R4R5R1339goR0y22:level%2Flevel0799.jsonR2i1932R3R4R5R1340goR0y22:level%2Flevel0800.jsonR2i2456R3R4R5R1341goR0y22:level%2Flevel0801.jsonR2i2438R3R4R5R1342goR0y22:level%2Flevel0802.jsonR2i2389R3R4R5R1343goR0y22:level%2Flevel0803.jsonR2i2266R3R4R5R1344goR0y22:level%2Flevel0804.jsonR2i2243R3R4R5R1345goR0y22:level%2Flevel0805.jsonR2i2143R3R4R5R1346goR0y22:level%2Flevel0806.jsonR2i2302R3R4R5R1347goR0y22:level%2Flevel0807.jsonR2i1923R3R4R5R1348goR0y22:level%2Flevel0808.jsonR2i2440R3R4R5R1349goR0y22:level%2Flevel0809.jsonR2i2742R3R4R5R1350goR0y22:level%2Flevel0810.jsonR2i2812R3R4R5R1351goR0y22:level%2Flevel0811.jsonR2i2315R3R4R5R1352goR0y22:level%2Flevel0812.jsonR2i2001R3R4R5R1353goR0y22:level%2Flevel0813.jsonR2i2203R3R4R5R1354goR0y22:level%2Flevel0814.jsonR2i2244R3R4R5R1355goR0y22:level%2Flevel0815.jsonR2i1754R3R4R5R1356goR0y22:level%2Flevel0816.jsonR2i2389R3R4R5R1357goR0y22:level%2Flevel0817.jsonR2i2046R3R4R5R1358goR0y22:level%2Flevel0818.jsonR2i2621R3R4R5R1359goR0y22:level%2Flevel0819.jsonR2i2179R3R4R5R1360goR0y22:level%2Flevel0820.jsonR2i2510R3R4R5R1361goR0y22:level%2Flevel0821.jsonR2i2163R3R4R5R1362goR0y22:level%2Flevel0822.jsonR2i1986R3R4R5R1363goR0y22:level%2Flevel0823.jsonR2i2580R3R4R5R1364goR0y22:level%2Flevel0824.jsonR2i2293R3R4R5R1365goR0y22:level%2Flevel0825.jsonR2i2244R3R4R5R1366goR0y22:level%2Flevel0826.jsonR2i2242R3R4R5R1367goR0y22:level%2Flevel0827.jsonR2i2341R3R4R5R1368goR0y22:level%2Flevel0828.jsonR2i2441R3R4R5R1369goR0y22:level%2Flevel0829.jsonR2i2036R3R4R5R1370goR0y22:level%2Flevel0830.jsonR2i2295R3R4R5R1371goR0y22:level%2Flevel0831.jsonR2i1994R3R4R5R1372goR0y22:level%2Flevel0832.jsonR2i2280R3R4R5R1373goR0y22:level%2Flevel0833.jsonR2i1900R3R4R5R1374goR0y22:level%2Flevel0834.jsonR2i2242R3R4R5R1375goR0y22:level%2Flevel0835.jsonR2i2163R3R4R5R1376goR0y22:level%2Flevel0836.jsonR2i2069R3R4R5R1377goR0y22:level%2Flevel0837.jsonR2i2375R3R4R5R1378goR0y22:level%2Flevel0838.jsonR2i1834R3R4R5R1379goR0y22:level%2Flevel0839.jsonR2i2271R3R4R5R1380goR0y22:level%2Flevel0840.jsonR2i1868R3R4R5R1381goR0y22:level%2Flevel0841.jsonR2i2041R3R4R5R1382goR0y22:level%2Flevel0842.jsonR2i2486R3R4R5R1383goR0y22:level%2Flevel0843.jsonR2i2274R3R4R5R1384goR0y22:level%2Flevel0844.jsonR2i2198R3R4R5R1385goR0y22:level%2Flevel0845.jsonR2i1882R3R4R5R1386goR0y22:level%2Flevel0846.jsonR2i2235R3R4R5R1387goR0y22:level%2Flevel0847.jsonR2i1996R3R4R5R1388goR0y22:level%2Flevel0848.jsonR2i2144R3R4R5R1389goR0y22:level%2Flevel0849.jsonR2i2160R3R4R5R1390goR0y22:level%2Flevel0850.jsonR2i2268R3R4R5R1391goR0y22:level%2Flevel0851.jsonR2i2353R3R4R5R1392goR0y22:level%2Flevel0852.jsonR2i2280R3R4R5R1393goR0y22:level%2Flevel0853.jsonR2i2049R3R4R5R1394goR0y22:level%2Flevel0854.jsonR2i2709R3R4R5R1395goR0y22:level%2Flevel0855.jsonR2i2364R3R4R5R1396goR0y22:level%2Flevel0856.jsonR2i3653R3R4R5R1397goR0y22:level%2Flevel0857.jsonR2i2272R3R4R5R1398goR0y22:level%2Flevel0858.jsonR2i2799R3R4R5R1399goR0y22:level%2Flevel0859.jsonR2i1715R3R4R5R1400goR0y22:level%2Flevel0860.jsonR2i1693R3R4R5R1401goR0y22:level%2Flevel0861.jsonR2i3141R3R4R5R1402goR0y22:level%2Flevel0862.jsonR2i2418R3R4R5R1403goR0y22:level%2Flevel0863.jsonR2i2501R3R4R5R1404goR0y22:level%2Flevel0864.jsonR2i1467R3R4R5R1405goR0y22:level%2Flevel0865.jsonR2i2670R3R4R5R1406goR0y22:level%2Flevel0866.jsonR2i2174R3R4R5R1407goR0y22:level%2Flevel0867.jsonR2i1758R3R4R5R1408goR0y22:level%2Flevel0868.jsonR2i2377R3R4R5R1409goR0y22:level%2Flevel0869.jsonR2i2285R3R4R5R1410goR0y22:level%2Flevel0870.jsonR2i2384R3R4R5R1411goR0y22:level%2Flevel0871.jsonR2i1896R3R4R5R1412goR0y22:level%2Flevel0872.jsonR2i2646R3R4R5R1413goR0y22:level%2Flevel0873.jsonR2i2036R3R4R5R1414goR0y22:level%2Flevel0874.jsonR2i2382R3R4R5R1415goR0y22:level%2Flevel0875.jsonR2i2409R3R4R5R1416goR0y22:level%2Flevel0876.jsonR2i2460R3R4R5R1417goR0y22:level%2Flevel0877.jsonR2i2995R3R4R5R1418goR0y22:level%2Flevel0878.jsonR2i2302R3R4R5R1419goR0y22:level%2Flevel0879.jsonR2i3125R3R4R5R1420goR0y22:level%2Flevel0880.jsonR2i3930R3R4R5R1421goR0y22:level%2Flevel0881.jsonR2i2438R3R4R5R1422goR0y22:level%2Flevel0882.jsonR2i2142R3R4R5R1423goR0y22:level%2Flevel0883.jsonR2i2273R3R4R5R1424goR0y22:level%2Flevel0884.jsonR2i2378R3R4R5R1425goR0y22:level%2Flevel0885.jsonR2i2460R3R4R5R1426goR0y22:level%2Flevel0886.jsonR2i2690R3R4R5R1427goR0y22:level%2Flevel0887.jsonR2i2544R3R4R5R1428goR0y22:level%2Flevel0888.jsonR2i2363R3R4R5R1429goR0y22:level%2Flevel0889.jsonR2i1666R3R4R5R1430goR0y22:level%2Flevel0890.jsonR2i2282R3R4R5R1431goR0y22:level%2Flevel0891.jsonR2i2301R3R4R5R1432goR0y22:level%2Flevel0892.jsonR2i2823R3R4R5R1433goR0y22:level%2Flevel0893.jsonR2i1944R3R4R5R1434goR0y22:level%2Flevel0894.jsonR2i1934R3R4R5R1435goR0y22:level%2Flevel0895.jsonR2i2255R3R4R5R1436goR0y22:level%2Flevel0896.jsonR2i2212R3R4R5R1437goR0y22:level%2Flevel0897.jsonR2i1901R3R4R5R1438goR0y22:level%2Flevel0898.jsonR2i1950R3R4R5R1439goR0y22:level%2Flevel0899.jsonR2i2582R3R4R5R1440goR0y22:level%2Flevel0900.jsonR2i3174R3R4R5R1441goR0y22:level%2Flevel0901.jsonR2i2270R3R4R5R1442goR0y22:level%2Flevel0902.jsonR2i2217R3R4R5R1443goR0y22:level%2Flevel0903.jsonR2i2355R3R4R5R1444goR0y22:level%2Flevel0904.jsonR2i2364R3R4R5R1445goR0y22:level%2Flevel0905.jsonR2i2556R3R4R5R1446goR0y22:level%2Flevel0906.jsonR2i2575R3R4R5R1447goR0y22:level%2Flevel0907.jsonR2i1870R3R4R5R1448goR0y22:level%2Flevel0908.jsonR2i2365R3R4R5R1449goR0y22:level%2Flevel0909.jsonR2i2285R3R4R5R1450goR0y22:level%2Flevel0910.jsonR2i2292R3R4R5R1451goR0y22:level%2Flevel0911.jsonR2i2183R3R4R5R1452goR0y22:level%2Flevel0912.jsonR2i2339R3R4R5R1453goR0y22:level%2Flevel0913.jsonR2i2335R3R4R5R1454goR0y22:level%2Flevel0914.jsonR2i2294R3R4R5R1455goR0y22:level%2Flevel0915.jsonR2i2340R3R4R5R1456goR0y22:level%2Flevel0916.jsonR2i2534R3R4R5R1457goR0y22:level%2Flevel0917.jsonR2i2122R3R4R5R1458goR0y22:level%2Flevel0918.jsonR2i2250R3R4R5R1459goR0y22:level%2Flevel0919.jsonR2i1952R3R4R5R1460goR0y22:level%2Flevel0920.jsonR2i2275R3R4R5R1461goR0y22:level%2Flevel0921.jsonR2i2153R3R4R5R1462goR0y22:level%2Flevel0922.jsonR2i2492R3R4R5R1463goR0y22:level%2Flevel0923.jsonR2i2170R3R4R5R1464goR0y22:level%2Flevel0924.jsonR2i1967R3R4R5R1465goR0y22:level%2Flevel0925.jsonR2i2144R3R4R5R1466goR0y22:level%2Flevel0926.jsonR2i2148R3R4R5R1467goR0y22:level%2Flevel0927.jsonR2i2348R3R4R5R1468goR0y22:level%2Flevel0928.jsonR2i2450R3R4R5R1469goR0y22:level%2Flevel0929.jsonR2i2124R3R4R5R1470goR0y22:level%2Flevel0930.jsonR2i2131R3R4R5R1471goR0y22:level%2Flevel0931.jsonR2i2537R3R4R5R1472goR0y22:level%2Flevel0932.jsonR2i2347R3R4R5R1473goR0y22:level%2Flevel0933.jsonR2i2439R3R4R5R1474goR0y22:level%2Flevel0934.jsonR2i2325R3R4R5R1475goR0y22:level%2Flevel0935.jsonR2i1968R3R4R5R1476goR0y22:level%2Flevel0936.jsonR2i2517R3R4R5R1477goR0y22:level%2Flevel0937.jsonR2i2298R3R4R5R1478goR0y22:level%2Flevel0938.jsonR2i2292R3R4R5R1479goR0y22:level%2Flevel0939.jsonR2i2987R3R4R5R1480goR0y22:level%2Flevel0940.jsonR2i2273R3R4R5R1481goR0y22:level%2Flevel0941.jsonR2i1948R3R4R5R1482goR0y22:level%2Flevel0942.jsonR2i2178R3R4R5R1483goR0y22:level%2Flevel0943.jsonR2i2208R3R4R5R1484goR0y22:level%2Flevel0944.jsonR2i2875R3R4R5R1485goR0y22:level%2Flevel0945.jsonR2i2507R3R4R5R1486goR0y22:level%2Flevel0946.jsonR2i2488R3R4R5R1487goR0y22:level%2Flevel0947.jsonR2i2456R3R4R5R1488goR0y22:level%2Flevel0948.jsonR2i2309R3R4R5R1489goR0y22:level%2Flevel0949.jsonR2i2086R3R4R5R1490goR0y22:level%2Flevel0950.jsonR2i2113R3R4R5R1491goR0y22:level%2Flevel0951.jsonR2i2053R3R4R5R1492goR0y22:level%2Flevel0952.jsonR2i2414R3R4R5R1493goR0y22:level%2Flevel0953.jsonR2i2111R3R4R5R1494goR0y22:level%2Flevel0954.jsonR2i2118R3R4R5R1495goR0y22:level%2Flevel0955.jsonR2i2524R3R4R5R1496goR0y22:level%2Flevel0956.jsonR2i2074R3R4R5R1497goR0y22:level%2Flevel0957.jsonR2i2344R3R4R5R1498goR0y22:level%2Flevel0958.jsonR2i2146R3R4R5R1499goR0y22:level%2Flevel0959.jsonR2i2414R3R4R5R1500goR0y22:level%2Flevel0960.jsonR2i1390R3R4R5R1501goR0y22:level%2Flevel0961.jsonR2i2159R3R4R5R1502goR0y22:level%2Flevel0962.jsonR2i2217R3R4R5R1503goR0y22:level%2Flevel0963.jsonR2i2149R3R4R5R1504goR0y22:level%2Flevel0964.jsonR2i2126R3R4R5R1505goR0y22:level%2Flevel0965.jsonR2i2215R3R4R5R1506goR0y22:level%2Flevel0966.jsonR2i2426R3R4R5R1507goR0y22:level%2Flevel0967.jsonR2i1965R3R4R5R1508goR0y22:level%2Flevel0968.jsonR2i2266R3R4R5R1509goR0y22:level%2Flevel0969.jsonR2i2046R3R4R5R1510goR0y22:level%2Flevel0970.jsonR2i2246R3R4R5R1511goR0y22:level%2Flevel0971.jsonR2i2169R3R4R5R1512goR0y22:level%2Flevel0972.jsonR2i2176R3R4R5R1513goR0y22:level%2Flevel0973.jsonR2i2408R3R4R5R1514goR0y22:level%2Flevel0974.jsonR2i2571R3R4R5R1515goR0y22:level%2Flevel0975.jsonR2i2325R3R4R5R1516goR0y22:level%2Flevel0976.jsonR2i2145R3R4R5R1517goR0y22:level%2Flevel0977.jsonR2i2137R3R4R5R1518goR0y22:level%2Flevel0978.jsonR2i2364R3R4R5R1519goR0y22:level%2Flevel0979.jsonR2i1963R3R4R5R1520goR0y22:level%2Flevel0980.jsonR2i2522R3R4R5R1521goR0y22:level%2Flevel0981.jsonR2i1967R3R4R5R1522goR0y22:level%2Flevel0982.jsonR2i2280R3R4R5R1523goR0y22:level%2Flevel0983.jsonR2i1948R3R4R5R1524goR0y22:level%2Flevel0984.jsonR2i2645R3R4R5R1525goR0y22:level%2Flevel0985.jsonR2i2346R3R4R5R1526goR0y22:level%2Flevel0986.jsonR2i2143R3R4R5R1527goR0y22:level%2Flevel0987.jsonR2i2468R3R4R5R1528goR0y22:level%2Flevel0988.jsonR2i2216R3R4R5R1529goR0y22:level%2Flevel0989.jsonR2i2063R3R4R5R1530goR0y22:level%2Flevel0990.jsonR2i1782R3R4R5R1531goR0y22:level%2Flevel0991.jsonR2i2475R3R4R5R1532goR0y22:level%2Flevel0992.jsonR2i2466R3R4R5R1533goR0y22:level%2Flevel0993.jsonR2i2257R3R4R5R1534goR0y22:level%2Flevel0994.jsonR2i2294R3R4R5R1535goR0y22:level%2Flevel0995.jsonR2i2262R3R4R5R1536goR0y22:level%2Flevel0996.jsonR2i1904R3R4R5R1537goR0y22:level%2Flevel0997.jsonR2i2047R3R4R5R1538goR0y22:level%2Flevel0998.jsonR2i2356R3R4R5R1539goR0y22:level%2Flevel0999.jsonR2i2165R3R4R5R1540goR0y22:level%2Flevel1000.jsonR2i2407R3R4R5R1541goR0y22:level%2Flevel1001.jsonR2i2616R3R4R5R1542goR0y22:level%2Flevel1002.jsonR2i2506R3R4R5R1543goR0y22:level%2Flevel1003.jsonR2i2252R3R4R5R1544goR0y22:level%2Flevel1004.jsonR2i2632R3R4R5R1545goR0y22:level%2Flevel1005.jsonR2i2149R3R4R5R1546goR0y22:level%2Flevel1006.jsonR2i2439R3R4R5R1547goR0y22:level%2Flevel1007.jsonR2i2390R3R4R5R1548goR0y22:level%2Flevel1008.jsonR2i2785R3R4R5R1549goR0y22:level%2Flevel1009.jsonR2i2935R3R4R5R1550goR0y22:level%2Flevel1010.jsonR2i2333R3R4R5R1551goR0y22:level%2Flevel1011.jsonR2i1961R3R4R5R1552goR0y22:level%2Flevel1012.jsonR2i2519R3R4R5R1553goR0y22:level%2Flevel1013.jsonR2i2287R3R4R5R1554goR0y22:level%2Flevel1014.jsonR2i2109R3R4R5R1555goR0y22:level%2Flevel1015.jsonR2i2554R3R4R5R1556goR0y22:level%2Flevel1016.jsonR2i2576R3R4R5R1557goR0y22:level%2Flevel1017.jsonR2i2390R3R4R5R1558goR0y22:level%2Flevel1018.jsonR2i2250R3R4R5R1559goR0y22:level%2Flevel1019.jsonR2i2114R3R4R5R1560goR0y22:level%2Flevel1020.jsonR2i2967R3R4R5R1561goR0y22:level%2Flevel1021.jsonR2i2181R3R4R5R1562goR0y22:level%2Flevel1022.jsonR2i2213R3R4R5R1563goR0y22:level%2Flevel1023.jsonR2i2804R3R4R5R1564goR0y22:level%2Flevel1024.jsonR2i2564R3R4R5R1565goR0y22:level%2Flevel1025.jsonR2i2209R3R4R5R1566goR0y22:level%2Flevel1026.jsonR2i2808R3R4R5R1567goR0y22:level%2Flevel1027.jsonR2i2727R3R4R5R1568goR0y22:level%2Flevel1028.jsonR2i1987R3R4R5R1569goR0y22:level%2Flevel1029.jsonR2i2541R3R4R5R1570goR0y22:level%2Flevel1030.jsonR2i2531R3R4R5R1571goR0y22:level%2Flevel1031.jsonR2i2465R3R4R5R1572goR0y22:level%2Flevel1032.jsonR2i2386R3R4R5R1573goR0y22:level%2Flevel1033.jsonR2i2740R3R4R5R1574goR0y22:level%2Flevel1034.jsonR2i2239R3R4R5R1575goR0y22:level%2Flevel1035.jsonR2i2319R3R4R5R1576goR0y22:level%2Flevel1036.jsonR2i2198R3R4R5R1577goR0y22:level%2Flevel1037.jsonR2i2051R3R4R5R1578goR0y22:level%2Flevel1038.jsonR2i2035R3R4R5R1579goR0y22:level%2Flevel1039.jsonR2i2089R3R4R5R1580goR0y22:level%2Flevel1040.jsonR2i2388R3R4R5R1581goR0y22:level%2Flevel1041.jsonR2i2246R3R4R5R1582goR0y22:level%2Flevel1042.jsonR2i2406R3R4R5R1583goR0y22:level%2Flevel1043.jsonR2i2250R3R4R5R1584goR0y22:level%2Flevel1044.jsonR2i2348R3R4R5R1585goR0y22:level%2Flevel1045.jsonR2i2597R3R4R5R1586goR0y22:level%2Flevel1046.jsonR2i2521R3R4R5R1587goR0y22:level%2Flevel1047.jsonR2i2505R3R4R5R1588goR0y22:level%2Flevel1048.jsonR2i2485R3R4R5R1589goR0y22:level%2Flevel1049.jsonR2i2801R3R4R5R1590goR0y22:level%2Flevel1050.jsonR2i2285R3R4R5R1591goR0y22:level%2Flevel1051.jsonR2i2236R3R4R5R1592goR0y22:level%2Flevel1052.jsonR2i1936R3R4R5R1593goR0y22:level%2Flevel1053.jsonR2i2716R3R4R5R1594goR0y22:level%2Flevel1054.jsonR2i2337R3R4R5R1595goR0y22:level%2Flevel1055.jsonR2i2213R3R4R5R1596goR0y22:level%2Flevel1056.jsonR2i2571R3R4R5R1597goR0y22:level%2Flevel1057.jsonR2i2656R3R4R5R1598goR0y22:level%2Flevel1058.jsonR2i2495R3R4R5R1599goR0y22:level%2Flevel1059.jsonR2i2063R3R4R5R1600goR0y22:level%2Flevel1060.jsonR2i2122R3R4R5R1601goR0y22:level%2Flevel1061.jsonR2i2544R3R4R5R1602goR0y22:level%2Flevel1062.jsonR2i2581R3R4R5R1603goR0y22:level%2Flevel1063.jsonR2i1973R3R4R5R1604goR0y22:level%2Flevel1064.jsonR2i2143R3R4R5R1605goR0y22:level%2Flevel1065.jsonR2i2375R3R4R5R1606goR0y22:level%2Flevel1066.jsonR2i2671R3R4R5R1607goR0y22:level%2Flevel1067.jsonR2i2302R3R4R5R1608goR0y22:level%2Flevel1068.jsonR2i2514R3R4R5R1609goR0y22:level%2Flevel1069.jsonR2i2162R3R4R5R1610goR0y22:level%2Flevel1070.jsonR2i2324R3R4R5R1611goR0y22:level%2Flevel1071.jsonR2i2170R3R4R5R1612goR0y22:level%2Flevel1072.jsonR2i2326R3R4R5R1613goR0y22:level%2Flevel1073.jsonR2i2572R3R4R5R1614goR0y22:level%2Flevel1074.jsonR2i2560R3R4R5R1615goR0y22:level%2Flevel1075.jsonR2i2471R3R4R5R1616goR0y22:level%2Flevel1076.jsonR2i2078R3R4R5R1617goR0y22:level%2Flevel1077.jsonR2i2216R3R4R5R1618goR0y22:level%2Flevel1078.jsonR2i2410R3R4R5R1619goR0y22:level%2Flevel1079.jsonR2i2207R3R4R5R1620goR0y22:level%2Flevel1080.jsonR2i1853R3R4R5R1621goR0y22:level%2Flevel1081.jsonR2i2401R3R4R5R1622goR0y22:level%2Flevel1082.jsonR2i2132R3R4R5R1623goR0y22:level%2Flevel1083.jsonR2i2553R3R4R5R1624goR0y22:level%2Flevel1084.jsonR2i2084R3R4R5R1625goR0y22:level%2Flevel1085.jsonR2i2606R3R4R5R1626goR0y22:level%2Flevel1086.jsonR2i2866R3R4R5R1627goR0y22:level%2Flevel1087.jsonR2i2737R3R4R5R1628goR0y22:level%2Flevel1088.jsonR2i2193R3R4R5R1629goR0y22:level%2Flevel1089.jsonR2i2738R3R4R5R1630goR0y22:level%2Flevel1090.jsonR2i2190R3R4R5R1631goR0y22:level%2Flevel1091.jsonR2i2129R3R4R5R1632goR0y22:level%2Flevel1092.jsonR2i2453R3R4R5R1633goR0y22:level%2Flevel1093.jsonR2i2263R3R4R5R1634goR0y22:level%2Flevel1094.jsonR2i2570R3R4R5R1635goR0y22:level%2Flevel1095.jsonR2i2233R3R4R5R1636goR0y22:level%2Flevel1096.jsonR2i2298R3R4R5R1637goR0y22:level%2Flevel1097.jsonR2i2307R3R4R5R1638goR0y22:level%2Flevel1098.jsonR2i2566R3R4R5R1639goR0y22:level%2Flevel1099.jsonR2i2355R3R4R5R1640goR0y22:level%2Flevel1100.jsonR2i2555R3R4R5R1641goR0y22:level%2Flevel1101.jsonR2i2332R3R4R5R1642goR0y22:level%2Flevel1102.jsonR2i2488R3R4R5R1643goR0y22:level%2Flevel1103.jsonR2i2269R3R4R5R1644goR0y22:level%2Flevel1104.jsonR2i2276R3R4R5R1645goR0y22:level%2Flevel1105.jsonR2i2387R3R4R5R1646goR0y22:level%2Flevel1106.jsonR2i1918R3R4R5R1647goR0y22:level%2Flevel1107.jsonR2i2529R3R4R5R1648goR0y22:level%2Flevel1108.jsonR2i2556R3R4R5R1649goR0y22:level%2Flevel1109.jsonR2i2015R3R4R5R1650goR0y22:level%2Flevel1110.jsonR2i2644R3R4R5R1651goR0y22:level%2Flevel1111.jsonR2i2637R3R4R5R1652goR0y22:level%2Flevel1112.jsonR2i2086R3R4R5R1653goR0y22:level%2Flevel1113.jsonR2i2810R3R4R5R1654goR0y22:level%2Flevel1114.jsonR2i1710R3R4R5R1655goR0y22:level%2Flevel1115.jsonR2i2125R3R4R5R1656goR0y22:level%2Flevel1116.jsonR2i2318R3R4R5R1657goR0y22:level%2Flevel1117.jsonR2i2406R3R4R5R1658goR0y22:level%2Flevel1118.jsonR2i2402R3R4R5R1659goR0y22:level%2Flevel1119.jsonR2i2647R3R4R5R1660goR0y22:level%2Flevel1120.jsonR2i2571R3R4R5R1661goR0y22:level%2Flevel1121.jsonR2i2186R3R4R5R1662goR0y22:level%2Flevel1122.jsonR2i2497R3R4R5R1663goR0y22:level%2Flevel1123.jsonR2i2441R3R4R5R1664goR0y22:level%2Flevel1124.jsonR2i2819R3R4R5R1665goR0y22:level%2Flevel1125.jsonR2i2484R3R4R5R1666goR0y22:level%2Flevel1126.jsonR2i2204R3R4R5R1667goR0y22:level%2Flevel1127.jsonR2i2303R3R4R5R1668goR0y22:level%2Flevel1128.jsonR2i2225R3R4R5R1669goR0y22:level%2Flevel1129.jsonR2i2115R3R4R5R1670goR0y22:level%2Flevel1130.jsonR2i2028R3R4R5R1671goR0y22:level%2Flevel1131.jsonR2i2611R3R4R5R1672goR0y22:level%2Flevel1132.jsonR2i2285R3R4R5R1673goR0y22:level%2Flevel1133.jsonR2i1968R3R4R5R1674goR0y22:level%2Flevel1134.jsonR2i2162R3R4R5R1675goR0y22:level%2Flevel1135.jsonR2i1964R3R4R5R1676goR0y22:level%2Flevel1136.jsonR2i2388R3R4R5R1677goR0y22:level%2Flevel1137.jsonR2i2356R3R4R5R1678goR0y22:level%2Flevel1138.jsonR2i2113R3R4R5R1679goR0y22:level%2Flevel1139.jsonR2i2072R3R4R5R1680goR0y22:level%2Flevel1140.jsonR2i1760R3R4R5R1681goR0y22:level%2Flevel1141.jsonR2i2088R3R4R5R1682goR0y22:level%2Flevel1142.jsonR2i2008R3R4R5R1683goR0y22:level%2Flevel1143.jsonR2i2471R3R4R5R1684goR0y22:level%2Flevel1144.jsonR2i2127R3R4R5R1685goR0y22:level%2Flevel1145.jsonR2i2013R3R4R5R1686goR0y22:level%2Flevel1146.jsonR2i1868R3R4R5R1687goR0y22:level%2Flevel1147.jsonR2i1771R3R4R5R1688goR0y22:level%2Flevel1148.jsonR2i1859R3R4R5R1689goR0y22:level%2Flevel1149.jsonR2i2559R3R4R5R1690goR0y22:level%2Flevel1150.jsonR2i2095R3R4R5R1691goR0y22:level%2Flevel1151.jsonR2i2213R3R4R5R1692goR0y22:level%2Flevel1152.jsonR2i2116R3R4R5R1693goR0y22:level%2Flevel1153.jsonR2i2586R3R4R5R1694goR0y22:level%2Flevel1154.jsonR2i2233R3R4R5R1695goR0y22:level%2Flevel1155.jsonR2i1996R3R4R5R1696goR0y22:level%2Flevel1156.jsonR2i2198R3R4R5R1697goR0y22:level%2Flevel1157.jsonR2i2198R3R4R5R1698goR0y22:level%2Flevel1158.jsonR2i2047R3R4R5R1699goR0y22:level%2Flevel1159.jsonR2i2290R3R4R5R1700goR0y22:level%2Flevel1160.jsonR2i2313R3R4R5R1701goR0y22:level%2Flevel1161.jsonR2i2534R3R4R5R1702goR0y22:level%2Flevel1162.jsonR2i2048R3R4R5R1703goR0y22:level%2Flevel1163.jsonR2i2680R3R4R5R1704goR0y22:level%2Flevel1164.jsonR2i2486R3R4R5R1705goR0y22:level%2Flevel1165.jsonR2i2309R3R4R5R1706goR0y22:level%2Flevel1166.jsonR2i2094R3R4R5R1707goR0y22:level%2Flevel1167.jsonR2i2544R3R4R5R1708goR0y22:level%2Flevel1168.jsonR2i2346R3R4R5R1709goR0y22:level%2Flevel1169.jsonR2i2222R3R4R5R1710goR0y22:level%2Flevel1170.jsonR2i1792R3R4R5R1711goR0y22:level%2Flevel1171.jsonR2i2434R3R4R5R1712goR0y22:level%2Flevel1172.jsonR2i2045R3R4R5R1713goR0y22:level%2Flevel1173.jsonR2i2262R3R4R5R1714goR0y22:level%2Flevel1174.jsonR2i2179R3R4R5R1715goR0y22:level%2Flevel1175.jsonR2i2304R3R4R5R1716goR0y22:level%2Flevel1176.jsonR2i2233R3R4R5R1717goR0y22:level%2Flevel1177.jsonR2i2010R3R4R5R1718goR0y22:level%2Flevel1178.jsonR2i2082R3R4R5R1719goR0y22:level%2Flevel1179.jsonR2i2115R3R4R5R1720goR0y22:level%2Flevel1180.jsonR2i2361R3R4R5R1721goR0y22:level%2Flevel1181.jsonR2i2146R3R4R5R1722goR0y22:level%2Flevel1182.jsonR2i2658R3R4R5R1723goR0y22:level%2Flevel1183.jsonR2i2050R3R4R5R1724goR0y22:level%2Flevel1184.jsonR2i2623R3R4R5R1725goR0y22:level%2Flevel1185.jsonR2i2468R3R4R5R1726goR0y22:level%2Flevel1186.jsonR2i2181R3R4R5R1727goR0y22:level%2Flevel1187.jsonR2i2328R3R4R5R1728goR0y22:level%2Flevel1188.jsonR2i1582R3R4R5R1729goR0y22:level%2Flevel1189.jsonR2i2269R3R4R5R1730goR0y22:level%2Flevel1190.jsonR2i2434R3R4R5R1731goR0y22:level%2Flevel1191.jsonR2i2572R3R4R5R1732goR0y22:level%2Flevel1192.jsonR2i2098R3R4R5R1733goR0y22:level%2Flevel1193.jsonR2i2396R3R4R5R1734goR0y22:level%2Flevel1194.jsonR2i2090R3R4R5R1735goR0y22:level%2Flevel1195.jsonR2i2596R3R4R5R1736goR0y22:level%2Flevel1196.jsonR2i2764R3R4R5R1737goR0y22:level%2Flevel1197.jsonR2i2505R3R4R5R1738goR0y22:level%2Flevel1198.jsonR2i2299R3R4R5R1739goR0y22:level%2Flevel1199.jsonR2i1968R3R4R5R1740goR0y22:level%2Flevel1200.jsonR2i2402R3R4R5R1741goR0y22:level%2Flevel1201.jsonR2i2536R3R4R5R1742goR0y22:level%2Flevel1202.jsonR2i2303R3R4R5R1743goR0y22:level%2Flevel1203.jsonR2i2175R3R4R5R1744goR0y22:level%2Flevel1204.jsonR2i2313R3R4R5R1745goR0y22:level%2Flevel1205.jsonR2i1692R3R4R5R1746goR0y22:level%2Flevel1206.jsonR2i2110R3R4R5R1747goR0y22:level%2Flevel1207.jsonR2i2602R3R4R5R1748goR0y22:level%2Flevel1208.jsonR2i2378R3R4R5R1749goR0y22:level%2Flevel1209.jsonR2i2562R3R4R5R1750goR0y22:level%2Flevel1210.jsonR2i2399R3R4R5R1751goR0y22:level%2Flevel1211.jsonR2i2256R3R4R5R1752goR0y22:level%2Flevel1212.jsonR2i2757R3R4R5R1753goR0y22:level%2Flevel1213.jsonR2i2143R3R4R5R1754goR0y22:level%2Flevel1214.jsonR2i2505R3R4R5R1755goR0y22:level%2Flevel1215.jsonR2i2365R3R4R5R1756goR0y22:level%2Flevel1216.jsonR2i2387R3R4R5R1757goR0y22:level%2Flevel1217.jsonR2i2225R3R4R5R1758goR0y22:level%2Flevel1218.jsonR2i2523R3R4R5R1759goR0y22:level%2Flevel1219.jsonR2i2196R3R4R5R1760goR0y22:level%2Flevel1220.jsonR2i2394R3R4R5R1761goR0y22:level%2Flevel1221.jsonR2i2066R3R4R5R1762goR0y22:level%2Flevel1222.jsonR2i2396R3R4R5R1763goR0y22:level%2Flevel1223.jsonR2i2128R3R4R5R1764goR0y22:level%2Flevel1224.jsonR2i2328R3R4R5R1765goR0y22:level%2Flevel1225.jsonR2i2362R3R4R5R1766goR0y22:level%2Flevel1226.jsonR2i1752R3R4R5R1767goR0y22:level%2Flevel1227.jsonR2i2125R3R4R5R1768goR0y22:level%2Flevel1228.jsonR2i2760R3R4R5R1769goR0y22:level%2Flevel1229.jsonR2i1677R3R4R5R1770goR0y22:level%2Flevel1230.jsonR2i2441R3R4R5R1771goR0y22:level%2Flevel1231.jsonR2i1980R3R4R5R1772goR0y22:level%2Flevel1232.jsonR2i2112R3R4R5R1773goR0y22:level%2Flevel1233.jsonR2i2540R3R4R5R1774goR0y22:level%2Flevel1234.jsonR2i2169R3R4R5R1775goR0y22:level%2Flevel1235.jsonR2i2115R3R4R5R1776goR0y22:level%2Flevel1236.jsonR2i2348R3R4R5R1777goR0y22:level%2Flevel1237.jsonR2i2408R3R4R5R1778goR0y22:level%2Flevel1238.jsonR2i2615R3R4R5R1779goR0y22:level%2Flevel1239.jsonR2i2234R3R4R5R1780goR0y22:level%2Flevel1240.jsonR2i2325R3R4R5R1781goR0y22:level%2Flevel1241.jsonR2i2252R3R4R5R1782goR0y22:level%2Flevel1242.jsonR2i2442R3R4R5R1783goR0y22:level%2Flevel1243.jsonR2i2165R3R4R5R1784goR0y22:level%2Flevel1244.jsonR2i2340R3R4R5R1785goR0y22:level%2Flevel1245.jsonR2i2295R3R4R5R1786goR0y22:level%2Flevel1246.jsonR2i2384R3R4R5R1787goR0y22:level%2Flevel1247.jsonR2i2079R3R4R5R1788goR0y22:level%2Flevel1248.jsonR2i2099R3R4R5R1789goR0y22:level%2Flevel1249.jsonR2i2177R3R4R5R1790goR0y22:level%2Flevel1250.jsonR2i2445R3R4R5R1791goR0y22:level%2Flevel1251.jsonR2i2427R3R4R5R1792goR0y22:level%2Flevel1252.jsonR2i2325R3R4R5R1793goR0y22:level%2Flevel1253.jsonR2i2640R3R4R5R1794goR0y22:level%2Flevel1254.jsonR2i2061R3R4R5R1795goR0y22:level%2Flevel1255.jsonR2i2507R3R4R5R1796goR0y22:level%2Flevel1256.jsonR2i2227R3R4R5R1797goR0y22:level%2Flevel1257.jsonR2i2437R3R4R5R1798goR0y22:level%2Flevel1258.jsonR2i2032R3R4R5R1799goR0y22:level%2Flevel1259.jsonR2i2571R3R4R5R1800goR0y22:level%2Flevel1260.jsonR2i2152R3R4R5R1801goR0y22:level%2Flevel1261.jsonR2i2481R3R4R5R1802goR0y22:level%2Flevel1262.jsonR2i2168R3R4R5R1803goR0y22:level%2Flevel1263.jsonR2i2313R3R4R5R1804goR0y22:level%2Flevel1264.jsonR2i2174R3R4R5R1805goR0y22:level%2Flevel1265.jsonR2i2122R3R4R5R1806goR0y22:level%2Flevel1266.jsonR2i1813R3R4R5R1807goR0y22:level%2Flevel1267.jsonR2i2013R3R4R5R1808goR0y22:level%2Flevel1268.jsonR2i2432R3R4R5R1809goR0y22:level%2Flevel1269.jsonR2i2477R3R4R5R1810goR0y22:level%2Flevel1270.jsonR2i2554R3R4R5R1811goR0y22:level%2Flevel1271.jsonR2i2290R3R4R5R1812goR0y22:level%2Flevel1272.jsonR2i2046R3R4R5R1813goR0y22:level%2Flevel1273.jsonR2i1737R3R4R5R1814goR0y22:level%2Flevel1274.jsonR2i2326R3R4R5R1815goR0y22:level%2Flevel1275.jsonR2i2144R3R4R5R1816goR0y22:level%2Flevel1276.jsonR2i2291R3R4R5R1817goR0y22:level%2Flevel1277.jsonR2i2038R3R4R5R1818goR0y22:level%2Flevel1278.jsonR2i2450R3R4R5R1819goR0y22:level%2Flevel1279.jsonR2i1882R3R4R5R1820goR0y22:level%2Flevel1280.jsonR2i2512R3R4R5R1821goR0y22:level%2Flevel1281.jsonR2i2809R3R4R5R1822goR0y22:level%2Flevel1282.jsonR2i2150R3R4R5R1823goR0y22:level%2Flevel1283.jsonR2i2380R3R4R5R1824goR0y22:level%2Flevel1284.jsonR2i2534R3R4R5R1825goR0y22:level%2Flevel1285.jsonR2i2038R3R4R5R1826goR0y22:level%2Flevel1286.jsonR2i2558R3R4R5R1827goR0y22:level%2Flevel1287.jsonR2i2159R3R4R5R1828goR0y22:level%2Flevel1288.jsonR2i2153R3R4R5R1829goR0y22:level%2Flevel1289.jsonR2i2064R3R4R5R1830goR0y22:level%2Flevel1290.jsonR2i2538R3R4R5R1831goR0y22:level%2Flevel1291.jsonR2i2097R3R4R5R1832goR0y22:level%2Flevel1292.jsonR2i2399R3R4R5R1833goR0y22:level%2Flevel1293.jsonR2i2149R3R4R5R1834goR0y22:level%2Flevel1294.jsonR2i2374R3R4R5R1835goR0y22:level%2Flevel1295.jsonR2i2237R3R4R5R1836goR0y22:level%2Flevel1296.jsonR2i1895R3R4R5R1837goR0y22:level%2Flevel1297.jsonR2i2410R3R4R5R1838goR0y22:level%2Flevel1298.jsonR2i2199R3R4R5R1839goR0y22:level%2Flevel1299.jsonR2i1943R3R4R5R1840goR0y22:level%2Flevel1300.jsonR2i2168R3R4R5R1841goR0y22:level%2Flevel1301.jsonR2i2223R3R4R5R1842goR0y22:level%2Flevel1302.jsonR2i2282R3R4R5R1843goR0y22:level%2Flevel1303.jsonR2i2347R3R4R5R1844goR0y22:level%2Flevel1304.jsonR2i2244R3R4R5R1845goR0y22:level%2Flevel1305.jsonR2i1978R3R4R5R1846goR0y22:level%2Flevel1306.jsonR2i1837R3R4R5R1847goR0y22:level%2Flevel1307.jsonR2i1977R3R4R5R1848goR0y22:level%2Flevel1308.jsonR2i2217R3R4R5R1849goR0y22:level%2Flevel1309.jsonR2i2045R3R4R5R1850goR0y22:level%2Flevel1310.jsonR2i2043R3R4R5R1851goR0y22:level%2Flevel1311.jsonR2i2119R3R4R5R1852goR0y22:level%2Flevel1312.jsonR2i2296R3R4R5R1853goR0y22:level%2Flevel1313.jsonR2i2141R3R4R5R1854goR0y22:level%2Flevel1314.jsonR2i1789R3R4R5R1855goR0y22:level%2Flevel1315.jsonR2i1775R3R4R5R1856goR0y22:level%2Flevel1316.jsonR2i2283R3R4R5R1857goR0y22:level%2Flevel1317.jsonR2i2538R3R4R5R1858goR0y22:level%2Flevel1318.jsonR2i2185R3R4R5R1859goR0y22:level%2Flevel1319.jsonR2i1405R3R4R5R1860goR0y22:level%2Flevel1320.jsonR2i2633R3R4R5R1861goR0y22:level%2Flevel1321.jsonR2i2068R3R4R5R1862goR0y22:level%2Flevel1322.jsonR2i2052R3R4R5R1863goR0y22:level%2Flevel1323.jsonR2i1994R3R4R5R1864goR0y22:level%2Flevel1324.jsonR2i2104R3R4R5R1865goR0y22:level%2Flevel1325.jsonR2i2268R3R4R5R1866goR0y22:level%2Flevel1326.jsonR2i1947R3R4R5R1867goR0y22:level%2Flevel1327.jsonR2i2026R3R4R5R1868goR0y22:level%2Flevel1328.jsonR2i2442R3R4R5R1869goR0y22:level%2Flevel1329.jsonR2i2318R3R4R5R1870goR0y22:level%2Flevel1330.jsonR2i2175R3R4R5R1871goR0y22:level%2Flevel1331.jsonR2i2230R3R4R5R1872goR0y22:level%2Flevel1332.jsonR2i2380R3R4R5R1873goR0y22:level%2Flevel1333.jsonR2i2146R3R4R5R1874goR0y22:level%2Flevel1334.jsonR2i1925R3R4R5R1875goR0y22:level%2Flevel1335.jsonR2i2076R3R4R5R1876goR0y22:level%2Flevel1336.jsonR2i2402R3R4R5R1877goR0y22:level%2Flevel1337.jsonR2i2381R3R4R5R1878goR0y22:level%2Flevel1338.jsonR2i2544R3R4R5R1879goR0y22:level%2Flevel1339.jsonR2i1915R3R4R5R1880goR0y22:level%2Flevel1340.jsonR2i2320R3R4R5R1881goR0y22:level%2Flevel1341.jsonR2i2340R3R4R5R1882goR0y22:level%2Flevel1342.jsonR2i2682R3R4R5R1883goR0y22:level%2Flevel1343.jsonR2i1950R3R4R5R1884goR0y22:level%2Flevel1344.jsonR2i2044R3R4R5R1885goR0y22:level%2Flevel1345.jsonR2i2691R3R4R5R1886goR0y22:level%2Flevel1346.jsonR2i1939R3R4R5R1887goR0y22:level%2Flevel1347.jsonR2i1891R3R4R5R1888goR0y22:level%2Flevel1348.jsonR2i2074R3R4R5R1889goR0y22:level%2Flevel1349.jsonR2i2206R3R4R5R1890goR0y22:level%2Flevel1350.jsonR2i2339R3R4R5R1891goR0y22:level%2Flevel1351.jsonR2i2281R3R4R5R1892goR0y22:level%2Flevel1352.jsonR2i1802R3R4R5R1893goR0y22:level%2Flevel1353.jsonR2i1777R3R4R5R1894goR0y22:level%2Flevel1354.jsonR2i2370R3R4R5R1895goR0y22:level%2Flevel1355.jsonR2i2351R3R4R5R1896goR0y22:level%2Flevel1356.jsonR2i1988R3R4R5R1897goR0y22:level%2Flevel1357.jsonR2i2245R3R4R5R1898goR0y22:level%2Flevel1358.jsonR2i1865R3R4R5R1899goR0y22:level%2Flevel1359.jsonR2i2291R3R4R5R1900goR0y22:level%2Flevel1360.jsonR2i2491R3R4R5R1901goR0y22:level%2Flevel1361.jsonR2i2092R3R4R5R1902goR0y22:level%2Flevel1362.jsonR2i2583R3R4R5R1903goR0y22:level%2Flevel1363.jsonR2i2261R3R4R5R1904goR0y22:level%2Flevel1364.jsonR2i2027R3R4R5R1905goR0y22:level%2Flevel1365.jsonR2i2275R3R4R5R1906goR0y22:level%2Flevel1366.jsonR2i2218R3R4R5R1907goR0y22:level%2Flevel1367.jsonR2i2325R3R4R5R1908goR0y22:level%2Flevel1368.jsonR2i2207R3R4R5R1909goR0y22:level%2Flevel1369.jsonR2i2062R3R4R5R1910goR0y22:level%2Flevel1370.jsonR2i1802R3R4R5R1911goR0y22:level%2Flevel1371.jsonR2i2116R3R4R5R1912goR0y22:level%2Flevel1372.jsonR2i2033R3R4R5R1913goR0y22:level%2Flevel1373.jsonR2i1960R3R4R5R1914goR0y22:level%2Flevel1374.jsonR2i2563R3R4R5R1915goR0y22:level%2Flevel1375.jsonR2i2210R3R4R5R1916goR0y22:level%2Flevel1376.jsonR2i2384R3R4R5R1917goR0y22:level%2Flevel1377.jsonR2i2510R3R4R5R1918goR0y22:level%2Flevel1378.jsonR2i2339R3R4R5R1919goR0y22:level%2Flevel1379.jsonR2i2460R3R4R5R1920goR0y22:level%2Flevel1380.jsonR2i2211R3R4R5R1921goR0y22:level%2Flevel1381.jsonR2i2108R3R4R5R1922goR0y22:level%2Flevel1382.jsonR2i2383R3R4R5R1923goR0y22:level%2Flevel1383.jsonR2i2162R3R4R5R1924goR0y22:level%2Flevel1384.jsonR2i2841R3R4R5R1925goR0y22:level%2Flevel1385.jsonR2i2454R3R4R5R1926goR0y22:level%2Flevel1386.jsonR2i2058R3R4R5R1927goR0y22:level%2Flevel1387.jsonR2i2387R3R4R5R1928goR0y22:level%2Flevel1388.jsonR2i2560R3R4R5R1929goR0y22:level%2Flevel1389.jsonR2i2060R3R4R5R1930goR0y22:level%2Flevel1390.jsonR2i2050R3R4R5R1931goR0y22:level%2Flevel1391.jsonR2i2164R3R4R5R1932goR0y22:level%2Flevel1392.jsonR2i2291R3R4R5R1933goR0y22:level%2Flevel1393.jsonR2i2122R3R4R5R1934goR0y22:level%2Flevel1394.jsonR2i2151R3R4R5R1935goR0y22:level%2Flevel1395.jsonR2i2087R3R4R5R1936goR0y22:level%2Flevel1396.jsonR2i2092R3R4R5R1937goR0y22:level%2Flevel1397.jsonR2i2517R3R4R5R1938goR0y22:level%2Flevel1398.jsonR2i2090R3R4R5R1939goR0y22:level%2Flevel1399.jsonR2i2035R3R4R5R1940goR0y22:level%2Flevel1400.jsonR2i2064R3R4R5R1941goR0y22:level%2Flevel1401.jsonR2i2730R3R4R5R1942goR0y22:level%2Flevel1402.jsonR2i2134R3R4R5R1943goR0y22:level%2Flevel1403.jsonR2i2390R3R4R5R1944goR0y22:level%2Flevel1404.jsonR2i1913R3R4R5R1945goR0y22:level%2Flevel1405.jsonR2i2330R3R4R5R1946goR0y22:level%2Flevel1406.jsonR2i2252R3R4R5R1947goR0y22:level%2Flevel1407.jsonR2i2349R3R4R5R1948goR0y22:level%2Flevel1408.jsonR2i1727R3R4R5R1949goR0y22:level%2Flevel1409.jsonR2i2583R3R4R5R1950goR0y22:level%2Flevel1410.jsonR2i2285R3R4R5R1951goR0y22:level%2Flevel1411.jsonR2i1898R3R4R5R1952goR0y22:level%2Flevel1412.jsonR2i2290R3R4R5R1953goR0y22:level%2Flevel1413.jsonR2i2019R3R4R5R1954goR0y22:level%2Flevel1414.jsonR2i2064R3R4R5R1955goR0y22:level%2Flevel1415.jsonR2i2416R3R4R5R1956goR0y22:level%2Flevel1416.jsonR2i2392R3R4R5R1957goR0y22:level%2Flevel1417.jsonR2i2136R3R4R5R1958goR0y22:level%2Flevel1418.jsonR2i1984R3R4R5R1959goR0y22:level%2Flevel1419.jsonR2i2298R3R4R5R1960goR0y22:level%2Flevel1420.jsonR2i2018R3R4R5R1961goR0y22:level%2Flevel1421.jsonR2i2017R3R4R5R1962goR0y22:level%2Flevel1422.jsonR2i2057R3R4R5R1963goR0y22:level%2Flevel1423.jsonR2i1363R3R4R5R1964goR0y22:level%2Flevel1424.jsonR2i2794R3R4R5R1965goR0y22:level%2Flevel1425.jsonR2i2440R3R4R5R1966goR0y22:level%2Flevel1426.jsonR2i2195R3R4R5R1967goR0y22:level%2Flevel1427.jsonR2i2167R3R4R5R1968goR0y22:level%2Flevel1428.jsonR2i2081R3R4R5R1969goR0y22:level%2Flevel1429.jsonR2i2024R3R4R5R1970goR0y22:level%2Flevel1430.jsonR2i2250R3R4R5R1971goR0y22:level%2Flevel1431.jsonR2i2145R3R4R5R1972goR0y22:level%2Flevel1432.jsonR2i2403R3R4R5R1973goR0y22:level%2Flevel1433.jsonR2i2257R3R4R5R1974goR0y22:level%2Flevel1434.jsonR2i2130R3R4R5R1975goR0y22:level%2Flevel1435.jsonR2i2127R3R4R5R1976goR0y22:level%2Flevel1436.jsonR2i2296R3R4R5R1977goR0y22:level%2Flevel1437.jsonR2i2227R3R4R5R1978goR0y22:level%2Flevel1438.jsonR2i2404R3R4R5R1979goR0y22:level%2Flevel1439.jsonR2i2237R3R4R5R1980goR0y22:level%2Flevel1440.jsonR2i2173R3R4R5R1981goR0y22:level%2Flevel1441.jsonR2i2174R3R4R5R1982goR0y22:level%2Flevel1442.jsonR2i1848R3R4R5R1983goR0y22:level%2Flevel1443.jsonR2i2602R3R4R5R1984goR0y22:level%2Flevel1444.jsonR2i2062R3R4R5R1985goR0y22:level%2Flevel1445.jsonR2i2544R3R4R5R1986goR0y22:level%2Flevel1446.jsonR2i1992R3R4R5R1987goR0y22:level%2Flevel1447.jsonR2i2379R3R4R5R1988goR0y22:level%2Flevel1448.jsonR2i2128R3R4R5R1989goR0y22:level%2Flevel1449.jsonR2i2515R3R4R5R1990goR0y22:level%2Flevel1450.jsonR2i2145R3R4R5R1991goR0y22:level%2Flevel1451.jsonR2i2238R3R4R5R1992goR0y22:level%2Flevel1452.jsonR2i2251R3R4R5R1993goR0y22:level%2Flevel1453.jsonR2i2295R3R4R5R1994goR0y22:level%2Flevel1454.jsonR2i1625R3R4R5R1995goR0y22:level%2Flevel1455.jsonR2i2181R3R4R5R1996goR0y22:level%2Flevel1456.jsonR2i2294R3R4R5R1997goR0y22:level%2Flevel1457.jsonR2i2139R3R4R5R1998goR0y22:level%2Flevel1458.jsonR2i2508R3R4R5R1999goR0y22:level%2Flevel1459.jsonR2i2330R3R4R5R2000goR0y22:level%2Flevel1460.jsonR2i2534R3R4R5R2001goR0y22:level%2Flevel1461.jsonR2i2098R3R4R5R2002goR0y22:level%2Flevel1462.jsonR2i2044R3R4R5R2003goR0y22:level%2Flevel1463.jsonR2i2494R3R4R5R2004goR0y22:level%2Flevel1464.jsonR2i2734R3R4R5R2005goR0y22:level%2Flevel1465.jsonR2i2519R3R4R5R2006goR0y22:level%2Flevel1466.jsonR2i2139R3R4R5R2007goR0y22:level%2Flevel1467.jsonR2i3118R3R4R5R2008goR0y22:level%2Flevel1468.jsonR2i2254R3R4R5R2009goR0y22:level%2Flevel1469.jsonR2i2321R3R4R5R2010goR0y22:level%2Flevel1470.jsonR2i2089R3R4R5R2011goR0y22:level%2Flevel1471.jsonR2i1816R3R4R5R2012goR0y22:level%2Flevel1472.jsonR2i2542R3R4R5R2013goR0y22:level%2Flevel1473.jsonR2i2123R3R4R5R2014goR0y22:level%2Flevel1474.jsonR2i1645R3R4R5R2015goR0y22:level%2Flevel1475.jsonR2i2210R3R4R5R2016goR0y22:level%2Flevel1476.jsonR2i1692R3R4R5R2017goR2i71009R3y5:SOUNDR5y17:sound%2Fanvil.oggy9:pathGroupaR2019y17:sound%2Fanvil.mp3hgoR2i17711R3R2018R5y17:sound%2Fapple.oggR2020aR2022y17:sound%2Fapple.mp3hgoR2i10534R3R2018R5y15:sound%2Fbad.oggR2020aR2024y15:sound%2Fbad.mp3hgoR2i13028R3R2018R5y24:sound%2Fballon_plopp.oggR2020aR2026y24:sound%2Fballon_plopp.mp3hgoR2i23060R3R2018R5y26:sound%2Fballon_release.oggR2020aR2028y26:sound%2Fballon_release.mp3hgoR2i6797R3R2018R5y16:sound%2Fbark.oggR2020aR2030y16:sound%2Fbark.mp3hgoR2i27567R3R2018R5y27:sound%2FBasket_impact01.oggR2020aR2032y27:sound%2FBasket_impact01.mp3hgoR2i28311R3R2018R5y27:sound%2FBasket_impact02.oggR2020aR2034y27:sound%2FBasket_impact02.mp3hgoR2i27732R3R2018R5y27:sound%2FBasket_impact03.oggR2020aR2036y27:sound%2FBasket_impact03.mp3hgoR2i8551R3R2018R5y15:sound%2Fbee.oggR2020aR2038y15:sound%2Fbee.mp3hgoR2i75716R3R2018R5y28:sound%2FBee_fly_loop_end.oggR2020aR2040y28:sound%2FBee_fly_loop_end.mp3hgoR2i187115R3R2018R5y20:sound%2FBee_loop.oggR2020aR2042y20:sound%2FBee_loop.mp3hgoR2i10036R3R2018R5y19:sound%2Fberry01.oggR2020aR2044y19:sound%2Fberry01.mp3hgoR2i8585R3R2018R5y19:sound%2Fberry02.oggR2020aR2046y19:sound%2Fberry02.mp3hgoR2i11049R3R2018R5y19:sound%2Fberry03.oggR2020aR2048y19:sound%2Fberry03.mp3hgoR2i11372R3R2018R5y19:sound%2Fberry04.oggR2020aR2050y19:sound%2Fberry04.mp3hgoR2i13023R3R2018R5y19:sound%2Fberry05.oggR2020aR2052y19:sound%2Fberry05.mp3hgoR2i22496R3R2018R5y23:sound%2Fberry_shake.oggR2020aR2054y23:sound%2Fberry_shake.mp3hgoR2i30727R3R2018R5y16:sound%2Fboom.oggR2020aR2056y16:sound%2Fboom.mp3hgoR2i15486R3R2018R5y15:sound%2Fbox.oggR2020aR2058y15:sound%2Fbox.mp3hgoR2i62235R3R2018R5y27:sound%2FBreak_honey_jar.oggR2020aR2060y27:sound%2FBreak_honey_jar.mp3hgoR2i17351R3R2018R5y18:sound%2Fbucket.oggR2020aR2062y18:sound%2Fbucket.mp3hgoR2i25677R3R2018R5y16:sound%2Fcage.oggR2020aR2064y16:sound%2Fcage.mp3hgoR2i17301R3R2018R5y17:sound%2Fcage2.oggR2020aR2066y17:sound%2Fcage2.mp3hgoR2i92393R3R2018R5y26:sound%2FChameleon_pick.oggR2020aR2068y26:sound%2FChameleon_pick.mp3hgoR2i26567R3R2018R5y19:sound%2Fchicken.oggR2020aR2070y19:sound%2Fchicken.mp3hgoR2i3999R3R2018R5y17:sound%2Fclick.oggR2020aR2072y17:sound%2Fclick.mp3hgoR2i17616R3R2018R5y19:sound%2Fcoconut.oggR2020aR2074y19:sound%2Fcoconut.mp3hgoR2i15653R3R2018R5y16:sound%2Fcoin.oggR2020aR2076y16:sound%2Fcoin.mp3hgoR2i93693R3R2018R5y20:sound%2Fconfetti.oggR2020aR2078y20:sound%2Fconfetti.mp3hgoR2i33966R3R2018R5y17:sound%2Fcrack.oggR2020aR2080y17:sound%2Fcrack.mp3hgoR2i62789R3R2018R5y16:sound%2Fdice.oggR2020aR2082y16:sound%2Fdice.mp3hgoR2i65644R3R2018R5y21:sound%2FdoubleOrb.oggR2020aR2084y21:sound%2FdoubleOrb.mp3hgoR2i39219R3R2018R5y17:sound%2Fdrill.oggR2020aR2086y17:sound%2Fdrill.mp3hgoR2i51620R3R2018R5y18:sound%2FDrop01.oggR2020aR2088y18:sound%2FDrop01.mp3hgoR2i51215R3R2018R5y18:sound%2FDrop02.oggR2020aR2090y18:sound%2FDrop02.mp3hgoR2i43098R3R2018R5y18:sound%2FDrop03.oggR2020aR2092y18:sound%2FDrop03.mp3hgoR2i60772R3R2018R5y18:sound%2FDrop04.oggR2020aR2094y18:sound%2FDrop04.mp3hgoR2i6952R3R2018R5y16:sound%2Fduck.oggR2020aR2096y16:sound%2Fduck.mp3hgoR2i43172R3R2018R5y22:sound%2Fdungpile01.oggR2020aR2098y22:sound%2Fdungpile01.mp3hgoR2i55831R3R2018R5y22:sound%2Fdungpile02.oggR2020aR2100y22:sound%2Fdungpile02.mp3hgoR2i16570R3R2018R5y15:sound%2Feat.oggR2020aR2102y15:sound%2Feat.mp3hgoR2i84566R3R2018R5y25:sound%2FEgg_collect01.oggR2020aR2104y25:sound%2FEgg_collect01.mp3hgoR2i8726R3R2018R5y20:sound%2Felephant.oggR2020aR2106y20:sound%2Felephant.mp3hgoR2i22480R3R2018R5y24:sound%2Ffertilizer01.oggR2020aR2108y24:sound%2Ffertilizer01.mp3hgoR2i29615R3R2018R5y24:sound%2Ffertilizer02.oggR2020aR2110y24:sound%2Ffertilizer02.mp3hgoR2i36311R3R2018R5y27:sound%2Ffish_finished01.oggR2020aR2112y27:sound%2Ffish_finished01.mp3hgoR2i35285R3R2018R5y27:sound%2Ffish_finished02.oggR2020aR2114y27:sound%2Ffish_finished02.mp3hgoR2i39868R3R2018R5y27:sound%2Ffish_finished03.oggR2020aR2116y27:sound%2Ffish_finished03.mp3hgoR2i49254R3R2018R5y24:sound%2Ffish_scale01.oggR2020aR2118y24:sound%2Ffish_scale01.mp3hgoR2i54319R3R2018R5y24:sound%2Ffish_scale02.oggR2020aR2120y24:sound%2Ffish_scale02.mp3hgoR2i44264R3R2018R5y26:sound%2FFlies_loop_end.oggR2020aR2122y26:sound%2FFlies_loop_end.mp3hgoR2i64086R3R2018R5y28:sound%2FFlies_loop_start.oggR2020aR2124y28:sound%2FFlies_loop_start.mp3hgoR2i47748R3R2018R5y26:sound%2FFlower_close01.oggR2020aR2126y26:sound%2FFlower_close01.mp3hgoR2i35027R3R2018R5y25:sound%2FFlower_open01.oggR2020aR2128y25:sound%2FFlower_open01.mp3hgoR2i18861R3R2018R5y22:sound%2Fgift_hit01.oggR2020aR2130y22:sound%2Fgift_hit01.mp3hgoR2i21111R3R2018R5y22:sound%2Fgift_hit02.oggR2020aR2132y22:sound%2Fgift_hit02.mp3hgoR2i14606R3R2018R5y22:sound%2Fgift_hit03.oggR2020aR2134y22:sound%2Fgift_hit03.mp3hgoR2i12191R3R2018R5y22:sound%2Fgift_hit04.oggR2020aR2136y22:sound%2Fgift_hit04.mp3hgoR2i65480R3R2018R5y26:sound%2FHoneycomb_pick.oggR2020aR2138y26:sound%2FHoneycomb_pick.mp3hgoR2i33741R3R2018R5y16:sound%2Fleaf.oggR2020aR2140y16:sound%2Fleaf.mp3hgoR2i12504R3R2018R5y16:sound%2Fmeow.oggR2020aR2142y16:sound%2Fmeow.mp3hgoR2i10217R3R2018R5y15:sound%2Fnet.oggR2020aR2144y15:sound%2Fnet.mp3hgoR2i22405R3R2018R5y24:sound%2Foyster_close.oggR2020aR2146y24:sound%2Foyster_close.mp3hgoR2i27884R3R2018R5y23:sound%2Foyster_open.oggR2020aR2148y23:sound%2Foyster_open.mp3hgoR2i9648R3R2018R5y18:sound%2Fparrot.oggR2020aR2150y18:sound%2Fparrot.mp3hgoR2i28375R3R2018R5y17:sound%2Fparty.oggR2020aR2152y17:sound%2Fparty.mp3hgoR2i7693R3R2018R5y15:sound%2Fpig.oggR2020aR2154y15:sound%2Fpig.mp3hgoR2i28597R3R2018R5y16:sound%2Fport.oggR2020aR2156y16:sound%2Fport.mp3hgoR2i19365R3R2018R5y21:sound%2Fpumpkin01.oggR2020aR2158y21:sound%2Fpumpkin01.mp3hgoR2i12003R3R2018R5y21:sound%2Fpumpkin02.oggR2020aR2160y21:sound%2Fpumpkin02.mp3hgoR2i15488R3R2018R5y21:sound%2Fpumpkin03.oggR2020aR2162y21:sound%2Fpumpkin03.mp3hgoR2i10172R3R2018R5y21:sound%2Fpumpkin04.oggR2020aR2164y21:sound%2Fpumpkin04.mp3hgoR2i42208R3R2018R5y27:sound%2Fpumpkin_shrub01.oggR2020aR2166y27:sound%2Fpumpkin_shrub01.mp3hgoR2i34616R3R2018R5y27:sound%2Fpumpkin_shrub02.oggR2020aR2168y27:sound%2Fpumpkin_shrub02.mp3hgoR2i27130R3R2018R5y27:sound%2Fpumpkin_shrub03.oggR2020aR2170y27:sound%2Fpumpkin_shrub03.mp3hgoR2i69123R3R2018R5y18:sound%2Frocket.oggR2020aR2172y18:sound%2Frocket.mp3hgoR2i63917R3R2018R5y24:sound%2FShell_pick01.oggR2020aR2174y24:sound%2FShell_pick01.mp3hgoR2i59228R3R2018R5y24:sound%2FShell_pick02.oggR2020aR2176y24:sound%2FShell_pick02.mp3hgoR2i55184R3R2018R5y24:sound%2FShell_pick03.oggR2020aR2178y24:sound%2FShell_pick03.mp3hgoR2i14175R3R2018R5y17:sound%2Fskunk.oggR2020aR2180y17:sound%2Fskunk.mp3hgoR2i22015R3R2018R5y17:sound%2Fsnake.oggR2020aR2182y17:sound%2Fsnake.mp3hgoR2i25723R3R2018R5y17:sound%2Fsnap0.oggR2020aR2184y17:sound%2Fsnap0.mp3hgoR2i28376R3R2018R5y17:sound%2Fsnap1.oggR2020aR2186y17:sound%2Fsnap1.mp3hgoR2i21510R3R2018R5y17:sound%2Fsnap2.oggR2020aR2188y17:sound%2Fsnap2.mp3hgoR2i24603R3R2018R5y17:sound%2Fsnap3.oggR2020aR2190y17:sound%2Fsnap3.mp3hgoR2i20911R3R2018R5y21:sound%2Fsnowflake.oggR2020aR2192y21:sound%2Fsnowflake.mp3hgoR2i112975R3R2018R5y21:sound%2Fsnowman01.oggR2020aR2194y21:sound%2Fsnowman01.mp3hgoR2i108001R3R2018R5y21:sound%2Fsnowman02.oggR2020aR2196y21:sound%2Fsnowman02.mp3hgoR2i117445R3R2018R5y28:sound%2Fsnowman_finished.oggR2020aR2198y28:sound%2Fsnowman_finished.mp3hgoR2i21593R3R2018R5y17:sound%2Ftweet.oggR2020aR2200y17:sound%2Ftweet.mp3hgoR2i24066R3R2018R5y17:sound%2Fwater.oggR2020aR2202y17:sound%2Fwater.mp3hgoR2i13575R3R2018R5y15:sound%2Fwin.oggR2020aR2204y15:sound%2Fwin.mp3hgoR2i61287R3R2018R5R2021R2020aR2019R2021hgoR2i11565R3R2018R5R2023R2020aR2022R2023hgoR2i6731R3R2018R5R2025R2020aR2024R2025hgoR2i8402R3R2018R5R2027R2020aR2026R2027hgoR2i12163R3R2018R5R2029R2020aR2028R2029hgoR2i3387R3R2018R5R2031R2020aR2030R2031hgoR2i30301R3R2018R5R2033R2020aR2032R2033hgoR2i30301R3R2018R5R2035R2020aR2034R2035hgoR2i30301R3R2018R5R2037R2020aR2036R2037hgoR2i9657R3R2018R5R2039R2020aR2038R2039hgoR2i107623R3R2018R5R2041R2020aR2040R2041hgoR2i230921R3R2018R5R2043R2020aR2042R2043hgoR2i8194R3R2018R5R2045R2020aR2044R2045hgoR2i6313R3R2018R5R2047R2020aR2046R2047hgoR2i8821R3R2018R5R2049R2020aR2048R2049hgoR2i9448R3R2018R5R2051R2020aR2050R2051hgoR2i12582R3R2018R5R2053R2020aR2052R2053hgoR2i28883R3R2018R5R2055R2020aR2054R2055hgoR2i32644R3R2018R5R2057R2020aR2056R2057hgoR2i7985R3R2018R5R2059R2020aR2058R2059hgoR2i87770R3R2018R5R2061R2020aR2060R2061hgoR2i28256R3R2018R5R2063R2020aR2062R2063hgoR2i18852R3R2018R5R2065R2020aR2064R2065hgoR2i13418R3R2018R5R2067R2020aR2066R2067hgoR2i16762R3R2018R5y15:sound%2Fcat.mp3R2020aR2206hgoR2i149419R3R2018R5R2069R2020aR2068R2069hgoR2i32301R3R2018R5R2071R2020aR2070R2071hgoR2i2133R3R2018R5R2073R2020aR2072R2073hgoR2i15597R3R2018R5R2075R2020aR2074R2075hgoR2i9261R3R2018R5R2077R2020aR2076R2077hgoR2i78093R3R2018R5R2079R2020aR2078R2079hgoR2i18477R3R2018R5R2081R2020aR2080R2081hgoR2i60561R3R2018R5R2083R2020aR2082R2083hgoR2i45369R3R2018R5R2085R2020aR2084R2085hgoR2i35756R3R2018R5R2087R2020aR2086R2087hgoR2i72097R3R2018R5R2089R2020aR2088R2089hgoR2i72097R3R2018R5R2091R2020aR2090R2091hgoR2i59558R3R2018R5R2093R2020aR2092R2093hgoR2i86725R3R2018R5R2095R2020aR2094R2095hgoR2i7567R3R2018R5R2097R2020aR2096R2097hgoR2i38415R3R2018R5R2099R2020aR2098R2099hgoR2i52208R3R2018R5R2101R2020aR2100R2101hgoR2i12717R3R2018R5R2103R2020aR2102R2103hgoR2i97174R3R2018R5R2105R2020aR2104R2105hgoR2i10075R3R2018R5R2107R2020aR2106R2107hgoR2i27139R3R2018R5R2109R2020aR2108R2109hgoR2i37170R3R2018R5R2111R2020aR2110R2111hgoR2i24494R3R2018R5R2113R2020aR2112R2113hgoR2i23240R3R2018R5R2115R2020aR2114R2115hgoR2i23867R3R2018R5R2117R2020aR2116R2117hgoR2i57147R3R2018R5R2119R2020aR2118R2119hgoR2i62789R3R2018R5R2121R2020aR2120R2121hgoR2i63737R3R2018R5R2123R2020aR2122R2123hgoR2i91950R3R2018R5R2125R2020aR2124R2125hgoR2i63737R3R2018R5R2127R2020aR2126R2127hgoR2i42840R3R2018R5R2129R2020aR2128R2129hgoR2i17114R3R2018R5R2131R2020aR2130R2131hgoR2i18368R3R2018R5R2133R2020aR2132R2133hgoR2i13979R3R2018R5R2135R2020aR2134R2135hgoR2i11472R3R2018R5R2137R2020aR2136R2137hgoR2i97174R3R2018R5R2139R2020aR2138R2139hgoR2i43929R3R2018R5R2141R2020aR2140R2141hgoR2i13000R3R2018R5R2143R2020aR2142R2143hgoR2i8684R3R2018R5R2145R2020aR2144R2145hgoR2i27166R3R2018R5R2147R2020aR2146R2147hgoR2i37615R3R2018R5R2149R2020aR2148R2149hgoR2i11328R3R2018R5R2151R2020aR2150R2151hgoR2i29560R3R2018R5R2153R2020aR2152R2153hgoR2i6313R3R2018R5R2155R2020aR2154R2155hgoR2i28465R3R2018R5R2157R2020aR2156R2157hgoR2i25748R3R2018R5R2159R2020aR2158R2159hgoR2i13405R3R2018R5R2161R2020aR2160R2161hgoR2i15913R3R2018R5R2163R2020aR2162R2163hgoR2i11524R3R2018R5R2165R2020aR2164R2165hgoR2i49386R3R2018R5R2167R2020aR2166R2167hgoR2i42072R3R2018R5R2169R2020aR2168R2169hgoR2i30578R3R2018R5R2171R2020aR2170R2171hgoR2i76076R3R2018R5R2173R2020aR2172R2173hgoR2i77321R3R2018R5R2175R2020aR2174R2175hgoR2i67917R3R2018R5R2177R2020aR2176R2177hgoR2i62693R3R2018R5R2179R2020aR2178R2179hgoR2i10075R3R2018R5R2181R2020aR2180R2181hgoR2i22613R3R2018R5R2183R2020aR2182R2183hgoR2i23867R3R2018R5R2185R2020aR2184R2185hgoR2i28883R3R2018R5R2187R2020aR2186R2187hgoR2i21777R3R2018R5R2189R2020aR2188R2189hgoR2i23449R3R2018R5R2191R2020aR2190R2191hgoR2i16971R3R2018R5R2193R2020aR2192R2193hgoR2i138649R3R2018R5R2195R2020aR2194R2195hgoR2i136767R3R2018R5R2197R2020aR2196R2197hgoR2i123551R3R2018R5R2199R2020aR2198R2199hgoR2i23031R3R2018R5R2201R2020aR2200R2201hgoR2i15419R3R2018R5R2203R2020aR2202R2203hgoR2i14254R3R2018R5R2205R2020aR2204R2205hgoR2i1222058R3R2018R5y17:sound%2Ftheme.oggR2020aR2207y17:sound%2Ftheme.mp3hgoR2i2720642R3R2018R5y22:sound%2Ftheme_farm.oggR2020aR2209y22:sound%2Ftheme_farm.mp3hgoR2i4567892R3R2018R5y24:sound%2Ftheme_jungle.oggR2020aR2211y24:sound%2Ftheme_jungle.mp3hgoR2i2893684R3R2018R5y22:sound%2Ftheme_lava.oggR2020aR2213y22:sound%2Ftheme_lava.mp3hgoR2i2934522R3R2018R5y26:sound%2Ftheme_medieval.oggR2020aR2215y26:sound%2Ftheme_medieval.mp3hgoR2i3254530R3R2018R5y24:sound%2Ftheme_safari.oggR2020aR2217y24:sound%2Ftheme_safari.mp3hgoR2i2785328R3R2018R5y23:sound%2Ftheme_water.oggR2020aR2219y23:sound%2Ftheme_water.mp3hgoR2i3435110R3R2018R5y24:sound%2Ftheme_winter.oggR2020aR2221y24:sound%2Ftheme_winter.mp3hgoR2i988726R3R2018R5R2208R2020aR2207R2208hgoR2i1922611R3R2018R5R2210R2020aR2209R2210hgoR2i2808684R3R2018R5R2212R2020aR2211R2212hgoR2i2003068R3R2018R5R2214R2020aR2213R2214hgoR2i2114872R3R2018R5R2216R2020aR2215R2216hgoR2i2334301R3R2018R5R2218R2020aR2217R2218hgoR2i1826480R3R2018R5R2220R2020aR2219R2220hgoR2i2562088R3R2018R5R2222R2020aR2221R2222hgoR2i115992R3R2018R5y17:sound%2Fbirds.oggR2020aR2223y17:sound%2Fbirds.mp3hgoR2i655654R3R2018R5y16:sound%2Fcave.oggR2020aR2225y16:sound%2Fcave.mp3hgoR2i328628R3R2018R5y18:sound%2Fjungle.oggR2020aR2227y18:sound%2Fjungle.mp3hgoR2i284532R3R2018R5y17:sound%2Focean.oggR2020aR2229y17:sound%2Focean.mp3hgoR2i126006R3R2018R5y18:sound%2Fpeople.oggR2020aR2231y18:sound%2Fpeople.mp3hgoR2i407099R3R2018R5y17:sound%2Friver.oggR2020aR2233y17:sound%2Friver.mp3hgoR2i269511R3R2018R5y17:sound%2Fscary.oggR2020aR2235y17:sound%2Fscary.mp3hgoR2i286065R3R2018R5y27:sound%2Funderwater_loop.oggR2020aR2237y27:sound%2Funderwater_loop.mp3hgoR2i464815R3R2018R5y16:sound%2Fwind.oggR2020aR2239y16:sound%2Fwind.mp3hgoR2i95337R3R2018R5R2224R2020aR2223R2224hgoR2i402955R3R2018R5R2226R2020aR2225R2226hgoR2i269626R3R2018R5R2228R2020aR2227R2228hgoR2i246638R3R2018R5R2230R2020aR2229R2230hgoR2i114981R3R2018R5R2232R2020aR2231R2232hgoR2i340679R3R2018R5R2234R2020aR2233R2234hgoR2i309750R3R2018R5R2236R2020aR2235R2236hgoR2i389349R3R2018R5R2238R2020aR2237R2238hgoR2i424039R3R2018R5R2240R2020aR2239R2240hgoR0y21:particles%2Fapple.pngR2i5411R3R12R5R2241goR0y19:particles%2Fash.pngR2i1240R3R12R5R2242goR0y22:particles%2Fballon.pngR2i2877R3R12R5R2243goR0y22:particles%2Fbanana.pngR2i8447R3R12R5R2244goR0y23:particles%2Fbubbles.pngR2i5971R3R12R5R2245goR0y22:particles%2Fcage01.pngR2i690R3R12R5R2246goR0y22:particles%2Fcage02.pngR2i1239R3R12R5R2247goR0y24:particles%2Fcirclefx.pngR2i1200R3R12R5R2248goR0y23:particles%2Fcoconut.pngR2i5892R3R12R5R2249goR0y24:particles%2Fconfetti.pngR2i2699R3R12R5R2250goR0y19:particles%2Fegg.pngR2i3422R3R12R5R2251goR0y23:particles%2Ffeather.pngR2i11850R3R12R5R2252goR0y21:particles%2Fflare.pngR2i11089R3R12R5R2253goR0y23:particles%2Fflarefx.pngR2i1611R3R12R5R2254goR0y20:particles%2Ffood.pngR2i6070R3R12R5R2255goR0y20:particles%2Fglow.pngR2i6812R3R12R5R2256goR0y24:particles%2Fglow_dot.pngR2i7325R3R12R5R2257goR0y21:particles%2Fheart.pngR2i1780R3R12R5R2258goR0y25:particles%2Fhexagonfx.pngR2i678R3R12R5R2259goR0y20:particles%2Fleaf.pngR2i4568R3R12R5R2260goR0y19:particles%2Fore.pngR2i7858R3R12R5R2261goR0y23:particles%2Fpumpkin.pngR2i3452R3R12R5R2262goR0y22:particles%2Fringfx.pngR2i804R3R12R5R2263goR0y22:particles%2Fsmelly.pngR2i1001R3R12R5R2264goR0y20:particles%2Fsnow.pngR2i1227R3R12R5R2265goR0y22:particles%2Fstarfx.pngR2i3403R3R12R5R2266goR0y26:particles%2Fstar_on_02.pngR2i10486R3R12R5R2267goR0y27:icons%2Ffavicon-192x192.pngR2i44047R3R12R5R2268goR0y25:icons%2Ffavicon-32x32.pngR2i2562R3R12R5R2269goR0y27:icons%2Ffavicon-512x512.pngR2i221682R3R12R5R2270goR0y25:icons%2Ffavicon-96x96.pngR2i14475R3R12R5R2271gh","rootPath":null,"version":2,"libraryArgs":[],"libraryType":null}',
wa.rootPath);a=Wc.fromManifest(a);ea.registerLibrary("default",a);a=ea.getLibrary("default");null!=a?wa.preloadLibraries.push(a):wa.preloadLibraryNames.push("default")};Math.__name__="Math";var F=function(){};h.Reflect=F;F.__name__="Reflect";F.field=function(a,b){try{return a[b]}catch(c){return null}};F.getProperty=function(a,b){var c;if(null==a)return null;var d=a.__properties__?c=a.__properties__["get_"+b]:!1;return d?a[c]():a[b]};F.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,
d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};F.isFunction=function(a){return"function"==typeof a?!(a.__name__||a.__ename__):!1};F.compareMethods=function(a,b){return a==b?!0:F.isFunction(a)&&F.isFunction(b)?a.scope==b.scope&&a.method==b.method?null!=a.method:!1:!1};F.isObject=function(a){if(null==a)return!1;var b=typeof a;return"string"==b||"object"==b&&null==a.__enum__?!0:"function"==b?null!=(a.__name__||a.__ename__):!1};F.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,
b))return!1;delete a[b];return!0};var M=function(){};h.Std=M;M.__name__="Std";M.string=function(a){return L.__string_rec(a,"")};M.parseInt=function(a){if(null!=a)for(var b=0,c=a.length;b<c;){var d=b++,e=a.charCodeAt(d);if(8>=e||14<=e&&32!=e&&45!=e)if(b=a.charCodeAt(d+1),a=parseInt(a,120==b||88==b?16:10),isNaN(a))break;else return a}return null};M.random=function(a){return 0>=a?0:Math.floor(Math.random()*a)};var ra=function(){};h["_String.String_Impl_"]=ra;ra.__name__="_String.String_Impl_";ra.fromCharCode=
function(a){return String.fromCodePoint(a)};var Fa=function(){this.b=""};h.StringBuf=Fa;Fa.__name__="StringBuf";Fa.prototype={__class__:Fa};var oa=function(){};h.StringTools=oa;oa.__name__="StringTools";oa.htmlEscape=function(a,b){for(var c="",d=0,e=a;d<e.length;){a=e;var g=d++,k=a.charCodeAt(g);55296<=k&&56319>=k&&(k=k-55232<<10|a.charCodeAt(g+1)&1023);a=k;65536<=a&&++d;switch(a){case 34:c=b?c+"&quot;":c+String.fromCodePoint(a);break;case 38:c+="&amp;";break;case 39:c=b?c+"&#039;":c+String.fromCodePoint(a);
break;case 60:c+="&lt;";break;case 62:c+="&gt;";break;default:c+=String.fromCodePoint(a)}}return c};oa.startsWith=function(a,b){return a.length>=b.length?0==a.lastIndexOf(b,0):!1};oa.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c?a.indexOf(b,d-c)==d-c:!1};oa.isSpace=function(a,b){a=E.cca(a,b);return 8<a&&14>a?!0:32==a};oa.ltrim=function(a){for(var b=a.length,c=0;c<b&&oa.isSpace(a,c);)++c;return 0<c?E.substr(a,c,b-c):a};oa.rtrim=function(a){for(var b=a.length,c=0;c<b&&oa.isSpace(a,b-
c-1);)++c;return 0<c?E.substr(a,0,b-c):a};oa.trim=function(a){return oa.ltrim(oa.rtrim(a))};oa.lpad=function(a,b,c){if(0>=b.length)return a;var d="";for(c-=a.length;d.length<c;)d+=null==b?"null":""+b;return d+(null==a?"null":""+a)};oa.replace=function(a,b,c){return a.split(b).join(c)};oa.hex=function(a,b){for(var c="";c="0123456789ABCDEF".charAt(a&15)+c,a>>>=4,0<a;);if(null!=b)for(;c.length<b;)c="0"+c;return c};var Xa=K.ValueType={__ename__:"ValueType",__constructs__:null,TNull:{_hx_name:"TNull",
_hx_index:0,__enum__:"ValueType",toString:f},TInt:{_hx_name:"TInt",_hx_index:1,__enum__:"ValueType",toString:f},TFloat:{_hx_name:"TFloat",_hx_index:2,__enum__:"ValueType",toString:f},TBool:{_hx_name:"TBool",_hx_index:3,__enum__:"ValueType",toString:f},TObject:{_hx_name:"TObject",_hx_index:4,__enum__:"ValueType",toString:f},TFunction:{_hx_name:"TFunction",_hx_index:5,__enum__:"ValueType",toString:f},TClass:(I=function(a){return{_hx_index:6,c:a,__enum__:"ValueType",toString:f}},I._hx_name="TClass",
I.__params__=["c"],I),TEnum:(I=function(a){return{_hx_index:7,e:a,__enum__:"ValueType",toString:f}},I._hx_name="TEnum",I.__params__=["e"],I),TUnknown:{_hx_name:"TUnknown",_hx_index:8,__enum__:"ValueType",toString:f}};Xa.__constructs__=[Xa.TNull,Xa.TInt,Xa.TFloat,Xa.TBool,Xa.TObject,Xa.TFunction,Xa.TClass,Xa.TEnum,Xa.TUnknown];var La=function(){};h.Type=La;La.__name__="Type";La.resolveEnum=function(a){return K[a]};La.createInstance=function(a,b){return new (Function.prototype.bind.apply(a,[null].concat(b)))};
La.createEnum=function(a,b,c){var d=F.field(a,b);if(null==d)throw P.thrown("No such constructor "+b);if(F.isFunction(d)){if(null==c)throw P.thrown("Constructor "+b+" need parameters");return d.apply(a,c)}if(null!=c&&0!=c.length)throw P.thrown("Constructor "+b+" does not need parameters");return d};La.typeof=function(a){switch(typeof a){case "boolean":return Xa.TBool;case "function":return a.__name__||a.__ename__?Xa.TObject:Xa.TFunction;case "number":return Math.ceil(a)==a%2147483648?Xa.TInt:Xa.TFloat;
case "object":if(null==a)return Xa.TNull;var b=a.__enum__;if(null!=b)return Xa.TEnum(K[b]);a=L.getClass(a);return null!=a?Xa.TClass(a):Xa.TObject;case "string":return Xa.TClass(String);case "undefined":return Xa.TNull;default:return Xa.TUnknown}};La.enumParameters=function(a){var b=K[a.__enum__].__constructs__[a._hx_index].__params__;if(null!=b){for(var c=[],d=0;d<b.length;){var e=b[d];++d;c.push(a[e])}return c}return[]};var O={toFloat:function(a){return 0>a?4294967296+a:a+0}},Ca={toString:function(a){switch(a){case 0:return"Element";
case 1:return"PCData";case 2:return"CData";case 3:return"Comment";case 4:return"DocType";case 5:return"ProcessingInstruction";case 6:return"Document"}}},S=function(a){this.nodeType=a;this.children=[];this.attributeMap=new Ia};h.Xml=S;S.__name__="Xml";S.parse=function(a){return rd.parse(a)};S.createElement=function(a){var b=new S(S.Element);if(b.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element but found "+(null==b.nodeType?"null":Ca.toString(b.nodeType)));b.nodeName=a;return b};
S.createPCData=function(a){var b=new S(S.PCData);if(b.nodeType==S.Document||b.nodeType==S.Element)throw P.thrown("Bad node type, unexpected "+(null==b.nodeType?"null":Ca.toString(b.nodeType)));b.nodeValue=a;return b};S.createCData=function(a){var b=new S(S.CData);if(b.nodeType==S.Document||b.nodeType==S.Element)throw P.thrown("Bad node type, unexpected "+(null==b.nodeType?"null":Ca.toString(b.nodeType)));b.nodeValue=a;return b};S.createComment=function(a){var b=new S(S.Comment);if(b.nodeType==S.Document||
b.nodeType==S.Element)throw P.thrown("Bad node type, unexpected "+(null==b.nodeType?"null":Ca.toString(b.nodeType)));b.nodeValue=a;return b};S.createDocType=function(a){var b=new S(S.DocType);if(b.nodeType==S.Document||b.nodeType==S.Element)throw P.thrown("Bad node type, unexpected "+(null==b.nodeType?"null":Ca.toString(b.nodeType)));b.nodeValue=a;return b};S.createProcessingInstruction=function(a){var b=new S(S.ProcessingInstruction);if(b.nodeType==S.Document||b.nodeType==S.Element)throw P.thrown("Bad node type, unexpected "+
(null==b.nodeType?"null":Ca.toString(b.nodeType)));b.nodeValue=a;return b};S.createDocument=function(){return new S(S.Document)};S.prototype={get:function(a){if(this.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":Ca.toString(this.nodeType)));return this.attributeMap.h[a]},set:function(a,b){if(this.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":Ca.toString(this.nodeType)));this.attributeMap.h[a]=
b},exists:function(a){if(this.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":Ca.toString(this.nodeType)));return Object.prototype.hasOwnProperty.call(this.attributeMap.h,a)},attributes:function(){if(this.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element but found "+(null==this.nodeType?"null":Ca.toString(this.nodeType)));return new ce(this.attributeMap.h)},elements:function(){if(this.nodeType!=S.Document&&this.nodeType!=
S.Element)throw P.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":Ca.toString(this.nodeType)));for(var a=[],b=0,c=this.children;b<c.length;){var d=c[b];++b;d.nodeType==S.Element&&a.push(d)}return new id(a)},elementsNamed:function(a){if(this.nodeType!=S.Document&&this.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":Ca.toString(this.nodeType)));for(var b=[],c=0,d=this.children;c<d.length;){var e=
d[c];++c;if(e.nodeType==S.Element){if(e.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element but found "+(null==e.nodeType?"null":Ca.toString(e.nodeType)));var g=e.nodeName==a}else g=!1;g&&b.push(e)}return new id(b)},firstElement:function(){if(this.nodeType!=S.Document&&this.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":Ca.toString(this.nodeType)));for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;if(c.nodeType==
S.Element)return c}return null},addChild:function(a){if(this.nodeType!=S.Document&&this.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":Ca.toString(this.nodeType)));null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=S.Document&&this.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element or Document but found "+(null==this.nodeType?"null":Ca.toString(this.nodeType)));
return E.remove(this.children,a)?(a.parent=null,!0):!1},toString:function(){return Ce.print(this)},__class__:S};var Va=function(){};h["system.base.object.IXDisposeable"]=Va;Va.__name__="system.base.object.IXDisposeable";Va.__isInterface__=!0;Va.prototype={__class__:Va};var w=function(){};h["system.base.object.XDisposeable"]=w;w.__name__="system.base.object.XDisposeable";w.__interfaces__=[Va];w.prototype={dispose:function(){},__class__:w};var Qa=function(){};h["system.base.object.XBaseObject"]=Qa;
Qa.__name__="system.base.object.XBaseObject";Qa.__super__=w;Qa.prototype=m(w.prototype,{registerXEventListener:function(a,b,c){null==this.mXEventListenerMap&&(this.mXEventListenerMap=new Xc);var d=this.mXEventListenerMap.h[a.__id__];null==d&&(d=new qb,this.mXEventListenerMap.set(a,d));var e=d.h[b];null==e&&(e=[],d.h.hasOwnProperty(b)&&E.remove(d.mKeys,b),d.h[b]=e,d.mKeys.push(b));-1==e.indexOf(c)&&(e.push(c),a.addXEventListener(b,c))},releaseXEventListener:function(a,b,c){if(null!=this.mXEventListenerMap&&
null!=b&&null!=a){var d=this.mXEventListenerMap.h[a.__id__];null!=d&&(d=d.h[b],null!=d&&-1!=d.indexOf(c)&&(E.remove(d,c),a.removeXEventListener(b,c)))}},register:function(a){null==this.mRegisterList&&(this.mRegisterList=[]);this.mRegisterList.push(a);return a},unregister:function(a){return null!=this.mRegisterList?E.remove(this.mRegisterList,a):!1},dispose:function(){if(null!=this.mXEventListenerMap){for(var a=this.mXEventListenerMap.keys();a.hasNext();)for(var b=a.next(),c=this.mXEventListenerMap.h[b.__id__],
d=c.keys();d.hasNext();)for(var e=d.next(),g=c.h[e],k=0;k<g.length;){var q=g[k];++k;b.removeXEventListener(e,q)}this.mXEventListenerMap=null}if(null!=this.mRegisterList){for(;0<this.mRegisterList.length;)a=this.mRegisterList.pop(),null!=a&&a.dispose();this.mRegisterList=null}w.prototype.dispose.call(this)},__class__:Qa});var qc=function(){};h["system.base.event.IXEventDispatcher"]=qc;qc.__name__="system.base.event.IXEventDispatcher";qc.__isInterface__=!0;qc.__interfaces__=[Va];qc.prototype={__class__:qc};
var pa=function(){};h["system.base.event.XEvent"]=pa;pa.__name__="system.base.event.XEvent";pa.__super__=w;pa.prototype=m(w.prototype,{__class__:pa});var T=function(){this.mXEventListener=null};h["system.base.event.XEventDispatcher"]=T;T.__name__="system.base.event.XEventDispatcher";T.__interfaces__=[qc];T.__super__=Qa;T.prototype=m(Qa.prototype,{addXEventListener:function(a,b){null==this.mXEventListener&&(this.mXEventListener=new qb);var c=this.mXEventListener.h[a];if(null==c){c=[];var d=this.mXEventListener;
d.h.hasOwnProperty(a)&&E.remove(d.mKeys,a);d.h[a]=c;d.mKeys.push(a)}-1==c.indexOf(b)&&c.push(b)},removeXEventListener:function(a,b){null!=this.mXEventListener&&(a=this.mXEventListener.h[a],null!=a&&E.remove(a,b))},dispatchXEvent:function(a){var b=!1;if(null!=this.mXEventListener){a.stop=!1;a.target=this;var c=this.mXEventListener.h[a.type];if(null!=c){for(var d=0<T.sExecutor.length?T.sExecutor.pop():[],e=c.length,g=0;g<e;){var k=g++;d.push(c[e-k-1])}for(;0<d.length;)if(d.pop()(a),a.stop){for(b=!0;0<
d.length;)d.pop();break}T.sExecutor.push(d)}a.target=null}return!b},dispatchSimpleXEvent:function(a,b){var c=0<T.sStdEvents.length?T.sStdEvents.pop():new pa;c.type=a;c.data=b;a=this.dispatchXEvent(c);T.sStdEvents.push(c);return a},dispose:function(){this.dispatchSimpleXEvent("XEventDispatcher::dispose");this.mXEventListener=null;Qa.prototype.dispose.call(this)},__class__:T});var xa=function(){this.serverTimeDiff=0;this.started=!1;this.resourceEvent=new qf;this.resources={};this.vCardData={};this.mXEventListener=
null};h["backend.BackendLayer"]=xa;xa.__name__="backend.BackendLayer";xa.__super__=T;xa.prototype=m(T.prototype,{get_uid:function(){return Ua.instance.get_uid()},getServerTime:function(){return Math.round(H.get_now().getTime()-this.serverTimeDiff)},start:function(){this.get_connected()||(this.resources={},this.applyResources(Ua.instance.getSetting("resources",{})),this.onStarted());this.mVCardSO=xb.getLocal("vcard","zoo");if(null!=this.mVCardSO.data){for(var a=0,b=H.get_now().getTime()-432E6,c=F.fields(this.mVCardSO.data),
d=0;d<c.length;){var e=c[d];++d;var g=F.field(this.mVCardSO.data,e);null!=g&&(g.vcardCreationTime>b?(g.uid=e,this.vCardData[e]=new X(g)):(++a,F.deleteField(this.mVCardSO.data,e)))}0<a&&this.mVCardSO.flush()}},onStarted:function(){this.started=!0;this.dispatchSimpleXEvent("BackendLayer:READY_EVENT")},get_connected:function(){return!1},getResource:function(a){return Object.prototype.hasOwnProperty.call(this.resources,a)?F.field(this.resources,a):0},getDynamicResource:function(a){return Object.prototype.hasOwnProperty.call(this.resources,
a)?F.field(this.resources,a):null},setResource:function(a,b){var c=F.field(this.resources,a);this.resources[a]=b;Ua.instance.setSetting("resources",this.resources);Ua.instance.save();this.resourceEvent.type="RESOURCE_UPDATE";this.resourceEvent.resourceType=a;this.resourceEvent.resourceValue=b|0;this.resourceEvent.resourceOldValue=null!=c?c|0:null;this.resourceEvent.resource=b;this.resourceEvent.resourceOld=c;this.dispatchXEvent(this.resourceEvent);return b},addResource:function(a,b){b=this.getResource(a)+
b;this.setResource(a,b);return b},canAfford:function(a){if(null!=a)for(var b=F.fields(a),c=0;c<b.length;){var d=b[c];++c;if(this.getResource(d)<F.field(a,d))return!1}return!0},spend:function(a){if(null!=a&&this.canAfford(a)){for(var b=F.fields(a),c=0;c<b.length;){var d=b[c];++c;this.addResource(d,-F.field(a,d))}return!0}return!1},consume:function(a,b){if(null!=a)for(var c=F.fields(a),d=0;d<c.length;){var e=c[d];++d;this.addResource(e,F.field(a,e))}if(null!=b)for(c=F.fields(b),d=0;d<c.length;)e=c[d],
++d,this.setResource(e,F.field(b,e))},applyResources:function(a){if(null!=this.resources)for(var b=F.fields(this.resources),c=0;c<b.length;){var d=b[c];++c;Object.prototype.hasOwnProperty.call(a,d)||(a[d]=null)}b=F.fields(a);for(c=0;c<b.length;){d=b[c];++c;var e=F.field(this.resources,d),g=F.field(a,d);e!=g&&(this.resources[d]=g,this.resourceEvent.type="RESOURCE_UPDATE",this.resourceEvent.resourceType=d,this.resourceEvent.resourceValue=null!=g?g|0:null,this.resourceEvent.resourceOldValue=null!=e?
e|0:null,this.resourceEvent.resource=g,this.resourceEvent.resourceOld=e,this.dispatchXEvent(this.resourceEvent))}},getVCard:function(a,b){return ya.withValue(null)},getVCardTeam:function(a,b){return ya.withValue(null)},call:function(a,b){return ya.withValue({})},__class__:xa,__properties__:{get_uid:"get_uid",get_connected:"get_connected"}});var la=function(){xa.call(this)};h["backend.FirebaseLayer"]=la;la.__name__="backend.FirebaseLayer";la.__super__=xa;la.prototype=m(xa.prototype,{init:function(a){this.start()},
__class__:la});var W=function(){this.loggedIn=!1;this.mEventCounter=0;this.mPromiseMap=new nb;this.registerXEventListener(rc.get_instance(),"WebSocketManager:MESSAGE",l(this,this.onWebSocketMessage));this.registerXEventListener(rc.get_instance(),"WebSocketManager:CONNECTED",l(this,this.onWebSocketConnected));this.registerXEventListener(rc.get_instance(),"WebSocketManager:DISCONNECTED",l(this,this.onWebSocketDisconnected))};h["backend.ServerManager"]=W;W.__name__="backend.ServerManager";W.__properties__=
{get_instance:"get_instance"};W.get_instance=function(){null==W.instance&&(W.instance=new W);return W.instance};W.__super__=Qa;W.prototype=m(Qa.prototype,{init:function(){rc.get_instance().connect()},onWebSocketDisconnected:function(a){this.loggedIn=!1},onWebSocketConnected:function(a){var b=this,c={};this.sendEvent(3,{auth:c}).onComplete(function(a){b.onLoggedIn()}).onError(function(a){if(3==a.error.code)b.sendEvent(2,c).onComplete(function(a){b.onLoggedIn()})})},onWebSocketMessage:function(a){a=
a.data;if(null!=a){var b=a.i;if(this.mPromiseMap.h.hasOwnProperty(b)){var c=this.mPromiseMap.h[b];Object.prototype.hasOwnProperty.call(a,"error")?c.error(a):c.complete(a);this.mPromiseMap.remove(b)}}},sendEvent:function(a,b,c){null==c&&(c=!0);var d=null;switch(a){case 2:case 3:break;default:if(!this.loggedIn)return ya.withError({error:{code:2}})}a={e:a};null!=b&&(a.d=b);c&&(b=a.i=++this.mEventCounter,d=new Lb,this.mPromiseMap.h[b]=d);rc.get_instance().send(a);return null!=d?d.future:null},onLoggedIn:function(){var a=
this;this.loggedIn=!0;null!=this.mPingTimer&&(this.mPingTimer.stop(),this.mPingTimer=null);this.mPingTimer=new Pb(3E4);this.mPingTimer.run=function(){a.sendEvent(1,null,!1)}},__class__:W});var X=function(a){this.tournamentsWon=0;this.mXEventListener=null;this.applyData(a)};h["backend.VCard"]=X;X.__name__="backend.VCard";X.__super__=T;X.prototype=m(T.prototype,{applyData:function(a){if(null!=a){this.vCardCreationTime=null!=a.vcardCreationTime?a.vcardCreationTime:H.get_now().getTime();var b=this.uid;
this.uid=null!=a&&Object.prototype.hasOwnProperty.call(a,"uid")?F.field(a,"uid"):b;b=this.name;this.name=null!=a&&Object.prototype.hasOwnProperty.call(a,"name")?F.field(a,"name"):b;this.teamId=F.field(a,"teamId");this.cid=F.field(a,"cid");null==this.name?this.name="unknown":(b=this.name.indexOf(" "),1<b&&(this.name=this.name.substring(0,b)));b=this.icon;this.icon=null!=a&&Object.prototype.hasOwnProperty.call(a,"icon")?F.field(a,"icon"):b;b=this.tournamentsWon;this.tournamentsWon=null!=a&&Object.prototype.hasOwnProperty.call(a,
"tournaments_won")?F.field(a,"tournaments_won"):b}else this.name="unknown",this.vCardCreationTime=(new Date).getTime();this.dispatchSimpleXEvent("VCard::UPDATE")},applyPlayerData:function(a,b){null==b&&(b=!1);if(null!=a){var c=Lc.getFlagIcon(this.cid),d=a.find("uiImgFlag");null!=d&&d instanceof C&&d.set_image(c);c=a.findType("uiAvatarTeam",lb);null!=c&&c.set_id(this.teamId);c=a.find("uiImgTournamentWinner");if(null!=c){c.set_visible(0<this.tournamentsWon);c.applyTemplate(a.context.getTemplate(9<this.tournamentsWon?
"tTournamentFrame3":"tTournamentFrame2"));if(19<this.tournamentsWon&&(d=a.find("uiImgPlayerBG"),null!=d)){d.removeAllChildren();var e=ta.createInstanceFromString('<image template="tRays" halign="center" valign="center" />',a.context);null!=e&&(c=b?2.5:1,e.scale!=c&&e.invalidate(),e.scale=c,d.addChild(e))}49<this.tournamentsWon&&(null==a.preParticleEmitter&&(a.preParticleEmitter=new Yc),a.preParticleEmitter.numParticlesPerSecond=50,a.preParticleEmitter.desc.range=40)}}},__class__:X});var Qb=function(a){this.tournamentsWon=
0;this.mXEventListener=null;this.applyData(a)};h["backend.VCardTeam"]=Qb;Qb.__name__="backend.VCardTeam";Qb.__super__=T;Qb.prototype=m(T.prototype,{applyData:function(a){if(null!=a){this.vCardCreationTime=null!=a.vcardCreationTime?a.vcardCreationTime:H.get_now().getTime();this.cid=F.field(a,"cid");var b=this.uid;this.uid=null!=a&&Object.prototype.hasOwnProperty.call(a,"uid")?F.field(a,"uid"):b;b=this.name;this.name=null!=a&&Object.prototype.hasOwnProperty.call(a,"name")?F.field(a,"name"):b;b=this.badge;
this.badge=null!=a&&Object.prototype.hasOwnProperty.call(a,"badge")?F.field(a,"badge"):b;null==this.name&&(this.name="unknown");b=this.tournamentsWon;this.tournamentsWon=null!=a&&Object.prototype.hasOwnProperty.call(a,"tournaments_won")?F.field(a,"tournaments_won"):b}else this.name="unknown",this.vCardCreationTime=(new Date).getTime();this.dispatchSimpleXEvent("VCardTeam::UPDATE")},__class__:Qb});var u=function(){this.lastLevelFinished=0;this.lastLevelWon=!1;this.forceMoves=this.forceSingleBoost=
this.forceRowBoost=this.forceColumnBoost=this.forceSwizzleBoost=this.forceBackground=this.forceLevel=this.tournamentData=this.teamRank=this.lifeRestoreTimer=null;this.forceMode=this.hideScoreBoard=this.hideScore=this.hideTasks=this.hideFloatingPoints=this.hideBoost=this.hideShop=!1;this.levelToken=null;this.delayedResources={};xa.call(this);Bb.registerResourceIcon("mtx","ui/gold.png");Bb.registerResourceIcon("lifes","ui/life.png");Bb.registerResourceIcon("tempUnlimitedLife","ui/life.png");Bb.registerResourceIcon("singleHit",
"dynamic/hammer.png");Bb.registerResourceIcon("rowHit","dynamic/row.png");Bb.registerResourceIcon("columnHit","dynamic/column.png");Bb.registerResourceIcon("swizzle","dynamic/swizzle.png");Bb.registerResourceIcon("starterLine","dynamic/bee.png");Bb.registerResourceIcon("starterSkunk","dynamic/skunk.png");Bb.registerResourceIcon("starterOrb","dynamic/orb.png");Bb.registerResourceIcon("chestStars","ui/star_on.png");Bb.registerResourceIcon("moreMoves","ui/moves.png");this.mJennyVCard=new X({uid:"jenny",
name:"SID_JENNY_JUNGLE",icon:"dynamic/jenny_head.png"});this.registerXEventListener(this,"RESOURCE_UPDATE",l(this,this.onResourceUpdate));Ua.instance.firstRun&&this.firstRun()};h["backend.ZooBackendLayer"]=u;u.__name__="backend.ZooBackendLayer";u.__properties__={get_instance:"get_instance"};u.get_instance=function(){null==u.instance&&(u.instance=new u);return u.instance};u.__super__=la;u.prototype=m(la.prototype,{get_bestLevel:function(){return Math.max(1,this.getVisibleResource("level"))|0},get_maxLifes:function(){return u.config.settings.maxLifes},
get_starsPerChest:function(){return u.config.settings.starsPerChest},get_levelPerChest:function(){return u.config.settings.levelPerChest},isInRandomMode:function(){return(this.getVisibleResource("level")+1|0)>this.get_maxLevel()},get_nextLevel:function(){if(null!=this.forceLevel)return this.forceLevel;var a=this.getVisibleResource("level")+1|0;return a<=this.get_maxLevel()?a:0!=this.getResource("nextLevel")?this.getResource("nextLevel")|0:M.random(100)},get_maxLevel:function(){return Object.prototype.hasOwnProperty.call(this.resources,
"maxLevel")?Math.round(F.field(this.resources,"maxLevel")):null!=u.config&&null!=u.config.settings&&Object.prototype.hasOwnProperty.call(u.config.settings,"maxLevel")?u.config.settings.maxLevel:500},get_lifeRestoreDuration:function(){return null!=u.config&&null!=u.config.settings&&Object.prototype.hasOwnProperty.call(u.config.settings,"lifeRestoreDuration")?u.config.settings.lifeRestoreDuration:18E4},setStars:function(a,b){Ua.instance.getSetting("stars")[null==a?"null":""+a]=b},getStreak:function(){return Math.max(this.streakAtLevelStart,
this.getResource("streak"))|0},getStreakBonus:function(a){null==a&&(a=-1);-1==a&&(a=this.getStreak());return 0>=a?1:1+.1*(Math.pow(a,.2)-.5)},get_lifeUsedTime:function(){0==this.getResource("lifeUsedTime")&&(this.get_connected()||this.setResource("lifeUsedTime",H.get_now().getTime()));return this.getResource("lifeUsedTime")},set_lifeUsedTime:function(a){return this.get_connected()?a:this.setResource("lifeUsedTime",a)},onResourceUpdate:function(a){switch(a.resourceType){case "chestLevel":case "chestStars":case "level":case "lifes":case "mtx":"lifes"==
a.resourceType&&5>a.resourceValue&&this.checkForLifes();var b=Math.round((null==a.resourceValue?0:a.resourceValue)-(null==a.resourceOldValue?0:a.resourceOldValue));if(0<b){var c=this.delayedResources,d=a.resourceType;this.delayedResources[a.resourceType]=(null!=c&&Object.prototype.hasOwnProperty.call(c,d)?F.field(c,d):0)+b}else this.resourceEvent.type="ZooBackendLayer::VISIBLE_RESOURCE_UPDATE",this.resourceEvent.resourceType=a.resourceType,this.resourceEvent.resourceValue=a.resourceValue,this.resourceEvent.resourceOldValue=
a.resourceOldValue,this.dispatchXEvent(this.resourceEvent);break;case "tempUnlimitedLife":this.dispatchSimpleXEvent("ZooBackendLayer::tempBonusUpdate")}},getVisibleResource:function(a){var b=la.prototype.getResource.call(this,a),c=this.delayedResources;return b-(null!=c&&Object.prototype.hasOwnProperty.call(c,a)?F.field(c,a):0)},consumeDelayedResource:function(a,b){var c=Math.round(this.getVisibleResource(a));if(null==b)b=0;else{var d=this.delayedResources;b=(null!=d&&Object.prototype.hasOwnProperty.call(d,
a)?F.field(d,a):0)-b}0<b?this.delayedResources[a]=b:F.deleteField(this.delayedResources,a);this.resourceEvent.type="ZooBackendLayer::VISIBLE_RESOURCE_UPDATE";this.resourceEvent.resourceType=a;a=this.getVisibleResource(a);this.resourceEvent.resourceValue=Math.round(a);this.resourceEvent.resourceOldValue=c;this.dispatchXEvent(this.resourceEvent)},consumeAllDelayedResources:function(){for(var a=F.fields(this.delayedResources),b=0;b<a.length;){var c=a[b];++b;this.consumeDelayedResource(c)}},hasDelayedResources:function(){return 0<
F.fields(this.delayedResources).length},bypassBackend:function(){return this.forceMode?!0:null!=this.levelToken},firstRun:function(){this.addResource("lifes",5);this.addResource("mtx",200);this.addResource("singleHit",1);this.addResource("starterLine",1)},start:function(){this.delayedResources={};la.prototype.start.call(this)},onStarted:function(){this.consumeAllDelayedResources();la.prototype.onStarted.call(this);this.checkForLifes();this.dispatchSimpleXEvent("ZooBackendLayer::BEST_LEVEL");this.get_connected()&&
W.get_instance().init()},getNextLifeTime:function(){return Math.round(this.get_lifeRestoreDuration()-Math.min((new Date).getTime()-this.get_lifeUsedTime(),5*this.get_lifeRestoreDuration()))},secondsNewLife:function(){return.001*this.getNextLifeTime()},checkForLifes:function(){if(!this.bypassBackend()){var a=this.getNextLifeTime();0>a&&5>la.prototype.getResource.call(this,"lifes")?(this.set_lifeUsedTime(this.get_lifeUsedTime()+this.get_lifeRestoreDuration()),this.addResource("lifes",1),this.consumeDelayedResource("lifes")):
this.newLifeIn(a)}},newLifeIn:function(a){var b=this;if(0<a){var c=this.lifeRestoreTimer;null!=c&&c.dispose();this.dispatchSimpleXEvent("LIFE_TIMER_UPDATE");this.lifeRestoreTimer=new Pb(a);this.lifeRestoreTimer.run=function(){null!=b.lifeRestoreTimer&&b.lifeRestoreTimer.stop();b.lifeRestoreTimer=null;b.checkForLifes()}}},buy:function(a,b){this.consumeAllDelayedResources();b=F.field(u.config.buyables,a);if(null!=b){if(this.get_connected())return this.call("buy",{type:a});var c={};if(null!=b.costs&&
this.spend(b.costs)){c.costs=b.costs;c.resources=b.resources;c.pack=b;this.consume(b.resources);for(var d=F.fields(b.costs),e=0;e<d.length;){var g=d[e];++e;Wb.get_instance().trackCustomEvent(g,a,F.field(b.costs,g))}return ya.withValue(c)}B.instance.addScreen(new rf);return ya.withError(c)}return ya.withError(8)},startLevel:function(a,b){if(this.bypassBackend())return ya.withValue({});if(this.get_connected())return this.streakAtLevelStart=this.getResource("streak")|0,this.call("startLevel",{level:a,
jumpStarter:b});this.mLifesAtLevelStart=Math.round(this.getResource("lifes"));if(1<=this.mLifesAtLevelStart){5==this.mLifesAtLevelStart&&this.set_lifeUsedTime((new Date).getTime());this.streakAtLevelStart=this.getResource("streak")|0;var c=a={revives:0};c.streak=0;var d={};a=d;var e="attempts",g=0;Object.prototype.hasOwnProperty.call(a,e)&&(g=F.field(a,e));a[e]=g+1;this.hasTemporaryBonus("tempUnlimitedLife")||(a=d,e="lifes",g=0,Object.prototype.hasOwnProperty.call(a,e)&&(g=F.field(a,e)),a[e]=g+-1);
for(e=0;e<b.length;){var k=b[e];++e;a=d;g=0;Object.prototype.hasOwnProperty.call(a,k)&&(g=F.field(a,k));a[k]=g+-1}this.consume(d,c)}return ya.withValue({})},finishLevel:function(a,b,c){var d=this;if(this.bypassBackend())return ya.withValue({});if(this.get_connected())return this.call("finishLevel",{level:a,score:b,stars:c,ml:this.get_maxLevel()}).onComplete(function(a){d.consumeDelayedResource("lifes")});var e={},g={};g.streak=this.streakAtLevelStart+1;this.streakAtLevelStart=0;(this.getResource("lifes")<
this.mLifesAtLevelStart||5>this.getResource("lifes"))&&!this.hasTemporaryBonus("tempUnlimitedLife")&&(e.lifes=1);a==this.getResource("nextLevel")?(e.chestLevel=1,e.chestStars=c):(this.setStars(a,c),e.chestStars=c,e.chestLevel=1);g.attempts=0;e.score=b;a>this.getResource("level")&&(g.level=a);if(a>=this.get_maxLevel()||0!=this.getResource("nextLevel"))g.nextLevel=M.random(this.get_maxLevel()-50)+50;this.consume(e,g);this.consumeDelayedResource("lifes");return ya.withValue({})},rewardedAdForLife:function(){if(this.get_connected())return this.call("earnLife",
{uid:this.get_uid()});this.addResource("lifes",1);return ya.withValue({})},openChest:function(a){if(this.bypassBackend()||"star"==a&&this.getResource("chestStars")<this.get_starsPerChest()||"level"==a&&this.getResource("chestLevel")<this.get_levelPerChest())return ya.withError({});if(this.get_connected())return this.call("openChest",{type:"star"==a?"star":"level"});for(var b=this.getRandomEntries(u.config.chest,3),c=Array(b.length),d=0,e=b.length;d<e;){var g=d++;c[g]=this.getRandomEntries(b[g].sub,
1)[0].resources}d=u.config.settings.maxLifes-Math.round(this.getResource("lifes"));0<d&&!this.hasTemporaryBonus("tempUnlimitedLife")&&(c.pop(),c.push({lifes:M.random(d)+1}));"star"==a?c.push({chestStars:-this.get_starsPerChest()}):c.push({chestLevel:-this.get_levelPerChest()});for(d=0;d<c.length;)a=c[d],++d,this.consume(a);c.pop();return ya.withValue({rewards:c})},dailyReady:function(a){null==a&&(a=!1);if(12>this.get_nextLevel())return!1;a=new Date(this.getResource(a?"dailyPickupRewarded":"dailyPickup"));
var b=H.get_now();return b.getDate()+31*b.getMonth()!=a.getDate()+31*a.getMonth()},openDaily:function(a,b){if(this.bypassBackend())return ya.withError({});if(this.get_connected())return this.call("openDaily",{type:b?"rewarded":"",idx:a,timeDiff:this.serverTimeDiff});if(this.dailyReady(b)){for(var c=this.getRandomEntries(u.config.chest,7),d=Array(c.length),e=0,g=c.length;e<g;){var k=e++;d[k]=this.getRandomEntries(c[k].sub,1)[0].resources}a=d[a%d.length];c=H.get_now().getTime();e={};e[b?"dailyPickupRewarded":
"dailyPickup"]=c;this.consume(a,e);return ya.withValue({rewards:d})}return ya.withError({})},usePowerup:function(a){return 0<this.getResource(a)?(this.addResource(a,-1),ya.withValue(!0)):ya.withError(!1)},getRandomEntries:function(a,b){for(var c=Ka.fold(a,function(a,b){return b+a.weight},0),d=[];d.length<b;){for(var e=M.random(c)-a[0].weight,g=0;0<e;)++g,e-=a[g].weight;e=a[g];-1==d.indexOf(e)&&d.push(e)}return d},gamble:function(){if(0==this.getResource("revives")){if(this.get_connected())return this.call("gamble",
{});for(var a=this.getRandomEntries(u.config.gamble,8),b=a.indexOf(this.getRandomEntries(a,1)[0]),c=Array(a.length),d=0,e=a.length;d<e;){var g=d++;c[g]=this.getRandomEntries(a[g].sub,1)[0].resources}a=c[b];a="moreMoves"==a.resource?{}:a;d=0;Object.prototype.hasOwnProperty.call(a,"revives")&&(d=F.field(a,"revives"));a.revives=d+1;this.consume(a);return ya.withValue({rewards:c,idx:b})}return ya.withError(6)},earn:function(){if(this.get_connected())return this.call("earn",{});this.consume(u.config.settings.adReward);
return ya.withValue({reward:u.config.settings.adReward})},getTournamentHighscore:function(){var a=new Lb;a.error({});return a.future},hasOpenTournamentReward:function(){if(null!=this.tournamentData&&this.tournamentData.endTime<H.get_now().getTime()){var a=this.tournamentData.members,b=this.get_uid();if(Object.prototype.hasOwnProperty.call(a,b)&&(a=F.field(this.tournamentData.members,this.get_uid()),null!=a))return 1!=a.fetched}return!1},createTeam:function(a,b,c){var d=this;if(this.get_connected()){var e=
new Lb;this.call("teams-create",{uid:this.get_uid(),name:a,desc:b,badge:c}).onComplete(function(a){d.getVCard(d.get_uid(),!0).onComplete(function(b){d.set_teamId(a.teamId);d.teamRank=0;e.complete(a)})});return e.future}return ya.withError(8)},declineInvitation:function(a){var b=this;if(this.get_connected()){var c=new Lb;this.call("teams-decline",{teamId:a}).onComplete(function(a){b.getVCard(b.get_uid(),!0).onComplete(function(b){c.complete(a)})});return c.future}return ya.withError(8)},acceptInvitation:function(a){var b=
this;if(this.get_connected()){var c=new Lb;this.call("teams-accept",{teamId:a}).onComplete(function(a){b.getVCard(b.get_uid(),!0).onComplete(function(d){b.teamRank=2;b.set_teamId(d.teamId);c.complete(a)})});return c.future}return ya.withError(8)},removeFromTeam:function(a){return this.get_connected()?this.call("teams-remove",{uid:a}):ya.withError(8)},promote:function(a){return this.get_connected()?this.call("teams-promote",{uid:a}):ya.withError(8)},demote:function(a){return this.get_connected()?this.call("teams-demote",
{uid:a}):ya.withError(8)},teamInvite:function(a){return this.get_connected()?this.call("teams-invite",{uid:a}):ya.withError(8)},quitTeam:function(){var a=this;if(this.get_connected()){var b=new Lb;this.call("teams-quit",{}).onComplete(function(c){a.teamRank=-1;a.set_teamId(null);b.complete(c)});return b.future}return ya.withError("not connected")},setCId:function(a){return ya.withError("No Firebase")},setPlayerDescription:function(a){return ya.withError("No Firebase")},set_teamId:function(a){a!=this.teamId&&
(this.teamId=a,this.getVCard(this.get_uid(),!0),this.dispatchSimpleXEvent("TEAM_UPDATE",a));return this.teamId},getVCard:function(a,b){null==b&&(b=!1);return"jenny"==a?ya.withValue(this.mJennyVCard):la.prototype.getVCard.call(this,a,b)},editTeam:function(a){return this.call("teams-edit",a)},requestUnlimitedLife:function(){if(this.bypassBackend())return ya.withValue({});if(this.get_connected())return this.call("requestUnlimitedLife",{});var a=this.getTemporaryBonusDuration("tempUnlimitedLife");if(a<
-u.config.settings.dailyUnlimitedLifeCoolDown){var b=u.config.settings.dailyUnlimitedLifeDuration;this.setResource("tempUnlimitedLife",this.getServerTime()+Math.max(0,1E3*a)+1E3*b);return ya.withValue({duration:b})}return ya.withValue({})},hasTemporaryBonus:function(a){return"tempUnlimitedLife"==a?0<this.getTemporaryBonusDuration(a):!1},getTemporaryBonusDuration:function(a){return"tempUnlimitedLife"==a?.001*(this.getResource(a)-this.getServerTime()):0},levelWon:function(a,b,c){this.lastLevelWon=!0;
ka.get_instance().trackStats("stars",null,b);Ua.instance.save()},__class__:u,__properties__:m(la.prototype.__properties__,{get_lifeRestoreDuration:"get_lifeRestoreDuration",set_lifeUsedTime:"set_lifeUsedTime",get_lifeUsedTime:"get_lifeUsedTime",set_teamId:"set_teamId",get_nextLevel:"get_nextLevel",get_bestLevel:"get_bestLevel",get_levelPerChest:"get_levelPerChest",get_starsPerChest:"get_starsPerChest",get_maxLifes:"get_maxLifes",get_maxLevel:"get_maxLevel"})});var Ra=function(){this.base=new ic;this.mChildren=
[];this.mXEventListener=null};h["system.gfx.render.RenderNode"]=Ra;Ra.__name__="system.gfx.render.RenderNode";Ra.__super__=T;Ra.prototype=m(T.prototype,{addChild:function(a,b){null==b&&(b=-1);-1==b?this.mChildren.push(a):this.mChildren.splice(b,0,a)},draw:function(){},render:function(){p.sCurrentView.pushTranslationMatrix();p.sCurrentView.applyTranslationMatrix(this.base.matrix());this.draw();for(var a=0,b=this.mChildren;a<b.length;){var c=b[a];++a;c.render()}p.sCurrentView.popTranslationMatrix()},
update:function(){for(var a=0,b=this.mChildren;a<b.length;){var c=b[a];++a;c.update()}},dispose:function(){var a=this.base;null!=a&&a.dispose();this.base=null;T.prototype.dispose.call(this)},__class__:Ra});var Ja=function(){this.clear=!0;this.fogColor=new ja(.8901960784313725,.9215686274509803,1,0);this.fogSettings=new ja;this.renderPass=Ci.STANDARD;this.matrix=Q._new();this.translationMatrix=Q._new();this.mTranslationMatrixStack=[];var a=new ja(1,1,0),b=1/Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);a.x*=
b;a.y*=b;a.z*=b;this.light=a;this.camera=new sf;Ra.call(this)};h["system.gfx.render.RenderView"]=Ja;Ja.__name__="system.gfx.render.RenderView";Ja.__super__=Ra;Ja.prototype=m(Ra.prototype,{update:function(){if(null!=this.cameraController&&(this.cameraController.update(),null!=this.shadowView)){var a=L.__cast(this.shadowView.camera,tf);if(null!=a){var b=this.cameraController.cameraBase.pos,c=ja.MAD(ja.sTempV3D[++ja.sTempV3DIdx%ja.sTempV3DLen],this.cameraController.cameraBase.pos,this.light,100);a.lookAt(b,
c,ja.Y_AXIS);a.width=a.height=Math.max(2,1.7*this.camera.pos.y)}}a=this.fogSettings;b=0;null==b&&(b=1);a.x=this.camera.far;a.y=.75*this.camera.far;a.z=0;a.w=b;Ra.prototype.update.call(this)},render:function(){if(null!=this.renderTarget){var a=this.renderTarget;p.instance.setFramebuffer(a.mFramebuffer);null!=a.mDepthBuffer&&p.instance.setDepthbuffer(a.mDepthBuffer);p.gl.viewport(0,0,a.width,a.height);p.gl.enable(p.gl.DEPTH_TEST);if(this.clear){a=this.renderTarget;var b=this.fogColor,c=p.instance;c.mFrameBufferStack.push(c.currentFramebuffer);
p.instance.setFramebuffer(a.mFramebuffer);null!=a.mDepthBuffer&&(c=p.instance,c.mDepthBufferStack.push(c.currentDepthbuffer),p.instance.setDepthbuffer(a.mDepthBuffer));null!=b&&p.gl.clearColor(b.x,b.y,b.z,b.w);p.gl.clear(p.gl.COLOR_BUFFER_BIT|p.gl.DEPTH_BUFFER_BIT);null!=a.mDepthBuffer&&(a=p.instance,a.setDepthbuffer(a.mDepthBufferStack.pop()));a=p.instance;a.setFramebuffer(a.mFrameBufferStack.pop())}}else p.instance.setDefaultRenderTarget();a=this.matrix;a[0]=1;a[4]=0;a[8]=0;a[12]=0;a[1]=0;a[5]=
1;a[9]=0;a[13]=0;a[2]=0;a[6]=0;a[10]=1;a[14]=0;a[3]=0;a[7]=0;a[11]=0;a[15]=1;Ra.prototype.render.call(this)},pushTranslationMatrix:function(){this.mTranslationMatrixStack.push(Q.copyFrom(Q.getM3D(),this.translationMatrix))},applyTranslationMatrix:function(a){var b=this.translationMatrix,c=b[0]*a[1]+b[1]*a[5]+b[2]*a[9]+b[3]*a[13],d=b[0]*a[2]+b[1]*a[6]+b[2]*a[10]+b[3]*a[14],e=b[0]*a[3]+b[1]*a[7]+b[2]*a[11]+b[3]*a[15],g=b[4]*a[0]+b[5]*a[4]+b[6]*a[8]+b[7]*a[12],k=b[4]*a[1]+b[5]*a[5]+b[6]*a[9]+b[7]*a[13],
q=b[4]*a[2]+b[5]*a[6]+b[6]*a[10]+b[7]*a[14],t=b[4]*a[3]+b[5]*a[7]+b[6]*a[11]+b[7]*a[15],n=b[8]*a[0]+b[9]*a[4]+b[10]*a[8]+b[11]*a[12],f=b[8]*a[1]+b[9]*a[5]+b[10]*a[9]+b[11]*a[13],p=b[8]*a[2]+b[9]*a[6]+b[10]*a[10]+b[11]*a[14],h=b[8]*a[3]+b[9]*a[7]+b[10]*a[11]+b[11]*a[15],m=b[12]*a[0]+b[13]*a[4]+b[14]*a[8]+b[15]*a[12],l=b[12]*a[1]+b[13]*a[5]+b[14]*a[9]+b[15]*a[13],G=b[12]*a[2]+b[13]*a[6]+b[14]*a[10]+b[15]*a[14],y=b[12]*a[3]+b[13]*a[7]+b[14]*a[11]+b[15]*a[15];b[0]=b[0]*a[0]+b[1]*a[4]+b[2]*a[8]+b[3]*a[12];
b[4]=g;b[8]=n;b[12]=m;b[1]=c;b[5]=k;b[9]=f;b[13]=l;b[2]=d;b[6]=q;b[10]=p;b[14]=G;b[3]=e;b[7]=t;b[11]=h;b[15]=y;return b},popTranslationMatrix:function(){var a=this.mTranslationMatrixStack.pop();Q.copyFrom(this.translationMatrix,a);Q.recycleM3D(a)},__class__:Ja});var G=function(){var a=this;Ja.call(this);ea.loadImage("splash/logo.jpg",!1).onComplete(function(b){if(null!=b)a.onLoadReady(b)})};h["boot.Splash"]=G;G.__name__="boot.Splash";G.__properties__={get_instance:"get_instance"};G.get_instance=function(){return G.sInstance=
null!=G.sInstance?G.sInstance:new G};G.__super__=Ja;G.prototype=m(Ja.prototype,{onScreenSizeChanged:function(a){a=this.mPresenter.modelMatrix;a[0]=1;a[4]=0;a[8]=0;a[12]=0;a[1]=0;a[5]=1;a[9]=0;a[13]=0;a[2]=0;a[6]=0;a[10]=1;a[14]=0;a[3]=0;a[7]=0;a[11]=0;a[15]=1;var b=p.instance.width/p.instance.height,c=1<b?.25:.5;a=this.mPresenter.modelMatrix;b=-c*b/2.4;a[0]*=c;a[1]*=b;a[2]*=0;a[4]*=c;a[5]*=b;a[6]*=0;a[8]*=c;a[9]*=b;a[10]*=0;a[12]*=c;a[13]*=b;a[14]*=0},onLoadReady:function(a){this.mPresenter=new jc(this.mTexture=
new Za(a));this.addChild(this.mPresenter);this.registerXEventListener(p.instance,"SIZE_CHANGED",l(this,this.onScreenSizeChanged));this.onScreenSizeChanged()},render:function(){p.gl.enable(p.gl.BLEND);p.gl.blendFunc(p.gl.SRC_ALPHA,p.gl.ONE_MINUS_SRC_ALPHA);p.gl.disable(p.gl.DEPTH_TEST);p.gl.disable(p.gl.CULL_FACE);Ja.prototype.render.call(this);p.gl.disable(p.gl.BLEND);p.gl.enable(p.gl.DEPTH_TEST);p.gl.enable(p.gl.CULL_FACE)},dispose:function(){null!=this.mPresenter&&(this.mPresenter.dispose(),this.mPresenter=
null);var a=this.mTexture;null!=a&&a.dispose();this.mTexture=null;E.remove(p.instance.views,this);Ja.prototype.dispose.call(this)},__class__:G});var ub=function(){};h["data.LevelBalancing"]=ub;ub.__name__="data.LevelBalancing";ub.getLevelScore=function(a){if(150>=a){var b=ub.mScore[a-1];7>=a&&(b=Math.round(b/2));return b}return 5E3};ub.ratioToDifficulty=function(a){return 3>a?0:10>a?1:2};ub.getLevelDifficulty=function(a){if(12==a)return ya.withValue(1);if(150>=a)return ya.withValue(ub.ratioToDifficulty(ub.mRatio[a-
1]));var b=ub.mLevelDifficulty.h[a];if(null==b){var c=new Lb;ea.loadText("level/level"+ma.ndigits(a,4)+".json").onComplete(function(a){null!=a?(a=JSON.parse(a),c.complete(ub.ratioToDifficulty(a.ratio))):c.error({})});b=c.future;ub.mLevelDifficulty.h[a]=b}return b};var U=function(){};h["external.famobi.FamobiTracking"]=U;U.__name__="external.famobi.FamobiTracking";U.trackEvent=function(a,b){void 0!=window.famobi_tracking&&window.famobi_tracking.trackEvent(a,b)};var y=function(){};h["game.Command"]=
y;y.__name__="game.Command";y.__interfaces__=[Va];y.prototype={get_startTime:function(){return this.startTime},set_startTime:function(a){return this.startTime=a},execute:function(){this.dispose()},dispose:function(){},__class__:y,__properties__:{set_startTime:"set_startTime",get_startTime:"get_startTime"}};var Ld=function(a,b,c,d){null==d&&(d=!1);this.mColumn=a;this.mRow=b;this.mOverlayType=c;this.mDynamic=d};h["game.AddOverlayCommand"]=Ld;Ld.__name__="game.AddOverlayCommand";Ld.__super__=y;Ld.prototype=
m(y.prototype,{execute:function(){switch(this.mOverlayType){case "FLIES":new De(this.mColumn,this.mRow,this.mDynamic);break;case "LEAF":new Ee(this.mColumn,this.mRow,this.mDynamic);break;case "SNOWFLAKE":new Fe(this.mColumn,this.mRow,this.mDynamic);break;default:throw P.thrown("Unkown overlay!");}y.prototype.execute.call(this)},__class__:Ld});var Mc=function(a){var b=this.startPos=new n,c=a.getMiddle();b.x=c.x;b.y=c.y;b.w=c.w;this.mChicken=a;null==Mc.sTargets&&(Mc.sTargets=[],v.get_instance().addXEventListener("COMMAND_STACK_EMPTY",
Mc.onCommandsEmpty))};h["game.AddRandomEggCommand"]=Mc;Mc.__name__="game.AddRandomEggCommand";Mc.onCommandsEmpty=function(a){for(a=Mc.sTargets;0<a.length;)a.pop()};Mc.__super__=y;Mc.prototype=m(y.prototype,{execute:function(){for(var a=v.get_instance().stones,b=[],c=0;c<a.length;){var d=a[c];++c;null!=d&&d.gem&&d.get_valid()&&-1==Mc.sTargets.indexOf(d)&&null==Da.getOverlay(d.column,d.row)&&b.push(d)}0<b.length?(a=b[M.random(b.length)],Mc.sTargets.push(a),v.get_instance().addCommand(.6,new Md(a,new de,
ee.Starter)),v.get_instance().animations.addChild(new uf(.6,this.startPos,a.getMiddle()))):v.get_instance().finishAnimation(this.mChicken,"CRACKLING");y.prototype.execute.call(this)},dispose:function(){this.startPos=this.mChicken=null;y.prototype.dispose.call(this)},__class__:Mc});var Nc=function(a){this.startPos=new n;this.source=a;a=this.startPos;var b=this.source.getMiddle();a.x=b.x;a.y=b.y;a.w=b.w;null==Nc.sTargets&&(Nc.sTargets=[],v.get_instance().addXEventListener("COMMAND_STACK_EMPTY",Nc.onCommandsEmpty))};
h["game.AddRandomFliesCommand"]=Nc;Nc.__name__="game.AddRandomFliesCommand";Nc.onCommandsEmpty=function(a){for(a=Nc.sTargets;0<a.length;)a.pop()};Nc.__super__=y;Nc.prototype=m(y.prototype,{execute:function(){for(var a=v.get_instance().stones,b=[],c=0;c<a.length;){var d=a[c];++c;null!=d&&d.gem&&-1==Nc.sTargets.indexOf(d)&&null==Da.getOverlay(d.column,d.row)&&b.push(d)}0<b.length?(a=b[M.random(b.length)],Nc.sTargets.push(a),v.get_instance().addCommand(1,new Ld(a.column,a.row,"FLIES",!1)),v.get_instance().animations.addChild(new vf(1,
this.startPos,a.getMiddle()))):v.get_instance().finishAnimation(this.source,"FLIES");y.prototype.execute.call(this)},dispose:function(){this.startPos=this.source=null;y.prototype.dispose.call(this)},__class__:Nc});var Aa={_new:function(a){if(null==a||9!=a.length)a=Aa.sIdentityArray,a=null!=a?new Float32Array(a):null;return a},copyFrom:function(a,b){a[0]=b[0];a[3]=b[3];a[6]=b[6];a[1]=b[1];a[4]=b[4];a[7]=b[7];a[2]=b[2];a[5]=b[5];a[8]=b[8];return a},makeIdentity:function(a){a[0]=1;a[3]=0;a[6]=0;a[1]=
0;a[4]=1;a[7]=0;a[2]=0;a[5]=0;a[8]=1;return a},scale:function(a,b,c){a[0]*=b;a[3]*=b;a[6]*=b;a[1]*=c;a[4]*=c;a[7]*=c},translateXY:function(a,b,c){var d=a[1]+a[2]*c,e=a[2],g=a[3]+a[5]*b,k=a[4]+a[5]*c,q=a[5],t=a[6]+a[8]*b;c=a[7]+a[8]*c;var n=a[8];a[0]+=a[2]*b;a[3]=g;a[6]=t;a[1]=d;a[4]=k;a[7]=c;a[2]=e;a[5]=q;a[8]=n},rotate:function(a,b){b=b*Math.PI/180;var c=Math.cos(b);b=Math.sin(b);var d=a[0]*b+a[1]*c,e=a[3]*c+a[4]*-b,g=a[3]*b+a[4]*c,k=a[6]*c+a[7]*-b,q=a[6]*b+a[7]*c;a[0]=a[0]*c+a[1]*-b;a[3]=e;a[6]=
k;a[1]=d;a[4]=g;a[7]=q},mul:function(a,b){Aa.MUL(a,a,b);return a},MUL:function(a,b,c){var d=b[0]*c[1]+b[1]*c[4]+b[2]*c[7],e=b[0]*c[2]+b[1]*c[5]+b[2]*c[8],g=b[3]*c[0]+b[4]*c[3]+b[5]*c[6],k=b[3]*c[1]+b[4]*c[4]+b[5]*c[7],q=b[3]*c[2]+b[4]*c[5]+b[5]*c[8],t=b[6]*c[0]+b[7]*c[3]+b[8]*c[6],n=b[6]*c[1]+b[7]*c[4]+b[8]*c[7],f=b[6]*c[2]+b[7]*c[5]+b[8]*c[8];a[0]=b[0]*c[0]+b[1]*c[3]+b[2]*c[6];a[3]=g;a[6]=t;a[1]=d;a[4]=k;a[7]=n;a[2]=e;a[5]=q;a[8]=f;return a}},n=function(a,b,c){null==c&&(c=1);null==b&&(b=0);null==
a&&(a=0);this.x=a;this.y=b;this.w=c};h["system.gfx.math.V2D"]=n;n.__name__="system.gfx.math.V2D";n.SUB=function(a,b,c){a.x=b.x-c.x;a.y=b.y-c.y;return a};n.MAD=function(a,b,c,d){a.x=b.x+c.x*d;a.y=b.y+c.y*d;return a};n.LERP=function(a,b,c,d){var e=1-d;a.x=b.x*e+c.x*d;a.y=b.y*e+c.y*d;return a};n.NORMALIZE=function(a,b){a.x=b.x;a.y=b.y;a.w=b.w;b=1/Math.sqrt(a.x*a.x+a.y*a.y);a.x*=b;a.y*=b;return a};n.BEZIER=function(a,b,c,d,e){var g=0;null==g&&(g=1);a.x=0;a.y=0;a.w=g;g=(1-e)*(1-e);a.x+=b.x*g;a.y+=b.y*
g;g=2*e*(1-e);a.x+=c.x*g;a.y+=c.y*g;g=e*e;a.x+=d.x*g;a.y+=d.y*g;return a};n.prototype={multiplyMatrix:function(a){var b=this.x,c=this.y;this.x=a[0]*b+a[3]*c+a[6];this.y=a[1]*b+a[4]*c+a[7];return this},multiplyNonTransMatrix:function(a){var b=this.x,c=this.y;this.x=a[0]*b+a[3]*c;this.y=a[1]*b+a[4]*c;return this},__class__:n};var sa=function(a){this.mMiddle=new n;this.touched=!1;this.resultMatrix=Aa._new();this.resultOffsetColor=0;this.resultWidth=this.resultHeight=this.resultAlpha=this.resultColorR=
this.resultColorG=this.resultColorB=1;this.parent=this.calcParent=this.preParticleEmitter=this.postParticleEmitter=null;this.children=[];this.mAnimations=this.mStates=this.highlightAnimation=null;this.invalid=!0;this.numChildren=0;this.drag=this.data=null;this.enabled=this.clickableChildren=!0;this.dragable=this.clickable=!1;this.tooltip=null;this.valign="top";this.halign="left";this.colorOffset=0;this.colorR=this.colorG=this.colorB=1;this.color=-1;this.absolute=this.highlight=!1;this.visible=!0;
this.rotation=0;this.ratio=null;this.alpha=1;this.margin=this.marginLeft=this.marginRight=this.marginTop=this.marginBottom=this.padding=this.paddingLeft=this.paddingRight=this.paddingTop=this.paddingBottom=0;this.scaleX=this.scaleY=this.scale=1;this.pivotX=this.pivotY=.5;this.relativeWidth=this.relativeHeight=null;this.width=this.height=NaN;this.relativeX=this.relativeY=null;this.x=this.y=0;this.context=this.name=null;this.context=a;this.mXEventListener=null};h["system.gfx.ui.elements.XDisplayObject"]=
sa;sa.__name__="system.gfx.ui.elements.XDisplayObject";sa.__super__=T;sa.prototype=m(T.prototype,{set_visible:function(a){this.visible!=a&&this.invalidate();return this.visible=a},write:function(a){null==this.preParticleEmitter&&null==this.postParticleEmitter||null==this.preParticleEmitter||this.preParticleEmitter.write(a,this.resultAlpha,this.resultWidth,this.resultHeight,this.resultMatrix);for(var b=0,c=this.children;b<c.length;){var d=c[b];++b;d.visible&&d.write(a)}null!=this.postParticleEmitter&&
this.postParticleEmitter.write(a,this.resultAlpha,this.resultWidth,this.resultHeight,this.resultMatrix)},update:function(){if(this.visible){if(this.invalid||null!=this.mAnimations&&0<this.mAnimations.length||null!=this.highlightAnimation&&this.highlightAnimation.active)if(this.calc(),this.invalid=!1,null!=this.children)for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;c.invalidate()}a=0;for(b=this.children;a<b.length;)c=b[a],++a,c.update()}},invalidate:function(){this.invalid||(this.invalid=
!0)},onAdded:function(){},calc:function(){var a=0,b=0,c=null!=this.calcParent?this.calcParent:this.parent,d=0,e=0;this.resultOffsetColor=this.colorOffset;this.resultColorR=this.colorR;this.resultColorG=this.colorG;this.resultColorB=this.colorB;this.resultAlpha=this.alpha;if(null!=c){a+=c.padding+c.paddingLeft;b+=c.padding+c.paddingTop;d=c.resultWidth-2*c.padding-c.paddingLeft-c.paddingRight;e=c.resultHeight-2*c.padding-c.paddingTop-c.paddingBottom;this.resultColorR*=this.parent.resultColorR;this.resultColorG*=
this.parent.resultColorG;this.resultColorB*=this.parent.resultColorB;this.resultAlpha*=this.parent.resultAlpha;var g=this.resultOffsetColor,k=this.parent.resultOffsetColor;this.resultOffsetColor=((g>>>24&255)+(k>>>24&255)<<24)+((g>>>16&255)+(k>>>16&255)<<16)+((g>>>8&255)+(k>>>8&255)<<8)+((g&255)+(k&255))}this.absolute&&(d=B.SCREEN_WIDTH,e=B.SCREEN_HEIGHT);null!=this.highlightAnimation&&(g=this.resultOffsetColor,k=this.highlightAnimation.getColorOffset(),this.resultOffsetColor=((g>>>24&255)+(k>>>24&
255)<<24)+((g>>>16&255)+(k>>>16&255)<<16)+((g>>>8&255)+(k>>>8&255)<<8)+((g&255)+(k&255)),this.invalidate());this.resultWidth=null==this.relativeWidth?this.width:d*this.relativeWidth;this.resultHeight=null==this.relativeHeight?this.height:e*this.relativeHeight;if(null!=this.ratio){var q=this.resultWidth;isNaN(q)||0==this.ratio?(q=this.resultHeight,isNaN(q)||(this.resultWidth=this.resultHeight*this.ratio)):this.resultHeight=this.resultWidth/this.ratio}g=this.scale*this.scaleX;k=this.scale*this.scaleY;
q=Aa.sTempM2D[++Aa.sTempM2DIdx%Aa.sTempM2D.length];q=Aa.makeIdentity(q);switch(this.halign){case "center":a+=.5*d-.5*this.resultWidth;break;case "leftOf":a+=-Math.abs(this.resultWidth*g);break;case "right":a+=d-Math.abs(this.resultWidth*g);break;case "rightOf":a+=d}switch(this.valign){case "bottom":b+=e-Math.abs(this.resultHeight*k);break;case "bottomOf":b+=e;break;case "center":b+=.5*e-.5*this.resultHeight;break;case "topOf":b+=-Math.abs(this.resultHeight*k)}this.resultWidth-=2*this.margin+this.marginLeft+
this.marginRight;this.resultHeight-=2*this.margin+this.marginTop+this.marginBottom;a+=this.margin+(null==this.relativeX?this.x:this.resultWidth*this.relativeX)+this.marginLeft;b+=this.margin+(null==this.relativeY?this.y:this.resultHeight*this.relativeY)+this.marginTop;if(null!=this.mAnimations||0!=this.rotation||1!=g||1!=k){d=this.resultWidth*this.pivotX;e=this.resultHeight*(1-this.pivotY);Aa.translateXY(q,-d,-e);0!=this.rotation&&Aa.rotate(q,this.rotation);Aa.scale(q,g,k);if(null!=this.mAnimations&&
0<this.mAnimations.length){for(var t=0;t<this.mAnimations.length;){k=this.mAnimations[t];Aa.mul(q,k.getMatrix());this.resultAlpha*=k.alpha;if(0!=k.colorOffset){g=this.resultOffsetColor;k=k.colorOffset;var n=(g>>>24&255)+(k>>>24&255);var f=(g>>>16&255)+(k>>>16&255);var p=(g>>>8&255)+(k>>>8&255);g=(g&255)+(k&255);this.resultOffsetColor=(n<<24)+(f<<16)+(p<<8)+g}++t}this.invalidate()}Aa.translateXY(q,d,e)}Aa.translateXY(q,a,b);null==c||this.absolute?Aa.copyFrom(this.resultMatrix,q):this.resultMatrix=
Aa.MUL(this.resultMatrix,q,c.resultMatrix)},getClickableElementAt:function(a,b){if(this.clickableChildren&&this.visible)for(var c=this.children.length;0<=--c;){var d=this.children[c].getClickableElementAt(a,b);if(null!=d)return d}return this.clickable&&this.visible&&this.testHit(a,b)?this:null},testHit:function(a,b,c){c=null==c?n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen]:c;if(null!=this.resultMatrix){var d=Aa.sTempM2D[++Aa.sTempM2DIdx%Aa.sTempM2D.length];d=Aa.copyFrom(d,this.resultMatrix);var e=1/(d[0]*
(d[4]*d[8]-d[7]*d[5])-d[1]*(d[3]*d[8]-d[5]*d[6])+d[2]*(d[3]*d[7]-d[4]*d[6])),g=-(d[1]*d[8]-d[2]*d[7])*e,k=(d[1]*d[5]-d[2]*d[4])*e,q=-(d[3]*d[8]-d[5]*d[6])*e,t=(d[0]*d[8]-d[2]*d[6])*e,f=-(d[0]*d[5]-d[3]*d[2])*e,p=(d[3]*d[7]-d[6]*d[4])*e,h=-(d[0]*d[7]-d[6]*d[1])*e,m=(d[0]*d[4]-d[3]*d[1])*e;d[0]=(d[4]*d[8]-d[7]*d[5])*e;d[3]=q;d[6]=p;d[1]=g;d[4]=t;d[7]=h;d[2]=k;d[5]=f;d[8]=m;c.x=a;c.y=b;a=c.multiplyMatrix(d)}else a=c;return 0<=a.x&&a.x<this.resultWidth&&0<=a.y?a.y<this.resultHeight:!1},setState:function(a){if(null!=
this.mStates)for(var b=0,c=this.mStates;b<c.length;){var d=c[b];++b;d.mStringMap.h.state==a&&d.applyTo(this)}if(null!=this.children)for(b=0,c=this.children;b<c.length;)d=c[b],++b,d.setState(a)},addState:function(a){null==this.mStates&&(this.mStates=[]);this.mStates.push(a);switch(a.mStringMap.h.state){case "landscape":this.registerXEventListener(p.instance,"ORIENTATION_CHANGED",l(this,this.onScreenOrientationChange));p.instance.landscape&&a.applyTo(this);break;case "locaSupported":N.supported&&a.applyTo(this);
break;case "locaUnsupported":N.supported||a.applyTo(this);break;case "portrait":this.registerXEventListener(p.instance,"ORIENTATION_CHANGED",l(this,this.onScreenOrientationChange)),p.instance.landscape||a.applyTo(this)}return a},onScreenOrientationChange:function(a){a=p.instance.landscape?"landscape":"portrait";for(var b=0,c=this.mStates;b<c.length;){var d=c[b];++b;d.mStringMap.h.state==a&&d.applyTo(this)}},hasAnimation:function(a){if(null!=this.mAnimations)for(var b=0,c=this.mAnimations;b<c.length;){var d=
c[b];++b;if(L.__instanceof(d,a))return!0}return!1},addAnimation:function(a){null==this.mAnimations&&(this.mAnimations=[]);this.registerXEventListener(a,"XAnimation:Finished",l(this,this.onAnimationFinished));this.mAnimations.push(a);return a},findAnimation:function(a){if(null!=this.mAnimations)for(var b=0,c=this.mAnimations;b<c.length;){var d=c[b];++b;if(null!=d&&d.name==a)return d}b=0;for(c=this.children;b<c.length;)if(d=c[b],++b,d=d.findAnimation(a),null!=d)return d;return null},onAnimationFinished:function(a){a=
L.__cast(a.target,Ba);null!=a&&(this.releaseXEventListener(a,"XAnimation:Finished",l(this,this.onAnimationFinished)),this.removeAnimation(a))},removeAnimation:function(a,b){null==b&&(b=!0);E.remove(this.mAnimations,a);b&&Rb.dispose(a)},onTouch:function(a,b){sa.Dispatcher.dispatchSimpleXEvent("XDisplayObject:TouchEvent",this);this.touched=!0},onTouchUp:function(a,b,c,d){},onTouchMove:function(a,b,c,d){this.enabled&&this.clickable&&(null!=this.tooltip&&Zc.get_instance().show(this,this.tooltip),this.highlight&&
!yc.isMobileBrowser()&&(this.setHighlightAnimation(.3,.01),p.window.set_cursor(Hb.POINTER)),this.touched&&this.dragable&&null==sa.sDragOperation&&ca.get_instance().buttonPressed(0)&&(sa.sDragOperation=new wf(this.drag,this),this.registerXEventListener(sa.sDragOperation,"DROP_EVENT",l(this,this.onDroppedThisElement))))},onTouchOut:function(a,b){this.touched=!1;this.highlight&&!yc.isMobileBrowser()&&(this.setHighlightAnimation(0,.5),p.window.set_cursor(Hb.DEFAULT))},onDroppedThisElement:function(a){this.releaseXEventListener(a.target,
"DROP_EVENT",l(this,this.onDroppedThisElement));sa.sDragOperation=null},setHighlightAnimation:function(a,b){null==this.highlightAnimation&&(this.highlightAnimation=new xf(0,16777215));this.highlightAnimation.setTargetValue(a,b)},getControllListener:function(){return this.parent.getControllListener()},getMiddle:function(){var a=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];a.x=.5*this.resultWidth;a.y=.5*this.resultHeight;null!=this.resultMatrix&&a.multiplyMatrix(this.resultMatrix);return a},addChild:function(a,
b){null==b&&(b=-1);a.removeFromParent();null!=this.children&&(-1==b?this.children.push(a):this.children.splice(b,0,a),a.parent=this,a.onAdded(),++this.numChildren);return a},removeChild:function(a){E.remove(this.children,a)&&--this.numChildren;a.parent=null},removeAllChildren:function(){for(;0<this.numChildren;)this.children.pop().dispose(),--this.numChildren},removeFromParent:function(){null!=this.parent&&this.parent.removeChild(this)},getChildByName:function(a){if(null!=this.children)for(var b=
0,c=this.children;b<c.length;){var d=c[b];++b;if(d.name==a)return d}return null},find:function(a){if(this.name==a)return this;if(null!=this.children)for(var b=0,c=this.children;b<c.length;){var d=c[b];++b;d=d.find(a);if(null!=d)return d}return null},findType:function(a,b){a=this.find(a);return L.__instanceof(a,b)?a:null},findTypeFuture:function(a,b){a=this.find(a);return L.__instanceof(a,b)?ya.withValue(a):ya.withError(null)},deepFindType:function(a,b){if(null!=a){a=a.split("/");for(var c=this.find(a.shift());0<
a.length&&null!=c;)c=c.find(a.shift());if(L.__instanceof(c,b))return c}return null},deepFindTypeFuture:function(a,b){a=this.deepFindType(a,b);return null!=a?ya.withValue(a):ya.withError(null)},applyTemplate:function(a){a.applyTo(this)},applyStringAttribute:function(a,b){switch(a){case "animation":a=Ba.createAnimation(b);null!=a&&this.addAnimation(a);break;case "data":0==b.indexOf("{")?this.data=JSON.parse(b):this.data=b;break;case "drag":this.drag=b;this.dragable=null!=b&&""!=b;break;case "halign":this.halign!=
b&&this.invalidate();this.halign=b;break;case "name":this.name=b;break;case "tooltip":yc.isMobileBrowser()||(this.tooltip=b);break;case "valign":this.valign!=b&&this.invalidate(),this.valign=b}},applyBoolAttribute:function(a,b){switch(a){case "absolute":this.absolute!=b&&this.invalidate();this.absolute=b;break;case "clickable":this.clickable=b;break;case "clickableChildren":this.clickableChildren=b;break;case "highlight":this.highlight!=b&&(this.invalidate(),a=this.highlightAnimation,null!=a&&a.dispose(),
this.highlightAnimation=null);this.highlight=b;break;case "visible":this.set_visible(b)}},applyFloatAttribute:function(a,b){switch(a){case "alpha":this.alpha!=b&&this.invalidate();this.alpha=b;break;case "blue":this.colorB!=b&&this.invalidate();this.colorB=b;break;case "green":this.colorG!=b&&this.invalidate();this.colorG=b;break;case "height":this.height!=b&&this.invalidate();a=null;this.relativeHeight!=a&&this.invalidate();this.relativeHeight=a;this.height=b;break;case "margin":this.margin!=b&&
this.invalidate();this.margin=b;break;case "marginBottom":this.marginBottom!=b&&this.invalidate();this.marginBottom=b;break;case "marginLeft":this.marginLeft!=b&&this.invalidate();this.marginLeft=b;break;case "marginRight":this.marginRight!=b&&this.invalidate();this.marginRight=b;break;case "marginTop":this.marginTop!=b&&this.invalidate();this.marginTop=b;break;case "padding":this.padding!=b&&this.invalidate();this.padding=b;break;case "paddingBottom":this.paddingBottom!=b&&this.invalidate();this.paddingBottom=
b;break;case "paddingLeft":this.paddingLeft!=b&&this.invalidate();this.paddingLeft=b;break;case "paddingRight":this.paddingRight!=b&&this.invalidate();this.paddingRight=b;break;case "paddingTop":this.paddingTop!=b&&this.invalidate();this.paddingTop=b;break;case "pivotX":this.pivotX!=b&&this.invalidate();this.pivotX=b;break;case "pivotY":this.pivotY!=b&&this.invalidate();this.pivotY=b;break;case "ratio":this.ratio!=b&&this.invalidate();this.ratio=b;break;case "red":this.colorR!=b&&this.invalidate();
this.colorR=b;break;case "relativeHeight":this.relativeHeight!=b&&this.invalidate();this.relativeHeight=b;break;case "relativeWidth":this.relativeWidth!=b&&this.invalidate();this.relativeWidth=b;break;case "relativeX":this.x!=b&&this.invalidate();this.x=b;break;case "relativeY":this.y!=b&&this.invalidate();this.y=b;break;case "rotation":this.rotation!=b&&this.invalidate();this.rotation=b;break;case "scale":this.scale!=b&&this.invalidate();this.scale=b;break;case "scaleX":this.scaleX!=b&&this.invalidate();
this.scaleX=b;break;case "scaleY":this.scaleY!=b&&this.invalidate();this.scaleY=b;break;case "width":this.width!=b&&this.invalidate();a=null;this.relativeWidth!=a&&this.invalidate();this.relativeWidth=a;this.width=b;break;case "x":this.x!=b&&this.invalidate();this.x=b;break;case "y":this.y!=b&&this.invalidate(),this.y=b}},applyUIntAttribute:function(a,b){switch(a){case "color":a=O.toFloat(b>>>16&255)/255;var c=O.toFloat(b>>>8&255)/255,d=O.toFloat(b&255)/255;if(a!=this.colorR||c!=this.colorG||d!=this.colorB)this.colorR!=
a&&this.invalidate(),this.colorR=a,this.colorG!=c&&this.invalidate(),this.colorG=c,this.colorB!=d&&this.invalidate(),this.colorB=d,this.invalidate();this.color=b;break;case "colorOffset":this.colorOffset!=b&&this.invalidate(),this.colorOffset=b}},blubb:function(){(null==this.mAnimations||2>this.mAnimations.length)&&this.addAnimation(new Yb)},pulse:function(a){null==a&&(a=100);this.blubb();null==this.preParticleEmitter&&(this.preParticleEmitter=new Yc);this.preParticleEmitter.pulse(a)},setPulse:function(a,
b){null==b&&(b=100);a=this.find(a);null!=a&&a.pulse(b)},activateEmitter:function(a){null==a&&(a=!0);null!=this.preParticleEmitter&&(this.preParticleEmitter.active=a)},copyElements:function(a){a.context=this.context;a.name=new String(this.name);var b=this.x;a.x!=b&&a.invalidate();a.x=b;b=this.y;a.y!=b&&a.invalidate();a.y=b;b=this.width;a.width!=b&&a.invalidate();var c=null;a.relativeWidth!=c&&a.invalidate();a.relativeWidth=c;a.width=b;b=this.height;a.height!=b&&a.invalidate();c=null;a.relativeHeight!=
c&&a.invalidate();a.relativeHeight=c;a.height=b;b=this.relativeWidth;a.relativeWidth!=b&&a.invalidate();a.relativeWidth=b;b=this.relativeHeight;a.relativeHeight!=b&&a.invalidate();a.relativeHeight=b;b=this.pivotX;a.pivotX!=b&&a.invalidate();a.pivotX=b;b=this.pivotY;a.pivotY!=b&&a.invalidate();a.pivotY=b;b=this.scaleX;a.scaleX!=b&&a.invalidate();a.scaleX=b;b=this.scaleY;a.scaleY!=b&&a.invalidate();a.scaleY=b;b=this.scale;a.scale!=b&&a.invalidate();a.scale=b;b=this.margin;a.margin!=b&&a.invalidate();
a.margin=b;b=this.marginLeft;a.marginLeft!=b&&a.invalidate();a.marginLeft=b;b=this.marginRight;a.marginRight!=b&&a.invalidate();a.marginRight=b;b=this.marginTop;a.marginTop!=b&&a.invalidate();a.marginTop=b;b=this.marginBottom;a.marginBottom!=b&&a.invalidate();a.marginBottom=b;b=this.padding;a.padding!=b&&a.invalidate();a.padding=b;b=this.paddingLeft;a.paddingLeft!=b&&a.invalidate();a.paddingLeft=b;b=this.paddingRight;a.paddingRight!=b&&a.invalidate();a.paddingRight=b;b=this.paddingTop;a.paddingTop!=
b&&a.invalidate();a.paddingTop=b;b=this.paddingBottom;a.paddingBottom!=b&&a.invalidate();a.paddingBottom=b;b=this.alpha;a.alpha!=b&&a.invalidate();a.alpha=b;b=this.ratio;a.ratio!=b&&a.invalidate();a.ratio=b;b=this.rotation;a.rotation!=b&&a.invalidate();a.rotation=b;b=this.color;var d=O.toFloat(b>>>16&255)/255;c=O.toFloat(b>>>8&255)/255;var e=O.toFloat(b&255)/255;if(d!=a.colorR||c!=a.colorG||e!=a.colorB)a.colorR!=d&&a.invalidate(),a.colorR=d,a.colorG!=c&&a.invalidate(),a.colorG=c,a.colorB!=e&&a.invalidate(),
a.colorB=e,a.invalidate();a.color=b;b=this.colorOffset;a.colorOffset!=b&&a.invalidate();a.colorOffset=b;a.set_visible(this.visible);b=this.highlight;a.highlight!=b&&(a.invalidate(),c=a.highlightAnimation,null!=c&&c.dispose(),a.highlightAnimation=null);a.highlight=b;a.dragable=this.dragable;a.clickable=this.clickable;a.clickableChildren=this.clickableChildren;b=this.halign;a.halign!=b&&a.invalidate();a.halign=b;b=this.valign;a.valign!=b&&a.invalidate();a.valign=b;a.drag=this.drag;a.data=this.data;
c=0;for(b=this.children;c<b.length;)d=b[c],++c,a.addChild(d.clone())},clone:function(){var a=La.createInstance(L.getClass(this),[]);this.copyElements(a);return a},dispose:function(){T.prototype.dispose.call(this);null!=this.parent&&(this.parent.removeChild(this),this.parent=null);var a=this.postParticleEmitter;null!=a&&a.dispose();this.postParticleEmitter=null;a=this.preParticleEmitter;null!=a&&a.dispose();this.preParticleEmitter=null;this.invalid=!0;a=this.children;if(null!=a)for(;0<a.length;){var b=
L.__cast(a.pop(),Va);b.dispose()}this.children=null;this.numChildren=0;a=this.mMiddle=this.name=this.context=null;this.halign!=a&&this.invalidate();this.halign=a;a=null;this.valign!=a&&this.invalidate();this.valign=a;a=this.mAnimations;if(null!=a)for(;0<a.length;)b=L.__cast(a.pop(),Va),b.dispose();this.mAnimations=null;a=this.mStates;if(null!=a)for(;0<a.length;)b=L.__cast(a.pop(),Va),b.dispose();this.calcParent=this.data=this.drag=this.resultMatrix=this.mStates=null;a=this.highlightAnimation;null!=
a&&a.dispose();this.highlightAnimation=null},__class__:sa,__properties__:{set_visible:"set_visible"}});var Oa=function(a){this.enableControls=!0;sa.call(this,a)};h["system.gfx.ui.elements.XControllListener"]=Oa;Oa.__name__="system.gfx.ui.elements.XControllListener";Oa.__super__=sa;Oa.prototype=m(sa.prototype,{onButtonClick:function(a){},onValueControl:function(a,b){},onList:function(a,b){},onButtonAction:function(a){if(this.enableControls)this.onButtonClick(a)},onValueControlAction:function(a,b){null==
b&&(b=0);if(this.enableControls)this.onValueControl(a,b)},onListAction:function(a,b){if(this.enableControls)this.onList(a,b)},getControllListener:function(){return this},__class__:Oa});var fa=function(a,b){this.movedIn=this.mBlocker=null;this.frame=0;this.loaded=this.atlasInvalid=!1;this.XAnimMoveInClass=yf;this.XAnimMoveOutClass=zf;this.vertexBufferIdx=0;this.drawData=[];this.initialAtlasSize=1024;Oa.call(this,b);0<this.initialAtlasSize&&(this.atlas=new Ib(this.initialAtlasSize,a));this.registerXEventListener(this.atlas,
"XAtlas::update",l(this,this.onUpdateAtlas));this.registerXEventListener(N.dispatcher,N.NEW_LANGUAGE,l(this,this.onLanguageChange));null==fa.sShader&&this.createShader();this.currentDrawData=new sd;this.drawData.push(this.currentDrawData);this.currentDrawData.upload();null!=a&&this.load(a);a=l(this,this.onScreenSizeChangeEvent);this.registerXEventListener(p.instance,"SIZE_CHANGED",a);a(null)};h["system.gfx.ui.elements.XLayer"]=fa;fa.__name__="system.gfx.ui.elements.XLayer";fa.__super__=Oa;fa.prototype=
m(Oa.prototype,{onLoadComplete:function(){this.loaded=!0;this.onScreenSizeChangeEvent(null);var a=this.moveIn();null!=a&&this.registerXEventListener(a,"XAnimation:Finished",l(this,this.onInitialMoveIn))},onInitialMoveIn:function(a){this.releaseXEventListener(a.target,"XAnimation:Finished",l(this,this.onInitialMoveIn));this.onScreenReady()},onScreenReady:function(){},moveIn:function(){if(1!=this.movedIn&&(this.set_visible(!0),this.movedIn=!0,null!=this.XAnimMoveInClass)){var a=La.createInstance(this.XAnimMoveInClass,
[]);this.registerXEventListener(a,"XAnimation:Finished",l(this,this.onMoveInFinished));return this.animateIn(a)}return null},onMoveInFinished:function(a){this.releaseXEventListener(a.target,"XAnimation:Finished",l(this,this.onMoveInFinished));this.set_visible(!0)},moveOut:function(){if(0!=this.movedIn&&(this.movedIn=!1,null!=this.XAnimMoveOutClass)){var a=La.createInstance(this.XAnimMoveOutClass,[]);this.registerXEventListener(a,"XAnimation:Finished",l(this,this.onMoveOutFinished));return this.addAnimation(a)}return null},
onMoveOutFinished:function(a){this.releaseXEventListener(a.target,"XAnimation:Finished",l(this,this.onMoveOutFinished));this.set_visible(!1)},animateIn:function(a){this.registerXEventListener(this.addAnimation(a),"XAnimation:Finished",l(this,this.onAnimateInFinished));return a},onAnimateInFinished:function(a){},onScreenSizeChangeEvent:function(a){this.invalidate();if(null!=this.children){a=0;for(var b=this.children;a<b.length;){var c=b[a];++a;c.invalidate()}}this.onScreenSizeChanged()},onScreenSizeChanged:function(){},
load:function(a){var b=this;ea.loadText(a).onComplete(function(a){var c=new Ge;null!=b.context&&c.externalLibs.push(b.context);c.fromXML(S.parse(a));b.context=c;c.template.applyTo(b);b.onLoadComplete()})},block:function(a){a=this.mBlocker;null!=a&&a.dispose();this.mBlocker=null;this.mBlocker=new Mb;a=new sa;1!=a.absolute&&a.invalidate();a.absolute=!0;100!=a.relativeHeight&&a.invalidate();a.relativeHeight=100;100!=a.relativeWidth&&a.invalidate();a.relativeWidth=100;a.clickable=!0;this.addChild(a,0)},
createShader:function(){fa.sShader=new yb("attribute vec2 aVertexPosition;attribute vec4 aColor;attribute vec4 aOffsetColor;attribute vec2 aTexCoord;attribute float aBlend;uniform mat4 uViewProjection;varying vec2 vTexCoord;varying vec4 vColor;varying vec4 vOffsetColor;varying float vBlend;void main (void){vTexCoord = aTexCoord;vColor = aColor.rgba;vOffsetColor = aOffsetColor.bgra;vBlend = aBlend;gl_Position = uViewProjection * vec4( aVertexPosition - vec2( 0.5, 0.5 ), 0.0, 1.0 );}","varying vec2 vTexCoord;varying vec4 vColor;varying vec4 vOffsetColor;varying float vBlend;uniform sampler2D uTex0;uniform sampler2D uTex1;void main (void) {vec4 col = texture2D( uTex0, vTexCoord, -1.0 );vec4 text = texture2D( uTex1, vTexCoord, -1.0 ); gl_FragColor = mix( col, text, vBlend ) * vColor + vOffsetColor;}")},
write:function(a){null!=a&&(++a.vertexBufferIdx,a.vertexBufferIdx>=a.drawData.length?(a.currentDrawData=new sd,a.drawData.push(a.currentDrawData),a.currentDrawData.upload()):a.currentDrawData=a.drawData[a.vertexBufferIdx],a.currentDrawData.externalLayer=this,++a.vertexBufferIdx,a.vertexBufferIdx>=a.drawData.length?(a.currentDrawData=new sd,a.drawData.push(a.currentDrawData),a.currentDrawData.upload()):a.currentDrawData=a.drawData[a.vertexBufferIdx])},onUpdateAtlas:function(a){this.atlasInvalid=!0},
update:function(){Oa.prototype.update.call(this);this.vertexBufferIdx=0;this.currentDrawData=this.drawData[this.vertexBufferIdx];for(var a=0,b=this.drawData;a<b.length;){var c=b[a];++a;c.reset()}if(this.visible)for(a=0,b=this.children;a<b.length;)c=b[a],++a,c.visible&&c.write(this);for(var d=0;this.atlasInvalid&&4>++d;){this.atlasInvalid=!1;if(null!=this.children)for(a=0,b=this.children;a<b.length;)c=b[a],++a,c.invalidate();Oa.prototype.update.call(this);this.vertexBufferIdx=0;this.currentDrawData=
this.drawData[this.vertexBufferIdx];a=0;for(b=this.drawData;a<b.length;)c=b[a],++a,c.reset();if(this.visible)for(c=0,a=this.children;c<a.length;)b=a[c],++c,b.visible&&b.write(this)}++this.frame;a=0;for(b=this.drawData;a<b.length;)c=b[a],++a,c.upload()},render:function(){null!=this.mBlocker&&this.mBlocker.draw();this.visible&&this.draw()},draw:function(){for(var a=0,b=this.drawData;a<b.length;){var c=b[a];++a;if(null==c.externalLayer){var d=c.vertexBuffer.entries>>1;if(0<d){c.start();var e=fa.sShader,
g=c.vertexBuffer,k=Cb.getIB(d);e.mVertexBuffer=g;e.mIndexBuffer=k;p.gl.useProgram(e.mProgram);g.apply();k.apply();this.setupShader();e=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];g=B.SCREEN_HEIGHT;k=B.SCREEN_WIDTH;var q=1/k,t=1/(0-g);e[0]=2*q;e[4]=0;e[8]=0;e[12]=-k*q;e[1]=0;e[5]=2*t;e[9]=0;e[13]=-g*t;e[2]=0;e[6]=0;e[10]=-.01998001998001998;e[14]=-.9980019980019981;e[3]=0;e[7]=0;e[11]=0;e[15]=1;g=fa.sShader;k=p.gl;q=g.mUniformLookUp.h.uViewProjection;null==q&&(t=g.mUniformLookUp,q=p.gl.getUniformLocation(g.mProgram,
"uViewProjection"),t.h.hasOwnProperty("uViewProjection")&&E.remove(t.mKeys,"uViewProjection"),t.h.uViewProjection=q,t.mKeys.push("uViewProjection"));ob.uniformMatrix4fv(k,q,!1,e);fa.sShader.vertexAttribPointer("aVertexPosition",2,p.gl.FLOAT,0);fa.sShader.vertexAttribPointer("aColor",4,p.gl.FLOAT,8);fa.sShader.vertexAttribPointer("aOffsetColor",4,p.gl.UNSIGNED_BYTE,24,!0);fa.sShader.vertexAttribPointer("aTexCoord",2,p.gl.FLOAT,28);fa.sShader.vertexAttribPointer("aBlend",1,p.gl.FLOAT,36);e=fa.sShader;
g=this.atlas.get_texture();k=p.gl;q=e.mUniformLookUp.h.uTex0;null==q&&(t=e.mUniformLookUp,q=p.gl.getUniformLocation(e.mProgram,"uTex0"),t.h.hasOwnProperty("uTex0")&&E.remove(t.mKeys,"uTex0"),t.h.uTex0=q,t.mKeys.push("uTex0"));k.uniform1i(q,0);null!=g?g.apply(0):p.sDefaultTex.apply(0);e=fa.sShader;g=td.sInstance.texture;k=p.gl;q=e.mUniformLookUp.h.uTex1;null==q&&(t=e.mUniformLookUp,q=p.gl.getUniformLocation(e.mProgram,"uTex1"),t.h.hasOwnProperty("uTex1")&&E.remove(t.mKeys,"uTex1"),t.h.uTex1=q,t.mKeys.push("uTex1"));
k.uniform1i(q,1);null!=g?g.apply(1):p.sDefaultTex.apply(1);p.gl.drawElements(p.gl.TRIANGLES,3*d,p.gl.UNSIGNED_SHORT,0);c.end()}}else c.externalLayer.render()}},setupShader:function(){},onButtonClick:function(a){"uiBtClose"==a.name?this.close():Oa.prototype.onButtonClick.call(this,a)},applyStringAttribute:function(a,b){"label"==a?this.set_label(b):Oa.prototype.applyStringAttribute.call(this,a,b)},set_label:function(a){if(this.label!=a){this.label=a;var b=this.find("uiTxtHeadText");b instanceof D&&
L.__cast(b,D).set_text(a)}return a},onLanguageChange:function(a){if(this.loaded){var b=[this];for(a=[];0<b.length;){var c=b.pop();a.push(c);b=b.concat(c.children)}for(b=0;b<a.length;)c=a[b],++b,c instanceof D&&null!=c.rawText&&0==c.rawText.indexOf("SID_")&&c.set_text(c.rawText);this.onInitText()}},onInitText:function(){},onMoveOutFinishedThenDispose:function(a){Rb.dispose(this)},close:function(){this.enableControls=!1;if(null==this.XAnimMoveOutClass)Rb.dispose(this);else{var a=La.createInstance(this.XAnimMoveOutClass,
[]);this.registerXEventListener(a,"XAnimation:Finished",l(this,this.onMoveOutFinishedThenDispose));this.addAnimation(a);null!=this.mBlocker&&this.mBlocker.fadeTo(0,.3)}},dispose:function(){var a=this.atlas;null!=a&&a.dispose();this.atlas=null;this.context instanceof Ge&&(a=this.context,null!=a&&a.dispose(),this.context=null);a=this.drawData;if(null!=a)for(;0<a.length;)L.__cast(a.pop(),Va).dispose();this.currentDrawData=this.drawData=null;this.set_visible(!1);a=this.mBlocker;null!=a&&a.dispose();this.mBlocker=
null;Oa.prototype.dispose.call(this)},__class__:fa,__properties__:m(Oa.prototype.__properties__,{set_label:"set_label"})});var Xb=function(){this.mThemes="zoo desert meadow winter water mountain beach forest farm waterfall egypt cave jungle lava arctic safari river hayloft carnival space dino plane crypt ocean".split(" ");this.mCurrentIdx=-1;this.mBGName=null;Xb.instance=this;fa.call(this,"xml/background.xml");this.currentDrawData.blend=!1};h["game.BackgroundLayer"]=Xb;Xb.__name__="game.BackgroundLayer";
Xb.__super__=fa;Xb.prototype=m(fa.prototype,{onLoadComplete:function(){this.mBGImage=this.findType("uiImgBG",C);this.checkBackGround();this.registerXEventListener(u.get_instance(),"ZooBackendLayer::BEST_LEVEL",l(this,this.onBestLevelChanged));fa.prototype.onLoadComplete.call(this)},hideJenny:function(a){this.dispatchSimpleXEvent("BackgroundLayer::HIDE_JENNY",a)},showJenny:function(a){this.dispatchSimpleXEvent("BackgroundLayer::SHOW_JENNY",a)},onBestLevelChanged:function(a){this.checkBackGround()},
setBG:function(a){if(null!=this.mBGImage){this.mBGImage.removeAllChildren();switch(a){case "arctic":this.mBG=new Af;break;case "beach":this.mBG=new Bf;break;case "carnival":this.mBG=new Cf;break;case "cave":this.mBG=new Df;break;case "crypt":this.mBG=new Ef;break;case "desert":this.mBG=new Ff;break;case "dino":this.mBG=new Gf;break;case "egypt":this.mBG=new Hf;break;case "farm":this.mBG=new If;break;case "forest":this.mBG=new He;break;case "forest2":this.mBG=new He;break;case "hayloft":this.mBG=new Jf;
break;case "jungle":this.mBG=new Kf;break;case "lava":this.mBG=new Lf;break;case "meadow":this.mBG=new Mf;break;case "mountain":this.mBG=new Nf;break;case "ocean":this.mBG=new Of;break;case "plane":this.mBG=new Pf;break;case "preview":this.mBG=new Qf;break;case "river":this.mBG=new Rf;break;case "safari":this.mBG=new Sf;break;case "space":this.mBG=new Tf;break;case "water":this.mBG=new Uf;break;case "waterfall":this.mBG=new Vf;break;case "winter":this.mBG=new Wf;break;case "zoo":this.mBG=new Ie;break;
default:this.mBG=new Ie}this.mBGImage.addChild(this.mBG);this.mBGName=a}},checkBackGround:function(){if(null!=u.get_instance().forceBackground){if(null==this.mBGName){this.setBG(u.get_instance().forceBackground);for(var a=0,b=this.mThemes.length;a<b;){var c=a++;this.mThemes[c]==u.get_instance().forceBackground&&(this.mCurrentIdx=c)}}}else a=u.get_instance().get_nextLevel(),0<a&&(a=Math.floor((a-1)/50)%this.mThemes.length,this.mCurrentIdx!=a&&(u.get_instance().lastLevelWon&&B.instance.addScreen(new Xf),
this.setBG(this.mThemes[a]),this.mCurrentIdx=a))},onScreenSizeChanged:function(){if(null!=this.mBGImage){if(B.SCREEN_WIDTH/B.SCREEN_HEIGHT>this.mBGImage.ratio)var a=this.mBGImage,b=B.SCREEN_WIDTH/this.mBGImage.height;else a=this.mBGImage,b=B.SCREEN_HEIGHT/this.mBGImage.height;a.scale!=b&&a.invalidate();a.scale=b}},draw:function(){fa.prototype.draw.call(this);null!=this.mBG&&this.mBG.draw()},dispose:function(){this.mBGImage=Xb.instance=null;var a=this.mBG;null!=a&&a.dispose();this.mBG=null;fa.prototype.dispose.call(this)},
__class__:Xb});var Na=function(){this.chats={};this.mBlockList={};this.mXEventListener=null};h["game.ChatManager"]=Na;Na.__name__="game.ChatManager";Na.__properties__={get_instance:"get_instance"};Na.get_instance=function(){null==Na.instance&&(Na.instance=new Na);return Na.instance};Na.__super__=T;Na.prototype=m(T.prototype,{getNumUnread:function(a){null==a&&(a=!1);for(var b=0,c=F.fields(this.chats),d=0;d<c.length;){var e=c[d];++d;b+=this.getNumUnreadByChannel(e,a)}return b},getNumUnreadByChannel:function(a,
b){null==b&&(b=!1);var c=0;if(!this.isBlocked(a)&&(a=F.field(this.chats,a),null!=a&&null!=a.list&&(null!=a&&Object.prototype.hasOwnProperty.call(a,"teamChat")&&F.field(a,"teamChat"))==b)){b=ma.toInt(null!=a.read?a.read:0);a=F.fields(a.list);for(var d=0;d<a.length;){var e=a[d];++d;M.parseInt(e)>b&&++c}}return c},readChat:function(a){var b=F.field(this.chats,a);null!=b&&(b.read=b.last,this.dispatchSimpleXEvent("ChatManager::CHANNEL_UPDATE",a),this.dispatchSimpleXEvent("ChatManager::UPDATE"),null!=this.mSO&&
this.mSO.flush())},deleteMessage:function(a,b){},blockChannel:function(a){},unblockChannel:function(a){},isBlocked:function(a){return Object.prototype.hasOwnProperty.call(this.mBlockList,a)},sendMessage:function(a,b,c){return ya.withError({error:"not implemented"})},sendMessageTeam:function(a,b){return ya.withError({error:"not implemented"})},getChatIdByUid:function(a){var b=u.get_instance().get_uid();return b<a?b+"_"+a:a+"_"+b},getChat:function(a){return F.field(this.chats,a)},dispose:function(){T.prototype.dispose.call(this)},
__class__:Na});var Cc=function(a){var b=this.startPos=new n;b.x=a.x;b.y=a.y;b.w=a.w};h["game.ClearRandomTaskCommand"]=Cc;Cc.__name__="game.ClearRandomTaskCommand";Cc.clear=function(){for(;0<Cc.sTargets.length;)Cc.sTargets.pop()};Cc.__super__=y;Cc.prototype=m(y.prototype,{execute:function(){v.get_instance();Y.get_instance().play("sound/bee.mp3",0,1,1);for(var a=v.get_instance().stones,b=[],c=Object.create(null),d=new ce(v.get_instance().task.tasks.h);d.hasNext();){var e=d.next();switch(e){case "COINS":c.COIN=
!0;break;case "CRACKLING":c.CRACKLING2=!0;break;case "TICKER":c.TICKER2=!0}c[e]=!0}for(e=d=0;e<a.length;){var g=a[e];++e;if(null!=g&&-1==Cc.sTargets.indexOf(g)){var k=g.stoneType,q=Da.getOverlay(g.column,g.row);if(Object.prototype.hasOwnProperty.call(c,k)||null!=q&&Object.prototype.hasOwnProperty.call(c,q.stoneType))++d,b.push(g),"COIN"==k&&b.push(g)}}a=[];for(c=0;a.length<Math.min(d,3)&&10>++c;)e=M.random(b.length),e=b[e],-1==a.indexOf(e)&&null!=e&&(a.push(e),E.remove(b,e),Cc.sTargets.push(e),v.get_instance().addCommand(1.5,
new zc(e)),v.get_instance().animations.addChild(new Je(1.5,this.startPos,e.getMiddle())));y.prototype.execute.call(this)},dispose:function(){this.startPos=null;y.prototype.dispose.call(this)},__class__:Cc});var zc=function(a,b){this.stone=a;this.interact=b};h["game.PloppStoneCommand"]=zc;zc.__name__="game.PloppStoneCommand";zc.__super__=y;zc.prototype=m(y.prototype,{execute:function(){null!=this.stone&&"UNDEFINED"!=this.stone.stoneType&&this.stone.plopp(this.interact);this.stone=this.interact=null},
__class__:zc});var Ke=function(a,b){zc.call(this,a,b)};h["game.ForcePloppStoneCommand"]=Ke;Ke.__name__="game.ForcePloppStoneCommand";Ke.__super__=zc;Ke.prototype=m(zc.prototype,{execute:function(){null!=this.stone&&"UNDEFINED"!=this.stone.stoneType&&this.stone.forcePloop(this.interact);this.stone=this.interact=null},__class__:Ke});var Oh=function(a){this.stoneType=this.mapStone(null!=a&&Object.prototype.hasOwnProperty.call(a,"type")?F.field(a,"type"):"UNDEFINED");this.count=null!=a&&Object.prototype.hasOwnProperty.call(a,
"count")?F.field(a,"count"):1};h["game.TaskDescription"]=Oh;Oh.__name__="game.TaskDescription";Oh.prototype={mapStone:function(a){switch(a){case "BOX2":case "BOX3":return"BOX";case "BOX_BLUE":case "BOX_GREEN":case "BOX_PURPLE":case "BOX_RED":case "BOX_WHITE":case "BOX_YELLOW":return"COLOR_BOX";case "COINS":return"COIN";default:return a}},applyToTask:function(a){a.countType(this.stoneType,this.count)},__class__:Oh};var Ph=function(a){this.count=this.softCage=!1;this.dx=this.dy=1;this.x=this.y=0;this.x=
null!=a&&Object.prototype.hasOwnProperty.call(a,"x")?F.field(a,"x"):0;this.y=null!=a&&Object.prototype.hasOwnProperty.call(a,"y")?F.field(a,"y"):0;this.dx=null!=a&&Object.prototype.hasOwnProperty.call(a,"dx")?F.field(a,"dx"):1;this.dy=null!=a&&Object.prototype.hasOwnProperty.call(a,"dy")?F.field(a,"dy"):1;this.stoneType=null!=a&&Object.prototype.hasOwnProperty.call(a,"type")?F.field(a,"type"):"UNDEFINED";this.count=null!=a&&Object.prototype.hasOwnProperty.call(a,"count")&&F.field(a,"count");this.softCage=
null!=a&&Object.prototype.hasOwnProperty.call(a,"softCage")&&F.field(a,"softCage");this.params=null!=a&&Object.prototype.hasOwnProperty.call(a,"params")?F.field(a,"params"):{};this.overlay=null!=a&&Object.prototype.hasOwnProperty.call(a,"overlay")?F.field(a,"overlay"):null};h["game.AddStone"]=Ph;Ph.__name__="game.AddStone";Ph.prototype={applyToTask:function(a){for(var b=null,c=this.x,d=this.x+this.dx;c<d;)for(var e=c++,g=this.y,k=this.y+this.dy;g<k;){var q=g++;switch(this.stoneType){case "ANVIL":b=
new Yf;break;case "APPLE":b=new Zf;break;case "BALLON":b=new kd(a.bombCounter);break;case "BEEHIVE":b=new fe;break;case "BLOB":b=new hb;break;case "BOMB":b=new $c(a.bombCounter);break;case "BOX":b=new ge(Object.prototype.hasOwnProperty.call(this.params,"count")?this.params.count:1);break;case "BOX2":b=new ge(2);break;case "BOX3":b=new ge(3);break;case "BOX_BLUE":b=new ad("GEM_BLUE");break;case "BOX_GREEN":b=new ad("GEM_GREEN");break;case "BOX_PURPLE":b=new ad("GEM_PURPLE");break;case "BOX_RED":b=
new ad("GEM_RED");break;case "BOX_WHITE":b=new ad("GEM_WHITE");break;case "BOX_YELLOW":b=new ad("GEM_YELLOW");break;case "BREAKER":b=new ld;break;case "BREAKER_COLUMN":b=new ld(!1);break;case "CHAMELEON":b=new $f;break;case "CHEST":b=new ag;break;case "CHICKEN":b=new bg;break;case "COCONUT":b=new cg;break;case "COIN":b=new dg;break;case "COINS":b=new eg;break;case "COLOR_BOX":b=new ad(rb.GEM_TYPE_MAP.h[this.params.color]);break;case "COLOR_EGG":b=new fg;break;case "CRACKLING":b=new de;break;case "CRACKLING2":b=
new de(1);break;case "DUNG":b=new gg;break;case "DUNG_PILE":b=new hg;break;case "FAT_ANVIL":b=new ig;break;case "FAT_MULTI":b=new jg;break;case "FAT_MULTI2":b=new kg;break;case "FAT_MULTI_COLOR":b=new ud;break;case "FAT_MULTI_COLOR_TWISTER":b=new lg;break;case "FERTILIZER":b=new mg;break;case "FOOD_BOWL":b=new ng;break;case "GEM_RANDOM":b=new rb(a.allowedGemTypes[M.random(a.allowedGemTypes.length)]);break;case "GEM_BLUE":case "GEM_GREEN":case "GEM_PURPLE":case "GEM_RED":case "GEM_WHITE":case "GEM_YELLOW":b=
new rb(this.stoneType);break;case "GIFT":b=new he;break;case "GROUP_5_HITS_ONE_PLACE":b=new Le(1);break;case "GROUP_5_HITS_ONE_PLACE2":b=new Le(2);break;case "GROUP_SINGLE_HIT_EACH":b=new Me(1);break;case "GROUP_SINGLE_HIT_EACH2":b=new Me(2);break;case "HONEYPOT":b=new Ne(2);break;case "MULTI_CAGE":b=new og(a.allowedGemTypes);break;case "ORB":b=new Nd(a.allowedGemTypes[M.random(a.allowedGemTypes.length)]);break;case "ORE":b=new Ne;break;case "ORE_PILE":b=new pg;break;case "SKUNK":b=new vd;break;case "SNOWMAN":b=
new qg;break;case "SOFT_CAGE":a.overlay.push({x:e,y:q,stoneType:this.stoneType});this.count&&a.countType(this.stoneType,1);break;case "TICKER":b=new Oe;break;case "TICKER2":b=new Oe(!0);break;case "TIMEBOMB":b=new rg;break;case "WATER":b=new sg;break;case "X_HIT":b=new tg}switch(this.overlay){case "FLIES":a.overlay.push({x:e,y:q,stoneType:"FLIES"});break;case "HARD_CAGE":a.overlay.push({x:e,y:q,stoneType:"HARD_CAGE"});break;case "HARD_CAGE2":a.overlay.push({x:e,y:q,stoneType:"HARD_CAGE2"});break;
case "HARD_CAGE3":a.overlay.push({x:e,y:q,stoneType:"HARD_CAGE3"});break;case "HARD_CAGE4":a.overlay.push({x:e,y:q,stoneType:"HARD_CAGE4"});break;case "LEAF":a.overlay.push({x:e,y:q,stoneType:"LEAF"});break;case "SOFT_CAGE":a.overlay.push({x:e,y:q,stoneType:"SOFT_CAGE"})}null!=b&&(a.addStone(e,q,b),this.count&&a.countTask(b));this.softCage&&(a.overlay.push({x:e,y:q,stoneType:"SOFT_CAGE"}),a.countType("SOFT_CAGE",1))}},__class__:Ph};var Pe=function(){this.spawnObjects=[];this.bombCounter=20;this.bombFactor=
0;this.maxBombs=10;this.topMovesLeft=this.avgMovesLeft=0;this.allowedGemTypes=null;this.stones=[];this.tasks=[];this.fill=this.field=null;this.moves=this.version=0;this.sizeX=this.sizeY=null;this.size=0};h["game.LevelData"]=Pe;Pe.__name__="game.LevelData";Pe.create=function(a){var b=new Pe;b.applyData(a);return b};Pe.prototype={applyData:function(a){var b=a;this.size=null!=b&&Object.prototype.hasOwnProperty.call(b,"size")?F.field(b,"size"):8;b=a;this.sizeX=null!=b&&Object.prototype.hasOwnProperty.call(b,
"sizeX")?F.field(b,"sizeX"):null;b=a;this.sizeY=null!=b&&Object.prototype.hasOwnProperty.call(b,"sizeY")?F.field(b,"sizeY"):null;b=a;this.moves=null!=b&&Object.prototype.hasOwnProperty.call(b,"moves")?F.field(b,"moves"):30;b=a;this.version=null!=b&&Object.prototype.hasOwnProperty.call(b,"version")?F.field(b,"version"):0;b=a;this.field=null!=b&&Object.prototype.hasOwnProperty.call(b,"field")?F.field(b,"field"):null;b=a;this.fill=null!=b&&Object.prototype.hasOwnProperty.call(b,"fill")?F.field(b,"fill"):
null;b=a;this.spawnObjects=null!=b&&Object.prototype.hasOwnProperty.call(b,"spawnObjects")?F.field(b,"spawnObjects"):[];if(null!=this.spawnObjects&&0<this.spawnObjects.length){b=0;for(var c=this.spawnObjects;b<c.length;){var d=c[b];++b;switch(d.stoneType){case "BALLON":this.maxBombs=d.maxCount;this.bombFactor=d.factor;this.bombCounter=d.params;break;case "BOMB":this.maxBombs=d.maxCount,this.bombFactor=d.factor,this.bombCounter=d.params}}}else b=a,this.maxBombs=null!=b&&Object.prototype.hasOwnProperty.call(b,
"maxBombs")?F.field(b,"maxBombs"):0,b=a,this.bombFactor=null!=b&&Object.prototype.hasOwnProperty.call(b,"bombFactor")?F.field(b,"bombFactor"):0,b=a,this.bombCounter=null!=b&&Object.prototype.hasOwnProperty.call(b,"bombCounter")?F.field(b,"bombCounter"):20;this.avgMovesLeft=Math.round(this.moves/5);this.topMovesLeft=Math.round(this.moves/3);Object.prototype.hasOwnProperty.call(a,"stars")&&(b=d=F.field(a,"stars"),c=this.avgMovesLeft,this.avgMovesLeft=Math.round(null!=b&&Object.prototype.hasOwnProperty.call(b,
"avg")?F.field(b,"avg"):c),b=d,c=this.topMovesLeft,this.topMovesLeft=Math.round(null!=b&&Object.prototype.hasOwnProperty.call(b,"top")?F.field(b,"top"):c));b=a;c=null!=b&&Object.prototype.hasOwnProperty.call(b,"allowedGemTypes")?F.field(b,"allowedGemTypes"):null;if(null!=c)for(this.allowedGemTypes=[],b=0;b<c.length;)d=c[b],++b,this.allowedGemTypes.push(d);b=a;c=L.__cast(null!=b&&Object.prototype.hasOwnProperty.call(b,"tasks")?F.field(b,"tasks"):[],Array);for(b=0;b<c.length;)d=c[b],++b,this.tasks.push(new Oh(d));
b=a;c=L.__cast(null!=b&&Object.prototype.hasOwnProperty.call(b,"add")?F.field(b,"add"):[],Array);for(b=0;b<c.length;)d=c[b],++b,this.stones.push(new Ph(d))},applyToTask:function(a){v.setSize(null!=this.sizeX?this.sizeX:this.size,null!=this.sizeY?this.sizeY:this.size,this.field);var b=this.moves-(1E3<=u.get_instance().get_bestLevel()?2:0);a.setMoves(null!=u.get_instance().forceMoves?u.get_instance().forceMoves:b);a.bombCounter=this.bombCounter;null!=this.allowedGemTypes&&(a.allowedGemTypes=this.allowedGemTypes);
b=0;for(var c=this.tasks;b<c.length;){var d=c[b];++b;d.applyToTask(a)}b=0;for(c=this.stones;b<c.length;)d=c[b],++b,d.applyToTask(a);a.avgMovesLeft=this.avgMovesLeft;a.topMovesLeft=this.topMovesLeft;a.maxBombs=this.maxBombs;a.bombFactor=this.bombFactor;a.spawnObjects=this.spawnObjects;v.get_instance().rearrange();"up"==this.fill?a.fillRandomUp():1>this.version?a.fillRandom():a.fillRandomUp()},__class__:Pe};var Od=function(a){this.overlay=[];this.levelData=new nb;this.targetScore=1;this.spawnObjects=
[];this.bombCounter=20;this.bombFactor=.1;this.maxBombs=10;this.allowedGemTypes=Od.ALL_GEM_TYPES;this.topMovesLeft=this.avgMovesLeft=0;this.solved=!1;this.tasks=new Ia;this.helpTemplate=null;this.targetScoreStart1=this.targetScoreStart2=this.targetScoreStart3=1;this.score=0;this.maxMoves=30;this.revives=0;this.moves=30;this.mXEventListener=null;this.registerXEventListener(a,"USER_ACTION",l(this,this.onUserAction))};h["game.LevelTask"]=Od;Od.__name__="game.LevelTask";Od.__super__=T;Od.prototype=m(T.prototype,
{addStone:function(a,b,c){v.get_instance().addStone(a,b+v.ROWS,c);return c},getOrCreateTask:function(a){if(!Object.prototype.hasOwnProperty.call(this.tasks.h,a)){var b=new ug(a,0);this.tasks.h[a]=b;this.registerXEventListener(b,"Task::TASK_SOLVED",l(this,this.onTaskUpdate));this.dispatchSimpleXEvent("Task::NewTask",b);return b}return this.tasks.h[a]},isFree:function(a,b){return null==v.get_instance().getStone(a,b+v.ROWS)?v.get_instance().getField(a,b):!1},fillRandom:function(){for(var a=0,b=v.ROWS;a<
b;)for(var c=a++,d=0,e=v.COLUMNS;d<e;){var g=d++;this.isFree(g,c)&&this.addStone(g,c,new rb)}},fillRandomUp:function(){for(var a=0,b=v.COLUMNS;a<b;)for(var c=a++,d=0,e=v.ROWS;d<e;){var g=d++;g=v.ROWS-g-1;if(this.isFree(c,g))this.addStone(c,g,new rb);else break}},setMoves:function(a){this.set_moves(this.maxMoves=a)},loadLevel:function(a,b){var c=this;if(this.levelData.h.hasOwnProperty(a))b(this.levelData.h[a]);else ea.loadText("level/level"+ma.ndigits(a,4)+".json").onComplete(function(d){null!=d&&
(d=JSON.parse(d),c.levelData.h[a]=d,null!=b&&b(d))}).onError(function(a){})},calcScore:function(){this.targetScoreStart1=this.getScoreForStar(1);this.targetScoreStart2=this.getScoreForStar(2);this.targetScoreStart3=this.getScoreForStar(3);this.set_score(0)},initLevel:function(a,b,c){var d=this;a=(a-1)%u.get_instance().get_maxLevel()+1;this.loadLevel(a,function(b){v.get_instance().resetField();var e=ub.getLevelScore(a),k=null!=b&&Object.prototype.hasOwnProperty.call(b,"score");d.targetScore=k?F.field(b,
"score"):e;d.cleanupTasks();d.solved=!1;d.revives=0;for(d.helpTemplate=null;0<d.overlay.length;)d.overlay.pop();d.allowedGemTypes=Od.ALL_GEM_TYPES;Pe.create(b).applyToTask(d);d.calcScore();null!=c&&c()})},countType:function(a,b){null==b&&(b=1);a=this.getOrCreateTask(a);a.set_amount(a.get_amount()+b)},countTask:function(a){this.countType(a.stoneType);return a},isTask:function(a){return Object.prototype.hasOwnProperty.call(this.tasks.h,a)?!this.tasks.h[a].finished:!1},solveTaskType:function(a,b){null==
b&&(b=!1);Object.prototype.hasOwnProperty.call(this.tasks.h,a)&&this.getOrCreateTask(a).addAmount(-1,b)},consumeTaskType:function(a){Object.prototype.hasOwnProperty.call(this.tasks.h,a)&&this.getOrCreateTask(a).consume()},cleanupTasks:function(){for(var a=this.tasks.h,b=Object.keys(a),c=b.length,d=0;d<c;){var e=a[b[d++]];this.releaseXEventListener(e,"Task::TASK_SOLVED",l(this,this.onTaskUpdate));var g=this.tasks;e=e.type;Object.prototype.hasOwnProperty.call(g.h,e)&&delete g.h[e]}},onTaskUpdate:function(a){a=
!1;for(var b=this.tasks.h,c=Object.keys(b),d=c.length,e=0;e<d;)if(!b[c[e++]].finished){a=!0;break}if(!a&&!this.solved){this.solved=!0;this.dispatchSimpleXEvent("Task::LEVEL_SOLVED");var g=this.get_moves(),k=Math.round(100*Math.pow(this.get_moves(),1.2));b=a=0;for(c=Math.floor(g/5);b<c;)b++,fc.delay(function(){v.get_instance().scoreAnimation(v.get_instance().taskView.find("uiTxtMoves").getMiddle(),Math.round(5*k/g));v.get_instance().taskView.setMoveDisplayAdd(5)},300*++a);b=0;for(c=g%5;b<c;)b++,fc.delay(function(){v.get_instance().scoreAnimation(v.get_instance().taskView.find("uiTxtMoves").getMiddle(),
Math.round(k/g));v.get_instance().taskView.setMoveDisplayAdd(1)},300*++a);this.set_score(this.score+k);1==this.get_moves()&&this.set_score(this.score+1E3)}},onUserAction:function(a){0!=u.get_instance().forceMoves&&this.set_moves(this.get_moves()-1)},get_moves:function(){return this.moves},set_moves:function(a){if(this.get_moves()!=a){var b=this.get_moves();this.moves=a;this.dispatchSimpleXEvent("Task::UpdateEvent");b<a&&this.dispatchSimpleXEvent("Task::MORE_MOVES")}return a},set_score:function(a){this.score!=
a&&(this.score=a,this.dispatchSimpleXEvent("Task::UpdateEvent"),ka.get_instance().trackEvent("EVENT_LIVESCORE",{liveScore:this.score}));return a},getScoreForStar:function(a){var b=this.targetScore;switch(a){case 1:return Math.round(.3*b);case 2:return Math.round(.7*b);case 3:return Math.round(1.1*b)}return 1},getStarsForScore:function(a){return a>this.getScoreForStar(3)?3:a>this.getScoreForStar(2)?2:a>this.getScoreForStar(1)?1:0},getStars:function(){return this.getStarsForScore(this.score)},dispose:function(){T.prototype.dispose.call(this)},
__class__:Od,__properties__:{set_score:"set_score",set_moves:"set_moves",get_moves:"get_moves"}});var Oc=function(){this.maxNewsId="1";this.newsMap=new Ia;this.list=[];this.mXEventListener=null;this.mSO=xb.getLocal("news","zoo");if(null!=this.mSO.data){for(var a=F.fields(this.mSO.data),b=0;b<a.length;){var c=a[b];++b;this.newsMap.h[c]=!0;this.addNews(F.field(this.mSO.data,c))}this.sortList()}this.registerXEventListener(this,"NewsManager::NEW_NEWS",l(this,this.onNewNews))};h["game.NewsManager"]=Oc;
Oc.__name__="game.NewsManager";Oc.__properties__={get_instance:"get_instance"};Oc.get_instance=function(){null==Oc.instance&&(Oc.instance=new Oc);return Oc.instance};Oc.__super__=T;Oc.prototype=m(T.prototype,{sortList:function(){this.list.sort(function(a,c){return a.date<c.date?1:a.date==c.date?0:-1});if(0<this.list.length)for(this.maxNewsId=this.list[0].id;20<this.list.length;){var a=this.list.pop();F.deleteField(this.mSO.data,a.id);this.mSO.flush()}},addNews:function(a){this.list.push(a);var b=
a.uid;Object.prototype.hasOwnProperty.call(this.newsMap.h,b)||(this.newsMap.h[b]=!0,this.dispatchSimpleXEvent("NewsManager::NEW_NEWS",a),this.mSO.data[a.id]=a,this.mSO.flush())},onNewNews:function(a){var b=a.data;if("tournament_won"==b.type)u.get_instance().getVCard(b.uid).onComplete(function(a){0<a.vCardCreationTime-u.get_instance().serverTimeDiff-b.date&&u.get_instance().getVCard(b.uid,!0)})},dispose:function(){this.list=null;T.prototype.dispose.call(this)},__class__:Oc});var vg=function(){this.atlas=
new Ib(1024);sa.call(this);this.init()};h["game.PlayBackground"]=vg;vg.__name__="game.PlayBackground";vg.__super__=sa;vg.prototype=m(sa.prototype,{getPos:function(a,b){return 0<=a&&a<v.COLUMNS&&0<=b&&b<v.ROWS?this.mBGArray[a+b*v.COLUMNS]:!1},init:function(){this.vertexBuffer=new Jb(512,4);this.create()},create:function(a){var b=this.atlas.get_size();this.build(a);b!=this.atlas.get_size()&&this.build(a)},build:function(a){this.vertexBuffer.entries=0;this.mBGArray=[];for(var b=0,c=v.ROWS;b<c;)for(var d=
b++,e=0,g=v.COLUMNS;e<g;){var k=e++;if(null!=a)if(d<a.length){var q=a[d];k<q.length?this.mBGArray.push("o"!=q.charAt(k)):this.mBGArray.push(!1)}else this.mBGArray.push(!1);else this.mBGArray.push(!0)}b=-1;for(c=v.COLUMNS+1;b<c;)for(k=b++,e=-1,g=v.ROWS+1;e<g;)d=e++,this.getPos(k,d)?this.writeQuad(k,d,"a000000000"):this.getPos(k-1,d)&&this.getPos(k+1,d)&&this.getPos(k,d-1)&&this.getPos(k,d+1)?this.writeQuad(k,d,"a111101111"):(this.getPos(k+1,d)&&(!this.getPos(k-1,d)&&this.getPos(k,d-1)&&this.getPos(k,
d+1)?this.writeQuad(k,d,"a111011111"):this.getPos(k,d+1)&&this.getPos(k+1,d)&&!this.getPos(k,d-1)&&!this.getPos(k-1,d)?this.writeQuad(k,d,"a000001111"):this.getPos(k,d-1)&&this.getPos(k+1,d)&&!this.getPos(k,d+1)&&!this.getPos(k-1,d)?this.writeQuad(k,d,"a111001000"):this.getPos(k,d-1)||this.getPos(k,d+1)||this.writeQuad(k,d,"a000001000")),this.getPos(k-1,d)&&(!this.getPos(k+1,d)&&this.getPos(k,d-1)&&this.getPos(k,d+1)?this.writeQuad(k,d,"a111110111"):this.getPos(k,d+1)&&this.getPos(k-1,d)&&!this.getPos(k,
d-1)&&!this.getPos(k+1,d)?this.writeQuad(k,d,"a000100111"):this.getPos(k,d-1)&&this.getPos(k-1,d)&&!this.getPos(k,d+1)&&!this.getPos(k+1,d)?this.writeQuad(k,d,"a111100000"):this.getPos(k,d-1)||this.getPos(k,d+1)||this.writeQuad(k,d,"a000100000")),this.getPos(k+1,d)||this.getPos(k,d+1)||!this.getPos(k+1,d+1)||this.writeQuad(k,d,"a000000001"),this.getPos(k,d+1)&&(this.getPos(k-1,d)&&this.getPos(k+1,d)&&this.getPos(k,d+1)?this.writeQuad(k,d,"a101111111"):this.getPos(k-1,d)||this.getPos(k+1,d)||this.writeQuad(k,
d,"a000000010")),this.getPos(k-1,d)||this.getPos(k,d+1)||!this.getPos(k-1,d+1)||this.writeQuad(k,d,"a000000100"),this.getPos(k+1,d)||this.getPos(k,d-1)||!this.getPos(k+1,d-1)||this.writeQuad(k,d,"a001000000"),this.getPos(k,d-1)&&(this.getPos(k-1,d)&&this.getPos(k+1,d)&&this.getPos(k,d-1)?this.writeQuad(k,d,"a111111101"):this.getPos(k-1,d)||this.getPos(k+1,d)||this.writeQuad(k,d,"a010000000")),this.getPos(k-1,d)||this.getPos(k,d-1)||!this.getPos(k-1,d-1)||this.writeQuad(k,d,"a100000000"));this.vertexBuffer.upload();
this.mShader=new yb("attribute vec2 aVertexPosition;attribute vec2 aTexCoord;uniform mat4 uViewProjection;varying vec2 vTexCoord;void main (void){vTexCoord = aTexCoord;gl_Position = uViewProjection * vec4( aVertexPosition, 0.0, 1.0 );}","varying vec2 vTexCoord;uniform sampler2D uTex0;uniform vec4 uColor;void main (void) {vec4 col0 = texture2D( uTex0, vTexCoord, -1.0 ); gl_FragColor = col0 * uColor;}")},writeQuad:function(a,b,c){c=this.atlas.getTexture("field/"+c+".png");var d=1/this.atlas.get_texture().width,
e=v.STONE_SIZE;a*=e;b=(b+0)*e;this.vertexBuffer.addEntry(4);var g=this.vertexBuffer.data;g.floatArray[g.position>>>2]=a;g.position+=4;g.floatArray[g.position>>>2]=b;g.position+=4;var k=(c.get_left()+1)*d;g.floatArray[g.position>>>2]=k;g.position+=4;k=(c.get_top()+1)*d;g.floatArray[g.position>>>2]=k;g.position+=4;g.floatArray[g.position>>>2]=a+e;g.position+=4;g.floatArray[g.position>>>2]=b;g.position+=4;k=(c.get_right()-1)*d;g.floatArray[g.position>>>2]=k;g.position+=4;k=(c.get_top()+1)*d;g.floatArray[g.position>>>
2]=k;g.position+=4;g.floatArray[g.position>>>2]=a;g.position+=4;g.floatArray[g.position>>>2]=b+e;g.position+=4;k=(c.get_left()+1)*d;g.floatArray[g.position>>>2]=k;g.position+=4;k=(c.get_bottom()-1)*d;g.floatArray[g.position>>>2]=k;g.position+=4;g.floatArray[g.position>>>2]=a+e;g.position+=4;g.floatArray[g.position>>>2]=b+e;g.position+=4;k=(c.get_right()-1)*d;g.floatArray[g.position>>>2]=k;g.position+=4;k=(c.get_bottom()-1)*d;g.floatArray[g.position>>>2]=k;g.position+=4},draw:function(a,b,c,d){var e=
this.vertexBuffer.entries>>1;if(0<e){p.instance.enableBlend();var g=this.mShader,k=this.vertexBuffer,q=Cb.getIB(e);g.mVertexBuffer=k;g.mIndexBuffer=q;p.gl.useProgram(g.mProgram);k.apply();q.apply();g=null;q=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=g&&Q.copyFrom(q,g);k=q;g=B.SCREEN_HEIGHT;q=B.SCREEN_WIDTH;var t=1/q,n=1/(0-g);k[0]=2*t;k[4]=0;k[8]=0;k[12]=-q*t;k[1]=0;k[5]=2*n;k[9]=0;k[13]=-g*n;k[2]=0;k[6]=0;k[10]=-.01998001998001998;k[14]=-.9980019980019981;k[3]=0;k[7]=0;k[11]=0;k[15]=1;g=
null;q=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=g&&Q.copyFrom(q,g);a=Q.fromM2D(q,a);g=a[0]*k[1]+a[1]*k[5]+a[2]*k[9]+a[3]*k[13];q=a[0]*k[2]+a[1]*k[6]+a[2]*k[10]+a[3]*k[14];t=a[0]*k[3]+a[1]*k[7]+a[2]*k[11]+a[3]*k[15];n=a[4]*k[0]+a[5]*k[4]+a[6]*k[8]+a[7]*k[12];var f=a[4]*k[1]+a[5]*k[5]+a[6]*k[9]+a[7]*k[13],h=a[4]*k[2]+a[5]*k[6]+a[6]*k[10]+a[7]*k[14],m=a[4]*k[3]+a[5]*k[7]+a[6]*k[11]+a[7]*k[15],l=a[8]*k[0]+a[9]*k[4]+a[10]*k[8]+a[11]*k[12],G=a[8]*k[1]+a[9]*k[5]+a[10]*k[9]+a[11]*k[13],y=a[8]*
k[2]+a[9]*k[6]+a[10]*k[10]+a[11]*k[14],K=a[8]*k[3]+a[9]*k[7]+a[10]*k[11]+a[11]*k[15],v=a[12]*k[0]+a[13]*k[4]+a[14]*k[8]+a[15]*k[12],U=a[12]*k[1]+a[13]*k[5]+a[14]*k[9]+a[15]*k[13],I=a[12]*k[2]+a[13]*k[6]+a[14]*k[10]+a[15]*k[14],r=a[12]*k[3]+a[13]*k[7]+a[14]*k[11]+a[15]*k[15];k[0]=a[0]*k[0]+a[1]*k[4]+a[2]*k[8]+a[3]*k[12];k[4]=n;k[8]=l;k[12]=v;k[1]=g;k[5]=f;k[9]=G;k[13]=U;k[2]=q;k[6]=h;k[10]=y;k[14]=I;k[3]=t;k[7]=m;k[11]=K;k[15]=r;g=this.mShader;a=p.gl;q=g.mUniformLookUp.h.uViewProjection;null==q&&(t=
g.mUniformLookUp,q=p.gl.getUniformLocation(g.mProgram,"uViewProjection"),t.h.hasOwnProperty("uViewProjection")&&E.remove(t.mKeys,"uViewProjection"),t.h.uViewProjection=q,t.mKeys.push("uViewProjection"));ob.uniformMatrix4fv(a,q,!1,k);g=this.mShader;a=p.gl;q=g.mUniformLookUp.h.uColor;null==q&&(t=g.mUniformLookUp,q=p.gl.getUniformLocation(g.mProgram,"uColor"),t.h.hasOwnProperty("uColor")&&E.remove(t.mKeys,"uColor"),t.h.uColor=q,t.mKeys.push("uColor"));a.uniform4f(q,b,c,d,1);this.mShader.vertexAttribPointer("aVertexPosition",
2,p.gl.FLOAT,0);this.mShader.vertexAttribPointer("aTexCoord",2,p.gl.FLOAT,8);g=this.mShader;b=this.atlas.get_texture();a=p.gl;q=g.mUniformLookUp.h.uTex0;null==q&&(t=g.mUniformLookUp,q=p.gl.getUniformLocation(g.mProgram,"uTex0"),t.h.hasOwnProperty("uTex0")&&E.remove(t.mKeys,"uTex0"),t.h.uTex0=q,t.mKeys.push("uTex0"));a.uniform1i(q,0);null!=b?b.apply(0):p.sDefaultTex.apply(0);p.gl.drawElements(p.gl.TRIANGLES,3*e,p.gl.UNSIGNED_SHORT,0)}},__class__:vg});var db=function(a){this.mSettings=null;fa.call(this,
a);this.registerXEventListener(Y.get_instance(),"AudioManager::Update",l(this,this.onAudioUpdate))};h["screens.SettingsScreen"]=db;db.__name__="screens.SettingsScreen";db.__super__=fa;db.prototype=m(fa.prototype,{createSettings:function(a){this.closeSettings();wb.get_instance().set_visible(!1);var b=this.context.getTemplate("tSettings");null==b&&(b=this.context.getTemplate("tBaseSettings"));this.mSettings=b.createInstance();this.mSettings.addAnimation(new Qe(.5));a.addChild(this.mSettings);0!=a.highlight&&
(a.invalidate(),b=a.highlightAnimation,null!=b&&b.dispose(),a.highlightAnimation=null);a.highlight=!1;a=!u.get_instance().hideShop;b=this.find("uiBtShop");null!=b&&b.set_visible(a);a=!u.get_instance().forceMode;b=this.find("uiBtQuitLevel");null!=b&&b.set_visible(a);b=this.mSettings;a=!ka.get_instance().hasFeature("external_mute");b=b.find("uiBtSound");null!=b&&b.set_visible(a);b=this.mSettings;a=!ka.get_instance().hasFeature("external_mute");b=b.find("uiBtMusic");null!=b&&b.set_visible(a);this.arrange();
this.onAudioUpdate()},onButtonClick:function(a){switch(a.name){case "uiBtCloseSettings":this.closeSettings();break;case "uiBtDebug":window.location.reload(!0);break;case "uiBtMusic":Y.get_instance().set_muteMusic(!Y.get_instance().get_muteMusic());ka.get_instance().trackEvent("EVENT_VOLUMECHANGE",{bgmVolume:Y.get_instance().get_muteMusic()?0:1,sfxVolume:Y.get_instance().get_muteSound()?0:1});Ua.instance.save();break;case "uiBtSettings":this.createSettings(a);break;case "uiBtShop":this.closeSettings();
wb.get_instance().help(null);B.instance.addScreen(new Dc(kc.DEFAULT));break;case "uiBtSound":Y.get_instance().set_muteSound(!Y.get_instance().get_muteSound());ka.get_instance().trackEvent("EVENT_VOLUMECHANGE",{bgmVolume:Y.get_instance().get_muteMusic()?0:1,sfxVolume:Y.get_instance().get_muteSound()?0:1});Ua.instance.save();break;default:var b=N.getSupportedLocale(a.name);null!=b?(N.initLang(b),Ua.instance.setSetting("loca",b),Ua.instance.save()):fa.prototype.onButtonClick.call(this,a)}},arrange:function(){if(null!=
this.mSettings)for(var a=0,b=0,c=this.mSettings.children;b<c.length;){var d=c[b];++b;d instanceof za&&(d=L.__cast(d,za),d.visible&&0==d.x&&(d.y!=a&&d.invalidate(),d.y=a,a-=d.height+10))}},closeSettings:function(){wb.get_instance().set_visible(!0);if(null!=this.mSettings){if(null!=this.mSettings.parent){var a=this.mSettings.parent;if(1!=a.highlight){a.invalidate();var b=a.highlightAnimation;null!=b&&b.dispose();a.highlightAnimation=null}a.highlight=!0}b=this.mSettings;null!=b&&b.dispose();this.mSettings=
null}},onAudioUpdate:function(a){a=Y.get_instance().get_muteSound()?"dynamic/sound_off.png":"dynamic/sound.png";var b=this.find("uiBtSound");null!=b&&b instanceof C&&b.set_image(a);a=Y.get_instance().get_muteMusic()?"dynamic/music_off.png":"dynamic/music.png";b=this.find("uiBtMusic");null!=b&&b instanceof C&&b.set_image(a)},__class__:db});var v=function(){this.ploppedStones=[];this.lockPowerUps=this.mAddedJumpstarters=!1;this.mGlowList=[];this.mAmbientLoop=this.idleTimer=null;this.mInitialised=!1;
this.jumpStarterArray=[];this.mSwizzleCount=0;this.mSwizzleAnimationArray=null;this.currentMove=0;this.mHighLightStones=new Xc;this.animations=this.taskView=this.powerUpView=null;this.mPlayBackground=new vg;this.mUserAction=!1;this.mLandscape=null;this.level=-1;this.mGameOver=this.mGameOverPlopping=this.mMoving=!1;this.succeeded=null;this.enableTutorial=this.mDirty=!0;this.commands=[];this.levelEventData={};db.call(this);this.task=new Od(this);this.load("xml/playfield.xml")};h["game.PlayField"]=v;
v.__name__="game.PlayField";v.__properties__={get_instance:"get_instance"};v.get_instance=function(){null==v.instance&&(v.instance=new v);return v.instance};v.setSize=function(a,b,c){if(v.COLUMNS!=a||v.ROWS!=b){v.COLUMNS=a;v.ROWS=b;v.get_instance().stones=[];a=v.get_instance().stones;b=0;for(var d=v.COLUMNS;b<d;){b++;for(var e=0,g=2*v.ROWS;e<g;)e++,a.push(null)}}v.get_instance().mPlayBackground.create(c)};v.start=function(a){null!=a&&v.get_instance().set_level(a);var b=W.get_instance();a=v.get_instance().level;
b.loggedIn&&b.sendEvent(13,{startGame:a},!1);B.instance.transScreen(v.get_instance())};v.__super__=db;v.prototype=m(db.prototype,{onLoadComplete:function(){db.prototype.onLoadComplete.call(this);this.mContainer=this.find("uiContainer");this.mOverlay=this.find("uiCages");this.uiPlayField=this.find("uiPlayField");this.animations=this.find("uiAnimation");this.mGlowTemplate=this.context.getTemplate("tGemGlow");Da.staticInit(this.mOverlay)},set_level:function(a){this.level=a;this.dispatchSimpleXEvent("NEW_LEVEL");
return a},onAdded:function(){db.prototype.onAdded.call(this);this.mInitialised||(this.mInitialised=!0,v.setSize(8,8),this.mPlayBackground.create(),-1==this.level&&this.set_level(u.get_instance().get_nextLevel()),this.registerXEventListener(this.task,"Task::LEVEL_SOLVED",l(this,this.onLevelSolved)));this.initLevel(this.level)},finishAnimation:function(a,b){null!=v.get_instance().taskView.getTaskView(b)&&(u.get_instance().hideScoreBoard?u.get_instance().forceMode||v.get_instance().task.solveTaskType(b):
v.get_instance().task.isTask(b)&&v.get_instance().animations.addChild(new lc(a,b)))},getField:function(a,b){return v.get_instance().mPlayBackground.getPos(a,v.ROWS-1-b)},resetField:function(){for(var a=0,b=v.COLUMNS;a<b;)for(var c=a++,d=0,e=v.ROWS;d<e;){var g=d++;this.removeStone(c,g)}null!=this.mContainer&&this.mContainer.removeAllChildren()},postTrackingData:function(a){Wb.get_instance().trackEvent("event/level/"+a,this.levelEventData)},getTutorialStone:function(a,b){var c=this.getStone(a,b+v.ROWS);
null==c&&(c=this.getStone(a,b));return c},initLevel:function(a){var b=this;this.enableTutorial=Ua.instance.getSetting("tutorial",!0)||1!=a;0!=this.scale&&this.invalidate();this.scale=0;var c=u.get_instance().startLevel(v.get_instance().level,v.get_instance().jumpStarterArray),d=function(c){Ua.instance.save();c=b.find("uiOverlay");null!=c&&c.removeAllChildren();c=B.instance.find("uiBtBrand");null!=c&&c.set_visible(!1);b.set_level(a);b.succeeded=null;b.task.initLevel(a,u.get_instance().levelToken,function(){b.dispatchSimpleXEvent("PlayField::LevelStart");
1!=b.scale&&b.invalidate();b.scale=1;b.moveIn();b.recreateUIElements();null==b.powerUpView&&b.find("uiMenu").addChild(b.powerUpView=new wg);b.fall(!0);var c=b.find("uiBtSettings");null!=c&&(c.enabled=!0,1!=c.alpha&&c.invalidate(),c.alpha=1);b.mAddedJumpstarters=!1;b.mDirty=!0;b.succeeded=null;b.mGameOver=!1;b.mGameOverPlopping=!1;R.sStoneCounts={};$c.sBombs=[];b.currentMove=0;hb.initLevel();Da.initLevel(b.task.overlay);c=b.task.maxMoves;var d=b.jumpStarterArray.slice(0),e=ma.createGUID();b.levelEventData=
{maxMoves:c,jumpStarters:d,_id:e,level:b.level};b.postTrackingData("start");ka.get_instance().trackEvent(u.get_instance().lastLevelFinished==a?"EVENT_LEVELRESTART":"EVENT_LEVELSTART",{levelName:"level"+ma.ndigits(b.level,4)});b.onScreenSizeChanged();b.setUpIdle();ka.get_instance().gameReady();ka.get_instance().playerReady();b.checkTutorial()})},e=B.instance.get_foreground().addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',
B.instance.get_foreground().context));this.register(c.onComplete(function(a){null!=d&&d(a);null!=e&&e.dispose()}).onError(function(a){null!=e&&e.dispose()}))},leave:function(){u.get_instance().forceMoves=null;var a=Ua.instance.getSetting("totalLevelsPlayed",0)+1;ka.get_instance().trackStats("level_played");this.dispatchSimpleXEvent("PlayField::LevelEnd");var b=B.instance.find("uiBtBrand");null!=b&&b.set_visible(!0);Ua.instance.setSetting("totalLevelsPlayed",a);u.get_instance().lastLevelFinished=this.level;
this.levelEventData.success=this.succeeded;this.levelEventData.movesLeft=this.task.get_moves();this.succeeded&&(this.levelEventData.stars=this.task.getStars(),this.levelEventData.score=this.task.score);this.postTrackingData("end");if(null!=this.mAmbientLoop){if(this.mAmbientLoop.isComplete)a=this.mAmbientLoop.value,null!=a&&a.dispose();else this.mAmbientLoop.onComplete(function(a){null!=a&&a.dispose()});this.mAmbientLoop=null}B.instance.removeScreen(this)},applyJumpStartAndStreak:function(){if(!this.mAddedJumpstarters){this.mAddedJumpstarters=
!0;for(var a=[],b=0,c=this.stones;b<c.length;){var d=c[b];++b;d instanceof rb&&a.push(d)}b=0;u.get_instance().hasTemporaryBonus("tempStarterLine")&&this.jumpStarterArray.push("starterLine");u.get_instance().hasTemporaryBonus("tempStarterOrb")&&this.jumpStarterArray.push("starterOrb");for(u.get_instance().hasTemporaryBonus("tempStarterSkunk")&&this.jumpStarterArray.push("starterSkunk");0<this.jumpStarterArray.length;){d=this.jumpStarterArray.pop();c=null;if(null!=d)switch(d){case "ad_orb":case "starterOrb":c=
this.task.allowedGemTypes[M.random(this.task.allowedGemTypes.length)];c=new Nd(c);break;case "ad_skunk":case "starterSkunk":c=new vd;break;case "ad_line":case "starterLine":c=new ld(.5>Math.random())}null!=c&&0<a.length&&(d=a[M.random(a.length)],null!=d&&(this.addCommand(.3+.3*++b,new Md(d,c,ee.Starter)),E.remove(a,d)))}}},proceedLevel:function(){this.leave();this.set_level(this.level+1);Ua.instance.setSetting("level",this.level)},recreateUIElements:function(){var a=this.taskView;null!=a&&a.dispose();
this.find("uiMenu").addChild(this.taskView=new xg,0)},onLevelSolved:function(a){this.succeeded=!0;Y.get_instance().play("sound/win.mp3",0,1,1);a=this.find("uiBtSettings");null!=a&&(a.enabled=!1,.5!=a.alpha&&a.invalidate(),a.alpha=.5);null!=wd.sInstance&&wd.sInstance.close();null!=Dc.sInstance&&Dc.sInstance.close();if(1==this.task.get_moves()){var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=.5*B.SCREEN_HEIGHT;a=b;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=0;for(var c=b,d=n.sTempV2D[++n.sTempV2DIdx%
n.sTempV2DLen],e=0;500>e;){var g=e++;b=-B.SCREEN_HEIGHT*Math.random()*2;d.x=Math.random()*B.SCREEN_WIDTH;d.y=b;b=.3*B.SCREEN_HEIGHT*(Math.random()+1);a.x=0;a.y=b;var k=.01+.05*Math.random();b=Z.sInstance;var q=-1,t=-1,f=3600*(Math.random()-.5),p=3600*(Math.random()-.5);g=300>g?760*Math.random():0;null==g&&(g=0);null==p&&(p=0);null==f&&(f=0);null==t&&(t=0);null==q&&(q=-1);b.addParticle(b.mVertexBuffer2,"gems/star.png",d,15,a,c,k,.02,q,t,f,p,g)}}},scoreAnimation:function(a,b,c){null==c&&(c=-1);u.get_instance().hideFloatingPoints||
this.addChild(new yg(a,b,c))},onScreenSizeChanged:function(){if(null!=this.uiPlayField){var a=v.STONE_SIZE*v.COLUMNS,b=v.STONE_SIZE*v.ROWS,c=this.uiPlayField,d=v.STONE_SIZE*v.COLUMNS;c.width!=d&&c.invalidate();var e=null;c.relativeWidth!=e&&c.invalidate();c.relativeWidth=e;c.width=d;c=this.uiPlayField;d=v.STONE_SIZE*v.ROWS;c.height!=d&&c.invalidate();e=null;c.relativeHeight!=e&&c.invalidate();c.relativeHeight=e;c.height=d;c=p.instance.ratio;if(e=1<c){d=this.uiPlayField.width+350;var g=Math.max(this.uiPlayField.height,
7.6*v.STONE_SIZE);d/=g;v.sScale=c>d?B.SCREEN_HEIGHT/Math.max(b,7.6*v.STONE_SIZE)*.92:B.SCREEN_WIDTH/d/Math.max(b,7.6*v.STONE_SIZE)*.92;c=this.uiPlayField;d=v.sScale;c.scale!=d&&c.invalidate();c.scale=d;c=this.uiPlayField;0!=c.y&&c.invalidate();c.y=0}else g=this.uiPlayField.height+430,d=Math.max(this.uiPlayField.width,8*v.STONE_SIZE),d/=g,v.sScale=c<d?B.SCREEN_WIDTH/Math.max(a,8*v.STONE_SIZE)*.92:B.SCREEN_HEIGHT*d/Math.max(a,8*v.STONE_SIZE)*.92,c=this.uiPlayField,d=v.sScale,c.scale!=d&&c.invalidate(),
c.scale=d,c=this.uiPlayField,115!=c.y&&c.invalidate(),c.y=115;this.mLandscape!=e&&(this.mLandscape=e,this.recreateUIElements())}},addStone:function(a,b,c){c.setPos(a,b);this.mContainer.addChild(c,0);c.setStone(a,b,c);this.mDirty=!0;return c},setStone:function(a,b,c){0<=a&&a<v.COLUMNS&&0<=b&&b<2*v.ROWS&&(this.stones[a+b*v.COLUMNS]=c,this.mDirty=!0)},getStone:function(a,b){return 0<=a&&a<v.COLUMNS&&0<=b&&b<2*v.ROWS?this.stones[a+b*v.COLUMNS]:null},getRandomStoneOfType:function(a){for(var b=0,c=this.stones;b<
c.length;){var d=c[b];++b;if(null!=d&&d.stoneType==a)return d}return null},removeStone:function(a,b){var c=this.getStone(a,b);null!=c&&(c.get_valid()&&this.ploppedStones.push(c),this.setStone(a,b,null))},rearrangeColumn:function(a,b){null==b&&(b=!1);for(var c=1,d=2*v.ROWS;c<d;){var e=c++;e=this.getStone(a,e);null==e||e.parent!=this.mContainer&&!b||this.mContainer.addChild(e)}},rearrange:function(a){null==a&&(a=!1);for(var b=0,c=v.COLUMNS;b<c;){var d=b++;this.rearrangeColumn(d,a)}},getNewGem:function(){if(null!=
this.task.spawnObjects&&0<this.task.spawnObjects.length)for(var a=0,b=this.task.spawnObjects;a<b.length;){var c=b[a];++a;if(Math.random()<=c.factor)switch(c.stoneType){case "BALLON":if(kd.sBallons.length<c.maxCount)return new kd(c.params);break;case "BOMB":if($c.sBombs.length<c.maxCount)return new $c(c.params)}}return new rb},fall:function(a){null==a&&(a=!1);for(var b=1,c=2*v.ROWS;b<c;)for(var d=b++,e=0,g=v.COLUMNS;e<g;){var k=e++;k=this.getStone(k,d);null!=k&&k.fall(a)}b=0;for(c=v.COLUMNS;b<c;){k=
b++;var q=0;e=0;for(g=v.ROWS;e<g;){d=e++;d=v.ROWS-d-1;if(null!=this.getStone(k,d))break;this.getField(k,d)&&++q}e=0;for(g=q;e<g;)q=e++,null==this.getStone(k,q+v.ROWS)&&this.addStone(k,q+v.ROWS,this.getNewGem()).fall(a)}},addCommand:function(a,b,c){null==c&&(c=!1);var d=H.timer;c&&0<this.commands.length&&(d=this.commands[this.commands.length-1].get_startTime());b.set_startTime(d+a);this.commands.push(b)},update:function(){if(null!=this.stones){if(null!=bd.sInstance||this.lockPowerUps){var a=n.sTempV2D[++n.sTempV2DIdx%
n.sTempV2DLen];a.x=0;a.y=.5*B.SCREEN_HEIGHT;var b=a;a=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];a.x=0;a.y=0;var c=a,d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];switch(M.random(4)){case 0:d.x=Math.random()*B.SCREEN_WIDTH;d.y=0;b.x=0;b.y=.15*B.SCREEN_HEIGHT;break;case 1:d.x=Math.random()*B.SCREEN_WIDTH;d.y=B.SCREEN_HEIGHT;b.x=0;b.y=-.15*B.SCREEN_HEIGHT;break;case 2:a=Math.random()*B.SCREEN_HEIGHT;d.x=B.SCREEN_WIDTH;d.y=a;b.x=-.15*B.SCREEN_WIDTH;b.y=0;break;case 3:a=Math.random()*B.SCREEN_HEIGHT,d.x=
0,d.y=a,b.x=.15*B.SCREEN_WIDTH,b.y=0}var e=.04+.05*Math.random();a=Z.sInstance;var g=-1,k=16777215,q=160*(Math.random()-.5),t=160*(Math.random()-.5),f=260*Math.random();null==f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=0);null==g&&(g=-1);a.addParticle(a.mVertexBuffer2,"gems/star.png",d,.5,b,c,e,.02,g,k,q,t,f)}for(;0<this.ploppedStones.length;)this.ploppedStones.pop().dispose();if(null!=this.mSwizzleAnimationArray&&.2>Math.random()){for(;5<this.mSwizzleAnimationArray.length;)b=this.mSwizzleAnimationArray.shift(),
b.unsetHighlight();b=this.getStone(M.random(v.COLUMNS),M.random(v.ROWS));null!=b&&b.touchable&&(b.setHighlight(),this.mSwizzleAnimationArray.push(b))}this.checkCommands();this.mMoving=!1;for(b=R.sStones.iterator();b.hasNext();)if(b.next().state!=$a.NORMAL){this.mMoving=!0;break}0==this.commands.length&&(this.mUserAction&&(this.mSwizzleCount=0,hb.checkBlob(),Cc.clear(),ka.get_instance().trackStats("move_completed"),this.dispatchSimpleXEvent("USER_ACTION")),this.mDirty&&(this.mDirty=!1,this.rearrange(),
this.fall(),this.checkGroups()),this.mUserAction&&(this.mUserAction=!1,this.checkTutorial()),null==this.succeeded&&0>=this.task.get_moves()&&0!=u.get_instance().forceMoves&&!this.task.solved&&!this.mMoving&&0==lc.sAnimationCount&&(this.succeeded=!1),0!=this.commands.length||this.mGameOver||null==this.succeeded||this.mMoving||(this.mGameOverPlopping||1!=this.succeeded?(this.mGameOver=!0,0==this.succeeded?(a=W.get_instance(),a.loggedIn&&a.sendEvent(13,{endGame:!1},!1),ka.get_instance().levelFailed(v.get_instance().level,
{reason:"dead"}).onComplete(function(a){u.get_instance().forceMode||B.instance.addScreen(new zg,!1)})):u.get_instance().forceMode?u.get_instance().levelWon(this.level,this.task.getStars(),this.task.score):(a=W.get_instance(),a.loggedIn&&a.sendEvent(13,{endGame:!0},!1),B.instance.addScreen(new Ag,!1))):(this.ploppAll(.7),this.mGameOverPlopping=!0)));db.prototype.update.call(this)}},revive:function(a){this.succeeded=null;var b=this.task;b.set_moves(b.get_moves()+a);this.task.revives+=1;this.mGameOver=
!1;a=this.levelEventData;b=null!=a&&Object.prototype.hasOwnProperty.call(a,"revives");this.levelEventData.revives=((b?F.field(a,"revives"):0)|0)+1},ploppAll:function(a){null==a&&(a=0);this.shake();for(var b=0,c=v.COLUMNS;b<c;)for(var d=b++,e=0,g=v.ROWS;e<g;){var k=e++,q=this.getStone(d,v.ROWS-k-1);null!=q&&this.addCommand(.03*(d+k*v.ROWS)+a,new zc(q))}},checkGroups:function(){for(var a=[],b=new nb,c=0,d=this.stones;c<d.length;){var e=d[c];++c;null!=e&&(b.h[e.id]=e)}var g=0;c=0;for(d=v.COLUMNS;c<d;)for(var k=
c++,q=0,t=2*v.ROWS;q<t;){var n=q++,f=this.getStone(k,n);if(null!=f&&!f.get_hidden()&&b.h.hasOwnProperty(f.id)){++g;b.remove(f.id);for(var p=new Qh([f]),h=0;h<p.data.length;){e=p.data[h++];for(var m=0,l=e.getNeightbours();m<l.length;)n=l[m],++m,n.get_valid(),n.get_valid()&&!n.get_hidden()&&n.isSame(e)&&b.h.hasOwnProperty(n.id)&&(p.data.push(n),b.remove(n.id))}f.gem&&1<p.data.length&&a.push(p);if(1<p.data.length)for(n=p.iterator();n.hasNext();)n.next().setGroup(p);else f.setGroup(null),p.dispose()}}if(0==
a.length){a=[];c=0;for(d=this.stones;c<d.length;)q=d[c],++c,q instanceof rb&&a.push(q);for(c=b=0;c<a.length;){q=a[c];++c;E.remove(a,q);g=!1;for(k=[q];0<k.length;)for(q=k.pop(),d=0,q=q.getNeightbours();d<q.length;)n=q[d],++d,n instanceof rb&&(t=L.__cast(n,rb),-1!=a.indexOf(t)&&(k.push(t),E.remove(a,t),g=!0));g&&++b}0<b&&10>this.mSwizzleCount&&this.swizzle()}else if(null==B.forceElements){d=null;for(c=0;c<a.length;)if(p=a[c],++c,null==d||d.data.length<p.data.length||p.hasSpecial())d=p;d.pulse()}},swizzle:function(){for(var a=
[],b=[],c=0,d=v.COLUMNS;c<d;)for(var e=c++,g=0,k=v.ROWS;g<k;){var q=g++,t=this.getStone(e,q);null!=t&&(t.gem||t instanceof jb)&&(a.push(e+q*v.COLUMNS),t.state=$a.NORMAL,b.push(t))}for(c=0;c<b.length;)d=b[c],++c,e=Math.floor(Math.random()*a.length)|0,g=a[e],a.splice(e,1),this.addStone(g%v.COLUMNS,Math.floor(g/v.COLUMNS)|0,d);this.mDirty=!0;++this.mSwizzleCount;this.rearrange()},checkCommands:function(){if(0<this.commands.length){for(var a=0;a<this.commands.length;){var b=this.commands[a];b.get_startTime()<
H.timer?(b.execute(),E.remove(this.commands,b)):++a}0==this.commands.length&&this.dispatchSimpleXEvent("COMMAND_STACK_EMPTY")}},get_locked:function(){return 0<this.commands.length||0>=this.task.get_moves()&&0!=u.get_instance().forceMoves||this.task.solved?!0:this.mMoving},draw:function(){null!=this.mPlayBackground&&this.mPlayBackground.draw(this.uiPlayField.resultMatrix,this.resultColorR,this.resultColorG,this.resultColorB);db.prototype.draw.call(this)},checkTutorial:function(){this.enableTutorial&&
u.get_instance().lastLevelFinished!=v.get_instance().level?wb.get_instance().checkTutorial(this.level,this.currentMove)||this.applyJumpStartAndStreak():this.applyJumpStartAndStreak()},userAction:function(){++this.currentMove;this.mUserAction=!0},shake:function(){this.addAnimation(new Bg)},dragOver:function(a,b){if(a instanceof R)switch(this.unhighlightStones(),b){case "columnHit":b=0;for(var c=v.ROWS;b<c;){var d=b++;d=this.getStone(a.column,d);null!=d&&d.destroyable&&(d.setHighlight(),this.mHighLightStones.set(d,
d))}break;case "rowHit":b=0;for(c=v.COLUMNS;b<c;)d=b++,d=this.getStone(d,a.row),null!=d&&d.destroyable&&(d.setHighlight(),this.mHighLightStones.set(d,d));break;case "singleHit":a.destroyable&&(a.setHighlight(),this.mHighLightStones.set(a,a))}},usePowerUp:function(a){var b=null;switch(a){case "columnHit":0<u.get_instance().forceColumnBoost&&(b=u.get_instance(),--b.forceColumnBoost,b=ya.withValue(!0));break;case "rowHit":0<u.get_instance().forceRowBoost&&(b=u.get_instance(),--b.forceRowBoost,b=ya.withValue(!0));
break;case "singleHit":0<u.get_instance().forceSingleBoost&&(b=u.get_instance(),--b.forceSingleBoost,b=ya.withValue(!0));break;case "swizzle":0<u.get_instance().forceSwizzleBoost&&(b=u.get_instance(),--b.forceSwizzleBoost,b=ya.withValue(!0))}if(null!=b){if(null!=this.powerUpView)this.powerUpView.onUpdateText();return b}Cc.clear();return u.get_instance().usePowerup(a)},drop:function(a,b){var c=this;for(this.unhighlightStones();null!=this.mSwizzleAnimationArray&&0<this.mSwizzleAnimationArray.length;)this.mSwizzleAnimationArray.pop().unsetHighlight();
this.mSwizzleAnimationArray=null;if(a instanceof R){var d=this.levelEventData,e=[],g=null!=d&&Object.prototype.hasOwnProperty.call(d,"powerUps");d=this.levelEventData.powerUps=g?F.field(d,"powerUps"):e;switch(b){case "columnHit":this.lockPowerUps=!0;var k=new R;R.sTouchObject=null;d.push({move:this.task.get_moves(),name:"COLUMN_HIT"});this.register(this.usePowerUp(b).onComplete(function(b){if(b){Y.get_instance().play("sound/drill.mp3",0,1,1);b=0;for(var d=v.ROWS;b<d;){var e=b++,g=c.getStone(a.column,
v.ROWS-e-1);null!=g&&g.destroyable&&c.addCommand(.05*e,new Ke(g,k))}c.fall()}c.lockPowerUps=!1}).onError(function(a){c.lockPowerUps=!1}));break;case "rowHit":this.lockPowerUps=!0;d.push({move:this.task.get_moves(),name:"ROW_HIT"});R.sTouchObject=null;this.register(this.usePowerUp(b).onComplete(function(b){if(b){b=0;var d=.5;null==d&&(d=1);null==b&&(b=0);Y.get_instance().play("sound/rocket.mp3",b,d,1);b=new R;d=0;for(var e=v.COLUMNS;d<e;){var g=d++,k=c.getStone(g,a.row);null!=k&&k.destroyable&&c.addCommand(.05*
(v.COLUMNS-g-1),new Ke(k,b))}c.fall()}c.lockPowerUps=!1}).onError(function(a){c.lockPowerUps=!1}));break;case "singleHit":d.push({move:this.task.get_moves(),name:"SINGLE_HIT"});this.lockPowerUps=!0;R.sTouchObject=null;this.register(this.usePowerUp(b).onComplete(function(b){b&&(Y.get_instance().play("sound/net.mp3",0,1,1),a.forcePloop(new R),c.fall());c.lockPowerUps=!1}).onError(function(a){c.lockPowerUps=!1}));break;case "swizzle":R.sTouchObject=null,this.lockPowerUps=!0,d.push({move:this.task.get_moves(),
name:"SWIZZLE"}),this.register(this.usePowerUp(b).onComplete(function(a){if(a){a=0;var b=.5;null==b&&(b=1);null==a&&(a=0);Y.get_instance().play("sound/dice.mp3",a,b,1);c.swizzle()}c.lockPowerUps=!1}).onError(function(a){c.lockPowerUps=!1}))}this.postTrackingData("update");Ua.instance.save()}},unhighlightStones:function(){for(var a=this.mHighLightStones.iterator();a.hasNext();){var b=a.next();b.unsetHighlight();this.mHighLightStones.remove(b)}if(null!=this.mSwizzleAnimationArray)for(;5<this.mSwizzleAnimationArray.length;)this.mSwizzleAnimationArray.pop().unsetHighlight()},
hasAdJumpstarter:function(){for(var a=0,b=this.jumpStarterArray;a<b.length;){var c=b[a];++a;switch(c){case "ad_line":case "ad_orb":case "ad_skunk":return!0}}return!1},setJumpStarter:function(a,b){return b&&-1==this.jumpStarterArray.indexOf(a)?(this.jumpStarterArray.push(a),!0):b?!1:!E.remove(this.jumpStarterArray,a)},hasJumpStarter:function(a){return-1!=this.jumpStarterArray.indexOf(a)},setUpIdle:function(){null!=this.idleTimer&&this.idleTimer.stop();this.idleTimer=fc.delay(l(this,this.onIdleTimer),
1E3+M.random(1500))},onIdleTimer:function(){for(var a=[],b=0,c=this.stones;b<c.length;){var d=c[b];++b;d instanceof rb&&a.push(d)}if(0<a.length)if(a=a[M.random(a.length)],null==a.group)a.wink();else for(a=a.group.iterator();a.hasNext();)b=a.next(),L.__cast(b,rb).wink();this.setUpIdle()},checkPowerUp:function(a,b){if(null!=bd.sInstance)return bd.sInstance.dispose(),!1;if(0>=this.getResource(a))return u.get_instance().hideShop||B.instance.addScreen(new Dc(b)),!1;this.find("uiPowerUpOverlay").addChild(new bd(a));
"selectHammer"==wb.get_instance().helpState&&(wb.get_instance().help([this.getStone(3,1)],"SID_TUT_USE_POWER_UP"),wb.get_instance().helpState="useHammer");return!0},getResource:function(a){switch(a){case "columnHit":if(null!=u.get_instance().forceColumnBoost)return u.get_instance().forceColumnBoost;break;case "rowHit":if(null!=u.get_instance().forceRowBoost)return u.get_instance().forceRowBoost;break;case "singleHit":if(null!=u.get_instance().forceSingleBoost)return u.get_instance().forceSingleBoost;
break;case "swizzle":if(null!=u.get_instance().forceSwizzleBoost)return u.get_instance().forceSwizzleBoost}return u.get_instance().getResource(a)|0},getGemGlow:function(){return 0<this.mGlowList.length?this.mGlowList.pop():this.mGlowTemplate.createInstance()},recycleGemGlow:function(a){this.mGlowList.push(a)},blubbStoneType:function(a){for(var b=0,c=this.stones;b<c.length;){var d=c[b];++b;null!=d&&d.stoneType==a&&d.addAnimation(new Yb)}},onButtonClick:function(a){switch(a.name){case "uiBtColumnPowerUp":this.lockPowerUps||
null!=this.succeeded||this.checkPowerUp("columnHit",kc.COLUMN_HIT);break;case "uiBtHammerPowerUp":this.lockPowerUps||null!=this.succeeded||this.checkPowerUp("singleHit",kc.SINGLE_HIT);break;case "uiBtQuitLevel":wb.get_instance().help(null);this.closeSettings();B.instance.addScreen(new wd);break;case "uiBtRowPowerUp":this.lockPowerUps||null!=this.succeeded||this.checkPowerUp("rowHit",kc.ROW_HIT);break;case "uiBtSwizzlePowerUp":!this.lockPowerUps&&null==this.succeeded&&this.checkPowerUp("swizzle",kc.SWIZZLE)&&
(this.mSwizzleAnimationArray=[]);break;case "uiBtTask":this.blubbStoneType(a.data.type);break;default:db.prototype.onButtonClick.call(this,a)}},__class__:v,__properties__:m(db.prototype.__properties__,{set_level:"set_level",get_locked:"get_locked"})});var Cg=function(a,b){this.column=a;this.row=b};h["game.PloppAndInteractCommand"]=Cg;Cg.__name__="game.PloppAndInteractCommand";Cg.__super__=y;Cg.prototype=m(y.prototype,{execute:function(){var a=v.get_instance().getStone(this.column,this.row);null!=
a&&null!=a.get_playField()&&(a.interactWithNeighbours(),a.plopp())},__class__:Cg});var Ga=function(a,b,c){this.interact=c;this.column=a;this.row=b};h["game.PloppCommand"]=Ga;Ga.__name__="game.PloppCommand";Ga.__super__=y;Ga.prototype=m(y.prototype,{execute:function(){var a=v.get_instance().getStone(this.column,this.row);null==a||null==a.get_playField()||a.get_hidden()||a.plopp(this.interact);a=Da.getOverlay(this.column,this.row);null!=a&&a.interact(this.interact);this.interact=null},__class__:Ga});
var bd=function(a){this.delta=0;this.lastElement=this.currentElement=null;sa.call(this);bd.sInstance=this;1!=this.relativeHeight&&this.invalidate();var b=this.relativeHeight=1;this.relativeWidth!=b&&this.invalidate();this.relativeWidth=b;p.window.set_cursor(Hb.MOVE);this.resource=a;var c=this.xdo=new C;200!=c.width&&c.invalidate();b=null;c.relativeWidth!=b&&c.invalidate();c.relativeWidth=b;c.width=200;c=this.xdo;200!=c.height&&c.invalidate();b=null;c.relativeHeight!=b&&c.invalidate();c.relativeHeight=
b;c.height=200;this.xdo.set_image(this.getIcon(a));this.addChild(this.xdo);this.enableParticles(!0);c=this.xdo;b=ca.get_instance().x*B.instance.getScreenScaleX()-100;c.x!=b&&c.invalidate();c.x=b;c=this.xdo;b=ca.get_instance().y*B.instance.getScreenScaleY()-100;c.y!=b&&c.invalidate();c.y=b;this.registerXEventListener(ca.get_instance(),"MOVE_EVENT",l(this,this.onTouchEvent));this.registerXEventListener(ca.get_instance(),"DOWN_EVENT",l(this,this.onTouchEvent));this.registerXEventListener(ca.get_instance(),
"UP_EVENT",l(this,this.onTouchEvent))};h["game.PowerUpAction"]=bd;bd.__name__="game.PowerUpAction";bd.__super__=sa;bd.prototype=m(sa.prototype,{getIcon:function(a){switch(a){case "columnHit":return"dynamic/column.png";case "rowHit":return"dynamic/row.png";case "singleHit":return"dynamic/hammer.png";case "swizzle":return"dynamic/swizzle.png"}return""},onTouchEvent:function(a){switch(a.type){case "DOWN_EVENT":null!=B.forceElements&&-1==B.forceElements.indexOf(B.sLastElement)||this.drop();break;case "MOVE_EVENT":var b=
a.x*B.instance.getScreenScaleX()-this.xdo.resultHeight/2;this.delta+=Math.abs(this.xdo.x-b);var c=this.xdo;c.x!=b&&c.invalidate();c.x=b;b=a.y*B.instance.getScreenScaleY()-this.xdo.resultWidth/2;this.delta+=Math.abs(this.xdo.y-b);c=this.xdo;c.y!=b&&c.invalidate();c.y=b}this.currentElement!=B.sLastElement&&"UP_EVENT"!=a.type&&(this.lastElement=this.currentElement,this.currentElement=B.sLastElement,B.instance.dispatchSimpleXEvent("DRAG_OVER_EVENT",this),v.get_instance().dragOver(this.currentElement,
this.resource))},drop:function(){this.target=B.sLastElement;v.get_instance().drop(this.target,this.resource);Rb.dispose(this)},enableParticles:function(a){var b=null;switch(this.resource){case "columnHit":b="uiBtColumnPowerUp";break;case "rowHit":b="uiBtRowPowerUp";break;case "singleHit":b="uiBtHammerPowerUp";break;case "swizzle":b="uiBtSwizzlePowerUp"}b=B.instance.find(b);null!=b&&null!=b.preParticleEmitter&&(b.preParticleEmitter.numParticlesPerSecond=a?100:0)},dispose:function(){this.lastElement=
this.currentElement=this.target=null;var a=this.xdo;null!=a&&a.dispose();this.xdo=null;this.enableParticles(!1);bd.sInstance=null;p.window.set_cursor(Hb.DEFAULT);sa.prototype.dispose.call(this)},__class__:bd});var Pc=function(a){this.length=0;this.bytes=null;this.position=0;this.length=a;a=this.bytes=md.alloc(a);this.floatArray=new Float32Array(a.b.bufferValue,0);a=this.bytes;this.byteArray=new Uint8Array(a.b.bufferValue)};h["system.utils.XBytes"]=Pc;Pc.__name__="system.utils.XBytes";Pc.__interfaces__=
[Va];Pc.prototype={increaseSize:function(a){null==a&&(a=2);this.length*=a;a=this.byteArray;var b=this.bytes=md.alloc(this.length);this.floatArray=new Float32Array(b.b.bufferValue,0);b=this.bytes;this.byteArray=new Uint8Array(b.b.bufferValue);this.byteArray.set(a,0)},fillFloat:function(a){for(var b=0,c=this.floatArray.length;b<c;){var d=b++;this.floatArray[d]=a}},dispose:function(){this.byteArray=this.floatArray=this.bytes=null},__class__:Pc};var md={_new:function(a,b){return new eb(b)},alloc:function(a){return new eb(new ArrayBuffer(a))},
decompress:function(a,b){switch(b._hx_index){case 0:return Di.decompress(a);case 1:return Ei.decompress(a);case 2:return Fi.decompress(a);case 3:return Gi.decompress(a)}},fromBytes:function(a){return null==a?null:md._new(a.length,a.b.bufferValue)},fromFile:function(a){return null},loadFromFile:function(a){return(new Dg).load(a)},ofString:function(a){a=eb.ofString(a);return md._new(a.length,a.b.bufferValue)}},eb=function(a){this.length=a.byteLength;this.b=new Uint8Array(a);this.b.bufferValue=a;a.hxBytes=
this;a.bytes=this.b};h["haxe.io.Bytes"]=eb;eb.__name__="haxe.io.Bytes";eb.ofString=function(a,b){b=[];for(var c=0;c<a.length;){var d=a.charCodeAt(c++);55296<=d&&56319>=d&&(d=d-55232<<10|a.charCodeAt(c++)&1023);127>=d?b.push(d):(2047>=d?b.push(192|d>>6):(65535>=d?b.push(224|d>>12):(b.push(240|d>>18),b.push(128|d>>12&63)),b.push(128|d>>6&63)),b.push(128|d&63))}return new eb((new Uint8Array(b)).buffer)};eb.ofData=function(a){var b=a.hxBytes;return null!=b?b:new eb(a)};eb.prototype={blit:function(a,b,
c,d){if(0>a||0>c||0>d||a+d>this.length||c+d>b.length)throw P.thrown(Qc.OutsideBounds);0==c&&d==b.b.byteLength?this.b.set(b.b,a):this.b.set(b.b.subarray(c,c+d),a)},setInt32:function(a,b){null==this.data&&(this.data=new DataView(this.b.buffer,this.b.byteOffset,this.b.byteLength));this.data.setInt32(a,b,!0)},getString:function(a,b,c){if(0>a||0>b||a+b>this.length)throw P.thrown(Qc.OutsideBounds);c="";var d=this.b,e=ra.fromCharCode,g=a;for(a+=b;g<a;)if(b=d[g++],128>b){if(0==b)break;c+=e(b)}else if(224>
b)c+=e((b&63)<<6|d[g++]&127);else if(240>b){var k=d[g++];c+=e((b&31)<<12|(k&127)<<6|d[g++]&127)}else{k=d[g++];var q=d[g++];b=(b&15)<<18|(k&127)<<12|(q&127)<<6|d[g++]&127;c+=e((b>>10)+55232);c+=e(b&1023|56320)}return c},toString:function(){return this.getString(0,this.length)},__class__:eb};var C=function(a){this.rewrite=!0;this.mLocalBuffer=new Pc(1440);this.nssScale=1;this.nss=null;sa.call(this,a);this.mLocalBuffer.fillFloat(0)};h["system.gfx.ui.elements.XImage"]=C;C.__name__="system.gfx.ui.elements.XImage";
C.__super__=sa;C.prototype=m(sa.prototype,{calc:function(){this.rewrite=!0;sa.prototype.calc.call(this)},set_image:function(a){""==a&&(a=null);this.image!=a&&(this.image=a,this.invalidate());return a},set_nssScale:function(a){this.nssScale=a;this.invalidate();return a},set_nss:function(a){this.nss=a;this.invalidate();return a},write:function(a){if(null!=this.image&&0<this.resultWidth&&0<this.resultHeight){var b=a.atlas.getTexture(this.image);if(null!=b){var c=C.sP11,d=this.resultMatrix[7];c.x=this.resultMatrix[6];
c.y=d;c=C.sP41;d=this.resultWidth*this.resultMatrix[1]+this.resultMatrix[7];c.x=this.resultWidth*this.resultMatrix[0]+this.resultMatrix[6];c.y=d;c=C.sP14;d=this.resultHeight*this.resultMatrix[4]+this.resultMatrix[7];c.x=this.resultHeight*this.resultMatrix[3]+this.resultMatrix[6];c.y=d;c=C.sP44;d=C.sP41;c.x=d.x;c.y=d.y;c.w=d.w;var e=c;d=C.sP14;e.x+=d.x;e.y+=d.y;c=e;d=C.sP11;c.x-=d.x;c.y-=d.y;null!=this.preParticleEmitter&&this.preParticleEmitter.write(a,this.resultAlpha,this.resultWidth,this.resultHeight,
this.resultMatrix);if(this.rewrite){this.rewrite=!1;d=b.scaledLeft;e=b.scaledRight;var g=b.scaledTop,k=b.scaledBottom;C.sLocalBuffer.floatArray[0]=this.resultColorR;C.sLocalBuffer.floatArray[1]=this.resultColorG;C.sLocalBuffer.floatArray[2]=this.resultColorB;C.sLocalBuffer.floatArray[3]=this.resultAlpha;C.sLocalBuffer.position=16;c=C.sLocalBuffer;c.bytes.setInt32(c.position,this.resultOffsetColor);c.position+=4;if(null==this.nss){b=this.mLocalBuffer;var q=b.position=0,t=b.floatArray,f=C.sLocalBuffer.bytes;
t[q++]=C.sP11.x;t[q++]=C.sP11.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=d;t[q++]=g;++q;t[q++]=C.sP41.x;t[q++]=C.sP41.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=e;t[q++]=g;++q;t[q++]=C.sP14.x;t[q++]=C.sP14.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=d;t[q++]=k;++q;t[q++]=C.sP44.x;t[q++]=C.sP44.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=e;t[q++]=k}else{var p=b.invTexSize;t=this.nssScale/this.resultWidth;q=this.nssScale/this.resultHeight;if(C.sP11.x==C.sP14.x&&C.sP11.y==C.sP41.y)for(C.su[0]=d,C.su[1]=d+this.nss.get_left()*
p,C.su[2]=d+this.nss.get_right()*p,C.su[3]=e,C.sv[0]=g,C.sv[1]=g+this.nss.get_top()*p,C.sv[2]=g+this.nss.get_bottom()*p,C.sv[3]=k,C.sx[0]=C.sP11.x,C.sx[3]=C.sP44.x,d=C.sx,e=C.sx[0],g=C.sx[3],k=this.nss.get_left()*t,d[1]=e*(1-k)+g*k,d=C.sx,e=C.sx[0],g=C.sx[3],k=1-(b.width-this.nss.get_right())*t,d[2]=e*(1-k)+g*k,C.sy[0]=C.sP11.y,C.sy[3]=C.sP44.y,d=C.sy,e=C.sy[0],g=C.sy[3],k=this.nss.get_top()*q,d[1]=e*(1-k)+g*k,d=C.sy,e=C.sy[0],g=C.sy[3],k=1-(b.height-this.nss.get_bottom())*q,d[2]=e*(1-k)+g*k,b=this.mLocalBuffer,
q=b.position=0,t=b.floatArray,f=C.sLocalBuffer.bytes,d=0;3>d;)for(g=d++,e=0;3>e;)k=e++,t[q++]=C.sx[k],t[q++]=C.sy[g],b.bytes.blit(q<<2,f,0,20),q+=5,t[q++]=C.su[k],t[q++]=C.sv[g],++q,t[q++]=C.sx[k+1],t[q++]=C.sy[g],b.bytes.blit(q<<2,f,0,20),q+=5,t[q++]=C.su[k+1],t[q++]=C.sv[g],++q,t[q++]=C.sx[k],t[q++]=C.sy[g+1],b.bytes.blit(q<<2,f,0,20),q+=5,t[q++]=C.su[k],t[q++]=C.sv[g+1],++q,t[q++]=C.sx[k+1],t[q++]=C.sy[g+1],b.bytes.blit(q<<2,f,0,20),q+=5,t[q++]=C.su[k+1],t[q++]=C.sv[g+1],++q;else{c=d+this.nss.get_left()*
p;var h=d+this.nss.get_right()*p,m=g+this.nss.get_top()*p;p=g+this.nss.get_bottom()*p;var l=n.LERP(n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],C.sP11,C.sP41,this.nss.get_left()*t),G=n.LERP(n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],C.sP11,C.sP41,1-(b.width-this.nss.get_right())*t),y=n.LERP(n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],C.sP14,C.sP44,this.nss.get_left()*t),K=n.LERP(n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],C.sP14,C.sP44,1-(b.width-this.nss.get_right())*t);t=this.nss.get_top()*q;var v=n.LERP(n.sTempV2D[++n.sTempV2DIdx%
n.sTempV2DLen],C.sP11,C.sP14,t),U=n.LERP(n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],l,y,t),I=n.LERP(n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],G,K,t),r=n.LERP(n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],C.sP41,C.sP44,t);b=1-(b.height-this.nss.get_bottom())*q;var u=n.LERP(n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],C.sP11,C.sP14,b),w=n.LERP(n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],l,y,b),F=n.LERP(n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],G,K,b),B=n.LERP(n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],C.sP41,
C.sP44,b);b=this.mLocalBuffer;q=b.position=0;t=b.floatArray;f=C.sLocalBuffer.bytes;t[q++]=C.sP11.x;t[q++]=C.sP11.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=d;t[q++]=g;++q;t[q++]=l.x;t[q++]=l.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=c;t[q++]=g;++q;t[q++]=v.x;t[q++]=v.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=d;t[q++]=m;++q;t[q++]=U.x;t[q++]=U.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=c;t[q++]=m;++q;t[q++]=l.x;t[q++]=l.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=c;t[q++]=g;++q;t[q++]=G.x;t[q++]=G.y;b.bytes.blit(q<<
2,f,0,20);q+=5;t[q++]=h;t[q++]=g;++q;t[q++]=U.x;t[q++]=U.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=c;t[q++]=m;++q;t[q++]=I.x;t[q++]=I.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=h;t[q++]=m;++q;t[q++]=G.x;t[q++]=G.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=h;t[q++]=g;++q;t[q++]=C.sP41.x;t[q++]=C.sP41.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=e;t[q++]=g;++q;t[q++]=I.x;t[q++]=I.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=h;t[q++]=m;++q;t[q++]=r.x;t[q++]=r.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=e;t[q++]=m;++q;t[q++]=
v.x;t[q++]=v.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=d;t[q++]=m;++q;t[q++]=U.x;t[q++]=U.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=c;t[q++]=m;++q;t[q++]=u.x;t[q++]=u.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=d;t[q++]=p;++q;t[q++]=w.x;t[q++]=w.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=c;t[q++]=p;++q;t[q++]=U.x;t[q++]=U.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=c;t[q++]=m;++q;t[q++]=I.x;t[q++]=I.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=h;t[q++]=m;++q;t[q++]=w.x;t[q++]=w.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=
c;t[q++]=p;++q;t[q++]=F.x;t[q++]=F.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=h;t[q++]=p;++q;t[q++]=I.x;t[q++]=I.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=h;t[q++]=m;++q;t[q++]=r.x;t[q++]=r.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=e;t[q++]=m;++q;t[q++]=F.x;t[q++]=F.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=h;t[q++]=p;++q;t[q++]=B.x;t[q++]=B.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=e;t[q++]=p;++q;t[q++]=u.x;t[q++]=u.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=d;t[q++]=p;++q;t[q++]=w.x;t[q++]=w.y;b.bytes.blit(q<<
2,f,0,20);q+=5;t[q++]=c;t[q++]=p;++q;t[q++]=C.sP14.x;t[q++]=C.sP14.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=d;t[q++]=k;++q;t[q++]=y.x;t[q++]=y.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=c;t[q++]=k;++q;t[q++]=w.x;t[q++]=w.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=c;t[q++]=p;++q;t[q++]=F.x;t[q++]=F.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=h;t[q++]=p;++q;t[q++]=y.x;t[q++]=y.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=c;t[q++]=k;++q;t[q++]=K.x;t[q++]=K.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=h;t[q++]=k;++q;t[q++]=
F.x;t[q++]=F.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=h;t[q++]=p;++q;t[q++]=B.x;t[q++]=B.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=e;t[q++]=p;++q;t[q++]=K.x;t[q++]=K.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=h;t[q++]=k;++q;t[q++]=C.sP44.x;t[q++]=C.sP44.y;b.bytes.blit(q<<2,f,0,20);q+=5;t[q++]=e;t[q++]=k}}}d=a.currentDrawData.vertexBuffer;null==this.nss?(d.addEntry(4),c=d.data,d=16*d.stride):(d.addEntry(36),c=d.data,d=144*d.stride);c.bytes.blit(c.position,this.mLocalBuffer.bytes,0,d);c.position+=d;null!=
this.postParticleEmitter&&this.postParticleEmitter.write(a,this.resultAlpha,this.resultWidth,this.resultHeight,this.resultMatrix)}d=0;for(e=this.children;d<e.length;)g=e[d],++d,g.visible&&g.write(a)}else sa.prototype.write.call(this,a)},applyFloatAttribute:function(a,b){"nssScale"==a?this.set_nssScale(b):sa.prototype.applyFloatAttribute.call(this,a,b)},applyStringAttribute:function(a,b){switch(a){case "image":this.set_image(""!=b?b:null);break;case "nss":a=b.split(",");this.set_nss(new Db(M.parseInt(a[0]),
M.parseInt(a[1]),M.parseInt(a[2]),M.parseInt(a[3])));break;default:sa.prototype.applyStringAttribute.call(this,a,b)}},copyElements:function(a){sa.prototype.copyElements.call(this,a);a.set_image(this.image);a.set_nss(this.nss)},dispose:function(){this.set_image(null);this.set_nss(null);var a=this.mLocalBuffer;null!=a&&a.dispose();this.mLocalBuffer=null;sa.prototype.dispose.call(this)},__class__:C,__properties__:m(sa.prototype.__properties__,{set_nssScale:"set_nssScale",set_nss:"set_nss",set_image:"set_image"})});
var wg=function(){C.call(this);this.landscape=1<p.instance.ratio;this.applyTemplate(v.get_instance().context.getTemplate("tTools"));this.registerXEventListener(u.get_instance(),"RESOURCE_UPDATE",l(this,this.onUpdateText));this.onUpdateText()};h["game.PowerUpView"]=wg;wg.__name__="game.PowerUpView";wg.__super__=C;wg.prototype=m(C.prototype,{onUpdateText:function(a){var b=this.find("uiBtHammerPowerUp");a=N.number(v.get_instance().getResource("singleHit"));b=b.find("uiTxtAmount");b instanceof D&&L.__cast(b,
D).set_text(a);b=this.find("uiBtColumnPowerUp");a=N.number(v.get_instance().getResource("columnHit"));b=b.find("uiTxtAmount");b instanceof D&&L.__cast(b,D).set_text(a);b=this.find("uiBtRowPowerUp");a=N.number(v.get_instance().getResource("rowHit"));b=b.find("uiTxtAmount");b instanceof D&&L.__cast(b,D).set_text(a);b=this.find("uiBtSwizzlePowerUp");a=N.number(v.get_instance().getResource("swizzle"));b=b.find("uiTxtAmount");b instanceof D&&L.__cast(b,D).set_text(a);a=8<=v.get_instance().level&&!u.get_instance().hideBoost;
b=this.find("uiImgContent");null!=b&&b.set_visible(a)},dispose:function(){C.prototype.dispose.call(this)},__class__:wg});var ee=K["game.AnimationType"]={__ename__:"game.AnimationType",__constructs__:null,None:{_hx_name:"None",_hx_index:0,__enum__:"game.AnimationType",toString:f},Starter:{_hx_name:"Starter",_hx_index:1,__enum__:"game.AnimationType",toString:f},Streak:{_hx_name:"Streak",_hx_index:2,__enum__:"game.AnimationType",toString:f}};ee.__constructs__=[ee.None,ee.Starter,ee.Streak];var Md=function(a,
b,c){this.stone=a;this.newStone=b;this.animationType=c};h["game.ReplaceStoneCommand"]=Md;Md.__name__="game.ReplaceStoneCommand";Md.__super__=y;Md.prototype=m(y.prototype,{execute:function(){if(null!=this.stone&&this.stone.get_valid()){var a=this.stone.column,b=this.stone.row,c=this.stone.getMiddle(),d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],e=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];switch(this.animationType._hx_index){case 1:var g=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];g.x=0;g.y=0;for(var k=
g,q=0;25>q;){q++;d.x=2*Math.random()-1;d.y=2*Math.random()-1;g=d;var t=100*v.sScale;g.x*=t;g.y*=t;n.MAD(e,c,g,.3);t=Z.sInstance;var f=.5+.5*Math.random(),p=-1,h=16777215,m=4*(360*Math.random()-720),l=4*(360*Math.random()-720);null==l&&(l=0);null==m&&(m=0);null==h&&(h=0);null==p&&(p=-1);t.addParticle(t.mVertexBuffer,"gems/bg_glow.png",e,f,g,k,.05,.01,p,h,m,l,0)}}this.stone.dispose();this.stone=null;this.newStone.get_valid()&&(v.get_instance().addStone(a,b,this.newStone),this.newStone.resetAnimation())}else null!=
this.newStone&&(g=v.get_instance().task,Object.prototype.hasOwnProperty.call(g.tasks.h,this.newStone.stoneType)&&(a=v.get_instance().task.getOrCreateTask(this.newStone.stoneType),a.set_amount(a.get_amount()-1)));this.newStone=null},__class__:Md});var yg=function(a,b,c){null==c&&(c=-1);this.mAnimationStartTick=0;this.animationTarget=new n(0,0);this.animationStart=new n(0,0);this.duration=1;C.call(this);this.duration=1.5;var d=this.animationStart;d.x=a.x;d.y=a.y;d.w=a.w;d=this.animationTarget;a=this.animationStart;
d.x=a.x;d.y=a.y;d.w=a.w;this.animationTarget.y-=200;1!=this.height&&this.invalidate();d=null;this.relativeHeight!=d&&this.invalidate();this.relativeHeight=d;d=this.height=1;this.width!=d&&this.invalidate();null!=this.relativeWidth&&this.invalidate();this.relativeWidth=null;this.width=d;b=ta.createInstanceFromString('<text x="-100" y="-25" width="200" height="50" text="+'+N.number(b)+'" size="60.0" halignText="center" valignText="center" shadow="true" />');d=.7*v.sScale;b.scale!=d&&b.invalidate();
b.scale=d;d=-1!=c?c:16777215;c=O.toFloat(d>>>16&255)/255;a=O.toFloat(d>>>8&255)/255;var e=O.toFloat(d&255)/255;if(c!=b.colorR||a!=b.colorG||e!=b.colorB)b.colorR!=c&&b.invalidate(),b.colorR=c,b.colorG!=a&&b.invalidate(),b.colorG=a,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=d;this.addChild(b);this.mAnimationStartTick=H.timer};h["game.ScoreAnimation"]=yg;yg.__name__="game.ScoreAnimation";yg.__super__=C;yg.prototype=m(C.prototype,{update:function(){var a=ma.fClamp((H.timer-this.mAnimationStartTick)/
this.duration,0,1),b=n.LERP(n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],this.animationStart,this.animationTarget,a*a),c=b.x;this.x!=c&&this.invalidate();this.x=c;c=b.y;this.y!=c&&this.invalidate();this.y=c;c=1-a;this.alpha!=c&&this.invalidate();this.alpha=c;c=1+a*a*.5;this.scale!=c&&this.invalidate();this.scale=c;C.prototype.update.call(this);1<=a&&this.dispose()},dispose:function(){this.animationTarget=this.animationStart=null;C.prototype.dispose.call(this)},__class__:yg});var Qh=function(a){this.marked=
!1;this.data=null!=a?a:[]};h["game.StoneGroup"]=Qh;Qh.__name__="game.StoneGroup";Qh.prototype={pulse:function(){this.marked=!0},hasSpecial:function(){for(var a=0,b=this.data;a<b.length;){var c=b[a];++a;if(c instanceof jb)return!0}return!1},iterator:function(){return new id(this.data)},dispose:function(){for(;0<this.data.length;)this.data.pop()},__class__:Qh};var ug=function(a,b){this.delayed=this.mAmount=0;this.finished=!1;this.mXEventListener=null;this.type=a;this.mAmount=b};h["game.Task"]=ug;ug.__name__=
"game.Task";ug.__super__=T;ug.prototype=m(T.prototype,{addAmount:function(a,b){null==b&&(b=!1);this.mAmount+=a;b&&(this.delayed-=a);this.checkAmount()},get_amount:function(){return this.mAmount+this.delayed},set_amount:function(a){this.mAmount!=a&&(this.mAmount=a,this.checkAmount());return a},checkAmount:function(){this.finished!=0>=this.mAmount&&(this.finished=0>=this.mAmount,this.dispatchSimpleXEvent("Task::TASK_SOLVED"));this.dispatchSimpleXEvent("Task::TASK_UPDATE")},consume:function(a){null==
a&&(a=1);this.delayed-=a;this.checkAmount()},__class__:ug,__properties__:{set_amount:"set_amount",get_amount:"get_amount"}});var Eg=function(a,b){this.mOldCount=-1;C.call(this);this.task=a;this.landscape=b;this.stoneType=a.type;this.applyTemplate(v.get_instance().context.getTemplate("tTaskInfo"+(this.landscape?"Landscape":"Portrait")));a=this.find("uiBtTask");null!=a&&(a.applyTemplate(this.getTaskTemplate(this.stoneType)),a.data={type:this.stoneType});this.registerXEventListener(this.task,"Task::TASK_UPDATE",
l(this,this.onUpdateText));this.onUpdateText()};h["game.TaskContainer"]=Eg;Eg.__name__="game.TaskContainer";Eg.__super__=C;Eg.prototype=m(C.prototype,{onUpdateText:function(a){this.count=Math.max(0,this.task.get_amount())|0;if(this.mOldCount!=this.count){a=this.find("uiBtTask");-1!=this.mOldCount&&!a.hasAnimation(Yb)&&this.mOldCount>this.count?a.pulse():a.blubb();this.mOldCount=this.count;if(0<this.count){a=N.number(this.count);var b=this.find("uiTaskAmount");b instanceof D&&L.__cast(b,D).set_text(a)}a=
0<this.count;b=this.find("uiImgTaskAmount");null!=b&&b.set_visible(a);a=0>=this.count;b=this.find("uiImgTaskDoneOk");null!=b&&b.set_visible(a)}},getTaskTemplate:function(a){var b="tTaskAnvil";switch(a){case "ANVIL":b="tTaskAnvil";break;case "APPLE":b="tTaskApple";break;case "BALLON":b="tTaskBallon";break;case "BEEHIVE":b="tTaskBeehive";break;case "BLOB":b="tTaskBlob";break;case "BOMB":b="tTaskBomb";break;case "BOX":case "BOX2":case "BOX3":b="tTaskBox";break;case "BOX_BLUE":case "BOX_GREEN":case "BOX_PURPLE":case "BOX_RED":case "BOX_WHITE":case "BOX_YELLOW":case "COLOR_BOX":b=
"tTaskColorBox";break;case "BREAKER":case "BREAKER_COLUMN":b="tTaskBreaker";break;case "CHAMELEON":b="tTaskChameleon";break;case "CHEST":b="tTaskChest";break;case "COCONUT":b="tTaskCoconut";break;case "COIN":b="tTaskCoin";break;case "COLOR_EGG":b="tTaskColorEgg";break;case "CRACKLING":case "CRACKLING2":b="tTaskCrackling";break;case "DUNG_PILE":b="tTaskDungPile";break;case "FAT_ANVIL":b="tTaskFatAnvil";break;case "FAT_MULTI":b="tTaskFatMulti";break;case "FAT_MULTI2":b="tTaskFatMulti2";break;case "FAT_MULTI_COLOR":b=
"tTaskFatMultiColor";break;case "FAT_MULTI_COLOR_TWISTER":b="tTaskFatMultiColorTwister";break;case "FERTILIZER":b="tTaskFertilizer";break;case "FLIES":b="tTaskFlies";break;case "FOOD_BOWL":b="tTaskFoodBowl";break;case "GEM_BLUE":b="tTaskGemBlue";break;case "GEM_GREEN":b="tTaskGemGreen";break;case "GEM_PURPLE":b="tTaskGemPurple";break;case "GEM_RED":b="tTaskGemRed";break;case "GEM_WHITE":b="tTaskGemWhite";break;case "GEM_YELLOW":b="tTaskGemYellow";break;case "GIFT":b="tTaskGift";break;case "GROUP_5_HITS_ONE_PLACE":case "GROUP_5_HITS_ONE_PLACE2":b=
"tTaskGroup5HitsOnePlace";break;case "GROUP_SINGLE_HIT_EACH":case "GROUP_SINGLE_HIT_EACH2":b="tTaskGroupSingleHitEach";break;case "HARD_CAGE":case "HARD_CAGE2":case "HARD_CAGE3":case "HARD_CAGE4":b="tTaskHardCage";break;case "HONEYPOT":b="tTaskHoneypot";break;case "LEAF":b="tTaskLeaf";break;case "MULTI_CAGE":b="tTaskMultiCage";break;case "ORB":b="tTaskOrb";break;case "ORE":b="tTaskOre";break;case "ORE_PILE":b="tTaskOrePile";break;case "SKUNK":b="tTaskSkunk";break;case "SNOWFLAKE":b="tTaskSnowflake";
break;case "SNOWMAN":b="tTaskSnowman";break;case "SOFT_CAGE":b="tTaskSoftCage";break;case "STUNNED":b="tTaskStunned";break;case "TICKER":case "TICKER2":b="tTaskTicker";break;case "TIMEBOMB":b="tTaskTimebomb";break;case "WATER":b="tTaskWater";break;case "X_HIT":b="tTaskXHit"}a=b+v.THEME_POSTFIX;return v.get_instance().context.exits(a)?v.get_instance().context.getTemplate(a):v.get_instance().context.getTemplate(b)},dispose:function(){this.task=null;C.prototype.dispose.call(this)},__class__:Eg});var lc=
function(a,b){this.mAnimationStart=0;this.animationTarget=new n(0,0);this.animationStart=new n(0,0);this.duration=1;C.call(this);++lc.sAnimationCount;this.duration=1;var c=this.animationStart;a=a.getMiddle();c.x=a.x;c.y=a.y;c.w=a.w;this.mStoneType=b;v.get_instance().task.solveTaskType(this.mStoneType,!0);1!=this.height&&this.invalidate();c=null;this.relativeHeight!=c&&this.invalidate();this.relativeHeight=c;c=this.height=1;this.width!=c&&this.invalidate();null!=this.relativeWidth&&this.invalidate();
this.relativeWidth=null;this.width=c;switch(b){case "GEM_BLUE":case "GEM_GREEN":case "GEM_PURPLE":case "GEM_RED":case "GEM_WHITE":case "GEM_YELLOW":b=ta.createInstanceFromString('<image x="-50" y="-50" width="100" height="100" image="'+R.getIcon(this.mStoneType)+'" template="tFace"/> ',v.get_instance().context);break;default:b=ta.createInstanceFromString('<image x="-50" y="-50" width="100" height="100" image="'+R.getIcon(this.mStoneType)+'"/>')}c=.7*v.sScale;b.scale!=c&&b.invalidate();b.scale=c;this.addChild(b);
lc.sAnimationDelay<H.timer?(this.mAnimationStart=H.timer,lc.sAnimationDelay=H.timer+.1):(this.mAnimationStart=lc.sAnimationDelay,lc.sAnimationDelay+=lc.sAnimationDelay>H.timer+.5?.05:.1);b=v.get_instance().taskView.getTaskView(this.mStoneType);c=this.animationTarget;a=b.getMiddle();c.x=a.x;c.y=a.y;c.w=a.w};h["game.TaskFinishedAnimation"]=lc;lc.__name__="game.TaskFinishedAnimation";lc.__super__=C;lc.prototype=m(C.prototype,{update:function(){var a=ma.fClamp((H.timer-this.mAnimationStart)/this.duration,
0,1),b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=B.SCREEN_WIDTH/2;c.y=B.SCREEN_HEIGHT/2;n.BEZIER(b,this.animationStart,c,this.animationTarget,a);c=b.x;this.x!=c&&this.invalidate();this.x=c;c=b.y;this.y!=c&&this.invalidate();this.y=c;c=1+Math.pow(Math.sin(a*Math.PI),2);this.scale!=c&&this.invalidate();this.scale=c;C.prototype.update.call(this);1<=a&&(v.get_instance().task.consumeTaskType(this.mStoneType),this.dispose())},dispose:function(){--lc.sAnimationCount;
if(null!=v.get_instance().taskView.getTaskView(this.mStoneType)){var a="sound/snap"+M.random(4)+".mp3",b=0,c=.4;null==c&&(c=1);null==b&&(b=0);Y.get_instance().play(a,b,c,1)}this.animationTarget=this.animationStart=null;C.prototype.dispose.call(this)},__class__:lc});var xg=function(){this.mSoftScore=this.mOldStars=this.mMoveDisplayAdd=0;this.mTaskMap=new Ia;C.call(this);var a=(this.landscape=1<p.instance.ratio)?"tTasksLandscape":"tTasksPortrait";this.applyTemplate(v.get_instance().context.getTemplate(a));
this.mTaskText=this.findType("uiTxtMoves",D);a=0!=u.get_instance().forceMoves;var b=this.find("uiMoveDisplay");null!=b&&b.set_visible(a);this.levelTask=v.get_instance().task;this.addTask(null);a=this.levelTask.tasks.h;b=Object.keys(a);for(var c=b.length,d=0;d<c;){var e=a[b[d++]];this.addTask(e)}this.set_visible(!u.get_instance().hideScoreBoard);a=!u.get_instance().hideScore;b=this.find("uiScoreBlock");null!=b&&b.set_visible(a);a=!u.get_instance().hideTasks;b=this.find("uiTaskContainer");null!=b&&
b.set_visible(a);this.registerXEventListener(this.levelTask,"Task::UpdateEvent",l(this,this.onUpdateText));this.registerXEventListener(this.levelTask,"Task::NewTask",l(this,this.onNewTask));this.onUpdateText()};h["game.TaskView"]=xg;xg.__name__="game.TaskView";xg.__super__=C;xg.prototype=m(C.prototype,{addTask:function(a){var b=0;if(null!=a){b=ma.numEntries(this.mTaskMap);var c=new Eg(a,this.landscape);if(this.landscape){var d=130*b++;c.y!=d&&c.invalidate();c.y=d}else d=130*b++,c.x!=d&&c.invalidate(),
c.x=d;this.mTaskMap.h[a.type]=c;this.find("uiTaskContainer").addChild(c)}this.landscape?(b=u.get_instance().hideTasks?0:130*b,a=this.find("uiTaskContainer"),a.height!=b&&a.invalidate(),d=null,a.relativeHeight!=d&&a.invalidate(),a.relativeHeight=d,a.height=b,d=b+(u.get_instance().hideScore?270:355),this.height!=d&&this.invalidate(),a=null,this.relativeHeight!=a&&this.invalidate(),this.relativeHeight=a,this.height=d):(b=u.get_instance().hideTasks?0:130*b,a=this.find("uiTaskContainer"),a.width!=b&&a.invalidate(),
d=null,a.relativeWidth!=d&&a.invalidate(),a.relativeWidth=d,a.width=b,d=b+(u.get_instance().hideScore?180:320),this.width!=d&&this.invalidate(),a=null,this.relativeWidth!=a&&this.invalidate(),this.relativeWidth=a,this.width=d)},setMoveDisplayAdd:function(a){this.mMoveDisplayAdd+=a;this.onUpdateText()},onNewTask:function(a){this.addTask(a.data)},onUpdateText:function(a){a=this.mTaskText;if(null!=a){var b=this.levelTask.get_moves()-this.mMoveDisplayAdd;b=N.number(0<b?b:0);if(this.mOldText!=b){this.mOldText=
b;a.set_text(b);a.hasAnimation(Yb)||a.addAnimation(new Yb);var c=v.get_instance().succeeded?44800:5>=this.levelTask.get_moves()?16740352:16777215,d=O.toFloat(c>>>16&255)/255,e=O.toFloat(c>>>8&255)/255;b=O.toFloat(c&255)/255;if(d!=a.colorR||e!=a.colorG||b!=a.colorB)a.colorR!=d&&a.invalidate(),a.colorR=d,a.colorG!=e&&a.invalidate(),a.colorG=e,a.colorB!=b&&a.invalidate(),a.colorB=b,a.invalidate();a.color=c}}},update:function(){var a=this.levelTask.score-this.mSoftScore;if(0<a){var b=Math.round(H.delta*
Math.max(800,a));this.mSoftScore+=a<b?a:b;a=N.number(this.mSoftScore);b=this.find("uiTxtScoreText");b instanceof D&&L.__cast(b,D).set_text(a);a=this.levelTask.getStarsForScore(this.mSoftScore);b=this.find("uiImgStar3");null!=b&&b instanceof C&&b.set_image(2<a?"ui/star_on.png":"ui/star_off.png");b=this.find("uiImgStar2");null!=b&&b instanceof C&&b.set_image(1<a?"ui/star_on.png":"ui/star_off.png");b=this.find("uiImgStar1");null!=b&&b instanceof C&&b.set_image(0<a?"ui/star_on.png":"ui/star_off.png");
b=ma.fClamp(1*this.mSoftScore/this.levelTask.targetScoreStart3,0,1);var c=this.find("uiImgProgress");c.relativeWidth!=b&&c.invalidate();c.relativeWidth=b;a>this.mOldStars&&(b=this.find("uiImgStar"+a),null!=b&&(b.blubb(),b.pulse()),this.mOldStars=a)}C.prototype.update.call(this)},getTaskView:function(a){return this.mTaskMap.h[a]},dispose:function(){this.mTaskMap=this.mTaskText=this.mOldText=this.levelTask=null;C.prototype.dispose.call(this)},__class__:xg});var xd=function(){};h["haxe.IMap"]=xd;xd.__name__=
"haxe.IMap";xd.__isInterface__=!0;xd.prototype={__class__:xd};var qb=function(){this.mIteratorInstance=null;this.mKeys=[];this.h={}};h["system.utils.UnsafeStringMap"]=qb;qb.__name__="system.utils.UnsafeStringMap";qb.__interfaces__=[xd];qb.prototype={remove:function(a){if(!this.h.hasOwnProperty(a))return!1;E.remove(this.mKeys,a);delete this.h[a];return!0},keys:function(){return new id(this.mKeys)},clear:function(){this.h={};this.mKeys=[]},iterator:function(){null==this.mIteratorInstance&&(this.mIteratorInstance=
new Rh(this,this.mKeys));return this.mIteratorInstance},__class__:qb};var Ba=function(a){this.colorOffset=0;this.speed=this.alpha=1;this.matrix=Aa._new();this.running=!0;this.random=Math.random();this.mXEventListener=null;null!=a&&(this.name=a.mStringMap.h.name,a=a.mFloatMap.h.speed,this.speed=null==a?this.speed:a);this.start=H.timer};h["system.gfx.ui.animation.XAnimation"]=Ba;Ba.__name__="system.gfx.ui.animation.XAnimation";Ba.createAnimation=function(a,b){switch(a){case "hover":return new Fg(b);
case "pling":return new Gg;case "rotation":return new yd(b);case "slowWobble":return new Ac(b,.25,.1,1);case "wobble":return new Ac(b,.5,.5);default:return Ba.sAnimationClassMap.h.hasOwnProperty(a)?(a=Ba.sAnimationClassMap.h[a],La.createInstance(a.cl,a.params)):null}};Ba.__super__=T;Ba.prototype=m(T.prototype,{getMatrix:function(){return this.matrix},finished:function(){this.dispatchSimpleXEvent("XAnimation:Finished")},dispose:function(){this.matrix=null;T.prototype.dispose.call(this)},__class__:Ba});
var zd=function(a,b,c){null==b&&(b=7);null==a&&(a=2);Ba.call(this);null!=c&&(this.random=c);this.mSpeed=a+.5*Math.random();this.mAngle=b};h["game.animation.FlyAnimation"]=zd;zd.__name__="game.animation.FlyAnimation";zd.__super__=Ba;zd.prototype=m(Ba.prototype,{getMatrix:function(){Aa.makeIdentity(this.matrix);Aa.translateXY(this.matrix,10*Math.sin(H.timer*this.mSpeed+12*this.random),8*Math.cos(H.timer*this.mSpeed+10*this.random));Aa.rotate(this.matrix,Math.sin(H.timer*this.mSpeed*1.5+10*this.random)*
this.mAngle);return this.matrix},__class__:zd});var da=function(){this.hidden=!1;this.music="theme";this.mShowIngameElements=[];this.mHideIngameElements=[];this.mElements=[];this.mVisibilities=[];fa.call(this);this.set_postfix(null);1!=this.relativeWidth&&this.invalidate();this.relativeWidth=1;1!=this.relativeHeight&&this.invalidate();this.relativeHeight=1;this.registerXEventListener(v.get_instance(),"PlayField::LevelStart",l(this,this.onHideLevelJenny));this.registerXEventListener(Xb.instance,"BackgroundLayer::HIDE_JENNY",
l(this,this.onHideJenny));this.registerXEventListener(v.get_instance(),"PlayField::LevelEnd",l(this,this.onShowLevelJenny));this.registerXEventListener(Xb.instance,"BackgroundLayer::SHOW_JENNY",l(this,this.onShowJenny));this.register(Pb.delay(l(this,this.setupSound),100))};h["game.backgrounds.BaseBackground"]=da;da.__name__="game.backgrounds.BaseBackground";da.__super__=fa;da.prototype=m(fa.prototype,{hideIngame:function(a){this.mHideIngameElements.push(a);return a},showIngame:function(a){this.mShowIngameElements.push(a);
return a},set_postfix:function(a){return v.THEME_POSTFIX=null!=a?a:""},setupSound:function(){Y.get_instance().playChannel(this.music,"music");null==this.atmos||""==this.atmos?Y.get_instance().stopChannel("atmos"):Y.get_instance().playChannel(this.atmos,"atmos",1,this.atmosVolume)},setScaleAndPos:function(a,b,c,d){null==d&&(d=0);if(null!=a){var e=a.matrix;e[0]=1;e[4]=0;e[8]=0;e[12]=-500;e[1]=0;e[5]=1;e[9]=0;e[13]=-500;e[2]=0;e[6]=0;e[10]=1;e[14]=0;e[3]=0;e[7]=0;e[11]=0;e[15]=1;var g=Q.sDummyM3D;g[0]=
b;g[4]=0;g[8]=0;g[12]=0;g[1]=0;g[5]=b;g[9]=0;g[13]=0;g[2]=0;g[6]=0;g[10]=1;g[14]=0;g[3]=0;g[7]=0;g[11]=0;g[15]=1;var k=Q.sDummyM3D;g=e[0]*k[0]+e[1]*k[4]+e[2]*k[8]+e[3]*k[12];var q=e[0]*k[1]+e[1]*k[5]+e[2]*k[9]+e[3]*k[13];b=e[0]*k[2]+e[1]*k[6]+e[2]*k[10]+e[3]*k[14];var t=e[0]*k[3]+e[1]*k[7]+e[2]*k[11]+e[3]*k[15],n=e[4]*k[0]+e[5]*k[4]+e[6]*k[8]+e[7]*k[12],f=e[4]*k[1]+e[5]*k[5]+e[6]*k[9]+e[7]*k[13],p=e[4]*k[2]+e[5]*k[6]+e[6]*k[10]+e[7]*k[14],h=e[4]*k[3]+e[5]*k[7]+e[6]*k[11]+e[7]*k[15],m=e[8]*k[0]+e[9]*
k[4]+e[10]*k[8]+e[11]*k[12],l=e[8]*k[1]+e[9]*k[5]+e[10]*k[9]+e[11]*k[13],G=e[8]*k[2]+e[9]*k[6]+e[10]*k[10]+e[11]*k[14],y=e[8]*k[3]+e[9]*k[7]+e[10]*k[11]+e[11]*k[15],K=e[12]*k[0]+e[13]*k[4]+e[14]*k[8]+e[15]*k[12],v=e[12]*k[1]+e[13]*k[5]+e[14]*k[9]+e[15]*k[13],U=e[12]*k[2]+e[13]*k[6]+e[14]*k[10]+e[15]*k[14];k=e[12]*k[3]+e[13]*k[7]+e[14]*k[11]+e[15]*k[15];e[0]=g;e[4]=n;e[8]=m;e[12]=K;e[1]=q;e[5]=f;e[9]=l;e[13]=v;e[2]=b;e[6]=p;e[10]=G;e[14]=U;e[3]=t;e[7]=h;e[11]=y;e[15]=k;0!=d&&(t=ja.Z_AXIS,g=Q.sDummyM3D,
b=d*Math.PI/180,d=t.x,q=t.y,t=t.z,n=Math.cos(b),b=Math.sin(b),f=1-n,g[0]=f*d*d+n,g[4]=f*d*q-b*t,g[8]=f*d*t+b*q,g[12]=0,g[1]=f*d*q+b*t,g[5]=f*q*q+n,g[9]=f*q*t-b*d,g[13]=0,g[2]=f*d*t-b*q,g[6]=f*q*t+b*d,g[10]=f*t*t+n,g[14]=0,g[3]=0,g[7]=0,g[11]=0,g[15]=1,k=Q.sDummyM3D,g=e[0]*k[0]+e[1]*k[4]+e[2]*k[8]+e[3]*k[12],q=e[0]*k[1]+e[1]*k[5]+e[2]*k[9]+e[3]*k[13],b=e[0]*k[2]+e[1]*k[6]+e[2]*k[10]+e[3]*k[14],t=e[0]*k[3]+e[1]*k[7]+e[2]*k[11]+e[3]*k[15],n=e[4]*k[0]+e[5]*k[4]+e[6]*k[8]+e[7]*k[12],f=e[4]*k[1]+e[5]*k[5]+
e[6]*k[9]+e[7]*k[13],p=e[4]*k[2]+e[5]*k[6]+e[6]*k[10]+e[7]*k[14],h=e[4]*k[3]+e[5]*k[7]+e[6]*k[11]+e[7]*k[15],m=e[8]*k[0]+e[9]*k[4]+e[10]*k[8]+e[11]*k[12],l=e[8]*k[1]+e[9]*k[5]+e[10]*k[9]+e[11]*k[13],G=e[8]*k[2]+e[9]*k[6]+e[10]*k[10]+e[11]*k[14],y=e[8]*k[3]+e[9]*k[7]+e[10]*k[11]+e[11]*k[15],K=e[12]*k[0]+e[13]*k[4]+e[14]*k[8]+e[15]*k[12],v=e[12]*k[1]+e[13]*k[5]+e[14]*k[9]+e[15]*k[13],U=e[12]*k[2]+e[13]*k[6]+e[14]*k[10]+e[15]*k[14],k=e[12]*k[3]+e[13]*k[7]+e[14]*k[11]+e[15]*k[15],e[0]=g,e[4]=n,e[8]=m,
e[12]=K,e[1]=q,e[5]=f,e[9]=l,e[13]=v,e[2]=b,e[6]=p,e[10]=G,e[14]=U,e[3]=t,e[7]=h,e[11]=y,e[15]=k);g=Q.sDummyM3D;g[0]=1;g[4]=0;g[8]=0;g[12]=500;g[1]=0;g[5]=1;g[9]=0;g[13]=500;g[2]=0;g[6]=0;g[10]=1;g[14]=0;g[3]=0;g[7]=0;g[11]=0;g[15]=1;k=Q.sDummyM3D;g=e[0]*k[0]+e[1]*k[4]+e[2]*k[8]+e[3]*k[12];q=e[0]*k[1]+e[1]*k[5]+e[2]*k[9]+e[3]*k[13];b=e[0]*k[2]+e[1]*k[6]+e[2]*k[10]+e[3]*k[14];t=e[0]*k[3]+e[1]*k[7]+e[2]*k[11]+e[3]*k[15];n=e[4]*k[0]+e[5]*k[4]+e[6]*k[8]+e[7]*k[12];f=e[4]*k[1]+e[5]*k[5]+e[6]*k[9]+e[7]*
k[13];p=e[4]*k[2]+e[5]*k[6]+e[6]*k[10]+e[7]*k[14];h=e[4]*k[3]+e[5]*k[7]+e[6]*k[11]+e[7]*k[15];m=e[8]*k[0]+e[9]*k[4]+e[10]*k[8]+e[11]*k[12];l=e[8]*k[1]+e[9]*k[5]+e[10]*k[9]+e[11]*k[13];G=e[8]*k[2]+e[9]*k[6]+e[10]*k[10]+e[11]*k[14];y=e[8]*k[3]+e[9]*k[7]+e[10]*k[11]+e[11]*k[15];K=e[12]*k[0]+e[13]*k[4]+e[14]*k[8]+e[15]*k[12];v=e[12]*k[1]+e[13]*k[5]+e[14]*k[9]+e[15]*k[13];U=e[12]*k[2]+e[13]*k[6]+e[14]*k[10]+e[15]*k[14];k=e[12]*k[3]+e[13]*k[7]+e[14]*k[11]+e[15]*k[15];e[0]=g;e[4]=n;e[8]=m;e[12]=K;e[1]=q;
e[5]=f;e[9]=l;e[13]=v;e[2]=b;e[6]=p;e[10]=G;e[14]=U;e[3]=t;e[7]=h;e[11]=y;e[15]=k;null!=c&&(g=Q.sDummyM3D,g[0]=1,g[4]=0,g[8]=0,g[12]=c.x,g[1]=0,g[5]=1,g[9]=0,g[13]=c.y,g[2]=0,g[6]=0,g[10]=1,g[14]=0,g[3]=0,g[7]=0,g[11]=0,g[15]=1,k=Q.sDummyM3D,g=e[0]*k[0]+e[1]*k[4]+e[2]*k[8]+e[3]*k[12],q=e[0]*k[1]+e[1]*k[5]+e[2]*k[9]+e[3]*k[13],b=e[0]*k[2]+e[1]*k[6]+e[2]*k[10]+e[3]*k[14],t=e[0]*k[3]+e[1]*k[7]+e[2]*k[11]+e[3]*k[15],n=e[4]*k[0]+e[5]*k[4]+e[6]*k[8]+e[7]*k[12],f=e[4]*k[1]+e[5]*k[5]+e[6]*k[9]+e[7]*k[13],
p=e[4]*k[2]+e[5]*k[6]+e[6]*k[10]+e[7]*k[14],h=e[4]*k[3]+e[5]*k[7]+e[6]*k[11]+e[7]*k[15],m=e[8]*k[0]+e[9]*k[4]+e[10]*k[8]+e[11]*k[12],l=e[8]*k[1]+e[9]*k[5]+e[10]*k[9]+e[11]*k[13],G=e[8]*k[2]+e[9]*k[6]+e[10]*k[10]+e[11]*k[14],y=e[8]*k[3]+e[9]*k[7]+e[10]*k[11]+e[11]*k[15],K=e[12]*k[0]+e[13]*k[4]+e[14]*k[8]+e[15]*k[12],v=e[12]*k[1]+e[13]*k[5]+e[14]*k[9]+e[15]*k[13],U=e[12]*k[2]+e[13]*k[6]+e[14]*k[10]+e[15]*k[14],k=e[12]*k[3]+e[13]*k[7]+e[14]*k[11]+e[15]*k[15],e[0]=g,e[4]=n,e[8]=m,e[12]=K,e[1]=q,e[5]=
f,e[9]=l,e[13]=v,e[2]=b,e[6]=p,e[10]=G,e[14]=U,e[3]=t,e[7]=h,e[11]=y,e[15]=k)}return a},onHideLevelJenny:function(a){this.hideJenny("level")},onShowLevelJenny:function(a){this.showJenny("level")},onHideJenny:function(a){this.hideJenny(a.data)},onShowJenny:function(a){this.showJenny(a.data)},hideJenny:function(a){-1==this.mVisibilities.indexOf(a)&&this.mVisibilities.push(a);this.onVisibilityChange(0==this.mVisibilities.length)},showJenny:function(a){E.remove(this.mVisibilities,a);this.onVisibilityChange(0==
this.mVisibilities.length)},onVisibilityChange:function(a){this.hidden=!a;null!=this.mCharacterLayer&&this.mCharacterLayer.set_visible(a);null!=this.mBird&&this.mBird.set_visible(a);if(null!=this.mHideIngameElements)for(var b=0,c=this.mHideIngameElements;b<c.length;){var d=c[b];++b;d.set_visible(a)}if(null!=this.mShowIngameElements)for(b=0,c=this.mShowIngameElements;b<c.length;)d=c[b],++b,d.set_visible(!a)},draw:function(){for(var a=0,b=this.mElements;a<b.length;){var c=b[a];++a;c.draw(this.resultMatrix)}fa.prototype.draw.call(this)},
dispose:function(){var a=this.mElements;if(null!=a)for(;0<a.length;)L.__cast(a.pop(),Va).dispose();this.mShowIngameElements=this.mHideIngameElements=this.mBird=this.mCharacterLayer=this.mElements=null;fa.prototype.dispose.call(this)},__class__:da,__properties__:m(fa.prototype.__properties__,{set_postfix:"set_postfix"})});var Af=function(){da.call(this);this.mElements.push(new ia("bg/arctic/bg.jpg"));this.mElements.push(this.mCharacterLayer=new ia("bg/arctic/characters.png"));var a=this.mElements,
b=new ia("bg/arctic/bear.png"),c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=-193;c.y=160;a.push(this.hideIngame(this.setScaleAndPos(b,.125,c)));this.mElements.push(new Re);this.music="theme_winter";this.set_postfix("_ice");this.atmos="wind"};h["game.backgrounds.BackgroundArctic"]=Af;Af.__name__="game.backgrounds.BackgroundArctic";Af.__super__=da;Af.prototype=m(da.prototype,{draw:function(){var a=15*Math.sin(1.7*H.timer)+20,b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=a;this.setScaleAndPos(this.mCharacterLayer,
.5,b);da.prototype.draw.call(this)},__class__:Af});var Bf=function(){da.call(this);this.mElements.push(new ia("bg/beach/bg_beach_background.jpg"));this.mElements.push(this.mCharacterLayer=new ia("bg/beach/bg_beach_characters2.png"));this.mElements.push(this.mBird=new ia("bg/beach/parrot.png"));this.mElements.push(new mc);this.music="theme_safari";this.set_postfix("_desert");this.atmos="ocean"};h["game.backgrounds.BackgroundBeach"]=Bf;Bf.__name__="game.backgrounds.BackgroundBeach";Bf.__super__=da;
Bf.prototype=m(da.prototype,{draw:function(){var a=15*Math.sin(.3*H.timer),b=5*Math.sin(.4*H.timer),c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=a;c.y=b;this.setScaleAndPos(this.mCharacterLayer,1,c);b=15*Math.sin(1.7*H.timer)-50;c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=100;c.y=b;this.setScaleAndPos(this.mBird,.14,c);da.prototype.draw.call(this)},__class__:Bf});var Cf=function(){da.call(this);this.mElements.push(new ia("bg/carnival/bg.jpg"));this.mElements.push(new Hg);this.mElements.push(new ia("bg/carnival/middleground.png"));
var a=this.mElements,b=new ia("bg/carnival/characters2.png"),c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=17;c.y=-87;a.push(this.hideIngame(this.setScaleAndPos(b,.5,c)));this.mElements.push(this.mCharacterLayer=new ia("bg/carnival/characters.png"));this.mElements.push(this.mBird=new ia("bg/carnival/bird.png"));this.atmos="people";this.music="theme_medieval"};h["game.backgrounds.BackgroundCarnival"]=Cf;Cf.__name__="game.backgrounds.BackgroundCarnival";Cf.__super__=da;Cf.prototype=m(da.prototype,
{draw:function(){var a=15*Math.sin(2.7*H.timer)+20,b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=135;b.y=a;this.setScaleAndPos(this.mBird,.125,b,5*Math.sin(.7*H.timer));var c=5*Math.cos(1.2*H.timer);a=15*Math.sin(1.1*H.timer)+150;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=c;b.y=a;this.setScaleAndPos(this.mCharacterLayer,.53,b,2*Math.sin(.4*H.timer));da.prototype.draw.call(this)},__class__:Cf});var Df=function(){da.call(this);this.mElements.push(this.showIngame(new ia("bg/cave/bg.jpg")));this.mElements.push(this.mCharacterLayer=
new ia("bg/cave/characters.jpg"));this.mElements.push(new ia("bg/cave/bg_cave_foreground.png"));this.mElements.push(new mc);this.atmos="cave";this.atmosVolume=1};h["game.backgrounds.BackgroundCave"]=Df;Df.__name__="game.backgrounds.BackgroundCave";Df.__super__=da;Df.prototype=m(da.prototype,{__class__:Df});var Ef=function(){da.call(this);this.mElements.push(this.showIngame(new ia("bg/crypt/bg.jpg")));this.mElements.push(this.mCharacterLayer=new ia("bg/crypt/characters.jpg"));this.mElements.push(this.mBird=
new ia("bg/crypt/bird.png"));this.mElements.push(new mc);this.music="theme_safari";this.set_postfix("_desert")};h["game.backgrounds.BackgroundCrypt"]=Ef;Ef.__name__="game.backgrounds.BackgroundCrypt";Ef.__super__=da;Ef.prototype=m(da.prototype,{draw:function(){var a=15*Math.sin(1.1*H.timer)-150,b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=90;b.y=a;this.setScaleAndPos(this.mBird,.125,b,5*Math.sin(1.6*H.timer));da.prototype.draw.call(this)},__class__:Ef});var Ff=function(){da.call(this);this.mElements.push(new Ig("bg/desert/bg_desert_background.jpg"));
this.mElements.push(new ia("bg/desert/bg_desert_middleground.png"));this.mElements.push(this.mCharacterLayer=new ia("bg/desert/bg_desert_characters_dust.png"));this.mElements.push(this.mBird=new ia("bg/desert/bd_desert_bird.png"));this.mElements.push(this.hideIngame(new Jg));this.music="theme_safari";this.set_postfix("_desert")};h["game.backgrounds.BackgroundDesert"]=Ff;Ff.__name__="game.backgrounds.BackgroundDesert";Ff.__super__=da;Ff.prototype=m(da.prototype,{draw:function(){var a=n.sTempV2D[++n.sTempV2DIdx%
n.sTempV2DLen];a.x=150;a.y=58;this.setScaleAndPos(this.mCharacterLayer,.7,a);var b=15*Math.sin(1.7*H.timer)-50;a=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];a.x=100;a.y=b;this.setScaleAndPos(this.mBird,.14,a);da.prototype.draw.call(this)},__class__:Ff});var Gf=function(){da.call(this);this.mElements.push(this.showIngame(new ia("bg/dino/bg.jpg")));this.mElements.push(this.mCharacterLayer=new ia("bg/dino/characters.jpg"));this.mElements.push(new mc);this.music="theme_safari";this.set_postfix("_desert")};
h["game.backgrounds.BackgroundDino"]=Gf;Gf.__name__="game.backgrounds.BackgroundDino";Gf.__super__=da;Gf.prototype=m(da.prototype,{__class__:Gf});var Hf=function(){da.call(this);this.mElements.push(this.showIngame(new ia("bg/egypt/bg.jpg")));this.mElements.push(this.mCharacterLayer=new ia("bg/egypt/characters.jpg"));this.mElements.push(this.mBird=new ia("bg/egypt/bird.png"));this.mElements.push(new mc);this.music="theme_safari";this.set_postfix("_desert")};h["game.backgrounds.BackgroundEgypt"]=Hf;
Hf.__name__="game.backgrounds.BackgroundEgypt";Hf.__super__=da;Hf.prototype=m(da.prototype,{draw:function(){var a=15*Math.sin(1.7*H.timer)-120,b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=-120;b.y=a;this.setScaleAndPos(this.mBird,.125,b);da.prototype.draw.call(this)},__class__:Hf});var If=function(){da.call(this);this.mElements.push(new ia("bg/farm/bg.jpg"));this.mElements.push(this.mCharacterLayer=new ia("bg/farm/characters.png"));this.mElements.push(new mc);this.mElements.push(this.mBird=new ia("bg/farm/bird.png"));
this.mElements.push(this.hideIngame(this.mChicken=new ia("bg/farm/chicken.png")))};h["game.backgrounds.BackgroundFarm"]=If;If.__name__="game.backgrounds.BackgroundFarm";If.__super__=da;If.prototype=m(da.prototype,{draw:function(){var a=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];a.x=39;a.y=72;this.setScaleAndPos(this.mCharacterLayer,.5,a);var b=15*Math.sin(1.7*H.timer)-80;a=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];a.x=-70;a.y=b;this.setScaleAndPos(this.mBird,.125,a);b=9*Math.sin(3.7*H.timer)+80;a=
n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];a.x=-100;a.y=b;this.setScaleAndPos(this.mChicken,.25,a);da.prototype.draw.call(this)},dispose:function(){this.mChicken=null;da.prototype.dispose.call(this)},__class__:If});var He=function(){da.call(this);this.mElements.push(this.showIngame(new ia("bg/forest/bg.jpg")));this.mElements.push(this.mCharacterLayer=new ia("bg/forest/characters.jpg"));this.mElements.push(this.mBird=new ia("bg/forest/bird.png"))};h["game.backgrounds.BackgroundForest"]=He;He.__name__=
"game.backgrounds.BackgroundForest";He.__super__=da;He.prototype=m(da.prototype,{draw:function(){var a=15*Math.sin(1.1*H.timer)-80,b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=-110;b.y=a;this.setScaleAndPos(this.mBird,.125,b,5*Math.sin(.4*H.timer));da.prototype.draw.call(this)},__class__:He});var Jf=function(){da.call(this);this.mElements.push(new ia("bg/hayloft/bg.jpg"));this.mElements.push(this.mBird=new ia("bg/hayloft/bird.png"));var a=this.mElements,b=this.mCharacterLayer=new ia("bg/hayloft/characters.png"),
c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=-40.0390625;c.y=99.12109375;a.push(this.setScaleAndPos(b,.5,c));a=this.mElements;b=new ia("bg/hayloft/car.png");c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=256;c.y=226;a.push(this.setScaleAndPos(b,.6,c));this.mElements.push(new mc);a=this.mElements;b=new ia("bg/hayloft/foreground.png");c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=-226;c.y=226;a.push(this.setScaleAndPos(b,.5,c));this.music="theme_farm"};h["game.backgrounds.BackgroundHayloft"]=
Jf;Jf.__name__="game.backgrounds.BackgroundHayloft";Jf.__super__=da;Jf.prototype=m(da.prototype,{draw:function(){var a=15*Math.sin(1.7*H.timer)-40,b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=100;b.y=a;this.setScaleAndPos(this.mBird,.25,b);da.prototype.draw.call(this)},__class__:Jf});var Kf=function(){da.call(this);this.mElements.push(new ia("bg/jungle/bg_jungle_background.jpg"));this.mElements.push(this.mCharacterLayer=new ia("bg/jungle/bg_jungle_characters.png"));this.mElements.push(new ia("bg/jungle/bg_jungle_foreground.png"));
this.mElements.push(new mc);this.set_postfix("_desert");this.atmos="jungle";this.atmosVolume=1};h["game.backgrounds.BackgroundJungle"]=Kf;Kf.__name__="game.backgrounds.BackgroundJungle";Kf.__super__=da;Kf.prototype=m(da.prototype,{__class__:Kf});var Lf=function(){da.call(this);this.mElements.push(new ia("bg/lava/bg_lava.jpg"));this.mElements.push(new Kg);this.mElements.push(this.mCharacterLayer=new ia("bg/lava/bg_lava_characters.png"))};h["game.backgrounds.BackgroundLava"]=Lf;Lf.__name__="game.backgrounds.BackgroundLava";
Lf.__super__=da;Lf.prototype=m(da.prototype,{draw:function(){var a=15*Math.sin(.1*H.timer),b=25*Math.sin(.2*H.timer)-25,c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=a;c.y=b;this.setScaleAndPos(this.mCharacterLayer,1,c);da.prototype.draw.call(this)},__class__:Lf});var Mf=function(){da.call(this);this.mElements.push(new ia("bg/meadow/bg.jpg"));this.mElements.push(this.mCharacterLayer=new ia("bg/meadow/characters.png"));this.mElements.push(new mc);this.mElements.push(this.mBird=new ia("bg/meadow/bird.png"));
this.mElements.push(this.hideIngame(this.mBee=new ia("bg/meadow/bee.png")));this.music="theme_medieval"};h["game.backgrounds.BackgroundMeadow"]=Mf;Mf.__name__="game.backgrounds.BackgroundMeadow";Mf.__super__=da;Mf.prototype=m(da.prototype,{draw:function(){var a=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];a.x=-133;a.y=16;this.setScaleAndPos(this.mCharacterLayer,.5,a);var b=15*Math.sin(1.7*H.timer)-40;a=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];a.x=-190;a.y=b;this.setScaleAndPos(this.mBird,.14,a);b=5*
Math.sin(6.7*H.timer)+80;a=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];a.x=170;a.y=b;this.setScaleAndPos(this.mBee,.14,a);da.prototype.draw.call(this)},dispose:function(){this.mBee=null;da.prototype.dispose.call(this)},__class__:Mf});var Nf=function(){da.call(this);this.mElements.push(new ia("bg/mountain/bg.jpg"));this.mElements.push(this.mCloud1=new ia("bg/mountain/cloud1.png"));this.mElements.push(this.mCloud2=new ia("bg/mountain/cloud2.png"));this.mElements.push(this.mCloud3=new ia("bg/mountain/cloud3.png"));
this.mElements.push(new ia("bg/mountain/middleground.png"));this.mElements.push(this.mCharacterLayer=new ia("bg/mountain/characters.png"));this.mElements.push(new mc);this.setScaleAndPos(this.mCharacterLayer,.5);this.music="theme_winter";this.set_postfix("_ice");this.atmos="wind"};h["game.backgrounds.BackgroundMountain"]=Nf;Nf.__name__="game.backgrounds.BackgroundMountain";Nf.__super__=da;Nf.prototype=m(da.prototype,{draw:function(){var a=ma.fmod(10*H.timer,1E3),b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];
b.x=a-200;b.y=.34*a;this.setScaleAndPos(this.mCloud1,.25,b);a=ma.fmod(13*H.timer+800,1E3);b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=a-200;b.y=.34*a+150;this.setScaleAndPos(this.mCloud2,.3,b);a=ma.fmod(15*H.timer+190,1E3);b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=a-200;b.y=.34*a-300;this.setScaleAndPos(this.mCloud3,.35,b);da.prototype.draw.call(this)},dispose:function(){this.mCloud3=this.mCloud2=this.mCloud1=null;da.prototype.dispose.call(this)},__class__:Nf});var Of=function(){this.mFlashShortFactor=
1;this.mTentacles=[null,null,null];da.call(this);this.mElements.push(this.mBackground=new ia("bg/ocean/bg.jpg"));this.mElements.push(this.mLightning=new ia("bg/ocean/bg2.jpg"));this.mElements.push(this.hideIngame(this.mTentacles[0]=new ia("bg/ocean/tentacle0.png")));this.mElements.push(this.hideIngame(new Se));this.mElements.push(this.mCharacterLayer=new ia("bg/ocean/characters.png"));this.mElements.push(this.mBird=new ia("bg/ocean/bird.png"));this.mElements.push(this.hideIngame(new Se));this.mElements.push(this.hideIngame(this.mTentacles[1]=
new ia("bg/ocean/tentacle1.png")));this.mElements.push(this.hideIngame(this.mTentacles[2]=new ia("bg/ocean/tentacle2.png")));this.mElements.push(new ia("bg/ocean/foreground.png"));this.atmos="wind";this.music="theme_lava";this.mNextFlashStart=H.timer+Math.random()+.5};h["game.backgrounds.BackgroundOcean"]=Of;Of.__name__="game.backgrounds.BackgroundOcean";Of.__super__=da;Of.prototype=m(da.prototype,{draw:function(){if(null!=this.mLightning){this.mNextFlashStart<H.timer&&(this.mNextFlashEnd=H.timer+
.1*Math.random()+.1,Math.random()<this.mFlashShortFactor?(this.mNextFlashStart=H.timer+.5*Math.random()+.2,this.mFlashShortFactor/=2):(this.mNextFlashStart=H.timer+2*Math.random()+3,this.mFlashShortFactor=1));var a=this.mNextFlashEnd>H.timer&&!this.hidden;this.mLightning.set_visible(a);this.mBackground.set_visible(!a)}a=15*Math.sin(2.7*H.timer)-70;var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=-105;b.y=a;this.setScaleAndPos(this.mBird,.125,b,5*Math.sin(.7*H.timer));var c=5*Math.cos(1.2*H.timer)+
230;a=15*Math.sin(1.1*H.timer)+200;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=c;b.y=a;this.setScaleAndPos(this.mCharacterLayer,1.1,b,2*Math.sin(.4*H.timer));var d=this.mTentacles[0];c=5*Math.cos(1.2*H.timer)+230;a=15*Math.sin(1.7*H.timer)-10;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=c;b.y=a;this.setScaleAndPos(d,.3,b,8*Math.sin(.6*H.timer));d=this.mTentacles[1];c=5*Math.cos(1.3*H.timer)-280;a=15*Math.sin(1.9*H.timer)+140;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=c;b.y=a;this.setScaleAndPos(d,
.4,b,9*Math.sin(.5*H.timer));d=this.mTentacles[2];c=5*Math.cos(1.4*H.timer)+30;a=15*Math.sin(1.2*H.timer)+200;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=c;b.y=a;this.setScaleAndPos(d,.35,b,10*Math.sin(.45*H.timer));da.prototype.draw.call(this)},dispose:function(){this.mTentacles=this.mLightning=this.mBackground=null;da.prototype.dispose.call(this)},__class__:Of});var Pf=function(){this.mSeagulls=[null,null,null,null,null];da.call(this);this.atmos="wind";this.atmosVolume=.1;this.mElements.push(new ia("bg/plane/bg.jpg"));
this.mElements.push(this.mSeagulls[0]=this.hideIngame(new ia("bg/plane/seagull.png")));this.mElements.push(this.mSeagulls[1]=this.hideIngame(new ia("bg/plane/seagull.png")));this.mElements.push(this.mSeagulls[2]=this.hideIngame(new ia("bg/plane/seagull.png")));this.mElements.push(this.mSeagulls[3]=this.hideIngame(new ia("bg/plane/seagull.png")));this.mElements.push(this.mSeagulls[4]=this.hideIngame(new ia("bg/plane/seagull.png")));this.mElements.push(this.mBird=new ia("bg/plane/bird.png"));this.mElements.push(this.mCharacterLayer=
new ia("bg/plane/characters.png"))};h["game.backgrounds.BackgroundPlane"]=Pf;Pf.__name__="game.backgrounds.BackgroundPlane";Pf.__super__=da;Pf.prototype=m(da.prototype,{draw:function(){var a=20+10*Math.sin(H.timer),b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=a;this.setScaleAndPos(this.mCharacterLayer,.6,b,3*Math.sin(.5*H.timer));a=15*Math.sin(1.1*H.timer)-210;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=90;b.y=a;this.setScaleAndPos(this.mBird,.125,b,5*Math.sin(1.6*H.timer));var c=this.mSeagulls[0];
a=15*Math.sin(1.1*H.timer+2234)-330;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=-160;b.y=a;this.setScaleAndPos(c,.08,b,2*Math.sin(1.6*H.timer+345));c=this.mSeagulls[1];a=15*Math.sin(1.1*H.timer+134)-205;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=-390;b.y=a;this.setScaleAndPos(c,.09,b,2*Math.sin(1.6*H.timer+45));c=this.mSeagulls[2];a=15*Math.sin(1.1*H.timer+1234)-220;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=-310;b.y=a;this.setScaleAndPos(c,.1,b,2*Math.sin(1.6*H.timer+645));c=this.mSeagulls[3];
a=15*Math.sin(1.1*H.timer+124)-270;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=-170;b.y=a;this.setScaleAndPos(c,.12,b,2*Math.sin(1.6*H.timer+123));c=this.mSeagulls[4];a=15*Math.sin(1.1*H.timer)-210;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=-210;b.y=a;this.setScaleAndPos(c,.15,b,2*Math.sin(1.6*H.timer+5345));da.prototype.draw.call(this)},dispose:function(){this.mSeagulls=null;da.prototype.dispose.call(this)},__class__:Pf});var Qf=function(){da.call(this);var a=new ia("bg/arctic/bg.jpg");
this.mElements.push(a);var b=window.document.createElement("input");b.id="bgPreviewInput";b.type="file";window.document.getElementById("content").appendChild(b);b.addEventListener("change",function(){if(null!=b.files&&null!=b.files[0]){var c=window.document.createElement("img");c.crossOrigin="anonymous";c.onerror=function(){};c.onload=function(){var b=Ya.fromImageElement(c);a.texture=new Za(b)};c.src=URL.createObjectURL(b.files[0])}})};h["game.backgrounds.BackgroundPreview"]=Qf;Qf.__name__="game.backgrounds.BackgroundPreview";
Qf.__super__=da;Qf.prototype=m(da.prototype,{__class__:Qf});var Rf=function(){da.call(this);this.mElements.push(new ia("bg/river/bg.jpg"));this.mElements.push(this.mCharacterLayer=new ia("bg/river/characters.png"));var a=this.mElements,b=new ia("bg/river/foreground.png"),c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=-11.23046875;c.y=79.58984375;a.push(this.hideIngame(this.setScaleAndPos(b,.5,c)));this.atmos="river"};h["game.backgrounds.BackgroundRiver"]=Rf;Rf.__name__="game.backgrounds.BackgroundRiver";
Rf.__super__=da;Rf.prototype=m(da.prototype,{draw:function(){var a=57.12890625+15*Math.sin(2.5*H.timer),b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=-15.625;b.y=a;this.setScaleAndPos(this.mCharacterLayer,.5,b,15*Math.sin(1.7*H.timer));da.prototype.draw.call(this)},__class__:Rf});var Sf=function(){da.call(this);this.mElements.push(this.showIngame(new ia("bg/safari/bg.jpg")));this.mElements.push(this.mCharacterLayer=new ia("bg/safari/characters.jpg"));this.mElements.push(this.mBird=new ia("bg/safari/bird.png"));
this.mElements.push(new mc);this.music="theme_safari";this.set_postfix("_desert");this.atmos="scary";this.atmosVolume=.4};h["game.backgrounds.BackgroundSafari"]=Sf;Sf.__name__="game.backgrounds.BackgroundSafari";Sf.__super__=da;Sf.prototype=m(da.prototype,{draw:function(){var a=15*Math.sin(3.2*H.timer)-120,b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=-120;b.y=a;this.setScaleAndPos(this.mBird,.125,b,2*Math.sin(H.timer));da.prototype.draw.call(this)},__class__:Sf});var Tf=function(){da.call(this);
this.mElements.push(new ia("bg/space/bg.jpg"));this.mElements.push(this.mCharacterLayer=new ia("bg/space/characters.png"));this.mElements.push(this.hideIngame(this.mBGUfo=new ia("bg/space/ufo.png")));this.mElements.push(this.mBird=new ia("bg/space/bird.png"))};h["game.backgrounds.BackgroundSpace"]=Tf;Tf.__name__="game.backgrounds.BackgroundSpace";Tf.__super__=da;Tf.prototype=m(da.prototype,{draw:function(){var a=15*Math.sin(1.1*H.timer)-120,b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=60;b.y=a;
this.setScaleAndPos(this.mBird,.125,b,5*Math.sin(.4*H.timer));var c=-200+15*Math.cos(H.timer);a=15*Math.sin(1.7*H.timer);b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=c;b.y=a;this.setScaleAndPos(this.mBGUfo,.125,b,5*Math.sin(.6*H.timer));a=15*Math.sin(1.05*H.timer);b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=a;this.setScaleAndPos(this.mCharacterLayer,.5,b,5*Math.sin(.5*H.timer));da.prototype.draw.call(this)},dispose:function(){this.mBGUfo=null;da.prototype.dispose.call(this)},__class__:Tf});
var Uf=function(){da.call(this);this.music="theme_water";this.atmos="underwater_loop";this.atmosVolume=.01;this.mElements.push(new Lg("bg/water/bg_underwater_background.jpg"));this.mElements.push(this.hideIngame(this.mFish=new ia("bg/water/fish.png")));this.mElements.push(this.mCharacterLayer=new ia("bg/water/bg_underwater_characters.png"));this.mElements.push(new Mg)};h["game.backgrounds.BackgroundWater"]=Uf;Uf.__name__="game.backgrounds.BackgroundWater";Uf.__super__=da;Uf.prototype=m(da.prototype,
{draw:function(){var a=20+10*Math.sin(H.timer),b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=a;this.setScaleAndPos(this.mCharacterLayer,.6,b,3*Math.sin(.5*H.timer));a=15*Math.sin(1.7*H.timer)-130;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=140;b.y=a;this.setScaleAndPos(this.mFish,.09,b);da.prototype.draw.call(this)},dispose:function(){this.mFish=null;da.prototype.dispose.call(this)},__class__:Uf});var Vf=function(){da.call(this);this.mElements.push(new ia("bg/waterfall/bg.jpg"));this.mElements.push(this.mCloud1=
new ia("bg/waterfall/cloud01.png"));this.mElements.push(this.mCloud2=new ia("bg/waterfall/cloud02.png"));this.mElements.push(this.mCloud3=new ia("bg/waterfall/cloud03.png"));this.mElements.push(new ia("bg/waterfall/middleground.png"));this.mElements.push(this.mCharacterLayer=new ia("bg/waterfall/characters.png"));this.mElements.push(this.mBird=new ia("bg/waterfall/bird.png"))};h["game.backgrounds.BackgroundWaterfall"]=Vf;Vf.__name__="game.backgrounds.BackgroundWaterfall";Vf.__super__=da;Vf.prototype=
m(da.prototype,{draw:function(){var a=ma.fmod(30*H.timer,1500),b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=a-750;b.y=.04*a-300;this.setScaleAndPos(this.mCloud1,.25,b);a=ma.fmod(39*H.timer+800,1500);b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=a-750;b.y=.04*a-200;this.setScaleAndPos(this.mCloud2,.3,b);a=ma.fmod(45*H.timer+190,1500);b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=a-750;b.y=.04*a-400;this.setScaleAndPos(this.mCloud3,.35,b);a=15*Math.sin(2.7*H.timer)-30;b=n.sTempV2D[++n.sTempV2DIdx%
n.sTempV2DLen];b.x=-130;b.y=a;this.setScaleAndPos(this.mBird,.2,b,5*Math.sin(.7*H.timer));var c=15*Math.cos(1.2*H.timer);a=15*Math.sin(2.1*H.timer);b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=c;b.y=a;this.setScaleAndPos(this.mCharacterLayer,1,b,6*Math.sin(.7*H.timer));da.prototype.draw.call(this)},dispose:function(){this.mCloud3=this.mCloud2=this.mCloud1=null;da.prototype.dispose.call(this)},__class__:Vf});var Wf=function(){da.call(this);this.mElements.push(new ia("bg/winter/background.jpg"));
var a=this.mElements,b=this.mCharacterLayer=new ia("bg/winter/characters.png"),c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=-19.53125;c.y=117.67578125;a.push(this.setScaleAndPos(b,.5,c));a=this.mElements;b=new ia("bg/winter/wolf.png");c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=-175.78125;c.y=-133.7890625;a.push(this.setScaleAndPos(b,.065,c));this.mElements.push(this.mBird=new ia("bg/winter/bird.png"));this.mElements.push(new Re);this.music="theme_winter";this.set_postfix("_ice");this.atmos=
"wind"};h["game.backgrounds.BackgroundWinter"]=Wf;Wf.__name__="game.backgrounds.BackgroundWinter";Wf.__super__=da;Wf.prototype=m(da.prototype,{draw:function(){var a=-93.26171875+15*Math.sin(1.7*H.timer),b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=-68.359375;b.y=a;this.setScaleAndPos(this.mBird,.125,b);da.prototype.draw.call(this)},__class__:Wf});var Ie=function(){da.call(this);this.mElements.push(this.showIngame(new ia("bg/zoo/bg.jpg")));this.mElements.push(this.mCharacterLayer=new ia("bg/zoo/characters.jpg"));
this.mElements.push(this.mBird=new ia("bg/zoo/bird.png"));this.mElements.push(new mc)};h["game.backgrounds.BackgroundZoo"]=Ie;Ie.__name__="game.backgrounds.BackgroundZoo";Ie.__super__=da;Ie.prototype=m(da.prototype,{draw:function(){var a=15*Math.sin(1.7*H.timer)-80,b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=50;b.y=a;this.setScaleAndPos(this.mBird,.125,b);da.prototype.draw.call(this)},__class__:Ie});var ie=function(){};h["game.backgrounds.shader.IBackgroundElement"]=ie;ie.__name__="game.backgrounds.shader.IBackgroundElement";
ie.__isInterface__=!0;ie.__interfaces__=[Va];ie.prototype={__class__:ie,__properties__:{set_visible:"set_visible"}};var bb=function(){this.atlas=new Ib(256);this.visible=!0;this.init()};h["game.backgrounds.particles.BaseParticles"]=bb;bb.__name__="game.backgrounds.particles.BaseParticles";bb.__interfaces__=[ie];bb.__super__=Qa;bb.prototype=m(Qa.prototype,{set_visible:function(a){return this.visible=a},init:function(){},addParticle:function(a,b,c,d){d=this.atlas.getTexture(d);this.vertexBuffer.addEntry(4);
var e=this.vertexBuffer.data;e.floatArray[e.position>>>2]=a;e.position+=4;e.floatArray[e.position>>>2]=b;e.position+=4;e.floatArray[e.position>>>2]=-10;e.position+=4;e.floatArray[e.position>>>2]=-10;e.position+=4;e.floatArray[e.position>>>2]=c;e.position+=4;e.floatArray[e.position>>>2]=d.scaledLeft;e.position+=4;e.floatArray[e.position>>>2]=d.scaledTop;e.position+=4;e.floatArray[e.position>>>2]=a;e.position+=4;e.floatArray[e.position>>>2]=b;e.position+=4;e.floatArray[e.position>>>2]=10;e.position+=
4;e.floatArray[e.position>>>2]=-10;e.position+=4;e.floatArray[e.position>>>2]=c;e.position+=4;e.floatArray[e.position>>>2]=d.scaledRight;e.position+=4;e.floatArray[e.position>>>2]=d.scaledTop;e.position+=4;e.floatArray[e.position>>>2]=a;e.position+=4;e.floatArray[e.position>>>2]=b;e.position+=4;e.floatArray[e.position>>>2]=-10;e.position+=4;e.floatArray[e.position>>>2]=10;e.position+=4;e.floatArray[e.position>>>2]=c;e.position+=4;e.floatArray[e.position>>>2]=d.scaledLeft;e.position+=4;e.floatArray[e.position>>>
2]=d.scaledBottom;e.position+=4;e.floatArray[e.position>>>2]=a;e.position+=4;e.floatArray[e.position>>>2]=b;e.position+=4;e.floatArray[e.position>>>2]=10;e.position+=4;e.floatArray[e.position>>>2]=10;e.position+=4;e.floatArray[e.position>>>2]=c;e.position+=4;e.floatArray[e.position>>>2]=d.scaledRight;e.position+=4;e.floatArray[e.position>>>2]=d.scaledBottom;e.position+=4},draw:function(a){},getPreScaleMatrix:function(a){return this.matrix},dispose:function(){var a=this.atlas;null!=a&&a.dispose();
this.atlas=null;a=this.vertexBuffer;null!=a&&a.dispose();this.vertexBuffer=null;a=this.mShader;null!=a&&a.dispose();this.mShader=null;Qa.prototype.dispose.call(this)},__class__:bb,__properties__:{set_visible:"set_visible"}});var Mg=function(){bb.call(this)};h["game.backgrounds.particles.BubbleParticles"]=Mg;Mg.__name__="game.backgrounds.particles.BubbleParticles";Mg.__super__=bb;Mg.prototype=m(bb.prototype,{init:function(){this.vertexBuffer=new Jb(512,7);for(var a=this.vertexBuffer.entries=0;200>
a;)a++,this.addParticle(1E3*Math.random(),1E3*Math.random(),.7*Math.random()+.3,"particles/bubbles.png");this.vertexBuffer.upload();this.mShader=new yb("attribute vec2 aVertexPosition;attribute vec3 aOffset;attribute vec2 aTexCoord;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;void main (void){vTexCoord = aTexCoord;vec2 pos = aVertexPosition + vec2( sin( aVertexPosition.x + uTimer * 0.5 ) * 70.0, -uTimer * 60.0 ) * aOffset.z;pos.y = mod( pos.y, 1000.0);gl_Position = uViewProjection * vec4( pos + aOffset.xy * aOffset.z * 1.0, 0.0, 1.0 );}",
"varying vec2 vTexCoord;uniform sampler2D uTex0;void main (void) {vec4 col0 = texture2D( uTex0, vTexCoord, -2.0 ); gl_FragColor = col0;}")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){p.instance.enableBlend();var c=this.mShader,d=this.vertexBuffer,e=Cb.getIB(b);c.mVertexBuffer=d;c.mIndexBuffer=e;p.gl.useProgram(c.mProgram);d.apply();e.apply();c=null;e=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=c&&Q.copyFrom(e,c);d=e;c=B.SCREEN_HEIGHT;e=B.SCREEN_WIDTH;var g=1/e,k=1/(0-c);d[0]=
2*g;d[4]=0;d[8]=0;d[12]=-e*g;d[1]=0;d[5]=2*k;d[9]=0;d[13]=-c*k;d[2]=0;d[6]=0;d[10]=-.01998001998001998;d[14]=-.9980019980019981;d[3]=0;d[7]=0;d[11]=0;d[15]=1;c=null;e=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=c&&Q.copyFrom(e,c);a=Q.fromM2D(e,a);c=a[0]*d[1]+a[1]*d[5]+a[2]*d[9]+a[3]*d[13];e=a[0]*d[2]+a[1]*d[6]+a[2]*d[10]+a[3]*d[14];g=a[0]*d[3]+a[1]*d[7]+a[2]*d[11]+a[3]*d[15];k=a[4]*d[0]+a[5]*d[4]+a[6]*d[8]+a[7]*d[12];var q=a[4]*d[1]+a[5]*d[5]+a[6]*d[9]+a[7]*d[13],t=a[4]*d[2]+a[5]*d[6]+a[6]*
d[10]+a[7]*d[14],n=a[4]*d[3]+a[5]*d[7]+a[6]*d[11]+a[7]*d[15],f=a[8]*d[0]+a[9]*d[4]+a[10]*d[8]+a[11]*d[12],h=a[8]*d[1]+a[9]*d[5]+a[10]*d[9]+a[11]*d[13],m=a[8]*d[2]+a[9]*d[6]+a[10]*d[10]+a[11]*d[14],l=a[8]*d[3]+a[9]*d[7]+a[10]*d[11]+a[11]*d[15],G=a[12]*d[0]+a[13]*d[4]+a[14]*d[8]+a[15]*d[12],y=a[12]*d[1]+a[13]*d[5]+a[14]*d[9]+a[15]*d[13],K=a[12]*d[2]+a[13]*d[6]+a[14]*d[10]+a[15]*d[14],v=a[12]*d[3]+a[13]*d[7]+a[14]*d[11]+a[15]*d[15];d[0]=a[0]*d[0]+a[1]*d[4]+a[2]*d[8]+a[3]*d[12];d[4]=k;d[8]=f;d[12]=G;
d[1]=c;d[5]=q;d[9]=h;d[13]=y;d[2]=e;d[6]=t;d[10]=m;d[14]=K;d[3]=g;d[7]=n;d[11]=l;d[15]=v;c=this.mShader;a=p.gl;e=c.mUniformLookUp.h.uViewProjection;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uViewProjection"),g.h.hasOwnProperty("uViewProjection")&&E.remove(g.mKeys,"uViewProjection"),g.h.uViewProjection=e,g.mKeys.push("uViewProjection"));ob.uniformMatrix4fv(a,e,!1,d);c=this.mShader;d=H.timer;a=p.gl;e=c.mUniformLookUp.h.uTimer;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,
"uTimer"),g.h.hasOwnProperty("uTimer")&&E.remove(g.mKeys,"uTimer"),g.h.uTimer=e,g.mKeys.push("uTimer"));a.uniform1f(e,d);this.mShader.vertexAttribPointer("aVertexPosition",2,p.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",3,p.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTexCoord",2,p.gl.FLOAT,20);c=this.mShader;d=this.atlas.get_texture();a=p.gl;e=c.mUniformLookUp.h.uTex0;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uTex0"),g.h.hasOwnProperty("uTex0")&&E.remove(g.mKeys,
"uTex0"),g.h.uTex0=e,g.mKeys.push("uTex0"));a.uniform1i(e,0);null!=d?d.apply(0):p.sDefaultTex.apply(0);p.gl.drawElements(p.gl.TRIANGLES,3*b,p.gl.UNSIGNED_SHORT,0)}},dispose:function(){bb.prototype.dispose.call(this)},__class__:Mg});var Hg=function(){bb.call(this)};h["game.backgrounds.particles.FireworksParticles"]=Hg;Hg.__name__="game.backgrounds.particles.FireworksParticles";Hg.__super__=bb;Hg.prototype=m(bb.prototype,{add:function(a,b,c,d,e,g){g=this.atlas.getTexture(g);this.vertexBuffer.addEntry(4);
var k=this.vertexBuffer.data;k.floatArray[k.position>>>2]=a.x;k.position+=4;k.floatArray[k.position>>>2]=a.y;k.position+=4;k.floatArray[k.position>>>2]=-30;k.position+=4;k.floatArray[k.position>>>2]=-30;k.position+=4;k.floatArray[k.position>>>2]=c;k.position+=4;k.floatArray[k.position>>>2]=g.scaledLeft;k.position+=4;k.floatArray[k.position>>>2]=g.scaledTop;k.position+=4;k.floatArray[k.position>>>2]=d;k.position+=4;k.bytes.setInt32(k.position,e);k.position+=4;k.floatArray[k.position>>>2]=b.x;k.position+=
4;k.floatArray[k.position>>>2]=b.y;k.position+=4;k.floatArray[k.position>>>2]=a.x;k.position+=4;k.floatArray[k.position>>>2]=a.y;k.position+=4;k.floatArray[k.position>>>2]=30;k.position+=4;k.floatArray[k.position>>>2]=-30;k.position+=4;k.floatArray[k.position>>>2]=c;k.position+=4;k.floatArray[k.position>>>2]=g.scaledRight;k.position+=4;k.floatArray[k.position>>>2]=g.scaledTop;k.position+=4;k.floatArray[k.position>>>2]=d;k.position+=4;k.bytes.setInt32(k.position,e);k.position+=4;k.floatArray[k.position>>>
2]=b.x;k.position+=4;k.floatArray[k.position>>>2]=b.y;k.position+=4;k.floatArray[k.position>>>2]=a.x;k.position+=4;k.floatArray[k.position>>>2]=a.y;k.position+=4;k.floatArray[k.position>>>2]=-30;k.position+=4;k.floatArray[k.position>>>2]=30;k.position+=4;k.floatArray[k.position>>>2]=c;k.position+=4;k.floatArray[k.position>>>2]=g.scaledLeft;k.position+=4;k.floatArray[k.position>>>2]=g.scaledBottom;k.position+=4;k.floatArray[k.position>>>2]=d;k.position+=4;k.bytes.setInt32(k.position,e);k.position+=
4;k.floatArray[k.position>>>2]=b.x;k.position+=4;k.floatArray[k.position>>>2]=b.y;k.position+=4;k.floatArray[k.position>>>2]=a.x;k.position+=4;k.floatArray[k.position>>>2]=a.y;k.position+=4;k.floatArray[k.position>>>2]=30;k.position+=4;k.floatArray[k.position>>>2]=30;k.position+=4;k.floatArray[k.position>>>2]=c;k.position+=4;k.floatArray[k.position>>>2]=g.scaledRight;k.position+=4;k.floatArray[k.position>>>2]=g.scaledBottom;k.position+=4;k.floatArray[k.position>>>2]=d;k.position+=4;k.bytes.setInt32(k.position,
e);k.position+=4;k.floatArray[k.position>>>2]=b.x;k.position+=4;k.floatArray[k.position>>>2]=b.y;k.position+=4},init:function(){this.vertexBuffer=new Jb(3200,11);this.vertexBuffer.entries=0;for(var a=[[16776960,16724016,16777008],[16724016,16752688,16732240],[1113872,4259648,9502608],[6316287,4210943,8421631],[16777215,7368959,16777120]],b=0;10>b;){var c=b++,d=1E3*Math.random(),e=500*Math.random(),g=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];g.x=d;g.y=e;d=g;e=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];
c*=.25;g=a[M.random(a.length)];for(var k=0;80>k;){k++;var q=g[M.random(g.length)],t=Math.random()-.9;e.x=Math.random()-.5;e.y=t;t=e;t.x*=42;t.y*=42;this.add(d,t,.75*Math.random()+.25,c,q,.3>Math.random()?"particles/glow_dot.png":"particles/flare.png")}}this.vertexBuffer.upload();this.mShader=new yb("attribute vec2 aVertexPosition;attribute vec3 aOffset;attribute vec2 aTexCoord;attribute vec2 aDir;attribute float aTimeOffset;attribute vec4 aColor;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;varying vec4 vColor;void main (void){vTexCoord = aTexCoord;float t = mod( uTimer * 0.5 + aTimeOffset, 2.0 );float sqrtT = sqrt( t );float t2 = t * t;vColor = vec4( aColor.bgr, 1.0 - t2 );vec2 pos = aVertexPosition + aOffset.xy * aOffset.z * ( 1.0 - t ) + ( aDir * sqrtT * 20.0 + vec2( 0.0, 9.81 ) * t2 * 30.0 ) * aOffset.z;gl_Position = uViewProjection * vec4( pos, 0.0, 1.0 );}",
"varying vec2 vTexCoord;varying vec4 vColor;uniform sampler2D uTex0;void main (void) {gl_FragColor = texture2D( uTex0, vTexCoord, 0.0 ) * vColor;}")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){p.instance.enableBlend();p.gl.blendFunc(p.gl.SRC_ALPHA,p.gl.ONE);var c=this.mShader,d=this.vertexBuffer,e=Cb.getIB(b);c.mVertexBuffer=d;c.mIndexBuffer=e;p.gl.useProgram(c.mProgram);d.apply();e.apply();c=null;e=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=c&&Q.copyFrom(e,c);d=e;c=B.SCREEN_HEIGHT;
e=B.SCREEN_WIDTH;var g=1/e,k=1/(0-c);d[0]=2*g;d[4]=0;d[8]=0;d[12]=-e*g;d[1]=0;d[5]=2*k;d[9]=0;d[13]=-c*k;d[2]=0;d[6]=0;d[10]=-.01998001998001998;d[14]=-.9980019980019981;d[3]=0;d[7]=0;d[11]=0;d[15]=1;c=null;e=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=c&&Q.copyFrom(e,c);a=Q.fromM2D(e,a);c=a[0]*d[1]+a[1]*d[5]+a[2]*d[9]+a[3]*d[13];e=a[0]*d[2]+a[1]*d[6]+a[2]*d[10]+a[3]*d[14];g=a[0]*d[3]+a[1]*d[7]+a[2]*d[11]+a[3]*d[15];k=a[4]*d[0]+a[5]*d[4]+a[6]*d[8]+a[7]*d[12];var q=a[4]*d[1]+a[5]*d[5]+a[6]*
d[9]+a[7]*d[13],t=a[4]*d[2]+a[5]*d[6]+a[6]*d[10]+a[7]*d[14],n=a[4]*d[3]+a[5]*d[7]+a[6]*d[11]+a[7]*d[15],f=a[8]*d[0]+a[9]*d[4]+a[10]*d[8]+a[11]*d[12],h=a[8]*d[1]+a[9]*d[5]+a[10]*d[9]+a[11]*d[13],m=a[8]*d[2]+a[9]*d[6]+a[10]*d[10]+a[11]*d[14],l=a[8]*d[3]+a[9]*d[7]+a[10]*d[11]+a[11]*d[15],G=a[12]*d[0]+a[13]*d[4]+a[14]*d[8]+a[15]*d[12],y=a[12]*d[1]+a[13]*d[5]+a[14]*d[9]+a[15]*d[13],K=a[12]*d[2]+a[13]*d[6]+a[14]*d[10]+a[15]*d[14],v=a[12]*d[3]+a[13]*d[7]+a[14]*d[11]+a[15]*d[15];d[0]=a[0]*d[0]+a[1]*d[4]+
a[2]*d[8]+a[3]*d[12];d[4]=k;d[8]=f;d[12]=G;d[1]=c;d[5]=q;d[9]=h;d[13]=y;d[2]=e;d[6]=t;d[10]=m;d[14]=K;d[3]=g;d[7]=n;d[11]=l;d[15]=v;c=this.mShader;a=p.gl;e=c.mUniformLookUp.h.uViewProjection;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uViewProjection"),g.h.hasOwnProperty("uViewProjection")&&E.remove(g.mKeys,"uViewProjection"),g.h.uViewProjection=e,g.mKeys.push("uViewProjection"));ob.uniformMatrix4fv(a,e,!1,d);c=this.mShader;d=H.timer;a=p.gl;e=c.mUniformLookUp.h.uTimer;null==
e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uTimer"),g.h.hasOwnProperty("uTimer")&&E.remove(g.mKeys,"uTimer"),g.h.uTimer=e,g.mKeys.push("uTimer"));a.uniform1f(e,d);this.mShader.vertexAttribPointer("aVertexPosition",2,p.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",3,p.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTexCoord",2,p.gl.FLOAT,20);this.mShader.vertexAttribPointer("aTimeOffset",1,p.gl.FLOAT,28);this.mShader.vertexAttribPointer("aColor",4,p.gl.UNSIGNED_BYTE,32,!0);
this.mShader.vertexAttribPointer("aDir",2,p.gl.FLOAT,36);c=this.mShader;d=this.atlas.get_texture();a=p.gl;e=c.mUniformLookUp.h.uTex0;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uTex0"),g.h.hasOwnProperty("uTex0")&&E.remove(g.mKeys,"uTex0"),g.h.uTex0=e,g.mKeys.push("uTex0"));a.uniform1i(e,0);null!=d?d.apply(0):p.sDefaultTex.apply(0);p.gl.drawElements(p.gl.TRIANGLES,3*b,p.gl.UNSIGNED_SHORT,0);p.gl.blendFunc(p.gl.SRC_ALPHA,p.gl.ONE_MINUS_SRC_ALPHA)}},dispose:function(){bb.prototype.dispose.call(this)},
__class__:Hg});var mc=function(){bb.call(this)};h["game.backgrounds.particles.LandscapeParticles"]=mc;mc.__name__="game.backgrounds.particles.LandscapeParticles";mc.__super__=bb;mc.prototype=m(bb.prototype,{init:function(){this.vertexBuffer=new Jb(512,7);for(var a=this.vertexBuffer.entries=0;200>a;)a++,this.addParticle(1E3*Math.random(),1E3*Math.random(),.7*Math.random()+.3,"particles/flarefx.png");this.vertexBuffer.upload();this.mShader=new yb("attribute vec2 aVertexPosition;attribute vec3 aOffset;attribute vec2 aTexCoord;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;void main (void){vTexCoord = aTexCoord;vec2 pos = aVertexPosition + aOffset.xy * aOffset.z + vec2( sin( aVertexPosition.x + uTimer ) * 100.2, cos(aVertexPosition.y + uTimer * 2.0 ) * 20.0 ) * aOffset.z;gl_Position = uViewProjection * vec4( pos, 0.0, 1.0 );}",
"varying vec2 vTexCoord;uniform sampler2D uTex0;void main (void) {vec4 col0 = texture2D( uTex0, vTexCoord, -2.0 );col0.a *= 0.3; gl_FragColor = col0;}")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){p.instance.enableBlend();var c=this.mShader,d=this.vertexBuffer,e=Cb.getIB(b);c.mVertexBuffer=d;c.mIndexBuffer=e;p.gl.useProgram(c.mProgram);d.apply();e.apply();c=null;e=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=c&&Q.copyFrom(e,c);d=e;c=B.SCREEN_HEIGHT;e=B.SCREEN_WIDTH;var g=1/
e,k=1/(0-c);d[0]=2*g;d[4]=0;d[8]=0;d[12]=-e*g;d[1]=0;d[5]=2*k;d[9]=0;d[13]=-c*k;d[2]=0;d[6]=0;d[10]=-.01998001998001998;d[14]=-.9980019980019981;d[3]=0;d[7]=0;d[11]=0;d[15]=1;c=null;e=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=c&&Q.copyFrom(e,c);a=Q.fromM2D(e,a);c=a[0]*d[1]+a[1]*d[5]+a[2]*d[9]+a[3]*d[13];e=a[0]*d[2]+a[1]*d[6]+a[2]*d[10]+a[3]*d[14];g=a[0]*d[3]+a[1]*d[7]+a[2]*d[11]+a[3]*d[15];k=a[4]*d[0]+a[5]*d[4]+a[6]*d[8]+a[7]*d[12];var q=a[4]*d[1]+a[5]*d[5]+a[6]*d[9]+a[7]*d[13],t=a[4]*d[2]+
a[5]*d[6]+a[6]*d[10]+a[7]*d[14],n=a[4]*d[3]+a[5]*d[7]+a[6]*d[11]+a[7]*d[15],f=a[8]*d[0]+a[9]*d[4]+a[10]*d[8]+a[11]*d[12],h=a[8]*d[1]+a[9]*d[5]+a[10]*d[9]+a[11]*d[13],m=a[8]*d[2]+a[9]*d[6]+a[10]*d[10]+a[11]*d[14],l=a[8]*d[3]+a[9]*d[7]+a[10]*d[11]+a[11]*d[15],G=a[12]*d[0]+a[13]*d[4]+a[14]*d[8]+a[15]*d[12],y=a[12]*d[1]+a[13]*d[5]+a[14]*d[9]+a[15]*d[13],K=a[12]*d[2]+a[13]*d[6]+a[14]*d[10]+a[15]*d[14],v=a[12]*d[3]+a[13]*d[7]+a[14]*d[11]+a[15]*d[15];d[0]=a[0]*d[0]+a[1]*d[4]+a[2]*d[8]+a[3]*d[12];d[4]=k;
d[8]=f;d[12]=G;d[1]=c;d[5]=q;d[9]=h;d[13]=y;d[2]=e;d[6]=t;d[10]=m;d[14]=K;d[3]=g;d[7]=n;d[11]=l;d[15]=v;c=this.mShader;a=p.gl;e=c.mUniformLookUp.h.uViewProjection;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uViewProjection"),g.h.hasOwnProperty("uViewProjection")&&E.remove(g.mKeys,"uViewProjection"),g.h.uViewProjection=e,g.mKeys.push("uViewProjection"));ob.uniformMatrix4fv(a,e,!1,d);c=this.mShader;d=.1*H.timer;a=p.gl;e=c.mUniformLookUp.h.uTimer;null==e&&(g=c.mUniformLookUp,e=
p.gl.getUniformLocation(c.mProgram,"uTimer"),g.h.hasOwnProperty("uTimer")&&E.remove(g.mKeys,"uTimer"),g.h.uTimer=e,g.mKeys.push("uTimer"));a.uniform1f(e,d);this.mShader.vertexAttribPointer("aVertexPosition",2,p.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",3,p.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTexCoord",2,p.gl.FLOAT,20);c=this.mShader;d=this.atlas.get_texture();a=p.gl;e=c.mUniformLookUp.h.uTex0;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uTex0"),g.h.hasOwnProperty("uTex0")&&
E.remove(g.mKeys,"uTex0"),g.h.uTex0=e,g.mKeys.push("uTex0"));a.uniform1i(e,0);null!=d?d.apply(0):p.sDefaultTex.apply(0);p.gl.drawElements(p.gl.TRIANGLES,3*b,p.gl.UNSIGNED_SHORT,0)}},dispose:function(){bb.prototype.dispose.call(this)},__class__:mc});var Kg=function(){bb.call(this)};h["game.backgrounds.particles.LavaParticles"]=Kg;Kg.__name__="game.backgrounds.particles.LavaParticles";Kg.__super__=bb;Kg.prototype=m(bb.prototype,{init:function(){this.vertexBuffer=new Jb(512,7);for(var a=this.vertexBuffer.entries=
0;100>a;)a++,this.addParticle(1E3*Math.random(),1E3*Math.random(),.2*Math.random()+.1,"particles/glow.png");for(a=0;400>a;)a++,this.addParticle(1E3*Math.random(),1E3*Math.random(),.2*Math.random()+.05,"particles/ash.png");this.vertexBuffer.upload();this.mShader=new yb("attribute vec2 aVertexPosition;attribute vec3 aOffset;attribute vec2 aTexCoord;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;void main (void){vTexCoord = aTexCoord;vec2 pos = aVertexPosition + vec2( sin( aVertexPosition.x + uTimer * 0.5 ) * 70.0, uTimer * 40.0 + abs( cos( aVertexPosition.x + uTimer * 0.5 ) * 30.0 ) ) * aOffset.z;pos.y = mod( pos.y, 1000.0);gl_Position = uViewProjection * vec4( pos + aOffset.xy * aOffset.z * 1.5, 0.0, 1.0 );}",
"varying vec2 vTexCoord;uniform sampler2D uTex0;void main (void) {vec4 col0 = texture2D( uTex0, vTexCoord, -2.0 ); gl_FragColor = col0;}")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){p.instance.enableBlend();var c=this.mShader,d=this.vertexBuffer,e=Cb.getIB(b);c.mVertexBuffer=d;c.mIndexBuffer=e;p.gl.useProgram(c.mProgram);d.apply();e.apply();c=null;e=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=c&&Q.copyFrom(e,c);d=e;c=B.SCREEN_HEIGHT;e=B.SCREEN_WIDTH;var g=1/e,k=1/(0-c);d[0]=
2*g;d[4]=0;d[8]=0;d[12]=-e*g;d[1]=0;d[5]=2*k;d[9]=0;d[13]=-c*k;d[2]=0;d[6]=0;d[10]=-.01998001998001998;d[14]=-.9980019980019981;d[3]=0;d[7]=0;d[11]=0;d[15]=1;c=null;e=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=c&&Q.copyFrom(e,c);a=Q.fromM2D(e,a);c=a[0]*d[1]+a[1]*d[5]+a[2]*d[9]+a[3]*d[13];e=a[0]*d[2]+a[1]*d[6]+a[2]*d[10]+a[3]*d[14];g=a[0]*d[3]+a[1]*d[7]+a[2]*d[11]+a[3]*d[15];k=a[4]*d[0]+a[5]*d[4]+a[6]*d[8]+a[7]*d[12];var q=a[4]*d[1]+a[5]*d[5]+a[6]*d[9]+a[7]*d[13],t=a[4]*d[2]+a[5]*d[6]+a[6]*
d[10]+a[7]*d[14],n=a[4]*d[3]+a[5]*d[7]+a[6]*d[11]+a[7]*d[15],f=a[8]*d[0]+a[9]*d[4]+a[10]*d[8]+a[11]*d[12],h=a[8]*d[1]+a[9]*d[5]+a[10]*d[9]+a[11]*d[13],m=a[8]*d[2]+a[9]*d[6]+a[10]*d[10]+a[11]*d[14],l=a[8]*d[3]+a[9]*d[7]+a[10]*d[11]+a[11]*d[15],G=a[12]*d[0]+a[13]*d[4]+a[14]*d[8]+a[15]*d[12],y=a[12]*d[1]+a[13]*d[5]+a[14]*d[9]+a[15]*d[13],K=a[12]*d[2]+a[13]*d[6]+a[14]*d[10]+a[15]*d[14],v=a[12]*d[3]+a[13]*d[7]+a[14]*d[11]+a[15]*d[15];d[0]=a[0]*d[0]+a[1]*d[4]+a[2]*d[8]+a[3]*d[12];d[4]=k;d[8]=f;d[12]=G;
d[1]=c;d[5]=q;d[9]=h;d[13]=y;d[2]=e;d[6]=t;d[10]=m;d[14]=K;d[3]=g;d[7]=n;d[11]=l;d[15]=v;c=this.mShader;a=p.gl;e=c.mUniformLookUp.h.uViewProjection;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uViewProjection"),g.h.hasOwnProperty("uViewProjection")&&E.remove(g.mKeys,"uViewProjection"),g.h.uViewProjection=e,g.mKeys.push("uViewProjection"));ob.uniformMatrix4fv(a,e,!1,d);c=this.mShader;d=H.timer;a=p.gl;e=c.mUniformLookUp.h.uTimer;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,
"uTimer"),g.h.hasOwnProperty("uTimer")&&E.remove(g.mKeys,"uTimer"),g.h.uTimer=e,g.mKeys.push("uTimer"));a.uniform1f(e,d);this.mShader.vertexAttribPointer("aVertexPosition",2,p.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",3,p.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTexCoord",2,p.gl.FLOAT,20);c=this.mShader;d=this.atlas.get_texture();a=p.gl;e=c.mUniformLookUp.h.uTex0;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uTex0"),g.h.hasOwnProperty("uTex0")&&E.remove(g.mKeys,
"uTex0"),g.h.uTex0=e,g.mKeys.push("uTex0"));a.uniform1i(e,0);null!=d?d.apply(0):p.sDefaultTex.apply(0);p.gl.drawElements(p.gl.TRIANGLES,3*b,p.gl.UNSIGNED_SHORT,0)}},dispose:function(){bb.prototype.dispose.call(this)},__class__:Kg});var Jg=function(){bb.call(this)};h["game.backgrounds.particles.MotionParticles"]=Jg;Jg.__name__="game.backgrounds.particles.MotionParticles";Jg.__super__=bb;Jg.prototype=m(bb.prototype,{init:function(){this.vertexBuffer=new Jb(512,7);for(var a=this.vertexBuffer.entries=
0;100>a;)a++,this.addParticle(1E3*Math.random(),1E3*Math.random(),.5*Math.random()+.2,"particles/flarefx.png");this.vertexBuffer.upload();this.mShader=new yb("attribute vec2 aVertexPosition;attribute vec3 aOffset;attribute vec2 aTexCoord;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;varying vec4 vColor;void main (void){vTexCoord = aTexCoord;vec2 pos = aVertexPosition + vec2( sin( aVertexPosition.x + uTimer * 0.5 ) * 70.0 + uTimer * 190.0, -uTimer * 40.0 + abs( uTimer * 0.5 * 30.0 ) ) * aOffset.z;pos = mod( pos, 1000.0);vColor = vec4( 1.0, 1.0, 1.0, 0.3 );gl_Position = uViewProjection * vec4( pos + aOffset.xy * aOffset.z * 1.5, 0.0, 1.0 );}",
"\r\n\t\t\tvarying vec2 vTexCoord;\r\n\t\t\tvarying vec4 vColor;\r\n\t\t\t\r\n\t\t\tuniform sampler2D uTex0;\r\n\t\t\t\r\n\t\t\tvoid main (void) \r\n\t\t\t{\r\n\t\t\t\tvec4 col0 = texture2D( uTex0, vTexCoord, -2.0 ) * vColor;\r\n\t\t\t\t\r\n\t\t\t\t//col0.a *= 0.3;\r\n\t\t\t\t\t\t\t\t \r\n\t\t\t\tgl_FragColor = col0;\r\n\t\t\t}\r\n\t\t")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){p.instance.enableBlend();var c=this.mShader,d=this.vertexBuffer,e=Cb.getIB(b);c.mVertexBuffer=d;c.mIndexBuffer=
e;p.gl.useProgram(c.mProgram);d.apply();e.apply();c=null;e=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=c&&Q.copyFrom(e,c);d=e;c=B.SCREEN_HEIGHT;e=B.SCREEN_WIDTH;var g=1/e,k=1/(0-c);d[0]=2*g;d[4]=0;d[8]=0;d[12]=-e*g;d[1]=0;d[5]=2*k;d[9]=0;d[13]=-c*k;d[2]=0;d[6]=0;d[10]=-.01998001998001998;d[14]=-.9980019980019981;d[3]=0;d[7]=0;d[11]=0;d[15]=1;c=null;e=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=c&&Q.copyFrom(e,c);a=Q.fromM2D(e,a);c=a[0]*d[1]+a[1]*d[5]+a[2]*d[9]+a[3]*d[13];e=a[0]*d[2]+
a[1]*d[6]+a[2]*d[10]+a[3]*d[14];g=a[0]*d[3]+a[1]*d[7]+a[2]*d[11]+a[3]*d[15];k=a[4]*d[0]+a[5]*d[4]+a[6]*d[8]+a[7]*d[12];var q=a[4]*d[1]+a[5]*d[5]+a[6]*d[9]+a[7]*d[13],t=a[4]*d[2]+a[5]*d[6]+a[6]*d[10]+a[7]*d[14],n=a[4]*d[3]+a[5]*d[7]+a[6]*d[11]+a[7]*d[15],f=a[8]*d[0]+a[9]*d[4]+a[10]*d[8]+a[11]*d[12],h=a[8]*d[1]+a[9]*d[5]+a[10]*d[9]+a[11]*d[13],m=a[8]*d[2]+a[9]*d[6]+a[10]*d[10]+a[11]*d[14],l=a[8]*d[3]+a[9]*d[7]+a[10]*d[11]+a[11]*d[15],G=a[12]*d[0]+a[13]*d[4]+a[14]*d[8]+a[15]*d[12],y=a[12]*d[1]+a[13]*
d[5]+a[14]*d[9]+a[15]*d[13],K=a[12]*d[2]+a[13]*d[6]+a[14]*d[10]+a[15]*d[14],v=a[12]*d[3]+a[13]*d[7]+a[14]*d[11]+a[15]*d[15];d[0]=a[0]*d[0]+a[1]*d[4]+a[2]*d[8]+a[3]*d[12];d[4]=k;d[8]=f;d[12]=G;d[1]=c;d[5]=q;d[9]=h;d[13]=y;d[2]=e;d[6]=t;d[10]=m;d[14]=K;d[3]=g;d[7]=n;d[11]=l;d[15]=v;c=this.mShader;a=p.gl;e=c.mUniformLookUp.h.uViewProjection;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uViewProjection"),g.h.hasOwnProperty("uViewProjection")&&E.remove(g.mKeys,"uViewProjection"),g.h.uViewProjection=
e,g.mKeys.push("uViewProjection"));ob.uniformMatrix4fv(a,e,!1,d);c=this.mShader;d=H.timer;a=p.gl;e=c.mUniformLookUp.h.uTimer;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uTimer"),g.h.hasOwnProperty("uTimer")&&E.remove(g.mKeys,"uTimer"),g.h.uTimer=e,g.mKeys.push("uTimer"));a.uniform1f(e,d);this.mShader.vertexAttribPointer("aVertexPosition",2,p.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",3,p.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTexCoord",2,p.gl.FLOAT,20);c=
this.mShader;d=this.atlas.get_texture();a=p.gl;e=c.mUniformLookUp.h.uTex0;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uTex0"),g.h.hasOwnProperty("uTex0")&&E.remove(g.mKeys,"uTex0"),g.h.uTex0=e,g.mKeys.push("uTex0"));a.uniform1i(e,0);null!=d?d.apply(0):p.sDefaultTex.apply(0);p.gl.drawElements(p.gl.TRIANGLES,3*b,p.gl.UNSIGNED_SHORT,0)}},dispose:function(){bb.prototype.dispose.call(this)},__class__:Jg});var Se=function(){bb.call(this)};h["game.backgrounds.particles.RainParticles"]=
Se;Se.__name__="game.backgrounds.particles.RainParticles";Se.__super__=bb;Se.prototype=m(bb.prototype,{init:function(){this.vertexBuffer=new Jb(512,7);for(var a=this.vertexBuffer.entries=0;250>a;)a++,this.addParticle(1E3*Math.random(),1E3*Math.random(),.8*Math.random()+.2,"particles/snow.png");this.vertexBuffer.upload();this.mShader=new yb("attribute vec2 aVertexPosition;attribute vec3 aOffset;attribute vec2 aTexCoord;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;varying vec3 vOffset;void main (void){vTexCoord = aTexCoord;vec2 pos = aVertexPosition + vec2( aVertexPosition.x + uTimer * 7.0, uTimer * 1000.0 ) * aOffset.z;pos.x = mod( pos.x, 1000.0);pos.y = mod( pos.y, 1000.0);vOffset = aOffset;gl_Position = uViewProjection * vec4( pos + aOffset.xy * aOffset.z, 0.0, 1.0 );}",
"varying vec2 vTexCoord;varying vec3 vOffset;uniform sampler2D uTex0;void main (void) {vec4 col0 = texture2D( uTex0, vTexCoord, -2.0 ) * vec4(0.7,0.7,0.95, vOffset.z * 0.5 + 0.2 ); gl_FragColor = col0;}")},addParticle:function(a,b,c,d){d=this.atlas.getTexture(d);this.vertexBuffer.addEntry(4);var e=this.vertexBuffer.data;e.floatArray[e.position>>>2]=a;e.position+=4;e.floatArray[e.position>>>2]=b;e.position+=4;e.floatArray[e.position>>>2]=-2;e.position+=4;e.floatArray[e.position>>>2]=-50;e.position+=
4;e.floatArray[e.position>>>2]=c;e.position+=4;e.floatArray[e.position>>>2]=d.scaledLeft;e.position+=4;e.floatArray[e.position>>>2]=d.scaledTop;e.position+=4;e.floatArray[e.position>>>2]=a;e.position+=4;e.floatArray[e.position>>>2]=b;e.position+=4;e.floatArray[e.position>>>2]=2;e.position+=4;e.floatArray[e.position>>>2]=-50;e.position+=4;e.floatArray[e.position>>>2]=c;e.position+=4;e.floatArray[e.position>>>2]=d.scaledRight;e.position+=4;e.floatArray[e.position>>>2]=d.scaledTop;e.position+=4;e.floatArray[e.position>>>
2]=a;e.position+=4;e.floatArray[e.position>>>2]=b;e.position+=4;e.floatArray[e.position>>>2]=-2;e.position+=4;e.floatArray[e.position>>>2]=50;e.position+=4;e.floatArray[e.position>>>2]=c;e.position+=4;e.floatArray[e.position>>>2]=d.scaledLeft;e.position+=4;e.floatArray[e.position>>>2]=d.scaledBottom;e.position+=4;e.floatArray[e.position>>>2]=a;e.position+=4;e.floatArray[e.position>>>2]=b;e.position+=4;e.floatArray[e.position>>>2]=2;e.position+=4;e.floatArray[e.position>>>2]=50;e.position+=4;e.floatArray[e.position>>>
2]=c;e.position+=4;e.floatArray[e.position>>>2]=d.scaledRight;e.position+=4;e.floatArray[e.position>>>2]=d.scaledBottom;e.position+=4},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b&&this.visible){p.instance.enableBlend();var c=this.mShader,d=this.vertexBuffer,e=Cb.getIB(b);c.mVertexBuffer=d;c.mIndexBuffer=e;p.gl.useProgram(c.mProgram);d.apply();e.apply();c=null;e=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=c&&Q.copyFrom(e,c);d=e;c=B.SCREEN_HEIGHT;e=B.SCREEN_WIDTH;var g=1/e,k=
1/(0-c);d[0]=2*g;d[4]=0;d[8]=0;d[12]=-e*g;d[1]=0;d[5]=2*k;d[9]=0;d[13]=-c*k;d[2]=0;d[6]=0;d[10]=-.01998001998001998;d[14]=-.9980019980019981;d[3]=0;d[7]=0;d[11]=0;d[15]=1;c=null;e=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=c&&Q.copyFrom(e,c);a=Q.fromM2D(e,a);c=a[0]*d[1]+a[1]*d[5]+a[2]*d[9]+a[3]*d[13];e=a[0]*d[2]+a[1]*d[6]+a[2]*d[10]+a[3]*d[14];g=a[0]*d[3]+a[1]*d[7]+a[2]*d[11]+a[3]*d[15];k=a[4]*d[0]+a[5]*d[4]+a[6]*d[8]+a[7]*d[12];var q=a[4]*d[1]+a[5]*d[5]+a[6]*d[9]+a[7]*d[13],t=a[4]*d[2]+
a[5]*d[6]+a[6]*d[10]+a[7]*d[14],n=a[4]*d[3]+a[5]*d[7]+a[6]*d[11]+a[7]*d[15],f=a[8]*d[0]+a[9]*d[4]+a[10]*d[8]+a[11]*d[12],h=a[8]*d[1]+a[9]*d[5]+a[10]*d[9]+a[11]*d[13],m=a[8]*d[2]+a[9]*d[6]+a[10]*d[10]+a[11]*d[14],l=a[8]*d[3]+a[9]*d[7]+a[10]*d[11]+a[11]*d[15],G=a[12]*d[0]+a[13]*d[4]+a[14]*d[8]+a[15]*d[12],y=a[12]*d[1]+a[13]*d[5]+a[14]*d[9]+a[15]*d[13],K=a[12]*d[2]+a[13]*d[6]+a[14]*d[10]+a[15]*d[14],v=a[12]*d[3]+a[13]*d[7]+a[14]*d[11]+a[15]*d[15];d[0]=a[0]*d[0]+a[1]*d[4]+a[2]*d[8]+a[3]*d[12];d[4]=k;
d[8]=f;d[12]=G;d[1]=c;d[5]=q;d[9]=h;d[13]=y;d[2]=e;d[6]=t;d[10]=m;d[14]=K;d[3]=g;d[7]=n;d[11]=l;d[15]=v;c=this.mShader;a=p.gl;e=c.mUniformLookUp.h.uViewProjection;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uViewProjection"),g.h.hasOwnProperty("uViewProjection")&&E.remove(g.mKeys,"uViewProjection"),g.h.uViewProjection=e,g.mKeys.push("uViewProjection"));ob.uniformMatrix4fv(a,e,!1,d);c=this.mShader;d=H.timer;a=p.gl;e=c.mUniformLookUp.h.uTimer;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,
"uTimer"),g.h.hasOwnProperty("uTimer")&&E.remove(g.mKeys,"uTimer"),g.h.uTimer=e,g.mKeys.push("uTimer"));a.uniform1f(e,d);this.mShader.vertexAttribPointer("aVertexPosition",2,p.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",3,p.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTexCoord",2,p.gl.FLOAT,20);c=this.mShader;d=this.atlas.get_texture();a=p.gl;e=c.mUniformLookUp.h.uTex0;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uTex0"),g.h.hasOwnProperty("uTex0")&&E.remove(g.mKeys,
"uTex0"),g.h.uTex0=e,g.mKeys.push("uTex0"));a.uniform1i(e,0);null!=d?d.apply(0):p.sDefaultTex.apply(0);p.gl.drawElements(p.gl.TRIANGLES,3*b,p.gl.UNSIGNED_SHORT,0)}},dispose:function(){bb.prototype.dispose.call(this)},__class__:Se});var Re=function(){bb.call(this)};h["game.backgrounds.particles.WinterParticles"]=Re;Re.__name__="game.backgrounds.particles.WinterParticles";Re.__super__=bb;Re.prototype=m(bb.prototype,{init:function(){this.vertexBuffer=new Jb(512,7);for(var a=this.vertexBuffer.entries=
0;500>a;)a++,this.addParticle(1E3*Math.random(),1E3*Math.random(),.4*Math.random()+.2,"particles/snow.png");this.vertexBuffer.upload();this.mShader=new yb("attribute vec2 aVertexPosition;attribute vec3 aOffset;attribute vec2 aTexCoord;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;void main (void){vTexCoord = aTexCoord;vec2 pos = aVertexPosition + vec2( sin( aVertexPosition.x + uTimer * 0.5 ) * 70.0, uTimer * 40.0 + abs( cos( aVertexPosition.x + uTimer * 0.5 ) * 30.0 ) ) * aOffset.z;pos.y = mod( pos.y, 1000.0);gl_Position = uViewProjection * vec4( pos + aOffset.xy * aOffset.z * 1.5, 0.0, 1.0 );}",
"varying vec2 vTexCoord;uniform sampler2D uTex0;void main (void) {vec4 col0 = texture2D( uTex0, vTexCoord, -2.0 ); gl_FragColor = col0;}")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){p.instance.enableBlend();var c=this.mShader,d=this.vertexBuffer,e=Cb.getIB(b);c.mVertexBuffer=d;c.mIndexBuffer=e;p.gl.useProgram(c.mProgram);d.apply();e.apply();c=null;e=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=c&&Q.copyFrom(e,c);d=e;c=B.SCREEN_HEIGHT;e=B.SCREEN_WIDTH;var g=1/e,k=1/(0-c);d[0]=
2*g;d[4]=0;d[8]=0;d[12]=-e*g;d[1]=0;d[5]=2*k;d[9]=0;d[13]=-c*k;d[2]=0;d[6]=0;d[10]=-.01998001998001998;d[14]=-.9980019980019981;d[3]=0;d[7]=0;d[11]=0;d[15]=1;c=null;e=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=c&&Q.copyFrom(e,c);a=Q.fromM2D(e,a);c=a[0]*d[1]+a[1]*d[5]+a[2]*d[9]+a[3]*d[13];e=a[0]*d[2]+a[1]*d[6]+a[2]*d[10]+a[3]*d[14];g=a[0]*d[3]+a[1]*d[7]+a[2]*d[11]+a[3]*d[15];k=a[4]*d[0]+a[5]*d[4]+a[6]*d[8]+a[7]*d[12];var q=a[4]*d[1]+a[5]*d[5]+a[6]*d[9]+a[7]*d[13],t=a[4]*d[2]+a[5]*d[6]+a[6]*
d[10]+a[7]*d[14],n=a[4]*d[3]+a[5]*d[7]+a[6]*d[11]+a[7]*d[15],f=a[8]*d[0]+a[9]*d[4]+a[10]*d[8]+a[11]*d[12],h=a[8]*d[1]+a[9]*d[5]+a[10]*d[9]+a[11]*d[13],m=a[8]*d[2]+a[9]*d[6]+a[10]*d[10]+a[11]*d[14],l=a[8]*d[3]+a[9]*d[7]+a[10]*d[11]+a[11]*d[15],G=a[12]*d[0]+a[13]*d[4]+a[14]*d[8]+a[15]*d[12],y=a[12]*d[1]+a[13]*d[5]+a[14]*d[9]+a[15]*d[13],K=a[12]*d[2]+a[13]*d[6]+a[14]*d[10]+a[15]*d[14],v=a[12]*d[3]+a[13]*d[7]+a[14]*d[11]+a[15]*d[15];d[0]=a[0]*d[0]+a[1]*d[4]+a[2]*d[8]+a[3]*d[12];d[4]=k;d[8]=f;d[12]=G;
d[1]=c;d[5]=q;d[9]=h;d[13]=y;d[2]=e;d[6]=t;d[10]=m;d[14]=K;d[3]=g;d[7]=n;d[11]=l;d[15]=v;c=this.mShader;a=p.gl;e=c.mUniformLookUp.h.uViewProjection;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uViewProjection"),g.h.hasOwnProperty("uViewProjection")&&E.remove(g.mKeys,"uViewProjection"),g.h.uViewProjection=e,g.mKeys.push("uViewProjection"));ob.uniformMatrix4fv(a,e,!1,d);c=this.mShader;d=H.timer;a=p.gl;e=c.mUniformLookUp.h.uTimer;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,
"uTimer"),g.h.hasOwnProperty("uTimer")&&E.remove(g.mKeys,"uTimer"),g.h.uTimer=e,g.mKeys.push("uTimer"));a.uniform1f(e,d);this.mShader.vertexAttribPointer("aVertexPosition",2,p.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",3,p.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTexCoord",2,p.gl.FLOAT,20);c=this.mShader;d=this.atlas.get_texture();a=p.gl;e=c.mUniformLookUp.h.uTex0;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uTex0"),g.h.hasOwnProperty("uTex0")&&E.remove(g.mKeys,
"uTex0"),g.h.uTex0=e,g.mKeys.push("uTex0"));a.uniform1i(e,0);null!=d?d.apply(0):p.sDefaultTex.apply(0);p.gl.drawElements(p.gl.TRIANGLES,3*b,p.gl.UNSIGNED_SHORT,0)}},dispose:function(){bb.prototype.dispose.call(this)},__class__:Re});var sc=function(){this.matrix=Q._new();sa.call(this);this.init()};h["game.backgrounds.shader.ShaderBG"]=sc;sc.__name__="game.backgrounds.shader.ShaderBG";sc.__interfaces__=[ie];sc.__super__=sa;sc.prototype=m(sa.prototype,{init:function(){},draw:function(a){},dispose:function(){var a=
this.texture;null!=a&&a.dispose();this.texture=null;a=this.vertexBuffer;null!=a&&a.dispose();this.vertexBuffer=null;a=this.mShader;null!=a&&a.dispose();this.mShader=null},__class__:sc});var ia=function(a){this.blend=!1;this.image=a;this.blend=-1!=a.toLowerCase().indexOf(".png");sc.call(this)};h["game.backgrounds.shader.DefaultShaderBG"]=ia;ia.__name__="game.backgrounds.shader.DefaultShaderBG";ia.__super__=sc;ia.prototype=m(sc.prototype,{init:function(){this.texture=new Za(this.image);this.texture.wrapS=
p.gl.CLAMP_TO_EDGE;this.texture.wrapT=p.gl.CLAMP_TO_EDGE;this.vertexBuffer=new Jb(512,2);this.vertexBuffer.entries=0;this.vertexBuffer.addEntry(4);var a=this.vertexBuffer.data;a.floatArray[a.position>>>2]=0;a.position+=4;a.floatArray[a.position>>>2]=0;a.position+=4;a.floatArray[a.position>>>2]=1;a.position+=4;a.floatArray[a.position>>>2]=0;a.position+=4;a.floatArray[a.position>>>2]=0;a.position+=4;a.floatArray[a.position>>>2]=1;a.position+=4;a.floatArray[a.position>>>2]=1;a.position+=4;a.floatArray[a.position>>>
2]=1;a.position+=4;this.vertexBuffer.upload();this.mShader=new yb("attribute vec2 aVertexPosition;uniform mat4 uViewProjection;varying vec2 vTexCoord;void main (void){vTexCoord = aVertexPosition;vec2 pos = aVertexPosition * 1000.0;gl_Position = uViewProjection * vec4( pos, 0.0, 1.0 );}","varying vec2 vTexCoord;uniform sampler2D uTex0;uniform vec4 uColor;void main (void) {vec4 col0 = texture2D( uTex0, vTexCoord, 0.0 ) * uColor; gl_FragColor = col0;}")},draw:function(a){sc.prototype.draw.call(this,
a);var b=this.vertexBuffer.entries>>1;if(this.visible&&0<b&&this.texture.ready){p.instance.enableBlend(this.blend);var c=this.mShader,d=this.vertexBuffer,e=Cb.getIB(b);c.mVertexBuffer=d;c.mIndexBuffer=e;p.gl.useProgram(c.mProgram);d.apply();e.apply();e=null;c=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=e&&Q.copyFrom(c,e);d=c;c=B.SCREEN_HEIGHT;e=B.SCREEN_WIDTH;var g=1/e,k=1/(0-c);d[0]=2*g;d[4]=0;d[8]=0;d[12]=-e*g;d[1]=0;d[5]=2*k;d[9]=0;d[13]=-c*k;d[2]=0;d[6]=0;d[10]=-.01998001998001998;d[14]=
-.9980019980019981;d[3]=0;d[7]=0;d[11]=0;d[15]=1;e=null;c=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=e&&Q.copyFrom(c,e);c=Q.fromM2D(c,a);a=c[0]*d[0]+c[1]*d[4]+c[2]*d[8]+c[3]*d[12];e=c[0]*d[1]+c[1]*d[5]+c[2]*d[9]+c[3]*d[13];g=c[0]*d[2]+c[1]*d[6]+c[2]*d[10]+c[3]*d[14];k=c[0]*d[3]+c[1]*d[7]+c[2]*d[11]+c[3]*d[15];var q=c[4]*d[0]+c[5]*d[4]+c[6]*d[8]+c[7]*d[12],t=c[4]*d[1]+c[5]*d[5]+c[6]*d[9]+c[7]*d[13],n=c[4]*d[2]+c[5]*d[6]+c[6]*d[10]+c[7]*d[14],f=c[4]*d[3]+c[5]*d[7]+c[6]*d[11]+c[7]*d[15],h=c[8]*
d[0]+c[9]*d[4]+c[10]*d[8]+c[11]*d[12],m=c[8]*d[1]+c[9]*d[5]+c[10]*d[9]+c[11]*d[13],l=c[8]*d[2]+c[9]*d[6]+c[10]*d[10]+c[11]*d[14],G=c[8]*d[3]+c[9]*d[7]+c[10]*d[11]+c[11]*d[15],y=c[12]*d[0]+c[13]*d[4]+c[14]*d[8]+c[15]*d[12],K=c[12]*d[1]+c[13]*d[5]+c[14]*d[9]+c[15]*d[13],v=c[12]*d[2]+c[13]*d[6]+c[14]*d[10]+c[15]*d[14];c=c[12]*d[3]+c[13]*d[7]+c[14]*d[11]+c[15]*d[15];d[0]=a;d[4]=q;d[8]=h;d[12]=y;d[1]=e;d[5]=t;d[9]=m;d[13]=K;d[2]=g;d[6]=n;d[10]=l;d[14]=v;d[3]=k;d[7]=f;d[11]=G;d[15]=c;c=this.matrix;a=c[0]*
d[0]+c[1]*d[4]+c[2]*d[8]+c[3]*d[12];e=c[0]*d[1]+c[1]*d[5]+c[2]*d[9]+c[3]*d[13];g=c[0]*d[2]+c[1]*d[6]+c[2]*d[10]+c[3]*d[14];k=c[0]*d[3]+c[1]*d[7]+c[2]*d[11]+c[3]*d[15];q=c[4]*d[0]+c[5]*d[4]+c[6]*d[8]+c[7]*d[12];t=c[4]*d[1]+c[5]*d[5]+c[6]*d[9]+c[7]*d[13];n=c[4]*d[2]+c[5]*d[6]+c[6]*d[10]+c[7]*d[14];f=c[4]*d[3]+c[5]*d[7]+c[6]*d[11]+c[7]*d[15];h=c[8]*d[0]+c[9]*d[4]+c[10]*d[8]+c[11]*d[12];m=c[8]*d[1]+c[9]*d[5]+c[10]*d[9]+c[11]*d[13];l=c[8]*d[2]+c[9]*d[6]+c[10]*d[10]+c[11]*d[14];G=c[8]*d[3]+c[9]*d[7]+c[10]*
d[11]+c[11]*d[15];y=c[12]*d[0]+c[13]*d[4]+c[14]*d[8]+c[15]*d[12];K=c[12]*d[1]+c[13]*d[5]+c[14]*d[9]+c[15]*d[13];v=c[12]*d[2]+c[13]*d[6]+c[14]*d[10]+c[15]*d[14];c=c[12]*d[3]+c[13]*d[7]+c[14]*d[11]+c[15]*d[15];d[0]=a;d[4]=q;d[8]=h;d[12]=y;d[1]=e;d[5]=t;d[9]=m;d[13]=K;d[2]=g;d[6]=n;d[10]=l;d[14]=v;d[3]=k;d[7]=f;d[11]=G;d[15]=c;c=this.mShader;a=p.gl;e=c.mUniformLookUp.h.uViewProjection;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uViewProjection"),g.h.hasOwnProperty("uViewProjection")&&
E.remove(g.mKeys,"uViewProjection"),g.h.uViewProjection=e,g.mKeys.push("uViewProjection"));ob.uniformMatrix4fv(a,e,!1,d);c=this.mShader;d=B.instance.resultColorR;k=B.instance.resultColorG;q=B.instance.resultColorB;a=p.gl;e=c.mUniformLookUp.h.uColor;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uColor"),g.h.hasOwnProperty("uColor")&&E.remove(g.mKeys,"uColor"),g.h.uColor=e,g.mKeys.push("uColor"));a.uniform4f(e,d,k,q,1);this.mShader.vertexAttribPointer("aVertexPosition",2,p.gl.FLOAT,
0);c=this.mShader;d=this.texture;a=p.gl;e=c.mUniformLookUp.h.uTex0;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uTex0"),g.h.hasOwnProperty("uTex0")&&E.remove(g.mKeys,"uTex0"),g.h.uTex0=e,g.mKeys.push("uTex0"));a.uniform1i(e,0);null!=d?d.apply(0):p.sDefaultTex.apply(0);p.gl.drawElements(p.gl.TRIANGLES,3*b,p.gl.UNSIGNED_SHORT,0);this.blend||p.instance.enableBlend(!0)}},dispose:function(){var a=this.texture;null!=a&&a.dispose();this.texture=null;a=this.vertexBuffer;null!=a&&a.dispose();
this.vertexBuffer=null;a=this.mShader;null!=a&&a.dispose();this.matrix=this.mShader=null},__class__:ia});var Ig=function(a){this.mShaderTex=a;sc.call(this)};h["game.backgrounds.shader.DesertBlurrBG"]=Ig;Ig.__name__="game.backgrounds.shader.DesertBlurrBG";Ig.__super__=sc;Ig.prototype=m(sc.prototype,{init:function(){this.texture=new Za(this.mShaderTex);this.texture.wrapS=p.gl.CLAMP_TO_EDGE;this.texture.wrapT=p.gl.CLAMP_TO_EDGE;this.vertexBuffer=new Jb(512,2);this.vertexBuffer.entries=0;this.vertexBuffer.addEntry(7056);
for(var a=this.vertexBuffer.data,b=-1;41>b;)for(var c=b++,d=-1;41>d;){var e=d++,g=c/40;e/=40;a.floatArray[a.position>>>2]=g;a.position+=4;a.floatArray[a.position>>>2]=e;a.position+=4;a.floatArray[a.position>>>2]=g+.025;a.position+=4;a.floatArray[a.position>>>2]=e;a.position+=4;a.floatArray[a.position>>>2]=g;a.position+=4;a.floatArray[a.position>>>2]=e+.025;a.position+=4;a.floatArray[a.position>>>2]=g+.025;a.position+=4;a.floatArray[a.position>>>2]=e+.025;a.position+=4}this.vertexBuffer.upload();this.mShader=
new yb("attribute vec2 aVertexPosition;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;void main (void){vTexCoord = aVertexPosition;vec2 pos = aVertexPosition * 1000.0;pos.x = pos.x + sin( pos.x * 0.2 + pos.y * 0.1 + uTimer * 12.0 ) * 2.0;gl_Position = uViewProjection * vec4( pos, 0.0, 1.0 );}","varying vec2 vTexCoord;uniform sampler2D uTex0;uniform vec4 uColor;void main (void) { gl_FragColor = texture2D( uTex0, vTexCoord, -1.0 ) * uColor;}")},draw:function(a){var b=this.vertexBuffer.entries>>
1;if(0<b){p.instance.enableBlend(!1);var c=this.mShader,d=this.vertexBuffer,e=Cb.getIB(b);c.mVertexBuffer=d;c.mIndexBuffer=e;p.gl.useProgram(c.mProgram);d.apply();e.apply();c=null;e=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=c&&Q.copyFrom(e,c);d=e;c=B.SCREEN_HEIGHT;e=B.SCREEN_WIDTH;var g=1/e,k=1/(0-c);d[0]=2*g;d[4]=0;d[8]=0;d[12]=-e*g;d[1]=0;d[5]=2*k;d[9]=0;d[13]=-c*k;d[2]=0;d[6]=0;d[10]=-.01998001998001998;d[14]=-.9980019980019981;d[3]=0;d[7]=0;d[11]=0;d[15]=1;c=null;e=Q.sTempM3D[++Q.sTempM3DIdx%
Q.sTempM3D.length];null!=c&&Q.copyFrom(e,c);c=Q.fromM2D(e,a);a=c[0]*d[1]+c[1]*d[5]+c[2]*d[9]+c[3]*d[13];e=c[0]*d[2]+c[1]*d[6]+c[2]*d[10]+c[3]*d[14];g=c[0]*d[3]+c[1]*d[7]+c[2]*d[11]+c[3]*d[15];k=c[4]*d[0]+c[5]*d[4]+c[6]*d[8]+c[7]*d[12];var q=c[4]*d[1]+c[5]*d[5]+c[6]*d[9]+c[7]*d[13],t=c[4]*d[2]+c[5]*d[6]+c[6]*d[10]+c[7]*d[14],n=c[4]*d[3]+c[5]*d[7]+c[6]*d[11]+c[7]*d[15],f=c[8]*d[0]+c[9]*d[4]+c[10]*d[8]+c[11]*d[12],h=c[8]*d[1]+c[9]*d[5]+c[10]*d[9]+c[11]*d[13],m=c[8]*d[2]+c[9]*d[6]+c[10]*d[10]+c[11]*d[14],
l=c[8]*d[3]+c[9]*d[7]+c[10]*d[11]+c[11]*d[15],G=c[12]*d[0]+c[13]*d[4]+c[14]*d[8]+c[15]*d[12],y=c[12]*d[1]+c[13]*d[5]+c[14]*d[9]+c[15]*d[13],K=c[12]*d[2]+c[13]*d[6]+c[14]*d[10]+c[15]*d[14],v=c[12]*d[3]+c[13]*d[7]+c[14]*d[11]+c[15]*d[15];d[0]=c[0]*d[0]+c[1]*d[4]+c[2]*d[8]+c[3]*d[12];d[4]=k;d[8]=f;d[12]=G;d[1]=a;d[5]=q;d[9]=h;d[13]=y;d[2]=e;d[6]=t;d[10]=m;d[14]=K;d[3]=g;d[7]=n;d[11]=l;d[15]=v;c=this.mShader;a=p.gl;e=c.mUniformLookUp.h.uViewProjection;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,
"uViewProjection"),g.h.hasOwnProperty("uViewProjection")&&E.remove(g.mKeys,"uViewProjection"),g.h.uViewProjection=e,g.mKeys.push("uViewProjection"));ob.uniformMatrix4fv(a,e,!1,d);c=this.mShader;d=H.timer;a=p.gl;e=c.mUniformLookUp.h.uTimer;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uTimer"),g.h.hasOwnProperty("uTimer")&&E.remove(g.mKeys,"uTimer"),g.h.uTimer=e,g.mKeys.push("uTimer"));a.uniform1f(e,d);c=this.mShader;d=B.instance.resultColorR;k=B.instance.resultColorG;q=B.instance.resultColorB;
a=p.gl;e=c.mUniformLookUp.h.uColor;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uColor"),g.h.hasOwnProperty("uColor")&&E.remove(g.mKeys,"uColor"),g.h.uColor=e,g.mKeys.push("uColor"));a.uniform4f(e,d,k,q,1);this.mShader.vertexAttribPointer("aVertexPosition",2,p.gl.FLOAT,0);c=this.mShader;d=this.texture;a=p.gl;e=c.mUniformLookUp.h.uTex0;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uTex0"),g.h.hasOwnProperty("uTex0")&&E.remove(g.mKeys,"uTex0"),g.h.uTex0=e,
g.mKeys.push("uTex0"));a.uniform1i(e,0);null!=d?d.apply(0):p.sDefaultTex.apply(0);p.gl.drawElements(p.gl.TRIANGLES,3*b,p.gl.UNSIGNED_SHORT,0);p.instance.enableBlend(!0)}},dispose:function(){var a=this.texture;null!=a&&a.dispose();this.texture=null;a=this.vertexBuffer;null!=a&&a.dispose();this.vertexBuffer=null;a=this.mShader;null!=a&&a.dispose();this.mShader=null},__class__:Ig});var Lg=function(a){this.mTextureName=a;sc.call(this)};h["game.backgrounds.shader.WaterBlurrBG"]=Lg;Lg.__name__="game.backgrounds.shader.WaterBlurrBG";
Lg.__super__=sc;Lg.prototype=m(sc.prototype,{init:function(){this.texture=new Za(this.mTextureName);this.texture.wrapS=p.gl.CLAMP_TO_EDGE;this.texture.wrapT=p.gl.CLAMP_TO_EDGE;this.vertexBuffer=new Jb(512,2);this.vertexBuffer.entries=0;this.vertexBuffer.addEntry(7056);for(var a=this.vertexBuffer.data,b=-1;41>b;)for(var c=b++,d=-1;41>d;){var e=d++,g=c/40;e/=40;a.floatArray[a.position>>>2]=g;a.position+=4;a.floatArray[a.position>>>2]=e;a.position+=4;a.floatArray[a.position>>>2]=g+.025;a.position+=4;
a.floatArray[a.position>>>2]=e;a.position+=4;a.floatArray[a.position>>>2]=g;a.position+=4;a.floatArray[a.position>>>2]=e+.025;a.position+=4;a.floatArray[a.position>>>2]=g+.025;a.position+=4;a.floatArray[a.position>>>2]=e+.025;a.position+=4}this.vertexBuffer.upload();this.mShader=new yb("attribute vec2 aVertexPosition;uniform mat4 uViewProjection;uniform float uTimer;varying vec2 vTexCoord;void main (void){vTexCoord = aVertexPosition;vec2 pos = aVertexPosition * 1000.0;pos.x = pos.x + sin( pos.x * 0.2 + pos.y * 0.1 + uTimer * 6.0 ) * 4.0;pos.y = pos.y + cos( pos.x * 0.2 + pos.y * 0.2 + uTimer * 6.0 ) * 4.0;gl_Position = uViewProjection * vec4( pos, 0.0, 1.0 );}",
"varying vec2 vTexCoord;uniform sampler2D uTex0;uniform vec4 uColor;void main (void) {gl_FragColor = texture2D( uTex0, vTexCoord, -1.0 ) * uColor;}")},draw:function(a){var b=this.vertexBuffer.entries>>1;if(0<b){p.instance.enableBlend(!1);var c=this.mShader,d=this.vertexBuffer,e=Cb.getIB(b);c.mVertexBuffer=d;c.mIndexBuffer=e;p.gl.useProgram(c.mProgram);d.apply();e.apply();c=null;e=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=c&&Q.copyFrom(e,c);d=e;c=B.SCREEN_HEIGHT;e=B.SCREEN_WIDTH;var g=1/
e,k=1/(0-c);d[0]=2*g;d[4]=0;d[8]=0;d[12]=-e*g;d[1]=0;d[5]=2*k;d[9]=0;d[13]=-c*k;d[2]=0;d[6]=0;d[10]=-.01998001998001998;d[14]=-.9980019980019981;d[3]=0;d[7]=0;d[11]=0;d[15]=1;c=null;e=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];null!=c&&Q.copyFrom(e,c);c=Q.fromM2D(e,a);a=c[0]*d[1]+c[1]*d[5]+c[2]*d[9]+c[3]*d[13];e=c[0]*d[2]+c[1]*d[6]+c[2]*d[10]+c[3]*d[14];g=c[0]*d[3]+c[1]*d[7]+c[2]*d[11]+c[3]*d[15];k=c[4]*d[0]+c[5]*d[4]+c[6]*d[8]+c[7]*d[12];var q=c[4]*d[1]+c[5]*d[5]+c[6]*d[9]+c[7]*d[13],t=c[4]*d[2]+
c[5]*d[6]+c[6]*d[10]+c[7]*d[14],n=c[4]*d[3]+c[5]*d[7]+c[6]*d[11]+c[7]*d[15],f=c[8]*d[0]+c[9]*d[4]+c[10]*d[8]+c[11]*d[12],h=c[8]*d[1]+c[9]*d[5]+c[10]*d[9]+c[11]*d[13],m=c[8]*d[2]+c[9]*d[6]+c[10]*d[10]+c[11]*d[14],l=c[8]*d[3]+c[9]*d[7]+c[10]*d[11]+c[11]*d[15],G=c[12]*d[0]+c[13]*d[4]+c[14]*d[8]+c[15]*d[12],y=c[12]*d[1]+c[13]*d[5]+c[14]*d[9]+c[15]*d[13],K=c[12]*d[2]+c[13]*d[6]+c[14]*d[10]+c[15]*d[14],v=c[12]*d[3]+c[13]*d[7]+c[14]*d[11]+c[15]*d[15];d[0]=c[0]*d[0]+c[1]*d[4]+c[2]*d[8]+c[3]*d[12];d[4]=k;
d[8]=f;d[12]=G;d[1]=a;d[5]=q;d[9]=h;d[13]=y;d[2]=e;d[6]=t;d[10]=m;d[14]=K;d[3]=g;d[7]=n;d[11]=l;d[15]=v;c=this.mShader;a=p.gl;e=c.mUniformLookUp.h.uViewProjection;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uViewProjection"),g.h.hasOwnProperty("uViewProjection")&&E.remove(g.mKeys,"uViewProjection"),g.h.uViewProjection=e,g.mKeys.push("uViewProjection"));ob.uniformMatrix4fv(a,e,!1,d);c=this.mShader;d=H.timer;a=p.gl;e=c.mUniformLookUp.h.uTimer;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,
"uTimer"),g.h.hasOwnProperty("uTimer")&&E.remove(g.mKeys,"uTimer"),g.h.uTimer=e,g.mKeys.push("uTimer"));a.uniform1f(e,d);c=this.mShader;d=B.instance.resultColorR;k=B.instance.resultColorG;q=B.instance.resultColorB;a=p.gl;e=c.mUniformLookUp.h.uColor;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uColor"),g.h.hasOwnProperty("uColor")&&E.remove(g.mKeys,"uColor"),g.h.uColor=e,g.mKeys.push("uColor"));a.uniform4f(e,d,k,q,1);this.mShader.vertexAttribPointer("aVertexPosition",2,p.gl.FLOAT,
0);c=this.mShader;d=this.texture;a=p.gl;e=c.mUniformLookUp.h.uTex0;null==e&&(g=c.mUniformLookUp,e=p.gl.getUniformLocation(c.mProgram,"uTex0"),g.h.hasOwnProperty("uTex0")&&E.remove(g.mKeys,"uTex0"),g.h.uTex0=e,g.mKeys.push("uTex0"));a.uniform1i(e,0);null!=d?d.apply(0):p.sDefaultTex.apply(0);p.gl.drawElements(p.gl.TRIANGLES,3*b,p.gl.UNSIGNED_SHORT,0);p.instance.enableBlend(!1)}},dispose:function(){var a=this.texture;null!=a&&a.dispose();this.texture=null;a=this.vertexBuffer;null!=a&&a.dispose();this.vertexBuffer=
null;a=this.mShader;null!=a&&a.dispose();this.mShader=null},__class__:Lg});var vf=function(a,b,c){this.mAnimationStart=0;this.middle=new n(0,0);this.animationTarget=new n(0,0);this.animationStart=new n(0,0);this.duration=1.5;C.call(this);100!=this.height&&this.invalidate();var d=null;this.relativeHeight!=d&&this.invalidate();this.relativeHeight=d;d=this.height=100;this.width!=d&&this.invalidate();null!=this.relativeWidth&&this.invalidate();this.relativeWidth=null;this.width=d;this.set_image("gems/fly_icon.png");
this.duration=a;a=this.animationStart;a.x=b.x;a.y=b.y;a.w=b.w;a=this.animationTarget;a.x=c.x;a.y=c.y;a.w=c.w;a=this.middle;a.x=B.SCREEN_WIDTH/2;a.y=B.SCREEN_HEIGHT/2;this.mAnimationStart=H.timer};h["game.gems.AddFlyAnimation"]=vf;vf.__name__="game.gems.AddFlyAnimation";vf.__super__=C;vf.prototype=m(C.prototype,{update:function(){var a=ma.fClamp((H.timer-this.mAnimationStart)/this.duration,0,1),b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];n.BEZIER(b,this.animationStart,
this.middle,this.animationTarget,a);n.BEZIER(c,this.animationStart,this.middle,this.animationTarget,a+.01);var d=b.x-50;this.x!=d&&this.invalidate();this.x=d;d=b.y-50;this.y!=d&&this.invalidate();this.y=d;d=1.5+.3*Math.pow(Math.sin(a*Math.PI),2);this.scale!=d&&this.invalidate();this.scale=d;c.x-=b.x;c.y-=b.y;C.prototype.update.call(this);1<=a&&this.dispose()},dispose:function(){this.animationTarget=this.animationStart=null;C.prototype.dispose.call(this)},__class__:vf});var R=function(a){this.mStartSize=
this.mEndSize=1;this.animationTarget=new n;this.animationStart=new n(0,0);this.mAnimationStart=0;this.destroyable=!0;this.gem=this.touchable=!1;this.duration=1;this.fixed=this.ploppOnInteraction=!1;this.state=$a.NORMAL;this.stoneType="UNDEFINED";this.score=5;C.call(this,this.get_playField().context);this.id=++R.sStoneCount;R.sStones.set(this,this);NaN!=this.y&&this.invalidate();var b=this.y=NaN;this.x!=b&&this.invalidate();this.x=b;null!=a&&this.setStoneTemplate(a)};h["game.gems.Stone"]=R;R.__name__=
"game.gems.Stone";R.getStoneColor=function(a){switch(a){case "GEM_BLUE":return 40957;case "GEM_GREEN":return 1886464;case "GEM_PURPLE":return 16491088;case "GEM_RED":return 14222084;case "GEM_WHITE":return 16777215;case "GEM_YELLOW":return 16771328;default:return-1}};R.getIcon=function(a){switch(a){case "APPLE":var b="apple_stone_01";break;case "BALLON":b="ballon";break;case "BEEHIVE":b="beehive";break;case "BLOB":b="blob";break;case "BOMB":b="bomb";break;case "BOX":case "BOX2":case "BOX3":case "BOX_BLUE":case "BOX_GREEN":case "BOX_PURPLE":case "BOX_RED":case "BOX_WHITE":case "BOX_YELLOW":case "COLOR_BOX":b=
"box";break;case "BREAKER":case "BREAKER_COLUMN":b="row";break;case "CHAMELEON":b="chameleon";break;case "CHEST":b="chest";break;case "CHICKEN":b="chicken";break;case "COCONUT":b="coconut_01";break;case "COIN":case "COINS":b="coin";break;case "COLOR_EGG":b="egg";break;case "CRACKLING":b="crackling1";break;case "CRACKLING2":b="crackling2";break;case "DUNG":b="dung";break;case "DUNG_PILE":b="dung_pile";break;case "ANVIL":case "FAT_ANVIL":b="anvil";break;case "FAT_MULTI":b="banana_01";break;case "FAT_MULTI2":b=
"basket";break;case "FAT_MULTI_COLOR":b="basket";break;case "FAT_MULTI_COLOR_TWISTER":b="basket_twister";break;case "FERTILIZER":b="fertilizer";break;case "FLIES":b="fly";break;case "FOOD_BOWL":b="bowl_01";break;case "GEM_BLUE":b="gem_blue";break;case "GEM_GREEN":b="gem_green";break;case "GEM_PURPLE":b="gem_purple";break;case "GEM_RANDOM":case "UNDEFINED":b="";break;case "GEM_RED":b="gem_red";break;case "GEM_WHITE":b="gem_white";break;case "GEM_YELLOW":b="gem_yellow";break;case "GIFT":b="gift";break;
case "GROUP_5_HITS_ONE_PLACE":case "GROUP_5_HITS_ONE_PLACE2":b="fish_icon";break;case "GROUP_SINGLE_HIT_EACH":case "GROUP_SINGLE_HIT_EACH2":b="pumpkin";break;case "HARD_CAGE":case "HARD_CAGE2":case "HARD_CAGE3":case "HARD_CAGE4":b="hardCage";break;case "HONEYPOT":b="honeypot";break;case "LEAF":b="leaf";break;case "MULTI_CAGE":b="Tierkorb_Front";break;case "ORB":b="orb";break;case "ORE":case "ORE_PILE":b="ore";break;case "SKUNK":b="skunk";break;case "SNOWFLAKE":b="snowflake";break;case "SNOWMAN":b=
"snowman";break;case "SOFT_CAGE":b="softCage";break;case "STUNNED":b="star";break;case "TICKER":b="oyster_01";break;case "TICKER2":b="oyster_01";break;case "TIMEBOMB":b="bomb";break;case "WATER":b="water_drop";break;case "X_HIT":b="branch"}a="gems/"+b+v.THEME_POSTFIX+".png";return ea.exists(a)?a:"gems/"+b+".png"};R.__super__=C;R.prototype=m(C.prototype,{setStoneTemplate:function(a){var b=a+v.THEME_POSTFIX;b=this.get_playField().context.getTemplate(b);null!=b?this.applyTemplate(b):(b=this.get_playField().context.getTemplate(a),
null!=b&&this.applyTemplate(b));this.mBG=this.findType("uiImgBg",C)},onTouch:function(a,b){R.sTouchObject=this;C.prototype.onTouch.call(this,a,b)},onTouchUp:function(a,b,c,d){this.name=""+R.getIcon(this.stoneType)+" "+this.row+","+this.column;null==bd.sInstance&&(this.touchable&&R.sTouchObject==this?this.userAction():this.addAnimation(new Zb));C.prototype.onTouchUp.call(this,a,b,c,d)},userAction:function(){},setHighlight:function(){this.setHighlightAnimation(.3,.01)},unsetHighlight:function(){this.setHighlightAnimation(0,
.2)},get_stateOk:function(){return this.state!=$a.NORMAL?this.state==$a.JUMP:!0},get_hidden:function(){var a=Da.getOverlay(this.column,this.row);return!(null==a||"LEAF"!=a.stoneType)},get_playField:function(){return v.get_instance()},getNeightbour:function(a,b){a=this.column+a;b=this.row+b;return 0<=a&&a<v.COLUMNS&&0<=b&&b<v.ROWS?this.get_playField().getStone(a,b):null},getNeightbours:function(){var a=[],b=this.getNeightbour(-1,0);null!=b&&a.push(b);b=this.getNeightbour(1,0);null!=b&&a.push(b);b=
this.getNeightbour(0,-1);null!=b&&a.push(b);b=this.getNeightbour(0,1);null!=b&&a.push(b);return a},setGroup:function(a){if(null!=this.mBG){var b=this.mBG;0!=b.colorOffset&&b.invalidate();b.colorOffset=0}this.group=a},fall:function(a){null==a&&(a=!1);if(!this.fixed||this.row>=v.ROWS){var b=1E3;if(this.fixed)b=this.row-v.ROWS;else for(var c=this.row;0<c&&null==this.get_playField().getStone(this.column,c-1);)--c,this.get_playField().getField(this.column,c)&&(b=c);b<this.row&&(a||(a=this.animationStart,
a.x=this.x,a.y=this.y,a=this.animationTarget,a.x=this.column*v.STONE_SIZE,a.y=-b*v.STONE_SIZE,this.state=$a.FALLING,this.mAnimationStart=H.timer,this.duration=.3),this.setStone(this.column,this.row,null),this.setStone(this.column,b,this),this.setPos(this.column,b))}},isSame:function(a){return a.stoneType==this.stoneType},interact:function(a){this.ploppOnInteraction&&!this.get_hidden()&&this.plopp(a);var b=Da.getOverlay(this.column,this.row);null!=b&&b.interact(a);return!1},interactWithNeighbours:function(){for(var a=
0,b=this.getNeightbours();a<b.length;){var c=b[a];++a;c.interact(this)}},forcePloop:function(a){this.plopp(a)},countStoneTypeForTask:function(){this.get_playField().task.isTask(this.stoneType)&&v.get_instance().finishAnimation(this,this.stoneType)},plopp:function(a){this.countStoneTypeForTask();switch(this.stoneType){case "BOX_BLUE":ka.get_instance().trackStats("plopped_box",{color:"blue"},1);break;case "BOX_GREEN":ka.get_instance().trackStats("plopped_box",{color:"green"},1);break;case "BOX_PURPLE":ka.get_instance().trackStats("plopped_box",
{color:"purple"},1);break;case "BOX_RED":ka.get_instance().trackStats("plopped_box",{color:"red"},1);break;case "BOX_WHITE":ka.get_instance().trackStats("plopped_box",{color:"white"},1);break;case "BOX_YELLOW":ka.get_instance().trackStats("plopped_box",{color:"yellow"},1);break;case "BREAKER":case "BREAKER_COLUMN":ka.get_instance().trackStats("plopped_special",{type:"breaker"},1);break;case "GEM_BLUE":ka.get_instance().trackStats("plopped_animal",{color:"blue"},1);break;case "GEM_GREEN":ka.get_instance().trackStats("plopped_animal",
{color:"green"},1);break;case "GEM_PURPLE":ka.get_instance().trackStats("plopped_animal",{color:"purple"},1);break;case "GEM_RED":ka.get_instance().trackStats("plopped_animal",{color:"red"},1);break;case "GEM_WHITE":ka.get_instance().trackStats("plopped_animal",{color:"white"},1);break;case "GEM_YELLOW":ka.get_instance().trackStats("plopped_animal",{color:"yellow"},1);break;case "ORB":ka.get_instance().trackStats("plopped_special",{type:"orb"},1);break;case "SKUNK":ka.get_instance().trackStats("plopped_special",
{type:"skunk"},1);break;default:a={type:(""+this.stoneType).toLowerCase()},ka.get_instance().trackStats("plopped_field",a,1)}this.setStone(this.column,this.row,null);this.state=$a.PLOPPING;this.duration=.5;this.mAnimationStart=H.timer;a=this.animationStart;a.x=this.x;a.y=this.y;a=this.animationTarget;a.x=this.x;a.y=this.y;this.mEndSize=1.7;a=this.get_playField().task;a.set_score(a.score+this.score);0<this.score&&this.get_playField().scoreAnimation(this.getMiddle(),this.score,this.get_StoneColor());
this.dispatchSimpleXEvent("Stone::PLOPP")},moveToRootAnimation:function(a){this.state=$a.PLOPPING;this.duration=.5;this.mAnimationStart=H.timer;var b=this.animationStart;b.x=this.x;b.y=this.y;b=this.animationTarget;b.x=a.x;b.y=a.y;this.mEndSize=.5},setPos:function(a,b){if(this.state!=$a.PLOPPING)if(this.column=a,this.row=b,isNaN(this.x))a*=v.STONE_SIZE,this.x!=a&&this.invalidate(),this.x=a,a=-b*v.STONE_SIZE,this.y!=a&&this.invalidate(),this.y=a,this.state=$a.NORMAL;else if(this.state!=$a.FALLING){var c=
n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=this.x;c.y=this.y;var d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];d.x=a*v.STONE_SIZE;d.y=-b*v.STONE_SIZE;this.setStoneAnimation(c,d,$a.MOVING)}},setStoneAnimation:function(a,b,c,d){null!=this.animationStart&&(d=this.animationStart,d.x=a.x,d.y=a.y,d.w=a.w,d=this.animationTarget,d.x=b.x,d.y=b.y,d.w=b.w,this.state=c,this.mAnimationStart=H.timer,this.duration=.5)},resetAnimation:function(a){null==a&&(a=!1);a&&(a=this.column*v.STONE_SIZE,this.x!=a&&this.invalidate(),
this.x=a,a=-this.row*v.STONE_SIZE,this.y!=a&&this.invalidate(),this.y=a);this.animationTarget.x=this.animationStart.x=this.x;this.animationTarget.y=this.animationStart.y=this.y},setStoneAction:function(a,b,c){this.state=a;this.mAnimationStart=H.timer;this.duration=b;switch(a._hx_index){case 1:a=this.getNeightbour(0,-1);null==a||a.state!=$a.NORMAL||a.fixed||(0<n.sPoolV2D.length?(b=n.sPoolV2D.pop(),b.x=0,b.y=5):b=new n(0,5),a.setStoneAction($a.IMPACT,.25,b),a=a.getNeightbour(0,-1),null==a||a.state!=
$a.NORMAL||a.fixed||(0<n.sPoolV2D.length?(b=n.sPoolV2D.pop(),b.x=0,b.y=2.5):b=new n(0,2.5),a.setStoneAction($a.IMPACT,.25,b)));break;case 2:null!=this.impact&&n.sPoolV2D.push(this.impact),this.impact=c}},update:function(){if(null!=this.group&&this.group.marked&&null!=this.mBG){var a=1.5*H.timer,b=this.mBG,c=0==Math.floor(a/2)%2?.2*Math.abs(Math.sin(a*Math.PI)):0;a=Math.round(O.toFloat(0)*c);var d=Math.round(O.toFloat(255)*c),e=Math.round(O.toFloat(255)*c);c=Math.round(O.toFloat(255)*c);a=(a<<24)+
(d<<16)+(e<<8)+c;b.colorOffset!=a&&b.invalidate();b.colorOffset=a}b=Math.min(1,(H.timer-this.mAnimationStart)/this.duration);switch(this.state._hx_index){case 1:a=this.animationTarget.y-25*(-4*(b-.5)*(b-.5)+1);this.y!=a&&this.invalidate();this.y=a;1<=b&&(a=this.animationTarget.y,this.y!=a&&this.invalidate(),this.y=a,a=this.animationTarget.x,this.x!=a&&this.invalidate(),this.x=a,this.state=$a.NORMAL);break;case 2:d=-4*(b-.5)*(b-.5)+1;a=this.animationTarget.x+d*this.impact.x;this.x!=a&&this.invalidate();
this.x=a;a=this.animationTarget.y+d*this.impact.y;this.y!=a&&this.invalidate();this.y=a;1<=b&&(a=this.animationTarget.y,this.y!=a&&this.invalidate(),this.y=a,a=this.animationTarget.x,this.x!=a&&this.invalidate(),this.x=a,this.state=$a.NORMAL,n.sPoolV2D.push(this.impact),this.impact=null);break;case 3:b*=b;a=this.animationStart.x*(1-b)+this.animationTarget.x*b;this.x!=a&&this.invalidate();this.x=a;a=this.animationStart.y*(1-b)+this.animationTarget.y*b;this.y!=a&&this.invalidate();this.y=a;1<=b&&(this.state=
$a.NORMAL,this.inPlace());break;case 4:a=b;a=this.animationStart.y*(1-a)+this.animationTarget.y*a;this.y!=a&&this.invalidate();this.y=a;1<=b&&(this.inPlace(),this.setStoneAction($a.JUMP,.25));break;case 5:b=Math.sqrt(b),a=this.animationStart.x*(1-b)+this.animationTarget.x*b,this.x!=a&&this.invalidate(),this.x=a,a=this.animationStart.y*(1-b)+this.animationTarget.y*b,this.y!=a&&this.invalidate(),this.y=a,a=this.mStartSize*(1-b)+this.mEndSize*b,this.scale!=a&&this.invalidate(),this.scale=a,a=1-b*b,this.alpha!=
a&&this.invalidate(),this.alpha=a,7368816!=this.colorOffset&&this.invalidate(),this.colorOffset=7368816,1<=b&&this.get_playField().ploppedStones.push(this)}C.prototype.update.call(this)},inPlace:function(){},setStone:function(a,b,c){this.get_playField().setStone(a,b,c)},get_valid:function(){return"UNDEFINED"!=this.stoneType},get_StoneColor:function(){return R.getStoneColor(this.stoneType)},match:function(a){return null!=a?a.stoneType==this.stoneType:!1},dispose:function(){R.sStones.remove(this);this.get_playField().getStone(this.column,
this.row)==this&&this.get_playField().setStone(this.column,this.row,null);if(null==this.get_playField().succeeded){var a=F.field(R.sStoneCounts,M.string(this.stoneType));null==a?a=1:++a;R.sStoneCounts[M.string(this.stoneType)]=a}this.mMiddle=this.group=this.state=this.impact=this.animationTarget=this.animationStart=null;this.stoneType="UNDEFINED";C.prototype.dispose.call(this)},__class__:R,__properties__:m(C.prototype.__properties__,{get_hidden:"get_hidden",get_stateOk:"get_stateOk",get_valid:"get_valid",
get_playField:"get_playField"})});var Yf=function(){this.mFloored=!1;R.call(this,"tAnvil");this.touchable=this.destroyable=!1;Z.sInstance.atlas.getTexture("gems/anvil.png");this.stoneType="ANVIL"};h["game.gems.Anvil"]=Yf;Yf.__name__="game.gems.Anvil";Yf.__super__=R;Yf.prototype=m(R.prototype,{interact:function(a){a instanceof rb&&this.addAnimation(new Zb);return R.prototype.interact.call(this,a)},plopp:function(a){if(this.mFloored){R.prototype.plopp.call(this,a);a=0;var b=.7;null==b&&(b=1);null==
a&&(a=0);Y.get_instance().playUnique("sound/anvil.mp3",a,b,1);a=this.getMiddle();var c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=0;c.y=250;var d=v.sScale;c.x*=d;c.y*=d;b=c;c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];for(var e=0;10>e;){e++;c.x=2*Math.random()-1;c.y=2*Math.random()-1;c.x*=250;c.y*=250;d=v.sScale;c.x*=d;c.y*=d;c.y-=200;d=Z.sInstance;var g=1+.5*Math.random(),k=.03+.02*Math.random(),q=-1,t=-1,f=4*(360*Math.random()-720),p=4*(360*Math.random()-720);null==p&&(p=0);null==f&&(f=0);null==
t&&(t=0);null==q&&(q=-1);d.addParticle(d.mVertexBuffer,"gems/anvil.png",a,g,c,b,k,0,q,t,f,p,0)}}},inPlace:function(){0!=this.row||this.mFloored||(this.addAnimation(new Te),this.mFloored=!0,this.get_playField().addCommand(1,new zc(this)))},__class__:Yf});var Zf=function(a,b){null==b&&(b="tApple");null==a&&(a=3);this.mCount=0;R.call(this,b);this.mCount=a;Z.sInstance.atlas.getTexture("particles/apple.png");this.stoneType="APPLE";this.ploppOnInteraction=!0};h["game.gems.Apple"]=Zf;Zf.__name__="game.gems.Apple";
Zf.__super__=R;Zf.prototype=m(R.prototype,{updateDisplay:function(){var a="gems/apple_stone_"+ma.ndigits(4-this.mCount,2)+".png",b=this.find("uiImgIcon");null!=b&&b instanceof C&&b.set_image(a)},plopp:function(a){0<--this.mCount&&this.updateDisplay();var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=.5*this.resultWidth;b.y=.5*this.resultWidth;var c=b;c.multiplyMatrix(this.resultMatrix);b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250;var d=b,e=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];
this.blubb();Y.get_instance().playUnique("sound/apple.mp3",0,1,1);switch(this.mCount){case 0:for(var g=0;10>g;){g++;e.x=2*Math.random()-1;e.y=2*Math.random()-1;b=e;b.x*=230;b.y*=230;e=v.sScale;b.x*=e;b.y*=e;e=b;b=Z.sInstance;var k=1+.5*Math.random(),q=-1,t=16777215,f=4*(360*Math.random()-720),p=4*(360*Math.random()-720);null==p&&(p=0);null==f&&(f=0);null==t&&(t=0);null==q&&(q=-1);b.addParticle(b.mVertexBuffer,"particles/apple.png",c,k,e,d,.08,.08,q,t,f,p,0)}R.prototype.plopp.call(this,a);break;case 1:e.x=
300;e.y=30;b=e;e=v.sScale;b.x*=e;b.y*=e;e=b;b=Z.sInstance;k=1+.5*Math.random();q=-1;t=16777215;f=4*(360*Math.random()-720);p=4*(360*Math.random()-720);null==p&&(p=0);null==f&&(f=0);null==t&&(t=0);null==q&&(q=-1);b.addParticle(b.mVertexBuffer,"particles/apple.png",c,k,e,d,.08,.08,q,t,f,p,0);break;case 2:e.x=-300,e.y=10,b=e,e=v.sScale,b.x*=e,b.y*=e,e=b,b=Z.sInstance,k=1+.5*Math.random(),q=-1,t=16777215,f=4*(360*Math.random()-720),p=4*(360*Math.random()-720),null==p&&(p=0),null==f&&(f=0),null==t&&(t=
0),null==q&&(q=-1),b.addParticle(b.mVertexBuffer,"particles/apple.png",c,k,e,d,.08,.08,q,t,f,p,0)}},__class__:Zf});var fb=function(a){this.gemType="UNDEFINED";R.call(this,a)};h["game.gems.ColorStone"]=fb;fb.__name__="game.gems.ColorStone";fb.__super__=R;fb.prototype=m(R.prototype,{interact:function(a){null!=a&&a.gem&&(a.stoneType==this.gemType?this.plopp():this.addAnimation(new Zb));return R.prototype.interact.call(this,a)},__class__:fb});var kd=function(a){this.mAutoDestroy=!1;this.countDown=0;fb.call(this,
"tBallon");if("UNDEFINED"==this.gemType){var b=this.get_playField().task.allowedGemTypes.length;this.gemType=this.get_playField().task.allowedGemTypes[M.random(b)];b=R.getStoneColor(this.gemType);var c=this.find("uiImgBallon");if(null!=c){var d=O.toFloat(b>>>16&255)/255,e=O.toFloat(b>>>8&255)/255,g=O.toFloat(b&255)/255;if(d!=c.colorR||e!=c.colorG||g!=c.colorB)c.colorR!=d&&c.invalidate(),c.colorR=d,c.colorG!=e&&c.invalidate(),c.colorG=e,c.colorB!=g&&c.invalidate(),c.colorB=g,c.invalidate();c.color=
b}b=R.getIcon(this.gemType);c=this.find("uiImgIcon");null!=c&&c instanceof C&&c.set_image(b)}this.stoneType="BALLON";this.countDown=a;kd.sBallons.push(this);this.registerXEventListener(v.get_instance(),"USER_ACTION",l(this,this.onUserAction));this.updateDisplay()};h["game.gems.Ballon"]=kd;kd.__name__="game.gems.Ballon";kd.__super__=fb;kd.prototype=m(fb.prototype,{onUserAction:function(a){0==--this.countDown&&(this.mAutoDestroy=!0,this.explode(),this.plopp());this.updateDisplay()},countStoneTypeForTask:function(){!this.mAutoDestroy&&
this.get_playField().task.isTask(this.stoneType)&&v.get_instance().finishAnimation(this,this.stoneType)},updateDisplay:function(){var a=N.number(this.countDown),b=this.find("uiTxtCountDown");b instanceof D&&L.__cast(b,D).set_text(a);2==this.countDown&&this.addAnimation(new Ac(null))},explode:function(){Y.get_instance().play("sound/ballon_plopp.ogg",0,1,1);var a=this.getMiddle(),b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=150*v.sScale;for(var c=b,d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],
e=-16777216|R.getStoneColor(this.gemType),g=0;12>g;){g++;d.x=2*Math.random()-1;d.y=2*Math.random()-1;b=d;var k=550*v.sScale;b.x*=k;b.y*=k;var q=b;b=.06+.02*Math.random();var t=Z.sInstance;k=1.5+.5*Math.random();var f=e,p=e,h=360*Math.random()-720,m=360*Math.random()-720,l=1440*Math.random();null==l&&(l=0);null==m&&(m=0);null==h&&(h=0);null==p&&(p=0);null==f&&(f=-1);t.addParticle(t.mVertexBuffer,"particles/ballon.png",a,k,q,c,b,b,f,p,h,m,l)}b=this.getNeightbours();b.push(this.getNeightbour(0,2));for(g=
0;g<b.length;)a=b[g],++g,a instanceof rb&&(t=a,t.set_stunned(!0));this.get_playField().addCommand(.5,new y);b=3;g=0;for(d=2*b+1;g<d;)for(c=g++,e=0,q=2*b+1;e<q;)a=e++,t=this.column+(c-b),k=this.row+(a-b),t=this.get_playField().getStone(t,k),null!=t&&t.state==$a.NORMAL&&(k=c-b,a=-(a-b),0<n.sPoolV2D.length?(f=n.sPoolV2D.pop(),f.x=k,f.y=a,a=f):a=new n(k,a),k=Math.sqrt(a.x*a.x+a.y*a.y),k=1/k/Math.max(1,k),a.x*=k,a.y*=k,a.x*=50,a.y*=50,t.setStoneAction($a.IMPACT,.5,a))},plopp:function(a){this.countDown=
-1;this.mAutoDestroy||Y.get_instance().play("sound/ballon_release.ogg",0,1,1);fb.prototype.plopp.call(this,a)},dispose:function(){E.remove(kd.sBallons,this);fb.prototype.dispose.call(this)},__class__:kd});var fe=function(){this.mCount=2;R.call(this,"tBeehive");this.fixed=!0;this.stoneType="BEEHIVE";this.ploppOnInteraction=!0;for(var a=fe.sBeeTargets;0<a.length;)a.pop()};h["game.gems.Beehive"]=fe;fe.__name__="game.gems.Beehive";fe.__super__=R;fe.prototype=m(R.prototype,{plopp:function(a){--this.mCount;
switch(this.mCount){case 0:this.get_playField().addCommand(0,new Cc(this.getMiddle()),!0);Y.get_instance().playUnique("sound/Bee_fly_loop_end.mp3",0,1,1);R.prototype.plopp.call(this);break;case 1:if(this.blubb(),a=this.context.getTemplate("tBeehiveBee"),null!=a){this.addChild(a.createInstance()).addAnimation(new yd(null,22*(3*Math.random()+10),360*Math.random()));this.addChild(a.createInstance()).addAnimation(new yd(null,25*(3*Math.random()+10),360*Math.random()));a=a.createInstance();-1!=a.scaleY&&
a.invalidate();a.scaleY=-1;.95!=a.scale&&a.invalidate();a.scale=.95;var b=a.find("uiImgBee");20!=b.x&&b.invalidate();b.x=20;this.addChild(a).addAnimation(new yd(null,-23*(3*Math.random()+10),360*Math.random()));Y.get_instance().playUnique("sound/Bee_loop.mp3",0,1,1)}}},__class__:fe});var Je=function(a,b,c){this.mAnimationStart=0;this.middle=new n(0,0);this.animationTarget=new n(0,0);this.animationStart=new n(0,0);this.duration=1.5;C.call(this);100!=this.height&&this.invalidate();var d=null;this.relativeHeight!=
d&&this.invalidate();this.relativeHeight=d;d=this.height=100;this.width!=d&&this.invalidate();null!=this.relativeWidth&&this.invalidate();this.relativeWidth=null;this.width=d;this.set_image("gems/row.png");this.duration=a;a=this.animationStart;a.x=b.x;a.y=b.y;a.w=b.w;a=this.animationTarget;a.x=c.x;a.y=c.y;a.w=c.w;a=this.middle;b=B.SCREEN_HEIGHT*Math.random();a.x=B.SCREEN_WIDTH*Math.random();a.y=b;this.mAnimationStart=H.timer};h["game.gems.BeehiveAnimation"]=Je;Je.__name__="game.gems.BeehiveAnimation";
Je.__super__=C;Je.prototype=m(C.prototype,{update:function(){var a=ma.fClamp((H.timer-this.mAnimationStart)/this.duration,0,1),b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];n.BEZIER(b,this.animationStart,this.middle,this.animationTarget,a);n.BEZIER(c,this.animationStart,this.middle,this.animationTarget,a+.01);var d=b.x-50;this.x!=d&&this.invalidate();this.x=d;d=b.y-50;this.y!=d&&this.invalidate();this.y=d;d=1.5+.3*Math.pow(Math.sin(a*Math.PI),2);this.scale!=
d&&this.invalidate();this.scale=d;c.x-=b.x;c.y-=b.y;d=-45+180*Math.atan2(c.y,c.x)/Math.PI;this.rotation!=d&&this.invalidate();this.rotation=d;C.prototype.update.call(this);1<=a&&this.dispose()},dispose:function(){this.animationTarget=this.animationStart=null;C.prototype.dispose.call(this)},__class__:Je});var hb=function(){R.call(this,"tBlob");this.stoneType="BLOB";this.ploppOnInteraction=this.fixed=!0;Z.sInstance.atlas.getTexture("gems/blob.png");this.addAnimation(new Ng);hb.sBlobs.push(this)};h["game.gems.Blob"]=
hb;hb.__name__="game.gems.Blob";hb.checkBlob=function(){if(0<hb.sBlobs.length&&hb.sLastBlobPlopp<v.get_instance().currentMove)for(var a=M.random(hb.sBlobs.length),b=hb.sBlobs.length,c=0;c<b&&(c++,!hb.sBlobs[a++%b].expand()););};hb.initLevel=function(){hb.sLastBlobPlopp=-1};hb.__super__=R;hb.prototype=m(R.prototype,{plopp:function(a){R.prototype.plopp.call(this,a);hb.sLastBlobPlopp=this.get_playField().currentMove;var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=.5*this.resultWidth;b.y=.5*this.resultWidth;
a=b;a.multiplyMatrix(this.resultMatrix);b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250;var c=b;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];for(var d=0;15>d;){d++;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=250;b.y*=250;var e=v.sScale;b.x*=e;b.y*=e;e=Z.sInstance;var g=1.5+.5*Math.random(),k=.04+.02*Math.random(),q=-1,t=-1,f=4*(360*Math.random()-720),p=6*(360*Math.random()-720);null==p&&(p=0);null==f&&(f=0);null==t&&(t=0);null==q&&(q=-1);e.addParticle(e.mVertexBuffer,"gems/blob.png",
a,g,b,c,k,0,q,t,f,p,0)}},expand:function(){for(var a=[{x:-1,y:0},{x:1,y:0},{x:0,y:-1},{x:0,y:1}],b=M.random(a.length),c=0;4>c;){c++;var d=a[b++%a.length],e=this.column+d.x,g=this.row+d.y;if(0<=e&&0<=g&&e<v.COLUMNS&&g<v.ROWS&&this.get_playField().getField(e,g)){var k=this.getNeightbour(d.x,d.y);if(null==k||k.gem)return null!=k&&k.dispose(),a=v.get_instance().addStone(e,g,new hb),b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],b.x=a.x-d.x*v.STONE_SIZE,b.y=a.y+d.y*v.STONE_SIZE,d=n.sTempV2D[++n.sTempV2DIdx%
n.sTempV2DLen],d.x=a.x,d.y=a.y,a.setStoneAnimation(b,d,$a.MOVING),d=this.get_playField().task.tasks,Object.prototype.hasOwnProperty.call(d.h,"BLOB")&&this.get_playField().task.getOrCreateTask("BLOB").set_amount(hb.sBlobs.length),!0}}return!1},dispose:function(){R.prototype.dispose.call(this);E.remove(hb.sBlobs,this)},__class__:hb});var $c=function(a){this.mAutoDestroy=!1;this.countDown=0;fb.call(this,"tBomb");if("UNDEFINED"==this.gemType){var b=this.get_playField().task.allowedGemTypes.length;this.gemType=
this.get_playField().task.allowedGemTypes[M.random(b)];b=R.getIcon(this.gemType);var c=this.find("uiImgIcon");null!=c&&c instanceof C&&c.set_image(b)}this.stoneType="BOMB";this.countDown=a;$c.sBombs.push(this);this.registerXEventListener(v.get_instance(),"USER_ACTION",l(this,this.onUserAction));this.updateDisplay()};h["game.gems.Bomb"]=$c;$c.__name__="game.gems.Bomb";$c.__super__=fb;$c.prototype=m(fb.prototype,{onUserAction:function(a){0==--this.countDown&&(this.mAutoDestroy=!0,this.explode(),this.plopp(),
a=this.get_playField().task,a.set_moves(a.get_moves()-1));this.updateDisplay()},countStoneTypeForTask:function(){!this.mAutoDestroy&&this.get_playField().task.isTask(this.stoneType)&&v.get_instance().finishAnimation(this,this.stoneType)},updateDisplay:function(){var a=N.number(this.countDown),b=this.find("uiTxtCountDown");b instanceof D&&L.__cast(b,D).set_text(a);2==this.countDown&&this.addAnimation(new Ac(null))},explode:function(){Y.get_instance().play("sound/skunk.ogg",0,1,1);var a=this.getMiddle(),
b=n.ZERO,c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];d.x=2*Math.random()-1;d.y=2*Math.random()-1;var e=d;d=1/Math.sqrt(e.x*e.x+e.y*e.y);e.x*=d;e.y*=d;var g=100*v.sScale;e.x*=g;e.y*=g;d=e;c.x=a.x;c.y=a.y;c.w=a.w;e=c;e.x+=10.5*d.x;e.y+=10.5*d.y;e=Z.sInstance;g=2+.5*Math.random();var k=-2987746,q=13789471,t=0,f=0;null==f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=-1);e.addParticle(e.mVertexBuffer,"particles/smelly.png",a,g,d,b,.05,.15,k,q,t,f,0);d.x=
2*Math.random()-1;d.y=2*Math.random()-1;e=d;d=1/Math.sqrt(e.x*e.x+e.y*e.y);e.x*=d;e.y*=d;g=100*v.sScale;e.x*=g;e.y*=g;d=e;c.x=a.x;c.y=a.y;c.w=a.w;e=c;e.x+=10.5*d.x;e.y+=10.5*d.y;e=Z.sInstance;g=2+.5*Math.random();k=-2987746;q=13789471;f=t=0;null==f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=-1);e.addParticle(e.mVertexBuffer,"particles/smelly.png",a,g,d,b,.05,.15,k,q,t,f,0);d.x=2*Math.random()-1;d.y=2*Math.random()-1;e=d;d=1/Math.sqrt(e.x*e.x+e.y*e.y);e.x*=d;e.y*=d;g=100*v.sScale;e.x*=g;e.y*=
g;d=e;c.x=a.x;c.y=a.y;c.w=a.w;e=c;e.x+=10.5*d.x;e.y+=10.5*d.y;e=Z.sInstance;g=2+.5*Math.random();k=-2987746;q=13789471;f=t=0;null==f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=-1);e.addParticle(e.mVertexBuffer,"particles/smelly.png",a,g,d,b,.05,.15,k,q,t,f,0);d.x=2*Math.random()-1;d.y=2*Math.random()-1;e=d;d=1/Math.sqrt(e.x*e.x+e.y*e.y);e.x*=d;e.y*=d;g=100*v.sScale;e.x*=g;e.y*=g;d=e;c.x=a.x;c.y=a.y;c.w=a.w;e=c;e.x+=10.5*d.x;e.y+=10.5*d.y;e=Z.sInstance;g=2+.5*Math.random();k=-2987746;q=13789471;
f=t=0;null==f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=-1);e.addParticle(e.mVertexBuffer,"particles/smelly.png",a,g,d,b,.05,.15,k,q,t,f,0);d.x=2*Math.random()-1;d.y=2*Math.random()-1;e=d;d=1/Math.sqrt(e.x*e.x+e.y*e.y);e.x*=d;e.y*=d;g=100*v.sScale;e.x*=g;e.y*=g;d=e;c.x=a.x;c.y=a.y;c.w=a.w;e=c;e.x+=10.5*d.x;e.y+=10.5*d.y;e=Z.sInstance;g=2+.5*Math.random();k=-2987746;q=13789471;f=t=0;null==f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=-1);e.addParticle(e.mVertexBuffer,"particles/smelly.png",
a,g,d,b,.05,.15,k,q,t,f,0);this.get_playField().addCommand(.5,new y);for(b=0;7>b;)for(c=b++,e=0;7>e;)a=e++,d=this.column+(c-3),g=this.row+(a-3),d=this.get_playField().getStone(d,g),null!=d&&d.state==$a.NORMAL&&(g=c-3,a=-(a-3),0<n.sPoolV2D.length?(k=n.sPoolV2D.pop(),k.x=g,k.y=a,a=k):a=new n(g,a),g=Math.sqrt(a.x*a.x+a.y*a.y),g=1/g/Math.max(1,g),a.x*=g,a.y*=g,a.x*=50,a.y*=50,d.setStoneAction($a.IMPACT,.5,a))},plopp:function(a){fb.prototype.plopp.call(this,a)},dispose:function(){E.remove($c.sBombs,this);
fb.prototype.dispose.call(this)},__class__:$c});var ge=function(a,b){null==b&&(b="tBox");null==a&&(a=1);this.mCount=0;R.call(this,b);this.mCount=a;this.updateDisplay();this.stoneType="BOX";this.fixed=this.ploppOnInteraction=!0;Z.sInstance.atlas.getTexture("gems/box.png");Z.sInstance.atlas.getTexture("gems/box2.png")};h["game.gems.Box"]=ge;ge.__name__="game.gems.Box";ge.__super__=R;ge.prototype=m(R.prototype,{updateDisplay:function(){var a=1<this.mCount,b=this.find("uiImgBox2");null!=b&&b.set_visible(a);
a=2<this.mCount;b=this.find("uiImgBox3");null!=b&&b.set_visible(a)},plopp:function(a){--this.mCount;this.updateDisplay();var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=.5*this.resultWidth;b.y=.5*this.resultWidth;var c=b;c.multiplyMatrix(this.resultMatrix);b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250;var d=b;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];switch(this.mCount){case 0:var e=0,g=.3;null==g&&(g=1);null==e&&(e=0);Y.get_instance().playUnique("sound/box.mp3",e,g,1);for(e=0;10>
e;){e++;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=550;b.y*=550;g=v.sScale;b.x*=g;b.y*=g;b.x*=.7;g=Z.sInstance;var k=1.5+.5*Math.random(),q=.04+.02*Math.random(),t=-1,f=16777215,p=4*(360*Math.random()-720),h=4*(360*Math.random()-720),m=720*Math.random();null==m&&(m=0);null==h&&(h=0);null==p&&(p=0);null==f&&(f=0);null==t&&(t=-1);g.addParticle(g.mVertexBuffer,"gems/box.png",c,k,b,d,q,.04,t,f,p,h,m)}R.prototype.plopp.call(this,a);break;case 1:case 2:for(e=0;10>e;)e++,b.x=2*Math.random()-1,b.y=
2*Math.random()-1,b.x*=250,b.y*=250,g=v.sScale,b.x*=g,b.y*=g,b.x*=.7,g=Z.sInstance,k=1+.5*Math.random(),q=.03+.02*Math.random(),f=t=-1,p=4*(360*Math.random()-720),h=4*(360*Math.random()-720),null==h&&(h=0),null==p&&(p=0),null==f&&(f=0),null==t&&(t=-1),g.addParticle(g.mVertexBuffer,"gems/box2.png",c,k,b,d,q,0,t,f,p,h,0)}},__class__:ge});var jb=function(a){R.call(this,a);Z.sInstance.atlas.getTexture("gems/row.png");this.touchable=!0};h["game.gems.Special"]=jb;jb.__name__="game.gems.Special";jb.__super__=
R;jb.prototype=m(R.prototype,{userAction:function(){this.get_stateOk()&&!this.get_playField().get_locked()&&(this.plopp(this),this.get_playField().userAction())},countStoneTypeForTask:function(){null==this.group&&R.prototype.countStoneTypeForTask.call(this)},plopp:function(a){Da.overlayAction(this.column,this.row);R.prototype.plopp.call(this,a)},isSame:function(a){return a instanceof jb},setGroup:function(a){R.prototype.setGroup.call(this,a);a=null!=this.group&&1<this.group.data.length&&(4<v.get_instance().level||
u.get_instance().forceMode);var b=this.find("uiImgGlow");null!=b&&b.set_visible(a)},multiBreakerEffect:function(a,b){Y.get_instance().play("sound/bee.mp3",0,1,1);var c=a.column,d=a.row;a=a.getMiddle();var e=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];if(b){e.x=1700;e.y=0;var g=e,k=v.sScale;g.x*=k;g.y*=k;g=Z.sInstance;var q=k=-1,t=45,f=45;null==f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=-1);g.addParticle(g.mVertexBuffer,"gems/row.png",a,1,e,n.ZERO,.06,.06,k,q,t,f,0);g=Z.sInstance;e.x*=-1;e.y*=
-1;q=k=-1;f=t=225}else e.x=0,e.y=1700,g=e,k=v.sScale,g.x*=k,g.y*=k,g=Z.sInstance,q=k=-1,f=t=315,null==f&&(f=0),null==t&&(t=0),null==q&&(q=0),null==k&&(k=-1),g.addParticle(g.mVertexBuffer,"gems/row.png",a,1,e,n.ZERO,.06,.06,k,q,t,f,0),g=Z.sInstance,e.x*=-1,e.y*=-1,q=k=-1,f=t=135;null==f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=-1);g.addParticle(g.mVertexBuffer,"gems/row.png",a,1,e,n.ZERO,.06,.06,k,q,t,f,0);if(b)for(b=1,a=v.COLUMNS;b<a;)e=b++,g=c+e,g<v.COLUMNS&&this.get_playField().addCommand(.05*
e,new Ga(g,d,this)),g=c-e,0<=g&&this.get_playField().addCommand(.05*e,new Ga(g,d,this));else for(b=1,a=v.ROWS;b<a;)e=b++,g=d+e,g<v.ROWS&&this.get_playField().addCommand(.05*e,new Ga(c,g,this)),g=d-e,0<=g&&this.get_playField().addCommand(.05*e,new Ga(c,g,this))},skunkBreakerEffect:function(){Y.get_instance().play("sound/skunk.mp3",0,1,1);Y.get_instance().play("sound/bee.mp3",0,1,1);var a=this.column,b=this.row,c=this.getMiddle(),d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];d.x=1700;d.y=0;var e=v.sScale;
d.x*=e;d.y*=e;var g=d;d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];d.x=0;d.y=1700;e=v.sScale;d.x*=e;d.y*=e;e=d;d=Z.sInstance;var k=-1,q=-1,t=45,f=45;null==f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=-1);d.addParticle(d.mVertexBuffer,"gems/row.png",c,1,g,n.ZERO,.06,.06,k,q,t,f,0);d=Z.sInstance;g.x*=-1;g.y*=-1;q=k=-1;f=t=45;null==f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=-1);d.addParticle(d.mVertexBuffer,"gems/row.png",c,1,g,n.ZERO,.06,.06,k,q,t,f,0);d=Z.sInstance;q=k=-1;f=t=135;null==
f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=-1);d.addParticle(d.mVertexBuffer,"gems/row.png",c,1,e,n.ZERO,.06,.06,k,q,t,f,0);d=Z.sInstance;e.x*=-1;e.y*=-1;q=k=-1;f=t=135;null==f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=-1);d.addParticle(d.mVertexBuffer,"gems/row.png",c,1,e,n.ZERO,.06,.06,k,q,t,f,0);this.get_playField().addCommand(0,new Ga(a,b-1));this.get_playField().addCommand(0,new Ga(a,b));this.get_playField().addCommand(0,new Ga(a,b+1));c=1;for(g=v.ROWS>v.COLUMNS?v.ROWS:v.COLUMNS;c<
g;)d=c++,e=.05*d,k=a+d,k<v.COLUMNS&&(this.get_playField().addCommand(e,new Ga(k,b-1,this)),this.get_playField().addCommand(e,new Ga(k,b,this)),this.get_playField().addCommand(e,new Ga(k,b+1,this))),k=a-d,0<=k&&(this.get_playField().addCommand(e,new Ga(k,b-1,this)),this.get_playField().addCommand(e,new Ga(k,b,this)),this.get_playField().addCommand(e,new Ga(k,b+1,this))),1<d&&(k=b+d,k<v.ROWS&&(this.get_playField().addCommand(e,new Ga(a-1,k,this)),this.get_playField().addCommand(e,new Ga(a,k,this)),
this.get_playField().addCommand(e,new Ga(a+1,k,this))),k=b-d,0<=k&&(this.get_playField().addCommand(e,new Ga(a-1,k,this)),this.get_playField().addCommand(e,new Ga(a,k,this)),this.get_playField().addCommand(e,new Ga(a+1,k,this))))},multiSkunkEffect:function(a,b,c){Y.get_instance().play("sound/skunk.mp3",0,1,1);this.get_playField().shake();for(var d=c+1,e=2*d+1,g=this.getMiddle(),k=n.ZERO,q=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],t=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],f=0;15>f;){f++;t.x=2*Math.random()-
1;t.y=2*Math.random()-1;var p=1/Math.sqrt(t.x*t.x+t.y*t.y);t.x*=p;t.y*=p;p=100*v.sScale*c;t.x*=p;t.y*=p;q.x=g.x;q.y=g.y;q.w=g.w;p=q;p.x+=20.5*t.x;p.y+=20.5*t.y;p=Z.sInstance;var h=2+.5*Math.random(),m=-2987746,l=13789471,G=0,y=0;null==y&&(y=0);null==G&&(G=0);null==l&&(l=0);null==m&&(m=-1);p.addParticle(p.mVertexBuffer,"particles/smelly.png",g,h,t,k,.1,.25,m,l,G,y,0)}for(f=0;f<e;)for(c=f++,g=0,k=e;g<k;)t=g++,q=c-d,h=t-d,t=a+q,p=b+h,q=q*q+h*h,q<=d*d&&(t=this.get_playField().getStone(t,p),null!=t&&this.get_playField().addCommand(.1*
Math.sqrt(q),new zc(t,this)))},ploppAll:function(){Y.get_instance().play("sound/doubleOrb.mp3",0,1,1);this.get_playField().shake();for(var a=0,b=v.COLUMNS;a<b;)for(var c=a++,d=0,e=v.ROWS;d<e;){var g=d++,k=this.get_playField().getStone(c,g);if(null!=k){var q=c-this.column;g-=this.row;q=q*q+g*g;this.get_playField().addCommand(.1*Math.sqrt(q),new zc(k,this))}}},replaceAllBy:function(a,b){for(var c=0,d=0,e=v.ROWS;d<e;)for(var g=d++,k=0,q=v.COLUMNS;k<q;){var t=k++,n=v.ROWS-g-1;n=this.get_playField().getStone(t,
n);if(null!=n&&n.stoneType==a&&!n.get_hidden()){t=1;if("BREAKER"==b){var f=new ld(.5>Math.random());this.get_playField().addCommand(t,new Md(n,f,ee.None));v.get_instance().animations.addChild(new Je(t,this.getMiddle(),n.getMiddle()))}else t=.7,f=new vd,this.get_playField().addCommand(t,new Md(n,f,ee.None)),v.get_instance().animations.addChild(new Og(t,this.getMiddle(),n.getMiddle()));this.get_playField().addCommand(1.5+.15*++c,new zc(f))}}},checkGroupEffect:function(){var a=!1;if(null!=this.group&&
1<this.group.data.length){for(var b=this.group.iterator();b.hasNext();){var c=b.next();this.get_playField().task.isTask(c.stoneType)&&v.get_instance().finishAnimation(this,c.stoneType)}if(4<v.get_instance().level||u.get_instance().forceMode){var d=[],e=[],g=[];for(b=this.group.iterator();b.hasNext();)switch(c=b.next(),c.stoneType){case "BREAKER":g.push(c);break;case "ORB":d.push(c);break;case "SKUNK":e.push(c)}b=200*this.group.data.length;c=this.get_playField().task;c.set_score(c.score+b);this.get_playField().scoreAnimation(this.getMiddle(),
b);if(0<d.length)1<d.length?(ka.get_instance().trackStats("plopped_combination",{type:"orb_orb"},1),this.ploppAll(),a=!0):0<e.length?(ka.get_instance().trackStats("plopped_combination",{type:"skunk_orb"},1),Y.get_instance().play("sound/port.mp3",0,1,1),this.replaceAllBy(d[0].gemType,"SKUNK"),a=!0):0<g.length&&(ka.get_instance().trackStats("plopped_combination",{type:"breaker_orb"},1),Y.get_instance().play("sound/port.mp3",0,1,1),this.replaceAllBy(d[0].gemType,"BREAKER"),a=!0);else{if(0<e.length)1<
e.length?(ka.get_instance().trackStats("plopped_combination",{type:"skunk_skunk"},1),this.multiSkunkEffect(this.column,this.row,e.length)):(ka.get_instance().trackStats("plopped_combination",{type:"breaker_skunk"},1),this.skunkBreakerEffect());else{ka.get_instance().trackStats("plopped_combination",{type:"breaker_breaker"},1);d=new nb;a=new nb;for(e=0;e<g.length;)b=g[e],++e,d.h.hasOwnProperty(b.row)||(d.h[b.row]=b),a.h.hasOwnProperty(b.column)||(a.h[b.column]=b);for(b=d.iterator();b.hasNext();)c=
b.next(),this.multiBreakerEffect(c,!0);for(b=a.iterator();b.hasNext();)c=b.next(),this.multiBreakerEffect(c,!1)}a=!0}for(b=this.group.iterator();b.hasNext();)c=b.next(),c.dispatchSimpleXEvent("Stone::PLOPP"),this.get_playField().removeStone(c.column,c.row)}}a&&(this.score=0);return a},__class__:jb});var ld=function(a){null==a&&(a=!0);this.horizontal=a;jb.call(this,a?"tRowBreaker":"tColumnBreaker");this.score=15;Z.sInstance.atlas.getTexture("gems/row.png");this.stoneType="BREAKER"};h["game.gems.Breaker"]=
ld;ld.__name__="game.gems.Breaker";ld.__super__=jb;ld.prototype=m(jb.prototype,{plopp:function(a){null!=this.group&&1<this.group.data.length&&(this.score=0);jb.prototype.plopp.call(this,a);var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=.5*this.resultWidth;b.y=.5*this.resultWidth;var c=b;c.multiplyMatrix(this.resultMatrix);if(a!=this||!this.checkGroupEffect())if(ka.get_instance().trackStats("plopped_special",{type:"breaker"},1),Y.get_instance().play("sound/bee.ogg",0,1,1),this.horizontal){b=n.sTempV2D[++n.sTempV2DIdx%
n.sTempV2DLen];b.x=1700;b.y=0;a=v.sScale;b.x*=a;b.y*=a;a=b;b=Z.sInstance;var d=-1,e=-1,g=45,k=45;null==k&&(k=0);null==g&&(g=0);null==e&&(e=0);null==d&&(d=-1);b.addParticle(b.mVertexBuffer,"gems/row.png",c,1,a,n.ZERO,.06,.06,d,e,g,k,0);b=Z.sInstance;a.x*=-1;a.y*=-1;e=d=-1;k=g=225;null==k&&(k=0);null==g&&(g=0);null==e&&(e=0);null==d&&(d=-1);b.addParticle(b.mVertexBuffer,"gems/row.png",c,1,a,n.ZERO,.06,.06,d,e,g,k,0);c=1;for(b=v.COLUMNS;c<b;)a=c++,d=this.column+a,d<v.COLUMNS&&this.get_playField().addCommand(.05*
a,new Ga(d,this.row,this)),d=this.column-a,0<=d&&this.get_playField().addCommand(.05*a,new Ga(d,this.row,this))}else for(b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],b.x=0,b.y=1700,a=v.sScale,b.x*=a,b.y*=a,a=b,b=Z.sInstance,e=d=-1,k=g=-45,null==k&&(k=0),null==g&&(g=0),null==e&&(e=0),null==d&&(d=-1),b.addParticle(b.mVertexBuffer,"gems/row.png",c,1,a,n.ZERO,.06,.06,d,e,g,k,0),b=Z.sInstance,a.x*=-1,a.y*=-1,e=d=-1,k=g=135,null==k&&(k=0),null==g&&(g=0),null==e&&(e=0),null==d&&(d=-1),b.addParticle(b.mVertexBuffer,
"gems/row.png",c,1,a,n.ZERO,.06,.06,d,e,g,k,0),c=1,b=v.ROWS;c<b;)a=c++,d=this.row+a,d<v.ROWS&&this.get_playField().addCommand(.05*a,new Ga(this.column,d,this)),d=this.row-a,0<=d&&this.get_playField().addCommand(.05*a,new Ga(this.column,d,this))},__class__:ld});var $f=function(){this.idx=0;fb.call(this,"tChameleon");this.stoneType="CHAMELEON";this.updateGemType();this.registerXEventListener(v.get_instance(),"USER_ACTION",l(this,this.onUserAction))};h["game.gems.Chameleon"]=$f;$f.__name__="game.gems.Chameleon";
$f.__super__=fb;$f.prototype=m(fb.prototype,{forcePloop:function(a){this.plopp(a)},plopp:function(a){a=this.getMiddle();var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250;var c=v.sScale;b.x*=c;b.y*=c;var d=b;Y.get_instance().playUnique("sound/Chameleon_pick.mp3",0,1,1);b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];for(var e=v.get_instance().task.allowedGemTypes.length,g=0;15>g;){g++;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=450;b.y*=450;c=v.sScale;b.x*=c;b.y*=c;c=R.getIcon(v.get_instance().task.allowedGemTypes[this.idx%
e]);var k=Z.sInstance,q=1+.5*Math.random(),t=.03+.02*Math.random(),f=-1,p=-1,h=4*(360*Math.random()-720),m=4*(360*Math.random()-720);null==m&&(m=0);null==h&&(h=0);null==p&&(p=0);null==f&&(f=-1);k.addParticle(k.mVertexBuffer,c,a,q,b,d,t,0,f,p,h,m,0)}fb.prototype.plopp.call(this)},onUserAction:function(a){++this.idx;this.updateGemType()},updateGemType:function(){this.gemType=this.get_playField().task.allowedGemTypes[this.idx%this.get_playField().task.allowedGemTypes.length];this.updateDisplay()},updateDisplay:function(){var a=
this;this.startColor=this.find("uiImgMask").color;this.endColor=R.getStoneColor(this.gemType);Ad.create(.7,function(b){var c=a.startColor,d=a.endColor,k=1-b,q=O.toFloat(c>>>24&255)*k+O.toFloat(d>>>24&255)*b|0,t=O.toFloat(c>>>16&255)*k+O.toFloat(d>>>16&255)*b|0,n=O.toFloat(c>>>8&255)*k+O.toFloat(d>>>8&255)*b|0;b=O.toFloat(c&255)*k+O.toFloat(d&255)*b|0;q=(q<<24)+(t<<16)+(n<<8)+b;c=a.find("uiImgMask");if(null!=c){t=O.toFloat(q>>>16&255)/255;n=O.toFloat(q>>>8&255)/255;b=O.toFloat(q&255)/255;if(t!=c.colorR||
n!=c.colorG||b!=c.colorB)c.colorR!=t&&c.invalidate(),c.colorR=t,c.colorG!=n&&c.invalidate(),c.colorG=n,c.colorB!=b&&c.invalidate(),c.colorB=b,c.invalidate();c.color=q}},this);var b=R.getIcon(this.gemType),c=this.find("uiImgTypeIcon");null!=c&&c instanceof C&&c.set_image(b)},__class__:$f});var ag=function(){this.mIgnoreFirst=!0;this.mOpen=!1;R.call(this,"tChest");this.fixed=!0;Z.sInstance.atlas.getTexture("gems/chest_open.png");this.ploppOnInteraction=!0;this.stoneType="CHEST"};h["game.gems.Chest"]=
ag;ag.__name__="game.gems.Chest";ag.__super__=R;ag.prototype=m(R.prototype,{plopp:function(a){if(this.mOpen){a=this.getMiddle();var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250;var c=v.sScale;b.x*=c;b.y*=c;var d=b;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];v.get_instance();for(var e=0;15>e;){e++;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=450;b.y*=450;c=v.sScale;b.x*=c;b.y*=c;c=Z.sInstance;var g=1+.5*Math.random(),k=.03+.02*Math.random(),q=-1,t=-1,f=4*(360*Math.random()-720),p=
4*(360*Math.random()-720);null==p&&(p=0);null==f&&(f=0);null==t&&(t=0);null==q&&(q=-1);c.addParticle(c.mVertexBuffer,"gems/chest_open.png",a,g,b,d,k,0,q,t,f,p,0)}R.prototype.plopp.call(this)}else this.mIgnoreFirst=this.mOpen=!0,this.addAnimation(new Yb),a=this.find("uiImgIcon"),null!=a&&a instanceof C&&a.set_image("gems/chest_open.png"),Y.get_instance().playUnique("sound/Flower_open01.mp3",0,1,1),this.registerXEventListener(v.get_instance(),"USER_ACTION",l(this,this.onUserAction))},onUserAction:function(a){this.mOpen&&
!this.mIgnoreFirst&&(this.addAnimation(new Yb),a=this.find("uiImgIcon"),null!=a&&a instanceof C&&a.set_image("gems/chest.png"),this.mOpen=!1,Y.get_instance().playUnique("sound/Flower_close01.mp3",0,1,1),this.releaseXEventListener(v.get_instance(),"USER_ACTION",l(this,this.onUserAction)));this.mIgnoreFirst&&(this.mIgnoreFirst=!1)},__class__:ag});var zb=function(a,b,c){this.mProduceOnNextAction=!1;R.call(this,a);this.stoneType=b;this.productType=c;this.ploppOnInteraction=!0;c=this.get_playField().task.getOrCreateTask(this.productType);
null!=c&&(a=zb.sProductAmount,b=this.productType,c=c.get_amount(),a.h[b]=c);this.registerXEventListener(zb.sProductDispatcher,"Producer::PRODUCTION",l(this,this.onProduction));this.registerXEventListener(this.get_playField(),"USER_ACTION",l(this,this.onUserAction))};h["game.gems.Producer"]=zb;zb.__name__="game.gems.Producer";zb.__super__=R;zb.prototype=m(R.prototype,{onUserAction:function(a){this.mProduceOnNextAction&&0<zb.sProductAmount.h[this.productType]&&(this.produce(),this.mProduceOnNextAction=
!1)},onProduction:function(a){},plopp:function(a){0<zb.sProductAmount.h[this.productType]?(this.addAnimation(new Yb),a=this.get_playField().task,a.set_score(a.score+this.score),this.mProduceOnNextAction=!0):this.addAnimation(new Zb)},produce:function(){--zb.sProductAmount.h[this.productType];zb.sProductDispatcher.dispatchSimpleXEvent("Producer::PRODUCTION")},__class__:zb});var bg=function(){zb.call(this,"tChicken","CHICKEN","CRACKLING");Z.sInstance.atlas.getTexture("particles/feather.png");this.fixed=
!0};h["game.gems.Chicken"]=bg;bg.__name__="game.gems.Chicken";bg.__super__=zb;bg.prototype=m(zb.prototype,{onProduction:function(a){a=0>=zb.sProductAmount.h[this.productType];var b=this.find("uiImgChickenEye");null!=b&&b.set_visible(a)},produce:function(){var a=this;this.get_playField().addCommand(.05,new Mc(this),!0);Y.get_instance().playUnique("sound/chicken.mp3",0,1,1);var b=this.getMiddle(),c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=0;c.y=250;var d=v.sScale;c.x*=d;c.y*=d;var e=c;c=n.sTempV2D[++n.sTempV2DIdx%
n.sTempV2DLen];for(var g=0;10>g;){g++;c.x=2*Math.random()-1;c.y=2*Math.random()-1;c.x*=250;c.y*=250;d=v.sScale;c.x*=d;c.y*=d;c.y-=200;d=Z.sInstance;var k=1+.5*Math.random(),q=-1,t=16777215,f=360*Math.random()-720,p=360*Math.random()-720,h=1440*Math.random();null==h&&(h=0);null==p&&(p=0);null==f&&(f=0);null==t&&(t=0);null==q&&(q=-1);d.addParticle(d.mVertexBuffer,"particles/feather.png",b,k,c,e,.05,.05,q,t,f,p,h)}b=this.find("uiImgChickenHead");null!=b&&b.set_visible(!0);this.register(Pb.delay(function(){var b=
a.find("uiImgChickenHead");null!=b&&b.set_visible(!1)},1E3));zb.prototype.produce.call(this)},__class__:bg});var cg=function(a){null==a&&(a=2);this.mCount=0;R.call(this,"tCoconut");this.mCount=a;1==this.mCount&&(a=this.find("uiImgIcon"),null!=a&&a instanceof C&&a.set_image("gems/coconut_02.png"));Z.sInstance.atlas.getTexture("particles/coconut.png");this.stoneType="COCONUT";this.fixed=!0};h["game.gems.Coconut"]=cg;cg.__name__="game.gems.Coconut";cg.__super__=R;cg.prototype=m(R.prototype,{interact:function(a){null!=
a&&(1<this.mCount?a instanceof jb?this.plopp():a instanceof rb&&this.addAnimation(new Zb):this.plopp(a));return R.prototype.interact.call(this,a)},plopp:function(a){a=this.getMiddle();var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250;var c=b;b=v.sScale;c.x*=b;c.y*=b;var d=c;c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=2*Math.random()-1;c.y=2*Math.random()-1;b=c;b.x*=550;b.y*=550;c=b;b=v.sScale;c.x*=b;c.y*=b;b=Z.sInstance;var e=1+.5*Math.random(),g=.06+.02*Math.random(),k=-1,q=-1,t=
360*Math.random()-720,f=360*Math.random()-720;null==f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=-1);b.addParticle(b.mVertexBuffer,"particles/coconut.png",a,e,c,d,g,.06,k,q,t,f,0);c.x=2*Math.random()-1;c.y=2*Math.random()-1;b=c;b.x*=550;b.y*=550;c=b;b=v.sScale;c.x*=b;c.y*=b;b=Z.sInstance;e=1+.5*Math.random();g=.06+.02*Math.random();q=k=-1;t=360*Math.random()-720;f=360*Math.random()-720;null==f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=-1);b.addParticle(b.mVertexBuffer,"particles/coconut.png",
a,e,c,d,g,.06,k,q,t,f,0);c.x=2*Math.random()-1;c.y=2*Math.random()-1;b=c;b.x*=550;b.y*=550;c=b;b=v.sScale;c.x*=b;c.y*=b;b=Z.sInstance;e=1+.5*Math.random();g=.06+.02*Math.random();q=k=-1;t=360*Math.random()-720;f=360*Math.random()-720;null==f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=-1);b.addParticle(b.mVertexBuffer,"particles/coconut.png",a,e,c,d,g,.06,k,q,t,f,0);c.x=2*Math.random()-1;c.y=2*Math.random()-1;b=c;b.x*=550;b.y*=550;c=b;b=v.sScale;c.x*=b;c.y*=b;b=Z.sInstance;e=1+.5*Math.random();
g=.06+.02*Math.random();q=k=-1;t=360*Math.random()-720;f=360*Math.random()-720;null==f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=-1);b.addParticle(b.mVertexBuffer,"particles/coconut.png",a,e,c,d,g,.06,k,q,t,f,0);a=0;d=.7;null==d&&(d=1);null==a&&(a=0);Y.get_instance().playUnique("sound/coconut.mp3",a,d,1);this.addAnimation(new Yb);--this.mCount;1==this.mCount?(a=this.find("uiImgIcon"),null!=a&&a instanceof C&&a.set_image("gems/coconut_02.png"),this.fixed=!1):R.prototype.plopp.call(this)},__class__:cg});
var dg=function(){R.call(this,"tCoin");this.stoneType="COIN";this.ploppOnInteraction=!0;Z.sInstance.atlas.getTexture("gems/coin.png")};h["game.gems.Coin"]=dg;dg.__name__="game.gems.Coin";dg.__super__=R;dg.prototype=m(R.prototype,{plopp:function(a){R.prototype.plopp.call(this,a);Y.get_instance().play("sound/coin.mp3",0,1,1);var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=.5*this.resultWidth;b.y=.5*this.resultWidth;a=b;a.multiplyMatrix(this.resultMatrix);b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];
b.x=0;b.y=250;var c=b;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];for(var d=0;10>d;){d++;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=250;b.y*=250;var e=v.sScale;b.x*=e;b.y*=e;b.x*=.7;e=Z.sInstance;var g=1+.5*Math.random(),k=.03+.02*Math.random(),q=-1,t=-1,f=4*(360*Math.random()-720),p=4*(360*Math.random()-720);null==p&&(p=0);null==f&&(f=0);null==t&&(t=0);null==q&&(q=-1);e.addParticle(e.mVertexBuffer,"gems/coin.png",a,g,b,c,k,0,q,t,f,p,0)}},__class__:dg});var eg=function(){R.call(this,"tCoins");
this.ploppOnInteraction=this.fixed=!0;this.stoneType="COINS"};h["game.gems.Coins"]=eg;eg.__name__="game.gems.Coins";eg.__super__=R;eg.prototype=m(R.prototype,{plopp:function(a){this.addAnimation(new Zb);a=this.get_playField().task;a.set_score(a.score+this.score);Y.get_instance().play("sound/coin.mp3",0,1,1);v.get_instance().finishAnimation(this,"COIN")},__class__:eg});var ad=function(a){fb.call(this,"tColorBox");this.gemType=a;this.stoneType="COLOR_BOX";a=R.getIcon(this.gemType);var b=this.find("uiImgGem");
null!=b&&b instanceof C&&b.set_image(a);a=R.getStoneColor(this.gemType);b=this.find("uiImgBg");if(null!=b){var c=O.toFloat(a>>>16&255)/255,d=O.toFloat(a>>>8&255)/255,e=O.toFloat(a&255)/255;if(c!=b.colorR||d!=b.colorG||e!=b.colorB)b.colorR!=c&&b.invalidate(),b.colorR=c,b.colorG!=d&&b.invalidate(),b.colorG=d,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=a}Z.sInstance.atlas.getTexture("gems/box2.png")};h["game.gems.ColorBox"]=ad;ad.__name__="game.gems.ColorBox";ad.__super__=fb;ad.prototype=
m(fb.prototype,{plopp:function(a){fb.prototype.plopp.call(this,a);var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=.5*this.resultWidth;b.y=.5*this.resultWidth;a=b;a.multiplyMatrix(this.resultMatrix);b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250;var c=b;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];for(var d=0;10>d;){d++;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=250;b.y*=250;var e=v.sScale;b.x*=e;b.y*=e;b.x*=.7;e=Z.sInstance;var g=1+.5*Math.random(),k=.03+.02*Math.random(),q=-1,
t=-1,f=4*(360*Math.random()-720),p=4*(360*Math.random()-720);null==p&&(p=0);null==f&&(f=0);null==t&&(t=0);null==q&&(q=-1);e.addParticle(e.mVertexBuffer,"gems/box2.png",a,g,b,c,k,0,q,t,f,p,0)}},__class__:ad});var fg=function(){fb.call(this,"tColorEgg");Z.sInstance.atlas.getTexture("gems/egg_white.png");this.stoneType="COLOR_EGG"};h["game.gems.ColorEgg"]=fg;fg.__name__="game.gems.ColorEgg";fg.__super__=fb;fg.prototype=m(fb.prototype,{plopp:function(a){if("UNDEFINED"==this.gemType){this.gemType=this.get_playField().task.allowedGemTypes[M.random(this.get_playField().task.allowedGemTypes.length)];
a=R.getIcon(this.gemType);var b=this.find("uiImgGem");null!=b&&b instanceof C&&b.set_image(a);b=this.find("uiImgGem");null!=b&&b.set_visible(!0);a=R.getStoneColor(this.gemType);b=this.find("uiImgBg");if(null!=b){var c=O.toFloat(a>>>16&255)/255,d=O.toFloat(a>>>8&255)/255,e=O.toFloat(a&255)/255;if(c!=b.colorR||d!=b.colorG||e!=b.colorB)b.colorR!=c&&b.invalidate(),b.colorR=c,b.colorG!=d&&b.invalidate(),b.colorG=d,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=a}b=this.find("uiImgBg");null!=
b&&b instanceof C&&b.set_image("gems/egg_white.png")}else{var g=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];g.x=.5*this.resultWidth;g.y=.5*this.resultWidth;b=g;b.multiplyMatrix(this.resultMatrix);g=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];g.x=0;g.y=250;c=g;g=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];e=-16777216|R.getStoneColor(this.gemType);for(d=0;10>d;){d++;g.x=2*Math.random()-1;g.y=2*Math.random()-1;g.x*=250;g.y*=250;var k=v.sScale;g.x*=k;g.y*=k;g.x*=.7;k=Z.sInstance;var q=1+.5*Math.random(),t=
.03+.02*Math.random(),f=e,p=e,h=4*(360*Math.random()-720),m=4*(360*Math.random()-720);null==m&&(m=0);null==h&&(h=0);null==p&&(p=0);null==f&&(f=-1);k.addParticle(k.mVertexBuffer,"gems/egg_white.png",b,q,g,c,t,0,f,p,h,m,0)}Y.get_instance().playUnique("sound/Egg_collect01.mp3",0,1,1);fb.prototype.plopp.call(this,a)}},interact:function(a){var b=fb.prototype.interact.call(this,a);if("UNDEFINED"==this.gemType&&a.gem){this.gemType=a.stoneType;a=R.getIcon(this.gemType);var c=this.find("uiImgGem");null!=c&&
c instanceof C&&c.set_image(a);c=this.find("uiImgGem");null!=c&&c.set_visible(!0);a=R.getStoneColor(this.gemType);c=this.find("uiImgBg");if(null!=c){var d=O.toFloat(a>>>16&255)/255,e=O.toFloat(a>>>8&255)/255,g=O.toFloat(a&255)/255;if(d!=c.colorR||e!=c.colorG||g!=c.colorB)c.colorR!=d&&c.invalidate(),c.colorR=d,c.colorG!=e&&c.invalidate(),c.colorG=e,c.colorB!=g&&c.invalidate(),c.colorB=g,c.invalidate();c.color=a}}return b},__class__:fg});var de=function(a){null==a&&(a=0);this.mCount=0;R.call(this,"tCrackling");
this.mCount=a;1==this.mCount&&(a=this.find("uiImgIcon"),null!=a&&a instanceof C&&a.set_image("gems/crackling2.png"));Z.sInstance.atlas.getTexture("gems/crackling1.png");this.stoneType="CRACKLING";this.ploppOnInteraction=!0};h["game.gems.Crackling"]=de;de.__name__="game.gems.Crackling";de.__super__=R;de.prototype=m(R.prototype,{plopp:function(a){a=this.getMiddle();var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250;var c=v.sScale;b.x*=c;b.y*=c;var d=b;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];
for(var e=0,g=4*this.mCount+4;e<g;){e++;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=450;b.y*=450;c=v.sScale;b.x*=c;b.y*=c;c=Z.sInstance;var k=1+.5*Math.random(),q=.03+.02*Math.random(),t=-1,f=-1,p=360*Math.random()-720,h=360*Math.random()-720;null==h&&(h=0);null==p&&(p=0);null==f&&(f=0);null==t&&(t=-1);c.addParticle(c.mVertexBuffer,"gems/crackling1.png",a,k,b,d,q,0,t,f,p,h,0)}a=0;d=.7;null==d&&(d=1);null==a&&(a=0);Y.get_instance().playUnique("sound/crack.mp3",a,d,1);this.addAnimation(new Yb);
++this.mCount;1==this.mCount?(a=this.find("uiImgIcon"),null!=a&&a instanceof C&&a.set_image("gems/crackling2.png")):R.prototype.plopp.call(this)},__class__:de});var gg=function(){zb.call(this,"tDung","DUNG","FLIES");this.fixed=!0};h["game.gems.Dung"]=gg;gg.__name__="game.gems.Dung";gg.__super__=zb;gg.prototype=m(zb.prototype,{produce:function(){this.get_playField().addCommand(.1,new Nc(this));Y.get_instance().playUnique("sound/Flies_loop_start.mp3",0,1,1);zb.prototype.produce.call(this)},__class__:gg});
var Sa=function(a){this.mHitList=[];this.size=2;R.call(this,a)};h["game.gems.FatStone"]=Sa;Sa.__name__="game.gems.FatStone";Sa.__super__=R;Sa.prototype=m(R.prototype,{fatHitOk:function(a){return null==a?!0:-1==this.mHitList.indexOf(a)?(this.mHitList.push(a),!0):!1},fall:function(a){null==a&&(a=!1);if(!this.fixed||this.row>=v.ROWS){var b=this.row,c=1E3;if(this.fixed)c=this.row-v.ROWS;else for(;0<b&&this.checkFree(this.column,b-1,this.size);)--b,this.checkSpace(this.column,b,this.size)&&(c=b);c<this.row&&
(a||(a=this.animationStart,a.x=this.x,a.y=this.y,a=this.animationTarget,a.x=this.column*v.STONE_SIZE,a.y=-c*v.STONE_SIZE,this.state=$a.FALLING,this.mAnimationStart=H.timer,this.duration=.3),this.setStone(this.column,this.row,null),this.setStone(this.column,c,this),this.setPos(this.column,c))}},checkSpace:function(a,b,c){for(var d=0;d<c;)for(var e=d++,g=0,k=c;g<k;){var q=g++;if(!this.get_playField().getField(a+e,b+q))return!1}return!0},checkFree:function(a,b,c){for(var d=0;d<c;){var e=d++;if(null!=
this.get_playField().getStone(a+e,b))return!1}return!0},setStone:function(a,b,c){for(var d=0,e=this.size;d<e;)for(var g=d++,k=0,q=this.size;k<q;){var t=k++;this.get_playField().setStone(a+g,b+t,c)}},dispose:function(){this.mHitList=null;R.prototype.dispose.call(this)},__class__:Sa});var hg=function(){this.mCount=6;Sa.call(this,"tDungPile");this.fixed=!0;this.stoneType="DUNG_PILE";this.ploppOnInteraction=!0};h["game.gems.DungPile"]=hg;hg.__name__="game.gems.DungPile";hg.__super__=Sa;hg.prototype=m(Sa.prototype,
{plopp:function(a){if(this.fatHitOk(a)){--this.mCount;for(var b=this.getMiddle(),c=n.ZERO,d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],e=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],g=0;15>g;){g++;e.x=2*Math.random()-1;e.y=2*Math.random()-1;var k=1/Math.sqrt(e.x*e.x+e.y*e.y);e.x*=k;e.y*=k;k=100*v.sScale;e.x*=k;e.y*=k;d.x=b.x;d.y=b.y;d.w=b.w;k=d;k.x+=10.5*e.x;k.y+=10.5*e.y;k=Z.sInstance;var q=2+.5*Math.random(),t=-2987746,f=13789471,p=0,h=0;null==h&&(h=0);null==p&&(p=0);null==f&&(f=0);null==t&&(t=-1);
k.addParticle(k.mVertexBuffer,"particles/smelly.png",b,q,e,c,.05,.15,t,f,p,h,0)}g=this.get_playField().context.getTemplate("tFly").createInstance();b=170*(Math.random()-.5);g.x!=b&&g.invalidate();g.x=b;b=170*(Math.random()-.5);g.y!=b&&g.invalidate();g.y=b;b=.5>Math.random()?1:-1;g.scaleX!=b&&g.invalidate();g.scaleX=b;g.addAnimation(new zd(3,10,Math.random()));this.find("uiImgIcon").addChild(g);g=this.get_playField().context.getTemplate("tFly").createInstance();b=170*(Math.random()-.5);g.x!=b&&g.invalidate();
g.x=b;b=170*(Math.random()-.5);g.y!=b&&g.invalidate();g.y=b;b=.5>Math.random()?1:-1;g.scaleX!=b&&g.invalidate();g.scaleX=b;g.addAnimation(new zd(3,10,Math.random()));this.find("uiImgIcon").addChild(g);if(0==this.mCount)for(Sa.prototype.plopp.call(this,a),g="sound/dungpile0"+(M.random(2)+1)+".mp3",Y.get_instance().play(g,0,1,1),this.get_playField().shake(),b=0,g=this.row-1,c=this.row+3;g<c;)for(a=g++,d=this.column-1,e=this.column+3;d<e;)k=d++,0<=a&&a<v.ROWS&&0<=k&&k<v.COLUMNS&&null==Da.getOverlay(k,
a)&&(++b,v.get_instance().addCommand(.1,new Ld(k,a,"FLIES",!0)));else 0<this.mCount&&(g="sound/dungpile0"+(M.random(2)+1)+".mp3",a=0,b=.7,null==b&&(b=1),null==a&&(a=0),Y.get_instance().play(g,a,b,1),this.blubb())}},__class__:hg});var uf=function(a,b,c){this.mAnimationStart=0;this.middle=new n(0,0);this.animationTarget=new n(0,0);this.animationStart=new n(0,0);this.duration=1.5;C.call(this);100!=this.height&&this.invalidate();var d=null;this.relativeHeight!=d&&this.invalidate();this.relativeHeight=
d;d=this.height=100;this.width!=d&&this.invalidate();null!=this.relativeWidth&&this.invalidate();this.relativeWidth=null;this.width=d;this.set_image("gems/crackling1.png");this.duration=a;a=this.animationStart;a.x=b.x;a.y=b.y;a.w=b.w;a=this.animationTarget;a.x=c.x;a.y=c.y;a.w=c.w;a=this.middle;a.x=B.SCREEN_WIDTH/2;a.y=B.SCREEN_HEIGHT/2;this.mAnimationStart=H.timer};h["game.gems.EggAnimation"]=uf;uf.__name__="game.gems.EggAnimation";uf.__super__=C;uf.prototype=m(C.prototype,{update:function(){var a=
ma.fClamp((H.timer-this.mAnimationStart)/this.duration,0,1),b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];n.BEZIER(b,this.animationStart,this.middle,this.animationTarget,a);n.BEZIER(c,this.animationStart,this.middle,this.animationTarget,a+.01);var d=b.x-50;this.x!=d&&this.invalidate();this.x=d;d=b.y-50;this.y!=d&&this.invalidate();this.y=d;d=1.5+.3*Math.pow(Math.sin(a*Math.PI),2);this.scale!=d&&this.invalidate();this.scale=d;c.x-=b.x;c.y-=b.y;C.prototype.update.call(this);
1<=a&&this.dispose()},dispose:function(){this.animationTarget=this.animationStart=null;C.prototype.dispose.call(this)},__class__:uf});var ig=function(){this.mFloored=!1;Sa.call(this,"tFatAnvil");this.destroyable=!1;Z.sInstance.atlas.getTexture("gems/anvil.png");this.stoneType="FAT_ANVIL"};h["game.gems.FatAnvil"]=ig;ig.__name__="game.gems.FatAnvil";ig.__super__=Sa;ig.prototype=m(Sa.prototype,{inPlace:function(){0!=this.row||this.mFloored||(this.addAnimation(new Te),this.mFloored=!0,this.get_playField().addCommand(1,
new zc(this)))},plopp:function(a){if(this.mFloored){Sa.prototype.plopp.call(this,a);Y.get_instance().playUnique("sound/anvil.mp3",0,1,1);this.get_playField().shake();a=this.getMiddle();var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250;var c=v.sScale;b.x*=c;b.y*=c;var d=b;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];for(var e=0;30>e;){e++;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=750;b.y*=750;c=v.sScale;b.x*=c;b.y*=c;b.y-=200;c=Z.sInstance;var g=1+.5*Math.random(),k=.05+.02*Math.random(),
q=-1,t=-1,f=4*(360*Math.random()-720),p=4*(360*Math.random()-720);null==p&&(p=0);null==f&&(f=0);null==t&&(t=0);null==q&&(q=-1);c.addParticle(c.mVertexBuffer,"gems/anvil.png",a,g,b,d,k,0,q,t,f,p,0)}}},__class__:ig});var jg=function(){this.mCount=8;Sa.call(this,"tFatMulti");this.fixed=!0;this.stoneType="FAT_MULTI";this.ploppOnInteraction=!0;Z.sInstance.atlas.getTexture("particles/banana.png")};h["game.gems.FatMulti"]=jg;jg.__name__="game.gems.FatMulti";jg.__super__=Sa;jg.prototype=m(Sa.prototype,{plopp:function(a){if(this.fatHitOk(a)){--this.mCount;
var b=this.getMiddle(),c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=0;c.y=250;var d=c,e=v.sScale;d.x*=e;d.y*=e;var g=d,k=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];d=this.find("uiImgItem"+this.mCount);null!=d&&d.set_visible(!1);if(0==this.mCount)for(Sa.prototype.plopp.call(this,a),a="sound/Basket_impact0"+(M.random(3)+1)+".mp3",Y.get_instance().play(a,0,1,1),this.get_playField().shake(),a=0;10>a;){a++;k.x=2*Math.random()-1;k.y=2*Math.random()-1;c=k;c.x*=750;c.y*=750;d=c;e=v.sScale;d.x*=e;d.y*=e;
k=d;k.y-=200;c=Z.sInstance;d=2+.5*Math.random();var q=.1+.02*Math.random();e=-1;var t=16777215,f=4*(360*Math.random()-720),p=2*(360*Math.random()-720);null==p&&(p=0);null==f&&(f=0);null==t&&(t=0);null==e&&(e=-1);c.addParticle(c.mVertexBuffer,"particles/banana.png",b,d,k,g,q,.1,e,t,f,p,0)}else 0<this.mCount&&(this.blubb(),k.x=.5>Math.random()?-.5:.5,k.y=-.5,c=k,c.x*=450,c.y*=450,d=c,e=v.sScale,d.x*=e,d.y*=e,c=Z.sInstance,d=1+.5*Math.random(),e=-1,t=16777215,f=4*(360*Math.random()-720),p=360*Math.random()-
720,null==p&&(p=0),null==f&&(f=0),null==t&&(t=0),null==e&&(e=-1),c.addParticle(c.mVertexBuffer,"particles/banana.png",b,d,k,g,.08,.08,e,t,f,p,0))}},__class__:jg});var kg=function(){this.mCount=9;Sa.call(this,"tFatMulti2");this.fixed=!0;Z.sInstance.atlas.getTexture("gems/basket.png");Z.sInstance.atlas.getTexture("particles/egg.png");this.stoneType="FAT_MULTI2";this.ploppOnInteraction=!0};h["game.gems.FatMulti2"]=kg;kg.__name__="game.gems.FatMulti2";kg.__super__=Sa;kg.prototype=m(Sa.prototype,{plopp:function(a){if(this.fatHitOk(a)){--this.mCount;
var b=this.getMiddle(),c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=0;c.y=250;var d=c,e=v.sScale;d.x*=e;d.y*=e;var g=d,k=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];d=this.find("uiImgEgg"+this.mCount);null!=d&&d.set_visible(!1);if(0==this.mCount)for(Sa.prototype.plopp.call(this,a),Y.get_instance().play("sound/crack.mp3",0,1,1),this.get_playField().shake(),a=0;5>a;){a++;k.x=2*Math.random()-1;k.y=2*Math.random()-1;c=k;c.x*=750;c.y*=750;d=c;e=v.sScale;d.x*=e;d.y*=e;k=d;k.y-=200;c=Z.sInstance;d=2+.5*
Math.random();var q=.1+.02*Math.random();e=-1;var t=16777215,f=4*(360*Math.random()-720),p=4*(360*Math.random()-720);null==p&&(p=0);null==f&&(f=0);null==t&&(t=0);null==e&&(e=-1);c.addParticle(c.mVertexBuffer,"gems/basket.png",b,d,k,g,q,.1,e,t,f,p,0)}else 0<this.mCount&&(this.blubb(),k.x=.5>Math.random()?-.5:.5,k.y=-.5,c=k,c.x*=450,c.y*=450,d=c,e=v.sScale,d.x*=e,d.y*=e,c=Z.sInstance,d=1+.5*Math.random(),e=-1,t=16777215,f=4*(360*Math.random()-720),p=4*(360*Math.random()-720),null==p&&(p=0),null==f&&
(f=0),null==t&&(t=0),null==e&&(e=-1),c.addParticle(c.mVertexBuffer,"particles/egg.png",b,d,k,g,.1,.1,e,t,f,p,0))}},__class__:kg});var ud=function(a){null==a&&(a="tFatMultiColor");this.gemType="UNDEFINED";this.idx=0;this.mCount=9;Sa.call(this,a);this.fixed=!0;Z.sInstance.atlas.getTexture("gems/basket.png");Z.sInstance.atlas.getTexture("gems/egg.png");this.stoneType="FAT_MULTI_COLOR";this.idx=M.random(this.get_playField().task.allowedGemTypes.length);475==this.get_playField().level&&(this.idx=this.get_playField().task.allowedGemTypes.indexOf("GEM_PURPLE"));
this.updateGemType()};h["game.gems.FatMultiColor"]=ud;ud.__name__="game.gems.FatMultiColor";ud.__super__=Sa;ud.prototype=m(Sa.prototype,{updateGemType:function(){this.gemType=this.get_playField().task.allowedGemTypes[this.idx%this.get_playField().task.allowedGemTypes.length];this.updateDisplay()},updateDisplay:function(){var a=this;this.startColor=this.find("uiEggs").color;this.endColor=R.getStoneColor(this.gemType);Ad.create(.7,function(b){var c=a.startColor,d=a.endColor,k=1-b,q=O.toFloat(c>>>24&
255)*k+O.toFloat(d>>>24&255)*b|0,t=O.toFloat(c>>>16&255)*k+O.toFloat(d>>>16&255)*b|0,n=O.toFloat(c>>>8&255)*k+O.toFloat(d>>>8&255)*b|0;b=O.toFloat(c&255)*k+O.toFloat(d&255)*b|0;q=(q<<24)+(t<<16)+(n<<8)+b;c=a.find("uiEggs");if(null!=c){t=O.toFloat(q>>>16&255)/255;n=O.toFloat(q>>>8&255)/255;b=O.toFloat(q&255)/255;if(t!=c.colorR||n!=c.colorG||b!=c.colorB)c.colorR!=t&&c.invalidate(),c.colorR=t,c.colorG!=n&&c.invalidate(),c.colorG=n,c.colorB!=b&&c.invalidate(),c.colorB=b,c.invalidate();c.color=q}},this);
var b=R.getIcon(this.gemType),c=this.find("uiImgTypeIcon");null!=c&&c instanceof C&&c.set_image(b)},interact:function(a){null!=a&&a.gem&&(a.stoneType==this.gemType?this.plopp():this.addAnimation(new Zb));return Sa.prototype.interact.call(this,a)},plopp:function(a){if(this.fatHitOk(a)){--this.mCount;var b=this.getMiddle(),c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=0;c.y=250;var d=c,e=v.sScale;d.x*=e;d.y*=e;var g=d,k=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];d=this.find("uiImgEgg"+this.mCount);
null!=d&&d.set_visible(!1);if(0==this.mCount)for(Sa.prototype.plopp.call(this,a),Y.get_instance().play("sound/crack.mp3",0,1,1),this.get_playField().shake(),a=0;10>a;){a++;k.x=2*Math.random()-1;k.y=2*Math.random()-1;c=k;c.x*=750;c.y*=750;d=c;e=v.sScale;d.x*=e;d.y*=e;k=d;k.y-=200;c=Z.sInstance;d=2+.5*Math.random();var q=.1+.02*Math.random();e=-1;var t=16777215,f=4*(360*Math.random()-720),p=4*(360*Math.random()-720);null==p&&(p=0);null==f&&(f=0);null==t&&(t=0);null==e&&(e=-1);c.addParticle(c.mVertexBuffer,
"gems/basket.png",b,d,k,g,q,.1,e,t,f,p,0)}else 0<this.mCount&&(this.blubb(),k.x=.5>Math.random()?-.5:.5,k.y=-.5,c=k,c.x*=450,c.y*=450,d=c,e=v.sScale,d.x*=e,d.y*=e,c=Z.sInstance,d=1+.5*Math.random(),e=-1,t=16777215,f=4*(360*Math.random()-720),p=4*(360*Math.random()-720),null==p&&(p=0),null==f&&(f=0),null==t&&(t=0),null==e&&(e=-1),c.addParticle(c.mVertexBuffer,"gems/egg.png",b,d,k,g,.1,.1,e,t,f,p,0))}},__class__:ud});var lg=function(){ud.call(this,"tFatMultiColorTwister");this.stoneType="FAT_MULTI_COLOR_TWISTER";
this.registerXEventListener(v.get_instance(),"USER_ACTION",l(this,this.onUserAction));490==this.get_playField().level&&(this.idx=this.get_playField().task.allowedGemTypes.indexOf("GEM_BLUE"));this.updateGemType()};h["game.gems.FatMultiColorTwister"]=lg;lg.__name__="game.gems.FatMultiColorTwister";lg.__super__=ud;lg.prototype=m(ud.prototype,{onUserAction:function(a){++this.idx;this.updateGemType()},updateDisplay:function(){ud.prototype.updateDisplay.call(this);var a=R.getIcon(this.get_playField().task.allowedGemTypes[(this.idx+
1)%this.get_playField().task.allowedGemTypes.length]),b=this.find("uiImgTypeIcon2");null!=b&&b instanceof C&&b.set_image(a)},__class__:lg});var mg=function(){R.call(this,"tFertilizer");this.fixed=!0;this.stoneType="FERTILIZER"};h["game.gems.Fertilizer"]=mg;mg.__name__="game.gems.Fertilizer";mg.__super__=R;mg.prototype=m(R.prototype,{interact:function(a){this.plopp(a);return R.prototype.interact.call(this,a)},plopp:function(a){R.prototype.plopp.call(this,a);a="sound/fertilizer0"+(M.random(2)+1)+".mp3";
Y.get_instance().play(a,0,1,1);this.get_playField().shake();a=this.row-1;for(var b=this.row+2;a<b;)for(var c=a++,d=this.column-1,e=this.column+2;d<e;){var g=d++;0<=c&&c<v.ROWS&&0<=g&&g<v.COLUMNS&&null==Da.getOverlay(g,c)&&v.get_instance().addCommand(.1,new Ld(g,c,"LEAF",!0))}},__class__:mg});var Sb=function(a,b){null==b&&(b=0);this.count=1;R.call(this,a);this.touchable=!1;this.mTag=b};h["game.gems.GroupStone"]=Sb;Sb.__name__="game.gems.GroupStone";Sb.__super__=R;Sb.prototype=m(R.prototype,{match:function(a){return R.prototype.match.call(this,
a)?a.mTag==this.mTag:!1},getGroup:function(){for(var a=Sb.stonegroup;0<a.length;)a.pop();this.checkStoneGroupX(this.mTag);return Sb.stonegroup},checkStoneGroupX:function(a){if(this.mTag==a&&-1==Sb.stonegroup.indexOf(this)){Sb.stonegroup.push(this);for(var b=this.getNeightbours(),c=0;c<b.length;){var d=b[c];++c;d.stoneType==this.stoneType&&L.__cast(d,Sb).checkStoneGroupX(a)}}},destroy:function(){this.stoneType="UNDEFINED";R.prototype.plopp.call(this)},__class__:Sb});var Le=function(a){null==a&&(a=
0);Sb.call(this,1==a?"tFish":"tFish2",a);this.stoneType="GROUP_5_HITS_ONE_PLACE";this.fixed=!0;this.count=5;this.ploppOnInteraction=!0;Z.sInstance.atlas.getTexture("gems/fish_scale_01.png");Z.sInstance.atlas.getTexture("gems/fish_scale_02.png")};h["game.gems.Fish"]=Le;Le.__name__="game.gems.Fish";Le.__super__=Sb;Le.prototype=m(Sb.prototype,{plopp:function(a){var b=this,c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=.5*this.resultWidth;c.y=.5*this.resultWidth;a=c;a.multiplyMatrix(this.resultMatrix);
c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=0;c.y=250;var d=c,e=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];if(0>=--this.count){var g=this.getGroup();v.get_instance().finishAnimation(this,this.stoneType);if(0<g.length){var k="sound/fish_finished0"+(M.random(3)+1)+".mp3";Y.get_instance().playUnique(k,0,1,1)}for(;0<g.length;)g.pop().destroy();e.x=2*Math.random()-1;e.y=2*Math.random()-1;c=e;c.x*=450;c.y*=450;k=c;var q=v.sScale;k.x*=q;k.y*=q;e.x*=.7;c=Z.sInstance;g=1==this.mTag?"gems/fish_scale_01.png":
"gems/fish_scale_02.png";k=1+.5*Math.random();q=.05+.02*Math.random();var t=-1,f=16777215,p=2*(360*Math.random()-720),h=2*(360*Math.random()-720),m=760*Math.random();null==m&&(m=0);null==h&&(h=0);null==p&&(p=0);null==f&&(f=0);null==t&&(t=-1);c.addParticle(c.mVertexBuffer,g,a,k,e,d,q,0,t,f,p,h,m);Sb.prototype.plopp.call(this)}else{for(g=0;20>g;)g++,e.x=2*Math.random()-1,e.y=2*Math.random()-1,c=e,c.x*=450,c.y*=450,k=c,q=v.sScale,k.x*=q,k.y*=q,e.x*=.7,c=Z.sInstance,k=1+.5*Math.random(),q=.01+.02*Math.random(),
t=-1,f=16777215,p=2*(360*Math.random()-720),h=2*(360*Math.random()-720),m=760*Math.random(),null==m&&(m=0),null==h&&(h=0),null==p&&(p=0),null==f&&(f=0),null==t&&(t=-1),c.addParticle(c.mVertexBuffer,"particles/starfx.png",a,k,e,d,q,0,t,f,p,h,m);a=this.find("uiImgHead");null!=a&&a.set_visible(!1);a=this.find("uiImgHead2");null!=a&&a.set_visible(!0);this.register(Pb.delay(function(){var a=b.find("uiImgHead");null!=a&&a.set_visible(!0);a=b.find("uiImgHead2");null!=a&&a.set_visible(!1)},1E3));k="sound/fish_scale0"+
(M.random(2)+1)+".mp3";Y.get_instance().playUnique(k,0,1,1);this.setScale(this.count);this.blubb();null!=this.preParticleEmitter&&(this.preParticleEmitter.numParticlesPerSecond=10*(5-this.count))}},setScale:function(a){a=this.findType("uiImgScale"+(a+1),C);if(null!=a){var b=O.toFloat(255)/255,c=O.toFloat(255)/255,d=O.toFloat(255)/255;if(b!=a.colorR||c!=a.colorG||d!=a.colorB)a.colorR!=b&&a.invalidate(),a.colorR=b,a.colorG!=c&&a.invalidate(),a.colorG=c,a.colorB!=d&&a.invalidate(),a.colorB=d,a.invalidate();
a.color=16777215;a.addAnimation(new Pg)}},__class__:Le});var Da=function(a,b){C.call(this);this.column=a;this.row=b;this.key=Da.getKey(this.column,this.row);a=this.column*v.STONE_SIZE;this.x!=a&&this.invalidate();this.x=a;a=-this.row*v.STONE_SIZE;this.y!=a&&this.invalidate();this.y=a;Da.sOverlays.h[this.key]=this;Da.sOverlayContainer.addChild(this)};h["game.gems.Overlay"]=Da;Da.__name__="game.gems.Overlay";Da.staticInit=function(a){Da.sOverlayContainer=a};Da.getKey=function(a,b){return a+100*b};Da.getOverlay=
function(a,b){var c=Da.sOverlays;a=Da.getKey(a,b);return c.h[a]};Da.overlayAction=function(a,b){a=Da.getKey(a,b);b=Da.sOverlays.h[a];null!=b&&(Da.sOverlays.remove(a),b.plopp())};Da.initLevel=function(a){null!=Da.sOverlayContainer&&Da.sOverlayContainer.removeAllChildren();for(var b=0;b<a.length;){var c=a[b];++b;switch(c.stoneType){case "FLIES":new De(c.x,c.y,!1);break;case "HARD_CAGE":v.get_instance().addStone(c.x,c.y,new Pd(v.get_instance().getStone(c.x,c.y),1)).resetAnimation();break;case "HARD_CAGE2":v.get_instance().addStone(c.x,
c.y,new Pd(v.get_instance().getStone(c.x,c.y),2)).resetAnimation();break;case "HARD_CAGE3":v.get_instance().addStone(c.x,c.y,new Pd(v.get_instance().getStone(c.x,c.y),3)).resetAnimation();break;case "HARD_CAGE4":v.get_instance().addStone(c.x,c.y,new Pd(v.get_instance().getStone(c.x,c.y),4)).resetAnimation();break;case "LEAF":new Ee(c.x,c.y,!1);break;case "SNOWFLAKE":new Fe(c.x,c.y,!1);break;case "SOFT_CAGE":new Qg(c.x,c.y)}}};Da.__super__=C;Da.prototype=m(C.prototype,{cacheParticle:function(a){Z.sInstance.atlas.getTexture(a)},
plopp:function(){v.get_instance().task.isTask(this.stoneType)&&v.get_instance().finishAnimation(this,this.stoneType);this.dispose()},interact:function(a){},dispose:function(){C.prototype.dispose.call(this);Da.sOverlays.remove(this.key)},__class__:Da});var De=function(a,b,c){Da.call(this,a,b);c&&v.get_instance().task.getOrCreateTask("FLIES").addAmount(1);this.stoneType="FLIES";this.cacheParticle("gems/fly_icon.png");this.applyTemplate(v.get_instance().context.getTemplate("tFlies"));this.find("uiImgFly01").addAnimation(new zd(3,
10,Math.random()));this.find("uiImgFly02").addAnimation(new zd(3,10,Math.random()));this.find("uiImgFly03").addAnimation(new zd(3,10,Math.random()))};h["game.gems.Flies"]=De;De.__name__="game.gems.Flies";De.__super__=Da;De.prototype=m(Da.prototype,{plopp:function(){var a=this.getMiddle(),b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=150*v.sScale;for(var c=b,d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],e=0;5>e;){e++;d.x=2*Math.random()-1;d.y=2*Math.random()-1;b=d;var g=450*v.sScale;b.x*=g;b.y*=
g;g=.04+.01*Math.random();var k=Z.sInstance,q=1.5+.5*Math.random(),t=-1,f=-1,p=360*Math.random()-720,h=360*Math.random()-720;null==h&&(h=0);null==p&&(p=0);null==f&&(f=0);null==t&&(t=-1);k.addParticle(k.mVertexBuffer,"gems/fly_icon.png",a,q,b,c,g,g,t,f,p,h,0)}Y.get_instance().playUnique("sound/Flies_loop_end.mp3",0,1,1);Da.prototype.plopp.call(this)},__class__:De});var ng=function(a,b){null==b&&(b="tFoodBowl");null==a&&(a=4);this.mCount=this.mMaxCount=0;R.call(this,b);this.mMaxCount=this.mCount=a;
this.ploppOnInteraction=!0;Z.sInstance.atlas.getTexture("particles/food.png");this.stoneType="FOOD_BOWL"};h["game.gems.FoodBowl"]=ng;ng.__name__="game.gems.FoodBowl";ng.__super__=R;ng.prototype=m(R.prototype,{updateDisplay:function(){var a="gems/bowl_"+ma.ndigits(this.mMaxCount+1-this.mCount,2)+".png",b=this.find("uiImgIcon");null!=b&&b instanceof C&&b.set_image(a)},plopp:function(a){0<--this.mCount&&this.updateDisplay();var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=.5*this.resultWidth;b.y=
.5*this.resultWidth;var c=b;c.multiplyMatrix(this.resultMatrix);b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250;var d=b,e=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];this.blubb();Y.get_instance().playUnique("sound/eat.mp3",0,1,1);if(0==this.mCount){for(var g=0;10>g;){g++;e.x=2*Math.random()-1;e.y=2*Math.random()-1;b=e;b.x*=230;b.y*=230;e=v.sScale;b.x*=e;b.y*=e;e=b;b=Z.sInstance;var k=1+.5*Math.random(),q=-1,t=16777215,f=4*(360*Math.random()-720),p=4*(360*Math.random()-720);null==p&&(p=0);
null==f&&(f=0);null==t&&(t=0);null==q&&(q=-1);b.addParticle(b.mVertexBuffer,"particles/food.png",c,k,e,d,.06,.06,q,t,f,p,0)}R.prototype.plopp.call(this,a)}else e.x=2*Math.random()-1,e.y=2*Math.random()-1,b=e,e=230*v.sScale,b.x*=e,b.y*=e,e=b,b=Z.sInstance,k=1+.5*Math.random(),q=-1,t=16777215,f=4*(360*Math.random()-720),p=4*(360*Math.random()-720),null==p&&(p=0),null==f&&(f=0),null==t&&(t=0),null==q&&(q=-1),b.addParticle(b.mVertexBuffer,"particles/food.png",c,k,e,d,.04,.04,q,t,f,p,0),e.x=2*Math.random()-
1,e.y=2*Math.random()-1,b=e,e=230*v.sScale,b.x*=e,b.y*=e,e=b,b=Z.sInstance,k=1+.5*Math.random(),q=-1,t=16777215,f=4*(360*Math.random()-720),p=4*(360*Math.random()-720),null==p&&(p=0),null==f&&(f=0),null==t&&(t=0),null==q&&(q=-1),b.addParticle(b.mVertexBuffer,"particles/food.png",c,k,e,d,.04,.04,q,t,f,p,0),e.x=2*Math.random()-1,e.y=2*Math.random()-1,b=e,e=230*v.sScale,b.x*=e,b.y*=e,e=b,b=Z.sInstance,k=1+.5*Math.random(),q=-1,t=16777215,f=4*(360*Math.random()-720),p=4*(360*Math.random()-720),null==
p&&(p=0),null==f&&(f=0),null==t&&(t=0),null==q&&(q=-1),b.addParticle(b.mVertexBuffer,"particles/food.png",c,k,e,d,.04,.04,q,t,f,p,0)},__class__:ng});var rb=function(a){this.winkTimer=this.mGemGlow=this.mStunnedStars=null;this.stunned=!1;R.call(this);var b=a;null==a&&(a=this.get_playField().task.allowedGemTypes.length,b=this.get_playField().task.allowedGemTypes[M.random(a)]);this.stoneType=b;switch(this.stoneType){case "GEM_BLUE":this.setStoneTemplate("tGemBlue");break;case "GEM_GREEN":this.setStoneTemplate("tGemGreen");
break;case "GEM_PURPLE":this.setStoneTemplate("tGemPurple");break;case "GEM_RED":this.setStoneTemplate("tGemRed");break;case "GEM_WHITE":this.setStoneTemplate("tGemWhite");break;case "GEM_YELLOW":this.setStoneTemplate("tGemYellow")}this.touchable=this.gem=!0};h["game.gems.Gem"]=rb;rb.__name__="game.gems.Gem";rb.getSound=function(a){switch(a){case "GEM_BLUE":return"sound/elephant.ogg";case "GEM_GREEN":return"sound/snake.ogg";case "GEM_PURPLE":return"sound/meow.ogg";case "GEM_RED":return"sound/parrot.ogg";
case "GEM_WHITE":return"sound/bark.ogg";case "GEM_YELLOW":return"sound/duck.ogg";default:return"sound/pig.ogg"}};rb.__super__=R;rb.prototype=m(R.prototype,{wink:function(){var a=this;if(null!=this.children&&!this.get_stunned()){var b=this.find("uiImgGem");null!=b&&null!=this.get_playField().context&&(null==this.group?b.applyTemplate(this.get_playField().context.getTemplate("tFaceEyesClosed")):b.applyTemplate(this.get_playField().context.getTemplate("tFaceBlink")));null==this.winkTimer&&this.register(this.winkTimer=
Pb.delay(function(){var b=a.find("uiImgGem");null!=b&&null!=a.get_playField().context&&b.applyTemplate(a.get_playField().context.getTemplate("tFace"));a.winkTimer=null},300))}},userAction:function(){if(this.get_stateOk()&&!this.get_playField().get_locked()){var a=[];if(null!=this.group&&1<this.group.data.length){this.get_playField().userAction();for(var b=this.group.data.length,c=0,d=this.group.data;c<d.length;){var e=d[c];++c;var g=0;for(e=e.getNeightbours();g<e.length;){var k=e[g];++g;-1==a.indexOf(k)&&
-1==this.group.data.indexOf(k)&&a.push(k)}}for(c=0;c<a.length;)g=a[c],++c,g.interact(this);a=Math.round(10*Math.pow(this.group.data.length,1.5));c=this.get_playField().task;c.set_score(c.score+a);this.get_playField().scoreAnimation(this.getMiddle(),a,this.get_StoneColor());c=0;for(d=this.group.data;c<d.length;)g=d[c],++c,g.score=0,g.plopp(this),5<=b&&g.moveToRootAnimation(this);a=null;if(5<=b)if(c=rb.getSound(this.stoneType),d=0,g=.7,null==g&&(g=1),null==d&&(d=0),Y.get_instance().play(c,d,g,1),9<=
b&&(3<v.get_instance().level||u.get_instance().forceMode))ka.get_instance().trackStats("create_special",{type:"orb"},1),a=new Nd(this.stoneType);else if(7<=b&&(2<v.get_instance().level||u.get_instance().forceMode))ka.get_instance().trackStats("create_special",{type:"skunk"},1),a=new vd;else{if(1<v.get_instance().level||u.get_instance().forceMode)ka.get_instance().trackStats("create_special",{type:"breaker"},1),a=new ld(.5>Math.random())}else c="sound/snap"+M.random(4)+".ogg",d=0,g=.4,null==g&&(g=
1),null==d&&(d=0),Y.get_instance().play(c,d,g,1);null!=a&&(b=this.x,a.x!=b&&a.invalidate(),a.x=b,b=this.y,a.y!=b&&a.invalidate(),a.y=b,this.get_playField().addStone(this.column,this.row,a))}else this.addAnimation(new Zb)}},plopp:function(a){this.get_stunned()&&this.set_stunned(!1);R.prototype.plopp.call(this,a);a=this.find("uiImgBg");null!=a&&a.set_visible(!1);Da.overlayAction(this.column,this.row);a=this.getMiddle();var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250*v.sScale;for(var c=
b,d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],e=0;15>e;){e++;d.x=2*Math.random()-1;d.y=2*Math.random()-1;b=d;var g=250*v.sScale;b.x*=g;b.y*=g;b.x*=.7;switch(M.random(6)){case 0:case 1:case 2:g=Z.sInstance;var k=1+.5*Math.random(),q=.03+.02*Math.random(),t=-1,f=-1,p=4*(360*Math.random()-720),h=4*(360*Math.random()-720);null==h&&(h=0);null==p&&(p=0);null==f&&(f=0);null==t&&(t=-1);g.addParticle(g.mVertexBuffer,"gems/star.png",a,k,b,c,q,0,t,f,p,h,0);break;case 3:g=Z.sInstance;k=1+.5*Math.random();q=.03+
.02*Math.random();f=t=-5042;p=4*(360*Math.random()-720);h=4*(360*Math.random()-720);null==h&&(h=0);null==p&&(p=0);null==f&&(f=0);null==t&&(t=-1);g.addParticle(g.mVertexBuffer,"particles/hexagonfx.png",a,k,b,c,q,0,t,f,p,h,0);break;case 4:g=Z.sInstance;k=1+.5*Math.random();q=.03+.006*Math.random();f=t=-5042;p=4*(360*Math.random()-720);h=4*(360*Math.random()-720);null==h&&(h=0);null==p&&(p=0);null==f&&(f=0);null==t&&(t=-1);g.addParticle(g.mVertexBuffer,"particles/circlefx.png",a,k,b,c,q,0,t,f,p,h,0);
break;case 5:g=Z.sInstance,k=1+.5*Math.random(),q=.03+.02*Math.random(),f=t=-5042,p=4*(360*Math.random()-720),h=4*(360*Math.random()-720),null==h&&(h=0),null==p&&(p=0),null==f&&(f=0),null==t&&(t=-1),g.addParticle(g.mVertexBuffer,"particles/flarefx.png",a,k,b,c,q,0,t,f,p,h,0)}}},setGroup:function(a){R.prototype.setGroup.call(this,a);var b=0;a=null;if(null!=this.group){var c=this.group.data.length;5<=c&&(1<v.get_instance().level||u.get_instance().forceMode)&&(9<=c&&(3<v.get_instance().level||u.get_instance().forceMode)?
(a="gems/orb.png",b=8355839):7<=c&&(2<v.get_instance().level||u.get_instance().forceMode)?(a="gems/skunk.png",b=16777215):(a="gems/row.png",b=16777087))}if(0!=b){null==this.mGemGlow&&(this.mGemGlow=this.addChild(this.get_playField().getGemGlow(),1));c=this.mGemGlow;var d=O.toFloat(b>>>16&255)/255,e=O.toFloat(b>>>8&255)/255,g=O.toFloat(b&255)/255;if(d!=c.colorR||e!=c.colorG||g!=c.colorB)c.colorR!=d&&c.invalidate(),c.colorR=d,c.colorG!=e&&c.invalidate(),c.colorG=e,c.colorB!=g&&c.invalidate(),c.colorB=
g,c.invalidate();c.color=b}else null!=this.mGemGlow&&(this.mGemGlow.removeFromParent(),this.get_playField().recycleGemGlow(this.mGemGlow),this.mGemGlow=null);b=this.findType("uiImgIcon",C);null!=b&&(b.set_visible(null!=a),b.set_image(a))},get_stunned:function(){return this.stunned},set_stunned:function(a){if(this.get_stunned()!=a){var b=this.winkTimer;null!=b&&b.dispose();this.winkTimer=null;b=this.find("uiImgGem");if(null!=b&&null!=this.get_playField().context)if(b.applyTemplate(this.get_playField().context.getTemplate(a?
"tFaceEyesClosed":"tFace")),a){v.get_instance().task.getOrCreateTask("STUNNED").addAmount(1);this.mStunnedStars=[];var c=this.context.getTemplate("tStunnStar");if(null!=c){var d=c.createInstance();b.addChild(d);this.mStunnedStars.push(d);d=c.createInstance();b.addChild(d);this.mStunnedStars.push(d);d=c.createInstance();b.addChild(d);this.mStunnedStars.push(d);d=c.createInstance();b.addChild(d);this.mStunnedStars.push(d);d=c.createInstance();b.addChild(d);this.mStunnedStars.push(d);d=c.createInstance();
b.addChild(d);this.mStunnedStars.push(d)}b=new Ac(null,2,0);b.name="test";this.addAnimation(b)}else{v.get_instance().finishAnimation(this,"STUNNED");b=this.findAnimation("test");null!=b&&(this.removeAnimation(b,!0),.01!=this.rotation&&this.invalidate(),this.rotation=.01);b=this.mStunnedStars;if(null!=b)for(;0<b.length;)L.__cast(b.pop(),Va).dispose();this.mStunnedStars=null}this.stunned=a}return this.get_stunned()},update:function(){if(null!=this.mStunnedStars)for(var a=0,b=3*H.timer,c=2*Math.PI/this.mStunnedStars.length,
d=0,e=this.mStunnedStars;d<e.length;){var g=e[d];++d;var k=b+c*a,q=45*Math.sin(k);g.x!=q&&g.invalidate();g.x=q;q=10*Math.cos(k)+20;g.y!=q&&g.invalidate();g.y=q;q=.25*Math.cos(k)+.75;g.scale!=q&&g.invalidate();g.scale=q;k*=72;g.rotation!=k&&g.invalidate();g.rotation=k;++a}R.prototype.update.call(this)},dispose:function(){this.get_stunned()&&this.set_stunned(!1);null!=this.mGemGlow&&(this.mGemGlow.removeFromParent(),this.get_playField().recycleGemGlow(this.mGemGlow),this.mGemGlow=null);var a=this.mStunnedStars;
if(null!=a)for(;0<a.length;)L.__cast(a.pop(),Va).dispose();this.mStunnedStars=null;a=this.winkTimer;null!=a&&a.dispose();this.winkTimer=null;R.prototype.dispose.call(this)},__class__:rb,__properties__:m(R.prototype.__properties__,{set_stunned:"set_stunned",get_stunned:"get_stunned"})});var he=function(a,b){null==b&&(b="tGift");null==a&&(a=3);this.mCount=0;R.call(this,b);this.mCount=a;this.stoneType="GIFT";this.ploppOnInteraction=!0;this.updateDisplay();Z.sInstance.atlas.getTexture("particles/confetti.png");
Z.sInstance.atlas.getTexture("gems/gift02.png");Z.sInstance.atlas.getTexture("gems/gift03.png")};h["game.gems.Gift"]=he;he.__name__="game.gems.Gift";he.__super__=R;he.prototype=m(R.prototype,{updateDisplay:function(){var a=1<this.mCount,b=this.find("uiImg02");null!=b&&b.set_visible(a);a=2<this.mCount;b=this.find("uiImg03");null!=b&&b.set_visible(a)},plopp:function(a){--this.mCount;this.updateDisplay();var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=.5*this.resultWidth;b.y=.5*this.resultWidth;
var c=b;c.multiplyMatrix(this.resultMatrix);b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250;var d=b,e=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];this.blubb();switch(this.mCount){case 0:Y.get_instance().playUnique("sound/confetti.mp3",0,1,1);Y.get_instance().playUnique("sound/party.mp3",0,1,1);for(var g=0;72>g;){var k=g++,q=he.sColors[k%6]|-16777216;e.x=2*Math.random()-1;e.y=2*Math.random()-1;b=e;b.x*=530;b.y*=530;k=b;e=v.sScale;k.x*=e;k.y*=e;e=k;b=Z.sInstance;k=6+.5*Math.random();var t=.01*
(Math.random()+1),f=q,p=360*Math.random()-720,h=2*(360*Math.random()-720),m=360*Math.random()-720;null==m&&(m=0);null==h&&(h=0);null==p&&(p=0);null==q&&(q=0);null==f&&(f=-1);b.addParticle(b.mVertexBuffer,"particles/confetti.png",c,k,e,d,t,.01,f,q,p,h,m)}R.prototype.plopp.call(this,a);switch(M.random(3)){case 0:c=new ld;break;case 1:c=new vd;break;default:c=new Nd(this.get_playField().task.allowedGemTypes[M.random(this.get_playField().task.allowedGemTypes.length)])}this.get_playField().addStone(this.column,
this.row,c).resetAnimation(!0);break;case 1:a="sound/gift_hit0"+(M.random(4)+1)+".mp3";Y.get_instance().playUnique(a,0,1,1);e.x=300;e.y=30;b=e;e=v.sScale;b.x*=e;b.y*=e;e=b;b=Z.sInstance;k=1+.5*Math.random();f=-1;q=16777215;p=360*Math.random()-720;h=4*(360*Math.random()-720);null==h&&(h=0);null==p&&(p=0);null==q&&(q=0);null==f&&(f=-1);b.addParticle(b.mVertexBuffer,"gems/gift02.png",c,k,e,d,.08,.08,f,q,p,h,0);break;case 2:a="sound/gift_hit0"+(M.random(4)+1)+".mp3",Y.get_instance().playUnique(a,0,1,
1),e.x=-300,e.y=10,b=e,e=v.sScale,b.x*=e,b.y*=e,e=b,b=Z.sInstance,k=1+.5*Math.random(),f=-1,q=16777215,p=360*Math.random()-720,h=4*(360*Math.random()-720),null==h&&(h=0),null==p&&(p=0),null==q&&(q=0),null==f&&(f=-1),b.addParticle(b.mVertexBuffer,"gems/gift03.png",c,k,e,d,.08,.08,f,q,p,h,0)}},__class__:he});var Me=function(a){null==a&&(a=0);Sb.call(this,"tGroupSingleHitEach");this.mTag=a;this.stoneType="GROUP_SINGLE_HIT_EACH";this.ploppOnInteraction=this.fixed=!0;Z.sInstance.atlas.getTexture("particles/pumpkin.png");
this.updateDisplay()};h["game.gems.GroupSingleHitEach"]=Me;Me.__name__="game.gems.GroupSingleHitEach";Me.__super__=Sb;Me.prototype=m(Sb.prototype,{plopp:function(a){if(0<this.count){--this.count;var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=.5*this.resultWidth;b.y=.5*this.resultWidth;a=b;a.multiplyMatrix(this.resultMatrix);b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250;var c=b,d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];d.x=2*Math.random()-1;d.y=2*Math.random()-1;b=d;b.x*=350;b.y*=
350;d=v.sScale;b.x*=d;b.y*=d;d=b;d.x*=.7;b=Z.sInstance;var e=1+.5*Math.random(),g=.05+.02*Math.random(),k=-1,q=-1,t=2*(360*Math.random()-720),f=2*(360*Math.random()-720);null==f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=-1);b.addParticle(b.mVertexBuffer,"particles/pumpkin.png",a,e,d,c,g,0,k,q,t,f,0);d.x=2*Math.random()-1;d.y=2*Math.random()-1;b=d;b.x*=350;b.y*=350;d=v.sScale;b.x*=d;b.y*=d;d=b;d.x*=.7;b=Z.sInstance;e=1+.5*Math.random();g=.05+.02*Math.random();q=k=-1;t=2*(360*Math.random()-720);
f=2*(360*Math.random()-720);null==f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=-1);b.addParticle(b.mVertexBuffer,"particles/pumpkin.png",a,e,d,c,g,0,k,q,t,f,0);d.x=2*Math.random()-1;d.y=2*Math.random()-1;b=d;b.x*=350;b.y*=350;d=v.sScale;b.x*=d;b.y*=d;d=b;d.x*=.7;b=Z.sInstance;e=1+.5*Math.random();g=.05+.02*Math.random();q=k=-1;t=2*(360*Math.random()-720);f=2*(360*Math.random()-720);null==f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=-1);b.addParticle(b.mVertexBuffer,"particles/pumpkin.png",
a,e,d,c,g,0,k,q,t,f,0);d.x=2*Math.random()-1;d.y=2*Math.random()-1;b=d;b.x*=350;b.y*=350;d=v.sScale;b.x*=d;b.y*=d;d=b;d.x*=.7;b=Z.sInstance;e=1+.5*Math.random();g=.05+.02*Math.random();q=k=-1;t=2*(360*Math.random()-720);f=2*(360*Math.random()-720);null==f&&(f=0);null==t&&(t=0);null==q&&(q=0);null==k&&(k=-1);b.addParticle(b.mVertexBuffer,"particles/pumpkin.png",a,e,d,c,g,0,k,q,t,f,0);this.updateDisplay();c="sound/pumpkin0"+(M.random(4)+1)+".mp3";a=.7;null==a&&(a=1);Y.get_instance().playUnique(c,0,
a,1);a=this.getGroup();for(b=c=0;b<a.length;)d=a[b],++b,0<d.count&&++c;if(0==c)for(v.get_instance().finishAnimation(this,this.stoneType),0<a.length&&(c="sound/pumpkin_shrub0"+(M.random(3)+1)+".mp3",Y.get_instance().playUnique(c,0,1,1));0<a.length;)a.pop().destroy()}},inPlace:function(){var a=this.getNeightbour(-1,0);a=this.match(a);var b=this.find("uiLeft");null!=b&&b.set_visible(a);a=this.getNeightbour(0,-1);a=this.match(a);b=this.find("uiBottom");null!=b&&b.set_visible(a);Sb.prototype.inPlace.call(this)},
updateDisplay:function(){if(0==this.count){var a=1==this.mTag?4235072:11513632,b=this.find("uiImgBg");if(null!=b){var c=O.toFloat(a>>>16&255)/255,d=O.toFloat(a>>>8&255)/255,e=O.toFloat(a&255)/255;if(c!=b.colorR||d!=b.colorG||e!=b.colorB)b.colorR!=c&&b.invalidate(),b.colorR=c,b.colorG!=d&&b.invalidate(),b.colorG=d,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=a}b=this.find("uiImgLeft");if(null!=b){c=O.toFloat(a>>>16&255)/255;d=O.toFloat(a>>>8&255)/255;e=O.toFloat(a&255)/255;if(c!=b.colorR||
d!=b.colorG||e!=b.colorB)b.colorR!=c&&b.invalidate(),b.colorR=c,b.colorG!=d&&b.invalidate(),b.colorG=d,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=a}b=this.find("uiImgBottom");if(null!=b){c=O.toFloat(a>>>16&255)/255;d=O.toFloat(a>>>8&255)/255;e=O.toFloat(a&255)/255;if(c!=b.colorR||d!=b.colorG||e!=b.colorB)b.colorR!=c&&b.invalidate(),b.colorR=c,b.colorG!=d&&b.invalidate(),b.colorG=d,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=a}b=this.find("uiImgPumpkin");null!=
b&&b.set_visible(!1);var g=this.getNeightbour(1,0);if(null!=g){b=g.find("uiImgLeft");if(null!=b){c=O.toFloat(a>>>16&255)/255;d=O.toFloat(a>>>8&255)/255;e=O.toFloat(a&255)/255;if(c!=b.colorR||d!=b.colorG||e!=b.colorB)b.colorR!=c&&b.invalidate(),b.colorR=c,b.colorG!=d&&b.invalidate(),b.colorG=d,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=a}b=g.find("uiImgPumpkinLeft");null!=b&&b.set_visible(!1)}g=this.getNeightbour(0,1);if(null!=g){b=g.find("uiImgBottom");if(null!=b){c=O.toFloat(a>>>
16&255)/255;d=O.toFloat(a>>>8&255)/255;e=O.toFloat(a&255)/255;if(c!=b.colorR||d!=b.colorG||e!=b.colorB)b.colorR!=c&&b.invalidate(),b.colorR=c,b.colorG!=d&&b.invalidate(),b.colorG=d,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=a}b=g.find("uiImgPumpkinBottom");null!=b&&b.set_visible(!1)}}else if(1==this.mTag){if(b=this.find("uiImgBg"),null!=b){c=O.toFloat(128)/255;d=O.toFloat(191)/255;e=O.toFloat(128)/255;if(c!=b.colorR||d!=b.colorG||e!=b.colorB)b.colorR!=c&&b.invalidate(),b.colorR=
c,b.colorG!=d&&b.invalidate(),b.colorG=d,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=8437632}}else if(b=this.find("uiImgBg"),null!=b){c=O.toFloat(255)/255;d=O.toFloat(255)/255;e=O.toFloat(80)/255;if(c!=b.colorR||d!=b.colorG||e!=b.colorB)b.colorR!=c&&b.invalidate(),b.colorR=c,b.colorG!=d&&b.invalidate(),b.colorG=d,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=16777040}},__class__:Me});var Pd=function(a,b){null==b&&(b=1);R.call(this,"tHardCage");this.count=b;this.updateDisplay();
this.stoneType="HARD_CAGE";this.fixed=!0;this.touchable=!1;b=a=this.content=a;0!=b.y&&b.invalidate();b=b.y=0;a.x!=b&&a.invalidate();a.x=b;this.content.clickable=!1;this.content.resetAnimation();Z.sInstance.atlas.getTexture("particles/cage01.png");Z.sInstance.atlas.getTexture("particles/cage02.png");this.find("uiContent").addChild(this.content)};h["game.gems.HardCage"]=Pd;Pd.__name__="game.gems.HardCage";Pd.__super__=R;Pd.prototype=m(R.prototype,{updateDisplay:function(){var a=0<this.count,b=this.find("uiImgLock0");
null!=b&&b.set_visible(a);a=1<this.count;b=this.find("uiImgLock1");null!=b&&b.set_visible(a);a=2<this.count;b=this.find("uiImgLock2");null!=b&&b.set_visible(a);a=3<this.count;b=this.find("uiImgLock3");null!=b&&b.set_visible(a)},plopp:function(a){a=this.getMiddle();var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250*v.sScale;for(var c=b,d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],e=0;20>e;){e++;d.x=2*Math.random()-1;d.y=2*Math.random()-1;b=d;var g=550*v.sScale;b.x*=g;b.y*=g;g=.07+.02*Math.random();
var k=Z.sInstance,q=.5>Math.random()?"particles/cage01.png":"particles/cage02.png",f=1.5+.5*Math.random(),p=-1,h=-1,m=360*Math.random()-720,l=360*Math.random()-720;null==l&&(l=0);null==m&&(m=0);null==h&&(h=0);null==p&&(p=-1);k.addParticle(k.mVertexBuffer,q,a,f,b,c,g,g,p,h,m,l,0)}a=0;c=.2;null==c&&(c=1);null==a&&(a=0);Y.get_instance().playUnique("sound/cage2.mp3",a,c,1);0==--this.count?(this.get_playField().task.isTask(this.stoneType)&&v.get_instance().finishAnimation(this,this.stoneType),this.setStone(this.column,
this.row,null),a=this.get_playField().task,a.set_score(a.score+this.score),this.content.clickable=!0,b=this.content,0!=b.colorOffset&&b.invalidate(),b.colorOffset=0,v.get_instance().addStone(this.column,this.row,this.content).resetAnimation(!0),this.dispose()):this.updateDisplay()},__class__:Pd});var Ee=function(a,b,c){Da.call(this,a,b);this.stoneType="LEAF";this.clickable=!0;this.cacheParticle("particles/leaf.png");this.applyTemplate(v.get_instance().context.getTemplate("tLeaf"));c&&v.get_instance().task.getOrCreateTask("LEAF").addAmount(1)};
h["game.gems.Leaf"]=Ee;Ee.__name__="game.gems.Leaf";Ee.__super__=Da;Ee.prototype=m(Da.prototype,{interact:function(a){this.plopp()},plopp:function(){var a=this.getMiddle(),b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=150*v.sScale;for(var c=b,d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],e=0;12>e;){e++;d.x=2*Math.random()-1;d.y=2*Math.random()-1;b=d;var g=450*v.sScale;b.x*=g;b.y*=g;g=.04+.01*Math.random();var k=Z.sInstance,q=1.5+.5*Math.random(),f=-1,p=-1,h=360*Math.random()-720,m=360*Math.random()-
720,l=1440*Math.random();null==l&&(l=0);null==m&&(m=0);null==h&&(h=0);null==p&&(p=0);null==f&&(f=-1);k.addParticle(k.mVertexBuffer,"particles/leaf.png",a,q,b,c,g,g,f,p,h,m,l)}a=0;c=.5;null==c&&(c=1);null==a&&(a=0);Y.get_instance().playUnique("sound/leaf.mp3",a,c,1);Da.prototype.plopp.call(this)},__class__:Ee});var og=function(a){this.mStoneCount=0;this.mStoneTypes=new Ia;Sa.call(this,"tMultiCage");this.stoneType="MULTI_CAGE";this.ploppOnInteraction=this.fixed=!0;for(var b=0;b<a.length;){var c=a[b];
++b;this.addStone(c)}};h["game.gems.MultiCage"]=og;og.__name__="game.gems.MultiCage";og.__super__=Sa;og.prototype=m(Sa.prototype,{addStone:function(a){if(5>this.mStoneCount){var b="uiImgIconGem"+(this.mStoneCount+1),c=R.getIcon(a),d=this.find(b);null!=d&&d instanceof C&&d.set_image(c);d=this.find(b);null!=d&&d.set_visible(!0);this.mStoneTypes.h[a]=this.mStoneCount;++this.mStoneCount}},removeStone:function(a){"UNDEFINED"==a&&(a=(new ce(this.mStoneTypes.h)).next());if(Object.prototype.hasOwnProperty.call(this.mStoneTypes.h,
a)){var b=this.mStoneTypes.h[a],c=this.mStoneTypes,d=a;Object.prototype.hasOwnProperty.call(c.h,d)?(delete c.h[d],d=!0):d=!1;if(d){b=this.find("uiImgIconGem"+(b+1));null!=b&&b.set_visible(!1);--this.mStoneCount;a=rb.getSound(a);b=0;d=.7;null==d&&(d=1);null==b&&(b=0);Y.get_instance().play(a,b,d,1);this.addAnimation(new Yb);a=this.getMiddle();c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];c.x=0;c.y=250*v.sScale;b=c;d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];for(var e=0;15>e;){e++;d.x=2*Math.random()-
1;d.y=2*Math.random()-1;c=d;var g=250*v.sScale;c.x*=g;c.y*=g;c.x*=.7;switch(M.random(6)){case 0:case 1:case 2:g=Z.sInstance;var k=1+.5*Math.random(),q=.03+.02*Math.random(),f=-1,p=-1,h=4*(360*Math.random()-720),m=4*(360*Math.random()-720);null==m&&(m=0);null==h&&(h=0);null==p&&(p=0);null==f&&(f=-1);g.addParticle(g.mVertexBuffer2,"particles/starfx.png",a,k,c,b,q,0,f,p,h,m,0);break;case 3:g=Z.sInstance;k=1+.5*Math.random();q=.03+.02*Math.random();p=f=-5042;h=4*(360*Math.random()-720);m=4*(360*Math.random()-
720);null==m&&(m=0);null==h&&(h=0);null==p&&(p=0);null==f&&(f=-1);g.addParticle(g.mVertexBuffer2,"particles/hexagonfx.png",a,k,c,b,q,0,f,p,h,m,0);break;case 4:g=Z.sInstance;k=1+.5*Math.random();q=.03+.006*Math.random();p=f=-5042;h=4*(360*Math.random()-720);m=4*(360*Math.random()-720);null==m&&(m=0);null==h&&(h=0);null==p&&(p=0);null==f&&(f=-1);g.addParticle(g.mVertexBuffer2,"particles/circlefx.png",a,k,c,b,q,0,f,p,h,m,0);break;case 5:g=Z.sInstance,k=1+.5*Math.random(),q=.03+.02*Math.random(),p=f=
-5042,h=4*(360*Math.random()-720),m=4*(360*Math.random()-720),null==m&&(m=0),null==h&&(h=0),null==p&&(p=0),null==f&&(f=-1),g.addParticle(g.mVertexBuffer2,"particles/flarefx.png",a,k,c,b,q,0,f,p,h,m,0)}}}}},plopp:function(a){if(this.fatHitOk(a)&&(this.removeStone(null!=a&&a.gem?a.stoneType:"UNDEFINED"),0==this.mStoneCount)){Sa.prototype.plopp.call(this,a);Y.get_instance().play("sound/anvil.mp3",0,1,1);this.get_playField().shake();a=this.getMiddle();var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=
0;b.y=250;var c=v.sScale;b.x*=c;b.y*=c;var d=b;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];for(var e=0;30>e;){e++;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=750;b.y*=750;c=v.sScale;b.x*=c;b.y*=c;b.y-=200;c=Z.sInstance;var g=1+.5*Math.random(),k=.05+.02*Math.random(),q=-1,f=-1,p=4*(360*Math.random()-720),h=4*(360*Math.random()-720);null==h&&(h=0);null==p&&(p=0);null==f&&(f=0);null==q&&(q=-1);c.addParticle(c.mVertexBuffer2,"particles/starfx.png",a,g,b,d,k,0,q,f,p,h,0)}}},dispose:function(){this.mStoneTypes=
null;Sa.prototype.dispose.call(this)},__class__:og});var Nd=function(a){jb.call(this,"tOrb");this.stoneType="ORB";this.score=25;this.gemType=a;a=R.getIcon(this.gemType);var b=this.find("uiImgTypeIcon");null!=b&&b instanceof C&&b.set_image(a)};h["game.gems.Orb"]=Nd;Nd.__name__="game.gems.Orb";Nd.__super__=jb;Nd.prototype=m(jb.prototype,{plopp:function(a){null!=this.group&&1<this.group.data.length&&(this.score=0);jb.prototype.plopp.call(this,a);if(a!=this||!this.checkGroupEffect()){ka.get_instance().trackStats("plopped_special",
{type:"breaker"},1);Y.get_instance().play("sound/port.ogg",0,1,1);for(var b=a=0,c=v.ROWS;b<c;)for(var d=b++,e=0,g=v.COLUMNS;e<g;){var k=e++,q=v.ROWS-d-1;if(k!=this.column||q!=this.row){var f=this.get_playField().getStone(k,q);null!=f&&f.stoneType==this.gemType&&this.get_playField().addCommand(.05*++a,new Cg(k,q))}}}},__class__:Nd});var Ne=function(a){null==a&&(a=1);R.call(this,"tOre");this.mCount=a;this.updateCount();Z.sInstance.atlas.getTexture("particles/ore.png");this.stoneType="ORE"};h["game.gems.Ore"]=
Ne;Ne.__name__="game.gems.Ore";Ne.__super__=R;Ne.prototype=m(R.prototype,{updateCount:function(){switch(this.mCount){case 1:var a=this.find("uiImgIcon");null!=a&&a instanceof C&&a.set_image("gems/ore.png");this.fixed=!1;break;case 2:a=this.find("uiImgIcon"),null!=a&&a instanceof C&&a.set_image("gems/honey.png"),this.fixed=!0}},plopp:function(a){if(1<this.mCount){switch(this.mCount){case 1:Y.get_instance().playUnique("sound/Honeycomb_pick.mp3",0,1,1);break;case 2:Y.get_instance().playUnique("sound/Break_honey_jar.mp3",
0,1,1)}--this.mCount;this.updateCount()}else R.prototype.plopp.call(this,a);var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=.5*this.resultWidth;b.y=.5*this.resultWidth;a=b;a.multiplyMatrix(this.resultMatrix);b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250;var c=b;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];for(var d=0;10>d;){d++;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=250;b.y*=250;var e=v.sScale;b.x*=e;b.y*=e;b.x*=.7;e=Z.sInstance;var g=1+.5*Math.random(),k=.03+.02*Math.random(),
q=-1,f=-1,p=4*(360*Math.random()-720),h=4*(360*Math.random()-720);null==h&&(h=0);null==p&&(p=0);null==f&&(f=0);null==q&&(q=-1);e.addParticle(e.mVertexBuffer,"particles/ore.png",a,g,b,c,k,0,q,f,p,h,0)}},interact:function(a){null!=a&&(a instanceof jb?this.plopp():a instanceof rb&&this.addAnimation(new Zb));return R.prototype.interact.call(this,a)},__class__:Ne});var pg=function(){this.mStoneCount=3;Sa.call(this,"tOrePile");Z.sInstance.atlas.getTexture("particles/ore.png");this.stoneType="ORE_PILE";
this.fixed=!0};h["game.gems.OrePile"]=pg;pg.__name__="game.gems.OrePile";pg.__super__=Sa;pg.prototype=m(Sa.prototype,{removeStone:function(){var a=this.find("uiImgIconGem"+this.mStoneCount);null!=a&&a.set_visible(!1);--this.mStoneCount;this.addAnimation(new Yb);a=this.getMiddle();var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250*v.sScale;for(var c=b,d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],e=0;15>e;){e++;d.x=2*Math.random()-1;d.y=2*Math.random()-1;b=d;var g=250*v.sScale;b.x*=g;b.y*=
g;b.x*=.7;g=Z.sInstance;var k=1+.5*Math.random(),q=.03+.02*Math.random(),f=-1,p=-1,h=4*(360*Math.random()-720),m=4*(360*Math.random()-720);null==m&&(m=0);null==h&&(h=0);null==p&&(p=0);null==f&&(f=-1);g.addParticle(g.mVertexBuffer,"particles/ore.png",a,k,b,c,q,0,f,p,h,m,0)}},plopp:function(a){if(this.fatHitOk(a)&&(0<this.mStoneCount&&this.removeStone(),0==this.mStoneCount)){Sa.prototype.plopp.call(this,a);Y.get_instance().playUnique("sound/Honeycomb_pick.mp3",0,1,1);this.get_playField().shake();a=
this.getMiddle();var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250;var c=v.sScale;b.x*=c;b.y*=c;var d=b;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];for(var e=0;10>e;){e++;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=750;b.y*=750;c=v.sScale;b.x*=c;b.y*=c;b.y-=200;c=Z.sInstance;var g=1+.5*Math.random(),k=.05+.02*Math.random(),q=-1,f=-1,p=2*(360*Math.random()-720),h=2*(360*Math.random()-720);null==h&&(h=0);null==p&&(p=0);null==f&&(f=0);null==q&&(q=-1);c.addParticle(c.mVertexBuffer,"particles/ore.png",
a,g,b,d,k,0,q,f,p,h,0)}}},__class__:pg});var vd=function(){jb.call(this,"tSkunk");this.score=20;this.stoneType="SKUNK"};h["game.gems.Skunk"]=vd;vd.__name__="game.gems.Skunk";vd.__super__=jb;vd.prototype=m(jb.prototype,{plopp:function(a){null!=this.group&&1<this.group.data.length&&(this.score=0);jb.prototype.plopp.call(this,a);if(a!=this||!this.checkGroupEffect()){ka.get_instance().trackStats("plopped_special",{type:"breaker"},1);Y.get_instance().play("sound/skunk.ogg",0,1,1);var b=this.getMiddle(),
c=n.ZERO,d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],e=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];for(a=0;15>a;){a++;e.x=2*Math.random()-1;e.y=2*Math.random()-1;var g=1/Math.sqrt(e.x*e.x+e.y*e.y);e.x*=g;e.y*=g;g=100*v.sScale;e.x*=g;e.y*=g;d.x=b.x;d.y=b.y;d.w=b.w;g=d;g.x+=10.5*e.x;g.y+=10.5*e.y;g=Z.sInstance;var k=2+.5*Math.random(),q=-2987746,f=13789471,p=0,h=0;null==h&&(h=0);null==p&&(p=0);null==f&&(f=0);null==q&&(q=-1);g.addParticle(g.mVertexBuffer,"particles/smelly.png",b,k,e,c,.05,.15,q,f,p,h,
0)}this.get_playField().shake();g=this.column-1;k=this.row-1;e=this.get_playField().getStone(g,k);null!=e&&(e instanceof jb?this.get_playField().addCommand(.4,new Ga(g,k,this)):e instanceof hb?this.get_playField().addCommand(.05,new Ga(g,k,this)):this.get_playField().addCommand(.01,new Ga(g,k,this)));g=this.column-1;k=this.row+1-1;e=this.get_playField().getStone(g,k);null!=e&&(e instanceof jb?this.get_playField().addCommand(.4,new Ga(g,k,this)):e instanceof hb?this.get_playField().addCommand(.05,
new Ga(g,k,this)):this.get_playField().addCommand(.01,new Ga(g,k,this)));g=this.column-1;k=this.row+2-1;e=this.get_playField().getStone(g,k);null!=e&&(e instanceof jb?this.get_playField().addCommand(.4,new Ga(g,k,this)):e instanceof hb?this.get_playField().addCommand(.05,new Ga(g,k,this)):this.get_playField().addCommand(.01,new Ga(g,k,this)));g=this.column+1-1;k=this.row-1;e=this.get_playField().getStone(g,k);null!=e&&(e instanceof jb?this.get_playField().addCommand(.4,new Ga(g,k,this)):e instanceof
hb?this.get_playField().addCommand(.05,new Ga(g,k,this)):this.get_playField().addCommand(.01,new Ga(g,k,this)));g=this.column+1-1;k=this.row+2-1;e=this.get_playField().getStone(g,k);null!=e&&(e instanceof jb?this.get_playField().addCommand(.4,new Ga(g,k,this)):e instanceof hb?this.get_playField().addCommand(.05,new Ga(g,k,this)):this.get_playField().addCommand(.01,new Ga(g,k,this)));g=this.column+2-1;k=this.row-1;e=this.get_playField().getStone(g,k);null!=e&&(e instanceof jb?this.get_playField().addCommand(.4,
new Ga(g,k,this)):e instanceof hb?this.get_playField().addCommand(.05,new Ga(g,k,this)):this.get_playField().addCommand(.01,new Ga(g,k,this)));g=this.column+2-1;k=this.row+1-1;e=this.get_playField().getStone(g,k);null!=e&&(e instanceof jb?this.get_playField().addCommand(.4,new Ga(g,k,this)):e instanceof hb?this.get_playField().addCommand(.05,new Ga(g,k,this)):this.get_playField().addCommand(.01,new Ga(g,k,this)));g=this.column+2-1;k=this.row+2-1;e=this.get_playField().getStone(g,k);null!=e&&(e instanceof
jb?this.get_playField().addCommand(.4,new Ga(g,k,this)):e instanceof hb?this.get_playField().addCommand(.05,new Ga(g,k,this)):this.get_playField().addCommand(.01,new Ga(g,k,this)));this.get_playField().addCommand(.5,new y);for(a=0;7>a;)for(c=a++,d=0;7>d;)b=d++,e=b-3,g=this.column+(c-3),k=this.row+e,e=this.get_playField().getStone(g,k),null!=e&&e.state==$a.NORMAL&&(g=c-3,b=-(b-3),0<n.sPoolV2D.length?(k=n.sPoolV2D.pop(),k.x=g,k.y=b,b=k):b=new n(g,b),g=Math.sqrt(b.x*b.x+b.y*b.y),g=1/g/Math.max(1,g),
b.x*=g,b.y*=g,b.x*=50,b.y*=50,e.setStoneAction($a.IMPACT,.5,b))}},__class__:vd});var Og=function(a,b,c){this.mAnimationStart=0;this.middle=new n(0,0);this.animationTarget=new n(0,0);this.animationStart=new n(0,0);this.duration=1.5;C.call(this);100!=this.height&&this.invalidate();var d=null;this.relativeHeight!=d&&this.invalidate();this.relativeHeight=d;d=this.height=100;this.width!=d&&this.invalidate();null!=this.relativeWidth&&this.invalidate();this.relativeWidth=null;this.width=d;this.set_image("gems/skunk.png");
this.duration=a;a=this.animationStart;a.x=b.x;a.y=b.y;a.w=b.w;a=this.animationTarget;a.x=c.x;a.y=c.y;a.w=c.w;n.LERP(this.middle,this.animationStart,this.animationTarget,.5);this.mAnimationStart=H.timer};h["game.gems.SkunkAnimation"]=Og;Og.__name__="game.gems.SkunkAnimation";Og.__super__=C;Og.prototype=m(C.prototype,{update:function(){var a=ma.fClamp((H.timer-this.mAnimationStart)/this.duration,0,1),b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];n.BEZIER(b,this.animationStart,this.middle,this.animationTarget,
a);var c=b.x-50;this.x!=c&&this.invalidate();this.x=c;c=b.y-50;this.y!=c&&this.invalidate();this.y=c;c=1.5+.3*Math.pow(Math.sin(a*Math.PI),2);this.scale!=c&&this.invalidate();this.scale=c;C.prototype.update.call(this);1<=a&&this.dispose()},dispose:function(){this.animationTarget=this.animationStart=null;C.prototype.dispose.call(this)},__class__:Og});var Fe=function(a,b,c){Da.call(this,a,b);this.stoneType="SNOWFLAKE";this.cacheParticle("gems/snowflake.png");this.applyTemplate(v.get_instance().context.getTemplate("tSnowflake"));
c&&v.get_instance().task.getOrCreateTask("SNOWFLAKE").addAmount(1)};h["game.gems.Snowflake"]=Fe;Fe.__name__="game.gems.Snowflake";Fe.__super__=Da;Fe.prototype=m(Da.prototype,{plopp:function(){var a=this.getMiddle(),b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=150*v.sScale;for(var c=b,d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],e=0;5>e;){e++;d.x=2*Math.random()-1;d.y=2*Math.random()-1;b=d;var g=450*v.sScale;b.x*=g;b.y*=g;g=.04+.01*Math.random();var k=Z.sInstance,q=1.5+.5*Math.random(),f=-1,
p=-1,h=360*Math.random()-720,m=360*Math.random()-720;null==m&&(m=0);null==h&&(h=0);null==p&&(p=0);null==f&&(f=-1);k.addParticle(k.mVertexBuffer,"gems/snowflake.png",a,q,b,c,g,g,f,p,h,m,0)}Y.get_instance().playUnique("sound/snowflake.mp3",0,1,1);Da.prototype.plopp.call(this)},__class__:Fe});var qg=function(){this.mCount=5;Sa.call(this,"tSnowman");this.fixed=!0;this.mSnowContainer=this.find("uiSnowContainer");Z.sInstance.atlas.getTexture("gems/snowflake.png");this.stoneType="SNOWMAN";this.ploppOnInteraction=
!0};h["game.gems.Snowman"]=qg;qg.__name__="game.gems.Snowman";qg.__super__=Sa;qg.prototype=m(Sa.prototype,{plopp:function(a){if(this.fatHitOk(a))if(--this.mCount,0==this.mCount){Y.get_instance().play("sound/snowman_finished.mp3",0,1,1);this.get_playField().shake();for(var b=this.row-1,c=this.row+3;b<c;)for(var d=b++,e=this.column-1,g=this.column+3;e<g;){var k=e++;0<=d&&d<v.ROWS&&0<=k&&k<v.COLUMNS&&null==Da.getOverlay(k,d)&&v.get_instance().addCommand(.1,new Ld(k,d,"SNOWFLAKE",!0))}Sa.prototype.plopp.call(this,
a);c=this.getMiddle();d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];d.x=0;d.y=250;e=v.sScale;d.x*=e;d.y*=e;a=d;d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];for(b=0;20>b;){b++;d.x=2*Math.random()-1;d.y=2*Math.random()-1;d.x*=550;d.y*=550;e=v.sScale;d.x*=e;d.y*=e;d.y-=200;e=Z.sInstance;g=2+.2*Math.random();k=-1;var q=16777215,f=360*Math.random()-720,p=360*Math.random()-720;null==p&&(p=0);null==f&&(f=0);null==q&&(q=0);null==k&&(k=-1);e.addParticle(e.mVertexBuffer,"gems/snowflake.png",c,g,d,a,.05,.01,k,
q,f,p,0)}}else if(0<this.mCount)for(b="sound/snowman0"+(3-Math.max(1,Math.round(this.mCount/2)))+".mp3",c=0,a=.4,null==a&&(a=1),null==c&&(c=0),Y.get_instance().play(b,c,a,1),this.blubb(),b=0,c=8-this.mCount;b<c;)b++,a=this.get_playField().context.getTemplate("tSnowmanFlake").createInstance(),d=new yd(null),d.offsetX=60*(Math.random()+1),d.add=360*Math.random(),d.speed=50*(5-this.mCount+Math.random()),e=.2*(5-this.mCount)+.2,a.scale!=e&&a.invalidate(),a.scale=e,a.addAnimation(d),this.mSnowContainer.addChild(a),
null!=this.mSnowContainer.preParticleEmitter&&(this.mSnowContainer.preParticleEmitter.numParticlesPerSecond=20*(5-this.mCount))},dispose:function(){this.mSnowContainer=null;Sa.prototype.dispose.call(this)},__class__:qg});var Qg=function(a,b){Da.call(this,a,b);this.stoneType="SOFT_CAGE";this.cacheParticle("particles/cage01.png");this.cacheParticle("particles/cage02.png");this.applyTemplate(v.get_instance().context.getTemplate("tSoftCage"))};h["game.gems.SoftCage"]=Qg;Qg.__name__="game.gems.SoftCage";
Qg.__super__=Da;Qg.prototype=m(Da.prototype,{plopp:function(){var a=this.getMiddle(),b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250*v.sScale;for(var c=b,d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],e=0;5>e;){e++;d.x=2*Math.random()-1;d.y=2*Math.random()-1;b=d;var g=350*v.sScale;b.x*=g;b.y*=g;g=.03+.02*Math.random();var k=Z.sInstance,q=.5>Math.random()?"particles/cage01.png":"particles/cage02.png",f=2+.5*Math.random(),p=-1,h=-1,m=2*(360*Math.random()-720),l=2*(360*Math.random()-720);null==
l&&(l=0);null==m&&(m=0);null==h&&(h=0);null==p&&(p=-1);k.addParticle(k.mVertexBuffer,q,a,f,b,c,g,g,p,h,m,l,0)}a=0;c=.2;null==c&&(c=1);null==a&&(a=0);Y.get_instance().playUnique("sound/cage.mp3",a,c,1);Da.prototype.plopp.call(this)},__class__:Qg});var $a=K["game.gems.State"]={__ename__:"game.gems.State",__constructs__:null,NORMAL:{_hx_name:"NORMAL",_hx_index:0,__enum__:"game.gems.State",toString:f},JUMP:{_hx_name:"JUMP",_hx_index:1,__enum__:"game.gems.State",toString:f},IMPACT:{_hx_name:"IMPACT",_hx_index:2,
__enum__:"game.gems.State",toString:f},MOVING:{_hx_name:"MOVING",_hx_index:3,__enum__:"game.gems.State",toString:f},FALLING:{_hx_name:"FALLING",_hx_index:4,__enum__:"game.gems.State",toString:f},PLOPPING:{_hx_name:"PLOPPING",_hx_index:5,__enum__:"game.gems.State",toString:f}};$a.__constructs__=[$a.NORMAL,$a.JUMP,$a.IMPACT,$a.MOVING,$a.FALLING,$a.PLOPPING];var Oe=function(a){null==a&&(a=!1);this.mOpen=!1;R.call(this,"tTicker");this.mOpen=a;this.updateDisplay();this.ploppOnInteraction=this.fixed=!0;
this.stoneType="TICKER";this.registerXEventListener(v.get_instance(),"USER_ACTION",l(this,this.onUserAction))};h["game.gems.Ticker"]=Oe;Oe.__name__="game.gems.Ticker";Oe.__super__=R;Oe.prototype=m(R.prototype,{forcePloop:function(a){this.mOpen=!0;this.plopp(a)},plopp:function(a){if(this.mOpen){a=this.getMiddle();var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250;var c=v.sScale;b.x*=c;b.y*=c;var d=b;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];v.get_instance();for(var e=0;15>e;){e++;b.x=
2*Math.random()-1;b.y=2*Math.random()-1;b.x*=450;b.y*=450;c=v.sScale;b.x*=c;b.y*=c;c=Z.sInstance;var g=1+.5*Math.random(),k=.03+.02*Math.random(),q=-1,f=-1,p=4*(360*Math.random()-720),h=4*(360*Math.random()-720);null==h&&(h=0);null==p&&(p=0);null==f&&(f=0);null==q&&(q=-1);c.addParticle(c.mVertexBuffer,"gems/star.png",a,g,b,d,k,0,q,f,p,h,0)}a="sound/Shell_pick0"+(M.random(3)+1)+".mp3";d=0;e=.7;null==e&&(e=1);null==d&&(d=0);Y.get_instance().playUnique(a,d,e,1);R.prototype.plopp.call(this)}else this.addAnimation(new Yb)},
onUserAction:function(a){this.mOpen=!this.mOpen;this.updateDisplay()},updateDisplay:function(){var a=this.mOpen?"gems/oyster_02.png":"gems/oyster_01.png",b=this.find("uiImgIcon");null!=b&&b instanceof C&&b.set_image(a);a=this.mOpen?"sound/oyster_open.mp3":"sound/oyster_close.mp3";b=0;var c=.25;null==c&&(c=1);null==b&&(b=0);Y.get_instance().playUnique(a,b,c,1)},__class__:Oe});var rg=function(){fb.call(this,"tTimebomb");this.stoneType="TIMEBOMB";Z.sInstance.atlas.getTexture("gems/bomb.png");this.gemType=
this.get_playField().task.allowedGemTypes[M.random(this.get_playField().task.allowedGemTypes.length)];this.updateDisplay()};h["game.gems.Timebomb"]=rg;rg.__name__="game.gems.Timebomb";rg.__super__=fb;rg.prototype=m(fb.prototype,{plopp:function(a){var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=.5*this.resultWidth;b.y=.5*this.resultWidth;a=b;a.multiplyMatrix(this.resultMatrix);b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250;var c=b;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];for(var d=
0;10>d;){d++;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=250;b.y*=250;var e=v.sScale;b.x*=e;b.y*=e;b.x*=.7;e=Z.sInstance;var g=1+.5*Math.random(),k=.03+.02*Math.random(),q=-1,f=-1,p=4*(360*Math.random()-720),h=4*(360*Math.random()-720);null==h&&(h=0);null==p&&(p=0);null==f&&(f=0);null==q&&(q=-1);e.addParticle(e.mVertexBuffer,"gems/bomb.png",a,g,b,c,k,0,q,f,p,h,0)}fb.prototype.plopp.call(this)},updateDisplay:function(){var a=R.getStoneColor(this.gemType),b=this.find("uiImgMask");if(null!=b){var c=
O.toFloat(a>>>16&255)/255,d=O.toFloat(a>>>8&255)/255,e=O.toFloat(a&255)/255;if(c!=b.colorR||d!=b.colorG||e!=b.colorB)b.colorR!=c&&b.invalidate(),b.colorR=c,b.colorG!=d&&b.invalidate(),b.colorG=d,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=a}a=R.getIcon(this.gemType);b=this.find("uiImgTypeIcon");null!=b&&b instanceof C&&b.set_image(a)},__class__:rg});var sg=function(){R.call(this,"tWater");this.fixed=!0;this.stoneType="WATER";this.ploppOnInteraction=!0;Z.sInstance.atlas.getTexture("gems/water_drop.png");
var a=this.get_playField().task.getOrCreateTask(this.stoneType);null!=a&&this.registerXEventListener(a,"Task::TASK_SOLVED",l(this,this.onTaskSolved))};h["game.gems.WaterBucket"]=sg;sg.__name__="game.gems.WaterBucket";sg.__super__=R;sg.prototype=m(R.prototype,{onTaskSolved:function(a){a=this.getMiddle();var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250;var c=v.sScale;b.x*=c;b.y*=c;var d=b;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];Y.get_instance().playUnique("sound/bucket.mp3",0,1,1);
for(var e=0;6>e;){e++;b.x=2*Math.random()-1;b.y=2*Math.random()-1;b.x*=550;b.y*=550;c=v.sScale;b.x*=c;b.y*=c;c=Z.sInstance;var g=1+1.5*Math.random(),k=.04+.02*Math.random(),q=-1,f=16777215,p=360*Math.random()-720,h=360*Math.random()-720;null==h&&(h=0);null==p&&(p=0);null==f&&(f=0);null==q&&(q=-1);c.addParticle(c.mVertexBuffer,"gems/water_drop.png",a,g,b,d,k,.03,q,f,p,h,0)}R.prototype.plopp.call(this)},plopp:function(a){this.addAnimation(new Zb);a=this.get_playField().task;a.set_score(a.score+20);
a="sound/Drop0"+(M.random(4)+1)+".mp3";Y.get_instance().playUnique(a,0,1,1);v.get_instance().finishAnimation(this,"WATER")},__class__:sg});var tg=function(){this.mColor=16711935;this.mCount=5;R.call(this,"tXHit");this.stoneType="X_HIT";this.ploppOnInteraction=!0;Z.sInstance.atlas.getTexture("gems/berry.png");this.updateDisplay()};h["game.gems.XHit"]=tg;tg.__name__="game.gems.XHit";tg.__super__=R;tg.prototype=m(R.prototype,{plopp:function(a){var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=.5*this.resultWidth;
b.y=.5*this.resultWidth;var c=b;c.multiplyMatrix(this.resultMatrix);b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=250;var d=b;b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=2*Math.random()-1;b.y=2*Math.random()-1;var e=b;b=550*v.sScale;e.x*=b;e.y*=b;e.x*=.7;var g=-16777216|this.mColor;b=Z.sInstance;var k=4+.5*Math.random(),q=g,f=.5*(360*Math.random()-720),p=.5*(360*Math.random()-720);null==p&&(p=0);null==f&&(f=0);null==g&&(g=0);null==q&&(q=-1);b.addParticle(b.mVertexBuffer,"gems/berry.png",
c,k,e,d,.03,.03,q,g,f,p,0);this.blubb();c="sound/berry0"+(M.random(4)+1)+".mp3";Y.get_instance().playUnique(c,0,1,1);0<this.mCount&&(--this.mCount,0==this.mCount&&(Y.get_instance().playUnique("sound/berry_shake.mp3",0,1,1),R.prototype.plopp.call(this,a)),this.updateDisplay())},updateDisplay:function(){var a=1<this.mCount,b=this.find("uiImgBerry2");null!=b&&b.set_visible(a);a=2<this.mCount;b=this.find("uiImgBerry3");null!=b&&b.set_visible(a);a=3<this.mCount;b=this.find("uiImgBerry4");null!=b&&b.set_visible(a);
a=4<this.mCount;b=this.find("uiImgBerry5");null!=b&&b.set_visible(a)},__class__:tg});var Z=function(){this.mIdx=0;this.atlas=new Ib;Ra.call(this);this.createShader();Z.sInstance=this;this.mVertexBuffer=new Jb(2048,19);this.mVertexBuffer.addEntry(2048);this.mVertexBuffer2=new Jb(2048,19);this.mVertexBuffer2.addEntry(2048)};h["game.particles.ParticleRenderer"]=Z;Z.__name__="game.particles.ParticleRenderer";Z.__super__=Ra;Z.prototype=m(Ra.prototype,{addParticle:function(a,b,c,d,e,g,k,q,f,n,p,h,m){null==
m&&(m=0);null==h&&(h=0);null==p&&(p=0);null==n&&(n=0);null==f&&(f=-1);var t=this.mIdx%512*4*a.stride,l=.7*B.SCREEN_WIDTH/2048;k*=l;q*=l;++this.mIdx;l=a.data;l.position=t<<2;t=H.timer;b=this.atlas.getTexture(b);if(null!=b){for(var G=1/this.atlas.get_texture().width,y=0;2>y;)for(var K=y++,v=0;2>v;){var U=v++;l.floatArray[l.position>>>2]=c.x;l.position+=4;l.floatArray[l.position>>>2]=c.y;l.position+=4;l.floatArray[l.position>>>2]=2*U-1;l.position+=4;l.floatArray[l.position>>>2]=2*-K+1;l.position+=4;
switch(U+2*K){case 0:U=b.get_left()*G;l.floatArray[l.position>>>2]=U;l.position+=4;U=b.get_top()*G;l.floatArray[l.position>>>2]=U;l.position+=4;break;case 1:U=b.get_right()*G;l.floatArray[l.position>>>2]=U;l.position+=4;U=b.get_top()*G;l.floatArray[l.position>>>2]=U;l.position+=4;break;case 2:U=b.get_left()*G;l.floatArray[l.position>>>2]=U;l.position+=4;U=b.get_bottom()*G;l.floatArray[l.position>>>2]=U;l.position+=4;break;default:U=b.get_right()*G,l.floatArray[l.position>>>2]=U,l.position+=4,U=b.get_bottom()*
G,l.floatArray[l.position>>>2]=U,l.position+=4}l.floatArray[l.position>>>2]=t;l.position+=4;l.floatArray[l.position>>>2]=d;l.position+=4;l.floatArray[l.position>>>2]=e.x;l.position+=4;l.floatArray[l.position>>>2]=e.y;l.position+=4;l.floatArray[l.position>>>2]=g.x;l.position+=4;l.floatArray[l.position>>>2]=g.y;l.position+=4;l.floatArray[l.position>>>2]=k;l.position+=4;l.floatArray[l.position>>>2]=q;l.position+=4;l.bytes.setInt32(l.position,f);l.position+=4;l.bytes.setInt32(l.position,n);l.position+=
4;l.floatArray[l.position>>>2]=h*Math.PI/180;l.position+=4;l.floatArray[l.position>>>2]=p*Math.PI/180;l.position+=4;l.floatArray[l.position>>>2]=m*Math.PI/180;l.position+=4}a.dirty=!0}},createShader:function(){this.mShader=new yb("attribute vec2 aVertexPosition;attribute vec2 aOffset;attribute vec2 aTex;attribute float aTimer;attribute float aDuration;attribute vec2 aDir;attribute vec2 aGravity;attribute float aStartSize;attribute float aEndSize;attribute vec4 aStartColor;attribute vec4 aEndColor;attribute float aStartRotation;attribute float aEndRotation;attribute float a3DRotation;uniform mat4 uViewProjection;uniform float uAR;uniform float uTimer;varying vec2 vTexCoord;varying vec4 vColor;void main (void){float t = ( uTimer - aTimer);float f = t / aDuration;vTexCoord = aTex;vec2 pos = aVertexPosition;pos += t * aDir + t * t * aGravity;vec4 projectedPos = uViewProjection * vec4( pos, 0.0, 1.0 );vColor = mix( aStartColor, aEndColor, f*f).bgra; float s = mix( aStartSize, aEndSize, f);if ( f > 1.0 ){s = 0.0;}float a = mix( aStartRotation, aEndRotation, f );float sinA = sin( a ); float cosA = cos( a ); float _w = aOffset.x * cos( a3DRotation * f );float _x = cosA * _w - sinA * aOffset.y; float _y = cosA * aOffset.y + sinA * _w;vec2 add = vec2( _x * uAR, _y ) * s;projectedPos.xy += add;gl_Position = projectedPos;}",
"varying vec2 vTexCoord;varying vec4 vColor;uniform sampler2D uTex0;void main (void) {vec4 col = texture2D( uTex0, vTexCoord, -1.0 ) * vColor;gl_FragColor = col;}")},setupShader:function(){},draw:function(){this.drawBuffer(this.mVertexBuffer,p.gl.SRC_ALPHA,p.gl.ONE_MINUS_SRC_ALPHA);this.drawBuffer(this.mVertexBuffer2,p.gl.SRC_ALPHA,p.gl.ONE)},drawBuffer:function(a,b,c){var d=a.entries>>1;if(0<d){var e=Cb.getIB(d);a.dirty&&a.upload();p.instance.enableBlend();p.gl.blendFunc(b,c);p.gl.depthFunc(p.gl.LESS);
p.gl.disable(p.gl.CULL_FACE);p.gl.depthMask(!1);b=this.mShader;b.mVertexBuffer=a;b.mIndexBuffer=e;p.gl.useProgram(b.mProgram);a.apply();e.apply();this.setupShader();a=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];b=B.SCREEN_HEIGHT;c=B.SCREEN_WIDTH;var g=1/c,k=1/(0-b);a[0]=2*g;a[4]=0;a[8]=0;a[12]=-c*g;a[1]=0;a[5]=2*k;a[9]=0;a[13]=-b*k;a[2]=0;a[6]=0;a[10]=-.01998001998001998;a[14]=-.9980019980019981;a[3]=0;a[7]=0;a[11]=0;a[15]=1;b=this.mShader;c=p.gl;g=b.mUniformLookUp.h.uViewProjection;null==g&&(k=
b.mUniformLookUp,g=p.gl.getUniformLocation(b.mProgram,"uViewProjection"),k.h.hasOwnProperty("uViewProjection")&&E.remove(k.mKeys,"uViewProjection"),k.h.uViewProjection=g,k.mKeys.push("uViewProjection"));ob.uniformMatrix4fv(c,g,!1,a);b=this.mShader;a=B.SCREEN_HEIGHT/B.SCREEN_WIDTH;c=p.gl;g=b.mUniformLookUp.h.uAR;null==g&&(k=b.mUniformLookUp,g=p.gl.getUniformLocation(b.mProgram,"uAR"),k.h.hasOwnProperty("uAR")&&E.remove(k.mKeys,"uAR"),k.h.uAR=g,k.mKeys.push("uAR"));c.uniform1f(g,a);b=this.mShader;a=
H.timer;c=p.gl;g=b.mUniformLookUp.h.uTimer;null==g&&(k=b.mUniformLookUp,g=p.gl.getUniformLocation(b.mProgram,"uTimer"),k.h.hasOwnProperty("uTimer")&&E.remove(k.mKeys,"uTimer"),k.h.uTimer=g,k.mKeys.push("uTimer"));c.uniform1f(g,a);this.mShader.vertexAttribPointer("aVertexPosition",2,p.gl.FLOAT,0);this.mShader.vertexAttribPointer("aOffset",2,p.gl.FLOAT,8);this.mShader.vertexAttribPointer("aTex",2,p.gl.FLOAT,16);this.mShader.vertexAttribPointer("aTimer",1,p.gl.FLOAT,24);this.mShader.vertexAttribPointer("aDuration",
1,p.gl.FLOAT,28);this.mShader.vertexAttribPointer("aDir",2,p.gl.FLOAT,32);this.mShader.vertexAttribPointer("aGravity",2,p.gl.FLOAT,40);this.mShader.vertexAttribPointer("aStartSize",1,p.gl.FLOAT,48);this.mShader.vertexAttribPointer("aEndSize",1,p.gl.FLOAT,52);this.mShader.vertexAttribPointer("aStartColor",4,p.gl.UNSIGNED_BYTE,56,!0);this.mShader.vertexAttribPointer("aEndColor",4,p.gl.UNSIGNED_BYTE,60,!0);this.mShader.vertexAttribPointer("aStartRotation",1,p.gl.FLOAT,64);this.mShader.vertexAttribPointer("aEndRotation",
1,p.gl.FLOAT,68);this.mShader.vertexAttribPointer("a3DRotation",1,p.gl.FLOAT,72);b=this.mShader;a=this.atlas.get_texture();c=p.gl;g=b.mUniformLookUp.h.uTex0;null==g&&(k=b.mUniformLookUp,g=p.gl.getUniformLocation(b.mProgram,"uTex0"),k.h.hasOwnProperty("uTex0")&&E.remove(k.mKeys,"uTex0"),k.h.uTex0=g,k.mKeys.push("uTex0"));c.uniform1i(g,0);null!=a?a.apply(0):p.sDefaultTex.apply(0);p.gl.drawElements(p.gl.TRIANGLES,d*e.stride,p.gl.UNSIGNED_SHORT,0);p.gl.enable(p.gl.CULL_FACE);p.instance.enableBlend(!1);
p.gl.depthMask(!0);p.gl.blendFunc(p.gl.SRC_ALPHA,p.gl.ONE_MINUS_SRC_ALPHA)}},__class__:Z});var P=function(a,b,c){Error.call(this,a);this.message=a;this.__previousException=b;this.__nativeException=null!=c?c:this};h["haxe.Exception"]=P;P.__name__="haxe.Exception";P.caught=function(a){return a instanceof P?a:a instanceof Error?new P(a.message,null,a):new Ue(a,null,a)};P.thrown=function(a){return a instanceof P?a.get_native():a instanceof Error?a:new Ue(a)};P.__super__=Error;P.prototype=m(Error.prototype,
{unwrap:function(){return this.__nativeException},toString:function(){return this.get_message()},get_message:function(){return this.message},get_native:function(){return this.__nativeException},__class__:P,__properties__:{get_native:"get_native",get_message:"get_message"}});var $b=function(){this.buf=new Fa;this.cache=[];this.useCache=$b.USE_CACHE;this.useEnumIndex=$b.USE_ENUM_INDEX;this.shash=new Ia;this.scount=0};h["haxe.Serializer"]=$b;$b.__name__="haxe.Serializer";$b.run=function(a){var b=new $b;
b.serialize(a);return b.toString()};$b.prototype={toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash.h[a];null!=b?(this.buf.b+="R",this.buf.b+=null==b?"null":""+b):(this.shash.h[a]=this.scount++,this.buf.b+="y",a=encodeURIComponent(a),this.buf.b+=M.string(a.length),this.buf.b+=":",this.buf.b+=null==a?"null":""+a)},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=c++,g=this.cache[e];if(typeof g==b&&g==a)return this.buf.b+="r",this.buf.b+=
null==e?"null":""+e,!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=F.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(F.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=La.typeof(a);switch(b._hx_index){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b+=null==a?"null":""+a;break;case 2:isNaN(a)?this.buf.b+="k":isFinite(a)?(this.buf.b+="d",this.buf.b+=null==a?"null":""+a):this.buf.b+=0>a?"m":"p";
break;case 3:this.buf.b+=a?"t":"f";break;case 4:L.__instanceof(a,Oi)?(a=a.__name__,this.buf.b+="A",this.serializeString(a)):L.__instanceof(a,Pi)?(this.buf.b+="B",this.serializeString(a.__ename__)):this.useCache&&this.serializeRef(a)||(this.buf.b+="o",this.serializeFields(a));break;case 5:throw P.thrown("Cannot serialize function");case 6:b=b.c;if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:var c=0;this.buf.b+="a";for(var d=0,e=a.length;d<
e;)b=d++,null==a[b]?++c:(0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==c?"null":""+c),c=0),this.serialize(a[b]));0<c&&(1==c?this.buf.b+="n":(this.buf.b+="u",this.buf.b+=null==c?"null":""+c));this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.b+=M.string(a.getTime());break;case nb:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b+=null==c?"null":""+c,this.serialize(a.h[c]);this.buf.b+="h";break;case Bd:this.buf.b+="l";for(a=a.h;null!=a;)b=a.item,
a=a.next,this.serialize(b);this.buf.b+="h";break;case Xc:this.buf.b+="M";for(b=a.keys();b.hasNext();){c=b.next();var g=F.field(c,"__id__");F.deleteField(c,"__id__");this.serialize(c);c.__id__=g;this.serialize(a.h[c.__id__])}this.buf.b+="h";break;case Ia:this.buf.b+="b";c=Object.keys(a.h);g=c.length;for(d=0;d<g;)b=c[d++],this.serializeString(b),this.serialize(a.h[b]);this.buf.b+="h";break;case eb:this.buf.b+="s";this.buf.b+=M.string(Math.ceil(8*a.length/6));this.buf.b+=":";b=0;c=a.length-2;g=$b.BASE64_CODES;
if(null==g){g=Array($b.BASE64.length);d=0;for(e=$b.BASE64.length;d<e;){var k=d++;g[k]=E.cca($b.BASE64,k)}$b.BASE64_CODES=g}for(;b<c;)d=a.b[b++],e=a.b[b++],k=a.b[b++],this.buf.b+=String.fromCodePoint(g[d>>2]),this.buf.b+=String.fromCodePoint(g[(d<<4|e>>4)&63]),this.buf.b+=String.fromCodePoint(g[(e<<2|k>>6)&63]),this.buf.b+=String.fromCodePoint(g[k&63]);b==c?(d=a.b[b++],e=a.b[b++],this.buf.b+=String.fromCodePoint(g[d>>2]),this.buf.b+=String.fromCodePoint(g[(d<<4|e>>4)&63]),this.buf.b+=String.fromCodePoint(g[e<<
2&63])):b==c+1&&(d=a.b[b++],this.buf.b+=String.fromCodePoint(g[d>>2]),this.buf.b+=String.fromCodePoint(g[d<<4&63]));break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(b.__name__),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(b.__name__),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;case 7:b=b.e;if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b+=
M.string(this.useEnumIndex?"j":"w");this.serializeString(b.__ename__);this.useEnumIndex?(this.buf.b+=":",this.buf.b+=M.string(a._hx_index)):(b=a,this.serializeString(K[b.__enum__].__constructs__[b._hx_index]._hx_name));this.buf.b+=":";c=La.enumParameters(a);this.buf.b+=M.string(c.length);for(b=0;b<c.length;)g=c[b],++b,this.serialize(g);this.useCache&&this.cache.push(a);break;default:throw P.thrown("Cannot serialize "+M.string(a));}},__class__:$b};var id=function(a){this.current=0;this.array=a};h["haxe.iterators.ArrayIterator"]=
id;id.__name__="haxe.iterators.ArrayIterator";id.prototype={hasNext:function(){return this.current<this.array.length},next:function(){return this.array[this.current++]},__class__:id};var fc=function(a){var b=this;this.id=setInterval(function(){b.run()},a)};h["haxe.Timer"]=fc;fc.__name__="haxe.Timer";fc.delay=function(a,b){var c=new fc(b);c.run=function(){c.stop();a()};return c};fc.prototype={stop:function(){null!=this.id&&(clearInterval(this.id),this.id=null)},run:function(){},__class__:fc};var Rg=
function(){};h["haxe._Unserializer.DefaultResolver"]=Rg;Rg.__name__="haxe._Unserializer.DefaultResolver";Rg.prototype={resolveClass:function(a){return h[a]},resolveEnum:function(a){return K[a]},__class__:Rg};var Tb=function(a){this.buf=a;this.length=this.buf.length;this.pos=0;this.scache=[];this.cache=[];a=Tb.DEFAULT_RESOLVER;null==a&&(a=new Rg,Tb.DEFAULT_RESOLVER=a);this.resolver=a};h["haxe.Unserializer"]=Tb;Tb.__name__="haxe.Unserializer";Tb.initCodes=function(){for(var a=[],b=0,c=Tb.BASE64.length;b<
c;){var d=b++;a[Tb.BASE64.charCodeAt(d)]=d}return a};Tb.run=function(a){return(new Tb(a)).unserialize()};Tb.prototype={setResolver:function(a){null==a?(null==je.instance&&(je.instance=new je),this.resolver=je.instance):this.resolver=a},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);
if(b!=b)break;if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return parseFloat(E.substr(this.buf,a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw P.thrown("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw P.thrown("Invalid object key");var c=this.unserialize();a[b]=c}this.pos++},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw P.thrown("Invalid enum format");var c=this.readDigits();
if(0==c)return La.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return La.createEnum(a,b,d)},unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 65:var a=this.unserialize(),b=this.resolver.resolveClass(a);if(null==b)throw P.thrown("Class not found "+a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw P.thrown("Enum not found "+a);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw P.thrown("Class not found "+
a);b=Object.create(b.prototype);this.cache.push(b);b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw P.thrown("Invalid custom data");return b;case 77:a=new Xc;this.cache.push(a);for(var c;104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw P.thrown("Invalid string reference");return this.scache[a];case 97:b=[];for(this.cache.push(b);;){c=this.buf.charCodeAt(this.pos);
if(104==c){this.pos++;break}117==c?(this.pos++,a=this.readDigits(),b[b.length+a-1]=null):b.push(this.unserialize())}return b;case 98:a=new Ia;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),c=this.unserialize(),a.h[b]=c;this.pos++;return a;case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw P.thrown("Class not found "+a);b=Object.create(b.prototype);this.cache.push(b);this.unserializeObject(b);return b;case 100:return this.readFloat();case 102:return!1;
case 105:return this.readDigits();case 106:a=this.unserialize();c=this.resolver.resolveEnum(a);if(null==c)throw P.thrown("Enum not found "+a);this.pos++;for(var d=this.readDigits(),e=c.__constructs__,g=Array(e.length),k=0,q=e.length;k<q;)b=k++,g[b]=e[b]._hx_name;b=g[d];if(null==b)throw P.thrown("Unknown enum index "+a+"@"+d);b=this.unserializeEnum(c,b);this.cache.push(b);return b;case 107:return NaN;case 108:b=new Bd;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());
this.pos++;return b;case 109:return-Infinity;case 110:return null;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 112:return Infinity;case 113:a=new nb;this.cache.push(a);for(c=this.buf.charCodeAt(this.pos++);58==c;)b=this.readDigits(),c=this.unserialize(),a.h[b]=c,c=this.buf.charCodeAt(this.pos++);if(104!=c)throw P.thrown("Invalid IntMap format");return a;case 114:a=this.readDigits();if(0>a||a>=this.cache.length)throw P.thrown("Invalid reference");return this.cache[a];case 115:a=
this.readDigits();c=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw P.thrown("Invalid bytes length");d=Tb.CODES;null==d&&(d=Tb.initCodes(),Tb.CODES=d);b=this.pos;e=a&3;g=b+(a-e);k=new eb(new ArrayBuffer(3*(a>>2)+(2<=e?e-1:0)));for(q=0;b<g;){var f=d[c.charCodeAt(b++)],n=d[c.charCodeAt(b++)];k.b[q++]=(f<<2|n>>4)&255;f=d[c.charCodeAt(b++)];k.b[q++]=(n<<4|f>>2)&255;n=d[c.charCodeAt(b++)];k.b[q++]=(f<<6|n)&255}2<=e&&(f=d[c.charCodeAt(b++)],n=d[c.charCodeAt(b++)],k.b[q++]=
(f<<2|n>>4)&255,3==e&&(f=d[c.charCodeAt(b++)],k.b[q++]=(n<<4|f>>2)&255));this.pos+=a;this.cache.push(k);return k;case 116:return!0;case 118:return 48<=this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(b=E.strDate(E.substr(this.buf,
this.pos,19)),this.pos+=19):b=new Date(this.readFloat()),this.cache.push(b),b;case 119:a=this.unserialize();c=this.resolver.resolveEnum(a);if(null==c)throw P.thrown("Enum not found "+a);b=this.unserializeEnum(c,this.unserialize());this.cache.push(b);return b;case 120:throw P.thrown(this.unserialize());case 121:a=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<a)throw P.thrown("Invalid string length");b=E.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));
this.scache.push(b);return b;case 122:return 0}this.pos--;throw P.thrown("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:Tb};var je=function(){};h["haxe._Unserializer.NullResolver"]=je;je.__name__="haxe._Unserializer.NullResolver";je.prototype={resolveClass:function(a){return null},resolveEnum:function(a){return null},__class__:je};var Ue=function(a,b,c){P.call(this,String(a),b,c);this.value=a};h["haxe.ValueException"]=Ue;Ue.__name__="haxe.ValueException";Ue.__super__=
P;Ue.prototype=m(P.prototype,{unwrap:function(){return this.value},__class__:Ue});var ke=function(){this.a1=1;this.a2=0};h["haxe.crypto.Adler32"]=ke;ke.__name__="haxe.crypto.Adler32";ke.read=function(a){var b=new ke,c=a.readByte(),d=a.readByte(),e=a.readByte();a=a.readByte();b.a1=e<<8|a;b.a2=c<<8|d;return b};ke.prototype={update:function(a,b,c){var d=this.a1,e=this.a2,g=b;for(b+=c;g<b;)c=g++,d=(d+a.b[c])%65521,e=(e+d)%65521;this.a1=d;this.a2=e},equals:function(a){return a.a1==this.a1?a.a2==this.a2:
!1},__class__:ke};var cd=function(){};h["haxe.crypto.Base64"]=cd;cd.__name__="haxe.crypto.Base64";cd.encode=function(a,b){null==b&&(b=!0);var c=(new Sg(cd.BYTES)).encodeBytes(a).toString();if(b)switch(a.length%3){case 1:c+="==";break;case 2:c+="="}return c};cd.decode=function(a,b){null==b&&(b=!0);if(b)for(;61==E.cca(a,a.length-1);)a=E.substr(a,0,-1);return(new Sg(cd.BYTES)).decodeBytes(eb.ofString(a))};var Sg=function(a){for(var b=a.length,c=1;b>1<<c;)++c;if(8<c||b!=1<<c)throw P.thrown("BaseCode : base length must be a power of two.");
this.base=a;this.nbits=c};h["haxe.crypto.BaseCode"]=Sg;Sg.__name__="haxe.crypto.BaseCode";Sg.prototype={encodeBytes:function(a){for(var b=this.nbits,c=this.base,d=8*a.length/b|0,e=new eb(new ArrayBuffer(d+(0==8*a.length%b?0:1))),g=0,k=0,q=(1<<b)-1,f=0,n=0;n<d;){for(;k<b;)k+=8,g<<=8,g|=a.b[f++];k-=b;e.b[n++]=c.b[g>>k&q]&255}0<k&&(e.b[n++]=c.b[g<<b-k&q]&255);return e},initTable:function(){for(var a=[],b=0;256>b;){var c=b++;a[c]=-1}b=0;for(var d=this.base.length;b<d;)c=b++,a[this.base.b[c]]=c;this.tbl=
a},decodeBytes:function(a){var b=this.nbits;null==this.tbl&&this.initTable();for(var c=this.tbl,d=a.length*b>>3,e=new eb(new ArrayBuffer(d)),g=0,k=0,q=0,f=0;f<d;){for(;8>k;){k+=b;g<<=b;var n=c[a.b[q++]];if(-1==n)throw P.thrown("BaseCode : invalid encoded char");g|=n}k-=8;e.b[f++]=g>>k&255}return e},__class__:Sg};var nb=function(){this.h={}};h["haxe.ds.IntMap"]=nb;nb.__name__="haxe.ds.IntMap";nb.__interfaces__=[xd];nb.prototype={remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];
return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return new id(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a]}}},clear:function(){this.h={}},__class__:nb};var Bd=function(){this.length=0};h["haxe.ds.List"]=Bd;Bd.__name__="haxe.ds.List";Bd.prototype={add:function(a){a=new Tg(a,null);null==this.h?this.h=a:this.q.next=a;this.q=a;this.length++},push:function(a){this.h=
a=new Tg(a,this.h);null==this.q&&(this.q=a);this.length++},pop:function(){if(null==this.h)return null;var a=this.h.item;this.h=this.h.next;null==this.h&&(this.q=null);this.length--;return a},__class__:Bd};var Tg=function(a,b){this.item=a;this.next=b};h["haxe.ds._List.ListNode"]=Tg;Tg.__name__="haxe.ds._List.ListNode";Tg.prototype={__class__:Tg};var Xc=function(){this.h={__keys__:{}}};h["haxe.ds.ObjectMap"]=Xc;Xc.__name__="haxe.ds.ObjectMap";Xc.__interfaces__=[xd];Xc.prototype={set:function(a,b){var c=
a.__id__;null==c&&(c=a.__id__=A.$haxeUID++);this.h[c]=b;this.h.__keys__[c]=a},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return new id(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a.__id__]}}},clear:function(){this.h=
{__keys__:{}}},__class__:Xc};var Ia=function(){this.h=Object.create(null)};h["haxe.ds.StringMap"]=Ia;Ia.__name__="haxe.ds.StringMap";Ia.__interfaces__=[xd];Ia.prototype={iterator:function(){return new Sh(this.h)},clear:function(){this.h=Object.create(null)},__class__:Ia};var ce=function(a){this.h=a;this.keys=Object.keys(a);this.length=this.keys.length;this.current=0};h["haxe.ds._StringMap.StringMapKeyIterator"]=ce;ce.__name__="haxe.ds._StringMap.StringMapKeyIterator";ce.prototype={hasNext:function(){return this.current<
this.length},next:function(){return this.keys[this.current++]},__class__:ce};var Sh=function(a){this.h=a;this.keys=Object.keys(a);this.length=this.keys.length;this.current=0};h["haxe.ds._StringMap.StringMapValueIterator"]=Sh;Sh.__name__="haxe.ds._StringMap.StringMapValueIterator";Sh.prototype={hasNext:function(){return this.current<this.length},next:function(){return this.h[this.keys[this.current++]]},__class__:Sh};var le=function(a,b,c){P.call(this,a,b);this.posInfos=null==c?{fileName:"(unknown)",
lineNumber:0,className:"(unknown)",methodName:"(unknown)"}:c};h["haxe.exceptions.PosException"]=le;le.__name__="haxe.exceptions.PosException";le.__super__=P;le.prototype=m(P.prototype,{toString:function(){return""+P.prototype.toString.call(this)+" in "+this.posInfos.className+"."+this.posInfos.methodName+" at "+this.posInfos.fileName+":"+this.posInfos.lineNumber},__class__:le});var Be=function(a,b,c){null==a&&(a="Not implemented");le.call(this,a,b,c)};h["haxe.exceptions.NotImplementedException"]=
Be;Be.__name__="haxe.exceptions.NotImplementedException";Be.__super__=le;Be.prototype=m(le.prototype,{__class__:Be});var Ug=function(){this.size=this.pos=0};h["haxe.io.BytesBuffer"]=Ug;Ug.__name__="haxe.io.BytesBuffer";Ug.prototype={addByte:function(a){this.pos==this.size&&this.grow(1);this.view.setUint8(this.pos++,a)},add:function(a){this.pos+a.length>this.size&&this.grow(a.length);if(0!=this.size){var b=new Uint8Array(a.b.buffer,a.b.byteOffset,a.length);this.u8.set(b,this.pos);this.pos+=a.length}},
addBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw P.thrown(Qc.OutsideBounds);this.pos+c>this.size&&this.grow(c);0!=this.size&&(a=new Uint8Array(a.b.buffer,a.b.byteOffset+b,c),this.u8.set(a,this.pos),this.pos+=c)},grow:function(a){var b=this.pos+a;for(a=0==this.size?16:this.size;a<b;)a=3*a>>1;b=new ArrayBuffer(a);var c=new Uint8Array(b);0<this.size&&c.set(this.u8);this.size=a;this.buffer=b;this.u8=c;this.view=new DataView(this.buffer)},getBytes:function(){if(0==this.size)return new eb(new ArrayBuffer(0));
var a=new eb(this.buffer);a.length=this.pos;return a},__class__:Ug};var Vg=function(){};h["haxe.io.Input"]=Vg;Vg.__name__="haxe.io.Input";Vg.prototype={readByte:function(){throw new Be(null,null,{fileName:"haxe/io/Input.hx",lineNumber:53,className:"haxe.io.Input",methodName:"readByte"});},readBytes:function(a,b,c){var d=c,e=a.b;if(0>b||0>c||b+c>a.length)throw P.thrown(Qc.OutsideBounds);try{for(;0<d;)e[b]=this.readByte(),++b,--d}catch(g){if(!(P.caught(g).unwrap()instanceof Ve))throw g;}return c-d},
readFullBytes:function(a,b,c){for(;0<c;){var d=this.readBytes(a,b,c);if(0==d)throw P.thrown(Qc.Blocked);b+=d;c-=d}},read:function(a){for(var b=new eb(new ArrayBuffer(a)),c=0;0<a;){var d=this.readBytes(b,c,a);if(0==d)throw P.thrown(Qc.Blocked);c+=d;a-=d}return b},readInt16:function(){var a=this.readByte(),b=this.readByte();a=this.bigEndian?b|a<<8:a|b<<8;return 0!=(a&32768)?a-65536:a},readUInt16:function(){var a=this.readByte(),b=this.readByte();return this.bigEndian?b|a<<8:a|b<<8},readInt32:function(){var a=
this.readByte(),b=this.readByte(),c=this.readByte(),d=this.readByte();return this.bigEndian?d|c<<8|b<<16|a<<24:a|b<<8|c<<16|d<<24},readString:function(a,b){var c=new eb(new ArrayBuffer(a));this.readFullBytes(c,0,a);return c.getString(0,a,b)},__class__:Vg};var Wg=function(a,b,c){null==b&&(b=0);null==c&&(c=a.length-b);if(0>b||0>c||b+c>a.length)throw P.thrown(Qc.OutsideBounds);this.b=a.b;this.pos=b;this.totlen=this.len=c};h["haxe.io.BytesInput"]=Wg;Wg.__name__="haxe.io.BytesInput";Wg.__super__=Vg;Wg.prototype=
m(Vg.prototype,{readByte:function(){if(0==this.len)throw P.thrown(new Ve);this.len--;return this.b[this.pos++]},readBytes:function(a,b,c){if(0>b||0>c||b+c>a.length)throw P.thrown(Qc.OutsideBounds);if(0==this.len&&0<c)throw P.thrown(new Ve);this.len<c&&(c=this.len);var d=this.b;a=a.b;for(var e=0,g=c;e<g;){var k=e++;a[b+k]=d[this.pos+k]}this.pos+=c;this.len-=c;return c},__class__:Wg});var Ki=K["haxe.io.Encoding"]={__ename__:"haxe.io.Encoding",__constructs__:null,UTF8:{_hx_name:"UTF8",_hx_index:0,__enum__:"haxe.io.Encoding",
toString:f},RawNative:{_hx_name:"RawNative",_hx_index:1,__enum__:"haxe.io.Encoding",toString:f}};Ki.__constructs__=[Ki.UTF8,Ki.RawNative];var Ve=function(){};h["haxe.io.Eof"]=Ve;Ve.__name__="haxe.io.Eof";Ve.prototype={toString:function(){return"Eof"},__class__:Ve};var Qc=K["haxe.io.Error"]={__ename__:"haxe.io.Error",__constructs__:null,Blocked:{_hx_name:"Blocked",_hx_index:0,__enum__:"haxe.io.Error",toString:f},Overflow:{_hx_name:"Overflow",_hx_index:1,__enum__:"haxe.io.Error",toString:f},OutsideBounds:{_hx_name:"OutsideBounds",
_hx_index:2,__enum__:"haxe.io.Error",toString:f},Custom:(I=function(a){return{_hx_index:3,e:a,__enum__:"haxe.io.Error",toString:f}},I._hx_name="Custom",I.__params__=["e"],I)};Qc.__constructs__=[Qc.Blocked,Qc.Overflow,Qc.OutsideBounds,Qc.Custom];var Ti={fromBytes:function(a,b,c){null==b&&(b=0);null==c&&(c=a.length-b>>2);return new Float32Array(a.b.bufferValue,b,c)}},Qd=function(a){switch(a){case ".":case "..":this.dir=a;this.file="";return}var b=a.lastIndexOf("/"),c=a.lastIndexOf("\\");b<c?(this.dir=
E.substr(a,0,c),a=E.substr(a,c+1,null),this.backslash=!0):c<b?(this.dir=E.substr(a,0,b),a=E.substr(a,b+1,null)):this.dir=null;b=a.lastIndexOf(".");-1!=b?(this.ext=E.substr(a,b+1,null),this.file=E.substr(a,0,b)):(this.ext=null,this.file=a)};h["haxe.io.Path"]=Qd;Qd.__name__="haxe.io.Path";Qd.directory=function(a){a=new Qd(a);return null==a.dir?"":a.dir};Qd.prototype={__class__:Qd};var We={resolve:function(a,b){var c=a.elementsNamed(b).next();if(null==c){if(a.nodeType==S.Document)a="Document";else{if(a.nodeType!=
S.Element)throw P.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":Ca.toString(a.nodeType)));a=a.nodeName}throw P.thrown(a+" is missing element "+b);}if(c.nodeType!=S.Document&&c.nodeType!=S.Element)throw P.thrown("Invalid nodeType "+(null==c.nodeType?"null":Ca.toString(c.nodeType)));return c}},nc={resolve:function(a,b){if(a.nodeType==S.Document)throw P.thrown("Cannot access document attribute "+b);var c=a.get(b);if(null==c){if(a.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element but found "+
(null==a.nodeType?"null":Ca.toString(a.nodeType)));throw P.thrown(a.nodeName+" is missing attribute "+b);}return c}},Li={resolve:function(a,b){if(a.nodeType==S.Document)throw P.thrown("Cannot access document attribute "+b);return a.exists(b)}},Ui={resolve:function(a,b){return a.elementsNamed(b).hasNext()}},Ab=function(a,b,c){this.xml=b;this.message=a;this.position=c;this.lineNumber=1;for(a=this.positionAtLine=0;a<c;){var d=a++;d=b.charCodeAt(d);10==d?(this.lineNumber++,this.positionAtLine=0):13!=
d&&this.positionAtLine++}};h["haxe.xml.XmlParserException"]=Ab;Ab.__name__="haxe.xml.XmlParserException";Ab.prototype={toString:function(){return L.getClass(this).__name__+": "+this.message+" at line "+this.lineNumber+" char "+this.positionAtLine},__class__:Ab};var rd=function(){};h["haxe.xml.Parser"]=rd;rd.__name__="haxe.xml.Parser";rd.parse=function(a,b){null==b&&(b=!1);var c=S.createDocument();rd.doParse(a,b,0,c);return c};rd.doParse=function(a,b,c,d){null==c&&(c=0);for(var e=null,g=1,k=1,q=null,
f=0,n=0,p=0,h=new Fa,l=1,m=-1;c<a.length;){var G=a.charCodeAt(c);switch(g){case 0:switch(G){case 9:case 10:case 13:case 32:break;default:g=k;continue}break;case 1:if(60==G)g=0,k=2;else{f=c;g=13;continue}break;case 2:switch(G){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=E.substr(a,c,6).toUpperCase())throw P.thrown(new Ab("Expected <![CDATA[",a,c));c+=5;g=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=E.substr(a,c+2,6).toUpperCase())throw P.thrown(new Ab("Expected <!DOCTYPE",
a,c));c+=8;g=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw P.thrown(new Ab("Expected \x3c!--",a,c));c+=2;g=15}f=c+1;break;case 47:if(null==d)throw P.thrown(new Ab("Expected node name",a,c));f=c+1;g=0;k=10;break;case 63:g=14;f=c;break;default:g=3;f=c;continue}break;case 3:if(!(97<=G&&122>=G||65<=G&&90>=G||48<=G&&57>=G||58==G||46==G||95==G||45==G)){if(c==f)throw P.thrown(new Ab("Expected node name",a,c));e=S.createElement(E.substr(a,f,c-f));d.addChild(e);++n;g=0;k=4;continue}break;case 4:switch(G){case 47:g=
11;break;case 62:g=9;break;default:g=5;f=c;continue}break;case 5:if(!(97<=G&&122>=G||65<=G&&90>=G||48<=G&&57>=G||58==G||46==G||95==G||45==G)){if(f==c)throw P.thrown(new Ab("Expected attribute name",a,c));q=E.substr(a,f,c-f);if(e.exists(q))throw P.thrown(new Ab("Duplicate attribute ["+q+"]",a,c));g=0;k=6;continue}break;case 6:if(61==G)g=0,k=7;else throw P.thrown(new Ab("Expected =",a,c));break;case 7:switch(G){case 34:case 39:h=new Fa;g=8;f=c+1;m=G;break;default:throw P.thrown(new Ab('Expected "',
a,c));}break;case 8:switch(G){case 38:l=c-f;h.b+=null==l?E.substr(a,f,null):E.substr(a,f,l);g=18;l=8;f=c+1;break;case 60:case 62:if(b)throw P.thrown(new Ab("Invalid unescaped "+String.fromCodePoint(G)+" in attribute value",a,c));G==m&&(k=c-f,h.b+=null==k?E.substr(a,f,null):E.substr(a,f,k),k=h.b,h=new Fa,e.set(q,k),g=0,k=4);break;default:G==m&&(k=c-f,h.b+=null==k?E.substr(a,f,null):E.substr(a,f,k),k=h.b,h=new Fa,e.set(q,k),g=0,k=4)}break;case 9:f=c=rd.doParse(a,b,c,e);g=1;break;case 10:if(!(97<=G&&
122>=G||65<=G&&90>=G||48<=G&&57>=G||58==G||46==G||95==G||45==G)){if(f==c)throw P.thrown(new Ab("Expected node name",a,c));k=E.substr(a,f,c-f);if(null==d||0!=d.nodeType)throw P.thrown(new Ab("Unexpected </"+k+">, tag is not open",a,c));if(d.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element but found "+(null==d.nodeType?"null":Ca.toString(d.nodeType)));if(k!=d.nodeName){if(d.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element but found "+(null==d.nodeType?"null":Ca.toString(d.nodeType)));
throw P.thrown(new Ab("Expected </"+d.nodeName+">",a,c));}g=0;k=12;continue}break;case 11:if(62==G)g=1;else throw P.thrown(new Ab("Expected >",a,c));break;case 12:if(62==G)return 0==n&&d.addChild(S.createPCData("")),c;throw P.thrown(new Ab("Expected >",a,c));case 13:60==G?(k=c-f,h.b+=null==k?E.substr(a,f,null):E.substr(a,f,k),k=S.createPCData(h.b),h=new Fa,d.addChild(k),++n,g=0,k=2):38==G&&(l=c-f,h.b+=null==l?E.substr(a,f,null):E.substr(a,f,l),g=18,l=13,f=c+1);break;case 14:63==G&&62==a.charCodeAt(c+
1)&&(++c,g=E.substr(a,f+1,c-f-2),d.addChild(S.createProcessingInstruction(g)),++n,g=1);break;case 15:45==G&&45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(d.addChild(S.createComment(E.substr(a,f,c-f))),++n,c+=2,g=1);break;case 16:91==G?++p:93==G?--p:62==G&&0==p&&(d.addChild(S.createDocType(E.substr(a,f,c-f))),++n,g=1);break;case 17:93==G&&93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(g=S.createCData(E.substr(a,f,c-f)),d.addChild(g),++n,c+=2,g=1);break;case 18:if(59==G){f=E.substr(a,f,c-f);if(35==
f.charCodeAt(0))f=120==f.charCodeAt(1)?M.parseInt("0"+E.substr(f,1,f.length-1)):M.parseInt(E.substr(f,1,f.length-1)),h.b+=String.fromCodePoint(f);else if(Object.prototype.hasOwnProperty.call(rd.escapes.h,f))h.b+=M.string(rd.escapes.h[f]);else{if(b)throw P.thrown(new Ab("Undefined entity: "+f,a,c));h.b+=M.string("&"+f+";")}f=c+1;g=l}else if(!(97<=G&&122>=G||65<=G&&90>=G||48<=G&&57>=G||58==G||46==G||95==G||45==G)&&35!=G){if(b)throw P.thrown(new Ab("Invalid character in entity: "+String.fromCodePoint(G),
a,c));h.b+=String.fromCodePoint(38);g=c-f;h.b+=null==g?E.substr(a,f,null):E.substr(a,f,g);--c;f=c+1;g=l}}++c}1==g&&(f=c,g=13);if(13==g){if(0==d.nodeType){if(d.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element but found "+(null==d.nodeType?"null":Ca.toString(d.nodeType)));throw P.thrown(new Ab("Unclosed node <"+d.nodeName+">",a,c));}if(c!=f||0==n)l=c-f,h.b+=null==l?E.substr(a,f,null):E.substr(a,f,l),d.addChild(S.createPCData(h.b));return c}if(!b&&18==g&&13==l)return h.b+=String.fromCodePoint(38),
l=c-f,h.b+=null==l?E.substr(a,f,null):E.substr(a,f,l),d.addChild(S.createPCData(h.b)),c;throw P.thrown(new Ab("Unexpected end",a,c));};var Ce=function(a){this.output=new Fa;this.pretty=a};h["haxe.xml.Printer"]=Ce;Ce.__name__="haxe.xml.Printer";Ce.print=function(a,b){null==b&&(b=!1);b=new Ce(b);b.writeNode(a,"");return b.output.b};Ce.prototype={writeNode:function(a,b){switch(a.nodeType){case 0:this.output.b+=M.string(b+"<");if(a.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element but found "+
(null==a.nodeType?"null":Ca.toString(a.nodeType)));this.output.b+=M.string(a.nodeName);for(var c=a.attributes();c.hasNext();){var d=c.next();this.output.b+=M.string(" "+d+'="');d=oa.htmlEscape(a.get(d),!0);this.output.b+=M.string(d);this.output.b+='"'}if(this.hasChildren(a)){this.output.b+=">";this.pretty&&(this.output.b+="\n");if(a.nodeType!=S.Document&&a.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element or Document but found "+(null==a.nodeType?"null":Ca.toString(a.nodeType)));
c=0;for(d=a.children;c<d.length;){var e=d[c++];this.writeNode(e,this.pretty?b+"\t":b)}this.output.b+=M.string(b+"</");if(a.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":Ca.toString(a.nodeType)));this.output.b+=M.string(a.nodeName);this.output.b+=">"}else this.output.b+="/>";this.pretty&&(this.output.b+="\n");break;case 1:if(a.nodeType==S.Document||a.nodeType==S.Element)throw P.thrown("Bad node type, unexpected "+(null==a.nodeType?"null":Ca.toString(a.nodeType)));
a=a.nodeValue;0!=a.length&&(d=b+oa.htmlEscape(a),this.output.b+=M.string(d),this.pretty&&(this.output.b+="\n"));break;case 2:this.output.b+=M.string(b+"<![CDATA[");if(a.nodeType==S.Document||a.nodeType==S.Element)throw P.thrown("Bad node type, unexpected "+(null==a.nodeType?"null":Ca.toString(a.nodeType)));this.output.b+=M.string(a.nodeValue);this.output.b+="]]\x3e";this.pretty&&(this.output.b+="\n");break;case 3:if(a.nodeType==S.Document||a.nodeType==S.Element)throw P.thrown("Bad node type, unexpected "+
(null==a.nodeType?"null":Ca.toString(a.nodeType)));a=a.nodeValue;a=a.replace(/[\n\r\t]+/g,"");this.output.b+=null==b?"null":""+b;d=oa.trim("\x3c!--"+a+"--\x3e");this.output.b+=M.string(d);this.pretty&&(this.output.b+="\n");break;case 4:if(a.nodeType==S.Document||a.nodeType==S.Element)throw P.thrown("Bad node type, unexpected "+(null==a.nodeType?"null":Ca.toString(a.nodeType)));this.output.b+=M.string("<!DOCTYPE "+a.nodeValue+">");this.pretty&&(this.output.b+="\n");break;case 5:if(a.nodeType==S.Document||
a.nodeType==S.Element)throw P.thrown("Bad node type, unexpected "+(null==a.nodeType?"null":Ca.toString(a.nodeType)));this.output.b+=M.string("<?"+a.nodeValue+"?>");this.pretty&&(this.output.b+="\n");break;case 6:if(a.nodeType!=S.Document&&a.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element or Document but found "+(null==a.nodeType?"null":Ca.toString(a.nodeType)));c=0;for(d=a.children;c<d.length;)e=d[c++],this.writeNode(e,b)}},hasChildren:function(a){if(a.nodeType!=S.Document&&a.nodeType!=
S.Element)throw P.thrown("Bad node type, expected Element or Document but found "+(null==a.nodeType?"null":Ca.toString(a.nodeType)));var b=0;for(a=a.children;b<a.length;){var c=a[b++];switch(c.nodeType){case 0:case 1:return!0;case 2:case 3:if(c.nodeType==S.Document||c.nodeType==S.Element)throw P.thrown("Bad node type, unexpected "+(null==c.nodeType?"null":Ca.toString(c.nodeType)));if(0!=oa.ltrim(c.nodeValue).length)return!0}}return!1},__class__:Ce};var me=K["haxe.zip.ExtraField"]={__ename__:"haxe.zip.ExtraField",
__constructs__:null,FUnknown:(I=function(a,b){return{_hx_index:0,tag:a,bytes:b,__enum__:"haxe.zip.ExtraField",toString:f}},I._hx_name="FUnknown",I.__params__=["tag","bytes"],I),FInfoZipUnicodePath:(I=function(a,b){return{_hx_index:1,name:a,crc:b,__enum__:"haxe.zip.ExtraField",toString:f}},I._hx_name="FInfoZipUnicodePath",I.__params__=["name","crc"],I),FUtf8:{_hx_name:"FUtf8",_hx_index:2,__enum__:"haxe.zip.ExtraField",toString:f}};me.__constructs__=[me.FUnknown,me.FInfoZipUnicodePath,me.FUtf8];var Rc=
K["haxe.zip.Huffman"]={__ename__:"haxe.zip.Huffman",__constructs__:null,Found:(I=function(a){return{_hx_index:0,i:a,__enum__:"haxe.zip.Huffman",toString:f}},I._hx_name="Found",I.__params__=["i"],I),NeedBit:(I=function(a,b){return{_hx_index:1,left:a,right:b,__enum__:"haxe.zip.Huffman",toString:f}},I._hx_name="NeedBit",I.__params__=["left","right"],I),NeedBits:(I=function(a,b){return{_hx_index:2,n:a,table:b,__enum__:"haxe.zip.Huffman",toString:f}},I._hx_name="NeedBits",I.__params__=["n","table"],I)};
Rc.__constructs__=[Rc.Found,Rc.NeedBit,Rc.NeedBits];var Th=function(){};h["haxe.zip.HuffTools"]=Th;Th.__name__="haxe.zip.HuffTools";Th.prototype={treeDepth:function(a){switch(a._hx_index){case 0:return 0;case 1:var b=a.right;a=this.treeDepth(a.left);b=this.treeDepth(b);return 1+(a<b?a:b);case 2:throw P.thrown("assert");}},treeCompress:function(a){var b=this.treeDepth(a);if(0==b)return a;if(1==b){if(1==a._hx_index)return b=a.right,Rc.NeedBit(this.treeCompress(a.left),this.treeCompress(b));throw P.thrown("assert");
}for(var c=[],d=0,e=1<<b;d<e;)d++,c.push(Rc.Found(-1));this.treeWalk(c,0,0,b,a);return Rc.NeedBits(b,c)},treeWalk:function(a,b,c,d,e){if(1==e._hx_index){var g=e.left,k=e.right;0<d?(this.treeWalk(a,b,c+1,d-1,g),this.treeWalk(a,b|1<<c,c+1,d-1,k)):a[b]=this.treeCompress(e)}else a[b]=this.treeCompress(e)},treeMake:function(a,b,c,d){if(d>b)throw P.thrown("Invalid huffman");var e=c<<5|d;if(a.h.hasOwnProperty(e))return Rc.Found(a.h[e]);c<<=1;++d;return Rc.NeedBit(this.treeMake(a,b,c,d),this.treeMake(a,b,
c|1,d))},make:function(a,b,c,d){if(1==c)return Rc.NeedBit(Rc.Found(0),Rc.Found(0));var e=[],g=[];if(32<d)throw P.thrown("Invalid huffman");for(var k=0,q=d;k<q;)k++,e.push(0),g.push(0);k=0;for(q=c;k<q;){var f=k++;f=a[f+b];if(f>=d)throw P.thrown("Invalid huffman");e[f]++}var n=0;k=1;for(q=d-1;k<q;)f=k++,n=n+e[f]<<1,g[f]=n;e=new nb;k=0;for(q=c;k<q;)f=k++,c=a[f+b],0!=c&&(n=g[c-1],g[c-1]=n+1,e.h[n<<5|c]=f);return this.treeCompress(Rc.NeedBit(this.treeMake(e,d,0,1),this.treeMake(e,d,1,1)))},__class__:Th};
var Uh=function(a){this.buffer=new eb(new ArrayBuffer(65536));this.pos=0;a&&(this.crc=new ke)};h["haxe.zip._InflateImpl.Window"]=Uh;Uh.__name__="haxe.zip._InflateImpl.Window";Uh.prototype={slide:function(){null!=this.crc&&this.crc.update(this.buffer,0,32768);var a=new eb(new ArrayBuffer(65536));this.pos-=32768;a.blit(0,this.buffer,32768,this.pos);this.buffer=a},addBytes:function(a,b,c){65536<this.pos+c&&this.slide();this.buffer.blit(this.pos,a,b,c);this.pos+=c},addByte:function(a){65536==this.pos&&
this.slide();this.buffer.b[this.pos]=a&255;this.pos++},getLastChar:function(){return this.buffer.b[this.pos-1]},available:function(){return this.pos},checksum:function(){null!=this.crc&&this.crc.update(this.buffer,0,this.pos);return this.crc},__class__:Uh};var sb=K["haxe.zip._InflateImpl.State"]={__ename__:"haxe.zip._InflateImpl.State",__constructs__:null,Head:{_hx_name:"Head",_hx_index:0,__enum__:"haxe.zip._InflateImpl.State",toString:f},Block:{_hx_name:"Block",_hx_index:1,__enum__:"haxe.zip._InflateImpl.State",
toString:f},CData:{_hx_name:"CData",_hx_index:2,__enum__:"haxe.zip._InflateImpl.State",toString:f},Flat:{_hx_name:"Flat",_hx_index:3,__enum__:"haxe.zip._InflateImpl.State",toString:f},Crc:{_hx_name:"Crc",_hx_index:4,__enum__:"haxe.zip._InflateImpl.State",toString:f},Dist:{_hx_name:"Dist",_hx_index:5,__enum__:"haxe.zip._InflateImpl.State",toString:f},DistOne:{_hx_name:"DistOne",_hx_index:6,__enum__:"haxe.zip._InflateImpl.State",toString:f},Done:{_hx_name:"Done",_hx_index:7,__enum__:"haxe.zip._InflateImpl.State",
toString:f}};sb.__constructs__=[sb.Head,sb.Block,sb.CData,sb.Flat,sb.Crc,sb.Dist,sb.DistOne,sb.Done];var Nb=function(a,b,c){null==c&&(c=!0);null==b&&(b=!0);this.isFinal=!1;this.htools=new Th;this.huffman=this.buildFixedHuffman();this.huffdist=null;this.dist=this.len=0;this.state=b?sb.Head:sb.Block;this.input=a;this.needed=this.nbits=this.bits=0;this.output=null;this.outpos=0;this.lengths=[];this.lengths.push(-1);this.lengths.push(-1);this.lengths.push(-1);this.lengths.push(-1);this.lengths.push(-1);
this.lengths.push(-1);this.lengths.push(-1);this.lengths.push(-1);this.lengths.push(-1);this.lengths.push(-1);this.lengths.push(-1);this.lengths.push(-1);this.lengths.push(-1);this.lengths.push(-1);this.lengths.push(-1);this.lengths.push(-1);this.lengths.push(-1);this.lengths.push(-1);this.lengths.push(-1);this.window=new Uh(c)};h["haxe.zip.InflateImpl"]=Nb;Nb.__name__="haxe.zip.InflateImpl";Nb.prototype={buildFixedHuffman:function(){if(null!=Nb.FIXED_HUFFMAN)return Nb.FIXED_HUFFMAN;for(var a=[],
b=0;288>b;){var c=b++;a.push(143>=c?8:255>=c?9:279>=c?7:8)}Nb.FIXED_HUFFMAN=this.htools.make(a,0,288,10);return Nb.FIXED_HUFFMAN},readBytes:function(a,b,c){this.needed=c;this.outpos=b;this.output=a;if(0<c)for(;this.inflateLoop(););return c-this.needed},getBits:function(a){for(;this.nbits<a;)this.bits|=this.input.readByte()<<this.nbits,this.nbits+=8;var b=this.bits&(1<<a)-1;this.nbits-=a;this.bits>>=a;return b},getBit:function(){0==this.nbits&&(this.nbits=8,this.bits=this.input.readByte());var a=1==
(this.bits&1);this.nbits--;this.bits>>=1;return a},getRevBits:function(a){return 0==a?0:this.getBit()?1<<a-1|this.getRevBits(a-1):this.getRevBits(a-1)},resetBits:function(){this.nbits=this.bits=0},addBytes:function(a,b,c){this.window.addBytes(a,b,c);this.output.blit(this.outpos,a,b,c);this.needed-=c;this.outpos+=c},addByte:function(a){this.window.addByte(a);this.output.b[this.outpos]=a&255;this.needed--;this.outpos++},addDistOne:function(a){for(var b=this.window.getLastChar(),c=0;c<a;)c++,this.addByte(b)},
addDist:function(a,b){this.addBytes(this.window.buffer,this.window.pos-a,b)},applyHuffman:function(a){switch(a._hx_index){case 0:var b=a.i;return b;case 1:return b=a.left,a=a.right,this.applyHuffman(this.getBit()?a:b);case 2:return b=a.n,this.applyHuffman(a.table[this.getBits(b)])}},inflateLengths:function(a,b){for(var c=0,d=0;c<b;){var e=this.applyHuffman(this.huffman);switch(e){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:case 15:d=
e;a[c]=e;++c;break;case 16:e=c+3+this.getBits(2);if(e>b)throw P.thrown("Invalid data");for(;c<e;)a[c]=d,++c;break;case 17:c+=3+this.getBits(3);if(c>b)throw P.thrown("Invalid data");break;case 18:c+=11+this.getBits(7);if(c>b)throw P.thrown("Invalid data");break;default:throw P.thrown("Invalid data");}}},inflateLoop:function(){switch(this.state._hx_index){case 0:var a=this.input.readByte();if(8!=(a&15))throw P.thrown("Invalid data");var b=this.input.readByte(),c=0!=(b&32);if(0!=((a<<8)+b)%31)throw P.thrown("Invalid data");
if(c)throw P.thrown("Unsupported dictionary");this.state=sb.Block;return!0;case 1:switch(this.isFinal=this.getBit(),this.getBits(2)){case 0:this.len=this.input.readUInt16();if(this.input.readUInt16()!=65535-this.len)throw P.thrown("Invalid data");this.state=sb.Flat;a=this.inflateLoop();this.resetBits();return a;case 1:return this.huffman=this.buildFixedHuffman(),this.huffdist=null,this.state=sb.CData,!0;case 2:a=this.getBits(5)+257;b=this.getBits(5)+1;var d=this.getBits(4)+4;c=0;for(var e=d;c<e;){var g=
c++;this.lengths[Nb.CODE_LENGTHS_POS[g]]=this.getBits(3)}c=d;for(e=19;c<e;)g=c++,this.lengths[Nb.CODE_LENGTHS_POS[g]]=0;this.huffman=this.htools.make(this.lengths,0,19,8);d=[];c=0;for(e=a+b;c<e;)c++,d.push(0);this.inflateLengths(d,a+b);this.huffdist=this.htools.make(d,a,b,16);this.huffman=this.htools.make(d,0,a,16);this.state=sb.CData;return!0;default:throw P.thrown("Invalid data");}case 2:b=this.applyHuffman(this.huffman);if(256>b)return this.addByte(b),0<this.needed;if(256==b)this.state=this.isFinal?
sb.Crc:sb.Block;else{b-=257;a=Nb.LEN_EXTRA_BITS_TBL[b];if(-1==a)throw P.thrown("Invalid data");this.len=Nb.LEN_BASE_VAL_TBL[b]+this.getBits(a);b=null==this.huffdist?this.getRevBits(5):this.applyHuffman(this.huffdist);a=Nb.DIST_EXTRA_BITS_TBL[b];if(-1==a)throw P.thrown("Invalid data");this.dist=Nb.DIST_BASE_VAL_TBL[b]+this.getBits(a);if(this.dist>this.window.available())throw P.thrown("Invalid data");this.state=1==this.dist?sb.DistOne:sb.Dist}return!0;case 3:return a=this.len<this.needed?this.len:
this.needed,b=this.input.read(a),this.len-=a,this.addBytes(b,0,a),0==this.len&&(this.state=this.isFinal?sb.Crc:sb.Block),0<this.needed;case 4:a=this.window.checksum();if(null==a)return this.state=sb.Done,!0;b=ke.read(this.input);if(!a.equals(b))throw P.thrown("Invalid CRC");this.state=sb.Done;return!0;case 5:for(;0<this.len&&0<this.needed;)a=this.len<this.dist?this.len:this.dist,a=this.needed<a?this.needed:a,this.addDist(this.dist,a),this.len-=a;0==this.len&&(this.state=sb.CData);return 0<this.needed;
case 6:return a=this.len<this.needed?this.len:this.needed,this.addDistOne(a),this.len-=a,0==this.len&&(this.state=sb.CData),0<this.needed;case 7:return!1}},__class__:Nb};var Xe=function(a){this.i=a};h["haxe.zip.Reader"]=Xe;Xe.__name__="haxe.zip.Reader";Xe.readZip=function(a){return(new Xe(a)).read()};Xe.prototype={readZipDate:function(){var a=this.i.readUInt16(),b=a>>11&31,c=a>>5&63;a&=31;var d=this.i.readUInt16();return new Date((d>>9)+1980,(d>>5&15)-1,d&31,b,c,a<<1)},readExtraFields:function(a){for(var b=
new Bd;0<a;){if(4>a)throw P.thrown("Invalid extra fields data");var c=this.i.readUInt16(),d=this.i.readUInt16();if(a<d)throw P.thrown("Invalid extra fields data");if(28789==c){var e=this.i.readByte();if(1!=e){var g=new Ug;g.addByte(e);g.add(this.i.read(d-1));b.add(me.FUnknown(c,g.getBytes()))}else c=this.i.readInt32(),e=this.i.read(d-5).toString(),b.add(me.FInfoZipUnicodePath(e,c))}else b.add(me.FUnknown(c,this.i.read(d)));a-=4+d}return b},readEntryHeader:function(){var a=this.i,b=a.readInt32();if(33639248==
b||101010256==b)return null;if(67324752!=b)throw P.thrown("Invalid Zip Data");a.readUInt16();b=a.readUInt16();var c=0!=(b&2048),d=a.readUInt16(),e=0!=d;if(e&&8!=d)throw P.thrown("Unsupported compression "+d);d=this.readZipDate();var g=a.readInt32(),k=a.readInt32(),q=a.readInt32(),f=a.readInt16(),n=a.readInt16();a=a.readString(f);n=this.readExtraFields(n);c&&n.push(me.FUtf8);0!=(b&8)&&(k=-1);return{fileName:a,fileSize:q,fileTime:d,compressed:e,dataSize:k,data:null,crc32:g,extraFields:n}},read:function(){for(var a=
new Bd,b=null;;){var c=this.readEntryHeader();if(null==c)break;if(0>c.dataSize){null==b&&(b=new eb(new ArrayBuffer(65536)));for(var d=new Ug,e=new Nb(this.i,!1,!1);;){var g=e.readBytes(b,0,65536);d.addBytes(b,0,g);if(65536>g)break}c.data=d.getBytes();c.crc32=this.i.readInt32();134695760==c.crc32&&(c.crc32=this.i.readInt32());c.dataSize=this.i.readInt32();c.fileSize=this.i.readInt32();c.dataSize=c.fileSize;c.compressed=!1}else c.data=this.i.read(c.dataSize);a.add(c)}return a},__class__:Xe};var L=function(){};
h["js.Boot"]=L;L.__name__="js.Boot";L.getClass=function(a){if(null==a)return null;if(a instanceof Array)return Array;var b=a.__class__;if(null!=b)return b;a=L.__nativeClassName(a);return null!=a?L.__resolveNativeClass(a):null};L.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "function":return"<function>";case "object":if(a.__enum__){var d=K[a.__enum__].__constructs__[a._hx_index];
c=d._hx_name;if(d.__params__){b+="\t";var e=[],g=0;for(d=d.__params__;g<d.length;){var k=d[g];g+=1;e.push(L.__string_rec(a[k],b))}return c+"("+e.join(",")+")"}return c}if(a instanceof Array){c="[";b+="\t";e=0;for(g=a.length;e<g;)d=e++,c+=(0<d?",":"")+L.__string_rec(a[d],b);return c+"]"}try{e=a.toString}catch(q){return"???"}if(null!=e&&e!=Object.toString&&"function"==typeof e&&(c=a.toString(),"[object Object]"!=c))return c;c="{\n";b+="\t";e=null!=a.hasOwnProperty;g=null;for(g in a)e&&!a.hasOwnProperty(g)||
"prototype"==g||"__class__"==g||"__super__"==g||"__interfaces__"==g||"__properties__"==g||(2!=c.length&&(c+=", \n"),c+=b+g+" : "+L.__string_rec(a[g],b));b=b.substring(1);return c+("\n"+b+"}");case "string":return a;default:return String(a)}};L.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var g=d++;g=c[g];if(g==b||L.__interfLoop(g,b))return!0}return L.__interfLoop(a.__super__,b)};L.__instanceof=function(a,b){if(null==
b)return!1;switch(b){case Array:return a instanceof Array;case Vi:return"boolean"==typeof a;case Wi:return null!=a;case Xi:return"number"==typeof a;case Yi:return"number"==typeof a?(a|0)===a:!1;case String:return"string"==typeof a;default:if(null!=a)if("function"==typeof b){if(L.__downcastCheck(a,b))return!0}else{if("object"==typeof b&&L.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==Oi&&null!=a.__name__||b==Pi&&null!=a.__ename__?!0:null!=a.__enum__?K[a.__enum__]==b:!1}};L.__downcastCheck=
function(a,b){return a instanceof b?!0:b.__isInterface__?L.__interfLoop(L.getClass(a),b):!1};L.__implements=function(a,b){return L.__interfLoop(L.getClass(a),b)};L.__cast=function(a,b){if(null==a||L.__instanceof(a,b))return a;throw P.thrown("Cannot cast "+M.string(a)+" to "+M.string(b));};L.__nativeClassName=function(a){a=L.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};L.__isNativeObj=function(a){return null!=L.__nativeClassName(a)};L.__resolveNativeClass=
function(a){return A[a]};var Xg=function(){};h["js.Browser"]=Xg;Xg.__name__="js.Browser";Xg.getLocalStorage=function(){try{var a=window.localStorage;a.getItem("");if(0==a.length){var b="_hx_"+Math.random();a.setItem(b,b);a.removeItem(b)}return a}catch(c){return null}};var Kh=function(){this.connected=!0;this.buttons=[];this.axes=[]};h["lime._internal.backend.html5.GameDeviceData"]=Kh;Kh.__name__="lime._internal.backend.html5.GameDeviceData";Kh.prototype={__class__:Kh};var Wh=function(a){this.parent=
a;this.id=-1;this.gain=1;this.position=new Vh};h["lime._internal.backend.html5.HTML5AudioSource"]=Wh;Wh.__name__="lime._internal.backend.html5.HTML5AudioSource";Wh.prototype={dispose:function(){},init:function(){},play:function(){if(!this.playing&&null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl){this.playing=!0;var a=this.getCurrentTime();this.completed=!1;var b=this.parent.buffer.__srcHowl._volume;this.parent.buffer.__srcHowl._volume=this.parent.get_gain();this.id=this.parent.buffer.__srcHowl.play();
this.parent.buffer.__srcHowl._volume=b;this.setPosition(this.parent.get_position());this.parent.buffer.__srcHowl.on("end",l(this,this.howl_onEnd),this.id);this.setCurrentTime(a)}},pause:function(){this.playing=!1;null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&this.parent.buffer.__srcHowl.pause(this.id)},stop:function(){this.playing=!1;null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&(this.parent.buffer.__srcHowl.stop(this.id),this.parent.buffer.__srcHowl.off("end",l(this,
this.howl_onEnd),this.id))},howl_onEnd:function(){this.playing=!1;0<this.loops?(this.loops--,this.stop(),this.play()):(null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&(this.parent.buffer.__srcHowl.stop(this.id),this.parent.buffer.__srcHowl.off("end",l(this,this.howl_onEnd),this.id)),this.completed=!0,this.parent.onComplete.dispatch())},getCurrentTime:function(){if(-1==this.id)return 0;if(this.completed)return this.getLength();if(null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl){var a=
(1E3*this.parent.buffer.__srcHowl.seek(this.id)|0)-this.parent.offset;return 0>a?0:a}return 0},setCurrentTime:function(a){if(null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl){var b=(a+this.parent.offset)/1E3;0>b&&(b=0);this.parent.buffer.__srcHowl.seek(b,this.id)}return a},getGain:function(){return this.gain},setGain:function(a){null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl&&-1!=this.id&&this.parent.buffer.__srcHowl.volume(a,this.id);return this.gain=a},getLength:function(){return 0!=
this.length?this.length:null!=this.parent.buffer&&null!=this.parent.buffer.__srcHowl?1E3*this.parent.buffer.__srcHowl.duration()|0:0},setLength:function(a){return this.length=a},setLoops:function(a){return this.loops=a},getPosition:function(){return this.position},setPosition:function(a){this.position.x=a.x;this.position.y=a.y;this.position.z=a.z;this.position.w=a.w;null!=this.parent.buffer.__srcHowl&&null!=this.parent.buffer.__srcHowl.pos&&this.parent.buffer.__srcHowl.pos(this.position.x,this.position.y,
this.position.z,this.id);return this.position},__class__:Wh};var na=function(){this.validStatus0=(new V("Tizen","gi")).match(window.navigator.userAgent)};h["lime._internal.backend.html5.HTML5HTTPRequest"]=na;na.__name__="lime._internal.backend.html5.HTML5HTTPRequest";na.loadImage=function(a){var b=new oc;na.activeRequests<na.requestLimit?(na.activeRequests++,na.__loadImage(a,b,0)):na.requestQueue.add({instance:null,uri:a,promise:b,type:"IMAGE",options:0});return b.future};na.loadImageFromBytes=function(a,
b){var c=URL.createObjectURL(new Blob([a.b.bufferValue],{type:b}));return null!=c?(a=new oc,na.activeRequests<na.requestLimit?(na.activeRequests++,na.__loadImage(c,a,1)):na.requestQueue.add({instance:null,uri:c,promise:a,type:"IMAGE",options:1}),a.future):na.loadImage("data:"+b+";base64,"+dd.encode(a))};na.processQueue=function(){if(na.activeRequests<na.requestLimit&&0<na.requestQueue.length){na.activeRequests++;var a=na.requestQueue.pop();switch(a.type){case "BINARY":a.instance.__loadData(a.uri,
a.promise);break;case "IMAGE":na.__loadImage(a.uri,a.promise,a.options);break;case "TEXT":a.instance.__loadText(a.uri,a.promise);break;default:na.activeRequests--}}};na.__fixHostname=function(a){return null==a?"":a};na.__fixPort=function(a,b){if(null==a||""==a)switch(b){case "ftp:":return"21";case "gopher:":return"70";case "http:":return"80";case "https:":return"443";case "ws:":return"80";case "wss:":return"443";default:return""}return a};na.__fixProtocol=function(a){return null==a||""==a?"http:":
a};na.__isInMemoryURI=function(a){return oa.startsWith(a,"data:")?!0:oa.startsWith(a,"blob:")};na.__isSameOrigin=function(a){if(null==a||""==a||na.__isInMemoryURI(a))return!0;null==na.originElement&&(na.originElement=window.document.createElement("a"),na.originHostname=na.__fixHostname(A.location.hostname),na.originProtocol=na.__fixProtocol(A.location.protocol),na.originPort=na.__fixPort(A.location.port,na.originProtocol));var b=na.originElement;b.href=a;""==b.hostname&&(b.href=b.href);var c=na.__fixHostname(b.hostname);
a=na.__fixProtocol(b.protocol);b=na.__fixPort(b.port,a);c=""==c||c==na.originHostname;b=""==b||b==na.originPort;return"file:"!=a&&c?b:!1};na.__loadImage=function(a,b,c){var d=new Image;na.__isSameOrigin(a)||(d.crossOrigin="Anonymous");null==na.supportsImageProgress&&(na.supportsImageProgress="onprogress"in d);if(na.supportsImageProgress||na.__isInMemoryURI(a))d.addEventListener("load",function(e){na.__revokeBlobURI(a,c);e=new nd(null,d.width,d.height);e.__srcImage=d;na.activeRequests--;na.processQueue();
b.complete(new Ya(e))},!1),d.addEventListener("progress",function(a){b.progress(a.loaded,a.total)},!1),d.addEventListener("error",function(d){na.__revokeBlobURI(a,c);na.activeRequests--;na.processQueue();b.error(d.detail)},!1),d.src=a;else{var e=new XMLHttpRequest;e.onload=function(a){na.activeRequests--;na.processQueue();(new Ya).__fromBytes(eb.ofData(e.response),function(a){b.complete(a)})};e.onerror=function(a){b.error(a.message)};e.onprogress=function(a){a.lengthComputable&&b.progress(a.loaded,
a.total)};e.open("GET",a,!0);e.responseType="arraybuffer";e.overrideMimeType("text/plain; charset=x-user-defined");e.send(null)}};na.__revokeBlobURI=function(a,b){0!=(b&1)&&URL.revokeObjectURL(a)};na.prototype={init:function(a){this.parent=a},load:function(a,b,c){this.request=new XMLHttpRequest;"POST"==this.parent.method?this.request.upload.addEventListener("progress",b,!1):this.request.addEventListener("progress",b,!1);this.request.onreadystatechange=c;b="";if(null==this.parent.data){c=Object.keys(this.parent.formData.h);
for(var d=c.length,e=0;e<d;){var g=c[e++];0<b.length&&(b+="&");var k=this.parent.formData.h[g];if(-1<g.indexOf("[]")&&k instanceof Array){var q=[];for(k=x(k);k.hasNext();){var f=k.next();q.push(encodeURIComponent(f))}q=q.join("&amp;"+g+"=");b+=encodeURIComponent(g)+"="+q}else q=encodeURIComponent(g)+"=",g=M.string(k),b+=q+encodeURIComponent(g)}"GET"==this.parent.method&&""!=b&&(a=-1<a.indexOf("?")?a+("&"+b):a+("?"+b),b="")}this.request.open(M.string(this.parent.method),a,!0);0<this.parent.timeout&&
(this.request.timeout=this.parent.timeout);this.binary&&(this.request.responseType="arraybuffer");a=null;q=0;for(c=this.parent.headers;q<c.length;)d=c[q],++q,"Content-Type"==d.name?a=d.value:this.request.setRequestHeader(d.name,d.value);null!=this.parent.contentType&&(a=this.parent.contentType);null==a&&(null!=this.parent.data?a="application/octet-stream":""!=b&&(a="application/x-www-form-urlencoded"));null!=a&&this.request.setRequestHeader("Content-Type",a);this.parent.withCredentials&&(this.request.withCredentials=
!0);null!=this.parent.data?this.request.send(this.parent.data.b.bufferValue):this.request.send(b)},loadData:function(a){var b=new oc;na.activeRequests<na.requestLimit?(na.activeRequests++,this.__loadData(a,b)):na.requestQueue.add({instance:this,uri:a,promise:b,type:"BINARY",options:0});return b.future},loadText:function(a){var b=new oc;na.activeRequests<na.requestLimit?(na.activeRequests++,this.__loadText(a,b)):na.requestQueue.add({instance:this,uri:a,promise:b,type:"TEXT",options:0});return b.future},
processResponse:function(){if(this.parent.enableResponseHeaders){this.parent.responseHeaders=[];for(var a,b,c=0,d=this.request.getAllResponseHeaders().split("\n");c<d.length;)b=d[c],++c,a=oa.trim(E.substr(b,0,b.indexOf(":"))),b=oa.trim(E.substr(b,b.indexOf(":")+1,null)),""!=a&&this.parent.responseHeaders.push(new Xh(a,b))}this.parent.responseStatus=this.request.status},__loadData:function(a,b){var c=this;this.binary=!0;this.load(a,function(a){b.progress(a.loaded,a.total)},function(a){4==c.request.readyState&&
(null!=c.request.status&&(200<=c.request.status&&400>c.request.status||c.validStatus0&&0==c.request.status)?(a=null,""==c.request.responseType?null!=c.request.responseText&&(a=eb.ofString(c.request.responseText)):null!=c.request.response&&(a=eb.ofData(c.request.response)),c.processResponse(),b.complete(a)):(c.processResponse(),b.error(c.request.status)),c.request=null,na.activeRequests--,na.processQueue())})},__loadText:function(a,b){var c=this;this.binary=!1;this.load(a,function(a){b.progress(a.loaded,
a.total)},function(a){4==c.request.readyState&&(null!=c.request.status&&(200<=c.request.status&&400>=c.request.status||c.validStatus0&&0==c.request.status)?(c.processResponse(),b.complete(c.request.responseText)):(c.processResponse(),b.error(c.request.status)),c.request=null,na.activeRequests--,na.processQueue())})},__class__:na};var Ye=function(a){this.unusedTouchesPool=new Bd;this.scale=1;this.currentTouches=new nb;this.parent=a;this.cursor=Hb.DEFAULT;this.cacheMouseY=this.cacheMouseX=0;var b=a.__attributes;
Object.prototype.hasOwnProperty.call(b,"context")||(b.context={});this.renderType=b.context.type;Object.prototype.hasOwnProperty.call(b,"element")&&(a.element=b.element);var c=a.element;Object.prototype.hasOwnProperty.call(b,"allowHighDPI")&&b.allowHighDPI&&"dom"!=this.renderType&&(this.scale=window.devicePixelRatio);a.__scale=this.scale;this.setWidth=Object.prototype.hasOwnProperty.call(b,"width")?b.width:0;this.setHeight=Object.prototype.hasOwnProperty.call(b,"height")?b.height:0;a.__width=this.setWidth;
a.__height=this.setHeight;a.id=Ye.windowID++;c instanceof HTMLCanvasElement?this.canvas=c:"dom"==this.renderType?this.div=window.document.createElement("div"):this.canvas=window.document.createElement("canvas");if(null!=this.canvas){var d=this.canvas.style;d.setProperty("-webkit-transform","translateZ(0)",null);d.setProperty("transform","translateZ(0)",null)}else null!=this.div&&(d=this.div.style,d.setProperty("-webkit-transform","translate3D(0,0,0)",null),d.setProperty("transform","translate3D(0,0,0)",
null),d.position="relative",d.overflow="hidden",d.setProperty("-webkit-user-select","none",null),d.setProperty("-moz-user-select","none",null),d.setProperty("-ms-user-select","none",null),d.setProperty("-o-user-select","none",null));0==a.__width&&0==a.__height&&(null!=c?(a.__width=c.clientWidth,a.__height=c.clientHeight):(a.__width=window.innerWidth,a.__height=window.innerHeight),this.cacheElementWidth=a.__width,this.cacheElementHeight=a.__height,this.resizeElement=!0);null!=this.canvas?(this.canvas.width=
Math.round(a.__width*this.scale),this.canvas.height=Math.round(a.__height*this.scale),this.canvas.style.width=a.__width+"px",this.canvas.style.height=a.__height+"px"):(this.div.style.width=a.__width+"px",this.div.style.height=a.__height+"px");if(Object.prototype.hasOwnProperty.call(b,"resizable")&&b.resizable||!Object.prototype.hasOwnProperty.call(b,"width")&&0==this.setWidth&&0==this.setHeight)a.__resizable=!0;this.updateSize();if(null!=c){null!=this.canvas?c!=this.canvas&&c.appendChild(this.canvas):
c.appendChild(this.div);b="mousedown mouseenter mouseleave mousemove mouseup wheel".split(" ");for(d=0;d<b.length;){var e=b[d];++d;c.addEventListener(e,l(this,this.handleMouseEvent),!0)}c.addEventListener("contextmenu",l(this,this.handleContextMenuEvent),!0);c.addEventListener("dragstart",l(this,this.handleDragEvent),!0);c.addEventListener("dragover",l(this,this.handleDragEvent),!0);c.addEventListener("drop",l(this,this.handleDragEvent),!0);c.addEventListener("touchstart",l(this,this.handleTouchEvent),
!0);c.addEventListener("touchmove",l(this,this.handleTouchEvent),!0);c.addEventListener("touchend",l(this,this.handleTouchEvent),!0);c.addEventListener("touchcancel",l(this,this.handleTouchEvent),!0);c.addEventListener("gamepadconnected",l(this,this.handleGamepadEvent),!0);c.addEventListener("gamepaddisconnected",l(this,this.handleGamepadEvent),!0)}this.createContext();"webgl"==a.context.type&&(this.canvas.addEventListener("webglcontextlost",l(this,this.handleContextEvent),!1),this.canvas.addEventListener("webglcontextrestored",
l(this,this.handleContextEvent),!1))};h["lime._internal.backend.html5.HTML5Window"]=Ye;Ye.__name__="lime._internal.backend.html5.HTML5Window";Ye.prototype={close:function(){this.parent.application.__removeWindow(this.parent)},createContext:function(){var a=new Yh,b=this.parent.__attributes.context;a.window=this.parent;a.attributes=b;if(null!=this.div)a.dom=this.div,a.type="dom",a.version="";else if(null!=this.canvas){var c=null,d=!Object.prototype.hasOwnProperty.call(b,"version")||"1"!=b.version,
e=!1,g=Object.prototype.hasOwnProperty.call(b,"background")&&null==b.background,k=Object.prototype.hasOwnProperty.call(b,"colorDepth")?b.colorDepth:16,q=Object.prototype.hasOwnProperty.call(b,"antialiasing")&&0<b.antialiasing,f=Object.prototype.hasOwnProperty.call(b,"depth")?b.depth:!0;b=Object.prototype.hasOwnProperty.call(b,"stencil")&&b.stencil;g={alpha:g||16<k,antialias:q,depth:f,premultipliedAlpha:!0,stencil:b,preserveDrawingBuffer:!1,failIfMajorPerformanceCaveat:!1};k=["webgl","experimental-webgl"];
d&&k.unshift("webgl2");for(d=0;d<k.length&&(q=k[d],++d,c=this.canvas.getContext(q,g),null!=c&&"webgl2"==q&&(e=!0),null==c););null==c?(a.canvas2D=this.canvas.getContext("2d"),a.type="canvas",a.version=""):(a.webgl=ob.fromWebGL2RenderContext(c),e&&(a.webgl2=c),null==Ze.context&&(Ze.context=c,Ze.type="webgl",Ze.version=e?2:1),a.type="webgl",a.version=e?"2":"1")}this.parent.context=a},handleContextEvent:function(a){switch(a.type){case "webglcontextlost":a.cancelable&&a.preventDefault();this.parent.context=
null;this.parent.onRenderContextLost.dispatch();break;case "webglcontextrestored":this.createContext(),this.parent.onRenderContextRestored.dispatch(this.parent.context)}},handleContextMenuEvent:function(a){(this.parent.onMouseUp.canceled||this.parent.onMouseDown.canceled)&&a.cancelable&&a.preventDefault()},handleDragEvent:function(a){switch(a.type){case "dragover":return a.preventDefault(),!1;case "dragstart":if("img"==L.__cast(a.target,HTMLElement).nodeName.toLowerCase()&&a.cancelable)return a.preventDefault(),
!1;break;case "drop":if(null!=a.dataTransfer&&0<a.dataTransfer.files.length)return this.parent.onDropFile.dispatch(a.dataTransfer.files),a.preventDefault(),!1}return!0},handleGamepadEvent:function(a){switch(a.type){case "gamepadconnected":vb.__connect(a.gamepad.index);"standard"==a.gamepad.mapping&&Gb.__connect(a.gamepad.index);break;case "gamepaddisconnected":vb.__disconnect(a.gamepad.index),Gb.__disconnect(a.gamepad.index)}},handleMouseEvent:function(a){if("wheel"!=a.type){if(null!=this.parent.element)if(null!=
this.canvas){var b=this.canvas.getBoundingClientRect();var c=this.parent.__width/b.width*(a.clientX-b.left);b=this.parent.__height/b.height*(a.clientY-b.top)}else null!=this.div?(b=this.div.getBoundingClientRect(),c=a.clientX-b.left,b=a.clientY-b.top):(b=this.parent.element.getBoundingClientRect(),c=this.parent.__width/b.width*(a.clientX-b.left),b=this.parent.__height/b.height*(a.clientY-b.top));else c=a.clientX,b=a.clientY;switch(a.type){case "mousedown":a.currentTarget==this.parent.element&&window.addEventListener("mouseup",
l(this,this.handleMouseEvent));this.parent.onMouseDown.dispatch(c,b,a.button);this.parent.onMouseDown.canceled&&a.cancelable&&a.preventDefault();break;case "mouseenter":a.target==this.parent.element&&(this.parent.onEnter.dispatch(),this.parent.onEnter.canceled&&a.cancelable&&a.preventDefault());break;case "mouseleave":a.target==this.parent.element&&(this.parent.onLeave.dispatch(),this.parent.onLeave.canceled&&a.cancelable&&a.preventDefault());break;case "mousemove":if(c!=this.cacheMouseX||b!=this.cacheMouseY)this.parent.onMouseMove.dispatch(c,
b),this.parent.onMouseMoveRelative.dispatch(c-this.cacheMouseX,b-this.cacheMouseY),(this.parent.onMouseMove.canceled||this.parent.onMouseMoveRelative.canceled)&&a.cancelable&&a.preventDefault();break;case "mouseup":window.removeEventListener("mouseup",l(this,this.handleMouseEvent)),a.currentTarget==this.parent.element&&a.stopPropagation(),this.parent.onMouseUp.dispatch(c,b,a.button),this.parent.onMouseUp.canceled&&a.cancelable&&a.preventDefault()}this.cacheMouseX=c;this.cacheMouseY=b}else{switch(a.deltaMode){case 0:c=
Rd.PIXELS;break;case 1:c=Rd.LINES;break;case 2:c=Rd.PAGES;break;default:c=Rd.UNKNOWN}this.parent.onMouseWheel.dispatch(a.deltaX,-a.deltaY,c);this.parent.onMouseWheel.canceled&&a.cancelable&&a.preventDefault()}},handleResizeEvent:function(a){this.primaryTouch=null;this.updateSize()},handleTouchEvent:function(a){a.cancelable&&a.preventDefault();var b=null;null!=this.parent.element&&(b=null!=this.canvas?this.canvas.getBoundingClientRect():null!=this.div?this.div.getBoundingClientRect():this.parent.element.getBoundingClientRect());
var c=this.setWidth,d=this.setHeight;if(0==c||0==d)null!=b?(c=b.width,d=b.height):d=c=1;for(var e,g,k,q,f,n=0,p=a.changedTouches;n<p.length;){var h=p[n];++n;null!=b?(g=c/b.width*(h.clientX-b.left),k=d/b.height*(h.clientY-b.top)):(g=h.clientX,k=h.clientY);if("touchstart"==a.type)e=this.unusedTouchesPool.pop(),null==e?e=new ec(g/c,k/d,h.identifier,0,0,h.force,this.parent.id):(e.x=g/c,e.y=k/d,e.id=h.identifier,e.dx=0,e.dy=0,e.pressure=h.force,e.device=this.parent.id),this.currentTouches.h[h.identifier]=
e,ec.onStart.dispatch(e),null==this.primaryTouch&&(this.primaryTouch=e),e==this.primaryTouch&&this.parent.onMouseDown.dispatch(g,k,0);else if(e=this.currentTouches.h[h.identifier],null!=e)switch(q=e.x,f=e.y,e.x=g/c,e.y=k/d,e.dx=e.x-q,e.dy=e.y-f,e.pressure=h.force,a.type){case "touchcancel":ec.onCancel.dispatch(e);this.currentTouches.remove(h.identifier);this.unusedTouchesPool.add(e);e==this.primaryTouch&&(this.primaryTouch=null);break;case "touchend":ec.onEnd.dispatch(e);this.currentTouches.remove(h.identifier);
this.unusedTouchesPool.add(e);e==this.primaryTouch&&(this.parent.onMouseUp.dispatch(g,k,0),this.primaryTouch=null);break;case "touchmove":ec.onMove.dispatch(e),e==this.primaryTouch&&this.parent.onMouseMove.dispatch(g,k)}}},setCursor:function(a){if(this.cursor!=a){if(null==a)this.parent.element.style.cursor="none";else{switch(a._hx_index){case 0:var b="default";break;case 1:b="crosshair";break;case 3:b="move";break;case 4:b="pointer";break;case 5:b="nesw-resize";break;case 6:b="ns-resize";break;case 7:b=
"nwse-resize";break;case 8:b="ew-resize";break;case 9:b="text";break;case 10:b="wait";break;case 11:b="wait";break;default:b="auto"}this.parent.element.style.cursor=b}this.cursor=a}return this.cursor},updateSize:function(){if(this.parent.__resizable){if(null!=this.parent.element){var a=this.parent.element.clientWidth;var b=this.parent.element.clientHeight}else a=window.innerWidth,b=window.innerHeight;if(a!=this.cacheElementWidth||b!=this.cacheElementHeight){this.cacheElementWidth=a;this.cacheElementHeight=
b;var c=this.resizeElement||0==this.setWidth&&0==this.setHeight;if(null!=this.parent.element&&(null==this.div||null!=this.div&&c))if(c){if(this.parent.__width!=a||this.parent.__height!=b)this.parent.__width=a,this.parent.__height=b,null!=this.canvas?this.parent.element!=this.canvas&&(this.canvas.width=Math.round(a*this.scale),this.canvas.height=Math.round(b*this.scale),this.canvas.style.width=a+"px",this.canvas.style.height=b+"px"):(this.div.style.width=a+"px",this.div.style.height=b+"px"),this.parent.onResize.dispatch(a,
b)}else{c=0!=this.setWidth?a/this.setWidth:1;var d=0!=this.setHeight?b/this.setHeight:1,e=a,g=b,k=0,q=0;c<d?(g=Math.floor(this.setHeight*c),q=Math.floor((b-g)/2)):(e=Math.floor(this.setWidth*d),k=Math.floor((a-e)/2));null!=this.canvas?this.parent.element!=this.canvas&&(this.canvas.style.width=e+"px",this.canvas.style.height=g+"px",this.canvas.style.marginLeft=k+"px",this.canvas.style.marginTop=q+"px"):(this.div.style.width=e+"px",this.div.style.height=g+"px",this.div.style.marginLeft=k+"px",this.div.style.marginTop=
q+"px")}}}},__class__:Ye};var dd=function(){};h["lime._internal.format.Base64"]=dd;dd.__name__="lime._internal.format.Base64";dd.encode=function(a){var b=[],c=dd.DICTIONARY,d=dd.EXTENDED_DICTIONARY,e=a.length,g=Math.floor(e/3),k=2*g;b.length=2*Math.ceil(e/3);for(var q=0,f=0,n;f<k;)n=a.b[q]<<16|a.b[q+1]<<8|a.b[q+2],b[f]=d[n>>12&4095],b[f+1]=d[n&4095],q+=3,f+=2;switch(e-3*g){case 1:n=a.b[q]<<16;b[f]=d[n>>12&4095];b[f+1]="==";break;case 2:n=a.b[q]<<16|a.b[q+1]<<8,b[f]=d[n>>12&4095],b[f+1]=c[n>>6&63]+
"="}return b.join("")};var Di=function(){};h["lime._internal.format.Deflate"]=Di;Di.__name__="lime._internal.format.Deflate";Di.decompress=function(a){a=pako.inflateRaw(a.b.bufferValue);return eb.ofData(a)};var Ei=function(){};h["lime._internal.format.GZip"]=Ei;Ei.__name__="lime._internal.format.GZip";Ei.decompress=function(a){a=pako.ungzip(a.b.bufferValue);return eb.ofData(a)};var Fi=function(){};h["lime._internal.format.LZMA"]=Fi;Fi.__name__="lime._internal.format.LZMA";Fi.decompress=function(a){return null};
var Gi=function(){};h["lime._internal.format.Zlib"]=Gi;Gi.__name__="lime._internal.format.Zlib";Gi.decompress=function(a){a=pako.inflate(a.b.bufferValue);return eb.ofData(a)};var Pa=function(){};h["lime._internal.graphics.ImageCanvasUtil"]=Pa;Pa.__name__="lime._internal.graphics.ImageCanvasUtil";Pa.convertToCanvas=function(a,b){null==b&&(b=!1);var c=a.buffer;null!=c.__srcImage?(null==c.__srcCanvas&&(Pa.createCanvas(a,c.__srcImage.width,c.__srcImage.height),c.__srcContext.drawImage(c.__srcImage,0,
0)),c.__srcImage=null):null==c.__srcCanvas&&null!=c.data?(a.set_transparent(!0),Pa.createCanvas(a,c.width,c.height),Pa.createImageData(a),c.__srcContext.putImageData(c.__srcImageData,0,0)):a.type==Ec.DATA&&null!=c.__srcImageData&&a.dirty&&(c.__srcContext.putImageData(c.__srcImageData,0,0),a.dirty=!1);b?(c.data=null,c.__srcImageData=null):null==c.data&&null!=c.__srcImageData&&(c.data=c.__srcImageData.data);a.type=Ec.CANVAS};Pa.convertToData=function(a,b){null==b&&(b=!1);var c=a.buffer;null!=c.__srcImage&&
Pa.convertToCanvas(a);if(null!=c.__srcCanvas&&null==c.data)Pa.createImageData(a),a.type==Ec.CANVAS&&(a.dirty=!1);else if(a.type==Ec.CANVAS&&null!=c.__srcCanvas&&a.dirty){if(null==c.__srcImageData)Pa.createImageData(a);else{c.__srcImageData=c.__srcContext.getImageData(0,0,c.width,c.height);var d=c.__srcImageData.data.buffer;d=null!=d?new Uint8Array(d):null;c.data=d}a.dirty=!1}b&&(a.buffer.__srcCanvas=null,a.buffer.__srcContext=null);a.type=Ec.DATA};Pa.copyChannel=function(a,b,c,d,e,g){Pa.convertToData(b);
Pa.convertToData(a);Sc.copyChannel(a,b,c,d,e,g)};Pa.copyPixels=function(a,b,c,d,e,g,k){null==k&&(k=!1);null==d||d.x>=a.width||d.y>=a.height||null==c||1>c.width||1>c.height||(null!=e&&e.get_transparent()&&(null==g&&(g=new $e),b=b.clone(),b.copyChannel(e,new Db(c.x+g.x,c.y+g.y,c.width,c.height),new $e(c.x,c.y),ne.ALPHA,ne.ALPHA)),Pa.convertToCanvas(a,!0),k||a.get_transparent()&&b.get_transparent()&&a.buffer.__srcContext.clearRect(d.x+a.offsetX,d.y+a.offsetY,c.width+a.offsetX,c.height+a.offsetY),Pa.convertToCanvas(b),
null!=b.buffer.get_src()&&(a.buffer.__srcContext.globalCompositeOperation="source-over",a.buffer.__srcContext.drawImage(b.buffer.get_src(),c.x+b.offsetX|0,c.y+b.offsetY|0,c.width|0,c.height|0,d.x+a.offsetX|0,d.y+a.offsetY|0,c.width|0,c.height|0)),a.dirty=!0,a.version++)};Pa.createCanvas=function(a,b,c){var d=a.buffer;null==d.__srcCanvas&&(d.__srcCanvas=window.document.createElement("canvas"),d.__srcCanvas.width=b,d.__srcCanvas.height=c,a.get_transparent()?d.__srcContext=d.__srcCanvas.getContext("2d"):
(a.get_transparent()||d.__srcCanvas.setAttribute("moz-opaque","true"),d.__srcContext=d.__srcCanvas.getContext("2d",{alpha:!1})))};Pa.createImageData=function(a){a=a.buffer;if(null==a.__srcImageData){null==a.data?a.__srcImageData=a.__srcContext.getImageData(0,0,a.width,a.height):(a.__srcImageData=a.__srcContext.createImageData(a.width,a.height),a.__srcImageData.data.set(a.data));var b=a.__srcImageData.data.buffer;b=null!=b?new Uint8Array(b):null;a.data=b}};Pa.fillRect=function(a,b,c,d){Pa.convertToCanvas(a);
if(1==d){d=c>>16&255;var e=c>>8&255;var g=c&255;c=a.get_transparent()?c>>24&255:255}else d=c>>24&255,e=c>>16&255,g=c>>8&255,c=a.get_transparent()?c&255:255;0==b.x&&0==b.y&&b.width==a.width&&b.height==a.height&&a.get_transparent()&&0==c?a.buffer.__srcCanvas.width=a.buffer.width:(255>c&&a.buffer.__srcContext.clearRect(b.x+a.offsetX,b.y+a.offsetY,b.width+a.offsetX,b.height+a.offsetY),0<c&&(a.buffer.__srcContext.fillStyle="rgba("+d+", "+e+", "+g+", "+c/255+")",a.buffer.__srcContext.fillRect(b.x+a.offsetX,
b.y+a.offsetY,b.width+a.offsetX,b.height+a.offsetY)),a.dirty=!0,a.version++)};Pa.getPixel32=function(a,b,c,d){Pa.convertToData(a);return Sc.getPixel32(a,b,c,d)};var Sc=function(){};h["lime._internal.graphics.ImageDataUtil"]=Sc;Sc.__name__="lime._internal.graphics.ImageDataUtil";Sc.copyChannel=function(a,b,c,d,e,g){switch(g._hx_index){case 0:var k=0;break;case 1:k=1;break;case 2:k=2;break;case 3:k=3}switch(e._hx_index){case 0:var q=0;break;case 1:q=1;break;case 2:q=2;break;case 3:q=3}e=b.buffer.data;
g=a.buffer.data;if(null!=e&&null!=g){c=new Cd(b,c);d=new Cd(a,new Db(d.x,d.y,c.width,c.height));var f=b.buffer.format,n=a.buffer.format;b=b.buffer.premultiplied;for(var p=a.buffer.premultiplied,h,l,m=0,G=0,y=0,K=0,v=d.height;K<v;){l=K++;h=c.byteOffset+c.stride*l;l=d.byteOffset+d.stride*l;for(var U=0,I=d.width;U<I;){U++;var r=f,u=b;null==u&&(u=!1);null==r&&(r=0);switch(r){case 0:m=(e[h]&255)<<24|(e[h+1]&255)<<16|(e[h+2]&255)<<8|e[h+3]&255;break;case 1:m=(e[h+1]&255)<<24|(e[h+2]&255)<<16|(e[h+3]&255)<<
8|e[h]&255;break;case 2:m=(e[h+2]&255)<<24|(e[h+1]&255)<<16|(e[h]&255)<<8|e[h+3]&255}u&&0!=(m&255)&&255!=(m&255)&&(aa.unmult=255/(m&255),m=(aa.__clamp[Math.round((m>>>24&255)*aa.unmult)]&255)<<24|(aa.__clamp[Math.round((m>>>16&255)*aa.unmult)]&255)<<16|(aa.__clamp[Math.round((m>>>8&255)*aa.unmult)]&255)<<8|m&255);r=n;u=p;null==u&&(u=!1);null==r&&(r=0);switch(r){case 0:G=(g[l]&255)<<24|(g[l+1]&255)<<16|(g[l+2]&255)<<8|g[l+3]&255;break;case 1:G=(g[l+1]&255)<<24|(g[l+2]&255)<<16|(g[l+3]&255)<<8|g[l]&
255;break;case 2:G=(g[l+2]&255)<<24|(g[l+1]&255)<<16|(g[l]&255)<<8|g[l+3]&255}u&&0!=(G&255)&&255!=(G&255)&&(aa.unmult=255/(G&255),G=(aa.__clamp[Math.round((G>>>24&255)*aa.unmult)]&255)<<24|(aa.__clamp[Math.round((G>>>16&255)*aa.unmult)]&255)<<16|(aa.__clamp[Math.round((G>>>8&255)*aa.unmult)]&255)<<8|G&255);switch(q){case 0:y=m>>>24&255;break;case 1:y=m>>>16&255;break;case 2:y=m>>>8&255;break;case 3:y=m&255}switch(k){case 0:G=(y&255)<<24|(G>>>16&255)<<16|(G>>>8&255)<<8|G&255;break;case 1:G=(G>>>24&
255)<<24|(y&255)<<16|(G>>>8&255)<<8|G&255;break;case 2:G=(G>>>24&255)<<24|(G>>>16&255)<<16|(y&255)<<8|G&255;break;case 3:G=(G>>>24&255)<<24|(G>>>16&255)<<16|(G>>>8&255)<<8|y&255}r=n;u=p;null==u&&(u=!1);null==r&&(r=0);u&&(0==(G&255)?0!=G&&(G=0):255!=(G&255)&&(aa.a16=aa.__alpha16[G&255],G=((G>>>24&255)*aa.a16>>16&255)<<24|((G>>>16&255)*aa.a16>>16&255)<<16|((G>>>8&255)*aa.a16>>16&255)<<8|G&255));switch(r){case 0:g[l]=G>>>24&255;g[l+1]=G>>>16&255;g[l+2]=G>>>8&255;g[l+3]=G&255;break;case 1:g[l]=G&255;
g[l+1]=G>>>24&255;g[l+2]=G>>>16&255;g[l+3]=G>>>8&255;break;case 2:g[l]=G>>>8&255,g[l+1]=G>>>16&255,g[l+2]=G>>>24&255,g[l+3]=G&255}h+=4;l+=4}}a.dirty=!0;a.version++}};Sc.copyPixels=function(a,b,c,d,e,g,k){null==k&&(k=!1);if(a.width==b.width&&a.height==b.height&&c.width==b.width&&c.height==b.height&&0==c.x&&0==c.y&&0==d.x&&0==d.y&&null==e&&null==g&&0==k&&a.get_format()==b.get_format())a.buffer.data.set(b.buffer.data);else{var q=b.buffer.data,f=a.buffer.data;if(null==q||null==f)return;c=new Cd(b,c);
var n=new Db(d.x,d.y,c.width,c.height);n=new Cd(a,n);var p=b.buffer.format,h=a.buffer.format,l=0,m=0,G=b.buffer.premultiplied,y=a.buffer.premultiplied,K=b.buffer.bitsPerPixel/8|0,v=a.buffer.bitsPerPixel/8|0,U=null!=e&&e.get_transparent(),r=k||U&&!a.get_transparent()||!k&&!a.get_transparent()&&b.get_transparent();if(U)if(v=e.buffer.data,b=e.buffer.format,k=0,e=new Cd(e,new Db(c.x+(null==g?0:g.x),c.y+(null==g?0:g.y),c.width,c.height)),n.clip(d.x|0,d.y|0,e.width,e.height),r)for(r=0,K=n.height;r<K;)for(U=
r++,d=c.byteOffset+c.stride*U,g=n.byteOffset+n.stride*U,U=e.byteOffset+e.stride*U,C=0,B=n.width;C<B;){C++;var I=p;var u=G;null==u&&(u=!1);null==I&&(I=0);switch(I){case 0:l=(q[d]&255)<<24|(q[d+1]&255)<<16|(q[d+2]&255)<<8|q[d+3]&255;break;case 1:l=(q[d+1]&255)<<24|(q[d+2]&255)<<16|(q[d+3]&255)<<8|q[d]&255;break;case 2:l=(q[d+2]&255)<<24|(q[d+1]&255)<<16|(q[d]&255)<<8|q[d+3]&255}u&&0!=(l&255)&&255!=(l&255)&&(aa.unmult=255/(l&255),l=(aa.__clamp[Math.round((l>>>24&255)*aa.unmult)]&255)<<24|(aa.__clamp[Math.round((l>>>
16&255)*aa.unmult)]&255)<<16|(aa.__clamp[Math.round((l>>>8&255)*aa.unmult)]&255)<<8|l&255);I=h;u=y;null==u&&(u=!1);null==I&&(I=0);switch(I){case 0:m=(f[g]&255)<<24|(f[g+1]&255)<<16|(f[g+2]&255)<<8|f[g+3]&255;break;case 1:m=(f[g+1]&255)<<24|(f[g+2]&255)<<16|(f[g+3]&255)<<8|f[g]&255;break;case 2:m=(f[g+2]&255)<<24|(f[g+1]&255)<<16|(f[g]&255)<<8|f[g+3]&255}u&&0!=(m&255)&&255!=(m&255)&&(aa.unmult=255/(m&255),m=(aa.__clamp[Math.round((m>>>24&255)*aa.unmult)]&255)<<24|(aa.__clamp[Math.round((m>>>16&255)*
aa.unmult)]&255)<<16|(aa.__clamp[Math.round((m>>>8&255)*aa.unmult)]&255)<<8|m&255);I=b;u=!1;null==u&&(u=!1);null==I&&(I=0);switch(I){case 0:k=(v[U]&255)<<24|(v[U+1]&255)<<16|(v[U+2]&255)<<8|v[U+3]&255;break;case 1:k=(v[U+1]&255)<<24|(v[U+2]&255)<<16|(v[U+3]&255)<<8|v[U]&255;break;case 2:k=(v[U+2]&255)<<24|(v[U+1]&255)<<16|(v[U]&255)<<8|v[U+3]&255}u&&0!=(k&255)&&255!=(k&255)&&(aa.unmult=255/(k&255),k=(aa.__clamp[Math.round((k>>>24&255)*aa.unmult)]&255)<<24|(aa.__clamp[Math.round((k>>>16&255)*aa.unmult)]&
255)<<16|(aa.__clamp[Math.round((k>>>8&255)*aa.unmult)]&255)<<8|k&255);u=(k&255)/255*((l&255)/255);if(0<u){var w=(m&255)/255;var F=1-u;I=u+w*F;D=aa.__clamp[Math.round(((l>>>24&255)*u+(m>>>24&255)*w*F)/I)];m=(D&255)<<24|(m>>>16&255)<<16|(m>>>8&255)<<8|m&255;D=aa.__clamp[Math.round(((l>>>16&255)*u+(m>>>16&255)*w*F)/I)];m=(m>>>24&255)<<24|(D&255)<<16|(m>>>8&255)<<8|m&255;u=aa.__clamp[Math.round(((l>>>8&255)*u+(m>>>8&255)*w*F)/I)];m=(m>>>24&255)<<24|(m>>>16&255)<<16|(u&255)<<8|m&255;I=aa.__clamp[Math.round(255*
I)];m=(m>>>24&255)<<24|(m>>>16&255)<<16|(m>>>8&255)<<8|I&255;I=h;u=y;null==u&&(u=!1);null==I&&(I=0);u&&(0==(m&255)?0!=m&&(m=0):255!=(m&255)&&(aa.a16=aa.__alpha16[m&255],m=((m>>>24&255)*aa.a16>>16&255)<<24|((m>>>16&255)*aa.a16>>16&255)<<16|((m>>>8&255)*aa.a16>>16&255)<<8|m&255));switch(I){case 0:f[g]=m>>>24&255;f[g+1]=m>>>16&255;f[g+2]=m>>>8&255;f[g+3]=m&255;break;case 1:f[g]=m&255;f[g+1]=m>>>24&255;f[g+2]=m>>>16&255;f[g+3]=m>>>8&255;break;case 2:f[g]=m>>>8&255,f[g+1]=m>>>16&255,f[g+2]=m>>>24&255,
f[g+3]=m&255}}d+=4;g+=4;U+=4}else for(r=0,K=n.height;r<K;)for(U=r++,d=c.byteOffset+c.stride*U,g=n.byteOffset+n.stride*U,U=e.byteOffset+e.stride*U,C=0,B=n.width;C<B;){C++;I=p;u=G;null==u&&(u=!1);null==I&&(I=0);switch(I){case 0:l=(q[d]&255)<<24|(q[d+1]&255)<<16|(q[d+2]&255)<<8|q[d+3]&255;break;case 1:l=(q[d+1]&255)<<24|(q[d+2]&255)<<16|(q[d+3]&255)<<8|q[d]&255;break;case 2:l=(q[d+2]&255)<<24|(q[d+1]&255)<<16|(q[d]&255)<<8|q[d+3]&255}u&&0!=(l&255)&&255!=(l&255)&&(aa.unmult=255/(l&255),l=(aa.__clamp[Math.round((l>>>
24&255)*aa.unmult)]&255)<<24|(aa.__clamp[Math.round((l>>>16&255)*aa.unmult)]&255)<<16|(aa.__clamp[Math.round((l>>>8&255)*aa.unmult)]&255)<<8|l&255);I=b;u=!1;null==u&&(u=!1);null==I&&(I=0);switch(I){case 0:k=(v[U]&255)<<24|(v[U+1]&255)<<16|(v[U+2]&255)<<8|v[U+3]&255;break;case 1:k=(v[U+1]&255)<<24|(v[U+2]&255)<<16|(v[U+3]&255)<<8|v[U]&255;break;case 2:k=(v[U+2]&255)<<24|(v[U+1]&255)<<16|(v[U]&255)<<8|v[U+3]&255}u&&0!=(k&255)&&255!=(k&255)&&(aa.unmult=255/(k&255),k=(aa.__clamp[Math.round((k>>>24&255)*
aa.unmult)]&255)<<24|(aa.__clamp[Math.round((k>>>16&255)*aa.unmult)]&255)<<16|(aa.__clamp[Math.round((k>>>8&255)*aa.unmult)]&255)<<8|k&255);D=Math.round((k&255)/255*(l&255));l=(l>>>24&255)<<24|(l>>>16&255)<<16|(l>>>8&255)<<8|D&255;I=h;u=y;null==u&&(u=!1);null==I&&(I=0);u&&(0==(l&255)?0!=l&&(l=0):255!=(l&255)&&(aa.a16=aa.__alpha16[l&255],l=((l>>>24&255)*aa.a16>>16&255)<<24|((l>>>16&255)*aa.a16>>16&255)<<16|((l>>>8&255)*aa.a16>>16&255)<<8|l&255));switch(I){case 0:f[g]=l>>>24&255;f[g+1]=l>>>16&255;f[g+
2]=l>>>8&255;f[g+3]=l&255;break;case 1:f[g]=l&255;f[g+1]=l>>>24&255;f[g+2]=l>>>16&255;f[g+3]=l>>>8&255;break;case 2:f[g]=l>>>8&255,f[g+1]=l>>>16&255,f[g+2]=l>>>24&255,f[g+3]=l&255}d+=4;g+=4;U+=4}else if(r)for(r=0,K=n.height;r<K;){U=r++;d=c.byteOffset+c.stride*U;g=n.byteOffset+n.stride*U;for(var C=0,B=n.width;C<B;){C++;I=p;u=G;null==u&&(u=!1);null==I&&(I=0);switch(I){case 0:l=(q[d]&255)<<24|(q[d+1]&255)<<16|(q[d+2]&255)<<8|q[d+3]&255;break;case 1:l=(q[d+1]&255)<<24|(q[d+2]&255)<<16|(q[d+3]&255)<<8|
q[d]&255;break;case 2:l=(q[d+2]&255)<<24|(q[d+1]&255)<<16|(q[d]&255)<<8|q[d+3]&255}u&&0!=(l&255)&&255!=(l&255)&&(aa.unmult=255/(l&255),l=(aa.__clamp[Math.round((l>>>24&255)*aa.unmult)]&255)<<24|(aa.__clamp[Math.round((l>>>16&255)*aa.unmult)]&255)<<16|(aa.__clamp[Math.round((l>>>8&255)*aa.unmult)]&255)<<8|l&255);I=h;u=y;null==u&&(u=!1);null==I&&(I=0);switch(I){case 0:m=(f[g]&255)<<24|(f[g+1]&255)<<16|(f[g+2]&255)<<8|f[g+3]&255;break;case 1:m=(f[g+1]&255)<<24|(f[g+2]&255)<<16|(f[g+3]&255)<<8|f[g]&255;
break;case 2:m=(f[g+2]&255)<<24|(f[g+1]&255)<<16|(f[g]&255)<<8|f[g+3]&255}u&&0!=(m&255)&&255!=(m&255)&&(aa.unmult=255/(m&255),m=(aa.__clamp[Math.round((m>>>24&255)*aa.unmult)]&255)<<24|(aa.__clamp[Math.round((m>>>16&255)*aa.unmult)]&255)<<16|(aa.__clamp[Math.round((m>>>8&255)*aa.unmult)]&255)<<8|m&255);u=(l&255)/255;w=(m&255)/255;F=1-u;I=u+w*F;if(0==I)m=0;else{var D=aa.__clamp[Math.round(((l>>>24&255)*u+(m>>>24&255)*w*F)/I)];m=(D&255)<<24|(m>>>16&255)<<16|(m>>>8&255)<<8|m&255;D=aa.__clamp[Math.round(((l>>>
16&255)*u+(m>>>16&255)*w*F)/I)];m=(m>>>24&255)<<24|(D&255)<<16|(m>>>8&255)<<8|m&255;u=aa.__clamp[Math.round(((l>>>8&255)*u+(m>>>8&255)*w*F)/I)];m=(m>>>24&255)<<24|(m>>>16&255)<<16|(u&255)<<8|m&255;I=aa.__clamp[Math.round(255*I)];m=(m>>>24&255)<<24|(m>>>16&255)<<16|(m>>>8&255)<<8|I&255}I=h;u=y;null==u&&(u=!1);null==I&&(I=0);u&&(0==(m&255)?0!=m&&(m=0):255!=(m&255)&&(aa.a16=aa.__alpha16[m&255],m=((m>>>24&255)*aa.a16>>16&255)<<24|((m>>>16&255)*aa.a16>>16&255)<<16|((m>>>8&255)*aa.a16>>16&255)<<8|m&255));
switch(I){case 0:f[g]=m>>>24&255;f[g+1]=m>>>16&255;f[g+2]=m>>>8&255;f[g+3]=m&255;break;case 1:f[g]=m&255;f[g+1]=m>>>24&255;f[g+2]=m>>>16&255;f[g+3]=m>>>8&255;break;case 2:f[g]=m>>>8&255,f[g+1]=m>>>16&255,f[g+2]=m>>>24&255,f[g+3]=m&255}d+=4;g+=4}}else if(p==h&&G==y&&K==v)for(r=0,K=n.height;r<K;)U=r++,d=c.byteOffset+c.stride*U,g=n.byteOffset+n.stride*U,f.set(q.subarray(d,d+n.width*v),g);else for(r=0,K=n.height;r<K;)for(U=r++,d=c.byteOffset+c.stride*U,g=n.byteOffset+n.stride*U,C=0,B=n.width;C<B;){C++;
I=p;u=G;null==u&&(u=!1);null==I&&(I=0);switch(I){case 0:l=(q[d]&255)<<24|(q[d+1]&255)<<16|(q[d+2]&255)<<8|q[d+3]&255;break;case 1:l=(q[d+1]&255)<<24|(q[d+2]&255)<<16|(q[d+3]&255)<<8|q[d]&255;break;case 2:l=(q[d+2]&255)<<24|(q[d+1]&255)<<16|(q[d]&255)<<8|q[d+3]&255}u&&0!=(l&255)&&255!=(l&255)&&(aa.unmult=255/(l&255),l=(aa.__clamp[Math.round((l>>>24&255)*aa.unmult)]&255)<<24|(aa.__clamp[Math.round((l>>>16&255)*aa.unmult)]&255)<<16|(aa.__clamp[Math.round((l>>>8&255)*aa.unmult)]&255)<<8|l&255);I=h;u=
y;null==u&&(u=!1);null==I&&(I=0);u&&(0==(l&255)?0!=l&&(l=0):255!=(l&255)&&(aa.a16=aa.__alpha16[l&255],l=((l>>>24&255)*aa.a16>>16&255)<<24|((l>>>16&255)*aa.a16>>16&255)<<16|((l>>>8&255)*aa.a16>>16&255)<<8|l&255));switch(I){case 0:f[g]=l>>>24&255;f[g+1]=l>>>16&255;f[g+2]=l>>>8&255;f[g+3]=l&255;break;case 1:f[g]=l&255;f[g+1]=l>>>24&255;f[g+2]=l>>>16&255;f[g+3]=l>>>8&255;break;case 2:f[g]=l>>>8&255,f[g+1]=l>>>16&255,f[g+2]=l>>>24&255,f[g+3]=l&255}d+=4;g+=4}}a.dirty=!0;a.version++};Sc.fillRect=function(a,
b,c,d){switch(d){case 1:c=(c>>>16&255)<<24|(c>>>8&255)<<16|(c&255)<<8|c>>>24&255;break;case 2:c=(c>>>8&255)<<24|(c>>>16&255)<<16|(c>>>24&255)<<8|c&255}a.get_transparent()||(c=(c>>>24&255)<<24|(c>>>16&255)<<16|(c>>>8&255)<<8|255);var e=a.buffer.data;if(null!=e){d=a.buffer.format;var g=a.buffer.premultiplied;g&&(0==(c&255)?0!=c&&(c=0):255!=(c&255)&&(aa.a16=aa.__alpha16[c&255],c=((c>>>24&255)*aa.a16>>16&255)<<24|((c>>>16&255)*aa.a16>>16&255)<<16|((c>>>8&255)*aa.a16>>16&255)<<8|c&255));b=new Cd(a,b);
for(var k,q=0,f=b.height;q<f;){g=q++;k=b.byteOffset+b.stride*g;for(var n=0,p=b.width;n<p;){g=n++;var h=k+4*g,l=d;g=!1;null==g&&(g=!1);null==l&&(l=0);g&&(0==(c&255)?0!=c&&(c=0):255!=(c&255)&&(aa.a16=aa.__alpha16[c&255],c=((c>>>24&255)*aa.a16>>16&255)<<24|((c>>>16&255)*aa.a16>>16&255)<<16|((c>>>8&255)*aa.a16>>16&255)<<8|c&255));switch(l){case 0:e[h]=c>>>24&255;e[h+1]=c>>>16&255;e[h+2]=c>>>8&255;e[h+3]=c&255;break;case 1:e[h]=c&255;e[h+1]=c>>>24&255;e[h+2]=c>>>16&255;e[h+3]=c>>>8&255;break;case 2:e[h]=
c>>>8&255,e[h+1]=c>>>16&255,e[h+2]=c>>>24&255,e[h+3]=c&255}}}a.dirty=!0;a.version++}};Sc.getPixel32=function(a,b,c,d){var e=0,g=a.buffer.data;b=4*(c+a.offsetY)*a.buffer.width+4*(b+a.offsetX);c=a.buffer.format;a=a.buffer.premultiplied;null==a&&(a=!1);null==c&&(c=0);switch(c){case 0:e=(g[b]&255)<<24|(g[b+1]&255)<<16|(g[b+2]&255)<<8|g[b+3]&255;break;case 1:e=(g[b+1]&255)<<24|(g[b+2]&255)<<16|(g[b+3]&255)<<8|g[b]&255;break;case 2:e=(g[b+2]&255)<<24|(g[b+1]&255)<<16|(g[b]&255)<<8|g[b+3]&255}a&&0!=(e&255)&&
255!=(e&255)&&(aa.unmult=255/(e&255),e=(aa.__clamp[Math.round((e>>>24&255)*aa.unmult)]&255)<<24|(aa.__clamp[Math.round((e>>>16&255)*aa.unmult)]&255)<<16|(aa.__clamp[Math.round((e>>>8&255)*aa.unmult)]&255)<<8|e&255);switch(d){case 1:return(e&255)<<24|(e>>>24&255)<<16|(e>>>16&255)<<8|e>>>8&255;case 2:return(e>>>8&255)<<24|(e>>>16&255)<<16|(e>>>24&255)<<8|e&255;default:return e}};var Cd=function(a,b){this.image=a;null==b?this.rect=a.get_rect():(0>b.x&&(b.x=0),0>b.y&&(b.y=0),b.x+b.width>a.width&&(b.width=
a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),0>b.width&&(b.width=0),0>b.height&&(b.height=0),this.rect=b);this.stride=a.buffer.get_stride();this.__update()};h["lime._internal.graphics._ImageDataUtil.ImageDataView"]=Cd;Cd.__name__="lime._internal.graphics._ImageDataUtil.ImageDataView";Cd.prototype={clip:function(a,b,c,d){null==this.tempRect&&(this.tempRect=new Db);this.tempRect.setTo(a,b,c,d);this.rect.intersection(this.tempRect,this.rect);this.__update()},__update:function(){this.x=
Math.ceil(this.rect.x);this.y=Math.ceil(this.rect.y);this.width=Math.floor(this.rect.width);this.height=Math.floor(this.rect.height);this.byteOffset=this.stride*(this.y+this.image.offsetY)+4*(this.x+this.image.offsetX)},__class__:Cd};var gb=function(a,b){null==b&&(b=!1);if(null!=a)if(b)b=new oc,b.future=this,ac.queue({promise:b,work:a});else try{this.value=a(),this.isComplete=!0}catch(c){this.error=P.caught(c).unwrap(),this.isError=!0}};h["lime.app.Future"]=gb;gb.__name__="lime.app.Future";gb.withError=
function(a){var b=new gb;b.isError=!0;b.error=a;return b};gb.withValue=function(a){var b=new gb;b.isComplete=!0;b.value=a;return b};gb.prototype={onComplete:function(a){null!=a&&(this.isComplete?a(this.value):this.isError||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(a)));return this},onError:function(a){null!=a&&(this.isError?a(this.error):this.isComplete||(null==this.__errorListeners&&(this.__errorListeners=[]),this.__errorListeners.push(a)));return this},
onProgress:function(a){null!=a&&(null==this.__progressListeners&&(this.__progressListeners=[]),this.__progressListeners.push(a));return this},then:function(a){if(this.isComplete)return a(this.value);if(this.isError){var b=new gb;b.isError=!0;b.error=this.error;return b}var c=new oc;this.onError(l(c,c.error));this.onProgress(l(c,c.progress));this.onComplete(function(b){b=a(b);b.onError(l(c,c.error));b.onComplete(l(c,c.complete))});return c.future},__class__:gb};var ac=function(){};h["lime.app._Future.FutureWork"]=
ac;ac.__name__="lime.app._Future.FutureWork";ac.queue=function(a){null==ac.threadPool&&(ac.threadPool=new Yg,ac.threadPool.doWork.add(ac.threadPool_doWork),ac.threadPool.onComplete.add(ac.threadPool_onComplete),ac.threadPool.onError.add(ac.threadPool_onError));ac.threadPool.queue(a)};ac.threadPool_doWork=function(a){try{var b=a.work();ac.threadPool.sendComplete({promise:a.promise,result:b})}catch(c){b=P.caught(c).unwrap(),ac.threadPool.sendError({promise:a.promise,error:b})}};ac.threadPool_onComplete=
function(a){a.promise.complete(a.result)};ac.threadPool_onError=function(a){a.promise.error(a.error)};var oc=function(){this.future=new gb};h["lime.app.Promise"]=oc;oc.__name__="lime.app.Promise";oc.prototype={complete:function(a){if(!this.future.isError&&(this.future.isComplete=!0,this.future.value=a,null!=this.future.__completeListeners)){for(var b=0,c=this.future.__completeListeners;b<c.length;){var d=c[b];++b;d(a)}this.future.__completeListeners=null}return this},completeWith:function(a){a.onComplete(l(this,
this.complete));a.onError(l(this,this.error));a.onProgress(l(this,this.progress));return this},error:function(a){if(!this.future.isComplete&&(this.future.isError=!0,this.future.error=a,null!=this.future.__errorListeners)){for(var b=0,c=this.future.__errorListeners;b<c.length;){var d=c[b];++b;d(a)}this.future.__errorListeners=null}return this},progress:function(a,b){if(!this.future.isError&&!this.future.isComplete&&null!=this.future.__progressListeners)for(var c=0,d=this.future.__progressListeners;c<
d.length;){var e=d[c];++c;e(a,b)}return this},__class__:oc};var oe=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Dynamic_Void"]=oe;oe.__name__="lime.app._Event_Dynamic_Void";oe.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);
this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)F.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:oe};var Zh=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};
h["lime.app._Event_Float_Float_Float_Void"]=Zh;Zh.__name__="lime.app._Event_Float_Float_Float_Void";Zh.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)F.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b,c){this.canceled=!1;for(var d=this.__listeners,e=this.__repeat,g=0;g<d.length&&(d[g](a,b,c),e[g]?++g:this.remove(d[g]),!this.canceled););},__class__:Zh};var $h=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Float_Float_Int_Void"]=$h;$h.__name__="lime.app._Event_Float_Float_Int_Void";$h.prototype={add:function(a,b,c){null==c&&(c=
0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)F.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b,c){this.canceled=
!1;for(var d=this.__listeners,e=this.__repeat,g=0;g<d.length&&(d[g](a,b,c),e[g]?++g:this.remove(d[g]),!this.canceled););},__class__:$h};var af=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Float_Float_Void"]=af;af.__name__="lime.app._Event_Float_Float_Void";af.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,
0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)F.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:af};var ai=function(){this.canceled=
!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Float_Float_lime_ui_MouseButton_Void"]=ai;ai.__name__="lime.app._Event_Float_Float_lime_ui_MouseButton_Void";ai.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},
remove:function(a){for(var b=this.__listeners.length;0<=--b;)F.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b,c){this.canceled=!1;for(var d=this.__listeners,e=this.__repeat,g=0;g<d.length&&(d[g](a,b,c),e[g]?++g:this.remove(d[g]),!this.canceled););},__class__:ai};var bi=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Float_Float_lime_ui_MouseWheelMode_Void"]=
bi;bi.__name__="lime.app._Event_Float_Float_lime_ui_MouseWheelMode_Void";bi.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)F.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,
1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b,c){this.canceled=!1;for(var d=this.__listeners,e=this.__repeat,g=0;g<d.length&&(d[g](a,b,c),e[g]?++g:this.remove(d[g]),!this.canceled););},__class__:bi};var ci=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Int_Float_Float_Void"]=ci;ci.__name__="lime.app._Event_Int_Float_Float_Void";ci.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=
0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__class__:ci};var di=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Int_Float_Void"]=di;di.__name__="lime.app._Event_Int_Float_Void";di.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);
for(var d=0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)F.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,
d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:di};var Zg=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Int_Int_Void"]=Zg;Zg.__name__="lime.app._Event_Int_Int_Void";Zg.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);this.__repeat.splice(g,
0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)F.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:Zg};var Jd=function(){this.canceled=!1;this.__listeners=
[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Int_Void"]=Jd;Jd.__name__="lime.app._Event_Int_Void";Jd.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)F.compareMethods(this.__listeners[b],
a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:Jd};var ei=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Int_lime_ui_JoystickHatPosition_Void"]=ei;ei.__name__="lime.app._Event_Int_lime_ui_JoystickHatPosition_Void";ei.prototype={add:function(a,
b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__class__:ei};var fi=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_String_Int_Int_Void"]=fi;fi.__name__="lime.app._Event_String_Int_Int_Void";fi.prototype=
{add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},__class__:fi};var $g=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_String_Void"]=$g;$g.__name__="lime.app._Event_String_Void";$g.prototype=
{add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)F.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=
!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:$g};var Eb=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_Void_Void"]=Eb;Eb.__name__="lime.app._Event_Void_Void";Eb.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,
0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)F.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(){this.canceled=!1;for(var a=this.__listeners,b=this.__repeat,c=0;c<a.length&&(a[c](),b[c]?++c:this.remove(a[c]),!this.canceled););},__class__:Eb};var ah=function(){this.canceled=
!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_graphics_RenderContext_Void"]=ah;ah.__name__="lime.app._Event_lime_graphics_RenderContext_Void";ah.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},
remove:function(a){for(var b=this.__listeners.length;0<=--b;)F.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:ah};var gi=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_GamepadAxis_Float_Void"]=
gi;gi.__name__="lime.app._Event_lime_ui_GamepadAxis_Float_Void";gi.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)F.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,
1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:gi};var bh=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_GamepadButton_Void"]=bh;bh.__name__="lime.app._Event_lime_ui_GamepadButton_Void";bh.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=
0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)F.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,
c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:bh};var hi=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_Gamepad_Void"]=hi;hi.__name__="lime.app._Event_lime_ui_Gamepad_Void";hi.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);
this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)F.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:hi};var ii=function(){this.canceled=
!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_Joystick_Void"]=ii;ii.__name__="lime.app._Event_lime_ui_Joystick_Void";ii.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=
this.__listeners.length;0<=--b;)F.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:ii};var ch=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void"]=ch;ch.__name__="lime.app._Event_lime_ui_KeyCode_lime_ui_KeyModifier_Void";
ch.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},cancel:function(){this.canceled=!0},remove:function(a){for(var b=this.__listeners.length;0<=--b;)F.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,
1),this.__repeat.splice(b,1))},dispatch:function(a,b){this.canceled=!1;for(var c=this.__listeners,d=this.__repeat,e=0;e<c.length&&(c[e](a,b),d[e]?++e:this.remove(c[e]),!this.canceled););},__class__:ch};var pe=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_Touch_Void"]=pe;pe.__name__="lime.app._Event_lime_ui_Touch_Void";pe.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var g=
d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)F.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),
c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:pe};var Lh=function(){this.canceled=!1;this.__listeners=[];this.__priorities=[];this.__repeat=[]};h["lime.app._Event_lime_ui_Window_Void"]=Lh;Lh.__name__="lime.app._Event_lime_ui_Window_Void";Lh.prototype={add:function(a,b,c){null==c&&(c=0);null==b&&(b=!1);for(var d=0,e=this.__priorities.length;d<e;){var g=d++;if(c>this.__priorities[g]){this.__listeners.splice(g,0,a);this.__priorities.splice(g,0,c);this.__repeat.splice(g,0,!b);return}}this.__listeners.push(a);
this.__priorities.push(c);this.__repeat.push(!b)},remove:function(a){for(var b=this.__listeners.length;0<=--b;)F.compareMethods(this.__listeners[b],a)&&(this.__listeners.splice(b,1),this.__priorities.splice(b,1),this.__repeat.splice(b,1))},dispatch:function(a){this.canceled=!1;for(var b=this.__listeners,c=this.__repeat,d=0;d<b.length&&(b[d](a),c[d]?++d:this.remove(b[d]),!this.canceled););},__class__:Lh};var Ya=function(a,b,c,d,e,g,k){null==e&&(e=-1);null==d&&(d=-1);null==c&&(c=0);null==b&&(b=0);this.offsetX=
b;this.offsetY=c;this.width=d;this.height=e;this.version=0;null==k&&(k=Ec.CANVAS);this.type=k;if(null==a){if(0<d&&0<e)switch(this.type._hx_index){case 0:this.buffer=new nd(null,d,e);Pa.createCanvas(this,d,e);null!=g&&0!=g&&this.fillRect(new Db(0,0,d,e),g);break;case 1:a=d*e*4,a=null!=a?new Uint8Array(a):null,this.buffer=new nd(a,d,e),null!=g&&0!=g&&this.fillRect(new Db(0,0,d,e),g)}}else this.__fromImageBuffer(a)};h["lime.graphics.Image"]=Ya;Ya.__name__="lime.graphics.Image";Ya.fromFile=function(a){if(null==
a)return null;var b=new Ya;return b.__fromFile(a)?b:null};Ya.fromImageElement=function(a){if(null==a)return null;var b=new nd(null,a.width,a.height);b.set_src(a);a=new Ya(b);a.type=Ec.CANVAS;return a};Ya.loadFromBytes=function(a){if(null==a)return gb.withValue(null);if(Ya.__isPNG(a))var b="image/png";else if(Ya.__isJPG(a))b="image/jpeg";else if(Ya.__isGIF(a))b="image/gif";else if(Ya.__isWebP(a))b="image/webp";else return gb.withValue(null);return na.loadImageFromBytes(a,b)};Ya.loadFromFile=function(a){return null==
a?gb.withValue(null):na.loadImage(a)};Ya.__isGIF=function(a){if(null==a||6>a.length)return!1;a=a.getString(0,6);return"GIF87a"!=a?"GIF89a"==a:!0};Ya.__isJPG=function(a){return null==a||4>a.length?!1:255==a.b[0]&&216==a.b[1]&&255==a.b[a.length-2]?217==a.b[a.length-1]:!1};Ya.__isPNG=function(a){return null==a||8>a.length?!1:137==a.b[0]&&80==a.b[1]&&78==a.b[2]&&71==a.b[3]&&13==a.b[4]&&10==a.b[5]&&26==a.b[6]?10==a.b[7]:!1};Ya.__isWebP=function(a){return null==a||16>a.length?!1:"RIFF"==a.getString(0,4)?
"WEBP"==a.getString(8,4):!1};Ya.prototype={clone:function(){if(null!=this.buffer){this.type==Ec.CANVAS?Pa.convertToCanvas(this):Pa.convertToData(this);var a=new Ya(this.buffer.clone(),this.offsetX,this.offsetY,this.width,this.height,null,this.type);a.version=this.version;return a}return new Ya(null,this.offsetX,this.offsetY,this.width,this.height,null,this.type)},copyChannel:function(a,b,c,d,e){b=this.__clipRect(b);if(null!=this.buffer&&null!=b&&!(e==ne.ALPHA&&!this.get_transparent()||0>=b.width||
0>=b.height))switch(b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),this.type._hx_index){case 0:Pa.copyChannel(this,a,b,c,d,e);break;case 1:Pa.convertToData(this);Pa.convertToData(a);Sc.copyChannel(this,a,b,c,d,e);break;case 2:switch(d._hx_index){case 0:var g=1;break;case 1:g=2;break;case 2:g=4;break;case 3:g=8}switch(e._hx_index){case 0:var k=1;break;case 1:k=2;break;case 2:k=4;break;case 3:k=8}b.offset(a.offsetX,a.offsetY);c.offset(this.offsetX,this.offsetY);
this.buffer.__srcBitmapData.copyChannel(a.buffer.get_src(),b.__toFlashRectangle(),c.__toFlashPoint(),g,k)}},copyPixels:function(a,b,c,d,e,g){null==g&&(g=!1);if(null!=this.buffer&&null!=a&&!(0>=b.width||0>=b.height||0>=this.width||0>=this.height))switch(b.x+b.width>a.width&&(b.width=a.width-b.x),b.y+b.height>a.height&&(b.height=a.height-b.y),0>b.x&&(b.width+=b.x,b.x=0),0>b.y&&(b.height+=b.y,b.y=0),c.x+b.width>this.width&&(b.width=this.width-c.x),c.y+b.height>this.height&&(b.height=this.height-c.y),
0>c.x&&(b.width+=c.x,b.x-=c.x,c.x=0),0>c.y&&(b.height+=c.y,b.y-=c.y,c.y=0),a==this&&c.x<b.get_right()&&c.y<b.get_bottom()&&(a=this.clone()),d==a&&(null==e||0==e.x&&0==e.y)&&(e=d=null),this.type._hx_index){case 0:null!=d?(Pa.convertToData(this),Pa.convertToData(a),null!=d&&Pa.convertToData(d),Sc.copyPixels(this,a,b,c,d,e,g)):(Pa.convertToCanvas(this),Pa.convertToCanvas(a),Pa.copyPixels(this,a,b,c,d,e,g));break;case 1:Pa.convertToData(this);Pa.convertToData(a);null!=d&&Pa.convertToData(d);Sc.copyPixels(this,
a,b,c,d,e,g);break;case 2:b.offset(a.offsetX,a.offsetY),c.offset(this.offsetX,this.offsetY),null!=d&&null!=e&&e.offset(d.offsetX,d.offsetY),this.buffer.__srcBitmapData.copyPixels(a.buffer.__srcBitmapData,b.__toFlashRectangle(),c.__toFlashPoint(),null!=d?d.buffer.get_src():null,null!=e?e.__toFlashPoint():null,g)}},fillRect:function(a,b,c){a=this.__clipRect(a);if(null!=this.buffer&&null!=a)switch(this.type._hx_index){case 0:Pa.fillRect(this,a,b,c);break;case 1:Pa.convertToData(this);if(0==this.buffer.data.length)break;
Sc.fillRect(this,a,b,c);break;case 2:a.offset(this.offsetX,this.offsetY);if(null==c)b=(b&255)<<24|(b>>>24&255)<<16|(b>>>16&255)<<8|b>>>8&255;else switch(c){case 1:break;case 2:b=(b&255)<<24|(b>>>8&255)<<16|(b>>>16&255)<<8|b>>>24&255;break;default:b=(b&255)<<24|(b>>>24&255)<<16|(b>>>16&255)<<8|b>>>8&255}this.buffer.__srcBitmapData.fillRect(a.__toFlashRectangle(),b)}},getPixel32:function(a,b,c){if(null==this.buffer||0>a||0>b||a>=this.width||b>=this.height)return 0;switch(this.type._hx_index){case 0:return Pa.getPixel32(this,
a,b,c);case 1:return Pa.convertToData(this),Sc.getPixel32(this,a,b,c);case 2:a=this.buffer.__srcBitmapData.getPixel32(a+this.offsetX,b+this.offsetY);if(null==c)return(a>>>16&255)<<24|(a>>>8&255)<<16|(a&255)<<8|a>>>24&255;switch(c){case 1:return a;case 2:return(a&255)<<24|(a>>>8&255)<<16|(a>>>16&255)<<8|a>>>24&255;default:return(a>>>16&255)<<24|(a>>>8&255)<<16|(a&255)<<8|a>>>24&255}default:return 0}},__clipRect:function(a){return null==a||0>a.x&&(a.width-=-a.x,a.x=0,0>=a.x+a.width)||0>a.y&&(a.height-=
-a.y,a.y=0,0>=a.y+a.height)||a.x+a.width>=this.width&&(a.width-=a.x+a.width-this.width,0>=a.width)||a.y+a.height>=this.height&&(a.height-=a.y+a.height-this.height,0>=a.height)?null:a},__fromBase64:function(a,b,c){var d=this,e=new Image;e.addEventListener("load",function(a){d.buffer=new nd(null,e.width,e.height);d.buffer.__srcImage=e;d.offsetX=0;d.offsetY=0;d.width=d.buffer.width;d.height=d.buffer.height;null!=c&&c(d)},!1);e.src="data:"+b+";base64,"+a},__fromBytes:function(a,b){if(Ya.__isPNG(a))var c=
"image/png";else if(Ya.__isJPG(a))c="image/jpeg";else if(Ya.__isGIF(a))c="image/gif";else return!1;this.__fromBase64(dd.encode(a),c,b);return!0},__fromFile:function(a,b,c){var d=this,e=new Image;na.__isSameOrigin(a)||(e.crossOrigin="Anonymous");e.onload=function(a){d.buffer=new nd(null,e.width,e.height);d.buffer.__srcImage=e;d.width=e.width;d.height=e.height;null!=b&&b(d)};e.onerror=function(a){null!=c&&c()};e.src=a;return!0},__fromImageBuffer:function(a){this.buffer=a;null!=a&&(-1==this.width&&(this.width=
a.width),-1==this.height&&(this.height=a.height))},get_format:function(){return this.buffer.format},get_rect:function(){return new Db(0,0,this.width,this.height)},get_src:function(){null!=this.buffer.__srcCanvas||null==this.buffer.data&&this.type!=Ec.DATA||Pa.convertToCanvas(this);return this.buffer.get_src()},get_transparent:function(){return null==this.buffer?!1:this.buffer.transparent},set_transparent:function(a){return null==this.buffer?!1:this.buffer.transparent=a},__class__:Ya,__properties__:{set_transparent:"set_transparent",
get_transparent:"get_transparent",get_src:"get_src",get_rect:"get_rect",get_format:"get_format"}};var nd=function(a,b,c,d,e){null==d&&(d=32);null==c&&(c=0);null==b&&(b=0);this.data=a;this.width=b;this.height=c;this.bitsPerPixel=d;this.format=null==e?0:e;this.premultiplied=!1;this.transparent=!0};h["lime.graphics.ImageBuffer"]=nd;nd.__name__="lime.graphics.ImageBuffer";nd.prototype={clone:function(){var a=new nd(this.data,this.width,this.height,this.bitsPerPixel);if(null!=this.data){var b=this.data.byteLength,
c=null,d=null,e=null,g=null;b=null!=b?new Uint8Array(b):null!=c?new Uint8Array(c):null!=d?new Uint8Array(d):null!=e?null==g?new Uint8Array(e,0):new Uint8Array(e,0,g):null;a.data=b;c=b=null;d=this.data;g=e=null;b=null!=b?new Uint8Array(b):null!=c?new Uint8Array(c):null!=d?new Uint8Array(d):null!=e?null==g?new Uint8Array(e,0):new Uint8Array(e,0,g):null;a.data.set(b)}else null!=this.__srcImageData?(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=
this.__srcImageData.width,a.__srcCanvas.height=this.__srcImageData.height,a.__srcImageData=a.__srcContext.createImageData(this.__srcImageData.width,this.__srcImageData.height),b=new Uint8ClampedArray(this.__srcImageData.data),a.__srcImageData.data.set(b)):null!=this.__srcCanvas?(a.__srcCanvas=window.document.createElement("canvas"),a.__srcContext=a.__srcCanvas.getContext("2d"),a.__srcCanvas.width=this.__srcCanvas.width,a.__srcCanvas.height=this.__srcCanvas.height,a.__srcContext.drawImage(this.__srcCanvas,
0,0)):a.__srcImage=this.__srcImage;a.bitsPerPixel=this.bitsPerPixel;a.format=this.format;a.premultiplied=this.premultiplied;a.transparent=this.transparent;return a},get_src:function(){return null!=this.__srcImage?this.__srcImage:this.__srcCanvas},set_src:function(a){a instanceof Image?this.__srcImage=a:a instanceof HTMLCanvasElement&&(this.__srcCanvas=a,this.__srcContext=this.__srcCanvas.getContext("2d"));return a},get_stride:function(){return this.width*(this.bitsPerPixel/8|0)},__class__:nd,__properties__:{get_stride:"get_stride",
set_src:"set_src",get_src:"get_src"}};var ne=K["lime.graphics.ImageChannel"]={__ename__:"lime.graphics.ImageChannel",__constructs__:null,RED:{_hx_name:"RED",_hx_index:0,__enum__:"lime.graphics.ImageChannel",toString:f},GREEN:{_hx_name:"GREEN",_hx_index:1,__enum__:"lime.graphics.ImageChannel",toString:f},BLUE:{_hx_name:"BLUE",_hx_index:2,__enum__:"lime.graphics.ImageChannel",toString:f},ALPHA:{_hx_name:"ALPHA",_hx_index:3,__enum__:"lime.graphics.ImageChannel",toString:f}};ne.__constructs__=[ne.RED,
ne.GREEN,ne.BLUE,ne.ALPHA];var Ec=K["lime.graphics.ImageType"]={__ename__:"lime.graphics.ImageType",__constructs__:null,CANVAS:{_hx_name:"CANVAS",_hx_index:0,__enum__:"lime.graphics.ImageType",toString:f},DATA:{_hx_name:"DATA",_hx_index:1,__enum__:"lime.graphics.ImageType",toString:f},FLASH:{_hx_name:"FLASH",_hx_index:2,__enum__:"lime.graphics.ImageType",toString:f},CUSTOM:{_hx_name:"CUSTOM",_hx_index:3,__enum__:"lime.graphics.ImageType",toString:f}};Ec.__constructs__=[Ec.CANVAS,Ec.DATA,Ec.FLASH,
Ec.CUSTOM];var Yh=function(){};h["lime.graphics.RenderContext"]=Yh;Yh.__name__="lime.graphics.RenderContext";Yh.prototype={__class__:Yh};var ob={bufferData:function(a,b,c,d){a.bufferData(b,c,d)},texImage2D:function(a,b,c,d,e,g,k,q,f,n){null!=q?a.texImage2D(b,c,d,e,g,k,q,f,n):a.texImage2D(b,c,d,e,g,k)},uniformMatrix4fv:function(a,b,c,d){a.uniformMatrix4fv(b,c,d)},fromWebGL2RenderContext:function(a){return a}},Ze=function(){};h["lime.graphics.opengl.GL"]=Ze;Ze.__name__="lime.graphics.opengl.GL";var Zi=
{fromSources:function(a,b,c){b=Qi.fromSource(a,b,a.VERTEX_SHADER);var d=Qi.fromSource(a,c,a.FRAGMENT_SHADER);c=a.createProgram();a.attachShader(c,b);a.attachShader(c,d);a.linkProgram(c);0==a.getProgramParameter(c,35714)&&(a="Unable to initialize the shader program\n"+Ze.context.getProgramInfoLog(c),ab.error(a,{fileName:"lime/graphics/opengl/GLProgram.hx",lineNumber:39,className:"lime.graphics.opengl._GLProgram.GLProgram_Impl_",methodName:"fromSources"}));return c}},Qi={fromSource:function(a,b,c){var d=
a.createShader(c);a.shaderSource(d,b);a.compileShader(d);b=a.getShaderInfoLog(d);var e=a.getShaderParameter(d,a.COMPILE_STATUS);if(null!=b||0==e)a=c==a.VERTEX_SHADER?"compiling vertex shader":c==a.FRAGMENT_SHADER?"compiling fragment shader":"compiling unknown shader type",a+="\n"+b,0==e?ab.error(a,{fileName:"lime/graphics/opengl/GLShader.hx",lineNumber:47,className:"lime.graphics.opengl._GLShader.GLShader_Impl_",methodName:"fromSource"}):null!=b&&ab.debug(a,{fileName:"lime/graphics/opengl/GLShader.hx",
lineNumber:49,className:"lime.graphics.opengl._GLShader.GLShader_Impl_",methodName:"fromSource"});return d}},aa={},Db=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.width=c;this.height=d};h["lime.math.Rectangle"]=Db;Db.__name__="lime.math.Rectangle";Db.prototype={copyFrom:function(a){this.x=a.x;this.y=a.y;this.width=a.width;this.height=a.height},intersection:function(a,b){null==b&&(b=new Db);var c=this.x<a.x?a.x:this.x,d=this.get_right()>a.get_right()?
a.get_right():this.get_right();if(d<=c)return b.setEmpty(),b;var e=this.y<a.y?a.y:this.y;a=this.get_bottom()>a.get_bottom()?a.get_bottom():this.get_bottom();if(a<=e)return b.setEmpty(),b;b.x=c;b.y=e;b.width=d-c;b.height=a-e;return b},offset:function(a,b){this.x+=a;this.y+=b},setEmpty:function(){this.x=this.y=this.width=this.height=0},setTo:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},__toFlashRectangle:function(){return null},get_bottom:function(){return this.y+this.height},get_left:function(){return this.x},
set_left:function(a){this.width-=a-this.x;return this.x=a},get_right:function(){return this.x+this.width},get_top:function(){return this.y},set_top:function(a){this.height-=a-this.y;return this.y=a},__class__:Db,__properties__:{set_top:"set_top",get_top:"get_top",get_right:"get_right",set_left:"set_left",get_left:"get_left",get_bottom:"get_bottom"}};var $e=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};h["lime.math.Vector2"]=$e;$e.__name__="lime.math.Vector2";$e.prototype={offset:function(a,
b){this.x+=a;this.y+=b},__toFlashPoint:function(){return null},__class__:$e};var Vh=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.w=d;this.x=a;this.y=b;this.z=c};h["lime.math.Vector4"]=Vh;Vh.__name__="lime.math.Vector4";Vh.prototype={__class__:Vh};var Fb=function(){};h["lime.media.AudioBuffer"]=Fb;Fb.__name__="lime.media.AudioBuffer";Fb.fromBytes=function(a){if(null==a)return null;var b=new Fb;b.set_src(new Howl({src:["data:"+Fb.__getCodec(a)+";base64,"+dd.encode(a)],
html5:!0,preload:!1}));return b};Fb.fromFile=function(a){if(null==a)return null;var b=new Fb;b.__srcHowl=new Howl({src:[a],preload:!1});return b};Fb.fromFiles=function(a){var b=new Fb;b.__srcHowl=new Howl({src:a,preload:!1});return b};Fb.loadFromFile=function(a){var b=new oc,c=Fb.fromFile(a);null!=c?null!=c&&(c.__srcHowl.on("load",function(){b.complete(c)}),c.__srcHowl.on("loaderror",function(a,c){b.error(c)}),c.__srcHowl.load()):b.error(null);return b.future};Fb.loadFromFiles=function(a){var b=new oc,
c=Fb.fromFiles(a);null!=c?(c.__srcHowl.on("load",function(){b.complete(c)}),c.__srcHowl.on("loaderror",function(){b.error(null)}),c.__srcHowl.load()):b.error(null);return b.future};Fb.__getCodec=function(a){switch(a.getString(0,4)){case "OggS":return"audio/ogg";case "RIFF":if("WAVE"==a.getString(8,4))return"audio/wav";var b=a.b[1],c=a.b[2];switch(a.b[0]){case 73:if(68==b&&51==c)return"audio/mp3";break;case 255:switch(b){case 243:case 250:case 251:return"audio/mp3"}}break;case "fLaC":return"audio/flac";
default:switch(b=a.b[1],c=a.b[2],a.b[0]){case 73:if(68==b&&51==c)return"audio/mp3";break;case 255:switch(b){case 243:case 250:case 251:return"audio/mp3"}}}ab.error("Unsupported sound format",{fileName:"lime/media/AudioBuffer.hx",lineNumber:362,className:"lime.media.AudioBuffer",methodName:"__getCodec"});return null};Fb.prototype={set_src:function(a){return this.__srcHowl=a},__class__:Fb,__properties__:{set_src:"set_src"}};var ki=function(a){if("custom"!=a){if(null==a||"web"==a)try{window.AudioContext=
window.AudioContext||window.webkitAudioContext,this.web=new window.AudioContext,this.type="web"}catch(b){}null==this.web&&"web"!=a&&(this.html5=new ji,this.type="html5")}else this.type="custom"};h["lime.media.AudioContext"]=ki;ki.__name__="lime.media.AudioContext";ki.prototype={__class__:ki};var ae=function(){};h["lime.media.AudioManager"]=ae;ae.__name__="lime.media.AudioManager";ae.init=function(a){if(null==ae.context){if(null==a&&(ae.context=new ki,a=ae.context,"openal"==a.type)){var b=a.openal,
c=b.openDevice();c=b.createContext(c);b.makeContextCurrent(c);b.processContext(c)}ae.context=a}};var li=function(a,b,c,d){null==d&&(d=0);null==b&&(b=0);this.onComplete=new Eb;this.buffer=a;this.offset=b;this.__backend=new Wh(this);null!=c&&0!=c&&this.set_length(c);this.set_loops(d);null!=a&&this.init()};h["lime.media.AudioSource"]=li;li.__name__="lime.media.AudioSource";li.prototype={dispose:function(){this.__backend.dispose()},init:function(){this.__backend.init()},play:function(){this.__backend.play()},
pause:function(){this.__backend.pause()},stop:function(){this.__backend.stop()},get_gain:function(){return this.__backend.getGain()},set_gain:function(a){return this.__backend.setGain(a)},set_length:function(a){return this.__backend.setLength(a)},set_loops:function(a){return this.__backend.setLoops(a)},get_position:function(){return this.__backend.getPosition()},__class__:li,__properties__:{set_loops:"set_loops",set_length:"set_length",get_position:"get_position",set_gain:"set_gain",get_gain:"get_gain"}};
var ji=function(){};h["lime.media.HTML5AudioContext"]=ji;ji.__name__="lime.media.HTML5AudioContext";ji.prototype={__class__:ji};var Hi=function(){};h["lime.media.OpenALAudioContext"]=Hi;Hi.__name__="lime.media.OpenALAudioContext";Hi.prototype={createContext:function(a,b){return Dd.createContext(a,b)},makeContextCurrent:function(a){return Dd.makeContextCurrent(a)},openDevice:function(a){return Dd.openDevice(a)},processContext:function(a){Dd.processContext(a)},__class__:Hi};var Dd=function(){};h["lime.media.openal.ALC"]=
Dd;Dd.__name__="lime.media.openal.ALC";Dd.createContext=function(a,b){return null};Dd.makeContextCurrent=function(a){return!1};Dd.openDevice=function(a){return null};Dd.processContext=function(a){};var dh=function(){};h["lime.net._IHTTPRequest"]=dh;dh.__name__="lime.net._IHTTPRequest";dh.__isInterface__=!0;dh.prototype={__class__:dh};var ed=function(a){this.uri=a;this.contentType="application/x-www-form-urlencoded";this.followRedirects=!0;this.enableResponseHeaders=!1;this.formData=new Ia;this.headers=
[];this.method="GET";this.timeout=M.parseInt("3600000");this.withCredentials=!1;this.__backend=new na;this.__backend.init(this)};h["lime.net._HTTPRequest.AbstractHTTPRequest"]=ed;ed.__name__="lime.net._HTTPRequest.AbstractHTTPRequest";ed.__interfaces__=[dh];ed.prototype={__class__:ed};var bf=function(a){ed.call(this,a)};h["lime.net._HTTPRequest_Bytes"]=bf;bf.__name__="lime.net._HTTPRequest_Bytes";bf.__super__=ed;bf.prototype=m(ed.prototype,{fromBytes:function(a){return a},load:function(a){var b=this;
null!=a&&(this.uri=a);var c=new oc;a=this.__backend.loadData(this.uri);a.onProgress(l(c,c.progress));a.onError(l(c,c.error));a.onComplete(function(a){b.responseData=b.fromBytes(a);c.complete(b.responseData)});return c.future},__class__:bf});var eh=function(a){ed.call(this,a)};h["lime.net._HTTPRequest_String"]=eh;eh.__name__="lime.net._HTTPRequest_String";eh.__super__=ed;eh.prototype=m(ed.prototype,{load:function(a){var b=this;null!=a&&(this.uri=a);var c=new oc;a=this.__backend.loadText(this.uri);
a.onProgress(l(c,c.progress));a.onError(l(c,c.error));a.onComplete(function(a){b.responseData=a;c.complete(b.responseData)});return c.future},__class__:eh});var Xh=function(a,b){null==b&&(b="");this.name=a;this.value=b};h["lime.net.HTTPRequestHeader"]=Xh;Xh.__name__="lime.net.HTTPRequestHeader";Xh.prototype={__class__:Xh};var pb=function(a){pb.URI_REGEX.match(a)&&(this.source=a,this.protocol=pb.URI_REGEX.matched(1),this.authority=pb.URI_REGEX.matched(2),this.userInfo=pb.URI_REGEX.matched(3),this.user=
pb.URI_REGEX.matched(4),this.password=pb.URI_REGEX.matched(5),this.host=pb.URI_REGEX.matched(6),this.port=pb.URI_REGEX.matched(7),this.relative=pb.URI_REGEX.matched(8),this.path=pb.URI_REGEX.matched(9),this.directory=pb.URI_REGEX.matched(10),this.file=pb.URI_REGEX.matched(11),this.query=pb.URI_REGEX.matched(12),this.anchor=pb.URI_REGEX.matched(13),null!=this.query&&0<this.query.length&&(this.queryArray=pb.parseQuery(this.query)))};h["lime.net.URIParser"]=pb;pb.__name__="lime.net.URIParser";pb.parseQuery=
function(a){var b=[],c=0;for(a=a.split("&");c<a.length;){var d=a[c];++c;pb.QUERY_REGEX.match(d)&&b.push({k:pb.QUERY_REGEX.matched(1),v:pb.QUERY_REGEX.matched(2)})}return b};pb.prototype={__class__:pb};var Dg=function(a){ed.call(this,a)};h["lime.net._HTTPRequest_lime_utils_Bytes"]=Dg;Dg.__name__="lime.net._HTTPRequest_lime_utils_Bytes";Dg.__super__=bf;Dg.prototype=m(bf.prototype,{fromBytes:function(a){return md.fromBytes(a)},__class__:Dg});var Sd={__properties__:{set_currentLocale:"set_currentLocale",
get_currentLocale:"get_currentLocale"},__init:function(){if(null==Sd.__systemLocale){var a=navigator.language;Sd.__systemLocale=null!=a?a:"en-US";Sd.set_currentLocale(Sd.__systemLocale)}},get_currentLocale:function(){Sd.__init();return Sd.currentLocale},set_currentLocale:function(a){Sd.__init();return Sd.currentLocale=a}},uc=function(a,b){this.onUpdate=new Zh;this.type=a;this.id=b};h["lime.system.Sensor"]=uc;uc.__name__="lime.system.Sensor";uc.getSensors=function(a){if(null==a)return uc.sensors.slice();
for(var b=[],c=0,d=uc.sensors;c<d.length;){var e=d[c];++c;e.type==a&&b.push(e)}return b};uc.registerSensor=function(a,b){a=new uc(a,b);uc.sensors.push(a);return uc.sensorByID.h[b]=a};uc.prototype={__class__:uc};var Bi=K["lime.system.SensorType"]={__ename__:"lime.system.SensorType",__constructs__:null,ACCELEROMETER:{_hx_name:"ACCELEROMETER",_hx_index:0,__enum__:"lime.system.SensorType",toString:f}};Bi.__constructs__=[Bi.ACCELEROMETER];var vc=function(){};h["lime.system.System"]=vc;vc.__name__="lime.system.System";
vc.embed=r.lime.embed=function(a,b,c,d,e){if(null!=vc.__applicationEntryPoint&&Object.prototype.hasOwnProperty.call(vc.__applicationEntryPoint.h,a)){var g="string"==typeof b?window.document.getElementById(b):null==b?window.document.createElement("div"):b;null==g?window.console.log("[lime.embed] ERROR: Cannot find target element: "+M.string(b)):(null==c&&(c=0),null==d&&(d=0),null==e&&(e={}),Object.prototype.hasOwnProperty.call(e,"background")&&"string"==typeof e.background&&(b=oa.replace(M.string(e.background),
"#",""),-1<b.indexOf("0x")?e.background=M.parseInt(b):e.background=M.parseInt("0x"+b)),e.element=g,e.width=c,e.height=d,vc.__applicationEntryPoint.h[a](e))}};vc.exit=function(a){};vc.openURL=function(a,b){null==b&&(b="_blank");null!=a&&window.open(a,b)};vc.__registerEntryPoint=function(a,b){null==vc.__applicationEntryPoint&&(vc.__applicationEntryPoint=new Ia);vc.__applicationEntryPoint.h[a]=b};var Yg=function(a,b){null==b&&(b=1);null==a&&(a=0);this.onRun=new oe;this.onError=new oe;this.onComplete=
new oe;this.doWork=new oe;this.minThreads=a;this.maxThreads=b;this.currentThreads=0};h["lime.system.ThreadPool"]=Yg;Yg.__name__="lime.system.ThreadPool";Yg.prototype={queue:function(a){this.runWork(a)},sendComplete:function(a){this.onComplete.dispatch(a)},sendError:function(a){this.onError.dispatch(a)},runWork:function(a){this.onRun.dispatch(a);this.doWork.dispatch(a)},__class__:Yg};var Fc=function(a){null!=a&&(this.name=a);this.__init||(void 0==this.ascender&&(this.ascender=0),void 0==this.descender&&
(this.descender=0),void 0==this.height&&(this.height=0),void 0==this.numGlyphs&&(this.numGlyphs=0),void 0==this.underlinePosition&&(this.underlinePosition=0),void 0==this.underlineThickness&&(this.underlineThickness=0),void 0==this.unitsPerEM&&(this.unitsPerEM=0),null!=this.__fontID?ea.isLocal(this.__fontID)&&this.__fromBytes(ea.getBytes(this.__fontID)):null!=this.__fontPath&&this.__fromFile(this.__fontPath))};h["lime.text.Font"]=Fc;Fc.__name__="lime.text.Font";Fc.fromFile=function(a){if(null==a)return null;
var b=new Fc;b.__fromFile(a);return b};Fc.loadFromName=function(a){return(new Fc).__loadFromName(a)};Fc.__measureFontNode=function(a){var b=window.document.createElement("span");b.setAttribute("aria-hidden","true");var c=window.document.createTextNode("BESbswy");b.appendChild(c);c=b.style;c.display="block";c.position="absolute";c.top="-9999px";c.left="-9999px";c.fontSize="300px";c.width="auto";c.height="auto";c.lineHeight="normal";c.margin="0";c.padding="0";c.fontVariant="normal";c.whiteSpace="nowrap";
c.fontFamily=a;window.document.body.appendChild(b);return b};Fc.prototype={__fromBytes:function(a){this.__fontPath=null},__fromFile:function(a){this.__fontPath=a},__loadFromName:function(a){var b=this,c=new oc;this.name=a;var d=A.navigator.userAgent.toLowerCase(),e=0<=d.indexOf(" safari/")&&0>d.indexOf(" chrome/");d=(new V("(iPhone|iPod|iPad).*AppleWebKit(?!.*Version)","i")).match(d);if(!e&&!d&&window.document.fonts&&(I=window.document.fonts,l(I,I.load)))window.document.fonts.load("1em '"+a+"'").then(function(a){c.complete(b)},
function(d){ab.warn('Could not load web font "'+a+'"',{fileName:"lime/text/Font.hx",lineNumber:513,className:"lime.text.Font",methodName:"__loadFromName"});c.complete(b)});else{var g=Fc.__measureFontNode("'"+a+"', sans-serif"),k=Fc.__measureFontNode("'"+a+"', serif"),q=g.offsetWidth,f=k.offsetWidth,n=-1,p=0,h,m;n=window.setInterval(function(){p+=1;h=g.offsetWidth!=q||k.offsetWidth!=f;m=3E3<=50*p;if(h||m)window.clearInterval(n),g.parentNode.removeChild(g),k.parentNode.removeChild(k),k=g=null,m&&ab.warn('Could not load web font "'+
a+'"',{fileName:"lime/text/Font.hx",lineNumber:548,className:"lime.text.Font",methodName:"__loadFromName"}),c.complete(b)},50)}return c.future},__class__:Fc};var Gb=function(a){this.onDisconnect=new Eb;this.onButtonUp=new bh;this.onButtonDown=new bh;this.onAxisMove=new gi;this.id=a;this.connected=!0};h["lime.ui.Gamepad"]=Gb;Gb.__name__="lime.ui.Gamepad";Gb.__connect=function(a){if(!Gb.devices.h.hasOwnProperty(a)){var b=new Gb(a);Gb.devices.h[a]=b;Gb.onConnect.dispatch(b)}};Gb.__disconnect=function(a){var b=
Gb.devices.h[a];null!=b&&(b.connected=!1);Gb.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};Gb.prototype={__class__:Gb};var vb=function(a){this.onTrackballMove=new ci;this.onHatMove=new ei;this.onDisconnect=new Eb;this.onButtonUp=new Jd;this.onButtonDown=new Jd;this.onAxisMove=new di;this.id=a;this.connected=!0};h["lime.ui.Joystick"]=vb;vb.__name__="lime.ui.Joystick";vb.__connect=function(a){if(!vb.devices.h.hasOwnProperty(a)){var b=new vb(a);vb.devices.h[a]=b;vb.onConnect.dispatch(b)}};vb.__disconnect=
function(a){var b=vb.devices.h[a];null!=b&&(b.connected=!1);vb.devices.remove(a);null!=b&&b.onDisconnect.dispatch()};vb.__getDeviceData=function(){return navigator.getGamepads?navigator.getGamepads():navigator.webkitGetGamepads?navigator.webkitGetGamepads():null};vb.prototype={__class__:vb};var Hb=K["lime.ui.MouseCursor"]={__ename__:"lime.ui.MouseCursor",__constructs__:null,ARROW:{_hx_name:"ARROW",_hx_index:0,__enum__:"lime.ui.MouseCursor",toString:f},CROSSHAIR:{_hx_name:"CROSSHAIR",_hx_index:1,__enum__:"lime.ui.MouseCursor",
toString:f},DEFAULT:{_hx_name:"DEFAULT",_hx_index:2,__enum__:"lime.ui.MouseCursor",toString:f},MOVE:{_hx_name:"MOVE",_hx_index:3,__enum__:"lime.ui.MouseCursor",toString:f},POINTER:{_hx_name:"POINTER",_hx_index:4,__enum__:"lime.ui.MouseCursor",toString:f},RESIZE_NESW:{_hx_name:"RESIZE_NESW",_hx_index:5,__enum__:"lime.ui.MouseCursor",toString:f},RESIZE_NS:{_hx_name:"RESIZE_NS",_hx_index:6,__enum__:"lime.ui.MouseCursor",toString:f},RESIZE_NWSE:{_hx_name:"RESIZE_NWSE",_hx_index:7,__enum__:"lime.ui.MouseCursor",
toString:f},RESIZE_WE:{_hx_name:"RESIZE_WE",_hx_index:8,__enum__:"lime.ui.MouseCursor",toString:f},TEXT:{_hx_name:"TEXT",_hx_index:9,__enum__:"lime.ui.MouseCursor",toString:f},WAIT:{_hx_name:"WAIT",_hx_index:10,__enum__:"lime.ui.MouseCursor",toString:f},WAIT_ARROW:{_hx_name:"WAIT_ARROW",_hx_index:11,__enum__:"lime.ui.MouseCursor",toString:f},CUSTOM:{_hx_name:"CUSTOM",_hx_index:12,__enum__:"lime.ui.MouseCursor",toString:f}};Hb.__constructs__=[Hb.ARROW,Hb.CROSSHAIR,Hb.DEFAULT,Hb.MOVE,Hb.POINTER,Hb.RESIZE_NESW,
Hb.RESIZE_NS,Hb.RESIZE_NWSE,Hb.RESIZE_WE,Hb.TEXT,Hb.WAIT,Hb.WAIT_ARROW,Hb.CUSTOM];var Rd=K["lime.ui.MouseWheelMode"]={__ename__:"lime.ui.MouseWheelMode",__constructs__:null,PIXELS:{_hx_name:"PIXELS",_hx_index:0,__enum__:"lime.ui.MouseWheelMode",toString:f},LINES:{_hx_name:"LINES",_hx_index:1,__enum__:"lime.ui.MouseWheelMode",toString:f},PAGES:{_hx_name:"PAGES",_hx_index:2,__enum__:"lime.ui.MouseWheelMode",toString:f},UNKNOWN:{_hx_name:"UNKNOWN",_hx_index:3,__enum__:"lime.ui.MouseWheelMode",toString:f}};
Rd.__constructs__=[Rd.PIXELS,Rd.LINES,Rd.PAGES,Rd.UNKNOWN];var ec=function(a,b,c,d,e,g,k){this.x=a;this.y=b;this.id=c;this.dx=d;this.dy=e;this.pressure=g;this.device=k};h["lime.ui.Touch"]=ec;ec.__name__="lime.ui.Touch";ec.prototype={__class__:ec};var Nh=function(a,b){this.onTextInput=new $g;this.onTextEdit=new fi;this.onRestore=new Eb;this.onResize=new Zg;this.onRenderContextRestored=new ah;this.onRenderContextLost=new Eb;this.onRender=new ah;this.onMove=new af;this.onMouseWheel=new bi;this.onMouseUp=
new $h;this.onMouseMoveRelative=new af;this.onMouseMove=new af;this.onMouseDown=new ai;this.onMinimize=new Eb;this.onLeave=new Eb;this.onKeyUp=new ch;this.onKeyDown=new ch;this.onFullscreen=new Eb;this.onFocusOut=new Eb;this.onFocusIn=new Eb;this.onExpose=new Eb;this.onEnter=new Eb;this.onDropFile=new $g;this.onDeactivate=new Eb;this.onClose=new Eb;this.onActivate=new Eb;this.application=a;this.__attributes=null!=b?b:{};Object.prototype.hasOwnProperty.call(this.__attributes,"parameters")&&(this.parameters=
this.__attributes.parameters);this.__height=this.__width=0;this.__fullscreen=!1;this.__scale=1;this.__y=this.__x=0;this.__title="";this.id=-1;this.__backend=new Ye(this)};h["lime.ui.Window"]=Nh;Nh.__name__="lime.ui.Window";Nh.prototype={close:function(){this.__backend.close()},toString:function(){return"[object Window]"},set_cursor:function(a){return this.__backend.setCursor(a)},__class__:Nh,__properties__:{set_cursor:"set_cursor"}};var Tc=function(){this.data=new Ia;this.paths=[]};h["lime.utils.AssetBundle"]=
Tc;Tc.__name__="lime.utils.AssetBundle";Tc.fromBytes=function(a){a=new Wg(a);return Tc.__extractBundle(a)};Tc.loadFromBytes=function(a){return gb.withValue(Tc.fromBytes(a))};Tc.loadFromFile=function(a){return md.loadFromFile(a).then(Tc.loadFromBytes)};Tc.__extractBundle=function(a){var b=Xe.readZip(a);a=new Tc;for(b=b.h;null!=b;){var c=b.item;b=b.next;if(c.compressed){var d=a.data,e=c.fileName,g=md.decompress(c.data,fh.DEFLATE);d.h[e]=g}else a.data.h[c.fileName]=c.data;a.paths.push(c.fileName)}return a};
Tc.prototype={__class__:Tc};var mi=function(){this.enabled=!0;this.audio=new Ia;this.font=new Ia;this.image=new Ia;this.version=0};h["lime.utils.AssetCache"]=mi;mi.__name__="lime.utils.AssetCache";mi.prototype={exists:function(a,b){return("IMAGE"==b||null==b)&&Object.prototype.hasOwnProperty.call(this.image.h,a)||("FONT"==b||null==b)&&Object.prototype.hasOwnProperty.call(this.font.h,a)||("SOUND"==b||"MUSIC"==b||null==b)&&Object.prototype.hasOwnProperty.call(this.audio.h,a)?!0:!1},set:function(a,b,
c){switch(b){case "FONT":this.font.h[a]=c;break;case "IMAGE":if(!(c instanceof Ya))throw P.thrown("Cannot cache non-Image asset: "+M.string(c)+" as Image");this.image.h[a]=c;break;case "MUSIC":case "SOUND":if(!(c instanceof Fb))throw P.thrown("Cannot cache non-AudioBuffer asset: "+M.string(c)+" as AudioBuffer");this.audio.h[a]=c;break;default:throw P.thrown(b+" assets are not cachable");}},clear:function(a){if(null==a)this.audio=new Ia,this.font=new Ia,this.image=new Ia;else{var b=this.audio.h;b=
Object.keys(b);for(var c=b.length,d=0;d<c;){var e=b[d++];if(oa.startsWith(e,a)){var g=this.audio;Object.prototype.hasOwnProperty.call(g.h,e)&&delete g.h[e]}}b=this.font.h;b=Object.keys(b);c=b.length;for(d=0;d<c;)e=b[d++],oa.startsWith(e,a)&&(g=this.font,Object.prototype.hasOwnProperty.call(g.h,e)&&delete g.h[e]);b=this.image.h;b=Object.keys(b);c=b.length;for(d=0;d<c;)e=b[d++],oa.startsWith(e,a)&&(g=this.image,Object.prototype.hasOwnProperty.call(g.h,e)&&delete g.h[e])}},__class__:mi};var Wc=function(){this.types=
new Ia;this.sizes=new Ia;this.preload=new Ia;this.paths=new Ia;this.pathGroups=new Ia;this.classTypes=new Ia;this.cachedText=new Ia;this.cachedImages=new Ia;this.cachedFonts=new Ia;this.cachedBytes=new Ia;this.cachedAudioBuffers=new Ia;this.onChange=new Eb;this.bytesTotal=this.bytesLoaded=0};h["lime.utils.AssetLibrary"]=Wc;Wc.__name__="lime.utils.AssetLibrary";Wc.fromBundle=function(a){if(Object.prototype.hasOwnProperty.call(a.data.h,"library.json")){var b=hc.fromBytes(a.data.h["library.json"]);if(null!=
b){if(null==b.libraryType)var c=new Wc;else if(c=h[b.libraryType],null!=c)c=La.createInstance(c,b.libraryArgs);else return ab.warn("Could not find library type: "+b.libraryType,{fileName:"lime/utils/AssetLibrary.hx",lineNumber:122,className:"lime.utils.AssetLibrary",methodName:"fromBundle"}),null;c.__fromBundle(a,b);return c}}else return c=new Wc,c.__fromBundle(a),c;return null};Wc.fromManifest=function(a){if(null==a)return null;if(null==a.libraryType)var b=new Wc;else if(b=h[a.libraryType],null!=
b)b=La.createInstance(b,a.libraryArgs);else return ab.warn("Could not find library type: "+a.libraryType,{fileName:"lime/utils/AssetLibrary.hx",lineNumber:160,className:"lime.utils.AssetLibrary",methodName:"fromManifest"}),null;b.__fromManifest(a);return b};Wc.prototype={exists:function(a,b){b=null!=b?L.__cast(b,String):null;a=this.types.h[a];return null==a||a!=b&&("SOUND"!=b&&"MUSIC"!=b||"MUSIC"!=a&&"SOUND"!=a)&&"BINARY"!=b&&null!=b&&("BINARY"!=a||"TEXT"!=b)?!1:!0},getAsset:function(a,b){switch(b){case "BINARY":return this.getBytes(a);
case "FONT":return this.getFont(a);case "IMAGE":return this.getImage(a);case "MUSIC":case "SOUND":return this.getAudioBuffer(a);case "TEMPLATE":throw P.thrown("Not sure how to get template: "+a);case "TEXT":return this.getText(a);default:throw P.thrown("Unknown asset type: "+b);}},getAudioBuffer:function(a){return Object.prototype.hasOwnProperty.call(this.cachedAudioBuffers.h,a)?this.cachedAudioBuffers.h[a]:Object.prototype.hasOwnProperty.call(this.classTypes.h,a)?Fb.fromBytes(L.__cast(La.createInstance(this.classTypes.h[a],
[]),eb)):Fb.fromFile(this.paths.h[a])},getBytes:function(a){if(Object.prototype.hasOwnProperty.call(this.cachedBytes.h,a))return this.cachedBytes.h[a];if(Object.prototype.hasOwnProperty.call(this.cachedText.h,a)){var b=md.ofString(this.cachedText.h[a]);return this.cachedBytes.h[a]=b}return Object.prototype.hasOwnProperty.call(this.classTypes.h,a)?L.__cast(La.createInstance(this.classTypes.h[a],[]),eb):md.fromFile(this.paths.h[a])},getFont:function(a){return Object.prototype.hasOwnProperty.call(this.cachedFonts.h,
a)?this.cachedFonts.h[a]:Object.prototype.hasOwnProperty.call(this.classTypes.h,a)?L.__cast(La.createInstance(this.classTypes.h[a],[]),Fc):Fc.fromFile(this.paths.h[a])},getImage:function(a){return Object.prototype.hasOwnProperty.call(this.cachedImages.h,a)?this.cachedImages.h[a]:Object.prototype.hasOwnProperty.call(this.classTypes.h,a)?L.__cast(La.createInstance(this.classTypes.h[a],[]),Ya):Ya.fromFile(this.paths.h[a])},getText:function(a){if(Object.prototype.hasOwnProperty.call(this.cachedText.h,
a))return this.cachedText.h[a];a=this.getBytes(a);return null==a?null:a.getString(0,a.length)},isLocal:function(a,b){if(Object.prototype.hasOwnProperty.call(this.classTypes.h,a))return!0;b=null!=b?L.__cast(b,String):null;if(null==b)return Object.prototype.hasOwnProperty.call(this.cachedBytes.h,a)?!0:Object.prototype.hasOwnProperty.call(this.cachedText.h,a);switch(b){case "FONT":return Object.prototype.hasOwnProperty.call(this.cachedFonts.h,a);case "IMAGE":return Object.prototype.hasOwnProperty.call(this.cachedImages.h,
a);case "MUSIC":case "SOUND":return Object.prototype.hasOwnProperty.call(this.cachedAudioBuffers.h,a);default:return Object.prototype.hasOwnProperty.call(this.cachedBytes.h,a)?!0:Object.prototype.hasOwnProperty.call(this.cachedText.h,a)}},loadAsset:function(a,b){switch(b){case "BINARY":return this.loadBytes(a);case "FONT":return this.loadFont(a);case "IMAGE":return this.loadImage(a);case "MUSIC":case "SOUND":return this.loadAudioBuffer(a);case "TEMPLATE":throw P.thrown("Not sure how to load template: "+
a);case "TEXT":return this.loadText(a);default:throw P.thrown("Unknown asset type: "+b);}},load:function(){if(this.loaded)return gb.withValue(this);if(null==this.promise){this.promise=new oc;this.bytesLoadedCache=new Ia;this.assetsLoaded=0;this.assetsTotal=1;for(var a=Object.keys(this.preload.h),b=a.length,c=0;c<b;){var d=a[c++];if(this.preload.h[d]){ab.verbose("Preloading asset: "+d+" ["+this.types.h[d]+"]",{fileName:"lime/utils/AssetLibrary.hx",lineNumber:405,className:"lime.utils.AssetLibrary",
methodName:"load"});var e=this.types.h[d];if(null!=e)switch(e){case "BINARY":this.assetsTotal++;e=this.loadBytes(d);e.onProgress(function(a,b){return function(c,d){b[0](a[0],c,d)}}([d],[l(this,this.load_onProgress)]));e.onError(function(a,b){return function(c){b[0](a[0],c)}}([d],[l(this,this.load_onError)]));e.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([d],[l(this,this.loadBytes_onComplete)]));break;case "FONT":this.assetsTotal++;e=this.loadFont(d);e.onProgress(function(a,b){return function(c,
d){b[0](a[0],c,d)}}([d],[l(this,this.load_onProgress)]));e.onError(function(a,b){return function(c){b[0](a[0],c)}}([d],[l(this,this.load_onError)]));e.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([d],[l(this,this.loadFont_onComplete)]));break;case "IMAGE":this.assetsTotal++;e=this.loadImage(d);e.onProgress(function(a,b){return function(c,d){b[0](a[0],c,d)}}([d],[l(this,this.load_onProgress)]));e.onError(function(a,b){return function(c){b[0](a[0],c)}}([d],[l(this,this.load_onError)]));
e.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([d],[l(this,this.loadImage_onComplete)]));break;case "MUSIC":case "SOUND":this.assetsTotal++;e=this.loadAudioBuffer(d);e.onProgress(function(a,b){return function(c,d){b[0](a[0],c,d)}}([d],[l(this,this.load_onProgress)]));e.onError(function(a,b){return function(c){b[0](a[0],c)}}([d],[l(this,this.loadAudioBuffer_onError)]));e.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([d],[l(this,this.loadAudioBuffer_onComplete)]));break;case "TEXT":this.assetsTotal++,
e=this.loadText(d),e.onProgress(function(a,b){return function(c,d){b[0](a[0],c,d)}}([d],[l(this,this.load_onProgress)])),e.onError(function(a,b){return function(c){b[0](a[0],c)}}([d],[l(this,this.load_onError)])),e.onComplete(function(a,b){return function(c){b[0](a[0],c)}}([d],[l(this,this.loadText_onComplete)]))}}}this.__assetLoaded(null)}return this.promise.future},loadAudioBuffer:function(a){return Object.prototype.hasOwnProperty.call(this.cachedAudioBuffers.h,a)?gb.withValue(this.cachedAudioBuffers.h[a]):
Object.prototype.hasOwnProperty.call(this.classTypes.h,a)?gb.withValue(La.createInstance(this.classTypes.h[a],[])):Object.prototype.hasOwnProperty.call(this.pathGroups.h,a)?Fb.loadFromFiles(this.pathGroups.h[a]):Fb.loadFromFile(this.paths.h[a])},loadBytes:function(a){return Object.prototype.hasOwnProperty.call(this.cachedBytes.h,a)?gb.withValue(this.cachedBytes.h[a]):Object.prototype.hasOwnProperty.call(this.classTypes.h,a)?gb.withValue(La.createInstance(this.classTypes.h[a],[])):md.loadFromFile(this.paths.h[a])},
loadFont:function(a){return Object.prototype.hasOwnProperty.call(this.cachedFonts.h,a)?gb.withValue(this.cachedFonts.h[a]):Object.prototype.hasOwnProperty.call(this.classTypes.h,a)?(a=La.createInstance(this.classTypes.h[a],[]),a.__loadFromName(a.name)):Fc.loadFromName(this.paths.h[a])},loadImage:function(a){var b=this;return Object.prototype.hasOwnProperty.call(this.cachedImages.h,a)?gb.withValue(this.cachedImages.h[a]):Object.prototype.hasOwnProperty.call(this.classTypes.h,a)?gb.withValue(La.createInstance(this.classTypes.h[a],
[])):Object.prototype.hasOwnProperty.call(this.cachedBytes.h,a)?Ya.loadFromBytes(this.cachedBytes.h[a]).then(function(c){var d=b.cachedBytes;Object.prototype.hasOwnProperty.call(d.h,a)&&delete d.h[a];b.cachedImages.h[a]=c;return gb.withValue(c)}):Ya.loadFromFile(this.paths.h[a])},loadText:function(a){if(Object.prototype.hasOwnProperty.call(this.cachedText.h,a))return gb.withValue(this.cachedText.h[a]);if(Object.prototype.hasOwnProperty.call(this.cachedBytes.h,a)||Object.prototype.hasOwnProperty.call(this.classTypes.h,
a)){var b=this.getBytes(a);if(null==b)return gb.withValue(null);b=b.getString(0,b.length);this.cachedText.h[a]=b;return gb.withValue(b)}return(new eh).load(this.paths.h[a])},unload:function(){},__assetLoaded:function(a){this.assetsLoaded++;null!=a&&ab.verbose("Loaded asset: "+a+" ["+this.types.h[a]+"] ("+(this.assetsLoaded-1)+"/"+(this.assetsTotal-1)+")",{fileName:"lime/utils/AssetLibrary.hx",lineNumber:619,className:"lime.utils.AssetLibrary",methodName:"__assetLoaded"});if(null!=a){var b=Object.prototype.hasOwnProperty.call(this.sizes.h,
a)?this.sizes.h[a]:0;if(Object.prototype.hasOwnProperty.call(this.bytesLoadedCache.h,a)){var c=this.bytesLoadedCache.h[a];c<b&&(this.bytesLoaded+=b-c)}else this.bytesLoaded+=b;this.bytesLoadedCache.h[a]=b}this.assetsLoaded<this.assetsTotal?this.promise.progress(this.bytesLoaded,this.bytesTotal):(this.loaded=!0,this.promise.progress(this.bytesTotal,this.bytesTotal),this.promise.complete(this))},__cacheBreak:function(a){return ea.__cacheBreak(a)},__fromBundle:function(a,b){if(null!=b){var c=0;for(b=
b.assets;c<b.length;){var d=b[c];++c;var e=Object.prototype.hasOwnProperty.call(d,"id")?d.id:d.path;var g=a.data.h[d.path];if(Object.prototype.hasOwnProperty.call(d,"type")){var k=d.type;"TEXT"==k?this.cachedText.h[e]=null!=g?M.string(g):null:this.cachedBytes.h[e]=g;this.types.h[e]=d.type}else this.cachedBytes.h[e]=g,this.types.h[e]="BINARY"}}else for(c=0,b=a.paths;c<b.length;)e=b[c],++c,this.cachedBytes.h[e]=a.data.h[e],this.types.h[e]="BINARY"},__fromManifest:function(a){var b=2<=a.version,c=a.rootPath;
null==c&&(c="");""!=c&&(c+="/");for(var d=0,e=a.assets;d<e.length;){var g=e[d];++d;var k=b&&Object.prototype.hasOwnProperty.call(g,"size")?g.size:100;var q=Object.prototype.hasOwnProperty.call(g,"id")?g.id:g.path;if(Object.prototype.hasOwnProperty.call(g,"path")){var f=this.paths;var n=this.__cacheBreak(this.__resolvePath(c+M.string(F.field(g,"path"))));f.h[q]=n}if(Object.prototype.hasOwnProperty.call(g,"pathGroup")){f=F.field(g,"pathGroup");n=0;for(var p=f.length;n<p;){var l=n++;f[l]=this.__cacheBreak(this.__resolvePath(c+
f[l]))}this.pathGroups.h[q]=f}this.sizes.h[q]=k;this.types.h[q]=g.type;Object.prototype.hasOwnProperty.call(g,"preload")&&(this.preload.h[q]=F.field(g,"preload"));Object.prototype.hasOwnProperty.call(g,"className")&&(k=F.field(g,"className"),k=h[k],this.classTypes.h[q]=k)}d=this.bytesTotal=0;for(e=a.assets;d<e.length;)g=e[d],++d,q=Object.prototype.hasOwnProperty.call(g,"id")?g.id:g.path,Object.prototype.hasOwnProperty.call(this.preload.h,q)&&this.preload.h[q]&&Object.prototype.hasOwnProperty.call(this.sizes.h,
q)&&(this.bytesTotal+=this.sizes.h[q])},__resolvePath:function(a){a=oa.replace(a,"\\","/");var b=a.indexOf(":");oa.startsWith(a,"http")&&0<b?(b+=3,a=E.substr(a,0,b)+oa.replace(E.substr(a,b,null),"//","/")):a=oa.replace(a,"//","/");if(-1<a.indexOf("./")){a=a.split("/");b=[];for(var c=0,d=a.length;c<d;){var e=c++;".."==a[e]?0==e||".."==b[e-1]?b.push(".."):b.pop():"."==a[e]?0==e&&b.push("."):b.push(a[e])}a=b.join("/")}return a},loadAudioBuffer_onComplete:function(a,b){this.cachedAudioBuffers.h[a]=b;
if(Object.prototype.hasOwnProperty.call(this.pathGroups.h,a))for(var c=this.pathGroups.h[a],d=Object.keys(this.pathGroups.h),e=d.length,g=0;g<e;){var k=d[g++];if(k!=a)for(var f=0;f<c.length;){var n=c[f];++f;if(-1<this.pathGroups.h[k].indexOf(n)){this.cachedAudioBuffers.h[k]=b;break}}}this.__assetLoaded(a)},loadAudioBuffer_onError:function(a,b){null!=b&&""!=b?ab.warn('Could not load "'+a+'": '+M.string(b),{fileName:"lime/utils/AssetLibrary.hx",lineNumber:865,className:"lime.utils.AssetLibrary",methodName:"loadAudioBuffer_onError"}):
ab.warn('Could not load "'+a+'"',{fileName:"lime/utils/AssetLibrary.hx",lineNumber:869,className:"lime.utils.AssetLibrary",methodName:"loadAudioBuffer_onError"});this.loadAudioBuffer_onComplete(a,new Fb)},loadBytes_onComplete:function(a,b){this.cachedBytes.h[a]=b;this.__assetLoaded(a)},loadFont_onComplete:function(a,b){this.cachedFonts.h[a]=b;this.__assetLoaded(a)},loadImage_onComplete:function(a,b){this.cachedImages.h[a]=b;this.__assetLoaded(a)},loadText_onComplete:function(a,b){this.cachedText.h[a]=
b;this.__assetLoaded(a)},load_onError:function(a,b){null!=b&&""!=b?this.promise.error('Error loading asset "'+a+'": '+M.string(b)):this.promise.error('Error loading asset "'+a+'"')},load_onProgress:function(a,b,c){if(0<b){var d=this.sizes.h[a];0<c?(b/=c,1<b&&(b=1),b=Math.floor(b*d)):b>d&&(b=d);Object.prototype.hasOwnProperty.call(this.bytesLoadedCache.h,a)?(d=this.bytesLoadedCache.h[a],b!=d&&(this.bytesLoaded+=b-d)):this.bytesLoaded+=b;this.bytesLoadedCache.h[a]=b;this.promise.progress(this.bytesLoaded,
this.bytesTotal)}},__class__:Wc};var hc=function(){this.assets=[];this.libraryArgs=[];this.version=2};h["lime.utils.AssetManifest"]=hc;hc.__name__="lime.utils.AssetManifest";hc.fromBytes=function(a,b){return null!=a?hc.parse(a.getString(0,a.length),b):null};hc.loadFromFile=function(a,b){a=hc.__resolvePath(a);b=hc.__resolveRootPath(b,a);return null==a?null:md.loadFromFile(a).then(function(a){return gb.withValue(hc.fromBytes(a,b))})};hc.parse=function(a,b){if(null==a||""==a)return null;a=JSON.parse(a);
var c=new hc;Object.prototype.hasOwnProperty.call(a,"name")&&(c.name=a.name);Object.prototype.hasOwnProperty.call(a,"libraryType")&&(c.libraryType=a.libraryType);Object.prototype.hasOwnProperty.call(a,"libraryArgs")&&(c.libraryArgs=a.libraryArgs);if(Object.prototype.hasOwnProperty.call(a,"assets")){var d=a.assets;Object.prototype.hasOwnProperty.call(a,"version")&&2>=a.version?c.assets=Tb.run(d):c.assets=d}Object.prototype.hasOwnProperty.call(a,"rootPath")&&(c.rootPath=a.rootPath);null!=b&&""!=b&&
(c.rootPath=null==c.rootPath||""==c.rootPath?b:b+"/"+c.rootPath);return c};hc.__resolvePath=function(a){if(null==a)return null;var b=a.indexOf("?");var c=-1<b?E.substr(a,0,b):a;for(c=oa.replace(c,"\\","/");oa.endsWith(c,"/");)c=E.substr(c,0,c.length-1);return oa.endsWith(c,".bundle")?-1<b?c+"/library.json"+E.substr(a,b,null):c+"/library.json":a};hc.__resolveRootPath=function(a,b){if(null!=a)return a;a=b.indexOf("?");a=-1<a?E.substr(b,0,a):b;for(a=oa.replace(a,"\\","/");oa.endsWith(a,"/");){if("/"==
a)return a;a=E.substr(a,0,a.length-1)}return oa.endsWith(a,".bundle")?a:Qd.directory(a)};hc.prototype={__class__:hc};var ea=function(){};h["lime.utils.Assets"]=ea;ea.__name__="lime.utils.Assets";ea.exists=function(a,b){null==b&&(b="BINARY");var c=a.indexOf(":"),d=a.substring(0,c);a=a.substring(c+1);d=ea.getLibrary(d);return null!=d?d.exists(a,b):!1};ea.getAsset=function(a,b,c){if(c&&ea.cache.enabled)switch(b){case "BINARY":case "TEXT":c=!1;break;case "FONT":var d=ea.cache.font.h[a];if(null!=d)return d;
break;case "IMAGE":d=ea.cache.image.h[a];if(ea.isValidImage(d))return d;break;case "MUSIC":case "SOUND":d=ea.cache.audio.h[a];if(ea.isValidAudio(d))return d;break;case "TEMPLATE":throw P.thrown("Not sure how to get template: "+a);default:return null}var e=a.indexOf(":");d=a.substring(0,e);e=a.substring(e+1);var g=ea.getLibrary(d);if(null!=g)if(g.exists(e,b)){if(g.isLocal(e,b))return d=g.getAsset(e,b),c&&ea.cache.enabled&&ea.cache.set(a,b,d),d;ab.error(b+' asset "'+a+'" exists, but only asynchronously',
{fileName:"lime/utils/Assets.hx",lineNumber:133,className:"lime.utils.Assets",methodName:"getAsset"})}else ab.error("There is no "+b+' asset with an ID of "'+a+'"',{fileName:"lime/utils/Assets.hx",lineNumber:138,className:"lime.utils.Assets",methodName:"getAsset"});else ab.error(ea.__libraryNotFound(d),{fileName:"lime/utils/Assets.hx",lineNumber:143,className:"lime.utils.Assets",methodName:"getAsset"});return null};ea.getBytes=function(a){return ea.getAsset(a,"BINARY",!1)};ea.getImage=function(a,
b){null==b&&(b=!0);return ea.getAsset(a,"IMAGE",b)};ea.getLibrary=function(a){if(null==a||""==a)a="default";return ea.libraries.h[a]};ea.getText=function(a){return ea.getAsset(a,"TEXT",!1)};ea.isLocal=function(a,b,c){null==c&&(c=!0);if(c&&ea.cache.enabled&&ea.cache.exists(a,b))return!0;var d=a.indexOf(":");c=a.substring(0,d);a=a.substring(d+1);c=ea.getLibrary(c);return null!=c?c.isLocal(a,b):!1};ea.isValidAudio=function(a){return null!=a};ea.isValidImage=function(a){return null!=a?null!=a.buffer:
!1};ea.loadAsset=function(a,b,c){if(c&&ea.cache.enabled)switch(b){case "BINARY":case "TEXT":c=!1;break;case "FONT":var d=ea.cache.font.h[a];if(null!=d)return gb.withValue(d);break;case "IMAGE":d=ea.cache.image.h[a];if(ea.isValidImage(d))return gb.withValue(d);break;case "MUSIC":case "SOUND":d=ea.cache.audio.h[a];if(ea.isValidAudio(d))return gb.withValue(d);break;case "TEMPLATE":throw P.thrown("Not sure how to get template: "+a);default:return null}var e=a.indexOf(":");d=a.substring(0,e);e=a.substring(e+
1);var g=ea.getLibrary(d);if(null!=g){if(g.exists(e,b)){d=g.loadAsset(e,b);if(c&&ea.cache.enabled)d.onComplete(function(c){ea.cache.set(a,b,c)});return d}return gb.withError("There is no "+b+' asset with an ID of "'+a+'"')}return gb.withError(ea.__libraryNotFound(d))};ea.loadAudioBuffer=function(a,b){null==b&&(b=!0);return ea.loadAsset(a,"SOUND",b)};ea.loadImage=function(a,b){null==b&&(b=!0);return ea.loadAsset(a,"IMAGE",b)};ea.loadLibrary=function(a){var b=new oc,c=ea.getLibrary(a);if(null!=c)return c.load();
c=a;var d=null;if(Object.prototype.hasOwnProperty.call(ea.bundlePaths.h,a))Tc.loadFromFile(ea.bundlePaths.h[a]).onComplete(function(c){null==c?b.error('Cannot load bundle for library "'+a+'"'):(c=Wc.fromBundle(c),null==c?b.error('Cannot open library "'+a+'"'):(ea.libraries.h[a]=c,c.onChange.add((I=ea.onChange,l(I,I.dispatch))),b.completeWith(c.load())))}).onError(function(c){b.error('There is no asset library with an ID of "'+a+'"')});else Object.prototype.hasOwnProperty.call(ea.libraryPaths.h,a)?
(c=ea.libraryPaths.h[a],d=Qd.directory(c)):(oa.endsWith(c,".bundle")?(d=c,c+="/library.json"):d=Qd.directory(c),c=ea.__cacheBreak(c)),hc.loadFromFile(c,d).onComplete(function(c){null==c?b.error('Cannot parse asset manifest for library "'+a+'"'):(c=Wc.fromManifest(c),null==c?b.error('Cannot open library "'+a+'"'):(ea.libraries.h[a]=c,c.onChange.add((I=ea.onChange,l(I,I.dispatch))),b.completeWith(c.load())))}).onError(function(c){b.error('There is no asset library with an ID of "'+a+'"')});return b.future};
ea.loadText=function(a){return ea.loadAsset(a,"TEXT",!1)};ea.registerLibrary=function(a,b){if(Object.prototype.hasOwnProperty.call(ea.libraries.h,a)){if(ea.libraries.h[a]==b)return;ea.unloadLibrary(a)}null!=b&&b.onChange.add(ea.library_onChange);ea.libraries.h[a]=b};ea.unloadLibrary=function(a){if(null==a||""==a)a="default";var b=ea.libraries.h[a];null!=b&&(ea.cache.clear(a+":"),b.onChange.remove(ea.library_onChange),b.unload());b=ea.libraries;Object.prototype.hasOwnProperty.call(b.h,a)&&delete b.h[a]};
ea.__cacheBreak=function(a){0<ea.cache.version&&(a=-1<a.indexOf("?")?a+("&"+ea.cache.version):a+("?"+ea.cache.version));return a};ea.__libraryNotFound=function(a){if(null==a||""==a)a="default";return null==Ma.current||null==Ma.current.__preloader||Ma.current.__preloader.complete?'There is no asset library named "'+a+'"':'There is no asset library named "'+a+'", or it is not yet preloaded'};ea.library_onChange=function(){ea.cache.clear();ea.onChange.dispatch()};var fh=K["lime.utils.CompressionAlgorithm"]=
{__ename__:"lime.utils.CompressionAlgorithm",__constructs__:null,DEFLATE:{_hx_name:"DEFLATE",_hx_index:0,__enum__:"lime.utils.CompressionAlgorithm",toString:f},GZIP:{_hx_name:"GZIP",_hx_index:1,__enum__:"lime.utils.CompressionAlgorithm",toString:f},LZMA:{_hx_name:"LZMA",_hx_index:2,__enum__:"lime.utils.CompressionAlgorithm",toString:f},ZLIB:{_hx_name:"ZLIB",_hx_index:3,__enum__:"lime.utils.CompressionAlgorithm",toString:f}};fh.__constructs__=[fh.DEFLATE,fh.GZIP,fh.LZMA,fh.ZLIB];var ab=function(){};
h["lime.utils.Log"]=ab;ab.__name__="lime.utils.Log";ab.debug=function(a,b){4<=ab.level&&console.debug("["+b.className+"] "+M.string(a))};ab.error=function(a,b){if(1<=ab.level){a="["+b.className+"] ERROR: "+M.string(a);if(ab.throwErrors)throw P.thrown(a);console.error(a)}};ab.verbose=function(a,b){5<=ab.level&&(a="["+b.className+"] "+M.string(a),console.log(a))};ab.warn=function(a,b){2<=ab.level&&console.warn("["+b.className+"] WARNING: "+M.string(a))};var Mh=function(){this.bytesTotalCache=new Ia;
this.bytesLoadedCache2=new Ia;this.bytesLoadedCache=new Xc;this.onProgress=new Zg;this.onComplete=new Eb;this.bytesTotal=this.bytesLoaded=0;this.libraries=[];this.libraryNames=[];this.onProgress.add(l(this,this.update))};h["lime.utils.Preloader"]=Mh;Mh.__name__="lime.utils.Preloader";Mh.prototype={addLibrary:function(a){this.libraries.push(a)},addLibraryName:function(a){-1==this.libraryNames.indexOf(a)&&this.libraryNames.push(a)},load:function(){for(var a=this,b=0,c=this.libraries;b<c.length;){var d=
c[b];++b;this.bytesTotal+=d.bytesTotal}this.loadedLibraries=-1;this.preloadStarted=!1;b=0;for(c=this.libraries;b<c.length;)d=[c[b]],++b,ab.verbose("Preloading asset library",{fileName:"lime/utils/Preloader.hx",lineNumber:132,className:"lime.utils.Preloader",methodName:"load"}),d[0].load().onProgress(function(b){return function(c,d){a.bytesLoaded=null==a.bytesLoadedCache.h.__keys__[b[0].__id__]?a.bytesLoaded+c:a.bytesLoaded+(c-a.bytesLoadedCache.h[b[0].__id__]);a.bytesLoadedCache.set(b[0],c);a.simulateProgress||
a.onProgress.dispatch(a.bytesLoaded,a.bytesTotal)}}(d)).onComplete(function(b){return function(c){a.bytesLoaded=null==a.bytesLoadedCache.h.__keys__[b[0].__id__]?a.bytesLoaded+b[0].bytesTotal:a.bytesLoaded+(b[0].bytesTotal-a.bytesLoadedCache.h[b[0].__id__]);a.loadedAssetLibrary()}}(d)).onError(function(){return function(a){ab.error(a,{fileName:"lime/utils/Preloader.hx",lineNumber:168,className:"lime.utils.Preloader",methodName:"load"})}}());b=0;for(c=this.libraryNames;b<c.length;)++b,this.bytesTotal+=
200;this.loadedLibraries++;this.preloadStarted=!0;this.updateProgress()},loadedAssetLibrary:function(a){this.loadedLibraries++;var b=this.loadedLibraries;this.preloadStarted||++b;var c=this.libraries.length+this.libraryNames.length;null!=a?ab.verbose("Loaded asset library: "+a+" ["+b+"/"+c+"]",{fileName:"lime/utils/Preloader.hx",lineNumber:195,className:"lime.utils.Preloader",methodName:"loadedAssetLibrary"}):ab.verbose("Loaded asset library ["+b+"/"+c+"]",{fileName:"lime/utils/Preloader.hx",lineNumber:199,
className:"lime.utils.Preloader",methodName:"loadedAssetLibrary"});this.updateProgress()},start:function(){this.complete||this.simulateProgress||!this.preloadComplete||(this.complete=!0,this.onComplete.dispatch())},update:function(a,b){},updateProgress:function(){var a=this;this.simulateProgress||this.onProgress.dispatch(this.bytesLoaded,this.bytesTotal);if(this.loadedLibraries==this.libraries.length&&!this.initLibraryNames){this.initLibraryNames=!0;for(var b=0,c=this.libraryNames;b<c.length;){var d=
[c[b]];++b;ab.verbose("Preloading asset library: "+d[0],{fileName:"lime/utils/Preloader.hx",lineNumber:236,className:"lime.utils.Preloader",methodName:"updateProgress"});ea.loadLibrary(d[0]).onProgress(function(b){return function(c,d){0<d&&(Object.prototype.hasOwnProperty.call(a.bytesTotalCache.h,b[0])||(a.bytesTotalCache.h[b[0]]=d,a.bytesTotal+=d-200),c>d&&(c=d),Object.prototype.hasOwnProperty.call(a.bytesLoadedCache2.h,b[0])?a.bytesLoaded+=c-a.bytesLoadedCache2.h[b[0]]:a.bytesLoaded+=c,a.bytesLoadedCache2.h[b[0]]=
c,a.simulateProgress||a.onProgress.dispatch(a.bytesLoaded,a.bytesTotal))}}(d)).onComplete(function(b){return function(c){c=200;Object.prototype.hasOwnProperty.call(a.bytesTotalCache.h,b[0])&&(c=a.bytesTotalCache.h[b[0]]);Object.prototype.hasOwnProperty.call(a.bytesLoadedCache2.h,b[0])?a.bytesLoaded+=c-a.bytesLoadedCache2.h[b[0]]:a.bytesLoaded+=c;a.loadedAssetLibrary(b[0])}}(d)).onError(function(){return function(a){ab.error(a,{fileName:"lime/utils/Preloader.hx",lineNumber:290,className:"lime.utils.Preloader",
methodName:"updateProgress"})}}())}}this.simulateProgress||this.loadedLibraries!=this.libraries.length+this.libraryNames.length||(this.preloadComplete||(this.preloadComplete=!0,ab.verbose("Preload complete",{fileName:"lime/utils/Preloader.hx",lineNumber:301,className:"lime.utils.Preloader",methodName:"updateProgress"})),this.start())},__class__:Mh};var xb=function(){this.mXEventListener=null;this.client=this};h["profile.MySharedObject"]=xb;xb.__name__="profile.MySharedObject";xb.getLocalStorage=function(){var a=
"undefined"!=typeof window.famobi&&"undefined"!=typeof window.famobi.localStorage?window.famobi.localStorage:window.localStorage;null==a&&(a=Xg.getLocalStorage());return a};xb.getLocal=function(a,b,c){c=" ~%&\\;:\"',<>?#".split("");var d=!0;if(null==a||""==a)d=!1;else for(var e=0;e<c.length;){var g=c[e];++e;if(-1<a.indexOf(g)){d=!1;break}}if(!d)throw P.thrown('Error #2134: Cannot create SharedObject. "'+a+'"');null==b&&(b=window.location.href+"/");null==xb.sSharedObjects&&(xb.sSharedObjects=new Ia,
null!=Ma.current&&Ma.current.onExit.add(xb.application_onExit));c=b+a;if(!Object.prototype.hasOwnProperty.call(xb.sSharedObjects.h,c)){d=new xb;d.data={};d.mLocalPath=b;d.mName=a;e=null;try{var k=xb.getLocalStorage();null!=k&&(e=k.getItem(b+":"+a))}catch(t){}if(null!=e&&""!=e)try{var f=new Tb(e);f.setResolver({resolveEnum:La.resolveEnum,resolveClass:xb.__resolveClass});d.data=f.unserialize()}catch(t){}xb.sSharedObjects.h[c]=d}return xb.sSharedObjects.h[c]};xb.__resolveClass=function(a){return null!=
a?h[a]:null};xb.application_onExit=function(a){a=xb.sSharedObjects.h;for(var b=Object.keys(a),c=b.length,d=0;d<c;)a[b[d++]].flush()};xb.__super__=T;xb.prototype=m(T.prototype,{flush:function(a){if(0==F.fields(this.data).length)return!0;a=$b.run(this.data);try{var b=xb.getLocalStorage();null!=b&&(b.removeItem(this.mLocalPath+":"+this.mName),b.setItem(this.mLocalPath+":"+this.mName,a))}catch(c){return!1}return!0},__class__:xb});var Bb=function(){};h["profile.ResourceUtil"]=Bb;Bb.__name__="profile.ResourceUtil";
Bb.getResourceIcon=function(a){return Bb.sIconMap.h[a]};Bb.registerResourceIcon=function(a,b){var c=Bb.sIconMap;c.h.hasOwnProperty(a)&&E.remove(c.mKeys,a);c.h[a]=b;c.mKeys.push(a)};var Kb=function(a){db.call(this,a)};h["screens.PortraitScreen"]=Kb;Kb.__name__="screens.PortraitScreen";Kb.__super__=db;Kb.prototype=m(db.prototype,{onLoadComplete:function(){db.prototype.onLoadComplete.call(this);this.onScreenSizeChanged()},onScreenSizeChanged:function(){db.prototype.onScreenSizeChanged.call(this);var a=
this.width/this.height,b=p.instance.ratio;1!=this.scale&&this.invalidate();this.scale=1;if(1.3333333333333333>b){var c=1.3333333333333333/b;this.scale!=c&&this.invalidate();this.scale=c}b<a&&(c=b/a*this.scale,this.scale!=c&&this.invalidate(),this.scale=c)},__class__:Kb});var ba=function(a){this.long=!1;this.mJennyTag="JennyScreen"+ma.createGUID();db.call(this,a)};h["screens.ZooPortraitScreen"]=ba;ba.__name__="screens.ZooPortraitScreen";ba.__super__=Kb;ba.prototype=m(Kb.prototype,{onLoadComplete:function(){Xb.instance.hideJenny(this.mJennyTag);
Kb.prototype.onLoadComplete.call(this)},setLevel:function(a){var b=this;ub.getLevelDifficulty(a).onComplete(function(a){var c=b.find("uiHardLevel");null!=c&&c.set_visible(0!=a);0<a&&(c=b.find("uiImgDifficulty"),null!=c&&c instanceof C&&c.set_image(1==a?"dynamic/difficulty_1.png":"dynamic/difficulty_2.png"),c=b.find("uiTxtDifficulty"),c instanceof D&&L.__cast(c,D).set_text(1==a?"SID_HARD":"SID_VERY_HARD"),null!=b.find("uiImgDifficulty")&&b.find("uiImgDifficulty").addAnimation(new Ac(null,1,.1,1)))});
a=N.supported?N.translate("SID_LEVEL_X",[a]):N.number(a);var c=this.find("uiTxtHeadText");c instanceof D&&L.__cast(c,D).set_text(a)},onScreenSizeChanged:function(){Kb.prototype.onScreenSizeChanged.call(this);var a=p.instance.ratio;1!=this.scale&&this.invalidate();this.scale=1;1.3333333333333333>a&&(a=1.3333333333333333/a,this.scale!=a&&this.invalidate(),this.scale=a);this.long&&(1250!=this.height&&this.invalidate(),a=null,this.relativeHeight!=a&&this.invalidate(),this.relativeHeight=a,this.height=
1250);var b=B.SCREEN_WIDTH/this.scale/1.25;this.width>b&&(a=b/this.width*this.scale,this.scale!=a&&this.invalidate(),this.scale=a,this.long&&(a=Math.min(1250/(b/this.width),1600),this.height!=a&&this.invalidate(),null!=this.relativeHeight&&this.invalidate(),this.relativeHeight=null,this.height=a))},dispose:function(){Xb.instance.showJenny(this.mJennyTag);this.mJennyTag=null;Kb.prototype.dispose.call(this)},__class__:ba});var qe=function(a){this.mToUserId=a;ba.call(this,"xml/chat.xml");this.long=!0};
h["screens.Chat"]=qe;qe.__name__="screens.Chat";qe.__super__=ba;qe.prototype=m(ba.prototype,{onLoadComplete:function(){this.find("uiContent").addChild(new cf(this.mToUserId));ba.prototype.onLoadComplete.call(this)},close:function(){this.mToUserId=null;ba.prototype.close.call(this)},__class__:qe});var cf=function(a,b){null==b&&(b=!0);this.mToId=a;this.mPlayerChat=b;fa.call(this,"xml/chat_tab.xml");this.XAnimMoveOutClass=this.XAnimMoveInClass=null;this.mChatId=b?Na.get_instance().getChatIdByUid(a):
a;this.mChat=Na.get_instance().getChat(this.mChatId);null==this.mChat&&(this.mChat={});this.setState(b?"player":"team");this.setState("jenny"==a?"jenny":"default")};h["screens.ChatTab"]=cf;cf.__name__="screens.ChatTab";cf.__super__=fa;cf.prototype=m(fa.prototype,{addMessage:function(a,b,c){switch(c.text){case "SID_BOUGHT_MTX":return new fd(this.context,this.mChatId,b,c,"tMessageContainerMTX");case "SID_TEAM_INVITATION":return new gh(this.context,this.mChatId,b,c)}return new fd(this.context,this.mChatId,
b,c)},onLoadComplete:function(){var a=this,b=this.findType("uiListChat",Ub);if(null!=b&&null!=this.mChat.list)for(var c=F.fields(this.mChat.list),d=0;d<c.length;){var e=c[d];++d;var g=F.field(this.mChat.list,e);b.addContainer(this.addMessage(this.mChatId,e,g))}b.scrollDown();this.register(u.get_instance().getVCard(this.mToId).onComplete(function(b){b=b.name;var c=a.find("uiTxtOtherPlayerName");c instanceof D&&L.__cast(c,D).set_text(b)}).onError(null));this.registerXEventListener(Na.get_instance(),
"ChatManager::NEW",l(this,this.onNewMessage));b=this.findType("uiInput",D);c=l(this,this.onTextChangeEvent);this.registerXEventListener(b,"changeEvent",c);c(null);this.registerXEventListener(b,"enterEvent",l(this,this.onEnter));c=l(this,this.updateBlock);this.registerXEventListener(Na.get_instance(),"ChatManager::BLOCK_UPDATE",c);c(null);fa.prototype.onLoadComplete.call(this)},updateBlock:function(a){if(null==a||a.data.chatId==this.mChatId)a=Na.get_instance().isBlocked(this.mChatId),this.setState(a?
"blocked":"unblocked"),a||Na.get_instance().readChat(this.mChatId)},onEnter:function(a){this.send()},onTextChangeEvent:function(a){a=null!=a?a.target:null;if(null!=a){var b=!a.isInitial()&&0<a.get_text().length;a=this.find("uiBtSend");null!=a&&(b=(a.enabled=b)?1:.5,a.alpha!=b&&a.invalidate(),a.alpha=b)}else a=this.find("uiBtSend"),null!=a&&(a.enabled=!1,b=.5,a.alpha!=b&&a.invalidate(),a.alpha=b)},onNewMessage:function(a){if(null!=a&&null!=a.data&&a.data.chatId==this.mChatId){Na.get_instance().readChat(this.mChatId);
var b=this.findType("uiListChat",Ub);null!=b&&(b.addContainer(this.addMessage(this.mChatId,a.data.messageId,a.data.message)),b.scrollDown())}},send:function(){var a=this,b=this.findType("uiInput",D),c=this.findType("uiBtSend",za);if(null!=b&&null!=c&&c.enabled){var d=b.get_text();if(null!=d&&0<d.length)if("jenny"==this.mToId)B.instance.addChild(Vb.createOkPopUp("SID_CONTACT_SUPPORT_TITLE","SID_CONTACT_SUPPORT_MESSAGE",function(c){if(c==df.YES){c=Na.get_instance().sendMessage(a.mToId,d,{loca:N.language});
var e=B.instance.get_foreground().addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',B.instance.get_foreground().context));
a.register(c.onComplete(function(a){null!=e&&e.dispose()}).onError(function(a){null!=e&&e.dispose()}));b.set_text("");a.onTextChangeEvent()}},function(a){a.findType("uiTxtMessage",D).set_size(40)}));else{if(this.mPlayerChat){c=Na.get_instance().sendMessage(this.mToId,d);var e=null,g=(null!=e?e:B.instance.get_foreground()).addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',
B.instance.get_foreground().context));this.register(c.onComplete(function(a){null!=g&&g.dispose()}).onError(function(a){null!=g&&g.dispose()}))}else{c=Na.get_instance().sendMessageTeam(d);e=null;var k=(null!=e?e:B.instance.get_foreground()).addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',
B.instance.get_foreground().context));this.register(c.onComplete(function(a){null!=k&&k.dispose()}).onError(function(a){null!=k&&k.dispose()}))}b.set_text("");this.onTextChangeEvent()}}},onButtonClick:function(a){switch(a.name){case "uiBtPlayer":B.instance.addScreen(new Ed(this.mToId));break;case "uiBtSend":this.send();break;default:fa.prototype.onButtonClick.call(this,a)}},onList:function(a,b){a=L.__cast(b,fd);if(null!=a)a.onClick()},close:function(){this.mChatId=this.mChat=this.mToId=null;fa.prototype.close.call(this)},
__class__:cf});var re=function(a,b){this.mColor=b;this.mPromise=null!=a?a:new Lb;ba.call(this,"xml/choose_color.xml")};h["screens.ChooseColor"]=re;re.__name__="screens.ChooseColor";re.create=function(a){var b=new Lb;B.instance.addScreen(new re(b,a));return b.future};re.__super__=ba;re.prototype=m(ba.prototype,{onLoadComplete:function(){var a=null!=this.mColor,b=this.find("uiColor");null!=b&&b.set_visible(a);a=this.mColor;b=this.find("uiColor");if(null!=b){var c=O.toFloat(a>>>16&255)/255,d=O.toFloat(a>>>
8&255)/255,e=O.toFloat(a&255)/255;if(c!=b.colorR||d!=b.colorG||e!=b.colorB)b.colorR!=c&&b.invalidate(),b.colorR=c,b.colorG!=d&&b.invalidate(),b.colorG=d,b.colorB!=e&&b.invalidate(),b.colorB=e,b.invalidate();b.color=a}this.registerXEventListener(B.instance,"XRoot::UI_ELEMENT_TOUCHED",l(this,this.onElementTouched));ba.prototype.onLoadComplete.call(this)},onElementTouched:function(a){var b=this;a=a.data;var c=this.findType("uiImgColors",C);if(null!=a&&null!=c&&c==a){a=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];
var d=B.instance.globalX,e=B.instance.globalY;if(null!=c.resultMatrix){var g=Aa.sTempM2D[++Aa.sTempM2DIdx%Aa.sTempM2D.length];g=Aa.copyFrom(g,c.resultMatrix);var k=1/(g[0]*(g[4]*g[8]-g[7]*g[5])-g[1]*(g[3]*g[8]-g[5]*g[6])+g[2]*(g[3]*g[7]-g[4]*g[6])),f=-(g[1]*g[8]-g[2]*g[7])*k,p=(g[1]*g[5]-g[2]*g[4])*k,h=-(g[3]*g[8]-g[5]*g[6])*k,l=(g[0]*g[8]-g[2]*g[6])*k,m=-(g[0]*g[5]-g[3]*g[2])*k,G=(g[3]*g[7]-g[6]*g[4])*k,y=-(g[0]*g[7]-g[6]*g[1])*k,v=(g[0]*g[4]-g[3]*g[1])*k;g[0]=(g[4]*g[8]-g[7]*g[5])*k;g[3]=h;g[6]=
G;g[1]=f;g[4]=l;g[7]=y;g[2]=p;g[5]=m;g[8]=v;a.x=d;a.y=e;var K=a.multiplyMatrix(g)}else K=a;ea.loadImage(c.image).onComplete(function(a){var d=a.getPixel32(Math.round(K.x*a.width/c.resultWidth),Math.round(K.y*a.height/c.resultHeight));if(255==(d&255)&&(a=b.find("uiColor"),null!=a&&a.set_visible(!0),b.mColor=(d&-256)>>8,d=b.mColor,a=b.find("uiColor"),null!=a)){var e=O.toFloat(d>>>16&255)/255,g=O.toFloat(d>>>8&255)/255,k=O.toFloat(d&255)/255;if(e!=a.colorR||g!=a.colorG||k!=a.colorB)a.colorR!=e&&a.invalidate(),
a.colorR=e,a.colorG!=g&&a.invalidate(),a.colorG=g,a.colorB!=k&&a.invalidate(),a.colorB=k,a.invalidate();a.color=d}})}},onButtonClick:function(a){switch(a.name){case "uiBtClose":this.mPromise.error(null);this.close();break;case "uiBtOk":null!=this.mColor?this.mPromise.complete(this.mColor):this.mPromise.error(null);this.close();break;default:ba.prototype.onButtonClick.call(this,a)}},__class__:re});var hh=function(){ba.call(this,"xml/choose_flag.xml")};h["screens.ChooseFlag"]=hh;hh.__name__="screens.ChooseFlag";
hh.__super__=ba;hh.prototype=m(ba.prototype,{onLoadComplete:function(){var a=this.findType("uiList",Ub);if(null!=a){for(var b=Lc.fav.slice(),c=0,d=Lc.total;c<d.length;){var e=d[c];++c;-1==b.indexOf(e)&&b.push(e)}c=a.addContainer(new Wa(this.context,"tLineContainer")).find("uiTxtTitle");c instanceof D&&L.__cast(c,D).set_text("SID_COMMON");a.addContainer(new se(this.context,b));a.addContainer(new se(this.context,b));c=a.addContainer(new Wa(this.context,"tLineContainer")).find("uiTxtTitle");for(c instanceof
D&&L.__cast(c,D).set_text("SID_ALL");0<b.length;)a.addContainer(new se(this.context,b))}ba.prototype.onLoadComplete.call(this)},onButtonClick:function(a){"uiBtSend"!=a.name&&(0==a.name.indexOf("uiBtFlag")&&null!=a.data&&(u.get_instance().setCId(a.data.cid),this.close()),ba.prototype.onButtonClick.call(this,a))},__class__:hh});var Fd=function(a){null==a&&(a=-1);this.mPossibleRewards=["ad_line","ad_skunk","ad_orb"];this.mForceLevel=this.mLevel=-1;ba.call(this);this.mForceLevel=a;this.mLevel=-1==a?u.get_instance().get_nextLevel():
a;v.get_instance().set_level(this.mLevel);this.load("xml/choose_jump_starter_popup.xml");this.block()};h["screens.ChooseJumpStarterPopUp"]=Fd;Fd.__name__="screens.ChooseJumpStarterPopUp";Fd.__super__=ba;Fd.prototype=m(ba.prototype,{onLoadComplete:function(){this.setLevel(this.mLevel);var a=N.number(this.mLevel),b=this.find("uiBtPlay2");b instanceof za&&L.__cast(b,za).set_label(a);a=N.supported;b=this.find("uiTxtChooseJumpstarter");null!=b&&b.set_visible(a);a=N.supported;b=this.find("uiTxtChooseJumpstarterAd");
null!=b&&b.set_visible(a);7==this.mLevel&&-1==this.mForceLevel&&0<u.get_instance().getResource("starterLine")&&wb.get_instance().help([this.find("uiBtStarter1")],"SID_JUMP_STARTER_HELP");this.updateDisplay();this.find("uiRewardedAd").setRewardCallback(l(this,this.onAdShown));ba.prototype.onLoadComplete.call(this)},onAdShown:function(a){a&&v.get_instance().setJumpStarter(this.mPossibleRewards[M.random(this.mPossibleRewards.length)],!0);this.updateDisplay()},updateDisplay:function(){var a=v.get_instance().hasAdJumpstarter(),
b=this.find("uiRewardedAd");null!=b&&b.set_visible(!a);b=this.find("uiAdJumpStartActive");null!=b&&b.set_visible(a);a&&(v.get_instance().hasJumpStarter("ad_skunk")?(b=this.find("uiImgAdJumpStarterReward"),null!=b&&b instanceof C&&b.set_image("gems/skunk.png")):v.get_instance().hasJumpStarter("ad_line")?(b=this.find("uiImgAdJumpStarterReward"),null!=b&&b instanceof C&&b.set_image("gems/row.png")):v.get_instance().hasJumpStarter("ad_orb")&&(b=this.find("uiImgAdJumpStarterReward"),null!=b&&b instanceof
C&&b.set_image("gems/orb.png")),this.setPulse("uiImgAdJumpStarterReward"))},onButtonClick:function(a){switch(a.name){case "uiBtClose":B.instance.transScreen(new gc);break;case "uiBtPlay":case "uiBtPlay2":v.start(this.mLevel);break;default:ba.prototype.onButtonClick.call(this,a)}},dispose:function(){this.mPossibleRewards=null;ba.prototype.dispose.call(this)},__class__:Fd});var ih=function(){this.mStartTime=0;this.mSelection=-1;this.mAllowReopen=!0;db.call(this,"xml/daily_login_screen.xml");this.block()};
h["screens.DailyLoginPopUp"]=ih;ih.__name__="screens.DailyLoginPopUp";ih.__super__=Kb;ih.prototype=m(Kb.prototype,{onLoadComplete:function(){Kb.prototype.onLoadComplete.call(this);if(!u.get_instance().dailyReady()&&u.get_instance().dailyReady(!0)){var a=this.find("uiChoose");null!=a&&a.set_visible(!1);a=this.find("uiReopen");null!=a&&a.set_visible(!0)}a=this.find("uiBtRewardedAd");null!=a&&a.setRewardCallback(l(this,this.onAdShown))},onAdShown:function(a){if(a){var b=this.find("uiChoose");null!=b&&
b.set_visible(!0);b=this.find("uiReopen");null!=b&&b.set_visible(!1);b=this.find("uiTxtChoose");b instanceof D&&L.__cast(b,D).set_text("SID_CHOOSE_DAILY");b=this.find("uiBtCollect");null!=b&&b.set_visible(!1);this.mStartTime=0;this.mSelection=-1;this.mAllowReopen=!1;for(a=0;7>a;){var c=a++;c=this.getRewardContainer(c);null!=c&&(1!=c.colorB&&c.invalidate(),b=c.colorB=1,c.colorG!=b&&c.invalidate(),b=c.colorG=b,c.colorR!=b&&c.invalidate(),c.colorR=b,b=c.find("uiImgBag"),null!=b&&b.set_visible(!0),b=
c.find("uiReward"),null!=b&&b.set_visible(!1),c=c.find("uiReward"),null!=c&&(c.removeAllChildren(),1!=c.scale&&c.invalidate(),c.scale=1))}}else this.close()},getRewardContainer:function(a){return this.find("uiBtReward"+a)},onButtonClick:function(a){var b=this;switch(a.name){case "uiBtCollect":(ka.get_instance().hasRewardedAd()||ka.get_instance().get_adBlockerDetected())&&this.mAllowReopen&&u.get_instance().dailyReady(!0)?(a=this.find("uiChoose"),null!=a&&a.set_visible(!1),a=this.find("uiReopen"),
null!=a&&a.set_visible(!0)):this.close();break;case "uiBtReward0":case "uiBtReward1":case "uiBtReward2":case "uiBtReward3":case "uiBtReward4":case "uiBtReward5":case "uiBtReward6":case "uiBtReward7":if(-1==this.mSelection){this.mSelection=a.data.id;var c=u.get_instance().openDaily(this.mSelection,!this.mAllowReopen),d=function(a){a=a.rewards;for(var c=0;7>c;){var d=c++,e=b.getRewardContainer(d);if(null!=e){var g=e.find("uiReward");if(null!=g){var k=g.addChild(new pc(b.context,a[d])),f=d==b.mSelection?
1.8:1.3;g.scale!=f&&g.invalidate();g.scale=f;g=d==b.mSelection?1:.6;e.colorB!=g&&e.invalidate();g=e.colorB=g;e.colorG!=g&&e.invalidate();g=e.colorG=g;e.colorR!=g&&e.invalidate();e.colorR=g;d==b.mSelection&&k.addAnimation(new Ac(null))}}}Y.get_instance().play("sound/win.mp3",0,1,1);b.mStartTime=H.timer},e=function(a){b.close()};a=null;var g=(null!=a?a:B.instance.get_foreground()).addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',
B.instance.get_foreground().context));this.register(c.onComplete(function(a){null!=d&&d(a);null!=g&&g.dispose()}).onError(function(a){null!=e&&e(a);null!=g&&g.dispose()}))}break;default:Kb.prototype.onButtonClick.call(this,a)}},update:function(){Kb.prototype.update.call(this);if(0<this.mStartTime){var a=H.timer-this.mStartTime;if(.3<a){var b=this.getRewardContainer(this.mSelection);if(!b.find("uiReward").visible){var c=b.find("uiReward");null!=c&&c.set_visible(!0);c=b.find("uiImgBag");null!=c&&c.set_visible(!1);
b.setPulse("uiReward");c=this.find("uiTxtChoose");c instanceof D&&L.__cast(c,D).set_text("SID_WIN3")}}for(var d=0;7>d;)b=d++,a>1.7+.1*b&&(b=this.getRewardContainer(b),b.find("uiReward").visible||(c=b.find("uiReward"),null!=c&&c.set_visible(!0),c=b.find("uiImgBag"),null!=c&&c.set_visible(!1),b.find("uiReward").blubb()));2.5<a&&(c=this.find("uiBtCollect"),null!=c&&c.set_visible(!0))}},__class__:ih});var Td=function(){this.mDefaultImage=null;this.mAvatarIndex=0;ba.call(this);this.mMaxAvatarIndex=Td.MAX_AVATAR_INDEX;
this.load("xml/edit_avatar_popup.xml")};h["screens.EditAvatarPopUp"]=Td;Td.__name__="screens.EditAvatarPopUp";Td.__super__=ba;Td.prototype=m(ba.prototype,{onLoadComplete:function(){this.changeAva(0);this.block();Xb.instance.hideJenny("edit_avatar");ba.prototype.onLoadComplete.call(this)},changeAva:function(a){this.mAvatarIndex+=a;0>this.mAvatarIndex&&(this.mAvatarIndex=this.mMaxAvatarIndex-1);this.mAvatarIndex%=this.mMaxAvatarIndex;if(this.mAvatarIndex!=Td.MAX_AVATAR_INDEX){a="avatar/ava"+ma.ndigits(this.mAvatarIndex+
1,3)+".png";var b=this.find("uiImgAvatar")}else a=this.mDefaultImage,b=this.find("uiImgAvatar");null!=b&&b instanceof C&&b.set_image(a)},onButtonClick:function(a){switch(a.name){case "uiBtNext":this.changeAva(1);break;case "uiBtPrevious":this.changeAva(-1);break;default:ba.prototype.onButtonClick.call(this,a)}},dispose:function(){Xb.instance.showJenny("edit_avatar");ba.prototype.dispose.call(this)},__class__:Td});var Ud=function(a,b,c,d){this.mLabel=a;this.mDefault=b;this.mPlaceholder=c;this.mPromise=
d;ba.call(this,"xml/enter_text.xml")};h["screens.EnterText"]=Ud;Ud.__name__="screens.EnterText";Ud.create=function(a,b,c){var d=new Lb;B.instance.addScreen(new Ud(a,b,c,d));return d.future};Ud.__super__=ba;Ud.prototype=m(ba.prototype,{onLoadComplete:function(){this.set_label(this.mLabel);var a=this.findType("uiInput",Gc);null!=a&&(a.set_text(this.mDefault),a.set_initialText(N.translate(this.mPlaceholder,null)));ba.prototype.onLoadComplete.call(this)},onButtonClick:function(a){switch(a.name){case "uiBtClose":this.mPromise.error(null);
this.close();break;case "uiBtOk":a=this.findType("uiInput",Gc);null!=a&&this.mPromise.complete(a.get_text());this.close();break;default:ba.prototype.onButtonClick.call(this,a)}},close:function(){this.mPromise=this.mPlaceholder=this.mDefault=this.mLabel=null;ba.prototype.close.call(this)},__class__:Ud});var wb=function(){this.dark=.4;this.mFadeStep=2;this.mFadeTarget=this.mFadeState=1;this.helpState=null;fa.call(this);this.load("xml/help.xml")};h["screens.Help"]=wb;wb.__name__="screens.Help";wb.__properties__=
{get_instance:"get_instance"};wb.get_instance=function(){null==wb.instance&&(wb.instance=new wb);return wb.instance};wb.__super__=fa;wb.prototype=m(fa.prototype,{onLoadComplete:function(){this.mPlayfieldContent=this.find("uiPlayfieldContent");fa.prototype.onLoadComplete.call(this)},getStone:function(a,b){return v.get_instance().getTutorialStone(a,b)},findStone:function(a){return v.get_instance().getRandomStoneOfType(a)},checkTutorial:function(a,b){if(0==b)switch(a){case 5:return this.help([this.getStone(4,
4),this.getStone(3,4)],N.supported?"SID_HELP_SPECIAL_COMBINATION":"tTutorial5"),!0;case 6:return this.help([this.getStone(4,4),this.getStone(3,4),this.getStone(4,5),this.getStone(3,5)]),!0;case 8:if(0<u.get_instance().getResource("singleHit"))return this.help([v.get_instance().find("uiBtHammerPowerUp")],"SID_TUT_CHOOSE_POWER_UP","normalLeft"),this.helpState="selectHammer",!0;break;case 9:return this.help([this.getStone(4,0),this.getStone(5,0),this.getStone(5,1),this.getStone(5,2),this.getStone(5,
3),this.getStone(5,4),this.getStone(5,5),this.getStone(5,6)],"SID_HELP_ANVIL","normalLeft"),!0;case 15:return this.help([this.getStone(3,2),this.getStone(3,3),Da.getOverlay(3,2),Da.getOverlay(3,3)],"SID_HELP_SOFT_CAGE","normalLeft"),!0;case 21:return this.help([this.getStone(2,3),this.getStone(1,3),this.getStone(1,2),this.getStone(2,2),this.getStone(1,4),this.getStone(2,4)],"SID_HELP_BOX"),!0;case 30:return this.help([this.getStone(3,1),this.getStone(2,1),this.getStone(3,0)],"SID_HELP_COINS"),!0;
case 60:return this.help([this.getStone(3,4),this.getStone(2,4),this.getStone(2,3),this.getStone(3,3)],"SID_HELP_BLOB"),!0;case 71:return this.help([this.getStone(1,4),this.getStone(1,3),this.getStone(1,5),this.getStone(0,4),this.getStone(0,3),this.getStone(0,5)],"SID_HELP_BOX_COLOR"),!0;case 81:return this.help([this.getStone(4,4),this.getStone(3,4),this.getStone(4,5),this.getStone(4,3),this.getStone(5,4)],"SID_HELP_ORE"),!0;case 85:return this.help([this.getStone(1,2),this.getStone(1,3),this.getStone(2,
2),this.getStone(2,3)],"SID_HELP_MULTI_BOX"),!0;case 104:return this.help([this.getStone(1,4),this.getStone(2,4),this.getStone(1,5)],"SID_HELP_FAT_MULTI"),!0;case 151:return this.help([this.getStone(2,4),this.getStone(1,4),this.getStone(3,3)],"SID_HELP_MULTICAGE"),!0;case 201:return this.help([this.getStone(1,3),this.getStone(0,3),this.getStone(2,3)],"SID_HELP_APPLE"),!0;case 260:return this.help([this.getStone(1,1),this.getStone(0,1),this.getStone(2,1)],"SID_HELP_FOOD_BOWL"),!0;case 280:return this.help([this.getStone(1,
4),this.getStone(1,5)],"SID_HELP_HARD_CAGE"),!0;case 301:return this.help([this.getStone(3,5),this.getStone(2,4),this.getStone(3,4),this.getStone(4,4)],"SID_HELP_COCONUT"),!0;case 330:this.help([this.getStone(2,3),this.getStone(3,3),this.getStone(2,4),this.getStone(3,4)],"SID_HELP_CHAMELEON");break;case 351:return this.help([this.getStone(1,4),this.getStone(3,4)],"SID_HELP_HONEYCOMB_PILE"),!0;case 370:this.help([this.getStone(1,2),this.getStone(3,2)],"SID_HELP_HONEY_POTT");break;case 401:return this.help([this.getStone(2,
3),this.getStone(3,3)],"SID_HELP_FLIES"),!0;case 425:return this.help([this.getStone(1,5),this.getStone(2,5),this.getStone(0,5)],"SID_HELP_CHICKEN"),!0;case 440:return this.help([this.getStone(2,1),this.getStone(2,2),this.getStone(2,0)],"SID_HELP_DUNG"),!0;case 460:return this.help([this.getStone(1,3),this.getStone(2,2),this.getStone(2,0)],"SID_HELP_FAT_MULTI2"),!0;case 475:return this.help([this.getStone(3,2),this.getStone(4,2),this.getStone(3,0)],"SID_HELP_FAT_MULTI_COLOR"),!0;case 490:return this.help([this.getStone(1,
1),this.getStone(2,1),this.getStone(1,2)],"SID_HELP_FAT_MULTI_COLOR_TWISTER"),!0;case 550:return this.help([this.getStone(6,5),this.getStone(7,5),this.getStone(8,5),this.getStone(6,4),this.getStone(7,4),this.getStone(8,4)],"SID_HELP_BUCKET","normalLeft"),!0;case 590:return this.help([this.getStone(2,5),this.getStone(3,5),this.getStone(3,4)],"SID_HELP_GIFT"),!0;case 630:return this.help([this.getStone(2,4),this.getStone(3,4),this.getStone(3,3)],"SID_HELP_XHIT"),!0;case 701:return this.help([this.getStone(3,
4),this.getStone(4,4),this.getStone(3,2)],"SID_HELP_SNOWMAN"),!0;case 801:return this.help([this.getStone(1,5),this.getStone(1,6),Da.getOverlay(1,4)],"SID_HELP_LEAF"),!0;case 831:return this.help([this.getStone(3,2),this.getStone(4,2),this.getStone(3,0)],"SID_HELP_DUNG_PILE"),!0;case 850:return this.help([this.getStone(2,5),this.getStone(3,5),this.getStone(2,4),this.getStone(3,4)],"SID_HELP_GROUP_5_HITS_ONE_PLACE"),!0;case 901:return this.help([this.getStone(0,0),this.getStone(1,0),this.getStone(1,
1)],"SID_HELP_FERTILIZER"),!0;case 1001:return this.help([this.getStone(2,4),this.getStone(1,4),this.getStone(2,5)],"SID_HELP_BALLON"),!0}switch(a){case 1:switch(b){case 0:return this.help([this.getStone(3,3),this.getStone(3,4)],"SID_HELP_FIRST_ACTION"),!0;case 1:return this.help([this.getStone(4,1),this.getStone(6,2),this.getStone(5,1),this.getStone(6,1),v.get_instance().find("uiTaskConti")],"SID_HELP_FIRST_ACTION2","happyLeft"),!0;case 2:return this.help([this.getStone(1,0),this.getStone(2,0),this.getStone(1,
1),this.getStone(1,2),v.get_instance().find("uiTaskConti")],N.translate("SID_HELP_FIRST_ACTION3",[6])),!0;case 3:return this.help([this.getStone(6,4),this.getStone(6,3),this.getStone(6,2),v.get_instance().find("uiTaskConti")],N.translate("SID_HELP_FIRST_ACTION3",[2]),"normalLeft"),!0}v.get_instance().blubbStoneType("GEM_BLUE");break;case 2:switch(b){case 0:return this.help([this.getStone(3,3),this.getStone(2,3),this.getStone(3,4),this.getStone(4,3),this.getStone(4,4)],"tTutorial2","normalRight"),
!0;case 1:return this.help([this.findStone("BREAKER")],"SID_HELP_USE_BEE","curiousLeft"),!0;case 2:return this.help([this.getStone(5,1),this.getStone(5,0),this.getStone(6,1),this.getStone(5,2),this.getStone(6,2)],"SID_HELP_FINISH_LEVEL2","happyLeft"),!0}break;case 3:switch(b){case 0:return this.help([this.getStone(3,3),this.getStone(3,2),this.getStone(2,3),this.getStone(4,3),this.getStone(2,4),this.getStone(3,4),this.getStone(4,4)],"tTutorial3"),!0;case 1:this.help([this.findStone("SKUNK")],null,
"curiousLeft")}break;case 4:switch(b){case 0:return this.help([this.getStone(3,3),this.getStone(2,3),this.getStone(4,3),this.getStone(5,3),this.getStone(3,4),this.getStone(4,4),this.getStone(5,4),this.getStone(3,5),this.getStone(4,5)],"tTutorial4"),!0;case 1:return this.help([this.findStone("ORB")],null,"curiousLeft"),!0}break;case 51:switch(b){case 0:return this.help([this.getStone(2,5),this.getStone(3,5),this.getStone(2,4),this.getStone(3,4)],"SID_HELP_CRACKLING"),!0;case 1:return this.help([this.getStone(2,
3),this.getStone(3,3),this.getStone(2,4),this.getStone(3,4)]),!0}break;case 121:switch(b){case 0:return this.help([this.getStone(1,3),this.getStone(2,3),this.getStone(2,4),this.getStone(2,2)],"SID_HELP_COLOR_EGG"),!0;case 1:return this.help([this.getStone(2,4),this.getStone(3,4),this.getStone(2,3)]),!0}break;case 170:switch(b){case 0:return this.help([this.getStone(2,1),this.getStone(3,1),this.getStone(1,1)],"SID_HELP_FLOWER"),!0;case 1:return this.help([this.getStone(2,1),this.getStone(3,1),this.getStone(1,
1)]),!0}break;case 235:return 1==b&&this.help([this.getStone(1,3),this.getStone(1,4),this.getStone(0,3),this.getStone(0,4)],"SID_HELP_TICKER"),!0;case 525:switch(b){case 0:return this.help([this.getStone(3,4),this.getStone(4,4),this.getStone(2,4)],"SID_HELP_BEEHIVE"),!0;case 1:return this.help([this.getStone(2,3),this.getStone(3,3),this.getStone(2,4)]),!0}break;case 670:switch(b){case 0:return this.help([this.getStone(1,5),this.getStone(2,5),this.getStone(3,5),this.getStone(4,5)],"SID_HELP_GROUP_SINGLE_HIT"),
!0;case 1:return this.help([this.getStone(4,4),this.getStone(4,3),this.getStone(3,5),this.getStone(4,5)]),!0}}return!1},help:function(a,b,c){null==c&&(c="normalRight");if(null!=a&&0!=a.length&&null!=a[0]){a.push(B.instance.find("uiBtSettings"));this.mFadeTarget=this.dark;for(var d=0;d<a.length;){var e=a[d];++d;if(null!=e){var g=1/this.dark;e.colorB!=g&&e.invalidate();g=e.colorB=g;e.colorG!=g&&e.invalidate();g=e.colorG=g;e.colorR!=g&&e.invalidate();e.colorR=g}}this.mTargets=a;d=a[0];B.forceElements=
a;d instanceof R?this.registerXEventListener(d,"Stone::PLOPP",l(this,this.onHelpTargetDisposed)):(this.registerXEventListener(d,"XEventDispatcher::dispose",l(this,this.onHelpTargetDisposed)),this.registerXEventListener(d,"XButton::BUTTON_PRESSED",l(this,this.onHelpTargetDisposed)));null==this.mMarker&&(this.mMarker=this.context.getTemplate("tTutorialMarker").createInstance(),this.mHand=this.mMarker.findType("uiImgHand",C));this.addChild(this.mMarker);null==this.mJenny&&(this.mJenny=this.context.getTemplate(null!=
v.get_instance().parent?"tJennyPlayfield":"tJennyHelp").createInstance());null!=v.get_instance().parent?this.mPlayfieldContent.addChild(this.mJenny):this.addChild(this.mJenny);null!=c&&this.mJenny.setState(c);null!=b?(a=this.mJenny.find("uiImgJennyBubble"),null!=a&&a.set_visible(!0),a=this.mJenny.find("uiTutorialContent"),a.removeAllChildren(),0==b.indexOf("t")?(b=this.context.getTemplate(b),null!=b?(a.addChild(b.createInstance()),a=this.mJenny.find("uiTxtTutorialText"),a instanceof D&&L.__cast(a,
D).set_text("")):(a=this.mJenny.find("uiImgJennyBubble"),null!=a&&a.set_visible(!1))):(c=N.translate(b,null),a=this.mJenny.find("uiImgJennyBubble"),g=70<c.length?c.length/50:1.6,a.ratio!=g&&a.invalidate(),a.ratio=g,a=this.mJenny.find("uiTxtTutorialText"),a instanceof D&&L.__cast(a,D).set_text(b))):(a=this.mJenny.find("uiImgJennyBubble"),null!=a&&a.set_visible(!1));this.dispatchSimpleXEvent("Help::HELP_START");Xb.instance.hideJenny("help")}else{this.mFadeTarget=1;if(null!=this.mTargets){d=0;for(b=
this.mTargets;d<b.length;)e=b[d],++d,null!=e&&(1!=e.colorB&&e.invalidate(),g=e.colorB=1,e.colorG!=g&&e.invalidate(),g=e.colorG=g,e.colorR!=g&&e.invalidate(),e.colorR=g);this.mTargets=null}b=this.mJenny;null!=b&&b.dispose();this.mJenny=null;null!=this.mMarker&&this.mMarker.removeFromParent();this.dispatchSimpleXEvent("Help::HELP_END");Xb.instance.showJenny("help");B.forceElements=null}},onHelpTargetDisposed:function(a){this.releaseXEventListener(a.target,"XEventDispatcher::dispose",l(this,this.onHelpTargetDisposed));
this.releaseXEventListener(a.target,"Stone::PLOPP",l(this,this.onHelpTargetDisposed));this.releaseXEventListener(a.target,"XButton::BUTTON_PRESSED",l(this,this.onHelpTargetDisposed));B.forceElements=null;this.help(null)},update:function(){var a=this.mFadeTarget-this.mFadeState,b=this.mFadeStep*H.delta;this.mFadeState+=0<a?Math.min(a,b):Math.max(a,-b);var c=a=B.instance,d=B.instance;b=this.mFadeState;d.colorB!=b&&d.invalidate();d=d.colorB=b;c.colorG!=d&&c.invalidate();b=c.colorG=d;a.colorR!=b&&a.invalidate();
a.colorR=b;null!=this.mMarker&&null!=this.mTargets&&null!=this.mTargets[0]&&(c=this.mTargets[0].getMiddle(),a=this.mMarker,b=c.x,a.x!=b&&a.invalidate(),a.x=b,a=this.mMarker,b=c.y,a.y!=b&&a.invalidate(),a.y=b);c=v.get_instance().uiPlayField;null!=c&&null!=v.get_instance().parent?(a=this.mPlayfieldContent,b=c.x,a.x!=b&&a.invalidate(),a.x=b,a=this.mPlayfieldContent,b=c.y,a.y!=b&&a.invalidate(),a.y=b,a=this.mPlayfieldContent,b=c.width,a.width!=b&&a.invalidate(),d=null,a.relativeWidth!=d&&a.invalidate(),
a.relativeWidth=d,a.width=b,a=this.mPlayfieldContent,b=c.height,a.height!=b&&a.invalidate(),d=null,a.relativeHeight!=d&&a.invalidate(),a.relativeHeight=d,a.height=b,a=this.mPlayfieldContent,b=c.scale,a.scale!=b&&a.invalidate(),a.scale=b):null!=this.mJenny&&null!=this.mJenny.parent&&(c=this.mMarker.x<this.resultWidth/2,a=this.mJenny,b=this.mMarker.x,a.x!=b&&a.invalidate(),a.x=b,this.mJenny.setState(c?"right":"left"));null!=this.mHand&&this.mHand.visible&&this.mHand.set_image(.4>ma.fmod(H.timer,.8)?
"dynamic/TipHand_1.png":"dynamic/TipHand_2.png");fa.prototype.update.call(this)},onButtonClick:function(a){"uiBtNext"!=a.name&&fa.prototype.onButtonClick.call(this,a)},dispose:function(){var a=this.mJenny;null!=a&&a.dispose();this.mJenny=null;a=this.mMarker;null!=a&&a.dispose();this.mPlayfieldContent=this.mHand=this.mTargets=this.mMarker=null;fa.prototype.dispose.call(this)},__class__:wb});var jh=function(){ba.call(this);this.load("xml/info_popup.xml");this.block()};h["screens.InfoPopUp"]=jh;jh.__name__=
"screens.InfoPopUp";jh.__super__=ba;jh.prototype=m(ba.prototype,{onLoadComplete:function(){var a=ka.get_instance().get_brandingButton(),b=this.find("uiBtBrand");null!=b&&b instanceof C&&b.set_image(a);a=ka.get_instance().hasFeature("copyright");b=this.find("uiImgFamobiLogo");null!=b&&b.set_visible(a);ba.prototype.onLoadComplete.call(this)},onButtonClick:function(a){switch(a.name){case "uiBtBrand":ka.get_instance().openBrandingLink();break;case "uiBtOk":this.close();break;default:ba.prototype.onButtonClick.call(this,
a)}},__class__:jh});var Uc=function(a,b){ba.call(this);this.mReward=a;this.mCallback=b;this.block();this.load("xml/item_success_popup.xml")};h["screens.ItemSuccessPopUp"]=Uc;Uc.__name__="screens.ItemSuccessPopUp";Uc.__super__=ba;Uc.prototype=m(ba.prototype,{onLoadComplete:function(){ba.prototype.onLoadComplete.call(this);this.find("uiImgRewardConti").addChild(new pc(this.context,this.mReward))},onButtonClick:function(a){switch(a.name){case "uiBtClose":case "uiBtOk":this.close();break;default:ba.prototype.onButtonClick.call(this,
a)}},close:function(){null!=this.mCallback&&this.mCallback(!0);ba.prototype.close.call(this)},dispose:function(){this.mCallback=this.mReward=null;ba.prototype.dispose.call(this)},__class__:Uc});var kh=function(a,b){Uc.call(this,a,b)};h["screens.BuySuccessPopUp"]=kh;kh.__name__="screens.BuySuccessPopUp";kh.__super__=Uc;kh.prototype=m(Uc.prototype,{onLoadComplete:function(){this.set_label("SID_BOUGHT");Uc.prototype.onLoadComplete.call(this)},__class__:kh});var te=function(a,b){Uc.call(this,a,b)};h["screens.RewardedAdSuccessPopUp"]=
te;te.__name__="screens.RewardedAdSuccessPopUp";te.__super__=Uc;te.prototype=m(Uc.prototype,{onLoadComplete:function(){this.set_label("SID_EARNED");Uc.prototype.onLoadComplete.call(this)},__class__:te});var gc=function(){this.mGoldParticleEmitter=this.mLifeParticleEmitter=null;this.mUsedStartScreenList=[];this.mStartScreenList=[];this.mOldLifes=this.mCurrentResourceAnimation=null;this.mOldStars=this.mOldGold=-1;this.mReady=this.mScreensDone=!1;db.call(this,"xml/main_screen.xml");this.XAnimMoveOutClass=
lh;this.XAnimMoveInClass=Qe;gc.sInstance=this};h["screens.MainScreen"]=gc;gc.__name__="screens.MainScreen";gc.show=function(){B.instance.addScreen(new gc)};gc.__super__=db;gc.prototype=m(db.prototype,{onLoadComplete:function(){var a=this;db.prototype.onLoadComplete.call(this);u.get_instance().forceMode||(this.getNextLevel(),u.get_instance().dailyReady()&&this.scheduleScreen(ih),u.get_instance().hasOpenTournamentReward()&&this.scheduleScreen(mh));ka.get_instance().gameReady();var b=l(this,this.onChatUpdate);
this.registerXEventListener(Na.get_instance(),"ChatManager::UPDATE",b);b(null);this.registerXEventListener(u.get_instance(),"RESOURCE_UPDATE",l(this,this.onResourceUpdate));this.registerXEventListener(u.get_instance(),"ZooBackendLayer::VISIBLE_RESOURCE_UPDATE",l(this,this.onVisibleResourceUpdate));this.registerXEventListener(u.get_instance(),"ZooBackendLayer::tempBonusUpdate",l(this,this.onLifeUpdate));this.onResourceUpdate();0==(u.get_instance().getVisibleResource("chestLevel")|0)%u.get_instance().get_levelPerChest()&&
u.get_instance().lastLevelWon&&this.find("uiBtLevelChest").find("uiImgIcon").pulse(100);b=this.find("uiBtGold");null!=b&&(this.mGoldParticleEmitter=b.preParticleEmitter=new Yc,b.preParticleEmitter.numParticlesPerSecond=0,this.registerXEventListener(ka.get_instance(),"REWARDED_ADD_AVAILABLE",function(b){b=ka.get_instance().hasRewardedAd();a.setState(b?"earnGoldAvailable":"earnGoldUnavailable")}),b=ka.get_instance().hasRewardedAd(),a.setState(b?"earnGoldAvailable":"earnGoldUnavailable"));b=this.find("uiBtLifes");
null!=b&&(this.mLifeParticleEmitter=b.find("uiImgIcon").preParticleEmitter=new Yc,b=this.mLifeParticleEmitter.desc,b.image="particles/heart.png",b.startSize=20,b.endSize=30,b.endColor=16777215,b.gravity=-100,b.duration=1,this.mLifeParticleEmitter.numParticlesPerSecond=0);this.registerXEventListener(u.get_instance(),"LIFE_TIMER_UPDATE",l(this,this.onLifeUpdate));this.registerXEventListener(u.get_instance(),"BackendLayer:READY_EVENT",l(this,this.updateAll));this.registerXEventListener(u.get_instance(),
"TOURNAMENT_INIT",l(this,this.onTournamentInit));this.registerXEventListener(u.get_instance(),"TOURNAMENT_REMOVED",l(this,this.onTournamentRemoved));this.registerXEventListener(u.get_instance(),"TOURNAMENT_UPDATE",l(this,this.onTournamentUpdate));this.registerXEventListener(u.get_instance(),"TOURNAMENT_FINISHED",l(this,this.onTournamentUpdate));0!=u.get_instance().getResource("tournament")&&(this.onTournamentInit(),this.onTournamentUpdate());this.onLifeUpdate();this.updateAll()},onChatUpdate:function(a){var b=
this.find("uiUnread");if(null!=b){var c=Na.get_instance().getNumUnread();b.set_visible(0<c);var d=L.__cast(b.findAnimation("mailWobble"),Ac);null!=d&&(d.speed=0<c?3:0,d.angle=0<c?2:0,d.size=0<c?1:0);0<c&&null!=a&&b.pulse();c=0<c?N.number(c):"";b=b.find("uiTxtGlobalNumUnread");b instanceof D&&L.__cast(b,D).set_text(c)}b=this.find("uiTeamUnread");null!=b&&(c=Na.get_instance().getNumUnread(!0),b.set_visible(0<c),d=L.__cast(b.findAnimation("mailWobble"),Ac),null!=d&&(d.speed=0<c?3:0,d.angle=0<c?2:0,d.size=
0<c?1:0),0<c&&null!=a&&b.pulse(),c=0<c?N.number(c):"",b=b.find("uiTxtTeamNumUnread"),b instanceof D&&L.__cast(b,D).set_text(c))},onMoveInFinished:function(a){db.prototype.onMoveInFinished.call(this,a);this.checkDelayedResources()},onScreenSizeChanged:function(){var a=this.find("uiFrame");if(null!=a)if(1.5<p.instance.ratio){var b=1.5+(p.instance.ratio-1.5)/3;a.ratio!=b&&a.invalidate();a.ratio=b;b=null;a.relativeWidth!=b&&a.invalidate();a.relativeWidth=b}else b=null,a.ratio!=b&&a.invalidate(),a.ratio=
b,1!=a.relativeWidth&&a.invalidate(),a.relativeWidth=1;db.prototype.onScreenSizeChanged.call(this)},onInitText:function(){this.updateAll();this.onTournamentUpdate();this.onLifeUpdate();db.prototype.onInitText.call(this)},updateAll:function(a){null!=a&&u.get_instance().consumeAllDelayedResources();this.updatePlayButton();this.updateGoldDisplay();this.updateChestLevel();this.updateChestStars();a=1<this.getNextLevel();var b=this.find("uiImgMainBar");null!=b&&b.set_visible(a)},moveOut:function(){this.clickableChildren=
!1;return db.prototype.moveOut.call(this)},moveIn:function(){this.clickableChildren=!0;return db.prototype.moveIn.call(this)},onTournamentInit:function(a){a=this.find("uiBtTournament");null!=a&&a.set_visible(!0)},onTournamentRemoved:function(a){a=this.find("uiBtTournament");null!=a&&a.set_visible(!1);a=this.mTournamentCountDown;null!=a&&a.dispose();this.mTournamentCountDown=null},onTournamentUpdate:function(a){a=this.find("uiBtTournament");var b=u.get_instance().tournamentData;if(null!=a&&(a.set_visible(1<
this.getNextLevel()&&null!=b),null!=b)){var c=b.arr;if(null!=c)for(var d=0,e=c.length;d<e;){var g=d++;if(c[g].uid==u.get_instance().get_uid()){g=N.ordinal(g+1);var k=a.find("uiTxtRanking");k instanceof D&&L.__cast(k,D).set_text(g)}}b.endTime>H.get_now().getTime()?null==this.mTournamentCountDown&&(this.mTournamentCountDown=(new Gd(Math.floor((b.endTime-H.get_now().getTime())/1E3),a.findType("uiTxtAmount",D),"SID_COUNTDOWN_HHMMSS")).start()):(b=this.mTournamentCountDown,null!=b&&b.dispose(),this.mTournamentCountDown=
null,k=a.find("uiTxtAmount"),k instanceof D&&L.__cast(k,D).set_text("SID_FINISHED"))}},onLifeUpdate:function(a){a=this.mLifeCountDown;null!=a&&a.dispose();this.mLifeCountDown=null;null!=this.mLifeInfinityCountDown&&(this.releaseXEventListener(this.mLifeInfinityCountDown,"XCountDown::COUNTDOWN_FINISHED",l(this,this.onLifeUpdate)),a=this.mLifeInfinityCountDown,null!=a&&a.dispose(),this.mLifeInfinityCountDown=null);if(u.get_instance().hasTemporaryBonus("tempUnlimitedLife"))this.find("uiBtLifes").setState("unlimited"),
null!=this.mLifeParticleEmitter&&(this.mLifeParticleEmitter.numParticlesPerSecond=10),this.mLifeInfinityCountDown=new Gd(u.get_instance().getTemporaryBonusDuration("tempUnlimitedLife")|0,this.findType("uiTxtLifeCountdown",D)),this.registerXEventListener(this.mLifeInfinityCountDown,"XCountDown::COUNTDOWN_FINISHED",l(this,this.onLifeUpdate)),this.mLifeInfinityCountDown.start();else{a=u.get_instance();a=u.get_instance().getResource("lifes")>=a.get_maxLifes();null!=this.mLifeParticleEmitter&&(this.mLifeParticleEmitter.numParticlesPerSecond=
0);a?(a=this.find("uiTxtLifeCountdown"),a instanceof D&&L.__cast(a,D).set_text("SID_FULL")):(a=u.get_instance().secondsNewLife(),this.mLifeCountDown=(new Gd(Math.max(0,a),this.findType("uiTxtLifeCountdown",D))).start());var b=Math.round(u.get_instance().getVisibleResource("lifes"));this.find("uiBtLifes").setState("limited");if(this.mOldLifes!=b){var c=N.number(Math.max(0,b));a=this.find("uiTxtLifeAmount");a instanceof D&&L.__cast(a,D).set_text(c);null!=this.mOldLifes&&this.find("uiBtLifes").find("uiImgIcon").pulse(50);
this.mOldLifes=b}}},onVisibleResourceUpdate:function(a){switch(a.resourceType){case "chestLevel":10==u.get_instance().getResource("level")&&10<=a.resourceValue&&wb.get_instance().help([this.find("uiBtLevelChest")],"SID_HELP_LEVEL_CHEST");a=this.find("uiBtLevelChest");null!=a&&a.blubb();this.updateChestLevel();break;case "chestStars":7==u.get_instance().getResource("level")&&20<=a.resourceValue&&wb.get_instance().help([this.find("uiBtStarChest")],"SID_HELP_STAR_CHEST");a=this.find("uiBtStarChest");
null!=a&&a.blubb();this.updateChestStars();break;case "level":this.updatePlayButton();null!=a.resourceOldValue&&a.resourceOldValue<a.resourceValue&&this.find("uiBtPlay").pulse(200);break;case "mtx":this.updateGoldDisplay();break;case "lifes":case "tempUnlimitedLife":this.onLifeUpdate()}this.checkDelayedResources(200)},onResourceUpdate:function(a){this.checkDelayedResources();if(null==a||"streak"==a.resourceType){a=u.get_instance().getResource("streak");this.setState(0<a?"streak":"noStreak");a=N.number(a);
var b=this.find("uiTxtStreak");b instanceof D&&L.__cast(b,D).set_text(a)}},getNextLevel:function(){return null!=u.get_instance().forceLevel?u.get_instance().forceLevel:Math.round(u.get_instance().getResource("level"))},updatePlayButton:function(){var a=this,b=1<this.getNextLevel(),c=this.find("uiBtLifes");null!=c&&c.set_visible(b);b=N.translate("SID_LEVEL_X",[u.get_instance().get_nextLevel()]);c=this.find("uiBtPlay");c instanceof za&&L.__cast(c,za).set_label(b);ub.getLevelDifficulty(u.get_instance().get_nextLevel()).onComplete(function(b){var c=
a.find("uiImgDifficulty");null!=c&&c instanceof C&&c.set_image(0==b?"":1==b?"dynamic/difficulty_1_small.png":"dynamic/difficulty_2_small.png")});b=u.get_instance().isInRandomMode();c=this.find("uiImgRandomMode");null!=c&&c.set_visible(b);b=1==u.get_instance().get_nextLevel()?80:0;this.find("uiBtPlay").preParticleEmitter.numParticlesPerSecond=b},updateGoldDisplay:function(){var a=Math.round(u.get_instance().getVisibleResource("mtx")),b=this.find("uiBtGold");if(null!=b){var c=N.number(a),d=b.find("uiTxtAmount");
d instanceof D&&L.__cast(d,D).set_text(c);b.set_visible(1<this.getNextLevel());this.mOldGold!=a&&(-1!=this.mOldGold&&b.setPulse("uiImgIcon"),this.mOldGold=a)}},updateChestStars:function(){var a=this.find("uiBtStarChest");if(null!=a){a.set_visible(1<this.getNextLevel());var b=Math.round(u.get_instance().getVisibleResource("chestStars")),c=b>=u.get_instance().get_starsPerChest(),d=a.find("uiImgIcon");null!=d&&d instanceof C&&d.set_image(c?"ui/star_chest_open.png":"ui/star_chest.png");d=a.find("uiImgRays");
null!=d&&d.set_visible(c);a.find("uiImgBlock").activateEmitter(c);var e=N.translate("SID_X_OF_Y",[Math.min(b,u.get_instance().get_starsPerChest()),u.get_instance().get_starsPerChest()]);d=a.find("uiTxtAmount");d instanceof D&&L.__cast(d,D).set_text(e);d=a.find("uiImgProgress");e=Math.min(b,u.get_instance().get_starsPerChest())/u.get_instance().get_starsPerChest();d.relativeWidth!=e&&d.invalidate();d.relativeWidth=e;e=a.findAnimation("chestWobble");null!=e&&(e.speed=c?3:.5,e.size=c?1:0);this.mOldStars<
b&&(-1!=this.mOldStars&&(a.find("uiImgIcon").pulse(b>=u.get_instance().get_starsPerChest()?300:100),a=this.find("uiBtTournament"),null!=a&&(d=a.find("uiTxtRanking"),null!=d&&d.pulse(100))),this.mOldStars=b)}},updateChestLevel:function(){var a=this.find("uiBtLevelChest");if(null!=a){a.set_visible(1<this.getNextLevel());var b=Math.round(u.get_instance().getVisibleResource("chestLevel")),c=0>=(Math.max(u.get_instance().get_levelPerChest()-b,0)|0),d=a.find("uiImgIcon");null!=d&&d instanceof C&&d.set_image(c?
"ui/chest_open.png":"ui/chest.png");var e=N.translate("SID_X_OF_Y",[Math.min(b,u.get_instance().get_levelPerChest()),u.get_instance().get_levelPerChest()])+" "+N.translate("SID_LEVEL_SHORT",null);d=a.find("uiTxtAmount");d instanceof D&&L.__cast(d,D).set_text(e);d=a.find("uiImgTextBox");null!=d&&d.set_visible(!c);d=a.find("uiImgRays");null!=d&&d.set_visible(c);a.find("uiImgBlock").activateEmitter(c);d=a.find("uiImgProgress");e=Math.min(b,u.get_instance().get_levelPerChest())/u.get_instance().get_levelPerChest();
d.relativeWidth!=e&&d.invalidate();d.relativeWidth=e;a=a.findAnimation("chestWobble");null!=a&&(a.speed=c?3:.5,a.size=c?1:0)}},checkDelayedResources:function(a){null==a&&(a=200);var b=this;2>this.getNextLevel()?(u.get_instance().consumeAllDelayedResources(),this.handleScreens()):u.get_instance().hasDelayedResources()&&null==this.mTimer&&B.instance.getFocus()==this&&null==this.mCurrentResourceAnimation?this.mTimer=Pb.delay(function(){b.mTimer=null;var a=F.fields(u.get_instance().delayedResources);
if(0<a.length)switch(a=a[0],a){case "level":null!=b.find("uiBtPlay")?(u.get_instance().consumeDelayedResource("level"),b.checkDelayedResources(2E3)):b.checkDelayedResources();break;case "chestLevel":case "chestStars":case "lifes":case "mtx":var d=F.field(u.get_instance().delayedResources,a);b.mCurrentResourceAnimation=new nh(b,a,d);b.registerXEventListener(b.mCurrentResourceAnimation,"XEventDispatcher::dispose",l(b,b.onResourceAnimationFinished));b.addChild(b.mCurrentResourceAnimation)}},a):this.mReady||
u.get_instance().hasDelayedResources()||null!=this.mTimer||null!=this.mCurrentResourceAnimation||this.handleScreens()},onScreenDisposed:function(a){this.handleScreens()},scheduleScreen:function(a){-1==this.mUsedStartScreenList.indexOf(a)&&this.mStartScreenList.push(a)},handleScreens:function(){this.mReady=!0;if(0<this.mStartScreenList.length){var a=this.mStartScreenList.shift();null!=a&&(this.mUsedStartScreenList.push(a),a=La.createInstance(a,[]),this.registerXEventListener(a,"XEventDispatcher::dispose",
l(this,this.onScreenDisposed)),a instanceof ue?B.instance.transScreen(a):B.instance.addScreen(a))}else this.mScreensDone||(this.mScreensDone=!0,this.onScreensDone()),u.get_instance().isInRandomMode()||u.get_instance().dispatchSimpleXEvent("ZooBackendLayer::BEST_LEVEL")},onScreensDone:function(){},onResourceAnimationFinished:function(a){this.releaseXEventListener(a.target,"XEventDispatcher::dispose",l(this,this.onAnimationFinished));this.mCurrentResourceAnimation=null;this.checkDelayedResources()},
onButtonClick:function(a){switch(a.name){case "uiBtGold":B.instance.addScreen(new Dc(kc.GOLD));break;case "uiBtInfo":B.instance.addScreen(new jh);break;case "uiBtLevelChest":B.instance.addScreen(new ef("level"));break;case "uiBtLifes":B.instance.addScreen(new Dc(kc.LIFE));break;case "uiBtLogin":B.instance.transScreen(new ue);break;case "uiBtMoreSocial":B.instance.transScreen(new ff);break;case "uiBtOwnDetails":B.instance.addScreen(new Ed(u.get_instance().get_uid(),0<Na.get_instance().getNumUnread()?
1:null));break;case "uiBtPlay":if(u.get_instance().hasDelayedResources())a.enabled=!0;else if(0<u.get_instance().getVisibleResource("lifes"))if(7>u.get_instance().get_nextLevel())v.get_instance().set_level(u.get_instance().get_nextLevel()),this.close(),Pb.delay(function(){B.instance.addScreen(v.get_instance())},500);else if(11<=this.getNextLevel()&&u.get_instance().getTemporaryBonusDuration("tempUnlimitedLife")<-u.config.settings.dailyUnlimitedLifeCoolDown)u.get_instance().requestUnlimitedLife().onComplete(function(b){Object.prototype.hasOwnProperty.call(b,
"duration")?(a.enabled=!0,B.instance.addScreen(new oh)):(a.enabled=!0,B.instance.transScreen(new Fd))});else a.enabled=!0,B.instance.transScreen(new Fd);else a.enabled=!0,B.instance.transScreen(new ph);break;case "uiBtStarChest":B.instance.addScreen(new ef("star"));break;case "uiBtStreak":B.instance.addScreen(new qh);break;case "uiBtTournament":B.instance.transScreen(new ff(2));break;default:db.prototype.onButtonClick.call(this,a)}},dispose:function(){var a=this.mLifeCountDown;null!=a&&a.dispose();
this.mLifeCountDown=null;a=this.mTournamentCountDown;null!=a&&a.dispose();this.mTournamentCountDown=null;a=this.mLifeInfinityCountDown;null!=a&&a.dispose();this.mLifeInfinityCountDown=null;a=this.mDailyCountDown;null!=a&&a.dispose();this.mDailyCountDown=null;a=this.mCurrentResourceAnimation;null!=a&&a.dispose();this.mCurrentResourceAnimation=null;a=this.mTimer;null!=a&&a.dispose();this.mTimer=null;this.mUsedStartScreenList=this.mStartScreenList=this.mLifeParticleEmitter=this.mGoldParticleEmitter=
gc.sInstance=null;db.prototype.dispose.call(this)},__class__:gc});var Vb=function(a,b){this.cb=null;this.onReady=b;fa.call(this,a)};h["screens.PopUp"]=Vb;Vb.__name__="screens.PopUp";Vb.createOkPopUp=function(a,b,c,d){var e=new Vb("xml/popup.xml",function(c){c.block();var e=c.find("uiTxtHeadText");e instanceof D&&L.__cast(e,D).set_text(a);e=c.find("uiTxtMessage");e instanceof D&&L.__cast(e,D).set_text(b);null!=d&&d(c)});e.cb=c;return e};Vb.__super__=fa;Vb.prototype=m(fa.prototype,{onLoadComplete:function(){fa.prototype.onLoadComplete.call(this);
null!=this.onReady&&(this.onReady(this),this.onReady=null)},onScreenSizeChanged:function(){var a=1>p.instance.ratio?1.7:1;this.scale!=a&&this.invalidate();this.scale=a},onButtonClick:function(a){switch(a.name){case "uiBtClose":null!=this.cb&&this.cb(df.NO);this.close();break;case "uiBtPopupOk":null!=this.cb&&this.cb(df.YES);this.close();break;default:fa.prototype.onButtonClick.call(this,a)}},dispose:function(){this.onReady=this.cb=null;fa.prototype.dispose.call(this)},__class__:Vb});var Xf=function(){Vb.call(this);
this.load("xml/new_theme_popup.xml")};h["screens.NewThemePopUp"]=Xf;Xf.__name__="screens.NewThemePopUp";Xf.__super__=Vb;Xf.prototype=m(Vb.prototype,{onAnimateInFinished:function(a){v.get_instance().set_level(u.get_instance().get_bestLevel());var b=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];b.x=0;b.y=.5*B.SCREEN_HEIGHT;for(var c=b,d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],e=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],g=0;250>g;){g++;d.x=.5>Math.random()?0:B.SCREEN_WIDTH;d.y=B.SCREEN_HEIGHT;b=1.5*-B.SCREEN_HEIGHT*
Math.random();e.x=.5*B.SCREEN_WIDTH*Math.random()*(0==d.x?1:-1);e.y=b;var k=.01+.05*Math.random();b=Z.sInstance;var f=-1,p=-1,h=3600*(Math.random()-.5),l=3600*(Math.random()-.5);null==l&&(l=0);null==h&&(h=0);null==p&&(p=0);null==f&&(f=-1);b.addParticle(b.mVertexBuffer2,"gems/star.png",d,5,e,c,k,.02,f,p,h,l,0)}Vb.prototype.onAnimateInFinished.call(this,a)},onButtonClick:function(a){"uiBtOk"==a.name?this.close():Vb.prototype.onButtonClick.call(this,a)},__class__:Xf});var rh=function(a){fa.call(this,
null,a);this.XAnimMoveInClass=null;this.load("xml/news_tab.xml")};h["screens.NewsTab"]=rh;rh.__name__="screens.NewsTab";rh.__super__=fa;rh.prototype=m(fa.prototype,{__class__:rh});var ph=function(){ba.call(this);this.load("xml/no_lifes_popup.xml");this.block()};h["screens.NoLifesLeftPopUp"]=ph;ph.__name__="screens.NoLifesLeftPopUp";ph.__super__=ba;ph.prototype=m(ba.prototype,{onLoadComplete:function(){var a=N.supported?N.translate("SID_LEVEL_X",[u.get_instance().get_nextLevel()]):N.number(u.get_instance().get_nextLevel()),
b=this.find("uiTxtHeadText");b instanceof D&&L.__cast(b,D).set_text(a);var c=u.config.buyables.extra_lifes;a=N.translate("SID_PLUS_X",[c.resources.lifes]);c=c.costs.mtx;b=this.find("uiBtContinue");b instanceof za&&(b=L.__cast(b,za),b.set_label(a),a=N.number(c),b=b.find("uiTxtPrice"),b instanceof D&&L.__cast(b,D).set_text(a));a=N.supported?"SID_REWARDED_AD_LIFE":"";b=this.find("uiBtWatch");b instanceof za&&L.__cast(b,za).set_label(a);this.registerXEventListener(u.get_instance(),"LIFE_TIMER_UPDATE",
l(this,this.onLifeUpdate));this.onLifeUpdate();ba.prototype.onLoadComplete.call(this)},onLifeUpdate:function(a){a=this.mLifeCountDown;null!=a&&a.dispose();this.mLifeCountDown=null;a=u.get_instance().getResource("lifes");var b=N.number(a),c=this.find("uiTxtAmount");c instanceof D&&L.__cast(c,D).set_text(b);a<u.get_instance().get_maxLifes()?this.mLifeCountDown=(new Gd(u.get_instance().secondsNewLife(),this.findType("uiTxtCountDown",D))).start():(c=this.find("uiTxtCountDown"),c instanceof D&&L.__cast(c,
D).set_text("SID_FULL"));c=this.find("uiBtContinue");null!=c&&c.set_visible(0==a);c=this.find("uiBtStartGame");null!=c&&c.set_visible(0!=a)},onButtonClick:function(a){var b=this;switch(a.name){case "uiBtClose":B.instance.transScreen(new gc);break;case "uiBtContinue":a=u.get_instance().buy("extra_lifes");var c=function(a){u.get_instance().consumeAllDelayedResources();b.startGame()},d=B.instance.get_foreground().addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',
B.instance.get_foreground().context));this.register(a.onComplete(function(a){null!=c&&c(a);null!=d&&d.dispose()}).onError(function(a){null!=d&&d.dispose()}));break;case "uiBtStartGame":this.startGame();break;default:ba.prototype.onButtonClick.call(this,a)}},startGame:function(){7>v.get_instance().level?(this.close(),v.start(v.get_instance().level)):B.instance.transScreen(new Fd)},dispose:function(){var a=this.mLifeCountDown;null!=a&&a.dispose();this.mLifeCountDown=null;ba.prototype.dispose.call(this)},
__class__:ph});var zg=function(){this.mLocked=!1;this.mState=!0;this.mAllowWheel=0==v.get_instance().task.revives;ba.call(this,"xml/no_moves_popup.xml");this.block()};h["screens.NoMovesLeftPopUp"]=zg;zg.__name__="screens.NoMovesLeftPopUp";zg.__super__=ba;zg.prototype=m(ba.prototype,{onLoadComplete:function(){ba.prototype.onLoadComplete.call(this);this.registerXEventListener(v.get_instance().task,"Task::MORE_MOVES",l(this,this.onMoreMoves));var a="revive"+v.get_instance().task.revives,b=Math.round(100*
Math.pow(2,v.get_instance().task.revives));Object.prototype.hasOwnProperty.call(u.config.buyables,a)&&(b=F.field(u.config.buyables,a).costs.mtx);a=this.find("uiBtContinue");a instanceof za&&(a=L.__cast(a,za),a.set_label(""),b=N.number(b),a=a.find("uiTxtPrice"),a instanceof D&&L.__cast(a,D).set_text(b));b="+"+N.number(u.config.settings.movesPerRevive);a=this.find("uiTxtNumMoves");a instanceof D&&L.__cast(a,D).set_text(b);b=5>=v.get_instance().task.revives;a=this.find("uiBtContinue");null!=a&&a.set_visible(b);
ka.get_instance().trackEvent("EVENT_CUSTOM",{levelName:"level"+ma.ndigits(v.get_instance().level,4),event:"EVENT_LEVELFAIL",score:v.get_instance().task.score,reason:"dead"});b=this.find("uiBtRewardedAd");null!=b&&(b.set_visible((ka.get_instance().hasRewardedAd()||ka.get_instance().get_adBlockerDetected())&&this.mAllowWheel),b.setRewardCallback(l(this,this.onAdShown)));b=u.get_instance().getStreak();this.setState(0<b?"streak":"noStreak");b=N.number(b);a=this.find("uiTxtStreak");a instanceof D&&L.__cast(a,
D).set_text(b);u.get_instance().hasTemporaryBonus("tempUnlimitedLife")&&this.setState("unlimited")},onAdShown:function(a){this.mAllowWheel=!1;var b=this.find("uiBtRewardedAd");null!=b&&b.set_visible(!1);a&&B.instance.addScreen(new sh)},onMoreMoves:function(a){this.close()},adFailDone:function(){0<u.get_instance().getResource("lifes")?B.instance.transScreen(new Fd):B.instance.transScreen(new gc)},onButtonClick:function(a){var b=this;if(!this.mLocked)switch(a.name){case "uiBtClose":if(this.mState&&
(!u.get_instance().hasTemporaryBonus("tempUnlimitedLife")||0<u.get_instance().getStreak())){var c=this.mState=!1;a=this.find("uiContinue");null!=a&&a.set_visible(c);c=!this.mState;a=this.find("uiQuit");null!=a&&a.set_visible(c);this.set_label(this.mState?"SID_OH_NO":"SID_GIVE_UP")}else v.get_instance().leave(),Y.get_instance().play("sound/bad.mp3",0,1,1),a=W.get_instance(),a.loggedIn&&a.sendEvent(13,{endGame:!1},!1),ka.get_instance().levelFailed(v.get_instance().level,{reason:"dead"}).onComplete(function(a){b.adFailDone()});
break;case "uiBtContinue":this.mLocked=!0;c=u.get_instance().buy("revive"+v.get_instance().task.revives);var d=function(a){b.mLocked=!1};a=null;var e=(null!=a?a:B.instance.get_foreground()).addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',
B.instance.get_foreground().context));this.register(c.onComplete(function(a){v.get_instance().revive(u.config.settings.movesPerRevive);null!=e&&e.dispose()}).onError(function(a){null!=d&&d(a);null!=e&&e.dispose()}));break;default:ba.prototype.onButtonClick.call(this,a)}},__class__:zg});var rf=function(){Vb.call(this,"xml/not_enough_resources_popup.xml");this.block()};h["screens.NotEnoughResourcesPopUp"]=rf;rf.__name__="screens.NotEnoughResourcesPopUp";rf.__super__=Vb;rf.prototype=m(Vb.prototype,{onLoadComplete:function(){var a=
this;Vb.prototype.onLoadComplete.call(this);var b=this.find("uiRewardedAd");null!=b&&b.setRewardCallback(l(this,this.onAdShown));this.registerXEventListener(ka.get_instance(),"REWARDED_ADD_AVAILABLE",function(b){b=ka.get_instance().hasRewardedAd();var c=a.find("uiHappy");null!=c&&c.set_visible(b);c=a.find("uiSad");null!=c&&c.set_visible(!b)});b=ka.get_instance().hasRewardedAd();var c=a.find("uiHappy");null!=c&&c.set_visible(b);c=a.find("uiSad");null!=c&&c.set_visible(!b)},onAdShown:function(a){a&&
this.close()},__class__:rf});var ef=function(a){this.mStartTime=0;this.mType=a;ba.call(this,"xml/open_chest_popup.xml")};h["screens.OpenChestScreen"]=ef;ef.__name__="screens.OpenChestScreen";ef.__super__=ba;ef.prototype=m(ba.prototype,{onLoadComplete:function(){var a=this,b="star"==this.mType?"SID_STAR_CHEST":"SID_LEVEL_CHEST",c=this.find("uiTxtHeadText");c instanceof D&&L.__cast(c,D).set_text(b);b="star"==this.mType?"star_chest_open":"chest_open";c=this.find("uiImgChest");if(null!=c&&c instanceof
C){var d=c;d.set_image("ui/"+b+".png")}b=u.get_instance().openChest(this.mType);var e=function(b){var c=a.find("uiOpenLayer");null!=c&&c.set_visible(!0);b=b.rewards;c=a.find("uiImgReward0");if(null!=c){var d=b[0];null!=d&&(c.addChild(new pc(a.context,d)).name="uiRewardItem")}c=a.find("uiImgReward1");null!=c&&(d=b[1],null!=d&&(c.addChild(new pc(a.context,d)).name="uiRewardItem"));c=a.find("uiImgReward2");null!=c&&(d=b[2],null!=d&&(c.addChild(new pc(a.context,d)).name="uiRewardItem"));Y.get_instance().play("sound/win.mp3",
0,1,1);a.mStartTime=H.timer},g=function(b){var c=a.find("uiBtClose");null!=c&&c.set_visible(!0);b=a.context.getTemplate("tBG");c=a.find("uiImgBg");null!=c&&null!=b&&c.applyTemplate(b);c=a.find("uiInfoLayer");null!=c&&c.set_visible(!0);b="star"==a.mType?"SID_STAR_CHEST_INFO":N.translate("SID_LEVEL_CHEST_INFO",[Math.round(u.get_instance().get_levelPerChest()-u.get_instance().getResource("chestLevel"))]);c=a.find("uiTxtInfo");c instanceof D&&L.__cast(c,D).set_text(b);b="star"==a.mType?"star_chest":"chest";
c=a.find("uiImgChest2");null!=c&&c instanceof C&&c.set_image("ui/"+b+".png");if("star"==a.mType){var d=Math.round(u.get_instance().getVisibleResource("chestStars"));b=N.translate("SID_X_OF_Y",[Math.min(d,u.get_instance().get_starsPerChest()),u.get_instance().get_starsPerChest()]);c=a.find("uiTxtProgress");c instanceof D&&L.__cast(c,D).set_text(b);c=a.find("uiImgProgress");b=Math.min(d,u.get_instance().get_starsPerChest())/u.get_instance().get_starsPerChest();c.relativeWidth!=b&&c.invalidate();c.relativeWidth=
b;c=a.find("uiImgStar");null!=c&&c.set_visible(!0)}else d=Math.round(u.get_instance().getVisibleResource("chestLevel")),b=N.translate("SID_X_OF_Y",[Math.min(d,u.get_instance().get_levelPerChest()),u.get_instance().get_levelPerChest()])+" "+N.translate("SID_LEVEL_SHORT",null),c=a.find("uiTxtProgress"),c instanceof D&&L.__cast(c,D).set_text(b),c=a.find("uiImgProgress"),b=Math.min(d,u.get_instance().get_levelPerChest())/u.get_instance().get_levelPerChest(),c.relativeWidth!=b&&c.invalidate(),c.relativeWidth=
b,c=a.find("uiImgStar"),null!=c&&c.set_visible(!1)};c=null;d=(null!=c?c:B.instance.get_foreground()).addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',
B.instance.get_foreground().context));this.register(b.onComplete(function(a){null!=e&&e(a);null!=d&&d.dispose()}).onError(function(a){null!=g&&g(a);null!=d&&d.dispose()}));this.block();ba.prototype.onLoadComplete.call(this)},update:function(){ba.prototype.update.call(this);if(0<this.mStartTime){var a=H.timer-this.mStartTime;if(2<a){var b=this.find("uiBtCollect");null!=b&&b.set_visible(!0)}.2<a&&(b=this.find("uiImgReward0"),b.visible||(b.set_visible(!0),b.setPulse("uiRewardItem"),Y.get_instance().play("sound/snap0.mp3",
0,1,1),this.find("uiImgChest").addAnimation(new Zb)));1<a&&(b=this.find("uiImgReward1"),b.visible||(b.set_visible(!0),b.setPulse("uiRewardItem"),Y.get_instance().play("sound/snap0.mp3",0,1,1),this.find("uiImgChest").addAnimation(new Zb)));1.8<a&&(b=this.find("uiImgReward2"),b.visible||(b.set_visible(!0),b.setPulse("uiRewardItem"),Y.get_instance().play("sound/snap0.mp3",0,1,1),this.find("uiImgChest").addAnimation(new Zb)))}},onButtonClick:function(a){"uiBtCollect"==a.name?this.close():ba.prototype.onButtonClick.call(this,
a)},dispose:function(){this.mType=null;ba.prototype.dispose.call(this)},__class__:ef});var th=function(){fa.call(this,"xml/player_chat_channel_tab.xml");this.XAnimMoveOutClass=this.XAnimMoveInClass=null;this.uid=u.get_instance().get_uid()};h["screens.PlayerChatChannelTab"]=th;th.__name__="screens.PlayerChatChannelTab";th.__super__=fa;th.prototype=m(fa.prototype,{onLoadComplete:function(){fa.prototype.onLoadComplete.call(this);var a=this.findType("uiListChat",Ub);if(null!=a){a.clear();var b=Na.get_instance().chats,
c=F.fields(b),d=Na.get_instance().getChatIdByUid("jenny");-1==c.indexOf(d)&&a.addContainer(new Vd(this.context,d,{last:H.get_now().getTime(),members:{jenny:!0}}));for(d=0;d<c.length;){var e=c[d];++d;var g=F.field(b,e),k=g;null!=k&&Object.prototype.hasOwnProperty.call(k,"teamChat")&&F.field(k,"teamChat")||a.addContainer(new Vd(this.context,e,g))}a.sort()}},onList:function(a,b){"uiListChat"==a.name&&b instanceof Vd?null!=b&&B.instance.addScreen(new qe(b.uid)):fa.prototype.onList.call(this,a,b)},dispose:function(){this.uid=
null;fa.prototype.dispose.call(this)},__class__:th});var kb=function(a,b){null==b&&(b=0);this.idx=-1;this.mPreselection=b;ba.call(this,a)};h["screens.TabScreen"]=kb;kb.__name__="screens.TabScreen";kb.__super__=ba;kb.prototype=m(ba.prototype,{onLoadComplete:function(){ba.prototype.onLoadComplete.call(this);this.setTab(this.mPreselection)},onButtonClick:function(a){"uiBtTab"==a.name?this.setTab(a.data.idx):ba.prototype.onButtonClick.call(this,a)},setTab:function(a){if(this.idx!=a){this.idx=a;var b=
this.find("uiBGTab0");null!=b&&b.setState(0==a?"enabled":"disabled");b=this.find("uiBGTab1");null!=b&&b.setState(1==a?"enabled":"disabled");b=this.find("uiBGTab2");null!=b&&b.setState(2==a?"enabled":"disabled");b=this.find("uiBGTab3");null!=b&&b.setState(3==a?"enabled":"disabled");b=this.find("uiBGTab4");null!=b&&b.setState(4==a?"enabled":"disabled");b=this.find("uiBGTab5");null!=b&&b.setState(5==a?"enabled":"disabled");b=this.find("uiBGTab6");null!=b&&b.setState(6==a?"enabled":"disabled");b=this.find("uiBGTab7");
null!=b&&b.setState(7==a?"enabled":"disabled");b=this.find("uiBGTab8");null!=b&&b.setState(8==a?"enabled":"disabled");b=this.find("uiBGTab9");null!=b&&b.setState(9==a?"enabled":"disabled");this.setState("tab"+(null==a?"null":""+a));this.onTabChanged(a)}},onTabChanged:function(a){},close:function(){ba.prototype.close.call(this)},__class__:kb});var Ed=function(a,b){this.mPresetTab=null;kb.call(this);this.mPresetTab=b;this.uid=a;this.chatId=Na.get_instance().getChatIdByUid(this.uid);this.self=this.uid==
u.get_instance().get_uid();this.block()};h["screens.PlayerDetails"]=Ed;Ed.__name__="screens.PlayerDetails";Ed.__super__=kb;Ed.prototype=m(kb.prototype,{onLoadComplete:function(){kb.prototype.onLoadComplete.call(this);if("jenny"==this.uid){var a=this.find("uiStats");null!=a&&a.set_visible(!1);a=this.find("uiBtUnblock");null!=a&&a.set_visible(!1);a=this.find("uiBtBlock");null!=a&&a.set_visible(!1)}this.self?(this.setTab(null==this.mPresetTab?0:this.mPresetTab),a=l(this,this.onChatUpdate),this.registerXEventListener(Na.get_instance(),
"ChatManager::UPDATE",a),a(null),this.registerXEventListener(this.findType("uiTxtGlobalNumUnread",D),"XText::UPDATE_WIDTH",l(this,this.onNumReadTextChange))):(a=l(this,this.updateBlock),this.registerXEventListener(Na.get_instance(),"ChatManager::BLOCK_UPDATE",a),a(null));a=l(this,this.updateTeam);this.registerXEventListener(u.get_instance(),"TEAM_UPDATE",a);a(null)},updateTeam:function(a){a=this.self&&(null==u.get_instance().teamId||2==this.mPresetTab);var b=this.find("uiBGTab2");null!=b&&b.set_visible(a);
a||2!=this.idx||this.close()},updateBlock:function(a){if("jenny"!=this.uid&&(null==a||a.data.chatId==this.chatId)){a=Na.get_instance().isBlocked(this.chatId);this.setState(a?"blocked":"unblocked");a=this.find("uiBtUnblock");if(null!=a){a.enabled=!0;var b=1;a.alpha!=b&&a.invalidate();a.alpha=b}a=this.find("uiBtBlock");null!=a&&(a.enabled=!0,b=1,a.alpha!=b&&a.invalidate(),a.alpha=b)}},onNumReadTextChange:function(a){var b=this.findType("uiImgNumUnread",C);a=a.data+20;b.width!=a&&b.invalidate();null!=
b.relativeWidth&&b.invalidate();b.relativeWidth=null;b.width=a},onChatUpdate:function(a){var b=Na.get_instance().getNumUnread();a=this.find("uiUnread");null!=a&&a.set_visible(0<b);b=0==b?"":N.number(b);a=this.find("uiTxtGlobalNumUnread");a instanceof D&&L.__cast(a,D).set_text(b)},onTabChanged:function(a){var b=this.find("uiDetails");null!=b&&b.set_visible(0==a);this.find("uiTabHook").removeAllChildren();switch(a){case 0:this.updateDetails();break;case 1:this.find("uiTabHook").addChild(new th);break;
case 2:this.find("uiTabHook").addChild(new uh(this))}},updateDetails:function(){var a=this;this.setState("init");this.setState(this.self?"self":"default");u.get_instance().getVCard(this.uid,!0).onComplete(function(b){a.vcard=b;var c=l(a,a.onVCardUpdate);a.registerXEventListener(b,"VCard::UPDATE",c);c(null);a.setState("noInvite")})},openEditAvatar:function(){B.instance.addScreen(new Td)},onVCardUpdate:function(a){var b=this;if(null!=this.vcard){a=this.find("uiDetails").findType("uiPlayer",qd);null!=
a&&(a.overrideClick=l(this,this.openEditAvatar),a.clickable=!0,this.vcard.applyPlayerData(a,!0));a=Lc.getFlagIconX(this.vcard.cid);var c=this.find("uiImgBtnFlag");null!=c&&c instanceof C&&c.set_image(a);a=null==this.vcard.cid||"X"==this.vcard.cid;c=this.find("uiBtFlag");null!=c&&c instanceof C&&c.set_image(a?"ui/SquareButton.png":null);this.setFieldText("uiImgTournamentsWon",null!=this.playerData?N.translate("SID_X_OF_Y",[this.vcard.tournamentsWon,this.playerData.tournaments]):N.number(this.vcard.tournamentsWon));
c=this.find("uiDetails");a=this.vcard.name;c=c.find("uiTxtPlayerName");c instanceof D&&L.__cast(c,D).set_text(a);this.findTypeFuture("uiBtTeam",lb).onComplete(function(a){a.set_id(b.vcard.teamId)})}null!=this.playerData&&(a=N.translate("SID_LAST_ONLINE",null)+" "+J.format(new Date(this.playerData.lastOnlineTime),N.translate("SID_DATE",null)),c=this.find("uiTxtLastOnline"),c instanceof D&&L.__cast(c,D).set_text(a),this.setFieldText("uiImgScore",N.number(this.playerData.score)),this.setFieldText("uiImgBest",
N.number(this.playerData.bestLevel)),this.setFieldText("uiImgStars",N.number(this.playerData.stars)),this.setFieldText("uiImgWon",N.translate("SID_X_OF_Y",[this.playerData.wins,this.playerData.games])),this.setFieldText("uiImgRatio",N.percentage(100*this.playerData.wins/Math.max(1,this.playerData.games))),null!=this.playerData.desc&&""!=this.playerData.desc&&(this.setState("desc"),a=this.playerData.desc,c=this.find("uiTxtPlayerDesc"),c instanceof D&&L.__cast(c,D).set_text(a)))},setFieldText:function(a,
b){a=this.find(a);null!=a&&(a=a.find("uiTxtAmount"),a instanceof D&&L.__cast(a,D).set_text(b))},onButtonClick:function(a){var b=this;switch(a.name){case "uiBtBlock":a=Na.get_instance();a.blockChannel(a.getChatIdByUid(this.uid));a=this.find("uiBtBlock");if(null!=a){a.enabled=!1;var c=.5;a.alpha!=c&&a.invalidate();a.alpha=c}break;case "uiBtChat":B.instance.addScreen(new qe(this.uid));break;case "uiBtEditDesc":if(this.self)Ud.create("SID_ENTER_PLAYER_DESC_LABEL",null!=this.playerData.desc?this.playerData.desc:
"","SID_ENTER_NICE_DESC").onComplete(function(a){u.get_instance().setPlayerDescription(b.playerData.desc=a);b.updateDetails();var c=b.find("uiTxtPlayerDesc");c instanceof D&&L.__cast(c,D).set_text(a)});break;case "uiBtFlag":this.self&&B.instance.addScreen(new hh);break;case "uiBtOk":break;case "uiBtTeamInvite":c=u.get_instance().teamInvite(this.uid);var d=function(a){b.setState("noInvite")};a=null;var e=(null!=a?a:B.instance.get_foreground()).addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',
B.instance.get_foreground().context));this.register(c.onComplete(function(a){null!=d&&d(a);null!=e&&e.dispose()}).onError(function(a){null!=e&&e.dispose()}));break;case "uiBtUnblock":a=Na.get_instance();a.unblockChannel(a.getChatIdByUid(this.uid));a=this.find("uiBtUnblock");null!=a&&(a.enabled=!1,c=.5,a.alpha!=c&&a.invalidate(),a.alpha=c);break;default:kb.prototype.onButtonClick.call(this,a)}},onList:function(a,b){"uiListChat"==a.name&&b instanceof Vd?null!=b&&B.instance.addScreen(new qe(b.uid)):
kb.prototype.onList.call(this,a,b)},dispose:function(){this.vcard=this.chatId=this.uid=this.playerData=null;kb.prototype.dispose.call(this)},__class__:Ed});var df=K["screens.PopUpResult"]={__ename__:"screens.PopUpResult",__constructs__:null,YES:{_hx_name:"YES",_hx_index:0,__enum__:"screens.PopUpResult",toString:f},NO:{_hx_name:"NO",_hx_index:1,__enum__:"screens.PopUpResult",toString:f}};df.__constructs__=[df.YES,df.NO];var wd=function(){ba.call(this);wd.sInstance=this;this.load("xml/quit_level_popup.xml");
this.block()};h["screens.QuitLevelPopUp"]=wd;wd.__name__="screens.QuitLevelPopUp";wd.__super__=ba;wd.prototype=m(ba.prototype,{onLoadComplete:function(){ba.prototype.onLoadComplete.call(this);var a="Level "+v.get_instance().level,b=this.find("uiTxtHeadText");b instanceof D&&L.__cast(b,D).set_text(a);a=!u.get_instance().hasTemporaryBonus("tempUnlimitedLife");b=this.find("uiImgLoseLife");null!=b&&b.set_visible(a);a=u.get_instance().getStreak();this.setState(0<a?"streak":"noStreak");a=N.number(a);b=
this.find("uiTxtStreak");b instanceof D&&L.__cast(b,D).set_text(a)},onButtonClick:function(a){"uiBtQuit"==a.name?(a=this.find("uiBtClose"),null!=a&&a.set_visible(!1),a=this.find("uiBtQuit"),null!=a&&a.set_visible(!1),Y.get_instance().play("sound/bad.mp3",0,1,1),v.get_instance().leave(),u.get_instance().streakAtLevelStart=0,a=W.get_instance(),a.loggedIn&&a.sendEvent(13,{endGame:!1},!1),this.close(),ka.get_instance().levelFailed(v.get_instance().level,{reason:"quit"}).onComplete(function(a){B.instance.transScreen(new gc)})):
ba.prototype.onButtonClick.call(this,a)},close:function(){wd.sInstance=null;ba.prototype.close.call(this)},__class__:wd});var kc=K["screens.ShopArea"]={__ename__:"screens.ShopArea",__constructs__:null,DEFAULT:{_hx_name:"DEFAULT",_hx_index:0,__enum__:"screens.ShopArea",toString:f},GOLD:{_hx_name:"GOLD",_hx_index:1,__enum__:"screens.ShopArea",toString:f},SINGLE_HIT:{_hx_name:"SINGLE_HIT",_hx_index:2,__enum__:"screens.ShopArea",toString:f},ROW_HIT:{_hx_name:"ROW_HIT",_hx_index:3,__enum__:"screens.ShopArea",
toString:f},COLUMN_HIT:{_hx_name:"COLUMN_HIT",_hx_index:4,__enum__:"screens.ShopArea",toString:f},SWIZZLE:{_hx_name:"SWIZZLE",_hx_index:5,__enum__:"screens.ShopArea",toString:f},STARTER:{_hx_name:"STARTER",_hx_index:6,__enum__:"screens.ShopArea",toString:f},LIFE:{_hx_name:"LIFE",_hx_index:7,__enum__:"screens.ShopArea",toString:f}};kc.__constructs__=[kc.DEFAULT,kc.GOLD,kc.SINGLE_HIT,kc.ROW_HIT,kc.COLUMN_HIT,kc.SWIZZLE,kc.STARTER,kc.LIFE];var Dc=function(a){switch(a._hx_index){case 1:a=2;break;case 7:a=
1;break;default:a=0}kb.call(this,"xml/shop.xml",a);Dc.sInstance=this;this.block()};h["screens.Shop"]=Dc;Dc.__name__="screens.Shop";Dc.__super__=kb;Dc.prototype=m(kb.prototype,{onLoadComplete:function(){var a=this;kb.prototype.onLoadComplete.call(this);this.registerXEventListener(u.get_instance(),"RESOURCE_UPDATE",l(this,this.onResourceUpdate));var b=ka.get_instance().hasFeature("rewarded"),c=this.find("uiBGTab2");null!=c&&c.set_visible(b);b=this.findType("uiListPackages",Ub);null!=b&&(c=b.addContainer(new Wa(this.context,
"tLineContainer")).find("uiTxtTitle"),c instanceof D&&L.__cast(c,D).set_text("SID_POWER_UPS"),b.addContainer(new Wd(this.context,"shop_single_hit","shop_swizzle")),b.addContainer(new Wd(this.context,"shop_column_hit","shop_row_hit")),c=b.addContainer(new Wa(this.context,"tLineContainer")).find("uiTxtTitle"),c instanceof D&&L.__cast(c,D).set_text("SID_JUMP_STARTER"),b.addContainer(new Wd(this.context,"shop_starter_line","shop_starter_skunk")),b.addContainer(new Wd(this.context,"shop_starter_orb")));
this.registerXEventListener(ka.get_instance(),"REWARDED_ADD_AVAILABLE",function(b){a.updateDisplay()});a.updateDisplay();this.updateDisplay()},onTabChanged:function(a){var b=this.find("uiListPackages");null!=b&&b.set_visible(0==a);b=this.find("uiLifeTab");null!=b&&b.set_visible(1==a);b=this.find("uiMtxTab");null!=b&&b.set_visible(2==a);switch(a){case 0:b=this.find("uiTxtTabText");b instanceof D&&L.__cast(b,D).set_text("SID_SHOP");break;case 1:b=this.find("uiTxtTabText");b instanceof D&&L.__cast(b,
D).set_text("SID_LIFES");break;case 2:b=this.find("uiTxtTabText"),b instanceof D&&L.__cast(b,D).set_text("SID_RESOURCE_MTX")}kb.prototype.onTabChanged.call(this,a);this.updateDisplay()},onResourceUpdate:function(a){this.updateDisplay()},updateDisplay:function(){var a=u.get_instance().getResource("mtx"),b=this.find("uiBtGold");a=N.number(a);b=b.find("uiTxtAmount");b instanceof D&&L.__cast(b,D).set_text(a);a=u.get_instance().getResource("lifes");b=this.find("uiBtLife");a=N.number(a);b=b.find("uiTxtAmount");
b instanceof D&&L.__cast(b,D).set_text(a);b=ka.get_instance().hasRewardedAd()&&2!=this.idx;this.find("uiBtGold").setState(b?"earnGoldAvailable":"earnGoldUnavailable")},onButtonClick:function(a){"uiBtGold"==a.name?this.setTab(2):kb.prototype.onButtonClick.call(this,a)},close:function(){Dc.sInstance=null;kb.prototype.close.call(this)},__class__:Dc});var ni=function(a,b){this.mDuration=5;this.mMessage=b;fa.call(this,a);this.mStartTick=H.timer};h["screens.ShortInfo"]=ni;ni.__name__="screens.ShortInfo";
ni.__super__=fa;ni.prototype=m(fa.prototype,{onLoadComplete:function(){var a=this.mMessage,b=this.find("uiTxtMessage");b instanceof D&&L.__cast(b,D).set_text(a);fa.prototype.onLoadComplete.call(this)},onScreenSizeChanged:function(){var a=1>p.instance.ratio?1.7:1;this.scale!=a&&this.invalidate();this.scale=a},update:function(){fa.prototype.update.call(this);var a=Math.min(1,Math.max(0,this.mStartTick+this.mDuration-H.timer));this.alpha!=a&&this.invalidate();this.alpha=a;0>=a&&Rb.dispose(this)},dispose:function(){this.mMessage=
null;fa.prototype.dispose.call(this)},__class__:ni});var ue=function(){this.mTrackingText=null;ba.call(this);this.load("xml/sign_in_popup.xml")};h["screens.SignInPopUp"]=ue;ue.__name__="screens.SignInPopUp";ue.__super__=ba;ue.prototype=m(ba.prototype,{onLoadComplete:function(){this.block();Wb.get_instance().trackCustomEvent("register","show_screen",1);this.find("uiRewardConti").addChild(new pc(this.context,u.config.settings.registerReward));this.find("uiRewardConti2").addChild(new pc(this.context,
u.config.settings.registerReward2));this.find("uiRewardConti3").addChild(new pc(this.context,u.config.settings.registerReward3));Xb.instance.hideJenny("register");ba.prototype.onLoadComplete.call(this)},onButtonClick:function(a){switch(a.name){case "uiBtClose":B.instance.transScreen(new gc);break;case "uiBtTerms":ma.openURL("https://famobi.com/terms-of-service");break;default:ba.prototype.onButtonClick.call(this,a)}},dispose:function(){Xb.instance.showJenny("register");this.mTrackingText=null;ba.prototype.dispose.call(this)},
__class__:ue});var ff=function(a){null==a&&(a=0);kb.call(this,"xml/social_hub.xml",a);this.long=!0};h["screens.SocialHub"]=ff;ff.__name__="screens.SocialHub";ff.__super__=kb;ff.prototype=m(kb.prototype,{onButtonClick:function(a){"uiBtClose"==a.name?B.instance.transScreen(new gc):kb.prototype.onButtonClick.call(this,a)},onTabChanged:function(a){var b=this.mContent;null!=b&&b.dispose();this.mContent=null;b=this.find("uiContent");if(null!=b)switch(a){case 0:this.mContent=b.addChild(new rh(this.context));
break;case 1:this.mContent=b.addChild(new vh(this.context));break;case 2:this.mContent=b.addChild(new wh(this.context));break;case 3:this.mContent=b.addChild(new xh(this.context))}},close:function(){var a=this.mContent;null!=a&&a.dispose();this.mContent=null;kb.prototype.close.call(this)},__class__:ff});var qh=function(){ba.call(this);this.load("xml/streak_info_popup.xml");this.block()};h["screens.StreakInfoScreen"]=qh;qh.__name__="screens.StreakInfoScreen";qh.__super__=ba;qh.prototype=m(ba.prototype,
{onLoadComplete:function(){ba.prototype.onLoadComplete.call(this)},onButtonClick:function(a){"uiBtOk"==a.name?this.close():ba.prototype.onButtonClick.call(this,a)},__class__:qh});var uh=function(a){fa.call(this);this.mParentScreen=a;this.XAnimMoveInClass=this.XAnimMoveOutClass=null;this.load("xml/team_create.xml")};h["screens.TeamCreate"]=uh;uh.__name__="screens.TeamCreate";uh.__super__=fa;uh.prototype=m(fa.prototype,{onLoadComplete:function(){var a=this;this.findTypeFuture("uiTeam",lb).onComplete(function(a){a.randomize()});
this.deepFindTypeFuture("uiInputName/uiInput",Gc).onComplete(function(b){a.registerXEventListener(b,"changeEvent",l(a,a.onTextChangeEvent))});this.deepFindTypeFuture("uiInputDesc/uiInput",Gc).onComplete(function(b){a.registerXEventListener(b,"changeEvent",l(a,a.onTextChangeEvent))});var b=u.config.teams.creationCosts.mtx,c=this.find("uiBtCreate");c instanceof za&&(c=L.__cast(c,za),c.set_label("SID_CREATE"),b=N.number(b),c=c.find("uiTxtPrice"),c instanceof D&&L.__cast(c,D).set_text(b));this.checkState();
fa.prototype.onLoadComplete.call(this)},onTextChangeEvent:function(a){this.checkState()},onButtonClick:function(a){var b=this;switch(a.name){case "uiBtCreate":a=this.deepFindType("uiInputName/uiInput",Gc);var c=this.deepFindType("uiInputDesc/uiInput",Gc),d=this.findType("uiTeam",lb);if(null!=c&&null!=a&&null!=d)u.get_instance().createTeam(a.get_text(),c.get_text(),d.badge).onComplete(function(a){B.instance.addScreen(new gf(a.teamId))});break;case "uiBtEditBadge":case "uiBtEditBadge2":this.findTypeFuture("uiTeam",
lb).onComplete(function(a){Xd.create(a.badge).onComplete(function(a){b.findTypeFuture("uiTeam",lb).onComplete(function(b){b.setBadge(a)})})});break;case "uiBtRandom":this.findTypeFuture("uiTeam",lb).onComplete(function(a){a.randomize()});break;default:fa.prototype.onButtonClick.call(this,a)}},checkState:function(){var a=!0,b=this.deepFindType("uiInputName/uiInput",Gc);if(null==b||b.isInitial()||5>b.get_text().length)a=!1;b=this.deepFindType("uiInputDesc/uiInput",Gc);if(null==b||b.isInitial()||3>b.get_text().length)a=
!1;b=this.find("uiBtCreate");null!=b&&(a=(b.enabled=a)?1:.5,b.alpha!=a&&b.invalidate(),b.alpha=a)},dispose:function(){this.mParentScreen=this.vcard=this.teamData=null;fa.prototype.dispose.call(this)},__class__:uh});var gf=function(a){kb.call(this);this.id=a;this.load("xml/team_details.xml");this.block()};h["screens.TeamDetails"]=gf;gf.__name__="screens.TeamDetails";gf.__super__=kb;gf.prototype=m(kb.prototype,{onLoadComplete:function(){kb.prototype.onLoadComplete.call(this);this.registerXEventListener(u.get_instance(),
"TEAM_PLAYER_CHANGE",l(this,this.onPlayerTeamChange));this.registerXEventListener(u.get_instance(),"TEAM_PLAYER_INVITED",l(this,this.onPlayerInvited));if(this.self=this.id==u.get_instance().teamId){var a=l(this,this.onChatUpdate);this.registerXEventListener(Na.get_instance(),"ChatManager::UPDATE",a);a(null)}else a=this.find("uiBGTab1"),null!=a&&a.set_visible(!1);this.setTab(0)},onPlayerTeamChange:function(a){var b=a.data.uid;null==a.data.teamId&&b==u.get_instance().get_uid()&&this.close()},onPlayerInvited:function(a){this.updateDetails()},
onTabChanged:function(a){var b=this.find("uiDetails");null!=b&&b.set_visible(0==a);b=this.find("uiChat");null!=b&&b.set_visible(1==a);b=this.find("uiInput");null!=b&&b.set_visible(1==a);this.find("uiChatHook").removeAllChildren();switch(a){case 0:this.updateDetails();break;case 1:this.find("uiChatHook").addChild(new cf(this.id,!1))}},onChatUpdate:function(a){var b=Na.get_instance().getNumUnread(!0);a=this.find("uiUnread");null!=a&&a.set_visible(0<b);b=0==b?"":N.number(b);a=this.find("uiTxtGlobalNumUnread");
a instanceof D&&L.__cast(a,D).set_text(b)},updateDetails:function(){},onButtonClick:function(a){var b=this;switch(a.name){case "uiBtEditBadge":if(u.get_instance().teamId==this.id&&1>=u.get_instance().teamRank)Xd.create(null!=this.vcard?this.vcard.badge:null).onComplete(function(a){a=u.get_instance().editTeam({badge:a});var c=B.instance.get_foreground().addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',
B.instance.get_foreground().context));b.register(a.onComplete(function(a){null!=c&&c.dispose()}).onError(function(a){null!=c&&c.dispose()}));a.onComplete(function(a){b.updateDetails()})});break;case "uiBtEditDesc":if(u.get_instance().teamId==this.id&&1>=u.get_instance().teamRank)Ud.create("SID_ENTER_TEAM_DESC_LABEL",null!=this.teamData.desc?this.teamData.desc:"","SID_ENTER_TEAM_DESC").onComplete(function(a){a=u.get_instance().editTeam({desc:a});var c=function(a){b.updateDetails()},e=B.instance.get_foreground().addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',
B.instance.get_foreground().context));b.register(a.onComplete(function(a){null!=c&&c(a);null!=e&&e.dispose()}).onError(function(a){null!=e&&e.dispose()}))});break;default:kb.prototype.onButtonClick.call(this,a)}},dispose:function(){this.vcard=this.id=this.teamData=null;kb.prototype.dispose.call(this)},__class__:gf});var Xd=function(a,b){this.mPromise=b;this.mInitialBadge=a;this.XAnimMoveOutClass=this.XAnimMoveInClass=null;ba.call(this);this.load("xml/team_edit_badge.xml")};h["screens.TeamEditBadge"]=
Xd;Xd.__name__="screens.TeamEditBadge";Xd.create=function(a){var b=new Lb;B.instance.addScreen(new Xd(a,b));return b.future};Xd.__super__=ba;Xd.prototype=m(ba.prototype,{onLoadComplete:function(){ba.prototype.onLoadComplete.call(this);this.mTeamBadge=this.findType("uiEditBadge",lb);var a=l(this,this.onUpdateBadge);this.registerXEventListener(this.mTeamBadge,"XTeam::UPDATE_BADGE",a);a(null);null==this.mInitialBadge?this.mTeamBadge.randomize():(this.mTeamBadge.setBadge(this.mInitialBadge),this.mInitialBadge=
null)},onUpdateBadge:function(a){a=null!=a&&null!=a.data?a.data:this.mTeamBadge.badge;var b=a[0].color,c=a[0].icon,d=this.find("uiItem0");c="teams/0/"+ma.ndigits(c,3)+".png";d=d.find("uiImgItem");null!=d&&d instanceof C&&d.set_image(c);d=this.find("uiItem0").find("uiImgItem");if(null!=d){c=O.toFloat(b>>>16&255)/255;var e=O.toFloat(b>>>8&255)/255,g=O.toFloat(b&255)/255;if(c!=d.colorR||e!=d.colorG||g!=d.colorB)d.colorR!=c&&d.invalidate(),d.colorR=c,d.colorG!=e&&d.invalidate(),d.colorG=e,d.colorB!=g&&
d.invalidate(),d.colorB=g,d.invalidate();d.color=b}d=this.find("uiItem0").find("uiBtColor");if(null!=d){c=O.toFloat(b>>>16&255)/255;e=O.toFloat(b>>>8&255)/255;g=O.toFloat(b&255)/255;if(c!=d.colorR||e!=d.colorG||g!=d.colorB)d.colorR!=c&&d.invalidate(),d.colorR=c,d.colorG!=e&&d.invalidate(),d.colorG=e,d.colorB!=g&&d.invalidate(),d.colorB=g,d.invalidate();d.color=b}b=a[1].color;c=a[1].icon;d=this.find("uiItem1");c="teams/1/"+ma.ndigits(c,3)+".png";d=d.find("uiImgItem");null!=d&&d instanceof C&&d.set_image(c);
d=this.find("uiItem1").find("uiImgItem");if(null!=d){c=O.toFloat(b>>>16&255)/255;e=O.toFloat(b>>>8&255)/255;g=O.toFloat(b&255)/255;if(c!=d.colorR||e!=d.colorG||g!=d.colorB)d.colorR!=c&&d.invalidate(),d.colorR=c,d.colorG!=e&&d.invalidate(),d.colorG=e,d.colorB!=g&&d.invalidate(),d.colorB=g,d.invalidate();d.color=b}d=this.find("uiItem1").find("uiBtColor");if(null!=d){c=O.toFloat(b>>>16&255)/255;e=O.toFloat(b>>>8&255)/255;g=O.toFloat(b&255)/255;if(c!=d.colorR||e!=d.colorG||g!=d.colorB)d.colorR!=c&&d.invalidate(),
d.colorR=c,d.colorG!=e&&d.invalidate(),d.colorG=e,d.colorB!=g&&d.invalidate(),d.colorB=g,d.invalidate();d.color=b}b=a[2].color;c=a[2].icon;d=this.find("uiItem2");c="teams/2/"+ma.ndigits(c,3)+".png";d=d.find("uiImgItem");null!=d&&d instanceof C&&d.set_image(c);d=this.find("uiItem2").find("uiImgItem");if(null!=d){c=O.toFloat(b>>>16&255)/255;e=O.toFloat(b>>>8&255)/255;g=O.toFloat(b&255)/255;if(c!=d.colorR||e!=d.colorG||g!=d.colorB)d.colorR!=c&&d.invalidate(),d.colorR=c,d.colorG!=e&&d.invalidate(),d.colorG=
e,d.colorB!=g&&d.invalidate(),d.colorB=g,d.invalidate();d.color=b}d=this.find("uiItem2").find("uiBtColor");if(null!=d){c=O.toFloat(b>>>16&255)/255;e=O.toFloat(b>>>8&255)/255;g=O.toFloat(b&255)/255;if(c!=d.colorR||e!=d.colorG||g!=d.colorB)d.colorR!=c&&d.invalidate(),d.colorR=c,d.colorG!=e&&d.invalidate(),d.colorG=e,d.colorB!=g&&d.invalidate(),d.colorB=g,d.invalidate();d.color=b}d=this.find("uiItem2");c="teams/2/"+ma.ndigits(a[2].icon,3)+"_o.png";d=d.find("uiImgOverlay");null!=d&&d instanceof C&&d.set_image(c)},
setBadgeColor:function(a,b){this.mTeamBadge.setBadgeColor(a,b)},getBadgeColor:function(a){return this.mTeamBadge.badge[a].color},buttonToIdx:function(a){switch(a){case "uiItem0":return 0;case "uiItem1":return 1;case "uiItem2":return 2;default:return 0}},onButtonClick:function(a){var b=this;switch(a.name){case "uiBtClose":null!=this.mPromise&&this.mPromise.error({});this.close();break;case "uiBtColor":var c=this.buttonToIdx(a.parent.name);re.create(this.getBadgeColor(c)).onComplete(function(a){b.setBadgeColor(c,
a)});break;case "uiBtNext":this.buttonToIdx(a.parent.name);this.mTeamBadge.toggleIcon(this.buttonToIdx(a.parent.name),1);break;case "uiBtOk":null!=this.mPromise&&this.mPromise.complete(this.mTeamBadge.badge);this.close();break;case "uiBtPrevious":this.mTeamBadge.toggleIcon(this.buttonToIdx(a.parent.name),-1);break;case "uiBtRandom":this.mTeamBadge.randomize();break;default:ba.prototype.onButtonClick.call(this,a)}},dispose:function(){this.mPromise=this.mTeamBadge=null;ba.prototype.dispose.call(this)},
__class__:Xd});var mh=function(){var a=this;ba.call(this);this.block();if(null!=u.get_instance().tournamentData){var b=u.get_instance().call("tournament-getTournamentReward",{tid:u.get_instance().getDynamicResource("tournament")}),c=function(b){a.mRewardData=b;a.load("xml/tournament_finished.xml")},d=function(b){a.close()},e=B.instance.get_foreground().addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',
B.instance.get_foreground().context));this.register(b.onComplete(function(a){null!=c&&c(a);null!=e&&e.dispose()}).onError(function(a){null!=d&&d(a);null!=e&&e.dispose()}))}else this.close()};h["screens.TournamentFinished"]=mh;mh.__name__="screens.TournamentFinished";mh.__super__=ba;mh.prototype=m(ba.prototype,{onLoadComplete:function(){ba.prototype.onLoadComplete.call(this);var a=this.mRewardData;if(null!=a.reward){var b=this.find("uiRewardConti");null!=b&&b.set_visible(!0);this.find("uiReward").addChild(new pc(this.context,
a.reward))}else{var c=N.translate("SID_REACH_PLACE_X_FOR_REWARD",[u.config.tournament.rewards.length]);b=this.find("uiTxtRewardHint");b instanceof D&&L.__cast(b,D).set_text(c)}null!=a.player&&(c=N.number(a.player.stars),b=this.find("uiTxtStars"),b instanceof D&&L.__cast(b,D).set_text(c));c=N.ordinal(a.position+1);b=this.find("uiTxtRank");b instanceof D&&L.__cast(b,D).set_text(c);c=N.translate("SID_TOURNAMENT_REWARD_TEXT",[a.position+1|0]);b=this.find("uiTxtTournamentText");b instanceof D&&L.__cast(b,
D).set_text(c)},onButtonClick:function(a){switch(a.name){case "uiBtClose":case "uiBtOk":this.close();break;default:ba.prototype.onButtonClick.call(this,a)}},dispose:function(){ba.prototype.dispose.call(this);this.mRewardData=null},__class__:mh});var wh=function(a,b){fa.call(this,null,a);this.XAnimMoveInClass=null;this.load("xml/tournament_tab.xml")};h["screens.TournamentTab"]=wh;wh.__name__="screens.TournamentTab";wh.__super__=fa;wh.prototype=m(fa.prototype,{close:function(){var a=this.mTournamentCountDown;
null!=a&&a.dispose();this.mTournamentCountDown=null;fa.prototype.close.call(this)},__class__:wh});var xh=function(a,b){fa.call(this,null,a);this.XAnimMoveInClass=null;this.load("xml/tournament_winners_tab.xml")};h["screens.TournamentWinnersTab"]=xh;xh.__name__="screens.TournamentWinnersTab";xh.__super__=fa;xh.prototype=m(fa.prototype,{onLoadComplete:function(){var a=this,b=u.get_instance().getTournamentHighscore(),c=function(b){if(null!=b&&null!=b.entries){var c=a.findType("uiList",Ub);if(null!=c){b=
b.entries;for(var d=[],e=F.fields(b),g=0;g<e.length;){var f=e[g];++g;if("min"!=f){var n=F.field(b,f);d.push({uid:f,score:n.score,date:n.date})}}c.clear();for(g=0;g<d.length;)n=d[g],++g,c.addContainer(new yh(a.context,n),n.uid==u.get_instance().get_uid());c.sort("score")}}},d=this.find("uiList"),e=(null!=d?d:B.instance.get_foreground()).addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',
B.instance.get_foreground().context));this.register(b.onComplete(function(a){null!=c&&c(a);null!=e&&e.dispose()}).onError(function(a){null!=e&&e.dispose()}));fa.prototype.onLoadComplete.call(this)},__class__:xh});var oh=function(a){null==a&&(a=-1);ba.call(this);this.mDebugCount=a;this.load("xml/unlimited_lifes_popup.xml");this.block()};h["screens.UnlimitedLifesPopUp"]=oh;oh.__name__="screens.UnlimitedLifesPopUp";oh.__super__=ba;oh.prototype=m(ba.prototype,{onLoadComplete:function(){ba.prototype.onLoadComplete.call(this);
var a=l(this,this.onLifeUpdate);this.registerXEventListener(u.get_instance(),"ZooBackendLayer::tempBonusUpdate",a);a(null)},onLifeUpdate:function(a){null!=this.mLifeInfinityCountDown&&(a=this.mLifeInfinityCountDown,null!=a&&a.dispose(),this.mLifeInfinityCountDown=null,this.releaseXEventListener(this.mLifeInfinityCountDown,"XCountDown::COUNTDOWN_FINISHED",l(this,this.onFinished)),this.releaseXEventListener(this.mLifeInfinityCountDown,"XCountDown::COUNTDOWN_TICK",l(this,this.onTick)));this.mLifeInfinityCountDown=
new Gd(-1!=this.mDebugCount?this.mDebugCount:u.get_instance().getTemporaryBonusDuration("tempUnlimitedLife")|0,this.findType("uiTxtDuration",D));this.registerXEventListener(this.mLifeInfinityCountDown,"XCountDown::COUNTDOWN_FINISHED",l(this,this.onFinished));this.registerXEventListener(this.mLifeInfinityCountDown,"XCountDown::COUNTDOWN_TICK",l(this,this.onTick));this.mLifeInfinityCountDown.start()},onTick:function(a){a=this.mLifeInfinityCountDown;a=N.translate("SID_GOT_UNLIMITED_LIFES",[Math.round(Math.floor(a.duration-
(H.timer-a.startTime))/60)]);var b=this.find("uiTxtUnlimitedLifes");b instanceof D&&L.__cast(b,D).set_text(a)},onFinished:function(a){B.instance.transScreen(new Fd)},onButtonClick:function(a){if("uiBtOK"==a.name)this.onFinished();else ba.prototype.onButtonClick.call(this,a)},close:function(){var a=this.mLifeInfinityCountDown;null!=a&&a.dispose();this.mLifeInfinityCountDown=null;ba.prototype.close.call(this)},__class__:oh});var vh=function(a,b){fa.call(this,null,a);this.XAnimMoveInClass=null;this.load("xml/weekly_tab.xml")};
h["screens.WeeklyTab"]=vh;vh.__name__="screens.WeeklyTab";vh.__super__=fa;vh.prototype=m(fa.prototype,{onButtonClick:function(a){"uiBtLogin"==a.name?B.instance.addScreen(new ue):fa.prototype.onButtonClick.call(this,a)},onLoadComplete:function(){fa.prototype.onLoadComplete.call(this)},__class__:vh});var sh=function(){this.mReward={};this.mItemRewards=null;this.mSpeed=270;this.mStartTime=0;this.mStopTime=NaN;db.call(this,void 0);this.block();this.load("xml/wheel_popup.xml")};h["screens.WheelPopUp"]=
sh;sh.__name__="screens.WheelPopUp";sh.__super__=Kb;sh.prototype=m(Kb.prototype,{onLoadComplete:function(){var a=this;Kb.prototype.onLoadComplete.call(this);this.mStartTime=H.timer;this.mWheel=this.findType("uiImgWheel",C);if(null!=this.mWheel){this.mWheel.preParticleEmitter=new Yc;this.mWheel.preParticleEmitter.numParticlesPerSecond=180;var b=u.get_instance().gamble(),c=function(b){var c=a.find("uiWheelContent");null!=c&&(1!=c.alpha&&c.invalidate(),c.alpha=1);a.mItemRewards=b.rewards;a.mWinIdx=b.idx;
a.mReward=a.mItemRewards[a.mWinIdx];b=1;c=0;for(var d=a.mItemRewards;c<d.length;){var e=d[c];++c;var g=a.mWheel.find("uiWin"+b);null!=g&&g.find("uiRewardContainer").addChild(new pc(a.context,e));++b}},d=function(b){a.close()},e=B.instance.get_foreground().addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',
B.instance.get_foreground().context));this.register(b.onComplete(function(a){null!=c&&c(a);null!=e&&e.dispose()}).onError(function(a){null!=d&&d(a);null!=e&&e.dispose()}))}},update:function(){Kb.prototype.update.call(this);if(null!=this.mWheel){var a=0;if(isNaN(this.mStopTime)||0>H.timer-this.mStopTime)a=(H.timer-this.mStartTime)*this.mSpeed;else{a=(this.mStopTime-this.mStartTime)*this.mSpeed;var b=H.timer-this.mStopTime,c=ma.fClamp(b,0,8);a+=Math.min(c,2*(1-Math.pow(.6,c))+.034)*this.mSpeed;if(9<
b){this.mWheel=null;var d=this.mReward;B.instance.transScreen(new te(d,function(a){Object.prototype.hasOwnProperty.call(d,"moreMoves")&&v.get_instance().revive(F.field(d,"moreMoves"))}));return}}c=this.mWheel;c.rotation!=a&&c.invalidate();c.rotation=a;a=Math.floor((360-ma.fmod(this.mWheel.rotation,360))/45)+1;for(b=1;9>b;){var e=b++,g=this.find("uiWin"+e);if(null!=g){c=g.find("uiRewardContainer");var k=e==a?2236962:0;c.colorOffset!=k&&c.invalidate();c.colorOffset=k;c=g.find("uiRewardContainer");e=
e==a?1.2:1.1;c.scale!=e&&c.invalidate();c.scale=e}}}},onButtonClick:function(a){"uiBtStop"==a.name?(a=this.find("uiBtStop"),null!=a&&(a.enabled=!1,.5!=a.alpha&&a.invalidate(),a.alpha=.5),a=ma.fmod(this.mWheel.rotation,360),a=ma.fmod(-(45*this.mWinIdx+.5+44*Math.random())+540-a,360)/this.mSpeed,this.mStopTime=H.timer+a):Kb.prototype.onButtonClick.call(this,a)},dispose:function(){Kb.prototype.dispose.call(this);this.mReward=this.mItemRewards=this.mWheel=null},__class__:sh});var Ag=function(){this.mBonusScore=
this.mBaseScore=this.mScore=this.mLevel=0;this.mCurrentStar=-1;this.mStartTime=this.mStars=0;ba.call(this);this.load("xml/win_popup.xml");this.block(.5)};h["screens.WinPopUp"]=Ag;Ag.__name__="screens.WinPopUp";Ag.__super__=ba;Ag.prototype=m(ba.prototype,{onLoadComplete:function(){ba.prototype.onLoadComplete.call(this);this.setLevel(v.get_instance().level);var a=v.get_instance().task,b=u.get_instance().getStreakBonus();this.mBaseScore=0!=a.score?a.score:5E3+M.random(2E3);this.mBonusScore=Math.round(this.mBaseScore*
(b-1));this.mScore=this.mBaseScore+this.mBonusScore;this.mStars=a.getStarsForScore(this.mScore);a=u.get_instance().getStreak();this.setState(1<b?"streak":"noStreak");b=N.number(a);var c=this.find("uiTxtStreak");c instanceof D&&L.__cast(c,D).set_text(b);b=N.translate("SID_PLUS_X",[this.mBonusScore]);c=this.find("uiTxtScoreBonus");c instanceof D&&L.__cast(c,D).set_text(b);b=N.number(a);c=this.find("uiTxtStreak");c instanceof D&&L.__cast(c,D).set_text(b);this.mLevel=v.get_instance().level;this.mText=
this.findType("uiTxtWinInfo",D);u.get_instance().levelWon(v.get_instance().level,this.mStars,this.mScore);this.register(u.get_instance().finishLevel(this.mLevel,this.mScore,this.mStars).onComplete(function(a){}).onError(null))},onAnimateInFinished:function(a){this.mStartTime=H.timer;ba.prototype.onAnimateInFinished.call(this)},update:function(){var a=this;ba.prototype.update.call(this);if(0<this.mStartTime){var b=H.timer-this.mStartTime,c=N.translate("SID_SCORE_X",[Math.round(this.mBaseScore*Math.min(1,
b))]),d=this.find("uiTxtScore");d instanceof D&&L.__cast(d,D).set_text(c);c=0;for(d=this.mStars;c<d;){var e=c++;if(b>.1+.5*e){var g=this.findType("uiImgStar"+e,C);null!=g&&this.mCurrentStar<e&&(this.mCurrentStar=e,g.setState("on"),g.pulse(),Y.get_instance().play("sound/snap0.mp3",0,1,1))}}b>.5*this.mStars+.3&&null!=this.mText&&(null==this.mText.get_text()&&this.mText.pulse(),this.mText.set_text("SID_WIN"+this.mStars));b>1.7+.5*this.mStars&&(this.mStartTime=0,ka.get_instance().levelSuccess(this.mLevel,
this.mScore).onComplete(function(b){b=a.find("uiBtOk");null!=b&&b.set_visible(!0);a.setPulse("uiBtOk")}))}},onButtonClick:function(a){switch(a.name){case "uiBtClose":case "uiBtOk":v.get_instance().proceedLevel();B.instance.transScreen(new gc);break;default:ba.prototype.onButtonClick.call(this,a)}},__class__:Ag});var Wa=function(a,b){C.call(this,a);1!=this.highlight&&(this.invalidate(),a=this.highlightAnimation,null!=a&&a.dispose(),this.highlightAnimation=null);this.clickable=this.highlight=!0;null!=
b&&(b=this.context.getTemplate(b),null!=b&&this.applyTemplate(b))};h["system.gfx.ui.elements.container.XListContainer"]=Wa;Wa.__name__="system.gfx.ui.elements.container.XListContainer";Wa.__super__=C;Wa.prototype=m(C.prototype,{onAddedToList:function(a){this.parentList=a},onRemovedFromList:function(){this.parentList=null},calc:function(){C.prototype.calc.call(this);null==this.parentList||this.mOldWidth==this.width&&this.mOldHeight==this.height||(this.mOldWidth=this.width,this.mOldHeight=this.height,
this.parentList.invalidate())},onTouchUp:function(a,b,c,d){this.enabled&&.5>c&&10>d&&null!=this.parentList&&(Y.get_instance().play("sound/click.mp3",0,1,1),this.blubb(),this.parentList.onContainerAction(this),this.dispatchSimpleXEvent("XCONTAINER_CLICKED"));C.prototype.onTouchUp.call(this,a,b,c,d)},onTouchMove:function(a,b,c,d){this.parentList.onTouchMove(a,b,c,d);C.prototype.onTouchMove.call(this,a,b,c,d)},setRank:function(a){},updateVisability:function(){if(null!=this.parentList&&this.parentList.get_content()==
this.parent)if(this.parentList.vertical){if(this.y+this.height<-this.parent.y){this.set_visible(!1);return}if(this.y>this.parent.resultHeight-this.parent.y){this.set_visible(!1);return}}else{if(this.x+this.width<-this.parent.x){this.set_visible(!1);return}if(this.x>this.parent.resultWidth-this.parent.x){this.set_visible(!1);return}}this.set_visible(!0)},copyElements:function(a){C.prototype.copyElements.call(this,a)},compare:function(a,b){return 0},getPrevious:function(){var a=this.parentList.containers,
b=a.indexOf(this);return 0<b&&b<a.length?a[b-1]:null},dispose:function(){C.prototype.dispose.call(this);this.parentList=null},__class__:Wa});var Vd=function(a,b,c){this.blocked=!1;var d=this;Wa.call(this,a,"tChatContainer");this.chat=c;this.chatId=b;this.date=ma.toInt(this.chat.last);a=F.fields(this.chat.members);this.uid=1<a.length&&a[0]==u.get_instance().get_uid()?a[1]:a[0];Object.prototype.hasOwnProperty.call(this.chat,"team")?(this.findTypeFuture("uiTeam",lb).onComplete(function(a){a.set_id(d.uid)}),
a=this.find("uiPlayer")):(this.findTypeFuture("uiPlayer",qd).onComplete(function(a){a.set_uid(d.uid)}),a=this.find("uiTeam"));null!=a&&a.set_visible(!1);a=l(this,this.updateData);this.registerXEventListener(Na.get_instance(),"ChatManager::CHANNEL_UPDATE",a);a(null);a=l(this,this.updateBlock);this.registerXEventListener(Na.get_instance(),"ChatManager::BLOCK_UPDATE",a);a(null);this.registerXEventListener(N.dispatcher,N.NEW_LANGUAGE,l(this,this.onLanguageChange));this.setState("jenny"==this.uid?"jenny":
"default")};h["screens.elements.ChatContainer"]=Vd;Vd.__name__="screens.elements.ChatContainer";Vd.__super__=Wa;Vd.prototype=m(Wa.prototype,{updateBlock:function(a){if(null==a||a.data.chatId==this.chatId){this.blocked=Na.get_instance().isBlocked(this.chatId);this.setState(this.blocked?"blocked":"unblocked");a=this.find("uiBtUnblock");if(null!=a){a.enabled=!0;var b=1;a.alpha!=b&&a.invalidate();a.alpha=b}a=this.find("uiBtBlock");null!=a&&(a.enabled=!0,b=1,a.alpha!=b&&a.invalidate(),a.alpha=b)}},updateData:function(a){if(null==
a||a.data==this.chatId){this.date=ma.toInt(this.chat.last);a=Na.get_instance().getNumUnreadByChannel(this.chatId);var b=J.format(new Date(this.date),N.translate("SID_DATE_AND_TIME",null)),c=this.find("uiTxtInfo");c instanceof D&&L.__cast(c,D).set_text(b);c=this.find("uiImgUnread");null!=c&&c.set_visible(0<a);b=N.number(a);c=this.find("uiTxtNumUnread");c instanceof D&&L.__cast(c,D).set_text(b)}},onLanguageChange:function(a){this.updateData()},compare:function(a,b){return"jenny"==this.uid?-1:"jenny"==
a.uid?1:this.date<a.date?1:this.date==a.date?0:-1},dispose:function(){this.uid=this.chatId=this.chat=null;Wa.prototype.dispose.call(this)},__class__:Vd});var se=function(a,b){Wa.call(this,a,"tFlagContainer");for(a=0;5>=++a&&0<b.length;){var c=this.findType("uiBtFlag"+ma.ndigits(a,2),C);if(null!=c){var d=b.shift();c.set_image(Lc.getFlagIconWithX(d));c.data={cid:d}}}};h["screens.elements.FlagContainer"]=se;se.__name__="screens.elements.FlagContainer";se.__super__=Wa;se.prototype=m(Wa.prototype,{dispose:function(){Wa.prototype.dispose.call(this)},
__class__:se});var fd=function(a,b,c,d,e){null==e&&(e="tMessageContainer");this.mOptions=null;this.mAdd=0;var g=this;Wa.call(this,a,e);null!=this.data&&null!=this.data.add&&(this.mAdd=this.data.add);this.chatId=b;this.mMessageData=d;this.messageId=c;this.date=ma.toInt(c);this.sender=this.mMessageData.sender;this.jenny="jenny"==this.sender;a=u.get_instance().get_uid()==this.sender;this.setState(a?"self":"default");this.findTypeFuture("uiPlayer",qd).onComplete(function(a){a.set_uid(g.sender);a.clickable=
!0});null!=this.data&&Object.prototype.hasOwnProperty.call(this.data,"height")?(a=this.mInitialHeight=this.data.height,this.height!=a&&this.invalidate(),null!=this.relativeHeight&&this.invalidate(),this.relativeHeight=null,this.height=a):this.mInitialHeight=this.height;this.mTextField=this.findType("uiTxtMessage",D);Object.prototype.hasOwnProperty.call(this.mMessageData,"text")?this.setMessage(this.mMessageData.text):Object.prototype.hasOwnProperty.call(this.mMessageData,"loca")&&(a=this.mMessageData.loca,
this.setMessage(Object.prototype.hasOwnProperty.call(a,N.language)&&null!=F.field(a,N.language)?F.field(a,N.language):F.field(a,"en-US")));this.jenny||(a=J.format(new Date(this.date),N.translate("SID_TIME_HH_MM",null)),b=this.find("uiTxtTime"),b instanceof D&&L.__cast(b,D).set_text(a));this.registerXEventListener(Na.get_instance(),"ChatManager::DELETE_MESSAGE",l(this,this.onDeleteMessage))};h["screens.elements.MessageContainer"]=fd;fd.__name__="screens.elements.MessageContainer";fd.__super__=Wa;fd.prototype=
m(Wa.prototype,{setMessage:function(a){a=null!=a?E.substr(a,0,null):"";null==this.mTextField&&(this.mTextField=this.findType("uiTxtMessage",D));if(Object.prototype.hasOwnProperty.call(this.mMessageData,"data")){var b=this.mMessageData.data;switch(a){case "SID_TEAM_DEMOTED":case "SID_TEAM_JOINED":case "SID_TEAM_PROMOTED":case "SID_TEAM_QUIT":case "SID_TEAM_REMOVED":this.findTypeFuture("uiTeam",lb).onComplete(function(a){a.set_id(b.teamId)}),a=N.translate(a,[b.name])}Object.prototype.hasOwnProperty.call(b,
"mtx")&&(a=oa.replace(N.translate(a,null),"_MTX",N.number(b.mtx)))}this.mTextField.set_text(a)},addOptions:function(){if(null==this.mOptions){this.mTextFieldHeight=1;this.find("uiImgMessage").addChild(this.mOptions=ta.createInstanceFromString('<element template="tMessageContainerOptions" />',this.context));this.registerXEventListener(this.mOptions.find("uiBtClose"),"XButton::BUTTON_PRESSED",l(this,this.onClosePressed));this.registerXEventListener(this.mOptions.find("uiBtDelete"),"XButton::BUTTON_PRESSED",
l(this,this.onDeletePressed));this.registerXEventListener(this.mOptions.find("uiBtOpen"),"XButton::BUTTON_PRESSED",l(this,this.onOpenPressed));var a=this.mOptions,b=ma.containsURL(this.mTextField.get_text());a=a.find("uiBtOpen");null!=a&&a.set_visible(b);b=u.get_instance().get_uid()==this.sender;a=this.find("uiBtDelete");null!=a&&(b=(a.enabled=b)?1:.5,a.alpha!=b&&a.invalidate(),a.alpha=b);this.jenny||(b=J.format(new Date(this.date),N.translate("SID_DATE_AND_TIME",null)),a=this.find("uiTxtTime"),a instanceof
D&&L.__cast(a,D).set_text(b))}},removeOptions:function(){if(null!=this.mOptions&&(this.mTextFieldHeight=1,this.releaseXEventListener(this.mOptions.find("uiBtClose"),"XButton::BUTTON_PRESSED",l(this,this.onClosePressed)),this.releaseXEventListener(this.mOptions.find("uiBtDelete"),"XButton::BUTTON_PRESSED",l(this,this.onDeletePressed)),this.releaseXEventListener(this.mOptions.find("uiBtOpen"),"XButton::BUTTON_PRESSED",l(this,this.onOpenPressed)),this.mOptions.dispose(),this.mOptions=null,!this.jenny)){var a=
J.format(new Date(this.date),N.translate("SID_TIME_HH_MM",null)),b=this.find("uiTxtTime");b instanceof D&&L.__cast(b,D).set_text(a)}},onClick:function(){this.jenny||this.addOptions()},onClosePressed:function(a){a.stop=!0;this.removeOptions()},onOpenPressed:function(a){var b=this;a.stop=!0;this.removeOptions();B.instance.addScreen(Vb.createOkPopUp("SID_ATTENTION","SID_OPEN_EXTERNAL_URL",function(a){a==df.YES&&ma.openURL(ma.getURL(b.mTextField.get_text()))}))},onDeletePressed:function(a){a.stop=!0;
this.removeOptions();Na.get_instance().deleteMessage(this.chatId,this.messageId)},onDeleteMessage:function(a){null!=a&&null!=a.data&&a.data.chatId==this.chatId&&a.data.messageId==this.messageId&&null!=this.parentList&&(this.parentList.removeContainer(this),Rb.dispose(this))},update:function(){if(null!=this.mTextField){var a=Math.floor(this.mTextField.textHeight);if(a!=this.mTextFieldHeight){this.mTextFieldHeight=a;if(isNaN(this.mTextField.textHeight))a=this.mInitialHeight,this.height!=a&&this.invalidate(),
b=null;else{a=Math.max(this.mTextField.textHeight+70,this.mInitialHeight)+(null!=this.mOptions?this.mOptions.height:0)+this.mAdd;this.height!=a&&this.invalidate();var b=null}this.relativeHeight!=b&&this.invalidate();this.relativeHeight=b;this.height=a}}this.jenny||(a=this.getPrevious(),null!=a&&(a=a.sender!=this.sender,b=this.find("uiHead"),null!=b&&b.set_visible(a)));Wa.prototype.update.call(this)},compare:function(a,b){return this.date<a.date?1:this.date==a.date?0:-1},dispose:function(){this.sender=
this.messageId=this.chatId=this.mOptions=this.mMessageData=this.mTextField=null;Wa.prototype.dispose.call(this)},__class__:fd});var gh=function(a,b,c,d){fd.call(this,a,b,c,d,"tTeamInvitationContainer");a=l(this,this.onTeamUpdate);this.registerXEventListener(u.get_instance(),"TEAM_UPDATE",a);a(null);this.teamId=d.teamId};h["screens.elements.MessageInviteContainer"]=gh;gh.__name__="screens.elements.MessageInviteContainer";gh.__super__=fd;gh.prototype=m(fd.prototype,{onTeamUpdate:function(a){var b=null==
u.get_instance().teamId;a=this.find("uiBtAcceptInvitation");null!=a&&(b=(a.enabled=b)?1:.5,a.alpha!=b&&a.invalidate(),a.alpha=b)},setMessage:function(a){if(Object.prototype.hasOwnProperty.call(this.mMessageData,"data")){var b=this.mMessageData.data;this.findTypeFuture("uiTeam",lb).onComplete(function(a){a.set_id(b.teamId)});a=N.translate("SID_TEAM_INVITATION",[b.name]);this.registerXEventListener(this.find("uiBtAcceptInvitation"),"XButton::BUTTON_PRESSED",l(this,this.onAcceptInvitation));this.registerXEventListener(this.find("uiBtDeclineInvitation"),
"XButton::BUTTON_PRESSED",l(this,this.onDeclineInvitation))}this.mTextField.set_text(a)},onAcceptInvitation:function(a){var b=this;a.stop=!0;this.findTypeFuture("uiTeam",lb).onComplete(function(a){u.get_instance().acceptInvitation(a.id).onComplete(function(a){Na.get_instance().deleteMessage(b.chatId,b.messageId)})})},onDeclineInvitation:function(a){var b=this;a.stop=!0;this.findTypeFuture("uiTeam",lb).onComplete(function(a){u.get_instance().declineInvitation(a.id).onComplete(function(a){Na.get_instance().deleteMessage(b.chatId,
b.messageId)})})},dispose:function(){this.teamId=null;fd.prototype.dispose.call(this)},__class__:gh});var Yd=function(){};h["system.gfx.ui.elements.interfaces.IScrollable"]=Yd;Yd.__name__="system.gfx.ui.elements.interfaces.IScrollable";Yd.__isInterface__=!0;Yd.prototype={__class__:Yd};var Ub=function(a){this.mScrollDown=!1;this.mFocusContainerX=this.mFocusContainerY=0;this.mFocusContainer=null;this.listSize=0;this.containers=[];this.uiListField=this.clipArea=this.content=null;this.vertical=this.allowScrollbar=
!0;this.gap=0;Oa.call(this,a);this.clickable=!0};h["system.gfx.ui.elements.XList"]=Ub;Ub.__name__="system.gfx.ui.elements.XList";Ub.__interfaces__=[Yd];Ub.__super__=Oa;Ub.prototype=m(Oa.prototype,{setFocusContainer:function(a){null!=this.mFocusContainer&&this.get_content().addChild(this.mFocusContainer);return this.mFocusContainer=a},onScroll:function(a){this.scroll(100*a)},getPos:function(){return this.vertical?this.get_content().y:this.get_content().x},scrollDown:function(){this.mScrollDown=!0},
setPos:function(a){if(this.vertical){var b=this.get_content();a=ma.fClamp(a,Math.min(0,this.resultHeight-this.listSize),0);b.y!=a&&b.invalidate();b.y=a;b=this.find("uiImgScrollPin");null!=b&&this.listSize>this.resultHeight&&(a=(this.resultHeight-b.height)*this.get_content().y/(this.resultHeight-this.listSize),b.y!=a&&b.invalidate(),b.y=a)}else b=this.get_content(),a=ma.fClamp(a,Math.min(0,this.resultWidth-this.listSize),0),b.x!=a&&b.invalidate(),b.x=a,b=this.find("uiImgScrollPin"),null!=b&&this.listSize>
this.resultWidth&&(a=(this.resultWidth-b.width)*this.get_content().x/(this.resultWidth-this.listSize),b.x!=a&&b.invalidate(),b.x=a);this.updateContainers()},scroll:function(a){this.setPos(this.getPos()+a);this.mScrollDown=!1},update:function(){if(null!=this.mFocusContainer)if(this.vertical&&1<this.resultHeight){var a=this.mFocusContainer.height;if(this.mFocusContainer.parent==this.get_content())if(0>this.mFocusContainerY+this.get_content().y){this.get_uiListField().addChild(this.mFocusContainer);
var b=this.mFocusContainer;0!=b.y&&b.invalidate();b.y=0;b=this.get_clipArea();var c=-a;b.paddingTop!=c&&b.invalidate();b.paddingTop=c;b=this.get_clipArea();b.marginTop!=a&&b.invalidate();b.marginTop=a}else this.mFocusContainerY+this.get_content().y>this.resultHeight-this.mFocusContainer.height&&(this.get_uiListField().addChild(this.mFocusContainer),b=this.mFocusContainer,c=this.resultHeight-a,b.y!=c&&b.invalidate(),b.y=c,b=this.get_clipArea(),c=-a,b.paddingBottom!=c&&b.invalidate(),b.paddingBottom=
c,b=this.get_clipArea(),b.marginBottom!=a&&b.invalidate(),b.marginBottom=a);else if(0<this.mFocusContainerY+this.get_content().y&&this.mFocusContainerY+this.get_content().y<this.resultHeight-a){b=this.mFocusContainer;c=this.mFocusContainerY;b.y!=c&&b.invalidate();b.y=c;b=this.get_clipArea();a=this.get_clipArea();var d=this.get_clipArea();c=this.get_clipArea();0!=c.marginBottom&&c.invalidate();c=c.marginBottom=0;d.paddingBottom!=c&&d.invalidate();c=d.paddingBottom=c;a.marginTop!=c&&a.invalidate();
c=a.marginTop=c;b.paddingTop!=c&&b.invalidate();b.paddingTop=c;this.get_content().addChild(this.mFocusContainer);this.mFocusContainer.calc()}}else 1<this.resultWidth&&(this.mFocusContainer.parent==this.get_content()?0>this.mFocusContainerX+this.get_content().x?(this.get_uiListField().addChild(this.mFocusContainer),b=this.mFocusContainer,0!=b.x&&b.invalidate(),b.x=0,b=this.get_clipArea(),c=-this.mFocusContainer.width,b.paddingLeft!=c&&b.invalidate(),b.paddingLeft=c,b=this.get_clipArea(),c=this.mFocusContainer.width,
b.marginLeft!=c&&b.invalidate(),b.marginLeft=c):this.mFocusContainerX+this.get_content().x>this.resultWidth-this.mFocusContainer.width&&(this.get_uiListField().addChild(this.mFocusContainer),b=this.mFocusContainer,c=this.resultWidth-this.mFocusContainer.width,b.x!=c&&b.invalidate(),b.x=c,b=this.get_clipArea(),c=-this.mFocusContainer.width,b.paddingRight!=c&&b.invalidate(),b.paddingRight=c,b=this.get_clipArea(),c=this.mFocusContainer.width,b.marginRight!=c&&b.invalidate(),b.marginRight=c):0<this.mFocusContainerX+
this.get_content().x&&this.mFocusContainerX+this.get_content().x<this.resultWidth-this.mFocusContainer.width&&(b=this.mFocusContainer,c=this.mFocusContainerX,b.x!=c&&b.invalidate(),b.x=c,b=this.get_clipArea(),a=this.get_clipArea(),d=this.get_clipArea(),c=this.get_clipArea(),0!=c.marginRight&&c.invalidate(),c=c.marginRight=0,d.paddingRight!=c&&d.invalidate(),c=d.paddingRight=c,a.marginLeft!=c&&a.invalidate(),c=a.marginLeft=c,b.paddingLeft!=c&&b.invalidate(),b.paddingLeft=c,this.get_content().addChild(this.mFocusContainer),
this.mFocusContainer.calc()));Oa.prototype.update.call(this);this.mScrollDown?this.setPos((this.vertical?this.resultHeight:this.resultWidth)-this.listSize):this.setPos(this.getPos())},updateContainers:function(){for(var a=0,b=this.containers;a<b.length;){var c=b[a];++a;c.updateVisability()}},onTouch:function(a,b){this.mScrollTarget=null;var c=this.find("uiImgScrollPin");null!=c&&c.testHit(a,b)?this.mScrollTarget=c:(c=this.find("uiImgScrollbar"),null!=c&&c.testHit(a,b)&&(this.touchScrollBar(a,b),this.mScrollTarget=
c));this.registerXEventListener(ca.get_instance(),"DOWN_EVENT",l(this,this.onTouchEvent));this.registerXEventListener(ca.get_instance(),"UP_EVENT",l(this,this.onTouchEvent));this.registerXEventListener(ca.get_instance(),"MOVE_EVENT",l(this,this.onTouchEvent));Oa.prototype.onTouch.call(this,a,b)},touchScrollBar:function(a,b){var c=this.find("uiImgScrollbar");if(null!=c){this.mScrollDown=!1;var d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];if(null!=c.resultMatrix){var e=Aa.sTempM2D[++Aa.sTempM2DIdx%Aa.sTempM2D.length];
c=Aa.copyFrom(e,c.resultMatrix);e=1/(c[0]*(c[4]*c[8]-c[7]*c[5])-c[1]*(c[3]*c[8]-c[5]*c[6])+c[2]*(c[3]*c[7]-c[4]*c[6]));var g=-(c[1]*c[8]-c[2]*c[7])*e,k=(c[1]*c[5]-c[2]*c[4])*e,f=-(c[3]*c[8]-c[5]*c[6])*e,p=(c[0]*c[8]-c[2]*c[6])*e,h=-(c[0]*c[5]-c[3]*c[2])*e,l=(c[3]*c[7]-c[6]*c[4])*e,m=-(c[0]*c[7]-c[6]*c[1])*e,G=(c[0]*c[4]-c[3]*c[1])*e;c[0]=(c[4]*c[8]-c[7]*c[5])*e;c[3]=f;c[6]=l;c[1]=g;c[4]=p;c[7]=m;c[2]=k;c[5]=h;c[8]=G;d.x=a;d.y=b;a=d.multiplyMatrix(c)}else a=d;this.vertical?(b=0,d=this.find("uiImgScrollbar"),
null!=d&&(b=.25*d.resultHeight),this.setPos((this.resultHeight-this.listSize)*(a.y-b)/(this.resultHeight-2*b))):(b=0,d=this.find("uiImgScrollbar"),null!=d&&(b=.25*d.resultWidth),this.setPos((this.resultWidth-this.listSize)*(a.x-b)/(this.resultWidth-2*b)))}},onTouchEvent:function(a){if("MOVE_EVENT"==a.type){var b=B.SCREEN_WIDTH/p.instance.width*p.window.__scale,c=B.SCREEN_HEIGHT/p.instance.height*p.window.__scale;null==this.mScrollTarget?this.scroll(this.vertical?a.dy*c:a.dx*b):"uiImgScrollbar"==this.mScrollTarget.name?
this.touchScrollBar(a.x*b,a.y*c):"uiImgScrollPin"==this.mScrollTarget.name&&this.scroll((this.vertical?a.dy*c:a.dx*b)*Math.max(1,this.listSize/(this.vertical?this.resultHeight:this.resultWidth))*-1)}else this.releaseXEventListener(ca.get_instance(),"DOWN_EVENT",l(this,this.onTouchEvent)),this.releaseXEventListener(ca.get_instance(),"UP_EVENT",l(this,this.onTouchEvent)),this.releaseXEventListener(ca.get_instance(),"MOVE_EVENT",l(this,this.onTouchEvent)),this.mScrollTarget=null},onTouchMove:function(a,
b,c,d){null==this.mScrollTarget&&ca.get_instance().buttonPressed(0)&&(this.registerXEventListener(ca.get_instance(),"DOWN_EVENT",l(this,this.onTouchEvent)),this.registerXEventListener(ca.get_instance(),"UP_EVENT",l(this,this.onTouchEvent)),this.registerXEventListener(ca.get_instance(),"MOVE_EVENT",l(this,this.onTouchEvent)),this.mScrollTarget=null);Oa.prototype.onTouchMove.call(this,a,b,c,d)},get_content:function(){null==this.content&&(this.content=this.find("uiContent"),null==this.content&&(this.content=
ta.createInstanceFromString('<element relativeWidth="1.0" relativeHeight="1.0" />',this.context),this.get_clipArea().addChild(this.content)));return this.content},get_size:function(){return this.vertical?this.resultHeight:this.resultWidth},get_uiListField:function(){null==this.uiListField&&(this.uiListField=this.find("uiListField"),null==this.uiListField&&(this.uiListField=ta.createInstanceFromString('<element template="tElement" />',this.context),this.addChild(this.uiListField)));return this.uiListField},
get_clipArea:function(){null==this.clipArea&&(this.clipArea=this.findType("uiClipArea",hf),null==this.clipArea&&(this.clipArea=ta.createInstanceFromString('<area relativeWidth="1.0" relativeHeight="1.0" />',this.context),this.get_uiListField().addChild(this.clipArea)));return this.clipArea},addContainer:function(a,b){null==b&&(b=!1);null!=a&&(a.onAddedToList(this),a.setRank(this.containers.length),this.get_content().addChild(a),this.containers.push(a),b&&this.setFocusContainer(a),this.invalidate());
return a},removeContainer:function(a){null!=a&&(a.onRemovedFromList(),this.get_content().removeChild(a),E.remove(this.containers,a),this.invalidate());return a},rearrange:function(){for(var a=this.listSize=0,b=0,c=this.containers;b<c.length;){var d=c[b];++b;0!=this.listSize&&(this.listSize+=this.gap);if(this.vertical){d==this.mFocusContainer&&(this.mFocusContainerY=this.listSize);if(d.parent==this.get_content()){var e=this.listSize;d.y!=e&&d.invalidate();d.y=e}this.listSize+=d.height}else d==this.mFocusContainer&&
(this.mFocusContainerX=this.listSize),d.parent==this.get_content()&&(e=this.listSize,d.x!=e&&d.invalidate(),d.x=e),this.listSize+=d.width;d.updateVisability();d.setRank(a++)}this.check()},check:function(){if(this.listSize>this.get_size()&&this.allowScrollbar){this.setState("scrollbarOn");var a=this.find("uiImgScrollPin");if(null!=a)if(this.vertical){var b=Math.max(10,this.resultHeight*this.resultHeight/this.listSize);a.height!=b&&a.invalidate();var c=null;a.relativeHeight!=c&&a.invalidate();a.relativeHeight=
c;a.height=b}else b=Math.max(10,this.resultWidth*this.resultWidth/this.listSize),a.width!=b&&a.invalidate(),c=null,a.relativeWidth!=c&&a.invalidate(),a.relativeWidth=c,a.width=b}else this.setState("scrollbarOff")},sort:function(a,b){null==b&&(b=!0);this.containers.sort(function(c,d){return c.compare(d,a)*(b?1:-1)});this.rearrange()},calc:function(){Oa.prototype.calc.call(this);this.rearrange()},clear:function(a){for(null==a&&(a=!0);0<this.containers.length;){var b=this.containers.pop();a&&null!=b&&
b.dispose()}this.listSize=0;a=this.get_content();b=this.get_content();0!=b.y&&b.invalidate();b=b.y=0;a.x!=b&&a.invalidate();a.x=b},applyFloatAttribute:function(a,b){"gap"==a?this.set_gap(b):Oa.prototype.applyFloatAttribute.call(this,a,b)},set_gap:function(a){this.gap!=a&&(this.gap=a);return a},applyBoolAttribute:function(a,b){switch(a){case "allowScrollbar":this.set_allowScrollbar(b);break;case "vertical":this.set_vertical(b);break;default:Oa.prototype.applyBoolAttribute.call(this,a,b)}},set_vertical:function(a){this.vertical!=
a&&(this.invalidate(),this.vertical=a);return a},set_allowScrollbar:function(a){this.allowScrollbar!=a&&(this.invalidate(),this.allowScrollbar=a);return a},onContainerAction:function(a){if(this.enabled){var b=this.parent.getControllListener();if(null!=b)b.onListAction(this,a)}},copyElements:function(a){Oa.prototype.copyElements.call(this,a);a.set_gap(this.gap);a.set_vertical(this.vertical)},onButtonAction:function(a){var b=this.parent.getControllListener();if(null!=b)b.onButtonAction(a);else Oa.prototype.onButtonAction.call(this,
a)},dispose:function(){Oa.prototype.dispose.call(this);this.mFocusContainer=this.content=this.containers=null},__class__:Ub,__properties__:m(Oa.prototype.__properties__,{get_size:"get_size",get_content:"get_content",get_clipArea:"get_clipArea",get_uiListField:"get_uiListField",set_allowScrollbar:"set_allowScrollbar",set_vertical:"set_vertical",set_gap:"set_gap"})});var pf=function(a){this.count=20;this.mContainerMap=new qb;Ub.call(this,a)};h["screens.elements.NewsList"]=pf;pf.__name__="screens.elements.NewsList";
pf.__super__=Ub;pf.prototype=m(Ub.prototype,{onAdded:function(){this.registerXEventListener(Oc.get_instance(),"NewsManager::NEWS_UPDATE",l(this,this.onNewsData));this.onNewsData()},onNewsData:function(a){if(null!=this.mContainerMap){a=null!=a&&0!=this.containers.length;for(var b=Oc.get_instance().list.slice(0,this.count),c=0;c<b.length;){var d=b[c];++c;if(!this.mContainerMap.h.hasOwnProperty(d.id)){var e=new Zd(d,this.context),g=this.mContainerMap;d=d.id;g.h.hasOwnProperty(d)&&E.remove(g.mKeys,d);
g.h[d]=e;g.mKeys.push(d);this.addContainer(e);this.sort();a&&e.pulse()}}}},applyFloatAttribute:function(a,b){"count"==a?this.count=b|0:Ub.prototype.applyFloatAttribute.call(this,a,b)},onContainerAction:function(a){var b=L.__cast(a,Zd);null!=b&&B.instance.addScreen(new Ed(b.uid));Ub.prototype.onContainerAction.call(this,a)},dispose:function(){this.mContainerMap=null;Ub.prototype.dispose.call(this)},__class__:pf});var Zd=function(a,b){Wa.call(this,b);this.mNewsData=a;this.date=this.mNewsData.date;this.uid=
this.mNewsData.uid;a=this.context.getTemplate("tNewsFeedConti");null!=a&&(a.applyTo(this),null!=this.data&&Object.prototype.hasOwnProperty.call(this.data,"height")?(a=this.mInitialHeight=this.data.height,this.height!=a&&this.invalidate(),null!=this.relativeHeight&&this.invalidate(),this.relativeHeight=null,this.height=a):this.mInitialHeight=this.height,this.mTextField=this.findType("uiTxtNews",D),this.registerXEventListener(N.dispatcher,N.NEW_LANGUAGE,l(this,this.onLanguageChange)),this.updateData())};
h["screens.elements.NewsListContainer"]=Zd;Zd.__name__="screens.elements.NewsListContainer";Zd.__super__=Wa;Zd.prototype=m(Wa.prototype,{setState:function(a){Wa.prototype.setState.call(this,a);null!=this.data&&Object.prototype.hasOwnProperty.call(this.data,"height")&&(this.mInitialHeight=this.data.height)},updateData:function(){for(var a=this,b=("SID_NEWS_"+M.string(this.mNewsData.type)).toUpperCase(),c=[],d=F.fields(this.mNewsData),e=0;e<d.length;){var g=d[e];++e;"uid"!=g&&c.push(F.field(this.mNewsData,
g))}if(Object.prototype.hasOwnProperty.call(this.mNewsData,"uid")){var k=this.mNewsData.uid;"SID_NEWS_NEW_PLAYER"==b&&(d=E.cca(k,Math.max(1,k.length-5)|0)%3,0<d&&(b="SID_NEWS_NEW_PLAYER"+(d+1)));this.findTypeFuture("uiPlayer",qd).onComplete(function(a){a.set_uid(k)});this.register(u.get_instance().getVCard(this.mNewsData.uid).onComplete(function(d){var e=N.translate(b,c);e=oa.replace(e,"_NAME",Zd.NAME_COLOR_TAG+d.name+"</col>");d=a.find("uiTxtNews");d instanceof D&&L.__cast(d,D).set_text(e)}).onError(null))}else this.mTextField.set_text(N.translate(b,
c))},update:function(){if(null!=this.mTextField){var a=Math.floor(this.mTextField.textHeight);if(a!=this.mTextFieldHeight){this.mTextFieldHeight=a;if(isNaN(this.mTextField.textHeight))a=this.mInitialHeight,this.height!=a&&this.invalidate(),b=null;else{a=Math.max(this.mTextField.textHeight+50,this.mInitialHeight);this.height!=a&&this.invalidate();var b=null}this.relativeHeight!=b&&this.invalidate();this.relativeHeight=b;this.height=a}}Wa.prototype.update.call(this)},onLanguageChange:function(a){this.updateData()},
compare:function(a,b){return this.date<a.date?1:this.date==a.date?0:-1},dispose:function(){this.uid=this.mNewsData=this.mTextField=null;Wa.prototype.dispose.call(this)},__class__:Zd});var zh=function(a,b,c,d){this.middle=new n(0,0);this.animationTarget=new n(0,0);this.animationStart=new n(0,0);sa.call(this,a.context);this.applyTemplate(this.context.getTemplate("tAnimation"));this.preParticleEmitter=new Yc;this.preParticleEmitter.numParticlesPerSecond=80;this.resourceType=b;this.value=c;this.screenScale=
a.scale;this.mStartTime=H.timer;c=this.animationStart;var e=a.find("uiRewardEmitter").getMiddle();c.x=e.x;c.y=e.y;c.w=e.w;switch(b){case "chestLevel":a=a.find("uiBtLevelChest");d=this.find("uiTxt");d instanceof D&&L.__cast(d,D).set_text("+1");break;case "chestStars":a=a.find("uiBtStarChest");1==d?(this.animationStart.x-=90,this.mStartTime+=.3):2==d&&(this.animationStart.x+=90,this.mStartTime+=.6);break;case "lifes":a=a.find("uiBtLifes").findType("uiImgIcon",C);this.mStartTime+=.3*d;break;case "mtx":a=
a.find("uiBtGold").findType("uiImgIcon",C);break;default:a=a.find("uiBtGold").findType("uiImgIcon",C)}c=Bb.getResourceIcon(b);d=this.find("uiImgIcon");null!=d&&d instanceof C&&d.set_image(c);c=this.animationTarget;e=a.getMiddle();c.x=e.x;c.y=e.y;c.w=e.w;c=this.middle;c.x=B.SCREEN_WIDTH/2;c.y=B.SCREEN_HEIGHT/3};h["screens.elements.ResourceAnimation"]=zh;zh.__name__="screens.elements.ResourceAnimation";zh.__super__=sa;zh.prototype=m(sa.prototype,{update:function(){if(null!=this.middle){var a=Math.min(Math.max(0,
H.timer-this.mStartTime)/1,1);a*=a;var b=n.BEZIER(n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],this.animationStart,this.middle,this.animationTarget,a),c=b.x;this.x!=c&&this.invalidate();this.x=c;c=b.y;this.y!=c&&this.invalidate();this.y=c;c=(.8*Math.sin((.75*a+.25)*Math.PI)+1)*this.screenScale;this.scale!=c&&this.invalidate();this.scale=c;1<=a&&(Rb.dispose(this),this.middle=null)}sa.prototype.update.call(this)},dispose:function(){u.get_instance().consumeDelayedResource(this.resourceType,this.value);
Y.get_instance().play("sound/snap0.mp3",0,1,1);sa.prototype.dispose.call(this);this.middle=this.animationTarget=this.animationStart=null},__class__:zh});var nh=function(a,b,c){this.mAnimCount=0;sa.call(this,a.context);1!=this.relativeHeight&&this.invalidate();var d=this.relativeHeight=1;this.relativeWidth!=d&&this.invalidate();this.relativeWidth=d;1!=this.absolute&&this.invalidate();this.absolute=!0;this.mScreen=a;this.resourceType=b;this.value=c;switch(b){case "chestStars":this.addResourceAnimation(this.resourceType,
1,0);1<this.value&&this.addResourceAnimation(this.resourceType,1,1);2<this.value&&this.addResourceAnimation(this.resourceType,1,2);break;case "lifes":this.addResourceAnimation(this.resourceType,1,0);1<this.value&&this.addResourceAnimation(this.resourceType,1,1);2<this.value&&this.addResourceAnimation(this.resourceType,1,2);3<this.value&&this.addResourceAnimation(this.resourceType,1,3);4<this.value&&this.addResourceAnimation(this.resourceType,1,4);break;default:this.addResourceAnimation(this.resourceType,
this.value)}this.registerXEventListener(p.instance,"SIZE_CHANGED",l(this,this.onScreenSizeChanged));this.onScreenSizeChanged()};h["screens.elements.ResourceAnimationHandler"]=nh;nh.__name__="screens.elements.ResourceAnimationHandler";nh.__super__=sa;nh.prototype=m(sa.prototype,{onScreenSizeChanged:function(a){},addResourceAnimation:function(a,b,c){null==c&&(c=0);a=new zh(this.mScreen,this.resourceType,b,c);this.registerXEventListener(a,"XEventDispatcher::dispose",l(this,this.onAnimFinished));this.addChild(a);
++this.mAnimCount},onAnimFinished:function(a){this.releaseXEventListener(a.target,"XEventDispatcher::dispose",l(this,this.onAnimFinished));0>=--this.mAnimCount&&Rb.dispose(this)},dispose:function(){sa.prototype.dispose.call(this);this.mScreen=null},__class__:nh});var pc=function(a,b){this.rewardValue=0;C.call(this,a);if(F.isObject(b)){this.rewardResource=F.fields(b)[0];this.rewardValue=F.field(b,this.rewardResource);"tempUnlimitedLife"==this.rewardResource?ta.applyFromStringTo('<image template="tUnlimitedLifesReward"/>',
this,a):ta.applyFromStringTo('<image template="tBaseReward"/>',this,a);switch(this.rewardResource){case "lifes":b="+"+this.rewardValue;break;case "moreMoves":case "mtx":b="+"+(1<this.rewardValue?N.number(this.rewardValue):"");if("moreMoves"==this.rewardResource&&(a=this.find("uiTxtRewardAmount"),null!=a)){var c=O.toFloat(243)/255,d=O.toFloat(42)/255,e=O.toFloat(29)/255;if(c!=a.colorR||d!=a.colorG||e!=a.colorB)a.colorR!=c&&a.invalidate(),a.colorR=c,a.colorG!=d&&a.invalidate(),a.colorG=d,a.colorB!=
e&&a.invalidate(),a.colorB=e,a.invalidate();a.color=15936029}break;case "tempUnlimitedLife":b="+"+this.rewardValue/60+"min";break;default:b=1<this.rewardValue?N.number(this.rewardValue):""}this.setState(this.rewardResource);a=this.find("uiTxtRewardAmount");a instanceof D&&L.__cast(a,D).set_text(b);b=Bb.getResourceIcon(this.rewardResource);a=this.find("uiImgRewardIcon");null!=a&&a instanceof C&&a.set_image(b)}};h["screens.elements.RewardItem"]=pc;pc.__name__="screens.elements.RewardItem";pc.__super__=
C;pc.prototype=m(C.prototype,{__class__:pc});var za=function(a){C.call(this,a);this.clickable=!0;1!=this.highlight&&(this.invalidate(),a=this.highlightAnimation,null!=a&&a.dispose(),this.highlightAnimation=null);this.highlight=!0};h["system.gfx.ui.elements.XButton"]=za;za.__name__="system.gfx.ui.elements.XButton";za.__super__=C;za.prototype=m(C.prototype,{applyStringAttribute:function(a,b){switch(a){case "icon":this.set_icon(b);break;case "label":this.set_label(b);break;default:C.prototype.applyStringAttribute.call(this,
a,b)}},set_label:function(a){if(this.label!=a){this.label=a;var b=this.findType("uiTxtLabel",D);null!=b&&(b.rawText=b.set_text(a))}return a},set_icon:function(a){if(this.icon!=a){this.icon=a;var b=this.find("uiImgIcon");null!=b&&b instanceof C&&b.set_image(a)}return a},onTouchUp:function(a,b,c,d){if(this.enabled&&30>d&&this.dispatchSimpleXEvent("XButton::BUTTON_PRESSED")){var e=this.getControllListener();null!=e&&(Y.get_instance().play("sound/click.mp3",0,1,1),this.blubb(),e.onButtonAction(this))}C.prototype.onTouchUp.call(this,
a,b,c,d)},copyElements:function(a){C.prototype.copyElements.call(this,a);a.set_label(new String(this.label))},__class__:za,__properties__:m(C.prototype.__properties__,{set_icon:"set_icon",set_label:"set_label"})});var be=function(a){this.payment=this.mLocked=!1;za.call(this,a);this.registerXEventListener(this,"XButton::BUTTON_PRESSED",l(this,this.onButton))};h["screens.elements.XBuyButton"]=be;be.__name__="screens.elements.XBuyButton";be.__super__=za;be.prototype=m(za.prototype,{onButton:function(a){this.executePayment()},
executePayment:function(){var a=this;if(!this.mLocked&&!this.payment){var b=u.get_instance().buy(this.packageId),c=function(b){a.mLocked=!1;B.instance.addScreen(new kh(b.pack.resources))},d=function(b){a.mLocked=!1},e=B.instance.get_foreground().addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',
B.instance.get_foreground().context));this.register(b.onComplete(function(a){null!=c&&c(a);null!=e&&e.dispose()}).onError(function(a){null!=d&&d(a);null!=e&&e.dispose()}))}},applyFloatAttribute:function(a,b){"price"==a?this.set_price(b):za.prototype.applyFloatAttribute.call(this,a,b)},applyStringAttribute:function(a,b){"package"==a?this.set_packageId(b):za.prototype.applyStringAttribute.call(this,a,b)},set_price:function(a){if(this.price!=a){this.price=a;var b=N.number(a),c=this.find("uiTxtPrice");
c instanceof D&&L.__cast(c,D).set_text(b)}return a},set_packageId:function(a){if(this.packageId!=a){this.packageId=a;var b=F.field(u.config.buyables,this.packageId);if(null!=b){var c=F.fields(b.resources),d=Bb.getResourceIcon(c[0]),e=this.find("uiImgIcon");null!=e&&e instanceof C&&e.set_image(d);d=N.translate("SID_PLUS_X",[F.field(b.resources,c[0])]);e=this.find("uiTxtValue");e instanceof D&&L.__cast(e,D).set_text(d);d=Object.prototype.hasOwnProperty.call(b,"price")?"$"+N.number(b.price):N.number(b.costs.mtx);
e=this.find("uiBtBuy");e instanceof za&&L.__cast(e,za).set_label(d);this.payment=b.payment}}return a},__class__:be,__properties__:m(za.prototype.__properties__,{set_packageId:"set_packageId",set_price:"set_price"})});var Wd=function(a,b,c){Wa.call(this,a,"tBuyContainer");a=L.__cast(this.find("uiBuy1"),be);null!=a&&a.set_packageId(b);b=L.__cast(this.find("uiBuy2"),be);null!=b&&(null!=c?b.set_packageId(c):b.dispose())};h["screens.elements.XBuyContainer"]=Wd;Wd.__name__="screens.elements.XBuyContainer";
Wd.__super__=Wa;Wd.prototype=m(Wa.prototype,{__class__:Wd});var of=function(a){this.amount=0;this.resource="starterLine";this.starter="unknown";za.call(this,a);this.registerXEventListener(u.get_instance(),"RESOURCE_UPDATE",l(this,this.onResourceUpdate));this.registerXEventListener(u.get_instance(),"ZooBackendLayer::tempBonusUpdate",l(this,this.onResourceUpdate))};h["screens.elements.XJumpStarterButton"]=of;of.__name__="screens.elements.XJumpStarterButton";of.__super__=za;of.prototype=m(za.prototype,
{get_temporaryActive:function(){switch(this.starter){case "starterLine":return u.get_instance().hasTemporaryBonus("tempStarterLine");case "starterOrb":return u.get_instance().hasTemporaryBonus("tempStarterOrb");case "starterSkunk":return u.get_instance().hasTemporaryBonus("tempStarterSkunk");default:return!1}},get_active:function(){return v.get_instance().hasJumpStarter(this.starter)?!0:this.get_temporaryActive()},applyStringAttribute:function(a,b){"starter"==a?this.set_starter(b):za.prototype.applyStringAttribute.call(this,
a,b)},applyFloatAttribute:function(a,b){"starter"==a?this.set_starter(null==b?"null":""+b):za.prototype.applyFloatAttribute.call(this,a,b)},onResourceUpdate:function(a){this.amount=Math.round(u.get_instance().getResource(this.resource));this.updateDisplay()},updateDisplay:function(){this.enabled=!this.get_temporaryActive();if(this.get_active()){var a=this.find("uiImgBg");if(null!=a){var b=O.toFloat(175)/255,c=O.toFloat(175)/255,d=O.toFloat(175)/255;if(b!=a.colorR||c!=a.colorG||d!=a.colorB)a.colorR!=
b&&a.invalidate(),a.colorR=b,a.colorG!=c&&a.invalidate(),a.colorG=c,a.colorB!=d&&a.invalidate(),a.colorB=d,a.invalidate();a.color=11513775}a=this.find("uiImgOk");null!=a&&a.set_visible(!0);a=this.find("uiTxtAmount");null!=a&&a.set_visible(!1);a=this.find("uiImgPlus");null!=a&&a.set_visible(!1);b=this.get_temporaryActive();a=this.find("uiImgTemporaryStarter");null!=a&&a.set_visible(b)}else{a=this.find("uiImgTemporaryStarter");null!=a&&a.set_visible(!1);a=this.find("uiImgBg");if(null!=a){b=O.toFloat(255)/
255;c=O.toFloat(255)/255;d=O.toFloat(0)/255;if(b!=a.colorR||c!=a.colorG||d!=a.colorB)a.colorR!=b&&a.invalidate(),a.colorR=b,a.colorG!=c&&a.invalidate(),a.colorG=c,a.colorB!=d&&a.invalidate(),a.colorB=d,a.invalidate();a.color=16776960}a=this.find("uiImgOk");null!=a&&a.set_visible(!1);0<this.amount?(b=N.number(this.amount),a=this.find("uiTxtAmount"),a instanceof D&&L.__cast(a,D).set_text(b),a=this.find("uiTxtAmount"),null!=a&&a.set_visible(!0),a=this.find("uiImgPlus"),null!=a&&a.set_visible(!1)):(a=
this.find("uiTxtAmount"),null!=a&&a.set_visible(!1),a=this.find("uiImgPlus"),null!=a&&a.set_visible(!0))}},set_starter:function(a){if(this.starter!=a){switch(a){case "starterLine":var b=this.find("uiImgIcon");null!=b&&b instanceof C&&b.set_image("dynamic/bee.png");this.resource="starterLine";break;case "starterOrb":b=this.find("uiImgIcon");null!=b&&b instanceof C&&b.set_image("dynamic/orb.png");this.resource="starterOrb";break;case "starterSkunk":b=this.find("uiImgIcon"),null!=b&&b instanceof C&&
b.set_image("dynamic/skunk.png"),this.resource="starterSkunk"}this.starter=a;this.amount=Math.round(u.get_instance().getResource(this.resource));this.updateDisplay()}return a},onTouchUp:function(a,b,c,d){this.get_active()?(this.active=v.get_instance().setJumpStarter(this.starter,!1),this.updateDisplay()):0<this.amount?(this.active=v.get_instance().setJumpStarter(this.starter,!0),this.updateDisplay()):B.instance.addScreen(new Dc(kc.STARTER));za.prototype.onTouchUp.call(this,a,b,c,d)},__class__:of,
__properties__:m(za.prototype.__properties__,{get_active:"get_active",get_temporaryActive:"get_temporaryActive",set_starter:"set_starter"})});var oi=function(a,b){Wa.call(this,a,"tPaymentContainer");a=b.content[0].quantity;var c=b.price.amount,d=b.image_url,e=this.find("uiImgIcon");null!=e&&e instanceof C&&e.set_image(d);d=b.name;e=this.find("uiTxtName");e instanceof D&&L.__cast(e,D).set_text(d);d=b.description;e=this.find("uiTxtDesc");e instanceof D&&L.__cast(e,D).set_text(d);d=N.number(a);e=this.find("uiTxtValue");
e instanceof D&&L.__cast(e,D).set_text(d);d=c+" "+M.string(b.price.currency);e=this.find("uiBtBuy");e instanceof za&&L.__cast(e,za).set_label(d);this.findType("uiBtBuy",za).data={sku:b.sku};a=100*(.02/(c/a)-1);0<a&&(d=N.translate("SID_BONUS_VALUE",[a]),e=this.find("uiTxtBonus"),e instanceof D&&L.__cast(e,D).set_text(d));d="SKU_MTX_PACK04"==b.sku;e=this.find("uiImgMostPopular");null!=e&&e.set_visible(d);d="SKU_MTX_PACK06"==b.sku;e=this.find("uiImgBestDeal");null!=e&&e.set_visible(d)};h["screens.elements.XPaymentContainer"]=
oi;oi.__name__="screens.elements.XPaymentContainer";oi.__super__=Wa;oi.prototype=m(Wa.prototype,{update:function(){var a=this.findType("uiTxtValue",D);if(null!=a&&!isNaN(a.textWidth)){var b=a.parent,c=a.textWidth+80;b.width!=c&&b.invalidate();var d=null;b.relativeWidth!=d&&b.invalidate();b.relativeWidth=d;b.width=c;c=a.textWidth;a.width!=c&&a.invalidate();d=null;a.relativeWidth!=d&&a.invalidate();a.relativeWidth=d;a.width=c}Wa.prototype.update.call(this)},__class__:oi});var qd=function(a){this.overrideClick=
null;this.big=!1;za.call(this,a);1!=this.highlight&&(this.invalidate(),a=this.highlightAnimation,null!=a&&a.dispose(),this.highlightAnimation=null);this.highlight=!0;a=this.context.getTemplate("tPlayer");null!=a&&a.applyTo(this);this.registerXEventListener(this,"XButton::BUTTON_PRESSED",l(this,this.onPlayerClick))};h["screens.elements.XPlayer"]=qd;qd.__name__="screens.elements.XPlayer";qd.__super__=za;qd.prototype=m(za.prototype,{onPlayerClick:function(a){null!=this.overrideClick?this.overrideClick():
B.instance.addScreen(new Ed(this.uid))},set_uid:function(a){var b=this;this.uid=a;this.register(u.get_instance().getVCard(this.uid).onComplete(function(a){a.applyPlayerData(b,b.big);b.registerXEventListener(a,"VCard::UPDATE",l(b,b.onVCardUpdate));b.dispatchSimpleXEvent("XPlayer::UPDATE")}).onError(null));return a},onVCardUpdate:function(a){a=a.target;null!=a&&a.applyPlayerData(this,this.big)},applyBoolAttribute:function(a,b){"big"==a?this.big=b:za.prototype.applyBoolAttribute.call(this,a,b)},dispose:function(){za.prototype.dispose.call(this)},
__class__:qd,__properties__:m(za.prototype.__properties__,{set_uid:"set_uid"})});var Kd=function(a){this.mLastState=this.mCallback=null;za.call(this,a);this.clickableChildren=!1};h["screens.elements.XRewardedAdButton"]=Kd;Kd.__name__="screens.elements.XRewardedAdButton";Kd.__super__=za;Kd.prototype=m(za.prototype,{onTouchUp:function(a,b,c,d){var e=this;if(this.enabled&&30>d)if(this.blubb(),ka.get_instance().get_adBlockerDetected())B.instance.addScreen(Vb.createOkPopUp("SID_ATTENTION","SID_PLEASE_REMOVE_ADBLOCKER")),
Wb.get_instance().trackAd("rewarded",!1,!0);else ka.get_instance().showRewardedAd().onComplete(function(a){e.onRewardedAddCallback(a)});za.prototype.onTouchUp.call(this,a,b,c,d)},applyStringAttribute:function(a,b){switch(a){case "event":this.set_event(b);break;case "reward":this.set_reward(b);break;default:za.prototype.applyStringAttribute.call(this,a,b)}},set_reward:function(a){if(this.reward!=a){this.reward=a;var b=F.field(u.config.rewards,this.reward);if(null!=b){var c=this.find("uiImgRewardConti");
null!=c&&(c.removeAllChildren(),c.addChild(new pc(this.context,b.resources)))}}return a},set_event:function(a){this.event!=a&&(this.event=a);return a},onAdded:function(){za.prototype.onAdded.call(this);var a=l(this,this.updateRewardedAdState);this.registerXEventListener(ka.get_instance(),"REWARDED_ADD_AVAILABLE",a);a(null);this.updateRewardedAdState()},updateRewardedAdState:function(a){a=ka.get_instance().hasRewardedAd()||ka.get_instance().get_adBlockerDetected();if(this.mLastState!=a){var b=!ka.get_instance().hasFeature("hide_unfilled_ads")||
a,c=this.find("uiImgAd");null!=c&&c.set_visible(b);c=this.find("uiImgNoAd");null!=c&&c.set_visible(!b);b=a?1:.5;c=this.find("uiImgAd");null!=c&&(c.alpha!=b&&c.invalidate(),c.alpha=b);this.clickable=a;c=this.find("uiBtWatch").preParticleEmitter;null!=c&&(c.active=a);this.mLastState=a}},setRewardCallback:function(a){this.mCallback=a},onRewardedAddCallback:function(a){var b=this;if(a){if(null!=this.event){var c=W.get_instance();c.loggedIn&&c.sendEvent(13,{rewarded:1},!1);Wb.get_instance().trackCustomEvent("rewarded",
this.event,1)}switch(this.reward){case "reward_life":a=u.get_instance().rewardedAdForLife();var d=function(a){B.instance.addScreen(new te(u.config.rewards.reward_life.resources,b.mCallback))};c=null;var e=(null!=c?c:B.instance.get_foreground()).addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',
B.instance.get_foreground().context));this.register(a.onComplete(function(a){null!=d&&d(a);null!=e&&e.dispose()}).onError(function(a){null!=e&&e.dispose()}));break;case "reward_mtx":a=u.get_instance().earn();var g=function(a){B.instance.addScreen(new te(u.config.rewards.reward_mtx.resources,b.mCallback))};c=null;var k=(null!=c?c:B.instance.get_foreground()).addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',
B.instance.get_foreground().context));this.register(a.onComplete(function(a){null!=g&&g(a);null!=k&&k.dispose()}).onError(function(a){null!=k&&k.dispose()}));break;default:null!=this.mCallback&&(this.mCallback(a),this.dispatchSimpleXEvent(Kd.AD_SHOWN,a))}}else null!=this.mCallback&&(this.mCallback(a),this.dispatchSimpleXEvent(Kd.AD_SHOWN,!1));this.updateRewardedAdState()},dispose:function(){this.mCallback=this.mLastState=null;this.set_event(null);za.prototype.dispose.call(this)},__class__:Kd,__properties__:m(za.prototype.__properties__,
{set_event:"set_event",set_reward:"set_reward"})});var lb=function(a){this.badge=[{color:255,icon:1},{color:65280,icon:1},{color:16711680,icon:1}];this.big=!1;za.call(this,a);if(1==lb.MAX[0]){for(a=0;ea.exists("teams/0/"+ma.ndigits(a,3)+".png");)++a;lb.MAX[0]=a;for(a=0;ea.exists("teams/1/"+ma.ndigits(a,3)+".png");)++a;lb.MAX[1]=a;for(a=0;ea.exists("teams/2/"+ma.ndigits(a,3)+".png");)++a;lb.MAX[2]=a}1!=this.highlight&&(this.invalidate(),a=this.highlightAnimation,null!=a&&a.dispose(),this.highlightAnimation=
null);this.highlight=!0;a=this.context.getTemplate("tTeam");null!=a&&a.applyTo(this);this.registerXEventListener(this,"XButton::BUTTON_PRESSED",l(this,this.onTeamClick))};h["screens.elements.XTeam"]=lb;lb.__name__="screens.elements.XTeam";lb.__super__=za;lb.prototype=m(za.prototype,{onTeamClick:function(a){null!=this.id&&B.instance.addScreen(new gf(this.id))},applyVCard:function(a){this.setBadge(a.badge);var b=Lc.getFlagIcon(a.cid),c=this.find("uiImgFlag");null!=c&&c instanceof C&&c.set_image(b);
b=a.name;c=this.find("uiTxtTeamName");c instanceof D?(L.__cast(c,D).set_text(b),b=!0):b=!1;b||(this.tooltip=a.name)},set_id:function(a){var b=this;if(this.id!=a)if(this.id=a,null!=this.id)this.register(u.get_instance().getVCardTeam(this.id).onComplete(function(a){b.set_visible(!0);b.applyVCard(a);b.registerXEventListener(a,"VCardTeam::UPDATE",l(b,b.onVCardUpdate));b.dispatchSimpleXEvent("XTeam::UPDATE")}).onError(null));else{this.setBadge(null);var c=this.find("uiImgFlag");null!=c&&c instanceof C&&
c.set_image(null);c=this.find("uiTxtTeamName");c instanceof D&&L.__cast(c,D).set_text(null);this.tooltip=null;this.set_visible(!1)}return a},setBadge:function(a){null!=a?(this.badge[0].icon=a[0].icon,this.badge[0].color=a[0].color,this.badge[1].icon=a[1].icon,this.badge[1].color=a[1].color,this.badge[2].icon=a[2].icon,this.badge[2].color=a[2].color,this.updateDisplay()):(a=this.find("uiImg0"),null!=a&&a instanceof C&&a.set_image(null),a=this.find("uiImg1"),null!=a&&a instanceof C&&a.set_image(null),
a=this.find("uiImg2"),null!=a&&a instanceof C&&a.set_image(null))},setBadgeColor:function(a,b){this.badge[a].color=b;this.updateDisplay()},setBadgeEntry:function(a,b){var c=this.findType("uiImg"+a,C);null!=c&&(null!=b?(this.badge[a].icon=b.icon,this.badge[a].color=b.color,this.updateDisplay()):c.set_image(null))},toggleIcon:function(a,b){for(b=this.badge[a].icon+b;0>b;)b+=lb.MAX[a];this.badge[a].icon=b%lb.MAX[a];this.updateDisplay()},updateDisplay:function(){var a=this.findType("uiImg0",C);if(null!=
a){var b=this.badge[0];if(null!=b){a.set_image(null!=b.icon?"teams/0/"+ma.ndigits(b.icon,3)+".png":null);b=b.color;var c=O.toFloat(b>>>16&255)/255,d=O.toFloat(b>>>8&255)/255,e=O.toFloat(b&255)/255;if(c!=a.colorR||d!=a.colorG||e!=a.colorB)a.colorR!=c&&a.invalidate(),a.colorR=c,a.colorG!=d&&a.invalidate(),a.colorG=d,a.colorB!=e&&a.invalidate(),a.colorB=e,a.invalidate();a.color=b}}a=this.findType("uiImg1",C);if(null!=a&&(b=this.badge[1],null!=b)){a.set_image(null!=b.icon?"teams/1/"+ma.ndigits(b.icon,
3)+".png":null);b=b.color;c=O.toFloat(b>>>16&255)/255;d=O.toFloat(b>>>8&255)/255;e=O.toFloat(b&255)/255;if(c!=a.colorR||d!=a.colorG||e!=a.colorB)a.colorR!=c&&a.invalidate(),a.colorR=c,a.colorG!=d&&a.invalidate(),a.colorG=d,a.colorB!=e&&a.invalidate(),a.colorB=e,a.invalidate();a.color=b}a=this.findType("uiImg2",C);if(null!=a&&(b=this.badge[2],null!=b)){a.set_image(null!=b.icon?"teams/2/"+ma.ndigits(b.icon,3)+".png":null);b=b.color;c=O.toFloat(b>>>16&255)/255;d=O.toFloat(b>>>8&255)/255;e=O.toFloat(b&
255)/255;if(c!=a.colorR||d!=a.colorG||e!=a.colorB)a.colorR!=c&&a.invalidate(),a.colorR=c,a.colorG!=d&&a.invalidate(),a.colorG=d,a.colorB!=e&&a.invalidate(),a.colorB=e,a.invalidate();a.color=b}b="teams/2/"+ma.ndigits(this.badge[2].icon,3)+"_o.png";a=this.find("uiImgOverlay");null!=a&&a instanceof C&&a.set_image(b);this.dispatchSimpleXEvent("XTeam::UPDATE_BADGE",this.badge)},randomize:function(){this.setBadgeEntry(0,{icon:M.random(lb.MAX[0]),color:M.random(16777215)});this.setBadgeEntry(1,{icon:M.random(lb.MAX[1]),
color:M.random(16777215)});this.setBadgeEntry(2,{icon:M.random(lb.MAX[2]),color:M.random(16777215)});this.updateDisplay()},onVCardUpdate:function(a){a=a.target;null!=a&&this.applyVCard(a)},applyBoolAttribute:function(a,b){"big"==a?this.big=b:za.prototype.applyBoolAttribute.call(this,a,b)},dispose:function(){this.badge=null;this.set_id(null);za.prototype.dispose.call(this)},__class__:lb,__properties__:m(za.prototype.__properties__,{set_id:"set_id"})});var tc=function(a,b,c){null==c&&(c="tPlayerContainer");
Wa.call(this,a);this.context.getTemplate(c).applyTo(this);Object.prototype.hasOwnProperty.call(b,"score")&&(a=N.number(b.score),c=this.find("uiTxtScore"),c instanceof D&&L.__cast(c,D).set_text(a),this.score=b.score);Object.prototype.hasOwnProperty.call(b,"date")&&(this.date=b.date);Object.prototype.hasOwnProperty.call(b,"levels")&&(a=N.number(b.levels)+" "+N.translate("SID_LEVELS"),c=this.find("uiTxtLevels"),c instanceof D&&L.__cast(c,D).set_text(a),this.levels=b.levels);Object.prototype.hasOwnProperty.call(b,
"stars")&&(a=N.number(b.stars),c=this.find("uiTxtStars"),c instanceof D&&L.__cast(c,D).set_text(a),this.stars=b.stars);null!=b.uid?(this.uid=b.uid,a=this.find("uiPlayer"),null!=a&&a.set_uid(this.uid),null!=this.image&&this.set_image(u.get_instance().get_uid()==b.uid?"ui/mark.png":"ui/dark.png")):(a=b.name,c=this.find("uiTxtName"),c instanceof D&&L.__cast(c,D).set_text(a),Object.prototype.hasOwnProperty.call(b,"icon")&&(a=b.icon,c=this.find("uiImgIcon"),null!=c&&c instanceof C&&c.set_image(a)));this.registerXEventListener(this,
"XCONTAINER_CLICKED",l(this,this.onClicked))};h["screens.highscore.LevelHighscoreContainer"]=tc;tc.__name__="screens.highscore.LevelHighscoreContainer";tc.__super__=Wa;tc.prototype=m(Wa.prototype,{setRank:function(a){a=N.number(a+1);var b=this.find("uiTxtRank");b instanceof D&&L.__cast(b,D).set_text(a)},onClicked:function(a){B.instance.addScreen(new Ed(this.uid))},compare:function(a,b){if(null==b)return this.score<a.score?1:this.score==a.score?this.date>a.date?1:-1:-1;switch(b){case "level":return this.levels<
a.levels?1:this.levels==a.levels?this.date>a.date?1:-1:-1;case "stars":return this.stars<a.stars?1:this.stars==a.stars?this.date>a.date?1:-1:-1;default:return this.score<a.score?1:this.score==a.score?this.date>a.date?1:-1:-1}},__class__:tc});var pi=function(a,b,c,d){null==d&&(d="tPlayerContainerMember");this.mOptions=null;tc.call(this,a,b,d);this.teamRank=F.field(b,"rank");this.teamId=c;this.registerXEventListener(u.get_instance(),"TEAM_UPDATE",l(this,this.onTeamUpdate));this.registerXEventListener(u.get_instance(),
"TEAM_RANK_CHANGE",l(this,this.onTeamRankChange));this.registerXEventListener(u.get_instance(),"TEAM_PLAYER_CHANGE",l(this,this.onPlayerTeamChange));this.clickable=this.teamId==u.get_instance().teamId;this.updateDisplay()};h["screens.highscore.TeamMemberContainer"]=pi;pi.__name__="screens.highscore.TeamMemberContainer";pi.__super__=tc;pi.prototype=m(tc.prototype,{onPlayerTeamChange:function(a){var b=a.data.uid;null==a.data.teamId&&b!=u.get_instance().get_uid()&&b==this.uid&&null!=this.parentList&&
this.parentList.removeContainer(this)},onTeamRankChange:function(a){a.data.uid==this.uid&&(this.teamRank=a.data.rank,this.updateDisplay())},onTeamUpdate:function(a){null==u.get_instance().teamId&&this.uid==u.get_instance().get_uid()&&this.parentList.removeContainer(this)},updateDisplay:function(){var a="SID_TEAM_RANK"+this.teamRank,b=this.find("uiTxtMemberRank");b instanceof D&&L.__cast(b,D).set_text(a);a=N.number(this.stars);b=this.find("uiTxtStars");b instanceof D&&L.__cast(b,D).set_text(a)},onClicked:function(a){this.teamId==
u.get_instance().teamId&&this.addOptions()},addOptions:function(){if(null==this.mOptions){this.clickable=!1;var a=this.height+100;this.height!=a&&this.invalidate();var b=null;this.relativeHeight!=b&&this.invalidate();this.relativeHeight=b;this.height=a;100!=this.paddingBottom&&this.invalidate();this.paddingBottom=100;this.parentList.invalidate();this.addChild(this.mOptions=ta.createInstanceFromString('<element template="tMemberOptions" />',this.context));this.registerXEventListener(this.mOptions.find("uiBtClose"),
"XButton::BUTTON_PRESSED",l(this,this.onClosePressed));this.registerXEventListener(this.mOptions.find("uiBtPromote"),"XButton::BUTTON_PRESSED",l(this,this.onPromotePressed));this.registerXEventListener(this.mOptions.find("uiBtDemote"),"XButton::BUTTON_PRESSED",l(this,this.onDemotePressed));this.registerXEventListener(this.mOptions.find("uiBtRemove"),"XButton::BUTTON_PRESSED",l(this,this.onRemovePressed));var c=this.uid==u.get_instance().get_uid(),d=this.uid!=u.get_instance().get_uid()&&u.get_instance().teamRank<
this.teamRank;a=2>=this.teamRank&&d;var e=this.mOptions.find("uiBtPromote");null!=e&&(b=(e.enabled=a)?1:.5,e.alpha!=b&&e.invalidate(),e.alpha=b);a=1>=this.teamRank&&(d||c);e=this.mOptions.find("uiBtDemote");null!=e&&(b=(e.enabled=a)?1:.5,e.alpha!=b&&e.invalidate(),e.alpha=b);b=this.mOptions;a=d&&1>=u.get_instance().teamRank||c;e=b.find("uiBtRemove");null!=e&&(b=(e.enabled=a)?1:.5,e.alpha!=b&&e.invalidate(),e.alpha=b)}},removeOptions:function(){if(null!=this.mOptions){this.clickable=!0;0!=this.paddingBottom&&
this.invalidate();this.paddingBottom=0;var a=this.height-100;this.height!=a&&this.invalidate();null!=this.relativeHeight&&this.invalidate();this.relativeHeight=null;this.height=a;this.releaseXEventListener(this.mOptions.find("uiBtClose"),"XButton::BUTTON_PRESSED",l(this,this.onClosePressed));this.releaseXEventListener(this.mOptions.find("uiBtPromote"),"XButton::BUTTON_PRESSED",l(this,this.onPromotePressed));this.releaseXEventListener(this.mOptions.find("uiBtDemote"),"XButton::BUTTON_PRESSED",l(this,
this.onDemotePressed));this.releaseXEventListener(this.mOptions.find("uiBtRemove"),"XButton::BUTTON_PRESSED",l(this,this.onRemovePressed));this.mOptions.dispose();this.mOptions=null}},onClosePressed:function(a){a.stop=!0;this.removeOptions()},onRemovePressed:function(a){var b=this;a.stop=!0;if(this.uid!=u.get_instance().get_uid()){a=u.get_instance().removeFromTeam(this.uid);var c=function(a){Object.prototype.hasOwnProperty.call(a,"error")||null==b.parentList||b.parentList.removeContainer(b)},d=null,
e=(null!=d?d:B.instance.get_foreground()).addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',B.instance.get_foreground().context));
this.register(a.onComplete(function(a){null!=c&&c(a);null!=e&&e.dispose()}).onError(function(a){null!=e&&e.dispose()}))}else{a=u.get_instance().quitTeam();var g=function(a){Object.prototype.hasOwnProperty.call(a,"error")||null==b.parentList||b.parentList.removeContainer(b)};d=null;var k=(null!=d?d:B.instance.get_foreground()).addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',
B.instance.get_foreground().context));this.register(a.onComplete(function(a){null!=g&&g(a);null!=k&&k.dispose()}).onError(function(a){null!=k&&k.dispose()}))}},onPromotePressed:function(a){var b=this;a.stop=!0;a=u.get_instance().promote(this.uid);var c=function(a){var c=b.teamRank,d=null!=a&&Object.prototype.hasOwnProperty.call(a,"rank");b.teamRank=d?F.field(a,"rank"):c;b.updateDisplay();b.removeOptions();b.parentList.sort("team")},d=B.instance.get_foreground().addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',
B.instance.get_foreground().context));this.register(a.onComplete(function(a){null!=c&&c(a);null!=d&&d.dispose()}).onError(function(a){null!=d&&d.dispose()}))},onDemotePressed:function(a){var b=this;a.stop=!0;a=u.get_instance().demote(this.uid);var c=function(a){var c=b.teamRank,d=null!=a&&Object.prototype.hasOwnProperty.call(a,"rank");b.teamRank=d?F.field(a,"rank"):c;b.updateDisplay();b.removeOptions();b.parentList.sort("team")},d=B.instance.get_foreground().addChild(ta.createInstanceFromString('\r\n\t\t\t<element width="400" height="400" halign="center" valign="center" >\t\r\n\t\t\t\t<image image="ui/indicator.png" width="450" height="450" halign="center" valign="center" >\t\t\t\t\r\n\t\t\t\t\t<animation animation="rotation" speed="300.5" />\t\t\t\t\t\r\n\t\t\t\t</image>\r\n\t\t\t\t<image image="ui/ZooBoomLogoHigh.png" width="300" height="220" halign="center" valign="center" />\r\n\t\t\t</element>',
B.instance.get_foreground().context));this.register(a.onComplete(function(a){null!=c&&c(a);null!=d&&d.dispose()}).onError(function(a){null!=d&&d.dispose()}))},compare:function(a,b){return null==b?this.score<a.score?1:this.score==a.score?this.date>a.date?1:-1:-1:"team"==b?this.teamRank>a.teamRank?1:this.teamRank==a.teamRank?this.stars<a.stars?1:-1:-1:this.score<a.score?1:this.score==a.score?this.date>a.date?1:-1:-1},dispose:function(){this.teamId=this.mOptions=null;tc.prototype.dispose.call(this)},
__class__:pi});var qi=function(a,b,c){null==c&&(c="tPlayerContainerTournamentWithReward");this.rank=-1;tc.call(this,a,b,c)};h["screens.highscore.TournamentContainer"]=qi;qi.__name__="screens.highscore.TournamentContainer";qi.__super__=tc;qi.prototype=m(tc.prototype,{setRank:function(a){if(this.rank!=a){this.rank=a;tc.prototype.setRank.call(this,a);var b=this.find("uiImgRewardConti");if(null!=b){b.removeAllChildren();var c=u.config.tournament.rewards;if(a<c.length){var d=this.find("uiImgRewardGlow");
null!=d&&d.set_visible(!0);b.addChild(new pc(this.context,c[a]))}else d=this.find("uiImgRewardGlow"),null!=d&&d.set_visible(!1)}}},compare:function(a,b){return this.stars<a.stars?1:this.stars==a.stars?this.date>a.date?1:-1:-1},__class__:qi});var yh=function(a,b){var c=this;tc.call(this,a,b,"tPlayerContainerTournamentHighscore");if(Object.prototype.hasOwnProperty.call(b,"score"))u.get_instance().getVCard(this.uid).onComplete(function(a){a.tournamentsWon!=c.score&&u.get_instance().getVCard(c.uid,!0)})};
h["screens.highscore.TournamentWinnerContainer"]=yh;yh.__name__="screens.highscore.TournamentWinnerContainer";yh.__super__=tc;yh.prototype=m(tc.prototype,{__class__:yh});var Lc=function(){};h["screens.utils.FlagUtils"]=Lc;Lc.__name__="screens.utils.FlagUtils";Lc.getFlagIcon=function(a){return null!=a&&"X"!=a?"flags/"+a.toUpperCase()+".png":null};Lc.getFlagIconWithX=function(a){return null!=a?"flags/"+a.toUpperCase()+".png":null};Lc.getFlagIconX=function(a){return null!=a?"flags/"+a.toUpperCase()+
".png":"flags/X.png"};var Ah=function(a,b,c,d){null==d&&(d=1);null==c&&(c=0);this.volume=1;var e=this;this.mXEventListener=null;this.type=b;this.mAudioSource=new li(a);this.mAudioSource.offset=0;this.mAudioSource.set_loops(c);this.mAudioSource.onComplete.add(function(){e.dispatchSimpleXEvent("AudioData::COMPLETE");e.dispose()});this.set_volume(d);this.update();this.mAudioSource.play();if(!Y.get_instance().active)this.onDeactivate()};h["system.audio.AudioData"]=Ah;Ah.__name__="system.audio.AudioData";
Ah.__super__=T;Ah.prototype=m(T.prototype,{set_volume:function(a){this.volume=a;this.update();return a},onActivate:function(){this.mAudioSource.play()},update:function(){var a=Y.get_instance().muted,b=Y.get_instance().getTotalVolume()*this.volume;switch(this.type){case 1:a=a||Y.get_instance().get_muteSound();b*=Y.get_instance().soundVolume;break;case 2:a=a||Y.get_instance().get_muteMusic(),b*=Y.get_instance().musicVolume}this.mAudioSource.set_gain(a?0:b)},onDeactivate:function(){this.mAudioSource.pause()},
dispose:function(){Y.get_instance().removeAudioData(this);null!=this.mAudioSource&&(this.mAudioSource.stop(),this.mAudioSource.dispose(),this.mAudioSource=null);T.prototype.dispose.call(this)},__class__:Ah,__properties__:{set_volume:"set_volume"}});var ri=function(){this.audioFuture=null};h["system.audio.AudioChannelData"]=ri;ri.__name__="system.audio.AudioChannelData";ri.prototype={__class__:ri};var Y=function(){this.ad=!1;this.useMP3=this.focus=!0;this.muteMusic=this.muteSound=!1;this.handleActivationEvents=
!0;this.muted=!1;this.volume=this.volumeFactor=this.musicVolume=this.soundVolume=1;this.active=this.platformCheck=!0;this.mMap=new qb;this.mAudioBuffers=new qb;this.mAudioDelayMap=new qb;this.mAudioData=[];this.mXEventListener=null;switch(yc.getBrowserType()._hx_index){case 3:this.useMP3=!0;break;case 4:this.useMP3=!1}var a=l(this,this.onFocusLost),b=l(this,this.onFocus);document.addEventListener("visibilitychange",function(){document.hidden||document.mozHidden||document.webkitHidden||document.msHidden?
a():b()},!1);this.registerXEventListener(Ua.instance,"SettingManager::settingsUpdate",l(this,this.onSettingsUpdate));this.set_muteMusic(Ua.instance.getSetting("mute_music",!1));this.set_muteSound(Ua.instance.getSetting("mute_sound",!1))};h["system.audio.AudioManager"]=Y;Y.__name__="system.audio.AudioManager";Y.__properties__={get_instance:"get_instance"};Y.get_instance=function(){null==Y.instance&&(Y.instance=new Y);return Y.instance};Y.__super__=T;Y.prototype=m(T.prototype,{setMute:function(a){this.muted!=
a&&(this.muted=a,this.updateAll(),this.dispatchSimpleXEvent("AudioManager::Update"))},onFocusLost:function(){this.focus=!1;this.updateState()},onFocus:function(){this.focus=!0;this.updateState()},onAdStart:function(){this.ad=!0;this.updateState()},onAdEnd:function(){this.ad=!1;this.updateState()},updateState:function(){this.focus&&!this.ad&&this.muted?this.setMute(!1):this.focus&&!this.ad||this.muted||this.setMute(!0)},onSettingsUpdate:function(a){switch(a.data){case "mute_music":this.set_muteMusic(Ua.instance.getSetting("mute_music",
!0));break;case "mute_sound":this.set_muteSound(Ua.instance.getSetting("mute_sound",!0))}},playUnique:function(a,b,c,d){null==d&&(d=1);null==c&&(c=1);null==b&&(b=0);var e=this.mAudioDelayMap.h[a];if(null==e||e<H.timer)this.play(a,b,c,d),b=this.mAudioDelayMap,c=H.timer+.5,b.h.hasOwnProperty(a)&&E.remove(b.mKeys,a),b.h[a]=c,b.mKeys.push(a)},play:function(a,b,c,d){null==d&&(d=1);null==c&&(c=1);null==b&&(b=0);var e=this,g=new Lb;this.platformCheck&&(a=oa.replace(a,this.useMP3?".ogg":".mp3",this.useMP3?
".mp3":".ogg"));if(this.mAudioBuffers.h.hasOwnProperty(a)){var k=new Ah(this.mAudioBuffers.h[a],d,b,c);this.mAudioData.push(k);g.complete(k)}else ea.loadAudioBuffer(a).onComplete(function(k){if(null!=k){var f=e.mAudioBuffers;f.h.hasOwnProperty(a)&&E.remove(f.mKeys,a);f.h[a]=k;f.mKeys.push(a);g.completeWith(e.play(a,b,c,d))}});return g.future},playChannel:function(a,b,c,d){null==c&&(c=2);var e="sound/"+a+".mp3",g=this.mMap.h[b];if(null==g)g=new ri,g.fileName=a,g.audioFuture=Y.get_instance().play(e,
65535,null!=d?.5:d,c),a=this.mMap,a.h.hasOwnProperty(b)&&E.remove(a.mKeys,b),a.h[b]=g,a.mKeys.push(b);else if(g.fileName!=e){g.fileName=e;if(null!=g.audioFuture)g.audioFuture.onComplete(function(a){a.dispose()});g.audioFuture=Y.get_instance().play(e,65535,null!=d?.5:d,c)}},stopChannel:function(a){var b=this.mMap.h[a];if(null!=b){b.fileName=null;if(null!=b.audioFuture)b.audioFuture.onComplete(function(a){a.dispose();b.audioFuture=null});this.mMap.remove(a)}},removeAudioData:function(a){for(;E.remove(this.mAudioData,
a););},get_muteMusic:function(){return this.muteMusic},get_muteSound:function(){return this.muteSound},set_muteMusic:function(a){this.get_muteMusic()!=a&&(this.muteMusic=a,this.updateAll(),this.dispatchSimpleXEvent("AudioManager::Update"),Ua.instance.setSetting("mute_music",a));return a},set_muteSound:function(a){this.get_muteSound()!=a&&(this.muteSound=a,this.updateAll(),this.dispatchSimpleXEvent("AudioManager::Update"),Ua.instance.setSetting("mute_sound",a));return a},getTotalVolume:function(){return this.volume*
this.volumeFactor},set_volumeFactor:function(a){this.volumeFactor=a;this.updateAll();return a},updateAll:function(){for(var a=0,b=this.mAudioData;a<b.length;){var c=b[a];++a;c.update()}},onActivate:function(){if(this.handleActivationEvents){this.active=!0;for(var a=0,b=this.mAudioData;a<b.length;){var c=b[a];++a;c.onActivate()}}},onDeactivate:function(){if(this.handleActivationEvents){this.active=!1;for(var a=0,b=this.mAudioData;a<b.length;){var c=b[a];++a;c.onDeactivate()}}},__class__:Y,__properties__:{set_muteSound:"set_muteSound",
get_muteSound:"get_muteSound",set_muteMusic:"set_muteMusic",get_muteMusic:"get_muteMusic",set_volumeFactor:"set_volumeFactor"}});var Bh=function(){};h["system.base.input.events.XKeyEvent"]=Bh;Bh.__name__="system.base.input.events.XKeyEvent";Bh.__super__=pa;Bh.prototype=m(pa.prototype,{__class__:Bh});var Ch=function(){};h["system.base.input.events.XTouchEvent"]=Ch;Ch.__name__="system.base.input.events.XTouchEvent";Ch.__super__=pa;Ch.prototype=m(pa.prototype,{buttonDown:function(a){return null!=this.buttonMap?
1==this.buttonMap.h[a]:!1},__class__:Ch});var ca=function(){this.mGesture=!1;this.x=this.y=this.deltaMovement=this.mOldMouseX=this.mOldMouseY=0;this.mTouchMap=new nb;this.mKeyMap=new nb;this.mButtonTime=new nb;this.mButtonMap=new nb;ca.sMouseEvent.buttonMap=this.mButtonMap;document.oncontextmenu=document.body.oncontextmenu=function(){return!1};this.mXEventListener=null};h["system.base.input.InputManager"]=ca;ca.__name__="system.base.input.InputManager";ca.__properties__={get_instance:"get_instance"};
ca.get_instance=function(){null==ca.instance&&(ca.instance=new ca);return ca.instance};ca.__super__=T;ca.prototype=m(T.prototype,{init:function(){},keyDown:function(a){this.mKeyMap.h[a]=!0;ca.sKeyEvent.type="KEY_DOWN_EVENT";ca.sKeyEvent.code=a;this.dispatchXEvent(ca.sKeyEvent)},keyUp:function(a){this.mKeyMap.h[a]=!1;ca.sKeyEvent.type="KEY_UP_EVENT";ca.sKeyEvent.code=a;this.dispatchXEvent(ca.sKeyEvent)},keyPressed:function(a){return 1==this.mKeyMap.h[a]},mouseDown:function(a,b,c){this.mButtonMap.h[c]=
!0;this.mButtonTime.h[c]=H.timer;this.deltaMovement=0;ca.sMouseEvent.type="DOWN_EVENT";this.x=this.mOldMouseX=ca.sMouseEvent.x=a;this.y=this.mOldMouseY=ca.sMouseEvent.y=b;ca.sMouseEvent.button=c;this.dispatchXEvent(ca.sMouseEvent)},mouseUp:function(a,b,c){this.mButtonMap.h[c]=!1;ca.sMouseEvent.type="UP_EVENT";this.x=this.mOldMouseX=ca.sMouseEvent.x=a;this.y=this.mOldMouseY=ca.sMouseEvent.y=b;ca.sMouseEvent.button=c;ca.sMouseEvent.deltaTime=H.timer-this.mButtonTime.h[c];ca.sMouseEvent.deltaMovement=
this.deltaMovement;this.dispatchXEvent(ca.sMouseEvent)},mouseMove:function(a,b){this.mGesture||(ca.sMouseEvent.type="MOVE_EVENT",this.x=ca.sMouseEvent.x=a,this.y=ca.sMouseEvent.y=b,ca.sMouseEvent.dx=a-this.mOldMouseX,ca.sMouseEvent.dy=b-this.mOldMouseY,this.deltaMovement+=Math.sqrt(ca.sMouseEvent.dx*ca.sMouseEvent.dx+ca.sMouseEvent.dy*ca.sMouseEvent.dy),this.dispatchXEvent(ca.sMouseEvent),this.mOldMouseX=a,this.mOldMouseY=b)},onTouchCancel:function(a){this.mTouchMap.remove(a.id);0==this.getNumTouches()&&
(this.mGesture=!1)},onTouchStart:function(a){this.mTouchMap.h[a.id]=a},onTouchMove:function(a){this.mTouchMap.h[a.id]=a;var b=null,c=null;a=null;for(var d=this.mTouchMap.iterator();d.hasNext();){var e=d.next();null==b?b=e:null==c?c=e:null==a&&(a=e)}null!=c&&null==a&&(this.mGesture=!0,d=ja.sTempV3D[++ja.sTempV3DIdx%ja.sTempV3DLen],d.x=b.x-c.x,d.y=b.y-c.y,d.z=0,d.w=1,a=d,d=ja.sTempV3D[++ja.sTempV3DIdx%ja.sTempV3DLen],d.x=b.x-b.dx-(c.x-c.dx),d.y=b.y-b.dy-(c.y-c.dy),d.z=0,d.w=1,b=d,c=Math.sqrt(a.x*a.x+
a.y*a.y+a.z*a.z),d=Math.sqrt(b.x*b.x+b.y*b.y+b.z*b.z),ca.sMouseEvent.type="SCROLL_EVENT",ca.sMouseEvent.value=100*(c-d),this.dispatchXEvent(ca.sMouseEvent),c=Math.acos(ma.fClamp((a.x*b.x+a.y*b.y+a.z*b.z)/(c*d),-1,1))/Math.PI*180,a=ja.CROSS(ja.sTempV3D[++ja.sTempV3DIdx%ja.sTempV3DLen],a,ja.Z_AXIS),0>=a.x*b.x+a.y*b.y+a.z*b.z&&(c*=-1),ca.sMouseEvent.type="ROTATION_EVENT",ca.sMouseEvent.value=20*c,this.dispatchXEvent(ca.sMouseEvent))},onTouchEnd:function(a){this.mTouchMap.remove(a.id);0==this.getNumTouches()&&
(this.mGesture=!1)},getNumTouches:function(){for(var a=0,b=this.mTouchMap.iterator();b.hasNext();)b.next(),++a;return a},mouseMoveRelative:function(a,b){},mouseWheel:function(a,b,c){ca.sMouseEvent.type="SCROLL_EVENT";ca.sMouseEvent.value=0<b?1:-1;this.dispatchXEvent(ca.sMouseEvent)},buttonPressed:function(a){return 1==this.mButtonMap.h[a]},__class__:ca});var si=function(){this.acceleration=new ja;this.mXEventListener=null;this.init()};h["system.device.MotionManager"]=si;si.__name__="system.device.MotionManager";
si.__super__=T;si.prototype=m(T.prototype,{init:function(){var a=uc.getSensors(Bi.ACCELEROMETER);null!=a&&0<a.length&&(this.mAccelerometer=a[0],null!=this.mAccelerometer&&this.mAccelerometer.onUpdate.add(l(this,this.onAccelerometerUpdate)))},onAccelerometerUpdate:function(a,b,c){var d=this.acceleration,e=this.acceleration;d.x+=e.x;d.y+=e.y;d.z+=e.z;d=this.acceleration;d.x+=a;d.y+=b;d.z+=c;d=this.acceleration;d.x*=.33333333;d.y*=.33333333;d.z*=.33333333;this.dispatchSimpleXEvent("MotionManager::Update")},
__class__:si});var ka=function(){this.mXEventListener=null};h["system.external.Integration"]=ka;ka.__name__="system.external.Integration";ka.__properties__={get_instance:"get_instance"};ka.get_instance=function(){null==ka.instance&&(ka.instance=new mb);return ka.instance};ka.__super__=T;ka.prototype=m(T.prototype,{__class__:ka});var mb=function(){this.mXEventListener=null};h["system.external.famobi.FamobiIntegration"]=mb;mb.__name__="system.external.famobi.FamobiIntegration";mb.__super__=ka;mb.prototype=
m(ka.prototype,{init:function(a){var b=this;window.famobi_onPauseRequested=l(this,this.onPause);window.famobi_onResumeRequested=l(this,this.onResume);window.famobi_onMuteRequested=l(this,this.onMute);window.famobi_onUnmuteRequested=l(this,this.onUnmute);mb.sInitialized=void 0!=window.famobi;this.hasFeature("rewarded")&&(mb.mTimer=new fc(5E3),mb.mTimer.run=function(){var a=b.hasRewardedAd();mb.mHasRewardedAd!=a&&1==a&&(mb.mHasRewardedAd=!0,b.dispatchSimpleXEvent("REWARDED_ADD_AVAILABLE"))})},get_brandingButton:function(){return mb.sInitialized?
window.famobi.getBrandingButtonImage([!0]):null},get_adBlockerDetected:function(){return!1},openBrandingLink:function(){mb.sInitialized&&window.famobi.openBrandingLink()},setPreloadProgress:function(a){mb.sInitialized&&window.famobi.setPreloadProgress(a)},trackStats:function(a,b,c){null==c&&(c=1);mb.sInitialized&&window.famobi_analytics.trackStats(a.toLowerCase(),b,c)},trackEvent:function(a,b){mb.sInitialized&&window.famobi_analytics.trackEvent(a,b)},onPause:function(){qa.sInstance.active=!1;Y.get_instance().onAdStart()},
onResume:function(){qa.sInstance.active=!0;Y.get_instance().onAdEnd()},onMute:function(){Y.get_instance().set_muteMusic(!0);Y.get_instance().set_muteSound(!0)},onUnmute:function(){Y.get_instance().set_muteMusic(!1);Y.get_instance().set_muteSound(!1)},get_currentLocale:function(){return mb.sInitialized?window.famobi.getCurrentLanguage():N.get_currentLocale()},levelSuccess:function(a,b,c){if(1==mb.sInitialized){var d=new Lb;a="level"+ma.ndigits(a,4);Promise.all([window.famobi.showInterstitialAd(),window.famobi_analytics.trackEvent("EVENT_LEVELSUCCESS",
{levelName:a}),window.famobi_analytics.trackEvent("EVENT_LEVELSCORE",{levelName:a,levelScore:b})]).then(function(a){return d.complete(a)});return d.future}return ya.withError({})},levelFailed:function(a,b){if(1==mb.sInitialized){var c=new Lb,d="level"+ma.ndigits(a,4),e=null!=b?b.reason:"quit";Pb.delay(function(){"quit"==e?Promise.all([window.famobi.showInterstitialAd(),window.famobi_analytics.trackEvent("EVENT_LEVELFAIL",{levelName:d,reason:e})]).then(function(){window.famobi.showAd(function(a){return c.complete(a)})}):
Promise.all([window.famobi.showInterstitialAd(),window.famobi_analytics.trackEvent("EVENT_LEVELFAIL",{levelName:d,reason:e})]).then(function(a){return c.complete(a)})},900);return c.future}return ya.withError({})},showRewardedAd:function(){var a=this.hasRewardedAd();mb.mHasRewardedAd=!1;if(mb.sInitialized&&a){var b=new Lb;void 0!=window.famobi?window.famobi.rewardedAd(function(a){return b.complete(null!=a&&1==a.rewardGranted)}):b.error({})();return b.future}return ya.withError({})},hasRewardedAd:function(){return this.hasFeature("rewarded")?
mb.sInitialized?window.famobi.hasRewardedAd():!1:!1},hasFeature:function(a,b){null==b&&(b=!1);return mb.sInitialized?void 0!=window.famobi?window.famobi.hasFeature(a):b:b},gameReady:function(){mb.sInitialized&&void 0!=window.famobi&&window.famobi.gameReady()},playerReady:function(){mb.sInitialized&&void 0!=window.famobi&&window.famobi.playerReady()},getVolume:function(){return mb.sInitialized?void 0!=window.famobi?window.famobi.getVolume():1:1},onRequest:function(a,b){if(mb.sInitialized&&void 0!=
window.famobi)window.famobi.onRequest(a,b)},__class__:mb,__properties__:{get_brandingButton:"get_brandingButton"}});var Hc=function(){this.dirty=!0;this.stride=this.size=this.entries=0};h["system.gfx.buffer.BaseBuffer"]=Hc;Hc.__name__="system.gfx.buffer.BaseBuffer";Hc.__interfaces__=[Va];Hc.prototype={increaseSize:function(a){},addEntry:function(a){null==a&&(a=1);var b=this.entries;this.entries+=a;this.entries>this.size&&this.increaseSize(Math.round(Math.ceil(this.entries/this.size)));return b},dispose:function(){null!=
this.glBuffer&&(p.gl.deleteBuffer(this.glBuffer),this.glBuffer=null)},__class__:Hc};var ve=function(a){Hc.call(this);this.stride=3;this.size=a;this.glBuffer=p.gl.createBuffer();a=this.size*this.stride;this.bufferData=null!=a?new Uint16Array(a):null};h["system.gfx.buffer.IndexBuffer"]=ve;ve.__name__="system.gfx.buffer.IndexBuffer";ve.__super__=Hc;ve.prototype=m(Hc.prototype,{apply:function(){p.gl.bindBuffer(p.gl.ELEMENT_ARRAY_BUFFER,this.glBuffer)},upload:function(){p.gl.bindBuffer(p.gl.ELEMENT_ARRAY_BUFFER,
this.glBuffer);ob.bufferData(p.gl,p.gl.ELEMENT_ARRAY_BUFFER,this.bufferData,p.gl.DYNAMIC_DRAW)},increaseSize:function(a){null==a&&(a=2);this.size*=a;a=this.size*this.stride;a=null!=a?new Uint16Array(a):null;a.set(this.bufferData,0);this.bufferData=a},dispose:function(){this.bufferData=null;Hc.prototype.dispose.call(this)},__class__:ve});var Dh=function(a){ve.call(this,a)};h["system.gfx.buffer.PermanentIndexBuffer"]=Dh;Dh.__name__="system.gfx.buffer.PermanentIndexBuffer";Dh.__super__=ve;Dh.prototype=
m(ve.prototype,{increaseSize:function(a){},__class__:Dh});var Cb=function(){};h["system.gfx.buffer.StaticIndexBuffers"]=Cb;Cb.__name__="system.gfx.buffer.StaticIndexBuffers";Cb.getIB=function(a){a=ma.nextPowerOfTwo(a);var b=Math.log(a)/Math.log(2)|0,c=Cb.sIndexBuffers[b];if(null==c){c=new Dh(a);a=a/2|0;for(var d=c.addEntry(2),e=c.bufferData,g=0;g<a;){var k=4*g++;e[d++]=k;e[d++]=k+1;e[d++]=k+2;e[d++]=k+2;e[d++]=k+1;e[d++]=k+3}c.upload();return Cb.sIndexBuffers[b]=c}return c};var Jb=function(a,b){Hc.call(this);
this.stride=b;this.size=a;this.glBuffer=p.gl.createBuffer();this.data=new Pc(this.size*this.stride*4)};h["system.gfx.buffer.VertexBuffer"]=Jb;Jb.__name__="system.gfx.buffer.VertexBuffer";Jb.__super__=Hc;Jb.prototype=m(Hc.prototype,{apply:function(){p.gl.bindBuffer(p.gl.ARRAY_BUFFER,this.glBuffer)},upload:function(){p.gl.bindBuffer(p.gl.ARRAY_BUFFER,this.glBuffer);ob.bufferData(p.gl,p.gl.ARRAY_BUFFER,this.data.floatArray,p.gl.DYNAMIC_DRAW);this.dirty=!1},increaseSize:function(a){null==a&&(a=2);this.size*=
a;this.data.increaseSize(a)},addEntry:function(a){null==a&&(a=1);a=Hc.prototype.addEntry.call(this,a);this.data.position=a*this.stride<<2;return a},dispose:function(){var a=this.data;null!=a&&a.dispose();this.data=null;Hc.prototype.dispose.call(this)},__class__:Jb});var Q={_new:function(a){if(null==a||16!=a.length)a=Q.sIdentityArray,a=null!=a?new Float32Array(a):null;return a},copyFrom:function(a,b){a[0]=b[0];a[4]=b[4];a[8]=b[8];a[12]=b[12];a[1]=b[1];a[5]=b[5];a[9]=b[9];a[13]=b[13];a[2]=b[2];a[6]=
b[6];a[10]=b[10];a[14]=b[14];a[3]=b[3];a[7]=b[7];a[11]=b[11];a[15]=b[15];return a},fromM2D:function(a,b){a[0]=b[0];a[4]=b[3];a[8]=0;a[12]=b[6];a[1]=b[1];a[5]=b[4];a[9]=0;a[13]=b[7];a[2]=0;a[6]=0;a[10]=0;a[14]=0;a[3]=b[2];a[7]=b[5];a[11]=0;a[15]=b[8];return a},getM3D:function(){if(0<Q.sM3DDataCount){var a=Q.sM3DData[--Q.sM3DDataCount];a[0]=1;a[4]=0;a[8]=0;a[12]=0;a[1]=0;a[5]=1;a[9]=0;a[13]=0;a[2]=0;a[6]=0;a[10]=1;a[14]=0;a[3]=0;a[7]=0;a[11]=0;a[15]=1;return a}return Q._new()},recycleM3D:function(a){Q.sM3DData[Q.sM3DDataCount++]=
a}},ic=function(){this.ri=new ja(1,0,0);this.up=new ja(0,1,0);this.fw=new ja(0,0,1);this.pos=new ja(0,0,0)};h["system.gfx.math.Base3D"]=ic;ic.__name__="system.gfx.math.Base3D";ic.__interfaces__=[Va];ic.prototype={rotate:function(a,b){var c=ic.sMatrix;var d=b*Math.PI/180;b=a.x;var e=a.y;a=a.z;var g=Math.cos(d);d=Math.sin(d);var k=1-g;c[0]=k*b*b+g;c[4]=k*b*e-d*a;c[8]=k*b*a+d*e;c[12]=0;c[1]=k*b*e+d*a;c[5]=k*e*e+g;c[9]=k*e*a-d*b;c[13]=0;c[2]=k*b*a-d*e;c[6]=k*e*a+d*b;c[10]=k*a*a+g;c[14]=0;c[3]=0;c[7]=
0;c[11]=0;c[15]=1;c=this.ri;g=ic.sMatrix;b=c.x;e=c.y;a=c.z;c.x=g[0]*b+g[4]*e+g[8]*a;c.y=g[1]*b+g[5]*e+g[9]*a;c.z=g[2]*b+g[6]*e+g[10]*a;c.x+=g[12];c.y+=g[13];c.z+=g[14];c=this.up;g=ic.sMatrix;b=c.x;e=c.y;a=c.z;c.x=g[0]*b+g[4]*e+g[8]*a;c.y=g[1]*b+g[5]*e+g[9]*a;c.z=g[2]*b+g[6]*e+g[10]*a;c.x+=g[12];c.y+=g[13];c.z+=g[14];c=this.fw;g=ic.sMatrix;b=c.x;e=c.y;a=c.z;c.x=g[0]*b+g[4]*e+g[8]*a;c.y=g[1]*b+g[5]*e+g[9]*a;c.z=g[2]*b+g[6]*e+g[10]*a;c.x+=g[12];c.y+=g[13];c.z+=g[14]},matrix:function(){null==this.mMatrix&&
(this.mMatrix=Q._new());this.mMatrix[0]=this.ri.x;this.mMatrix[4]=this.ri.y;this.mMatrix[8]=this.ri.z;this.mMatrix[12]=0;this.mMatrix[1]=this.up.x;this.mMatrix[5]=this.up.y;this.mMatrix[9]=this.up.z;this.mMatrix[13]=0;this.mMatrix[2]=this.fw.x;this.mMatrix[6]=this.fw.y;this.mMatrix[10]=this.fw.z;this.mMatrix[14]=0;this.mMatrix[3]=this.pos.x;this.mMatrix[7]=this.pos.y;this.mMatrix[11]=this.pos.z;this.mMatrix[15]=1;return this.mMatrix},repair:function(){var a=this.fw,b=1/Math.sqrt(a.x*a.x+a.y*a.y+a.z*
a.z);a.x*=b;a.y*=b;a.z*=b;a=ja.CROSS(this.ri,this.up,this.fw);b=1/Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);a.x*=b;a.y*=b;a.z*=b;this.ri=a;a=ja.CROSS(this.up,this.fw,this.ri);b=1/Math.sqrt(a.x*a.x+a.y*a.y+a.z*a.z);a.x*=b;a.y*=b;a.z*=b;this.up=a},dispose:function(){this.mTransposedMatrix=this.mMatrix=this.fw=this.up=this.ri=null},__class__:ic};var od=function(){this.mView=Q._new();this.frustumPlanes=[new Hd,new Hd,new Hd,new Hd,new Hd,new Hd];this.viewProjection=Q._new();this.projectionMatrix=Q._new();this.far=
20;this.near=.1;ic.call(this);this.mView=Q._new()};h["system.gfx.camera.Camera3D"]=od;od.__name__="system.gfx.camera.Camera3D";od.__super__=ic;od.prototype=m(ic.prototype,{lookAt:function(a,b,c){var d=this.pos;d.x=b.x;d.y=b.y;d.z=b.z;d.w=b.w;this.fw=ja.SUB(this.fw,a,b);d=this.up;d.x=c.x;d.y=c.y;d.z=c.z;d.w=c.w;this.repair()},get_viewMatrix:function(){this.mView[0]=this.ri.x;this.mView[4]=this.ri.y;this.mView[8]=this.ri.z;var a=this.ri,b=this.pos;this.mView[12]=-(a.x*b.x+a.y*b.y+a.z*b.z);this.mView[1]=
this.up.x;this.mView[5]=this.up.y;this.mView[9]=this.up.z;a=this.up;b=this.pos;this.mView[13]=-(a.x*b.x+a.y*b.y+a.z*b.z);this.mView[2]=this.fw.x;this.mView[6]=this.fw.y;this.mView[10]=this.fw.z;a=this.fw;b=this.pos;this.mView[14]=-(a.x*b.x+a.y*b.y+a.z*b.z);this.mView[3]=0;this.mView[7]=0;this.mView[11]=0;this.mView[15]=1;return this.mView},get_projectionMatrix:function(){return this.projectionMatrix},get_viewProjection:function(){var a=this.viewProjection,b=this.get_viewMatrix(),c=this.get_projectionMatrix(),
d=b[0]*c[1]+b[1]*c[5]+b[2]*c[9]+b[3]*c[13],e=b[0]*c[2]+b[1]*c[6]+b[2]*c[10]+b[3]*c[14],g=b[0]*c[3]+b[1]*c[7]+b[2]*c[11]+b[3]*c[15],k=b[4]*c[0]+b[5]*c[4]+b[6]*c[8]+b[7]*c[12],f=b[4]*c[1]+b[5]*c[5]+b[6]*c[9]+b[7]*c[13],n=b[4]*c[2]+b[5]*c[6]+b[6]*c[10]+b[7]*c[14],p=b[4]*c[3]+b[5]*c[7]+b[6]*c[11]+b[7]*c[15],h=b[8]*c[0]+b[9]*c[4]+b[10]*c[8]+b[11]*c[12],l=b[8]*c[1]+b[9]*c[5]+b[10]*c[9]+b[11]*c[13],m=b[8]*c[2]+b[9]*c[6]+b[10]*c[10]+b[11]*c[14],G=b[8]*c[3]+b[9]*c[7]+b[10]*c[11]+b[11]*c[15],y=b[12]*c[0]+b[13]*
c[4]+b[14]*c[8]+b[15]*c[12],v=b[12]*c[1]+b[13]*c[5]+b[14]*c[9]+b[15]*c[13],K=b[12]*c[2]+b[13]*c[6]+b[14]*c[10]+b[15]*c[14],U=b[12]*c[3]+b[13]*c[7]+b[14]*c[11]+b[15]*c[15];a[0]=b[0]*c[0]+b[1]*c[4]+b[2]*c[8]+b[3]*c[12];a[4]=k;a[8]=h;a[12]=y;a[1]=d;a[5]=f;a[9]=l;a[13]=v;a[2]=e;a[6]=n;a[10]=m;a[14]=K;a[3]=g;a[7]=p;a[11]=G;a[15]=U;return a},dispose:function(){this.frustumPlanes=this.viewMatrix=this.viewProjection=this.projectionMatrix=null;ic.prototype.dispose.call(this)},__class__:od,__properties__:{get_viewProjection:"get_viewProjection",
get_viewMatrix:"get_viewMatrix",get_projectionMatrix:"get_projectionMatrix"}});var ti=function(a){this.cameraBase=new ic;this.smoothBase=new ic;this.mZoomDelta=0;this.mZoom=65;this.mHeightFactor=1;this.mMoveDelta=new ja;this.mRotationDelta=0;this.mXEventListener=null;this.cameraBase.pos.y=1.4;this.camera=a;this.camera.near=1;this.camera.far=200;ca.get_instance().addXEventListener("MOVE_EVENT",l(this,this.onMouseInputEvent));ca.get_instance().addXEventListener("UP_EVENT",l(this,this.onMouseInputEvent));
ca.get_instance().addXEventListener("SCROLL_EVENT",l(this,this.onMouseInputEvent));ca.get_instance().addXEventListener("ROTATION_EVENT",l(this,this.onMouseInputEvent))};h["system.gfx.camera.CameraController"]=ti;ti.__name__="system.gfx.camera.CameraController";ti.__super__=T;ti.prototype=m(T.prototype,{onMouseInputEvent:function(a){switch(a.type){case "MOVE_EVENT":if(a.buttonDown(0)){var b=this.mMoveDelta;b.x=0;b.y=0;b.z=0;b.w=1;ja.MAD(this.mMoveDelta,this.mMoveDelta,this.cameraBase.fw,-10*a.dx);
ja.MAD(this.mMoveDelta,this.mMoveDelta,this.cameraBase.ri,-10*a.dy);b=this.mMoveDelta;0<Math.sqrt(b.x*b.x+b.y*b.y+b.z*b.z)&&(this.target=null)}a.buttonDown(2)&&(this.mRotationDelta=20*a.dx);break;case "ROTATION_EVENT":this.mRotationDelta=10*-a.value;break;case "SCROLL_EVENT":this.mZoomDelta=-a.value;break;case "UP_EVENT":this.mOldMouseX=this.mOldMouseY=NaN}},update:function(){var a=H.delta;ca.get_instance().keyPressed(46)&&(this.mRotationDelta=.5*(this.mRotationDelta+-100));ca.get_instance().keyPressed(44)&&
(this.mRotationDelta=.5*(this.mRotationDelta+100));var b=1.5*Math.pow(this.mZoom,.8);if(ca.get_instance().keyPressed(1073741904)||ca.get_instance().keyPressed(1073741903)||ca.get_instance().keyPressed(1073741906)||ca.get_instance().keyPressed(1073741905)){var c=this.mMoveDelta;c.x=0;c.y=0;c.z=0;c.w=1;ca.get_instance().keyPressed(1073741904)&&(ja.MAD(this.mMoveDelta,this.mMoveDelta,this.cameraBase.fw,-b),this.target=null);ca.get_instance().keyPressed(1073741903)&&(ja.MAD(this.mMoveDelta,this.mMoveDelta,
this.cameraBase.fw,b),this.target=null);ca.get_instance().keyPressed(1073741906)&&(ja.MAD(this.mMoveDelta,this.mMoveDelta,this.cameraBase.ri,-b),this.target=null);ca.get_instance().keyPressed(1073741905)&&(ja.MAD(this.mMoveDelta,this.mMoveDelta,this.cameraBase.ri,b),this.target=null)}if(ca.get_instance().keyPressed(61)||ca.get_instance().keyPressed(171))this.mZoomDelta=25*-a;if(ca.get_instance().keyPressed(45)||ca.get_instance().keyPressed(173))this.mZoomDelta=25*a;ca.get_instance().keyPressed(1073741911)&&
(this.mHeightFactor+=.001);ca.get_instance().keyPressed(1073741910)&&(this.mHeightFactor-=.001);this.cameraBase.rotate(ja.Y_AXIS,ma.fClamp(this.mRotationDelta*a,-6,6));this.cameraBase.repair();this.mRotationDelta*=Math.pow(.02,a);this.mZoom+=this.mZoomDelta;this.mZoomDelta*=Math.pow(.03,a);ja.MAD(this.cameraBase.pos,this.cameraBase.pos,this.mMoveDelta,a);c=this.mMoveDelta;b=Math.pow(.03,a);c.x*=b;c.y*=b;c.z*=b;null!=this.target&&(c=this.cameraBase.pos,b=this.target,c.x=b.x,c.y=b.y,c.z=b.z,c.w=b.w);
b=10*a;ja.LERP(this.smoothBase.pos,this.smoothBase.pos,this.cameraBase.pos,b);ja.LERP(this.smoothBase.fw,this.smoothBase.fw,this.cameraBase.fw,b);ja.LERP(this.smoothBase.up,this.smoothBase.up,this.cameraBase.up,b);ja.LERP(this.smoothBase.ri,this.smoothBase.ri,this.cameraBase.ri,b);this.smoothBase.repair();c=ja.ADD(ja.sTempV3D[++ja.sTempV3DIdx%ja.sTempV3DLen],this.smoothBase.ri,ja.SCALE(ja.sTempV3D[++ja.sTempV3DIdx%ja.sTempV3DLen],ja.Y_AXIS,this.mHeightFactor));b=this.mZoom;c.x*=b;c.y*=b;c.z*=b;a=
c;b=this.smoothBase.pos;a.x+=b.x;a.y+=b.y;a.z+=b.z;this.camera.lookAt(this.smoothBase.pos,a,ja.Y_AXIS)},__class__:ti});var tf=function(a,b,c,d){od.call(this);this.near=c;this.far=d;this.width=a;this.height=b};h["system.gfx.camera.OrthoCamera"]=tf;tf.__name__="system.gfx.camera.OrthoCamera";tf.__super__=od;tf.prototype=m(od.prototype,{get_projectionMatrix:function(){var a=this.projectionMatrix;a[0]=1;a[4]=0;a[8]=0;a[12]=0;a[1]=0;a[5]=1;a[9]=0;a[13]=0;a[2]=0;a[6]=0;a[10]=1;a[14]=0;a[3]=0;a[7]=0;a[11]=
0;a[15]=1;a=1/(this.far-this.near);this.projectionMatrix[0]=2/this.width;this.projectionMatrix[5]=2/this.height;this.projectionMatrix[10]=a;this.projectionMatrix[14]=-this.near*a;this.projectionMatrix[15]=1;return this.projectionMatrix},__class__:tf});var sf=function(){this.foV=40;od.call(this)};h["system.gfx.camera.PerspectiveCamera"]=sf;sf.__name__="system.gfx.camera.PerspectiveCamera";sf.__super__=od;sf.prototype=m(od.prototype,{get_projectionMatrix:function(){var a=this.projectionMatrix,b=this.projectionMatrix;
b[0]=1;b[4]=0;b[8]=0;b[12]=0;b[1]=0;b[5]=1;b[9]=0;b[13]=0;b[2]=0;b[6]=0;b[10]=1;b[14]=0;b[3]=0;b[7]=0;b[11]=0;b[15]=1;b=1/Math.tan(this.foV*Math.PI/360);var c=this.far/(this.far-this.near);a[0]=p.instance.flip?b/(p.instance.height/p.instance.width):p.instance.height/p.instance.width*b;a[4]=0;a[8]=0;a[12]=0;a[1]=0;a[5]=b;a[9]=0;a[13]=0;a[2]=0;a[6]=0;a[10]=c;a[14]=-this.near*c;a[3]=0;a[7]=0;a[11]=1;a[15]=0;if(p.instance.flip){var d=ja.INV_Z_AXIS;b=Q.sDummyM3D;var e=90*Math.PI/180;c=d.x;var g=d.y;d=
d.z;var k=Math.cos(e);e=Math.sin(e);var f=1-k;b[0]=f*c*c+k;b[4]=f*c*g-e*d;b[8]=f*c*d+e*g;b[12]=0;b[1]=f*c*g+e*d;b[5]=f*g*g+k;b[9]=f*g*d-e*c;b[13]=0;b[2]=f*c*d-e*g;b[6]=f*g*d+e*c;b[10]=f*d*d+k;b[14]=0;b[3]=0;b[7]=0;b[11]=0;b[15]=1;b=Q.sDummyM3D;c=a[0]*b[1]+a[1]*b[5]+a[2]*b[9]+a[3]*b[13];g=a[0]*b[2]+a[1]*b[6]+a[2]*b[10]+a[3]*b[14];d=a[0]*b[3]+a[1]*b[7]+a[2]*b[11]+a[3]*b[15];k=a[4]*b[0]+a[5]*b[4]+a[6]*b[8]+a[7]*b[12];e=a[4]*b[1]+a[5]*b[5]+a[6]*b[9]+a[7]*b[13];f=a[4]*b[2]+a[5]*b[6]+a[6]*b[10]+a[7]*b[14];
var n=a[4]*b[3]+a[5]*b[7]+a[6]*b[11]+a[7]*b[15],h=a[8]*b[0]+a[9]*b[4]+a[10]*b[8]+a[11]*b[12],l=a[8]*b[1]+a[9]*b[5]+a[10]*b[9]+a[11]*b[13],m=a[8]*b[2]+a[9]*b[6]+a[10]*b[10]+a[11]*b[14],G=a[8]*b[3]+a[9]*b[7]+a[10]*b[11]+a[11]*b[15],y=a[12]*b[0]+a[13]*b[4]+a[14]*b[8]+a[15]*b[12],v=a[12]*b[1]+a[13]*b[5]+a[14]*b[9]+a[15]*b[13],K=a[12]*b[2]+a[13]*b[6]+a[14]*b[10]+a[15]*b[14],U=a[12]*b[3]+a[13]*b[7]+a[14]*b[11]+a[15]*b[15];a[0]=a[0]*b[0]+a[1]*b[4]+a[2]*b[8]+a[3]*b[12];a[4]=k;a[8]=h;a[12]=y;a[1]=c;a[5]=e;
a[9]=l;a[13]=v;a[2]=g;a[6]=f;a[10]=m;a[14]=K;a[3]=d;a[7]=n;a[11]=G;a[15]=U}return this.projectionMatrix},__class__:sf});var Ob={__properties__:{set_a:"set_a",get_a:"get_a",set_b:"set_b",get_b:"get_b",set_g:"set_g",get_g:"get_g",set_r:"set_r",get_r:"get_r"},_new:function(a){if(null==a||16!=a.length)a=Ob.sWhiteArray,a=null!=a?new Float32Array(a):null;return a},set_r:function(a,b){return a[0]=b},set_g:function(a,b){return a[1]=b},set_b:function(a,b){return a[2]=b},set_a:function(a,b){return a[3]=b},
get_r:function(a){return a[0]},get_g:function(a){return a[1]},get_b:function(a){return a[2]},get_a:function(a){return a[3]}},Hd=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.a=a;this.b=b;this.c=c;this.d=d};h["system.gfx.math.Plane3D"]=Hd;Hd.__name__="system.gfx.math.Plane3D";Hd.prototype={__class__:Hd};var ja=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.z=c;this.w=d};h["system.gfx.math.V3D"]=ja;ja.__name__=
"system.gfx.math.V3D";ja.CROSS=function(a,b,c){var d=b.x,e=b.y;b=b.z;var g=c.x,k=c.y;c=c.z;a.x=e*c-b*k;a.y=b*g-d*c;a.z=d*k-e*g;return a};ja.SUB=function(a,b,c){a.x=b.x-c.x;a.y=b.y-c.y;a.z=b.z-c.z;return a};ja.SCALE=function(a,b,c){a.x=b.x*c;a.y=b.y*c;a.z=b.z*c;return a};ja.MAD=function(a,b,c,d){a.x=b.x+c.x*d;a.y=b.y+c.y*d;a.z=b.z+c.z*d;return a};ja.LERP=function(a,b,c,d){var e=1-d;a.x=b.x*e+c.x*d;a.y=b.y*e+c.y*d;a.z=b.z*e+c.z*d;return a};ja.ADD=function(a,b,c){a.x=b.x+c.x;a.y=b.y+c.y;a.z=b.z+c.z;
return a};ja.prototype={__class__:ja};var ui=function(a,b){Ra.call(this);this.mMeshData=a;this.mMeshRenderer=null!=b?b:p.sDefaultMeshRenderer};h["system.gfx.mesh.Mesh"]=ui;ui.__name__="system.gfx.mesh.Mesh";ui.__super__=Ra;ui.prototype=m(Ra.prototype,{draw:function(){this.renderMeshData(this.mMeshData)},getRenderer:function(){switch(p.sCurrentView.renderPass._hx_index){case 0:return this.mMeshRenderer;case 1:return p.sDefaultShadowMeshRenderer}},renderMeshData:function(a){this.getRenderer().renderMeshData(a,
this);var b=0;for(a=a.subMeshData;b<a.length;){var c=a[b];++b;this.renderMeshData(c)}},__class__:ui});var vi=function(){this.subMeshData=[];this.vertexBuffer=this.indexBuffer=null};h["system.gfx.mesh.MeshData"]=vi;vi.__name__="system.gfx.mesh.MeshData";vi.__super__=Qa;vi.prototype=m(Qa.prototype,{__class__:vi});var $d=function(){this.mXEventListener=null};h["system.gfx.mesh.MeshLoader"]=$d;$d.__name__="system.gfx.mesh.MeshLoader";$d.__super__=T;$d.prototype=m(T.prototype,{__class__:$d});var wi=function(){this.mXEventListener=
null};h["system.gfx.mesh.MeshLoader3DS"]=wi;wi.__name__="system.gfx.mesh.MeshLoader3DS";wi.__super__=$d;wi.prototype=m($d.prototype,{__class__:wi});var xi=function(){this.mXEventListener=null};h["system.gfx.mesh.MeshLoaderObj"]=xi;xi.__name__="system.gfx.mesh.MeshLoaderObj";xi.__super__=$d;xi.prototype=m($d.prototype,{__class__:xi});var Ii=function(){this.shininess=16;this.specular=new ja(.1,.1,.1,0);this.diffuse=new ja(.7,.7,.7,0);this.ambient=new ja(.3,.3,.3,0)};h["system.gfx.mesh.MeshMaterial"]=
Ii;Ii.__name__="system.gfx.mesh.MeshMaterial";Ii.prototype={__class__:Ii};var Ji=function(){};h["system.gfx.mesh.MeshMaterialMap"]=Ji;Ji.__name__="system.gfx.mesh.MeshMaterialMap";Ji.prototype={__class__:Ji};var we=function(){null==this.shader&&this.createShader()};h["system.gfx.mesh.MeshRenderer"]=we;we.__name__="system.gfx.mesh.MeshRenderer";we.__interfaces__=[Va];we.prototype={createShader:function(){this.shader=new yb("\r\n\t\t\tattribute vec3 aVertexPosition;\r\n\t\t\tattribute vec2 aTexCoord;\r\n\t\t\tattribute vec3 aNormal;\r\n\t\t\t//attribute vec3 aTangent;\r\n\t\t\t//attribute vec3 aBiTangent;\r\n\t\t\t\t\t\t\r\n\t\t\tuniform mat4  uViewProjection;\r\n\t\t\tuniform mat4  uModel;\r\n\t\t\tuniform float uFar;\r\n\t\t\tuniform vec4  uFogSettings;\r\n\t\t\tuniform vec4  uFogColor;\r\n\t\t\tuniform vec4  uEye;\t\t\t\t\t\t\t\t\r\n\t\t\tuniform mat4  uShadowMVP;\r\n\t\t\t\r\n\t\t\tvarying vec2 vTexCoord;\r\n\t\t\tvarying vec3 vTexCoordShadow;\r\n\t\t\tvarying vec3 vPos;\t\t\r\n\t\t\tvarying vec3 vNormal;\t\t\r\n\t\t\t//varying mat3 vTangentSpace;\t\t\t\r\n\t\t\tvarying vec4 vFog;\r\n\t\t\tvarying vec3 vEye;\r\n\t\t\t\r\n\t\t\tvoid main (void)\r\n\t\t\t{\t\t\t\t\r\n\t\t\t\tvec4 pos = vec4( aVertexPosition, 1.0 ) * uModel;\r\n\t\t\t\tvec4 projectedPos = uViewProjection * pos;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tvPos = pos.xyz;\r\n\t\t\t\tvTexCoord = aTexCoord;\t\t\t\t\r\n\t\t\t\t//vTangentSpace = mat3( aBiTangent, aNormal, aTangent)*mat3(uModel)\r\n\t\t\t\tvNormal = aNormal*mat3(uModel);\r\n\t\t\t\tvFog = vec4( uFogColor.rgb, clamp( ( projectedPos.z - uFogSettings.y ) / ( uFogSettings.x - uFogSettings.y ) , 0.0, 1.0 ) );\r\n\t\t\t\tvEye = normalize( pos.xyz - uEye.xyz );\r\n\t\t\t\tvTexCoordShadow = ( uShadowMVP * pos ).xyz;\r\n\t\t\t\t\r\n\t\t\t\tgl_Position = projectedPos;\r\n\t\t\t}\t\t\t\r\n\t\t",
"\r\n\t\t\tvarying vec3 vPos;\r\n\t\t\tvarying vec2 vTexCoord;\r\n\t\t\tvarying vec3 vTexCoordShadow;\r\n\t\t\tvarying vec4 vFog;\r\n\t\t\tvarying vec3 vEye;\r\n\t\t\tvarying vec3 vNormal;\r\n\t\t\t//varying mat3 vTangentSpace;\t\t\r\n\t\t\t\r\n\t\t\tuniform sampler2D uTex0;\r\n\t\t\tuniform sampler2D uNormalMap0;\r\n\t\t\tuniform sampler2D uTexShadow;\r\n\t\t\tuniform vec4 uMaterial4f;\r\n\t\t\tuniform vec4 uAmbient4f;\r\n\t\t\tuniform vec4 uDiffuse4f;\r\n\t\t\tuniform vec4 uSpecular4f;\r\n\t\t\tuniform float uShininess1f;\r\n\t\t\tuniform vec4 uLight;\t\t\t\r\n\t\t\tuniform float uShadowFar;\r\n\t\t\t\r\n\t\t\t"+
Eh.decodeFloat+"\r\n\t\t\t\r\n\t\t\tvoid main (void) \r\n\t\t\t{\r\n\t\t\t\tvec4 tex4f = texture2D( uTex0, vTexCoord );\t\t\t\t\r\n\t\t\t\t//vec3 normal = normalize(( (texture2D( uNormalMap0, vTexCoord ).xzy * 2.0 - 1.0) ) * vTangentSpace);\r\n\t\t\t\tvec3 normal = vNormal;\r\n\t\t\t\tvec3 light = uLight.xyz;\r\n\t\t\t\tvec3 eyeReflect = reflect( vEye, normal );\t\r\n\t\t\t\t\r\n\t\t\t\tfloat visibility = 1.0;\r\n\t\t\t\tfloat texShadowZ = decodeFloat( texture2D( uTexShadow, ( vTexCoordShadow.xy/* / shadowCoords.z*/ ) * 0.5 + 0.5 )) + 0.0000;\r\n\t\t\t\tfloat shadowZ  = vTexCoordShadow.z;// / uShadowFar;\r\n\t\t\t\tif ( texShadowZ < shadowZ )\r\n\t\t\t\t{\r\n\t\t\t\t\tvisibility = 0.3;\r\n\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tvec4 specularAdd = uSpecular4f * pow( clamp( dot( eyeReflect, uLight.xyz), 0.0, 1.0), uShininess1f );\r\n\t\t\t\tvec4 result = ( tex4f * ( uAmbient4f + clamp( uDiffuse4f * dot( light, normal ), 0.0, visibility) ) + specularAdd * visibility ); \r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\tgl_FragColor = mix( result, vec4( vFog.rgb, 0.0 ), vFog.w );\r\n\t\t\t\t//gl_FragColor = vec4( normal, 0.0 );\r\n\t\t\t}\r\n\t\t")},
renderMeshData:function(a,b){b=a.indexBuffer;var c=a.vertexBuffer,d=p.sCurrentView;if(null!=b&&null!=a.material.textureMap){var e=this.shader;p.gl.depthFunc(p.gl.LESS);e.mVertexBuffer=c;e.mIndexBuffer=b;p.gl.useProgram(e.mProgram);c.apply();b.apply();e.vertexAttribPointer("aVertexPosition",3,p.gl.FLOAT,0);var g=d.camera.far;c=p.gl;var k=e.mUniformLookUp.h.uFar;if(null==k){var f=e.mUniformLookUp;k=p.gl.getUniformLocation(e.mProgram,"uFar");f.h.hasOwnProperty("uFar")&&E.remove(f.mKeys,"uFar");f.h.uFar=
k;f.mKeys.push("uFar")}c.uniform1f(k,g);g=d.camera.get_viewProjection();c=p.gl;k=e.mUniformLookUp.h.uViewProjection;null==k&&(f=e.mUniformLookUp,k=p.gl.getUniformLocation(e.mProgram,"uViewProjection"),f.h.hasOwnProperty("uViewProjection")&&E.remove(f.mKeys,"uViewProjection"),f.h.uViewProjection=k,f.mKeys.push("uViewProjection"));ob.uniformMatrix4fv(c,k,!1,g);g=d.translationMatrix;c=p.gl;k=e.mUniformLookUp.h.uModel;null==k&&(f=e.mUniformLookUp,k=p.gl.getUniformLocation(e.mProgram,"uModel"),f.h.hasOwnProperty("uModel")&&
E.remove(f.mKeys,"uModel"),f.h.uModel=k,f.mKeys.push("uModel"));ob.uniformMatrix4fv(c,k,!1,g);p.gl.cullFace(p.gl.BACK);e.vertexAttribPointer("aTexCoord",2,p.gl.FLOAT,12);e.vertexAttribPointer("aNormal",3,p.gl.FLOAT,20);null!=a.tangents&&(e.vertexAttribPointer("aTangent",3,p.gl.FLOAT,32),e.vertexAttribPointer("aBiTangent",3,p.gl.FLOAT,44),g=a.material.textureMap.normalMap,c=p.gl,k=e.mUniformLookUp.h.uNormalMap0,null==k&&(f=e.mUniformLookUp,k=p.gl.getUniformLocation(e.mProgram,"uNormalMap0"),f.h.hasOwnProperty("uNormalMap0")&&
E.remove(f.mKeys,"uNormalMap0"),f.h.uNormalMap0=k,f.mKeys.push("uNormalMap0")),c.uniform1i(k,1),null!=g?g.apply(1):p.sDefaultTex.apply(1));g=a.material.textureMap.tex;c=p.gl;k=e.mUniformLookUp.h.uTex0;null==k&&(f=e.mUniformLookUp,k=p.gl.getUniformLocation(e.mProgram,"uTex0"),f.h.hasOwnProperty("uTex0")&&E.remove(f.mKeys,"uTex0"),f.h.uTex0=k,f.mKeys.push("uTex0"));c.uniform1i(k,0);null!=g?g.apply(0):p.sDefaultTex.apply(0);g=a.material.ambient;c=p.gl;k=e.mUniformLookUp.h.uAmbient4f;null==k&&(f=e.mUniformLookUp,
k=p.gl.getUniformLocation(e.mProgram,"uAmbient4f"),f.h.hasOwnProperty("uAmbient4f")&&E.remove(f.mKeys,"uAmbient4f"),f.h.uAmbient4f=k,f.mKeys.push("uAmbient4f"));c.uniform4f(k,g.x,g.y,g.z,g.w);g=a.material.diffuse;c=p.gl;k=e.mUniformLookUp.h.uDiffuse4f;null==k&&(f=e.mUniformLookUp,k=p.gl.getUniformLocation(e.mProgram,"uDiffuse4f"),f.h.hasOwnProperty("uDiffuse4f")&&E.remove(f.mKeys,"uDiffuse4f"),f.h.uDiffuse4f=k,f.mKeys.push("uDiffuse4f"));c.uniform4f(k,g.x,g.y,g.z,g.w);g=a.material.specular;c=p.gl;
k=e.mUniformLookUp.h.uSpecular4f;null==k&&(f=e.mUniformLookUp,k=p.gl.getUniformLocation(e.mProgram,"uSpecular4f"),f.h.hasOwnProperty("uSpecular4f")&&E.remove(f.mKeys,"uSpecular4f"),f.h.uSpecular4f=k,f.mKeys.push("uSpecular4f"));c.uniform4f(k,g.x,g.y,g.z,g.w);g=a.material.shininess;c=p.gl;k=e.mUniformLookUp.h.uShininess1f;null==k&&(f=e.mUniformLookUp,k=p.gl.getUniformLocation(e.mProgram,"uShininess1f"),f.h.hasOwnProperty("uShininess1f")&&E.remove(f.mKeys,"uShininess1f"),f.h.uShininess1f=k,f.mKeys.push("uShininess1f"));
c.uniform1f(k,g);g=d.fogSettings;c=p.gl;k=e.mUniformLookUp.h.uFogSettings;null==k&&(f=e.mUniformLookUp,k=p.gl.getUniformLocation(e.mProgram,"uFogSettings"),f.h.hasOwnProperty("uFogSettings")&&E.remove(f.mKeys,"uFogSettings"),f.h.uFogSettings=k,f.mKeys.push("uFogSettings"));c.uniform4f(k,g.x,g.y,g.z,g.w);g=d.fogColor;c=p.gl;k=e.mUniformLookUp.h.uFogColor;null==k&&(f=e.mUniformLookUp,k=p.gl.getUniformLocation(e.mProgram,"uFogColor"),f.h.hasOwnProperty("uFogColor")&&E.remove(f.mKeys,"uFogColor"),f.h.uFogColor=
k,f.mKeys.push("uFogColor"));c.uniform4f(k,g.x,g.y,g.z,g.w);g=d.camera.pos;c=p.gl;k=e.mUniformLookUp.h.uEye;null==k&&(f=e.mUniformLookUp,k=p.gl.getUniformLocation(e.mProgram,"uEye"),f.h.hasOwnProperty("uEye")&&E.remove(f.mKeys,"uEye"),f.h.uEye=k,f.mKeys.push("uEye"));c.uniform4f(k,g.x,g.y,g.z,g.w);g=d.light;c=p.gl;k=e.mUniformLookUp.h.uLight;null==k&&(f=e.mUniformLookUp,k=p.gl.getUniformLocation(e.mProgram,"uLight"),f.h.hasOwnProperty("uLight")&&E.remove(f.mKeys,"uLight"),f.h.uLight=k,f.mKeys.push("uLight"));
c.uniform4f(k,g.x,g.y,g.z,g.w);null!=d.shadowView&&(g=d.shadowView.camera.get_viewProjection(),c=p.gl,k=e.mUniformLookUp.h.uShadowMVP,null==k&&(f=e.mUniformLookUp,k=p.gl.getUniformLocation(e.mProgram,"uShadowMVP"),f.h.hasOwnProperty("uShadowMVP")&&E.remove(f.mKeys,"uShadowMVP"),f.h.uShadowMVP=k,f.mKeys.push("uShadowMVP")),ob.uniformMatrix4fv(c,k,!1,g),g=d.shadowView.camera.far,c=p.gl,k=e.mUniformLookUp.h.uShadowFar,null==k&&(f=e.mUniformLookUp,k=p.gl.getUniformLocation(e.mProgram,"uShadowFar"),f.h.hasOwnProperty("uShadowFar")&&
E.remove(f.mKeys,"uShadowFar"),f.h.uShadowFar=k,f.mKeys.push("uShadowFar")),c.uniform1f(k,g),g=d.shadowView.renderTarget,c=p.gl,k=e.mUniformLookUp.h.uTexShadow,null==k&&(f=e.mUniformLookUp,k=p.gl.getUniformLocation(e.mProgram,"uTexShadow"),f.h.hasOwnProperty("uTexShadow")&&E.remove(f.mKeys,"uTexShadow"),f.h.uTexShadow=k,f.mKeys.push("uTexShadow")),c.uniform1i(k,2),null!=g?g.apply(2):p.sDefaultTex.apply(2));p.gl.drawElements(p.gl.TRIANGLES,b.entries*b.stride,p.gl.UNSIGNED_SHORT,0);p.gl.cullFace(p.gl.BACK)}},
dispose:function(){},__class__:we};var yi=function(){we.call(this)};h["system.gfx.mesh.MeshShadowRenderer"]=yi;yi.__name__="system.gfx.mesh.MeshShadowRenderer";yi.__super__=we;yi.prototype=m(we.prototype,{createShader:function(){this.shader=new yb("\r\n\t\t\tattribute vec3 aVertexPosition;\r\n\t\t\t\r\n\t\t\tuniform mat4  uViewProjection;\r\n\t\t\tuniform mat4  uModel;\r\n\t\t\tuniform float uFar;\r\n\t\t\t\r\n\t\t\tvarying float vDepth;\r\n\t\t\t\r\n\t\t\tvoid main (void)\r\n\t\t\t{\t\t\t\t\r\n\t\t\t\tvec4 pos = uViewProjection * ( vec4( aVertexPosition, 1.0 ) * uModel );\t\t\t\t\r\n\t\t\t\tvDepth = pos.z;// / uFar;\r\n\t\t\t\t\r\n\t\t\t\tgl_Position = pos;\r\n\t\t\t}\t\t\t\r\n\t\t",
"\r\n\t\t\tvarying float vDepth;\r\n\t\t\t\r\n\t\t\t"+Eh.encodeFloat+"\r\n\t\t\t\t\t\t\r\n\t\t\tvoid main (void) \r\n\t\t\t{\r\n\t\t\t\tgl_FragColor = encodeFloat( vDepth );\r\n\t\t\t}\r\n\t\t")},renderMeshData:function(a,b){b=a.indexBuffer;var c=a.vertexBuffer,d=p.sCurrentView;if(null!=b&&null!=a.material.textureMap){a=this.shader;p.gl.depthFunc(p.gl.LESS);a.mVertexBuffer=c;a.mIndexBuffer=b;p.gl.useProgram(a.mProgram);c.apply();b.apply();a.vertexAttribPointer("aVertexPosition",3,p.gl.FLOAT,0);var e=
d.camera.far;c=p.gl;var g=a.mUniformLookUp.h.uFar;if(null==g){var k=a.mUniformLookUp;g=p.gl.getUniformLocation(a.mProgram,"uFar");k.h.hasOwnProperty("uFar")&&E.remove(k.mKeys,"uFar");k.h.uFar=g;k.mKeys.push("uFar")}c.uniform1f(g,e);e=d.camera.get_viewProjection();c=p.gl;g=a.mUniformLookUp.h.uViewProjection;null==g&&(k=a.mUniformLookUp,g=p.gl.getUniformLocation(a.mProgram,"uViewProjection"),k.h.hasOwnProperty("uViewProjection")&&E.remove(k.mKeys,"uViewProjection"),k.h.uViewProjection=g,k.mKeys.push("uViewProjection"));
ob.uniformMatrix4fv(c,g,!1,e);e=d.translationMatrix;c=p.gl;g=a.mUniformLookUp.h.uModel;null==g&&(k=a.mUniformLookUp,g=p.gl.getUniformLocation(a.mProgram,"uModel"),k.h.hasOwnProperty("uModel")&&E.remove(k.mKeys,"uModel"),k.h.uModel=g,k.mKeys.push("uModel"));ob.uniformMatrix4fv(c,g,!1,e);p.gl.cullFace(p.gl.FRONT);p.gl.drawElements(p.gl.TRIANGLES,b.entries*b.stride,p.gl.UNSIGNED_SHORT,0);p.gl.cullFace(p.gl.BACK)}},__class__:yi});var Fh=function(){};h["system.utils.clock.ISecondTickObject"]=Fh;Fh.__name__=
"system.utils.clock.ISecondTickObject";Fh.__isInterface__=!0;Fh.prototype={__class__:Fh};var H=function(){this.mLastUpdateTime=this.mLastTickTime=0;this.mTickExecutor=[];this.mTickObjects=[];this.mClockExecutor=[];this.mClockObjects=[];this.mXEventListener=null};h["system.utils.clock.MasterClock"]=H;H.__name__="system.utils.clock.MasterClock";H.__properties__={get_now:"get_now",get_instance:"get_instance"};H.get_instance=function(){null==H.sInstance&&(H.sInstance=new H);return H.sInstance};H.get_now=
function(){null==H.sNowDate&&(H.sNowDate=new Date);return H.sNowDate};H.__super__=T;H.prototype=m(T.prototype,{addClockObject:function(a){this.mClockObjects.unshift(a)},removeClockObject:function(a){E.remove(this.mClockObjects,a)&&E.remove(this.mClockExecutor,a)},addTickObject:function(a){this.mTickObjects.unshift(a)},update:function(a){Rb.update();H.sNowDate=null;H.delta=a;H.timer+=a;this.mLastUpdateTime=H.timer;if(this.mLastTickTime+.9<=H.timer){this.mLastTickTime=H.timer;var b=this.mTickObjects.length;
for(a=0;a<b;){var c=a++;this.mTickExecutor.push(this.mTickObjects[c])}for(;0<this.mTickExecutor.length;)this.mTickExecutor.pop().secondlyTick();this.dispatchSimpleXEvent("tickEvent")}b=this.mClockObjects.length;for(a=0;a<b;)c=a++,this.mClockExecutor.push(this.mClockObjects[c]);for(;0<this.mClockExecutor.length;)this.mClockExecutor.pop().update();this.dispatchSimpleXEvent("updateEvent",H.delta)},__class__:H});var p=function(){this.mClipStack=[];this.mDepthBufferStack=[];this.mFrameBufferStack=[];this.clipRectangle=
null;this.flip=!1;this.clearColor=new ja;this.views=[];this.landscape=!0;this.ratio=1;this.webGLCompressedTextureS3TC=null;this.version=this.renderer="";this.maxTextureSize=this.maxCubeTextureSize=this.maxRenderBufferSize=1;this.width=this.height=10;this.mXEventListener=null;H.get_instance().addTickObject(this)};h["system.gfx.render.OpenGLManager"]=p;p.__name__="system.gfx.render.OpenGLManager";p.__interfaces__=[Fh];p.__super__=T;p.prototype=m(T.prototype,{secondlyTick:function(){},set_glContext:function(a){this.get_glContext()!=
a&&(p.gl=a,p.gl.clearColor(this.clearColor.x,this.clearColor.y,this.clearColor.z,this.clearColor.w),p.gl.disable(p.gl.BLEND),p.gl.enable(p.gl.DEPTH_TEST),p.gl.enable(p.gl.CULL_FACE),this.currentFramebuffer=this.defaultFramebuffer=p.gl.getParameter(p.gl.FRAMEBUFFER_BINDING),this.currentDepthbuffer=this.defaultDepthbuffer=p.gl.getParameter(p.gl.RENDERBUFFER_BINDING),p.sDefaultTex=new Za(new Ya(null,0,0,32,32,0)),this.version=p.gl.getParameter(p.gl.VERSION),this.renderer=p.gl.getParameter(p.gl.RENDERER),
this.maxTextureSize=p.gl.getParameter(p.gl.MAX_TEXTURE_SIZE),this.maxCubeTextureSize=p.gl.getParameter(p.gl.MAX_RENDERBUFFER_SIZE),this.maxRenderBufferSize=p.gl.getParameter(p.gl.MAX_CUBE_MAP_TEXTURE_SIZE),a=p.gl.getExtension("NVX_gpu_memory_info"),null!=a&&(p.__glMemoryTotalAvailable=a.GPU_MEMORY_INFO_TOTAL_AVAILABLE_MEMORY_NVX,p.__glMemoryCurrentAvailable=a.GPU_MEMORY_INFO_CURRENT_AVAILABLE_VIDMEM_NVX),this.webGLCompressedTextureS3TC=p.gl.getExtension("WEBGL_compressed_texture_s3tc"));return this.get_glContext()},
get_glContext:function(){return p.gl},setClearColor:function(a,b,c,d){var e=this.clearColor;null==d&&(d=1);e.x=a;e.y=b;e.z=c;e.w=d;p.gl.clearColor(this.clearColor.x,this.clearColor.y,this.clearColor.z,this.clearColor.w)},setFramebuffer:function(a){this.currentFramebuffer!=a&&(p.gl.bindFramebuffer(p.gl.FRAMEBUFFER,a),this.currentFramebuffer=a)},setDepthbuffer:function(a){this.currentDepthbuffer!=a&&(p.gl.bindRenderbuffer(p.gl.RENDERBUFFER,a),this.currentDepthbuffer=a)},setDefaultRenderTarget:function(){this.setFramebuffer(this.defaultFramebuffer);
p.gl.viewport(0,0,this.width,this.height)},enableBlend:function(a){null==a&&(a=!0);a?p.gl.enable(p.gl.BLEND):p.gl.disable(p.gl.BLEND)},disableDepthTest:function(){p.gl.disable(p.gl.DEPTH_TEST)},setWindow:function(a){if(null!=a){var b=a.__width*a.__scale|0,c=a.__height*a.__scale|0;if(this.width!=b||this.height!=c){var d=this.landscape;this.width=b;this.height=c;this.ratio=this.width/this.height;this.landscape=1<=p.instance.ratio;p.window=a;d!=this.landscape&&this.dispatchSimpleXEvent("ORIENTATION_CHANGED");
this.dispatchSimpleXEvent("SIZE_CHANGED")}}},preDraw:function(){this.setDefaultRenderTarget();p.gl.clear(p.gl.COLOR_BUFFER_BIT|p.gl.DEPTH_BUFFER_BIT)},render:function(){for(var a=0,b=this.views;a<b.length;){var c=b[a];++a;p.sCurrentView=c;c.render()}},update:function(){for(var a=0,b=this.views;a<b.length;){var c=b[a];++a;p.sCurrentView=c;c.update()}},__class__:p,__properties__:{set_glContext:"set_glContext",get_glContext:"get_glContext"}});var jc=function(a){this.modelMatrix=Q._new();Ra.call(this);
this.texture=a;this.createShader();null!=jc.sIndexBuffer&&null!=jc.sVertexBuffer||this.createBuffer()};h["system.gfx.render.Presenter"]=jc;jc.__name__="system.gfx.render.Presenter";jc.__super__=Ra;jc.prototype=m(Ra.prototype,{createBuffer:function(){jc.sIndexBuffer=Cb.getIB(2);jc.sVertexBuffer=new Jb(4,5);jc.sVertexBuffer.addEntry(4);var a=jc.sVertexBuffer.data;a.floatArray[a.position>>>2]=-1;a.position+=4;a.floatArray[a.position>>>2]=-1;a.position+=4;a.floatArray[a.position>>>2]=0;a.position+=4;
a.floatArray[a.position>>>2]=0;a.position+=4;a.floatArray[a.position>>>2]=0;a.position+=4;a.floatArray[a.position>>>2]=1;a.position+=4;a.floatArray[a.position>>>2]=-1;a.position+=4;a.floatArray[a.position>>>2]=0;a.position+=4;a.floatArray[a.position>>>2]=1;a.position+=4;a.floatArray[a.position>>>2]=0;a.position+=4;a.floatArray[a.position>>>2]=-1;a.position+=4;a.floatArray[a.position>>>2]=1;a.position+=4;a.floatArray[a.position>>>2]=0;a.position+=4;a.floatArray[a.position>>>2]=0;a.position+=4;a.floatArray[a.position>>>
2]=1;a.position+=4;a.floatArray[a.position>>>2]=1;a.position+=4;a.floatArray[a.position>>>2]=1;a.position+=4;a.floatArray[a.position>>>2]=0;a.position+=4;a.floatArray[a.position>>>2]=1;a.position+=4;a.floatArray[a.position>>>2]=1;a.position+=4;jc.sVertexBuffer.upload()},createShader:function(){this.mShader=new yb("attribute vec3 aVertexPosition;attribute vec2 aTexCoord;uniform mat4 uModel;uniform mat4 uTexModel;uniform vec4 uOffset;varying vec2 vTexCoord;void main (void){vTexCoord = ( vec4( aTexCoord, 0.0, 1.0 ) * uTexModel ).xy;gl_Position = vec4( aVertexPosition + uOffset.xyz, 1.0 ) * uModel;}",
"varying vec2 vTexCoord;uniform sampler2D uTex0;void main (void) {vec4 tex4f = texture2D( uTex0, vTexCoord );gl_FragColor = tex4f;}")},setupShader:function(){},draw:function(){p.gl.depthFunc(p.gl.LESS);p.gl.disable(p.gl.CULL_FACE);var a=this.mShader,b=jc.sVertexBuffer,c=jc.sIndexBuffer;a.mVertexBuffer=b;a.mIndexBuffer=c;p.gl.useProgram(a.mProgram);b.apply();c.apply();this.setupShader();a=this.mShader;var d=this.texture.texCoordMatrix;b=p.gl;c=a.mUniformLookUp.h.uTexModel;if(null==c){var e=a.mUniformLookUp;
c=p.gl.getUniformLocation(a.mProgram,"uTexModel");e.h.hasOwnProperty("uTexModel")&&E.remove(e.mKeys,"uTexModel");e.h.uTexModel=c;e.mKeys.push("uTexModel")}ob.uniformMatrix4fv(b,c,!1,d);a=this.mShader;d=this.modelMatrix;b=p.gl;c=a.mUniformLookUp.h.uModel;null==c&&(e=a.mUniformLookUp,c=p.gl.getUniformLocation(a.mProgram,"uModel"),e.h.hasOwnProperty("uModel")&&E.remove(e.mKeys,"uModel"),e.h.uModel=c,e.mKeys.push("uModel"));ob.uniformMatrix4fv(b,c,!1,d);a=this.mShader;d=-.5/this.texture.width;var g=-.5/
this.texture.height;b=p.gl;c=a.mUniformLookUp.h.uOffset;null==c&&(e=a.mUniformLookUp,c=p.gl.getUniformLocation(a.mProgram,"uOffset"),e.h.hasOwnProperty("uOffset")&&E.remove(e.mKeys,"uOffset"),e.h.uOffset=c,e.mKeys.push("uOffset"));b.uniform4f(c,d,g,0,0);this.mShader.vertexAttribPointer("aVertexPosition",3,p.gl.FLOAT,0);this.mShader.vertexAttribPointer("aTexCoord",2,p.gl.FLOAT,12);a=this.mShader;d=this.texture;b=p.gl;c=a.mUniformLookUp.h.uTex0;null==c&&(e=a.mUniformLookUp,c=p.gl.getUniformLocation(a.mProgram,
"uTex0"),e.h.hasOwnProperty("uTex0")&&E.remove(e.mKeys,"uTex0"),e.h.uTex0=c,e.mKeys.push("uTex0"));b.uniform1i(c,0);null!=d?d.apply(0):p.sDefaultTex.apply(0);p.gl.drawElements(p.gl.TRIANGLES,2*jc.sIndexBuffer.stride,p.gl.UNSIGNED_SHORT,0);p.gl.enable(p.gl.CULL_FACE)},__class__:jc});var Ci=K["system.gfx.render.RenderPass"]={__ename__:"system.gfx.render.RenderPass",__constructs__:null,STANDARD:{_hx_name:"STANDARD",_hx_index:0,__enum__:"system.gfx.render.RenderPass",toString:f},SHADOW:{_hx_name:"SHADOW",
_hx_index:1,__enum__:"system.gfx.render.RenderPass",toString:f}};Ci.__constructs__=[Ci.STANDARD,Ci.SHADOW];var yb=function(a,b){this.mAttribLookUp=new qb;this.mUniformLookUp=new qb;this.createShader(a,b)};h["system.gfx.shader.ShaderProgram"]=yb;yb.__name__="system.gfx.shader.ShaderProgram";yb.__interfaces__=[Va];yb.prototype={createShader:function(a,b){this.mProgram=Zi.fromSources(p.gl,a,"precision mediump float;"+b)},vertexAttribPointer:function(a,b,c,d,e){null==e&&(e=!1);var g=p.gl,k=this.mAttribLookUp.h[a];
if(null==k){k=p.gl.getAttribLocation(this.mProgram,a);var f=this.mAttribLookUp;f.h.hasOwnProperty(a)&&E.remove(f.mKeys,a);f.h[a]=k;f.mKeys.push(a)}a=k;p.gl.enableVertexAttribArray(a);g.vertexAttribPointer(a,b,c,e,4*this.mVertexBuffer.stride,d)},dispose:function(){null!=this.mProgram&&(p.gl.deleteProgram(this.mProgram),this.mProgram=null);this.mUniformLookUp=this.mAttribLookUp=null},__class__:yb};var Eh=function(){};h["system.gfx.shader.ShaderUtils"]=Eh;Eh.__name__="system.gfx.shader.ShaderUtils";
var Vc=function(){this.useCounter=this.lastTimeUsed=0;this.ready=!1;this.texCoordMatrix=Q._new();this.rectangle=new Db(0,0,1,1);this.wrapS=this.wrapT=this.magFilter=this.minFilter=-1;this.compressed=!1;this.width=this.height=1;this.mXEventListener=null};h["system.gfx.texture.BaseTexture"]=Vc;Vc.__name__="system.gfx.texture.BaseTexture";Vc.__super__=T;Vc.prototype=m(T.prototype,{getStageEnum:function(a){switch(a){case 1:return p.gl.TEXTURE1;case 2:return p.gl.TEXTURE2;case 3:return p.gl.TEXTURE3;case 4:return p.gl.TEXTURE4;
case 5:return p.gl.TEXTURE5;case 6:return p.gl.TEXTURE6;case 7:return p.gl.TEXTURE7;default:return p.gl.TEXTURE0}},apply:function(a){this.lastTimeUsed=H.timer;++this.useCounter;p.gl.activeTexture(this.getStageEnum(a));p.gl.bindTexture(p.gl.TEXTURE_2D,this.mTexture);p.gl.texParameteri(p.gl.TEXTURE_2D,p.gl.TEXTURE_WRAP_S,-1==this.wrapS?p.gl.REPEAT:this.wrapS);p.gl.texParameteri(p.gl.TEXTURE_2D,p.gl.TEXTURE_WRAP_T,-1==this.wrapT?p.gl.REPEAT:this.wrapT);p.gl.texParameteri(p.gl.TEXTURE_2D,p.gl.TEXTURE_MAG_FILTER,
-1==this.magFilter?p.gl.LINEAR:this.magFilter);p.gl.texParameteri(p.gl.TEXTURE_2D,p.gl.TEXTURE_MIN_FILTER,-1==this.minFilter?p.gl.LINEAR:this.minFilter)},dispose:function(){this.texCoordMatrix=this.rectangle=null;null==this.mTexture&&(p.gl.deleteTexture(this.mTexture),this.mTexture=null);T.prototype.dispose.call(this)},__class__:Vc});var Gh=function(a,b,c){Vc.call(this);var d=p.instance;d.mFrameBufferStack.push(d.currentFramebuffer);d=p.instance;d.mDepthBufferStack.push(d.currentDepthbuffer);this.width=
Math.min(a,4096)|0;this.height=Math.min(b,4096)|0;this.rectangle.setTo(0,0,a,b);this.magFilter=this.minFilter=p.gl.LINEAR;this.wrapS=this.wrapT=p.gl.CLAMP_TO_EDGE;this.mTexture=p.gl.createTexture();p.gl.bindTexture(p.gl.TEXTURE_2D,this.mTexture);ob.texImage2D(p.gl,p.gl.TEXTURE_2D,0,p.gl.RGBA,this.width,this.height,0,p.gl.RGBA,p.gl.UNSIGNED_BYTE,null);this.mFramebuffer=p.gl.createFramebuffer();p.instance.setFramebuffer(this.mFramebuffer);p.gl.framebufferTexture2D(p.gl.FRAMEBUFFER,p.gl.COLOR_ATTACHMENT0,
p.gl.TEXTURE_2D,this.mTexture,0);c&&(this.mDepthBuffer=p.gl.createRenderbuffer(),p.gl.bindRenderbuffer(p.gl.RENDERBUFFER,this.mDepthBuffer),p.gl.renderbufferStorage(p.gl.RENDERBUFFER,p.gl.DEPTH_COMPONENT16,this.width,this.height),p.gl.framebufferRenderbuffer(p.gl.FRAMEBUFFER,p.gl.DEPTH_ATTACHMENT,p.gl.RENDERBUFFER,this.mDepthBuffer));p.gl.clearColor(0,0,0,0);p.gl.clear(c?p.gl.COLOR_BUFFER_BIT|p.gl.DEPTH_BUFFER_BIT:p.gl.COLOR_BUFFER_BIT);d=p.instance;d.setDepthbuffer(d.mDepthBufferStack.pop());d=p.instance;
d.setFramebuffer(d.mFrameBufferStack.pop())};h["system.gfx.texture.RenderTarget"]=Gh;Gh.__name__="system.gfx.texture.RenderTarget";Gh.__super__=Vc;Gh.prototype=m(Vc.prototype,{dispose:function(){null!=this.mFramebuffer&&(p.instance.currentFramebuffer==this.mFramebuffer&&p.instance.setDefaultRenderTarget(),p.gl.deleteFramebuffer(this.mFramebuffer),this.mFramebuffer=null);null!=this.mDepthBuffer&&(p.instance.currentDepthbuffer==this.mDepthBuffer&&p.instance.setDepthbuffer(p.instance.currentDepthbuffer),
p.gl.deleteRenderbuffer(this.mDepthBuffer),this.mDepthBuffer=null);Vc.prototype.dispose.call(this)},__class__:Gh});var Za=function(a){this.name=null;var b=this;Vc.call(this);if(a instanceof Ya)this.create(L.__cast(a,Ya));else if("string"==typeof a)if(this.name=L.__cast(a,String),a=Za.getDimensions(this.name),null!=a&&(this.rectangle.width=this.width=a.width,this.rectangle.height=this.height=a.height),ea.isLocal(this.name,"IMAGE"))this.create(ea.getImage(this.name));else ea.loadImage(this.name).onComplete(function(a){b.create(a)}).onError(function(a){a=
b.name.toLowerCase();if(-1!=a.indexOf(".png")||-1!=a.indexOf(".jpg")||0==a.indexOf("http")){var c=window.document.createElement("img");c.crossOrigin="anonymous";c.onload=function(){b.create(Ya.fromImageElement(c))};c.onerror=function(){b.dispatchSimpleXEvent(Za.CANCEL)};c.src=b.name}else b.dispatchSimpleXEvent(Za.CANCEL)})};h["system.gfx.texture.Texture2D"]=Za;Za.__name__="system.gfx.texture.Texture2D";Za.getDimensions=function(a){if(null==Za.imageSizes){var b=ea.getText("assets.json");Za.imageSizes=
null!=b?JSON.parse(b):{}}return F.field(Za.imageSizes,a)};Za.getTexture=function(a){var b=Za.sTextures.h[a];if(null==b){b=new Za(a);var c=Za.sTextures;c.h.hasOwnProperty(a)&&E.remove(c.mKeys,a);c.h[a]=b;c.mKeys.push(a)}return b};Za.__super__=Vc;Za.prototype=m(Vc.prototype,{create:function(a){if(null!=this.rectangle){this.mTexture=p.gl.createTexture();var b=a;this.rectangle.copyFrom(a.get_rect());this.width=b.width;this.height=b.height;var c=b.width,d=b.height;c=d>c?d:c;0<c&&0==(c&c-1)&&b.width==b.height||
(c=ma.nextPowerOfTwo(c),b=new Ya(null,0,0,c,c),b.copyPixels(a,this.rectangle,new $e),this.width=this.height=c,a=this.texCoordMatrix,a[0]=1,a[4]=0,a[8]=0,a[12]=0,a[1]=0,a[5]=1,a[9]=0,a[13]=0,a[2]=0,a[6]=0,a[10]=1,a[14]=0,a[3]=0,a[7]=0,a[11]=0,a[15]=1,a=this.texCoordMatrix,c=this.rectangle.width/this.width,d=this.rectangle.height/this.height,a[0]*=c,a[1]*=d,a[2]=a[2],a[4]*=c,a[5]*=d,a[6]=a[6],a[8]*=c,a[9]*=d,a[10]=a[10],a[12]*=c,a[13]*=d,a[14]=a[14]);p.gl.bindTexture(p.gl.TEXTURE_2D,this.mTexture);
this.upload(b,0);this.ready=!0;this.dispatchSimpleXEvent(Za.READY)}},upload:function(a,b){null==b&&(b=0);null!=this.mTexture&&a instanceof Ya&&ob.texImage2D(p.gl,p.gl.TEXTURE_2D,b,p.gl.RGBA,p.gl.RGBA,p.gl.UNSIGNED_BYTE,a.get_src())},dispose:function(){Za.sTextures.remove(this.name);this.name=null;Vc.prototype.dispose.call(this)},__class__:Za});var B=function(){this.mScreenStack=[];this.mForeGround=null;this.initialAtlasSize=this.globalX=this.globalY=0;fa.call(this);B.instance=this;this.registerXEventListener(ca.get_instance(),
"DOWN_EVENT",l(this,this.onTouchEvent));this.registerXEventListener(ca.get_instance(),"UP_EVENT",l(this,this.onTouchEvent));this.registerXEventListener(ca.get_instance(),"MOVE_EVENT",l(this,this.onTouchEvent));this.registerXEventListener(ca.get_instance(),"SCROLL_EVENT",l(this,this.onTouchEvent))};h["system.gfx.ui.XRoot"]=B;B.__name__="system.gfx.ui.XRoot";B.mapToScreen=function(a){a.x/=B.SCREEN_WIDTH/p.instance.width*p.window.__scale;a.y/=B.SCREEN_HEIGHT/p.instance.height*p.window.__scale;return a};
B.__super__=fa;B.prototype=m(fa.prototype,{write:function(a){},transScreen:function(a){0<this.mScreenStack.length&&this.mScreenStack.pop().close();this.mScreenStack.push(a);this.addChild(a);this.registerXEventListener(a,"XEventDispatcher::dispose",l(this,this.onScreenDisposed))},addScreen:function(a,b){null==b&&(b=!0);b&&0<this.mScreenStack.length&&this.mScreenStack[this.mScreenStack.length-1].moveOut();this.mScreenStack.push(a);this.addChild(a);this.registerXEventListener(a,"XEventDispatcher::dispose",
l(this,this.onScreenDisposed));this.dispatchSimpleXEvent("XRoot::SCREEN_ADDED");return a},getFocus:function(){return 0<this.mScreenStack.length?this.mScreenStack[this.mScreenStack.length-1]:null},onScreenDisposed:function(a){a=L.__cast(a.target,fa);this.releaseXEventListener(a,"XEventDispatcher::dispose",l(this,this.onScreenDisposed));this.removeScreen(a)},removeScreen:function(a){E.remove(this.mScreenStack,a)&&(this.removeChild(a),0<this.mScreenStack.length&&this.mScreenStack[this.mScreenStack.length-
1].moveIn())},get_foreground:function(){if(null==this.mForeGround){var a=this.mForeGround=new fa;1!=a.absolute&&a.invalidate();a.absolute=!0;var b=a=this.mForeGround;1!=b.relativeHeight&&b.invalidate();b=b.relativeHeight=1;a.relativeWidth!=b&&a.invalidate();a.relativeWidth=b}return this.mForeGround},update:function(){fa.prototype.update.call(this);null!=this.mForeGround&&this.mForeGround.update()},render:function(){fa.prototype.render.call(this);null!=this.mForeGround&&this.mForeGround.render()},
onScreenSizeChanged:function(){this.calc();fa.prototype.onScreenSizeChanged.call(this)},onTouchEvent:function(a){var b=this.globalX=a.x*B.SCREEN_WIDTH/p.instance.width*p.window.__scale,c=this.globalY=a.y*B.SCREEN_HEIGHT/p.instance.height*p.window.__scale,d=this.getClickableElementAt(b,c);if(null!=B.forceElements&&("DOWN_EVENT"==a.type||"UP_EVENT"==a.type)){for(var e=d;null!=e&&-1==B.forceElements.indexOf(e);)e=e.parent;if(null==e||-1==B.forceElements.indexOf(e))return}if(B.sLastElement!=d){if(null!=
B.sLastElement)B.sLastElement.onTouchOut(b,c);B.sLastElement=d}if(null!=d)if("DOWN_EVENT"==a.type)d.onTouch(b,c),this.dispatchSimpleXEvent("XRoot::UI_ELEMENT_TOUCHED",d);else if("UP_EVENT"==a.type)d.onTouchUp(b,c,a.deltaTime,a.deltaMovement);else if("MOVE_EVENT"==a.type)d.onTouchMove(b,c,a.dx,a.dy);else{if("SCROLL_EVENT"==a.type){for(b=d;null!=b&&!L.__implements(b,Yd);)b=b.parent;if(null!=b&&L.__implements(b,Yd))L.__cast(b,Yd).onScroll(a.value)}}else this.dispatchXEvent(a)},calc:function(){var a=
p.instance.width/p.instance.height;1.3333333333333333<a?(this.resultWidth=1536*a|0,this.resultHeight=1536):(this.resultWidth=2048,this.resultHeight=2048/a|0);B.SCREEN_WIDTH=this.resultWidth|0;B.SCREEN_HEIGHT=this.resultHeight|0;this.resultOffsetColor=this.colorOffset;this.resultColorR=this.colorR;this.resultColorG=this.colorG;this.resultColorB=this.colorB;this.resultAlpha=this.alpha},getScreenScaleX:function(){return B.SCREEN_WIDTH/p.instance.width*p.window.__scale},getScreenScaleY:function(){return B.SCREEN_HEIGHT/
p.instance.height*p.window.__scale},__class__:B,__properties__:m(fa.prototype.__properties__,{get_foreground:"get_foreground"})});var nf=function(){this.root=new B;Ja.call(this);new td("font")};h["system.gfx.ui.XUIRenderView"]=nf;nf.__name__="system.gfx.ui.XUIRenderView";nf.__super__=Ja;nf.prototype=m(Ja.prototype,{render:function(){this.root.update();p.gl.enable(p.gl.BLEND);p.gl.blendFunc(p.gl.SRC_ALPHA,p.gl.ONE_MINUS_SRC_ALPHA);p.gl.disable(p.gl.DEPTH_TEST);p.gl.disable(p.gl.CULL_FACE);this.root.render();
Ja.prototype.render.call(this);p.gl.disable(p.gl.BLEND);p.gl.enable(p.gl.DEPTH_TEST);p.gl.enable(p.gl.CULL_FACE)},__class__:nf});var Qe=function(a){null==a&&(a=.3);Ba.call(this);this.mDuration=a};h["system.gfx.ui.animation.XAnimFadeIn"]=Qe;Qe.__name__="system.gfx.ui.animation.XAnimFadeIn";Qe.__super__=Ba;Qe.prototype=m(Ba.prototype,{getMatrix:function(){var a=Math.min(1,(H.timer-this.start)/this.mDuration);this.alpha=a;1<=a&&this.finished();return this.matrix},__class__:Qe});var lh=function(){Ba.call(this)};
h["system.gfx.ui.animation.XAnimFadeOut"]=lh;lh.__name__="system.gfx.ui.animation.XAnimFadeOut";lh.__super__=Ba;lh.prototype=m(Ba.prototype,{getMatrix:function(){var a=Math.min(1,(H.timer-this.start)/.3);this.alpha=1-a;1<=a&&(this.running=!1,this.finished());return this.matrix},__class__:lh});var Pg=function(){Ba.call(this)};h["system.gfx.ui.animation.XAnimGlow"]=Pg;Pg.__name__="system.gfx.ui.animation.XAnimGlow";Pg.__super__=Ba;Pg.prototype=m(Ba.prototype,{getMatrix:function(){var a=.25*Math.sin(2*
(H.timer-this.start))+.75,b=Math.round(O.toFloat(0)*a),c=Math.round(O.toFloat(80)*a),d=Math.round(O.toFloat(80)*a);a=Math.round(O.toFloat(80)*a);this.colorOffset=(b<<24)+(c<<16)+(d<<8)+a;return this.matrix},__class__:Pg});var yf=function(){Ba.call(this)};h["system.gfx.ui.animation.XAnimMoveIn"]=yf;yf.__name__="system.gfx.ui.animation.XAnimMoveIn";yf.__super__=Ba;yf.prototype=m(Ba.prototype,{getMatrix:function(){var a=Math.min(1,Math.min(1,(H.timer-this.start)/.5)),b=Math.pow(a,4),c=this.matrix;c[0]=
b;c[3]=0;c[6]=0;c[1]=0;c[4]=b;c[7]=0;c[2]=0;c[5]=0;c[8]=1;this.alpha=a;1<=a&&this.finished();return this.matrix},__class__:yf});var zf=function(){Ba.call(this)};h["system.gfx.ui.animation.XAnimMoveOut"]=zf;zf.__name__="system.gfx.ui.animation.XAnimMoveOut";zf.__super__=Ba;zf.prototype=m(Ba.prototype,{getMatrix:function(){var a=Math.min(1,(H.timer-this.start)/.3),b=1-a,c=this.matrix;c[0]=b;c[3]=0;c[6]=0;c[1]=0;c[4]=b;c[7]=0;c[2]=0;c[5]=0;c[8]=1;this.alpha=Math.max(0,b);1<=a&&this.running&&(this.register(Pb.delay(l(this,
this.finished),1)),this.running=!1);return this.matrix},__class__:zf});var Gg=function(){Ba.call(this)};h["system.gfx.ui.animation.XAnimPling"]=Gg;Gg.__name__="system.gfx.ui.animation.XAnimPling";Gg.__super__=Ba;Gg.prototype=m(Ba.prototype,{getMatrix:function(){var a=5*(H.timer-this.start+10*this.random),b=Math.max(0,0==Math.floor(a/(2*Math.PI))%5?Math.sin(a):0);this.alpha=b;var c=this.matrix;var d=30*a*Math.PI*.005555555555555556;a=Math.cos(d);d=Math.sin(d);c[0]=a;c[3]=-d;c[6]=0;c[1]=d;c[4]=a;c[7]=
0;c[2]=0;c[5]=0;c[8]=1;b=b*b*1.5;c=Aa.sDummyM2D;c[0]=b;c[3]=0;c[6]=0;c[1]=0;c[4]=b;c[7]=0;c[2]=0;c[5]=0;c[8]=1;Aa.mul(this.matrix,c);return this.matrix},__class__:Gg});var Te=function(){Ba.call(this)};h["system.gfx.ui.animation.XAnimShake"]=Te;Te.__name__="system.gfx.ui.animation.XAnimShake";Te.__super__=Ba;Te.prototype=m(Ba.prototype,{getMatrix:function(){var a=this.matrix,b=5*Math.sin((H.timer-this.start)/.2*Math.PI*4);a[0]=1;a[3]=0;a[6]=b;a[1]=0;a[4]=1;a[7]=0;a[2]=0;a[5]=0;a[8]=1;return this.matrix},
__class__:Te});var Fg=function(a,b,c,d){null==d&&(d=0);null==c&&(c=30);null==b&&(b=2);this.angle=0;Ba.call(this,a);this.speed=b;this.size=c;this.rotation=d;null!=a&&(b=a.mFloatMap.h.size,this.size=null==b?this.size:b,b=a.mFloatMap.h.rotation,this.rotation=null==b?this.rotation:b,b=a.mFloatMap.h.speed,this.speed=null==b?this.speed:b,b=a.mFloatMap.h.angle,this.angle=null==b?this.angle:b)};h["system.gfx.ui.animation.XAnimationHover"]=Fg;Fg.__name__="system.gfx.ui.animation.XAnimationHover";Fg.__super__=
Ba;Fg.prototype=m(Ba.prototype,{getMatrix:function(){var a=Math.sin(H.timer*this.speed+100*this.random)*this.size,b=this.matrix;b[0]=1;b[3]=0;b[6]=0;b[1]=0;b[4]=1;b[7]=a;b[2]=0;b[5]=0;b[8]=1;Aa.rotate(this.matrix,(H.timer+360*this.random)*this.rotation);Aa.rotate(this.matrix,Math.sin(H.timer+360*this.random)*this.angle);return this.matrix},__class__:Fg});var Ng=function(a,b,c,d,e){null==e&&(e=4);null==d&&(d=.5);null==c&&(c=.7);null==b&&(b=2);null==a&&(a=2);Ba.call(this);this.mSpeedX=a;this.mSpeedY=
b;this.mSize=c;this.mSpeed=d;this.mAngle=e};h["system.gfx.ui.animation.XBlob"]=Ng;Ng.__name__="system.gfx.ui.animation.XBlob";Ng.__super__=Ba;Ng.prototype=m(Ba.prototype,{getMatrix:function(){var a=1+.15*Math.sin(H.timer*this.mSpeedY+12*this.random)*this.mSize,b=this.matrix;b[0]=1+.1*Math.sin(H.timer*this.mSpeedX+10*this.random)*this.mSize;b[3]=0;b[6]=0;b[1]=0;b[4]=a;b[7]=0;b[2]=0;b[5]=0;b[8]=1;b=this.matrix;var c=Math.sin(H.timer*this.mSpeed*1.5+10*this.random)*this.mAngle;c=c*Math.PI*.005555555555555556;
a=Math.cos(c);c=Math.sin(c);b[0]=a;b[3]=-c;b[6]=0;b[1]=c;b[4]=a;b[7]=0;b[2]=0;b[5]=0;b[8]=1;return this.matrix},__class__:Ng});var Yb=function(){Ba.call(this)};h["system.gfx.ui.animation.XBlubb"]=Yb;Yb.__name__="system.gfx.ui.animation.XBlubb";Yb.__super__=Ba;Yb.prototype=m(Ba.prototype,{getMatrix:function(){var a=Math.min(1,(H.timer-this.start)/.25),b=1+.25*Math.abs(Math.sin((a-.1)*Math.PI));1<=a?(a=this.matrix,a[0]=1,a[3]=0,a[6]=0,a[1]=0,a[4]=1,a[7]=0,a[2]=0,a[5]=0,a[8]=1,this.finished()):(a=this.matrix,
a[0]=b,a[3]=0,a[6]=0,a[1]=0,a[4]=b,a[7]=0,a[2]=0,a[5]=0,a[8]=1);return this.matrix},__class__:Yb});var Bg=function(){Ba.call(this)};h["system.gfx.ui.animation.XBoom"]=Bg;Bg.__name__="system.gfx.ui.animation.XBoom";Bg.__super__=Ba;Bg.prototype=m(Ba.prototype,{getMatrix:function(){var a=(H.timer-this.start)/.5,b=this.matrix,c=15*Math.sin(a*Math.PI*6);b[0]=1;b[3]=0;b[6]=c;b[1]=0;b[4]=1;b[7]=0;b[2]=0;b[5]=0;b[8]=1;1<a&&this.finished();return this.matrix},__class__:Bg});var xf=function(a,b){this.active=
!0;this.highlightColor=0;this.duration=1;this.mXEventListener=null;this.value=this.startValue=this.targetValue=a;this.highlightColor=b;this.start=H.timer};h["system.gfx.ui.animation.XHighlight"]=xf;xf.__name__="system.gfx.ui.animation.XHighlight";xf.__super__=T;xf.prototype=m(T.prototype,{setTargetValue:function(a,b){var c=this;this.start=H.timer;this.startValue=this.value;this.targetValue=a;this.duration=b;this.active=!0;a=this.timer;null!=a&&a.dispose();this.timer=null;this.timer=Pb.delay(function(){c.active=
!1},1E3*b|0)},getColorOffset:function(){var a=ma.fClamp((H.timer-this.start)/this.duration,0,1);this.value=this.startValue*(1-a)+this.targetValue*a;var b=this.highlightColor,c=this.value;a=Math.round(O.toFloat(b>>>24&255)*c);var d=Math.round(O.toFloat(b>>>16&255)*c),e=Math.round(O.toFloat(b>>>8&255)*c);b=Math.round(O.toFloat(b&255)*c);return(a<<24)+(d<<16)+(e<<8)+b},dispose:function(){var a=this.timer;null!=a&&a.dispose();this.timer=null;T.prototype.dispose.call(this)},__class__:xf});var Zb=function(){Ba.call(this)};
h["system.gfx.ui.animation.XNope"]=Zb;Zb.__name__="system.gfx.ui.animation.XNope";Zb.__super__=Ba;Zb.prototype=m(Ba.prototype,{getMatrix:function(){var a=Math.min(1,(H.timer-this.start)/.3),b=this.matrix,c=7*Math.sin(a*Math.PI*4);c=c*Math.PI*.005555555555555556;var d=Math.cos(c);c=Math.sin(c);b[0]=d;b[3]=-c;b[6]=0;b[1]=c;b[4]=d;b[7]=0;b[2]=0;b[5]=0;b[8]=1;1<=a&&this.finished();return this.matrix},__class__:Zb});var yd=function(a,b,c){null==c&&(c=0);null==b&&(b=20);this.offsetX=this.offsetY=0;Ba.call(this,
a);this.speed=b;this.add=c;null!=a&&(b=a.mFloatMap.h.add,this.add=null==b?this.add:b,b=a.mFloatMap.h.speed,this.speed=null==b?this.speed:b,b=a.mFloatMap.h.offsetX,this.offsetX=null==b?0:b,b=a.mFloatMap.h.offsetY,this.offsetY=null==b?0:b,a.mFloatMap.h.hasOwnProperty("random")&&(this.add+=Math.random()*a.mFloatMap.h.random))};h["system.gfx.ui.animation.XRotation"]=yd;yd.__name__="system.gfx.ui.animation.XRotation";yd.__super__=Ba;yd.prototype=m(Ba.prototype,{getMatrix:function(){if(0!=this.offsetX||
0!=this.offsetY){var a=this.matrix;a[0]=1;a[3]=0;a[6]=this.offsetX;a[1]=0;a[4]=1;a[7]=this.offsetY;a[2]=0;a[5]=0;a[8]=1;a=Aa.sDummyM2D;var b=H.timer*this.speed+this.add;b=b*Math.PI*.005555555555555556;var c=Math.cos(b);b=Math.sin(b);a[0]=c;a[3]=-b;a[6]=0;a[1]=b;a[4]=c;a[7]=0;a[2]=0;a[5]=0;a[8]=1;Aa.mul(this.matrix,a)}else a=this.matrix,b=H.timer*this.speed+this.add,b=b*Math.PI*.005555555555555556,c=Math.cos(b),b=Math.sin(b),a[0]=c,a[3]=-b,a[6]=0,a[1]=b,a[4]=c,a[7]=0,a[2]=0,a[5]=0,a[8]=1;return this.matrix},
__class__:yd});var Ac=function(a,b,c,d,e){null==d&&(d=7);null==c&&(c=1);null==b&&(b=2);Ba.call(this,a);null!=e&&(this.random=e);this.speed=b;this.size=c;this.angle=d;null!=a&&(b=a.mFloatMap.h.speed,this.speed=null==b?this.speed:b,b=a.mFloatMap.h.size,this.size=null==b?this.size:b,b=a.mFloatMap.h.angle,this.angle=null==b?this.angle:b,a.mFloatMap.h.hasOwnProperty("random")&&(this.random=a.mFloatMap.h.random))};h["system.gfx.ui.animation.XWobble"]=Ac;Ac.__name__="system.gfx.ui.animation.XWobble";Ac.__super__=
Ba;Ac.prototype=m(Ba.prototype,{getMatrix:function(){var a=1+.1*Math.sin(H.timer*this.speed+100*this.random)*this.size,b=this.matrix;b[0]=a;b[3]=0;b[6]=0;b[1]=0;b[4]=a;b[7]=0;b[2]=0;b[5]=0;b[8]=1;Aa.rotate(this.matrix,Math.sin(H.timer*this.speed*1.5+10*this.random)*this.angle);return this.matrix},__class__:Ac});var Id=function(a,b,c,d,e){Db.call(this,a,b,c,d);this.texSize=e;this.invTexSize=1/e};h["system.gfx.ui.utils.XTexRectangle"]=Id;Id.__name__="system.gfx.ui.utils.XTexRectangle";Id.__super__=
Db;Id.prototype=m(Db.prototype,{calc:function(){this.scaledLeft=this.get_left()*this.invTexSize;this.scaledRight=this.get_right()*this.invTexSize;this.scaledTop=this.get_top()*this.invTexSize;this.scaledBottom=this.get_bottom()*this.invTexSize},__class__:Id});var Ib=function(a,b){null==b&&(b="");null==a&&(a=1024);this.waitingTextures=[];this.id=0;this.mDirty=!0;this.counter=0;this.mXEventListener=null;this.id=++Ib.sId;this.name=b;null==Ib.sPresenter&&(Ib.sPresenter=new jc(null));this.init(a)};h["system.gfx.ui.atlas.XAtlas"]=
Ib;Ib.__name__="system.gfx.ui.atlas.XAtlas";Ib.__super__=T;Ib.prototype=m(T.prototype,{init:function(a){var b=null;if(null!=this.textureLookUp){b=[];for(var c=this.textureLookUp.keys();c.hasNext();){var d=c.next();b.push(d)}d=this.textureLookUp;if(null!=d){for(c=d.iterator();c.hasNext();){var e=c.next();L.__cast(e,Va).dispose()}d.clear()}}this.textureLookUp=new qb;null==this.mTexture||this.mTexture.width!=a?(c=this.mTexture,null!=c&&c.dispose(),this.mTexture=null,this.mTexture=new Gh(a,a,!1)):(c=
this.mTexture,d=ja.ZERO,e=p.instance,e.mFrameBufferStack.push(e.currentFramebuffer),p.instance.setFramebuffer(c.mFramebuffer),null!=c.mDepthBuffer&&(e=p.instance,e.mDepthBufferStack.push(e.currentDepthbuffer),p.instance.setDepthbuffer(c.mDepthBuffer)),null!=d&&p.gl.clearColor(d.x,d.y,d.z,d.w),p.gl.clear(p.gl.COLOR_BUFFER_BIT|p.gl.DEPTH_BUFFER_BIT),null!=c.mDepthBuffer&&(c=p.instance,c.setDepthbuffer(c.mDepthBufferStack.pop())),c=p.instance,c.setFramebuffer(c.mFrameBufferStack.pop()));this.root=new pd(new Id(0,
0,a,a,a));if(null!=b)for(a=0;a<b.length;)c=b[a],++a,this.getTexture(c);this.dispatchSimpleXEvent("XAtlas::update")},get_texture:function(){this.mDirty&&(this.mTexture.apply(0),this.mDirty=!1);return this.mTexture},get_size:function(){return this.mTexture.width},getTexture:function(a){var b=this.textureLookUp.h[a];if(null!=b)return b.rect;if(!this.textureLookUp.h.hasOwnProperty(a)){var c=Za.getTexture(a);if(1==c.width&&1==c.height)this.waitingTextures.push(c),this.registerXEventListener(c,Za.READY,
l(this,this.onTexReady)),this.registerXEventListener(c,Za.CANCEL,l(this,this.onTexReady));else{b=this.root.insert(c);if(null==b)return this.init(2*this.mTexture.width),this.getTexture(a);var d=this.textureLookUp;d.h.hasOwnProperty(a)&&E.remove(d.mKeys,a);d.h[a]=b;d.mKeys.push(a);c.ready?this.writeTex(c):this.registerXEventListener(c,Za.READY,l(this,this.onTexReadyAndWrite));return b.rect}}return Ib.sDummyRect},writeTex:function(a){var b=this.textureLookUp.h[a.name];p.instance.disableDepthTest();var c=
this.mTexture;p.instance.setFramebuffer(c.mFramebuffer);null!=c.mDepthBuffer&&p.instance.setDepthbuffer(c.mDepthBuffer);p.gl.viewport(0,0,c.width,c.height);b=b.rect;c=a.rectangle.width/this.mTexture.width;var d=a.rectangle.height/this.mTexture.height,e=Ib.sPresenter.modelMatrix;e[0]=1;e[4]=0;e[8]=0;e[12]=0;e[1]=0;e[5]=1;e[9]=0;e[13]=0;e[2]=0;e[6]=0;e[10]=1;e[14]=0;e[3]=0;e[7]=0;e[11]=0;e[15]=1;e=Ib.sPresenter.modelMatrix;e[0]*=c;e[1]*=d;e[2]*=0;e[4]*=c;e[5]*=d;e[6]*=0;e[8]*=c;e[9]*=d;e[10]*=0;e[12]*=
c;e[13]*=d;e[14]*=0;Ib.sPresenter.modelMatrix[3]=c-1+2*b.get_left()/this.mTexture.width;Ib.sPresenter.modelMatrix[7]=d-1+2*b.get_top()/this.mTexture.height;Ib.sPresenter.texture=a;a.magFilter=p.gl.NEAREST;a.minFilter=p.gl.NEAREST;Ib.sPresenter.draw();++this.counter;this.dispatchSimpleXEvent("XAtlas::update");this.mDirty=!0;p.instance.setDefaultRenderTarget()},onTexReadyAndWrite:function(a){a=a.target;this.releaseXEventListener(a,Za.READY,l(this,this.onTexReadyAndWrite));this.writeTex(a)},onTexReady:function(a){a=
a.target;this.releaseXEventListener(a,Za.READY,l(this,this.onTexReady));this.releaseXEventListener(a,Za.CANCEL,l(this,this.onTexReady));E.remove(this.waitingTextures,a)&&0==this.waitingTextures.length&&this.init(this.mTexture.width)},dispose:function(){var a=this.mTexture;null!=a&&a.dispose();this.root=this.mTexture=null;a=this.textureLookUp;if(null!=a){for(var b=a.iterator();b.hasNext();){var c=b.next();L.__cast(c,Va).dispose()}a.clear()}this.textureLookUp=null;T.prototype.dispose.call(this)},__class__:Ib,
__properties__:{get_size:"get_size",get_texture:"get_texture"}});var pd=function(a){this.used=!1;this.childA=this.childB=null;this.rect=a};h["system.gfx.ui.atlas.XAtlasNode"]=pd;pd.__name__="system.gfx.ui.atlas.XAtlasNode";pd.__interfaces__=[Va];pd.prototype={insert:function(a){if(1==a.width&&1==a.height)return pd.placeholder;if(null!=this.childA){var b=this.childA.insert(a);return null!=b?b:this.childB.insert(a)}if(this.used||a.rectangle.width>this.rect.width||a.rectangle.height>this.rect.height)return null;
if(a.rectangle.width==this.rect.width&&a.rectangle.height==this.rect.height)return this.used=!0,this.rect.calc(),this;b=this.rect;this.childA=new pd(new Id(b.get_left(),b.get_top(),b.width,b.height,b.texSize));b=this.rect;this.childB=new pd(new Id(b.get_left(),b.get_top(),b.width,b.height,b.texSize));this.rect.width-a.rectangle.width>this.rect.height-a.rectangle.height?(this.childA.rect.width=a.rectangle.width,b=this.childB.rect,b.set_left(b.get_left()+(a.rectangle.width+1))):(this.childA.rect.height=
a.rectangle.height,b=this.childB.rect,b.set_top(b.get_top()+(a.rectangle.height+1)));return this.childA.insert(a)},dispose:function(){this.rect=this.childB=this.childA=null},__class__:pd};var Mb=function(){this.duration=.4;this.startTick=0;this.targetAlpha=.6;this.sourceAlpha=0;this.modelMatrix=Q._new();this.mXEventListener=null;null==Mb.sBlockerShader&&this.createShader();this.fadeTo(this.targetAlpha,this.duration)};h["system.gfx.ui.elements.XBlockerLayer"]=Mb;Mb.__name__="system.gfx.ui.elements.XBlockerLayer";
Mb.__super__=T;Mb.prototype=m(T.prototype,{fadeTo:function(a,b){this.sourceAlpha=this.getAlpha();this.targetAlpha=a;this.startTick=H.timer;this.duration=b},createShader:function(){Mb.sIndexBuffer=Cb.getIB(2);Mb.sVertexBuffer=new Jb(4,2);Mb.sVertexBuffer.addEntry(4);var a=Mb.sVertexBuffer.data;a.floatArray[a.position>>>2]=-1;a.position+=4;a.floatArray[a.position>>>2]=-1;a.position+=4;a.floatArray[a.position>>>2]=1;a.position+=4;a.floatArray[a.position>>>2]=-1;a.position+=4;a.floatArray[a.position>>>
2]=-1;a.position+=4;a.floatArray[a.position>>>2]=1;a.position+=4;a.floatArray[a.position>>>2]=1;a.position+=4;a.floatArray[a.position>>>2]=1;a.position+=4;Mb.sVertexBuffer.upload();Mb.sBlockerShader=new yb("attribute vec2 aVertexPosition;uniform vec4 uColor;uniform mat4 uModel;varying vec4 vColor;void main (void){vColor = uColor.rgba;gl_Position = vec4( aVertexPosition, 0.0, 1.0 ) * uModel;}","varying vec4 vColor;void main (void) { gl_FragColor = vColor;}")},getAlpha:function(){if(0<this.startTick){var a=
Math.min(1,(H.timer-this.startTick)/this.duration);return this.sourceAlpha*(1-a)+this.targetAlpha*a}return this.sourceAlpha},draw:function(){p.gl.depthFunc(p.gl.LESS);p.gl.disable(p.gl.CULL_FACE);var a=Mb.sBlockerShader,b=Mb.sVertexBuffer,c=Mb.sIndexBuffer;a.mVertexBuffer=b;a.mIndexBuffer=c;p.gl.useProgram(a.mProgram);b.apply();c.apply();a=Mb.sBlockerShader;var d=this.getAlpha();b=p.gl;c=a.mUniformLookUp.h.uColor;if(null==c){var e=a.mUniformLookUp;c=p.gl.getUniformLocation(a.mProgram,"uColor");e.h.hasOwnProperty("uColor")&&
E.remove(e.mKeys,"uColor");e.h.uColor=c;e.mKeys.push("uColor")}b.uniform4f(c,0,0,0,d);a=Mb.sBlockerShader;d=this.modelMatrix;b=p.gl;c=a.mUniformLookUp.h.uModel;null==c&&(e=a.mUniformLookUp,c=p.gl.getUniformLocation(a.mProgram,"uModel"),e.h.hasOwnProperty("uModel")&&E.remove(e.mKeys,"uModel"),e.h.uModel=c,e.mKeys.push("uModel"));ob.uniformMatrix4fv(b,c,!1,d);Mb.sBlockerShader.vertexAttribPointer("aVertexPosition",2,p.gl.FLOAT,0);p.gl.drawElements(p.gl.TRIANGLES,2*Mb.sIndexBuffer.stride,p.gl.UNSIGNED_SHORT,
0)},dispose:function(){this.modelMatrix=null;T.prototype.dispose.call(this)},__class__:Mb});var hf=function(a){this.parentDrawData=null;this.clipRectangle=new Db;C.call(this,a)};h["system.gfx.ui.elements.XClipArea"]=hf;hf.__name__="system.gfx.ui.elements.XClipArea";hf.__super__=C;hf.prototype=m(C.prototype,{write:function(a){if(this.visible){++a.vertexBufferIdx;a.vertexBufferIdx>=a.drawData.length?(a.currentDrawData=new sd,a.drawData.push(a.currentDrawData),a.currentDrawData.upload()):a.currentDrawData=
a.drawData[a.vertexBufferIdx];this.parentDrawData=a.currentDrawData;var b=1/(B.SCREEN_WIDTH/p.instance.width),c=1/(B.SCREEN_HEIGHT/p.instance.height),d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];d.x=this.x;d.y=this.y;var e=d;e.multiplyMatrix(this.resultMatrix);d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];d.x=this.resultWidth;d.y=this.resultHeight;d.multiplyNonTransMatrix(this.resultMatrix);this.clipRectangle.setTo(e.x*b,e.y*c,d.x*b,d.y*c);this.parentDrawData.clipRectangle=this.clipRectangle;C.prototype.write.call(this,
a);++a.vertexBufferIdx;a.vertexBufferIdx>=a.drawData.length?(a.currentDrawData=new sd,a.drawData.push(a.currentDrawData),a.currentDrawData.upload()):a.currentDrawData=a.drawData[a.vertexBufferIdx]}},getClickableElementAt:function(a,b){if(null!=this.resultMatrix){var c=Aa.sTempM2D[++Aa.sTempM2DIdx%Aa.sTempM2D.length];c=Aa.copyFrom(c,this.resultMatrix);var d=1/(c[0]*(c[4]*c[8]-c[7]*c[5])-c[1]*(c[3]*c[8]-c[5]*c[6])+c[2]*(c[3]*c[7]-c[4]*c[6])),e=-(c[1]*c[8]-c[2]*c[7])*d,g=(c[1]*c[5]-c[2]*c[4])*d,k=-(c[3]*
c[8]-c[5]*c[6])*d,f=(c[0]*c[8]-c[2]*c[6])*d,p=-(c[0]*c[5]-c[3]*c[2])*d,h=(c[3]*c[7]-c[6]*c[4])*d,l=-(c[0]*c[7]-c[6]*c[1])*d,m=(c[0]*c[4]-c[3]*c[1])*d;c[0]=(c[4]*c[8]-c[7]*c[5])*d;c[3]=k;c[6]=h;c[1]=e;c[4]=f;c[7]=l;c[2]=g;c[5]=p;c[8]=m;d=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];d.x=a;d.y=b;c=d.multiplyMatrix(c);if(0<=c.x&&c.x<this.resultWidth&&0<=c.y&&c.y<this.resultHeight)return C.prototype.getClickableElementAt.call(this,a,b)}return null},dispose:function(){null!=this.parentDrawData&&(this.parentDrawData=
this.parentDrawData.clipRectangle=null);this.clipRectangle=null;C.prototype.dispose.call(this)},__class__:hf});var Hh=function(a){this.mIFrame=null;this.mOldX=this.mOldY=this.mOldWidth=this.mOldHeight=-1;sa.call(this,a);this.mIFrame=window.document.createElement("iframe");null!=this.mIFrame&&(null!=this.url&&this.mIFrame.setAttribute("src",this.url),this.mIFrame.setAttribute("allowtransparency","true"),this.mIFrame.setAttribute("allowfullscreen","true"),this.mIFrame.style.padding="0",this.mIFrame.style.margin=
"0",this.mIFrame.style.border="none",this.mIFrame.style.background="transparent",window.document.body.appendChild(this.mIFrame))};h["system.gfx.ui.elements.XIFrame"]=Hh;Hh.__name__="system.gfx.ui.elements.XIFrame";Hh.__super__=sa;Hh.prototype=m(sa.prototype,{set_url:function(a){""==a&&(a=null);this.url!=a&&(this.url=a,null!=this.url&&this.mIFrame.setAttribute("src",this.url));return this.url},applyStringAttribute:function(a,b){switch(a){case "nss":break;case "url":this.set_url(b);break;default:sa.prototype.applyStringAttribute.call(this,
a,b)}},update:function(){var a=1/(B.SCREEN_WIDTH/p.instance.width*p.window.__scale),b=1/(B.SCREEN_HEIGHT/p.instance.height*p.window.__scale),c=this.resultMatrix[6],d=this.resultMatrix[7],e=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];e.x=c;e.y=d;this.setSize(e.x*a|0,e.y*b|0,this.resultWidth*a|0,this.resultHeight*b|0);sa.prototype.update.call(this)},setSize:function(a,b,c,d){c=Math.round(Math.max(c,100));d=Math.round(Math.max(d,100));if(this.mOldX!=a||this.mOldY!=b||this.mOldWidth!=c||this.mOldHeight!=
d)this.mOldX=a,this.mOldY=b,this.mOldWidth=c,this.mOldHeight=d,this.mIFrame.style.position="absolute",this.mIFrame.style.left=a+"px",this.mIFrame.style.top=b+"px",this.mIFrame.style.width=c+"px",this.mIFrame.style.height=d+"px"},set_visible:function(a){this.mIFrame.style.display=a?"inline":"none";return sa.prototype.set_visible.call(this,a)},copyElements:function(a){sa.prototype.copyElements.call(this,a);a.set_url(this.url)},dispose:function(){this.set_url(null);null!=this.mIFrame&&(window.document.body.removeChild(this.mIFrame),
this.mIFrame=null)},__class__:Hh,__properties__:m(sa.prototype.__properties__,{set_url:"set_url"})});var Ha=function(a){C.call(this,a)};h["system.gfx.ui.elements.XImageSpecial"]=Ha;Ha.__name__="system.gfx.ui.elements.XImageSpecial";Ha.__super__=C;Ha.prototype=m(C.prototype,{calc:function(){this.rewrite=!0;C.prototype.calc.call(this)},set_pX:function(a){this.pX=a;this.invalidate();return a},set_pY:function(a){this.pY=a;this.invalidate();return a},write:function(a){if(null!=this.image&&0<this.resultWidth&&
0<this.resultHeight){var b=a.atlas.getTexture(this.image);if(null!=b){var c=Ha.sP11,d=this.resultMatrix[7];c.x=this.resultMatrix[6];c.y=d;c=Ha.sP41;d=this.resultWidth*this.resultMatrix[1]+this.resultMatrix[7];c.x=this.resultWidth*this.resultMatrix[0]+this.resultMatrix[6];c.y=d;c=Ha.sP14;d=this.resultHeight*this.resultMatrix[4]+this.resultMatrix[7];c.x=this.resultHeight*this.resultMatrix[3]+this.resultMatrix[6];c.y=d;c=Ha.sP44;var e=Ha.sP41;c.x=e.x;c.y=e.y;c.w=e.w;e=Ha.sP14;c.x+=e.x;c.y+=e.y;e=Ha.sP11;
c.x-=e.x;c.y-=e.y;null!=this.preParticleEmitter&&this.preParticleEmitter.write(a,this.resultAlpha,this.resultWidth,this.resultHeight,this.resultMatrix);d=null!=this.pX?this.pX.length-1:0;var g=null!=this.pY?this.pY.length-1:0;if(this.rewrite){this.rewrite=!1;var k=b.scaledLeft,f=b.scaledTop,p=b.invTexSize;Ha.sLocalBuffer.floatArray[0]=this.resultColorR;Ha.sLocalBuffer.floatArray[1]=this.resultColorG;Ha.sLocalBuffer.floatArray[2]=this.resultColorB;Ha.sLocalBuffer.floatArray[3]=this.resultAlpha;Ha.sLocalBuffer.position=
16;c=Ha.sLocalBuffer;c.bytes.setInt32(c.position,this.resultOffsetColor);for(c.position+=4;this.mLocalBuffer.length<d*g*160;)this.mLocalBuffer.increaseSize();var h=this.mLocalBuffer,l=h.position=0,m=h.floatArray,G=Ha.sLocalBuffer.bytes;Ha.sDx=n.SUB(Ha.sDx,Ha.sP41,Ha.sP11);Ha.sDy=n.SUB(Ha.sDy,Ha.sP14,Ha.sP11);Ha.sDNx=n.NORMALIZE(Ha.sDNx,Ha.sDx);Ha.sDNy=n.NORMALIZE(Ha.sDNy,Ha.sDy);var y=this.resultMatrix[0]/this.scale;b=0;for(var v=d;b<v;)for(var K=b++,U=0,I=g;U<I;)for(var u=U++,r=0;2>r;)for(var w=
r++,F=0;2>F;){c=F++;var B=this.pX[K+w],D=this.pY[u+c],E=k+B.u*p;e=f+D.v*p;c=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];var M=Ha.sP11;c.x=M.x;c.y=M.y;c.w=M.w;M=c;Object.prototype.hasOwnProperty.call(B,"left")?n.MAD(M,M,Ha.sDNx,B.left*y):Object.prototype.hasOwnProperty.call(B,"right")?(c=Ha.sDx,n.MAD(M,M,Ha.sDNx,Math.sqrt(c.x*c.x+c.y*c.y)-B.right*y)):Object.prototype.hasOwnProperty.call(B,"rel")&&n.MAD(M,M,Ha.sDx,B.rel);Object.prototype.hasOwnProperty.call(D,"top")?n.MAD(M,M,Ha.sDNy,D.top*y):Object.prototype.hasOwnProperty.call(D,
"bottom")?(c=Ha.sDy,n.MAD(M,M,Ha.sDNy,Math.sqrt(c.x*c.x+c.y*c.y)-D.bottom*y)):Object.prototype.hasOwnProperty.call(D,"rel")&&n.MAD(M,M,Ha.sDy,D.rel);m[l++]=M.x;m[l++]=M.y;h.bytes.blit(l<<2,G,0,20);l+=5;m[l++]=E;m[l++]=e;++l}}k=a.currentDrawData.vertexBuffer;k.addEntry(d*g*4);c=k.data;d=d*g*4*k.stride*4;c.bytes.blit(c.position,this.mLocalBuffer.bytes,0,d);c.position+=d;null!=this.postParticleEmitter&&this.postParticleEmitter.write(a,this.resultAlpha,this.resultWidth,this.resultHeight,this.resultMatrix)}b=
0;for(v=this.children;b<v.length;)d=v[b],++b,d.visible&&d.write(a)}else C.prototype.write.call(this,a)},applyStringAttribute:function(a,b){switch(a){case "pX":this.set_pX(JSON.parse(b));break;case "pY":this.set_pY(JSON.parse(b));break;default:C.prototype.applyStringAttribute.call(this,a,b)}},copyElements:function(a){C.prototype.copyElements.call(this,a);a.set_pX(this.pX.slice());a.set_pY(this.pY.slice())},dispose:function(){C.prototype.dispose.call(this)},__class__:Ha,__properties__:m(C.prototype.__properties__,
{set_pY:"set_pY",set_pX:"set_pX"})});var ta=function(a){this.ifCondition=this.unlessCondition=null;this.mFloatMap=new qb;this.mUIntMap=new qb;this.mBoolMap=new qb;this.mStringMap=new qb;this.children=[];this.context=this.id=null;this.context=a;this.mXEventListener=null};h["system.gfx.ui.library.XTemplate"]=ta;ta.__name__="system.gfx.ui.library.XTemplate";ta.create=function(a){if(0<ta.sPool.length){var b=ta.sPool.pop();b.context=a;return b}return new ta(a)};ta.fromString=function(a,b){b=ta.create(b);
a=S.parse(a).firstElement();if(a.nodeType!=S.Document&&a.nodeType!=S.Element)throw P.thrown("Invalid nodeType "+(null==a.nodeType?"null":Ca.toString(a.nodeType)));b.readNode(a);return b};ta.applyFromStringTo=function(a,b,c){a=ta.fromString(a,c);a.applyTo(b);a.clear();ta.sPool.push(a)};ta.createInstanceFromString=function(a,b){a=ta.fromString(a,b);b=a.createInstance();a.clear();ta.sPool.push(a);return b};ta.registerElementClass=function(a,b){var c=ta.sElementClassMap;c.h.hasOwnProperty(a)&&E.remove(c.mKeys,
a);c.h[a]=b;c.mKeys.push(a)};ta.__super__=T;ta.prototype=m(T.prototype,{get_name:function(){return this.mStringMap.h.name},fromXML:function(a){if(a.nodeType!=S.Document&&a.nodeType!=S.Element)throw P.thrown("Invalid nodeType "+(null==a.nodeType?"null":Ca.toString(a.nodeType)));this.readNode(a);return this},getTemplate:function(a){return null!=this.context&&(a=this.context.getTemplate(a),null!=a)?a:null},readNode:function(a){if(a.nodeType==S.Document)var b="Document";else{if(a.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element but found "+
(null==a.nodeType?"null":Ca.toString(a.nodeType)));b=a.nodeName}this.type=b;Li.resolve(a,"id")&&(this.id=nc.resolve(a,"id"));b=a.attributes();var c=a.get("template");if(null!=c)for(var d=c.split(","),e=0;e<d.length;)c=d[e],++e,c=this.getTemplate(c),null!=c&&c.applyToTemplate(this);for(;b.hasNext();)switch(c=b.next(),d=a.get(c),c){case "height":-1==d.indexOf("%")?(c=parseFloat(d),d=this.mFloatMap,d.h.hasOwnProperty("height")&&E.remove(d.mKeys,"height"),d.h.height=c,d.mKeys.push("height"),this.mFloatMap.remove("relativeHeight")):
(c=parseFloat(oa.replace(d,"%",""))/100,d=this.mFloatMap,d.h.hasOwnProperty("relativeHeight")&&E.remove(d.mKeys,"relativeHeight"),d.h.relativeHeight=c,d.mKeys.push("relativeHeight"));break;case "if":this.ifCondition=d;break;case "relativeHeight":c=parseFloat(d);d=this.mFloatMap;d.h.hasOwnProperty("relativeHeight")&&E.remove(d.mKeys,"relativeHeight");d.h.relativeHeight=c;d.mKeys.push("relativeHeight");this.mFloatMap.remove("height");break;case "relativeWidth":c=parseFloat(d);d=this.mFloatMap;d.h.hasOwnProperty("relativeWidth")&&
E.remove(d.mKeys,"relativeWidth");d.h.relativeWidth=c;d.mKeys.push("relativeWidth");this.mFloatMap.remove("width");break;case "relativeX":c=parseFloat(d);d=this.mFloatMap;d.h.hasOwnProperty("relativeX")&&E.remove(d.mKeys,"relativeX");d.h.relativeX=c;d.mKeys.push("relativeX");this.mFloatMap.remove("x");break;case "relativeY":c=parseFloat(d);d=this.mFloatMap;d.h.hasOwnProperty("relativeY")&&E.remove(d.mKeys,"relativeY");d.h.relativeY=c;d.mKeys.push("relativeY");this.mFloatMap.remove("y");break;case "label":case "nss":case "text":e=
this.mStringMap;e.h.hasOwnProperty(c)&&E.remove(e.mKeys,c);e.h[c]=d;e.mKeys.push(c);break;case "unless":this.unlessCondition=d;break;case "width":-1==d.indexOf("%")?(c=parseFloat(d),d=this.mFloatMap,d.h.hasOwnProperty("width")&&E.remove(d.mKeys,"width"),d.h.width=c,d.mKeys.push("width"),this.mFloatMap.remove("relativeWidth")):(c=parseFloat(oa.replace(d,"%",""))/100,d=this.mFloatMap,d.h.hasOwnProperty("relativeWidth")&&E.remove(d.mKeys,"relativeWidth"),d.h.relativeWidth=c,d.mKeys.push("relativeWidth"));
break;case "x":-1==d.indexOf("%")?(c=parseFloat(d),d=this.mFloatMap,d.h.hasOwnProperty("x")&&E.remove(d.mKeys,"x"),d.h.x=c,d.mKeys.push("x"),this.mFloatMap.remove("relativeX")):(c=parseFloat(oa.replace(d,"%",""))/100,d=this.mFloatMap,d.h.hasOwnProperty("relativeX")&&E.remove(d.mKeys,"relativeX"),d.h.relativeX=c,d.mKeys.push("relativeX"));break;case "y":-1==d.indexOf("%")?(c=parseFloat(d),d=this.mFloatMap,d.h.hasOwnProperty("y")&&E.remove(d.mKeys,"y"),d.h.y=c,d.mKeys.push("y"),this.mFloatMap.remove("relativeY")):
(c=parseFloat(oa.replace(d,"%",""))/100,d=this.mFloatMap,d.h.hasOwnProperty("relativeY")&&E.remove(d.mKeys,"relativeY"),d.h.relativeY=c,d.mKeys.push("relativeY"));break;default:"true"==d?(d=this.mBoolMap,d.h.hasOwnProperty(c)&&E.remove(d.mKeys,c),d.h[c]=!0,d.mKeys.push(c)):"false"==d?(d=this.mBoolMap,d.h.hasOwnProperty(c)&&E.remove(d.mKeys,c),d.h[c]=!1,d.mKeys.push(c)):0==d.indexOf("0x")?(d=M.parseInt(d),e=this.mUIntMap,e.h.hasOwnProperty(c)&&E.remove(e.mKeys,c),e.h[c]=d,e.mKeys.push(c)):(e=parseFloat(d),
isNaN(e)?(e=this.mStringMap,e.h.hasOwnProperty(c)&&E.remove(e.mKeys,c),e.h[c]=d,e.mKeys.push(c)):(d=this.mFloatMap,d.h.hasOwnProperty(c)&&E.remove(d.mKeys,c),d.h[c]=e,d.mKeys.push(c)))}for(a=a.elements();a.hasNext();){c=a.next();b=!1;c=ta.create(this.context).fromXML(c);if(null!=c.get_name())for(d=0,e=this.children;d<e.length;){var g=e[d];++d;if(g.get_name()==c.get_name()){c.applyToTemplate(g);b=!0;c.clear();ta.sPool.push(c);break}}b||this.children.push(c)}},createInstance:function(){if(null!=this.ifCondition){switch(this.ifCondition){case "famobi":var a=
!0;break;case "final":a=!0;break;case "locaSupported":a=N.supported;break;case "web":a=!0;break;default:a=!1}a=!a}else a=!1;if(a)a=!0;else if(null!=this.unlessCondition)switch(this.unlessCondition){case "famobi":a=!0;break;case "final":a=!0;break;case "locaSupported":a=N.supported;break;case "web":a=!0;break;default:a=!1}else a=!1;if(a)return null;a=null;switch(this.type){case "area":a=new hf(this.context);break;case "button":a=new za(this.context);break;case "container":a=new Wa(this.context);break;
case "element":a=new sa(this.context);break;case "emitter":break;case "iframe":a=new Hh(this.context);break;case "image":a=new C(this.context);break;case "imageSpecial":a=new Ha(this.context);break;case "input":a=new Gc(this.context);break;case "list":a=new Ub(this.context);break;case "screen":a=new fa(null,this.context);break;case "selector":a=new xe(this.context);break;case "state":break;case "texLayer":a=new cb(this.context);break;case "text":a=new D(this.context);break;case "value":a=new ye(this.context);
break;default:a=ta.sElementClassMap.h.hasOwnProperty(this.type)?La.createInstance(ta.sElementClassMap.h[this.type],[this.context]):new sa}null!=a&&this.applyTo(a);return a},applyTo:function(a){if(null!=a){for(var b=0,c=this.children;b<c.length;){var d=c[b];++b;switch(d.type){case "animation":a.addAnimation(Ba.createAnimation(d.mStringMap.h.animation,d));break;case "emitter":null==a.preParticleEmitter&&(a.preParticleEmitter=new Yc);var e=a.preParticleEmitter.desc;if(null!=e){var g=d.mFloatMap.h.duration;
e.duration=null==g?e.duration:g;g=d.mFloatMap.h.startSize;e.startSize=null==g?e.startSize:g;g=d.mFloatMap.h.endSize;e.endSize=null==g?e.endSize:g;g=d.mFloatMap.h.gravity;e.gravity=null==g?e.gravity:g;g=d.mFloatMap.h.range;e.range=null==g?e.range:g;g=e.startColor;e.startColor=d.mUIntMap.h.hasOwnProperty("startColor")?d.mUIntMap.h.startColor:g;g=e.endColor;e.endColor=d.mUIntMap.h.hasOwnProperty("endColor")?d.mUIntMap.h.endColor:g;g=d.mStringMap.h.image;e.image=null==g?e.image:g}e=d.mFloatMap.h.numParticlesPerSecond;
a.preParticleEmitter.numParticlesPerSecond=(null==e?0:e)|0;e=d.mBoolMap.h.hasOwnProperty("active")?d.mBoolMap.h.active:!0;a.preParticleEmitter.active=e;break;case "state":break;default:e=null!=a.children&&null!=d.get_name()?a.getChildByName(d.get_name()):null,null!=e?e.applyTemplate(d):(d=d.createInstance(),null!=d&&a.addChild(d))}}for(b=this.mStringMap.keys();b.hasNext();)c=b.next(),a.applyStringAttribute(c,this.mStringMap.h[c]);for(b=this.mBoolMap.keys();b.hasNext();)c=b.next(),a.applyBoolAttribute(c,
this.mBoolMap.h[c]);for(b=this.mFloatMap.keys();b.hasNext();)c=b.next(),a.applyFloatAttribute(c,this.mFloatMap.h[c]);for(b=this.mUIntMap.keys();b.hasNext();)c=b.next(),a.applyUIntAttribute(c,this.mUIntMap.h[c]);b=0;for(c=this.children;b<c.length;)if(d=c[b],++b,"state"==d.type){if(null!=d.ifCondition){switch(d.ifCondition){case "famobi":e=!0;break;case "final":e=!0;break;case "locaSupported":e=N.supported;break;case "web":e=!0;break;default:e=!1}e=!e}else e=!1;if(e)e=!0;else if(null!=d.unlessCondition)switch(d.unlessCondition){case "famobi":e=
!0;break;case "final":e=!0;break;case "locaSupported":e=N.supported;break;case "web":e=!0;break;default:e=!1}else e=!1;e||a.addState(d.clone())}if(null!=this.ifCondition){switch(this.ifCondition){case "famobi":e=!0;break;case "final":e=!0;break;case "locaSupported":e=N.supported;break;case "web":e=!0;break;default:e=!1}e=!e}else e=!1;if(e)e=!0;else if(null!=this.unlessCondition)switch(this.unlessCondition){case "famobi":e=!0;break;case "final":e=!0;break;case "locaSupported":e=N.supported;break;case "web":e=
!0;break;default:e=!1}else e=!1;e&&Rb.dispose(a);a.invalidate()}},applyToTemplate:function(a){null==a.type&&(a.type=this.type);null!=this.ifCondition&&(a.ifCondition=this.ifCondition);null!=this.unlessCondition&&(a.unlessCondition=this.unlessCondition);for(var b=this.mStringMap.keys();b.hasNext();){var c=b.next(),d=this.mStringMap.h[c],e=a.mStringMap;e.h.hasOwnProperty(c)&&E.remove(e.mKeys,c);e.h[c]=d;e.mKeys.push(c)}for(b=this.mBoolMap.keys();b.hasNext();)c=b.next(),d=this.mBoolMap.h[c],e=a.mBoolMap,
e.h.hasOwnProperty(c)&&E.remove(e.mKeys,c),e.h[c]=d,e.mKeys.push(c);for(b=this.mFloatMap.keys();b.hasNext();)c=b.next(),d=this.mFloatMap.h[c],e=a.mFloatMap,e.h.hasOwnProperty(c)&&E.remove(e.mKeys,c),e.h[c]=d,e.mKeys.push(c);for(b=this.mUIntMap.keys();b.hasNext();)c=b.next(),d=this.mUIntMap.h[c],e=a.mUIntMap,e.h.hasOwnProperty(c)&&E.remove(e.mKeys,c),e.h[c]=d,e.mKeys.push(c);b=0;for(c=this.children;b<c.length;)d=c[b],++b,a.children.push(d.clone())},clone:function(){var a=ta.create(this.context);this.applyToTemplate(a);
return a},clear:function(){this.unlessCondition=this.ifCondition=this.type=this.id=null;var a=this.mStringMap;a.h={};a.mKeys=[];a=this.mBoolMap;a.h={};a.mKeys=[];a=this.mUIntMap;a.h={};a.mKeys=[];a=this.mFloatMap;a.h={};for(a.mKeys=[];0<this.children.length;)a=this.children.pop(),a.clear(),ta.sPool.push(a)},dispose:function(){this.mFloatMap=this.mUIntMap=this.mBoolMap=this.mStringMap=this.unlessCondition=this.ifCondition=this.type=this.id=this.context=null;var a=this.children;if(null!=a)for(;0<a.length;)L.__cast(a.pop(),
Va).dispose();this.children=null;T.prototype.dispose.call(this)},__class__:ta,__properties__:{get_name:"get_name"}});var xe=function(a){this.buttonTemplate=null;this.buttons=[];Oa.call(this,a)};h["system.gfx.ui.elements.XSelectorControl"]=xe;xe.__name__="system.gfx.ui.elements.XSelectorControl";xe.__super__=Oa;xe.prototype=m(Oa.prototype,{calc:function(){Oa.prototype.calc.call(this);for(var a=0,b=0,c=0,d=this.buttons;c<d.length;){var e=d[c];++c;a+e.width>this.resultWidth&&(a=0,b+=e.height);e.x!=a&&
e.invalidate();e.x=a;e.y!=b&&e.invalidate();e.y=b;a+=e.width}},applyStringAttribute:function(a,b){"buttonTemplate"==a?this.buttonTemplate=this.context.getTemplate(b):Oa.prototype.applyStringAttribute.call(this,a,b)},onButtonClick:function(a){if("uiBtClose"!=a.name){var b=this.find("uiImgMarker");null!=b&&(b.set_visible(!0),a.addChild(b));this.dispatchSimpleXEvent(xe.CLICKED,a.data);Oa.prototype.onButtonClick.call(this,a)}},dispose:function(){this.buttonTemplate=this.buttons=null;Oa.prototype.dispose.call(this)},
__class__:xe});var cb=function(a){this.rewrite=!0;this.mLocalBuffer=new Pc(1440);this.initialAtlasSize=0;fa.call(this,null,a);a=this.mLocalBuffer.floatArray;var b=7;a[b++]=0;a[b++]=0;++b;b+=7;a[b++]=1;a[b++]=0;++b;b+=7;a[b++]=0;a[b++]=1;++b;b+=7;a[b++]=1;a[b++]=1;null==cb.sShader&&this.createSimpleShader()};h["system.gfx.ui.elements.XTexLayer"]=cb;cb.__name__="system.gfx.ui.elements.XTexLayer";cb.__super__=fa;cb.prototype=m(fa.prototype,{createSimpleShader:function(){cb.sShader=new yb("attribute vec2 aVertexPosition;attribute vec4 aColor;attribute vec4 aOffsetColor;attribute vec2 aTexCoord;attribute float aBlend;uniform mat4 uViewProjection;varying vec2 vTexCoord;varying vec4 vColor;varying vec4 vOffsetColor;void main (void){vTexCoord = aTexCoord;vColor = aColor.rgba;vOffsetColor = aOffsetColor.bgra;gl_Position = uViewProjection * vec4( aVertexPosition - vec2( 0.5, 0.5 ), 0.0, 1.0 );}",
"varying vec2 vTexCoord;varying vec4 vColor;varying vec4 vOffsetColor;uniform sampler2D uTex0;void main (void) {vec4 col = texture2D( uTex0, vTexCoord, -1.0 );gl_FragColor = col * vColor + vOffsetColor;}")},calc:function(){this.rewrite=!0;fa.prototype.calc.call(this)},set_image:function(a){""==a&&(a=null);this.image!=a&&(this.image=a,this.mTexture=Za.getTexture(a),this.invalidate());return a},applyStringAttribute:function(a,b){"image"==a?this.set_image(b):fa.prototype.applyStringAttribute.call(this,
a,b)},copyElements:function(a){null!=a&&a.set_image(this.image)},write:function(a){if(null!=this.image&&0<this.resultWidth&&0<this.resultHeight&&null!=this.mTexture){var b=cb.sP11,c=this.resultMatrix[7];b.x=this.resultMatrix[6];b.y=c;b=cb.sP41;c=this.resultWidth*this.resultMatrix[1]+this.resultMatrix[7];b.x=this.resultWidth*this.resultMatrix[0]+this.resultMatrix[6];b.y=c;b=cb.sP14;c=this.resultHeight*this.resultMatrix[4]+this.resultMatrix[7];b.x=this.resultHeight*this.resultMatrix[3]+this.resultMatrix[6];
b.y=c;b=cb.sP44;c=cb.sP41;b.x=c.x;b.y=c.y;b.w=c.w;c=cb.sP14;b.x+=c.x;b.y+=c.y;c=cb.sP11;b.x-=c.x;b.y-=c.y;this.rewrite&&(this.rewrite=!1,b=this.mLocalBuffer.position=0,c=this.mLocalBuffer.floatArray,c[b++]=cb.sP11.x,c[b++]=cb.sP11.y,c[b++]=this.resultColorR,c[b++]=this.resultColorG,c[b++]=this.resultColorB,c[b++]=this.resultAlpha,b+=4,c[b++]=cb.sP41.x,c[b++]=cb.sP41.y,c[b++]=this.resultColorR,c[b++]=this.resultColorG,c[b++]=this.resultColorB,c[b++]=this.resultAlpha,b+=4,c[b++]=cb.sP14.x,c[b++]=cb.sP14.y,
c[b++]=this.resultColorR,c[b++]=this.resultColorG,c[b++]=this.resultColorB,c[b++]=this.resultAlpha,b+=4,c[b++]=cb.sP44.x,c[b++]=cb.sP44.y,c[b++]=this.resultColorR,c[b++]=this.resultColorG,c[b++]=this.resultColorB,c[b++]=this.resultAlpha);c=this.currentDrawData.vertexBuffer;c.addEntry(4);b=c.data;c=16*c.stride;b.bytes.blit(b.position,this.mLocalBuffer.bytes,0,c);b.position+=c}fa.prototype.write.call(this,a)},draw:function(){for(var a=0,b=this.drawData;a<b.length;){var c=b[a];++a;if(null==c.externalLayer){var d=
c.vertexBuffer.entries>>1;if(0<d){c.start();var e=cb.sShader,g=c.vertexBuffer,k=Cb.getIB(d);e.mVertexBuffer=g;e.mIndexBuffer=k;p.gl.useProgram(e.mProgram);g.apply();k.apply();this.setupShader();e=Q.sTempM3D[++Q.sTempM3DIdx%Q.sTempM3D.length];g=B.SCREEN_HEIGHT;k=B.SCREEN_WIDTH;var f=1/k,n=1/(0-g);e[0]=2*f;e[4]=0;e[8]=0;e[12]=-k*f;e[1]=0;e[5]=2*n;e[9]=0;e[13]=-g*n;e[2]=0;e[6]=0;e[10]=-.01998001998001998;e[14]=-.9980019980019981;e[3]=0;e[7]=0;e[11]=0;e[15]=1;g=cb.sShader;k=p.gl;f=g.mUniformLookUp.h.uViewProjection;
null==f&&(n=g.mUniformLookUp,f=p.gl.getUniformLocation(g.mProgram,"uViewProjection"),n.h.hasOwnProperty("uViewProjection")&&E.remove(n.mKeys,"uViewProjection"),n.h.uViewProjection=f,n.mKeys.push("uViewProjection"));ob.uniformMatrix4fv(k,f,!1,e);cb.sShader.vertexAttribPointer("aVertexPosition",2,p.gl.FLOAT,0);cb.sShader.vertexAttribPointer("aColor",4,p.gl.FLOAT,8);cb.sShader.vertexAttribPointer("aOffsetColor",4,p.gl.UNSIGNED_BYTE,24,!0);cb.sShader.vertexAttribPointer("aTexCoord",2,p.gl.FLOAT,28);e=
cb.sShader;g=this.mTexture;k=p.gl;f=e.mUniformLookUp.h.uTex0;null==f&&(n=e.mUniformLookUp,f=p.gl.getUniformLocation(e.mProgram,"uTex0"),n.h.hasOwnProperty("uTex0")&&E.remove(n.mKeys,"uTex0"),n.h.uTex0=f,n.mKeys.push("uTex0"));k.uniform1i(f,0);null!=g?g.apply(0):p.sDefaultTex.apply(0);p.gl.drawElements(p.gl.TRIANGLES,3*d,p.gl.UNSIGNED_SHORT,0);c.end()}}else c.externalLayer.render()}},dispose:function(){this.set_image(null);this.context=null;fa.prototype.dispose.call(this)},__class__:cb,__properties__:m(fa.prototype.__properties__,
{set_image:"set_image"})});var D=function(a){this.writeText=!0;this.rewrite=!1;this.localData=null;this.textDisplayData=new Ih;this.shadow=!0;this.size=22;this.textHeight=this.textWidth=NaN;sa.call(this,a)};h["system.gfx.ui.elements.XText"]=D;D.__name__="system.gfx.ui.elements.XText";D.__super__=sa;D.prototype=m(sa.prototype,{set_text:function(a){this.get_text()!=a&&(null!=a&&0==a.indexOf("SID_")&&(this.rawText=a),this.text=N.translate(a,null),this.rewrite=!0);return a},get_text:function(){return this.text},
set_halignText:function(a){this.halignText!=a&&(this.halignText=a,this.rewrite=!0);return a},set_size:function(a){this.size!=a&&(this.size=a,this.rewrite=!0);return a},invalidate:function(){this.invalid||(sa.prototype.invalidate.call(this),this.rewrite=!0)},write:function(a){if(this.writeText&&null!=this.get_text()&&0<this.get_text().length){var b=a.currentDrawData.vertexBuffer;if(null==this.localData||this.rewrite){var c=this.textHeight,d=this.textWidth;this.textHeight=this.textWidth=0;this.rewrite=
!1;var e=td.sInstance,g=this.size/e.baseline,k=this.get_text();D.sLocalBuffer.position=0;var f=D.sLocalBuffer;f.floatArray[f.position>>>2]=this.resultColorR;f.position+=4;f=D.sLocalBuffer;f.floatArray[f.position>>>2]=this.resultColorG;f.position+=4;f=D.sLocalBuffer;f.floatArray[f.position>>>2]=this.resultColorB;f.position+=4;f=D.sLocalBuffer;f.floatArray[f.position>>>2]=this.resultAlpha;f.position+=4;f=D.sLocalBuffer;f.bytes.setInt32(f.position,this.resultOffsetColor);f.position+=4;this.textDisplayData.setTo(td.sInstance,
k,g,this.resultWidth,this.resultHeight);var n=this.textDisplayData.chars*(this.shadow?2:1);n=16*n*b.stride;if(null==this.localData||this.localData.length!=n){var p=this.localData;null!=p&&p.dispose();this.localData=new Pc(n)}n=this.localData.position=0;p=this.localData.floatArray;var h=D.sLocalBuffer.bytes,l=this.textDisplayData.height,m=0;switch(this.valignText){case "bottom":m=this.resultHeight-l;break;case "center":m=(this.resultHeight-l-e.lineTop*g)/2;break;case "top":m=-e.lineTop*g}for(var G=
0,y=0,v=this.textDisplayData.lines;y<v.length;){var K=v[y];++y;var U=0;switch(this.halignText){case "center":U=(this.resultWidth-K.lineWidth)/2;break;case "right":U=this.resultWidth-K.lineWidth}for(var I=K.startIdx-1;++I<K.endIdx;){f=E.cca(k,I);if(60==f){f=E.substr(k,I+1,k.indexOf(">",I)-I-1);if(0==f.indexOf("/col"))D.sLocalBuffer.position=0,f=D.sLocalBuffer,f.floatArray[f.position>>>2]=this.resultColorR,f.position+=4,f=D.sLocalBuffer,f.floatArray[f.position>>>2]=this.resultColorG,f.position+=4,f=
D.sLocalBuffer,f.floatArray[f.position>>>2]=this.resultColorB,f.position+=4,f=D.sLocalBuffer,f.floatArray[f.position>>>2]=this.resultAlpha,f.position+=4,f=D.sLocalBuffer,f.bytes.setInt32(f.position,this.resultOffsetColor),f.position+=4;else if(0==f.indexOf("col=")){f=M.parseInt(E.substr(f,4,9));D.sLocalBuffer.position=0;var u=D.sLocalBuffer;u.floatArray[u.position>>>2]=this.resultColorR*(f>>16&255)/255;u.position+=4;u=D.sLocalBuffer;u.floatArray[u.position>>>2]=this.resultColorG*(f>>8&255)/255;u.position+=
4;u=D.sLocalBuffer;u.floatArray[u.position>>>2]=this.resultColorB*(f&255)/255;u.position+=4;f=D.sLocalBuffer;f.floatArray[f.position>>>2]=this.resultAlpha;f.position+=4;f=D.sLocalBuffer;f.bytes.setInt32(f.position,this.resultOffsetColor);f.position+=4}for(;62!=E.cca(k,++I););f=E.cca(k,++I)}u=e.mChars.h[f];null==u&&0==f?u=e.mSpaceChar:null==u&&(u=e.mQuestionChar);f=u;if(null!=f){var r=f.width;l=f.height;u=f.texCoordLeft;var w=f.texCoordRight,F=f.texCoordTop,C=f.texCoordBottom,B=U+f.xOffset*g;r=(r+
f.xOffset)*g+U;var Ea=m+f.yOffset*g;l=m+(f.yOffset+l)*g;var H=D.sP11;H.x=B;H.y=Ea;H.multiplyMatrix(this.resultMatrix);H=D.sP41;H.x=r;H.y=Ea;H.multiplyMatrix(this.resultMatrix);r=D.sP14;r.x=B;r.y=l;r.multiplyMatrix(this.resultMatrix);B=D.sP44;r=D.sP41;B.x=r.x;B.y=r.y;B.w=r.w;r=D.sP14;B.x+=r.x;B.y+=r.y;r=D.sP11;B.x-=r.x;B.y-=r.y;p[n++]=D.sP11.x;p[n++]=D.sP11.y;this.localData.bytes.blit(n<<2,h,0,20);n+=5;p[n++]=u;p[n++]=F;p[n++]=1;p[n++]=D.sP41.x;p[n++]=D.sP41.y;this.localData.bytes.blit(n<<2,h,0,20);
n+=5;p[n++]=w;p[n++]=F;p[n++]=1;p[n++]=D.sP14.x;p[n++]=D.sP14.y;this.localData.bytes.blit(n<<2,h,0,20);n+=5;p[n++]=u;p[n++]=C;p[n++]=1;p[n++]=D.sP44.x;p[n++]=D.sP44.y;this.localData.bytes.blit(n<<2,h,0,20);n+=5;p[n++]=w;p[n++]=C;p[n++]=1;++G;U+=f.xAdvance*g}}m+=e.lineHeight*g;this.textHeight=Math.max(this.textHeight,m);this.textWidth=Math.max(this.textWidth,U)}e=n<<2;this.localData.length>e&&(this.localData.length=e);c!=this.textHeight&&this.dispatchSimpleXEvent("XText::UPDATE_HEIGHT",this.textHeight);
d!=this.textWidth&&this.dispatchSimpleXEvent("XText::UPDATE_WIDTH",this.textWidth)}null!=this.localData&&(b.addEntry(this.localData.length/(4*b.stride)|0),f=b.data,b=this.localData.length,f.bytes.blit(f.position,this.localData.bytes,0,b),f.position+=b)}sa.prototype.write.call(this,a)},applyStringAttribute:function(a,b){switch(a){case "halignText":this.set_halignText(b);break;case "text":this.set_text(b);break;case "valignText":this.valignText=b;break;default:sa.prototype.applyStringAttribute.call(this,
a,b)}},applyBoolAttribute:function(a,b){"shadow"==a?this.shadow=b:sa.prototype.applyBoolAttribute.call(this,a,b)},applyFloatAttribute:function(a,b){"size"==a?this.set_size(b):sa.prototype.applyFloatAttribute.call(this,a,b)},copyElements:function(a){sa.prototype.copyElements.call(this,a);a.set_size(this.size);a.shadow=this.shadow;a.set_text(new String(this.get_text()));a.set_halignText(this.halignText);a.valignText=this.valignText},dispose:function(){this.rawText=null;this.set_text(null);this.set_halignText(null);
this.localData=this.valignText=null;var a=this.textDisplayData;null!=a&&a.dispose();this.textDisplayData=null;sa.prototype.dispose.call(this)},__class__:D,__properties__:m(sa.prototype.__properties__,{set_size:"set_size",set_text:"set_text",get_text:"get_text",set_halignText:"set_halignText"})});var Gc=function(a){this.hasFocus=!1;this.autocomplete="no";this.multiLine=this.showAsPassword=!1;this.maxlength=this.minlength=this.tag=this.initialText=this.restrict=null;D.call(this,a);this.writeText=!1};
h["system.gfx.ui.elements.XTextInput"]=Gc;Gc.__name__="system.gfx.ui.elements.XTextInput";Gc.__super__=D;Gc.prototype=m(D.prototype,{onAdded:function(){this.showNativeInput()},set_multiLine:function(a){this.multiLine!=a&&(this.multiLine=a,this.recreateNativeInput());return a},isInitial:function(){return this.get_text()!=this.initialText?null==this.get_text():!0},set_initialText:function(a){var b=N.translate(a,null);this.initialText!=b&&(this.initialText=b,null!=this.textInput&&(this.textInput.placeholder=
a));return a},set_tag:function(a){this.tag=a;null!=this.textInput&&(this.textInput.id=this.tag);return a},applyStringAttribute:function(a,b){switch(a){case "autocomplete":this.autocomplete=b;break;case "initial":this.set_initialText(b);break;case "restrict":this.restrict=b;break;case "tag":this.set_tag(b);break;default:D.prototype.applyStringAttribute.call(this,a,b)}},applyFloatAttribute:function(a,b){switch(a){case "maxlength":this.maxlength=Math.round(b);break;case "minlength":this.minlength=Math.round(b);
break;default:D.prototype.applyFloatAttribute.call(this,a,b)}},applyBoolAttribute:function(a,b){switch(a){case "multiLine":this.set_multiLine(b);break;case "password":this.showAsPassword=b;break;default:D.prototype.applyBoolAttribute.call(this,a,b)}},onKeyDown:function(a){if(this.hasFocus&&!this.multiLine)switch(a.code){case 9:this.dispatchSimpleXEvent("tabEvent");a.stop=!0;break;case 13:a.stop=!0,null!=window.document.activeElement&&window.document.activeElement.blur(),this.dispatchSimpleXEvent("enterEvent")}},
write:function(a){this.updatePosition();D.prototype.write.call(this,a)},showNativeInput:function(){var a=this;if(null==this.textInput){var b=this.multiLine?"textArea":"input";this.textInput=window.document.createElement(b);this.multiLine||(this.textInput.type=this.showAsPassword&&null==this.initialText?"password":"text");this.textInput.autocomplete=this.autocomplete;null!=this.tag&&(this.textInput.id=this.tag);null!=this.maxlength&&(this.textInput.maxLength=this.maxlength);null!=this.minlength&&(this.textInput.minLength=
this.minlength);this.textInput.placeholder=this.initialText;b=this.textInput.style;b.position="absolute";b.padding=this.textInput.style.margin="0px 0px";this.textInput.onkeydown=function(b){if(a.textInput instanceof HTMLTextAreaElement&&13==b.keyCode){b.preventDefault();var c=a.textInput.value;b=a.textInput.selectionEnd;var e=E.substr(c,0,a.textInput.selectionStart);c=E.substr(c,b,c.length);a.set_text(a.textInput.value=e+"\n"+c);a.textInput.setSelectionRange(b+1,b+1);return!1}return!0};b.border=b.outline=
"none";b=null==this.get_text()?"":this.get_text();this.textInput.value=b;this.invalidate();this.updatePosition();this.textInput.addEventListener("input",l(this,this.handleInputEvent),!0);this.textInput.addEventListener("focus",l(this,this.onFocus),!0);this.registerXEventListener(ca.get_instance(),"KEY_DOWN_EVENT",l(this,this.onKeyDown));window.document.body.appendChild(this.textInput);b=null!=this.get_text()?this.get_text().length:0;this.textInput.setSelectionRange(b,b)}},set_text:function(a){if(this.get_text()!=
a){D.prototype.set_text.call(this,a);if(null!=this.textInput){var b=null==this.get_text()?"":this.get_text();this.textInput.value=b}this.invalidate()}return a},get_text:function(){return this.text},focus:function(){if(null!=this.textInput){var a=null!=this.get_text()?this.get_text().length:0;this.textInput.setSelectionRange(a,a)}},recreateNativeInput:function(){null!=this.textInput&&this.hideNativeInput();this.showNativeInput()},hideNativeInput:function(){null!=this.textInput&&(this.textInput.removeEventListener("input",
l(this,this.handleInputEvent),!0),this.textInput.removeEventListener("focus",l(this,this.onFocus),!0),this.textInput.removeEventListener("blur",l(this,this.onFocusLost),!0),this.releaseXEventListener(ca.get_instance(),"KEY_DOWN_EVENT",l(this,this.onKeyDown)),this.textInput.blur(),this.textInput.parentElement.removeChild(this.textInput),this.textInput=null)},updatePosition:function(){if(null!=this.textInput){var a=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];a.x=0;a.y=0;var b=B.mapToScreen(a.multiplyMatrix(this.resultMatrix));
a=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];a.x=this.resultWidth;a.y=this.resultHeight;var c=B.mapToScreen(a.multiplyNonTransMatrix(this.resultMatrix));a=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];a.x=0;a.y=this.size;a=B.mapToScreen(a.multiplyNonTransMatrix(this.resultMatrix));var d=this.textInput.style;d.left=""+b.x+"px";d.top=""+b.y+"px";d.width=""+Math.round(c.x)+"px";d.height=""+Math.round(c.y)+"px";d.fontSize=""+Math.round(a.y)+"px";d.zIndex="100"}},set_visible:function(a){null!=this.textInput&&
this.visible!=a&&(this.textInput.style.display=a?"block":"none");return D.prototype.set_visible.call(this,a)},handleInputEvent:function(a){D.prototype.set_text.call(this,this.textInput.value);this.dispatchSimpleXEvent("changeEvent")},onFocus:function(a){this.hasFocus=!0;null==this.textInput||this.multiLine||(this.textInput.type=this.showAsPassword?"password":"text",this.textInput.addEventListener("blur",l(this,this.onFocusLost),!0))},onFocusLost:function(a){this.hasFocus=!1;a.target==this.textInput&&
this.dispatchSimpleXEvent("focusLostEvent")},onTouch:function(a,b){Y.get_instance().play("sound/click.mp3",0,1,1);this.focus();D.prototype.onTouch.call(this,a,b)},dispose:function(){this.hideNativeInput();D.prototype.dispose.call(this)},__class__:Gc,__properties__:m(D.prototype.__properties__,{set_multiLine:"set_multiLine",set_initialText:"set_initialText",set_tag:"set_tag"})});var Zc=function(){this.mDefaultWidth=500;this.mPaddingY=60;this.mPaddingX=40;this.mOffsetX=this.mOffsetY=50;this.mDuration=
.2;sa.call(this,bc.getLibrary("xml/library.xml"));ta.applyFromStringTo('<element width="'+this.mDefaultWidth+'" height="250">\r\n\t\t\t\t<image name="uiImgBg" width="100%" height="100%" image="ui/barbutton_01.png" nss="45,35,11,3" color="0x7F7F7F" />\r\n\t\t\t\t<element width="100%" height="100%" paddingLeft="'+this.mPaddingX+'" paddingRight="'+this.mPaddingX+'" paddingTop="'+this.mPaddingY+'" paddingBottom="'+this.mPaddingY+'" >\r\n\t\t\t\t\t<text text="this is a Tooltip" name="uiTxtMessage" template="tFontWhite,tFontMedium,tElement" valignText="center" >\r\n\t\t\t\t\t\t<state state="landscape" template="tFontMedium" />\r\n\t\t\t\t\t\t<state state="portrait" template="tFontLarge" />\r\n\t\t\t\t\t</text>\r\n\t\t\t\t</element>\r\n\t\t\t\t<element name="uiContainer" template="tElement" />\r\n\t\t\t</element>',
this,this.context);this.mText=this.findType("uiTxtMessage",D);this.registerXEventListener(this.mText,"XText::UPDATE_WIDTH",l(this,this.onTextWidthUpdate));this.registerXEventListener(this.mText,"XText::UPDATE_HEIGHT",l(this,this.onTextHeightUpdate));this.mContainer=this.find("uiContainer");0!=this.alpha&&this.invalidate();this.alpha=0};h["system.gfx.ui.elements.XTooltip"]=Zc;Zc.__name__="system.gfx.ui.elements.XTooltip";Zc.__properties__={get_instance:"get_instance"};Zc.get_instance=function(){return Zc.sInstance=
null!=Zc.sInstance?Zc.sInstance:new Zc};Zc.__super__=sa;Zc.prototype=m(sa.prototype,{onTextWidthUpdate:function(a){a=a.data+2*this.mPaddingX;this.width!=a&&this.invalidate();null!=this.relativeWidth&&this.invalidate();this.relativeWidth=null;this.width=a},onTextHeightUpdate:function(a){a=a.data+2*this.mPaddingY;this.height!=a&&this.invalidate();null!=this.relativeHeight&&this.invalidate();this.relativeHeight=null;this.height=a},onDisposed:function(a){this.hide()},show:function(a,b){a!=this.mTarget&&
(this.releaseXEventListener(this.mTarget,"XEventDispatcher::dispose",l(this,this.onDisposed)),this.mTarget=a,this.registerXEventListener(this.mTarget,"XEventDispatcher::dispose",l(this,this.onDisposed)),B.instance.addChild(this),a=this.mDefaultWidth,this.width!=a&&this.invalidate(),null!=this.relativeWidth&&this.invalidate(),this.relativeWidth=null,this.width=a,this.mText.textHeight=this.mText.textWidth=NaN,this.mText.set_text(b),this.mStartTime=H.timer,this.mEndTime=this.mStartTime+this.mDuration)},
hide:function(){this.mContainer.removeAllChildren();this.releaseXEventListener(this.mTarget,"XEventDispatcher::dispose",l(this,this.onDisposed));this.mText.set_text("");this.mTarget=null;this.onHide()},onHide:function(){this.removeFromParent()},get_progress:function(){return(H.timer-this.mStartTime)/(this.mEndTime-this.mStartTime)},update:function(){var a=B.instance.globalX+this.mOffsetX,b=B.instance.globalY+this.mOffsetY,c=ma.fClamp(this.get_progress(),0,1);this.alpha!=c&&this.invalidate();this.alpha=
c;c=B.SCREEN_WIDTH;var d=B.SCREEN_HEIGHT;if(a>c/4*3||a+this.width>c)a-=this.width+2*this.mOffsetX;b+this.height>d-100&&(b-=this.height+2*this.mOffsetY);this.x!=a&&this.invalidate();this.x=a;this.y!=b&&this.invalidate();this.y=b;B.sLastElement!=this.mTarget&&this.hide();sa.prototype.update.call(this)},dispose:function(){this.mContainer=this.mText=null;sa.prototype.dispose.call(this)},__class__:Zc,__properties__:m(sa.prototype.__properties__,{get_progress:"get_progress"})});var ye=function(a){this.fastStepFactor=
5;this.step=1;this.max=Number.MAX_VALUE;this.min=Number.MIN_VALUE;this.value=0;Oa.call(this,a);this.clickable=!0};h["system.gfx.ui.elements.XValueControl"]=ye;ye.__name__="system.gfx.ui.elements.XValueControl";ye.__super__=Oa;ye.prototype=m(Oa.prototype,{set_value:function(a){a=ma.fClamp(a,this.min,this.max);var b=N.number(a),c=this.find("uiTxtValueControlValue");c instanceof D&&L.__cast(c,D).set_text(b);b=a<this.max;c=this.find("uiBtValueControlAdd");null!=c&&(b=(c.enabled=b)?1:.5,c.alpha!=b&&c.invalidate(),
c.alpha=b);b=a>this.min;c=this.find("uiBtValueControlMinus");null!=c&&(b=(c.enabled=b)?1:.5,c.alpha!=b&&c.invalidate(),c.alpha=b);this.value!=a&&(c=a-this.value,this.value=a,this.notifyListener(c),this.dispatchSimpleXEvent(ye.CHANGED));return this.value},applyStringAttribute:function(a,b){"image"==a?(a=this.find("uiImgValueControlIcon"),null!=a&&a instanceof C&&a.set_image(b)):Oa.prototype.applyStringAttribute.call(this,a,b)},applyFloatAttribute:function(a,b){switch(a){case "max":this.max=b;this.set_value(this.value);
break;case "min":this.min=b;this.set_value(this.value);break;case "step":this.step=b;break;case "value":this.set_value(b);break;default:Oa.prototype.applyFloatAttribute.call(this,a,b)}},onTouchUp:function(a,b,c,d){this.notifyListener(0);Y.get_instance().play("sound/click.mp3",0,1,1);this.blubb();Oa.prototype.onTouchUp.call(this,a,b,c,d)},notifyListener:function(a){if(null!=this.parent){var b=this.parent.getControllListener();if(null!=b)b.onValueControlAction(this,a)}},onButtonClick:function(a){switch(a.name){case "uiBtValueControlAdd":this.set_value(this.value+
(ca.get_instance().buttonPressed(2)?this.fastStepFactor:1)*this.step);break;case "uiBtValueControlMinus":this.set_value(this.value-(ca.get_instance().buttonPressed(2)?this.fastStepFactor:1)*this.step);break;default:Oa.prototype.onButtonClick.call(this,a)}},__class__:ye,__properties__:m(Oa.prototype.__properties__,{set_value:"set_value"})});var sd=function(){this.blend=!0;this.clipRectangle=this.externalLayer=null;this.vertexBuffer=new Jb(256,10)};h["system.gfx.ui.elements.data.LayerDrawData"]=sd;
sd.__name__="system.gfx.ui.elements.data.LayerDrawData";sd.__super__=Qa;sd.prototype=m(Qa.prototype,{upload:function(){this.vertexBuffer.upload()},reset:function(){this.externalLayer=null;this.vertexBuffer.entries=0},start:function(){if(null!=this.clipRectangle){var a=p.instance;a.mClipStack.push(a.clipRectangle);a=p.instance;var b=this.clipRectangle;null!=a.clipRectangle&&(Ic.sRectangleData[Ic.sRectangleDataCount++]=a.clipRectangle,a.clipRectangle=null);null!=b&&(a.clipRectangle=0<Ic.sRectangleDataCount?
Ic.sRectangleData[--Ic.sRectangleDataCount]:new Db,a.clipRectangle.copyFrom(b));null!=a.clipRectangle?(p.gl.enable(p.gl.SCISSOR_TEST),p.gl.scissor(a.clipRectangle.x|0,a.height-a.clipRectangle.get_bottom()|0,a.clipRectangle.width|0,a.clipRectangle.height|0)):p.gl.disable(p.gl.SCISSOR_TEST)}p.instance.enableBlend(this.blend)},end:function(){if(null!=this.clipRectangle){var a=p.instance,b=a.mClipStack.pop();null!=a.clipRectangle&&(Ic.sRectangleData[Ic.sRectangleDataCount++]=a.clipRectangle,a.clipRectangle=
null);null!=b&&(a.clipRectangle=0<Ic.sRectangleDataCount?Ic.sRectangleData[--Ic.sRectangleDataCount]:new Db,a.clipRectangle.copyFrom(b));null!=a.clipRectangle?(p.gl.enable(p.gl.SCISSOR_TEST),p.gl.scissor(a.clipRectangle.x|0,a.height-a.clipRectangle.get_bottom()|0,a.clipRectangle.width|0,a.clipRectangle.height|0)):p.gl.disable(p.gl.SCISSOR_TEST)}},dispose:function(){Qa.prototype.dispose.call(this);var a=this.vertexBuffer;null!=a&&a.dispose();this.clipRectangle=this.vertexBuffer=null},__class__:sd});
var Jc=function(){this.endIdx=this.startIdx=this.lineWidth=0};h["system.gfx.ui.elements.data.LineData"]=Jc;Jc.__name__="system.gfx.ui.elements.data.LineData";Jc.create=function(){if(0<Jc.sLineDataPool.length){var a=Jc.sLineDataPool.pop();a.clear();return a}return new Jc};Jc.recycle=function(a){Jc.sLineDataPool.push(a)};Jc.prototype={clear:function(){this.lineWidth=this.startIdx=this.endIdx=0},__class__:Jc};var Ih=function(){this.mChar=this.mLine=null;this.height=this.chars=this.mIdx=this.mTextLength=
0;this.lines=[]};h["system.gfx.ui.elements.data.TextDisplayData"]=Ih;Ih.__name__="system.gfx.ui.elements.data.TextDisplayData";Ih.__interfaces__=[Va];Ih.prototype={setTo:function(a,b,c,d,e){if(this.mFont!=a||this.mText!=b||this.mScale!=c||this.mMaxWidth!=d||this.mMaxHeight!=e)this.mFont=a,this.mText=b,this.mScale=c,this.mMaxWidth=d,this.mMaxHeight=e,this.mTextLength=this.mText.length,this.scan()},scan:function(){if(!(1>=this.mMaxWidth)){for(;0<this.lines.length;)Jc.recycle(this.lines.pop());for(var a=
this.chars=this.height=this.mIdx=0,b=0,c=0,d=0,e=0,g=0;this.mIdx<this.mTextLength;){var k=E.cca(this.mText,this.mIdx);if(60==k){for(;62!=E.cca(this.mText,++this.mIdx););k=E.cca(this.mText,++this.mIdx)}var f=this.mIdx+1>=this.mTextLength,n=this.mFont,p=n.mChars.h[k];null==p&&0==k?p=n.mSpaceChar:null==p&&(p=n.mQuestionChar);this.mChar=p;if(this.mChar.wordEnd||f)d=this.mIdx,b=a;++this.chars;a+=this.mChar.xAdvance*this.mScale;a<this.mMaxWidth&&(e=this.mIdx,g=a);if(a>this.mMaxWidth||f||this.mChar.lineEnd)k=
Jc.create(),k.startIdx=c,0==b?(d=e,k.endIdx=d+1,k.lineWidth=g,g=0):(k.endIdx=f?this.mTextLength:d,k.lineWidth=f?a:b),this.lines.push(k),b=a=e=0,c=d+1,this.mIdx=d,this.height+=this.mFont.size*this.mScale;++this.mIdx}}},dispose:function(){if(null!=this.lines){for(;0<this.lines.length;)Jc.recycle(this.lines.pop());this.lines=null}this.mLine=this.mChar=this.mText=this.mFont=null},__class__:Ih};var Gd=function(a,b,c){this.mXEventListener=null;this.timeRest=Math.round(1E3*(a-Math.floor(a)));this.textField=
b;this.format=c;this.duration=a;this.startTime=H.timer;this.updateText()};h["system.gfx.ui.elements.data.XCountDown"]=Gd;Gd.__name__="system.gfx.ui.elements.data.XCountDown";Gd.__super__=T;Gd.prototype=m(T.prototype,{start:function(){var a=this;0<this.timeRest?fc.delay(function(){a.mTimer=new fc(1E3);a.mTimer.run=l(a,a.secondlyTick);a.dispatchSimpleXEvent("XCountDown::COUNTDOWN_TICK")},this.timeRest):(this.mTimer=new fc(1E3),this.mTimer.run=l(this,this.secondlyTick),this.dispatchSimpleXEvent("XCountDown::COUNTDOWN_TICK"));
return this},secondlyTick:function(){this.time=Math.floor(this.duration-(H.timer-this.startTime))-1;this.updateText();this.dispatchSimpleXEvent("XCountDown::COUNTDOWN_TICK");0>=Math.floor(this.duration-(H.timer-this.startTime))&&(this.dispatchSimpleXEvent("XCountDown::COUNTDOWN_FINISHED"),this.dispose())},updateText:function(){null!=this.textField&&this.textField.set_text(N.countdown(0>Math.floor(this.duration-(H.timer-this.startTime))?0:Math.floor(this.duration-(H.timer-this.startTime)),this.format))},
dispose:function(){this.format=this.text=this.textField=null;null!=this.mTimer&&(this.mTimer.stop(),this.mTimer=null);T.prototype.dispose.call(this)},__class__:Gd});var tb=function(){this.v=[0,0];this.u=[0,0];this.endSize=this.gravity=0;this.startSize=30;this.endCol=Ob._new();this.startCol=Ob._new();this.duration=1;this.x=this.y=this.dx=this.dy=this.startTime=0;if(null==tb.sLocalBuffer){tb.sLocalBuffer=new Pc(20);tb.sLocalBuffer.position=16;var a=tb.sLocalBuffer;a.bytes.setInt32(a.position,0);a.position+=
4;tb.sArr=Ti.fromBytes(tb.sLocalBuffer.bytes)}};h["system.gfx.ui.elements.data.particle.XParticle"]=tb;tb.__name__="system.gfx.ui.elements.data.particle.XParticle";tb.create=function(){return 0<tb.sParticles.length?tb.sParticles.pop():new tb};tb.prototype={setTo:function(a,b,c,d,e,g){null==e&&(e=0);this.x=a;this.y=b;a=Math.sqrt(c*c+d*d);this.dx=c/a*g.range;this.dy=d/a*g.range;this.startTime=H.timer+e;null!=g&&(this.duration=g.duration,c=this.startCol,d=g.startColor,Ob.set_r(c,O.toFloat(d>>>16&255)/
255),Ob.set_g(c,O.toFloat(d>>>8&255)/255),Ob.set_b(c,O.toFloat(d&255)/255),Ob.set_a(c,O.toFloat(d>>>24&255)/255),c=this.endCol,d=g.endColor,Ob.set_r(c,O.toFloat(d>>>16&255)/255),Ob.set_g(c,O.toFloat(d>>>8&255)/255),Ob.set_b(c,O.toFloat(d&255)/255),Ob.set_a(c,O.toFloat(d>>>24&255)/255),this.startSize=g.startSize,this.endSize=g.endSize,this.gravity=g.gravity,c=g.atlas,null!=c&&(g=c.getTexture(g.image),null!=g&&(this.u[0]=g.scaledLeft,this.u[1]=g.scaledRight,this.v[0]=g.scaledTop,this.v[1]=g.scaledBottom)))},
write:function(a,b,c){c=Math.min(1,(H.timer-this.startTime)/this.duration);var d=Math.sqrt(c),e=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];e.x=this.x+this.dx*d;e.y=this.y+this.dy*d+this.gravity*c*c;d=e;var g=this.startSize*(1-c)+this.endSize*c;tb.sArr[0]=Ob.get_r(this.startCol)*(1-c)+Ob.get_r(this.endCol)*c;tb.sArr[1]=Ob.get_g(this.startCol)*(1-c)+Ob.get_g(this.endCol)*c;tb.sArr[2]=Ob.get_b(this.startCol)*(1-c)+Ob.get_b(this.endCol)*c;tb.sArr[3]=(Ob.get_a(this.startCol)*(1-c)+Ob.get_a(this.endCol)*
c)*a;e=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];e.x=-1*g;e.y=-1*g;a=e;a.x+=d.x;a.y+=d.y;b.floatArray[b.position>>>2]=a.x;b.position+=4;b.floatArray[b.position>>>2]=a.y;b.position+=4;b.bytes.blit(b.position,tb.sLocalBuffer.bytes,0,20);b.position+=20;b.floatArray[b.position>>>2]=this.u[0];b.position+=4;b.floatArray[b.position>>>2]=this.v[0];b.position+=4;b.floatArray[b.position>>>2]=0;b.position+=4;e=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];e.x=1*g;e.y=-1*g;a=e;a.x+=d.x;a.y+=d.y;b.floatArray[b.position>>>
2]=a.x;b.position+=4;b.floatArray[b.position>>>2]=a.y;b.position+=4;b.bytes.blit(b.position,tb.sLocalBuffer.bytes,0,20);b.position+=20;b.floatArray[b.position>>>2]=this.u[1];b.position+=4;b.floatArray[b.position>>>2]=this.v[0];b.position+=4;b.floatArray[b.position>>>2]=0;b.position+=4;e=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];e.x=-1*g;e.y=g;a=e;a.x+=d.x;a.y+=d.y;b.floatArray[b.position>>>2]=a.x;b.position+=4;b.floatArray[b.position>>>2]=a.y;b.position+=4;b.bytes.blit(b.position,tb.sLocalBuffer.bytes,
0,20);b.position+=20;b.floatArray[b.position>>>2]=this.u[0];b.position+=4;b.floatArray[b.position>>>2]=this.v[1];b.position+=4;b.floatArray[b.position>>>2]=0;b.position+=4;e=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];e.x=1*g;e.y=g;a=e;a.x+=d.x;a.y+=d.y;b.floatArray[b.position>>>2]=a.x;b.position+=4;b.floatArray[b.position>>>2]=a.y;b.position+=4;b.bytes.blit(b.position,tb.sLocalBuffer.bytes,0,20);b.position+=20;b.floatArray[b.position>>>2]=this.u[1];b.position+=4;b.floatArray[b.position>>>2]=this.v[1];
b.position+=4;b.floatArray[b.position>>>2]=0;b.position+=4;return 1<=c},recycle:function(){tb.sParticles.push(this)},__class__:tb};var zi=function(){this.image="gems/star.png";this.endSize=this.gravity=0;this.startSize=15;this.startColor=this.endColor=-1;this.duration=.5;this.range=120};h["system.gfx.ui.elements.data.particle.XParticleDescriptor"]=zi;zi.__name__="system.gfx.ui.elements.data.particle.XParticleDescriptor";zi.prototype={__class__:zi};var Yc=function(){this.mRest=0;this.active=!0;this.middle=
new n;this.particles=[];this.desc=new zi;this.numParticlesPerSecond=this.numToAddParticles=0;this.mXEventListener=null;this.lastTick=H.timer};h["system.gfx.ui.elements.data.particle.XParticleEmitter"]=Yc;Yc.__name__="system.gfx.ui.elements.data.particle.XParticleEmitter";Yc.__super__=T;Yc.prototype=m(T.prototype,{rndBorderPos:function(a,b,c,d,e){null==e&&(e=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen]);switch(M.random(4)){case 0:var g=.5*Math.random(),k=.5*Math.random(),f=null;null==f&&(f=n.sTempV2D[++n.sTempV2DIdx%
n.sTempV2DLen]);var p=1/(1+g+k);f.x=(1*a.x+b.x*g+c.x*k)*p;f.y=(1*a.y+b.y*g+c.y*k)*p;g=f;var h=.5*Math.random();k=.5*Math.random();f=null;null==f&&(f=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen]);p=1/(h+1+k);f.x=(a.x*h+1*b.x+d.x*k)*p;f.y=(a.y*h+1*b.y+d.y*k)*p;return n.LERP(e,g,f,Math.random());case 1:return g=.5*Math.random(),k=.5*Math.random(),f=null,null==f&&(f=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen]),p=1/(1+g+k),f.x=(1*a.x+b.x*g+c.x*k)*p,f.y=(1*a.y+b.y*g+c.y*k)*p,g=f,h=.5*Math.random(),k=.5*Math.random(),
f=null,null==f&&(f=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen]),p=1/(h+1+k),f.x=(a.x*h+1*c.x+d.x*k)*p,f.y=(a.y*h+1*c.y+d.y*k)*p,n.LERP(e,g,f,Math.random());case 2:return h=.5*Math.random(),k=.5*Math.random(),f=null,null==f&&(f=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen]),p=1/(h+1+k),f.x=(a.x*h+1*b.x+d.x*k)*p,f.y=(a.y*h+1*b.y+d.y*k)*p,a=f,h=.5*Math.random(),g=.5*Math.random(),f=null,null==f&&(f=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen]),p=1/(h+g+1),f.x=(b.x*h+c.x*g+1*d.x)*p,f.y=(b.y*h+c.y*g+1*d.y)*p,n.LERP(e,
f,a,Math.random());case 3:return h=.5*Math.random(),k=.5*Math.random(),f=null,null==f&&(f=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen]),p=1/(h+1+k),f.x=(a.x*h+1*c.x+d.x*k)*p,f.y=(a.y*h+1*c.y+d.y*k)*p,a=f,h=.5*Math.random(),g=.5*Math.random(),f=null,null==f&&(f=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen]),p=1/(h+g+1),f.x=(b.x*h+c.x*g+1*d.x)*p,f.y=(b.y*h+c.y*g+1*d.y)*p,n.LERP(e,f,a,Math.random())}return e},write:function(a,b,c,d,e){if(null!=this.desc.image){var g=a.atlas.getTexture(this.desc.image);this.desc.atlas=
a.atlas;if(null!=g){var k=this.middle;k.x=.5*c;k.y=.5*d;g=k.multiplyMatrix(e);var f=Math.min(.1,H.timer-this.lastTick),p=0;if(this.active){var h=this.numParticlesPerSecond*f+this.mRest;p=Math.round(h);this.mRest=h-p}h=0;for(var l=p+this.numToAddParticles;h<l;){p=h++;k=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];k.x=0;k.y=0;var m=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];m.x=c;m.y=0;var G=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];G.x=0;G.y=d;var y=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];y.x=c;y.y=
d;k=this.rndBorderPos(k,m,G,y).multiplyMatrix(e);m=tb.create();G=n.SUB(n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen],k,g);m.setTo(k.x,k.y,G.x*(1+Math.random()),G.y*(1+Math.random()),f/(1+p),this.desc);this.particles.push(m)}this.numToAddParticles=0;a=a.currentDrawData.vertexBuffer;c=this.particles.length;a.addEntry(4*c);a=a.data;for(p=c;0<p--;)c=this.particles[p],c.write(b,a,e)&&(E.remove(this.particles,c),c.recycle());this.lastTick=H.timer}}},pulse:function(a){this.numToAddParticles=a},dispose:function(){this.desc=
null;T.prototype.dispose.call(this)},__class__:Yc});var ze=function(a,b,c,d,e,g,k,f,n){this.mKernings=null;this.valid=!0;this.charID=a;this.xOffset=g;this.yOffset=k;this.xAdvance=f;this.texLeft=b;this.texTop=c;this.texRight=d;this.texBottom=e;this.width=this.texRight-this.texLeft;this.height=this.texBottom-this.texTop;b=1/n.width;this.texCoordLeft=this.texLeft*b;this.texCoordTop=this.texTop*b;this.texCoordRight=this.texRight*b;this.texCoordBottom=this.texBottom*b;this.lineEnd=10==a||13==a;this.wordEnd=
32==a||this.lineEnd};h["system.gfx.ui.font.XBitmapChar"]=ze;ze.__name__="system.gfx.ui.font.XBitmapChar";ze.__interfaces__=[Va];ze.prototype={addKerning:function(a,b){null==this.mKernings&&(this.mKernings=new nb);this.mKernings.h[a]=b},dispose:function(){this.valid=!1;this.mKernings=null},__class__:ze};var td=function(a){null==a&&(a="font");this.mChars=new nb;td.sInstance=this;this.texture=Za.getTexture("font/"+a+".png");var b=S.parse(ea.getText("font/"+a+".fnt"));this.name=a;this.lineHeight=this.size=
this.baseline=1;a=b.firstElement();if(a.nodeType!=S.Document&&a.nodeType!=S.Element)throw P.thrown("Invalid nodeType "+(null==a.nodeType?"null":Ca.toString(a.nodeType)));this.parseFontXml(a)};h["system.gfx.ui.font.XBitmapFont"]=td;td.__name__="system.gfx.ui.font.XBitmapFont";td.__super__=Qa;td.prototype=m(Qa.prototype,{parseFontXml:function(a){this.size=parseFloat(nc.resolve(We.resolve(a,"info"),"size"));this.lineHeight=parseFloat(nc.resolve(We.resolve(a,"common"),"lineHeight"));this.baseline=parseFloat(nc.resolve(We.resolve(a,
"common"),"base"));this.lineTop=Li.resolve(We.resolve(a,"common"),"lineTop")?parseFloat(nc.resolve(We.resolve(a,"common"),"lineTop")):21;for(var b=new Db,c=We.resolve(a,"chars").elements();c.hasNext();){var d=c.next(),e=M.parseInt(nc.resolve(d,"id")),g=parseFloat(nc.resolve(d,"xoffset")),k=parseFloat(nc.resolve(d,"yoffset")),f=parseFloat(nc.resolve(d,"xadvance"));b.x=parseFloat(nc.resolve(d,"x"))+0;b.y=parseFloat(nc.resolve(d,"y"))+0;b.width=parseFloat(nc.resolve(d,"width"));b.height=parseFloat(nc.resolve(d,
"height"));d=new ze(e,b.get_left(),b.get_top(),b.get_right(),b.get_bottom(),g,k,f,this.texture);this.addChar(e,d)}this.addChar(13,new ze(13,0,0,1,1,0,0,0,this.texture));this.addChar(10,new ze(10,0,0,1,1,0,0,0,this.texture));b=this.mChars.h[32];null==b&&(b=this.mQuestionChar);this.mSpaceChar=b;b=this.mChars.h[63];null==b&&(b=this.mQuestionChar);this.mQuestionChar=b;if(Ui.resolve(a,"kernings"))for(a=We.resolve(a,"kernings").elements();a.hasNext();)b=a.next(),c=M.parseInt(nc.resolve(b,"first")),e=M.parseInt(nc.resolve(b,
"second")),d=Li.resolve(b,"amount")?parseFloat(nc.resolve(b,"amount")):0,this.mChars.h.hasOwnProperty(e)&&(b=this.mChars.h[e],null==b&&0==e?b=this.mSpaceChar:null==b&&(b=this.mQuestionChar),b.addKerning(c,d))},addChar:function(a,b){this.mChars.h[a]=b},dispose:function(){this.mChars=this.texture=this.name=null;Qa.prototype.dispose.call(this)},__class__:td});var bc=function(a){this.externalLibs=[];this.templates=new Ia;this.mXEventListener=null;"string"==typeof a&&this.load(a)};h["system.gfx.ui.library.XLibrary"]=
bc;bc.__name__="system.gfx.ui.library.XLibrary";bc.getLibrary=function(a){if(Object.prototype.hasOwnProperty.call(bc.sLibs.h,a))return bc.sLibs.h[a];var b=new bc(a);return bc.sLibs.h[a]=b};bc.__super__=T;bc.prototype=m(T.prototype,{readXMLTemplates:function(a){for(a=a.elements();a.hasNext();){var b=a.next();b=ta.create(this).fromXML(b);Object.prototype.hasOwnProperty.call(this.templates.h,b.id)&&this.templates.h[b.id].dispose();this.templates.h[b.id]=b}},load:function(a){var b=this;ea.loadText(a).onComplete(function(a){b.fromXML(S.parse(a))})},
fromXML:function(a){if(a.nodeType!=S.Document&&a.nodeType!=S.Element)throw P.thrown("Invalid nodeType "+(null==a.nodeType?"null":Ca.toString(a.nodeType)));for(a=a.elements();a.hasNext();){var b=a.next();this.readNode(b)}},readNode:function(a){if(a.nodeType==S.Document)var b="Document";else{if(a.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":Ca.toString(a.nodeType)));b=a.nodeName}switch(b){case "libraries":for(a=a.elements();a.hasNext();)b=
a.next(),this.externalLibs.push(bc.getLibrary(nc.resolve(b,"file")));break;case "templates":this.readXMLTemplates(a)}},exits:function(a){if(Object.prototype.hasOwnProperty.call(this.templates.h,a))return!0;if(null!=this.externalLibs)for(var b=0,c=this.externalLibs;b<c.length;){var d=c[b];++b;if(d.exits(a))return!0}return!1},getTemplate:function(a){if(null!=this.templates&&Object.prototype.hasOwnProperty.call(this.templates.h,a))return this.templates.h[a];if(null!=this.externalLibs)for(var b=0,c=this.externalLibs;b<
c.length;){var d=c[b];++b;d=d.getTemplate(a);if(null!=d)return d}return null},dispose:function(){if(null!=this.templates){for(var a=this.templates.h,b=Object.keys(a),c=b.length,d=0;d<c;){var e=a[b[d++]];e.clear();ta.sPool.push(e)}this.templates.h=Object.create(null);this.templates=null}this.externalLibs=null;T.prototype.dispose.call(this)},__class__:bc});var Ge=function(){bc.call(this);this.template=ta.create(this)};h["system.gfx.ui.library.XLayerTemplate"]=Ge;Ge.__name__="system.gfx.ui.library.XLayerTemplate";
Ge.__super__=bc;Ge.prototype=m(bc.prototype,{readNode:function(a){if(a.nodeType==S.Document)var b="Document";else{if(a.nodeType!=S.Element)throw P.thrown("Bad node type, expected Element but found "+(null==a.nodeType?"null":Ca.toString(a.nodeType)));b=a.nodeName}"screen"==b?this.template.readNode(a):bc.prototype.readNode.call(this,a)},dispose:function(){var a=this.template;null!=a&&a.dispose();this.template=null;bc.prototype.dispose.call(this)},__class__:Ge});var wf=function(a,b){this.mXEventListener=
this.lastElement=this.currentElement=null;this.name=a;var c=null!=b.parent?b.parent.resultMatrix[0]:1,d=null!=b.parent?b.parent.resultMatrix[4]:1;a=this.xdo=b.clone();a.scaleX!=c&&a.invalidate();a.scaleX=c;a=this.xdo;a.scaleY!=d&&a.invalidate();a.scaleY=d;this.xdo.addAnimation(new Ac(null));a=n.sTempV2D[++n.sTempV2DIdx%n.sTempV2DLen];a.x=0;a.y=0;c=a;c.multiplyMatrix(b.resultMatrix);a=this.xdo;b=c.x;a.x!=b&&a.invalidate();a.x=b;a=this.xdo;b=c.y;a.y!=b&&a.invalidate();a.y=b;this.xdo.dragable=!1;a=this.xdo;
"left"!=a.halign&&a.invalidate();a.halign="left";a=this.xdo;"top"!=a.valign&&a.invalidate();a.valign="top";B.instance.get_foreground().addChild(this.xdo);B.instance.dispatchSimpleXEvent("DRAG_EVENT",this);p.window.set_cursor(Hb.CROSSHAIR);this.registerXEventListener(ca.get_instance(),"MOVE_EVENT",l(this,this.onTouchEvent));this.registerXEventListener(ca.get_instance(),"DOWN_EVENT",l(this,this.onTouchEvent));this.registerXEventListener(ca.get_instance(),"UP_EVENT",l(this,this.onTouchEvent))};h["system.gfx.ui.utils.XDragOperation"]=
wf;wf.__name__="system.gfx.ui.utils.XDragOperation";wf.__super__=T;wf.prototype=m(T.prototype,{onTouchEvent:function(a){switch(a.type){case "MOVE_EVENT":var b=this.xdo,c=a.x*B.instance.getScreenScaleX()-this.xdo.resultHeight/2;b.x!=c&&b.invalidate();b.x=c;b=this.xdo;c=a.y*B.instance.getScreenScaleY()-this.xdo.resultWidth/2;b.y!=c&&b.invalidate();b.y=c;break;case "UP_EVENT":null!=B.forceElements&&-1==B.forceElements.indexOf(B.sLastElement)||this.drop()}this.currentElement!=B.sLastElement&&"UP_EVENT"!=
a.type&&(this.lastElement=this.currentElement,this.currentElement=B.sLastElement,B.instance.dispatchSimpleXEvent("DRAG_OVER_EVENT",this))},drop:function(){this.target=B.sLastElement;this.dispatchSimpleXEvent("DROP_EVENT",this);B.instance.dispatchSimpleXEvent("DROP_EVENT",this);this.dispose()},dispose:function(){this.lastElement=this.currentElement=this.target=this.name=null;var a=this.xdo;null!=a&&a.dispose();this.xdo=null;p.window.set_cursor(Hb.DEFAULT);T.prototype.dispose.call(this)},__class__:wf});
var jf=function(){};h["system.http.Request"]=jf;jf.__name__="system.http.Request";jf.registerService=function(a,b,c,d,e){b=new Ai(a,b,c,d,e);c=jf.sServiceMap;c.h.hasOwnProperty(a)&&E.remove(c.mKeys,a);c.h[a]=b;c.mKeys.push(a);return b};var Ri=function(){};h["system.http.RequestError"]=Ri;Ri.__name__="system.http.RequestError";var Si=function(){};h["system.http.RequestResponse"]=Si;Si.__name__="system.http.RequestResponse";var rc=function(){this.keepAlive=!1;this.mXEventListener=null};h["system.http.WebSocketManager"]=
rc;rc.__name__="system.http.WebSocketManager";rc.__properties__={get_instance:"get_instance"};rc.get_instance=function(){null==rc.instance&&(rc.instance=new rc);return rc.instance};rc.__super__=T;rc.prototype=m(T.prototype,{connect:function(a){this.keepAlive=!0},send:function(a){},__class__:rc});var Ai=function(a,b,c,d,e){this.name=a;this.url=b;this.requestModifier=c;this.responseHandler=d;this.errorHandler=e};h["system.http.data.RequestService"]=Ai;Ai.__name__="system.http.data.RequestService";Ai.prototype=
{__class__:Ai};var Mi=function(){};h["system.http.sys.AsyncHttp"]=Mi;Mi.__name__="system.http.sys.AsyncHttp";var kf=function(a){this._finalised=!1;this._headers=new Ia;if(null!=a)if(a instanceof kf){a=L.__cast(a,kf);for(var b=a.keys();b.hasNext();){var c=b.next();this.add(c,a.get(c))}}else{c=0;for(var d=F.fields(a);c<d.length;){b=d[c];++c;var e=F.getProperty(a,b);this.add(b,e)}}};h["system.http.sys.HttpHeaders"]=kf;kf.__name__="system.http.sys.HttpHeaders";kf.prototype={keys:function(){return new ce(this._headers.h)},
get:function(a){return Object.prototype.hasOwnProperty.call(this._headers.h,a)?this._headers.h[a]:""},add:function(a,b){if(this._finalised)return this;this._headers.h[a]=b;return this},__class__:kf};var yc=function(){};h["system.utils.Device"]=yc;yc.__name__="system.utils.Device";yc.isMobileBrowser=function(){if(null==yc.sMobileBrowser)switch(yc.getBrowserType()._hx_index){case 2:case 3:case 4:yc.sMobileBrowser=!0;break;default:yc.sMobileBrowser=!1}return yc.sMobileBrowser};yc.getBrowserType=function(){var a=
A.navigator.userAgent;return null!=a?0<=a.indexOf("Opera")||0<=a.indexOf("OPR")?gd.OPERA_MOBILE:0<=a.indexOf("Android")||0<=a.indexOf("BlackBerry")||0<=a.indexOf("IEMobile")?gd.ANDROID:0<=a.indexOf("iPhone")||0<=a.indexOf("iPad")||0<=a.indexOf("iPod")?gd.IOS:gd.DESKTOP:gd.UNKNOWN};yc.getBrowser=function(){var a=A.navigator.userAgent;return null!=a?0<=a.indexOf("Opera")||0<=a.indexOf("OPR")?Kc.OPERA_MOBILE:0<=a.indexOf("Chrome")?Kc.CHROME:0<=a.indexOf("Safari")?Kc.SAFARI:0<=a.indexOf("Firefox")?Kc.FIREFOX:
0<=a.indexOf("MSIE")?Kc.IE:Kc.OPERA_MOBILE:Kc.UNKNOWN};var N=function(){};h["system.loca.Loca"]=N;N.__name__="system.loca.Loca";N.__properties__={get_currentLocale:"get_currentLocale"};N.initLang=function(a,b){null==a&&(a="de-DE");a=N.mapLocale(a);N.sLangMap=new qb;N.language=a;ea.loadText("lang/lang-"+a+".txt").onComplete(function(a){a=a.split("|");for(var c=0,e=a.length>>>1;c<e;){var g=c++,k=a[2*g];g=a[2*g+1];g=oa.replace(g,"\\n","\n");var f=N.sLangMap;f.h.hasOwnProperty(k)&&E.remove(f.mKeys,k);
f.h[k]=g;f.mKeys.push(k)}N.dispatcher.dispatchSimpleXEvent(N.NEW_LANGUAGE);null!=b&&b()})};N.get_currentLocale=function(){return Sd.get_currentLocale()};N.getSupportedLocale=function(a){if(null!=a)switch(a.toLowerCase()){case "de":case "de-at":case "de-ch":case "de-de":case "de-li":case "de-lu":case "de_at":case "de_ch":case "de_de":case "de_li":case "de_lu":return"de-DE";case "en":case "en-au":case "en-bz":case "en-ca":case "en-gb":case "en-ie":case "en-jm":case "en-nz":case "en-tt":case "en-us":case "en-za":case "en_au":case "en_bz":case "en_ca":case "en_gb":case "en_ie":case "en_jm":case "en_nz":case "en_tt":case "en_us":case "en_za":return"en-US";
case "fr":case "fr-be":case "fr-ch":case "fr-fr":case "fr-li":case "fr-lu":case "fr_be":case "fr_ch":case "fr_fr":case "fr_li":case "fr_lu":return"fr-FR";default:if(0==a.indexOf("de"))return"de-DE";if(0==a.indexOf("ru"))return"ru-RU";if(0==a.indexOf("uk"))return"uk-UA"}return null};N.mapLocale=function(a){N.supported=!0;a=jd.getValue("lang",a);a=N.getSupportedLocale(a);if(null!=a)return a;N.supported=!1;return"en-US"};N.ordinal=function(a){if("en-US"==N.language)switch(a){case 1:return"1st";case 2:return"2nd";
case 3:return"3rd";default:return N.number(a)+"th"}else return N.number(a)+"."};N.number=function(a,b){null==b&&(b=0);var c=N.translate("SID_THOUSAND_SEP"),d=N.translate("SID_DECIMAL_SEP"),e="",g=0>a;a=Math.abs(a*Math.pow(10,b));a=Math.round(a);for(b=-b;++b,e=(Math.round(ma.fmod(a,10))|0)+(2<b&&1==b%3?c:"")+e,a=Math.floor(a/10),0==b&&(e=d+e),0<a||1>b;);g&&(e="-"+e);return e};N.percentage=function(a,b){null==b&&(b=0);return N.number(a,b)+"%"};N.replaceTimeTags=function(a,b,c,d){var e=b+b;-1!=a.indexOf(e)?
a=oa.replace(a,e,ma.ndigits(c,2)):-1!=a.indexOf(b)&&(a=oa.replace(a,b,N.translate(d,[c])));return a};N.time=function(a,b){null==b&&(b="SID_COUNTDOWN_MMSS");var c=N.translate(b);if(c==b)switch(b){case "SID_COUNTDOWN_HHMMSS":c="hh:mm:ss";break;case "SID_COUNTDOWN_MMSS":c="mm:ss"}b=c.substring(0);c=a%60|0;a=(a-c)/60;var d=a%60|0;a=(a-d)/60;var e=a%24|0;a-=e;a/=24;a|=0;var g=!0;-1==b.indexOf("D")&&-1==b.indexOf("d")&&(e+=24*a|0,g=!1);b=N.replaceTimeTags(b,"s",c,"SID_SHORT_SECOND");b=N.replaceTimeTags(b,
"m",d,"SID_SHORT_MINUTE");b=N.replaceTimeTags(b,"h",e,"SID_SHORT_HOUR");g&&(b=N.replaceTimeTags(b,"d",a,"SID_SHORT_DAY"),b=N.replaceTimeTags(b,"D",a,"SID_DAYS"));return b};N.countdown=function(a,b){return null!=b?N.time(a,b):3600>a?N.time(a,"SID_COUNTDOWN_MMSS"):N.time(a,"SID_COUNTDOWN_HHMMSS")};N.translate=function(a,b){var c=N.sLangMap.h[null==a?"":a];if(null==c)return a;if(null!=b)for(var d=a=0;d<b.length;){var e=b[d];++d;for(var g=N.sIdx[a++],k=0,f=N.sTags;k<f.length;){var n=f[k];++k;var p=n+
g;if(-1!=c.indexOf(p))switch(n){case "_STRING":c=oa.replace(c,p,M.string(e));break;case "_VALUE":c=oa.replace(c,p,N.number(e))}}}return c};var Bc=function(){this.allow=!0;this.mXEventListener=null};h["system.payment.PaymentManager"]=Bc;Bc.__name__="system.payment.PaymentManager";Bc.__properties__={get_instance:"get_instance"};Bc.get_instance=function(){null==Bc.instance&&(Bc.instance=new hd);return Bc.instance};Bc.__super__=T;Bc.prototype=m(T.prototype,{__class__:Bc});var hd=function(){this.apiService=
"xolla-api";this.storeService="xolla-shop";this.projectID=143540;var a=this;Bc.call(this);jf.registerService(this.storeService,"https:/store.xsolla.com/api/v2/project/"+this.projectID,function(b){var c=L.__cast(b.headers,kf);if(null!=c){c.add("Authorization",a.userToken);var d=""+E.substr(N.language,0,2)+", en;q=0.1";c.add("Accept-Language",d)}return b});jf.registerService(this.apiService,"https:/secure.xsolla.com/api/v2/project/"+this.projectID)};h["system.payment.XollaManager"]=hd;hd.__name__="system.payment.XollaManager";
hd.__properties__={get_instance:"get_instance"};hd.get_instance=function(){null==hd.instance&&(hd.instance=new hd);return hd.instance};hd.__super__=Bc;hd.prototype=m(Bc.prototype,{__class__:hd});var Ic=function(){};h["system.pool.Pool"]=Ic;Ic.__name__="system.pool.Pool";var lf=function(){};h["system.utils.clock.IFrameTickObject"]=lf;lf.__name__="system.utils.clock.IFrameTickObject";lf.__isInterface__=!0;lf.prototype={__class__:lf};var Jh=function(){this.type="SettingManager::settingsUpdate"};h["system.profile.XSettingEvent"]=
Jh;Jh.__name__="system.profile.XSettingEvent";Jh.__super__=pa;Jh.prototype=m(pa.prototype,{__class__:Jh});var Ua=function(){this.firstRun=this.invalid=!1;this.mXEventListener=this.settings=null;H.get_instance().addClockObject(this)};h["system.profile.SettingManager"]=Ua;Ua.__name__="system.profile.SettingManager";Ua.__interfaces__=[lf];Ua.__super__=T;Ua.prototype=m(T.prototype,{update:function(){this.invalid&&(this.invalid=!1,this.save())},init:function(){this.load()},get_uid:function(){return this.getSetting("guid")},
load:function(){var a=qa.sInstance.meta.h.packageName;this.mSO=xb.getLocal(a,"new");if(null!=this.mSO&&Object.prototype.hasOwnProperty.call(this.mSO.data,"settings")){var b=F.field(this.mSO.data,"settings");if("string"==typeof b)try{var c=cd.decode(b),d=c.length,e="";for(a=0;a<d;){var g=a++,k=c.b[g]^123;e+=String.fromCodePoint(k)}this.settings=JSON.parse(e)}catch(t){this.settings=JSON.parse(b)}}else if(a=cc.getLocal(a,""),null!=a){if(Object.prototype.hasOwnProperty.call(a.data,"settings"))if(b=F.field(a.data,
"settings"),"string"==typeof b){c=cd.decode(b);d=c.length;e="";for(a=0;a<d;)g=a++,k=c.b[g]^123,e+=String.fromCodePoint(k);this.settings=JSON.parse(e);Object.prototype.hasOwnProperty.call(this.settings,"guid")||(this.settings.guid=ma.createGUID());c=1;if(Object.prototype.hasOwnProperty.call(this.settings,"data")){k=F.fields(this.settings.data);for(a=0;a<k.length;){g=k[a];++a;b=F.field(this.settings.data,g);if("stars"==g)for(e=F.fields(b),d=0;d<e.length;){var f=e[d];++d;c=Math.max(c,M.parseInt(f))|
0}this.setSetting(g,b)}F.deleteField(this.settings,"data")}this.hasSetting("resources")&&(a=this.getSetting("resources"),Object.prototype.hasOwnProperty.call(a,"1")&&(a=this.validateResources(a),a.level=Object.prototype.hasOwnProperty.call(a,"level")?Math.max(a.level,c):c,this.setSetting("resources",a),Object.prototype.hasOwnProperty.call(a,"chestLevel")||(a.chestLevel=c%10)));Object.prototype.hasOwnProperty.call(this.settings,"stars")||this.setSetting("stars",{})}else a=ma.createGUID(),this.settings=
{token:null,id:0,stars:{},guid:a};else this.firstRun=!0,a=ma.createGUID(),this.settings={token:null,id:0,stars:{},guid:a};d=F.fields(this.settings);for(a=0;a<d.length;)g=d[a],++a,this.dispatchSimpleXEvent("SettingManager::settingsUpdate",g)}},validateResources:function(a){for(var b={1:"lifes",2:"mtx",3:"singleHit",4:"rowHit",5:"columnHit",6:"swizzle",7:"starterLine",8:"starterSkunk",9:"starterOrb",10:"moreMoves",11:"dailyPickup",12:"dailyPickupRewarded",13:"revives",14:"level",15:"lifeUsedTime",20:"score",
21:"chestStars",22:"oldChestLevel"},c={},d=F.fields(a),e=0;e<d.length;){var g=d[e];++e;var k=Object.prototype.hasOwnProperty.call(b,g)?F.field(b,g):g;c[k]=F.field(a,g)}return c},save:function(){if(null!=this.mSO){this.dispatchSimpleXEvent("SettingManager::PRE_SAVE");for(var a=JSON.stringify(this.settings),b=a.length,c=new eb(new ArrayBuffer(b)),d=0;d<b;){var e=d++,g=E.cca(a,e)^123;c.b[e]=g&255}this.mSO.data.settings=cd.encode(c);this.mSO.flush()}},hasSetting:function(a){return Object.prototype.hasOwnProperty.call(this.settings,
a)},getSetting:function(a,b){return null!=this.settings&&Object.prototype.hasOwnProperty.call(this.settings,a)?F.field(this.settings,a):b},setSetting:function(a,b,c){c=this.getSetting(a);if(c!=b||F.isObject(b))Ua.event.oldValue=c,Ua.event.newValue=b,Ua.event.key=a,this.settings[a]=b,this.dispatchXEvent(Ua.event),this.invalid=!0;return b},__class__:Ua,__properties__:{get_uid:"get_uid"}});var qf=function(){};h["system.profile.XResourceEvent"]=qf;qf.__name__="system.profile.XResourceEvent";qf.__super__=
pa;qf.prototype=m(pa.prototype,{__class__:qf});var Wb=function(){this.enabled=!0;var a=this;this.mXEventListener=null;this.version=qa.sInstance.meta.h.version;this.newSession();window.addEventListener("error",function(b){if(null!=b&&null!=b.error){var c=null!=b.error.stack?b.error.stack:" "+M.string(b.error.message)+" "+b.colno+":"+b.lineno;-1==c.indexOf("onServiceReady")&&-1==c.indexOf("@moz-extension")&&a.trackEvent("event/error",{name:b.error.name,message:c,url:window.location.href})}})};h["system.tracking.TrackingManager"]=
Wb;Wb.__name__="system.tracking.TrackingManager";Wb.__properties__={get_instance:"get_instance"};Wb.get_instance=function(){null==Wb.sInstance&&(Wb.sInstance=new Wb);return Wb.sInstance};Wb.__super__=T;Wb.prototype=m(T.prototype,{newSession:function(){this.session=ma.createGUID()},trackAd:function(a,b,c,d){null==c&&(c=!1);null==b&&(b=!0);this.enabled&&this.trackEvent("event/ad",{adType:a,fill:b,blocked:c},d)},trackCustomEvent:function(a,b,c){this.trackEvent("event/custom",{category:a,name:b,value:c})},
trackEvent:function(a,b,c){this.enabled&&U.trackEvent(a,b)},__class__:Wb});var gd=K["system.utils.BrowserType"]={__ename__:"system.utils.BrowserType",__constructs__:null,UNKNOWN:{_hx_name:"UNKNOWN",_hx_index:0,__enum__:"system.utils.BrowserType",toString:f},NEKO:{_hx_name:"NEKO",_hx_index:1,__enum__:"system.utils.BrowserType",toString:f},ANDROID:{_hx_name:"ANDROID",_hx_index:2,__enum__:"system.utils.BrowserType",toString:f},IOS:{_hx_name:"IOS",_hx_index:3,__enum__:"system.utils.BrowserType",toString:f},
OPERA_MOBILE:{_hx_name:"OPERA_MOBILE",_hx_index:4,__enum__:"system.utils.BrowserType",toString:f},DESKTOP:{_hx_name:"DESKTOP",_hx_index:5,__enum__:"system.utils.BrowserType",toString:f}};gd.__constructs__=[gd.UNKNOWN,gd.NEKO,gd.ANDROID,gd.IOS,gd.OPERA_MOBILE,gd.DESKTOP];var Kc=K["system.utils.BrowserId"]={__ename__:"system.utils.BrowserId",__constructs__:null,UNKNOWN:{_hx_name:"UNKNOWN",_hx_index:0,__enum__:"system.utils.BrowserId",toString:f},OPERA_MOBILE:{_hx_name:"OPERA_MOBILE",_hx_index:1,__enum__:"system.utils.BrowserId",
toString:f},CHROME:{_hx_name:"CHROME",_hx_index:2,__enum__:"system.utils.BrowserId",toString:f},SAFARI:{_hx_name:"SAFARI",_hx_index:3,__enum__:"system.utils.BrowserId",toString:f},FIREFOX:{_hx_name:"FIREFOX",_hx_index:4,__enum__:"system.utils.BrowserId",toString:f},IE:{_hx_name:"IE",_hx_index:5,__enum__:"system.utils.BrowserId",toString:f}};Kc.__constructs__=[Kc.UNKNOWN,Kc.OPERA_MOBILE,Kc.CHROME,Kc.SAFARI,Kc.FIREFOX,Kc.IE];var Rb=function(){};h["system.utils.DisposeUtil"]=Rb;Rb.__name__="system.utils.DisposeUtil";
Rb.dispose=function(a){E.remove(Rb.sToDispose,a);Rb.sToDispose.push(a)};Rb.update=function(){for(;0<Rb.sToDispose.length;)Rb.sToDispose.pop().dispose()};var jd=function(){};h["system.utils.Globals"]=jd;jd.__name__="system.utils.Globals";jd.setValue=function(a,b){jd.sValues.h[a]=b};jd.getValue=function(a,b){return Object.prototype.hasOwnProperty.call(jd.sValues.h,a)?jd.sValues.h[a]:b};var cc=function(){this.mXEventListener=null;this.client=this};h["system.utils.SharedObject"]=cc;cc.__name__="system.utils.SharedObject";
cc.getLocal=function(a,b,c){c=" ~%&\\;:\"',<>?#".split("");var d=!0;if(null==a||""==a)d=!1;else for(var e=0;e<c.length;){var g=c[e];++e;if(-1<a.indexOf(g)){d=!1;break}}if(!d)throw P.thrown('Error #2134: Cannot create SharedObject. "'+a+'"');null==b&&(b=window.location.href+"/");null==cc.sSharedObjects&&(cc.sSharedObjects=new Ia,null!=Ma.current&&Ma.current.onExit.add(cc.application_onExit));c=b+a;if(!Object.prototype.hasOwnProperty.call(cc.sSharedObjects.h,c)){d=new cc;d.data={};d.mLocalPath=b;d.mName=
a;e=null;try{var k=Xg.getLocalStorage();null!=k&&(e=k.getItem(b+":"+a))}catch(t){}if(null!=e&&""!=e)try{var f=new Tb(e);f.setResolver({resolveEnum:La.resolveEnum,resolveClass:cc.__resolveClass});d.data=f.unserialize()}catch(t){}cc.sSharedObjects.h[c]=d}return cc.sSharedObjects.h[c]};cc.__resolveClass=function(a){return null!=a?h[a]:null};cc.application_onExit=function(a){a=cc.sSharedObjects.h;for(var b=Object.keys(a),c=b.length,d=0;d<c;)a[b[d++]].flush()};cc.__super__=T;cc.prototype=m(T.prototype,
{flush:function(a){if(0==F.fields(this.data).length)return!0;a=$b.run(this.data);try{var b=Xg.getLocalStorage();null!=b&&(b.removeItem(this.mLocalPath+":"+this.mName),b.setItem(this.mLocalPath+":"+this.mName,a))}catch(c){return!1}return!0},__class__:cc});var Ad=function(a,b){this.startTime=0;this.duration=.7;this.duration=a;this.startTime=H.timer;this.cb=b;H.get_instance().addClockObject(this)};h["system.utils.TimeAction"]=Ad;Ad.__name__="system.utils.TimeAction";Ad.__interfaces__=[lf];Ad.create=
function(a,b,c){a=new Ad(a,b);null!=c&&(a.registerRoot=c,a.registerRoot.register(a));return a};Ad.__super__=Qa;Ad.prototype=m(Qa.prototype,{update:function(){var a=ma.fClamp((H.timer-this.startTime)/this.duration,0,1);this.cb(a);1<=a&&this.dispose()},dispose:function(){this.cb=null;null!=this.registerRoot&&(this.registerRoot.unregister(this),this.registerRoot=null);H.get_instance().removeClockObject(this);Qa.prototype.dispose.call(this)},__class__:Ad});var Rh=function(a,b){this.map=a;this.keys=b;
this.index=0;this.count=b.length};h["system.utils._UnsafeStringMap.UnsafeStringMapIterator"]=Rh;Rh.__name__="system.utils._UnsafeStringMap.UnsafeStringMapIterator";Rh.prototype={hasNext:function(){return this.index<this.count},next:function(){return this.map.h[this.keys[this.index++]]},__class__:Rh};var ma=function(){};h["system.utils.Utils"]=ma;ma.__name__="system.utils.Utils";ma.ndigits=function(a,b){a=null==a?"null":""+a;var c=0;for(b-=a.length;c<b;)c++,a="0"+a;return a};ma.toInt=function(a){return"string"==
typeof a?M.parseInt(a):a};ma.openURL=function(a,b){null==b&&(b="_blank");vc.openURL(a,b)};ma.containsURL=function(a){return ma.urlRegExp.match(a)};ma.getURL=function(a,b){null==b&&(b=0);return ma.urlRegExp.match(a)?ma.urlRegExp.matched(b):null};ma.numEntries=function(a){var b=0;if(L.__implements(a,xd)){a=L.__cast(a,Ia).h;a=Object.keys(a).length;for(var c=0;c<a;)c++,++b}else if(a instanceof Array)for(a=L.__cast(a,Array),c=0;c<a.length;)++c,++b;return b};ma.fClamp=function(a,b,c){return a<b||isNaN(a)?
b:a>c?c:a};ma.nextPowerOfTwo=function(a){--a;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;a|=a>>16;return++a};ma.fmod=function(a,b){a/=b;a-=Math.floor(a);return a*b};ma.createGUID=function(){var a,b=8;for(a=""+M.string(ma.hex(ma.fmod((new Date).getTime(),4294967295),8));36>b++;)a+=M.string(0!=(51*b&52)?oa.hex(0!=(b^15)?8^(Math.random()*(0!=(b^20)?16:4)|0):4):"-");return a.toLowerCase()};ma.hex=function(a,b){a=Math.floor(a);for(var c="";c="0123456789ABCDEF".charAt(ma.fmod(a,16)|0)+c,a=Math.floor(a/16),0<a;);if(null!=
b)for(;c.length<b;)c="0"+c;return c};var ya=function(a,b){null==b&&(b=!1);if(null!=a)if(b)b=new Lb,b.future=this,dc.queue({promise:b,work:a});else try{this.value=a(),this.isComplete=!0}catch(c){this.error=P.caught(c).unwrap(),this.isError=!0}};h["system.utils.XFuture"]=ya;ya.__name__="system.utils.XFuture";ya.__interfaces__=[Va];ya.withError=function(a){var b=new ya;b.isError=!0;b.error=a;return b};ya.withValue=function(a){var b=new ya;b.isComplete=!0;b.value=a;return b};ya.prototype={onComplete:function(a){null!=
a&&(this.isComplete?a(this.value):this.isError||(null==this.__completeListeners&&(this.__completeListeners=[]),this.__completeListeners.push(a)));return this},onError:function(a){null!=a&&(this.isError?a(this.error):this.isComplete||(null==this.__errorListeners&&(this.__errorListeners=[]),this.__errorListeners.push(a)));return this},onProgress:function(a){null!=a&&(null==this.__progressListeners&&(this.__progressListeners=[]),this.__progressListeners.push(a));return this},cancel:function(){this.__progressListeners=
this.__errorListeners=this.__completeListeners=null},dispose:function(){this.cancel()},__class__:ya};var dc=function(){};h["system.utils._XFuture.FutureWork"]=dc;dc.__name__="system.utils._XFuture.FutureWork";dc.queue=function(a){null==dc.threadPool&&(dc.threadPool=new Yg,dc.threadPool.doWork.add(dc.threadPool_doWork),dc.threadPool.onComplete.add(dc.threadPool_onComplete),dc.threadPool.onError.add(dc.threadPool_onError));dc.threadPool.queue(a)};dc.threadPool_doWork=function(a){try{var b=a.work();
dc.threadPool.sendComplete({promise:a.promise,result:b})}catch(c){b=P.caught(c).unwrap(),dc.threadPool.sendError({promise:a.promise,error:b})}};dc.threadPool_onComplete=function(a){a.promise.complete(a.result)};dc.threadPool_onError=function(a){a.promise.error(a.error)};var Lb=function(a){null==a&&(a=!1);this.future=new ya(null,a)};h["system.utils.XPromise"]=Lb;Lb.__name__="system.utils.XPromise";Lb.prototype={complete:function(a){if(!this.future.isError&&(this.future.isComplete=!0,this.future.value=
a,null!=this.future.__completeListeners)){for(var b=0,c=this.future.__completeListeners;b<c.length;){var d=c[b];++b;d(a)}this.future.__completeListeners=null}return this},completeWith:function(a){a.onComplete(l(this,this.complete));a.onError(l(this,this.error));a.onProgress(l(this,this.progress));return this},error:function(a){if(!this.future.isComplete&&(this.future.isError=!0,this.future.error=a,null!=this.future.__errorListeners)){for(var b=0,c=this.future.__errorListeners;b<c.length;){var d=c[b];
++b;d(a)}this.future.__errorListeners=null}return this},progress:function(a,b){if(!this.future.isError&&!this.future.isComplete&&null!=this.future.__progressListeners)for(var c=0,d=this.future.__progressListeners;c<d.length;){var e=d[c];++c;e(a,b)}return this},__class__:Lb};var Pb=function(a){fc.call(this,a)};h["system.utils.XTimer"]=Pb;Pb.__name__="system.utils.XTimer";Pb.__interfaces__=[Va];Pb.delay=function(a,b){var c=new Pb(b);c.run=function(){c.stop();a()};return c};Pb.__super__=fc;Pb.prototype=
m(fc.prototype,{dispose:function(){this.stop()},__class__:Pb});A.$haxeUID|=0;"undefined"!=typeof performance&&"function"==typeof performance.now&&(E.now=performance.now.bind(performance));h.Math=Math;null==String.fromCodePoint&&(String.fromCodePoint=function(a){return 65536>a?String.fromCharCode(a):String.fromCharCode((a>>10)+55232)+String.fromCharCode((a&1023)+56320)});String.prototype.__class__=h.String=String;String.__name__="String";h.Array=Array;Array.__name__="Array";Date.prototype.__class__=
h.Date=Date;Date.__name__="Date";var Yi={},Wi={},Xi=Number,Vi=Boolean,Oi={},Pi={};Xc.count=0;L.__toStr={}.toString;var Ni=new Uint32Array(256);aa.__alpha16=Ni;for(var Ae=0;256>Ae;){var mf=Ae++;aa.__alpha16[mf]=Math.ceil(257.00392156862745*mf)}Ni=new Uint8Array(511);aa.__clamp=Ni;for(Ae=0;255>Ae;)mf=Ae++,aa.__clamp[mf]=mf;for(Ae=255;511>Ae;)mf=Ae++,aa.__clamp[mf]=255;ab.level=0;"undefined"==typeof console&&(console={});null==console.log&&(console.log=function(){});J.DAY_SHORT_NAMES="Sun Mon Tue Wed Thu Fri Sat".split(" ");
J.DAY_NAMES="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");J.MONTH_SHORT_NAMES="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");J.MONTH_NAMES="January February March April May June July August September October November December".split(" ");S.Element=0;S.PCData=1;S.CData=2;S.Comment=3;S.DocType=4;S.ProcessingInstruction=5;S.Document=6;T.sStdEvents=[new pa];T.sExecutor=[];u.config={settings:{lifeRestoreDuration:18E5,maxLevel:1200,maxLifes:5,movesPerRevive:5,levelPerChest:10,
starsPerChest:20,registerReward:{mtx:2E3},registerReward2:{singleHit:5},registerReward3:{starterSkunk:5},adReward:{mtx:100},dailyUnlimitedLifeCoolDown:72E3,dailyUnlimitedLifeDuration:1800},teams:{maxMembers:10,creationCosts:{mtx:1E3}},buyables:{shop_single_hit:{costs:{mtx:500},resources:{singleHit:5}},shop_row_hit:{costs:{mtx:750},resources:{rowHit:5}},shop_column_hit:{costs:{mtx:750},resources:{columnHit:5}},shop_swizzle:{costs:{mtx:750},resources:{swizzle:5}},shop_starter_line:{costs:{mtx:500},
resources:{starterLine:5}},shop_starter_skunk:{costs:{mtx:500},resources:{starterSkunk:5}},shop_starter_orb:{costs:{mtx:500},resources:{starterOrb:5}},extra_life:{costs:{mtx:100},resources:{lifes:1}},extra_lifes:{costs:{mtx:350},resources:{lifes:5}},revive0:{costs:{mtx:100}},revive1:{costs:{mtx:200}},revive2:{costs:{mtx:400}},revive3:{costs:{mtx:800}},revive4:{costs:{mtx:1600}},revive5:{costs:{mtx:3200}},shop_starter:{price:1.99,payment:!0,resources:{singleHit:5,rowHit:5,columnHit:5,mtx:150}},mtx_package_01:{price:1.99,
payment:!0,resources:{mtx:200}},mtx_package_02:{price:4.99,payment:!0,resources:{mtx:500}},mtx_package_03:{price:19.99,payment:!0,resources:{mtx:2E3}},mtx_package_04:{price:49.99,payment:!0,resources:{mtx:5E3}}},rewards:{reward_mtx:{resources:{mtx:100}},reward_life:{resources:{lifes:1}}},chest:[{weight:10,sub:L.__cast([{weight:1,resources:{columnHit:1}}],Array)},{weight:10,sub:L.__cast([{weight:1,resources:{rowHit:1}}],Array)},{weight:10,sub:L.__cast([{weight:1,resources:{singleHit:1}}],Array)},{weight:10,
sub:L.__cast([{weight:1,resources:{swizzle:1}}],Array)},{weight:12,sub:L.__cast([{weight:1,resources:{starterSkunk:1}}],Array)},{weight:12,sub:L.__cast([{weight:1,resources:{starterOrb:1}}],Array)},{weight:12,sub:L.__cast([{weight:1,resources:{starterLine:1}}],Array)},{weight:12,sub:L.__cast([{weight:200,resources:{mtx:30}},{weight:100,resources:{mtx:40}},{weight:50,resources:{mtx:50}},{weight:10,resources:{mtx:100}},{weight:1,resources:{mtx:200}}],Array)}],gamble:[{weight:15,sub:L.__cast([{weight:1,
resources:{moreMoves:3}}],Array)},{weight:10,sub:L.__cast([{weight:1,resources:{moreMoves:5}}],Array)},{weight:8,sub:L.__cast([{weight:1,resources:{moreMoves:7}}],Array)},{weight:15,sub:L.__cast([{weight:1,resources:{columnHit:1}}],Array)},{weight:10,sub:L.__cast([{weight:1,resources:{rowHit:1}}],Array)},{weight:10,sub:L.__cast([{weight:1,resources:{singleHit:1}}],Array)},{weight:10,sub:L.__cast([{weight:1,resources:{swizzle:1}}],Array)},{weight:12,sub:L.__cast([{weight:1,resources:{starterSkunk:1}}],
Array)},{weight:12,sub:L.__cast([{weight:1,resources:{starterOrb:1}}],Array)},{weight:12,sub:L.__cast([{weight:1,resources:{starterLine:1}}],Array)},{weight:5,sub:L.__cast([{weight:200,resources:{mtx:5}},{weight:100,resources:{mtx:10}},{weight:50,resources:{mtx:20}},{weight:10,resources:{mtx:30}},{weight:1,resources:{mtx:40}}],Array)}],tournament:{rewards:[{mtx:1E3},{mtx:500},{mtx:250},{singleHit:1},{singleHit:1},{singleHit:1}]}};ub.mLevelDifficulty=new nb;ub.mRatio=[9.482268158543523E-5,.1855369807497467,
.2798045602605863,.4677322677322677,2.0712510356255177E-4,.15559938636861714,.27862961188308577,.07135777998017839,.011910795742524075,.14892487390496417,.12479384277075316,.5747126436781609,.2626387176325524,.11520302171860246,.02274183215887252,.044995109227257905,.24099629754291485,.4739084132055378,.7484591679506933,.5946611909650924,.08035338662179217,.17561807331628304,.185473411154345,.42908117752007136,.07197827071072883,.5707656612529002,.2874762808349146,.20124282982791586,.36572265625,
9.823182711198428E-4,.18584952665670154,.20533467539003522,.07794192562404482,.5367647058823529,.5053821313240043,1.5181765724177727,.2668240850059032,1.1464928615766605,1.2723097112860893,.504774897680764,.31237042156185213,.08420320111343076,.16201117318435754,.15492957746478872,.47928571428571426,.32801161103047893,1.9968676585747847,.5609756097560976,.21996753246753248,.4344391785150079,3.183098591549296,.22641509433962265,.8255280073461891,.9096958174904943,1.7634408602150538,1.080448065173116,
.6224066390041494,.18840579710144928,.15345005149330587,.04275286757038582,.2679324894514768,.4100418410041841,.25796178343949044,1.1423948220064726,2.7829545454545452,2.7214723926380366,.20214030915576695,1.1469849246231156,.3992490613266583,.25782227784730916,.010062893081761006,.00625,.06944444444444445,1.0174563591022443,.14030612244897958,.8047182175622543,.14378238341968913,.3971354166666667,.4980544747081712,.06524633821571238,.35900783289817234,.5731070496083551,.4118404118404118,.6697986577181209,
5.482369534555712,.8706896551724138,1.6991150442477876,2.1376281112737923,.45066273932253315,1.1068702290076335,1.881203007518797,1.4496951219512195,.5117739403453689,.7316692667706708,1.0699523052464228,2.8236272878535775,.3698854337152209,.6546052631578947,5.6453900709219855,.028523489932885907,2.252577319587629,2.046153846153846,.44821428571428573,.013937282229965157,.14583333333333334,1.5091575091575091,.5395948434622467,.45864661654135336,4.044921875,.6610486891385767,.6600397614314115,1.0657640232108316,
14.567391304347826,2.048351648351648,1.8623853211009174,2.9280742459396754,1.2175925925925926,1.5754060324825987,3.159904534606205,12.169576059850375,1.0300751879699248,.9364303178484108,.12060301507537688,4.924479166666667,1.3110539845758356,.48717948717948717,3.393782383419689,2.182051282051282,.8311345646437994,1.7050938337801609,.7219387755102041,3.085858585858586,.9202127659574468,.9119804400977995,1.836228287841191,.6414634146341464,2.424552429667519,5.982278481012658,.5804020100502513,.6073298429319371,
11.380952380952381,.6721763085399449,.04657534246575343,5.073770491803279,.2776203966005666,.14058355437665782,7.302197802197802,.8394366197183099,3.358543417366947,2.134897360703812];ub.mScore=[5738,3436,4739,6335,5999,4041,4425,6089,6285,5447,4517,5496,5938,6093,5975,6893,4666,4963,3710,4955,5837,4662,3600,4936,6387,4477,5668,4760,5508,7789,5743,5865,5963,5234,5013,4935,6E3,5570,15099,5256,5238,10890,4942,6036,5030,5928,5312,4297,2891,5046,4362,6222,7004,6181,5911,3957,6005,5974,7241,5436,5269,
5005,6204,7360,5713,6274,3826,4627,7618,6406,8160,8456,8171,7249,7465,7917,7097,7238,7337,8142,4008,6827,5695,5924,5359,6317,7312,5957,4996,7327,7602,7382,5868,5188,5171,6527,5817,5774,6721,9343,5445,8724,8892,4882,4166,5757,4895,5129,4610,6221,4867,4437,6979,4719,6688,5462,6242,7086,5428,4201,6023,6106,6628,7043,6072,5703,6256,5724,3695,5765,5236,6477,6288,5235,5295,8037,6861,6268,7483,5991,6613,7026,5178,6862,5153,8543,6372,6058,6392,5970];Aa.sIdentityArray=[1,0,0,0,1,0,0,0,1];Aa.sTempM2D=[Aa._new(),
Aa._new(),Aa._new(),Aa._new(),Aa._new(),Aa._new(),Aa._new(),Aa._new(),Aa._new(),Aa._new(),Aa._new()];Aa.sTempM2DIdx=0;Aa.sDummyM2D=Aa._new();n.ZERO=new n(0,0);n.sTempV2D=[new n,new n,new n,new n,new n,new n,new n,new n,new n,new n,new n,new n,new n,new n,new n,new n,new n];n.sTempV2DIdx=0;n.sTempV2DLen=n.sTempV2D.length;n.sPoolV2D=[];sa.Dispatcher=new T;Cc.sTargets=[];Od.ALL_GEM_TYPES=["GEM_BLUE","GEM_RED","GEM_GREEN","GEM_PURPLE","GEM_YELLOW"];v.COLUMNS=-1;v.ROWS=-1;v.STONE_SIZE=100;v.sScale=1;v.THEME_POSTFIX=
"_ice";C.sP11=new n;C.sP41=new n;C.sP14=new n;C.sP44=new n;C.sLocalBuffer=new Pc(20);C.sv=[0,0,0,0];C.su=[0,0,0,0];C.sx=[0,0,0,0];C.sy=[0,0,0,0];lc.sAnimationCount=0;lc.sAnimationDelay=0;Ba.sAnimationClassMap=new qb;R.sStones=new Xc;R.sStoneCounts={};R.sStoneCount=0;kd.sBallons=[];fe.sBeeTargets=[];hb.sBlobs=[];hb.sLastBlobPlopp=0;$c.sBombs=[];zb.sProductAmount=new Ia;zb.sProductDispatcher=new T;Sb.stonegroup=[];Da.sOverlays=new nb;rb.GEM_TYPE_MAP=function(a){a=new Ia;a.h.UNDEFINED="UNDEFINED";a.h.RED=
"GEM_RED";a.h.BLUE="GEM_BLUE";a.h.YELLOW="GEM_YELLOW";a.h.PURPLE="GEM_PURPLE";a.h.GREEN="GEM_GREEN";a.h.WHITE="GEM_WHITE";return a}(this);he.sColors=[40957,14222084,1886464,16771328,16491088,16777215];$b.USE_CACHE=!1;$b.USE_ENUM_INDEX=!1;$b.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Tb.DEFAULT_RESOLVER=new Rg;Tb.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";cd.CHARS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";cd.BYTES=
eb.ofString(cd.CHARS);rd.escapes=function(a){a=new Ia;a.h.lt="<";a.h.gt=">";a.h.amp="&";a.h.quot='"';a.h.apos="'";return a}(this);Nb.LEN_EXTRA_BITS_TBL=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,-1,-1];Nb.LEN_BASE_VAL_TBL=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258];Nb.DIST_EXTRA_BITS_TBL=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,-1,-1];Nb.DIST_BASE_VAL_TBL=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,
769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];Nb.CODE_LENGTHS_POS=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];na.activeRequests=0;na.requestLimit=17;na.requestQueue=new Bd;Ye.windowID=0;dd.DICTIONARY="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");dd.EXTENDED_DICTIONARY=function(a){a=[];for(var b=0,c=dd.DICTIONARY;b<c.length;){var d=c[b];++b;for(var e=0,g=dd.DICTIONARY;e<g.length;){var k=g[e];++e;a.push(d+k)}}return a}(this);pb.URI_REGEX=new V("^(?:([^:/?#]+):)?(?://((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\\d*))?))?((((?:[^?#/]*/)*)([^?#]*))(?:\\?([^#]*))?(?:#(.*))?)",
"");pb.QUERY_REGEX=new V("(?:^|&)([^&=]*)=?([^&]*)","");uc.sensorByID=new nb;uc.sensors=[];Gb.devices=new nb;Gb.onConnect=new hi;vb.devices=new nb;vb.onConnect=new ii;ec.onCancel=new pe;ec.onEnd=new pe;ec.onMove=new pe;ec.onStart=new pe;ea.cache=new mi;ea.onChange=new Eb;ea.bundlePaths=new Ia;ea.libraries=new Ia;ea.libraryPaths=new Ia;ab.throwErrors=!0;Bb.sIconMap=new qb;Td.MAX_AVATAR_INDEX=19;Zd.NAME_COLOR_TAG="<col=0xFFCF28>";Kd.AD_SHOWN="XRewardedAdButton:adShown";lb.MAX=[1,1,1];Lc.fav="DE US RU IT PL FR LT TR UK X".split(" ");
Lc.total="DE US RU IT PL FR LT TR UK JP CN DK AT AU CA AR ES BE GR IN NO NL SE CH UA PT AL AZ BY BA BR CL CO HR CZ EG FI HK HK HU IS IE IL JM KR KW LU MX MC NO QA RO SA SP SG SK ZA TN".split(" ");ca.sKeyEvent=new Bh;ca.sMouseEvent=new Ch;mb.mHasRewardedAd=!1;Cb.sIndexBuffers=[];Q.sIdentityArray=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];Q.sTempM3D=[Q._new(),Q._new(),Q._new(),Q._new(),Q._new(),Q._new(),Q._new(),Q._new(),Q._new(),Q._new(),Q._new()];Q.sTempM3DIdx=0;Q.sM3DData=[];Q.sM3DDataCount=0;Q.sDummyM3D=
Q._new();ic.sMatrix=Q._new();Ob.sWhiteArray=[0,0,0,1];ja.ZERO=new ja(0,0,0);ja.Y_AXIS=new ja(0,1,0);ja.Z_AXIS=new ja(0,0,1);ja.INV_Z_AXIS=new ja(0,0,-1);ja.sTempV3D=[new ja,new ja,new ja,new ja,new ja,new ja,new ja,new ja,new ja,new ja,new ja,new ja,new ja,new ja,new ja,new ja,new ja,new ja,new ja];ja.sTempV3DIdx=0;ja.sTempV3DLen=ja.sTempV3D.length;H.delta=0;H.timer=0;p.instance=new p;p.__glMemoryCurrentAvailable=-1;p.__glMemoryTotalAvailable=-1;Eh.encodeFloat="\r\n\t\t\tvec4 encodeFloat (float depth) \r\n\t\t\t{\r\n\t\t\t  const vec4 bitShift = vec4(\r\n\t\t\t\t256 * 256 * 256,\r\n\t\t\t\t256 * 256,\r\n\t\t\t\t256,\r\n\t\t\t\t1.0\r\n\t\t\t  );\r\n\t\t\t  const vec4 bitMask = vec4(\r\n\t\t\t\t0,\r\n\t\t\t\t1.0 / 256.0,\r\n\t\t\t\t1.0 / 256.0,\r\n\t\t\t\t1.0 / 256.0\r\n\t\t\t  );\r\n\t\t\t  vec4 comp = fract(depth * bitShift);\r\n\t\t\t  comp -= comp.xxyz * bitMask;\r\n\t\t\t  return comp;\r\n\t\t\t}";
Eh.decodeFloat="\r\n\t\t\tfloat decodeFloat (vec4 color) \r\n\t\t\t{\r\n\t\t\t  const vec4 bitShift = vec4(\r\n\t\t\t\t1.0 / (256.0 * 256.0 * 256.0),\r\n\t\t\t\t1.0 / (256.0 * 256.0),\r\n\t\t\t\t1.0 / 256.0,\r\n\t\t\t\t1\r\n\t\t\t  );\r\n\t\t\t  return dot(color, bitShift);\r\n\t\t\t}";Za.READY="Texture2D::ready";Za.CANCEL="Texture2D::cancel";Za.sTextures=new qb;B.SCREEN_WIDTH=2048;B.SCREEN_HEIGHT=1536;Ib.sDummyRect=new Id(0,0,1,1,1);Ib.sId=0;pd.placeholder=new pd(new Id(0,0,0,0,1));Ha.sP11=new n;
Ha.sP41=new n;Ha.sP14=new n;Ha.sP44=new n;Ha.sDx=new n;Ha.sDy=new n;Ha.sDNx=new n;Ha.sDNy=new n;Ha.sLocalBuffer=new Pc(20);ta.sElementClassMap=new qb;ta.sPool=[];xe.CLICKED="SelectorControl::clicked";cb.sP11=new n;cb.sP41=new n;cb.sP14=new n;cb.sP44=new n;D.sLocalBuffer=new Pc(20);D.sP11=new n;D.sP41=new n;D.sP14=new n;D.sP44=new n;ye.CHANGED="XValueControl::changed";Jc.sLineDataPool=[];tb.sParticles=[];bc.sLibs=new Ia;jf.sServiceMap=new qb;Mi.logErrorEnabled=!0;N.NEW_LANGUAGE="Loca::NEW_LANGUAGE";
N.supported=!1;N.sLangMap=new qb;N.sTags=["_VALUE","_STRING"];N.sIdx="00 01 02 03 04 05 06 07 08 09 10 11 12 13 14 15 16 17 18".split(" ");N.dispatcher=new T;Ic.sRectangleData=[];Ic.sRectangleDataCount=0;Ua.event=new Jh;Ua.instance=new Ua;Rb.sToDispose=[];jd.sValues=new Ia;ma.urlRegExp=new V("(?:(?:https?|ftp|file)://|www\\.|ftp\\.)(?:\\([-A-Z0-9+&@#/%=~_|$?!:,.]*\\)|[-A-Z0-9+&@#/%=~_|$?!:,.])*(?:\\([-A-Z0-9+&@#/%=~_|$?!:,.]*\\)|[A-Z0-9+&@#/%=~_|$])","igm");z.main()})("undefined"!=typeof r?r:"undefined"!=
typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof z?z:"undefined"!=typeof self?self:this)};V.lime.embed=function(A){var z={},x=V.lime.$scripts[A];if(!x)throw Error('Cannot find project name "'+A+'"');x(z,r);for(var J in z)V[J]=V[J]||z[J];(x=z.lime||window.lime)&&x.embed&&this!=x.embed&&x.embed.apply(x,arguments);return z};"function"==typeof define&&define.amd&&(define([],function(){return V.lime}),define.__amd=define.amd,define.amd=null)})("undefined"!=
typeof exports?exports:"function"==typeof define&&define.amd?{}:"undefined"!=typeof window?window:"undefined"!=typeof self?self:this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
!function(){var V=function(){this.init()};V.prototype={init:function(){var f=this||r;return f._counter=1E3,f._html5AudioPool=[],f.html5PoolSize=10,f._codecs={},f._howls=[],f._muted=!1,f._volume=1,f._canPlayEvent="canplaythrough",f._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,f.masterGain=null,f.noAudio=!1,f.usingWebAudio=!0,f.autoSuspend=!0,f.ctx=null,f.autoUnlock=!0,f._setup(),f},volume:function(f){var l=this||r;if(f=parseFloat(f),l.ctx||h(),void 0!==f&&0<=f&&1>=
f){if(l._volume=f,l._muted)return l;l.usingWebAudio&&l.masterGain.gain.setValueAtTime(f,r.ctx.currentTime);for(var m=0;m<l._howls.length;m++)if(!l._howls[m]._webAudio)for(var Ea=l._howls[m]._getSoundIds(),va=0;va<Ea.length;va++){var ua=l._howls[m]._soundById(Ea[va]);ua&&ua._node&&(ua._node.volume=ua._volume*f)}return l}return l._volume},mute:function(f){var l=this||r;l.ctx||h();l._muted=f;l.usingWebAudio&&l.masterGain.gain.setValueAtTime(f?0:l._volume,r.ctx.currentTime);for(var m=0;m<l._howls.length;m++)if(!l._howls[m]._webAudio)for(var Ea=
l._howls[m]._getSoundIds(),va=0;va<Ea.length;va++){var ua=l._howls[m]._soundById(Ea[va]);ua&&ua._node&&(ua._node.muted=!!f||ua._muted)}return l},unload:function(){for(var f=this||r,l=f._howls.length-1;0<=l;l--)f._howls[l].unload();return f.usingWebAudio&&f.ctx&&void 0!==f.ctx.close&&(f.ctx.close(),f.ctx=null,h()),f},codecs:function(f){return(this||r)._codecs[f.replace(/^x-/,"")]},_setup:function(){var f=this||r;if(f.state=f.ctx?f.ctx.state||"suspended":"suspended",f._autoSuspend(),!f.usingWebAudio)if("undefined"!=
typeof Audio)try{var h=new Audio;void 0===h.oncanplaythrough&&(f._canPlayEvent="canplay")}catch(I){f.noAudio=!0}else f.noAudio=!0;try{h=new Audio,h.muted&&(f.noAudio=!0)}catch(I){}return f.noAudio||f._setupCodecs(),f},_setupCodecs:function(){var f=this||r,h=null;try{h="undefined"!=typeof Audio?new Audio:null}catch(va){return f}if(!h||"function"!=typeof h.canPlayType)return f;var l=h.canPlayType("audio/mpeg;").replace(/^no$/,""),m=f._navigator&&f._navigator.userAgent.match(/OPR\/([0-6].)/g);m=m&&33>
parseInt(m[0].split("/")[1],10);return f._codecs={mp3:!(m||!l&&!h.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!l,opus:!!h.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!h.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!h.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!h.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(h.canPlayType("audio/x-m4a;")||
h.canPlayType("audio/m4a;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(h.canPlayType("audio/x-mp4;")||h.canPlayType("audio/mp4;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!h.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(h.canPlayType("audio/x-flac;")||h.canPlayType("audio/flac;")).replace(/^no$/,"")},f},_unlockAudio:function(){var f=
this||r,h=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi|Chrome|Safari/i.test(f._navigator&&f._navigator.userAgent);if(!f._audioUnlocked&&f.ctx&&h){f._audioUnlocked=!1;f.autoUnlock=!1;f._mobileUnloaded||44100===f.ctx.sampleRate||(f._mobileUnloaded=!0,f.unload());f._scratchBuffer=f.ctx.createBuffer(1,1,22050);var l=function(h){for(h=0;h<f.html5PoolSize;h++){var m=new Audio;m._unlocked=!0;f._releaseHtml5Audio(m)}for(h=0;h<f._howls.length;h++)if(!f._howls[h]._webAudio){m=f._howls[h]._getSoundIds();
for(var I=0;I<m.length;I++){var K=f._howls[h]._soundById(m[I]);K&&K._node&&!K._node._unlocked&&(K._node._unlocked=!0,K._node.load())}}f._autoResume();var r=f.ctx.createBufferSource();r.buffer=f._scratchBuffer;r.connect(f.ctx.destination);void 0===r.start?r.noteOn(0):r.start(0);"function"==typeof f.ctx.resume&&f.ctx.resume();r.onended=function(){r.disconnect(0);f._audioUnlocked=!0;document.removeEventListener("touchstart",l,!0);document.removeEventListener("touchend",l,!0);document.removeEventListener("click",
l,!0);for(var h=0;h<f._howls.length;h++)f._howls[h]._emit("unlock")}};return document.addEventListener("touchstart",l,!0),document.addEventListener("touchend",l,!0),document.addEventListener("click",l,!0),f}},_obtainHtml5Audio:function(){var f=this||r;if(f._html5AudioPool.length)return f._html5AudioPool.pop();f=(new Audio).play();return f&&"undefined"!=typeof Promise&&(f instanceof Promise||"function"==typeof f.then)&&f.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),
new Audio},_releaseHtml5Audio:function(f){var h=this||r;return f._unlocked&&h._html5AudioPool.push(f),h},_autoSuspend:function(){var f=this;if(f.autoSuspend&&f.ctx&&void 0!==f.ctx.suspend&&r.usingWebAudio){for(var h=0;h<f._howls.length;h++)if(f._howls[h]._webAudio)for(var l=0;l<f._howls[h]._sounds.length;l++)if(!f._howls[h]._sounds[l]._paused)return f;return f._suspendTimer&&clearTimeout(f._suspendTimer),f._suspendTimer=setTimeout(function(){f.autoSuspend&&(f._suspendTimer=null,f.state="suspending",
f.ctx.suspend().then(function(){f.state="suspended";f._resumeAfterSuspend&&(delete f._resumeAfterSuspend,f._autoResume())}))},3E4),f}},_autoResume:function(){var f=this;if(f.ctx&&void 0!==f.ctx.resume&&r.usingWebAudio)return"running"===f.state&&f._suspendTimer?(clearTimeout(f._suspendTimer),f._suspendTimer=null):"suspended"===f.state?(f.ctx.resume().then(function(){f.state="running";for(var h=0;h<f._howls.length;h++)f._howls[h]._emit("resume")}),f._suspendTimer&&(clearTimeout(f._suspendTimer),f._suspendTimer=
null)):"suspending"===f.state&&(f._resumeAfterSuspend=!0),f}};var r=new V,A=function(f){if(!f.src||0===f.src.length)return void console.error("An array of source files must be passed with any new Howl.");this.init(f)};A.prototype={init:function(f){var l=this;return r.ctx||h(),l._autoplay=f.autoplay||!1,l._format="string"!=typeof f.format?f.format:[f.format],l._html5=f.html5||!1,l._muted=f.mute||!1,l._loop=f.loop||!1,l._pool=f.pool||5,l._preload="boolean"!=typeof f.preload||f.preload,l._rate=f.rate||
1,l._sprite=f.sprite||{},l._src="string"!=typeof f.src?f.src:[f.src],l._volume=void 0!==f.volume?f.volume:1,l._xhrWithCredentials=f.xhrWithCredentials||!1,l._duration=0,l._state="unloaded",l._sounds=[],l._endTimers={},l._queue=[],l._playLock=!1,l._onend=f.onend?[{fn:f.onend}]:[],l._onfade=f.onfade?[{fn:f.onfade}]:[],l._onload=f.onload?[{fn:f.onload}]:[],l._onloaderror=f.onloaderror?[{fn:f.onloaderror}]:[],l._onplayerror=f.onplayerror?[{fn:f.onplayerror}]:[],l._onpause=f.onpause?[{fn:f.onpause}]:[],
l._onplay=f.onplay?[{fn:f.onplay}]:[],l._onstop=f.onstop?[{fn:f.onstop}]:[],l._onmute=f.onmute?[{fn:f.onmute}]:[],l._onvolume=f.onvolume?[{fn:f.onvolume}]:[],l._onrate=f.onrate?[{fn:f.onrate}]:[],l._onseek=f.onseek?[{fn:f.onseek}]:[],l._onunlock=f.onunlock?[{fn:f.onunlock}]:[],l._onresume=[],l._webAudio=r.usingWebAudio&&!l._html5,void 0!==r.ctx&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(l),l._autoplay&&l._queue.push({event:"play",action:function(){l.play()}}),l._preload&&l.load(),l},load:function(){var f=
null;if(r.noAudio)return void this._emit("loaderror",null,"No audio support.");"string"==typeof this._src&&(this._src=[this._src]);for(var h=0;h<this._src.length;h++){var l;if(this._format&&this._format[h])var m=this._format[h];else{if("string"!=typeof(l=this._src[h])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(m=/^data:audio\/([^;,]+);/i.exec(l))||(m=/\.([^.]+)$/.exec(l.split("?",1)[0]));m&&(m=m[1].toLowerCase())}if(m||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),
m&&r.codecs(m)){f=this._src[h];break}}return f?(this._src=f,this._state="loading","https:"===window.location.protocol&&"http:"===f.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new z(this),this._webAudio&&J(this),this):void this._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(f,h){var l=this,m=null;if("number"==typeof f)m=f,f=null;else{if("string"==typeof f&&"loaded"===l._state&&!l._sprite[f])return null;if(void 0===f&&(f="__default",!l._playLock)){for(var K=
0,ua=0;ua<l._sounds.length;ua++)l._sounds[ua]._paused&&!l._sounds[ua]._ended&&(K++,m=l._sounds[ua]._id);1===K?f=null:m=null}}var x=m?l._soundById(m):l._inactiveSound();if(!x)return null;if(m&&!f&&(f=x._sprite||"__default"),"loaded"!==l._state){x._sprite=f;x._ended=!1;var A=x._id;return l._queue.push({event:"play",action:function(){l.play(A)}}),A}if(m&&!x._paused)return h||l._loadQueue("play"),x._id;l._webAudio&&r._autoResume();var z=Math.max(0,0<x._seek?x._seek:l._sprite[f][0]/1E3),J=Math.max(0,(l._sprite[f][0]+
l._sprite[f][1])/1E3-z),E=1E3*J/Math.abs(x._rate),V=l._sprite[f][0]/1E3,ha=(l._sprite[f][0]+l._sprite[f][1])/1E3,ib=!(!x._loop&&!l._sprite[f][2]);x._sprite=f;x._ended=!1;var wa=function(){x._paused=!1;x._seek=z;x._start=V;x._stop=ha;x._loop=ib};if(z>=ha)return void l._ended(x);var F=x._node;if(l._webAudio)m=function(){l._playLock=!1;wa();l._refreshBuffer(x);F.gain.setValueAtTime(x._muted||l._muted?0:x._volume,r.ctx.currentTime);x._playStart=r.ctx.currentTime;void 0===F.bufferSource.start?x._loop?
F.bufferSource.noteGrainOn(0,z,86400):F.bufferSource.noteGrainOn(0,z,J):x._loop?F.bufferSource.start(0,z,86400):F.bufferSource.start(0,z,J);E!==1/0&&(l._endTimers[x._id]=setTimeout(l._ended.bind(l,x),E));h||setTimeout(function(){l._emit("play",x._id);l._loadQueue()},0)},"running"===r.state?m():(l._playLock=!0,l.once("resume",m),l._clearTimer(x._id));else{var M=function(){F.currentTime=z;F.muted=x._muted||l._muted||r._muted||F.muted;F.volume=x._volume*r.volume();F.playbackRate=x._rate;try{var m=F.play();
if(m&&"undefined"!=typeof Promise&&(m instanceof Promise||"function"==typeof m.then)?(l._playLock=!0,wa(),m.then(function(){l._playLock=!1;F._unlocked=!0;h||(l._emit("play",x._id),l._loadQueue())}).catch(function(){l._playLock=!1;l._emit("playerror",x._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");x._ended=!0;x._paused=!0})):h||(l._playLock=!1,wa(),l._emit("play",x._id),l._loadQueue()),F.playbackRate=
x._rate,F.paused)return void l._emit("playerror",x._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==f||x._loop?l._endTimers[x._id]=setTimeout(l._ended.bind(l,x),E):(l._endTimers[x._id]=function(){l._ended(x);F.removeEventListener("ended",l._endTimers[x._id],!1)},F.addEventListener("ended",l._endTimers[x._id],!1))}catch(oa){l._emit("playerror",x._id,oa)}};m=window&&window.ejecta||!F.readyState&&
r._navigator.isCocoonJS;if(3<=F.readyState||m)M();else{l._playLock=!0;var ra=function(){M();F.removeEventListener(r._canPlayEvent,ra,!1)};F.addEventListener(r._canPlayEvent,ra,!1);l._clearTimer(x._id)}}return x._id},pause:function(f,h){var l=this;if("loaded"!==l._state||l._playLock)return l._queue.push({event:"pause",action:function(){l.pause(f)}}),l;for(var m=l._getSoundIds(f),r=0;r<m.length;r++){l._clearTimer(m[r]);var K=l._soundById(m[r]);if(K&&!K._paused&&(K._seek=l.seek(m[r]),K._rateSeek=0,K._paused=
!0,l._stopFade(m[r]),K._node))if(l._webAudio){if(!K._node.bufferSource)continue;void 0===K._node.bufferSource.stop?K._node.bufferSource.noteOff(0):K._node.bufferSource.stop(0);l._cleanBuffer(K._node)}else isNaN(K._node.duration)&&K._node.duration!==1/0||K._node.pause();h||l._emit("pause",K?K._id:null)}return l},stop:function(f,h){var l=this;if("loaded"!==l._state||l._playLock)return l._queue.push({event:"stop",action:function(){l.stop(f)}}),l;for(var m=l._getSoundIds(f),r=0;r<m.length;r++){l._clearTimer(m[r]);
var K=l._soundById(m[r]);K&&(K._seek=K._start||0,K._rateSeek=0,K._paused=!0,K._ended=!0,l._stopFade(m[r]),K._node&&(l._webAudio?K._node.bufferSource&&(void 0===K._node.bufferSource.stop?K._node.bufferSource.noteOff(0):K._node.bufferSource.stop(0),l._cleanBuffer(K._node)):isNaN(K._node.duration)&&K._node.duration!==1/0||(K._node.currentTime=K._start||0,K._node.pause())),h||l._emit("stop",K._id))}return l},mute:function(f,h){var l=this;if("loaded"!==l._state||l._playLock)return l._queue.push({event:"mute",
action:function(){l.mute(f,h)}}),l;if(void 0===h){if("boolean"!=typeof f)return l._muted;l._muted=f}for(var m=l._getSoundIds(h),K=0;K<m.length;K++){var x=l._soundById(m[K]);x&&(x._muted=f,x._interval&&l._stopFade(x._id),l._webAudio&&x._node?x._node.gain.setValueAtTime(f?0:x._volume,r.ctx.currentTime):x._node&&(x._node.muted=!!r._muted||f),l._emit("mute",x._id))}return l},volume:function(){var f,h,l=this,m=arguments;if(0===m.length)return l._volume;1===m.length||2===m.length&&void 0===m[1]?0<=l._getSoundIds().indexOf(m[0])?
h=parseInt(m[0],10):f=parseFloat(m[0]):2<=m.length&&(f=parseFloat(m[0]),h=parseInt(m[1],10));var x;if(!(void 0!==f&&0<=f&&1>=f))return x=h?l._soundById(h):l._sounds[0],x?x._volume:0;if("loaded"!==l._state||l._playLock)return l._queue.push({event:"volume",action:function(){l.volume.apply(l,m)}}),l;void 0===h&&(l._volume=f);h=l._getSoundIds(h);for(var A=0;A<h.length;A++)(x=l._soundById(h[A]))&&(x._volume=f,m[2]||l._stopFade(h[A]),l._webAudio&&x._node&&!x._muted?x._node.gain.setValueAtTime(f,r.ctx.currentTime):
x._node&&!x._muted&&(x._node.volume=f*r.volume()),l._emit("volume",x._id));return l},fade:function(f,h,l,m){var K=this;if("loaded"!==K._state||K._playLock)return K._queue.push({event:"fade",action:function(){K.fade(f,h,l,m)}}),K;f=parseFloat(f);h=parseFloat(h);l=parseFloat(l);K.volume(f,m);for(var I=K._getSoundIds(m),x=0;x<I.length;x++){var A=K._soundById(I[x]);if(A){if(m||K._stopFade(I[x]),K._webAudio&&!A._muted){var z=r.ctx.currentTime,Ea=z+l/1E3;A._volume=f;A._node.gain.setValueAtTime(f,z);A._node.gain.linearRampToValueAtTime(h,
Ea)}K._startFadeInterval(A,f,h,l,I[x],void 0===m)}}return K},_startFadeInterval:function(f,h,l,m,r,x){var K=this,I=h,A=l-h;r=Math.abs(A/.01);r=Math.max(4,0<r?m/r:m);var z=Date.now();f._fadeTo=l;f._interval=setInterval(function(){var r=(Date.now()-z)/m;z=Date.now();I+=A*r;I=Math.max(0,I);I=Math.min(1,I);I=Math.round(100*I)/100;K._webAudio?f._volume=I:K.volume(I,f._id,!0);x&&(K._volume=I);(l<h&&I<=l||l>h&&I>=l)&&(clearInterval(f._interval),f._interval=null,f._fadeTo=null,K.volume(l,f._id),K._emit("fade",
f._id))},r)},_stopFade:function(f){var h=this._soundById(f);return h&&h._interval&&(this._webAudio&&h._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(h._interval),h._interval=null,this.volume(h._fadeTo,f),h._fadeTo=null,this._emit("fade",f)),this},loop:function(){var f,h,l,m=arguments;if(0===m.length)return this._loop;if(1===m.length){if("boolean"!=typeof m[0])return!!(l=this._soundById(parseInt(m[0],10)))&&l._loop;this._loop=f=m[0]}else 2===m.length&&(f=m[0],h=parseInt(m[1],10));
h=this._getSoundIds(h);for(m=0;m<h.length;m++)(l=this._soundById(h[m]))&&(l._loop=f,this._webAudio&&l._node&&l._node.bufferSource&&(l._node.bufferSource.loop=f,f&&(l._node.bufferSource.loopStart=l._start||0,l._node.bufferSource.loopEnd=l._stop)));return this},rate:function(){var f,h,l=this,m=arguments;0===m.length?h=l._sounds[0]._id:1===m.length?0<=l._getSoundIds().indexOf(m[0])?h=parseInt(m[0],10):f=parseFloat(m[0]):2===m.length&&(f=parseFloat(m[0]),h=parseInt(m[1],10));var x;if("number"!=typeof f)return x=
l._soundById(h),x?x._rate:l._rate;if("loaded"!==l._state||l._playLock)return l._queue.push({event:"rate",action:function(){l.rate.apply(l,m)}}),l;void 0===h&&(l._rate=f);h=l._getSoundIds(h);for(var A=0;A<h.length;A++)if(x=l._soundById(h[A])){l.playing(h[A])&&(x._rateSeek=l.seek(h[A]),x._playStart=l._webAudio?r.ctx.currentTime:x._playStart);x._rate=f;l._webAudio&&x._node&&x._node.bufferSource?x._node.bufferSource.playbackRate.setValueAtTime(f,r.ctx.currentTime):x._node&&(x._node.playbackRate=f);var z=
l.seek(h[A]);z=1E3*((l._sprite[x._sprite][0]+l._sprite[x._sprite][1])/1E3-z)/Math.abs(x._rate);!l._endTimers[h[A]]&&x._paused||(l._clearTimer(h[A]),l._endTimers[h[A]]=setTimeout(l._ended.bind(l,x),z));l._emit("rate",x._id)}return l},seek:function(){var f,l,h=this,m=arguments;0===m.length?l=h._sounds[0]._id:1===m.length?0<=h._getSoundIds().indexOf(m[0])?l=parseInt(m[0],10):h._sounds.length&&(l=h._sounds[0]._id,f=parseFloat(m[0])):2===m.length&&(f=parseFloat(m[0]),l=parseInt(m[1],10));if(void 0===l)return h;
if("loaded"!==h._state||h._playLock)return h._queue.push({event:"seek",action:function(){h.seek.apply(h,m)}}),h;var x=h._soundById(l);if(x){if(!("number"==typeof f&&0<=f))return h._webAudio?(f=h.playing(l)?r.ctx.currentTime-x._playStart:0,x._seek+((x._rateSeek?x._rateSeek-x._seek:0)+f*Math.abs(x._rate))):x._node.currentTime;var A=h.playing(l);A&&h.pause(l,!0);x._seek=f;x._ended=!1;h._clearTimer(l);h._webAudio||!x._node||isNaN(x._node.duration)||(x._node.currentTime=f);var z=function(){h._emit("seek",
l);A&&h.play(l,!0)};if(A&&!h._webAudio){var J=function(){h._playLock?setTimeout(J,0):z()};setTimeout(J,0)}else z()}return h},playing:function(f){if("number"==typeof f)return f=this._soundById(f),!!f&&!f._paused;for(f=0;f<this._sounds.length;f++)if(!this._sounds[f]._paused)return!0;return!1},duration:function(f){var h=this._duration;f=this._soundById(f);return f&&(h=this._sprite[f._sprite][1]/1E3),h},state:function(){return this._state},unload:function(){for(var f=this._sounds,h=0;h<f.length;h++)(f[h]._paused||
this.stop(f[h]._id),this._webAudio)||(/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent)||(f[h]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),f[h]._node.removeEventListener("error",f[h]._errorFn,!1),f[h]._node.removeEventListener(r._canPlayEvent,f[h]._loadFn,!1),r._releaseHtml5Audio(f[h]._node)),delete f[h]._node,this._clearTimer(f[h]._id);h=r._howls.indexOf(this);0<=h&&r._howls.splice(h,1);f=!0;for(h=0;h<r._howls.length;h++)if(r._howls[h]._src===
this._src||0<=this._src.indexOf(r._howls[h]._src)){f=!1;break}return x&&f&&delete x[this._src],r.noAudio=!1,this._state="unloaded",this._sounds=[],null},on:function(f,h,l,m){f=this["_on"+f];return"function"==typeof h&&f.push(m?{id:l,fn:h,once:m}:{id:l,fn:h}),this},off:function(f,h,l){var m=this["_on"+f];if("number"==typeof h&&(l=h,h=null),h||l)for(f=0;f<m.length;f++){var r=l===m[f].id;if(h===m[f].fn&&r||!h&&r){m.splice(f,1);break}}else if(f)this["_on"+f]=[];else for(h=Object.keys(this),f=0;f<h.length;f++)0===
h[f].indexOf("_on")&&Array.isArray(this[h[f]])&&(this[h[f]]=[]);return this},once:function(f,h,l){return this.on(f,h,l,1),this},_emit:function(f,h,l){for(var m=this["_on"+f],r=m.length-1;0<=r;r--)m[r].id&&m[r].id!==h&&"load"!==f||(setTimeout(function(f){f.call(this,h,l)}.bind(this,m[r].fn),0),m[r].once&&this.off(f,m[r].fn,m[r].id));return this._loadQueue(f),this},_loadQueue:function(f){if(0<this._queue.length){var h=this._queue[0];h.event===f&&(this._queue.shift(),this._loadQueue());f||h.action()}return this},
_ended:function(f){var h=f._sprite;if(!this._webAudio&&f._node&&!f._node.paused&&!f._node.ended&&f._node.currentTime<f._stop)return setTimeout(this._ended.bind(this,f),100),this;h=!(!f._loop&&!this._sprite[h][2]);if(this._emit("end",f._id),!this._webAudio&&h&&this.stop(f._id,!0).play(f._id),this._webAudio&&h){this._emit("play",f._id);f._seek=f._start||0;f._rateSeek=0;f._playStart=r.ctx.currentTime;var l=1E3*(f._stop-f._start)/Math.abs(f._rate);this._endTimers[f._id]=setTimeout(this._ended.bind(this,
f),l)}return this._webAudio&&!h&&(f._paused=!0,f._ended=!0,f._seek=f._start||0,f._rateSeek=0,this._clearTimer(f._id),this._cleanBuffer(f._node),r._autoSuspend()),this._webAudio||h||this.stop(f._id,!0),this},_clearTimer:function(f){if(this._endTimers[f]){if("function"!=typeof this._endTimers[f])clearTimeout(this._endTimers[f]);else{var h=this._soundById(f);h&&h._node&&h._node.removeEventListener("ended",this._endTimers[f],!1)}delete this._endTimers[f]}return this},_soundById:function(f){for(var h=
0;h<this._sounds.length;h++)if(f===this._sounds[h]._id)return this._sounds[h];return null},_inactiveSound:function(){this._drain();for(var f=0;f<this._sounds.length;f++)if(this._sounds[f]._ended)return this._sounds[f].reset();return new z(this)},_drain:function(){var f=this._pool,h=0,l;if(!(this._sounds.length<f)){for(l=0;l<this._sounds.length;l++)this._sounds[l]._ended&&h++;for(l=this._sounds.length-1;0<=l&&!(h<=f);l--)this._sounds[l]._ended&&(this._webAudio&&this._sounds[l]._node&&this._sounds[l]._node.disconnect(0),
this._sounds.splice(l,1),h--)}},_getSoundIds:function(f){if(void 0===f){f=[];for(var h=0;h<this._sounds.length;h++)f.push(this._sounds[h]._id);return f}return[f]},_refreshBuffer:function(f){return f._node.bufferSource=r.ctx.createBufferSource(),f._node.bufferSource.buffer=x[this._src],f._panner?f._node.bufferSource.connect(f._panner):f._node.bufferSource.connect(f._node),f._node.bufferSource.loop=f._loop,f._loop&&(f._node.bufferSource.loopStart=f._start||0,f._node.bufferSource.loopEnd=f._stop||0),
f._node.bufferSource.playbackRate.setValueAtTime(f._rate,r.ctx.currentTime),this},_cleanBuffer:function(f){var h=r._navigator&&0<=r._navigator.vendor.indexOf("Apple");if(r._scratchBuffer&&f.bufferSource&&(f.bufferSource.onended=null,f.bufferSource.disconnect(0),h))try{f.bufferSource.buffer=r._scratchBuffer}catch(I){}return f.bufferSource=null,this}};var z=function(f){this._parent=f;this.init()};z.prototype={init:function(){var f=this._parent;return this._muted=f._muted,this._loop=f._loop,this._volume=
f._volume,this._rate=f._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++r._counter,f._sounds.push(this),this.create(),this},create:function(){var f=this._parent,h=r._muted||this._muted||this._parent._muted?0:this._volume;return f._webAudio?(this._node=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),this._node.gain.setValueAtTime(h,r.ctx.currentTime),this._node.paused=!0,this._node.connect(r.masterGain)):(this._node=r._obtainHtml5Audio(),this._errorFn=
this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(r._canPlayEvent,this._loadFn,!1),this._node.src=f._src,this._node.preload="auto",this._node.volume=h*r.volume(),this._node.load()),this},reset:function(){var f=this._parent;return this._muted=f._muted,this._loop=f._loop,this._volume=f._volume,this._rate=f._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",
this._id=++r._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0);this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var f=this._parent;f._duration=Math.ceil(10*this._node.duration)/10;0===Object.keys(f._sprite).length&&(f._sprite={__default:[0,1E3*f._duration]});"loaded"!==f._state&&(f._state="loaded",f._emit("load"),f._loadQueue());this._node.removeEventListener(r._canPlayEvent,this._loadFn,!1)}};
var x={},J=function(f){var h=f._src;if(x[h])return f._duration=x[h].duration,void l(f);if(/^data:[^;]+;base64,/.test(h)){for(var r=atob(h.split(",")[1]),A=new Uint8Array(r.length),z=0;z<r.length;++z)A[z]=r.charCodeAt(z);ha(A.buffer,f)}else{var J=new XMLHttpRequest;J.open("GET",h,!0);J.withCredentials=f._xhrWithCredentials;J.responseType="arraybuffer";J.onload=function(){var h=(J.status+"")[0];if("0"!==h&&"2"!==h&&"3"!==h)return void f._emit("loaderror",null,"Failed loading audio file with status: "+
J.status+".");ha(J.response,f)};J.onerror=function(){f._webAudio&&(f._html5=!0,f._webAudio=!1,f._sounds=[],delete x[h],f.load())};m(J)}},m=function(f){try{f.send()}catch(K){f.onerror()}},ha=function(f,h){var m=function(){h._emit("loaderror",null,"Decoding audio data failed.")},K=function(f){f&&0<h._sounds.length?(x[h._src]=f,l(h,f)):m()};"undefined"!=typeof Promise&&1===r.ctx.decodeAudioData.length?r.ctx.decodeAudioData(f).then(K).catch(m):r.ctx.decodeAudioData(f,K,m)},l=function(f,h){h&&!f._duration&&
(f._duration=h.duration);0===Object.keys(f._sprite).length&&(f._sprite={__default:[0,1E3*f._duration]});"loaded"!==f._state&&(f._state="loaded",f._emit("load"),f._loadQueue())},h=function(){if(r.usingWebAudio){try{"undefined"!=typeof AudioContext?r.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch(I){r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var f=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),h=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);
h=h?parseInt(h[1],10):null;f&&h&&9>h&&(f=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase()),(r._navigator&&r._navigator.standalone&&!f||r._navigator&&!r._navigator.standalone&&!f)&&(r.usingWebAudio=!1));r.usingWebAudio&&(r.masterGain=void 0===r.ctx.createGain?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:1,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination));r._setup()}};"function"==typeof define&&define.amd&&define([],function(){return{Howler:r,
Howl:A}});"undefined"!=typeof exports&&(exports.Howler=r,exports.Howl=A);"undefined"!=typeof window?(window.HowlerGlobal=V,window.Howler=r,window.Howl=A,window.Sound=z):"undefined"!=typeof global&&(global.HowlerGlobal=V,global.Howler=r,global.Howl=A,global.Sound=z)}();
!function(){HowlerGlobal.prototype._pos=[0,0,0];HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0];HowlerGlobal.prototype.stereo=function(r){if(!this.ctx||!this.ctx.listener)return this;for(var A=this._howls.length-1;0<=A;A--)this._howls[A].stereo(r);return this};HowlerGlobal.prototype.pos=function(r,A,z){return this.ctx&&this.ctx.listener?(A="number"!=typeof A?this._pos[1]:A,z="number"!=typeof z?this._pos[2]:z,"number"!=typeof r?this._pos:(this._pos=[r,A,z],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],
Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this};HowlerGlobal.prototype.orientation=function(r,A,z,x,J,m){if(!this.ctx||!this.ctx.listener)return this;var V=this._orientation;return A="number"!=typeof A?V[1]:A,z="number"!=typeof z?V[2]:z,x="number"!=typeof x?V[3]:x,J="number"!=
typeof J?V[4]:J,m="number"!=typeof m?V[5]:m,"number"!=typeof r?V:(this._orientation=[r,A,z,x,J,m],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(A,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(z,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(A,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(z,
Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(r,A,z,x,J,m),this)};Howl.prototype.init=function(r){return function(A){return this._orientation=A.orientation||[1,0,0],this._stereo=A.stereo||null,this._pos=A.pos||null,this._pannerAttr={coneInnerAngle:void 0!==A.coneInnerAngle?A.coneInnerAngle:360,coneOuterAngle:void 0!==A.coneOuterAngle?A.coneOuterAngle:360,coneOuterGain:void 0!==A.coneOuterGain?A.coneOuterGain:0,distanceModel:void 0!==A.distanceModel?A.distanceModel:"inverse",maxDistance:void 0!==
A.maxDistance?A.maxDistance:1E4,panningModel:void 0!==A.panningModel?A.panningModel:"HRTF",refDistance:void 0!==A.refDistance?A.refDistance:1,rolloffFactor:void 0!==A.rolloffFactor?A.rolloffFactor:1},this._onstereo=A.onstereo?[{fn:A.onstereo}]:[],this._onpos=A.onpos?[{fn:A.onpos}]:[],this._onorientation=A.onorientation?[{fn:A.onorientation}]:[],r.call(this,A)}}(Howl.prototype.init);Howl.prototype.stereo=function(r,A){var z=this;if(!z._webAudio)return z;if("loaded"!==z._state)return z._queue.push({event:"stereo",
action:function(){z.stereo(r,A)}}),z;var x=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===A){if("number"!=typeof r)return z._stereo;z._stereo=r;z._pos=[r,0,0]}for(var J=z._getSoundIds(A),m=0;m<J.length;m++){var ha=z._soundById(J[m]);if(ha){if("number"!=typeof r)return ha._stereo;ha._stereo=r;ha._pos=[r,0,0];ha._node&&(ha._pannerAttr.panningModel="equalpower",ha._panner&&ha._panner.pan||V(ha,x),"spatial"===x?void 0!==ha._panner.positionX?(ha._panner.positionX.setValueAtTime(r,
Howler.ctx.currentTime),ha._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),ha._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):ha._panner.setPosition(r,0,0):ha._panner.pan.setValueAtTime(r,Howler.ctx.currentTime));z._emit("stereo",ha._id)}}return z};Howl.prototype.pos=function(r,A,z,x){var J=this;if(!J._webAudio)return J;if("loaded"!==J._state)return J._queue.push({event:"pos",action:function(){J.pos(r,A,z,x)}}),J;if(A="number"!=typeof A?0:A,z="number"!=typeof z?-.5:z,void 0===
x){if("number"!=typeof r)return J._pos;J._pos=[r,A,z]}for(var m=J._getSoundIds(x),ha=0;ha<m.length;ha++){var l=J._soundById(m[ha]);if(l){if("number"!=typeof r)return l._pos;l._pos=[r,A,z];l._node&&(l._panner&&!l._panner.pan||V(l,"spatial"),void 0!==l._panner.positionX?(l._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(A,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(z,Howler.ctx.currentTime)):l._panner.setPosition(r,A,z));J._emit("pos",l._id)}}return J};
Howl.prototype.orientation=function(r,A,z,x){var J=this;if(!J._webAudio)return J;if("loaded"!==J._state)return J._queue.push({event:"orientation",action:function(){J.orientation(r,A,z,x)}}),J;if(A="number"!=typeof A?J._orientation[1]:A,z="number"!=typeof z?J._orientation[2]:z,void 0===x){if("number"!=typeof r)return J._orientation;J._orientation=[r,A,z]}for(var m=J._getSoundIds(x),ha=0;ha<m.length;ha++){var l=J._soundById(m[ha]);if(l){if("number"!=typeof r)return l._orientation;l._orientation=[r,
A,z];l._node&&(l._panner||(l._pos||(l._pos=J._pos||[0,0,-.5]),V(l,"spatial")),void 0!==l._panner.orientationX?(l._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),l._panner.orientationY.setValueAtTime(A,Howler.ctx.currentTime),l._panner.orientationZ.setValueAtTime(z,Howler.ctx.currentTime)):l._panner.setOrientation(r,A,z));J._emit("orientation",l._id)}}return J};Howl.prototype.pannerAttr=function(){var r,A,z=arguments;if(!this._webAudio)return this;if(0===z.length)return this._pannerAttr;
if(1===z.length){if("object"!=typeof z[0])return A=this._soundById(parseInt(z[0],10)),A?A._pannerAttr:this._pannerAttr;var x=z[0];void 0===r&&(x.pannerAttr||(x.pannerAttr={coneInnerAngle:x.coneInnerAngle,coneOuterAngle:x.coneOuterAngle,coneOuterGain:x.coneOuterGain,distanceModel:x.distanceModel,maxDistance:x.maxDistance,refDistance:x.refDistance,rolloffFactor:x.rolloffFactor,panningModel:x.panningModel}),this._pannerAttr={coneInnerAngle:void 0!==x.pannerAttr.coneInnerAngle?x.pannerAttr.coneInnerAngle:
this._coneInnerAngle,coneOuterAngle:void 0!==x.pannerAttr.coneOuterAngle?x.pannerAttr.coneOuterAngle:this._coneOuterAngle,coneOuterGain:void 0!==x.pannerAttr.coneOuterGain?x.pannerAttr.coneOuterGain:this._coneOuterGain,distanceModel:void 0!==x.pannerAttr.distanceModel?x.pannerAttr.distanceModel:this._distanceModel,maxDistance:void 0!==x.pannerAttr.maxDistance?x.pannerAttr.maxDistance:this._maxDistance,refDistance:void 0!==x.pannerAttr.refDistance?x.pannerAttr.refDistance:this._refDistance,rolloffFactor:void 0!==
x.pannerAttr.rolloffFactor?x.pannerAttr.rolloffFactor:this._rolloffFactor,panningModel:void 0!==x.pannerAttr.panningModel?x.pannerAttr.panningModel:this._panningModel})}else 2===z.length&&(x=z[0],r=parseInt(z[1],10));r=this._getSoundIds(r);for(z=0;z<r.length;z++)if(A=this._soundById(r[z])){var J=A._pannerAttr;J={coneInnerAngle:void 0!==x.coneInnerAngle?x.coneInnerAngle:J.coneInnerAngle,coneOuterAngle:void 0!==x.coneOuterAngle?x.coneOuterAngle:J.coneOuterAngle,coneOuterGain:void 0!==x.coneOuterGain?
x.coneOuterGain:J.coneOuterGain,distanceModel:void 0!==x.distanceModel?x.distanceModel:J.distanceModel,maxDistance:void 0!==x.maxDistance?x.maxDistance:J.maxDistance,refDistance:void 0!==x.refDistance?x.refDistance:J.refDistance,rolloffFactor:void 0!==x.rolloffFactor?x.rolloffFactor:J.rolloffFactor,panningModel:void 0!==x.panningModel?x.panningModel:J.panningModel};var m=A._panner;m?(m.coneInnerAngle=J.coneInnerAngle,m.coneOuterAngle=J.coneOuterAngle,m.coneOuterGain=J.coneOuterGain,m.distanceModel=
J.distanceModel,m.maxDistance=J.maxDistance,m.refDistance=J.refDistance,m.rolloffFactor=J.rolloffFactor,m.panningModel=J.panningModel):(A._pos||(A._pos=this._pos||[0,0,-.5]),V(A,"spatial"))}return this};Sound.prototype.init=function(r){return function(){var A=this._parent;this._orientation=A._orientation;this._stereo=A._stereo;this._pos=A._pos;this._pannerAttr=A._pannerAttr;r.call(this);this._stereo?A.stereo(this._stereo):this._pos&&A.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init);
Sound.prototype.reset=function(r){return function(){var A=this._parent;return this._orientation=A._orientation,this._stereo=A._stereo,this._pos=A._pos,this._pannerAttr=A._pannerAttr,this._stereo?A.stereo(this._stereo):this._pos?A.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,A._refreshBuffer(this)),r.call(this)}}(Sound.prototype.reset);var V=function(r,A){"spatial"===(A||"spatial")?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=
r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,void 0!==r._panner.positionX?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],
Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),void 0!==r._panner.orientationX?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):
(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime));r._panner.connect(r._node);r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}}();
!function(V){"object"==typeof exports&&"undefined"!=typeof module?module.exports=V():"function"==typeof define&&define.amd?define([],V):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).pako=V()}(function(){return function x(r,A,z){function J(l,h){if(!A[l]){if(!r[l]){var f="function"==typeof require&&require;if(!h&&f)return f(l,!0);if(m)return m(l,!0);h=Error("Cannot find module '"+l+"'");throw h.code="MODULE_NOT_FOUND",h;}h=A[l]={exports:{}};
r[l][0].call(h.exports,function(f){var h=r[l][1][f];return J(h?h:f)},h,h.exports,x,r,A,z)}return A[l].exports}for(var m="function"==typeof require&&require,ha=0;ha<z.length;ha++)J(z[ha]);return J}({1:[function(r,A,z){function x(r){if(!(this instanceof x))return new x(r);r=this.options=ha.assign({level:Ea,method:ua,chunkSize:16384,windowBits:15,memLevel:8,strategy:va,to:""},r||{});r.raw&&0<r.windowBits?r.windowBits=-r.windowBits:r.gzip&&0<r.windowBits&&16>r.windowBits&&(r.windowBits+=16);this.err=
0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new f;this.strm.avail_out=0;var A=m.deflateInit2(this.strm,r.level,r.method,r.windowBits,r.memLevel,r.strategy);if(A!==I)throw Error(h[A]);if(r.header&&m.deflateSetHeader(this.strm,r.header),r.dictionary){var z;if(z="string"==typeof r.dictionary?l.string2buf(r.dictionary):"[object ArrayBuffer]"===K.call(r.dictionary)?new Uint8Array(r.dictionary):r.dictionary,A=m.deflateSetDictionary(this.strm,z),A!==I)throw Error(h[A]);this._dict_set=!0}}function J(f,
h){h=new x(h);if(h.push(f,!0),h.err)throw h.msg;return h.result}var m=r("./zlib/deflate"),ha=r("./utils/common"),l=r("./utils/strings"),h=r("./zlib/messages"),f=r("./zlib/zstream"),K=Object.prototype.toString,I=0,Ea=-1,va=0,ua=8;x.prototype.push=function(f,h){var r,x=this.strm,E=this.options.chunkSize;if(this.ended)return!1;h=h===~~h?h:!0===h?4:0;"string"==typeof f?x.input=l.string2buf(f):"[object ArrayBuffer]"===K.call(f)?x.input=new Uint8Array(f):x.input=f;x.next_in=0;x.avail_in=x.input.length;
do{if(0===x.avail_out&&(x.output=new ha.Buf8(E),x.next_out=0,x.avail_out=E),r=m.deflate(x,h),1!==r&&r!==I)return this.onEnd(r),this.ended=!0,!1;0!==x.avail_out&&(0!==x.avail_in||4!==h&&2!==h)||("string"===this.options.to?this.onData(l.buf2binstring(ha.shrinkBuf(x.output,x.next_out))):this.onData(ha.shrinkBuf(x.output,x.next_out)))}while((0<x.avail_in||0===x.avail_out)&&1!==r);return 4===h?(r=m.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===I):2!==h||(this.onEnd(I),x.avail_out=0,!0)};x.prototype.onData=
function(f){this.chunks.push(f)};x.prototype.onEnd=function(f){f===I&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ha.flattenChunks(this.chunks));this.chunks=[];this.err=f;this.msg=this.strm.msg};z.Deflate=x;z.deflate=J;z.deflateRaw=function(f,h){return h=h||{},h.raw=!0,J(f,h)};z.gzip=function(f,h){return h=h||{},h.gzip=!0,J(f,h)}},{"./utils/common":3,"./utils/strings":4,"./zlib/deflate":8,"./zlib/messages":13,"./zlib/zstream":15}],2:[function(r,A,z){function x(l){if(!(this instanceof
x))return new x(l);var r=this.options=ha.assign({chunkSize:16384,windowBits:0,to:""},l||{});r.raw&&0<=r.windowBits&&16>r.windowBits&&(r.windowBits=-r.windowBits,0===r.windowBits&&(r.windowBits=-15));!(0<=r.windowBits&&16>r.windowBits)||l&&l.windowBits||(r.windowBits+=32);15<r.windowBits&&48>r.windowBits&&0===(15&r.windowBits)&&(r.windowBits|=15);this.err=0;this.msg="";this.ended=!1;this.chunks=[];this.strm=new K;this.strm.avail_out=0;l=m.inflateInit2(this.strm,r.windowBits);if(l!==h.Z_OK)throw Error(f[l]);
this.header=new I;m.inflateGetHeader(this.strm,this.header)}function J(f,h){h=new x(h);if(h.push(f,!0),h.err)throw h.msg;return h.result}var m=r("./zlib/inflate"),ha=r("./utils/common"),l=r("./utils/strings"),h=r("./zlib/constants"),f=r("./zlib/messages"),K=r("./zlib/zstream"),I=r("./zlib/gzheader"),Ea=Object.prototype.toString;x.prototype.push=function(f,r){var x,K,A,I,E,z=this.strm,J=this.options.chunkSize,ua=this.options.dictionary,wa=!1;if(this.ended)return!1;r=r===~~r?r:!0===r?h.Z_FINISH:h.Z_NO_FLUSH;
"string"==typeof f?z.input=l.binstring2buf(f):"[object ArrayBuffer]"===Ea.call(f)?z.input=new Uint8Array(f):z.input=f;z.next_in=0;z.avail_in=z.input.length;do{if(0===z.avail_out&&(z.output=new ha.Buf8(J),z.next_out=0,z.avail_out=J),x=m.inflate(z,h.Z_NO_FLUSH),x===h.Z_NEED_DICT&&ua&&(E="string"==typeof ua?l.string2buf(ua):"[object ArrayBuffer]"===Ea.call(ua)?new Uint8Array(ua):ua,x=m.inflateSetDictionary(this.strm,E)),x===h.Z_BUF_ERROR&&!0===wa&&(x=h.Z_OK,wa=!1),x!==h.Z_STREAM_END&&x!==h.Z_OK)return this.onEnd(x),
this.ended=!0,!1;z.next_out&&(0!==z.avail_out&&x!==h.Z_STREAM_END&&(0!==z.avail_in||r!==h.Z_FINISH&&r!==h.Z_SYNC_FLUSH)||("string"===this.options.to?(K=l.utf8border(z.output,z.next_out),A=z.next_out-K,I=l.buf2string(z.output,K),z.next_out=A,z.avail_out=J-A,A&&ha.arraySet(z.output,z.output,K,A,0),this.onData(I)):this.onData(ha.shrinkBuf(z.output,z.next_out))));0===z.avail_in&&0===z.avail_out&&(wa=!0)}while((0<z.avail_in||0===z.avail_out)&&x!==h.Z_STREAM_END);return x===h.Z_STREAM_END&&(r=h.Z_FINISH),
r===h.Z_FINISH?(x=m.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===h.Z_OK):r!==h.Z_SYNC_FLUSH||(this.onEnd(h.Z_OK),z.avail_out=0,!0)};x.prototype.onData=function(f){this.chunks.push(f)};x.prototype.onEnd=function(f){f===h.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=ha.flattenChunks(this.chunks));this.chunks=[];this.err=f;this.msg=this.strm.msg};z.Inflate=x;z.inflate=J;z.inflateRaw=function(f,h){return h=h||{},h.raw=!0,J(f,h)};z.ungzip=J},{"./utils/common":3,
"./utils/strings":4,"./zlib/constants":6,"./zlib/gzheader":9,"./zlib/inflate":11,"./zlib/messages":13,"./zlib/zstream":15}],3:[function(r,A,z){r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;z.assign=function(m){for(var r=Array.prototype.slice.call(arguments,1);r.length;){var l=r.shift();if(l){if("object"!=typeof l)throw new TypeError(l+"must be non-object");for(var h in l)l.hasOwnProperty(h)&&(m[h]=l[h])}}return m};z.shrinkBuf=function(m,r){return m.length===
r?m:m.subarray?m.subarray(0,r):(m.length=r,m)};var x={arraySet:function(m,r,l,h,f){if(r.subarray&&m.subarray)return void m.set(r.subarray(l,l+h),f);for(var x=0;x<h;x++)m[f+x]=r[l+x]},flattenChunks:function(m){var r,l;var h=l=0;for(r=m.length;h<r;h++)l+=m[h].length;var f=new Uint8Array(l);h=l=0;for(r=m.length;h<r;h++){var x=m[h];f.set(x,l);l+=x.length}return f}},J={arraySet:function(m,r,l,h,f){for(var x=0;x<h;x++)m[f+x]=r[l+x]},flattenChunks:function(m){return[].concat.apply([],m)}};z.setTyped=function(m){m?
(z.Buf8=Uint8Array,z.Buf16=Uint16Array,z.Buf32=Int32Array,z.assign(z,x)):(z.Buf8=Array,z.Buf16=Array,z.Buf32=Array,z.assign(z,J))};z.setTyped(r)},{}],4:[function(r,A,z){function x(h,f){if(65537>f&&(h.subarray&&ha||!h.subarray&&m))return String.fromCharCode.apply(null,J.shrinkBuf(h,f));for(var l="",r=0;r<f;r++)l+=String.fromCharCode(h[r]);return l}var J=r("./common"),m=!0,ha=!0;try{String.fromCharCode.apply(null,[0])}catch(h){m=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(h){ha=!1}var l=
new J.Buf8(256);for(r=0;256>r;r++)l[r]=252<=r?6:248<=r?5:240<=r?4:224<=r?3:192<=r?2:1;l[254]=l[254]=1;z.string2buf=function(h){var f,l,m,r=h.length,x=0;for(l=0;l<r;l++){var z=h.charCodeAt(l);55296===(64512&z)&&l+1<r&&(f=h.charCodeAt(l+1),56320===(64512&f)&&(z=65536+(z-55296<<10)+(f-56320),l++));x+=128>z?1:2048>z?2:65536>z?3:4}var A=new J.Buf8(x);for(l=m=0;m<x;l++)z=h.charCodeAt(l),55296===(64512&z)&&l+1<r&&(f=h.charCodeAt(l+1),56320===(64512&f)&&(z=65536+(z-55296<<10)+(f-56320),l++)),128>z?A[m++]=
z:2048>z?(A[m++]=192|z>>>6,A[m++]=128|63&z):65536>z?(A[m++]=224|z>>>12,A[m++]=128|z>>>6&63,A[m++]=128|63&z):(A[m++]=240|z>>>18,A[m++]=128|z>>>12&63,A[m++]=128|z>>>6&63,A[m++]=128|63&z);return A};z.buf2binstring=function(h){return x(h,h.length)};z.binstring2buf=function(h){for(var f=new J.Buf8(h.length),l=0,m=f.length;l<m;l++)f[l]=h.charCodeAt(l);return f};z.buf2string=function(h,f){var m,r,z,A=f||h.length,J=Array(2*A);for(f=m=0;f<A;)if(r=h[f++],128>r)J[m++]=r;else if(z=l[r],4<z)J[m++]=65533,f+=z-
1;else{for(r&=2===z?31:3===z?15:7;1<z&&f<A;)r=r<<6|63&h[f++],z--;1<z?J[m++]=65533:65536>r?J[m++]=r:(r-=65536,J[m++]=55296|r>>10&1023,J[m++]=56320|1023&r)}return x(J,m)};z.utf8border=function(h,f){var m;f=f||h.length;f>h.length&&(f=h.length);for(m=f-1;0<=m&&128===(192&h[m]);)m--;return 0>m?f:0===m?f:m+l[h[m]]>f?m:f}},{"./common":3}],5:[function(r,A,z){A.exports=function(r,z,m,A){var l=65535&r|0;r=r>>>16&65535|0;for(var h;0!==m;){h=2E3<m?2E3:m;m-=h;do l=l+z[A++]|0,r=r+l|0;while(--h);l%=65521;r%=65521}return l|
r<<16|0}},{}],6:[function(r,A,z){A.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],7:[function(r,A,z){var x=function(){for(var r,m=[],x=0;256>x;x++){r=x;
for(var l=0;8>l;l++)r=1&r?3988292384^r>>>1:r>>>1;m[x]=r}return m}();A.exports=function(r,m,z,l){z=l+z;for(r^=-1;l<z;l++)r=r>>>8^x[255&(r^m[l])];return r^-1}},{}],8:[function(r,A,z){function x(f,h){return f.msg=ib[h],h}function J(f){for(var h=f.length;0<=--h;)f[h]=0}function m(f){var h=f.state,l=h.pending;l>f.avail_out&&(l=f.avail_out);0!==l&&(Ta.arraySet(f.output,h.pending_buf,h.pending_out,l,f.next_out),f.next_out+=l,h.pending_out+=l,f.total_out+=l,f.avail_out-=l,h.pending-=l,0===h.pending&&(h.pending_out=
0))}function ha(f,h){E._tr_flush_block(f,0<=f.block_start?f.block_start:-1,f.strstart-f.block_start,h);f.block_start=f.strstart;m(f.strm)}function l(f,h){f.pending_buf[f.pending++]=h}function h(f,h){f.pending_buf[f.pending++]=h>>>8&255;f.pending_buf[f.pending++]=255&h}function f(f,h){var l,m,G=f.max_chain_length,r=f.strstart,u=f.prev_length,x=f.nice_match,n=f.strstart>f.w_size-xa?f.strstart-(f.w_size-xa):0,w=f.window,F=f.w_mask,z=f.prev,M=f.strstart+T,A=w[r+u-1],E=w[r+u];f.prev_length>=f.good_match&&
(G>>=2);x>f.lookahead&&(x=f.lookahead);do if(l=h,w[l+u]===E&&w[l+u-1]===A&&w[l]===w[r]&&w[++l]===w[r+1]){r+=2;for(l++;w[++r]===w[++l]&&w[++r]===w[++l]&&w[++r]===w[++l]&&w[++r]===w[++l]&&w[++r]===w[++l]&&w[++r]===w[++l]&&w[++r]===w[++l]&&w[++r]===w[++l]&&r<M;);if(m=T-(M-r),r=M-T,m>u){if(f.match_start=h,u=m,m>=x)break;A=w[r+u-1];E=w[r+u]}}while((h=z[h&F])>n&&0!==--G);return u<=f.lookahead?u:f.lookahead}function K(f){var h,l,m=f.w_size;do{if(l=f.window_size-f.lookahead-f.strstart,f.strstart>=m+(m-xa)){Ta.arraySet(f.window,
f.window,m,m,0);f.match_start-=m;f.strstart-=m;f.block_start-=m;var r=h=f.hash_size;do{var G=f.head[--r];f.head[r]=G>=m?G-m:0}while(--h);r=h=m;do G=f.prev[--r],f.prev[r]=G>=m?G-m:0;while(--h);l+=m}if(0===f.strm.avail_in)break;r=f.strm;G=f.window;var u=f.strstart+f.lookahead,x=r.avail_in;if(h=(x>l&&(x=l),0===x?0:(r.avail_in-=x,Ta.arraySet(G,r.input,r.next_in,x,u),1===r.state.wrap?r.adler=Ka(r.adler,G,x,u):2===r.state.wrap&&(r.adler=qa(r.adler,G,x,u)),r.next_in+=x,r.total_in+=x,x)),f.lookahead+=h,f.lookahead+
f.insert>=pa)for(l=f.strstart-f.insert,f.ins_h=f.window[l],f.ins_h=(f.ins_h<<f.hash_shift^f.window[l+1])&f.hash_mask;f.insert&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[l+pa-1])&f.hash_mask,f.prev[l&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=l,l++,f.insert--,!(f.lookahead+f.insert<pa)););}while(f.lookahead<xa&&0!==f.strm.avail_in)}function I(h,l){for(var m,r;;){if(h.lookahead<xa){if(K(h),h.lookahead<xa&&l===wa)return X;if(0===h.lookahead)break}if(m=0,h.lookahead>=pa&&(h.ins_h=(h.ins_h<<h.hash_shift^
h.window[h.strstart+pa-1])&h.hash_mask,m=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart),0!==m&&h.strstart-m<=h.w_size-xa&&(h.match_length=f(h,m)),h.match_length>=pa)if(r=E._tr_tally(h,h.strstart-h.match_start,h.match_length-pa),h.lookahead-=h.match_length,h.match_length<=h.max_lazy_match&&h.lookahead>=pa){h.match_length--;do h.strstart++,h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+pa-1])&h.hash_mask,m=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart;
while(0!==--h.match_length);h.strstart++}else h.strstart+=h.match_length,h.match_length=0,h.ins_h=h.window[h.strstart],h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+1])&h.hash_mask;else r=E._tr_tally(h,0,h.window[h.strstart]),h.lookahead--,h.strstart++;if(r&&(ha(h,!1),0===h.strm.avail_out))return X}return h.insert=h.strstart<pa-1?h.strstart:pa-1,l===F?(ha(h,!0),0===h.strm.avail_out?u:Ra):h.last_lit&&(ha(h,!1),0===h.strm.avail_out)?X:Qb}function Ea(h,l){for(var m,r,G;;){if(h.lookahead<xa){if(K(h),
h.lookahead<xa&&l===wa)return X;if(0===h.lookahead)break}if(m=0,h.lookahead>=pa&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+pa-1])&h.hash_mask,m=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart),h.prev_length=h.match_length,h.prev_match=h.match_start,h.match_length=pa-1,0!==m&&h.prev_length<h.max_lazy_match&&h.strstart-m<=h.w_size-xa&&(h.match_length=f(h,m),5>=h.match_length&&(h.strategy===oa||h.match_length===pa&&4096<h.strstart-h.match_start)&&(h.match_length=pa-1)),
h.prev_length>=pa&&h.match_length<=h.prev_length){G=h.strstart+h.lookahead-pa;r=E._tr_tally(h,h.strstart-1-h.prev_match,h.prev_length-pa);h.lookahead-=h.prev_length-1;h.prev_length-=2;do++h.strstart<=G&&(h.ins_h=(h.ins_h<<h.hash_shift^h.window[h.strstart+pa-1])&h.hash_mask,m=h.prev[h.strstart&h.w_mask]=h.head[h.ins_h],h.head[h.ins_h]=h.strstart);while(0!==--h.prev_length);if(h.match_available=0,h.match_length=pa-1,h.strstart++,r&&(ha(h,!1),0===h.strm.avail_out))return X}else if(h.match_available){if(r=
E._tr_tally(h,0,h.window[h.strstart-1]),r&&ha(h,!1),h.strstart++,h.lookahead--,0===h.strm.avail_out)return X}else h.match_available=1,h.strstart++,h.lookahead--}return h.match_available&&(E._tr_tally(h,0,h.window[h.strstart-1]),h.match_available=0),h.insert=h.strstart<pa-1?h.strstart:pa-1,l===F?(ha(h,!0),0===h.strm.avail_out?u:Ra):h.last_lit&&(ha(h,!1),0===h.strm.avail_out)?X:Qb}function va(f,h,l,m,r){this.good_length=f;this.max_lazy=h;this.nice_length=l;this.max_chain=m;this.func=r}function ua(){this.strm=
null;this.status=0;this.pending_buf=null;this.wrap=this.pending=this.pending_out=this.pending_buf_size=0;this.gzhead=null;this.gzindex=0;this.method=O;this.last_flush=-1;this.w_mask=this.w_bits=this.w_size=0;this.window=null;this.window_size=0;this.head=this.prev=null;this.nice_match=this.good_match=this.strategy=this.level=this.max_lazy_match=this.max_chain_length=this.prev_length=this.lookahead=this.match_start=this.strstart=this.match_available=this.prev_match=this.match_length=this.block_start=
this.hash_shift=this.hash_mask=this.hash_bits=this.hash_size=this.ins_h=0;this.dyn_ltree=new Ta.Buf16(2*Qa);this.dyn_dtree=new Ta.Buf16(2*(2*Va+1));this.bl_tree=new Ta.Buf16(2*(2*w+1));J(this.dyn_ltree);J(this.dyn_dtree);J(this.bl_tree);this.bl_desc=this.d_desc=this.l_desc=null;this.bl_count=new Ta.Buf16(qc+1);this.heap=new Ta.Buf16(2*S+1);J(this.heap);this.heap_max=this.heap_len=0;this.depth=new Ta.Buf16(2*S+1);J(this.depth);this.bi_valid=this.bi_buf=this.insert=this.matches=this.static_len=this.opt_len=
this.d_buf=this.last_lit=this.lit_bufsize=this.l_buf=0}function Ma(f){var h;return f&&f.state?(f.total_in=f.total_out=0,f.data_type=La,h=f.state,h.pending=0,h.pending_out=0,0>h.wrap&&(h.wrap=-h.wrap),h.status=h.wrap?la:W,f.adler=2===h.wrap?0:1,h.last_flush=wa,E._tr_init(h),M):x(f,ra)}function wc(f){var h=Ma(f);h===M&&(f=f.state,f.window_size=2*f.w_size,J(f.head),f.max_lazy_match=Ja[f.level].max_lazy,f.good_match=Ja[f.level].good_length,f.nice_match=Ja[f.level].nice_length,f.max_chain_length=Ja[f.level].max_chain,
f.strstart=0,f.block_start=0,f.lookahead=0,f.insert=0,f.match_length=f.prev_length=pa-1,f.match_available=0,f.ins_h=0);return h}function xc(f,h,l,m,r,u){if(!f)return ra;var y=1;if(h===Fa&&(h=6),0>m?(y=0,m=-m):15<m&&(y=2,m-=16),1>r||r>Ca||l!==O||8>m||15<m||0>h||9<h||0>u||u>Xa)return x(f,ra);8===m&&(m=9);var U=new ua;return f.state=U,U.strm=f,U.wrap=y,U.gzhead=null,U.w_bits=m,U.w_size=1<<U.w_bits,U.w_mask=U.w_size-1,U.hash_bits=r+7,U.hash_size=1<<U.hash_bits,U.hash_mask=U.hash_size-1,U.hash_shift=~~((U.hash_bits+
pa-1)/pa),U.window=new Ta.Buf8(2*U.w_size),U.head=new Ta.Buf16(U.hash_size),U.prev=new Ta.Buf16(U.w_size),U.lit_bufsize=1<<r+6,U.pending_buf_size=4*U.lit_bufsize,U.pending_buf=new Ta.Buf8(U.pending_buf_size),U.d_buf=1*U.lit_bufsize,U.l_buf=3*U.lit_bufsize,U.level=h,U.strategy=u,U.method=l,wc(f)}var Ta=r("../utils/common"),E=r("./trees"),Ka=r("./adler32"),qa=r("./crc32"),ib=r("./messages"),wa=0,F=4,M=0,ra=-2,Fa=-1,oa=1,Xa=4,La=2,O=8,Ca=9,S=286,Va=30,w=19,Qa=2*S+1,qc=15,pa=3,T=258,xa=T+pa+1,la=42,W=
113,X=1,Qb=2,u=3,Ra=4;var Ja=[new va(0,0,0,0,function(f,h){var l=65535;for(l>f.pending_buf_size-5&&(l=f.pending_buf_size-5);;){if(1>=f.lookahead){if(K(f),0===f.lookahead&&h===wa)return X;if(0===f.lookahead)break}f.strstart+=f.lookahead;f.lookahead=0;var m=f.block_start+l;if((0===f.strstart||f.strstart>=m)&&(f.lookahead=f.strstart-m,f.strstart=m,ha(f,!1),0===f.strm.avail_out)||f.strstart-f.block_start>=f.w_size-xa&&(ha(f,!1),0===f.strm.avail_out))return X}return f.insert=0,h===F?(ha(f,!0),0===f.strm.avail_out?
u:Ra):(f.strstart>f.block_start&&ha(f,!1),X)}),new va(4,4,8,4,I),new va(4,5,16,8,I),new va(4,6,32,32,I),new va(4,4,16,16,Ea),new va(8,16,32,32,Ea),new va(8,16,128,128,Ea),new va(8,32,128,256,Ea),new va(32,128,258,1024,Ea),new va(32,258,258,4096,Ea)];z.deflateInit=function(f,h){return xc(f,h,O,15,8,0)};z.deflateInit2=xc;z.deflateReset=wc;z.deflateResetKeep=Ma;z.deflateSetHeader=function(f,h){return f&&f.state?2!==f.state.wrap?ra:(f.state.gzhead=h,M):ra};z.deflate=function(f,r){var U,y;if(!f||!f.state||
5<r||0>r)return f?x(f,ra):ra;if(y=f.state,!f.output||!f.input&&0!==f.avail_in||666===y.status&&r!==F)return x(f,0===f.avail_out?-5:ra);if(y.strm=f,U=y.last_flush,y.last_flush=r,y.status===la)if(2===y.wrap)f.adler=0,l(y,31),l(y,139),l(y,8),y.gzhead?(l(y,(y.gzhead.text?1:0)+(y.gzhead.hcrc?2:0)+(y.gzhead.extra?4:0)+(y.gzhead.name?8:0)+(y.gzhead.comment?16:0)),l(y,255&y.gzhead.time),l(y,y.gzhead.time>>8&255),l(y,y.gzhead.time>>16&255),l(y,y.gzhead.time>>24&255),l(y,9===y.level?2:2<=y.strategy||2>y.level?
4:0),l(y,255&y.gzhead.os),y.gzhead.extra&&y.gzhead.extra.length&&(l(y,255&y.gzhead.extra.length),l(y,y.gzhead.extra.length>>8&255)),y.gzhead.hcrc&&(f.adler=qa(f.adler,y.pending_buf,y.pending,0)),y.gzindex=0,y.status=69):(l(y,0),l(y,0),l(y,0),l(y,0),l(y,0),l(y,9===y.level?2:2<=y.strategy||2>y.level?4:0),l(y,3),y.status=W);else{var w=O+(y.w_bits-8<<4)<<8;w|=(2<=y.strategy||2>y.level?0:6>y.level?1:6===y.level?2:3)<<6;0!==y.strstart&&(w|=32);y.status=W;h(y,w+(31-w%31));0!==y.strstart&&(h(y,f.adler>>>
16),h(y,65535&f.adler));f.adler=1}if(69===y.status)if(y.gzhead.extra){for(w=y.pending;y.gzindex<(65535&y.gzhead.extra.length)&&(y.pending!==y.pending_buf_size||(y.gzhead.hcrc&&y.pending>w&&(f.adler=qa(f.adler,y.pending_buf,y.pending-w,w)),m(f),w=y.pending,y.pending!==y.pending_buf_size));)l(y,255&y.gzhead.extra[y.gzindex]),y.gzindex++;y.gzhead.hcrc&&y.pending>w&&(f.adler=qa(f.adler,y.pending_buf,y.pending-w,w));y.gzindex===y.gzhead.extra.length&&(y.gzindex=0,y.status=73)}else y.status=73;if(73===
y.status)if(y.gzhead.name){w=y.pending;do{if(y.pending===y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>w&&(f.adler=qa(f.adler,y.pending_buf,y.pending-w,w)),m(f),w=y.pending,y.pending===y.pending_buf_size)){var z=1;break}z=y.gzindex<y.gzhead.name.length?255&y.gzhead.name.charCodeAt(y.gzindex++):0;l(y,z)}while(0!==z);y.gzhead.hcrc&&y.pending>w&&(f.adler=qa(f.adler,y.pending_buf,y.pending-w,w));0===z&&(y.gzindex=0,y.status=91)}else y.status=91;if(91===y.status)if(y.gzhead.comment){w=y.pending;do{if(y.pending===
y.pending_buf_size&&(y.gzhead.hcrc&&y.pending>w&&(f.adler=qa(f.adler,y.pending_buf,y.pending-w,w)),m(f),w=y.pending,y.pending===y.pending_buf_size)){z=1;break}z=y.gzindex<y.gzhead.comment.length?255&y.gzhead.comment.charCodeAt(y.gzindex++):0;l(y,z)}while(0!==z);y.gzhead.hcrc&&y.pending>w&&(f.adler=qa(f.adler,y.pending_buf,y.pending-w,w));0===z&&(y.status=103)}else y.status=103;if(103===y.status&&(y.gzhead.hcrc?(y.pending+2>y.pending_buf_size&&m(f),y.pending+2<=y.pending_buf_size&&(l(y,255&f.adler),
l(y,f.adler>>8&255),f.adler=0,y.status=W)):y.status=W),0!==y.pending){if(m(f),0===f.avail_out)return y.last_flush=-1,M}else if(0===f.avail_in&&(r<<1)-(4<r?9:0)<=(U<<1)-(4<U?9:0)&&r!==F)return x(f,-5);if(666===y.status&&0!==f.avail_in)return x(f,-5);if(0!==f.avail_in||0!==y.lookahead||r!==wa&&666!==y.status){if(2===y.strategy)a:{for(var A;;){if(0===y.lookahead&&(K(y),0===y.lookahead)){if(r===wa){var G=X;break a}break}if(y.match_length=0,A=E._tr_tally(y,0,y.window[y.strstart]),y.lookahead--,y.strstart++,
A&&(ha(y,!1),0===y.strm.avail_out)){G=X;break a}}G=(y.insert=0,r===F?(ha(y,!0),0===y.strm.avail_out?u:Ra):y.last_lit&&(ha(y,!1),0===y.strm.avail_out)?X:Qb)}else if(3===y.strategy)a:{var n,I;for(A=y.window;;){if(y.lookahead<=T){if(K(y),y.lookahead<=T&&r===wa){G=X;break a}if(0===y.lookahead)break}if(y.match_length=0,y.lookahead>=pa&&0<y.strstart&&(I=y.strstart-1,n=A[I],n===A[++I]&&n===A[++I]&&n===A[++I])){for(U=y.strstart+T;n===A[++I]&&n===A[++I]&&n===A[++I]&&n===A[++I]&&n===A[++I]&&n===A[++I]&&n===
A[++I]&&n===A[++I]&&I<U;);y.match_length=T-(U-I);y.match_length>y.lookahead&&(y.match_length=y.lookahead)}if(y.match_length>=pa?(G=E._tr_tally(y,1,y.match_length-pa),y.lookahead-=y.match_length,y.strstart+=y.match_length,y.match_length=0):(G=E._tr_tally(y,0,y.window[y.strstart]),y.lookahead--,y.strstart++),G&&(ha(y,!1),0===y.strm.avail_out)){G=X;break a}}G=(y.insert=0,r===F?(ha(y,!0),0===y.strm.avail_out?u:Ra):y.last_lit&&(ha(y,!1),0===y.strm.avail_out)?X:Qb)}else G=Ja[y.level].func(y,r);if(G!==u&&
G!==Ra||(y.status=666),G===X||G===u)return 0===f.avail_out&&(y.last_flush=-1),M;if(G===Qb&&(1===r?E._tr_align(y):5!==r&&(E._tr_stored_block(y,0,0,!1),3===r&&(J(y.head),0===y.lookahead&&(y.strstart=0,y.block_start=0,y.insert=0))),m(f),0===f.avail_out))return y.last_flush=-1,M}return r!==F?M:0>=y.wrap?1:(2===y.wrap?(l(y,255&f.adler),l(y,f.adler>>8&255),l(y,f.adler>>16&255),l(y,f.adler>>24&255),l(y,255&f.total_in),l(y,f.total_in>>8&255),l(y,f.total_in>>16&255),l(y,f.total_in>>24&255)):(h(y,f.adler>>>
16),h(y,65535&f.adler)),m(f),0<y.wrap&&(y.wrap=-y.wrap),0!==y.pending?M:1)};z.deflateEnd=function(f){var h;return f&&f.state?(h=f.state.status,h!==la&&69!==h&&73!==h&&91!==h&&103!==h&&h!==W&&666!==h?x(f,ra):(f.state=null,h===W?x(f,-3):M)):ra};z.deflateSetDictionary=function(f,h){var l,m,r;var u=h.length;if(!f||!f.state||(l=f.state,m=l.wrap,2===m||1===m&&l.status!==la||l.lookahead))return ra;1===m&&(f.adler=Ka(f.adler,h,u,0));l.wrap=0;u>=l.w_size&&(0===m&&(J(l.head),l.strstart=0,l.block_start=0,l.insert=
0),r=new Ta.Buf8(l.w_size),Ta.arraySet(r,h,u-l.w_size,l.w_size,0),h=r,u=l.w_size);r=f.avail_in;var w=f.next_in;var x=f.input;f.avail_in=u;f.next_in=0;f.input=h;for(K(l);l.lookahead>=pa;){h=l.strstart;u=l.lookahead-(pa-1);do l.ins_h=(l.ins_h<<l.hash_shift^l.window[h+pa-1])&l.hash_mask,l.prev[h&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=h,h++;while(--u);l.strstart=h;l.lookahead=pa-1;K(l)}return l.strstart+=l.lookahead,l.block_start=l.strstart,l.insert=l.lookahead,l.lookahead=0,l.match_length=l.prev_length=
pa-1,l.match_available=0,f.next_in=w,f.input=x,f.avail_in=r,l.wrap=m,M};z.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./messages":13,"./trees":14}],9:[function(r,A,z){A.exports=function(){this.os=this.xflags=this.time=this.text=0;this.extra=null;this.extra_len=0;this.comment=this.name="";this.hcrc=0;this.done=!1}},{}],10:[function(r,A,z){A.exports=function(r,z){var m,x,l;var h=r.state;var f=r.next_in;var A=r.input;var I=f+(r.avail_in-5);var J=
r.next_out;var va=r.output;z=J-(z-r.avail_out);var ua=J+(r.avail_out-257);var Ma=h.dmax;var wc=h.wsize;var xc=h.whave;var Ta=h.wnext;var E=h.window;var Ka=h.hold;var qa=h.bits;var ib=h.lencode;var wa=h.distcode;var F=(1<<h.lenbits)-1;var M=(1<<h.distbits)-1;a:do{15>qa&&(Ka+=A[f++]<<qa,qa+=8,Ka+=A[f++]<<qa,qa+=8);var ra=ib[Ka&F];b:for(;;){if(m=ra>>>24,Ka>>>=m,qa-=m,m=ra>>>16&255,0===m)va[J++]=65535&ra;else{if(!(16&m)){if(0===(64&m)){ra=ib[(65535&ra)+(Ka&(1<<m)-1)];continue b}if(32&m){h.mode=12;break a}r.msg=
"invalid literal/length code";h.mode=30;break a}var Fa=65535&ra;(m&=15)&&(qa<m&&(Ka+=A[f++]<<qa,qa+=8),Fa+=Ka&(1<<m)-1,Ka>>>=m,qa-=m);15>qa&&(Ka+=A[f++]<<qa,qa+=8,Ka+=A[f++]<<qa,qa+=8);ra=wa[Ka&M];c:for(;;){if(m=ra>>>24,Ka>>>=m,qa-=m,m=ra>>>16&255,!(16&m)){if(0===(64&m)){ra=wa[(65535&ra)+(Ka&(1<<m)-1)];continue c}r.msg="invalid distance code";h.mode=30;break a}if(x=65535&ra,m&=15,qa<m&&(Ka+=A[f++]<<qa,qa+=8,qa<m&&(Ka+=A[f++]<<qa,qa+=8)),x+=Ka&(1<<m)-1,x>Ma){r.msg="invalid distance too far back";h.mode=
30;break a}if(Ka>>>=m,qa-=m,m=J-z,x>m){if(m=x-m,m>xc&&h.sane){r.msg="invalid distance too far back";h.mode=30;break a}if(ra=0,l=E,0===Ta){if(ra+=wc-m,m<Fa){Fa-=m;do va[J++]=E[ra++];while(--m);ra=J-x;l=va}}else if(Ta<m){if(ra+=wc+Ta-m,m-=Ta,m<Fa){Fa-=m;do va[J++]=E[ra++];while(--m);if(ra=0,Ta<Fa){m=Ta;Fa-=m;do va[J++]=E[ra++];while(--m);ra=J-x;l=va}}}else if(ra+=Ta-m,m<Fa){Fa-=m;do va[J++]=E[ra++];while(--m);ra=J-x;l=va}for(;2<Fa;)va[J++]=l[ra++],va[J++]=l[ra++],va[J++]=l[ra++],Fa-=3;Fa&&(va[J++]=
l[ra++],1<Fa&&(va[J++]=l[ra++]))}else{ra=J-x;do va[J++]=va[ra++],va[J++]=va[ra++],va[J++]=va[ra++],Fa-=3;while(2<Fa);Fa&&(va[J++]=va[ra++],1<Fa&&(va[J++]=va[ra++]))}break}}break}}while(f<I&&J<ua);Fa=qa>>3;f-=Fa;qa-=Fa<<3;r.next_in=f;r.next_out=J;r.avail_in=f<I?5+(I-f):5-(f-I);r.avail_out=J<ua?257+(ua-J):257-(J-ua);h.hold=Ka&(1<<qa)-1;h.bits=qa}},{}],11:[function(r,A,z){function x(f){return(f>>>24&255)+(f>>>8&65280)+((65280&f)<<8)+((255&f)<<24)}function J(){this.mode=0;this.last=!1;this.wrap=0;this.havedict=
!1;this.total=this.check=this.dmax=this.flags=0;this.head=null;this.wnext=this.whave=this.wsize=this.wbits=0;this.window=null;this.extra=this.offset=this.length=this.bits=this.hold=0;this.distcode=this.lencode=null;this.have=this.ndist=this.nlen=this.ncode=this.distbits=this.lenbits=0;this.next=null;this.lens=new Ea.Buf16(320);this.work=new Ea.Buf16(288);this.distdyn=this.lendyn=null;this.was=this.back=this.sane=0}function m(f){var h;return f&&f.state?(h=f.state,f.total_in=f.total_out=h.total=0,f.msg=
"",h.wrap&&(f.adler=1&h.wrap),h.mode=E,h.last=0,h.havedict=0,h.dmax=32768,h.head=null,h.hold=0,h.bits=0,h.lencode=h.lendyn=new Ea.Buf32(Ka),h.distcode=h.distdyn=new Ea.Buf32(qa),h.sane=1,h.back=-1,xc):Ta}function ha(f){var h;return f&&f.state?(h=f.state,h.wsize=0,h.whave=0,h.wnext=0,m(f)):Ta}function l(f,h){var l,m;return f&&f.state?(m=f.state,0>h?(l=0,h=-h):(l=(h>>4)+1,48>h&&(h&=15)),h&&(8>h||15<h)?Ta:(null!==m.window&&m.wbits!==h&&(m.window=null),m.wrap=l,m.wbits=h,ha(f))):Ta}function h(f,h){var m,
r;return f?(r=new J,f.state=r,r.window=null,m=l(f,h),m!==xc&&(f.state=null),m):Ta}function f(f,h,l,m){var r;f=f.state;return null===f.window&&(f.wsize=1<<f.wbits,f.wnext=0,f.whave=0,f.window=new Ea.Buf8(f.wsize)),m>=f.wsize?(Ea.arraySet(f.window,h,l-f.wsize,f.wsize,0),f.wnext=0,f.whave=f.wsize):(r=f.wsize-f.wnext,r>m&&(r=m),Ea.arraySet(f.window,h,l-m,r,f.wnext),m-=r,m?(Ea.arraySet(f.window,h,l-m,m,0),f.wnext=m,f.whave=f.wsize):(f.wnext+=r,f.wnext===f.wsize&&(f.wnext=0),f.whave<f.wsize&&(f.whave+=
r))),0}var K,I,Ea=r("../utils/common"),va=r("./adler32"),ua=r("./crc32"),Ma=r("./inffast"),wc=r("./inftrees"),xc=0,Ta=-2,E=1,Ka=852,qa=592,ib=!0;z.inflateReset=ha;z.inflateReset2=l;z.inflateResetKeep=m;z.inflateInit=function(f){return h(f,15)};z.inflateInit2=h;z.inflate=function(h,l){var m,r,z,A,F,J,O,ha=0,S=new Ea.Buf8(4),wa=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!h||!h.state||!h.output||!h.input&&0!==h.avail_in)return Ta;var w=h.state;12===w.mode&&(w.mode=13);var qa=h.next_out;var Ka=
h.output;var pa=h.avail_out;var T=h.next_in;var xa=h.input;var la=h.avail_in;var W=w.hold;var X=w.bits;var Qb=la;var u=pa;var Ra=xc;a:for(;;)switch(w.mode){case E:if(0===w.wrap){w.mode=13;break}for(;16>X;){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}if(2&w.wrap&&35615===W){w.check=0;S[0]=255&W;S[1]=W>>>8&255;w.check=ua(w.check,S,2,0);X=W=0;w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&W)<<8)+(W>>8))%31){h.msg="incorrect header check";w.mode=30;break}if(8!==(15&W)){h.msg="unknown compression method";
w.mode=30;break}if(W>>>=4,X-=4,J=(15&W)+8,0===w.wbits)w.wbits=J;else if(J>w.wbits){h.msg="invalid window size";w.mode=30;break}w.dmax=1<<J;h.adler=w.check=1;w.mode=512&W?10:12;X=W=0;break;case 2:for(;16>X;){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}if(w.flags=W,8!==(255&w.flags)){h.msg="unknown compression method";w.mode=30;break}if(57344&w.flags){h.msg="unknown header flags set";w.mode=30;break}w.head&&(w.head.text=W>>8&1);512&w.flags&&(S[0]=255&W,S[1]=W>>>8&255,w.check=ua(w.check,S,2,0));X=W=0;
w.mode=3;case 3:for(;32>X;){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}w.head&&(w.head.time=W);512&w.flags&&(S[0]=255&W,S[1]=W>>>8&255,S[2]=W>>>16&255,S[3]=W>>>24&255,w.check=ua(w.check,S,4,0));X=W=0;w.mode=4;case 4:for(;16>X;){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}w.head&&(w.head.xflags=255&W,w.head.os=W>>8);512&w.flags&&(S[0]=255&W,S[1]=W>>>8&255,w.check=ua(w.check,S,2,0));X=W=0;w.mode=5;case 5:if(1024&w.flags){for(;16>X;){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}w.length=W;w.head&&(w.head.extra_len=
W);512&w.flags&&(S[0]=255&W,S[1]=W>>>8&255,w.check=ua(w.check,S,2,0));X=W=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(m=w.length,m>la&&(m=la),m&&(w.head&&(J=w.head.extra_len-w.length,w.head.extra||(w.head.extra=Array(w.head.extra_len)),Ea.arraySet(w.head.extra,xa,T,m,J)),512&w.flags&&(w.check=ua(w.check,xa,m,T)),la-=m,T+=m,w.length-=m),w.length))break a;w.length=0;w.mode=7;case 7:if(2048&w.flags){if(0===la)break a;m=0;do J=xa[T+m++],w.head&&J&&65536>w.length&&(w.head.name+=
String.fromCharCode(J));while(J&&m<la);if(512&w.flags&&(w.check=ua(w.check,xa,m,T)),la-=m,T+=m,J)break a}else w.head&&(w.head.name=null);w.length=0;w.mode=8;case 8:if(4096&w.flags){if(0===la)break a;m=0;do J=xa[T+m++],w.head&&J&&65536>w.length&&(w.head.comment+=String.fromCharCode(J));while(J&&m<la);if(512&w.flags&&(w.check=ua(w.check,xa,m,T)),la-=m,T+=m,J)break a}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;16>X;){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}if(W!==(65535&
w.check)){h.msg="header crc mismatch";w.mode=30;break}X=W=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0);h.adler=w.check=0;w.mode=12;break;case 10:for(;32>X;){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}h.adler=w.check=x(W);X=W=0;w.mode=11;case 11:if(0===w.havedict)return h.next_out=qa,h.avail_out=pa,h.next_in=T,h.avail_in=la,w.hold=W,w.bits=X,2;h.adler=w.check=1;w.mode=12;case 12:if(5===l||6===l)break a;case 13:if(w.last){W>>>=7&X;X-=7&X;w.mode=27;break}for(;3>X;){if(0===la)break a;la--;W+=xa[T++]<<
X;X+=8}switch(w.last=1&W,W>>>=1,--X,3&W){case 0:w.mode=14;break;case 1:var Ja=w;if(ib){K=new Ea.Buf32(512);I=new Ea.Buf32(32);for(z=0;144>z;)Ja.lens[z++]=8;for(;256>z;)Ja.lens[z++]=9;for(;280>z;)Ja.lens[z++]=7;for(;288>z;)Ja.lens[z++]=8;wc(1,Ja.lens,0,288,K,0,Ja.work,{bits:9});for(z=0;32>z;)Ja.lens[z++]=5;wc(2,Ja.lens,0,32,I,0,Ja.work,{bits:5});ib=!1}Ja.lencode=K;Ja.lenbits=9;Ja.distcode=I;Ja.distbits=5;if(w.mode=20,6===l){W>>>=2;X-=2;break a}break;case 2:w.mode=17;break;case 3:h.msg="invalid block type",
w.mode=30}W>>>=2;X-=2;break;case 14:W>>>=7&X;for(X-=7&X;32>X;){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}if((65535&W)!==(W>>>16^65535)){h.msg="invalid stored block lengths";w.mode=30;break}if(w.length=65535&W,W=0,X=0,w.mode=15,6===l)break a;case 15:w.mode=16;case 16:if(m=w.length){if(m>la&&(m=la),m>pa&&(m=pa),0===m)break a;Ea.arraySet(Ka,xa,T,m,qa);la-=m;T+=m;pa-=m;qa+=m;w.length-=m;break}w.mode=12;break;case 17:for(;14>X;){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}if(w.nlen=(31&W)+257,W>>>=5,X-=
5,w.ndist=(31&W)+1,W>>>=5,X-=5,w.ncode=(15&W)+4,W>>>=4,X-=4,286<w.nlen||30<w.ndist){h.msg="too many length or distance symbols";w.mode=30;break}w.have=0;w.mode=18;case 18:for(;w.have<w.ncode;){for(;3>X;){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}w.lens[wa[w.have++]]=7&W;W>>>=3;X-=3}for(;19>w.have;)w.lens[wa[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,O={bits:w.lenbits},Ra=wc(0,w.lens,0,19,w.lencode,0,w.work,O),w.lenbits=O.bits,Ra){h.msg="invalid code lengths set";w.mode=30;break}w.have=0;w.mode=
19;case 19:for(;w.have<w.nlen+w.ndist;){for(;ha=w.lencode[W&(1<<w.lenbits)-1],A=ha>>>24,Ja=65535&ha,!(A<=X);){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}if(16>Ja)W>>>=A,X-=A,w.lens[w.have++]=Ja;else{if(16===Ja){for(z=A+2;X<z;){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}if(W>>>=A,X-=A,0===w.have){h.msg="invalid bit length repeat";w.mode=30;break}J=w.lens[w.have-1];m=3+(3&W);W>>>=2;X-=2}else if(17===Ja){for(z=A+3;X<z;){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}W>>>=A;X-=A;J=0;m=3+(7&W);W>>>=3;X-=3}else{for(z=
A+7;X<z;){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}W>>>=A;X-=A;J=0;m=11+(127&W);W>>>=7;X-=7}if(w.have+m>w.nlen+w.ndist){h.msg="invalid bit length repeat";w.mode=30;break}for(;m--;)w.lens[w.have++]=J}}if(30===w.mode)break;if(0===w.lens[256]){h.msg="invalid code -- missing end-of-block";w.mode=30;break}if(w.lenbits=9,O={bits:w.lenbits},Ra=wc(1,w.lens,0,w.nlen,w.lencode,0,w.work,O),w.lenbits=O.bits,Ra){h.msg="invalid literal/lengths set";w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,O={bits:w.distbits},
Ra=wc(2,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,O),w.distbits=O.bits,Ra){h.msg="invalid distances set";w.mode=30;break}if(w.mode=20,6===l)break a;case 20:w.mode=21;case 21:if(6<=la&&258<=pa){h.next_out=qa;h.avail_out=pa;h.next_in=T;h.avail_in=la;w.hold=W;w.bits=X;Ma(h,u);qa=h.next_out;Ka=h.output;pa=h.avail_out;T=h.next_in;xa=h.input;la=h.avail_in;W=w.hold;X=w.bits;12===w.mode&&(w.back=-1);break}for(w.back=0;ha=w.lencode[W&(1<<w.lenbits)-1],A=ha>>>24,z=ha>>>16&255,Ja=65535&ha,!(A<=X);){if(0===la)break a;
la--;W+=xa[T++]<<X;X+=8}if(z&&0===(240&z)){var G=A;var ub=z;for(F=Ja;ha=w.lencode[F+((W&(1<<G+ub)-1)>>G)],A=ha>>>24,z=ha>>>16&255,Ja=65535&ha,!(G+A<=X);){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}W>>>=G;X-=G;w.back+=G}if(W>>>=A,X-=A,w.back+=A,w.length=Ja,0===z){w.mode=26;break}if(32&z){w.back=-1;w.mode=12;break}if(64&z){h.msg="invalid literal/length code";w.mode=30;break}w.extra=15&z;w.mode=22;case 22:if(w.extra){for(z=w.extra;X<z;){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}w.length+=W&(1<<w.extra)-
1;W>>>=w.extra;X-=w.extra;w.back+=w.extra}w.was=w.length;w.mode=23;case 23:for(;ha=w.distcode[W&(1<<w.distbits)-1],A=ha>>>24,z=ha>>>16&255,Ja=65535&ha,!(A<=X);){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}if(0===(240&z)){G=A;ub=z;for(F=Ja;ha=w.distcode[F+((W&(1<<G+ub)-1)>>G)],A=ha>>>24,z=ha>>>16&255,Ja=65535&ha,!(G+A<=X);){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}W>>>=G;X-=G;w.back+=G}if(W>>>=A,X-=A,w.back+=A,64&z){h.msg="invalid distance code";w.mode=30;break}w.offset=Ja;w.extra=15&z;w.mode=24;case 24:if(w.extra){for(z=
w.extra;X<z;){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}w.offset+=W&(1<<w.extra)-1;W>>>=w.extra;X-=w.extra;w.back+=w.extra}if(w.offset>w.dmax){h.msg="invalid distance too far back";w.mode=30;break}w.mode=25;case 25:if(0===pa)break a;if(m=u-pa,w.offset>m){if(m=w.offset-m,m>w.whave&&w.sane){h.msg="invalid distance too far back";w.mode=30;break}m>w.wnext?(m-=w.wnext,r=w.wsize-m):r=w.wnext-m;m>w.length&&(m=w.length);z=w.window}else z=Ka,r=qa-w.offset,m=w.length;m>pa&&(m=pa);pa-=m;w.length-=m;do Ka[qa++]=
z[r++];while(--m);0===w.length&&(w.mode=21);break;case 26:if(0===pa)break a;Ka[qa++]=w.length;pa--;w.mode=21;break;case 27:if(w.wrap){for(;32>X;){if(0===la)break a;la--;W|=xa[T++]<<X;X+=8}if(u-=pa,h.total_out+=u,w.total+=u,u&&(h.adler=w.check=w.flags?ua(w.check,Ka,u,qa-u):va(w.check,Ka,u,qa-u)),u=pa,(w.flags?W:x(W))!==w.check){h.msg="incorrect data check";w.mode=30;break}X=W=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;32>X;){if(0===la)break a;la--;W+=xa[T++]<<X;X+=8}if(W!==(4294967295&w.total)){h.msg=
"incorrect length check";w.mode=30;break}X=W=0}w.mode=29;case 29:Ra=1;break a;case 30:Ra=-3;break a;case 31:return-4;default:return Ta}return h.next_out=qa,h.avail_out=pa,h.next_in=T,h.avail_in=la,w.hold=W,w.bits=X,(w.wsize||u!==h.avail_out&&30>w.mode&&(27>w.mode||4!==l))&&f(h,h.output,h.next_out,u-h.avail_out)?(w.mode=31,-4):(Qb-=h.avail_in,u-=h.avail_out,h.total_in+=Qb,h.total_out+=u,w.total+=u,w.wrap&&u&&(h.adler=w.check=w.flags?ua(w.check,Ka,u,h.next_out-u):va(w.check,Ka,u,h.next_out-u)),h.data_type=
w.bits+(w.last?64:0)+(12===w.mode?128:0)+(20===w.mode||15===w.mode?256:0),(0===Qb&&0===u||4===l)&&Ra===xc&&(Ra=-5),Ra)};z.inflateEnd=function(f){if(!f||!f.state)return Ta;var h=f.state;return h.window&&(h.window=null),f.state=null,xc};z.inflateGetHeader=function(f,h){var l;return f&&f.state?(l=f.state,0===(2&l.wrap)?Ta:(l.head=h,h.done=!1,xc)):Ta};z.inflateSetDictionary=function(h,l){var m,r,x=l.length;return h&&h.state?(m=h.state,0!==m.wrap&&11!==m.mode?Ta:11===m.mode&&(r=1,r=va(r,l,x,0),r!==m.check)?
-3:f(h,l,x,x)?(m.mode=31,-4):(m.havedict=1,xc)):Ta};z.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":3,"./adler32":5,"./crc32":7,"./inffast":10,"./inftrees":12}],12:[function(r,A,z){var x=r("../utils/common"),J=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],m=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],ha=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,
4097,6145,8193,12289,16385,24577,0,0],l=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];A.exports=function(h,f,r,z,A,va,ua,Ma){var I,K,Ea,E,Ka,qa,ib=Ma.bits,wa,F,M,ra,Fa,oa=0,Xa,La=null,O=0,Ca=new x.Buf16(16);var S=new x.Buf16(16);var Va=null,w=0;for(wa=0;15>=wa;wa++)Ca[wa]=0;for(F=0;F<z;F++)Ca[f[r+F]]++;var Qa=ib;for(M=15;1<=M&&0===Ca[M];M--);if(Qa>M&&(Qa=M),0===M)return A[va++]=20971520,A[va++]=20971520,Ma.bits=1,0;for(ib=1;ib<M&&0===Ca[ib];ib++);
Qa<ib&&(Qa=ib);for(wa=I=1;15>=wa;wa++)if(I<<=1,I-=Ca[wa],0>I)return-1;if(0<I&&(0===h||1!==M))return-1;S[1]=0;for(wa=1;15>wa;wa++)S[wa+1]=S[wa]+Ca[wa];for(F=0;F<z;F++)0!==f[r+F]&&(ua[S[f[r+F]]++]=F);if(0===h?(La=Va=ua,E=19):1===h?(La=J,O-=257,Va=m,w-=257,E=256):(La=ha,Va=l,E=-1),Xa=0,F=0,wa=ib,S=va,ra=Qa,Fa=0,Ea=-1,oa=1<<Qa,z=oa-1,1===h&&852<oa||2===h&&592<oa)return 1;for(var qc=0;;){qc++;var pa=wa-Fa;ua[F]<E?(Ka=0,qa=ua[F]):ua[F]>E?(Ka=Va[w+ua[F]],qa=La[O+ua[F]]):(Ka=96,qa=0);I=1<<wa-Fa;ib=K=1<<ra;
do K-=I,A[S+(Xa>>Fa)+K]=pa<<24|Ka<<16|qa|0;while(0!==K);for(I=1<<wa-1;Xa&I;)I>>=1;if(0!==I?(Xa&=I-1,Xa+=I):Xa=0,F++,0===--Ca[wa]){if(wa===M)break;wa=f[r+ua[F]]}if(wa>Qa&&(Xa&z)!==Ea){0===Fa&&(Fa=Qa);S+=ib;ra=wa-Fa;for(I=1<<ra;ra+Fa<M&&(I-=Ca[ra+Fa],!(0>=I));)ra++,I<<=1;if(oa+=1<<ra,1===h&&852<oa||2===h&&592<oa)return 1;Ea=Xa&z;A[Ea]=Qa<<24|ra<<16|S-va|0}}return 0!==Xa&&(A[S+Xa]=wa-Fa<<24|4194304),Ma.bits=Qa,0}},{"../utils/common":3}],13:[function(r,A,z){A.exports={2:"need dictionary",1:"stream end",
0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],14:[function(r,A,z){function x(f){for(var h=f.length;0<=--h;)f[h]=0}function J(f,h,l,m,r){this.static_tree=f;this.extra_bits=h;this.extra_base=l;this.elems=m;this.max_length=r;this.has_stree=f&&f.length}function m(f,h){this.dyn_tree=f;this.max_code=0;this.stat_desc=h}function ha(f,h){f.pending_buf[f.pending++]=255&h;f.pending_buf[f.pending++]=h>>>8&255}function l(f,
h,l){f.bi_valid>O-l?(f.bi_buf|=h<<f.bi_valid&65535,ha(f,f.bi_buf),f.bi_buf=h>>O-f.bi_valid,f.bi_valid+=l-O):(f.bi_buf|=h<<f.bi_valid&65535,f.bi_valid+=l)}function h(f,h,m){l(f,m[2*h],m[2*h+1])}function f(f,h){var l=0;do l|=1&f,f>>>=1,l<<=1;while(0<--h);return l>>>1}function K(h,l,m){var r,u=Array(La+1),y=0;for(r=1;r<=La;r++)u[r]=y=y+m[r-1]<<1;for(m=0;m<=l;m++)r=h[2*m+1],0!==r&&(h[2*m]=f(u[r]++,r))}function I(f){var h;for(h=0;h<ra;h++)f.dyn_ltree[2*h]=0;for(h=0;h<Fa;h++)f.dyn_dtree[2*h]=0;for(h=0;h<
oa;h++)f.bl_tree[2*h]=0;f.dyn_ltree[2*Ca]=1;f.opt_len=f.static_len=0;f.last_lit=f.matches=0}function Ea(f){8<f.bi_valid?ha(f,f.bi_buf):0<f.bi_valid&&(f.pending_buf[f.pending++]=f.bi_buf);f.bi_buf=0;f.bi_valid=0}function va(f,h,l,m){var r=2*h,u=2*l;return f[r]<f[u]||f[r]===f[u]&&m[h]<=m[l]}function ua(f,h,l){for(var m=f.heap[l],r=l<<1;r<=f.heap_len&&(r<f.heap_len&&va(h,f.heap[r+1],f.heap[r],f.depth)&&r++,!va(h,m,f.heap[r],f.depth));)f.heap[l]=f.heap[r],l=r,r<<=1;f.heap[l]=m}function Ma(f,m,r){var y,
w,x=0;if(0!==f.last_lit){do{var n=f.pending_buf[f.d_buf+2*x]<<8|f.pending_buf[f.d_buf+2*x+1];var z=f.pending_buf[f.l_buf+x];x++;0===n?h(f,z,m):(y=X[z],h(f,y+M+1,m),w=Qa[y],0!==w&&(z-=Qb[y],l(f,z,w)),n--,y=256>n?W[n]:W[256+(n>>>7)],h(f,y,r),w=qc[y],0!==w&&(n-=u[y],l(f,n,w)))}while(x<f.last_lit)}h(f,Ca,m)}function wc(f,h){var l,m=h.dyn_tree;var r=h.stat_desc.static_tree;var u=h.stat_desc.has_stree,n=h.stat_desc.elems,y=-1;f.heap_len=0;f.heap_max=Xa;for(l=0;l<n;l++)0!==m[2*l]?(f.heap[++f.heap_len]=y=
l,f.depth[l]=0):m[2*l+1]=0;for(;2>f.heap_len;){var w=f.heap[++f.heap_len]=2>y?++y:0;m[2*w]=1;f.depth[w]=0;f.opt_len--;u&&(f.static_len-=r[2*w+1])}h.max_code=y;for(l=f.heap_len>>1;1<=l;l--)ua(f,m,l);w=n;do l=f.heap[1],f.heap[1]=f.heap[f.heap_len--],ua(f,m,1),r=f.heap[1],f.heap[--f.heap_max]=l,f.heap[--f.heap_max]=r,m[2*w]=m[2*l]+m[2*r],f.depth[w]=(f.depth[l]>=f.depth[r]?f.depth[l]:f.depth[r])+1,m[2*l+1]=m[2*r+1]=w,f.heap[1]=w++,ua(f,m,1);while(2<=f.heap_len);f.heap[--f.heap_max]=f.heap[1];var x,z;
l=h.dyn_tree;w=h.max_code;n=h.stat_desc.static_tree;var A=h.stat_desc.has_stree,U=h.stat_desc.extra_bits,F=h.stat_desc.extra_base,E=h.stat_desc.max_length,G=0;for(u=0;u<=La;u++)f.bl_count[u]=0;l[2*f.heap[f.heap_max]+1]=0;for(h=f.heap_max+1;h<Xa;h++)r=f.heap[h],u=l[2*l[2*r+1]+1]+1,u>E&&(u=E,G++),l[2*r+1]=u,r>w||(f.bl_count[u]++,x=0,r>=F&&(x=U[r-F]),z=l[2*r],f.opt_len+=z*(u+x),A&&(f.static_len+=z*(n[2*r+1]+x)));if(0!==G){do{for(u=E-1;0===f.bl_count[u];)u--;f.bl_count[u]--;f.bl_count[u+1]+=2;f.bl_count[E]--;
G-=2}while(0<G);for(u=E;0!==u;u--)for(r=f.bl_count[u];0!==r;)x=f.heap[--h],x>w||(l[2*x+1]!==u&&(f.opt_len+=(u-l[2*x+1])*l[2*x],l[2*x+1]=u),r--)}K(m,y,f.bl_count)}function xc(f,h,l){var m,r=-1,u=h[1],n=0,y=7,x=4;0===u&&(y=138,x=3);h[2*(l+1)+1]=65535;for(m=0;m<=l;m++){var z=u;u=h[2*(m+1)+1];++n<y&&z===u||(n<x?f.bl_tree[2*z]+=n:0!==z?(z!==r&&f.bl_tree[2*z]++,f.bl_tree[2*S]++):10>=n?f.bl_tree[2*Va]++:f.bl_tree[2*w]++,n=0,r=z,0===u?(y=138,x=3):z===u?(y=6,x=3):(y=7,x=4))}}function Ta(f,m,r){var u,y,x=-1,
n=m[1],z=0,A=7,E=4;0===n&&(A=138,E=3);for(u=0;u<=r;u++)if(y=n,n=m[2*(u+1)+1],!(++z<A&&y===n)){if(z<E){do h(f,y,f.bl_tree);while(0!==--z)}else 0!==y?(y!==x&&(h(f,y,f.bl_tree),z--),h(f,S,f.bl_tree),l(f,z-3,2)):10>=z?(h(f,Va,f.bl_tree),l(f,z-3,3)):(h(f,w,f.bl_tree),l(f,z-11,7));z=0;x=y;0===n?(A=138,E=3):y===n?(A=6,E=3):(A=7,E=4)}}function E(f){var h,l=4093624447;for(h=0;31>=h;h++,l>>>=1)if(1&l&&0!==f.dyn_ltree[2*h])return ib;if(0!==f.dyn_ltree[18]||0!==f.dyn_ltree[20]||0!==f.dyn_ltree[26])return wa;
for(h=32;h<M;h++)if(0!==f.dyn_ltree[2*h])return wa;return ib}function Ka(f,h,m,r){l(f,(F<<1)+(r?1:0),3);Ea(f);ha(f,m);ha(f,~m);qa.arraySet(f.pending_buf,f.window,h,m,f.pending);f.pending+=m}var qa=r("../utils/common"),ib=0,wa=1,F=0,M=256,ra=M+1+29,Fa=30,oa=19,Xa=2*ra+1,La=15,O=16,Ca=256,S=16,Va=17,w=18,Qa=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],qc=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],pa=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],T=[16,17,18,0,8,7,
9,6,10,5,11,4,12,3,13,2,14,1,15],xa=Array(2*(ra+2));x(xa);var la=Array(2*Fa);x(la);var W=Array(512);x(W);var X=Array(256);x(X);var Qb=Array(29);x(Qb);var u=Array(Fa);x(u);var Ra,Ja,G,ub=!1;z._tr_init=function(h){if(!ub){var l,r,w,x=Array(La+1);for(w=r=0;28>w;w++)for(Qb[w]=r,l=0;l<1<<Qa[w];l++)X[r++]=w;X[r-1]=w;for(w=r=0;16>w;w++)for(u[w]=r,l=0;l<1<<qc[w];l++)W[r++]=w;for(r>>=7;w<Fa;w++)for(u[w]=r<<7,l=0;l<1<<qc[w]-7;l++)W[256+r++]=w;for(l=0;l<=La;l++)x[l]=0;for(l=0;143>=l;)xa[2*l+1]=8,l++,x[8]++;
for(;255>=l;)xa[2*l+1]=9,l++,x[9]++;for(;279>=l;)xa[2*l+1]=7,l++,x[7]++;for(;287>=l;)xa[2*l+1]=8,l++,x[8]++;K(xa,ra+1,x);for(l=0;l<Fa;l++)la[2*l+1]=5,la[2*l]=f(l,5);Ra=new J(xa,Qa,M+1,ra,La);Ja=new J(la,qc,0,Fa,La);G=new J([],pa,0,oa,7);ub=!0}h.l_desc=new m(h.dyn_ltree,Ra);h.d_desc=new m(h.dyn_dtree,Ja);h.bl_desc=new m(h.bl_tree,G);h.bi_buf=0;h.bi_valid=0;I(h)};z._tr_stored_block=Ka;z._tr_flush_block=function(f,h,m,r){var u=0;if(0<f.level){2===f.strm.data_type&&(f.strm.data_type=E(f));wc(f,f.l_desc);
wc(f,f.d_desc);xc(f,f.dyn_ltree,f.l_desc.max_code);xc(f,f.dyn_dtree,f.d_desc.max_code);wc(f,f.bl_desc);for(u=oa-1;3<=u&&0===f.bl_tree[2*T[u]+1];u--);u=(f.opt_len+=3*(u+1)+14,u);var w=f.opt_len+3+7>>>3;var n=f.static_len+3+7>>>3;n<=w&&(w=n)}else w=n=m+5;if(m+4<=w&&-1!==h)Ka(f,h,m,r);else if(4===f.strategy||n===w)l(f,2+(r?1:0),3),Ma(f,xa,la);else{l(f,4+(r?1:0),3);h=f.l_desc.max_code+1;m=f.d_desc.max_code+1;u+=1;l(f,h-257,5);l(f,m-1,5);l(f,u-4,4);for(w=0;w<u;w++)l(f,f.bl_tree[2*T[w]+1],3);Ta(f,f.dyn_ltree,
h-1);Ta(f,f.dyn_dtree,m-1);Ma(f,f.dyn_ltree,f.dyn_dtree)}I(f);r&&Ea(f)};z._tr_tally=function(f,h,l){return f.pending_buf[f.d_buf+2*f.last_lit]=h>>>8&255,f.pending_buf[f.d_buf+2*f.last_lit+1]=255&h,f.pending_buf[f.l_buf+f.last_lit]=255&l,f.last_lit++,0===h?f.dyn_ltree[2*l]++:(f.matches++,h--,f.dyn_ltree[2*(X[l]+M+1)]++,f.dyn_dtree[2*(256>h?W[h]:W[256+(h>>>7)])]++),f.last_lit===f.lit_bufsize-1};z._tr_align=function(f){l(f,2,3);h(f,Ca,xa);16===f.bi_valid?(ha(f,f.bi_buf),f.bi_buf=0,f.bi_valid=0):8<=f.bi_valid&&
(f.pending_buf[f.pending++]=255&f.bi_buf,f.bi_buf>>=8,f.bi_valid-=8)}},{"../utils/common":3}],15:[function(r,A,z){A.exports=function(){this.input=null;this.total_in=this.avail_in=this.next_in=0;this.output=null;this.total_out=this.avail_out=this.next_out=0;this.msg="";this.state=null;this.data_type=2;this.adler=0}},{}],"/":[function(r,A,z){z=r("./lib/utils/common").assign;var x=r("./lib/deflate"),J=r("./lib/inflate");r=r("./lib/zlib/constants");var m={};z(m,x,J,r);A.exports=m},{"./lib/deflate":1,
"./lib/inflate":2,"./lib/utils/common":3,"./lib/zlib/constants":6}]},{},[])("/")});
var saveAs=saveAs||function(V){if(!("undefined"===typeof V||"undefined"!==typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var r=V.document.createElementNS("http://www.w3.org/1999/xhtml","a"),A="download"in r,z=/constructor/i.test(V.HTMLElement)||V.safari,x=/CriOS\/[\d]+/.test(navigator.userAgent),J=function(f){(V.setImmediate||V.setTimeout)(function(){throw f;},0)},m=function(f){setTimeout(function(){"string"===typeof f?(V.URL||V.webkitURL||V).revokeObjectURL(f):f.remove()},4E4)},ha=
function(f){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob([String.fromCharCode(65279),f],{type:f.type}):f},l=function(f,h,l){l||(f=ha(f));var I=this,K="application/octet-stream"===f.type,ua=function(){var f=["writestart","progress","write","writeend"];f=[].concat(f);for(var h=f.length;h--;){var l=I["on"+f[h]];if("function"===typeof l)try{l.call(I,I)}catch(E){J(E)}}};I.readyState=I.INIT;if(A){var Ma=(V.URL||V.webkitURL||V).createObjectURL(f);
setTimeout(function(){r.href=Ma;r.download=h;var f=new MouseEvent("click");r.dispatchEvent(f);ua();m(Ma);I.readyState=I.DONE})}else(function(){if((x||K&&z)&&V.FileReader){var h=new FileReader;h.onloadend=function(){var f=x?h.result:h.result.replace(/^data:[^;]*;/,"data:attachment/file;");V.open(f,"_blank")||(V.location.href=f);I.readyState=I.DONE;ua()};h.readAsDataURL(f);I.readyState=I.INIT}else Ma||(Ma=(V.URL||V.webkitURL||V).createObjectURL(f)),K?V.location.href=Ma:V.open(Ma,"_blank")||(V.location.href=
Ma),I.readyState=I.DONE,ua(),m(Ma)})()},h=l.prototype;if("undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob)return function(f,h,l){h=h||f.name||"download";l||(f=ha(f));return navigator.msSaveOrOpenBlob(f,h)};h.abort=function(){};h.readyState=h.INIT=0;h.WRITING=1;h.DONE=2;h.error=h.onwritestart=h.onprogress=h.onwrite=h.onabort=h.onerror=h.onwriteend=null;return function(f,h,m){return new l(f,h||f.name||"download",m)}}}("undefined"!==typeof self&&self||"undefined"!==typeof window&&window||this.content);
"undefined"!==typeof module&&module.exports?module.exports.saveAs=saveAs:"undefined"!==typeof define&&null!==define&&null!==define.amd&&define("FileSaver.js",function(){return saveAs});"function"==typeof define&&define.__amd&&(define.amd=define.__amd,delete define.__amd);
