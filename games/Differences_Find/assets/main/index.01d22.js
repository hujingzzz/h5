window.__require=function t(e,o,a){function n(r,s){if(!o[r]){if(!e[r]){var c=r.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(i)return i(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var u=o[r]={exports:{}};e[r][0].call(u.exports,function(t){return n(e[r][1][t]||t)},u,u.exports,t,e,o,a)}return o[r].exports}for(var i="function"==typeof __require&&__require,r=0;r<a.length;r++)n(a[r]);return n}({AddCoin:[function(t,e,o){"use strict";cc._RF.push(e,"922b2eO+UNBBY1Wc4y/TR0Z","AddCoin");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.AddCoin=void 0;var r=t("../Core/App"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.goldOne=null,e.baseCoutent=null,e.arrCoutent=[],e}var o;return n(e,t),o=e,e.prototype.start=function(){r.default.registerCom(o,this),this.arrCoutent.push(this.baseCoutent)},e.prototype.addCion=function(t,e,o,a,n){var i=this,r=0,s=this.arrCoutent.pop();s||(s=cc.instantiate(this.baseCoutent),this.node.addChild(s));for(var c=function(c){var u=s.children[c];u||(u=cc.instantiate(l.goldOne),s.addChild(u)),u.position=t,u.active=!0,u.scale=0,u.runAction(cc.sequence(cc.delayTime(.02*c),cc.spawn(cc.moveBy(.4,cc.v2(300*(Math.random()-.5),300*(Math.random()-.5))).easing(cc.easeSineIn()),cc.sequence(cc.scaleTo(.2,1.5),cc.scaleTo(.2,1))),cc.moveTo(.8,e).easing(cc.easeSineIn()),cc.callFunc(function(){u.active=!1,r+=1,null==a||a(r/o),Math.floor(o/2),r>=o&&(null==n||n(),i.arrCoutent.push(s))})))},l=this,u=0;u<o;u++)c(u)},i([l(cc.Node)],e.prototype,"goldOne",void 0),i([l(cc.Node)],e.prototype,"baseCoutent",void 0),o=i([c],e)}(cc.Component);o.AddCoin=u,cc._RF.pop()},{"../Core/App":"App"}],App:[function(t,e,o){"use strict";cc._RF.push(e,"9dda7PmQ3ZCp5hsQ2VJLqZ/","App"),Object.defineProperty(o,"__esModule",{value:!0});var a=t("../Tool/PoolManage"),n=t("./AudioManage"),i=t("./EffectManage"),r=t("./GameManage"),s=t("./LocalManage"),c=t("./UIManage"),l=function(){function t(){}return Object.defineProperty(t,"buttonAnction",{get:function(){return this._buttonAnction},set:function(t){this._buttonAnction=Math.max(this._buttonAnction,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t,"isPlayAnction",{get:function(){return this._isPlayAnctionCount>0},set:function(t){t?this._isPlayAnctionCount++:this._isPlayAnctionCount=Math.max(this._isPlayAnctionCount-1,0)},enumerable:!1,configurable:!0}),t.init=function(t,e,o,l){window.app=this,this.comMap=new WeakMap,this.GameManage=new r.default,this.LocaloManage=new s.default,this.UIManage=new c.default(t),this.gameData=this.LocaloManage.gameData,this.PoolManage=new a.PoolManage,this.AudioManage=new n.default(o),this.EffectManage=new i.default(l),this.noADsNode=e,this.noADsNode.active=!1},t.getCanControl=function(){return!(this.isPlayAnction||this.buttonAnction>0)},t.registerCom=function(e,o){this.comMap.has(e)&&(this.comMap.delete(e),console.warn("重复设置：",e.name)),this.comMap.set(e,o),this.setProtoFun(o,"onDestroy",function(){t.removeCom(o.__proto__.constructor)})},t.setProtoFun=function(t,e,o){var a=t.__proto__[e];t.__proto__["lzl_test_"+e]||(t.__proto__["lzl_test_"+e]=!0,t.__proto__[e]=a?function(){o(),null==a||a.call(this)}:function(){o()})},t.removeCom=function(t){this.comMap.has(t)?this.comMap.delete(t):(console.warn("移除失败：",t),console.error(this.comMap))},t.getCom=function(t){return this.hasCom(t)||console.error(t.name,"未注册或已销毁"),this.comMap.get(t)},t.hasCom=function(t){return this.comMap.has(t)},t.update=function(t){this._buttonAnction>0&&(this._buttonAnction-=t)},t.comMap=null,t._buttonAnction=0,t._isPlayAnctionCount=0,t.GameManage=null,t.LocaloManage=null,t.UIManage=null,t.gameData=null,t.PoolManage=null,t.AudioManage=null,t.EffectManage=null,t.noADsNode=null,t.mainUI=null,t.gameUI=null,t.rootNode=null,t}();o.default=l,cc._RF.pop()},{"../Tool/PoolManage":"PoolManage","./AudioManage":"AudioManage","./EffectManage":"EffectManage","./GameManage":"GameManage","./LocalManage":"LocalManage","./UIManage":"UIManage"}],AudioManage:[function(t,e,o){"use strict";cc._RF.push(e,"b3a82V/HolAyrQkEx3g4Mu+","AudioManage"),Object.defineProperty(o,"__esModule",{value:!0}),o.MusicEnum=void 0;var a=t("./App");(function(t){t.BGM1="BGM1",t.BGM2="BGM2",t.cuowu1="cuowu1",t.dianji1="dianji1",t.fanpai1="fanpai1",t.jiesuo1="jiesuo1",t.jinbi1="jinbi1",t.jinbi2="jinbi2",t.jindutiao3="jindutiao1",t.LevelUP="LevelUP",t.lose="lose",t.shengli1="shengli1",t.yanhua1="yanhua1",t.zhengque1="zhengque1",t.zhuanchang1="zhuanchang1"})(o.MusicEnum||(o.MusicEnum={}));var n=function(){function t(t){this.lastMusicUrl=null,this.isMusicOn=!1,this.isSoundOn=!1,this.audioSource=null,this.isMusicOn=a.default.gameData.isMusicOn,this.isSoundOn=a.default.gameData.isSoundOn,this.audioSource=t,this.audioSource.loop=!0}return t.prototype.playMusic=function(t){var e=this;if(null!=t){var o=this.lastMusicUrl;this.lastMusicUrl=t,o==t&&this.audioSource.isPlaying||this.isMusicOn&&(this.audioSource.stop(),cc.loader.loadRes("music/"+t,cc.AudioClip,function(t,o){t?console.error(t):(e.audioSource.clip=o,e.audioSource.play())}))}},t.prototype.playSound=function(t,e,o){void 0===e&&(e=!1),void 0===o&&(o=!1),null!=t&&this.isSoundOn&&cc.loader.loadRes("music/"+t,cc.AudioClip,function(t,e){t?console.error(t):cc.audioEngine.playEffect(e,!1)})},t.prototype.switchAll=function(){this.switchMusic(),this.isSoundOn=this.isMusicOn,a.default.gameData.isSoundOn=this.isSoundOn},t.prototype.switchMusicAndSound=function(){this.isMusicOn||this.isSoundOn?(this.isMusicOn||this.isSoundOn)&&(this.isMusicOn=!0,this.isSoundOn=!0,this.switchMusic(),this.switchSound()):(this.switchMusic(),this.switchSound())},t.prototype.switchMusic=function(){this.isMusicOn=!this.isMusicOn,a.default.gameData.isMusicOn=this.isMusicOn,this.audioSource.isPlaying&&!this.isMusicOn?this.audioSource.stop():!this.audioSource.isPlaying&&this.isMusicOn&&this.playMusic(this.lastMusicUrl)},t.prototype.switchSound=function(){this.isSoundOn=!this.isSoundOn,a.default.gameData.isSoundOn=this.isSoundOn},t.prototype.pauseMuisc=function(){this.audioSource.pause()},t.prototype.resumeMuisc=function(){this.audioSource.resume()},t}();o.default=n,cc._RF.pop()},{"./App":"App"}],BaseAnction:[function(t,e,o){"use strict";cc._RF.push(e,"81ff1wmv+5AX6baMpZEKE5L","BaseAnction");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.BaseAnction=void 0;var r,s=t("./App"),c=t("./BaseUI");(function(t){t[t.None=0]="None",t[t.Pop_ups=1]="Pop_ups",t[t.Fly_TCB=2]="Fly_TCB"})(r||(r={}));var l=cc._decorator,u=l.ccclass,d=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._type=r.None,e.anctionConfig={0:[],1:["OA_maskBg","OA_maskBg_opacity","OA_content"],2:["OA_maskBg","OA_maskBg_opacity","OA_content","arrTopNode","arrBottomNode"]},e.OA_maskBg=null,e.OA_maskBg_opacity=180,e.OA_content=null,e.arrTopNode=[],e.arrBottomNode=[],e.arrTopInitP=[],e.arrBottomP=[],e}return n(e,t),Object.defineProperty(e.prototype,"anctionType",{get:function(){return this._type},set:function(t){var e=this;this.anctionConfig[this._type].forEach(function(t){cc.Class.Attr.setClassAttr(e,t,"visible",!1)}),this._type=t,this.anctionConfig[this._type].forEach(function(t){cc.Class.Attr.setClassAttr(e,t,"visible",!0)})},enumerable:!1,configurable:!0}),e.prototype.onEnable=function(){switch(this.anctionType){case r.Pop_ups:this.showPop_ups();break;case r.Fly_TCB:this.showFly_TCB()}},e.prototype.onOAOver=function(){},e.prototype.doClose=function(t){switch(this.anctionType){case r.Pop_ups:this.closePop_ups(t);break;case r.Fly_TCB:this.closeFly_TCB(t);break;default:null==t||t(),s.default.UIManage.hidUINode(this.node)}},e.prototype.showPop_ups=function(){var t=this;s.default.isPlayAnction=!0,this.OA_maskBg.opacity=0,cc.tween(this.OA_maskBg).to(.4,{opacity:this.OA_maskBg_opacity}).start(),this.OA_content.scale=0,cc.tween(this.OA_content).to(.4,{scale:1},{easing:cc.easing.backOut}).call(function(){s.default.isPlayAnction=!1,t.onOAOver()}).start()},e.prototype.closePop_ups=function(t){var e=this;s.default.isPlayAnction=!0,cc.tween(this.OA_maskBg).to(.5,{opacity:0}).start(),cc.tween(this.OA_content).to(.5,{scale:0},{easing:cc.easing.backIn}).call(function(){s.default.isPlayAnction=!1,null==t||t(),s.default.UIManage.hidUINode(e.node)}).start()},e.prototype.showFly_TCB=function(){var t=this;this.OA_maskBg.opacity=0,cc.tween(this.OA_maskBg).to(.5,{opacity:this.OA_maskBg_opacity}).start(),this.arrTopNode.forEach(function(e,o){var a=t.arrTopInitP[o];e.position=cc.v3(a.x,a.y+500),cc.tween(e).to(.5,{position:a},{easing:cc.easing.backOut}).start()}),this.OA_content.scale=0,cc.tween(this.OA_content).delay(.25).to(.5,{scale:1},{easing:cc.easing.backOut}).start(),this.arrBottomNode.forEach(function(e,o){var a=t.arrBottomP[o];e.position=cc.v3(a.x,a.y-500),cc.tween(e).delay(.5).to(.5,{position:a},{easing:cc.easing.backOut}).start()})},e.prototype.closeFly_TCB=function(t){null==t||t(),s.default.UIManage.hidUINode(this.node)},i([d({visible:!1})],e.prototype,"_type",void 0),i([d({tooltip:"显示动画",type:cc.Enum(r)})],e.prototype,"anctionType",null),i([d({tooltip:"遮罩",type:cc.Node,visible:!1})],e.prototype,"OA_maskBg",void 0),i([d({tooltip:"遮罩透明度",visible:!1})],e.prototype,"OA_maskBg_opacity",void 0),i([d({tooltip:"缩放节点",type:cc.Node,visible:!1})],e.prototype,"OA_content",void 0),i([d({tooltip:"遮罩",type:cc.Node,visible:!1})],e.prototype,"arrTopNode",void 0),i([d({tooltip:"遮罩",type:cc.Node,visible:!1})],e.prototype,"arrBottomNode",void 0),i([u],e)}(c.BaseUI);o.BaseAnction=h,cc._RF.pop()},{"./App":"App","./BaseUI":"BaseUI"}],BaseUI:[function(t,e,o){"use strict";cc._RF.push(e,"19c9cUYy7lJ260AXn0Y2lo/","BaseUI");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.BaseUI=void 0;var r=t("./App"),s=cc._decorator,c=s.ccclass,l=(s.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.args=null,e}return n(e,t),e.prototype.onCreat=function(){r.default.registerCom(this.__proto__.constructor,this)},e.prototype.clickEvent=function(t){if(r.default.buttonAnction>0)cc.warn("按钮cd：",r.default.buttonAnction);else if(r.default.isPlayAnction)cc.warn("正在播动画");else{r.default.buttonAnction=.3;var e=t.currentTarget,o=e.name;this.onClick(o,e)}},e.prototype.onClick=function(){},i([c],e)}(cc.Component));o.BaseUI=l,cc._RF.pop()},{"./App":"App"}],CoinStoreUI:[function(t,e,o){"use strict";cc._RF.push(e,"a5feaUxZ/5OQ5JDGaDg9Nv4","CoinStoreUI");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Core/App"),s=t("../Core/AudioManage"),c=t("../Core/BaseUI"),l=t("../SDK/FacebookIG"),u=cc._decorator,d=u.ccclass,h=u.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbCoin=null,e.arrLbNum=[],e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.onEnable=function(){r.default.UIManage.nodeShow(this.node),this.lbCoin.string=String(r.default.gameData.coinNum);for(var t=0;t<5;t++)10==r.default.gameData.arrAdNum[t]&&(this.arrLbNum[t].x-=9),0==r.default.gameData.arrAdNum[t]&&(r.default.gameData.arrAdNum[t]=r.default.gameData.arrAdAllNum[t]),this.arrLbNum[t].getComponent(cc.Label).string=String(r.default.gameData.arrAdNum[t])},e.prototype.start=function(){},e.prototype.update=function(){},e.prototype.onClick=function(t){var e=this;r.default.AudioManage.playSound(s.MusicEnum.dianji1);for(var o=function(o){t=="ADBtn"+o&&r.default.gameData.arrAdNum[o]>0&&l.default.showVideoAd(l.adIDFB.videoId1,function(t){t&&(10==r.default.gameData.arrAdNum[o]&&(e.arrLbNum[o].x+=9),r.default.gameData.arrAdNum[o]--,e.arrLbNum[o].getComponent(cc.Label).string=String(r.default.gameData.arrAdNum[o]),0==r.default.gameData.arrAdNum[o]&&(r.default.gameData.arrAdNum[o]=r.default.gameData.arrAdAllNum[o],10==r.default.gameData.arrAdNum[o]&&(e.arrLbNum[o].x-=9),e.arrLbNum[o].getComponent(cc.Label).string=String(r.default.gameData.arrAdNum[o]),r.default.gameData.coinNum+=r.default.gameData.arrAdCoin[o],e.lbCoin.string=String(r.default.gameData.coinNum)))}),t=="box"+o&&r.default.gameData.arrAdNum[o]>0&&l.default.showVideoAd(l.adIDFB.videoId1,function(t){t&&(10==r.default.gameData.arrAdNum[o]&&(e.arrLbNum[o].x+=9),r.default.gameData.arrAdNum[o]--,e.arrLbNum[o].getComponent(cc.Label).string=String(r.default.gameData.arrAdNum[o]),0==r.default.gameData.arrAdNum[o]&&(r.default.gameData.arrAdNum[o]=r.default.gameData.arrAdAllNum[o],10==r.default.gameData.arrAdNum[o]&&(e.arrLbNum[o].x-=9),e.arrLbNum[o].getComponent(cc.Label).string=String(r.default.gameData.arrAdNum[o]),r.default.gameData.coinNum+=r.default.gameData.arrAdCoin[o],e.lbCoin.string=String(r.default.gameData.coinNum)))})},a=0;a<5;a++)o(a);switch(t){case"close":r.default.UIManage.nodeHide(this.node)}},i([h(cc.Label)],e.prototype,"lbCoin",void 0),i([h(cc.Node)],e.prototype,"arrLbNum",void 0),i([d],e)}(c.BaseUI);o.default=p,cc._RF.pop()},{"../Core/App":"App","../Core/AudioManage":"AudioManage","../Core/BaseUI":"BaseUI","../SDK/FacebookIG":"FacebookIG"}],EffectManage:[function(t,e,o){"use strict";cc._RF.push(e,"82d6bLtKhZIuJP6KDGdItW4","EffectManage");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.baseEffect=o.effectNameEnum=void 0;var r=t("../Tool/loadManage"),s=t("./App");(function(t){t.addScore="addScore",t.breakComb="breakComb",t.breakLiHua="breakLiHua",t.tipKuang="tipKuang",t.xiaochu="xiaochu",t.goAhead="goAhead"})(o.effectNameEnum||(o.effectNameEnum={}));var c=function(){function t(t){this.effectPool={},this.effectContet=null,this.effectContet=t}return t.prototype.showEffect=function(t,e,o,a,n,i){var s=this;void 0===o&&(o=null),void 0===a&&(a=2),void 0===n&&(n=cc.v3());var c,l=this.effectContet.convertToNodeSpaceAR(e.convertToWorldSpaceAR(n));this.effectPool[t]&&this.effectPool[t].length>0?((c=this.effectPool[t].shift()).show(l,t,a,o),null==i||i(c.node)):r.default.loadPrefab("Prefab/"+t,function(e){var n=cc.instantiate(e);n.addComponent(d),n.parent=s.effectContet,(c=n.getComponent(d)).show(l,t,a,o),null==i||i(n)})},t}();o.default=c;var l=cc._decorator,u=l.ccclass,d=(l.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.effectName=null,e.arrPCom=null,e.aCom=null,e.sCom=null,e.isFirst=!0,e.args=null,e}return n(e,t),e.prototype.show=function(t,e,o,a){var n=this;this.args=a,this.node.position=t,this.node.active=!0,this.effectName=e,this.onShow(),!this.arrPCom&&this.isFirst&&(this.arrPCom=this.node.getComponentsInChildren(cc.ParticleSystem)),this.arrPCom&&this.arrPCom.forEach(function(t){return t.resetSystem()}),!this.aCom&&this.isFirst&&(this.aCom=this.node.getComponent(cc.Animation)||this.node.getComponentInChildren(cc.Animation)),this.aCom&&this.aCom.play(),!this.sCom&&this.isFirst&&(this.sCom=this.node.getComponent(sp.Skeleton)||this.node.getComponentInChildren(sp.Skeleton)),this.sCom&&this.sCom.setAnimation(0,this.sCom.defaultAnimation,!1),this.scheduleOnce(function(){n.hidEffect()},o),this.isFirst=!1},e.prototype.onShow=function(){},e.prototype.hidEffect=function(){this.node.active=!1,this.arrPCom&&this.arrPCom.forEach(function(t){return t.stopSystem()}),this.aCom&&this.aCom.stop(),this.sCom&&this.sCom.clearTracks(),s.default.EffectManage.effectPool[this.effectName]||(s.default.EffectManage.effectPool[this.effectName]=[]),s.default.EffectManage.effectPool[this.effectName].push(this)},i([u],e)}(cc.Component));o.baseEffect=d,cc._RF.pop()},{"../Tool/loadManage":"loadManage","./App":"App"}],FacebookIG:[function(t,e,o){"use strict";cc._RF.push(e,"ad79cdHZddLfr6kr7LLSvyX","FacebookIG"),Object.defineProperty(o,"__esModule",{value:!0}),o.adIDFB=void 0;var a=t("../Core/App"),n=function(){function t(){}return t.videoId1="324324149544821_336279255015977",t.insertID2="324324149544821_336279175015985",t}();o.adIDFB=n;var i=function(){function t(){}return t.init=function(){var t=this;window.hasOwnProperty("FBInstant")?(console.log("fb广告初始化"),this.preloadInterstitialAd(n.insertID2),this.preloadVideoAd(n.videoId1),setInterval(function(){t.cdTime<=t.adDisTime&&(t.cdTime+=1)},1e3),this.contextID=FBInstant.context.getID(),this.playerData=FBInstant.player,this.preloadHeadImg(this.playerData.getPhoto()),console.log(FBInstant.getSupportedAPIs())):console.log("fb广告初始化")},t.getPlayID=function(){return window.hasOwnProperty("FBInstant")?this.playerData.getID():"我是ID"},t.getPlayName=function(){return window.hasOwnProperty("FBInstant")?this.playerData.getName():"我是名字"},t.showInsertAd=function(t){var e=this;if(cc.log("插屏"),window.hasOwnProperty("FBInstant")){if(!(this.cdTime<=this.adDisTime))return this.interstitialAdIsReady[t]?void this.interstitialAd[t].showAsync().then(function(){console.log("Interstitial ad finished successfully"),e.cdTime=0,e.preloadInterstitialAd(t)}).catch(function(o){console.error(o.message),e.preloadInterstitialAd(t)}):(console.log("插屏广告加载失败"),void this.preloadInterstitialAd(t));cc.log("插屏CD")}},t.showVideoAd=function(t,e,o){var a=this;(miniplay.isReady()?miniplay.showRewardAsync():Promise.resolve()).then(function(){e(!0)}).catch(function(){e(!1)})},t.getVideoIsReady=function(t){var e=this.videoAdIsReady[t]&&this.videoAd[t];return console.log("AD"+e),e},t.logEvent=function(t,e,o){void 0===e&&(e=null),void 0===o&&(o=0),console.log("统计事件:",t,",data:",JSON.stringify(e),",value:",o),window.hasOwnProperty("FBInstant")&&FBInstant.logEvent(t,o,e)},t.createShortcutAsync=function(){window.hasOwnProperty("FBInstant")&&FBInstant.canCreateShortcutAsync().then(function(t){t&&FBInstant.createShortcutAsync().then(function(){localStorage.setItem("shortcut","true")}).catch(function(){})})},t.shareAsync=function(t,e){window.hasOwnProperty("FBInstant")?cc.loader.loadRes("share/share",function(o,a){if(o)console.log(o);else{var n=document.createElement("canvas"),i=n.getContext("2d");a.width=a.width,a.height=a.width,cc.log(a.width,a.height);var r=a.getHtmlElementObj();n.width=a.width,n.height=a.height,i.drawImage(r,0,0,n.width,n.height),FBInstant.shareAsync({intent:"REQUEST",image:n.toDataURL("image/png"),text:"X is asking for your help!",data:{myReplayData:"share"}}).then(function(){null==t||t()}).catch(function(t){console.error(t),null==e||e()})}}):cc.log("分享")},t.tiaoZhan=function(){window.hasOwnProperty("FBInstant")?cc.loader.loadRes("share/share",function(t,e){if(t)console.log(t);else{var o=document.createElement("canvas"),a=o.getContext("2d"),n=cc.view.getFrameSize();e.width=n.width,e.height=n.height,cc.log(e.width,e.height);var i=e.getHtmlElementObj();o.width=e.width,o.height=e.height,a.drawImage(i,0,0,o.width,o.height);var r=o.toDataURL("image/png");FBInstant.context.chooseAsync({filters:["NEW_CONTEXT_ONLY"],minSize:3}).then(function(){console.log("弹出成功"),FBInstant.updateAsync({action:"CUSTOM",cta:"Join The Fight",image:r,text:{default:"Let us play game together",localizations:{en_US:"Let us play game together",zh_CN:"来玩游戏吧伙计！"}},template:"VILLAGE_INVASION",data:{myReplayData:"tiaoZhan"},strategy:"IMMEDIATE",notification:"NO_PUSH"}).then(function(){console.log("成功发送消息")}).catch(function(t){console.log("弹出失败"),console.log(t)})})}}):cc.log("挑战测试")},t.shareScore=function(t){window.hasOwnProperty("FBInstant")?(this.setScore(t),this.postSessionScore(t),this.sendScoreMess()):console.log("分享分数")},t.shock=function(t){window.hasOwnProperty("FBInstant")?a.default.gameData.isShock&&FBInstant.performHapticFeedbackAsync().then(function(){t&&t()}):console.log("震动")},t.setHead=function(t,e){var o=this;if(!window.hasOwnProperty("FBInstant"))return t.spriteFrame.name="player",void console.log("设置玩家头像");var a=e||FBInstant.player.getPhoto();this.headImgMap.hasOwnProperty(a)?t.spriteFrame=this.headImgMap[a]:cc.assetManager.loadRemote(a,{ext:".jpg"},function(e,n){var i=new cc.SpriteFrame(n);t.spriteFrame=i,t.spriteFrame.name="wanjia",o.headImgMap[a]=i})},t.getPlatform=function(){var t=FBInstant.getPlatform();cc.error(t)},t.onPlayWidthFriend=function(t,e){var o=this;if(window.hasOwnProperty("FBInstant")){this.isSolo=!1;var a=function(){o.contextChooseAsync(function(){o.setOtherPlaye(function(){o.preloadHeadImg(o.playerData.getPhoto())}),null==t||t(),console.log("success contextChooseAsync")},function(){null==e||e(),console.log("fail contextChooseAsync")})};this.contextID?(this.setOtherPlaye(function(){o.preloadHeadImg(o.playerData.getPhoto())}),null==t||t()):this.getConnectedPlayersAsync(function(e){var n=e.find(function(t){return t.getID()!=FBInstant.player.getID()});n?o.contextCreateAsync(n.getID(),function(){o.setOtherPlaye(function(){o.preloadHeadImg(o.playerData.getPhoto())}),console.log("success contextCreateAsync"),null==t||t()},function(){console.log("fail contextCreateAsync"),a()}):(console.log("no friend"),a())})}else t()},t.onPlaySolo=function(){this.isSolo=!0,this.contextID=null},t.getDataAsync=function(){FBInstant.player.getDataAsync(["achievements","currentLife"]).then(function(t){console.log("data is loaded"),t.achievements,t.currentLife})},t.setDataAsync=function(){FBInstant.player.setDataAsync({achievements:["medal1","medal2","medal3"],currentLife:300}).then(function(){console.log("data is set")})},t.setScore=function(t,e){window.hasOwnProperty("FBInstant")&&FBInstant.getLeaderboardAsync("Test Leaderboard."+FBInstant.context.getID()).then(function(o){return console.log(o.getName()),o.setScoreAsync(t,e)}).then(function(){return console.log("Score saved")}).catch(function(t){return console.error(t)})},t.getScore=function(t,e){window.hasOwnProperty("FBInstant")&&FBInstant.getLeaderboardAsync("Test Leaderboard."+FBInstant.context.getID()).then(function(t){return t.getEntriesAsync(20,0)}).then(function(e){for(var o=0;o<e.length;o++){console.log(e[o].getRank()+". "+e[o].getPlayer().getName()+": "+e[o].getScore());var n=e[o].getPlayer().getID(),i=a.default.LocaloManage.gameData.playerRankData;i.hasOwnProperty(n)?i[n]=Math.max(e[o].getScore(),i[n]):i[n]=e[o].getScore()}t(e)}).catch(function(t){console.error("获取排行榜失败"),console.error(t),null==e||e()})},t.preloadInterstitialAd=function(t){var e=this;this.interstitialAdIsReady[t]=!1,this.interstitialAd[t]=null,cc.log(t),FBInstant.getInterstitialAdAsync(t).then(function(o){return e.interstitialAd[t]=o,e.interstitialAd[t].loadAsync()}).then(function(){e.interstitialAdIsReady[t]=!0,console.log("Interstitial preloaded")}).catch(function(t){console.error("Interstitial failed to preload: "+t.message)})},t.preloadVideoAd=function(t){var e=this;this.videoAdIsReady[t]=!1,this.videoAd[t]=null,FBInstant.getRewardedVideoAsync(t).then(function(o){return e.videoAd[t]=o,e.videoAd[t].loadAsync()}).then(function(){e.videoAdIsReady[t]=!0,console.log("Rewarded video preloaded")}).catch(function(t){console.error("Rewarded video failed to preload: "+t.message)})},t.preloadHeadImg=function(t){var e=this;this.headImgMap.hasOwnProperty(t)||(console.log("preloadHeadImg:",t),cc.assetManager.loadRemote(t,{ext:".jpg"},function(o,a){e.headImgMap[t]=new cc.SpriteFrame(a),console.log("preloadHeadImg success:",t)}))},t.canCreateShortcutAsync=function(t){window.hasOwnProperty("FBInstant")&&FBInstant.canCreateShortcutAsync().then(function(e){e&&t()})},t.setOtherPlaye=function(t,e){var o=this;window.hasOwnProperty("FBInstant")&&this.getPlayersAsync(function(a){o.playerData=a.find(function(t){return t.getID()!=FBInstant.player.getID()}),o.playerData&&(null==t||t(),o.getScore(function(t){var a=t.find(function(t){return t.getPlayer().getID()==o.playerData.getID()});a?(o.otherPlayerData=a,null==e||e()):o.otherPlayerData=null}))})},t.getConnectedPlayersAsync=function(t){window.hasOwnProperty("FBInstant")&&FBInstant.player.getConnectedPlayersAsync().then(function(e){t(e),console.log(e.map(function(t){return{id:t.getID(),name:t.getName()}}))})},t.getPlayersAsync=function(t){window.hasOwnProperty("FBInstant")&&FBInstant.context.getPlayersAsync().then(function(e){t(e),console.log(e.map(function(t){return{id:t.getID(),name:t.getName()}}))})},t.sendScoreMess=function(){window.hasOwnProperty("FBInstant")&&FBInstant.updateAsync({action:"LEADERBOARD",name:"Test Leaderboard."+FBInstant.context.getID()}).then(function(){return console.log("Share Score")}).catch(function(t){return console.error(t)})},t.contextChooseAsync=function(t,e){var o=this;window.hasOwnProperty("FBInstant")&&FBInstant.context.chooseAsync().then(function(){null==t||t(),o.logEvent("Challenge_any")}).catch(function(t){null==e||e(),console.log(t)})},t.contextCreateAsync=function(t,e,o){var a=this;if(window.hasOwnProperty("FBInstant"))return this.playerData&&t==this.playerData.getID()?(console.log("挑战玩家是当前环境的玩家"),this.logEvent("Challenge_friends"),void(null==e||e())):void FBInstant.context.createAsync(t).then(function(){null==e||e(),a.logEvent("Challenge_friendsID")}).catch(function(t){null==o||o(),console.log(t)})},t.postSessionScore=function(t){window.hasOwnProperty("FBInstant")&&FBInstant.postSessionScore(t)},t.videoAd={},t.interstitialAd={},t.videoAdIsReady={},t.interstitialAdIsReady={},t.contextID=null,t.playerData=null,t.otherPlayerData=null,t.headImgMap={},t.cdTime=30,t.adDisTime=30,t.isSolo=!0,t}();o.default=i,cc._RF.pop()},{"../Core/App":"App"}],GameManage:[function(t,e,o){"use strict";cc._RF.push(e,"51151gipvBDnq2pnkDtD6NZ","GameManage"),Object.defineProperty(o,"__esModule",{value:!0});var a=t("./App"),n=t("./UIManage"),i=function(){function t(){}return t.prototype.onLoadingHid=function(){a.default.UIManage.showUI(n.UIEnum.MainUI)},t.prototype.loadGame=function(){},t.prototype.startGame=function(){},t.prototype.RandomNumBoth=function(t,e){var o=e-t,a=Math.random();return t+Math.round(a*o)},t.prototype.nodeMoveAction=function(t,e,o){cc.tween(t).to(.3,{opacity:e}).start(),cc.tween(t).by(.3,{position:o}).start()},t.prototype.showNodeAD=function(){a.default.noADsNode.active||(a.default.noADsNode.active=!0,a.default.noADsNode.scale=0,a.default.noADsNode.opacity=255,cc.tween(a.default.noADsNode).to(.2,{scale:1}).start(),cc.tween(a.default.noADsNode).delay(.7).to(.3,{opacity:0}).call(function(){a.default.noADsNode.active=!1,a.default.noADsNode.scale=0,a.default.noADsNode.opacity=0}).union().start())},t}();o.default=i,cc._RF.pop()},{"./App":"App","./UIManage":"UIManage"}],GameUI:[function(t,e,o){"use strict";cc._RF.push(e,"10fe8Ji2fVANoJTyiKP8vox","GameUI");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Core/App"),s=t("../Core/UIManage"),c=t("../Core/BaseUI"),l=t("../Core/AudioManage"),u=cc._decorator,d=u.ccclass,h=u.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.truePrefab=null,e.falsePrefab=null,e.arrNode=[],e.setNode=null,e.finish=null,e.tipBtn=null,e.prop=null,e.tip=null,e.point=null,e.lbCoin=null,e.PointSpr=null,e.soundBtn=null,e.musicBtn=null,e.arrSoundSpr=[],e.arrMusicSpr=[],e.progressBar=null,e.proFnishSpf=[],e.arrPropSpf=[],e.lvLabel=null,e.lbError=null,e.finger=null,e.score=0,e.errorNum=0,e.isShowSet=!1,e.isMove=!1,e.firstPos=null,e.arrData=[],e.arrIsFind=[],e.arrIsTip=[],e.arrTipNode=[],e.countTime=!0,e.guideNum=0,e.time=0,e}return n(e,t),e.prototype.onLoad=function(){r.default.gameUI=this},e.prototype.onEnable=function(){if(r.default.AudioManage.playMusic(l.MusicEnum.BGM2),this.time=0,this.errorNum=8,this.countTime=!0,this.prop.getComponent(cc.Sprite).spriteFrame=r.default.gameData.isUseProp?this.arrPropSpf[0]:this.arrPropSpf[1],this.tipBtn.getChildByName("guangyun3").active=!1,this.arrNode[2].removeAllChildren(),this.arrNode[3].removeAllChildren(),this.arrIsTip=[],this.arrTipNode=[],this.score=0,this.lvLabel.string=String(r.default.gameData.level),r.default.mainUI.isSelect&&(this.lvLabel.string=String(r.default.mainUI.selNum)),this.progressBar.progress=1,this.arrData=r.default.mainUI.arrData,this.arrIsFind=[],this.finish.removeAllChildren(),this.init(),!r.default.mainUI.isSelect||r.default.mainUI.isSelect&&r.default.mainUI.selNum!=r.default.gameData.level){if(r.default.gameData.level==r.default.mainUI.levelBtn.childrenCount-1)return;r.default.mainUI.loadLevelData(r.default.gameData.level+1)}},e.prototype.onDisable=function(){},e.prototype.init=function(){for(var t=0;t<this.arrData.length;t++){this.arrIsFind.push(!1);var e=cc.instantiate(this.point);this.finish.addChild(e),e.setPosition(-35*(this.arrData.length-1)/2+35*t,0)}this.arrNode[0].getComponent(cc.Sprite).spriteFrame=r.default.mainUI.arrSpf[0],this.arrNode[1].getComponent(cc.Sprite).spriteFrame=r.default.mainUI.arrSpf[1]},e.prototype.start=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.MOUSE_MOVE,function(){t.time<10&&(t.time=0)},this),r.default.gameData.isFirst&&this.guide()},e.prototype.guide=function(){for(var t=this,e=function(e){return o.arrIsTip[e]?"continue":(o.arrIsTip[e]=!0,o.guideNum=e,o.arrNode.forEach(function(o){if(o==t.arrNode[2]||o==t.arrNode[3]){var a=cc.instantiate(t.tip);o.addChild(a),a.setPosition(t.arrData[e].x,t.arrData[e].y),t.arrTipNode.push(a);var n=cc.instantiate(t.finger);return n.setPosition(t.arrData[e].x,t.arrData[e].y),o.addChild(n),t.arrTipNode.push(n),cc.tween(n).by(.4,{position:cc.v3(30,-30,0)}).by(.4,{position:cc.v3(-30,30,0)}).start(),void t.schedule(function(){cc.tween(n).by(.4,{position:cc.v3(30,-30,0)}).by(.4,{position:cc.v3(-30,30,0)}).start()},.8)}}),"break")},o=this,a=0;a<this.arrData.length&&"break"!==e(a);a++);},e.prototype.onTouchStart=function(t){var e=this;this.time<10&&(this.time=0),this.isMove=!1,this.firstPos=t.getLocation(),!this.isShowSet&&this.setNode.active&&cc.tween(this.setNode).by(.3,{position:cc.v3(0,250,0)}).call(function(){e.setNode.active=!1,e.setNode.setPosition(e.setNode.x,e.setNode.y-250),e.isShowSet=!1}).start()},e.prototype.onTouchMove=function(t){var e=t.getLocation();(Math.abs(e.x-this.firstPos.x)>=10||Math.abs(e.y-this.firstPos.y)>=10)&&(this.isMove=!0)},e.prototype.onTouchEnd=function(t){var e=this;if(this.time<10&&(this.time=0),this.score!=this.arrData.length&&!r.default.isPlayAnction&&!this.isMove){var o=this.arrNode[0].getBoundingBoxToWorld().contains(t.getLocation())?this.arrNode[0]:null;if(o||(o=this.arrNode[1].getBoundingBoxToWorld().contains(t.getLocation())?this.arrNode[1]:null),o){for(var a=o.convertToNodeSpaceAR(t.getLocation()),n=function(t){if(Math.abs(a.x-i.arrData[t].x)<=i.arrData[t].w/2&&Math.abs(a.y-i.arrData[t].y)<=i.arrData[t].h/2){if(r.default.gameData.isFirst&&i.guideNum!=t)return{value:void 0};if(!i.arrIsFind[t]){if(i.score++,i.score==i.arrData.length&&(i.time=0,i.countTime=!1,r.default.mainUI.isMove=!0,r.default.AudioManage.playSound(l.MusicEnum.shengli1),i.scheduleOnce(function(){r.default.UIManage.showUI(s.UIEnum.VictoryUI),r.default.mainUI.levelBtn.getChildByName(String(r.default.gameData.level)).getComponent(cc.Sprite).spriteFrame=r.default.mainUI.arrBtnSpr[2]},.5)),i.arrIsFind[t]=!0,r.default.gameData.isFirst){if(!(Math.abs(a.x-i.arrData[i.guideNum].x)<=i.arrData[i.guideNum].w/2&&Math.abs(a.y-i.arrData[i.guideNum].y)<=i.arrData[i.guideNum].h/2))return{value:void 0};i.arrTipNode.forEach(function(t){t.removeFromParent()}),i.scheduleOnce(function(){e.guide()},.7)}i.finish.children[t].getComponent(cc.Sprite).spriteFrame=i.PointSpr,i.arrNode.forEach(function(o){if(o==e.arrNode[2]||o==e.arrNode[3]){e.tipBtn.getChildByName("guangyun3").active=!1,e.time=0;var a=cc.instantiate(e.truePrefab);r.default.AudioManage.playSound(l.MusicEnum.zhengque1),o.addChild(a),a.setPosition(e.arrData[t].x,e.arrData[t].y);for(var n=0;n<e.arrTipNode.length;n++)a.getPosition().x==e.arrTipNode[n].getPosition().x&&a.getPosition().y==e.arrTipNode[n].getPosition().y&&e.arrTipNode[n].removeFromParent()}})}return{value:void 0}}},i=this,c=0;c<this.arrData.length;c++){var u=n(c);if("object"==typeof u)return u.value}if(r.default.gameData.isFirst)return;r.default.isPlayAnction=!0;var d=cc.instantiate(this.falsePrefab);r.default.AudioManage.playSound(l.MusicEnum.cuowu1),this.node.addChild(d),d.setPosition(this.node.convertToNodeSpaceAR(t.getLocation())),d.zIndex=1,this.errorNum--,this.progressBar.progress-=1/8,cc.tween(d).delay(.1).to(.1,{scale:1.05}).call(function(){e.errorNum<1&&r.default.UIManage.showUI(s.UIEnum.WarnUI)}).to(.5,{scale:.3,opacity:0}).call(function(){r.default.isPlayAnction=!1,d.destroy()}).start()}}},e.prototype.update=function(t){this.lbCoin.string=String(r.default.gameData.coinNum),this.lbError.string=String(this.errorNum),this.errorNum<1&&(this.lbError.string=String(0)),this.countTime&&(this.time+=t,this.time>=10&&(this.tipBtn.getChildByName("guangyun3").active=!0))},e.prototype.onClick=function(t){var e=this;if(r.default.AudioManage.playSound(l.MusicEnum.dianji1),this.time<10&&(this.time=0),!this.isShowSet&&this.setNode.active){if("music"==t){r.default.AudioManage.switchMusic();var o=r.default.gameData.isMusicOn?this.arrMusicSpr[1]:this.arrMusicSpr[0];return void(this.musicBtn.getComponent(cc.Sprite).spriteFrame=o)}if("sound"==t){r.default.AudioManage.switchSound();var a=r.default.gameData.isSoundOn?this.arrSoundSpr[1]:this.arrSoundSpr[0];return void(this.soundBtn.getComponent(cc.Sprite).spriteFrame=a)}cc.tween(this.setNode).by(.3,{position:cc.v3(0,250,0)}).call(function(){e.setNode.active=!1,e.setNode.setPosition(e.setNode.x,e.setNode.y-250),e.isShowSet=!1}).start()}switch(t){case"setBtn":if(this.isShowSet)return;this.isShowSet=!0;var n=r.default.gameData.isSoundOn?this.arrSoundSpr[1]:this.arrSoundSpr[0];this.soundBtn.getComponent(cc.Sprite).spriteFrame=n;var i=r.default.gameData.isMusicOn?this.arrMusicSpr[1]:this.arrMusicSpr[0];this.musicBtn.getComponent(cc.Sprite).spriteFrame=i,this.setNode.active||(this.setNode.setPosition(this.setNode.x,this.setNode.y+250),this.setNode.active=!0,cc.tween(this.setNode).by(.3,{position:cc.v3(0,-250,0)}).call(function(){e.isShowSet=!1}).start());break;case"tipBtn":if(this.arrIsTip.length==this.arrIsFind.length-1&&(this.countTime=!1),this.arrIsTip.length==this.arrIsFind.length||r.default.gameData.isFirst)return;if(this.tipBtn.getChildByName("guangyun3").active=!1,this.time=0,this.prop.getComponent(cc.Sprite).spriteFrame==this.arrPropSpf[0])this.prop.getComponent(cc.Sprite).spriteFrame=this.arrPropSpf[1],r.default.gameData.coinNum+=4;else if(r.default.gameData.coinNum<4)return void r.default.UIManage.showUI(s.UIEnum.CoinStoreUI);r.default.gameData.coinNum-=4;for(var c=function(t){return u.arrIsFind[t]?(u.arrIsTip[t]=!1,u.arrIsTip.length==u.arrIsFind.length&&(u.prop.getComponent(cc.Sprite).spriteFrame=u.arrPropSpf[2]),"continue"):u.arrIsTip[t]?"continue":(u.arrIsTip[t]=!0,u.arrIsTip.length==u.arrIsFind.length&&(u.prop.getComponent(cc.Sprite).spriteFrame=u.arrPropSpf[2]),u.arrNode.forEach(function(o){if(o==e.arrNode[2]||o==e.arrNode[3]){var a=cc.instantiate(e.tip);o.addChild(a),a.setPosition(e.arrData[t].x,e.arrData[t].y),e.arrTipNode.push(a)}}),{value:void 0})},u=this,d=0;d<this.arrData.length;d++){var h=c(d);if("object"==typeof h)return h.value}break;case"addCoin":r.default.UIManage.showUI(s.UIEnum.CoinStoreUI);break;case"tuichu":r.default.UIManage.showUI(s.UIEnum.QuitUI);break;case"testBtn":var p=function(t){f.arrNode.forEach(function(o){if(o==e.arrNode[2]||o==e.arrNode[3]){e.tipBtn.getChildByName("guangyun3").active=!1,e.time=0,e.countTime=!1;var a=cc.instantiate(e.truePrefab);o.addChild(a),a.setPosition(e.arrData[t].x,e.arrData[t].y)}})},f=this;for(d=0;d<this.arrData.length;d++)p(d);(!r.default.mainUI.isSelect||r.default.mainUI.isSelect&&r.default.mainUI.selNum==r.default.gameData.level)&&r.default.gameData.level+1!=r.default.mainUI.map.getChildByName("levelBtn").childrenCount&&(r.default.mainUI.isMove=!0),this.scheduleOnce(function(){r.default.AudioManage.playSound(l.MusicEnum.shengli1),r.default.mainUI.selNum=0,r.default.UIManage.showUI(s.UIEnum.VictoryUI),r.default.mainUI.levelBtn.getChildByName(String(r.default.gameData.level)).getComponent(cc.Sprite).spriteFrame=r.default.mainUI.arrBtnSpr[2]},1)}},i([h(cc.Prefab)],e.prototype,"truePrefab",void 0),i([h(cc.Prefab)],e.prototype,"falsePrefab",void 0),i([h(cc.Node)],e.prototype,"arrNode",void 0),i([h(cc.Node)],e.prototype,"setNode",void 0),i([h(cc.Node)],e.prototype,"finish",void 0),i([h(cc.Node)],e.prototype,"tipBtn",void 0),i([h(cc.Node)],e.prototype,"prop",void 0),i([h(cc.Prefab)],e.prototype,"tip",void 0),i([h(cc.Prefab)],e.prototype,"point",void 0),i([h(cc.Label)],e.prototype,"lbCoin",void 0),i([h(cc.SpriteFrame)],e.prototype,"PointSpr",void 0),i([h(cc.Node)],e.prototype,"soundBtn",void 0),i([h(cc.Node)],e.prototype,"musicBtn",void 0),i([h(cc.SpriteFrame)],e.prototype,"arrSoundSpr",void 0),i([h(cc.SpriteFrame)],e.prototype,"arrMusicSpr",void 0),i([h(cc.ProgressBar)],e.prototype,"progressBar",void 0),i([h(cc.SpriteFrame)],e.prototype,"proFnishSpf",void 0),i([h(cc.SpriteFrame)],e.prototype,"arrPropSpf",void 0),i([h(cc.Label)],e.prototype,"lvLabel",void 0),i([h(cc.Label)],e.prototype,"lbError",void 0),i([h(cc.Prefab)],e.prototype,"finger",void 0),i([d],e)}(c.BaseUI);o.default=p,cc._RF.pop()},{"../Core/App":"App","../Core/AudioManage":"AudioManage","../Core/BaseUI":"BaseUI","../Core/UIManage":"UIManage"}],GetPowerUI:[function(t,e,o){"use strict";cc._RF.push(e,"effbeH15KBFfYnTvEY6wzIc","GetPowerUI");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Core/App"),s=t("../Core/AudioManage"),c=t("../Core/BaseUI"),l=t("../Core/UIManage"),u=t("../SDK/FacebookIG"),d=cc._decorator,h=d.ccclass,p=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return n(e,t),e.prototype.onEnable=function(){r.default.UIManage.nodeShow(this.node)},e.prototype.start=function(){},e.prototype.onClick=function(t){var e=this;switch(r.default.AudioManage.playSound(s.MusicEnum.dianji1),t){case"close":r.default.UIManage.nodeHide(this.node);break;case"ADBtn":u.default.showVideoAd(u.adIDFB.videoId1,function(t){t&&(r.default.gameData.powerNum+=1),r.default.UIManage.hidUINode(e.node)});break;case"payBtn":r.default.gameData.coinNum>=10?(r.default.gameData.coinNum-=10,r.default.gameData.powerNum+=1):r.default.UIManage.showUI(l.UIEnum.CoinStoreUI)}},i([p(cc.Label)],e.prototype,"label",void 0),i([p],e.prototype,"text",void 0),i([h],e)}(c.BaseUI);o.default=f,cc._RF.pop()},{"../Core/App":"App","../Core/AudioManage":"AudioManage","../Core/BaseUI":"BaseUI","../Core/UIManage":"UIManage","../SDK/FacebookIG":"FacebookIG"}],Guide:[function(t,e,o){"use strict";cc._RF.push(e,"4be96KY6/9IsIDSoCCtEHAc","Guide");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.GuideData=void 0;var r=t("../Core/App"),s=t("../Core/BaseUI"),c=cc._decorator,l=c.ccclass,u=c.property;o.GuideData=function(){this.target=null,this.isShowBg=null,this.closeCb=null,this.otherNode=null,this.delayTime=null};var d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.shouZhi=null,e.instanceContent=null,e.bg=null,e.beforeParent=null,e.otherBeforeParent=null,e}return n(e,t),e.prototype.onEnable=function(){var t=this;this.node.opacity=0,this.scheduleOnce(function(){t.node.opacity=255,t.args.delayTime?(t.node.opacity=0,t.scheduleOnce(function(){t.node.opacity=255,t.refreshGuide()},t.args.delayTime)):t.refreshGuide()})},e.prototype.refreshGuide=function(){this.bg.opacity=this.args.isShowBg?150:0;var t=this.instanceContent.convertToNodeSpaceAR(this.args.target.convertToWorldSpaceAR(cc.v3()));if(this.beforeParent=this.args.target.parent,this.args.target.setParent(this.instanceContent),this.args.target.position=t,this.shouZhi.position=t,this.args.otherNode){this.otherBeforeParent=this.args.otherNode.parent;var e=this.instanceContent.convertToNodeSpaceAR(this.args.otherNode.convertToWorldSpaceAR(cc.v3()));this.args.otherNode.setParent(this.instanceContent),this.args.otherNode.position=e}var o=this.args.target.getComponent(cc.Button)||this.args.target.getComponentInChildren(cc.Button),a=new cc.Component.EventHandler;a.handler="OnInstanceClick",a.component="newGuide",a.target=this.node,o.clickEvents.push(a)},e.prototype.OnInstanceClick=function(){var t,e;(this.args.target.getComponent(cc.Button)||this.args.target.getComponentInChildren(cc.Button)).clickEvents.pop();var o=this.beforeParent.convertToNodeSpaceAR(this.args.target.convertToWorldSpaceAR(cc.v3()));if(this.args.target.setParent(this.beforeParent),this.args.target.position=o,this.args.otherNode){var a=this.otherBeforeParent.convertToNodeSpaceAR(this.args.otherNode.convertToWorldSpaceAR(cc.v3()));this.args.otherNode.setParent(this.otherBeforeParent),this.args.otherNode.position=a}null===(e=(t=this.args).closeCb)||void 0===e||e.call(t),r.default.UIManage.hidUINode(this.node)},i([u(cc.Node)],e.prototype,"shouZhi",void 0),i([u(cc.Node)],e.prototype,"instanceContent",void 0),i([u(cc.Node)],e.prototype,"bg",void 0),i([l],e)}(s.BaseUI);o.default=d,cc._RF.pop()},{"../Core/App":"App","../Core/BaseUI":"BaseUI"}],LevelUpUI:[function(t,e,o){"use strict";cc._RF.push(e,"75350ty4zdDoLW/ZULMsNmW","LevelUpUI");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Core/App"),s=t("../Core/AudioManage"),c=t("../Core/BaseUI"),l=cc._decorator,u=l.ccclass,d=l.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lbLv=null,e.animNode=null,e}return n(e,t),e.prototype.onEnable=function(){r.default.AudioManage.playSound(s.MusicEnum.LevelUP);var t=this.animNode.getComponent(sp.Skeleton);t.setAnimation(0,"animation",!0),t.setCompleteListener(function(){t.setAnimation(0,"animation2",!0)}),this.lbLv.string=String(r.default.gameData.lv),r.default.AudioManage.playSound(s.MusicEnum.LevelUP)},e.prototype.start=function(){},e.prototype.onClick=function(t){var e=this;r.default.AudioManage.playSound(s.MusicEnum.dianji1),"claimBtn"==t&&(r.default.buttonAnction=2.2,r.default.mainUI.getCoin+=10,r.default.mainUI.coinfly(),this.scheduleOnce(function(){r.default.UIManage.hidUINode(e.node)}))},i([d(cc.Label)],e.prototype,"lbLv",void 0),i([d(cc.Node)],e.prototype,"animNode",void 0),i([u],e)}(c.BaseUI);o.default=h,cc._RF.pop()},{"../Core/App":"App","../Core/AudioManage":"AudioManage","../Core/BaseUI":"BaseUI"}],Loading:[function(t,e,o){"use strict";cc._RF.push(e,"dae2dxwNgxA66PGenPveRm+","Loading");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=t("../Core/App"),u=t("../Core/AudioManage"),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.config=["lizi","config","share"],e.progress=null,e.logo=null,e.progressLabel=null,e.index=0,e}return n(e,t),e.prototype.start=function(){var t=this.logo.getComponent(sp.Skeleton);t.setAnimation(0,"animation",!1),t.setCompleteListener(function(){t.setAnimation(0,"animation2",!0)}),this.progress.fillRange=0,this.progressLabel.string=Math.round(100*this.progress.fillRange)+"%",this.scheduleOnce(this.preLoad,.5)},e.prototype.preLoad=function(){var t=this;this.index==this.config.length&&l.default.rootNode.arrMapSpf.length?(this.refreshProgress(),this.hid()):cc.resources.loadDir(this.config[this.index],function(){t.refreshProgress()},function(){t.index++,t.preLoad()})},e.prototype.refreshProgress=function(){this.progress.fillRange=this.index/this.config.length,this.progressLabel.string=(100*this.progress.fillRange).toFixed(2)+"%"},e.prototype.hid=function(){var t=this;l.default.AudioManage.playSound(u.MusicEnum.zhuanchang1),l.default.rootNode.hideLianmu(),this.scheduleOnce(function(){l.default.GameManage.onLoadingHid(),t.unschedule(t.hid),t.node.destroy()},.8)},i([c(cc.Sprite)],e.prototype,"progress",void 0),i([c(cc.Node)],e.prototype,"logo",void 0),i([c(cc.Label)],e.prototype,"progressLabel",void 0),i([s],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../Core/App":"App","../Core/AudioManage":"AudioManage"}],LocalManage:[function(t,e,o){"use strict";cc._RF.push(e,"0f800uHGIhEJo5tfVDzoxxx","LocalManage"),Object.defineProperty(o,"__esModule",{value:!0}),o.GameData=void 0;var a=t("./App"),n=function(){this.playerRankData={},this.isMusicOn=!0,this.isSoundOn=!0,this.isShock=!0,this.isFirst=!0,this.level=1,this.lv=1,this.exp=0,this.regainTime=600,this.leaveTime=0,this.powerNum=15,this.maxPower=5,this.coinNum=20,this.isUseProp=!1,this.mapNum=1,this.arrAdAllNum=[1,2,3,5,10],this.arrAdNum=[1,2,3,5,10],this.arrAdCoin=[5,11,18,35,75],this.arrIsLock=[],this.unLockCount=0,this.isLast=!1};o.GameData=n;var i=function(){function t(){this.gameData=null,this.dataKey="find",this.init()}return t.prototype.init=function(){var t;try{t=this.getItem(this.dataKey)}catch(r){}var e={};t&&(e=JSON.parse(t));for(var o=new n,a=Object.keys(o),i=0;i<a.length;i++)e.hasOwnProperty(a[i])||(e[a[i]]=o[a[i]]);this.gameData=e},t.prototype.savaData=function(){this.setItem(this.gameData)},t.prototype.restData=function(){this.gameData=new n},t.prototype.setItem=function(t){a.default.mainUI.node.active&&(this.gameData.leaveTime=(new Date).getTime()),cc.sys.localStorage.setItem(this.dataKey,JSON.stringify(t))},t.prototype.getItem=function(t){return cc.sys.localStorage.getItem(t)},t}();o.default=i,cc._RF.pop()},{"./App":"App"}],LoopScrollView:[function(t,e,o){"use strict";cc._RF.push(e,"25110EBuvBKOL8Yw1G3S6ZF","LoopScrollView");var a,n,i=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.HORIZONTAL=1]="HORIZONTAL",t[t.VERTICAL=2]="VERTICAL",t[t.GRIDHORIZONTAL=3]="GRIDHORIZONTAL",t[t.GRIDVERTICAL=4]="GRIDVERTICAL"}(n||(n={}));var s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.childSamplePrefab=null,e.childSampleNode=null,e._horizontal=!1,e._vertical=!0,e._type=n.HORIZONTAL,e._HOrVNumber=1,e._left=0,e._right=0,e._top=0,e._buttom=0,e._spacingX=0,e._spacingY=0,e.data=[],e._toRefresh=!1,e.positionList=null,e.childCount=null,e.viewMax=null,e.viewMin=null,e.lastPosition=null,e.childAnchorLeft=null,e.childAnchorTop=null,e.childNode=null,e.isHorizontal=null,e.showFunction=null,e}return i(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this._changePaddingType()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"HOrVNumber",{get:function(){return this._HOrVNumber},set:function(t){this._HOrVNumber=t,this._changePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this._left},set:function(t){this._left=t,this._changePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this._right},set:function(t){this._right=t,this._changePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this._top},set:function(t){this._top=t,this._changePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"buttom",{get:function(){return this._buttom},set:function(t){this._buttom=t,this._changePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacingX",{get:function(){return this._spacingX},set:function(t){this._spacingX=t,this._changePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spacingY",{get:function(){return this._spacingY},set:function(t){this._spacingY=t,this._changePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"refreshButton",{get:function(){return this._toRefresh},set:function(){this._toRefresh=!1,this._changePaddingType()},enumerable:!1,configurable:!0}),e.prototype._changePaddingType=function(){var t=this;this.data.length=this.content.childrenCount;var e=[],o=[];switch(this._type){case n.HORIZONTAL:o=["top","buttom","spacingY","HOrVNumber"],e=["left","right","spacingX"],this.horizontal=!0;break;case n.VERTICAL:o=["left","right","spacingX","HOrVNumber"],e=["top","buttom","spacingY"],this.horizontal=!1;break;case n.GRIDHORIZONTAL:o=[],e=["left","right","top","buttom","spacingX","spacingY","HOrVNumber"],this.horizontal=!0;break;case n.GRIDVERTICAL:o=[],e=["left","right","top","buttom","spacingX","spacingY","HOrVNumber"],this.horizontal=!1}e.forEach(function(e){cc.Class.attr(t,e,{visible:!0})}),o.forEach(function(e){cc.Class.attr(t,e,{visible:!1})}),this._changePadding()},e.prototype._changePadding=function(){var t=this;this._init(),this.content.children.forEach(function(e,o){e.setPosition(t.positionList[o])})},e.prototype.init=function(t,e){this.data=this.changeDataToArray(t),this.showFunction=e,this._init(),this.addChildToContent()},e.prototype.refreshData=function(t){this.stopAutoScroll(),this.scrollToTopLeft(),this.data=this.changeDataToArray(t);var e=this.childCount;this._init(),e!=this.childCount&&this.addChildToContent()},e.prototype.onlyRefreshShow=function(t){this.data=this.changeDataToArray(t);for(var e=this.content.children,o=0,a=e.length;o<a;o++){var n=this.data[e[o].setIndex];this.showFunction(e[o],n)}},e.prototype.scrollIndexToPercentage=function(t,e,o,a,n,i){var r=this;if(void 0===e&&(e=0),void 0===a&&(a=!1),void 0===n&&(n=!1),void 0===i&&(i=function(){}),!this.positionList.length||t<0||t>=this.positionList.length)cc.error("%s 请检测数据是否合法。index:%s",this.name,t);else{this.stopAutoScroll();var s,c,l,u=this.isHorizontal?this.getMaxScrollOffset().x:this.getMaxScrollOffset().y,d=Math.abs(this.isHorizontal?this.positionList[t].x:this.positionList[t].y);this.isHorizontal?((l=((c=o>.5?this.node.width*o-(this.childNode.width-this.childAnchorLeft)*(2*o-1):this.node.width*o-this.childAnchorLeft*(2*o-1))-(this.childAnchorLeft+this.spacingX))%(this.childNode.width+this.spacingX))>this.childNode.width/2&&(l=-this.childNode.width-this.spacingX+l),s=d-c+(a?l:0)):((l=((c=o>.5?this.node.height*o-(this.childNode.height-this.childAnchorTop)*(2*o-1):this.node.height*o-this.childAnchorTop*(2*o-1))-(this.childAnchorTop+this.spacingY))%(this.childNode.height+this.spacingY))>this.childNode.height/2&&(l=-this.childNode.height-this.spacingY+l),s=d-c+(a?l:0)),s=Math.max(0,s),s=Math.min(u,s);var h=this.isHorizontal?cc.v2(s,0):cc.v2(0,s);this.scrollToOffset(h,e,n),this.scheduleOnce(function(){r.refreshPosition(),i()},e)}},e.prototype.getNodeInView=function(){var t=[];if(this.isHorizontal)for(var e=this.content.x,o=0;o<this.childCount;o++){var a=(s=this.content.children[o]).x+e,n=a+this.childAnchorLeft<=this.viewMin,i=a-(this.childNode.width-this.childAnchorLeft)>=this.viewMax;n||i||t.push(s)}else{var r=this.content.y;for(o=0;o<this.childCount;o++){var s,c=(s=this.content.children[o]).y+r;n=c+this.childAnchorTop<=this.viewMin,i=c-(this.childNode.height-this.childAnchorTop)>=this.viewMax,n||i||t.push(s)}}return t.sort(function(t,e){return t.setIndex-e.setIndex}),t},e.prototype.start=function(){var t=this;this.node.on("scrolling",function(){t.onScroll()})},e.prototype._init=function(){this.childSamplePrefab?this.childNode=cc.instantiate(this.childSamplePrefab):this.childNode=this.childSampleNode,this.isHorizontal=this.type==n.HORIZONTAL||this.type==n.GRIDHORIZONTAL,this.isHorizontal?this.content.anchorX=0:this.content.anchorY=1,this.childAnchorLeft=this.childNode.width*this.childNode.anchorX,this.childAnchorTop=this.childNode.height*this.childNode.anchorY,this.initPositionList()},e.prototype.changeDataToArray=function(t){var e=[];if(Array.isArray(t))e=t;else for(var o in t)e.push(t[o]);return e},e.prototype.initPositionList=function(){this.positionList=[];var t=cc.v2(0,0);switch(this._type){case n.HORIZONTAL:this.viewMax=this.node.width*(1-this.node.anchorX),this.viewMin=-this.node.width*this.node.anchorX,this.childCount=Math.min(Math.ceil(this.node.width/(this.childNode.width+this.spacingX))+1,this.data.length),this.content.width=(this.childNode.width+this.spacingX)*this.data.length-this.spacingX+this.left+this.right,this.content.height=this.childNode.height,t=this.getContentOffset;for(var e=0,o=this.data.length;e<o;e++)this.positionList.push(cc.v2(this.childAnchorLeft+(this.childNode.width+this._spacingX)*e+this.left-t.x,t.y-this.childAnchorTop));break;case n.VERTICAL:for(this.viewMax=this.node.height*(1-this.node.anchorY),this.viewMin=-this.node.height*this.node.anchorY,this.childCount=Math.min(Math.ceil(this.node.height/(this.childNode.height+this.spacingY))+1,this.data.length),this.content.width=this.childNode.width,this.content.height=(this.childNode.height+this.spacingY)*this.data.length-this.spacingY+this.top+this.buttom,t=this.getContentOffset,e=0,o=this.data.length;e<o;e++)this.positionList.push(cc.v2(this.childAnchorLeft-t.x,-(this.childAnchorTop+(this.childNode.height+this._spacingY)*e+this.top)+t.y));break;case n.GRIDHORIZONTAL:this.viewMax=this.node.width*(1-this.node.anchorX),this.viewMin=-this.node.width*this.node.anchorX,this.childCount=Math.min((Math.ceil(this.node.width/(this.childNode.width+this.spacingX))+1)*this.HOrVNumber,this.data.length),this.content.width=(this.childNode.width+this.spacingX)*Math.ceil(this.data.length/this.HOrVNumber)-this.spacingX+this.left+this.right,this.content.height=(this.childNode.height+this.spacingY)*this.HOrVNumber+this.top+this.buttom-this.spacingY,t=this.getContentOffset;var a=0;for(e=0,o=this.data.length;e<o;e++){var i=this.childAnchorLeft+(this.childNode.width+this._spacingX)*Math.floor(e/this.HOrVNumber)+this.left-t.x,r=-(this.childAnchorTop+(this.childNode.height+this._spacingY)*a+this.top-t.y);this.positionList.push(cc.v2(i,r)),a++,a%=this.HOrVNumber}break;case n.GRIDVERTICAL:this.viewMax=this.node.height*(1-this.node.anchorY),this.viewMin=-this.node.height*this.node.anchorY,this.childCount=Math.min((Math.ceil(this.node.height/(this.childNode.height+this.spacingY))+1)*this.HOrVNumber,this.data.length),this.content.width=(this.childNode.width+this.spacingX)*this.HOrVNumber+this.left+this.right-this.spacingX,this.content.height=(this.childNode.height+this.spacingY)*Math.ceil(this.data.length/this.HOrVNumber)-this.spacingY+this._top+this.buttom,t=this.getContentOffset;var s=0;for(e=0,o=this.data.length;e<o;e++)i=this.childAnchorLeft+(this.childNode.width+this._spacingX)*s+this.left-t.x,r=-(this.childAnchorTop+(this.childNode.height+this._spacingY)*Math.floor(e/this.HOrVNumber)+this.top-t.y),this.positionList.push(cc.v2(i,r)),s++,s%=this.HOrVNumber}},Object.defineProperty(e.prototype,"getContentOffset",{get:function(){return cc.v2(this.content.width*this.content.anchorX,this.content.height*(1-this.content.anchorY))},enumerable:!1,configurable:!0}),e.prototype.onScroll=function(){switch(this.type){case n.HORIZONTAL:case n.GRIDHORIZONTAL:this.onScrollH();break;case n.VERTICAL:case n.GRIDVERTICAL:this.onScrollV()}},e.prototype.onScrollH=function(){for(var t=this.content.x,e=0;e<this.childCount;e++){var o=this.content.children[e],a=o.x+t,n=void 0;this.lastPosition>t?a+this.childAnchorLeft<this.viewMin&&(n=o.setIndex+this.childCount)>=0&&n<=this.positionList.length-1&&(o.setIndex=n,o.setPosition(this.positionList[n]),this.showFunction(o,this.data[n])):a-this.childAnchorLeft>this.viewMax&&(n=o.setIndex-this.childCount)>=0&&n<=this.positionList.length-1&&(o.setIndex=n,o.setPosition(this.positionList[n]),this.showFunction(o,this.data[n]))}this.lastPosition=this.content.x},e.prototype.onScrollV=function(){for(var t=this.content.y,e=0;e<this.childCount;e++){var o=this.content.children[e],a=o.y+t,n=void 0;this.lastPosition>t?a+this.childAnchorTop<this.viewMin&&(n=o.setIndex-this.childCount)>=0&&n<=this.positionList.length-1&&(o.setIndex=n,o.setPosition(this.positionList[n]),this.showFunction(o,this.data[n])):a-this.childAnchorTop>this.viewMax&&(n=o.setIndex+this.childCount)>=0&&n<=this.positionList.length-1&&(o.setIndex=n,o.setPosition(this.positionList[n]),this.showFunction(o,this.data[n]))}this.lastPosition=this.content.y},e.prototype._refreshPositionH=function(t){void 0===t&&(t=!0);for(var e=this.content.x,o=!0,a=0;a<this.childCount;a++){var n=this.content.children[a],i=n.x+e,r=void 0;t?i+this.childAnchorLeft<this.viewMin&&(r=n.setIndex+this.childCount)>=0&&r<=this.positionList.length-1&&(n.setIndex=r,n.setPosition(this.positionList[r]),this.showFunction(n,this.data[r]),o=!1):i-this.childAnchorLeft>this.viewMax&&(r=n.setIndex-this.childCount)>=0&&r<=this.positionList.length-1&&(n.setIndex=r,n.setPosition(this.positionList[r]),this.showFunction(n,this.data[r]),o=!1)}o||this._refreshPositionH(t)},e.prototype.refreshPosition=function(){if(this.isHorizontal)for(var t=this.content.x,e=0;e<this.childCount;e++){var o=this.content.children[e].x+t;o+this.childAnchorLeft<this.viewMin?this._refreshPositionH(!0):o-this.childAnchorLeft>this.viewMax&&this._refreshPositionH(!1)}else{var a=this.content.y;for(e=0;e<this.childCount;e++){var n=this.content.children[e].y+a;n+this.childAnchorTop<this.viewMin?this._refreshPositionV(!0):n-this.childAnchorTop>this.viewMax&&this._refreshPositionV(!1)}}},e.prototype._refreshPositionV=function(t){void 0===t&&(t=!0);for(var e=this.content.y,o=!0,a=0;a<this.childCount;a++){var n=this.content.children[a],i=n.y+e,r=void 0;t?i+this.childAnchorTop<this.viewMin&&(r=n.setIndex-this.childCount)>=0&&r<=this.positionList.length-1&&(n.setIndex=r,n.setPosition(this.positionList[r]),this.showFunction(n,this.data[r]),o=!1):i-this.childAnchorTop>this.viewMax&&(r=n.setIndex+this.childCount)>=0&&r<=this.positionList.length-1&&(n.setIndex=r,n.setPosition(this.positionList[r]),this.showFunction(n,this.data[r]),o=!1)}o||this._refreshPositionV(t)},e.prototype.addChildToContent=function(){this.content.removeAllChildren();for(var t=0;t<this.childCount;t++){var e=cc.instantiate(this.childNode);e.setIndex=t,e.setPosition(this.positionList[t]),this.showFunction(e,this.data[t]),this.content.addChild(e)}},r([l({tooltip:"子类预制，优先预制",type:cc.Prefab})],e.prototype,"childSamplePrefab",void 0),r([l({tooltip:"子类节点，优先预制",type:cc.Node})],e.prototype,"childSampleNode",void 0),r([l({tooltip:"是否是水平滚动"}||cc.Boolean)],e.prototype,"_horizontal",void 0),r([l({tooltip:"滚动方向由滚动类型决定,请修改Type",readonly:!0,override:!0}),l({tooltip:"是否是垂直滚动"}||cc.Boolean)],e.prototype,"_vertical",void 0),r([l({tooltip:"滚动方向由滚动类型决定,请修改Type",readonly:!0,override:!0}),l({visible:!1})],e.prototype,"_type",void 0),r([l({tooltip:"布局模式",type:cc.Enum(n)})],e.prototype,"type",null),r([l({visible:!1})],e.prototype,"_HOrVNumber",void 0),r([l({tooltip:"横数或者列数,默认为2",visible:!1,range:[1,99,1]})],e.prototype,"HOrVNumber",null),r([l({visible:!1})],e.prototype,"_left",void 0),r([l({tooltip:"padding left",visible:!1})],e.prototype,"left",null),r([l({visible:!1})],e.prototype,"_right",void 0),r([l({tooltip:"padding right",visible:!1})],e.prototype,"right",null),r([l({visible:!1})],e.prototype,"_top",void 0),r([l({tooltip:"padding top",visible:!1})],e.prototype,"top",null),r([l({visible:!1})],e.prototype,"_buttom",void 0),r([l({tooltip:"padding buttom",visible:!1})],e.prototype,"buttom",null),r([l({visible:!1})],e.prototype,"_spacingX",void 0),r([l({tooltip:"spacing X",visible:!1})],e.prototype,"spacingX",null),r([l({visible:!1})],e.prototype,"_spacingY",void 0),r([l({tooltip:"spacing Y",visible:!1})],e.prototype,"spacingY",null),r([l({serializable:!1,visible:!1})],e.prototype,"_toRefresh",void 0),r([l({tooltip:"刷新机制，后续优化。##第一次打开，添加子类等测试都需要点击进行刷新！！",displayName:"刷新按钮："})],e.prototype,"refreshButton",null),r([c],e)}(cc.ScrollView);o.default=u,cc._RF.pop()},{}],MainUI:[function(t,e,o){"use strict";cc._RF.push(e,"9ccd8EYcyZPkr+DAoIo6bg7","MainUI");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Core/App"),s=t("../Core/UIManage"),c=t("../Core/BaseUI"),l=t("../Core/AudioManage"),u=cc._decorator,d=u.ccclass,h=u.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.map=null,e.levelBtn=null,e.icon=null,e.mapContent=null,e.lbLv=null,e.yunNode=null,e.expProgressBar=null,e.powerProgressBar=null,e.ScrollView=null,e.lbCoin=null,e.lbPower=null,e.lbTime=null,e.arrBtnSpr=[],e.guangyun=null,e.coinPrefab=null,e.jiesuo=null,e.unLockSpf=null,e.mask=null,e.cankaoNode=null,e.isMove=!1,e.count=0,e.arrData=[],e.arrSpf=[],e.isSelect=!1,e.selNum=0,e.arrMapData=[],e.arrAward=[],e.arrAwardSpf=[],e.newUnlock=-1,e.isToCenter=!1,e.arrPass=[15,30,43,57,71],e.getCoin=0,e.arrDataBk=[],e.arrSpfBk=[],e.setIsSHow=!1,e}return n(e,t),e.prototype.onLoad=function(){var t=this;r.default.mainUI=this,this.loadMapData(r.default.gameData.mapNum),this.loadLevelData(r.default.gameData.level),this.iconMove();var e=this.levelBtn.getChildByName(String(r.default.gameData.level)).getPosition();this.icon.setPosition(e.x,e.y+30),this.expProgressBar.progress=r.default.gameData.exp/(r.default.gameData.lv+10),this.lbLv.string=String(r.default.gameData.lv),cc.game.on(cc.game.EVENT_SHOW,function(){t.recover()},this)},e.prototype.onEnable=function(){var t=this;r.default.AudioManage.playMusic(l.MusicEnum.BGM1),this.recover(),this.isSelect&&(this.arrData=this.arrDataBk,this.arrSpf=this.arrSpfBk),this.guangyun.setPosition(this.levelBtn.getChildByName(String(r.default.gameData.level)).getPosition()),this.levelBtn.getChildByName(String(r.default.gameData.level)).getComponent(cc.Sprite).spriteFrame=this.arrBtnSpr[1];var e=this.map.convertToNodeSpaceAR(this.node.convertToWorldSpaceAR(cc.v2(this.node.getPosition())));this.icon.y>this.node.height/2?this.icon.y>this.map.height-this.node.height/2?this.mapContent.y-=this.map.height-this.node.height/2-e.y:this.mapContent.y-=this.icon.y-e.y:this.icon.y<this.node.height/2&&(this.mapContent.y-=this.node.height/2-e.y);var o=.7;if(this.newUnlock>=0){r.default.gameData.unLockCount++,this.isMove||this.scheduleOnce(function(){t.mask.active=!1},o),o+=2.5,r.default.gameData.arrIsLock[this.newUnlock]=!1;var a=this.map.getChildByName(String("ditu"+r.default.gameData.mapNum)).getChildByName(String(this.newUnlock));a.active=!1,this.scheduleOnce(function(){var e=cc.instantiate(t.jiesuo);r.default.AudioManage.playSound(l.MusicEnum.jiesuo1),t.node.addChild(e),e.setPosition(t.node.convertToNodeSpaceAR(a.parent.convertToWorldSpaceAR(a.getPosition())))},1);var n=this.map.convertToNodeSpaceAR(this.node.convertToWorldSpaceAR(cc.v2(this.node.getPosition()))),i=n.y-this.mapContent.convertToNodeSpaceAR(a.parent.convertToWorldSpaceAR(a.getPosition())).y;1==r.default.gameData.mapNum&&a.y<this.node.height/2&&(i=n.y-this.node.height/2,this.icon.y<this.node.height/2&&(i=0,o-=.5)),6==r.default.gameData.mapNum&&a.y>this.map.getChildByName("ditu"+r.default.gameData.mapNum).height-this.node.height/2&&(i=n.y-this.map.getChildByName("ditu"+r.default.gameData.mapNum).height-this.node.height/2,this.icon.y>=this.map.getChildByName("ditu"+r.default.gameData.mapNum).height-this.node.height/2&&(i=0,o-=.5)),this.scheduleOnce(function(){var e=t.mapContent.getPosition();t.mapContent.y+=i,t.scheduleOnce(function(){cc.tween(t.mapContent).to(.5,{position:cc.v3(e)}).start()},2)}),this.isSelect&&this.selNum!=r.default.gameData.level&&(this.isMove=!1,this.scheduleOnce(function(){t.mask.active=!1},3))}else if(o+=.5,this.isSelect&&this.selNum!=r.default.gameData.level)return this.isMove=!1,o-=.5,void(this.mask.active=!1);if(this.isMove){if(r.default.gameData.level>=this.arrPass[r.default.gameData.mapNum-1]){if(r.default.gameData.level,this.arrPass[r.default.gameData.mapNum-1],r.default.gameData.unLockCount<this.arrMapData[0]){this.isMove=!1;var c=this.newUnlock>-1?2.5:1;return void this.scheduleOnce(function(){t.mask.active=!1,r.default.UIManage.showUI(s.UIEnum.TipUI)},c)}o+=2.5,r.default.gameData.unLockCount=0,this.scheduleOnce(function(){r.default.gameData.mapNum++;var e=t.map.getChildByName("lock").getChildByName("lock"+r.default.gameData.mapNum);e.getComponent(cc.Sprite).spriteFrame=null;var o=t.map.getChildByName("lock").getChildByName("lock"+r.default.gameData.mapNum).getChildByName("suo").getComponent(sp.Skeleton);t.map.getChildByName("lock").getChildByName("lock"+r.default.gameData.mapNum).getChildByName("suo").active=!0,r.default.gameData.arrIsLock=[],t.loadMapData(r.default.gameData.mapNum),o.setAnimation(0,"animation",!1),o.setCompleteListener(function(){e.getComponent(cc.Sprite).spriteFrame=t.unLockSpf,t.map.getChildByName("lock").getChildByName("lock"+r.default.gameData.mapNum).getChildByName("suo").active=!1;for(var o=t.yunNode.getChildByName(String(r.default.gameData.mapNum)).children,a=function(t){cc.tween(o[t]).by(1,{position:cc.v3(300*o[t].scaleX,0,0),opacity:-255}).call(function(){o[t].active=!1}).start()},n=0;n<o.length;n++)a(n);t.scheduleOnce(function(){for(var e=1;e<=r.default.gameData.level;e++)t.levelBtn.getChildByName(String(e)).active=!1},1)})},o-2)}this.scheduleOnce(function(){if(t.icon.stopAllActions(),r.default.gameData.level!=t.levelBtn.childrenCount-1){t.isToCenter=!0;var e=t.levelBtn.getChildByName(String(r.default.gameData.level+1)).getPosition();cc.tween(t.icon).call(function(){t.mask.active=!0}).to(.8,{position:cc.v3(e.x,e.y+30,0)}).call(function(){r.default.gameData.level++,t.levelBtn.getChildByName(String(r.default.gameData.level)).getComponent(cc.Sprite).spriteFrame=t.arrBtnSpr[1],t.levelBtn.getChildByName(String(r.default.gameData.level)).getChildByName("lbNum").active=!0,t.levelBtn.getChildByName(String(r.default.gameData.level)).getChildByName("lbNum").getComponent(cc.Label).string=String(r.default.gameData.level),t.levelBtn.getChildByName(String(r.default.gameData.level-1)).getComponent(cc.Sprite).spriteFrame=t.arrBtnSpr[2],t.guangyun.setPosition(t.levelBtn.getChildByName(String(r.default.gameData.level)).getPosition()),t.isMove=!1;var e=0;r.default.AudioManage.playSound(l.MusicEnum.jindutiao3);for(var o=function(o){t.scheduleOnce(function(){var e=.2/(r.default.gameData.lv+10);t.expProgressBar.progress+=e,t.expProgressBar.progress>.99&&(r.default.gameData.lv++,t.expProgressBar.progress=0,t.scheduleOnce(function(){r.default.UIManage.showUI(s.UIEnum.LevelUpUI)},.008*(70-o)),r.default.gameData.exp-=r.default.gameData.lv+10)},e),e+=.008},a=0;a<50;a++)o(a);t.scheduleOnce(function(){t.isToCenter=!1,t.iconMove(),t.mask.active=!1},1)}).start()}else{if(t.isMove=!1,t.scheduleOnce(function(){t.isToCenter=!1,t.iconMove(),t.mask.active=!1},1),r.default.gameData.isLast)return;r.default.gameData.isLast=!0;var o=0;r.default.AudioManage.playSound(l.MusicEnum.jindutiao3);for(var a=function(e){t.scheduleOnce(function(){var o=.2/(r.default.gameData.lv+10);t.expProgressBar.progress+=o,t.expProgressBar.progress>.99&&(r.default.gameData.lv++,t.expProgressBar.progress=0,t.scheduleOnce(function(){r.default.UIManage.showUI(s.UIEnum.LevelUpUI)},.008*(70-e)),r.default.gameData.exp-=r.default.gameData.lv+10)},o),o+=.008},n=0;n<50;n++)a(n)}},o)}this.newUnlock=-1,this.isSelect=!1},e.prototype.onDisable=function(){},e.prototype.start=function(){var t=this;this.scheduleOnce(function(){t.ScrollView.height=t.node.height,t.ScrollView.scale=t.node.width/t.cankaoNode.width,t.ScrollView.getChildByName("view").height=t.node.height},.1),r.default.gameData.isFirst&&(r.default.rootNode.guideMask.active=!1,this.scheduleOnce(function(){var e=t.node.getChildByName("playBtn").getPosition();e=cc.v2(e.x,e.y+10),r.default.rootNode.showGuide(e)},1));for(var e=0;e<r.default.gameData.arrIsLock.length;e++){if(this.map.getChildByName("ditu"+r.default.gameData.mapNum).getChildByName(String(e))){this.map.getChildByName("ditu"+r.default.gameData.mapNum).getChildByName(String(e)).active=r.default.gameData.arrIsLock[e]}}for(e=1;e<r.default.gameData.mapNum;e++)this.map.getChildByName("ditu"+e).children.forEach(function(t){t.removeFromParent()});for(this.scheduleOnce(function(){var e=t.map.convertToNodeSpaceAR(t.node.convertToWorldSpaceAR(cc.v2(t.node.getPosition())));t.icon.y>t.node.height/2?t.icon.y>t.map.height-t.node.height/2?t.mapContent.y-=t.map.height-t.node.height/2-e.y:t.mapContent.y-=t.icon.y-e.y:t.icon.y<t.node.height/2&&(t.mapContent.y-=t.node.height/2-e.y)}),e=1;e<r.default.gameData.level;e++)this.levelBtn.getChildByName(String(e)).getComponent(cc.Sprite).spriteFrame=this.arrBtnSpr[2],this.levelBtn.getChildByName(String(e)).getChildByName("lbNum").getComponent(cc.Label).string=String(e),this.levelBtn.getChildByName(String(e)).getChildByName("lbNum").active=!0;for(this.levelBtn.getChildByName(String(r.default.gameData.level)).getComponent(cc.Sprite).spriteFrame=this.arrBtnSpr[1],this.levelBtn.getChildByName(String(r.default.gameData.level)).getChildByName("lbNum").getComponent(cc.Label).string=String(r.default.gameData.level),this.levelBtn.getChildByName(String(r.default.gameData.level)).getChildByName("lbNum").active=!0,e=1;e<r.default.gameData.mapNum;e++)this.map.getChildByName("ditu"+e).children.forEach(function(t){t.active=!1});for(e=0;e<r.default.gameData.arrIsLock.length;e++){if(this.map.getChildByName("ditu"+r.default.gameData.mapNum).getChildByName(String(e))){this.map.getChildByName("ditu"+r.default.gameData.mapNum).getChildByName(String(e)).active=r.default.gameData.arrIsLock[e]}}for(e=1;e<r.default.gameData.level;e++)e<=this.arrPass[r.default.gameData.mapNum-2]&&(this.levelBtn.getChildByName(String(e)).active=!1);for(e=2;e<=r.default.gameData.mapNum;e++)this.map.getChildByName("lock").getChildByName("lock"+e).getComponent(cc.Sprite).spriteFrame=this.unLockSpf;for(e=1;e<=r.default.gameData.mapNum;e++)this.yunNode.getChildByName(String(e)).active=!1},e.prototype.show=function(){this.node.opacity+=8.5,this.node.opacity>=255&&this.unschedule(this.show)},e.prototype.update=function(){if(r.default.rootNode.hasCloseLianmu&&r.default.rootNode.arrMapSpf.length-1==6){r.default.rootNode.hasCloseLianmu=!1;for(var t=1;t<=6;t++)this.map.getChildByName("ditu"+t).getComponent(cc.Sprite).spriteFrame=r.default.rootNode.arrMapSpf[t];r.default.rootNode.openLianmu()}if(this.lbPower.string=String(r.default.gameData.powerNum),this.lbCoin.string=String(r.default.gameData.coinNum),this.powerProgressBar.progress=r.default.gameData.powerNum/5,this.lbLv.string=String(r.default.gameData.lv),this.icon.y>this.node.height/2&&1==this.isToCenter&&this.icon.y<this.map.height-this.node.height/2){var e=this.map.convertToNodeSpaceAR(this.node.convertToWorldSpaceAR(cc.v2(this.node.x,this.node.y)));this.mapContent.y-=this.icon.y-e.y}},e.prototype.loadLevelData=function(t,e){var o=this;this.arrData=[],this.arrSpf=[];var a="png/level"+(t-1)+"-1";cc.resources.load(a,cc.SpriteFrame,function(t,e){t?console.log(t):o.arrSpf[0]=e});var n="png/level"+(t-1)+"-2";cc.resources.load(n,cc.SpriteFrame,function(t,e){t?console.log(t):o.arrSpf[1]=e});var i="config/levelConfig/level"+t;cc.resources.load(i,cc.JsonAsset,function(t,a){t?console.error(t):(o.arrData=a.json,e&&e())})},e.prototype.loadMapData=function(t){var e=this;this.arrAwardSpf=[];var o="config/mapConfig/map"+t;cc.resources.load(o,cc.JsonAsset,function(o,a){if(o)console.error(o);else{e.arrMapData=a.json;for(var n=function(o){var a="award/map"+t+"/"+o;cc.resources.load(a,cc.SpriteFrame,function(t,a){t?console.error(t):(e.arrAwardSpf[o]=a,null==r.default.gameData.arrIsLock[o]&&(r.default.gameData.arrIsLock[o]=!0))})},i=0;i<e.arrMapData[0];i++)n(i)}})},e.prototype.iconMove=function(){var t=this;cc.tween(this.icon).delay(.1).by(1,{position:cc.v3(0,-10,0)}).delay(.1).by(1,{position:cc.v3(0,10,0)}).call(function(){t.iconMove()}).start()},e.prototype.recover=function(){this.unscheduleAllCallbacks();var t=(new Date).getTime(),e=Math.floor((t-r.default.gameData.leaveTime)/1e3),o=Math.floor(e/600);o+r.default.gameData.powerNum<r.default.gameData.maxPower?(r.default.gameData.powerNum+=o,r.default.gameData.regainTime-=e,this.setTimeLabel()):o+r.default.gameData.powerNum==r.default.gameData.maxPower?(r.default.gameData.powerNum=r.default.gameData.maxPower,this.lbTime.string="MAX",r.default.gameData.regainTime=600):(this.lbTime.string="MAX",r.default.gameData.regainTime=600),this.schedule(this.reduceTime,1)},e.prototype.reduceTime=function(){r.default.gameData.powerNum<r.default.gameData.maxPower?(r.default.gameData.regainTime--,r.default.gameData.regainTime<=0?(r.default.gameData.powerNum++,r.default.gameData.powerNum>=r.default.gameData.maxPower&&(this.lbTime.string="MAX"),r.default.gameData.regainTime=600,this.lbPower.string=r.default.gameData.powerNum.toString()):this.setTimeLabel()):this.lbTime.string="MAX"},e.prototype.setTimeLabel=function(){var t=Math.floor(r.default.gameData.regainTime/60),e=Math.floor(r.default.gameData.regainTime%60),o=t>=10?t:"0"+t,a=e>=10?e:"0"+e;this.lbTime.string=o+":"+a},e.prototype.coinfly=function(){for(var t=this,e=function(e){for(var a=[],n=o.node.x-70;n<o.node.x+70;n+=20)a.push(cc.v2(n,-100));o.scheduleOnce(function(){r.default.AudioManage.playSound(l.MusicEnum.jinbi1);var e=cc.instantiate(t.coinPrefab);t.node.addChild(e),e.getComponent(sp.Skeleton).setAnimation(0,"wujiaoxingyingbi",!1);var o=Math.floor(Math.random()*a.length);e.setPosition(a[o]),e.getComponent(sp.Skeleton).setCompleteListener(function(){cc.tween(e).to(.5,{position:cc.v3(t.node.getChildByName("flyAim").getPosition())}).call(function(){r.default.gameData.coinNum+=1,e.removeFromParent(),r.default.AudioManage.playSound(l.MusicEnum.jinbi2)}).start()})},.05*e)},o=this,a=0;a<this.getCoin;a++)e(a);this.getCoin=0},e.prototype.onClick=function(t,e){for(var o=this,a=r.default.gameData.mapNum>1?this.arrPass[r.default.gameData.mapNum-2]:0,n=1;n<=r.default.gameData.level;n++)if(t==String(n)){if(r.default.AudioManage.playSound(l.MusicEnum.dianji1),r.default.gameData.powerNum<1)return void r.default.UIManage.showUI(s.UIEnum.GetPowerUI);this.isSelect=!0,this.selNum=n,this.arrDataBk=this.arrData,this.arrSpfBk=this.arrSpf,this.arrAward=this.arrMapData[n-a],this.loadLevelData(n,function(){r.default.UIManage.showUI(s.UIEnum.SelLevelUI)})}for(n=2;n<=this.map.getChildByName("lock").childrenCount+2;n++)if(t=="lock"+n){if(!e.getChildByName("qipao")||n<=r.default.gameData.mapNum)return;r.default.AudioManage.playSound(l.MusicEnum.dianji1),e.getChildByName("qipao").parent=this.map,this.map.getChildByName("qipao").setPosition(this.map.convertToNodeSpaceAR(e.convertToWorldSpaceAR(cc.v2(-4)))),this.map.getChildByName("qipao").scale=0,this.map.getChildByName("qipao").active=!0,this.map.getChildByName("qipao").scale=0,cc.tween(this.map.getChildByName("qipao")).to(.3,{scale:1}).start(),this.scheduleOnce(function(){cc.tween(o.map.getChildByName("qipao")).to(.3,{scale:0}).call(function(){o.map.getChildByName("qipao").active=!1,o.map.getChildByName("qipao").parent=e}).start()},3)}switch(t){case"playBtn":this.selNum=0,r.default.rootNode.hideGuide(),r.default.AudioManage.playSound(l.MusicEnum.dianji1),r.default.gameData.powerNum>=1?(this.arrAward=this.arrMapData[r.default.gameData.level-a],this.loadLevelData(r.default.gameData.level,function(){r.default.UIManage.showUI(s.UIEnum.SelLevelUI)})):r.default.UIManage.showUI(s.UIEnum.GetPowerUI);break;case"setBtn":if(this.setIsSHow)return;this.setIsSHow=!0,r.default.AudioManage.playSound(l.MusicEnum.dianji1),r.default.UIManage.showUI(s.UIEnum.SettingUI);break;case"addCoin":r.default.AudioManage.playSound(l.MusicEnum.dianji1),r.default.UIManage.showUI(s.UIEnum.CoinStoreUI);break;case"addPower":r.default.AudioManage.playSound(l.MusicEnum.dianji1),r.default.UIManage.showUI(s.UIEnum.GetPowerUI);break;case"power":r.default.gameData.powerNum=999;break;case"coin":r.default.gameData.coinNum=9999}},i([h(cc.Node)],e.prototype,"map",void 0),i([h(cc.Node)],e.prototype,"levelBtn",void 0),i([h(cc.Node)],e.prototype,"icon",void 0),i([h(cc.Node)],e.prototype,"mapContent",void 0),i([h(cc.Label)],e.prototype,"lbLv",void 0),i([h(cc.Node)],e.prototype,"yunNode",void 0),i([h(cc.ProgressBar)],e.prototype,"expProgressBar",void 0),i([h(cc.ProgressBar)],e.prototype,"powerProgressBar",void 0),i([h(cc.Node)],e.prototype,"ScrollView",void 0),i([h(cc.Label)],e.prototype,"lbCoin",void 0),i([h(cc.Label)],e.prototype,"lbPower",void 0),i([h(cc.Label)],e.prototype,"lbTime",void 0),i([h(cc.SpriteFrame)],e.prototype,"arrBtnSpr",void 0),i([h(cc.Node)],e.prototype,"guangyun",void 0),i([h(cc.Prefab)],e.prototype,"coinPrefab",void 0),i([h(cc.Prefab)],e.prototype,"jiesuo",void 0),i([h(cc.SpriteFrame)],e.prototype,"unLockSpf",void 0),i([h(cc.Node)],e.prototype,"mask",void 0),i([h(cc.Node)],e.prototype,"cankaoNode",void 0),i([d],e)}(c.BaseUI);o.default=p,cc._RF.pop()},{"../Core/App":"App","../Core/AudioManage":"AudioManage","../Core/BaseUI":"BaseUI","../Core/UIManage":"UIManage"}],MesgUI:[function(t,e,o){"use strict";cc._RF.push(e,"5a22dMgDJdBcqSdAmnoFoPK","MesgUI");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.MesgUI=void 0;var r=t("../Core/App"),s=cc._decorator,c=s.ccclass,l=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tipBg=null,e.tipLabel=null,e.initP=null,e}var o;return n(e,t),o=e,e.prototype.onLoad=function(){r.default.registerCom(o,this)},e.prototype.start=function(){this.initP=this.tipBg.position},e.prototype.showTip=function(t){var e=this;this.tipBg.stopAllActions(),this.tipLabel.node.stopAllActions(),this.tipLabel.string=t,this.tipBg.active=!0,this.tipBg.scale=0,this.tipBg.position=this.initP,this.tipBg.opacity=255,this.tipBg.runAction(cc.sequence(cc.scaleTo(.3,1).easing(cc.easeBackOut),cc.delayTime(.5),cc.callFunc(function(){e.tipLabel.node.runAction(cc.fadeTo(.3,50))}),cc.moveBy(.3,cc.v2(0,100)).easing(cc.easeSineOut()),cc.callFunc(function(){e.tipBg.active=!1})))},i([l(cc.Node)],e.prototype,"tipBg",void 0),i([l(cc.Label)],e.prototype,"tipLabel",void 0),o=i([c],e)}(cc.Component);o.MesgUI=u,cc._RF.pop()},{"../Core/App":"App"}],MyCCCJson:[function(t,e,o){"use strict";cc._RF.push(e,"6c98bhHqHhPh56WhQGEJZyr","MyCCCJson"),Object.defineProperty(o,"__esModule",{value:!0}),o.ConfigData=o.LevelConfig=void 0;o.LevelConfig=function(){this.id=null,this.x=null,this.y=null,this.rad=null};var a=function(){this.levelConfig={}};o.ConfigData=a;var n=function(){function t(){}return t.Init=function(t){for(var e=new a,o=Object.keys(e),n=t,i=0;i<o.length;i++)n[o[i]]||(n[o[i]]=e[o[i]]);return n},t}();o.default=n,cc._RF.pop()},{}],PoolManage:[function(t,e,o){"use strict";cc._RF.push(e,"aca38gJdZlPFrzehgLXa5y6","PoolManage"),Object.defineProperty(o,"__esModule",{value:!0}),o.PoolManage=void 0;var a=function(){this.pool=null,this.resItem=null,this.pool=new cc.NodePool},n=function(){function t(){this.poolMap={}}return t.prototype.get=function(t,e){return void 0===e&&(e="mapPrefab/prefab/"),this.getPrefab(e,t)},t.prototype.put=function(t){var e=t.name;this.poolMap[e].pool.put(t)},t.prototype.clear=function(t){this.poolMap[t].pool.clear()},t.prototype.getSync=function(){},t.prototype.addPrefab=function(t,e){this.poolMap.hasOwnProperty(t)||(this.poolMap[t]=new a),this.poolMap[t].resItem||(this.poolMap[t].resItem=e)},t.prototype.getPrefab=function(t,e){var o=this;return new Promise(function(n){if(o.poolMap.hasOwnProperty(e)||(o.poolMap[e]=new a),o.poolMap[e].pool.size()>0)n(o.poolMap[e].pool.get());else if(o.poolMap[e].resItem){var i=cc.instantiate(o.poolMap[e].resItem);n(i)}else cc.loader.loadRes(t+e,cc.Prefab,function(t,a){if(t)console.log(t);else{a.name=e,o.poolMap[e].resItem=a;var i=cc.instantiate(a);n(i)}})})},t}();o.PoolManage=n,cc._RF.pop()},{}],QuitUI:[function(t,e,o){"use strict";cc._RF.push(e,"4dbb2JDfltJeqzC2vvFy5zQ","QuitUI");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Core/App"),s=t("../Core/AudioManage"),c=t("../Core/BaseUI"),l=t("../Core/UIManage"),u=t("../SDK/FacebookIG"),d=cc._decorator,h=d.ccclass,p=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.lb=null,e}return n(e,t),e.prototype.onEnable=function(){r.default.UIManage.nodeShow(this.node)},e.prototype.start=function(){},e.prototype.onClick=function(t){switch(r.default.AudioManage.playSound(s.MusicEnum.dianji1),t){case"close":case"jixuBtn":r.default.UIManage.nodeHide(this.node);break;case"quitBtn":u.default.showInsertAd(u.adIDFB.insertID2),r.default.mainUI.isSelect=!1,r.default.gameData.isFirst=!1,r.default.rootNode.playLianmu(),r.default.AudioManage.playSound(s.MusicEnum.zhuanchang1),r.default.UIManage.hidUINode(this.node),this.scheduleOnce(function(){r.default.UIManage.showUI(l.UIEnum.MainUI),r.default.UIManage.hidUI(l.UIEnum.GameUI)},1.5)}},i([p(cc.Label)],e.prototype,"lb",void 0),i([h],e)}(c.BaseUI);o.default=f,cc._RF.pop()},{"../Core/App":"App","../Core/AudioManage":"AudioManage","../Core/BaseUI":"BaseUI","../Core/UIManage":"UIManage","../SDK/FacebookIG":"FacebookIG"}],RootNode:[function(t,e,o){"use strict";cc._RF.push(e,"35710ijJX5Lhq9jgexxhCjP","RootNode");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.RootNode=void 0;var r=t("../SDK/FacebookIG"),s=t("./App"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.uiContent=null,e.effectContent=null,e.noADsNode=null,e.lianmu=null,e.lianmuNode=null,e.finger=null,e.guideMask=null,e.arrPrefab=[],e.stopShowGuide=!1,e.arrMapSpf=[],e.mapCount=6,e.hasCloseLianmu=!1,e}return n(e,t),e.prototype.onLoad=function(){var t=this;s.default.rootNode=this,cc.macro.ENABLE_MULTI_TOUCH=!1,cc.game.addPersistRootNode(this.node),cc.game.on(cc.game.EVENT_HIDE,function(){s.default.LocaloManage.savaData(),1==s.default.mainUI.node.active&&(s.default.gameData.leaveTime=(new Date).getTime(),console.log("离开时间："+s.default.gameData.leaveTime))}),this.node.addComponent(cc.AudioSource),s.default.init(this.uiContent,this.noADsNode,this.node.getComponent(cc.AudioSource),this.effectContent),r.default.init();for(var e=function(e){var o="map/"+e;cc.resources.load(o,cc.SpriteFrame,function(o,a){o?console.log(o):t.arrMapSpf[e]=a})},o=1;o<=this.mapCount;o++)e(o)},e.prototype.start=function(){var t=this;this.scheduleOnce(function(){var e=t.node.height/t.lianmuNode.height,o=t.node.width/t.lianmuNode.width;t.lianmu.scaleX=o,t.lianmu.scaleY=e})},e.prototype.update=function(t){s.default.update(t)},e.prototype.openLianmu=function(){var t=this;this.lianmu.active=!0;var e=this.lianmu.getComponent(sp.Skeleton);e.setAnimation(0,"animation",!1),e.setCompleteListener(function(){t.lianmu.active=!1})},e.prototype.hideLianmu=function(){var t=this;this.lianmu.active=!0;var e=this.lianmu.getComponent(sp.Skeleton);e.setAnimation(0,"animation2",!1),e.setCompleteListener(function(){t.hasCloseLianmu=!0})},e.prototype.playLianmu=function(){var t=this;this.lianmu.active=!0;var e=this.lianmu.getComponent(sp.Skeleton);e.setAnimation(0,"animation2",!1),e.setCompleteListener(function(){e.setAnimation(0,"animation",!1),e.setCompleteListener(function(){t.lianmu.active=!1})})},e.prototype.showNoAds=function(){var t=this;0==this.noADsNode.active&&(this.noADsNode.active=!0,this.scheduleOnce(function(){t.noADsNode.active=!1},2))},e.prototype.showGuide=function(t){var e=this;this.stopShowGuide=!1,this.finger.scale=1.5,this.guideMask.opacity=0,this.guideMask.active=!0,cc.tween(this.guideMask).to(.5,{opacity:200}).start(),this.guideMask.setPosition(t),this.scheduleOnce(function(){e.finger.active=!0,e.finger.setPosition(t),e.finger.opacity=0,e.stopShowGuide||e.fingerMove()},.5)},e.prototype.hideGuide=function(){this.stopShowGuide=!0,this.guideMask.active=!1,this.finger.active=!1,this.finger.stopAllActions()},e.prototype.fingerMove=function(){var t=this;cc.tween(this.finger).by(.4,{opacity:255,position:cc.v3(30,-30,0)}).by(.4,{position:cc.v3(-30,30,0)}).call(function(){t.fingerMove()}).start()},i([u(cc.Node)],e.prototype,"uiContent",void 0),i([u(cc.Node)],e.prototype,"effectContent",void 0),i([u(cc.Node)],e.prototype,"noADsNode",void 0),i([u(cc.Node)],e.prototype,"lianmu",void 0),i([u(cc.Node)],e.prototype,"lianmuNode",void 0),i([u(cc.Node)],e.prototype,"finger",void 0),i([u(cc.Node)],e.prototype,"guideMask",void 0),i([u(cc.Prefab)],e.prototype,"arrPrefab",void 0),i([l],e)}(cc.Component);o.RootNode=d,cc._RF.pop()},{"../SDK/FacebookIG":"FacebookIG","./App":"App"}],SelLevelUI:[function(t,e,o){"use strict";cc._RF.push(e,"6ced8NX1/JHo4um/EFcNtBB","SelLevelUI");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Core/App"),s=t("../Core/AudioManage"),c=t("../Core/BaseUI"),l=t("../Core/UIManage"),u=t("../SDK/FacebookIG"),d=cc._decorator,h=d.ccclass,p=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.propBg=null,e.lbLevel=null,e.selNode=null,e.propNode=null,e.touchNode=null,e.arrPropSpr=[],e.awardNode=[],e.isOut=!1,e}return n(e,t),e.prototype.onEnable=function(){var t=this;r.default.gameData.isUseProp=!1,this.scheduleOnce(function(){if(r.default.gameData.isFirst){var e=t.node.getChildByName("window").getChildByName("playBtn").getPosition();e=cc.v2(e.x,e.y+10),t.scheduleOnce(function(){r.default.rootNode.showGuide(e)},.3)}},.2),r.default.UIManage.nodeShow(this.node),r.default.mainUI.isSelect?this.lbLevel.string="level "+r.default.mainUI.selNum:this.lbLevel.string="level "+r.default.gameData.level,this.selNode.getComponent(cc.Sprite).spriteFrame=r.default.gameData.isUseProp?this.arrPropSpr[1]:this.arrPropSpr[0],this.propNode.getComponent(cc.Sprite).spriteFrame=r.default.gameData.isUseProp?this.arrPropSpr[3]:this.arrPropSpr[2];for(var e=0;e<3;e++)this.awardNode[e].getComponent(cc.Sprite).spriteFrame=r.default.mainUI.arrAwardSpf[r.default.mainUI.arrAward[e]],r.default.gameData.arrIsLock[r.default.mainUI.arrAward[e]]?this.awardNode[e].getChildByName("yiyongyou").active=!1:this.awardNode[e].getChildByName("yiyongyou").active=!0},e.prototype.start=function(){var t=this;this.touchNode.on(cc.Node.EventType.TOUCH_START,function(){t.isOut=!1,r.default.AudioManage.playSound(s.MusicEnum.dianji1),t.propBg.color=cc.color(215,215,215)},this),this.touchNode.on(cc.Node.EventType.TOUCH_MOVE,function(e){t.touchNode.setPosition(t.touchNode.parent.convertToNodeSpaceAR(e.getLocation())),t.isOut=!t.propBg.getBoundingBoxToWorld().contains(e.getLocation())},this),this.touchNode.on(cc.Node.EventType.TOUCH_END,function(){t.touchNode.setPosition(cc.v2(0,0)),t.propBg.color=cc.color(255,255,255),t.isOut||(r.default.gameData.isUseProp=!r.default.gameData.isUseProp,t.selNode.getComponent(cc.Sprite).spriteFrame=r.default.gameData.isUseProp?t.arrPropSpr[1]:t.arrPropSpr[0],t.propNode.getComponent(cc.Sprite).spriteFrame=r.default.gameData.isUseProp?t.arrPropSpr[3]:t.arrPropSpr[2])},this)},e.prototype.update=function(){r.default.rootNode.hasCloseLianmu&&null!=r.default.mainUI.arrSpf[0]&&null!=r.default.mainUI.arrSpf[1]&&(r.default.UIManage.hidUINode(this.node),r.default.UIManage.showUI(l.UIEnum.GameUI),r.default.rootNode.openLianmu(),r.default.rootNode.hasCloseLianmu=!1)},e.prototype.onClick=function(t){var e=this;switch(r.default.AudioManage.playSound(s.MusicEnum.dianji1),t){case"close":r.default.UIManage.nodeHide(this.node),r.default.mainUI.selNum=0,r.default.mainUI.isSelect=!1;break;case"playBtn":r.default.isPlayAnction=!0;var o=function(){if(r.default.rootNode.hideGuide(),r.default.AudioManage.playSound(s.MusicEnum.zhuanchang1),r.default.gameData.isUseProp){if(!(r.default.gameData.coinNum>=2))return void r.default.UIManage.showUI(l.UIEnum.CoinStoreUI);r.default.gameData.coinNum-=2}r.default.gameData.powerNum--,r.default.gameData.leaveTime=(new Date).getTime(),r.default.rootNode.hideLianmu(),e.scheduleOnce(function(){r.default.isPlayAnction=!1,r.default.UIManage.hidUI(l.UIEnum.MainUI)},1)};u.default.onPlayWidthFriend(o,o)}},i([p(cc.Node)],e.prototype,"propBg",void 0),i([p(cc.Label)],e.prototype,"lbLevel",void 0),i([p(cc.Node)],e.prototype,"selNode",void 0),i([p(cc.Node)],e.prototype,"propNode",void 0),i([p(cc.Node)],e.prototype,"touchNode",void 0),i([p(cc.SpriteFrame)],e.prototype,"arrPropSpr",void 0),i([p(cc.Node)],e.prototype,"awardNode",void 0),i([h],e)}(c.BaseUI);o.default=f,cc._RF.pop()},{"../Core/App":"App","../Core/AudioManage":"AudioManage","../Core/BaseUI":"BaseUI","../Core/UIManage":"UIManage","../SDK/FacebookIG":"FacebookIG"}],SettingUI:[function(t,e,o){"use strict";cc._RF.push(e,"a95c3Uj3ApNWoSA21IMVbCm","SettingUI");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Core/App"),s=t("../Core/AudioManage"),c=t("../Core/BaseUI"),l=t("../SDK/FacebookIG"),u=cc._decorator,d=u.ccclass,h=u.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.soundON=null,e.soundOFF=null,e.musicON=null,e.musicOFF=null,e}return n(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){r.default.UIManage.nodeShow(this.node),this.soundON.active=!r.default.gameData.isSoundOn,this.soundOFF.active=!!r.default.gameData.isSoundOn,this.musicON.active=!r.default.gameData.isMusicOn,this.musicOFF.active=!!r.default.gameData.isMusicOn},e.prototype.onClick=function(t){switch(r.default.AudioManage.playSound(s.MusicEnum.dianji1),t){case"close":r.default.mainUI.setIsSHow=!1,r.default.UIManage.nodeHide(this.node);break;case"soundON":this.soundOFF.active=!0,this.soundON.active=!1,r.default.AudioManage.switchSound();break;case"soundOFF":this.soundOFF.active=!1,this.soundON.active=!0,r.default.AudioManage.switchSound();break;case"musicON":this.musicOFF.active=!0,this.musicON.active=!1,r.default.AudioManage.switchMusic();break;case"musicOFF":this.musicOFF.active=!1,this.musicON.active=!0,r.default.AudioManage.switchMusic();break;case"friendBtn":break;case"shareBtn":break}},i([h(cc.Node)],e.prototype,"soundON",void 0),i([h(cc.Node)],e.prototype,"soundOFF",void 0),i([h(cc.Node)],e.prototype,"musicON",void 0),i([h(cc.Node)],e.prototype,"musicOFF",void 0),i([d],e)}(c.BaseUI);o.default=p,cc._RF.pop()},{"../Core/App":"App","../Core/AudioManage":"AudioManage","../Core/BaseUI":"BaseUI","../SDK/FacebookIG":"FacebookIG"}],TipUI:[function(t,e,o){"use strict";cc._RF.push(e,"67cbd9S1ZJCe4MmY7ZjhZ2w","TipUI");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Core/App"),s=t("../Core/BaseUI"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.element=null,e.unLockLayer=null,e.arrLockSpf=[],e}return n(e,t),e.prototype.onEnable=function(){this.arrLockSpf=[],this.unLockLayer.removeAllChildren(),r.default.UIManage.nodeShow(this.node);for(var t=0;t<r.default.mainUI.arrAwardSpf.length;t++)r.default.gameData.arrIsLock[t]&&this.arrLockSpf.push(r.default.mainUI.arrAwardSpf[t]);for(t=0;t<this.arrLockSpf.length;t++){var e=cc.instantiate(this.element);e.getComponent(cc.Sprite).spriteFrame=this.arrLockSpf[t],this.unLockLayer.addChild(e),e.setPosition(-100*(this.arrLockSpf.length-1)/2+100*t,0)}},e.prototype.start=function(){},e.prototype.onClick=function(t){switch(t){case"okBtn":r.default.UIManage.nodeHide(this.node)}},i([u(cc.Prefab)],e.prototype,"element",void 0),i([u(cc.Node)],e.prototype,"unLockLayer",void 0),i([l],e)}(s.BaseUI);o.default=d,cc._RF.pop()},{"../Core/App":"App","../Core/BaseUI":"BaseUI"}],UIManage:[function(t,e,o){"use strict";cc._RF.push(e,"38afcXebbFBb6ZqUeLLVfLa","UIManage"),Object.defineProperty(o,"__esModule",{value:!0}),o.UIEnum=void 0;var a=t("./BaseUI");(function(t){t.MainUI="MainUI",t.GameUI="GameUI",t.SettingUI="SettingUI",t.VictoryUI="VictoryUI",t.WarnUI="WarnUI",t.CoinStoreUI="CoinStoreUI",t.LevelUpUI="LevelUpUI",t.SelLevelUI="SelLevelUI",t.QuitUI="QuitUI",t.GetPowerUI="GetPowerUI",t.TipUI="TipUI"})(o.UIEnum||(o.UIEnum={}));var n=function(){function t(t){this.uiContent=null,this.effectContent=null,this.mapUI={},this.quanPingYRat=1,this.quanPingXRat=1,this.uiContent=t,this.shiPei()}return t.prototype.shiPei=function(){var t=this.uiContent.getContentSize(),e=cc.view.getFrameSize(),o=t.width,a=t.height;t.width/t.height>e.width/e.height?(this.quanPingYRat=o/a*e.height/e.width,o=t.width,a=e.height/e.width*o):(this.quanPingXRat=a/o*e.width/e.height,o=(a=t.height)*e.width/e.height),cc.view.setDesignResolutionSize(o,a,cc.view.getResolutionPolicy())},t.prototype.setQuanPing=function(t){var e,o=cc.view.getDesignResolutionSize(),a=t.width,n=t.height;e=a/n>o.width/o.height?a/n*o.height/o.width:n/a*o.width/o.height,t.width=a*e,t.height=n*e},t.prototype.showUI=function(t,e,o){var n=this;this.getUIPrefab(t).then(function(t){t.getComponent(a.BaseUI).args=o,t.active=!0,t.setSiblingIndex(n.uiContent.children.length-1),e&&e()})},t.prototype.hidUI=function(t){this.mapUI[t]&&(this.mapUI[t].active=!1)},t.prototype.hidUINode=function(t){t.active=!1},t.prototype.getUIPrefab=function(t){var e=this;return new Promise(function(o){e.mapUI[t]?o(e.mapUI[t]):cc.loader.loadRes("UIPrefab/"+t,cc.Prefab,function(n,i){if(n)console.log(n);else{var r=cc.instantiate(i);r.active=!1,e.mapUI[t]=r,r.setParent(e.uiContent),r.getComponent(a.BaseUI).onCreat(),o(r)}})})},t.prototype.nodeShow=function(t){t.getChildByName("window").scale=0,cc.tween(t.getChildByName("window")).to(.2,{scale:1}).start(),t.getChildByName("mask").opacity=0,cc.tween(t.getChildByName("mask")).to(.2,{opacity:200}).start()},t.prototype.nodeHide=function(t){var e=this;t.getChildByName("window").scale=1,cc.tween(t.getChildByName("window")).to(.2,{scale:0}).call(function(){e.hidUINode(t)}).start(),t.getChildByName("mask").opacity=200,cc.tween(t.getChildByName("mask")).to(.2,{opacity:0}).start()},t}();o.default=n,cc._RF.pop()},{"./BaseUI":"BaseUI"}],VictoryUI:[function(t,e,o){"use strict";cc._RF.push(e,"ec8b6lXykBKFLKTj7g+FIYJ","VictoryUI");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Core/App"),s=t("../Core/AudioManage"),c=t("../Core/BaseUI"),l=t("../Core/UIManage"),u=t("../SDK/FacebookIG"),d=cc._decorator,h=d.ccclass,p=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.arrCard=[],e.leaveNode=null,e.tip=null,e.yanhua=null,e.arrCardSpf=[],e.canTurn=!1,e.arrIndex=[],e}return n(e,t),e.prototype.onLoad=function(){this.node.getChildByName("window").getChildByName("upNode").zIndex=-1},e.prototype.onEnable=function(){var t=this;miniplay.isReady()&&miniplay.showNext();r.default.AudioManage.pauseMuisc(),r.default.UIManage.nodeShow(this.node),this.tip.active=!1,this.scheduleOnce(function(){var e=cc.instantiate(t.yanhua);t.node.getChildByName("window").addChild(e),e.setPosition(cc.v2(0,200)),e.zIndex=-1,r.default.AudioManage.playSound(s.MusicEnum.yanhua1)},1),this.setIndex();for(var e=0;e<3;e++)this.arrCardSpf[e]=r.default.mainUI.arrAwardSpf[r.default.mainUI.arrAward[e]],this.arrCard[e].getChildByName("fan").active=!0,this.arrCard[e].getChildByName("fan").getChildByName("pic").getComponent(cc.Sprite).spriteFrame=this.arrCardSpf[e],this.arrCard[e].getChildByName("payBtn").active=!1,this.arrCard[e].getChildByName("lbTip").active=!1,this.arrCard[e].getChildByName("had").active=!1;if(r.default.gameData.exp+=10,r.default.mainUI.getCoin+=2,r.default.gameData.arrIsLock[r.default.mainUI.arrAward[0]]||r.default.gameData.arrIsLock[r.default.mainUI.arrAward[1]]||r.default.gameData.arrIsLock[r.default.mainUI.arrAward[2]]){this.leaveNode.active=!1;var o=function(e){a.arrCard[e].scale=0,a.scheduleOnce(function(){var o=t.arrCard[e].getPosition();cc.tween(t.arrCard[e]).to(.5,{scale:1}).delay(1).call(function(){t.turnCard(t.arrCard[e])}).delay(.5).to(.5,{position:cc.v3(t.arrCard[1].getPosition())}).delay(.5).to(.5,{position:cc.v3(o)}).call(function(){t.canTurn=!0,t.tip.active=!0}).start()},.5)},a=this;for(e=0;e<=2;e++)o(e)}else for(e=0;e<3;e++)this.arrCard[e].getChildByName("had").active=!0},e.prototype.onDisable=function(){},e.prototype.start=function(){},e.prototype.turnCard=function(t,e,o,a){var n=this;cc.tween(t).to(.2,{scaleX:0}).call(function(){e?(t.getChildByName("fan").active=!0,t.getChildByName("fan").getChildByName("pic").getComponent(cc.Sprite).spriteFrame=e):t.getChildByName("fan").active=!1}).to(.2,{scaleX:1}).call(function(){if(e){if(1==o){if(t.getChildByName("lbTip").active=!0,a){for(var i=0;i<3;i++)r.default.gameData.arrIsLock[r.default.mainUI.arrAward[n.arrIndex[i]]]&&(n.arrCard[i].getChildByName("payBtn").active=!0);return}for(i=0;i<3;i++)t!=n.arrCard[i]&&(n.arrCard[i].getChildByName("payBtn").active=!0)}if(0==o)for(i=0;i<3;i++)n.arrCard[i].getChildByName("payBtn").active=!1}}).start()},e.prototype.setIndex=function(){this.arrIndex=[];for(var t=Math.floor(3*Math.random()),e=Math.floor(3*Math.random()),o=Math.floor(3*Math.random());t==e||t==o||e==o;)e=Math.floor(3*Math.random()),o=Math.floor(3*Math.random());this.arrIndex=[t,e,o]},e.prototype.onClick=function(t,e){var o=this;switch(t){case"ADBtn":r.default.AudioManage.playSound(s.MusicEnum.dianji1),r.default.gameData.isFirst=!1,u.default.showVideoAd(u.adIDFB.videoId1,function(t){t&&(r.default.mainUI.getCoin+=2,r.default.gameData.coinNum+=r.default.mainUI.getCoin,r.default.mainUI.getCoin=0),r.default.rootNode.playLianmu(),r.default.mainUI.mask.active=!0,r.default.AudioManage.playSound(s.MusicEnum.zhuanchang1),o.scheduleOnce(function(){r.default.UIManage.hidUINode(o.node),r.default.UIManage.hidUI(l.UIEnum.GameUI),r.default.UIManage.showUI(l.UIEnum.MainUI)},1)});break;case"nextBtn":u.default.showInsertAd(u.adIDFB.insertID2),r.default.gameData.isFirst=!1,r.default.gameData.coinNum+=r.default.mainUI.getCoin,r.default.mainUI.getCoin=0,r.default.AudioManage.playSound(s.MusicEnum.dianji1),r.default.rootNode.playLianmu(),r.default.mainUI.mask.active=!0,r.default.AudioManage.playSound(s.MusicEnum.zhuanchang1),this.scheduleOnce(function(){r.default.UIManage.hidUINode(o.node),r.default.UIManage.hidUI(l.UIEnum.GameUI),r.default.UIManage.showUI(l.UIEnum.MainUI)},1);break;case"payBtn":if(r.default.AudioManage.playSound(s.MusicEnum.fanpai1),!(r.default.gameData.coinNum>=6))return r.default.AudioManage.playSound(s.MusicEnum.fanpai1),void r.default.UIManage.showUI(l.UIEnum.CoinStoreUI);r.default.gameData.coinNum-=6;var a=e.parent.name.charAt(4),n=!r.default.gameData.arrIsLock[r.default.mainUI.arrAward[this.arrIndex[a]]];r.default.gameData.arrIsLock[r.default.mainUI.arrAward[this.arrIndex[a]]]&&(r.default.mainUI.newUnlock=r.default.mainUI.arrAward[this.arrIndex[a]]);for(var i=0;i<3;i++)this.arrCard[i].getChildByName("payBtn").active=!1;this.turnCard(e.parent,this.arrCardSpf[this.arrIndex[a]],n,!0)}for(a=0;a<3;a++){if(!r.default.gameData.arrIsLock[r.default.mainUI.arrAward[0]]&&!r.default.gameData.arrIsLock[r.default.mainUI.arrAward[1]]&&!r.default.gameData.arrIsLock[r.default.mainUI.arrAward[2]])return;t=="card"+a&&this.canTurn&&(this.tip.active=!1,r.default.AudioManage.playSound(s.MusicEnum.fanpai1),this.canTurn=!1,this.leaveNode.active=!0,n=!r.default.gameData.arrIsLock[r.default.mainUI.arrAward[this.arrIndex[a]]],r.default.gameData.arrIsLock[r.default.mainUI.arrAward[this.arrIndex[a]]]&&(r.default.mainUI.newUnlock=r.default.mainUI.arrAward[this.arrIndex[a]]),this.turnCard(this.arrCard[a],this.arrCardSpf[this.arrIndex[a]],n))}},i([p(cc.Node)],e.prototype,"arrCard",void 0),i([p(cc.Node)],e.prototype,"leaveNode",void 0),i([p(cc.Node)],e.prototype,"tip",void 0),i([p(cc.Prefab)],e.prototype,"yanhua",void 0),i([h],e)}(c.BaseUI);o.default=f,cc._RF.pop()},{"../Core/App":"App","../Core/AudioManage":"AudioManage","../Core/BaseUI":"BaseUI","../Core/UIManage":"UIManage","../SDK/FacebookIG":"FacebookIG"}],WarnUI:[function(t,e,o){"use strict";cc._RF.push(e,"4ccbdDM1fNDcI5T3W5PDxXW","WarnUI");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../Core/App"),s=t("../Core/AudioManage"),c=t("../Core/BaseUI"),l=t("../Core/UIManage"),u=t("../SDK/FacebookIG"),d=cc._decorator,h=d.ccclass,p=(d.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){miniplay.isReady()&&miniplay.showNext();r.default.AudioManage.playSound(s.MusicEnum.lose),r.default.gameUI.time=0,r.default.gameUI.countTime=!1,r.default.UIManage.nodeShow(this.node)},e.prototype.update=function(){},e.prototype.onClick=function(t){var e=this;switch(r.default.AudioManage.playSound(s.MusicEnum.dianji1),t){case"endBtn":u.default.showInsertAd(u.adIDFB.insertID2),r.default.rootNode.playLianmu(),r.default.AudioManage.playSound(s.MusicEnum.zhuanchang1),this.scheduleOnce(function(){r.default.UIManage.showUI(l.UIEnum.MainUI),r.default.UIManage.hidUINode(e.node),r.default.UIManage.hidUI(l.UIEnum.GameUI)},1.5);break;case"payBtn":r.default.gameData.coinNum<10?r.default.UIManage.showUI(l.UIEnum.CoinStoreUI):(r.default.gameData.coinNum-=10,r.default.gameUI.progressBar.progress=1,r.default.gameUI.errorNum=8,r.default.UIManage.nodeHide(this.node),r.default.gameUI.countTime=!0)}},i([h],e)}(c.BaseUI));o.default=p,cc._RF.pop()},{"../Core/App":"App","../Core/AudioManage":"AudioManage","../Core/BaseUI":"BaseUI","../Core/UIManage":"UIManage","../SDK/FacebookIG":"FacebookIG"}],loadManage:[function(t,e,o){"use strict";cc._RF.push(e,"766c8iAeC5Hsqr135n96tuU","loadManage");var a=this&&this.__awaiter||function(t,e,o,a){return new(o||(o=Promise))(function(n,i){function r(t){try{c(a.next(t))}catch(e){i(e)}}function s(t){try{c(a.throw(t))}catch(e){i(e)}}function c(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o(function(t){t(e)})).then(r,s)}c((a=a.apply(t,e||[])).next())})},n=this&&this.__generator||function(t,e){var o,a,n,i,r={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(t){return function(e){return c([t,e])}}function c(i){if(o)throw new TypeError("Generator is already executing.");for(;r;)try{if(o=1,a&&(n=2&i[0]?a.return:i[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,i[1])).done)return n;switch(a=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return r.label++,{value:i[1],done:!1};case 5:r.label++,a=i[1],i=[0];continue;case 7:i=r.ops.pop(),r.trys.pop();continue;default:if(!(n=(n=r.trys).length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){r=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){r.label=i[1];break}if(6===i[0]&&r.label<n[1]){r.label=n[1],n=i;break}if(n&&r.label<n[2]){r.label=n[2],r.ops.push(i);break}n[2]&&r.ops.pop(),r.trys.pop();continue}i=e.call(t,r)}catch(s){i=[6,s],a=0}finally{o=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}};Object.defineProperty(o,"__esModule",{value:!0});var i=function(){function t(){}return t.loadRes=function(t,e,o){cc.resources.load(t,e,function(t,e){t?cc.error(t):o(e)})},t.setImgByUrl=function(t,e,o){cc.resources.load(e,cc.SpriteFrame,function(e,a){e?cc.error(e):(t.spriteFrame=a,o&&o())})},t.loadPrefab=function(t,e){cc.resources.load(t,cc.Prefab,function(t,o){t?cc.error(t):e(o)})},t.loadPrefabStic=function(t){return a(this,void 0,Promise,function(){return n(this,function(){return[2,new Promise(function(e){cc.resources.load(t,cc.Prefab,function(t,o){t?cc.error(t):e(o)})})]})})},t}();o.default=i,cc._RF.pop()},{}],true:[function(t,e,o){"use strict";cc._RF.push(e,"a370aY3CRpBSrhcnI/KIEku","true");var a,n=this&&this.__extends||(a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),i=this&&this.__decorate||function(t,e,o,a){var n,i=arguments.length,r=i<3?e:null===a?a=Object.getOwnPropertyDescriptor(e,o):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,o,a);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(r=(i<3?n(r):i>3?n(e,o,r):n(e,o))||r);return i>3&&r&&Object.defineProperty(e,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.progressBar=null,e}return n(e,t),e.prototype.start=function(){for(var t=this,e=0,o=0;o<50;o++)this.scheduleOnce(function(){t.progressBar.progress+=.02},e),e+=.01},e.prototype.update=function(){"tip"==this.node.name&&(this.node.angle-=2)},i([c(cc.ProgressBar)],e.prototype,"progressBar",void 0),i([s],e)}(cc.Component);o.default=l,cc._RF.pop()},{}]},{},["App","AudioManage","BaseAnction","BaseUI","EffectManage","GameManage","LocalManage","RootNode","UIManage","MyCCCJson","true","FacebookIG","AddCoin","Guide","LoopScrollView","MesgUI","PoolManage","loadManage","CoinStoreUI","GameUI","GetPowerUI","LevelUpUI","Loading","MainUI","QuitUI","SelLevelUI","SettingUI","TipUI","VictoryUI","WarnUI"]);