/*! For license information please see index.js.LICENSE.txt */
!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=679)}([function(t,e,n){"use strict";n.r(e),n.d(e,"utils",(function(){return h})),n.d(e,"AccessibilityManager",(function(){return x})),n.d(e,"accessibleTarget",(function(){return w})),n.d(e,"InteractionData",(function(){return M})),n.d(e,"InteractionEvent",(function(){return A})),n.d(e,"InteractionManager",(function(){return R})),n.d(e,"InteractionTrackingData",(function(){return k})),n.d(e,"interactiveTarget",(function(){return O})),n.d(e,"Application",(function(){return D})),n.d(e,"AbstractBatchRenderer",(function(){return P.a})),n.d(e,"AbstractMultiResource",(function(){return P.b})),n.d(e,"AbstractRenderer",(function(){return P.c})),n.d(e,"ArrayResource",(function(){return P.d})),n.d(e,"Attribute",(function(){return P.e})),n.d(e,"BaseImageResource",(function(){return P.f})),n.d(e,"BaseRenderTexture",(function(){return P.g})),n.d(e,"BaseTexture",(function(){return P.h})),n.d(e,"BatchDrawCall",(function(){return P.i})),n.d(e,"BatchGeometry",(function(){return P.j})),n.d(e,"BatchPluginFactory",(function(){return P.k})),n.d(e,"BatchRenderer",(function(){return P.l})),n.d(e,"BatchShaderGenerator",(function(){return P.m})),n.d(e,"BatchSystem",(function(){return P.n})),n.d(e,"BatchTextureArray",(function(){return P.o})),n.d(e,"Buffer",(function(){return P.p})),n.d(e,"BufferResource",(function(){return P.q})),n.d(e,"CanvasResource",(function(){return P.r})),n.d(e,"ContextSystem",(function(){return P.s})),n.d(e,"CubeResource",(function(){return P.t})),n.d(e,"Filter",(function(){return P.u})),n.d(e,"FilterState",(function(){return P.v})),n.d(e,"FilterSystem",(function(){return P.w})),n.d(e,"Framebuffer",(function(){return P.x})),n.d(e,"FramebufferSystem",(function(){return P.y})),n.d(e,"GLFramebuffer",(function(){return P.z})),n.d(e,"GLProgram",(function(){return P.A})),n.d(e,"GLTexture",(function(){return P.B})),n.d(e,"Geometry",(function(){return P.C})),n.d(e,"GeometrySystem",(function(){return P.D})),n.d(e,"IGLUniformData",(function(){return P.E})),n.d(e,"INSTALLED",(function(){return P.F})),n.d(e,"ImageBitmapResource",(function(){return P.G})),n.d(e,"ImageResource",(function(){return P.H})),n.d(e,"MaskData",(function(){return P.I})),n.d(e,"MaskSystem",(function(){return P.J})),n.d(e,"ObjectRenderer",(function(){return P.K})),n.d(e,"Program",(function(){return P.L})),n.d(e,"ProjectionSystem",(function(){return P.M})),n.d(e,"Quad",(function(){return P.N})),n.d(e,"QuadUv",(function(){return P.O})),n.d(e,"RenderTexture",(function(){return P.P})),n.d(e,"RenderTexturePool",(function(){return P.Q})),n.d(e,"RenderTextureSystem",(function(){return P.R})),n.d(e,"Renderer",(function(){return P.S})),n.d(e,"Resource",(function(){return P.T})),n.d(e,"SVGResource",(function(){return P.U})),n.d(e,"ScissorSystem",(function(){return P.V})),n.d(e,"Shader",(function(){return P.W})),n.d(e,"ShaderSystem",(function(){return P.X})),n.d(e,"SpriteMaskFilter",(function(){return P.Y})),n.d(e,"State",(function(){return P.Z})),n.d(e,"StateSystem",(function(){return P.ab})),n.d(e,"StencilSystem",(function(){return P.bb})),n.d(e,"System",(function(){return P.cb})),n.d(e,"Texture",(function(){return P.db})),n.d(e,"TextureGCSystem",(function(){return P.eb})),n.d(e,"TextureMatrix",(function(){return P.fb})),n.d(e,"TextureSystem",(function(){return P.gb})),n.d(e,"TextureUvs",(function(){return P.hb})),n.d(e,"UniformGroup",(function(){return P.ib})),n.d(e,"VideoResource",(function(){return P.jb})),n.d(e,"ViewableBuffer",(function(){return P.kb})),n.d(e,"autoDetectRenderer",(function(){return P.lb})),n.d(e,"autoDetectResource",(function(){return P.mb})),n.d(e,"checkMaxIfStatementsInShader",(function(){return P.nb})),n.d(e,"defaultFilterVertex",(function(){return P.ob})),n.d(e,"defaultVertex",(function(){return P.pb})),n.d(e,"resources",(function(){return P.qb})),n.d(e,"systems",(function(){return P.rb})),n.d(e,"uniformParsers",(function(){return P.sb})),n.d(e,"Extract",(function(){return N})),n.d(e,"AppLoaderPlugin",(function(){return j.a})),n.d(e,"Loader",(function(){return j.b})),n.d(e,"LoaderResource",(function(){return j.c})),n.d(e,"TextureLoader",(function(){return j.d})),n.d(e,"BlobResource",(function(){return F.a})),n.d(e,"CompressedTextureLoader",(function(){return F.b})),n.d(e,"CompressedTextureResource",(function(){return F.c})),n.d(e,"DDSLoader",(function(){return F.d})),n.d(e,"FORMATS_TO_COMPONENTS",(function(){return F.e})),n.d(e,"INTERNAL_FORMATS",(function(){return F.f})),n.d(e,"INTERNAL_FORMAT_TO_BYTES_PER_PIXEL",(function(){return F.g})),n.d(e,"KTXLoader",(function(){return F.h})),n.d(e,"TYPES_TO_BYTES_PER_COMPONENT",(function(){return F.i})),n.d(e,"TYPES_TO_BYTES_PER_PIXEL",(function(){return F.j})),n.d(e,"ParticleContainer",(function(){return V})),n.d(e,"ParticleRenderer",(function(){return X})),n.d(e,"BasePrepare",(function(){return qt})),n.d(e,"CountLimiter",(function(){return Yt})),n.d(e,"Prepare",(function(){return $t})),n.d(e,"TimeLimiter",(function(){return te})),n.d(e,"Spritesheet",(function(){return ee})),n.d(e,"SpritesheetLoader",(function(){return ne})),n.d(e,"TilingSprite",(function(){return oe})),n.d(e,"TilingSpriteRenderer",(function(){return ce})),n.d(e,"BitmapFont",(function(){return Ae})),n.d(e,"BitmapFontData",(function(){return be})),n.d(e,"BitmapFontLoader",(function(){return Le})),n.d(e,"BitmapText",(function(){return Oe})),n.d(e,"Ticker",(function(){return S.a})),n.d(e,"TickerPlugin",(function(){return S.b})),n.d(e,"UPDATE_PRIORITY",(function(){return S.c})),n.d(e,"ALPHA_MODES",(function(){return U.a})),n.d(e,"BLEND_MODES",(function(){return U.b})),n.d(e,"BUFFER_BITS",(function(){return U.c})),n.d(e,"CLEAR_MODES",(function(){return U.d})),n.d(e,"DRAW_MODES",(function(){return U.e})),n.d(e,"ENV",(function(){return U.f})),n.d(e,"FORMATS",(function(){return U.g})),n.d(e,"GC_MODES",(function(){return U.h})),n.d(e,"MASK_TYPES",(function(){return U.i})),n.d(e,"MIPMAP_MODES",(function(){return U.j})),n.d(e,"MSAA_QUALITY",(function(){return U.k})),n.d(e,"PRECISION",(function(){return U.l})),n.d(e,"RENDERER_TYPE",(function(){return U.m})),n.d(e,"SCALE_MODES",(function(){return U.n})),n.d(e,"TARGETS",(function(){return U.o})),n.d(e,"TYPES",(function(){return U.p})),n.d(e,"WRAP_MODES",(function(){return U.q})),n.d(e,"Bounds",(function(){return f})),n.d(e,"Container",(function(){return _})),n.d(e,"DisplayObject",(function(){return y})),n.d(e,"TemporaryDisplayObject",(function(){return v})),n.d(e,"FillStyle",(function(){return q})),n.d(e,"GRAPHICS_CURVES",(function(){return K})),n.d(e,"Graphics",(function(){return xt})),n.d(e,"GraphicsData",(function(){return mt})),n.d(e,"GraphicsGeometry",(function(){return vt})),n.d(e,"LINE_CAP",(function(){return z})),n.d(e,"LINE_JOIN",(function(){return H})),n.d(e,"LineStyle",(function(){return bt})),n.d(e,"graphicsUtils",(function(){return St})),n.d(e,"Circle",(function(){return p.a})),n.d(e,"DEG_TO_RAD",(function(){return p.b})),n.d(e,"Ellipse",(function(){return p.c})),n.d(e,"Matrix",(function(){return p.d})),n.d(e,"ObservablePoint",(function(){return p.e})),n.d(e,"PI_2",(function(){return p.f})),n.d(e,"Point",(function(){return p.g})),n.d(e,"Polygon",(function(){return p.h})),n.d(e,"RAD_TO_DEG",(function(){return p.i})),n.d(e,"Rectangle",(function(){return p.j})),n.d(e,"RoundedRectangle",(function(){return p.k})),n.d(e,"SHAPES",(function(){return p.l})),n.d(e,"Transform",(function(){return p.m})),n.d(e,"groupD8",(function(){return p.n})),n.d(e,"Mesh",(function(){return me})),n.d(e,"MeshBatchUvs",(function(){return de})),n.d(e,"MeshGeometry",(function(){return ye})),n.d(e,"MeshMaterial",(function(){return ge})),n.d(e,"NineSlicePlane",(function(){return wn})),n.d(e,"PlaneGeometry",(function(){return gn})),n.d(e,"RopeGeometry",(function(){return yn})),n.d(e,"SimpleMesh",(function(){return _n})),n.d(e,"SimplePlane",(function(){return bn})),n.d(e,"SimpleRope",(function(){return vn})),n.d(e,"Runner",(function(){return xn.a})),n.d(e,"Sprite",(function(){return kt})),n.d(e,"AnimatedSprite",(function(){return Tn})),n.d(e,"TEXT_GRADIENT",(function(){return Mt})),n.d(e,"Text",(function(){return Ft})),n.d(e,"TextMetrics",(function(){return Bt})),n.d(e,"TextStyle",(function(){return Rt})),n.d(e,"isMobile",(function(){return d.a})),n.d(e,"settings",(function(){return d.b})),n.d(e,"VERSION",(function(){return Mn})),n.d(e,"filters",(function(){return En}));var r=n(511),i=n(514),a=n.n(i);self.Promise||(self.Promise=r.a),Object.assign||(Object.assign=a.a);if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!self.performance||!self.performance.now){var o=Date.now();self.performance||(self.performance={}),self.performance.now=function(){return Date.now()-o}}for(var s=Date.now(),u=["ms","moz","webkit","o"],c=0;c<u.length&&!self.requestAnimationFrame;++c){var l=u[c];self.requestAnimationFrame=self[l+"RequestAnimationFrame"],self.cancelAnimationFrame=self[l+"CancelAnimationFrame"]||self[l+"CancelRequestAnimationFrame"]}self.requestAnimationFrame||(self.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var e=Date.now(),n=16+s-e;return n<0&&(n=0),s=e,self.setTimeout((function(){s=Date.now(),t(performance.now())}),n)}),self.cancelAnimationFrame||(self.cancelAnimationFrame=function(t){return clearTimeout(t)}),Math.sign||(Math.sign=function(t){return 0===(t=Number(t))||isNaN(t)?t:t>0?1:-1}),Number.isInteger||(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),self.ArrayBuffer||(self.ArrayBuffer=Array),self.Float32Array||(self.Float32Array=Array),self.Uint32Array||(self.Uint32Array=Array),self.Uint16Array||(self.Uint16Array=Array),self.Uint8Array||(self.Uint8Array=Array),self.Int32Array||(self.Int32Array=Array);var h=n(18),d=n(32),p=n(16);d.b.SORTABLE_CHILDREN=!1;var f=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?p.j.EMPTY:((t=t||new p.j(0,0,1,1)).x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addPointMatrix=function(t,e){var n=t.a,r=t.b,i=t.c,a=t.d,o=t.tx,s=t.ty,u=n*e.x+i*e.y+o,c=r*e.x+a*e.y+s;this.minX=Math.min(this.minX,u),this.maxX=Math.max(this.maxX,u),this.minY=Math.min(this.minY,c),this.maxY=Math.max(this.maxY,c)},t.prototype.addQuad=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY,a=t[0],o=t[1];e=a<e?a:e,n=o<n?o:n,r=a>r?a:r,i=o>i?o:i,e=(a=t[2])<e?a:e,n=(o=t[3])<n?o:n,r=a>r?a:r,i=o>i?o:i,e=(a=t[4])<e?a:e,n=(o=t[5])<n?o:n,r=a>r?a:r,i=o>i?o:i,e=(a=t[6])<e?a:e,n=(o=t[7])<n?o:n,r=a>r?a:r,i=o>i?o:i,this.minX=e,this.minY=n,this.maxX=r,this.maxY=i},t.prototype.addFrame=function(t,e,n,r,i){this.addFrameMatrix(t.worldTransform,e,n,r,i)},t.prototype.addFrameMatrix=function(t,e,n,r,i){var a=t.a,o=t.b,s=t.c,u=t.d,c=t.tx,l=t.ty,h=this.minX,d=this.minY,p=this.maxX,f=this.maxY,m=a*e+s*n+c,g=o*e+u*n+l;h=m<h?m:h,d=g<d?g:d,p=m>p?m:p,f=g>f?g:f,h=(m=a*r+s*n+c)<h?m:h,d=(g=o*r+u*n+l)<d?g:d,p=m>p?m:p,f=g>f?g:f,h=(m=a*e+s*i+c)<h?m:h,d=(g=o*e+u*i+l)<d?g:d,p=m>p?m:p,f=g>f?g:f,h=(m=a*r+s*i+c)<h?m:h,d=(g=o*r+u*i+l)<d?g:d,p=m>p?m:p,f=g>f?g:f,this.minX=h,this.minY=d,this.maxX=p,this.maxY=f},t.prototype.addVertexData=function(t,e,n){for(var r=this.minX,i=this.minY,a=this.maxX,o=this.maxY,s=e;s<n;s+=2){var u=t[s],c=t[s+1];r=u<r?u:r,i=c<i?c:i,a=u>a?u:a,o=c>o?c:o}this.minX=r,this.minY=i,this.maxX=a,this.maxY=o},t.prototype.addVertices=function(t,e,n,r){this.addVerticesMatrix(t.worldTransform,e,n,r)},t.prototype.addVerticesMatrix=function(t,e,n,r,i,a){void 0===i&&(i=0),void 0===a&&(a=i);for(var o=t.a,s=t.b,u=t.c,c=t.d,l=t.tx,h=t.ty,d=this.minX,p=this.minY,f=this.maxX,m=this.maxY,g=n;g<r;g+=2){var y=e[g],v=e[g+1],b=o*y+u*v+l,_=c*v+s*y+h;d=Math.min(d,b-i),f=Math.max(f,b+i),p=Math.min(p,_-a),m=Math.max(m,_+a)}this.minX=d,this.minY=p,this.maxX=f,this.maxY=m},t.prototype.addBounds=function(t){var e=this.minX,n=this.minY,r=this.maxX,i=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>r?t.maxX:r,this.maxY=t.maxY>i?t.maxY:i},t.prototype.addBoundsMask=function(t,e){var n=t.minX>e.minX?t.minX:e.minX,r=t.minY>e.minY?t.minY:e.minY,i=t.maxX<e.maxX?t.maxX:e.maxX,a=t.maxY<e.maxY?t.maxY:e.maxY;if(n<=i&&r<=a){var o=this.minX,s=this.minY,u=this.maxX,c=this.maxY;this.minX=n<o?n:o,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=a>c?a:c}},t.prototype.addBoundsMatrix=function(t,e){this.addFrameMatrix(e,t.minX,t.minY,t.maxX,t.maxY)},t.prototype.addBoundsArea=function(t,e){var n=t.minX>e.x?t.minX:e.x,r=t.minY>e.y?t.minY:e.y,i=t.maxX<e.x+e.width?t.maxX:e.x+e.width,a=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(n<=i&&r<=a){var o=this.minX,s=this.minY,u=this.maxX,c=this.maxY;this.minX=n<o?n:o,this.minY=r<s?r:s,this.maxX=i>u?i:u,this.maxY=a>c?a:c}},t.prototype.pad=function(t,e){void 0===t&&(t=0),void 0===e&&(e=t),this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=e,this.maxY+=e)},t.prototype.addFramePad=function(t,e,n,r,i,a){t-=i,e-=a,n+=i,r+=a,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<e?this.minY:e,this.maxY=this.maxY>r?this.maxY:r},t}(),m=function(t,e){return(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function g(t,e){function n(){this.constructor=t}m(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var y=function(t){function e(){var e=t.call(this)||this;return e.tempDisplayObjectParent=null,e.transform=new p.m,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e._lastSortedIndex=0,e._zIndex=0,e.filterArea=null,e.filters=null,e._enabledFilters=null,e._bounds=new f,e._localBounds=null,e._boundsID=0,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e.isSprite=!1,e.isMask=!1,e}return g(e,t),e.mixin=function(t){for(var n=Object.keys(t),r=0;r<n.length;++r){var i=n[r];Object.defineProperty(e.prototype,i,Object.getOwnPropertyDescriptor(t,i))}},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),e||(this._boundsRect||(this._boundsRect=new p.j),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){t||(this._localBoundsRect||(this._localBoundsRect=new p.j),t=this._localBoundsRect),this._localBounds||(this._localBounds=new f);var e=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var r=this._bounds,i=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,t);return this.parent=n,this.transform=e,this._bounds=r,this._bounds.updateID+=this._boundsID-i,a},e.prototype.toGlobal=function(t,e,n){return void 0===n&&(n=!1),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,n,r){return e&&(t=e.toGlobal(t,n,r)),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(t,e,n,r,i,a,o,s,u){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=1),void 0===r&&(r=1),void 0===i&&(i=0),void 0===a&&(a=0),void 0===o&&(o=0),void 0===s&&(s=0),void 0===u&&(u=0),this.position.x=t,this.position.y=e,this.scale.x=n||1,this.scale.y=r||1,this.rotation=i,this.skew.x=a,this.skew.y=o,this.pivot.x=s,this.pivot.y=u,this},e.prototype.destroy=function(t){this.parent&&this.parent.removeChild(this),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this._mask=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new v),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var t=this.parent;return this.parent=this._tempDisplayObjectParent,t},e.prototype.disableTempParent=function(t){this.parent=t},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(t){this.transform.position.x=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(t){this.transform.position.y=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(t){this.transform.position.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(t){this.transform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(t){this.transform.skew.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*p.i},set:function(t){this.transform.rotation=t*p.b},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(t){var e;this._mask&&((e=this._mask.maskObject||this._mask).renderable=!0,e.isMask=!1);(this._mask=t,this._mask)&&((e=this._mask.maskObject||this._mask).renderable=!1,e.isMask=!0)},enumerable:!1,configurable:!0}),e}(h.EventEmitter),v=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sortDirty=null,e}return g(e,t),e}(y);function b(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}y.prototype.displayObjectUpdateTransform=y.prototype.updateTransform;var _=function(t){function e(){var e=t.call(this)||this;return e.children=[],e.sortableChildren=d.b.SORTABLE_CHILDREN,e.sortDirty=!1,e}return g(e,t),e.prototype.onChildrenChange=function(t){},e.prototype.addChild=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];if(e.length>1)for(var r=0;r<e.length;r++)this.addChild(e[r]);else{var i=e[0];i.parent&&i.parent.removeChild(i),i.parent=this,this.sortDirty=!0,i.transform._parentID=-1,this.children.push(i),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",i,this,this.children.length-1),i.emit("added",this)}return e[0]},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t},e.prototype.swapChildren=function(t,e){if(t!==e){var n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t,this.onChildrenChange(n<r?n:r)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(-1===e)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The index "+e+" supplied is out of bounds "+this.children.length);var n=this.getChildIndex(t);Object(h.removeItems)(this.children,n,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];if(e.length>1)for(var r=0;r<e.length;r++)this.removeChild(e[r]);else{var i=e[0],a=this.children.indexOf(i);if(-1===a)return null;i.parent=null,i.transform._parentID=-1,Object(h.removeItems)(this.children,a,1),this._boundsID++,this.onChildrenChange(a),i.emit("removed",this),this.emit("childRemoved",i,this,a)}return e[0]},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Object(h.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e},e.prototype.removeChildren=function(t,e){void 0===t&&(t=0),void 0===e&&(e=this.children.length);var n,r=t,i=e-r;if(i>0&&i<=e){n=this.children.splice(r,i);for(var a=0;a<n.length;++a)n[a].parent=null,n[a].transform&&(n[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(a=0;a<n.length;++a)n[a].emit("removed",this),this.emit("childRemoved",n[a],this,a);return n}if(0===i&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var t=!1,e=0,n=this.children.length;e<n;++e){var r=this.children[e];r._lastSortedIndex=e,t||0===r.zIndex||(t=!0)}t&&this.children.length>1&&this.children.sort(b),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var n=this.children[t];n.visible&&n.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];if(e.visible&&e.renderable)if(e.calculateBounds(),e._mask){var n=e._mask.maskObject||e._mask;n.calculateBounds(),this._bounds.addBoundsMask(e._bounds,n._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(e,n){void 0===n&&(n=!1);var r=t.prototype.getLocalBounds.call(this,e);if(!n)for(var i=0,a=this.children.length;i<a;++i){var o=this.children[i];o.visible&&o.updateTransform()}return r},e.prototype._calculateBounds=function(){},e.prototype.render=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(t);else{this._render(t);for(var e=0,n=this.children.length;e<n;++e)this.children[e].render(t)}},e.prototype.renderAdvanced=function(t){t.batch.flush();var e=this.filters,n=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var r=0;r<e.length;r++)e[r].enabled&&this._enabledFilters.push(e[r]);this._enabledFilters.length&&t.filter.push(this,this._enabledFilters)}n&&t.mask.push(this,this._mask),this._render(t);r=0;for(var i=this.children.length;r<i;r++)this.children[r].render(t);t.batch.flush(),n&&t.mask.pop(this),e&&this._enabledFilters&&this._enabledFilters.length&&t.filter.pop()},e.prototype._render=function(t){},e.prototype.destroy=function(e){t.prototype.destroy.call(this),this.sortDirty=!1;var n="boolean"==typeof e?e:e&&e.children,r=this.removeChildren(0,this.children.length);if(n)for(var i=0;i<r.length;++i)r[i].destroy(e)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;this.scale.x=0!==e?t/e:1,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;this.scale.y=0!==e?t/e:1,this._height=t},enumerable:!1,configurable:!0}),e}(y);_.prototype.containerUpdateTransform=_.prototype.updateTransform;var w={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};y.mixin(w);var x=function(){function t(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(h.isMobile.tablet||h.isMobile.phone)&&this.createTouchHook();var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.zIndex=2..toString(),this.div=e,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),self.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width="1px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.left="-1000px",e.style.zIndex=2..toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",(function(){t._isMobileAccessibility=!0,t.activate(),t.destroyTouchHook()})),document.body.appendChild(e),this._hookDiv=e},t.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var t;this._isActive||(this._isActive=!0,self.document.addEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(t=this.renderer.view.parentNode)||void 0===t||t.appendChild(this.div))},t.prototype.deactivate=function(){var t;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(t=this.div.parentNode)||void 0===t||t.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible&&t.accessibleChildren){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,n=0;n<e.length;n++)this.updateAccessibleObjects(e[n])}},t.prototype.update=function(){var t=performance.now();if(!(h.isMobile.android.device&&t<this.androidUpdateCount)&&(this.androidUpdateCount=t+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),n=e.left,r=e.top,i=e.width,a=e.height,o=this.renderer,s=o.width,u=o.height,c=o.resolution,l=i/s*c,d=a/u*c,p=this.div;p.style.left=n+"px",p.style.top=r+"px",p.style.width=s+"px",p.style.height=u+"px";for(var f=0;f<this.children.length;f++){var m=this.children[f];if(m.renderId!==this.renderId)m._accessibleActive=!1,Object(h.removeItems)(this.children,f,1),this.div.removeChild(m._accessibleDiv),this.pool.push(m._accessibleDiv),m._accessibleDiv=null,f--;else{p=m._accessibleDiv;var g=m.hitArea,y=m.worldTransform;m.hitArea?(p.style.left=(y.tx+g.x*y.a)*l+"px",p.style.top=(y.ty+g.y*y.d)*d+"px",p.style.width=g.width*y.a*l+"px",p.style.height=g.height*y.d*d+"px"):(g=m.getBounds(),this.capHitArea(g),p.style.left=g.x*l+"px",p.style.top=g.y*d+"px",p.style.width=g.width*l+"px",p.style.height=g.height*d+"px",p.title!==m.accessibleTitle&&null!==m.accessibleTitle&&(p.title=m.accessibleTitle),p.getAttribute("aria-label")!==m.accessibleHint&&null!==m.accessibleHint&&p.setAttribute("aria-label",m.accessibleHint)),m.accessibleTitle===p.title&&m.tabIndex===p.tabIndex||(p.title=m.accessibleTitle,p.tabIndex=m.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}},t.prototype.updateDebugHTML=function(t){t.innerHTML="type: "+t.type+"</br> title : "+t.title+"</br> tabIndex: "+t.tabIndex},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);var e=this.renderer,n=e.width,r=e.height;t.x+t.width>n&&(t.width=n-t.x),t.y+t.height>r&&(t.height=r-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||((e=document.createElement("button")).style.width="100px",e.style.height="100px",e.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=2..toString(),e.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?e.setAttribute("aria-live","off"):e.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?e.setAttribute("aria-relevant","additions"):e.setAttribute("aria-relevant","text"),e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),e.style.pointerEvents=t.accessiblePointerEvents,e.type=t.accessibleType,t.accessibleTitle&&null!==t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleHint&&null!==t.accessibleHint||(e.title="displayObject "+t.tabIndex),t.accessibleHint&&null!==t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(e),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction,n=t.target.displayObject,r=e.eventData;e.dispatchEvent(n,"click",r),e.dispatchEvent(n,"pointertap",r),e.dispatchEvent(n,"tap",r)},t.prototype._onFocus=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive");var e=this.renderer.plugins.interaction,n=t.target.displayObject,r=e.eventData;e.dispatchEvent(n,"mouseover",r)},t.prototype._onFocusOut=function(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite");var e=this.renderer.plugins.interaction,n=t.target.displayObject,r=e.eventData;e.dispatchEvent(n,"mouseout",r)},t.prototype._onKeyDown=function(t){9===t.keyCode&&this.activate()},t.prototype._onMouseMove=function(t){0===t.movementX&&0===t.movementY||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,self.document.removeEventListener("mousemove",this._onMouseMove,!0),self.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}(),S=n(81);function T(t){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var M=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new p.g,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(t,e,n){return t.worldTransform.applyInverse(n||this.global,e)},t.prototype.copyEvent=function(t){"isPrimary"in t&&t.isPrimary&&(this.isPrimary=!0),this.button="button"in t&&t.button;var e="buttons"in t&&t.buttons;this.buttons=Number.isInteger(e)?e:"which"in t&&t.which,this.width="width"in t&&t.width,this.height="height"in t&&t.height,this.tiltX="tiltX"in t&&t.tiltX,this.tiltY="tiltY"in t&&t.tiltY,this.pointerType="pointerType"in t&&t.pointerType,this.pressure="pressure"in t&&t.pressure,this.rotationAngle="rotationAngle"in t&&t.rotationAngle,this.twist="twist"in t&&t.twist||0,this.tangentialPressure="tangentialPressure"in t&&t.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}(),E=function(t,e){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var A=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),k=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){this._flags=e?this._flags|t:this._flags&~t},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(t){this._flags=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return 0!=(this._flags&t.FLAGS.OVER)},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return 0!=(this._flags&t.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return 0!=(this._flags&t.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),t}(),C=function(){function t(){this._tempPoint=new p.g}return t.prototype.recursiveFindHit=function(t,e,n,r,i){if(!e||!e.visible)return!1;var a=t.data.global,o=!1,s=i=e.interactive||i,u=!0;if(e.hitArea?(r&&(e.worldTransform.applyInverse(a,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?o=!0:(r=!1,u=!1)),s=!1):e._mask&&r&&(e._mask.containsPoint&&e._mask.containsPoint(a)||(r=!1)),u&&e.interactiveChildren&&e.children)for(var c=e.children,l=c.length-1;l>=0;l--){var h=c[l],d=this.recursiveFindHit(t,h,n,r,s);if(d){if(!h.parent)continue;s=!1,d&&(t.target&&(r=!1),o=!0)}}return i&&(r&&!t.target&&!e.hitArea&&e.containsPoint&&e.containsPoint(a)&&(o=!0),e.interactive&&(o&&!t.target&&(t.target=e),n&&n(t,e,!!o))),o},t.prototype.findHit=function(t,e,n,r){this.recursiveFindHit(t,e,n,r,!1)},t}(),O={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};y.mixin(O);var L={target:null,data:{global:null}},R=function(t){function e(e,n){var r=t.call(this)||this;return n=n||{},r.renderer=e,r.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,r.interactionFrequency=n.interactionFrequency||10,r.mouse=new M,r.mouse.identifier=1,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[1]=r.mouse,r.interactionDataPool=[],r.eventData=new A,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.tickerAdded=!1,r.mouseOverRenderer=!("PointerEvent"in self),r.supportsTouchEvents="ontouchstart"in self,r.supportsPointerEvents=!!self.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r.resolution=1,r.delayedEvents=[],r.search=new C,r._tempDisplayObject=new v,r._useSystemTicker=void 0===n.useSystemTicker||n.useSystemTicker,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return function(t,e){function n(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(t){this._useSystemTicker=t,t?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(t,e){return L.target=null,L.data.global=t,e||(e=this.lastObjectRendered),this.processInteractive(L,e,null,!0),L.target},e.prototype.setTargetElement=function(t,e){void 0===e&&(e=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(S.a.system.add(this.tickerUpdate,this,S.c.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){this.tickerAdded&&(S.a.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none"),this.supportsPointerEvents?(self.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),self.addEventListener("pointercancel",this.onPointerCancel,!0),self.addEventListener("pointerup",this.onPointerUp,!0)):(self.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),self.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var t=this.interactionDOMElement.style;self.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(self.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),self.removeEventListener("pointercancel",this.onPointerCancel,!0),self.removeEventListener("pointerup",this.onPointerUp,!0)):(self.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),self.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(t){this._deltaTime+=t,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},e.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var e=this.activeInteractionData[t];if(e.originalEvent&&"touch"!==e.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,e.originalEvent,e);this.processInteractive(n,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){t=t||"default";var e=!0;if(self.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(e=!1),this.currentCursorMode!==t){this.currentCursorMode=t;var n=this.cursorStyles[t];if(n)switch(T(n)){case"string":e&&(this.interactionDOMElement.style.cursor=n);break;case"function":n(t);break;case"object":e&&Object.assign(this.interactionDOMElement.style,n)}else e&&"string"==typeof t&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,n){n.stopPropagationHint&&t!==n.stopsPropagatingAt||(n.currentTarget=t,n.type=e,t.emit(e,n),t[e]&&t[e](n))},e.prototype.delayDispatchEvent=function(t,e,n){this.delayedEvents.push({displayObject:t,eventString:e,eventData:n})},e.prototype.mapPositionToPoint=function(t,e,n){var r;r=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var i=1/this.resolution;t.x=(e-r.left)*(this.interactionDOMElement.width/r.width)*i,t.y=(n-r.top)*(this.interactionDOMElement.height/r.height)*i},e.prototype.processInteractive=function(t,e,n,r){var i=this.search.findHit(t,e,n,r),a=this.delayedEvents;if(!a.length)return i;t.stopPropagationHint=!1;var o=a.length;this.delayedEvents=[];for(var s=0;s<o;s++){var u=a[s],c=u.displayObject,l=u.eventString,h=u.eventData;h.stopsPropagatingAt===c&&(h.stopPropagationHint=!0),this.dispatchEvent(c,l,h)}return i},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);if(this.autoPreventDefault&&e[0].isNormalized)(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(var n=e.length,r=0;r<n;r++){var i=e[r],a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);if(o.data.originalEvent=t,this.processInteractive(o,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",o),"touch"===i.pointerType)this.emit("touchstart",o);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,n){var r=t.data,i=t.data.identifier;if(n)if(e.trackedPointers[i]||(e.trackedPointers[i]=new k(i)),this.dispatchEvent(e,"pointerdown",t),"touch"===r.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===r.pointerType||"pen"===r.pointerType){var a=2===r.button;a?e.trackedPointers[i].rightDown=!0:e.trackedPointers[i].leftDown=!0,this.dispatchEvent(e,a?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,n){for(var r=this.normalizeToPointerData(t),i=r.length,a=t.target!==this.interactionDOMElement?"outside":"",o=0;o<i;o++){var s=r[o],u=this.getInteractionDataForPointerId(s),c=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(c.data.originalEvent=t,this.processInteractive(c,this.lastObjectRendered,n,e||!a),this.emit(e?"pointercancel":"pointerup"+a,c),"mouse"===s.pointerType||"pen"===s.pointerType){var l=2===s.button;this.emit(l?"rightup"+a:"mouseup"+a,c)}else"touch"===s.pointerType&&(this.emit(e?"touchcancel":"touchend"+a,c),this.releaseInteractionDataForPointerId(s.pointerId))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var n=t.data,r=t.data.identifier;void 0!==e.trackedPointers[r]&&(delete e.trackedPointers[r],this.dispatchEvent(e,"pointercancel",t),"touch"===n.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,n){var r=t.data,i=t.data.identifier,a=e.trackedPointers[i],o="touch"===r.pointerType,s="mouse"===r.pointerType||"pen"===r.pointerType,u=!1;if(s){var c=2===r.button,l=k.FLAGS,h=c?l.RIGHT_DOWN:l.LEFT_DOWN,d=void 0!==a&&a.flags&h;n?(this.dispatchEvent(e,c?"rightup":"mouseup",t),d&&(this.dispatchEvent(e,c?"rightclick":"click",t),u=!0)):d&&this.dispatchEvent(e,c?"rightupoutside":"mouseupoutside",t),a&&(c?a.rightDown=!1:a.leftDown=!1)}n?(this.dispatchEvent(e,"pointerup",t),o&&this.dispatchEvent(e,"touchend",t),a&&(s&&!u||this.dispatchEvent(e,"pointertap",t),o&&(this.dispatchEvent(e,"tap",t),a.over=!1))):a&&(this.dispatchEvent(e,"pointerupoutside",t),o&&this.dispatchEvent(e,"touchendoutside",t)),a&&a.none&&delete e.trackedPointers[i]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"!==e[0].pointerType&&"pen"!==e[0].pointerType||(this._didMove=!0,this.cursor=null);for(var n=e.length,r=0;r<n;r++){var i=e[r],a=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,a);o.data.originalEvent=t,this.processInteractive(o,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",o),"touch"===i.pointerType&&this.emit("touchmove",o),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mousemove",o)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,n){var r=t.data,i="touch"===r.pointerType,a="mouse"===r.pointerType||"pen"===r.pointerType;a&&this.processPointerOverOut(t,e,n),this.moveWhenInside&&!n||(this.dispatchEvent(e,"pointermove",t),i&&this.dispatchEvent(e,"touchmove",t),a&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t)[0];"mouse"===e.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===e.pointerType||"pen"===e.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(n.identifier)}},e.prototype.processPointerOverOut=function(t,e,n){var r=t.data,i=t.data.identifier,a="mouse"===r.pointerType||"pen"===r.pointerType,o=e.trackedPointers[i];n&&!o&&(o=e.trackedPointers[i]=new k(i)),void 0!==o&&(n&&this.mouseOverRenderer?(o.over||(o.over=!0,this.delayDispatchEvent(e,"pointerover",t),a&&this.delayDispatchEvent(e,"mouseover",t)),a&&null===this.cursor&&(this.cursor=e.cursor)):o.over&&(o.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),a&&this.dispatchEvent(e,"mouseout",t),o.none&&delete e.trackedPointers[i]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t)[0],n=this.getInteractionDataForPointerId(e),r=this.configureInteractionEventForDOMEvent(this.eventData,e,n);r.data.originalEvent=e,"mouse"===e.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==e.pointerType&&"pen"!==e.pointerType||this.emit("mouseover",r)},e.prototype.getInteractionDataForPointerId=function(t){var e,n=t.pointerId;return 1===n||"mouse"===t.pointerType?e=this.mouse:this.activeInteractionData[n]?e=this.activeInteractionData[n]:((e=this.interactionDataPool.pop()||new M).identifier=n,this.activeInteractionData[n]=e),e.copyEvent(t),e},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e.reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,n){return t.data=n,this.mapPositionToPoint(n.global,e.clientX,e.clientY),"touch"===e.pointerType&&(e.globalX=n.global.x,e.globalY=n.global.y),n.originalEvent=e,t.reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var n=0,r=t.changedTouches.length;n<r;n++){var i=t.changedTouches[n];void 0===i.button&&(i.button=t.touches.length?1:0),void 0===i.buttons&&(i.buttons=t.touches.length?1:0),void 0===i.isPrimary&&(i.isPrimary=1===t.touches.length&&"touchstart"===t.type),void 0===i.width&&(i.width=i.radiusX||1),void 0===i.height&&(i.height=i.radiusY||1),void 0===i.tiltX&&(i.tiltX=0),void 0===i.tiltY&&(i.tiltY=0),void 0===i.pointerType&&(i.pointerType="touch"),void 0===i.pointerId&&(i.pointerId=i.identifier||0),void 0===i.pressure&&(i.pressure=i.force||.5),void 0===i.twist&&(i.twist=0),void 0===i.tangentialPressure&&(i.tangentialPressure=0),void 0===i.layerX&&(i.layerX=i.offsetX=i.clientX),void 0===i.layerY&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,e.push(i)}else if(self.MouseEvent&&(!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof self.PointerEvent))e.push(t);else{var a=t;void 0===a.isPrimary&&(a.isPrimary=!0),void 0===a.width&&(a.width=1),void 0===a.height&&(a.height=1),void 0===a.tiltX&&(a.tiltX=0),void 0===a.tiltY&&(a.tiltY=0),void 0===a.pointerType&&(a.pointerType="mouse"),void 0===a.pointerId&&(a.pointerId=1),void 0===a.pressure&&(a.pressure=.5),void 0===a.twist&&(a.twist=0),void 0===a.tangentialPressure&&(a.tangentialPressure=0),a.isNormalized=!0,e.push(a)}return e},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e}(h.EventEmitter),P=n(13),D=function(){function t(e){var n=this;this.stage=new _,e=Object.assign({forceCanvas:!1},e),this.renderer=Object(P.lb)(e),t._plugins.forEach((function(t){t.init.call(n,e)}))}return t.registerPlugin=function(e){t._plugins.push(e)},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,n){var r=this,i=t._plugins.slice(0);i.reverse(),i.forEach((function(t){t.destroy.call(r)})),this.stage.destroy(n),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}(),I=function(){function t(){}return t.init=function(t){var e=this;Object.defineProperty(this,"resizeTo",{set:function(t){self.removeEventListener("resize",this.queueResize),this._resizeTo=t,t&&(self.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){e._resizeTo&&(e.cancelResize(),e._resizeId=requestAnimationFrame((function(){return e.resize()})))},this.cancelResize=function(){e._resizeId&&(cancelAnimationFrame(e._resizeId),e._resizeId=null)},this.resize=function(){if(e._resizeTo){var t,n;if(e.cancelResize(),e._resizeTo===self)t=self.innerWidth,n=self.innerHeight;else{var r=e._resizeTo;t=r.clientWidth,n=r.clientHeight}e.renderer.resize(t,n)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null},t.destroy=function(){this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t}();D.registerPlugin(I);var B=new p.j,N=function(){function t(t){this.renderer=t}return t.prototype.image=function(t,e,n){var r=new Image;return r.src=this.base64(t,e,n),r},t.prototype.base64=function(t,e,n){return this.canvas(t).toDataURL(e,n)},t.prototype.canvas=function(e){var n,r,i,a=this.renderer,o=!1,s=!1;e&&(e instanceof P.P?i=e:(i=this.renderer.generateTexture(e),s=!0)),i?(n=i.baseTexture.resolution,r=i.frame,o=!1,a.renderTexture.bind(i)):(n=this.renderer.resolution,o=!0,(r=B).width=this.renderer.width,r.height=this.renderer.height,a.renderTexture.bind(null));var u=Math.floor(r.width*n+1e-4),c=Math.floor(r.height*n+1e-4),l=new h.CanvasRenderTarget(u,c,1),d=new Uint8Array(4*u*c),p=a.gl;p.readPixels(r.x*n,r.y*n,u,c,p.RGBA,p.UNSIGNED_BYTE,d);var f=l.context.getImageData(0,0,u,c);if(t.arrayPostDivide(d,f.data),l.context.putImageData(f,0,0),o){var m=new h.CanvasRenderTarget(l.width,l.height,1);m.context.scale(1,-1),m.context.drawImage(l.canvas,0,-c),l.destroy(),l=m}return s&&i.destroy(!0),l.canvas},t.prototype.pixels=function(e){var n,r,i,a=this.renderer,o=!1;e&&(e instanceof P.P?i=e:(i=this.renderer.generateTexture(e),o=!0)),i?(n=i.baseTexture.resolution,r=i.frame,a.renderTexture.bind(i)):(n=a.resolution,(r=B).width=a.width,r.height=a.height,a.renderTexture.bind(null));var s=r.width*n,u=r.height*n,c=new Uint8Array(4*s*u),l=a.gl;return l.readPixels(r.x*n,r.y*n,s,u,l.RGBA,l.UNSIGNED_BYTE,c),o&&i.destroy(!0),t.arrayPostDivide(c,c),c},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(t,e){for(var n=0;n<t.length;n+=4){var r=e[n+3]=t[n+3];0!==r?(e[n]=Math.round(Math.min(255*t[n]/r,255)),e[n+1]=Math.round(Math.min(255*t[n+1]/r,255)),e[n+2]=Math.round(Math.min(255*t[n+2]/r,255))):(e[n]=t[n],e[n+1]=t[n+1],e[n+2]=t[n+2])}},t}(),j=n(91),F=n(115),U=n(10),Y=function(t,e){return(Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function G(t,e){function n(){this.constructor=t}Y(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var H,z,V=function(t){function e(e,n,r,i){void 0===e&&(e=1500),void 0===r&&(r=16384),void 0===i&&(i=!1);var a=t.call(this)||this;return r>16384&&(r=16384),a._properties=[!1,!0,!1,!1,!1],a._maxSize=e,a._batchSize=r,a._buffers=null,a._bufferUpdateIDs=[],a._updateID=0,a.interactiveChildren=!1,a.blendMode=U.b.NORMAL,a.autoResize=i,a.roundPixels=!0,a.baseTexture=null,a.setProperties(n),a._tint=0,a.tintRgb=new Float32Array(4),a.tint=16777215,a}return G(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,Object(h.hex2rgb)(t,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return e.onChildrenChange(0)}))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){for(var e=Math.floor(t/this._batchSize);this._bufferUpdateIDs.length<e;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[e]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(_),W=function(){function t(t,e,n){this.geometry=new P.C,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var i=t[r];i={attributeName:i.attributeName,size:i.size,uploadFunction:i.uploadFunction,type:i.type||U.p.FLOAT,offset:i.offset},e[r]?this.dynamicProperties.push(i):this.staticProperties.push(i)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.geometry,e=0;this.indexBuffer=new P.p(Object(h.createIndicesForQuads)(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){(o=this.dynamicProperties[n]).offset=e,e+=o.size,this.dynamicStride+=o.size}var r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=new P.p(this.dynamicData,!1,!1);var i=0;this.staticStride=0;for(n=0;n<this.staticProperties.length;++n){(o=this.staticProperties[n]).offset=i,i+=o.size,this.staticStride+=o.size}var a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new P.p(this.staticData,!0,!1);for(n=0;n<this.dynamicProperties.length;++n){var o=this.dynamicProperties[n];t.addAttribute(o.attributeName,this.dynamicBuffer,0,o.type===U.p.UNSIGNED_BYTE,o.type,4*this.dynamicStride,4*o.offset)}for(n=0;n<this.staticProperties.length;++n){o=this.staticProperties[n];t.addAttribute(o.attributeName,this.staticBuffer,0,o.type===U.p.UNSIGNED_BYTE,o.type,4*this.staticStride,4*o.offset)}},t.prototype.uploadDynamic=function(t,e,n){for(var r=0;r<this.dynamicProperties.length;r++){var i=this.dynamicProperties[r];i.uploadFunction(t,e,n,i.type===U.p.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,i.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(t,e,n){for(var r=0;r<this.staticProperties.length;r++){var i=this.staticProperties[r];i.uploadFunction(t,e,n,i.type===U.p.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,i.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),X=function(t){function e(e){var n=t.call(this,e)||this;return n.shader=null,n.properties=null,n.tempMatrix=new p.d,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:U.p.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=P.W.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n","varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",{}),n.state=P.Z.for2d(),n}return G(e,t),e.prototype.render=function(t){var e=t.children,n=t._maxSize,r=t._batchSize,i=this.renderer,a=e.length;if(0!==a){a>n&&!t.autoResize&&(a=n);var o=t._buffers;o||(o=t._buffers=this.generateBuffers(t));var s=e[0]._texture.baseTexture;this.state.blendMode=Object(h.correctBlendMode)(t.blendMode,s.alphaMode),i.state.set(this.state);var u=i.gl,c=t.worldTransform.copyTo(this.tempMatrix);c.prepend(i.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=c.toArray(!0),this.shader.uniforms.uColor=Object(h.premultiplyRgba)(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,s.alphaMode),this.shader.uniforms.uSampler=s,this.renderer.shader.bind(this.shader);for(var l=!1,d=0,p=0;d<a;d+=r,p+=1){var f=a-d;f>r&&(f=r),p>=o.length&&o.push(this._generateOneMoreBuffer(t));var m=o[p];m.uploadDynamic(e,d,f);var g=t._bufferUpdateIDs[p]||0;(l=l||m._updateID<g)&&(m._updateID=t._updateID,m.uploadStatic(e,d,f)),i.geometry.bind(m.geometry),u.drawElements(u.TRIANGLES,6*f,u.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(t){for(var e=[],n=t._maxSize,r=t._batchSize,i=t._properties,a=0;a<n;a+=r)e.push(new W(this.properties,i,r));return e},e.prototype._generateOneMoreBuffer=function(t){var e=t._batchSize,n=t._properties;return new W(this.properties,n,e)},e.prototype.uploadVertices=function(t,e,n,r,i,a){for(var o=0,s=0,u=0,c=0,l=0;l<n;++l){var h=t[e+l],d=h._texture,p=h.scale.x,f=h.scale.y,m=d.trim,g=d.orig;m?(o=(s=m.x-h.anchor.x*g.width)+m.width,u=(c=m.y-h.anchor.y*g.height)+m.height):(o=g.width*(1-h.anchor.x),s=g.width*-h.anchor.x,u=g.height*(1-h.anchor.y),c=g.height*-h.anchor.y),r[a]=s*p,r[a+1]=c*f,r[a+i]=o*p,r[a+i+1]=c*f,r[a+2*i]=o*p,r[a+2*i+1]=u*f,r[a+3*i]=s*p,r[a+3*i+1]=u*f,a+=4*i}},e.prototype.uploadPosition=function(t,e,n,r,i,a){for(var o=0;o<n;o++){var s=t[e+o].position;r[a]=s.x,r[a+1]=s.y,r[a+i]=s.x,r[a+i+1]=s.y,r[a+2*i]=s.x,r[a+2*i+1]=s.y,r[a+3*i]=s.x,r[a+3*i+1]=s.y,a+=4*i}},e.prototype.uploadRotation=function(t,e,n,r,i,a){for(var o=0;o<n;o++){var s=t[e+o].rotation;r[a]=s,r[a+i]=s,r[a+2*i]=s,r[a+3*i]=s,a+=4*i}},e.prototype.uploadUvs=function(t,e,n,r,i,a){for(var o=0;o<n;++o){var s=t[e+o]._texture._uvs;s?(r[a]=s.x0,r[a+1]=s.y0,r[a+i]=s.x1,r[a+i+1]=s.y1,r[a+2*i]=s.x2,r[a+2*i+1]=s.y2,r[a+3*i]=s.x3,r[a+3*i+1]=s.y3,a+=4*i):(r[a]=0,r[a+1]=0,r[a+i]=0,r[a+i+1]=0,r[a+2*i]=0,r[a+2*i+1]=0,r[a+3*i]=0,r[a+3*i+1]=0,a+=4*i)}},e.prototype.uploadTint=function(t,e,n,r,i,a){for(var o=0;o<n;++o){var s=t[e+o],u=s._texture.baseTexture.alphaMode>0,c=s.alpha,l=c<1&&u?Object(h.premultiplyTint)(s._tintRGB,c):s._tintRGB+(255*c<<24);r[a]=l,r[a+i]=l,r[a+2*i]=l,r[a+3*i]=l,a+=4*i}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e}(P.K);!function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"}(H||(H={})),function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"}(z||(z={}));var K={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(void 0===e&&(e=20),!this.adaptive||!t||isNaN(t))return e;var n=Math.ceil(t/this.maxLength);return n<this.minSegments?n=this.minSegments:n>this.maxSegments&&(n=this.maxSegments),n}},q=function(){function t(){this.color=16777215,this.alpha=1,this.texture=P.db.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=P.db.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}(),Z=function(t,e){return(Z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function J(t,e){function n(){this.constructor=t}Z(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Q={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var n=t.points,r=t.holes,i=e.points,a=e.indices;if(n.length>=6){for(var o=[],s=0;s<r.length;s++){var u=r[s];o.push(n.length/2),n=n.concat(u.points)}var c=Object(h.earcut)(n,o,2);if(!c)return;var l=i.length/2;for(s=0;s<c.length;s+=3)a.push(c[s]+l),a.push(c[s+1]+l),a.push(c[s+2]+l);for(s=0;s<n.length;s++)i.push(n[s])}}},$={build:function(t){var e,n,r=t.shape,i=t.points,a=r.x,o=r.y;if(i.length=0,t.type===p.l.CIRC)e=r.radius,n=r.radius;else{var s=t.shape;e=s.width,n=s.height}if(0!==e&&0!==n){var u=Math.floor(30*Math.sqrt(r.radius))||Math.floor(15*Math.sqrt(e+n));u/=2.3;for(var c=2*Math.PI/u,l=0;l<u-.5;l++)i.push(a+Math.sin(-c*l)*e,o+Math.cos(-c*l)*n);i.push(i[0],i[1])}},triangulate:function(t,e){var n=t.points,r=e.points,i=e.indices,a=r.length/2,o=a,s=t.shape,u=t.matrix,c=s.x,l=s.y;r.push(t.matrix?u.a*c+u.c*l+u.tx:c,t.matrix?u.b*c+u.d*l+u.ty:l);for(var h=0;h<n.length;h+=2)r.push(n[h],n[h+1]),i.push(a++,o,a)}},tt={build:function(t){var e=t.shape,n=e.x,r=e.y,i=e.width,a=e.height,o=t.points;o.length=0,o.push(n,r,n+i,r,n+i,r+a,n,r+a)},triangulate:function(t,e){var n=t.points,r=e.points,i=r.length/2;r.push(n[0],n[1],n[2],n[3],n[6],n[7],n[4],n[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function et(t,e,n){return t+(e-t)*n}function nt(t,e,n,r,i,a,o){void 0===o&&(o=[]);for(var s=o,u=0,c=0,l=0,h=0,d=0,p=0,f=0,m=0;f<=20;++f)u=et(t,n,m=f/20),c=et(e,r,m),l=et(n,i,m),h=et(r,a,m),d=et(u,l,m),p=et(c,h,m),s.push(d,p);return s}var rt={build:function(t){var e=t.shape,n=t.points,r=e.x,i=e.y,a=e.width,o=e.height,s=Math.max(0,Math.min(e.radius,Math.min(a,o)/2));n.length=0,s?(nt(r,i+s,r,i,r+s,i,n),nt(r+a-s,i,r+a,i,r+a,i+s,n),nt(r+a,i+o-s,r+a,i+o,r+a-s,i+o,n),nt(r+s,i+o,r,i+o,r,i+o-s,n)):n.push(r,i,r+a,i,r+a,i+o,r,i+o)},triangulate:function(t,e){for(var n=t.points,r=e.points,i=e.indices,a=r.length/2,o=Object(h.earcut)(n,null,2),s=0,u=o.length;s<u;s+=3)i.push(o[s]+a),i.push(o[s+1]+a),i.push(o[s+2]+a);for(s=0,u=n.length;s<u;s++)r.push(n[s],n[++s])}};function it(t,e,n,r,i,a,o,s){var u,c;o?(u=r,c=-n):(u=-r,c=n);var l=t-n*i+u,h=e-r*i+c,d=t+n*a+u,p=e+r*a+c;return s.push(l,h),s.push(d,p),2}function at(t,e,n,r,i,a,o,s){var u=n-t,c=r-e,l=Math.atan2(u,c),h=Math.atan2(i-t,a-e);s&&l<h?l+=2*Math.PI:!s&&l>h&&(h+=2*Math.PI);var d=l,p=h-l,f=Math.abs(p),m=Math.sqrt(u*u+c*c),g=1+(15*f*Math.sqrt(m)/Math.PI>>0),y=p/g;if(d+=y,s){o.push(t,e),o.push(n,r);for(var v=1,b=d;v<g;v++,b+=y)o.push(t,e),o.push(t+Math.sin(b)*m,e+Math.cos(b)*m);o.push(t,e),o.push(i,a)}else{o.push(n,r),o.push(t,e);for(v=1,b=d;v<g;v++,b+=y)o.push(t+Math.sin(b)*m,e+Math.cos(b)*m),o.push(t,e);o.push(i,a),o.push(t,e)}return 2*g}function ot(t,e){t.lineStyle.native?function(t,e){var n=0,r=t.shape,i=t.points||r.points,a=r.type!==p.l.POLY||r.closeStroke;if(0!==i.length){var o=e.points,s=e.indices,u=i.length/2,c=o.length/2,l=c;for(o.push(i[0],i[1]),n=1;n<u;n++)o.push(i[2*n],i[2*n+1]),s.push(l,l+1),l++;a&&s.push(l,c)}}(t,e):function(t,e){var n=t.shape,r=t.points||n.points.slice(),i=e.closePointEps;if(0!==r.length){var a=t.lineStyle,o=new p.g(r[0],r[1]),s=new p.g(r[r.length-2],r[r.length-1]),u=n.type!==p.l.POLY||n.closeStroke,c=Math.abs(o.x-s.x)<i&&Math.abs(o.y-s.y)<i;if(u){r=r.slice(),c&&(r.pop(),r.pop(),s.set(r[r.length-2],r[r.length-1]));var l=.5*(o.x+s.x),h=.5*(s.y+o.y);r.unshift(l,h),r.push(l,h)}var d=e.points,f=r.length/2,m=r.length,g=d.length/2,y=a.width/2,v=y*y,b=a.miterLimit*a.miterLimit,_=r[0],w=r[1],x=r[2],S=r[3],T=0,M=0,E=-(w-S),A=_-x,k=0,C=0,O=Math.sqrt(E*E+A*A);E/=O,A/=O,E*=y,A*=y;var L=a.alignment,R=2*(1-L),P=2*L;u||(a.cap===z.ROUND?m+=at(_-E*(R-P)*.5,w-A*(R-P)*.5,_-E*R,w-A*R,_+E*P,w+A*P,d,!0)+2:a.cap===z.SQUARE&&(m+=it(_,w,E,A,R,P,!0,d))),d.push(_-E*R,w-A*R),d.push(_+E*P,w+A*P);for(var D=1;D<f-1;++D){_=r[2*(D-1)],w=r[2*(D-1)+1],x=r[2*D],S=r[2*D+1],T=r[2*(D+1)],M=r[2*(D+1)+1],E=-(w-S),A=_-x,E/=O=Math.sqrt(E*E+A*A),A/=O,E*=y,A*=y,k=-(S-M),C=x-T,k/=O=Math.sqrt(k*k+C*C),C/=O,k*=y,C*=y;var I=x-_,B=w-S,N=x-T,j=M-S,F=B*N-j*I,U=F<0;if(Math.abs(F)<.1)d.push(x-E*R,S-A*R),d.push(x+E*P,S+A*P);else{var Y=(-E+_)*(-A+S)-(-E+x)*(-A+w),G=(-k+T)*(-C+S)-(-k+x)*(-C+M),V=(I*G-N*Y)/F,W=(j*Y-B*G)/F,X=(V-x)*(V-x)+(W-S)*(W-S),q=x+(V-x)*R,Z=S+(W-S)*R,J=x-(V-x)*P,Q=S-(W-S)*P,$=U?R:P;X<=Math.min(I*I+B*B,N*N+j*j)+$*$*v?a.join===H.BEVEL||X/v>b?(U?(d.push(q,Z),d.push(x+E*P,S+A*P),d.push(q,Z),d.push(x+k*P,S+C*P)):(d.push(x-E*R,S-A*R),d.push(J,Q),d.push(x-k*R,S-C*R),d.push(J,Q)),m+=2):a.join===H.ROUND?U?(d.push(q,Z),d.push(x+E*P,S+A*P),m+=at(x,S,x+E*P,S+A*P,x+k*P,S+C*P,d,!0)+4,d.push(q,Z),d.push(x+k*P,S+C*P)):(d.push(x-E*R,S-A*R),d.push(J,Q),m+=at(x,S,x-E*R,S-A*R,x-k*R,S-C*R,d,!1)+4,d.push(x-k*R,S-C*R),d.push(J,Q)):(d.push(q,Z),d.push(J,Q)):(d.push(x-E*R,S-A*R),d.push(x+E*P,S+A*P),a.join===H.BEVEL||X/v>b||(a.join===H.ROUND?m+=U?at(x,S,x+E*P,S+A*P,x+k*P,S+C*P,d,!0)+2:at(x,S,x-E*R,S-A*R,x-k*R,S-C*R,d,!1)+2:(U?(d.push(J,Q),d.push(J,Q)):(d.push(q,Z),d.push(q,Z)),m+=2)),d.push(x-k*R,S-C*R),d.push(x+k*P,S+C*P),m+=2)}}_=r[2*(f-2)],w=r[2*(f-2)+1],x=r[2*(f-1)],E=-(w-(S=r[2*(f-1)+1])),A=_-x,E/=O=Math.sqrt(E*E+A*A),A/=O,E*=y,A*=y,d.push(x-E*R,S-A*R),d.push(x+E*P,S+A*P),u||(a.cap===z.ROUND?m+=at(x-E*(R-P)*.5,S-A*(R-P)*.5,x-E*R,S-A*R,x+E*P,S+A*P,d,!1)+2:a.cap===z.SQUARE&&(m+=it(x,S,E,A,R,P,!1,d)));var tt=e.indices,et=K.epsilon*K.epsilon;for(D=g;D<m+g-2;++D)_=d[2*D],w=d[2*D+1],x=d[2*(D+1)],S=d[2*(D+1)+1],T=d[2*(D+2)],M=d[2*(D+2)+1],Math.abs(_*(S-M)+x*(M-w)+T*(w-S))<et||tt.push(D,D+1,D+2)}}(t,e)}var st,ut=function(){function t(){}return t.curveTo=function(t,e,n,r,i,a){var o=a[a.length-2],s=a[a.length-1]-e,u=o-t,c=r-e,l=n-t,h=Math.abs(s*l-u*c);if(h<1e-8||0===i)return a[a.length-2]===t&&a[a.length-1]===e||a.push(t,e),null;var d=s*s+u*u,p=c*c+l*l,f=s*c+u*l,m=i*Math.sqrt(d)/h,g=i*Math.sqrt(p)/h,y=m*f/d,v=g*f/p,b=m*l+g*u,_=m*c+g*s,w=u*(g+y),x=s*(g+y),S=l*(m+v),T=c*(m+v);return{cx:b+t,cy:_+e,radius:i,startAngle:Math.atan2(x-_,w-b),endAngle:Math.atan2(T-_,S-b),anticlockwise:u*c>l*s}},t.arc=function(t,e,n,r,i,a,o,s,u){for(var c=o-a,l=K._segmentsCount(Math.abs(c)*i,40*Math.ceil(Math.abs(c)/p.f)),h=c/(2*l),d=2*h,f=Math.cos(h),m=Math.sin(h),g=l-1,y=g%1/g,v=0;v<=g;++v){var b=h+a+d*(v+y*v),_=Math.cos(b),w=-Math.sin(b);u.push((f*_+m*w)*i+n,(f*-w+m*_)*i+r)}},t}(),ct=function(){function t(){}return t.curveLength=function(t,e,n,r,i,a,o,s){for(var u=0,c=0,l=0,h=0,d=0,p=0,f=0,m=0,g=0,y=0,v=0,b=t,_=e,w=1;w<=10;++w)y=b-(m=(f=(p=(d=1-(c=w/10))*d)*d)*t+3*p*c*n+3*d*(l=c*c)*i+(h=l*c)*o),v=_-(g=f*e+3*p*c*r+3*d*l*a+h*s),b=m,_=g,u+=Math.sqrt(y*y+v*v);return u},t.curveTo=function(e,n,r,i,a,o,s){var u=s[s.length-2],c=s[s.length-1];s.length-=2;var l=K._segmentsCount(t.curveLength(u,c,e,n,r,i,a,o)),h=0,d=0,p=0,f=0,m=0;s.push(u,c);for(var g=1,y=0;g<=l;++g)p=(d=(h=1-(y=g/l))*h)*h,m=(f=y*y)*y,s.push(p*u+3*d*y*e+3*h*f*r+m*a,p*c+3*d*y*n+3*h*f*i+m*o)},t}(),lt=function(){function t(){}return t.curveLength=function(t,e,n,r,i,a){var o=t-2*n+i,s=e-2*r+a,u=2*n-2*t,c=2*r-2*e,l=4*(o*o+s*s),h=4*(o*u+s*c),d=u*u+c*c,p=2*Math.sqrt(l+h+d),f=Math.sqrt(l),m=2*l*f,g=2*Math.sqrt(d),y=h/f;return(m*p+f*h*(p-g)+(4*d*l-h*h)*Math.log((2*f+y+p)/(y+g)))/(4*m)},t.curveTo=function(e,n,r,i,a){for(var o=a[a.length-2],s=a[a.length-1],u=K._segmentsCount(t.curveLength(o,s,e,n,r,i)),c=0,l=0,h=1;h<=u;++h){var d=h/u;c=o+(e-o)*d,l=s+(n-s)*d,a.push(c+(e+(r-e)*d-c)*d,l+(n+(i-n)*d-l)*d)}},t}(),ht=function(){function t(){this.reset()}return t.prototype.begin=function(t,e,n){this.reset(),this.style=t,this.start=e,this.attribStart=n},t.prototype.end=function(t,e){this.attribSize=e-this.attribStart,this.size=t-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),dt=((st={})[p.l.POLY]=Q,st[p.l.CIRC]=$,st[p.l.ELIP]=$,st[p.l.RECT]=tt,st[p.l.RREC]=rt,st),pt=[],ft=[],mt=function(){function t(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null),this.shape=t,this.lineStyle=n,this.fillStyle=e,this.matrix=r,this.type=t.type,this.points=[],this.holes=[]}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),gt=new p.g,yt=new f,vt=function(t){function e(){var e=t.call(this)||this;return e.uvsFloat32=null,e.indicesUint16=null,e.points=[],e.colors=[],e.uvs=[],e.indices=[],e.textureIds=[],e.graphicsData=[],e.dirty=0,e.batchDirty=-1,e.cacheDirty=-1,e.clearDirty=0,e.drawCalls=[],e.batches=[],e.shapeIndex=0,e._bounds=new f,e.boundsDirty=-1,e.boundsPadding=0,e.batchable=!1,e.indicesUint16=null,e.uvsFloat32=null,e.closePointEps=1e-4,e}return J(e,t),Object.defineProperty(e.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),ft.push(this.drawCalls[t]);this.drawCalls.length=0;for(t=0;t<this.batches.length;t++){var e=this.batches[t];e.reset(),pt.push(e)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=null),void 0===r&&(r=null);var i=new mt(t,e,n,r);return this.graphicsData.push(i),this.dirty++,this},e.prototype.drawHole=function(t,e){if(void 0===e&&(e=null),!this.graphicsData.length)return null;var n=new mt(t,null,null,e),r=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=r.lineStyle,r.holes.push(n),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(t){for(var e=this.graphicsData,n=0;n<e.length;++n){var r=e[n];if(r.fillStyle.visible&&(r.shape&&(r.matrix?r.matrix.applyInverse(t,gt):gt.copyFrom(t),r.shape.contains(gt.x,gt.y)))){var i=!1;if(r.holes)for(var a=0;a<r.holes.length;a++){if(r.holes[a].shape.contains(gt.x,gt.y)){i=!0;break}}if(!i)return!0}}return!1},e.prototype.updateBatches=function(t){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var e=this.uvs,n=this.graphicsData,r=null,i=null;this.batches.length>0&&(i=(r=this.batches[this.batches.length-1]).style);for(var a=this.shapeIndex;a<n.length;a++){this.shapeIndex++;var o=n[a],s=o.fillStyle,u=o.lineStyle;dt[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix);for(var c=0;c<2;c++){var l=0===c?s:u;if(l.visible){var h=l.texture.baseTexture,d=this.indices.length,p=this.points.length/2;h.wrapMode=U.q.REPEAT,0===c?this.processFill(o):this.processLine(o);var f=this.points.length/2-p;0!==f&&(r&&!this._compareStyles(i,l)&&(r.end(d,p),r=null),r||((r=pt.pop()||new ht).begin(l,d,p),this.batches.push(r),i=l),this.addUvs(this.points,e,l.texture,p,f,l.matrix))}}}var m=this.indices.length,g=this.points.length/2;if(r&&r.end(m,g),0!==this.batches.length){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var y=g>65535&&t;this.indicesUint16=y?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},e.prototype._compareStyles=function(t,e){return!(!t||!e)&&(t.texture.baseTexture===e.texture.baseTexture&&(t.color+t.alpha===e.color+e.alpha&&!!t.native==!!e.native))},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var t=0,e=this.graphicsData.length;t<e;t++){var n=this.graphicsData[t],r=n.fillStyle,i=n.lineStyle;if(r&&!r.texture.baseTexture.valid)return!1;if(i&&!i.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var t=this.batches,e=0,n=t.length;e<n;e++)for(var r=t[e],i=0;i<r.size;i++){var a=r.start+i;this.indicesUint16[a]=this.indicesUint16[a]-r.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var t=this.batches,n=0;n<t.length;n++)if(t[n].style.native)return!1;return this.points.length<2*e.BATCHABLE_SIZE},e.prototype.buildDrawCalls=function(){for(var t=++P.h._globalBatch,e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),ft.push(this.drawCalls[e]);this.drawCalls.length=0;var n=this.colors,r=this.textureIds,i=ft.pop();i||((i=new P.i).texArray=new P.o),i.texArray.count=0,i.start=0,i.size=0,i.type=U.e.TRIANGLES;var a=0,o=null,s=0,u=!1,c=U.e.TRIANGLES,l=0;this.drawCalls.push(i);for(e=0;e<this.batches.length;e++){var h=this.batches[e],d=h.style,p=d.texture.baseTexture;u!==!!d.native&&(c=(u=!!d.native)?U.e.LINES:U.e.TRIANGLES,o=null,a=8,t++),o!==p&&(o=p,p._batchEnabled!==t&&(8===a&&(t++,a=0,i.size>0&&((i=ft.pop())||((i=new P.i).texArray=new P.o),this.drawCalls.push(i)),i.start=l,i.size=0,i.texArray.count=0,i.type=c),p.touched=1,p._batchEnabled=t,p._batchLocation=a,p.wrapMode=10497,i.texArray.elements[i.texArray.count++]=p,a++)),i.size+=h.size,l+=h.size,s=p._batchLocation,this.addColors(n,d.color,d.alpha,h.attribSize),this.addTextureIds(r,s,h.attribSize)}P.h._globalBatch=t,this.packAttributes()},e.prototype.packAttributes=function(){for(var t=this.points,e=this.uvs,n=this.colors,r=this.textureIds,i=new ArrayBuffer(3*t.length*4),a=new Float32Array(i),o=new Uint32Array(i),s=0,u=0;u<t.length/2;u++)a[s++]=t[2*u],a[s++]=t[2*u+1],a[s++]=e[2*u],a[s++]=e[2*u+1],o[s++]=n[u],a[s++]=r[u];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(t){t.holes.length?(this.processHoles(t.holes),Q.triangulate(t,this)):dt[t.type].triangulate(t,this)},e.prototype.processLine=function(t){ot(t,this);for(var e=0;e<t.holes.length;e++)ot(t.holes[e],this)},e.prototype.processHoles=function(t){for(var e=0;e<t.length;e++){var n=t[e];dt[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}},e.prototype.calculateBounds=function(){var t=this._bounds,e=yt,n=p.d.IDENTITY;this._bounds.clear(),e.clear();for(var r=0;r<this.graphicsData.length;r++){var i=this.graphicsData[r],a=i.shape,o=i.type,s=i.lineStyle,u=i.matrix||p.d.IDENTITY,c=0;if(s&&s.visible){var l=s.alignment;c=s.width,o===p.l.POLY?c*=.5+Math.abs(.5-l):c*=Math.max(0,l)}if(n!==u&&(e.isEmpty()||(t.addBoundsMatrix(e,n),e.clear()),n=u),o===p.l.RECT||o===p.l.RREC){var h=a;e.addFramePad(h.x,h.y,h.x+h.width,h.y+h.height,c,c)}else if(o===p.l.CIRC){var d=a;e.addFramePad(d.x,d.y,d.x,d.y,d.radius+c,d.radius+c)}else if(o===p.l.ELIP){var f=a;e.addFramePad(f.x,f.y,f.x,f.y,f.width+c,f.height+c)}else{var m=a;t.addVerticesMatrix(n,m.points,0,m.points.length,c,c)}}e.isEmpty()||t.addBoundsMatrix(e,n),t.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(t,e){for(var n=0;n<t.length/2;n++){var r=t[2*n],i=t[2*n+1];t[2*n]=e.a*r+e.c*i+e.tx,t[2*n+1]=e.b*r+e.d*i+e.ty}},e.prototype.addColors=function(t,e,n,r){for(var i=(e>>16)+(65280&e)+((255&e)<<16),a=Object(h.premultiplyTint)(i,n);r-- >0;)t.push(a)},e.prototype.addTextureIds=function(t,e,n){for(;n-- >0;)t.push(e)},e.prototype.addUvs=function(t,e,n,r,i,a){void 0===a&&(a=null);for(var o=0,s=e.length,u=n.frame;o<i;){var c=t[2*(r+o)],l=t[2*(r+o)+1];if(a){var h=a.a*c+a.c*l+a.tx;l=a.b*c+a.d*l+a.ty,c=h}o++,e.push(c/u.width,l/u.height)}var d=n.baseTexture;(u.width<d.width||u.height<d.height)&&this.adjustUvs(e,n,s,i)},e.prototype.adjustUvs=function(t,e,n,r){for(var i=e.baseTexture,a=1e-6,o=n+2*r,s=e.frame,u=s.width/i.width,c=s.height/i.height,l=s.x/s.width,h=s.y/s.height,d=Math.floor(t[n]+a),p=Math.floor(t[n+1]+a),f=n+2;f<o;f+=2)d=Math.min(d,Math.floor(t[f]+a)),p=Math.min(p,Math.floor(t[f+1]+a));l-=d,h-=p;for(f=n;f<o;f+=2)t[f]=(t[f]+l)*u,t[f+1]=(t[f+1]+h)*c},e.BATCHABLE_SIZE=100,e}(P.j),bt=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.width=0,e.alignment=.5,e.native=!1,e.cap=z.BUTT,e.join=H.MITER,e.miterLimit=10,e}return J(e,t),e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(q),_t=new Float32Array(3),wt={},xt=function(t){function e(e){void 0===e&&(e=null);var n=t.call(this)||this;return n._geometry=e||new vt,n._geometry.refCount++,n.shader=null,n.state=P.Z.for2d(),n._fillStyle=new q,n._lineStyle=new bt,n._matrix=null,n._holeMode=!1,n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n.pluginName="batch",n._transformID=-1,n.tint=16777215,n.blendMode=U.b.NORMAL,n}return J(e,t),Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(t,e,n,r,i){return void 0===t&&(t=null),void 0===e&&(e=0),void 0===n&&(n=1),void 0===r&&(r=.5),void 0===i&&(i=!1),"number"==typeof t&&(t={width:t,color:e,alpha:n,alignment:r,native:i}),this.lineTextureStyle(t)},e.prototype.lineTextureStyle=function(t){t=Object.assign({width:0,texture:P.db.WHITE,color:t&&t.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:z.BUTT,join:H.MITER,miterLimit:10},t),this.currentPath&&this.startPoly();var e=t.width>0&&t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:e},t)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new p.h,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new p.h,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this},e.prototype.lineTo=function(t,e){this.currentPath||this.moveTo(0,0);var n=this.currentPath.points,r=n[n.length-2],i=n[n.length-1];return r===t&&i===e||n.push(t,e),this},e.prototype._initCurve=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[t,e]):this.moveTo(t,e)},e.prototype.quadraticCurveTo=function(t,e,n,r){this._initCurve();var i=this.currentPath.points;return 0===i.length&&this.moveTo(0,0),lt.curveTo(t,e,n,r,i),this},e.prototype.bezierCurveTo=function(t,e,n,r,i,a){return this._initCurve(),ct.curveTo(t,e,n,r,i,a,this.currentPath.points),this},e.prototype.arcTo=function(t,e,n,r,i){this._initCurve(t,e);var a=this.currentPath.points,o=ut.curveTo(t,e,n,r,i,a);if(o){var s=o.cx,u=o.cy,c=o.radius,l=o.startAngle,h=o.endAngle,d=o.anticlockwise;this.arc(s,u,c,l,h,d)}return this},e.prototype.arc=function(t,e,n,r,i,a){if(void 0===a&&(a=!1),r===i)return this;if(!a&&i<=r?i+=p.f:a&&r<=i&&(r+=p.f),0===i-r)return this;var o=t+Math.cos(r)*n,s=e+Math.sin(r)*n,u=this._geometry.closePointEps,c=this.currentPath?this.currentPath.points:null;if(c){var l=Math.abs(c[c.length-2]-o),h=Math.abs(c[c.length-1]-s);l<u&&h<u||c.push(o,s)}else this.moveTo(o,s),c=this.currentPath.points;return ut.arc(o,s,t,e,n,r,i,a,c),this},e.prototype.beginFill=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=1),this.beginTextureFill({texture:P.db.WHITE,color:t,alpha:e})},e.prototype.beginTextureFill=function(t){t=Object.assign({texture:P.db.WHITE,color:16777215,alpha:1,matrix:null},t),this.currentPath&&this.startPoly();var e=t.alpha>0;return e?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:e},t)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(t,e,n,r){return this.drawShape(new p.j(t,e,n,r))},e.prototype.drawRoundedRect=function(t,e,n,r,i){return this.drawShape(new p.k(t,e,n,r,i))},e.prototype.drawCircle=function(t,e,n){return this.drawShape(new p.a(t,e,n))},e.prototype.drawEllipse=function(t,e,n,r){return this.drawShape(new p.c(t,e,n,r))},e.prototype.drawPolygon=function(){for(var t,e=arguments,n=[],r=0;r<arguments.length;r++)n[r]=e[r];var i=!0,a=n[0];a.points?(i=a.closeStroke,t=a.points):t=Array.isArray(n[0])?n[0]:n;var o=new p.h(t);return o.closeStroke=i,this.drawShape(o),this},e.prototype.drawShape=function(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var t=this._geometry.graphicsData;return 1===t.length&&t[0].shape.type===p.l.RECT&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)},e.prototype._render=function(t){this.finishPoly();var e=this._geometry,n=t.context.supports.uint32Indices;e.updateBatches(n),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))},e.prototype._populateBatches=function(){var t=this._geometry,e=this.blendMode,n=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(t.points);for(var r=0;r<n;r++){var i=t.batches[r],a=i.style.color,o=new Float32Array(this.vertexData.buffer,4*i.attribStart*2,2*i.attribSize),s=new Float32Array(t.uvsFloat32.buffer,4*i.attribStart*2,2*i.attribSize),u={vertexData:o,blendMode:e,indices:new Uint16Array(t.indicesUint16.buffer,2*i.start,i.size),uvs:s,_batchRGB:Object(h.hex2rgb)(a),_tintRGB:a,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[r]=u}},e.prototype._renderBatched=function(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var e=0,n=this.batches.length;e<n;e++){var r=this.batches[e];r.worldAlpha=this.worldAlpha*r.alpha,t.plugins[this.pluginName].render(r)}}},e.prototype._renderDirect=function(t){var e=this._resolveDirectShader(t),n=this._geometry,r=this.tint,i=this.worldAlpha,a=e.uniforms,o=n.drawCalls;a.translationMatrix=this.transform.worldTransform,a.tint[0]=(r>>16&255)/255*i,a.tint[1]=(r>>8&255)/255*i,a.tint[2]=(255&r)/255*i,a.tint[3]=i,t.shader.bind(e),t.geometry.bind(n,e),t.state.set(this.state);for(var s=0,u=o.length;s<u;s++)this._renderDrawCallDirect(t,n.drawCalls[s])},e.prototype._renderDrawCallDirect=function(t,e){for(var n=e.texArray,r=e.type,i=e.size,a=e.start,o=n.count,s=0;s<o;s++)t.texture.bind(n.elements[s],s);t.geometry.draw(r,i,a)},e.prototype._resolveDirectShader=function(t){var e=this.shader,n=this.pluginName;if(!e){if(!wt[n]){for(var r=t.plugins.batch.MAX_TEXTURES,i=new Int32Array(r),a=0;a<r;a++)i[a]=a;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new p.d,default:P.ib.from({uSamplers:i},!0)},s=t.plugins[n]._shader.program;wt[n]=new P.W(s,o)}e=wt[n]}return e},e.prototype._calculateBounds=function(){this.finishPoly();var t=this._geometry;if(t.graphicsData.length){var e=t.bounds,n=e.minX,r=e.minY,i=e.maxX,a=e.maxY;this._bounds.addFrame(this.transform,n,r,i,a)}},e.prototype.containsPoint=function(t){return this.worldTransform.applyInverse(t,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var t=Object(h.hex2rgb)(this.tint,_t),e=0;e<this.batches.length;e++){var n=this.batches[e],r=n._batchRGB,i=(t[0]*r[0]*255<<16)+(t[1]*r[1]*255<<8)+(0|t[2]*r[2]*255);n._tintRGB=(i>>16)+(65280&i)+((255&i)<<16)}}},e.prototype.calculateVertices=function(){var t=this.transform._worldID;if(this._transformID!==t){this._transformID=t;for(var e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,a=e.d,o=e.tx,s=e.ty,u=this._geometry.points,c=this.vertexData,l=0,h=0;h<u.length;h+=2){var d=u[h],p=u[h+1];c[l++]=n*d+i*p+o,c[l++]=a*p+r*d+s}}},e.prototype.closePath=function(){var t=this.currentPath;return t&&(t.closeStroke=!0),this},e.prototype.setMatrix=function(t){return this._matrix=t,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(e){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,e)},e._TEMP_POINT=new p.g,e}(_),St={buildPoly:Q,buildCircle:$,buildRectangle:tt,buildRoundedRectangle:rt,buildLine:ot,ArcUtils:ut,BezierUtils:ct,QuadraticUtils:lt,BatchPart:ht,FILL_COMMANDS:dt,BATCH_POOL:pt,DRAW_CALL_POOL:ft},Tt=function(t,e){return(Tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Mt,Et=new p.g,At=new Uint16Array([0,1,2,0,2,3]),kt=function(t){function e(e){var n=t.call(this)||this;return n._anchor=new p.e(n._onAnchorUpdate,n,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=U.b.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=e||P.db.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=At,n.pluginName="batch",n.isSprite=!0,n._roundPixels=d.b.ROUND_PIXELS,n}return function(t,e){function n(){this.constructor=t}Tt(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Object(h.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Object(h.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var t=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==t._updateID){this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;var e=this.transform.worldTransform,n=e.a,r=e.b,i=e.c,a=e.d,o=e.tx,s=e.ty,u=this.vertexData,c=t.trim,l=t.orig,h=this._anchor,p=0,f=0,m=0,g=0;if(c?(p=(f=c.x-h._x*l.width)+c.width,m=(g=c.y-h._y*l.height)+c.height):(p=(f=-h._x*l.width)+l.width,m=(g=-h._y*l.height)+l.height),u[0]=n*f+i*g+o,u[1]=a*g+r*f+s,u[2]=n*p+i*g+o,u[3]=a*g+r*p+s,u[4]=n*p+i*m+o,u[5]=a*m+r*p+s,u[6]=n*f+i*m+o,u[7]=a*m+r*f+s,this._roundPixels)for(var y=d.b.RESOLUTION,v=0;v<u.length;++v)u[v]=Math.round((u[v]*y|0)/y)}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,n=t.orig,r=this._anchor,i=this.transform.worldTransform,a=i.a,o=i.b,s=i.c,u=i.d,c=i.tx,l=i.ty,h=-r._x*n.width,d=h+n.width,p=-r._y*n.height,f=p+n.height;e[0]=a*h+s*p+c,e[1]=u*p+o*h+l,e[2]=a*d+s*p+c,e[3]=u*p+o*d+l,e[4]=a*d+s*f+c,e[5]=u*f+o*d+l,e[6]=a*h+s*f+c,e[7]=u*f+o*h+l},e.prototype._render=function(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new p.j),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,Et);var e=this._texture.orig.width,n=this._texture.orig.height,r=-e*this.anchor.x,i=0;return Et.x>=r&&Et.x<r+e&&(i=-n*this.anchor.y,Et.y>=i&&Et.y<i+n)},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof e?e:e&&e.texture){var n="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!n)}this._texture=null},e.from=function(t,n){return new e(t instanceof P.db?t:P.db.from(t,n))},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=Object(h.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=Object(h.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||P.db.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(_),Ct=function(t,e){return(Ct=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};!function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(Mt||(Mt={}));var Ot={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Mt.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Lt=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Rt=function(){function t(t){this.styleID=0,this.reset(),It(this,t,t)}return t.prototype.clone=function(){var e={};return It(e,this,Ot),new t(e)},t.prototype.reset=function(){It(this,Ot,Ot)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(t){var e=Dt(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(t){var e=Dt(t);this._fill!==e&&(this._fill=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(t){(function(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0})(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(t){this._leading!==t&&(this._leading=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(t){var e=Dt(t);this._stroke!==e&&(this._stroke=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var n=e.length-1;n>=0;n--){var r=e[n].trim();!/([\"\'])[^\'\"]+\1/.test(r)&&Lt.indexOf(r)<0&&(r='"'+r+'"'),e[n]=r}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},t}();function Pt(t){return"number"==typeof t?Object(h.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function Dt(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=Pt(t[e]);return t}return Pt(t)}function It(t,e,n){for(var r in n)Array.isArray(e[r])?t[r]=e[r].slice():t[r]=e[r]}var Bt=function(){function t(t,e,n,r,i,a,o,s,u){this.text=t,this.style=e,this.width=n,this.height=r,this.lines=i,this.lineWidths=a,this.lineHeight=o,this.maxLineWidth=s,this.fontProperties=u}return t.measureText=function(e,n,r,i){void 0===i&&(i=t._canvas),r=null==r?n.wordWrap:r;var a=n.toFontString(),o=t.measureFont(a);0===o.fontSize&&(o.fontSize=n.fontSize,o.ascent=n.fontSize);var s=i.getContext("2d");s.font=a;for(var u=(r?t.wordWrap(e,n,i):e).split(/(?:\r\n|\r|\n)/),c=new Array(u.length),l=0,h=0;h<u.length;h++){var d=s.measureText(u[h]).width+(u[h].length-1)*n.letterSpacing;c[h]=d,l=Math.max(l,d)}var p=l+n.strokeThickness;n.dropShadow&&(p+=n.dropShadowDistance);var f=n.lineHeight||o.fontSize+n.strokeThickness,m=Math.max(f,o.fontSize+n.strokeThickness)+(u.length-1)*(f+n.leading);return n.dropShadow&&(m+=n.dropShadowDistance),new t(e,n,p,m,u,c,f+n.leading,l,o)},t.wordWrap=function(e,n,r){void 0===r&&(r=t._canvas);for(var i=r.getContext("2d"),a=0,o="",s="",u=Object.create(null),c=n.letterSpacing,l=n.whiteSpace,h=t.collapseSpaces(l),d=t.collapseNewlines(l),p=!h,f=n.wordWrapWidth+c,m=t.tokenize(e),g=0;g<m.length;g++){var y=m[g];if(t.isNewline(y)){if(!d){s+=t.addLine(o),p=!h,o="",a=0;continue}y=" "}if(h){var v=t.isBreakingSpace(y),b=t.isBreakingSpace(o[o.length-1]);if(v&&b)continue}var _=t.getFromCache(y,c,u,i);if(_>f)if(""!==o&&(s+=t.addLine(o),o="",a=0),t.canBreakWords(y,n.breakWords))for(var w=t.wordWrapSplit(y),x=0;x<w.length;x++){for(var S=w[x],T=1;w[x+T];){var M=w[x+T],E=S[S.length-1];if(t.canBreakChars(E,M,y,x,n.breakWords))break;S+=M,T++}x+=S.length-1;var A=t.getFromCache(S,c,u,i);A+a>f&&(s+=t.addLine(o),p=!1,o="",a=0),o+=S,a+=A}else{o.length>0&&(s+=t.addLine(o),o="",a=0);var k=g===m.length-1;s+=t.addLine(y,!k),p=!1,o="",a=0}else _+a>f&&(p=!1,s+=t.addLine(o),o="",a=0),(o.length>0||!t.isBreakingSpace(y)||p)&&(o+=y,a+=_)}return s+=t.addLine(o,!1)},t.addLine=function(e,n){return void 0===n&&(n=!0),e=t.trimRight(e),e=n?e+"\n":e},t.getFromCache=function(t,e,n,r){var i=n[t];if("number"!=typeof i){var a=t.length*e;i=r.measureText(t).width+a,n[t]=i}return i},t.collapseSpaces=function(t){return"normal"===t||"pre-line"===t},t.collapseNewlines=function(t){return"normal"===t},t.trimRight=function(e){if("string"!=typeof e)return"";for(var n=e.length-1;n>=0;n--){var r=e[n];if(!t.isBreakingSpace(r))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return"string"==typeof e&&t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,n){return"string"==typeof e&&t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var n=[],r="";if("string"!=typeof e)return n;for(var i=0;i<e.length;i++){var a=e[i],o=e[i+1];t.isBreakingSpace(a,o)||t.isNewline(a)?(""!==r&&(n.push(r),r=""),n.push(a)):r+=a}return""!==r&&n.push(r),n},t.canBreakWords=function(t,e){return e},t.canBreakChars=function(t,e,n,r,i){return!0},t.wordWrapSplit=function(t){return t.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var n={ascent:0,descent:0,fontSize:0},r=t._canvas,i=t._context;i.font=e;var a=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(i.measureText(a).width),s=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=t.HEIGHT_MULTIPLIER*s;s=s*t.BASELINE_MULTIPLIER|0,r.width=o,r.height=u,i.fillStyle="#f00",i.fillRect(0,0,o,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(a,0,s);var c=i.getImageData(0,0,o,u).data,l=c.length,h=4*o,d=0,p=0,f=!1;for(d=0;d<s;++d){for(var m=0;m<h;m+=4)if(255!==c[p+m]){f=!0;break}if(f)break;p+=h}for(n.ascent=s-d,p=l-h,f=!1,d=u;d>s;--d){for(m=0;m<h;m+=4)if(255!==c[p+m]){f=!0;break}if(f)break;p-=h}return n.descent=d-s,n.fontSize=n.ascent+n.descent,t._fonts[e]=n,n},t.clearMetrics=function(e){void 0===e&&(e=""),e?delete t._fonts[e]:t._fonts={}},t}(),Nt=function(){try{var t=new OffscreenCanvas(0,0),e=t.getContext("2d");return e&&e.measureText?t:document.createElement("canvas")}catch(t){return document.createElement("canvas")}}();Nt.width=Nt.height=10,Bt._canvas=Nt,Bt._context=Nt.getContext("2d"),Bt._fonts={},Bt.METRICS_STRING="|q",Bt.BASELINE_SYMBOL="M",Bt.BASELINE_MULTIPLIER=1.4,Bt.HEIGHT_MULTIPLIER=2,Bt._newlines=[10,13],Bt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var jt={texture:!0,children:!1,baseTexture:!0},Ft=function(t){function e(e,n,r){var i=this,a=!1;r||(r=document.createElement("canvas"),a=!0),r.width=3,r.height=3;var o=P.db.from(r);return o.orig=new p.j,o.trim=new p.j,(i=t.call(this,o)||this)._ownCanvas=a,i.canvas=r,i.context=i.canvas.getContext("2d"),i._resolution=d.b.RESOLUTION,i._autoResolution=!0,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=e,i.style=n,i.localStyleID=-1,i}return function(t,e){function n(){this.constructor=t}Ct(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var n,r,i=this.context,a=Bt.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=a.width,s=a.height,u=a.lines,c=a.lineHeight,l=a.lineWidths,d=a.maxLineWidth,p=a.fontProperties;this.canvas.width=Math.ceil((Math.max(1,o)+2*e.padding)*this._resolution),this.canvas.height=Math.ceil((Math.max(1,s)+2*e.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=e.strokeThickness,i.textBaseline=e.textBaseline,i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit;for(var f=e.dropShadow?2:1,m=0;m<f;++m){var g=e.dropShadow&&0===m,y=g?Math.ceil(Math.max(1,s)+2*e.padding):0,v=y*this._resolution;if(g){i.fillStyle="black",i.strokeStyle="black";var b=e.dropShadowColor,_=Object(h.hex2rgb)("number"==typeof b?b:Object(h.string2hex)(b));i.shadowColor="rgba("+255*_[0]+","+255*_[1]+","+255*_[2]+","+e.dropShadowAlpha+")",i.shadowBlur=e.dropShadowBlur,i.shadowOffsetX=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,i.shadowOffsetY=Math.sin(e.dropShadowAngle)*e.dropShadowDistance+v}else i.fillStyle=this._generateFillStyle(e,u,a),i.strokeStyle=e.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;for(var w=0;w<u.length;w++)n=e.strokeThickness/2,r=e.strokeThickness/2+w*c+p.ascent,"right"===e.align?n+=d-l[w]:"center"===e.align&&(n+=(d-l[w])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(u[w],n+e.padding,r+e.padding-y,!0),e.fill&&this.drawLetterSpacing(u[w],n+e.padding,r+e.padding-y)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,n,r){void 0===r&&(r=!1);var i=this._style.letterSpacing;if(0!==i)for(var a=e,o=Array.from?Array.from(t):t.split(""),s=this.context.measureText(t).width,u=0,c=0;c<o.length;++c){var l=o[c];r?this.context.strokeText(l,a,n):this.context.fillText(l,a,n),a+=s-(u=this.context.measureText(t.substring(c+1)).width)+i,s=u}else r?this.context.strokeText(t,e,n):this.context.fillText(t,e,n)},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=Object(h.trimCanvas)(t);e.data&&(t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0))}var n=this._texture,r=this._style,i=r.trim?0:r.padding,a=n.baseTexture;n.trim.width=n._frame.width=Math.ceil(t.width/this._resolution),n.trim.height=n._frame.height=Math.ceil(t.height/this._resolution),n.trim.x=-i,n.trim.y=-i,n.orig.width=n._frame.width-2*i,n.orig.height=n._frame.height-2*i,this._onTextureUpdate(),a.setRealSize(t.width,t.height,this._resolution),this._recursivePostUpdateTransform(),this.dirty=!1},e.prototype._render=function(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(t,e,n){var r,i=t.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];var a=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,s=Math.ceil(this.canvas.width/this._resolution)-a-2*o,u=Math.ceil(this.canvas.height/this._resolution)-a-2*o,c=i.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var h=c.length+1,d=1;d<h;++d)l.push(d/h);if(c.unshift(i[0]),l.unshift(0),c.push(i[i.length-1]),l.push(1),t.fillGradientType===Mt.LINEAR_VERTICAL){r=this.context.createLinearGradient(s/2,o,s/2,u+o);var p=(n.fontProperties.fontSize+t.strokeThickness)/u;for(d=0;d<e.length;d++)for(var f=n.lineHeight*d,m=0;m<c.length;m++){var g=0;g="number"==typeof l[m]?l[m]:m/c.length;var y=Math.min(1,Math.max(0,f/u+g*p));y=Number(y.toFixed(5)),r.addColorStop(y,c[m])}}else{r=this.context.createLinearGradient(o,u/2,s+o,u/2);var v=c.length+1,b=1;for(d=0;d<c.length;d++){var _=void 0;_="number"==typeof l[d]?l[d]:b/v,r.addColorStop(_,c[d]),b++}}return r},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},jt,e),t.prototype.destroy.call(this,e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=Object(h.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=Object(h.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){t=t||{},this._style=t instanceof Rt?t:new Rt(t),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)},enumerable:!1,configurable:!0}),e}(kt);d.b.UPLOADS_PER_FRAME=4;var Ut=function(t,e){return(Ut=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Yt=function(){function t(t){this.maxItemsPerFrame=t,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function Gt(t,e){var n=!1;if(t&&t._textures&&t._textures.length)for(var r=0;r<t._textures.length;r++)if(t._textures[r]instanceof P.db){var i=t._textures[r].baseTexture;-1===e.indexOf(i)&&(e.push(i),n=!0)}return n}function Ht(t,e){if(t.baseTexture instanceof P.h){var n=t.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function zt(t,e){if(t._texture&&t._texture instanceof P.db){var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function Vt(t,e){return e instanceof Ft&&(e.updateText(!0),!0)}function Wt(t,e){if(e instanceof Rt){var n=e.toFontString();return Bt.measureFont(n),!0}return!1}function Xt(t,e){if(t instanceof Ft){-1===e.indexOf(t.style)&&e.push(t.style),-1===e.indexOf(t)&&e.push(t);var n=t._texture.baseTexture;return-1===e.indexOf(n)&&e.push(n),!0}return!1}function Kt(t,e){return t instanceof Rt&&(-1===e.indexOf(t)&&e.push(t),!0)}var qt=function(){function t(t){var e=this;this.limiter=new Yt(d.b.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){e.queue&&e.prepareItems()},this.registerFindHook(Xt),this.registerFindHook(Kt),this.registerFindHook(Gt),this.registerFindHook(Ht),this.registerFindHook(zt),this.registerUploadHook(Vt),this.registerUploadHook(Wt)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,S.a.system.addOnce(this.tick,this,S.c.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var n=0,r=this.uploadHooks.length;n<r;n++)if(this.uploadHooks[n](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)S.a.system.addOnce(this.tick,this,S.c.UTILITY);else{this.ticking=!1;var i=this.completes.slice(0);this.completes.length=0;for(n=0,r=i.length;n<r;n++)i[n]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,n=this.addHooks.length;e<n&&!this.addHooks[e](t,this.queue);e++);if(t instanceof _)for(e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this},t.prototype.destroy=function(){this.ticking&&S.a.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function Zt(t,e){return e instanceof P.h&&(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0)}function Jt(t,e){if(!(e instanceof xt))return!1;var n=e.geometry;e.finishPoly(),n.updateBatches();for(var r=n.batches,i=0;i<r.length;i++){var a=r[i].style.texture;a&&Zt(t,a.baseTexture)}return n.batchable||t.geometry.bind(n,e._resolveDirectShader(t)),!0}function Qt(t,e){return t instanceof xt&&(e.push(t),!0)}var $t=function(t){function e(e){var n=t.call(this,e)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(Qt),n.registerUploadHook(Zt),n.registerUploadHook(Jt),n}return function(t,e){function n(){this.constructor=t}Ut(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(qt),te=function(){function t(t){this.maxMilliseconds=t,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}(),ee=function(){function t(t,e,n){void 0===n&&(n=null),this._texture=t instanceof P.db?t:null,this.baseTexture=t instanceof P.h?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;var r=this.baseTexture.resource;this.resolution=this._updateResolution(n||(r?r.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(t){void 0===t&&(t=null);var e=this.data.meta.scale,n=Object(h.getResolutionOfUrl)(t,null);return null===n&&(n=void 0!==e?parseFloat(e):1),1!==n&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var n=e,r=t.BATCH_SIZE;n-e<r&&n<this._frameKeys.length;){var i=this._frameKeys[n],a=this._frames[i],o=a.frame;if(o){var s=null,u=null,c=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,l=new p.j(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);s=a.rotated?new p.j(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):new p.j(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(u=new p.j(Math.floor(a.spriteSourceSize.x)/this.resolution,Math.floor(a.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new P.db(this.baseTexture,s,l,u,a.rotated?2:0,a.anchor),P.db.addToCache(this.textures[i],i)}n++}},t.prototype._processAnimations=function(){var t=this.data.animations||{};for(var e in t){this.animations[e]=[];for(var n=0;n<t[e].length;n++){var r=t[e][n];this.animations[e].push(this.textures[r])}}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout((function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())}),0)},t.prototype.destroy=function(t){var e;for(var n in void 0===t&&(t=!1),this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&(null===(e=this._texture)||void 0===e||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},t.BATCH_SIZE=1e3,t}(),ne=function(){function t(){}return t.use=function(e,n){var r,i,a=this,o=e.name+"_image";if(e.data&&e.type===j.c.TYPE.JSON&&e.data.frames&&!a.resources[o]){var s=null===(i=null===(r=e.data)||void 0===r?void 0:r.meta)||void 0===i?void 0:i.related_multi_packs;if(Array.isArray(s))for(var u=function(t){if("string"!=typeof t)return"continue";var n=t.replace(".json",""),r=h.url.resolve(e.url.replace(a.baseUrl,""),t);if(a.resources[n]||Object.values(a.resources).some((function(t){return h.url.format(h.url.parse(t.url))===r})))return"continue";var i={crossOrigin:e.crossOrigin,loadType:j.c.LOAD_TYPE.XHR,xhrType:j.c.XHR_RESPONSE_TYPE.JSON,parentResource:e};a.add(n,r,i)},c=0,l=s;c<l.length;c++){u(l[c])}var d={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},p=t.getResourcePath(e,a.baseUrl);a.add(o,p,d,(function(t){if(t.error)n(t.error);else{var r=new ee(t.texture,e.data,e.url);r.parse((function(){e.spritesheet=r,e.textures=r.textures,n()}))}}))}else n()},t.getResourcePath=function(t,e){return t.isDataUrl?t.data.meta.image:h.url.resolve(t.url.replace(e,""),t.data.meta.image)},t}(),re=function(t,e){return(re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function ie(t,e){function n(){this.constructor=t}re(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var ae=new p.g,oe=function(t){function e(e,n,r){void 0===n&&(n=100),void 0===r&&(r=100);var i=t.call(this,e)||this;return i.tileTransform=new p.m,i._width=n,i._height=r,i.uvMatrix=i.texture.uvMatrix||new P.fb(e),i.pluginName="tilingSprite",i.uvRespectAnchor=!1,i}return ie(e,t),Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copyFrom(t)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),r=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,n,r)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new p.j),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,ae);var e=this._width,n=this._height,r=-e*this.anchor._x;if(ae.x>=r&&ae.x<r+e){var i=-n*this.anchor._y;if(ae.y>=i&&ae.y<i+n)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvMatrix=null},e.from=function(t,n){return new e(P.db.from(t,n),n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!1,configurable:!0}),e}(kt),se="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",ue=new p.d,ce=function(t){function e(e){var n=t.call(this,e)||this,r={globals:n.renderer.globalUniforms};return n.shader=P.W.from(se,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture2D(uSampler, coord);\n    gl_FragColor = texSample * uColor;\n}\n",r),n.simpleShader=P.W.from(se,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n",r),n.quad=new P.O,n.state=P.Z.for2d(),n}return ie(e,t),e.prototype.render=function(t){var e=this.renderer,n=this.quad,r=n.vertices;r[0]=r[6]=t._width*-t.anchor.x,r[1]=r[3]=t._height*-t.anchor.y,r[2]=r[4]=t._width*(1-t.anchor.x),r[5]=r[7]=t._height*(1-t.anchor.y);var i=t.uvRespectAnchor?t.anchor.x:0,a=t.uvRespectAnchor?t.anchor.y:0;(r=n.uvs)[0]=r[6]=-i,r[1]=r[3]=-a,r[2]=r[4]=1-i,r[5]=r[7]=1-a,n.invalidate();var o=t._texture,s=o.baseTexture,u=t.tileTransform.localTransform,c=t.uvMatrix,l=s.isPowerOfTwo&&o.frame.width===s.width&&o.frame.height===s.height;l&&(s._glTextures[e.CONTEXT_UID]?l=s.wrapMode!==U.q.CLAMP:s.wrapMode===U.q.CLAMP&&(s.wrapMode=U.q.REPEAT));var d=l?this.simpleShader:this.shader,p=o.width,f=o.height,m=t._width,g=t._height;ue.set(u.a*p/m,u.b*p/g,u.c*f/m,u.d*f/g,u.tx/m,u.ty/g),ue.invert(),l?ue.prepend(c.mapCoord):(d.uniforms.uMapCoord=c.mapCoord.toArray(!0),d.uniforms.uClampFrame=c.uClampFrame,d.uniforms.uClampOffset=c.uClampOffset),d.uniforms.uTransform=ue.toArray(!0),d.uniforms.uColor=Object(h.premultiplyTintToRgba)(t.tint,t.worldAlpha,d.uniforms.uColor,s.alphaMode),d.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),d.uniforms.uSampler=o,e.shader.bind(d),e.geometry.bind(n),this.state.blendMode=Object(h.correctBlendMode)(t.blendMode,s.alphaMode),e.state.set(this.state),e.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e}(P.K),le=function(t,e){return(le=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function he(t,e){function n(){this.constructor=t}le(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var de=function(){function t(t,e){this.uvBuffer=t,this.uvMatrix=e,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(t){if(t||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var e=this.uvBuffer.data;this.data&&this.data.length===e.length||(this.data=new Float32Array(e.length)),this.uvMatrix.multiplyUvs(e,this.data),this._updateID++}},t}(),pe=new p.g,fe=new p.h,me=function(t){function e(e,n,r,i){void 0===i&&(i=U.e.TRIANGLES);var a=t.call(this)||this;return a.geometry=e,e.refCount++,a.shader=n,a.state=r||P.Z.for2d(),a.drawMode=i,a.start=0,a.size=0,a.uvs=null,a.indices=null,a.vertexData=new Float32Array(1),a.vertexDirty=0,a._transformID=-1,a._roundPixels=d.b.ROUND_PIXELS,a.batchUvs=null,a}return he(e,t),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(t){this.shader=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(t){this.shader.tint=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(t){this.shader.texture=t},enumerable:!1,configurable:!0}),e.prototype._render=function(t){var n=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===U.e.TRIANGLES&&n.length<2*e.BATCHABLE_SIZE?this._renderToBatch(t):this._renderDefault(t)},e.prototype._renderDefault=function(t){var e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.program.uniformData.translationMatrix&&(e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0)),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(t){var e=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;var r=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[r]),t.plugins[r].render(this)},e.prototype.calculateVertices=function(){var t=this.geometry,e=t.buffers[0].data;if(t.vertexDirtyId!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));for(var n=this.transform.worldTransform,r=n.a,i=n.b,a=n.c,o=n.d,s=n.tx,u=n.ty,c=this.vertexData,l=0;l<c.length/2;l++){var h=e[2*l],p=e[2*l+1];c[2*l]=r*h+a*p+s,c[2*l+1]=i*h+o*p+u}if(this._roundPixels){var f=d.b.RESOLUTION;for(l=0;l<c.length;++l)c[l]=Math.round((c[l]*f|0)/f)}this.vertexDirty=t.vertexDirtyId}},e.prototype.calculateUvs=function(){var t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new de(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,pe);for(var e=this.geometry.getBuffer("aVertexPosition").data,n=fe.points,r=this.geometry.getIndex().data,i=r.length,a=4===this.drawMode?3:1,o=0;o+2<i;o+=a){var s=2*r[o],u=2*r[o+1],c=2*r[o+2];if(n[0]=e[s],n[1]=e[s+1],n[2]=e[u],n[3]=e[u+1],n[4]=e[c],n[5]=e[c+1],fe.contains(pe.x,pe.y))return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.geometry.refCount--,0===this.geometry.refCount&&this.geometry.dispose(),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(_),ge=function(t){function e(e,n){var r=this,i={uSampler:e,alpha:1,uTextureMatrix:p.d.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n)).uniforms&&Object.assign(i,n.uniforms),(r=t.call(this,n.program||P.L.from("attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n"),i)||this)._colorDirty=!1,r.uvMatrix=new P.fb(e),r.batchable=void 0===n.program,r.pluginName=n.pluginName,r.tint=n.tint,r.alpha=n.alpha,r}return he(e,t),Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(t){this.uniforms.uSampler!==t&&(this.uniforms.uSampler=t,this.uvMatrix.texture=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){t!==this._tint&&(this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var t=this.texture.baseTexture;Object(h.premultiplyTintToRgba)(this._tint,this._alpha,this.uniforms.uColor,t.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(P.W),ye=function(t){function e(e,n,r){var i=t.call(this)||this,a=new P.p(e),o=new P.p(n,!0),s=new P.p(r,!0,!0);return i.addAttribute("aVertexPosition",a,2,!1,U.p.FLOAT).addAttribute("aTextureCoord",o,2,!1,U.p.FLOAT).addIndex(s),i._updateId=-1,i}return he(e,t),Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(P.C),ve=function(t,e){return(ve=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var be=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[]},_e=function(){function t(){}return t.test=function(t){return"string"==typeof t&&0===t.indexOf("info face=")},t.parse=function(t){var e=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[]};for(var r in e){var i=e[r].match(/^[a-z]+/gm)[0],a=e[r].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),o={};for(var s in a){var u=a[s].split("="),c=u[0],l=u[1].replace(/"/gm,""),h=parseFloat(l),d=isNaN(h)?l:h;o[c]=d}n[i].push(o)}var p=new be;return n.info.forEach((function(t){return p.info.push({face:t.face,size:parseInt(t.size,10)})})),n.common.forEach((function(t){return p.common.push({lineHeight:parseInt(t.lineHeight,10)})})),n.page.forEach((function(t){return p.page.push({id:parseInt(t.id,10),file:t.file})})),n.char.forEach((function(t){return p.char.push({id:parseInt(t.id,10),page:parseInt(t.page,10),x:parseInt(t.x,10),y:parseInt(t.y,10),width:parseInt(t.width,10),height:parseInt(t.height,10),xoffset:parseInt(t.xoffset,10),yoffset:parseInt(t.yoffset,10),xadvance:parseInt(t.xadvance,10)})})),n.kerning.forEach((function(t){return p.kerning.push({first:parseInt(t.first,10),second:parseInt(t.second,10),amount:parseInt(t.amount,10)})})),p},t}(),we=function(){function t(){}return t.test=function(t){return t instanceof XMLDocument&&t.getElementsByTagName("page").length&&null!==t.getElementsByTagName("info")[0].getAttribute("face")},t.parse=function(t){for(var e=new be,n=t.getElementsByTagName("info"),r=t.getElementsByTagName("common"),i=t.getElementsByTagName("page"),a=t.getElementsByTagName("char"),o=t.getElementsByTagName("kerning"),s=0;s<n.length;s++)e.info.push({face:n[s].getAttribute("face"),size:parseInt(n[s].getAttribute("size"),10)});for(s=0;s<r.length;s++)e.common.push({lineHeight:parseInt(r[s].getAttribute("lineHeight"),10)});for(s=0;s<i.length;s++)e.page.push({id:parseInt(i[s].getAttribute("id"),10)||0,file:i[s].getAttribute("file")});for(s=0;s<a.length;s++){var u=a[s];e.char.push({id:parseInt(u.getAttribute("id"),10),page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xoffset:parseInt(u.getAttribute("xoffset"),10),yoffset:parseInt(u.getAttribute("yoffset"),10),xadvance:parseInt(u.getAttribute("xadvance"),10)})}for(s=0;s<o.length;s++)e.kerning.push({first:parseInt(o[s].getAttribute("first"),10),second:parseInt(o[s].getAttribute("second"),10),amount:parseInt(o[s].getAttribute("amount"),10)});return e},t}(),xe=function(){function t(){}return t.test=function(t){if("string"==typeof t&&t.indexOf("<font>")>-1){var e=(new self.DOMParser).parseFromString(t,"text/xml");return we.test(e)}return!1},t.parse=function(t){var e=(new self.DOMParser).parseFromString(t,"text/xml");return we.parse(e)},t}(),Se=[_e,we,xe];function Te(t){for(var e=0;e<Se.length;e++)if(Se[e].test(t))return Se[e];return null}function Me(t,e,n,r,i,a){var o,s=n.fill;if(!Array.isArray(s))return s;if(1===s.length)return s[0];var u=n.dropShadow?n.dropShadowDistance:0,c=n.padding||0,l=Math.ceil(t.width/r)-u-2*c,h=Math.ceil(t.height/r)-u-2*c,d=s.slice(),p=n.fillGradientStops.slice();if(!p.length)for(var f=d.length+1,m=1;m<f;++m)p.push(m/f);if(d.unshift(s[0]),p.unshift(0),d.push(s[s.length-1]),p.push(1),n.fillGradientType===Mt.LINEAR_VERTICAL){o=e.createLinearGradient(l/2,c,l/2,h+c);var g=0,y=(a.fontProperties.fontSize+n.strokeThickness)/h;for(m=0;m<i.length;m++)for(var v=a.lineHeight*m,b=0;b<d.length;b++){var _=v/h+("number"==typeof p[b]?p[b]:b/d.length)*y,w=Math.max(g,_);w=Math.min(w,1),o.addColorStop(w,d[b]),g=w}}else{o=e.createLinearGradient(c,h/2,l+c,h/2);var x=d.length+1,S=1;for(m=0;m<d.length;m++){var T=void 0;T="number"==typeof p[m]?p[m]:S/x,o.addColorStop(T,d[m]),S++}}return o}function Ee(t,e,n,r,i,a,o){var s=n.text,u=n.fontProperties;e.translate(r,i),e.scale(a,a);var c=o.strokeThickness/2,l=-o.strokeThickness/2;e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=Me(t,e,o,a,[s],n),e.strokeStyle=o.stroke,e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=Me(t,e,o,a,[s],n),e.strokeStyle=o.stroke;var d=o.dropShadowColor,p=Object(h.hex2rgb)("number"==typeof d?d:Object(h.string2hex)(d));o.dropShadow?(e.shadowColor="rgba("+255*p[0]+","+255*p[1]+","+255*p[2]+","+o.dropShadowAlpha+")",e.shadowBlur=o.dropShadowBlur,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*o.dropShadowDistance,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*o.dropShadowDistance):(e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),o.stroke&&o.strokeThickness&&e.strokeText(s,c,l+n.lineHeight-u.descent),o.fill&&e.fillText(s,c,l+n.lineHeight-u.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}var Ae=function(){function t(t,e){var n=t.info[0],r=t.common[0],i=t.page[0],a=Object(h.getResolutionOfUrl)(i.file),o={};this.font=n.face,this.size=n.size,this.lineHeight=r.lineHeight/a,this.chars={},this.pageTextures=o;for(var s=0;s<t.page.length;s++){var u=t.page[s],c=u.id,l=u.file;o[c]=e instanceof Array?e[s]:e[l]}for(s=0;s<t.char.length;s++){var d=t.char[s],f=(c=d.id,d.page),m=t.char[s],g=m.x,y=m.y,v=m.width,b=m.height,_=m.xoffset,w=m.yoffset,x=m.xadvance;g/=a,y/=a,v/=a,b/=a,_/=a,w/=a,x/=a;var S=new p.j(g+o[f].frame.x/a,y+o[f].frame.y/a,v,b);this.chars[c]={xOffset:_,yOffset:w,xAdvance:x,kerning:{},texture:new P.db(o[f].baseTexture,S),page:f}}for(s=0;s<t.kerning.length;s++){var T=t.kerning[s],M=T.first,E=T.second,A=T.amount;M/=a,E/=a,A/=a,this.chars[E]&&(this.chars[E].kerning[M]=A)}}return t.prototype.destroy=function(){for(var t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(var t in this.pageTextures)this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null},t.install=function(e,n){var r;if(e instanceof be)r=e;else{var i=Te(e);if(!i)throw new Error("Unrecognized data format for font.");r=i.parse(e)}n instanceof P.db&&(n=[n]);var a=new t(r,n);return t.available[a.font]=a,a},t.uninstall=function(e){var n=t.available[e];if(!n)throw new Error("No font found named '"+e+"'");n.destroy(),delete t.available[e]},t.from=function(e,n,r){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,r),a=i.chars,o=i.padding,s=i.resolution,u=i.textureWidth,c=i.textureHeight,l=function(t){"string"==typeof t&&(t=[t]);for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n];if(Array.isArray(i)){if(2!==i.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var a=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<a)throw new Error("[BitmapFont]: Invalid character range.");for(var s=a,u=o;s<=u;s++)e.push(String.fromCharCode(s))}else e.push.apply(e,i.split(""))}if(0===e.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}(a),h=n instanceof Rt?n:new Rt(n),d=u,p=new be;p.info[0]={face:h.fontFamily,size:h.fontSize},p.common[0]={lineHeight:h.fontSize};for(var f,m,g,y=0,v=0,b=0,_=[],w=0;w<l.length;w++){f||((f=document.createElement("canvas")).width=u,f.height=c,m=f.getContext("2d"),g=new P.h(f,{resolution:s}),_.push(new P.db(g)),p.page.push({id:_.length-1,file:""}));var x=Bt.measureText(l[w],h,!1,f),S=x.width,T=Math.ceil(x.height),M=Math.ceil(("italic"===h.fontStyle?2:1)*S);if(v>=c-T*s){if(0===v)throw new Error("[BitmapFont] textureHeight "+c+"px is too small for "+h.fontSize+"px fonts");--w,f=null,m=null,g=null,v=0,y=0,b=0}else if(b=Math.max(T+x.fontProperties.descent,b),M*s+y>=d)--w,v+=b*s,v=Math.ceil(v),y=0,b=0;else{Ee(f,m,x,y,v,s,h);var E=x.text.charCodeAt(0);p.char.push({id:E,page:_.length-1,x:y/s,y:v/s,width:M,height:T,xoffset:0,yoffset:0,xadvance:Math.ceil(S-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0))}),y+=(M+2*o)*s,y=Math.ceil(y)}}w=0;for(var A=l.length;w<A;w++)for(var k=l[w],C=0;C<A;C++){var O=l[C],L=m.measureText(k).width,R=m.measureText(O).width,D=m.measureText(k+O).width-(L+R);D&&p.kerning.push({first:k.charCodeAt(0),second:O.charCodeAt(0),amount:D})}var I=new t(p,_);return void 0!==t.available[e]&&t.uninstall(e),t.available[e]=I,I},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),ke=[],Ce=[],Oe=function(t){function e(n,r){void 0===r&&(r={});var i=t.call(this)||this;i._tint=16777215;var a=Object.assign({},e.styleDefaults,r),o=a.align,s=a.tint,u=a.maxWidth,c=a.letterSpacing,l=a.fontName,h=a.fontSize;if(!Ae.available[l])throw new Error('Missing BitmapFont "'+l+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=s,i._fontName=l,i._fontSize=h||Ae.available[l].size,i._text=n,i._maxWidth=u,i._maxLineHeight=0,i._letterSpacing=c,i._anchor=new p.e((function(){i.dirty=!0}),i,0,0),i._roundPixels=d.b.ROUND_PIXELS,i.dirty=!0,i._textureCache={},i}return function(t,e){function n(){this.constructor=t}ve(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.updateText=function(){for(var t,e=Ae.available[this._fontName],n=this._fontSize/e.size,r=new p.g,i=[],a=[],o=[],s=this._text.replace(/(?:\r\n|\r)/g,"\n")||" ",u=s.length,c=this._maxWidth*e.size/this._fontSize,l=null,d=0,f=0,m=0,g=-1,y=0,v=0,b=0,_=0,w=0;w<u;w++){var x=s.charCodeAt(w),S=s.charAt(w);if(/(?:\s)/.test(S)&&(g=w,y=d,_++),"\r"!==S&&"\n"!==S){var T=e.chars[x];if(T){l&&T.kerning[l]&&(r.x+=T.kerning[l]);var M=Ce.pop()||{texture:P.db.EMPTY,line:0,charCode:0,prevSpaces:0,position:new p.g};M.texture=T.texture,M.line=m,M.charCode=x,M.position.x=r.x+T.xOffset+this._letterSpacing/2,M.position.y=r.y+T.yOffset,M.prevSpaces=_,i.push(M),r.x+=T.xAdvance+this._letterSpacing,d=r.x,b=Math.max(b,T.yOffset+T.texture.height),l=x,-1!==g&&c>0&&r.x>c&&(++v,Object(h.removeItems)(i,1+g-v,1+w-g),w=g,g=-1,a.push(y),o.push(i.length>0?i[i.length-1].prevSpaces:0),f=Math.max(f,y),m++,r.x=0,r.y+=e.lineHeight,l=null,_=0)}}else a.push(d),o.push(-1),f=Math.max(f,d),++m,++v,r.x=0,r.y+=e.lineHeight,l=null,_=0}var E=s.charAt(s.length-1);"\r"!==E&&"\n"!==E&&(/(?:\s)/.test(E)&&(d=y),a.push(d),f=Math.max(f,d),o.push(-1));var A=[];for(w=0;w<=m;w++){var k=0;"right"===this._align?k=f-a[w]:"center"===this._align?k=(f-a[w])/2:"justify"===this._align&&(k=o[w]<0?0:(f-a[w])/o[w]),A.push(k)}var C=i.length,O={},L=[],R=this._activePagesMeshData;for(w=0;w<R.length;w++)ke.push(R[w]);for(w=0;w<C;w++){var D=(H=i[w].texture).baseTexture.uid;if(!O[D]){if(!(Z=ke.pop())){var I=new ye,B=new ge(P.db.EMPTY);Z={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:new me(I,B),vertices:null,uvs:null,indices:null}}Z.index=0,Z.indexCount=0,Z.vertexCount=0,Z.uvsCount=0,Z.total=0;var N=this._textureCache;N[D]=N[D]||new P.db(H.baseTexture),Z.mesh.texture=N[D],Z.mesh.tint=this._tint,L.push(Z),O[D]=Z}O[D].total++}for(w=0;w<R.length;w++)-1===L.indexOf(R[w])&&this.removeChild(R[w].mesh);for(w=0;w<L.length;w++)L[w].mesh.parent!==this&&this.addChild(L[w].mesh);for(var w in this._activePagesMeshData=L,O){var j=(Z=O[w]).total;if(!((null===(t=Z.indices)||void 0===t?void 0:t.length)>6*j)||Z.vertices.length<2*me.BATCHABLE_SIZE)Z.vertices=new Float32Array(8*j),Z.uvs=new Float32Array(8*j),Z.indices=new Uint16Array(6*j);else for(var F=Z.total,U=Z.vertices,Y=4*F*2;Y<U.length;Y++)U[Y]=0;Z.mesh.size=6*j}for(w=0;w<C;w++){var G=(S=i[w]).position.x+A[S.line]*("justify"===this._align?S.prevSpaces:1);this._roundPixels&&(G=Math.round(G));var H,z=G*n,V=S.position.y*n,W=O[(H=S.texture).baseTexture.uid],X=H.frame,K=H._uvs,q=W.index++;W.indices[6*q+0]=0+4*q,W.indices[6*q+1]=1+4*q,W.indices[6*q+2]=2+4*q,W.indices[6*q+3]=0+4*q,W.indices[6*q+4]=2+4*q,W.indices[6*q+5]=3+4*q,W.vertices[8*q+0]=z,W.vertices[8*q+1]=V,W.vertices[8*q+2]=z+X.width*n,W.vertices[8*q+3]=V,W.vertices[8*q+4]=z+X.width*n,W.vertices[8*q+5]=V+X.height*n,W.vertices[8*q+6]=z,W.vertices[8*q+7]=V+X.height*n,W.uvs[8*q+0]=K.x0,W.uvs[8*q+1]=K.y0,W.uvs[8*q+2]=K.x1,W.uvs[8*q+3]=K.y1,W.uvs[8*q+4]=K.x2,W.uvs[8*q+5]=K.y2,W.uvs[8*q+6]=K.x3,W.uvs[8*q+7]=K.y3}for(var w in this._textWidth=f*n,this._textHeight=(r.y+e.lineHeight)*n,O){var Z=O[w];if(0!==this.anchor.x||0!==this.anchor.y)for(var J=0,Q=this._textWidth*this.anchor.x,$=this._textHeight*this.anchor.y,tt=0;tt<Z.total;tt++)Z.vertices[J++]-=Q,Z.vertices[J++]-=$,Z.vertices[J++]-=Q,Z.vertices[J++]-=$,Z.vertices[J++]-=Q,Z.vertices[J++]-=$,Z.vertices[J++]-=Q,Z.vertices[J++]-=$;this._maxLineHeight=b*n;var et=Z.mesh.geometry.getBuffer("aVertexPosition"),nt=Z.mesh.geometry.getBuffer("aTextureCoord"),rt=Z.mesh.geometry.getIndex();et.data=Z.vertices,nt.data=Z.uvs,rt.data=Z.indices,et.update(),nt.update(),rt.update()}for(w=0;w<i.length;w++)Ce.push(i[w])},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(t){if(this._tint!==t){this._tint=t;for(var e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(t){if(!Ae.available[t])throw new Error('Missing BitmapFont "'+t+'"');this._fontName!==t&&(this._fontName=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copyFrom(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(t){t=String(null==t?"":t),this._text!==t&&(this._text=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),e.prototype.destroy=function(e){var n=this._textureCache;for(var r in n){n[r].destroy(),delete n[r]}this._textureCache=null,t.prototype.destroy.call(this,e)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(_),Le=function(){function t(){}return t.add=function(){j.c.setExtensionXhrType("fnt",j.c.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,n){var r=Te(e.data);if(r)for(var i=t.getBaseUrl(this,e),a=r.parse(e.data),o={},s=function(t){o[t.metadata.pageFile]=t.texture,Object.keys(o).length===a.page.length&&(e.bitmapFont=Ae.install(a,o),n())},u=0;u<a.page.length;++u){var c=a.page[u].file,l=i+c,h=!1;for(var d in this.resources){var p=this.resources[d];if(p.url===l){p.metadata.pageFile=c,p.texture?s(p):p.onAfterMiddleware.add(s),h=!0;break}}if(!h){var f={crossOrigin:e.crossOrigin,loadType:j.c.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},e.metadata.imageMetadata),parentResource:e};this.add(l,f,s)}}else n()},t.getBaseUrl=function(e,n){var r=n.isDataUrl?"":t.dirname(n.url);return n.isDataUrl&&("."===r&&(r=""),e.baseUrl&&r&&"/"===e.baseUrl.charAt(e.baseUrl.length-1)&&(r+="/")),(r=r.replace(e.baseUrl,""))&&"/"!==r.charAt(r.length-1)&&(r+="/"),r},t.dirname=function(t){var e=t.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return e===t?".":""===e?"/":e},t}(),Re=function(t,e){return(Re=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Pe=function(t){function e(e){void 0===e&&(e=1);var n=t.call(this,P.pb,"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n",{uAlpha:1})||this;return n.alpha=e,n}return function(t,e){function n(){this.constructor=t}Re(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(P.u),De=function(t,e){return(De=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Ie(t,e){function n(){this.constructor=t}De(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Be,Ne,je,Fe,Ue,Ye,Ge,He,ze,Ve,We,Xe,Ke,qe,Ze,Je,Qe,$e={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},tn=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n");!function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(Be||(Be={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(Ne||(Ne={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(je||(je={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(Fe||(Fe={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Ue||(Ue={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Ye||(Ye={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Ge||(Ge={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(He||(He={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(ze||(ze={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Ve||(Ve={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(We||(We={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(Xe||(Xe={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(Ke||(Ke={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(qe||(qe={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(Ze||(Ze={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(Je||(Je={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(Qe||(Qe={}));var en=function(t){function e(e,n,r,i,a){void 0===n&&(n=8),void 0===r&&(r=4),void 0===i&&(i=d.b.FILTER_RESOLUTION),void 0===a&&(a=5);var o=this,s=function(t,e){var n,r=Math.ceil(t/2),i="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }",a="";n=e?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<t;o++){var s=n.replace("%index%",o.toString());a+=s=s.replace("%sampleIndex%",o-(r-1)+".0"),a+="\n"}return i=(i=i.replace("%blur%",a)).replace("%size%",t.toString())}(a,e),u=function(t){for(var e,n=$e[t],r=n.length,i=tn,a="",o=0;o<t;o++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",o.toString());e=o,o>=r&&(e=t-o-1),a+=s=s.replace("%value%",n[e].toString()),a+="\n"}return i=(i=i.replace("%blur%",a)).replace("%size%",t.toString())}(a);return(o=t.call(this,s,u)||this).horizontal=e,o.resolution=i,o._quality=0,o.quality=r,o.blur=n,o}return Ie(e,t),e.prototype.apply=function(t,e,n,r){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/e.width):this.uniforms.strength=1/n.height*(n.height/e.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/e.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/e.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,n,r);else{var i=t.getFilterTexture(),a=t.renderer,o=e,s=i;this.state.blend=!1,t.applyFilter(this,o,s,Ke.CLEAR);for(var u=1;u<this.passes-1;u++){t.bindAndClear(o,Ke.BLIT),this.uniforms.uSampler=s;var c=s;s=o,o=c,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,s,n,r),t.returnFilterTexture(i)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(t){this.padding=1+2*Math.abs(t),this.strength=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t},enumerable:!1,configurable:!0}),e}(P.u),nn=function(t){function e(e,n,r,i){void 0===e&&(e=8),void 0===n&&(n=4),void 0===r&&(r=d.b.FILTER_RESOLUTION),void 0===i&&(i=5);var a=t.call(this)||this;return a.blurXFilter=new en(!0,e,n,r,i),a.blurYFilter=new en(!1,e,n,r,i),a.resolution=r,a.quality=n,a.blur=e,a.repeatEdgePixels=!1,a}return Ie(e,t),e.prototype.apply=function(t,e,n,r){var i=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(i&&a){var o=t.getFilterTexture();this.blurXFilter.apply(t,e,o,Ke.CLEAR),this.blurYFilter.apply(t,o,n,r),t.returnFilterTexture(o)}else a?this.blurYFilter.apply(t,e,n,r):this.blurXFilter.apply(t,e,n,r)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(t){this.blurYFilter.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(t){this._repeatEdgePixels=t,this.updatePadding()},enumerable:!1,configurable:!0}),e}(P.u),rn=function(t,e){return(rn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var an=function(t){function e(){var e=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(e=t.call(this,P.ob,"varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",n)||this).alpha=1,e}return function(t,e){function n(){this.constructor=t}rn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype._loadMatrix=function(t,e){void 0===e&&(e=!1);var n=t;e&&(this._multiply(n,this.uniforms.m,t),n=this._colorMatrix(n)),this.uniforms.m=n},e.prototype._multiply=function(t,e,n){return t[0]=e[0]*n[0]+e[1]*n[5]+e[2]*n[10]+e[3]*n[15],t[1]=e[0]*n[1]+e[1]*n[6]+e[2]*n[11]+e[3]*n[16],t[2]=e[0]*n[2]+e[1]*n[7]+e[2]*n[12]+e[3]*n[17],t[3]=e[0]*n[3]+e[1]*n[8]+e[2]*n[13]+e[3]*n[18],t[4]=e[0]*n[4]+e[1]*n[9]+e[2]*n[14]+e[3]*n[19]+e[4],t[5]=e[5]*n[0]+e[6]*n[5]+e[7]*n[10]+e[8]*n[15],t[6]=e[5]*n[1]+e[6]*n[6]+e[7]*n[11]+e[8]*n[16],t[7]=e[5]*n[2]+e[6]*n[7]+e[7]*n[12]+e[8]*n[17],t[8]=e[5]*n[3]+e[6]*n[8]+e[7]*n[13]+e[8]*n[18],t[9]=e[5]*n[4]+e[6]*n[9]+e[7]*n[14]+e[8]*n[19]+e[9],t[10]=e[10]*n[0]+e[11]*n[5]+e[12]*n[10]+e[13]*n[15],t[11]=e[10]*n[1]+e[11]*n[6]+e[12]*n[11]+e[13]*n[16],t[12]=e[10]*n[2]+e[11]*n[7]+e[12]*n[12]+e[13]*n[17],t[13]=e[10]*n[3]+e[11]*n[8]+e[12]*n[13]+e[13]*n[18],t[14]=e[10]*n[4]+e[11]*n[9]+e[12]*n[14]+e[13]*n[19]+e[14],t[15]=e[15]*n[0]+e[16]*n[5]+e[17]*n[10]+e[18]*n[15],t[16]=e[15]*n[1]+e[16]*n[6]+e[17]*n[11]+e[18]*n[16],t[17]=e[15]*n[2]+e[16]*n[7]+e[17]*n[12]+e[18]*n[17],t[18]=e[15]*n[3]+e[16]*n[8]+e[17]*n[13]+e[18]*n[18],t[19]=e[15]*n[4]+e[16]*n[9]+e[17]*n[14]+e[18]*n[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.greyscale=function(t,e){var n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.blackAndWhite=function(t){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var n=Math.cos(t),r=Math.sin(t),i=1/3,a=(0,Math.sqrt)(i),o=[n+(1-n)*i,i*(1-n)-a*r,i*(1-n)+a*r,0,0,i*(1-n)+a*r,n+i*(1-n),i*(1-n)-a*r,0,0,i*(1-n)-a*r,i*(1-n)+a*r,n+i*(1-n),0,0,0,0,0,1,0];this._loadMatrix(o,e)},e.prototype.contrast=function(t,e){var n=(t||0)+1,r=-.5*(n-1),i=[n,0,0,0,r,0,n,0,0,r,0,0,n,0,r,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.saturate=function(t,e){void 0===t&&(t=0);var n=2*t/3+1,r=-.5*(n-1),i=[n,r,r,0,0,r,n,r,0,0,r,r,n,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],t)},e.prototype.sepia=function(t){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],t)},e.prototype.technicolor=function(t){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],t)},e.prototype.polaroid=function(t){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],t)},e.prototype.toBGR=function(t){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],t)},e.prototype.kodachrome=function(t){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],t)},e.prototype.browni=function(t){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],t)},e.prototype.vintage=function(t){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],t)},e.prototype.colorTone=function(t,e,n,r,i){var a=((n=n||16770432)>>16&255)/255,o=(n>>8&255)/255,s=(255&n)/255,u=((r=r||3375104)>>16&255)/255,c=(r>>8&255)/255,l=(255&r)/255,h=[.3,.59,.11,0,0,a,o,s,t=t||.2,0,u,c,l,e=e||.15,0,a-u,o-c,s-l,0,0];this._loadMatrix(h,i)},e.prototype.night=function(t,e){var n=[-2*(t=t||.1),-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.predator=function(t,e){var n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,e)},e.prototype.lsd=function(t){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],t)},e.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t},enumerable:!1,configurable:!0}),e}(P.u);an.prototype.grayscale=an.prototype.greyscale;var on=function(t,e){return(on=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var sn=function(t){function e(e,n){var r=this,i=new p.d;return e.renderable=!1,(r=t.call(this,"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=e,r.maskMatrix=i,null==n&&(n=20),r.scale=new p.g(n,n),r}return function(t,e){function n(){this.constructor=t}on(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.apply=function(t,e,n,r){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var i=this.maskSprite.worldTransform,a=Math.sqrt(i.a*i.a+i.b*i.b),o=Math.sqrt(i.c*i.c+i.d*i.d);0!==a&&0!==o&&(this.uniforms.rotation[0]=i.a/a,this.uniforms.rotation[1]=i.b/a,this.uniforms.rotation[2]=i.c/o,this.uniforms.rotation[3]=i.d/o),t.applyFilter(this,e,n,r)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t},enumerable:!1,configurable:!0}),e}(P.u),un=function(t,e){return(un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var cn=function(t){function e(){return t.call(this,"\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputPixel;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputPixel;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputPixel.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n')||this}return function(t,e){function n(){this.constructor=t}un(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e}(P.u),ln=function(t,e){return(ln=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var hn=function(t){function e(e,n){void 0===e&&(e=.5),void 0===n&&(n=Math.random());var r=t.call(this,P.ob,"precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",{uNoise:0,uSeed:0})||this;return r.noise=e,r.seed=n,r}return function(t,e){function n(){this.constructor=t}ln(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t},enumerable:!1,configurable:!0}),e}(P.u),dn=new p.d;y.prototype._cacheAsBitmap=!1,y.prototype._cacheData=null,y.prototype._cacheAsBitmapResolution=null;var pn=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(y.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){var e;this._cacheAsBitmap!==t&&(this._cacheAsBitmap=t,t?(this._cacheData||(this._cacheData=new pn),(e=this._cacheData).originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((e=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea))}}}),y.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},y.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.batch.flush();var n=this.getLocalBounds(null,!0).clone();if(this.filters){var r=this.filters[0].padding;n.pad(r)}n.ceil(d.b.RESOLUTION);var i=t.renderTexture.current,a=t.renderTexture.sourceFrame.clone(),o=t.projection.transform,s=P.P.create({width:n.width,height:n.height,resolution:this.cacheAsBitmapResolution||t.resolution}),u="cacheAsBitmap_"+Object(h.uid)();this._cacheData.textureCacheId=u,P.h.addToCache(s.baseTexture,u),P.db.addToCache(s,u);var c=this.transform.localTransform.copyTo(dn).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:s,clear:!0,transform:c,skipUpdateTransform:!1}),t.projection.transform=o,t.renderTexture.bind(i,a),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var l=new kt(s);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-n.x/n.width,l.anchor.y=-n.y/n.height,l.alpha=e,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=l.containsPoint.bind(l)}},y.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},y.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var r=t.context,i=t._projTransform;e.ceil(d.b.RESOLUTION);var a=P.P.create({width:e.width,height:e.height}),o="cacheAsBitmap_"+Object(h.uid)();this._cacheData.textureCacheId=o,P.h.addToCache(a.baseTexture,o),P.db.addToCache(a,o);var s=dn;this.transform.localTransform.copyTo(s),s.invert(),s.tx-=e.x,s.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:a,clear:!0,transform:s,skipUpdateTransform:!1}),t.context=r,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var u=new kt(a);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-e.x/e.width,u.anchor.y=-e.y/e.height,u.alpha=n,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}},y.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},y.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},y.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,P.h.removeFromCache(this._cacheData.textureCacheId),P.db.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},y.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},y.prototype.name=null,_.prototype.getChildByName=function(t,e){for(var n=0,r=this.children.length;n<r;n++)if(this.children[n].name===t)return this.children[n];if(e)for(n=0,r=this.children.length;n<r;n++){if(this.children[n].getChildByName){var i=this.children[n].getChildByName(t,!0);if(i)return i}}return null},y.prototype.getGlobalPosition=function(t,e){return void 0===t&&(t=new p.g),void 0===e&&(e=!1),this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var fn=function(t,e){return(fn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function mn(t,e){function n(){this.constructor=t}fn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var gn=function(t){function e(e,n,r,i){void 0===e&&(e=100),void 0===n&&(n=100),void 0===r&&(r=10),void 0===i&&(i=10);var a=t.call(this)||this;return a.segWidth=r,a.segHeight=i,a.width=e,a.height=n,a.build(),a}return mn(e,t),e.prototype.build=function(){for(var t=this.segWidth*this.segHeight,e=[],n=[],r=[],i=this.segWidth-1,a=this.segHeight-1,o=this.width/i,s=this.height/a,u=0;u<t;u++){var c=u%this.segWidth,l=u/this.segWidth|0;e.push(c*o,l*s),n.push(c/i,l/a)}var h=i*a;for(u=0;u<h;u++){var d=u%i,p=u/i|0,f=p*this.segWidth+d,m=p*this.segWidth+d+1,g=(p+1)*this.segWidth+d,y=(p+1)*this.segWidth+d+1;r.push(f,m,g,m,y,g)}this.buffers[0].data=new Float32Array(e),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(r),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(ye),yn=function(t){function e(e,n,r){void 0===e&&(e=200),void 0===r&&(r=0);var i=t.call(this,new Float32Array(4*n.length),new Float32Array(4*n.length),new Uint16Array(6*(n.length-1)))||this;return i.points=n,i._width=e,i.textureScale=r,i.build(),i}return mn(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var t=this.points;if(t){var e=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),r=this.getIndex();if(!(t.length<1)){e.data.length/4!==t.length&&(e.data=new Float32Array(4*t.length),n.data=new Float32Array(4*t.length),r.data=new Uint16Array(6*(t.length-1)));var i=n.data,a=r.data;i[0]=0,i[1]=0,i[2]=0,i[3]=1;for(var o=0,s=t[0],u=this._width*this.textureScale,c=t.length,l=0;l<c;l++){var h=4*l;if(this.textureScale>0){var d=s.x-t[l].x,p=s.y-t[l].y,f=Math.sqrt(d*d+p*p);s=t[l],o+=f/u}else o=l/(c-1);i[h]=o,i[h+1]=0,i[h+2]=o,i[h+3]=1}var m=0;for(l=0;l<c-1;l++){h=2*l;a[m++]=h,a[m++]=h+1,a[m++]=h+2,a[m++]=h+2,a[m++]=h+1,a[m++]=h+3}n.update(),r.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var t=this.points;if(!(t.length<1)){for(var e,n=t[0],r=0,i=0,a=this.buffers[0].data,o=t.length,s=0;s<o;s++){var u=t[s],c=4*s;i=-((e=s<t.length-1?t[s+1]:u).x-n.x),r=e.y-n.y;var l=Math.sqrt(r*r+i*i),h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;r/=l,i/=l,r*=h,i*=h,a[c]=u.x+r,a[c+1]=u.y+i,a[c+2]=u.x-r,a[c+3]=u.y-i,n=u}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(ye),vn=function(t){function e(e,n,r){void 0===r&&(r=0);var i=this,a=new yn(e.height,n,r),o=new ge(e);return r>0&&(e.baseTexture.wrapMode=U.q.REPEAT),(i=t.call(this,a,o)||this).autoUpdate=!0,i}return mn(e,t),e.prototype._render=function(e){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,e)},e}(me),bn=function(t){function e(e,n,r){var i=this,a=new gn(e.width,e.height,n,r),o=new ge(P.db.WHITE);return(i=t.call(this,a,o)||this).texture=e,i}return mn(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var t=this.geometry;t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build()},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,e)},e.prototype.destroy=function(e){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,e)},e}(me),_n=function(t){function e(e,n,r,i,a){void 0===e&&(e=P.db.EMPTY);var o=this,s=new ye(n,r,i);s.getBuffer("aVertexPosition").static=!1;var u=new ge(e);return(o=t.call(this,s,u,null,a)||this).autoUpdate=!0,o}return mn(e,t),Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype._render=function(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,e)},e}(me),wn=function(t){function e(e,n,r,i,a){void 0===n&&(n=10),void 0===r&&(r=10),void 0===i&&(i=10),void 0===a&&(a=10);var o=t.call(this,P.db.WHITE,4,4)||this;return o._origWidth=e.orig.width,o._origHeight=e.orig.height,o._width=o._origWidth,o._height=o._origHeight,o._leftWidth=n,o._rightWidth=i,o._topHeight=r,o._bottomHeight=a,o.texture=e,o}return mn(e,t),e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(t){this.geometry.getBuffer("aVertexPosition").data=t},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var t=this.vertices,e=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*e,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*e,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices,e=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*e,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*e,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._getMinScale=function(){var t=this._leftWidth+this._rightWidth,e=this._width>t?1:this._width/t,n=this._topHeight+this._bottomHeight,r=this._height>n?1:this._height/n;return Math.min(e,r)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var t=this.texture,e=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var n=1/this._origWidth,r=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=n*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-n*this._rightWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(bn),xn=n(112),Sn=function(t,e){return(Sn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var Tn=function(t){function e(e,n){void 0===n&&(n=!0);var r=t.call(this,e[0]instanceof P.db?e[0]:e[0].texture)||this;return r._textures=null,r._durations=null,r._autoUpdate=n,r._isConnectedToTicker=!1,r.animationSpeed=1,r.loop=!0,r.updateAnchor=!1,r.onComplete=null,r.onFrameChange=null,r.onLoop=null,r._currentTime=0,r._playing=!1,r._previousFrame=null,r.textures=e,r}return function(t,e){function n(){this.constructor=t}Sn(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(S.a.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(S.a.shared.add(this.update,this,S.c.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){if(this._playing){var e=this.animationSpeed*t,n=this.currentFrame;if(null!==this._durations){var r=this._currentTime%1*this._durations[this.currentFrame];for(r+=e/60*1e3;r<0;)this._currentTime--,r+=this._durations[this.currentFrame];var i=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);r>=this._durations[this.currentFrame];)r-=this._durations[this.currentFrame]*i,this._currentTime+=i;this._currentTime+=r/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}},e.prototype.updateTexture=function(){var t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(t){for(var n=[],r=0;r<t.length;++r)n.push(P.db.from(t[r]));return new e(n)},e.fromImages=function(t){for(var n=[],r=0;r<t.length;++r)n.push(P.db.from(t[r]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(t){if(t[0]instanceof P.db)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(S.a.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(S.a.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(kt);P.S.registerPlugin("accessibility",x),P.S.registerPlugin("extract",N),P.S.registerPlugin("interaction",R),P.S.registerPlugin("particle",X),P.S.registerPlugin("prepare",$t),P.S.registerPlugin("batch",P.l),P.S.registerPlugin("tilingSprite",ce),j.b.registerPlugin(Le),j.b.registerPlugin(F.b),j.b.registerPlugin(F.d),j.b.registerPlugin(F.h),j.b.registerPlugin(ne),D.registerPlugin(S.b),D.registerPlugin(j.a);var Mn="6.0.0",En={AlphaFilter:Pe,BlurFilter:nn,BlurFilterPass:en,ColorMatrixFilter:an,DisplacementFilter:sn,FXAAFilter:cn,NoiseFilter:hn}},function(t,e,n){"use strict";n.r(e),n.d(e,"Maths",(function(){return i})),n.d(e,"Random",(function(){return a})),n.d(e,"Params",(function(){return u})),n.d(e,"tween",(function(){return m})),n.d(e,"killTweens",(function(){return y})),n.d(e,"RandomSeed",(function(){return x})),n.d(e,"delay",(function(){return M})),n.d(e,"objToStr",(function(){return A}));n(21),n(114),n(5),n(19);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i=function(){function t(){}return t.mod=function(t,e){return(t%e+e)%e},t.roundNeg=function(t){return Math.round(Math.abs(t))*(t>=0?1:-1)},t.floorNeg=function(t){return Math.floor(Math.abs(t))*(t>=0?1:-1)},t.ceilNeg=function(t){return Math.ceil(Math.abs(t))*(t>=0?1:-1)},t.lerp=function(t,e,n){return t+(e-t)*(n<0?0:n>1?1:n)},t.distance=function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=n-t,a=r-e;return Math.sqrt(i*i+a*a)},t.sign=function(t){return t<0?-1:1},t.sign0=function(t){return t<0?-1:t>0?1:0},t.clamp=function(t,e,n){return void 0===e&&(e=0),void 0===n&&(n=1),t<e?e:t>n?n:t},t}();r(i,"PI_HALF",.5*Math.PI),r(i,"PI_QUART",.25*Math.PI),r(i,"PI_DOUBLE",2*Math.PI);n(83),n(99);var a=function(){function t(){}return t.color=function(){return Math.floor(255*Math.random())<<16|Math.floor(255*Math.random())<<8|Math.floor(255*Math.random())},t.range=function(t,e,n){void 0===n&&(n=!1);var r=t+(e-t)*Math.random();return n?Math.floor(r):r},t.pick=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[Math.floor(Math.random()*e.length)]},t.pop=function(t){var e=Math.floor(Math.random()*t.length);return t.splice(e,1)[0]},t.item=function(t){if(Array.isArray(t))return t[Math.floor(Math.random()*t.length)];var e=Object.keys(t);return t[e[Math.floor(Math.random()*e.length)]]},t.shuffle=function(t){for(var e,n,r=t.length;0!==r;)n=Math.floor(Math.random()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t},t}();n(38),n(291),n(92),n(87),n(166),n(39),n(121),n(22),n(23),n(29),n(30),n(15),n(20);function o(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u=function(){function t(){}return t.getAll=function(){for(var t,e=location.search,n={},r=o(e.slice(e.indexOf("?")+1).split("&"));!(t=r()).done;){var i=t.value.split("="),a=i[0],s=i[1];void 0===s&&(s=!0),"true"!==s&&"false"!==s||(s="true"===s),n[a]="string"==typeof s&&s.match(/^[-.0-9]+$/)?parseFloat(s):s}return n},t.get=function(t,e){var n=this.getAll();return void 0!==n[t]?n[t]:e},t.objToUrlParams=function(t){var e=[];for(var n in t){var r=String(t[n]);e.push(n+"="+r)}return e.join("&")},t}(),c=(n(88),n(126),n(34),n(139),n(14));function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){p(a,r,i,o,s,"next",t)}function s(t){p(a,r,i,o,s,"throw",t)}o(void 0)}))}}function m(t,e,n){return g.apply(this,arguments)}function g(){return(g=f(regeneratorRuntime.mark((function t(e,n,r){var i,a,o,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=r.onComplete||null,a=r.onStart||null,r.ease||(r.ease="Linear.easeNone"),(u=new Promise((function(t,u){o=c.c.to(e,n,h(h({},r),{},{onStart:function(){a&&a()},onComplete:function(){i&&i(),t()}})),s=u}))).cancel=function(){o.kill(),s()},t.abrupt("return",u);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e){return v.apply(this,arguments)}function v(){return(v=f(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!0),c.c.killTweensOf(e,n);case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n(585);function b(t){for(var e=1779033703^t.length,n=0;n<t.length;n++)e=(e=Math.imul(e^t.charCodeAt(n),3432918353))<<13|e>>>19;return function(){return e=Math.imul(e^e>>>16,2246822507),e=Math.imul(e^e>>>13,3266489909),(e^=e>>>16)>>>0}}function _(t){return function(){var e=t+=1831565813;return e=Math.imul(e^e>>>15,1|e),(((e^=e+Math.imul(e^e>>>7,61|e))^e>>>14)>>>0)/4294967296}}var w=_(b("apples")()),x=function(){function t(){}return t.seed=function(t){w=_(b(t)())},t.random=function(){return w()},t.randomHash=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=t.length,n="",r=0;r<6;r++)n+=t.charAt(Math.floor(Math.random()*e));return n},t.color=function(){return Math.floor(255*w())<<16|Math.floor(255*w())<<8|Math.floor(255*w())},t.range=function(t,e,n){void 0===n&&(n=!1);var r=t+(e-t)*w();return n?Math.floor(r):r},t.pick=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[Math.floor(w()*e.length)]},t.pop=function(t){var e=Math.floor(w()*t.length);return t.splice(e,1)[0]},t.item=function(t){if(Array.isArray(t))return t[Math.floor(w()*t.length)];var e=Object.keys(t);return t[e[Math.floor(w()*e.length)]]},t.shuffle=function(t){for(var e,n,r=t.length;0!==r;)n=Math.floor(w()*r),e=t[r-=1],t[r]=t[n],t[n]=e;return t},t}();function S(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function T(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){S(a,r,i,o,s,"next",t)}function s(t){S(a,r,i,o,s,"throw",t)}o(void 0)}))}}function M(t){return E.apply(this,arguments)}function E(){return(E=T(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){return setTimeout(t,1e3*e)})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function A(t){var e=[];for(var n in t)e.push(n+":"+t[n]);return"{"+e.join(", ")+"}"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s}));var r,i=n(40),a=n(1);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.TOURNAMENT=0]="TOURNAMENT",t[t.LEAGUES=1]="LEAGUES"}(r||(r={}));var s=new function(){var t=this;o(this,"region",void 0),o(this,"teamA",void 0),o(this,"teamB",void 0),o(this,"leftOverPlayers",void 0),o(this,"coins",void 0),o(this,"unlocked",void 0),o(this,"autoSwitch",void 0),o(this,"isMuted",void 0),o(this,"gameMode",void 0),o(this,"isContinue",void 0),o(this,"countryID",void 0),o(this,"opponentID",void 0),o(this,"tournamentData",void 0),o(this,"difficulty",void 0),o(this,"savedGame",void 0),o(this,"matchResult",void 0),o(this,"superSquad",void 0),o(this,"scoreKey",void 0),o(this,"reset",void 0),o(this,"banner1",void 0),o(this,"banner2",void 0),o(this,"banner3",void 0),o(this,"videoAdLoaded",void 0),o(this,"timeAtAdReward",0),o(this,"refereeTextures",void 0);var e=i.a;this.teamA=[];var n=a.Params.get("player1",!1),s=a.Params.get("player2",!1),u=a.Params.get("player3",!1),c=a.Params.get("player4",!1),l=a.Params.get("opponent",!1);n&&e[n]&&(this.teamA[0]=e[n]),s&&e[s]&&(this.teamA[1]=e[s]),u&&e[u]&&(this.teamA[2]=e[u]),c&&e[c]&&(this.teamA[3]=e[c]),this.teamB=[e.mojo,e.bubbles,e.ben10],l&&e[l]&&(this.teamB[0]=e[l]),this.leftOverPlayers=[],this.coins=0,this.unlocked=[],this.autoSwitch=!0,this.isMuted=!1,this.countryID=null,this.opponentID=null,this.isContinue=!1,this.gameMode=r.TOURNAMENT,this.tournamentData={quarter:[],semi:[],final:[],winner:[]},this.difficulty=1,this.matchResult={goalsA:-1,goalsB:-1},this.reset=function(){var e=i.a;for(var n in t.teamA=[],t.teamB=[],t.leftOverPlayers=[],t.timeAtAdReward=0,e)e[n].selected=!1;t.opponentID=null,t.tournamentData={quarter:[],semi:[],final:[],winner:[]},t.matchResult={goalsA:-1,goalsB:-1},t.difficulty=1}};window.gameSession=s},function(t,e,n){(function(t){var r,i,a;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(){"use strict";var e,r;function i(){return e.apply(null,arguments)}function a(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function u(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(u(t,e))return!1;return!0}function l(t){return void 0===t}function h(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function d(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function p(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function f(t,e){for(var n in e)u(e,n)&&(t[n]=e[n]);return u(e,"toString")&&(t.toString=e.toString),u(e,"valueOf")&&(t.valueOf=e.valueOf),t}function m(t,e,n,r){return Ee(t,e,n,r,!0).utc()}function g(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function y(t){if(null==t._isValid){var e=g(t),n=r.call(e.parsedDateParts,(function(t){return null!=t})),i=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(i=i&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return i;t._isValid=i}return t._isValid}function v(t){var e=m(NaN);return null!=t?f(g(e),t):g(e).userInvalidated=!0,e}r=Array.prototype.some?Array.prototype.some:function(t){var e,n=Object(this),r=n.length>>>0;for(e=0;e<r;e++)if(e in n&&t.call(this,n[e],e,n))return!0;return!1};var b=i.momentProperties=[],_=!1;function w(t,e){var n,r,i;if(l(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),l(e._i)||(t._i=e._i),l(e._f)||(t._f=e._f),l(e._l)||(t._l=e._l),l(e._strict)||(t._strict=e._strict),l(e._tzm)||(t._tzm=e._tzm),l(e._isUTC)||(t._isUTC=e._isUTC),l(e._offset)||(t._offset=e._offset),l(e._pf)||(t._pf=g(e)),l(e._locale)||(t._locale=e._locale),b.length>0)for(n=0;n<b.length;n++)l(i=e[r=b[n]])||(t[r]=i);return t}function x(t){w(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,i.updateOffset(this),_=!1)}function S(t){return t instanceof x||null!=t&&null!=t._isAMomentObject}function T(t){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn}function M(t,e){var n=!0;return f((function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,t),n){var r,a,s,c=[];for(a=0;a<arguments.length;a++){if(r="","object"===o(arguments[a])){for(s in r+="\n["+a+"] ",arguments[0])u(arguments[0],s)&&(r+=s+": "+arguments[0][s]+", ");r=r.slice(0,-2)}else r=arguments[a];c.push(r)}T((Array.prototype.slice.call(c).join(""),(new Error).stack)),n=!1}return e.apply(this,arguments)}),e)}var E,A={};function k(t,e){null!=i.deprecationHandler&&i.deprecationHandler(t,e),A[t]||(T(),A[t]=!0)}function C(t){return"undefined"!=typeof Function&&t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function O(t,e){var n,r=f({},t);for(n in e)u(e,n)&&(s(t[n])&&s(e[n])?(r[n]={},f(r[n],t[n]),f(r[n],e[n])):null!=e[n]?r[n]=e[n]:delete r[n]);for(n in t)u(t,n)&&!u(e,n)&&s(t[n])&&(r[n]=f({},r[n]));return r}function L(t){null!=t&&this.set(t)}function R(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,E=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)u(t,e)&&n.push(e);return n};var P=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,D=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,I={},B={};function N(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(B[t]=i),e&&(B[e[0]]=function(){return R(i.apply(this,arguments),e[1],e[2])}),n&&(B[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function j(t,e){return t.isValid()?(e=F(e,t.localeData()),I[e]=I[e]||function(t){var e,n,r,i=t.match(P);for(e=0,n=i.length;e<n;e++)B[i[e]]?i[e]=B[i[e]]:i[e]=(r=i[e]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(e){var r,a="";for(r=0;r<n;r++)a+=C(i[r])?i[r].call(e,t):i[r];return a}}(e),I[e](t)):t.localeData().invalidDate()}function F(t,e){var n=5;function r(t){return e.longDateFormat(t)||t}for(D.lastIndex=0;n>=0&&D.test(t);)t=t.replace(D,r),D.lastIndex=0,n-=1;return t}var U={};function Y(t,e){var n=t.toLowerCase();U[n]=U[n+"s"]=U[e]=t}function G(t){return"string"==typeof t?U[t]||U[t.toLowerCase()]:void 0}function H(t){var e,n,r={};for(n in t)u(t,n)&&(e=G(n))&&(r[e]=t[n]);return r}var z={};function V(t,e){z[t]=e}function W(t){return t%4==0&&t%100!=0||t%400==0}function X(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function K(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=X(e)),n}function q(t,e){return function(n){return null!=n?(J(this,t,n),i.updateOffset(this,e),this):Z(this,t)}}function Z(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function J(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&W(t.year())&&1===t.month()&&29===t.date()?(n=K(n),t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),St(n,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](n))}var Q,$=/\d/,tt=/\d\d/,et=/\d{3}/,nt=/\d{4}/,rt=/[+-]?\d{6}/,it=/\d\d?/,at=/\d\d\d\d?/,ot=/\d\d\d\d\d\d?/,st=/\d{1,3}/,ut=/\d{1,4}/,ct=/[+-]?\d{1,6}/,lt=/\d+/,ht=/[+-]?\d+/,dt=/Z|[+-]\d\d:?\d\d/gi,pt=/Z|[+-]\d\d(?::?\d\d)?/gi,ft=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function mt(t,e,n){Q[t]=C(e)?e:function(t,r){return t&&n?n:e}}function gt(t,e){return u(Q,t)?Q[t](e._strict,e._locale):new RegExp(yt(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(t,e,n,r,i){return e||n||r||i}))))}function yt(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}Q={};var vt,bt={};function _t(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),h(e)&&(r=function(t,n){n[e]=K(t)}),n=0;n<t.length;n++)bt[t[n]]=r}function wt(t,e){_t(t,(function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)}))}function xt(t,e,n){null!=e&&u(bt,t)&&bt[t](e,n._a,n,t)}function St(t,e){if(isNaN(t)||isNaN(e))return NaN;var n,r=(e%(n=12)+n)%n;return t+=(e-r)/12,1===r?W(t)?29:28:31-r%7%2}vt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},N("M",["MM",2],"Mo",(function(){return this.month()+1})),N("MMM",0,0,(function(t){return this.localeData().monthsShort(this,t)})),N("MMMM",0,0,(function(t){return this.localeData().months(this,t)})),Y("month","M"),V("month",8),mt("M",it),mt("MM",it,tt),mt("MMM",(function(t,e){return e.monthsShortRegex(t)})),mt("MMMM",(function(t,e){return e.monthsRegex(t)})),_t(["M","MM"],(function(t,e){e[1]=K(t)-1})),_t(["MMM","MMMM"],(function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[1]=i:g(n).invalidMonth=t}));var Tt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Mt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Et=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,At=ft,kt=ft;function Ct(t,e,n){var r,i,a,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)a=m([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(a,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(a,"").toLocaleLowerCase();return n?"MMM"===e?-1!==(i=vt.call(this._shortMonthsParse,o))?i:null:-1!==(i=vt.call(this._longMonthsParse,o))?i:null:"MMM"===e?-1!==(i=vt.call(this._shortMonthsParse,o))||-1!==(i=vt.call(this._longMonthsParse,o))?i:null:-1!==(i=vt.call(this._longMonthsParse,o))||-1!==(i=vt.call(this._shortMonthsParse,o))?i:null}function Ot(t,e){var n;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=K(e);else if(!h(e=t.localeData().monthsParse(e)))return t;return n=Math.min(t.date(),St(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function Lt(t){return null!=t?(Ot(this,t),i.updateOffset(this,!0),this):Z(this,"Month")}function Rt(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],a=[];for(e=0;e<12;e++)n=m([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),a.push(this.months(n,"")),a.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),a.sort(t),e=0;e<12;e++)r[e]=yt(r[e]),i[e]=yt(i[e]);for(e=0;e<24;e++)a[e]=yt(a[e]);this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Pt(t){return W(t)?366:365}N("Y",0,0,(function(){var t=this.year();return t<=9999?R(t,4):"+"+t})),N(0,["YY",2],0,(function(){return this.year()%100})),N(0,["YYYY",4],0,"year"),N(0,["YYYYY",5],0,"year"),N(0,["YYYYYY",6,!0],0,"year"),Y("year","y"),V("year",1),mt("Y",ht),mt("YY",it,tt),mt("YYYY",ut,nt),mt("YYYYY",ct,rt),mt("YYYYYY",ct,rt),_t(["YYYYY","YYYYYY"],0),_t("YYYY",(function(t,e){e[0]=2===t.length?i.parseTwoDigitYear(t):K(t)})),_t("YY",(function(t,e){e[0]=i.parseTwoDigitYear(t)})),_t("Y",(function(t,e){e[0]=parseInt(t,10)})),i.parseTwoDigitYear=function(t){return K(t)+(K(t)>68?1900:2e3)};var Dt=q("FullYear",!0);function It(t,e,n,r,i,a,o){var s;return t<100&&t>=0?(s=new Date(t+400,e,n,r,i,a,o),isFinite(s.getFullYear())&&s.setFullYear(t)):s=new Date(t,e,n,r,i,a,o),s}function Bt(t){var e,n;return t<100&&t>=0?((n=Array.prototype.slice.call(arguments))[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Nt(t,e,n){var r=7+e-n;return-(7+Bt(t,0,r).getUTCDay()-e)%7+r-1}function jt(t,e,n,r,i){var a,o,s=1+7*(e-1)+(7+n-r)%7+Nt(t,r,i);return s<=0?o=Pt(a=t-1)+s:s>Pt(t)?(a=t+1,o=s-Pt(t)):(a=t,o=s),{year:a,dayOfYear:o}}function Ft(t,e,n){var r,i,a=Nt(t.year(),e,n),o=Math.floor((t.dayOfYear()-a-1)/7)+1;return o<1?r=o+Ut(i=t.year()-1,e,n):o>Ut(t.year(),e,n)?(r=o-Ut(t.year(),e,n),i=t.year()+1):(i=t.year(),r=o),{week:r,year:i}}function Ut(t,e,n){var r=Nt(t,e,n),i=Nt(t+1,e,n);return(Pt(t)-r+i)/7}function Yt(t,e){return t.slice(e,7).concat(t.slice(0,e))}N("w",["ww",2],"wo","week"),N("W",["WW",2],"Wo","isoWeek"),Y("week","w"),Y("isoWeek","W"),V("week",5),V("isoWeek",5),mt("w",it),mt("ww",it,tt),mt("W",it),mt("WW",it,tt),wt(["w","ww","W","WW"],(function(t,e,n,r){e[r.substr(0,1)]=K(t)})),N("d",0,"do","day"),N("dd",0,0,(function(t){return this.localeData().weekdaysMin(this,t)})),N("ddd",0,0,(function(t){return this.localeData().weekdaysShort(this,t)})),N("dddd",0,0,(function(t){return this.localeData().weekdays(this,t)})),N("e",0,0,"weekday"),N("E",0,0,"isoWeekday"),Y("day","d"),Y("weekday","e"),Y("isoWeekday","E"),V("day",11),V("weekday",11),V("isoWeekday",11),mt("d",it),mt("e",it),mt("E",it),mt("dd",(function(t,e){return e.weekdaysMinRegex(t)})),mt("ddd",(function(t,e){return e.weekdaysShortRegex(t)})),mt("dddd",(function(t,e){return e.weekdaysRegex(t)})),wt(["dd","ddd","dddd"],(function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:g(n).invalidWeekday=t})),wt(["d","e","E"],(function(t,e,n,r){e[r]=K(t)}));var Gt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ht="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),zt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Vt=ft,Wt=ft,Xt=ft;function Kt(t,e,n){var r,i,a,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)a=m([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(a,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(a,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(a,"").toLocaleLowerCase();return n?"dddd"===e?-1!==(i=vt.call(this._weekdaysParse,o))?i:null:"ddd"===e?-1!==(i=vt.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=vt.call(this._minWeekdaysParse,o))?i:null:"dddd"===e?-1!==(i=vt.call(this._weekdaysParse,o))||-1!==(i=vt.call(this._shortWeekdaysParse,o))||-1!==(i=vt.call(this._minWeekdaysParse,o))?i:null:"ddd"===e?-1!==(i=vt.call(this._shortWeekdaysParse,o))||-1!==(i=vt.call(this._weekdaysParse,o))||-1!==(i=vt.call(this._minWeekdaysParse,o))?i:null:-1!==(i=vt.call(this._minWeekdaysParse,o))||-1!==(i=vt.call(this._weekdaysParse,o))||-1!==(i=vt.call(this._shortWeekdaysParse,o))?i:null}function qt(){function t(t,e){return e.length-t.length}var e,n,r,i,a,o=[],s=[],u=[],c=[];for(e=0;e<7;e++)n=m([2e3,1]).day(e),r=yt(this.weekdaysMin(n,"")),i=yt(this.weekdaysShort(n,"")),a=yt(this.weekdays(n,"")),o.push(r),s.push(i),u.push(a),c.push(r),c.push(i),c.push(a);o.sort(t),s.sort(t),u.sort(t),c.sort(t),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Zt(){return this.hours()%12||12}function Jt(t,e){N(t,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)}))}function Qt(t,e){return e._meridiemParse}N("H",["HH",2],0,"hour"),N("h",["hh",2],0,Zt),N("k",["kk",2],0,(function(){return this.hours()||24})),N("hmm",0,0,(function(){return""+Zt.apply(this)+R(this.minutes(),2)})),N("hmmss",0,0,(function(){return""+Zt.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),N("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),N("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),Jt("a",!0),Jt("A",!1),Y("hour","h"),V("hour",13),mt("a",Qt),mt("A",Qt),mt("H",it),mt("h",it),mt("k",it),mt("HH",it,tt),mt("hh",it,tt),mt("kk",it,tt),mt("hmm",at),mt("hmmss",ot),mt("Hmm",at),mt("Hmmss",ot),_t(["H","HH"],3),_t(["k","kk"],(function(t,e,n){var r=K(t);e[3]=24===r?0:r})),_t(["a","A"],(function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t})),_t(["h","hh"],(function(t,e,n){e[3]=K(t),g(n).bigHour=!0})),_t("hmm",(function(t,e,n){var r=t.length-2;e[3]=K(t.substr(0,r)),e[4]=K(t.substr(r)),g(n).bigHour=!0})),_t("hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[3]=K(t.substr(0,r)),e[4]=K(t.substr(r,2)),e[5]=K(t.substr(i)),g(n).bigHour=!0})),_t("Hmm",(function(t,e,n){var r=t.length-2;e[3]=K(t.substr(0,r)),e[4]=K(t.substr(r))})),_t("Hmmss",(function(t,e,n){var r=t.length-4,i=t.length-2;e[3]=K(t.substr(0,r)),e[4]=K(t.substr(r,2)),e[5]=K(t.substr(i))}));var $t,te=q("Hours",!0),ee={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Tt,monthsShort:Mt,week:{dow:0,doy:6},weekdays:Gt,weekdaysMin:zt,weekdaysShort:Ht,meridiemParse:/[ap]\.?m?\.?/i},ne={},re={};function ie(t,e){var n,r=Math.min(t.length,e.length);for(n=0;n<r;n+=1)if(t[n]!==e[n])return n;return r}function ae(t){return t?t.toLowerCase().replace("_","-"):t}function oe(e){var r=null;if(void 0===ne[e]&&void 0!==t&&t&&t.exports)try{r=$t._abbr,n(651)("./"+e),se(r)}catch(t){ne[e]=null}return ne[e]}function se(t,e){var n;return t&&((n=l(e)?ce(t):ue(t,e))?$t=n:"undefined"!=typeof console&&console.warn),$t._abbr}function ue(t,e){if(null!==e){var n,r=ee;if(e.abbr=t,null!=ne[t])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ne[t]._config;else if(null!=e.parentLocale)if(null!=ne[e.parentLocale])r=ne[e.parentLocale]._config;else{if(null==(n=oe(e.parentLocale)))return re[e.parentLocale]||(re[e.parentLocale]=[]),re[e.parentLocale].push({name:t,config:e}),null;r=n._config}return ne[t]=new L(O(r,e)),re[t]&&re[t].forEach((function(t){ue(t.name,t.config)})),se(t),ne[t]}return delete ne[t],null}function ce(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return $t;if(!a(t)){if(e=oe(t))return e;t=[t]}return function(t){for(var e,n,r,i,a=0;a<t.length;){for(e=(i=ae(t[a]).split("-")).length,n=(n=ae(t[a+1]))?n.split("-"):null;e>0;){if(r=oe(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&ie(i,n)>=e-1)break;e--}a++}return $t}(t)}function le(t){var e,n=t._a;return n&&-2===g(t).overflow&&(e=n[1]<0||n[1]>11?1:n[2]<1||n[2]>St(n[0],n[1])?2:n[3]<0||n[3]>24||24===n[3]&&(0!==n[4]||0!==n[5]||0!==n[6])?3:n[4]<0||n[4]>59?4:n[5]<0||n[5]>59?5:n[6]<0||n[6]>999?6:-1,g(t)._overflowDayOfYear&&(e<0||e>2)&&(e=2),g(t)._overflowWeeks&&-1===e&&(e=7),g(t)._overflowWeekday&&-1===e&&(e=8),g(t).overflow=e),t}var he=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,de=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pe=/Z|[+-]\d\d(?::?\d\d)?/,fe=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],me=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ge=/^\/?Date\((-?\d+)/i,ye=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ve={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function be(t){var e,n,r,i,a,o,s=t._i,u=he.exec(s)||de.exec(s);if(u){for(g(t).iso=!0,e=0,n=fe.length;e<n;e++)if(fe[e][1].exec(u[1])){i=fe[e][0],r=!1!==fe[e][2];break}if(null==i)return void(t._isValid=!1);if(u[3]){for(e=0,n=me.length;e<n;e++)if(me[e][1].exec(u[3])){a=(u[2]||" ")+me[e][0];break}if(null==a)return void(t._isValid=!1)}if(!r&&null!=a)return void(t._isValid=!1);if(u[4]){if(!pe.exec(u[4]))return void(t._isValid=!1);o="Z"}t._f=i+(a||"")+(o||""),Te(t)}else t._isValid=!1}function _e(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function we(t){var e,n,r,i,a,o,s,u,c=ye.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(c){if(n=c[4],r=c[3],i=c[2],a=c[5],o=c[6],s=c[7],u=[_e(n),Mt.indexOf(r),parseInt(i,10),parseInt(a,10),parseInt(o,10)],s&&u.push(parseInt(s,10)),e=u,!function(t,e,n){return!t||Ht.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}(c[1],e,t))return;t._a=e,t._tzm=function(t,e,n){if(t)return ve[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}(c[8],c[9],c[10]),t._d=Bt.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),g(t).rfc2822=!0}else t._isValid=!1}function xe(t,e,n){return null!=t?t:null!=e?e:n}function Se(t){var e,n,r,a,o,s=[];if(!t._d){for(r=function(t){var e=new Date(i.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[2]&&null==t._a[1]&&function(t){var e,n,r,i,a,o,s,u,c;null!=(e=t._w).GG||null!=e.W||null!=e.E?(a=1,o=4,n=xe(e.GG,t._a[0],Ft(Ae(),1,4).year),r=xe(e.W,1),((i=xe(e.E,1))<1||i>7)&&(u=!0)):(a=t._locale._week.dow,o=t._locale._week.doy,c=Ft(Ae(),a,o),n=xe(e.gg,t._a[0],c.year),r=xe(e.w,c.week),null!=e.d?((i=e.d)<0||i>6)&&(u=!0):null!=e.e?(i=e.e+a,(e.e<0||e.e>6)&&(u=!0)):i=a),r<1||r>Ut(n,a,o)?g(t)._overflowWeeks=!0:null!=u?g(t)._overflowWeekday=!0:(s=jt(n,r,i,a,o),t._a[0]=s.year,t._dayOfYear=s.dayOfYear)}(t),null!=t._dayOfYear&&(o=xe(t._a[0],r[0]),(t._dayOfYear>Pt(o)||0===t._dayOfYear)&&(g(t)._overflowDayOfYear=!0),n=Bt(o,0,t._dayOfYear),t._a[1]=n.getUTCMonth(),t._a[2]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=s[e]=r[e];for(;e<7;e++)t._a[e]=s[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[3]&&0===t._a[4]&&0===t._a[5]&&0===t._a[6]&&(t._nextDay=!0,t._a[3]=0),t._d=(t._useUTC?Bt:It).apply(null,s),a=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[3]=24),t._w&&void 0!==t._w.d&&t._w.d!==a&&(g(t).weekdayMismatch=!0)}}function Te(t){if(t._f!==i.ISO_8601)if(t._f!==i.RFC_2822){t._a=[],g(t).empty=!0;var e,n,r,a,o,s,u=""+t._i,c=u.length,l=0;for(r=F(t._f,t._locale).match(P)||[],e=0;e<r.length;e++)a=r[e],(n=(u.match(gt(a,t))||[])[0])&&((o=u.substr(0,u.indexOf(n))).length>0&&g(t).unusedInput.push(o),u=u.slice(u.indexOf(n)+n.length),l+=n.length),B[a]?(n?g(t).empty=!1:g(t).unusedTokens.push(a),xt(a,n,t)):t._strict&&!n&&g(t).unusedTokens.push(a);g(t).charsLeftOver=c-l,u.length>0&&g(t).unusedInput.push(u),t._a[3]<=12&&!0===g(t).bigHour&&t._a[3]>0&&(g(t).bigHour=void 0),g(t).parsedDateParts=t._a.slice(0),g(t).meridiem=t._meridiem,t._a[3]=function(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?((r=t.isPM(n))&&e<12&&(e+=12),r||12!==e||(e=0),e):e}(t._locale,t._a[3],t._meridiem),null!==(s=g(t).era)&&(t._a[0]=t._locale.erasConvertYear(s,t._a[0])),Se(t),le(t)}else we(t);else be(t)}function Me(t){var e=t._i,n=t._f;return t._locale=t._locale||ce(t._l),null===e||void 0===n&&""===e?v({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),S(e)?new x(le(e)):(d(e)?t._d=e:a(n)?function(t){var e,n,r,i,a,o,s=!1;if(0===t._f.length)return g(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)a=0,o=!1,e=w({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],Te(e),y(e)&&(o=!0),a+=g(e).charsLeftOver,a+=10*g(e).unusedTokens.length,g(e).score=a,s?a<r&&(r=a,n=e):(null==r||a<r||o)&&(r=a,n=e,o&&(s=!0));f(t,n||e)}(t):n?Te(t):function(t){var e=t._i;l(e)?t._d=new Date(i.now()):d(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=ge.exec(t._i);null===e?(be(t),!1===t._isValid&&(delete t._isValid,we(t),!1===t._isValid&&(delete t._isValid,t._strict?t._isValid=!1:i.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):a(e)?(t._a=p(e.slice(0),(function(t){return parseInt(t,10)})),Se(t)):s(e)?function(t){if(!t._d){var e=H(t._i),n=void 0===e.day?e.date:e.day;t._a=p([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],(function(t){return t&&parseInt(t,10)})),Se(t)}}(t):h(e)?t._d=new Date(e):i.createFromInputFallback(t)}(t),y(t)||(t._d=null),t))}function Ee(t,e,n,r,i){var o,u={};return!0!==e&&!1!==e||(r=e,e=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(s(t)&&c(t)||a(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=i,u._l=n,u._i=t,u._f=e,u._strict=r,(o=new x(le(Me(u))))._nextDay&&(o.add(1,"d"),o._nextDay=void 0),o}function Ae(t,e,n,r){return Ee(t,e,n,r,!1)}i.createFromInputFallback=M("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))})),i.ISO_8601=function(){},i.RFC_2822=function(){};var ke=M("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Ae.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()})),Ce=M("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var t=Ae.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:v()}));function Oe(t,e){var n,r;if(1===e.length&&a(e[0])&&(e=e[0]),!e.length)return Ae();for(n=e[0],r=1;r<e.length;++r)e[r].isValid()&&!e[r][t](n)||(n=e[r]);return n}var Le=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Re(t){var e=H(t),n=e.year||0,r=e.quarter||0,i=e.month||0,a=e.week||e.isoWeek||0,o=e.day||0,s=e.hour||0,c=e.minute||0,l=e.second||0,h=e.millisecond||0;this._isValid=function(t){var e,n,r=!1;for(e in t)if(u(t,e)&&(-1===vt.call(Le,e)||null!=t[e]&&isNaN(t[e])))return!1;for(n=0;n<Le.length;++n)if(t[Le[n]]){if(r)return!1;parseFloat(t[Le[n]])!==K(t[Le[n]])&&(r=!0)}return!0}(e),this._milliseconds=+h+1e3*l+6e4*c+1e3*s*60*60,this._days=+o+7*a,this._months=+i+3*r+12*n,this._data={},this._locale=ce(),this._bubble()}function Pe(t){return t instanceof Re}function De(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Ie(t,e){N(t,0,0,(function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+R(~~(t/60),2)+e+R(~~t%60,2)}))}Ie("Z",":"),Ie("ZZ",""),mt("Z",pt),mt("ZZ",pt),_t(["Z","ZZ"],(function(t,e,n){n._useUTC=!0,n._tzm=Ne(pt,t)}));var Be=/([\+\-]|\d\d)/gi;function Ne(t,e){var n,r,i=(e||"").match(t);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(Be)||["-",0,0])[1]+K(n[2]))?0:"+"===n[0]?r:-r}function je(t,e){var n,r;return e._isUTC?(n=e.clone(),r=(S(t)||d(t)?t.valueOf():Ae(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+r),i.updateOffset(n,!1),n):Ae(t).local()}function Fe(t){return-Math.round(t._d.getTimezoneOffset())}function Ue(){return!!this.isValid()&&this._isUTC&&0===this._offset}i.updateOffset=function(){};var Ye=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ge=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function He(t,e){var n,r,i,a,s,c,l=t,d=null;return Pe(t)?l={ms:t._milliseconds,d:t._days,M:t._months}:h(t)||!isNaN(+t)?(l={},e?l[e]=+t:l.milliseconds=+t):(d=Ye.exec(t))?(n="-"===d[1]?-1:1,l={y:0,d:K(d[2])*n,h:K(d[3])*n,m:K(d[4])*n,s:K(d[5])*n,ms:K(De(1e3*d[6]))*n}):(d=Ge.exec(t))?(n="-"===d[1]?-1:1,l={y:ze(d[2],n),M:ze(d[3],n),w:ze(d[4],n),d:ze(d[5],n),h:ze(d[6],n),m:ze(d[7],n),s:ze(d[8],n)}):null==l?l={}:"object"===o(l)&&("from"in l||"to"in l)&&(a=Ae(l.from),s=Ae(l.to),i=a.isValid()&&s.isValid()?(s=je(s,a),a.isBefore(s)?c=Ve(a,s):((c=Ve(s,a)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},(l={}).ms=i.milliseconds,l.M=i.months),r=new Re(l),Pe(t)&&u(t,"_locale")&&(r._locale=t._locale),Pe(t)&&u(t,"_isValid")&&(r._isValid=t._isValid),r}function ze(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Ve(t,e){var n={};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function We(t,e){return function(n,r){var i;return null===r||isNaN(+r)||(k(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Xe(this,He(n,r),t),this}}function Xe(t,e,n,r){var a=e._milliseconds,o=De(e._days),s=De(e._months);t.isValid()&&(r=null==r||r,s&&Ot(t,Z(t,"Month")+s*n),o&&J(t,"Date",Z(t,"Date")+o*n),a&&t._d.setTime(t._d.valueOf()+a*n),r&&i.updateOffset(t,o||s))}He.fn=Re.prototype,He.invalid=function(){return He(NaN)};var Ke=We(1,"add"),qe=We(-1,"subtract");function Ze(t){return"string"==typeof t||t instanceof String}function Je(t){return S(t)||d(t)||Ze(t)||h(t)||function(t){var e=a(t),n=!1;return e&&(n=0===t.filter((function(e){return!h(e)&&Ze(t)})).length),e&&n}(t)||function(t){var e,n,r=s(t)&&!c(t),i=!1,a=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(e=0;e<a.length;e+=1)n=a[e],i=i||u(t,n);return r&&i}(t)||null==t}function Qe(t){var e,n=s(t)&&!c(t),r=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(e=0;e<i.length;e+=1)r=r||u(t,i[e]);return n&&r}function $e(t,e){if(t.date()<e.date())return-$e(e,t);var n=12*(e.year()-t.year())+(e.month()-t.month()),r=t.clone().add(n,"months");return-(n+(e-r<0?(e-r)/(r-t.clone().add(n-1,"months")):(e-r)/(t.clone().add(n+1,"months")-r)))||0}function tn(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ce(t))&&(this._locale=e),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var en=M("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(t){return void 0===t?this.localeData():this.locale(t)}));function nn(){return this._locale}function rn(t,e){return(t%e+e)%e}function an(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-126227808e5:new Date(t,e,n).valueOf()}function on(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-126227808e5:Date.UTC(t,e,n)}function sn(t,e){return e.erasAbbrRegex(t)}function un(){var t,e,n=[],r=[],i=[],a=[],o=this.eras();for(t=0,e=o.length;t<e;++t)r.push(yt(o[t].name)),n.push(yt(o[t].abbr)),i.push(yt(o[t].narrow)),a.push(yt(o[t].name)),a.push(yt(o[t].abbr)),a.push(yt(o[t].narrow));this._erasRegex=new RegExp("^("+a.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function cn(t,e){N(0,[t,t.length],0,e)}function ln(t,e,n,r,i){var a;return null==t?Ft(this,r,i).year:(e>(a=Ut(t,r,i))&&(e=a),hn.call(this,t,e,n,r,i))}function hn(t,e,n,r,i){var a=jt(t,e,n,r,i),o=Bt(a.year,0,a.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}N("N",0,0,"eraAbbr"),N("NN",0,0,"eraAbbr"),N("NNN",0,0,"eraAbbr"),N("NNNN",0,0,"eraName"),N("NNNNN",0,0,"eraNarrow"),N("y",["y",1],"yo","eraYear"),N("y",["yy",2],0,"eraYear"),N("y",["yyy",3],0,"eraYear"),N("y",["yyyy",4],0,"eraYear"),mt("N",sn),mt("NN",sn),mt("NNN",sn),mt("NNNN",(function(t,e){return e.erasNameRegex(t)})),mt("NNNNN",(function(t,e){return e.erasNarrowRegex(t)})),_t(["N","NN","NNN","NNNN","NNNNN"],(function(t,e,n,r){var i=n._locale.erasParse(t,r,n._strict);i?g(n).era=i:g(n).invalidEra=t})),mt("y",lt),mt("yy",lt),mt("yyy",lt),mt("yyyy",lt),mt("yo",(function(t,e){return e._eraYearOrdinalRegex||lt})),_t(["y","yy","yyy","yyyy"],0),_t(["yo"],(function(t,e,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[0]=n._locale.eraYearOrdinalParse(t,i):e[0]=parseInt(t,10)})),N(0,["gg",2],0,(function(){return this.weekYear()%100})),N(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),cn("gggg","weekYear"),cn("ggggg","weekYear"),cn("GGGG","isoWeekYear"),cn("GGGGG","isoWeekYear"),Y("weekYear","gg"),Y("isoWeekYear","GG"),V("weekYear",1),V("isoWeekYear",1),mt("G",ht),mt("g",ht),mt("GG",it,tt),mt("gg",it,tt),mt("GGGG",ut,nt),mt("gggg",ut,nt),mt("GGGGG",ct,rt),mt("ggggg",ct,rt),wt(["gggg","ggggg","GGGG","GGGGG"],(function(t,e,n,r){e[r.substr(0,2)]=K(t)})),wt(["gg","GG"],(function(t,e,n,r){e[r]=i.parseTwoDigitYear(t)})),N("Q",0,"Qo","quarter"),Y("quarter","Q"),V("quarter",7),mt("Q",$),_t("Q",(function(t,e){e[1]=3*(K(t)-1)})),N("D",["DD",2],"Do","date"),Y("date","D"),V("date",9),mt("D",it),mt("DD",it,tt),mt("Do",(function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient})),_t(["D","DD"],2),_t("Do",(function(t,e){e[2]=K(t.match(it)[0])}));var dn=q("Date",!0);N("DDD",["DDDD",3],"DDDo","dayOfYear"),Y("dayOfYear","DDD"),V("dayOfYear",4),mt("DDD",st),mt("DDDD",et),_t(["DDD","DDDD"],(function(t,e,n){n._dayOfYear=K(t)})),N("m",["mm",2],0,"minute"),Y("minute","m"),V("minute",14),mt("m",it),mt("mm",it,tt),_t(["m","mm"],4);var pn=q("Minutes",!1);N("s",["ss",2],0,"second"),Y("second","s"),V("second",15),mt("s",it),mt("ss",it,tt),_t(["s","ss"],5);var fn,mn,gn=q("Seconds",!1);for(N("S",0,0,(function(){return~~(this.millisecond()/100)})),N(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),N(0,["SSS",3],0,"millisecond"),N(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),N(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),N(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),N(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),N(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),N(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Y("millisecond","ms"),V("millisecond",16),mt("S",st,$),mt("SS",st,tt),mt("SSS",st,et),fn="SSSS";fn.length<=9;fn+="S")mt(fn,lt);function yn(t,e){e[6]=K(1e3*("0."+t))}for(fn="S";fn.length<=9;fn+="S")_t(fn,yn);mn=q("Milliseconds",!1),N("z",0,0,"zoneAbbr"),N("zz",0,0,"zoneName");var vn=x.prototype;function bn(t){return t}vn.add=Ke,vn.calendar=function(t,e){1===arguments.length&&(arguments[0]?Je(arguments[0])?(t=arguments[0],e=void 0):Qe(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Ae(),r=je(n,this).startOf("day"),a=i.calendarFormat(this,r)||"sameElse",o=e&&(C(e[a])?e[a].call(this,n):e[a]);return this.format(o||this.localeData().calendar(a,this,Ae(n)))},vn.clone=function(){return new x(this)},vn.diff=function(t,e,n){var r,i,a;if(!this.isValid())return NaN;if(!(r=je(t,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=G(e)){case"year":a=$e(this,r)/12;break;case"month":a=$e(this,r);break;case"quarter":a=$e(this,r)/3;break;case"second":a=(this-r)/1e3;break;case"minute":a=(this-r)/6e4;break;case"hour":a=(this-r)/36e5;break;case"day":a=(this-r-i)/864e5;break;case"week":a=(this-r-i)/6048e5;break;default:a=this-r}return n?a:X(a)},vn.endOf=function(t){var e,n;if(void 0===(t=G(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?on:an,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=36e5-rn(e+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":e=this._d.valueOf(),e+=6e4-rn(e,6e4)-1;break;case"second":e=this._d.valueOf(),e+=1e3-rn(e,1e3)-1}return this._d.setTime(e),i.updateOffset(this,!0),this},vn.format=function(t){t||(t=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var e=j(this,t);return this.localeData().postformat(e)},vn.from=function(t,e){return this.isValid()&&(S(t)&&t.isValid()||Ae(t).isValid())?He({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},vn.fromNow=function(t){return this.from(Ae(),t)},vn.to=function(t,e){return this.isValid()&&(S(t)&&t.isValid()||Ae(t).isValid())?He({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},vn.toNow=function(t){return this.to(Ae(),t)},vn.get=function(t){return C(this[t=G(t)])?this[t]():this},vn.invalidAt=function(){return g(this).overflow},vn.isAfter=function(t,e){var n=S(t)?t:Ae(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=G(e)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())},vn.isBefore=function(t,e){var n=S(t)?t:Ae(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=G(e)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())},vn.isBetween=function(t,e,n,r){var i=S(t)?t:Ae(t),a=S(e)?e:Ae(e);return!!(this.isValid()&&i.isValid()&&a.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(a,n):!this.isAfter(a,n))},vn.isSame=function(t,e){var n,r=S(t)?t:Ae(t);return!(!this.isValid()||!r.isValid())&&("millisecond"===(e=G(e)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))},vn.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},vn.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},vn.isValid=function(){return y(this)},vn.lang=en,vn.locale=tn,vn.localeData=nn,vn.max=Ce,vn.min=ke,vn.parsingFlags=function(){return f({},g(this))},vn.set=function(t,e){if("object"===o(t)){var n,r=function(t){var e,n=[];for(e in t)u(t,e)&&n.push({unit:e,priority:z[e]});return n.sort((function(t,e){return t.priority-e.priority})),n}(t=H(t));for(n=0;n<r.length;n++)this[r[n].unit](t[r[n].unit])}else if(C(this[t=G(t)]))return this[t](e);return this},vn.startOf=function(t){var e,n;if(void 0===(t=G(t))||"millisecond"===t||!this.isValid())return this;switch(n=this._isUTC?on:an,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=rn(e+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":e=this._d.valueOf(),e-=rn(e,6e4);break;case"second":e=this._d.valueOf(),e-=rn(e,1e3)}return this._d.setTime(e),i.updateOffset(this,!0),this},vn.subtract=qe,vn.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},vn.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},vn.toDate=function(){return new Date(this.valueOf())},vn.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?j(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(n,"Z")):j(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},vn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t,e,n,r="moment",i="";return this.isLocal()||(r=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),t="["+r+'("]',e=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=i+'[")]',this.format(t+e+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(vn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),vn.toJSON=function(){return this.isValid()?this.toISOString():null},vn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},vn.unix=function(){return Math.floor(this.valueOf()/1e3)},vn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},vn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},vn.eraName=function(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].name;if(r[t].until<=n&&n<=r[t].since)return r[t].name}return""},vn.eraNarrow=function(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].narrow;if(r[t].until<=n&&n<=r[t].since)return r[t].narrow}return""},vn.eraAbbr=function(){var t,e,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t){if(n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until)return r[t].abbr;if(r[t].until<=n&&n<=r[t].since)return r[t].abbr}return""},vn.eraYear=function(){var t,e,n,r,a=this.localeData().eras();for(t=0,e=a.length;t<e;++t)if(n=a[t].since<=a[t].until?1:-1,r=this.clone().startOf("day").valueOf(),a[t].since<=r&&r<=a[t].until||a[t].until<=r&&r<=a[t].since)return(this.year()-i(a[t].since).year())*n+a[t].offset;return this.year()},vn.year=Dt,vn.isLeapYear=function(){return W(this.year())},vn.weekYear=function(t){return ln.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},vn.isoWeekYear=function(t){return ln.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},vn.quarter=vn.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},vn.month=Lt,vn.daysInMonth=function(){return St(this.year(),this.month())},vn.week=vn.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},vn.isoWeek=vn.isoWeeks=function(t){var e=Ft(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},vn.weeksInYear=function(){var t=this.localeData()._week;return Ut(this.year(),t.dow,t.doy)},vn.weeksInWeekYear=function(){var t=this.localeData()._week;return Ut(this.weekYear(),t.dow,t.doy)},vn.isoWeeksInYear=function(){return Ut(this.year(),1,4)},vn.isoWeeksInISOWeekYear=function(){return Ut(this.isoWeekYear(),1,4)},vn.date=dn,vn.day=vn.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},vn.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},vn.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},vn.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},vn.hour=vn.hours=te,vn.minute=vn.minutes=pn,vn.second=vn.seconds=gn,vn.millisecond=vn.milliseconds=mn,vn.utcOffset=function(t,e,n){var r,a=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Ne(pt,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(r=Fe(this)),this._offset=t,this._isUTC=!0,null!=r&&this.add(r,"m"),a!==t&&(!e||this._changeInProgress?Xe(this,He(t-a,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Fe(this)},vn.utc=function(t){return this.utcOffset(0,t)},vn.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Fe(this),"m")),this},vn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Ne(dt,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},vn.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Ae(t).utcOffset():0,(this.utcOffset()-t)%60==0)},vn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},vn.isLocal=function(){return!!this.isValid()&&!this._isUTC},vn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},vn.isUtc=Ue,vn.isUTC=Ue,vn.zoneAbbr=function(){return this._isUTC?"UTC":""},vn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},vn.dates=M("dates accessor is deprecated. Use date instead.",dn),vn.months=M("months accessor is deprecated. Use month instead",Lt),vn.years=M("years accessor is deprecated. Use year instead",Dt),vn.zone=M("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",(function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()})),vn.isDSTShifted=M("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",(function(){if(!l(this._isDSTShifted))return this._isDSTShifted;var t,e={};return w(e,this),(e=Me(e))._a?(t=e._isUTC?m(e._a):Ae(e._a),this._isDSTShifted=this.isValid()&&function(t,e,n){var r,i=Math.min(t.length,e.length),a=Math.abs(t.length-e.length),o=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&K(t[r])!==K(e[r]))&&o++;return o+a}(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}));var _n=L.prototype;function wn(t,e,n,r){var i=ce(),a=m().set(r,e);return i[n](a,t)}function xn(t,e,n){if(h(t)&&(e=t,t=void 0),t=t||"",null!=e)return wn(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=wn(t,r,n,"month");return i}function Sn(t,e,n,r){"boolean"==typeof t?(h(e)&&(n=e,e=void 0),e=e||""):(n=e=t,t=!1,h(e)&&(n=e,e=void 0),e=e||"");var i,a=ce(),o=t?a._week.dow:0,s=[];if(null!=n)return wn(e,(n+o)%7,r,"day");for(i=0;i<7;i++)s[i]=wn(e,(i+o)%7,r,"day");return s}_n.calendar=function(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return C(r)?r.call(e,n):r},_n.longDateFormat=function(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(P).map((function(t){return"MMMM"===t||"MM"===t||"DD"===t||"dddd"===t?t.slice(1):t})).join(""),this._longDateFormat[t])},_n.invalidDate=function(){return this._invalidDate},_n.ordinal=function(t){return this._ordinal.replace("%d",t)},_n.preparse=bn,_n.postformat=bn,_n.relativeTime=function(t,e,n,r){var i=this._relativeTime[n];return C(i)?i(t,e,n,r):i.replace(/%d/i,t)},_n.pastFuture=function(t,e){var n=this._relativeTime[t>0?"future":"past"];return C(n)?n(e):n.replace(/%s/i,e)},_n.set=function(t){var e,n;for(n in t)u(t,n)&&(C(e=t[n])?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},_n.eras=function(t,e){var n,r,a,s=this._eras||ce("en")._eras;for(n=0,r=s.length;n<r;++n){switch(o(s[n].since)){case"string":a=i(s[n].since).startOf("day"),s[n].since=a.valueOf()}switch(o(s[n].until)){case"undefined":s[n].until=1/0;break;case"string":a=i(s[n].until).startOf("day").valueOf(),s[n].until=a.valueOf()}}return s},_n.erasParse=function(t,e,n){var r,i,a,o,s,u=this.eras();for(t=t.toUpperCase(),r=0,i=u.length;r<i;++r)if(a=u[r].name.toUpperCase(),o=u[r].abbr.toUpperCase(),s=u[r].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(o===t)return u[r];break;case"NNNN":if(a===t)return u[r];break;case"NNNNN":if(s===t)return u[r]}else if([a,o,s].indexOf(t)>=0)return u[r]},_n.erasConvertYear=function(t,e){var n=t.since<=t.until?1:-1;return void 0===e?i(t.since).year():i(t.since).year()+(e-t.offset)*n},_n.erasAbbrRegex=function(t){return u(this,"_erasAbbrRegex")||un.call(this),t?this._erasAbbrRegex:this._erasRegex},_n.erasNameRegex=function(t){return u(this,"_erasNameRegex")||un.call(this),t?this._erasNameRegex:this._erasRegex},_n.erasNarrowRegex=function(t){return u(this,"_erasNarrowRegex")||un.call(this),t?this._erasNarrowRegex:this._erasRegex},_n.months=function(t,e){return t?a(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Et).test(e)?"format":"standalone"][t.month()]:a(this._months)?this._months:this._months.standalone},_n.monthsShort=function(t,e){return t?a(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Et.test(e)?"format":"standalone"][t.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},_n.monthsParse=function(t,e,n){var r,i,a;if(this._monthsParseExact)return Ct.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=m([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(a="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(a.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}},_n.monthsRegex=function(t){return this._monthsParseExact?(u(this,"_monthsRegex")||Rt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=kt),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},_n.monthsShortRegex=function(t){return this._monthsParseExact?(u(this,"_monthsRegex")||Rt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=At),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},_n.week=function(t){return Ft(t,this._week.dow,this._week.doy).week},_n.firstDayOfYear=function(){return this._week.doy},_n.firstDayOfWeek=function(){return this._week.dow},_n.weekdays=function(t,e){var n=a(this._weekdays)?this._weekdays:this._weekdays[t&&!0!==t&&this._weekdays.isFormat.test(e)?"format":"standalone"];return!0===t?Yt(n,this._week.dow):t?n[t.day()]:n},_n.weekdaysMin=function(t){return!0===t?Yt(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin},_n.weekdaysShort=function(t){return!0===t?Yt(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort},_n.weekdaysParse=function(t,e,n){var r,i,a;if(this._weekdaysParseExact)return Kt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=m([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(a="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(a.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}},_n.weekdaysRegex=function(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Vt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},_n.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Wt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},_n.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||qt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Xt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},_n.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},_n.meridiem=function(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"},se("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===K(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),i.lang=M("moment.lang is deprecated. Use moment.locale instead.",se),i.langData=M("moment.langData is deprecated. Use moment.localeData instead.",ce);var Tn=Math.abs;function Mn(t,e,n,r){var i=He(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function En(t){return t<0?Math.floor(t):Math.ceil(t)}function An(t){return 4800*t/146097}function kn(t){return 146097*t/4800}function Cn(t){return function(){return this.as(t)}}var On=Cn("ms"),Ln=Cn("s"),Rn=Cn("m"),Pn=Cn("h"),Dn=Cn("d"),In=Cn("w"),Bn=Cn("M"),Nn=Cn("Q"),jn=Cn("y");function Fn(t){return function(){return this.isValid()?this._data[t]:NaN}}var Un=Fn("milliseconds"),Yn=Fn("seconds"),Gn=Fn("minutes"),Hn=Fn("hours"),zn=Fn("days"),Vn=Fn("months"),Wn=Fn("years"),Xn=Math.round,Kn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function qn(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}var Zn=Math.abs;function Jn(t){return(t>0)-(t<0)||+t}function Qn(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,r,i,a,o,s,u=Zn(this._milliseconds)/1e3,c=Zn(this._days),l=Zn(this._months),h=this.asSeconds();return h?(t=X(u/60),e=X(t/60),u%=60,t%=60,n=X(l/12),l%=12,r=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",a=Jn(this._months)!==Jn(h)?"-":"",o=Jn(this._days)!==Jn(h)?"-":"",s=Jn(this._milliseconds)!==Jn(h)?"-":"",i+"P"+(n?a+n+"Y":"")+(l?a+l+"M":"")+(c?o+c+"D":"")+(e||t||u?"T":"")+(e?s+e+"H":"")+(t?s+t+"M":"")+(u?s+r+"S":"")):"P0D"}var $n=Re.prototype;return $n.isValid=function(){return this._isValid},$n.abs=function(){var t=this._data;return this._milliseconds=Tn(this._milliseconds),this._days=Tn(this._days),this._months=Tn(this._months),t.milliseconds=Tn(t.milliseconds),t.seconds=Tn(t.seconds),t.minutes=Tn(t.minutes),t.hours=Tn(t.hours),t.months=Tn(t.months),t.years=Tn(t.years),this},$n.add=function(t,e){return Mn(this,t,e,1)},$n.subtract=function(t,e){return Mn(this,t,e,-1)},$n.as=function(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=G(t))||"quarter"===t||"year"===t)switch(e=this._days+r/864e5,n=this._months+An(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(kn(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}},$n.asMilliseconds=On,$n.asSeconds=Ln,$n.asMinutes=Rn,$n.asHours=Pn,$n.asDays=Dn,$n.asWeeks=In,$n.asMonths=Bn,$n.asQuarters=Nn,$n.asYears=jn,$n.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*K(this._months/12):NaN},$n._bubble=function(){var t,e,n,r,i,a=this._milliseconds,o=this._days,s=this._months,u=this._data;return a>=0&&o>=0&&s>=0||a<=0&&o<=0&&s<=0||(a+=864e5*En(kn(s)+o),o=0,s=0),u.milliseconds=a%1e3,t=X(a/1e3),u.seconds=t%60,e=X(t/60),u.minutes=e%60,n=X(e/60),u.hours=n%24,o+=X(n/24),s+=i=X(An(o)),o-=En(kn(i)),r=X(s/12),s%=12,u.days=o,u.months=s,u.years=r,this},$n.clone=function(){return He(this)},$n.get=function(t){return t=G(t),this.isValid()?this[t+"s"]():NaN},$n.milliseconds=Un,$n.seconds=Yn,$n.minutes=Gn,$n.hours=Hn,$n.days=zn,$n.weeks=function(){return X(this.days()/7)},$n.months=Vn,$n.years=Wn,$n.humanize=function(t,e){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,a=Kn;return"object"===o(t)&&(e=t,t=!1),"boolean"==typeof t&&(i=t),"object"===o(e)&&(a=Object.assign({},Kn,e),null!=e.s&&null==e.ss&&(a.ss=e.s-1)),r=function(t,e,n,r){var i=He(t).abs(),a=Xn(i.as("s")),o=Xn(i.as("m")),s=Xn(i.as("h")),u=Xn(i.as("d")),c=Xn(i.as("M")),l=Xn(i.as("w")),h=Xn(i.as("y")),d=a<=n.ss&&["s",a]||a<n.s&&["ss",a]||o<=1&&["m"]||o<n.m&&["mm",o]||s<=1&&["h"]||s<n.h&&["hh",s]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(d=d||l<=1&&["w"]||l<n.w&&["ww",l]),(d=d||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h])[2]=e,d[3]=+t>0,d[4]=r,qn.apply(null,d)}(this,!i,a,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)},$n.toISOString=Qn,$n.toString=Qn,$n.toJSON=Qn,$n.locale=tn,$n.localeData=nn,$n.toIsoString=M("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Qn),$n.lang=en,N("X",0,0,"unix"),N("x",0,0,"valueOf"),mt("x",ht),mt("X",/[+-]?\d+(\.\d{1,3})?/),_t("X",(function(t,e,n){n._d=new Date(1e3*parseFloat(t))})),_t("x",(function(t,e,n){n._d=new Date(K(t))})),i.version="2.29.1",e=Ae,i.fn=vn,i.min=function(){var t=[].slice.call(arguments,0);return Oe("isBefore",t)},i.max=function(){var t=[].slice.call(arguments,0);return Oe("isAfter",t)},i.now=function(){return Date.now?Date.now():+new Date},i.utc=m,i.unix=function(t){return Ae(1e3*t)},i.months=function(t,e){return xn(t,e,"months")},i.isDate=d,i.locale=se,i.invalid=v,i.duration=He,i.isMoment=S,i.weekdays=function(t,e,n){return Sn(t,e,n,"weekdays")},i.parseZone=function(){return Ae.apply(null,arguments).parseZone()},i.localeData=ce,i.isDuration=Pe,i.monthsShort=function(t,e){return xn(t,e,"monthsShort")},i.weekdaysMin=function(t,e,n){return Sn(t,e,n,"weekdaysMin")},i.defineLocale=ue,i.updateLocale=function(t,e){if(null!=e){var n,r,i=ee;null!=ne[t]&&null!=ne[t].parentLocale?ne[t].set(O(ne[t]._config,e)):(null!=(r=oe(t))&&(i=r._config),e=O(i,e),null==r&&(e.abbr=t),(n=new L(e)).parentLocale=ne[t],ne[t]=n),se(t)}else null!=ne[t]&&(null!=ne[t].parentLocale?(ne[t]=ne[t].parentLocale,t===se()&&se(t)):null!=ne[t]&&delete ne[t]);return ne[t]},i.locales=function(){return E(ne)},i.weekdaysShort=function(t,e,n){return Sn(t,e,n,"weekdaysShort")},i.normalizeUnits=G,i.relativeTimeRounding=function(t){return void 0===t?Xn:"function"==typeof t&&(Xn=t,!0)},i.relativeTimeThreshold=function(t,e){return void 0!==Kn[t]&&(void 0===e?Kn[t]:(Kn[t]=e,"s"===t&&(Kn.ss=e-1),!0))},i.calendarFormat=function(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},i.prototype=vn,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},i},"object"===o(e)&&void 0!==t?t.exports=a():void 0===(i="function"==typeof(r=a)?r.call(e,n,e,t):r)||(t.exports=i)}).call(this,n(136)(t))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={BUTTON_ICON:{FORWARD:"icon-forward.png",BACK:"icon-back.png",NEXT:"icon-next.png",PLAY:"icon-play.png",PAUSE:"icon-pause.png",EXIT:"icon-exit.png",SOUND_ON:"icon-sound-on.png",SOUND_OFF:"icon-sound-off.png",TICK:"icon-tick.png",CROSS:"icon-cross.png",HOME:"icon-home.png",HELP:"icon-help.png",SETTINGS:"icon-settings.png",LEADERBOARD:"icon-leaderboard.png",LOCK:"icon-lock.png"},BREADCRUMB:{HEIGHT:80},COUNTRY_SELECT:{MARGIN:25},PLAYER_CARD:{WIDTH:306,SPACING:20,OFFSET:60,HEIGHT:400,PADDING:10},BALL_PICKER:{BALL_WIDTH:127,BALL_SPACING:35,CONTAINER_OFFSET:0},MARGIN:{TITLE_TOP:69},UNLOCKABLES:{PRICE:50},SCREEN_ID:{TITLE:"TITLE",COUNTRY_SELECT:"COUNTRY_SELECT",CAPTAIN_SELECT:"CAPTAIN_SELECT",PLAYER_SELECT:"PLAYER_SELECT",PLAYER_SELECT_2:"PLAYER_SELECT_2",KEEPER_SELECT:"KEEPER_SELECT",TEAM_REVIEW:"TEAM_REVIEW",TOURNAMENT:"TOURNAMENT",GAME:"GAME",GAMEOVER:"GAMEOVER",LEADERBOARD:"LEADERBOARD",USER_STATS:"USER_STATS",UNLOCKABLES:"UNLOCKABLES",CHARACTERS:"CHARACTERS",STADIUMS:"STADIUMS",STATS:"STATS",REWARDS:"REWARDS",INTERSTITIAL_REWARDS:"INTERSTITIAL_REWARDS",BALLS:"BALLS",KITS:"KITS",LANGUAGE:"LANGUAGE",CHALLENGES:"CHALLENGES",LEAGUES_ONBOARDING:"LEAGUES_ONBOARDING",LEAGUES:"LEAGUES",PAGEANTRY:"PAGEANTRY",SWIPE_DEBUG:"SWIPE_DEBUG"},OVERLAY_ID:{INSTRUCTIONS:"INSTRUCTIONS",PAUSE:"PAUSE",EMPTY:"EMPTY",CONFIRMATION:"CONFIRMATION",LANGUAGE:"LANGUAGE",SETTINGS:"SETTINGS",LOCKED_POPUP:"LOCKED_POPUP",GDPR:"GDPR",PROMOTING:"PROMOTING"},MESSAGE_ID:{VS:"VS",WHISTLE:"WHISTLE",GOAL:"GOAL",SCORE:"SCORE",POWERUP:"POWERUP",SHOOT_DIRECTION:"SHOOT_DIRECTION"},DATA_MIGRATION_VERSION:4,FALLBACK_LEADERBOARD_TARGET_URL:"assets/mock-data/fakedatabase.json",LEADERBOARD_TARGET_URL:"./api/",LEADERBOARD_LEGACY_TARGET_URL:"",GEO_TARGET_URL:"./api/getCharactersAndReferees",LEADERBOARD_UPDATE_INTERVAL:1}},function(t,e,n){var r=n(277),i=n(118),a=n(574);r||i(Object.prototype,"toString",a,{unsafe:!0})},function(t,e,n){"use strict";n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return s})),n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return l})),n.d(e,"g",(function(){return p})),n.d(e,"f",(function(){return d})),n.d(e,"e",(function(){return f}));n(15),n(140),n(5),n(22),n(20),n(119);var r=n(45);function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=function(){function t(){i(this,"signals",new Map),i(this,"pool",new Map),i(this,"poolDefaults",new Map)}var e=t.prototype;return e.add=function(t,e){this.getSignal(t).add(e)},e.addOnce=function(t,e){this.getSignal(t).addOnce(e)},e.remove=function(t,e){this.getSignal(t).remove(e)},e.has=function(t,e){this.getSignal(t).has(e)},e.dispatch=function(t,e){var n=this.getSignal(t),r=this.getEvent(t),i=this.getEventDefaults(t);Object.assign(r,i),e&&Object.assign(r,e),n.dispatch(r)},e.getSignal=function(t){return this.signals.has(t)||this.signals.set(t,new r.Signal),this.signals.get(t)},e.getEvent=function(t){return this.pool.has(t)||this.pool.set(t,new t),this.pool.get(t)},e.getEventDefaults=function(t){return this.poolDefaults.has(t)||this.poolDefaults.set(t,new t),this.poolDefaults.get(t)},t}();var o,s=function(){var t,e,n;n=void 0,(e="code")in(t=this)?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n};!function(t){t[t.LOADED=0]="LOADED",t[t.MUTE=1]="MUTE",t[t.UNMUTE=2]="UNMUTE"}(o||(o={}));var u;function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t.APP_LOADED="APP_LOADED",t.APP_STARTED="APP_STARTED",t.APP_EXITED="APP_EXITED",t.APP_INITIAL_LANGUAGE_SELECTED="APP_INITIAL_LANGUAGE_SELECTED",t.APP_LANGUAGE_SELECTED="APP_LANGUAGE_SELECTED",t.APP_MAIN_MENU_LOADED="APP_MAIN_MENU_LOADED",t.APP_TIME_SPENT_INTERVAL="APP_TIME_SPENT_INTERVAL",t.MENU_TOURNAMENT_SELECTED="MENU_TOURNAMENT_SELECTED",t.MENU_TOON_LEAGUES_SELECTED="MENU_TOON_LEAGUES_SELECTED",t.MENU_UNLOCKABLES_SELECTED="MENU_UNLOCKABLES_SELECTED",t.MENU_LEADERBOARD_SELECTED="MENU_LEADERBOARD_SELECTED",t.MENU_CHALLENGES_SELECTED="MENU_CHALLENGES_SELECTED",t.MENU_SETTINGS_SELECTED="MENU_SETTINGS_SELECTED",t.TOURNAMENT_COUNTRY_SELECTED="TOURNAMENT_COUNTRY_SELECTED",t.PLAYER_SELECTED="PLAYER_SELECTED",t.LEADERBOARD_TOURNAMENT_SELECTED="LEADERBOARD_TOURNAMENT_SELECTED",t.LEADERBOARD_TODAY_SELECTED="LEADERBOARD_TODAY_SELECTED",t.LEADERBOARD_THIS_WEEK_SELECTED="LEADERBOARD_THIS_WEEK_SELECTED",t.LEADERBOARD_HALL_OF_FAME_SELECTED="LEADERBOARD_HALL_OF_FAME_SELECTED",t.USER_STATS_SELECTED="USER_STATS_SELECTED",t.SETTINGS_GENERAL_SELECTED="SETTINGS_GENERAL_SELECTED",t.SETTINGS_CONTROLS_SELECTED="SETTINGS_CONTROLS_SELECTED",t.SETTINGS_LEGAL_SELECTED="SETTINGS_LEGAL_SELECTED",t.CONTROLS_CLASSIC_SELECTED="CONTROLS_CLASSIC_SELECTED",t.CONTROLS_SWIPE_SELECTED="CONTROLS_SWIPE_SELECTED",t.UNLOCKABLES_CHARACTERS_SCREEN_SELECTED="UNLOCKABLES_CHARACTERS_SCREEN_SELECTED",t.UNLOCKABLES_STADIUMS_SCREEN_SELECTED="UNLOCKABLES_STADIUMS_SCREEN_SELECTED",t.UNLOCKABLES_BALLS_SCREEN_SELECTED="UNLOCKABLES_BALLS_SCREEN_SELECTED",t.UNLOCKABLES_KITS_SCREEN_SELECTED="UNLOCKABLES_KITS_SCREEN_SELECTED",t.UNLOCKABLES_STATS_SCREEN_SELECTED="UNLOCKABLES_STATS_SCREEN_SELECTED",t.UNLOCKABLES_REWARDS_SCREEN_SELECTED="UNLOCKABLES_REWARDS_SCREEN_SELECTED",t.UNLOCKABLES_CHARACTER_UNLOCKED="UNLOCKABLES_CHARACTER_UNLOCKED",t.UNLOCKABLES_STADIUM_UNLOCKED="UNLOCKABLES_STADIUM_UNLOCKED",t.UNLOCKABLES_BALL_UNLOCKED="UNLOCKABLES_BALL_UNLOCKED",t.UNLOCKABLES_CHARACTER_SELECTED_FOR_UPGRADE="UNLOCKABLES_CHARACTER_SELECTED_FOR_UPGRADE",t.UNLOCKABLES_STAT_UPGRADED="UNLOCKABLES_STAT_UPGRADED",t.UNLOCKABLES_STADIUM_SELECTED="UNLOCKABLES_STADIUM_SELECTED",t.UNLOCKABLES_BALL_SELECTED="UNLOCKABLES_BALL_SELECTED",t.UNLOCKABLES_KIT_UNLOCKED="UNLOCKABLES_KIT_UNLOCKED",t.UNLOCKABLES_KIT_SELECTED="UNLOCKABLES_KIT_SELECTED",t.MENU_HELP_SELECTED="MENU_HELP_SELECTED",t.TUTORIAL_STARTED="TUTORIAL_STARTED",t.TUTORIAL_STEP_ADVANCED="TUTORIAL_STEP_ADVANCED",t.TUTORIAL_ENDED="TUTORIAL_ENDED",t.TUTORIAL_SKIPPED="TUTORIAL_SKIPPED",t.GAME_TOURNAMENT_WON="GAME_TOURNAMENT_WON",t.GAME_TOURNAMENT_EXIT="GAME_TOURNAMENT_EXIT",t.GAME_STAR_LEAGUE_COMPLETED="GAME_STAR_LEAGUE_COMPLETED",t.GAME_ACE_LEAGUE_COMPLETED="GAME_ACE_LEAGUE_COMPLETED",t.GAME_PRO_LEAGUE_COMPLETED="GAME_PRO_LEAGUE_COMPLETED",t.GAME_EPIC_LEAGUE_COMPLETED="GAME_EPIC_LEAGUE_COMPLETED",t.GAME_ULTRA_LEAGUE_COMPLETED="GAME_ULTRA_LEAGUE_COMPLETED",t.GAME_MATCH_STARTED="GAME_MATCH_STARTED",t.GAME_MATCH_EXITED="GAME_MATCH_EXITED",t.GAME_MATCH_WON="GAME_MATCH_WON",t.GAME_MATCH_LOST="GAME_MATCH_LOST",t.CHALLENGE_COMPLETED="CHALLENGE_COMPLETED"}(u||(u={}));var l=function(){c(this,"type",void 0),c(this,"data",void 0)};function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d,p=[];!function(t){t[t.SCREEN_ASSETS_LOADED=0]="SCREEN_ASSETS_LOADED"}(d||(d={}));var f=function(){h(this,"type",void 0),h(this,"screenId",void 0)}},function(t,e,n){"use strict";n.d(e,"c",(function(){return s})),n.d(e,"a",(function(){return r})),n.d(e,"f",(function(){return u})),n.d(e,"b",(function(){return i})),n.d(e,"i",(function(){return c})),n.d(e,"e",(function(){return a})),n.d(e,"h",(function(){return l})),n.d(e,"d",(function(){return o})),n.d(e,"g",(function(){return h}));var r,i,a,o,s=new(n(6).c);function u(t){r=t}function c(t){i=t}function l(t){a=t}function h(t){o=t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a}));var r={cache:{tutorialCompleted:!1,swipeTutorialCompleted:!1,leaguesOnboardingComplete:!1,languageInitialised:!1,gdprAccepted:!1,unlockablesVisited:!1,controlsSettingVisited:!1,userCountry:void 0,dataVersion:0},device:{cordovaMode:!1,widescreen:!1,mipmap:!1,lowSpec:!1},events:{tournamentMode:!1,winterMode:!1},settings:{muted:!1,language:void 0,controls:n(117).a.CLASSIC},misc:{forceShowCharacterId:null,promotion:null},debug:{quickGame:!1,instantPromotion:!1,rapidPowerups:!1,globalEventStatus:null}},i={cache:function(){return r.cache},settings:function(){return r.settings},debug:function(){return r.debug}},a={cache:function(t){for(var e in t)r.cache[e]=t[e]},settings:function(t){for(var e in t)r.settings[e]=t[e]},debug:function(t){for(var e in t)r.debug[e]=t[e]}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35);var r=n(80),i=n(8),a=n(6),o=n(1),s=n(0),u=n(7),c=n(45),l=n.n(c);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return g(t)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(m,t);var e,n,c,h=f(m);function m(t,e,n){var r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,m),e=e||{},n||(e.padding=20),"ar"===i.a.settings.language&&(e.letterSpacing=0),(r=h.call(this,"",e))._forcedFontFamily=e.fontFamily,r._noFormatArabic=!1,r._maxWidth=e.maxWidth||0,r._maxHeight=e.maxHeight||0,r.upperCase=e.upperCase||!1,u.c.add(a.d,r.onLanguageChange.bind(g(r))),r.onTextRetrieved=new l.a,r.onTextRetrieved.add((function(t){r.applyText(t)})),r.setText(t),r}return e=m,(n=[{key:"setText",value:function(t,e,n){this.id=t,this._noFormatArabic=!!n,this.id?(this.upperCase=e||this.upperCase,this.onLanguageChange()):this.text=""}},{key:"onLanguageChange",value:function(){if(this.id){var t;if("ar"===i.a.settings.language&&(this.style.letterSpacing=0),"th"===i.a.settings.language?(void 0===this.originalSize&&(this.originalSize=this.style.fontSize),this.style.fontSize=this.originalSize+2):"number"==typeof this.originalSize&&(this.style.fontSize=this.originalSize),"string"==typeof this.id)try{t=r.b.translate(this.id)}catch(e){t=this.id}else{t="";for(var e=0;e<this.id.length;e++){var n=this.id[e],a=void 0;try{a=r.b.translate(n)}catch(t){a=n}"\n"===a&&" "===t.substr(t.length-1)&&(t=t.substr(0,t.length-1)),t+=a,e<this.id.length-1&&"\n"!==a&&"ar"!==i.a.settings.language&&"no"!==i.a.settings.language&&(t+=" ")}}this.onTextRetrieved.dispatch(t)}}},{key:"applyText",value:function(t){this.upperCase&&(t=t.toLocaleUpperCase("tr"===i.a.settings.language?"TR":"en-US")),"ar"!==i.a.settings.language||this._noFormatArabic||(t+=""),this.style.fontFamily=this._forcedFontFamily||r.a.defaultEntry.fontName,this.text=t;var e=!1;if(this.maxWidth&&(this.scale.set(1),this.width>this.maxWidth&&(this.scale.set(this.maxWidth/this.width),e=!0)),this.maxHeight&&!e&&(this.scale.set(1),this.height>this.maxHeight&&(this.scale.set(this.maxHeight/this.height),e=!0)),o.Params.get("debugLang",!1)){if(!this.maxWidth&&!this.maxHeight)return;this.debugRect||(this.debugRect=new s.Graphics,this.maxWidth?this.debugRect.beginFill(16711680,.5):this.maxHeight&&this.debugRect.beginFill(65280,.5),this.addChild(this.debugRect)),this.debugRect.clear();var n=this.maxWidth||200,a=this.maxHeight||50;this.debugRect.drawRect(0,0,n,a),this.debugRect.scale.set(1/this.scale.x),this.debugRect.x=-this.debugRect.width/2,this.debugRect.y=-this.debugRect.height/2}}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth=t,this.onLanguageChange()}},{key:"maxHeight",get:function(){return this._maxHeight},set:function(t){this._maxHeight=t,this.onLanguageChange()}}])&&d(e.prototype,n),c&&d(e,c),Object.defineProperty(e,"prototype",{writable:!1}),m}(s.Text)},function(t,e,n){"use strict";var r,i,a,o,s,u,c,l,h,d,p,f,m,g,y,v,b;n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return m})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return r})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return g})),n.d(e,"i",(function(){return v})),n.d(e,"j",(function(){return p})),n.d(e,"k",(function(){return b})),n.d(e,"l",(function(){return y})),n.d(e,"m",(function(){return i})),n.d(e,"n",(function(){return h})),n.d(e,"o",(function(){return c})),n.d(e,"p",(function(){return l})),n.d(e,"q",(function(){return d})),function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"}(r||(r={})),function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"}(i||(i={})),function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"}(a||(a={})),function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"}(o||(o={})),function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(s||(s={})),function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(u||(u={})),function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(c||(c={})),function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.FLOAT=5126]="FLOAT",t[t.HALF_FLOAT=36193]="HALF_FLOAT"}(l||(l={})),function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"}(h||(h={})),function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(d||(d={})),function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"}(p||(p={})),function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA"}(f||(f={})),function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"}(m||(m={})),function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"}(g||(g={})),function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"}(y||(y={})),function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE"}(v||(v={})),function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"}(b||(b={}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return w}));n(51),n(27),n(5),n(33),n(99),n(23),n(88),n(126),n(34),n(139);var r,i,a=n(17),o=n(6),s=n(9),u=n(1),c=n(0),l=n(7),h=n(256);function d(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?d(Object(n),!0).forEach((function(e){b(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function f(t,e,n){return(f=m()?Reflect.construct:function(t,e,n){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return n&&v(i,n.prototype),i}).apply(null,arguments)}function m(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t.BLUE="blue",t.GREEN="green",t.PINK="pink",t.YELLOW="yellow",t.GREY="white",t.BEIGE="beige",t.SPECIAL="special"}(r||(r={})),function(t){t[t.DEFAULT=.95]="DEFAULT",t[t.LARGE=1]="LARGE",t[t.EXTRA_LARGE=1.15]="EXTRA_LARGE"}(i||(i={}));var _={color:r.BLUE,size:i.DEFAULT,anchorX:.5,anchorY:.5,format:{fill:"white",fontSize:35,stroke:!1,strokeThickness:4,lineJoin:"round"},noTween:!1,noBackground:!1,noSound:!1},w=function(t){var e,n;function i(e){var n;b(y(n=t.call(this)||this),"background",void 0),b(y(n),"content",void 0),b(y(n),"_size",void 0),b(y(n),"_color",void 0),b(y(n),"_anchor",void 0),b(y(n),"_iconScale",void 0),b(y(n),"_spacing",void 0),n._size=e.size||_.size,n._color=e.color||_.color;var i,h,d=void 0!==e.anchorX?e.anchorX:_.anchorX,m=void 0!==e.anchorY?e.anchorY:_.anchorY;if(n._anchor=new c.Point(d,m),e.iconScale&&(n._iconScale=e.iconScale),e.spacing&&(n._spacing=e.spacing),e.noBackground)n.background=new c.Container;else{var g=n._color===r.SPECIAL?[10,10,10,14]:[30,20,20,20];n.background=f(c.NineSlicePlane,[c.Texture.from("tc-button-"+n._color+".png")].concat(g)),n.background.scale.set(n._size),e.width&&(n.background.width=e.width/n._size),e.height&&(n.background.height=e.height/n._size)}return n.addChild(n.background),e.icon&&((i=c.Sprite.from(e.icon)).anchor.set(.5),n.background.addChild(i)),e.text&&((h=new s.a(e.text,p(p(p({},_.format),e.format),{},{upperCase:e.uppercase}))).anchor.set(.5),n.background.addChild(h)),h&&i?n.content={icon:i,text:h}:i?n.content=i:h&&(n.content=h),e.noTween||(n.onHover.add((function(){a.default.playSfx("button_roll"),Object(u.tween)(n.scale,.15,{x:1.04,y:1.04,ease:"Linear.easeNone"})})),n.onOut.add((function(){Object(u.tween)(n.scale,.15,{x:1,y:1,ease:"Linear.easeNone"})}))),e.noSound||n.onPress.add((function(){return a.default.playSfx("button_press")})),n._refresh(),l.c.add(o.d,n._refresh.bind(y(n))),n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,v(e,n);var h,d,m,w=i.prototype;return w.setColor=function(t){this.background instanceof c.NineSlicePlane&&(this._color=t,this.background.texture=c.Texture.from("tc-button-"+this._color+".png"))},w.setText=function(t){(this.content.icon?this.content.text:this.content).setText(t),this._refresh()},w.setIcon=function(t,e){(this.content.icon?this.content.icon:this.content).texture=c.Texture.from(t),e&&(this._iconScale=e),this._refresh()},w.setDimension=function(t){t.width&&(this.background.width=t.width),t.height&&(this.background.height=t.height),this._refresh()},w.setAnchor=function(t){t.x&&(this._anchor.x=t.x),t.y&&(this._anchor.y=t.y),this._refresh()},w._refresh=function(){var t,e,n,r,i;if(this.content.icon&&this.content.text?(t=this.content.icon,e=this.content.text):this.content instanceof s.a?e=this.content:this.content instanceof c.Sprite&&(t=this.content),t){var a=.6*this.background.height/t.texture.height;!e&&t.texture.width>t.texture.height&&(a=.6*this.background.width/t.texture.width),t.scale.set((this.background instanceof c.NineSlicePlane?a:.6)*(this._iconScale||1))}e&&(e.scale.set(1),e.width>.85*this.background.width-((null===(n=t)||void 0===n?void 0:n.width)||0)-(this._spacing||5)/this._size?e.maxWidth=.85*this.background.width-((null===(r=t)||void 0===r?void 0:r.width)||0)-(this._spacing||5)/this._size:e.maxWidth=0);e&&t?(t.position.set(.15*this.background.width,this.background.height/2),e.maxWidth>0?e.position.set(t.x+t.width/2+e.width/2+(this._spacing||10)/this._size,this.background.height/2):e.position.set(this.background.width/2+t.x-t.width/2,this.background.height/2)):null===(i=this.content.position)||void 0===i||i.set(this.background.width/2,this.background.height/2);this.background.x=-this._anchor.x*this.background.width*this._size,this.background.y=-this._anchor.y*this.background.height*this._size},h=i,(d=[{key:"width",get:function(){return this.background.width*this._size}},{key:"height",get:function(){return this.background.height*this._size}}])&&g(h.prototype,d),m&&g(h,m),Object.defineProperty(h,"prototype",{writable:!1}),i}(h.a)},function(t,e,n){var r=n(158);t.exports&&(e=t.exports=r),e.THREE=r},function(t,e,n){"use strict";n.d(e,"a",(function(){return fe})),n.d(e,"b",(function(){return y})),n.d(e,"c",(function(){return oe})),n.d(e,"d",(function(){return v})),n.d(e,"e",(function(){return N})),n.d(e,"f",(function(){return b})),n.d(e,"g",(function(){return O})),n.d(e,"h",(function(){return g})),n.d(e,"i",(function(){return he})),n.d(e,"j",(function(){return ge})),n.d(e,"k",(function(){return be})),n.d(e,"l",(function(){return _e})),n.d(e,"m",(function(){return me})),n.d(e,"n",(function(){return et})),n.d(e,"o",(function(){return de})),n.d(e,"p",(function(){return F})),n.d(e,"q",(function(){return f})),n.d(e,"r",(function(){return _})),n.d(e,"s",(function(){return rt})),n.d(e,"t",(function(){return w})),n.d(e,"u",(function(){return Nt})),n.d(e,"v",(function(){return Z})),n.d(e,"w",(function(){return $})),n.d(e,"x",(function(){return C})),n.d(e,"y",(function(){return ot})),n.d(e,"z",(function(){return it})),n.d(e,"A",(function(){return Zt})),n.d(e,"B",(function(){return ne})),n.d(e,"C",(function(){return V})),n.d(e,"D",(function(){return ct})),n.d(e,"E",(function(){return qt})),n.d(e,"F",(function(){return c})),n.d(e,"G",(function(){return M})),n.d(e,"H",(function(){return x})),n.d(e,"I",(function(){return lt})),n.d(e,"J",(function(){return Yt})),n.d(e,"K",(function(){return tt})),n.d(e,"L",(function(){return Dt})),n.d(e,"M",(function(){return Vt})),n.d(e,"N",(function(){return W})),n.d(e,"O",(function(){return X})),n.d(e,"P",(function(){return I})),n.d(e,"Q",(function(){return B})),n.d(e,"R",(function(){return Kt})),n.d(e,"S",(function(){return se})),n.d(e,"T",(function(){return p})),n.d(e,"U",(function(){return S})),n.d(e,"V",(function(){return Ht})),n.d(e,"W",(function(){return It})),n.d(e,"X",(function(){return $t})),n.d(e,"Y",(function(){return Ut})),n.d(e,"Z",(function(){return Bt})),n.d(e,"ab",(function(){return te})),n.d(e,"bb",(function(){return zt})),n.d(e,"cb",(function(){return A})),n.d(e,"db",(function(){return P})),n.d(e,"eb",(function(){return ee})),n.d(e,"fb",(function(){return Ft})),n.d(e,"gb",(function(){return re})),n.d(e,"hb",(function(){return L})),n.d(e,"ib",(function(){return q})),n.d(e,"jb",(function(){return T})),n.d(e,"kb",(function(){return pe})),n.d(e,"lb",(function(){return ue})),n.d(e,"mb",(function(){return l})),n.d(e,"nb",(function(){return Lt})),n.d(e,"ob",(function(){return le})),n.d(e,"pb",(function(){return ce})),n.d(e,"qb",(function(){return we})),n.d(e,"rb",(function(){return Te})),n.d(e,"sb",(function(){return Mt}));var r=n(32),i=n(10),a=n(18),o=n(112),s=n(81),u=n(16);r.b.PREFER_ENV=a.isMobile.any?i.f.WEBGL:i.f.WEBGL2,r.b.STRICT_TEXTURE_CACHE=!1;var c=[];function l(t,e){if(!t)return null;var n="";if("string"==typeof t){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);r&&(n=r[1].toLowerCase())}for(var i=c.length-1;i>=0;--i){var a=c[i];if(a.test&&a.test(t,n))return new a(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var h=function(t,e){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function d(t,e){function n(){this.constructor=t}h(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var p=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this._width=t,this._height=e,this.destroyed=!1,this.internal=!1,this.onResize=new o.a("setRealSize"),this.onUpdate=new o.a("update"),this.onError=new o.a("onError")}return t.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},t.prototype.resize=function(t,e){t===this._width&&e===this._height||(this._width=t,this._height=e,this.onResize.emit(t,e))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(t,e,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(t,e){return!1},t}(),f=function(t){function e(e,n){var r=this,i=n||{},a=i.width,o=i.height;if(!a||!o)throw new Error("BufferResource width or height invalid");return(r=t.call(this,a,o)||this).data=e,r}return d(e,t),e.prototype.upload=function(t,e,n){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===i.a.UNPACK),n.width===e.width&&n.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(n.width=e.width,n.height=e.height,r.texImage2D(e.target,0,n.internalFormat,e.width,e.height,0,e.format,n.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array},e}(p),m={scaleMode:i.n.NEAREST,format:i.g.RGBA,alphaMode:i.a.NPM},g=function(t){function e(e,n){void 0===e&&(e=null),void 0===n&&(n=null);var o=t.call(this)||this,s=(n=n||{}).alphaMode,u=n.mipmap,c=n.anisotropicLevel,h=n.scaleMode,d=n.width,f=n.height,m=n.wrapMode,g=n.format,y=n.type,v=n.target,b=n.resolution,_=n.resourceOptions;return!e||e instanceof p||((e=l(e,_)).internal=!0),o.width=d||0,o.height=f||0,o.resolution=b||r.b.RESOLUTION,o.mipmap=void 0!==u?u:r.b.MIPMAP_TEXTURES,o.anisotropicLevel=void 0!==c?c:r.b.ANISOTROPIC_LEVEL,o.wrapMode=m||r.b.WRAP_MODE,o.scaleMode=void 0!==h?h:r.b.SCALE_MODE,o.format=g||i.g.RGBA,o.type=y||i.p.UNSIGNED_BYTE,o.target=v||i.o.TEXTURE_2D,o.alphaMode=void 0!==s?s:i.a.UNPACK,o.uid=Object(a.uid)(),o.touched=0,o.isPowerOfTwo=!1,o._refreshPOT(),o._glTextures={},o.dirtyId=0,o.dirtyStyleId=0,o.cacheId=null,o.valid=d>0&&f>0,o.textureCacheIds=[],o.destroyed=!1,o.resource=null,o._batchEnabled=0,o._batchLocation=0,o.parentTextureArray=null,o.setResource(e),o}return d(e,t),Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.ceil(this.width*this.resolution-1e-4)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.ceil(this.height*this.resolution-1e-4)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(t,e){var n;return void 0!==t&&t!==this.scaleMode&&(this.scaleMode=t,n=!0),void 0!==e&&e!==this.mipmap&&(this.mipmap=e,n=!0),n&&this.dirtyStyleId++,this},e.prototype.setSize=function(t,e,n){return this.resolution=n||this.resolution,this.width=t,this.height=e,this._refreshPOT(),this.update(),this},e.prototype.setRealSize=function(t,e,n){return this.resolution=n||this.resolution,this.width=t/this.resolution,this.height=e/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=Object(a.isPow2)(this.realWidth)&&Object(a.isPow2)(this.realHeight)},e.prototype.setResolution=function(t){var e=this.resolution;return e===t||(this.resolution=t,this.valid&&(this.width=this.width*e/t,this.height=this.height*e/t,this.emit("update",this)),this._refreshPOT()),this},e.prototype.setResource=function(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(t){this.emit("error",this,t)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete a.BaseTextureCache[this.cacheId],delete a.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(t,n,i){void 0===i&&(i=r.b.STRICT_TEXTURE_CACHE);var o="string"==typeof t,s=null;if(o)s=t;else{if(!t._pixiId){var u=n&&n.pixiIdPrefix||"pixiid";t._pixiId=u+"_"+Object(a.uid)()}s=t._pixiId}var c=a.BaseTextureCache[s];if(o&&i&&!c)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return c||((c=new e(t,n)).cacheId=s,e.addToCache(c,s)),c},e.fromBuffer=function(t,n,r,a){t=t||new Float32Array(n*r*4);var o=new f(t,{width:n,height:r}),s=t instanceof Float32Array?i.p.FLOAT:i.p.UNSIGNED_BYTE;return new e(o,Object.assign(m,a||{width:n,height:r,type:s}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),a.BaseTextureCache[e],a.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=a.BaseTextureCache[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete a.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)delete a.BaseTextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},e._globalBatch=0,e}(a.EventEmitter),y=function(t){function e(e,n){var r=this,i=n||{},a=i.width,o=i.height;(r=t.call(this,a,o)||this).items=[],r.itemDirtyIds=[];for(var s=0;s<e;s++){var u=new g;r.items.push(u),r.itemDirtyIds.push(-2)}return r.length=e,r._load=null,r.baseTexture=null,r}return d(e,t),e.prototype.initFromArray=function(t,e){for(var n=0;n<this.length;n++)t[n]&&(t[n].castToBaseTexture?this.addBaseTextureAt(t[n].castToBaseTexture(),n):t[n]instanceof p?this.addResourceAt(t[n],n):this.addResourceAt(l(t[n],e),n))},e.prototype.dispose=function(){for(var t=0,e=this.length;t<e;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(t,e){if(!this.items[e])throw new Error("Index "+e+" is out of bounds");return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[e].setResource(t),this},e.prototype.bind=function(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=e,this.items[n].on("update",e.update,e)},e.prototype.unbind=function(e){t.prototype.unbind.call(this,e);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",e.update,e)},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.items.map((function(t){return t.resource})).filter((function(t){return t})).map((function(t){return t.load()}));return this._load=Promise.all(e).then((function(){var e=t.items[0],n=e.realWidth,r=e.realHeight;return t.resize(n,r),Promise.resolve(t)})),this._load},e}(p),v=function(t){function e(e,n){var r,i,a=this,o=n||{},s=o.width,u=o.height;return Array.isArray(e)?(r=e,i=e.length):i=e,a=t.call(this,i,{width:s,height:u})||this,r&&a.initFromArray(r,n),a}return d(e,t),e.prototype.addBaseTextureAt=function(t,e){if(!t.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(t.resource,e),this},e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=i.o.TEXTURE_2D_ARRAY},e.prototype.upload=function(t,e,n){var r=this.length,i=this.itemDirtyIds,a=this.items,o=t.gl;n.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,e.format,this._width,this._height,r,0,e.format,e.type,null);for(var s=0;s<r;s++){var u=a[s];i[s]<u.dirtyId&&(i[s]=u.dirtyId,u.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,s,u.resource.width,u.resource.height,1,e.format,e.type,u.resource.source))}return!0},e}(y),b=function(t){function e(e){var n=this,r=e,i=r.naturalWidth||r.videoWidth||r.width,a=r.naturalHeight||r.videoHeight||r.height;return(n=t.call(this,i,a)||this).source=e,n.noSubImage=!1,n}return d(e,t),e.crossOrigin=function(t,e,n){void 0===n&&0!==e.indexOf("data:")?t.crossOrigin=Object(a.determineCrossOrigin)(e):!1!==n&&(t.crossOrigin="string"==typeof n?n:"anonymous")},e.prototype.upload=function(t,e,n,r){var a=t.gl,o=e.realWidth,s=e.realHeight;return r=r||this.source,a.pixelStorei(a.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===i.a.UNPACK),this.noSubImage||e.target!==a.TEXTURE_2D||n.width!==o||n.height!==s?(n.width=o,n.height=s,a.texImage2D(e.target,0,e.format,e.format,e.type,r)):a.texSubImage2D(a.TEXTURE_2D,0,0,0,e.format,e.type,r),!0},e.prototype.update=function(){if(!this.destroyed){var e=this.source,n=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(n,r),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(p),_=function(t){function e(e){return t.call(this,e)||this}return d(e,t),e.test=function(t){var e=self.OffscreenCanvas;return!!(e&&t instanceof e)||self.HTMLCanvasElement&&t instanceof HTMLCanvasElement},e}(b),w=function(t){function e(n,r){var a=this,o=r||{},s=o.width,u=o.height,c=o.autoLoad,l=o.linkBaseTexture;if(n&&n.length!==e.SIDES)throw new Error("Invalid length. Got "+n.length+", expected 6");a=t.call(this,6,{width:s,height:u})||this;for(var h=0;h<e.SIDES;h++)a.items[h].target=i.o.TEXTURE_CUBE_MAP_POSITIVE_X+h;return a.linkBaseTexture=!1!==l,n&&a.initFromArray(n,r),!1!==c&&a.load(),a}return d(e,t),e.prototype.bind=function(e){t.prototype.bind.call(this,e),e.target=i.o.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(t,e,n){if(void 0===n&&(n=this.linkBaseTexture),!this.items[e])throw new Error("Index "+e+" is out of bounds");if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0){if(!t.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(t.resource,e)}else t.target=i.o.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this},e.prototype.upload=function(t,n,r){for(var i=this.itemDirtyIds,a=0;a<e.SIDES;a++){var o=this.items[a];i[a]<o.dirtyId&&(o.valid&&o.resource?(o.resource.upload(t,o,r),i[a]=o.dirtyId):i[a]<-1&&(t.gl.texImage2D(o.target,0,r.internalFormat,n.realWidth,n.realHeight,0,n.format,r.type,null),i[a]=-1))}return!0},e.test=function(t){return Array.isArray(t)&&t.length===e.SIDES},e.SIDES=6,e}(y),x=function(t){function e(e,n){var i=this;if(n=n||{},!(e instanceof HTMLImageElement)){var a=new Image;b.crossOrigin(a,e,n.crossorigin),a.src=e,e=a}return i=t.call(this,e)||this,!e.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=e.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(void 0!==n.createBitmap?n.createBitmap:r.b.CREATE_IMAGE_BITMAP)&&!!self.createImageBitmap,i.alphaMode="number"==typeof n.alphaMode?n.alphaMode:null,i.bitmap=null,i._load=null,!1!==n.autoLoad&&i.load(),i}return d(e,t),e.prototype.load=function(t){var e=this;return this._load||(void 0!==t&&(this.createBitmap=t),this._load=new Promise((function(t,n){var r=e.source;e.url=r.src;var i=function(){e.destroyed||(r.onload=null,r.onerror=null,e.resize(r.width,r.height),e._load=null,e.createBitmap?t(e.process()):t(e))};r.complete&&r.src?i():(r.onload=i,r.onerror=function(t){n(t),e.onError.emit(t)})}))),this._load},e.prototype.process=function(){var t=this,e=this.source;return null!==this._process?this._process:null===this.bitmap&&self.createImageBitmap?(this._process=self.createImageBitmap(e,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===i.a.UNPACK?"premultiply":"none"}).then((function(e){return t.destroyed?Promise.reject():(t.bitmap=e,t.update(),t._process=null,Promise.resolve(t))})),this._process):Promise.resolve(this)},e.prototype.upload=function(e,n,r){if("number"==typeof this.alphaMode&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,e,n,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,e,n,r,this.bitmap),!this.preserveBitmap){var i=!0,a=n._glTextures;for(var o in a){var s=a[o];if(s!==r&&s.dirtyId!==n.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(t){return"string"==typeof t||t instanceof HTMLImageElement},e}(b),S=function(t){function e(e,n){var r=this;return n=n||{},(r=t.call(this,document.createElement("canvas"))||this)._width=0,r._height=0,r.svg=e,r.scale=n.scale||1,r._overrideWidth=n.width,r._overrideHeight=n.height,r._resolve=null,r._crossorigin=n.crossorigin,r._load=null,!1!==n.autoLoad&&r.load(),r}return d(e,t),e.prototype.load=function(){var t=this;return this._load||(this._load=new Promise((function(e){if(t._resolve=function(){t.resize(t.source.width,t.source.height),e(t)},/^\<svg/.test(t.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");t.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(t.svg)))}t._loadSvg()}))),this._load},e.prototype._loadSvg=function(){var t=this,e=new Image;b.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=function(n){t._resolve&&(e.onerror=null,t.onError.emit(n))},e.onload=function(){if(t._resolve){var n=e.width,r=e.height;if(!n||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var i=n*t.scale,o=r*t.scale;(t._overrideWidth||t._overrideHeight)&&(i=t._overrideWidth||t._overrideHeight/r*n,o=t._overrideHeight||t._overrideWidth/n*r),i=Math.round(i),o=Math.round(o);var s=t.source;s.width=i,s.height=o,s._pixiId="canvas_"+Object(a.uid)(),s.getContext("2d").drawImage(e,0,0,n,r,0,0,i,o),t._resolve(),t._resolve=null}}},e.getSize=function(t){var n=e.SVG_SIZE.exec(t),r={};return n&&(r[n[1]]=Math.round(parseFloat(n[3])),r[n[5]]=Math.round(parseFloat(n[7]))),r},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(t,e){return"svg"===e||"string"==typeof t&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(t)||"string"==typeof t&&0===t.indexOf("<svg")},e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(b),T=function(t){function e(n,r){var i=this;if(r=r||{},!(n instanceof HTMLVideoElement)){var a=document.createElement("video");a.setAttribute("preload","auto"),a.setAttribute("webkit-playsinline",""),a.setAttribute("playsinline",""),"string"==typeof n&&(n=[n]);var o=n[0].src||n[0];b.crossOrigin(a,o,r.crossorigin);for(var s=0;s<n.length;++s){var u=document.createElement("source"),c=n[s],l=c.src,h=c.mime,d=(l=l||n[s]).split("?").shift().toLowerCase(),p=d.substr(d.lastIndexOf(".")+1);h=h||e.MIME_TYPES[p]||"video/"+p,u.src=l,u.type=h,a.appendChild(u)}n=a}return(i=t.call(this,n)||this).noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=r.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=!1!==r.autoPlay,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),!1!==r.autoLoad&&i.load(),i}return d(e,t),e.prototype.update=function(e){if(!this.destroyed){var n=s.a.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var t=this;if(this._load)return this._load;var e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((function(n){t.valid?n(t):(t._resolve=n,e.load())})),this._load},e.prototype._onError=function(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)},e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&!1===t.paused&&!1===t.ended&&t.readyState>2},e.prototype._isSourceReady=function(){var t=this.source;return 3===t.readyState||4===t.readyState},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(s.a.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(s.a.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);var e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&s.a.shared.remove(this.update,this);var e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(s.a.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(s.a.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(t){t!==this._updateFPS&&(this._updateFPS=t)},enumerable:!1,configurable:!0}),e.test=function(t,n){return self.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(b),M=function(t){function e(e){return t.call(this,e)||this}return d(e,t),e.test=function(t){return!!self.createImageBitmap&&t instanceof ImageBitmap},e}(b);c.push(x,M,_,T,S,f,w,v);var E={__proto__:null,Resource:p,BaseImageResource:b,INSTALLED:c,autoDetectResource:l,AbstractMultiResource:y,ArrayResource:v,BufferResource:f,CanvasResource:_,CubeResource:w,ImageResource:x,SVGResource:S,VideoResource:T,ImageBitmapResource:M},A=function(){function t(t){this.renderer=t}return t.prototype.destroy=function(){this.renderer=null},t}(),k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return d(e,t),e.prototype.upload=function(t,e,n){var r=t.gl;return r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.alphaMode===i.a.UNPACK),n.width===e.width&&n.height===e.height?r.texSubImage2D(e.target,0,0,0,e.width,e.height,e.format,e.type,this.data):(n.width=e.width,n.height=e.height,r.texImage2D(e.target,0,1===t.context.webGLVersion?r.DEPTH_COMPONENT:r.DEPTH_COMPONENT16,e.width,e.height,0,e.format,e.type,this.data)),!0},e}(f),C=function(){function t(t,e){this.width=Math.ceil(t||100),this.height=Math.ceil(e||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new o.a("disposeFramebuffer"),this.multisample=i.k.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(t,e){return void 0===t&&(t=0),this.colorTextures[t]=e||new g(null,{scaleMode:i.n.NEAREST,resolution:1,mipmap:i.j.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(t){return this.depthTexture=t||new g(new k(null,{width:this.width,height:this.height}),{scaleMode:i.n.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:i.j.OFF,format:i.g.DEPTH_COMPONENT,type:i.p.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(t,e){if(t=Math.ceil(t),e=Math.ceil(e),t!==this.width||e!==this.height){this.width=t,this.height=e,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var r=this.colorTextures[n],i=r.resolution;r.setSize(t/i,e/i)}if(this.depthTexture){i=this.depthTexture.resolution;this.depthTexture.setSize(t/i,e/i)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),O=function(t){function e(e){var n=this;if("number"==typeof e){var r=arguments[0],i=arguments[1],a=arguments[2],o=arguments[3];e={width:r,height:i,scaleMode:a,resolution:o}}n=t.call(this,null,e)||this;var s=e||{},u=s.width,c=s.height;return n.mipmap=0,n.width=Math.ceil(u)||100,n.height=Math.ceil(c)||100,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new C(n.width*n.resolution,n.height*n.resolution).addColorTexture(0,n),n.maskStack=[],n.filterStack=[{}],n}return d(e,t),e.prototype.resize=function(t,e){t=Math.ceil(t),e=Math.ceil(e),this.framebuffer.resize(t*this.resolution,e*this.resolution)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(g),L=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(t,e,n){var r=e.width,i=e.height;if(n){var a=t.width/2/r,o=t.height/2/i,s=t.x/r+a,c=t.y/i+o;n=u.n.add(n,u.n.NW),this.x0=s+a*u.n.uX(n),this.y0=c+o*u.n.uY(n),n=u.n.add(n,2),this.x1=s+a*u.n.uX(n),this.y1=c+o*u.n.uY(n),n=u.n.add(n,2),this.x2=s+a*u.n.uX(n),this.y2=c+o*u.n.uY(n),n=u.n.add(n,2),this.x3=s+a*u.n.uX(n),this.y3=c+o*u.n.uY(n)}else this.x0=t.x/r,this.y0=t.y/i,this.x1=(t.x+t.width)/r,this.y1=t.y/i,this.x2=(t.x+t.width)/r,this.y2=(t.y+t.height)/i,this.x3=t.x/r,this.y3=(t.y+t.height)/i;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},t}(),R=new L,P=function(t){function e(n,r,i,a,o,s){var c=t.call(this)||this;if(c.noFrame=!1,r||(c.noFrame=!0,r=new u.j(0,0,1,1)),n instanceof e&&(n=n.baseTexture),c.baseTexture=n,c._frame=r,c.trim=a,c.valid=!1,c._uvs=R,c.uvMatrix=null,c.orig=i||r,c._rotate=Number(o||0),!0===o)c._rotate=2;else if(c._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return c.defaultAnchor=s?new u.g(s.x,s.y):new u.g(0,0),c._updateID=0,c.textureCacheIds=[],n.valid?c.noFrame?n.valid&&c.onBaseTextureUpdated(n):c.frame=r:n.once("loaded",c.onBaseTextureUpdated,c),c.noFrame&&n.on("update",c.onBaseTextureUpdated,c),c}return d(e,t),e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(t){if(this.baseTexture){if(t){var n=this.baseTexture.resource;n&&n.url&&a.TextureCache[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame.clone(),this.orig.clone(),this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor)},e.prototype.updateUvs=function(){this._uvs===R&&(this._uvs=new L),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(t,n,i){void 0===n&&(n={}),void 0===i&&(i=r.b.STRICT_TEXTURE_CACHE);var o="string"==typeof t,s=null;if(o)s=t;else{if(!t._pixiId){var u=n&&n.pixiIdPrefix||"pixiid";t._pixiId=u+"_"+Object(a.uid)()}s=t._pixiId}var c=a.TextureCache[s];if(o&&i&&!c)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return c||(n.resolution||(n.resolution=Object(a.getResolutionOfUrl)(t)),(c=new e(new g(t,n))).baseTexture.cacheId=s,g.addToCache(c.baseTexture,s),e.addToCache(c,s)),c},e.fromURL=function(t,n){var r=Object.assign({autoLoad:!1},null==n?void 0:n.resourceOptions),i=e.from(t,Object.assign({resourceOptions:r},n),!1),a=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):a.load().then((function(){return Promise.resolve(i)}))},e.fromBuffer=function(t,n,r,i){return new e(g.fromBuffer(t,n,r,i))},e.fromLoader=function(t,n,i,o){var s=new g(t,Object.assign({scaleMode:r.b.SCALE_MODE,resolution:Object(a.getResolutionOfUrl)(n)},o)),u=s.resource;u instanceof x&&(u.url=n);var c=new e(s);return i||(i=n),g.addToCache(c.baseTexture,i),e.addToCache(c,i),i!==n&&(g.addToCache(c.baseTexture,n),e.addToCache(c,n)),c.baseTexture.valid?Promise.resolve(c):new Promise((function(t){c.baseTexture.once("loaded",(function(){return t(c)}))}))},e.addToCache=function(t,e){e&&(-1===t.textureCacheIds.indexOf(e)&&t.textureCacheIds.push(e),a.TextureCache[e],a.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=a.TextureCache[t];if(e){var n=e.textureCacheIds.indexOf(t);return n>-1&&e.textureCacheIds.splice(n,1),delete a.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var r=0;r<t.textureCacheIds.length;++r)a.TextureCache[t.textureCacheIds[r]]===t&&delete a.TextureCache[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(t){this._frame=t,this.noFrame=!1;var e=t.x,n=t.y,r=t.width,i=t.height,a=e+r>this.baseTexture.width,o=n+i>this.baseTexture.height;if(a||o){var s=a&&o?"and":"or",u="X: "+e+" + "+r+" = "+(e+r)+" > "+this.baseTexture.width,c="Y: "+n+" + "+i+" = "+(n+i)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+u+" "+s+" "+c)}this.valid=r&&i&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=t),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},e}(a.EventEmitter);function D(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}P.EMPTY=new P(new g),D(P.EMPTY),D(P.EMPTY.baseTexture),P.WHITE=function(){var t=document.createElement("canvas");t.width=16,t.height=16;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,16,16),new P(new g(new _(t)))}(),D(P.WHITE),D(P.WHITE.baseTexture);var I=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.valid=!0,r.filterFrame=null,r.filterPoolKey=null,r.updateUvs(),r}return d(e,t),Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e,n){void 0===n&&(n=!0),t=Math.ceil(t),e=Math.ceil(e),this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,n&&this.baseTexture.resize(t,e),this.updateUvs()},e.prototype.setResolution=function(t){var e=this.baseTexture;e.resolution!==t&&(e.setResolution(t),this.resize(e.width,e.height,!1))},e.create=function(t){for(var n=arguments,r=[],i=1;i<arguments.length;i++)r[i-1]=n[i];return"number"==typeof t&&(Object(a.deprecation)("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),t={width:t,height:r[0],scaleMode:r[1],resolution:r[2]}),new e(new O(t))},e}(P),B=function(){function t(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(t,e){var n=new O(Object.assign({width:t,height:e,resolution:1},this.textureOptions));return new I(n)},t.prototype.getOptimalTexture=function(e,n,r){void 0===r&&(r=1);var i=t.SCREEN_KEY;e*=r,n*=r,this.enableFullScreen&&e===this._pixelsWidth&&n===this._pixelsHeight||(i=(65535&(e=Object(a.nextPow2)(e)))<<16|65535&(n=Object(a.nextPow2)(n))),this.texturePool[i]||(this.texturePool[i]=[]);var o=this.texturePool[i].pop();return o||(o=this.createTexture(e,n)),o.filterPoolKey=i,o.setResolution(r),o},t.prototype.getFilterTexture=function(t,e){var n=this.getOptimalTexture(t.width,t.height,e||t.resolution);return n.filterFrame=t.filterFrame,n},t.prototype.returnTexture=function(t){var e=t.filterPoolKey;t.filterFrame=null,this.texturePool[e].push(t)},t.prototype.returnFilterTexture=function(t){this.returnTexture(t)},t.prototype.clear=function(t){if(t=!1!==t)for(var e in this.texturePool){var n=this.texturePool[e];if(n)for(var r=0;r<n.length;r++)n[r].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){var n=t.SCREEN_KEY,r=this.texturePool[n];if(this.enableFullScreen=e.width>0&&e.height>0,r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[n]=[],this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY="screen",t}(),N=function(){function t(t,e,n,r,i,a,o){void 0===e&&(e=0),void 0===n&&(n=!1),void 0===r&&(r=5126),this.buffer=t,this.size=e,this.normalized=n,this.type=r,this.stride=i,this.start=a,this.instance=o}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,n,r,i,a){return new t(e,n,r,i,a)},t}(),j=0,F=function(){function t(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=e,this.id=j++,this.disposeRunner=new o.a("disposeBuffer")}return t.prototype.update=function(t){this.data=t||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}();function U(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var Y={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};var G={5126:4,5123:2,5121:1},H=0,z={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},V=function(){function t(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this.buffers=t,this.indexBuffer=null,this.attributes=e,this.glVertexArrayObjects={},this.id=H++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new o.a("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(t,e,n,r,i,a,o,s){if(void 0===n&&(n=0),void 0===r&&(r=!1),void 0===s&&(s=!1),!e)throw new Error("You must pass a buffer when creating an attribute");e instanceof F||(e instanceof Array&&(e=new Float32Array(e)),e=new F(e));var u=t.split("|");if(u.length>1){for(var c=0;c<u.length;c++)this.addAttribute(u[c],e,n,r,i);return this}var l=this.buffers.indexOf(e);return-1===l&&(this.buffers.push(e),l=this.buffers.length-1),this.attributes[t]=new N(l,n,r,i,a,o,s),this.instanced=this.instanced||s,this},t.prototype.getAttribute=function(t){return this.attributes[t]},t.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},t.prototype.addIndex=function(t){return t instanceof F||(t instanceof Array&&(t=new Uint16Array(t)),t=new F(t)),t.index=!0,this.indexBuffer=t,-1===this.buffers.indexOf(t)&&this.buffers.push(t),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var t,e=[],n=[],r=new F;for(t in this.attributes){var i=this.attributes[t],a=this.buffers[i.buffer];e.push(a.data),n.push(i.size*G[i.type]/4),i.buffer=0}for(r.data=function(t,e){for(var n=0,r=0,i={},a=0;a<t.length;a++)r+=e[a],n+=t[a].length;var o=new ArrayBuffer(4*n),s=null,u=0;for(a=0;a<t.length;a++){var c=e[a],l=t[a],h=U(l);i[h]||(i[h]=new Y[h](o)),s=i[h];for(var d=0;d<l.length;d++){s[(d/c|0)*r+u+d%c]=l[d]}u+=c}return new Float32Array(o)}(e,n),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var t in this.attributes){var e=this.attributes[t];return this.buffers[e.buffer].data.length/(e.stride/4||e.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,n=0;n<this.buffers.length;n++)e.buffers[n]=new F(this.buffers[n].data.slice(0));for(var n in this.attributes){var r=this.attributes[n];e.attributes[n]=new N(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.index=!0),e},t.merge=function(e){for(var n,r=new t,i=[],a=[],o=[],s=0;s<e.length;s++){n=e[s];for(var u=0;u<n.buffers.length;u++)a[u]=a[u]||0,a[u]+=n.buffers[u].data.length,o[u]=0}for(s=0;s<n.buffers.length;s++)i[s]=new(z[U(n.buffers[s].data)])(a[s]),r.buffers[s]=new F(i[s]);for(s=0;s<e.length;s++){n=e[s];for(u=0;u<n.buffers.length;u++)i[u].set(n.buffers[u].data,o[u]),o[u]+=n.buffers[u].data.length}if(r.attributes=n.attributes,n.indexBuffer){r.indexBuffer=r.buffers[n.buffers.indexOf(n.indexBuffer)],r.indexBuffer.index=!0;var c=0,l=0,h=0,d=0;for(s=0;s<n.buffers.length;s++)if(n.buffers[s]!==n.indexBuffer){d=s;break}for(var s in n.attributes){var p=n.attributes[s];(0|p.buffer)===d&&(l+=p.size*G[p.type]/4)}for(s=0;s<e.length;s++){var f=e[s].indexBuffer.data;for(u=0;u<f.length;u++)r.indexBuffer.data[u+h]+=c;c+=n.buffers[d].data.length/l,h+=f.length}}return r},t}(),W=function(t){function e(){var e=t.call(this)||this;return e.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),e}return d(e,t),e}(V),X=function(t){function e(){var e=t.call(this)||this;return e.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),e.uvs=new Float32Array([0,0,1,0,1,1,0,1]),e.vertexBuffer=new F(e.vertices),e.uvBuffer=new F(e.uvs),e.addAttribute("aVertexPosition",e.vertexBuffer).addAttribute("aTextureCoord",e.uvBuffer).addIndex([0,1,2,0,2,3]),e}return d(e,t),e.prototype.map=function(t,e){var n=0,r=0;return this.uvs[0]=n,this.uvs[1]=r,this.uvs[2]=n+e.width/t.width,this.uvs[3]=r,this.uvs[4]=n+e.width/t.width,this.uvs[5]=r+e.height/t.height,this.uvs[6]=n,this.uvs[7]=r+e.height/t.height,n=e.x,r=e.y,this.vertices[0]=n,this.vertices[1]=r,this.vertices[2]=n+e.width,this.vertices[3]=r,this.vertices[4]=n+e.width,this.vertices[5]=r+e.height,this.vertices[6]=n,this.vertices[7]=r+e.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(V),K=0,q=function(){function t(t,e){this.uniforms=t,this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=K++,this.static=!!e}return t.prototype.update=function(){this.dirtyId++},t.prototype.add=function(e,n,r){this.uniforms[e]=new t(n,r)},t.from=function(e,n){return new t(e,n)},t}(),Z=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.sourceFrame=new u.j,this.destinationFrame=new u.j,this.bindingSourceFrame=new u.j,this.bindingDestinationFrame=new u.j,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),J=[new u.g,new u.g,new u.g,new u.g],Q=new u.d,$=function(t){function e(e){var n=t.call(this,e)||this;return n.defaultFilterStack=[{}],n.texturePool=new B,n.texturePool.setScreenSize(e.view),n.statePool=[],n.quad=new W,n.quadUv=new X,n.tempRect=new u.j,n.activeState={},n.globalUniforms=new q({outputFrame:new u.j,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),n.forceClear=!1,n.useMaxPadding=!1,n}return d(e,t),e.prototype.push=function(t,e){for(var n=this.renderer,r=this.defaultFilterStack,i=this.statePool.pop()||new Z,a=this.renderer.renderTexture,o=e[0].resolution,s=e[0].padding,u=e[0].autoFit,c=e[0].legacy,l=1;l<e.length;l++){var h=e[l];o=Math.min(o,h.resolution),s=this.useMaxPadding?Math.max(s,h.padding):s+h.padding,u=u&&h.autoFit,c=c||h.legacy}if(1===r.length&&(this.defaultFilterStack[0].renderTexture=a.current),r.push(i),i.resolution=o,i.legacy=c,i.target=t,i.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),i.sourceFrame.pad(s),u){var d=this.tempRect.copyFrom(a.sourceFrame);n.projection.transform&&this.transformAABB(Q.copyFrom(n.projection.transform).invert(),d),i.sourceFrame.fit(d)}this.roundFrame(i.sourceFrame,a.current?a.current.resolution:n.resolution,a.sourceFrame,a.destinationFrame,n.projection.transform),i.renderTexture=this.getOptimalFilterTexture(i.sourceFrame.width,i.sourceFrame.height,o),i.filters=e,i.destinationFrame.width=i.renderTexture.width,i.destinationFrame.height=i.renderTexture.height;var p=this.tempRect;p.x=0,p.y=0,p.width=i.sourceFrame.width,p.height=i.sourceFrame.height,i.renderTexture.filterFrame=i.sourceFrame,i.bindingSourceFrame.copyFrom(a.sourceFrame),i.bindingDestinationFrame.copyFrom(a.destinationFrame),i.transform=n.projection.transform,n.projection.transform=null,a.bind(i.renderTexture,i.sourceFrame,p),n.framebuffer.clear(0,0,0,0)},e.prototype.pop=function(){var t=this.defaultFilterStack,e=t.pop(),n=e.filters;this.activeState=e;var r=this.globalUniforms.uniforms;r.outputFrame=e.sourceFrame,r.resolution=e.resolution;var a=r.inputSize,o=r.inputPixel,s=r.inputClamp;if(a[0]=e.destinationFrame.width,a[1]=e.destinationFrame.height,a[2]=1/a[0],a[3]=1/a[1],o[0]=a[0]*e.resolution,o[1]=a[1]*e.resolution,o[2]=1/o[0],o[3]=1/o[1],s[0]=.5*o[2],s[1]=.5*o[3],s[2]=e.sourceFrame.width*a[2]-.5*o[2],s[3]=e.sourceFrame.height*a[3]-.5*o[3],e.legacy){var u=r.filterArea;u[0]=e.destinationFrame.width,u[1]=e.destinationFrame.height,u[2]=e.sourceFrame.x,u[3]=e.sourceFrame.y,r.filterClamp=r.inputClamp}this.globalUniforms.update();var c=t[t.length-1];if(e.renderTexture.framebuffer.multisample>1&&this.renderer.framebuffer.blit(),1===n.length)n[0].apply(this,e.renderTexture,c.renderTexture,i.d.BLEND,e),this.returnFilterTexture(e.renderTexture);else{var l=e.renderTexture,h=this.getOptimalFilterTexture(l.width,l.height,e.resolution);h.filterFrame=l.filterFrame;var d=0;for(d=0;d<n.length-1;++d){n[d].apply(this,l,h,i.d.CLEAR,e);var p=l;l=h,h=p}n[d].apply(this,l,c.renderTexture,i.d.BLEND,e),this.returnFilterTexture(l),this.returnFilterTexture(h)}e.clear(),this.statePool.push(e)},e.prototype.bindAndClear=function(t,e){void 0===e&&(e=i.d.CLEAR);var n=this.renderer,r=n.renderTexture,a=n.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=t.filterFrame.width,o.height=t.filterFrame.height,r.bind(t,t.filterFrame,o)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var s=1&a.stateId||this.forceClear;(e===i.d.CLEAR||e===i.d.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)},e.prototype.applyFilter=function(t,e,n,r){var a=this.renderer;a.state.set(t.state),this.bindAndClear(n,r),t.uniforms.uSampler=e,t.uniforms.filterGlobals=this.globalUniforms,a.shader.bind(t),t.legacy?(this.quadUv.map(e._frame,e.filterFrame),a.geometry.bind(this.quadUv),a.geometry.draw(i.e.TRIANGLES)):(a.geometry.bind(this.quad),a.geometry.draw(i.e.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(t,e){var n=this.activeState,r=n.sourceFrame,i=n.destinationFrame,a=e._texture.orig,o=t.set(i.width,0,0,i.height,r.x,r.y),s=e.worldTransform.copyTo(u.d.TEMP_MATRIX);return s.invert(),o.prepend(s),o.scale(1/a.width,1/a.height),o.translate(e.anchor.x,e.anchor.y),o},e.prototype.destroy=function(){this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(t,e,n){return void 0===n&&(n=1),this.texturePool.getOptimalTexture(t,e,n)},e.prototype.getFilterTexture=function(t,e){if("number"==typeof t){var n=t;t=e,e=n}t=t||this.activeState.renderTexture;var r=this.texturePool.getOptimalTexture(t.width,t.height,e||t.resolution);return r.filterFrame=t.filterFrame,r},e.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e.prototype.transformAABB=function(t,e){var n=J[0],r=J[1],i=J[2],a=J[3];n.set(e.left,e.top),r.set(e.left,e.bottom),i.set(e.right,e.top),a.set(e.right,e.bottom),t.apply(n,n),t.apply(r,r),t.apply(i,i),t.apply(a,a);var o=Math.min(n.x,r.x,i.x,a.x),s=Math.min(n.y,r.y,i.y,a.y),u=Math.max(n.x,r.x,i.x,a.x),c=Math.max(n.y,r.y,i.y,a.y);e.x=o,e.y=s,e.width=u-o,e.height=c-s},e.prototype.roundFrame=function(t,e,n,r,i){if(i){var a=i.a,o=i.b,s=i.c,u=i.d;if(!(0===o&&0===s||0===a&&0===u))return}(i=i?Q.copyFrom(i):Q.identity()).translate(-n.x,-n.y).scale(r.width/n.width,r.height/n.height).translate(r.x,r.y),this.transformAABB(i,t),t.ceil(e),this.transformAABB(i.invert(),t)},e}(A),tt=function(){function t(t){this.renderer=t}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(t){},t}(),et=function(t){function e(e){var n=t.call(this,e)||this;return n.emptyRenderer=new tt(e),n.currentRenderer=n.emptyRenderer,n}return d(e,t),e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(t,e){for(var n=this.renderer.texture.boundTextures,r=e-1;r>=0;--r)t[r]=n[r]||null,t[r]&&(t[r]._batchLocation=r)},e.prototype.boundArray=function(t,e,n,r){for(var i=t.elements,a=t.ids,o=t.count,s=0,u=0;u<o;u++){var c=i[u],l=c._batchLocation;if(l>=0&&l<r&&e[l]===c)a[u]=l;else for(;s<r;){var h=e[s];if(!h||h._batchEnabled!==n||h._batchLocation!==s){a[u]=s,c._batchLocation=s,e[s]=c;break}s++}}},e}(A),nt=0,rt=function(t){function e(e){var n=t.call(this,e)||this;return n.webGLVersion=1,n.extensions={},n.supports={uint32Indices:!1},n.handleContextLost=n.handleContextLost.bind(n),n.handleContextRestored=n.handleContextRestored.bind(n),e.view.addEventListener("webglcontextlost",n.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",n.handleContextRestored,!1),n}return d(e,t),Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=nt++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=nt++,this.renderer.runners.contextChange.emit(t)},e.prototype.initFromOptions=function(t){var e=this.createContext(this.renderer.view,t);this.initFromContext(e)},e.prototype.createContext=function(t,e){var n;if(r.b.PREFER_ENV>=i.f.WEBGL2&&(n=t.getContext("webgl2",e)),n)this.webGLVersion=2;else if(this.webGLVersion=1,!(n=t.getContext("webgl",e)||t.getContext("experimental-webgl",e)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var t=this.gl,e={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,e,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,e,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var t=this.renderer.view;t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(t){var e=t.getContextAttributes(),n="WebGL2RenderingContext"in self&&t instanceof self.WebGL2RenderingContext;n&&(this.webGLVersion=2),e.stencil;var r=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=r},e}(A),it=function(t){this.framebuffer=t,this.stencil=null,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.multisample=i.k.NONE,this.msaaBuffer=null,this.blitFramebuffer=null},at=new u.j,ot=function(t){function e(e){var n=t.call(this,e)||this;return n.managedFramebuffers=[],n.unknownFramebuffer=new C(10,10),n.msaaSamples=null,n}return d(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new u.j,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var e=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;r.b.PREFER_ENV===i.f.WEBGL_LEGACY&&(e=null,n=null),e?t.drawBuffers=function(t){return e.drawBuffersWEBGL(t)}:(this.hasMRT=!1,t.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},e.prototype.bind=function(t,e){var n=this.gl;if(t){var r=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,n.bindFramebuffer(n.FRAMEBUFFER,r.framebuffer)),r.dirtyId!==t.dirtyId&&(r.dirtyId=t.dirtyId,r.dirtyFormat!==t.dirtyFormat?(r.dirtyFormat=t.dirtyFormat,this.updateFramebuffer(t)):r.dirtySize!==t.dirtySize&&(r.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var i=0;i<t.colorTextures.length;i++){var a=t.colorTextures[i];this.renderer.texture.unbind(a.parentTextureArray||a)}t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,t.width,t.height)}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),e?this.setViewport(e.x,e.y,e.width,e.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(t,e,n,r){var i=this.viewport;i.width===n&&i.height===r&&i.x===t&&i.y===e||(i.x=t,i.y=e,i.width=n,i.height=r,this.gl.viewport(t,e,n,r))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(t,e,n,r,a){void 0===a&&(a=i.c.COLOR|i.c.DEPTH);var o=this.gl;o.clearColor(t,e,n,r),o.clear(a)},e.prototype.initFramebuffer=function(t){var e=this.gl,n=new it(e.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n},e.prototype.resizeFramebuffer=function(t){var e=this.gl,n=t.glFramebuffers[this.CONTEXT_UID];n.stencil&&(e.bindRenderbuffer(e.RENDERBUFFER,n.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height));for(var r=t.colorTextures,i=0;i<r.length;i++)this.renderer.texture.bind(r[i],0);t.depthTexture&&this.renderer.texture.bind(t.depthTexture,0)},e.prototype.updateFramebuffer=function(t){var e=this.gl,n=t.glFramebuffers[this.CONTEXT_UID],r=t.colorTextures.length;e.drawBuffers||(r=Math.min(r,1)),n.multisample>1&&(n.msaaBuffer=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,n.msaaBuffer),e.renderbufferStorageMultisample(e.RENDERBUFFER,n.multisample,e.RGBA8,t.width,t.height),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.RENDERBUFFER,n.msaaBuffer));for(var i=[],a=0;a<r;a++)if(!(0===a&&n.multisample>1)){var o=t.colorTextures[a],s=o.parentTextureArray||o;this.renderer.texture.bind(s,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0+a,o.target,s._glTextures[this.CONTEXT_UID].texture,0),i.push(e.COLOR_ATTACHMENT0+a)}if((i.length>1&&e.drawBuffers(i),t.depthTexture)&&this.writeDepthTexture){var u=t.depthTexture;this.renderer.texture.bind(u,0),e.framebufferTexture2D(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,0)}n.stencil||!t.stencil&&!t.depth||(n.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,n.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,t.width,t.height),t.depthTexture||e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,n.stencil))},e.prototype.detectSamples=function(t){var e=this.msaaSamples,n=i.k.NONE;if(t<=1||null===e)return n;for(var r=0;r<e.length;r++)if(e[r]<=t){n=e[r];break}return 1===n&&(n=i.k.NONE),n},e.prototype.blit=function(t,e,n){var r=this.current,i=this.renderer,a=this.gl,o=this.CONTEXT_UID;if(2===i.context.webGLVersion&&r){var s=r.glFramebuffers[o];if(s){if(!t){if(s.multisample<=1)return;s.blitFramebuffer||(s.blitFramebuffer=new C(r.width,r.height),s.blitFramebuffer.addColorTexture(0,r.colorTextures[0])),(t=s.blitFramebuffer).width=r.width,t.height=r.height}e||((e=at).width=r.width,e.height=r.height),n||(n=e);var u=e.width===n.width&&e.height===n.height;this.bind(t),a.bindFramebuffer(a.READ_FRAMEBUFFER,s.framebuffer),a.blitFramebuffer(e.x,e.y,e.width,e.height,n.x,n.y,n.width,n.height,a.COLOR_BUFFER_BIT,u?a.NEAREST:a.LINEAR)}}},e.prototype.disposeFramebuffer=function(t,e){var n=t.glFramebuffers[this.CONTEXT_UID],r=this.gl;if(n){delete t.glFramebuffers[this.CONTEXT_UID];var i=this.managedFramebuffers.indexOf(t);i>=0&&this.managedFramebuffers.splice(i,1),t.disposeRunner.remove(this),e||(r.deleteFramebuffer(n.framebuffer),n.stencil&&r.deleteRenderbuffer(n.stencil))}},e.prototype.disposeAll=function(t){var e=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<e.length;n++)this.disposeFramebuffer(e[n],t)},e.prototype.forceStencil=function(){var t=this.current;if(t){var e=t.glFramebuffers[this.CONTEXT_UID];if(e&&!e.stencil){t.enableStencil();var n=t.width,r=t.height,i=this.gl,a=i.createRenderbuffer();i.bindRenderbuffer(i.RENDERBUFFER,a),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,n,r),e.stencil=a,i.framebufferRenderbuffer(i.FRAMEBUFFER,i.DEPTH_STENCIL_ATTACHMENT,i.RENDERBUFFER,a)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new u.j},e}(A),st=function(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},ut={5126:4,5123:2,5121:1},ct=function(t){function e(e){var n=t.call(this,e)||this;return n._activeGeometry=null,n._activeVao=null,n.hasVao=!0,n.hasInstance=!0,n.canUseUInt32ElementIndex=!1,n.managedGeometries={},n.managedBuffers={},n}return d(e,t),e.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,e=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==e.webGLVersion){var n=this.renderer.context.extensions.vertexArrayObject;r.b.PREFER_ENV===i.f.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=function(){return n.createVertexArrayOES()},t.bindVertexArray=function(t){return n.bindVertexArrayOES(t)},t.deleteVertexArray=function(t){return n.deleteVertexArrayOES(t)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(2!==e.webGLVersion){var a=t.getExtension("ANGLE_instanced_arrays");a?(t.vertexAttribDivisor=function(t,e){return a.vertexAttribDivisorANGLE(t,e)},t.drawElementsInstanced=function(t,e,n,r,i){return a.drawElementsInstancedANGLE(t,e,n,r,i)},t.drawArraysInstanced=function(t,e,n,r){return a.drawArraysInstancedANGLE(t,e,n,r)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===e.webGLVersion||!!e.extensions.uint32ElementIndex},e.prototype.bind=function(t,e){e=e||this.renderer.shader.shader;var n=this.gl,r=t.glVertexArrayObjects[this.CONTEXT_UID],i=!1;r||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=r={},i=!0);var a=r[e.program.id]||this.initGeometryVao(t,e.program,i);this._activeGeometry=t,this._activeVao!==a&&(this._activeVao=a,this.hasVao?n.bindVertexArray(a):this.activateVao(t,e.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var t=this._activeGeometry,e=this.gl,n=0;n<t.buffers.length;n++){var r=t.buffers[n],i=r._glBuffers[this.CONTEXT_UID];if(r._updateID!==i.updateID){i.updateID=r._updateID;var a=r.index?e.ELEMENT_ARRAY_BUFFER:e.ARRAY_BUFFER;if(e.bindBuffer(a,i.buffer),this._boundBuffer=i,i.byteLength>=r.data.byteLength)e.bufferSubData(a,0,r.data);else{var o=r.static?e.STATIC_DRAW:e.DYNAMIC_DRAW;i.byteLength=r.data.byteLength,e.bufferData(a,r.data,o)}}}},e.prototype.checkCompatibility=function(t,e){var n=t.attributes,r=e.attributeData;for(var i in r)if(!n[i])throw new Error('shader and geometry incompatible, geometry missing the "'+i+'" attribute')},e.prototype.getSignature=function(t,e){var n=t.attributes,r=e.attributeData,i=["g",t.id];for(var a in n)r[a]&&i.push(a);return i.join("-")},e.prototype.initGeometryVao=function(t,e,n){void 0===n&&(n=!0),this.checkCompatibility(t,e);var r=this.gl,i=this.CONTEXT_UID,a=this.getSignature(t,e),o=t.glVertexArrayObjects[this.CONTEXT_UID],s=o[a];if(s)return o[e.id]=s,s;var u=t.buffers,c=t.attributes,l={},h={};for(var d in u)l[d]=0,h[d]=0;for(var d in c)!c[d].size&&e.attributeData[d]?c[d].size=e.attributeData[d].size:c[d].size,l[c[d].buffer]+=c[d].size*ut[c[d].type];for(var d in c){var p=c[d],f=p.size;void 0===p.stride&&(l[p.buffer]===f*ut[p.type]?p.stride=0:p.stride=l[p.buffer]),void 0===p.start&&(p.start=h[p.buffer],h[p.buffer]+=f*ut[p.type])}s=r.createVertexArray(),r.bindVertexArray(s);for(var m=0;m<u.length;m++){var g=u[m];g._glBuffers[i]||(g._glBuffers[i]=new st(r.createBuffer()),this.managedBuffers[g.id]=g,g.disposeRunner.add(this)),n&&g._glBuffers[i].refCount++}return this.activateVao(t,e),this._activeVao=s,o[e.id]=s,o[a]=s,s},e.prototype.disposeBuffer=function(t,e){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var n=t._glBuffers[this.CONTEXT_UID],r=this.gl;t.disposeRunner.remove(this),n&&(e||r.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeGeometry=function(t,e){if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var n=t.glVertexArrayObjects[this.CONTEXT_UID],r=this.gl,i=t.buffers;if(t.disposeRunner.remove(this),n){for(var a=0;a<i.length;a++){var o=i[a]._glBuffers[this.CONTEXT_UID];o.refCount--,0!==o.refCount||e||this.disposeBuffer(i[a],e)}if(!e)for(var s in n)if("g"===s[0]){var u=n[s];this._activeVao===u&&this.unbind(),r.deleteVertexArray(u)}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(t){for(var e=Object.keys(this.managedGeometries),n=0;n<e.length;n++)this.disposeGeometry(this.managedGeometries[e[n]],t);e=Object.keys(this.managedBuffers);for(n=0;n<e.length;n++)this.disposeBuffer(this.managedBuffers[e[n]],t)},e.prototype.activateVao=function(t,e){var n=this.gl,r=this.CONTEXT_UID,i=t.buffers,a=t.attributes;t.indexBuffer&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.indexBuffer._glBuffers[r].buffer);var o=null;for(var s in a){var u=a[s],c=i[u.buffer]._glBuffers[r];if(e.attributeData[s]){o!==c&&(n.bindBuffer(n.ARRAY_BUFFER,c.buffer),o=c);var l=e.attributeData[s].location;if(n.enableVertexAttribArray(l),n.vertexAttribPointer(l,u.size,u.type||n.FLOAT,u.normalized,u.stride,u.start),u.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");n.vertexAttribDivisor(l,1)}}}},e.prototype.draw=function(t,e,n,r){var i=this.gl,a=this._activeGeometry;if(a.indexBuffer){var o=a.indexBuffer.data.BYTES_PER_ELEMENT,s=2===o?i.UNSIGNED_SHORT:i.UNSIGNED_INT;(2===o||4===o&&this.canUseUInt32ElementIndex)&&(a.instanced?i.drawElementsInstanced(t,e||a.indexBuffer.data.length,s,(n||0)*o,r||1):i.drawElements(t,e||a.indexBuffer.data.length,s,(n||0)*o))}else a.instanced?i.drawArraysInstanced(t,n,e||a.getSize(),r||1):i.drawArrays(t,n,e||a.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e}(A),lt=function(){function t(t){void 0===t&&(t=null),this.type=i.i.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._target=null}return t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=i.i.NONE,this.autoDetect=!0),this._target=null},t.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function ht(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}function dt(t,e,n,r){var i=ht(t,t.VERTEX_SHADER,e),a=ht(t,t.FRAGMENT_SHADER,n),o=t.createProgram();if(t.attachShader(o,i),t.attachShader(o,a),r)for(var s in r)t.bindAttribLocation(o,r[s],s);return t.linkProgram(o),t.getProgramParameter(o,t.LINK_STATUS)||(t.getShaderParameter(i,t.COMPILE_STATUS),t.getShaderParameter(a,t.COMPILE_STATUS),t.getProgramInfoLog(o),t.deleteProgram(o),o=null),t.deleteShader(i),t.deleteShader(a),o}function pt(t){for(var e=new Array(t),n=0;n<e.length;n++)e[n]=!1;return e}function ft(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return pt(2*e);case"bvec3":return pt(3*e);case"bvec4":return pt(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var mt,gt={},yt=gt;function vt(){if(yt===gt||yt&&yt.isContextLost()){var t=document.createElement("canvas"),e=void 0;r.b.PREFER_ENV>=i.f.WEBGL2&&(e=t.getContext("webgl2",{})),e||((e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}))?e.getExtension("WEBGL_draw_buffers"):e=null),yt=e}return yt}function bt(t,e,n){if("precision"!==t.substring(0,9)){var r=e;return e===i.l.HIGH&&n!==i.l.HIGH&&(r=i.l.MEDIUM),"precision "+r+" float;\n"+t}return n!==i.l.HIGH&&"precision highp"===t.substring(0,15)?t.replace("precision highp","precision mediump"):t}var _t={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function wt(t){return _t[t]}var xt=null,St={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Tt(t,e){if(!xt){var n=Object.keys(St);xt={};for(var r=0;r<n.length;++r){var i=n[r];xt[t[i]]=St[i]}}return xt[e]}var Mt=[{test:function(t){return"float"===t.type&&1===t.size},code:function(t){return'\n            if(uv["'+t+'"] !== ud["'+t+'"].value)\n            {\n                ud["'+t+'"].value = uv["'+t+'"]\n                gl.uniform1f(ud["'+t+'"].location, uv["'+t+'"])\n            }\n            '}},{test:function(t){return("sampler2D"===t.type||"samplerCube"===t.type||"sampler2DArray"===t.type)&&1===t.size&&!t.isArray},code:function(t){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+t+'"], t);\n\n            if(ud["'+t+'"].value !== t)\n            {\n                ud["'+t+'"].value = t;\n                gl.uniform1i(ud["'+t+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(t,e){return"mat3"===t.type&&1===t.size&&void 0!==e.a},code:function(t){return'\n            gl.uniformMatrix3fv(ud["'+t+'"].location, false, uv["'+t+'"].toArray(true));\n            '}},{test:function(t,e){return"vec2"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+t+'"].location, v.x, v.y);\n                }'}},{test:function(t){return"vec2"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+t+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(t,e){return"vec4"===t.type&&1===t.size&&void 0!==e.width},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+t+'"].location, v.x, v.y, v.width, v.height)\n                }'}},{test:function(t){return"vec4"===t.type&&1===t.size},code:function(t){return'\n                cv = ud["'+t+'"].value;\n                v = uv["'+t+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+t+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],Et={float:"\n    if(cv !== v)\n    {\n        cv.v = v;\n        gl.uniform1f(location, v)\n    }",vec2:"\n    if(cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"gl.uniform4f(location, v[0], v[1], v[2], v[3])",int:"gl.uniform1i(location, v)",ivec2:"gl.uniform2i(location, v[0], v[1])",ivec3:"gl.uniform3i(location, v[0], v[1], v[2])",ivec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",uint:"gl.uniform1ui(location, v)",uvec2:"gl.uniform2ui(location, v[0], v[1])",uvec3:"gl.uniform3ui(location, v[0], v[1], v[2])",uvec4:"gl.uniform4ui(location, v[0], v[1], v[2], v[3])",bool:"gl.uniform1i(location, v)",bvec2:"gl.uniform2i(location, v[0], v[1])",bvec3:"gl.uniform3i(location, v[0], v[1], v[2])",bvec4:"gl.uniform4i(location, v[0], v[1], v[2], v[3])",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},At={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};var kt,Ct=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function Ot(t){for(var e="",n=0;n<t;++n)n>0&&(e+="\nelse "),n<t-1&&(e+="if(test == "+n+".0){}");return e}function Lt(t,e){if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var n=e.createShader(e.FRAGMENT_SHADER);;){var r=Ct.replace(/%forloop%/gi,Ot(t));if(e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS))break;t=t/2|0}return t}var Rt=0,Pt={},Dt=function(){function t(e,n,a){void 0===a&&(a="pixi-shader"),this.id=Rt++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=n||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(a=a.replace(/\s+/g,"-"),Pt[a]?(Pt[a]++,a+="-"+Pt[a]):Pt[a]=1,this.vertexSrc="#define SHADER_NAME "+a+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+a+"\n"+this.fragmentSrc,this.vertexSrc=bt(this.vertexSrc,r.b.PRECISION_VERTEX,i.l.HIGH),this.fragmentSrc=bt(this.fragmentSrc,r.b.PRECISION_FRAGMENT,function(){if(!mt){mt=i.l.MEDIUM;var t=vt();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);mt=e.precision?i.l.HIGH:i.l.MEDIUM}}return mt}())),this.extractData(this.vertexSrc,this.fragmentSrc),this.glPrograms={},this.syncUniforms=null}return t.prototype.extractData=function(t,e){var n=vt();if(n){var r=dt(n,t,e);this.attributeData=this.getAttributeData(r,n),this.uniformData=this.getUniformData(r,n),n.deleteProgram(r)}else this.uniformData={},this.attributeData={}},t.prototype.getAttributeData=function(t,e){for(var n={},r=[],i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),a=0;a<i;a++){var o=e.getActiveAttrib(t,a),s=Tt(e,o.type),u={type:s,name:o.name,size:wt(s),location:0};n[o.name]=u,r.push(u)}r.sort((function(t,e){return t.name>e.name?1:-1}));for(a=0;a<r.length;a++)r[a].location=a;return n},t.prototype.getUniformData=function(t,e){for(var n={},r=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<r;i++){var a=e.getActiveUniform(t,i),o=a.name.replace(/\[.*?\]$/,""),s=a.name.match(/\[.*?\]$/),u=Tt(e,a.type);n[o]={type:u,size:a.size,isArray:s,value:ft(u,a.size)}}return n},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}"},enumerable:!1,configurable:!0}),t.from=function(e,n,r){var i=e+n,o=a.ProgramCache[i];return o||(a.ProgramCache[i]=o=new t(e,n,r)),o},t}(),It=function(){function t(t,e){for(var n in this.program=t,this.uniformGroup=e?e instanceof q?e:new q(e):new q({}),t.uniformData)this.uniformGroup.uniforms[n]instanceof Array&&(this.uniformGroup.uniforms[n]=new Float32Array(this.uniformGroup.uniforms[n]))}return t.prototype.checkUniformExists=function(t,e){if(e.uniforms[t])return!0;for(var n in e.uniforms){var r=e.uniforms[n];if(r.group&&this.checkUniformExists(t,r))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,n,r){return new t(Dt.from(e,n),r)},t}(),Bt=function(){function t(){this.data=0,this.blendMode=i.b.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(1&this.data)},set:function(t){!!(1&this.data)!==t&&(this.data^=1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(2&this.data)},set:function(t){!!(2&this.data)!==t&&(this.data^=2)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(4&this.data)},set:function(t){!!(4&this.data)!==t&&(this.data^=4)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(8&this.data)},set:function(t){!!(8&this.data)!==t&&(this.data^=8)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(32&this.data)},set:function(t){!!(32&this.data)!==t&&(this.data^=32)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(16&this.data)},set:function(t){!!(16&this.data)!==t&&(this.data^=16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==i.b.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),Nt=function(t){function e(n,i,a){var o=this,s=Dt.from(n||e.defaultVertexSrc,i||e.defaultFragmentSrc);return(o=t.call(this,s,a)||this).padding=0,o.resolution=r.b.FILTER_RESOLUTION,o.enabled=!0,o.autoFit=!0,o.legacy=!!o.program.attributeData.aTextureCoord,o.state=new Bt,o}return d(e,t),e.prototype.apply=function(t,e,n,r,i){t.applyFilter(this,e,n,r)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(t){this.state.blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return"attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return"varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"},enumerable:!1,configurable:!0}),e}(It),jt=new u.d,Ft=function(){function t(t,e){this._texture=t,this.mapCoord=new u.d,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===e?.5:e,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var n=this.mapCoord,r=0;r<t.length;r+=2){var i=t[r],a=t[r+1];e[r]=i*n.a+a*n.c+n.tx,e[r+1]=i*n.b+a*n.d+n.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._textureID===e._updateID)return!1;this._textureID=e._updateID,this._updateID++;var n=e._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var r=e.orig,i=e.trim;i&&(jt.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(jt));var a=e.baseTexture,o=this.uClampFrame,s=this.clampMargin/a.resolution,u=this.clampOffset;return o[0]=(e._frame.x+s+u)/a.width,o[1]=(e._frame.y+s+u)/a.height,o[2]=(e._frame.x+e._frame.width-s+u)/a.width,o[3]=(e._frame.y+e._frame.height-s+u)/a.height,this.uClampOffset[0]=u/a.realWidth,this.uClampOffset[1]=u/a.realHeight,this.isSimple=e._frame.width===a.width&&e._frame.height===a.height&&0===e.rotate,!0},t}(),Ut=function(t){function e(e){var n=this,r=new u.d;return n=t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n")||this,e.renderable=!1,n.maskSprite=e,n.maskMatrix=r,n}return d(e,t),e.prototype.apply=function(t,e,n,r){var i=this.maskSprite,a=i._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new Ft(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,i).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=i.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,t.applyFilter(this,e,n,r))},e}(Nt),Yt=function(t){function e(e){var n=t.call(this,e)||this;return n.enableScissor=!0,n.alphaMaskPool=[],n.maskDataPool=[],n.maskStack=[],n.alphaMaskIndex=0,n}return d(e,t),e.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},e.prototype.push=function(t,e){var n=e;if(!n.isMaskData){var r=this.maskDataPool.pop()||new lt;r.pooled=!0,r.maskObject=e,n=r}switch(n.autoDetect&&this.detect(n),n.copyCountersOrReset(this.maskStack[this.maskStack.length-1]),n._target=t,n.type){case i.i.SCISSOR:this.maskStack.push(n),this.renderer.scissor.push(n);break;case i.i.STENCIL:this.maskStack.push(n),this.renderer.stencil.push(n);break;case i.i.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n),this.maskStack.push(n)}},e.prototype.pop=function(t){var e=this.maskStack.pop();if(e&&e._target===t){switch(e.type){case i.i.SCISSOR:this.renderer.scissor.pop();break;case i.i.STENCIL:this.renderer.stencil.pop(e.maskObject);break;case i.i.SPRITE:this.popSpriteMask()}e.reset(),e.pooled&&this.maskDataPool.push(e)}},e.prototype.detect=function(t){var e=t.maskObject;if(e.isSprite)t.type=i.i.SPRITE;else if(t.type=i.i.STENCIL,this.enableScissor&&e.isFastRect&&e.isFastRect()){var n=e.worldTransform,r=Math.atan2(n.b,n.a),a=Math.atan2(n.d,n.c);r=Math.round(r*(180/Math.PI)*100),a=((a=Math.round(a*(180/Math.PI)*100)-r)%18e3+18e3)%18e3,0===(r=(r%9e3+9e3)%9e3)&&9e3===a&&(t.type=i.i.SCISSOR)}},e.prototype.pushSpriteMask=function(t){var e=t.maskObject,n=t._target,r=this.alphaMaskPool[this.alphaMaskIndex];r||(r=this.alphaMaskPool[this.alphaMaskIndex]=[new Ut(e)]),r[0].resolution=this.renderer.resolution,r[0].maskSprite=e;var i=n.filterArea;n.filterArea=e.getBounds(!0),this.renderer.filter.push(n,r),n.filterArea=i,this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filter.pop(),this.alphaMaskIndex--},e}(A),Gt=function(t){function e(e){var n=t.call(this,e)||this;return n.maskStack=[],n.glConst=0,n}return d(e,t),e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(t){var e=this.renderer.gl,n=this.getStackLength();this.maskStack=t;var r=this.getStackLength();r!==n&&(0===r?e.disable(this.glConst):(e.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.maskStack=null},e}(A),Ht=function(t){function e(e){var n=t.call(this,e)||this;return n.glConst=WebGLRenderingContext.SCISSOR_TEST,n}return d(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0},e.prototype.push=function(t){var e=t.maskObject;e.renderable=!0;var n=t._scissorRect,r=e.getBounds(!0),i=this.renderer.gl;e.renderable=!1,n?r.fit(n):i.enable(i.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=r,this._useCurrent()},e.prototype.pop=function(){var t=this.renderer.gl;this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)},e.prototype._useCurrent=function(){var t=this.maskStack[this.maskStack.length-1]._scissorRect,e=this.renderer.renderTexture.current,n=this.renderer.projection,r=n.transform,i=n.sourceFrame,a=n.destinationFrame,o=e?e.resolution:this.renderer.resolution,s=a.width/i.width,u=a.height/i.height,c=((t.x-i.x)*s+a.x)*o,l=((t.y-i.y)*u+a.y)*o,h=t.width*s*o,d=t.height*u*o;r&&(c+=r.tx*o,l+=r.ty*o),e||(l=this.renderer.height-d-l),this.renderer.gl.scissor(c,l,h,d)},e}(Gt),zt=function(t){function e(e){var n=t.call(this,e)||this;return n.glConst=WebGLRenderingContext.STENCIL_TEST,n}return d(e,t),e.prototype.getStackLength=function(){var t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0},e.prototype.push=function(t){var e=t.maskObject,n=this.renderer.gl,r=t._stencilCounter;0===r&&(this.renderer.framebuffer.forceStencil(),n.enable(n.STENCIL_TEST)),t._stencilCounter++,n.colorMask(!1,!1,!1,!1),n.stencilFunc(n.EQUAL,r,this._getBitwiseMask()),n.stencilOp(n.KEEP,n.KEEP,n.INCR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),this.renderer.framebuffer.blit(),e.renderable=!1,this._useCurrent()},e.prototype.pop=function(t){var e=this.renderer.gl;0===this.getStackLength()?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent())},e.prototype._useCurrent=function(){var t=this.renderer.gl;t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.EQUAL,this.getStackLength(),this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},e.prototype._getBitwiseMask=function(){return(1<<this.getStackLength())-1},e}(Gt),Vt=function(t){function e(e){var n=t.call(this,e)||this;return n.destinationFrame=null,n.sourceFrame=null,n.defaultFrame=null,n.projectionMatrix=new u.d,n.transform=null,n}return d(e,t),e.prototype.update=function(t,e,n,r){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,r),this.transform&&this.projectionMatrix.append(this.transform);var i=this.renderer;i.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,i.globalUniforms.update(),i.shader.shader&&i.shader.syncUniformGroup(i.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(t,e,n,r){var i=this.projectionMatrix,a=r?-1:1;i.identity(),i.a=1/e.width*2,i.d=a*(1/e.height*2),i.tx=-1-e.x*i.a,i.ty=-a-e.y*i.d},e.prototype.setTransform=function(t){},e}(A),Wt=new u.j,Xt=new u.j,Kt=function(t){function e(e){var n=t.call(this,e)||this;return n.clearColor=e._backgroundColorRgba,n.defaultMaskStack=[],n.current=null,n.sourceFrame=new u.j,n.destinationFrame=new u.j,n.viewportFrame=new u.j,n}return d(e,t),e.prototype.bind=function(t,e,n){void 0===t&&(t=null);var r,i,a,o=this.renderer;this.current=t,t?(a=(r=t.baseTexture).resolution,e||(Wt.width=t.frame.width,Wt.height=t.frame.height,e=Wt),n||(Xt.x=t.frame.x,Xt.y=t.frame.y,Xt.width=e.width,Xt.height=e.height,n=Xt),i=r.framebuffer):(a=o.resolution,e||(Wt.width=o.screen.width,Wt.height=o.screen.height,e=Wt),n||((n=Wt).width=e.width,n.height=e.height));var s=this.viewportFrame;s.x=n.x*a,s.y=n.y*a,s.width=n.width*a,s.height=n.height*a,t||(s.y=o.view.height-(s.y+s.height)),this.renderer.framebuffer.bind(i,s),this.renderer.projection.update(n,e,a,!i),t?this.renderer.mask.setMaskStack(r.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(e),this.destinationFrame.copyFrom(n)},e.prototype.clear=function(t,e){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var n=this.destinationFrame,r=this.current?this.current.baseTexture:this.renderer.screen,i=n.width!==r.width||n.height!==r.height;if(i){var a=this.viewportFrame,o=a.x,s=a.y,u=a.width,c=a.height;this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,s,u,c)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],e),i&&this.renderer.scissor.pop()},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e}(A),qt=function(){},Zt=function(){function t(t,e){this.program=t,this.uniformData=e,this.uniformGroups={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.program=null},t}(),Jt=0,Qt={textureCount:0},$t=function(t){function e(e){var n=t.call(this,e)||this;return n.destroyed=!1,n.systemCheck(),n.gl=null,n.shader=null,n.program=null,n.cache={},n.id=Jt++,n}return d(e,t),e.prototype.systemCheck=function(){if(!function(){if("boolean"==typeof kt)return kt;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");kt=!0===t({a:"b"},"a","b")}catch(t){kt=!1}return kt}())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(t){this.gl=t,this.reset()},e.prototype.bind=function(t,e){t.uniforms.globals=this.renderer.globalUniforms;var n=t.program,r=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateShader(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(r.program)),e||(Qt.textureCount=0,this.syncUniformGroup(t.uniformGroup,Qt)),r},e.prototype.setUniforms=function(t){var e=this.shader.program,n=e.glPrograms[this.renderer.CONTEXT_UID];e.syncUniforms(n.uniformData,t,this.renderer)},e.prototype.syncUniformGroup=function(t,e){var n=this.getglProgram();t.static&&t.dirtyId===n.uniformGroups[t.id]||(n.uniformGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,e))},e.prototype.syncUniforms=function(t,e,n){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(e.uniformData,t.uniforms,this.renderer,n)},e.prototype.createSyncGroups=function(t){var e=this.getSignature(t,this.shader.program.uniformData);return this.cache[e]||(this.cache[e]=function(t,e){var n=["\n        var v = null;\n        var cv = null\n        var t = 0;\n        var gl = renderer.gl\n    "];for(var r in t.uniforms){var i=e[r];if(i){for(var a=t.uniforms[r],o=!1,s=0;s<Mt.length;s++)if(Mt[s].test(i,a)){n.push(Mt[s].code(r,a)),o=!0;break}if(!o){var u=(1===i.size?Et:At)[i.type].replace("location",'ud["'+r+'"].location');n.push('\n            cv = ud["'+r+'"].value;\n            v = uv["'+r+'"];\n            '+u+";")}}else t.uniforms[r].group&&n.push('\n                    renderer.shader.syncUniformGroup(uv["'+r+'"], syncData);\n                ')}return new Function("ud","uv","renderer","syncData",n.join("\n"))}(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[e],t.syncUniforms[this.shader.program.id]},e.prototype.getSignature=function(t,e){var n=t.uniforms,r=[];for(var i in n)r.push(i),e[i]&&r.push(e[i].type);return r.join("-")},e.prototype.getglProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateShader=function(t){var e=this.gl,n=t.program,r={};for(var i in n.attributeData)r[i]=n.attributeData[i].location;var a=dt(e,n.vertexSrc,n.fragmentSrc,r),o={};for(var i in n.uniformData){var s=n.uniformData[i];o[i]={location:e.getUniformLocation(a,i),value:ft(s.type,s.size)}}var u=new Zt(a,o);return n.glPrograms[this.renderer.CONTEXT_UID]=u,u},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.destroyed=!0},e}(A);var te=function(t){function e(e){var n=t.call(this,e)||this;return n.gl=null,n.stateId=0,n.polygonOffset=0,n.blendMode=i.b.NONE,n._blendEq=!1,n.map=[],n.map[0]=n.setBlend,n.map[1]=n.setOffset,n.map[2]=n.setCullFace,n.map[3]=n.setDepthTest,n.map[4]=n.setFrontFace,n.map[5]=n.setDepthMask,n.checks=[],n.defaultState=new Bt,n.defaultState.blend=!0,n}return d(e,t),e.prototype.contextChange=function(t){this.gl=t,this.blendModes=function(t,e){return void 0===e&&(e=[]),e[i.b.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.ADD]=[t.ONE,t.ONE],e[i.b.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.NONE]=[0,0],e[i.b.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[i.b.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[i.b.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[i.b.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[i.b.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[i.b.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[i.b.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[i.b.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[i.b.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[i.b.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[i.b.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}(t),this.set(this.defaultState),this.reset()},e.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var e=this.stateId^t.data,n=0;e;)1&e&&this.map[n].call(this,!!(t.data&1<<n)),e>>=1,n++;this.stateId=t.data}for(n=0;n<this.checks.length;n++)this.checks[n](this,t)},e.prototype.forceState=function(t){t=t||this.defaultState;for(var e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setDepthMask=function(t){this.gl.depthMask(t)},e.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},e.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var e=this.blendModes[t],n=this.gl;2===e.length?n.blendFunc(e[0],e[1]):n.blendFuncSeparate(e[0],e[1],e[2],e[3]),6===e.length?(this._blendEq=!0,n.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},e.prototype.setPolygonOffset=function(t,e){this.gl.polygonOffset(t,e)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(t,e){var n=this.checks.indexOf(t);e&&-1===n?this.checks.push(t):e||-1===n||this.checks.splice(n,1)},e.checkBlendMode=function(t,e){t.setBlendMode(e.blendMode)},e.checkPolygonOffset=function(t,e){t.setPolygonOffset(1,e.polygonOffset)},e}(A),ee=function(t){function e(e){var n=t.call(this,e)||this;return n.count=0,n.checkCount=0,n.maxIdle=r.b.GC_MAX_IDLE,n.checkCountMax=r.b.GC_MAX_CHECK_COUNT,n.mode=r.b.GC_MODE,n}return d(e,t),e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==i.h.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var t=this.renderer.texture,e=t.managedTextures,n=!1,r=0;r<e.length;r++){var i=e[r];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[r]=null,n=!0)}if(n){var a=0;for(r=0;r<e.length;r++)null!==e[r]&&(e[a++]=e[r]);e.length=a}},e.prototype.unload=function(t){var e=this.renderer.texture,n=t._texture;n&&!n.framebuffer&&e.destroyTexture(n);for(var r=t.children.length-1;r>=0;r--)this.unload(t.children[r])},e}(A),ne=function(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=6408,this.internalFormat=5121},re=function(t){function e(e){var n=t.call(this,e)||this;return n.boundTextures=[],n.currentLocation=-1,n.managedTextures=[],n._unknownBoundTextures=!1,n.unknownTexture=new g,n}return d(e,t),e.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion;var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=e;for(var n=0;n<e;n++)this.boundTextures[n]=null;this.emptyTextures={};var r=new ne(t.createTexture());t.bindTexture(t.TEXTURE_2D,r.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=r,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new ne(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(n=0;n<6;n++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(n=0;n<this.boundTextures.length;n++)this.bind(null,n)},e.prototype.bind=function(t,e){void 0===e&&(e=0);var n=this.gl;if(t){if((t=t.castToBaseTexture()).parentTextureArray)return;if(t.valid){t.touched=this.renderer.textureGC.count;var r=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[e]!==t&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(t.target,r.texture)),r.dirtyId!==t.dirtyId&&(this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),this.updateTexture(t)),this.boundTextures[e]=t}}else this.currentLocation!==e&&(this.currentLocation=e,n.activeTexture(n.TEXTURE0+e)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[e]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},e.prototype.unbind=function(t){var e=this.gl,n=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var r=0;r<n.length;r++)n[r]===this.unknownTexture&&this.bind(null,r)}for(r=0;r<n.length;r++)n[r]===t&&(this.currentLocation!==r&&(e.activeTexture(e.TEXTURE0+r),this.currentLocation=r),e.bindTexture(t.target,this.emptyTextures[t.target].texture),n[r]=null)},e.prototype.initTexture=function(t){var e=new ne(this.gl.createTexture());return e.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=e,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),e},e.prototype.initTextureType=function(t,e){if(e.internalFormat=t.format,e.type=t.type,2===this.webGLVersion){var n=this.renderer.gl;t.type===n.FLOAT&&t.format===n.RGBA&&(e.internalFormat=n.RGBA32F),t.type===i.p.HALF_FLOAT&&(e.type=n.HALF_FLOAT),e.type===n.HALF_FLOAT&&t.format===n.RGBA&&(e.internalFormat=n.RGBA16F)}},e.prototype.updateTexture=function(t){var e=t._glTextures[this.CONTEXT_UID];if(e){var n=this.renderer;if(this.initTextureType(t,e),t.resource&&t.resource.upload(n,t,e));else{var r=t.realWidth,i=t.realHeight,a=n.gl;(e.width!==r||e.height!==i||e.dirtyId<0)&&(e.width=r,e.height=i,a.texImage2D(t.target,0,e.internalFormat,r,i,0,t.format,e.type,null))}t.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(t),e.dirtyId=t.dirtyId}},e.prototype.destroyTexture=function(t,e){var n=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!e)){var r=this.managedTextures.indexOf(t);-1!==r&&Object(a.removeItems)(this.managedTextures,r,1)}},e.prototype.updateTextureStyle=function(t){var e=t._glTextures[this.CONTEXT_UID];e&&(t.mipmap!==i.j.POW2&&2===this.webGLVersion||t.isPowerOfTwo?e.mipmap=t.mipmap>=1:e.mipmap=!1,2===this.webGLVersion||t.isPowerOfTwo?e.wrapMode=t.wrapMode:e.wrapMode=i.q.CLAMP,t.resource&&t.resource.style(this.renderer,t,e)||this.setStyle(t,e),e.dirtyStyleId=t.dirtyStyleId)},e.prototype.setStyle=function(t,e){var n=this.gl;if(e.mipmap&&t.mipmap!==i.j.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,e.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,e.wrapMode),e.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===i.n.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var r=this.renderer.context.extensions.anisotropicFiltering;if(r&&t.anisotropicLevel>0&&t.scaleMode===i.n.LINEAR){var a=Math.min(t.anisotropicLevel,n.getParameter(r.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,r.TEXTURE_MAX_ANISOTROPY_EXT,a)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===i.n.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===i.n.LINEAR?n.LINEAR:n.NEAREST)},e}(A),ie={__proto__:null,FilterSystem:$,BatchSystem:et,ContextSystem:rt,FramebufferSystem:ot,GeometrySystem:ct,MaskSystem:Yt,ScissorSystem:Ht,StencilSystem:zt,ProjectionSystem:Vt,RenderTextureSystem:Kt,ShaderSystem:$t,StateSystem:te,TextureGCSystem:ee,TextureSystem:re},ae=new u.d,oe=function(t){function e(e,n){void 0===e&&(e=i.m.UNKNOWN);var o=t.call(this)||this;return n=Object.assign({},r.b.RENDER_OPTIONS,n),o.options=n,o.type=e,o.screen=new u.j(0,0,n.width,n.height),o.view=n.view||document.createElement("canvas"),o.resolution=n.resolution||r.b.RESOLUTION,o.useContextAlpha=n.useContextAlpha,o.autoDensity=!!n.autoDensity,o.preserveDrawingBuffer=n.preserveDrawingBuffer,o.clearBeforeRender=n.clearBeforeRender,o._backgroundColor=0,o._backgroundColorRgba=[0,0,0,1],o._backgroundColorString="#000000",o.backgroundColor=n.backgroundColor||o._backgroundColor,o.backgroundAlpha=n.backgroundAlpha,void 0!==n.transparent&&(Object(a.deprecation)("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),o.useContextAlpha=n.transparent,o.backgroundAlpha=n.transparent?0:1),o._lastObjectRendered=null,o.plugins={},o}return d(e,t),e.prototype.initPlugins=function(t){for(var e in t)this.plugins[e]=new t[e](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoDensity&&(this.view.style.width=t+"px",this.view.style.height=e+"px"),this.emit("resize",t,e)},e.prototype.generateTexture=function(t,e,n,r){0===(r=r||t.getLocalBounds(null,!0)).width&&(r.width=1),0===r.height&&(r.height=1);var i=I.create({width:0|r.width,height:0|r.height,scaleMode:e,resolution:n});return ae.tx=-r.x,ae.ty=-r.y,this.render(t,{renderTexture:i,clear:!1,transform:ae,skipUpdateTransform:!!t.parent}),i},e.prototype.destroy=function(t){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);this.plugins=null,this.type=i.m.UNKNOWN,this.view=null,this.screen=null,this._tempDisplayObjectParent=null,this.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=Object(a.hex2string)(t),Object(a.hex2rgb)(t,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(t){this._backgroundColorRgba[3]=t},enumerable:!1,configurable:!0}),e}(a.EventEmitter),se=function(t){function e(n){var r=t.call(this,i.m.WEBGL,n)||this;return n=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new o.a("destroy"),contextChange:new o.a("contextChange"),reset:new o.a("reset"),update:new o.a("update"),postrender:new o.a("postrender"),prerender:new o.a("prerender"),resize:new o.a("resize")},r.globalUniforms=new q({projectionMatrix:new u.d},!0),r.addSystem(Yt,"mask").addSystem(rt,"context").addSystem(te,"state").addSystem($t,"shader").addSystem(re,"texture").addSystem(ct,"geometry").addSystem(ot,"framebuffer").addSystem(Ht,"scissor").addSystem(zt,"stencil").addSystem(Vt,"projection").addSystem(ee,"textureGC").addSystem($,"filter").addSystem(Kt,"renderTexture").addSystem(et,"batch"),r.initPlugins(e.__plugins),n.context?r.context.initFromContext(n.context):r.context.initFromOptions({alpha:!!r.useContextAlpha,antialias:n.antialias,premultipliedAlpha:r.useContextAlpha&&"notMultiplied"!==r.useContextAlpha,stencil:!0,preserveDrawingBuffer:n.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,Object(a.sayHello)(2===r.context.webGLVersion?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return d(e,t),e.create=function(t){if(Object(a.isWebGLSupported)())return new e(t);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.addSystem=function(t,e){e||(e=t.name);var n=new t(this);if(this[e])throw new Error('Whoops! The name "'+e+'" is already in use');for(var r in this[e]=n,this.runners)this.runners[r].add(n);return this},e.prototype.render=function(t,e){var n,r,i,o;if(e&&(e instanceof I?(Object(a.deprecation)("6.0.0","Renderer#render arguments changed, use options instead."),n=e,r=arguments[2],i=arguments[3],o=arguments[4]):(n=e.renderTexture,r=e.clear,i=e.transform,o=e.skipUpdateTransform)),this.renderingToScreen=!n,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=i,!this.context.isLost){if(n||(this._lastObjectRendered=t),!o){var s=t.enableTempParent();t.updateTransform(),t.disableTempParent(s)}this.renderTexture.bind(n),this.batch.currentRenderer.start(),(void 0!==r?r:this.clearBeforeRender)&&this.renderTexture.clear(),t.render(this),this.batch.currentRenderer.flush(),n&&n.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.resize=function(e,n){t.prototype.resize.call(this,e,n),this.runners.resize.emit(e,n)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(e){for(var n in this.runners.destroy.emit(),this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,e),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return Object(a.deprecation)("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(t,n){e.__plugins=e.__plugins||{},e.__plugins[t]=n},e}(oe);function ue(t){return se.create(t)}var ce="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",le="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",he=function(){this.texArray=null,this.blend=0,this.type=i.e.TRIANGLES,this.start=0,this.size=0,this.data=null},de=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},t}(),pe=function(){function t(t){"number"==typeof t?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(t){return this[t+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},t}(),fe=function(t){function e(e){var n=t.call(this,e)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=Bt.for2d(),n.size=4*r.b.SPRITE_BATCH_SIZE,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),e.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return d(e,t),e.prototype.contextChange=function(){var t=this.renderer.gl;r.b.PREFER_ENV===i.f.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),r.b.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Lt(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var t=e._drawCallPool,n=e._textureArrayPool,r=this.size/4,i=Math.floor(r/this.MAX_TEXTURES)+1;t.length<r;)t.push(new he);for(;n.length<i;)n.push(new de);for(var a=0;a<this.MAX_TEXTURES;a++)this._tempBoundTextures[a]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)},e.prototype.buildTexturesAndDrawCalls=function(){var t=this._bufferedTextures,n=this.MAX_TEXTURES,r=e._textureArrayPool,i=this.renderer.batch,a=this._tempBoundTextures,o=this.renderer.textureGC.count,s=++g._globalBatch,u=0,c=r[0],l=0;i.copyBoundTextures(a,n);for(var h=0;h<this._bufferSize;++h){var d=t[h];t[h]=null,d._batchEnabled!==s&&(c.count>=n&&(i.boundArray(c,a,s,n),this.buildDrawCalls(c,l,h),l=h,c=r[++u],++s),d._batchEnabled=s,d.touched=o,c.elements[c.count++]=d)}c.count>0&&(i.boundArray(c,a,s,n),this.buildDrawCalls(c,l,this._bufferSize),++u,++s);for(h=0;h<a.length;h++)a[h]=null;g._globalBatch=s},e.prototype.buildDrawCalls=function(t,n,r){var i=this._bufferedElements,o=this._attributeBuffer,s=this._indexBuffer,u=this.vertexSize,c=e._drawCallPool,l=this._dcIndex,h=this._aIndex,d=this._iIndex,p=c[l];p.start=this._iIndex,p.texArray=t;for(var f=n;f<r;++f){var m=i[f],g=m._texture.baseTexture,y=a.premultiplyBlendMode[g.alphaMode?1:0][m.blendMode];i[f]=null,n<f&&p.blend!==y&&(p.size=d-p.start,n=f,(p=c[++l]).texArray=t,p.start=d),this.packInterleavedGeometry(m,o,s,h,d),h+=m.vertexData.length/2*u,d+=m.indices.length,p.blend=y}n<r&&(p.size=d-p.start,++l),this._dcIndex=l,this._aIndex=h,this._iIndex=d},e.prototype.bindAndClearTexArray=function(t){for(var e=this.renderer.texture,n=0;n<t.count;n++)e.bind(t.elements[n],t.ids[n]),t.elements[n]=null;t.count=0},e.prototype.updateGeometry=function(){var t=this._packedGeometries,e=this._attributeBuffer,n=this._indexBuffer;r.b.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var t=this._dcIndex,n=this.renderer,r=n.gl,i=n.state,a=e._drawCallPool,o=null,s=0;s<t;s++){var u=a[s],c=u.texArray,l=u.type,h=u.size,d=u.start,p=u.blend;o!==c&&(o=c,this.bindAndClearTexArray(c)),this.state.blendMode=p,i.set(this.state),r.drawElements(l,h,r.UNSIGNED_SHORT,2*d)}},e.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.shader.bind(this._shader),r.b.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(t){var e=Object(a.nextPow2)(Math.ceil(t/8)),n=Object(a.log2)(e),r=8*e;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._aBuffers[r];return i||(this._aBuffers[r]=i=new pe(r*this.vertexSize*4)),i},e.prototype.getIndexBuffer=function(t){var e=Object(a.nextPow2)(Math.ceil(t/12)),n=Object(a.log2)(e),r=12*e;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);var i=this._iBuffers[n];return i||(this._iBuffers[n]=i=new Uint16Array(r)),i},e.prototype.packInterleavedGeometry=function(t,e,n,r,i){for(var o=e.uint32View,s=e.float32View,u=r/this.vertexSize,c=t.uvs,l=t.indices,h=t.vertexData,d=t._texture.baseTexture._batchLocation,p=Math.min(t.worldAlpha,1),f=p<1&&t._texture.baseTexture.alphaMode?Object(a.premultiplyTint)(t._tintRGB,p):t._tintRGB+(255*p<<24),m=0;m<h.length;m+=2)s[r++]=h[m],s[r++]=h[m+1],s[r++]=c[m],s[r++]=c[m+1],o[r++]=f,s[r++]=d;for(m=0;m<l.length;m++)n[i++]=u+l[m]},e._drawCallPool=[],e._textureArrayPool=[],e}(tt),me=function(){function t(t,e){if(this.vertexSrc=t,this.fragTemplate=e,this.programCache={},this.defaultGroupCache={},e.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(e.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(t){if(!this.programCache[t]){for(var e=new Int32Array(t),n=0;n<t;n++)e[n]=n;this.defaultGroupCache[t]=q.from({uSamplers:e},!0);var r=this.fragTemplate;r=(r=r.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Dt(this.vertexSrc,r)}var i={tint:new Float32Array([1,1,1,1]),translationMatrix:new u.d,default:this.defaultGroupCache[t]};return new It(this.programCache[t],i)},t.prototype.generateSampleSrc=function(t){var e="";e+="\n",e+="\n";for(var n=0;n<t;n++)n>0&&(e+="\nelse "),n<t-1&&(e+="if(vTextureId < "+n+".5)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+n+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"},t}(),ge=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n._buffer=new F(null,e,!1),n._indexBuffer=new F(null,e,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,i.p.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,i.p.FLOAT).addAttribute("aColor",n._buffer,4,!0,i.p.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,i.p.FLOAT).addIndex(n._indexBuffer),n}return d(e,t),e}(V),ye="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",ve="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",be=function(){function t(){}return t.create=function(t){var e=Object.assign({vertex:ye,fragment:ve,geometryClass:ge,vertexSize:6},t),n=e.vertex,r=e.fragment,i=e.vertexSize,a=e.geometryClass;return function(t){function e(e){var o=t.call(this,e)||this;return o.shaderGenerator=new me(n,r),o.geometryClass=a,o.vertexSize=i,o}return d(e,t),e}(fe)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return ye},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return ve},enumerable:!1,configurable:!0}),t}(),_e=be.create(),we={},xe=function(t){Object.defineProperty(we,t,{get:function(){return Object(a.deprecation)("6.0.0","PIXI.systems."+t+" has moved to PIXI."+t),E[t]}})};for(var Se in E)xe(Se);var Te={},Me=function(t){Object.defineProperty(Te,t,{get:function(){return Object(a.deprecation)("6.0.0","PIXI.resources."+t+" has moved to PIXI."+t),ie[t]}})};for(var Se in ie)Me(Se)},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}n.d(e,"a",(function(){return Ye})),n.d(e,"b",(function(){return pn})),n.d(e,"y",(function(){return yn})),n.d(e,"c",(function(){return Qe})),n.d(e,"x",(function(){return re})),n.d(e,"j",(function(){return St})),n.d(e,"o",(function(){return tt})),n.d(e,"p",(function(){return et})),n.d(e,"l",(function(){return H})),n.d(e,"m",(function(){return W})),n.d(e,"s",(function(){return sn})),n.d(e,"r",(function(){return rt})),n.d(e,"h",(function(){return Tt})),n.d(e,"v",(function(){return dn})),n.d(e,"f",(function(){return Ae})),n.d(e,"t",(function(){return fe})),n.d(e,"d",(function(){return Xe})),n.d(e,"q",(function(){return gt})),n.d(e,"w",(function(){return ke})),n.d(e,"g",(function(){return D})),n.d(e,"u",(function(){return Mt})),n.d(e,"n",(function(){return ct})),n.d(e,"k",(function(){return rn})),n.d(e,"i",(function(){return xt})),n.d(e,"e",(function(){return Me}));var o,s,u,c,l,h,d,p,f,m,g,y,v,b,_,w,x,S,T,M,E,A,k,C,O,L,R,P,D={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},I={duration:.5,overwrite:!1,delay:0},B=1e8,N=2*Math.PI,j=N/4,F=0,U=Math.sqrt,Y=Math.cos,G=Math.sin,H=function(t){return"string"==typeof t},z=function(t){return"function"==typeof t},V=function(t){return"number"==typeof t},W=function(t){return void 0===t},X=function(t){return"object"===r(t)},K=function(t){return!1!==t},q=function(){return"undefined"!=typeof window},Z=function(t){return z(t)||H(t)},J="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Q=Array.isArray,$=/(?:-?\.?\d|\.)+/gi,tt=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,et=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,nt=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,rt=/[+-]=-?[.\d]+/,it=/[#\-+.]*\b[a-z\d-=+%.]+/gi,at=/[\d.+\-=]+(?:e[-+]\d*)*/i,ot={},st={},ut=function(t){return(st=Dt(t,ot))&&yn},ct=function(t,e){},lt=function(t,e){return!e&&void 0},ht=function(t,e){return t&&(ot[t]=e)&&st&&(st[t]=e)||ot},dt=function(){return 0},pt={},ft=[],mt={},gt={},yt={},vt=30,bt=[],_t="",wt=function(t){var e,n,r=t[0];if(X(r)||z(r)||(t=[t]),!(e=(r._gsap||{}).harness)){for(n=bt.length;n--&&!bt[n].targetTest(r););e=bt[n]}for(n=t.length;n--;)t[n]&&(t[n]._gsap||(t[n]._gsap=new Ye(t[n],e)))||t.splice(n,1);return t},xt=function(t){return t._gsap||wt(se(t))[0]._gsap},St=function(t,e,n){return(n=t[e])&&z(n)?t[e]():W(n)&&t.getAttribute&&t.getAttribute(e)||n},Tt=function(t,e){return(t=t.split(",")).forEach(e)||t},Mt=function(t){return Math.round(1e5*t)/1e5||0},Et=function(t,e){for(var n=e.length,r=0;t.indexOf(e[r])<0&&++r<n;);return r<n},At=function(t,e,n){var r,i=V(t[1]),a=(i?2:1)+(e<2?0:1),o=t[a];if(i&&(o.duration=t[1]),o.parent=n,e){for(r=o;n&&!("immediateRender"in r);)r=n.vars.defaults||{},n=K(n.vars.inherit)&&n.parent;o.immediateRender=K(r.immediateRender),e<2?o.runBackwards=1:o.startAt=t[a-1]}return o},kt=function(){var t,e,n=ft.length,r=ft.slice(0);for(mt={},ft.length=0,t=0;t<n;t++)(e=r[t])&&e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0)._lazy=0)},Ct=function(t,e,n,r){ft.length&&kt(),t.render(e,n,r),ft.length&&kt()},Ot=function(t){var e=parseFloat(t);return(e||0===e)&&(t+"").match(it).length<2?e:H(t)?t.trim():t},Lt=function(t){return t},Rt=function(t,e){for(var n in e)n in t||(t[n]=e[n]);return t},Pt=function(t,e){for(var n in e)n in t||"duration"===n||"ease"===n||(t[n]=e[n])},Dt=function(t,e){for(var n in e)t[n]=e[n];return t},It=function t(e,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(e[r]=X(n[r])?t(e[r]||(e[r]={}),n[r]):n[r]);return e},Bt=function(t,e){var n,r={};for(n in t)n in e||(r[n]=t[n]);return r},Nt=function(t){var e=t.parent||s,n=t.keyframes?Pt:Rt;if(K(t.inherit))for(;e;)n(t,e.vars.defaults),e=e.parent||e._dp;return t},jt=function(t,e,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=e._prev,a=e._next;i?i._next=a:t[n]===e&&(t[n]=a),a?a._prev=i:t[r]===e&&(t[r]=i),e._next=e._prev=e.parent=null},Ft=function(t,e){t.parent&&(!e||t.parent.autoRemoveChildren)&&t.parent.remove(t),t._act=0},Ut=function(t,e){if(t&&(!e||e._end>t._dur||e._start<0))for(var n=t;n;)n._dirty=1,n=n.parent;return t},Yt=function(t){for(var e=t.parent;e&&e.parent;)e._dirty=1,e.totalDuration(),e=e.parent;return t},Gt=function(t){return t._repeat?Ht(t._tTime,t=t.duration()+t._rDelay)*t:0},Ht=function(t,e){var n=Math.floor(t/=e);return t&&n===t?n-1:n},zt=function(t,e){return(t-e._start)*e._ts+(e._ts>=0?0:e._dirty?e.totalDuration():e._tDur)},Vt=function(t){return t._end=Mt(t._start+(t._tDur/Math.abs(t._ts||t._rts||1e-8)||0))},Wt=function(t,e){var n=t._dp;return n&&n.smoothChildTiming&&t._ts&&(t._start=Mt(n._time-(t._ts>0?e/t._ts:((t._dirty?t.totalDuration():t._tDur)-e)/-t._ts)),Vt(t),n._dirty||Ut(n,t)),t},Xt=function(t,e){var n;if((e._time||e._initted&&!e._dur)&&(n=zt(t.rawTime(),e),(!e._dur||ne(0,e.totalDuration(),n)-e._tTime>1e-8)&&e.render(n,!0)),Ut(t,e)._dp&&t._initted&&t._time>=t._dur&&t._ts){if(t._dur<t.duration())for(n=t;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;t._zTime=-1e-8}},Kt=function(t,e,n,r){return e.parent&&Ft(e),e._start=Mt(n+e._delay),e._end=Mt(e._start+(e.totalDuration()/Math.abs(e.timeScale())||0)),function(t,e,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var a,o=t[r];if(i)for(a=e[i];o&&o[i]>a;)o=o._prev;o?(e._next=o._next,o._next=e):(e._next=t[n],t[n]=e),e._next?e._next._prev=e:t[r]=e,e._prev=o,e.parent=e._dp=t}(t,e,"_first","_last",t._sort?"_start":0),t._recent=e,r||Xt(t,e),t},qt=function(t,e){return(ot.ScrollTrigger||ct("scrollTrigger",e))&&ot.ScrollTrigger.create(e,t)},Zt=function(t,e,n,r){return Ke(t,e),t._initted?!n&&t._pt&&(t._dur&&!1!==t.vars.lazy||!t._dur&&t.vars.lazy)&&d!==ke.frame?(ft.push(t),t._lazy=[e,r],1):void 0:1},Jt=function(t,e,n,r){var i=t._repeat,a=Mt(e)||0,o=t._tTime/t._tDur;return o&&!r&&(t._time*=a/t._dur),t._dur=a,t._tDur=i?i<0?1e10:Mt(a*(i+1)+t._rDelay*i):a,o&&!r?Wt(t,t._tTime=t._tDur*o):t.parent&&Vt(t),n||Ut(t.parent,t),t},Qt=function(t){return t instanceof He?Ut(t):Jt(t,t._dur)},$t={_start:0,endTime:dt},te=function t(e,n){var r,i,a=e.labels,o=e._recent||$t,s=e.duration()>=B?o.endTime(!1):e._dur;return H(n)&&(isNaN(n)||n in a)?"<"===(r=n.charAt(0))||">"===r?("<"===r?o._start:o.endTime(o._repeat>=0))+(parseFloat(n.substr(1))||0):(r=n.indexOf("="))<0?(n in a||(a[n]=s),a[n]):(i=+(n.charAt(r-1)+n.substr(r+1)),r>1?t(e,n.substr(0,r-1))+i:s+i):null==n?s:+n},ee=function(t,e){return t||0===t?e(t):e},ne=function(t,e,n){return n<t?t:n>e?e:n},re=function(t){if("string"!=typeof t)return"";var e=at.exec(t);return e?t.substr(e.index+e[0].length):""},ie=[].slice,ae=function(t,e){return t&&X(t)&&"length"in t&&(!e&&!t.length||t.length-1 in t&&X(t[0]))&&!t.nodeType&&t!==u},oe=function(t,e,n){return void 0===n&&(n=[]),t.forEach((function(t){var r;return H(t)&&!e||ae(t,1)?(r=n).push.apply(r,se(t)):n.push(t)}))||n},se=function(t,e){return!H(t)||e||!c&&Ce()?Q(t)?oe(t,e):ae(t)?ie.call(t,0):t?[t]:[]:ie.call(l.querySelectorAll(t),0)},ue=function(t){return t.sort((function(){return.5-Math.random()}))},ce=function(t){if(z(t))return t;var e=X(t)?t:{each:t},n=Be(e.ease),r=e.from||0,i=parseFloat(e.base)||0,a={},o=r>0&&r<1,s=isNaN(r)||o,u=e.axis,c=r,l=r;return H(r)?c=l={center:.5,edges:.5,end:1}[r]||0:!o&&s&&(c=r[0],l=r[1]),function(t,o,h){var d,p,f,m,g,y,v,b,_,w=(h||e).length,x=a[w];if(!x){if(!(_="auto"===e.grid?0:(e.grid||[1,B])[1])){for(v=-B;v<(v=h[_++].getBoundingClientRect().left)&&_<w;);_--}for(x=a[w]=[],d=s?Math.min(_,w)*c-.5:r%_,p=s?w*l/_-.5:r/_|0,v=0,b=B,y=0;y<w;y++)f=y%_-d,m=p-(y/_|0),x[y]=g=u?Math.abs("y"===u?m:f):U(f*f+m*m),g>v&&(v=g),g<b&&(b=g);"random"===r&&ue(x),x.max=v-b,x.min=b,x.v=w=(parseFloat(e.amount)||parseFloat(e.each)*(_>w?w-1:u?"y"===u?w/_:_:Math.max(_,w/_))||0)*("edges"===r?-1:1),x.b=w<0?i-w:i,x.u=re(e.amount||e.each)||0,n=n&&w<0?De(n):n}return w=(x[t]-x.min)/x.max||0,Mt(x.b+(n?n(w):w)*x.v)+x.u}},le=function(t){var e=t<1?Math.pow(10,(t+"").length-2):1;return function(n){var r=Math.round(parseFloat(n)/t)*t*e;return(r-r%1)/e+(V(n)?0:re(n))}},he=function(t,e){var n,r,i=Q(t);return!i&&X(t)&&(n=i=t.radius||B,t.values?(t=se(t.values),(r=!V(t[0]))&&(n*=n)):t=le(t.increment)),ee(e,i?z(t)?function(e){return r=t(e),Math.abs(r-e)<=n?r:e}:function(e){for(var i,a,o=parseFloat(r?e.x:e),s=parseFloat(r?e.y:0),u=B,c=0,l=t.length;l--;)(i=r?(i=t[l].x-o)*i+(a=t[l].y-s)*a:Math.abs(t[l]-o))<u&&(u=i,c=l);return c=!n||u<=n?t[c]:e,r||c===e||V(e)?c:c+re(e)}:le(t))},de=function(t,e,n,r){return ee(Q(t)?!e:!0===n?!!(n=0):!r,(function(){return Q(t)?t[~~(Math.random()*t.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((t-n/2+Math.random()*(e-t+.99*n))/n)*n*r)/r}))},pe=function(t,e,n){return ee(n,(function(n){return t[~~e(n)]}))},fe=function(t){for(var e,n,r,i,a=0,o="";~(e=t.indexOf("random(",a));)r=t.indexOf(")",e),i="["===t.charAt(e+7),n=t.substr(e+7,r-e-7).match(i?it:$),o+=t.substr(a,e-a)+de(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),a=r+1;return o+t.substr(a,t.length-a)},me=function(t,e,n,r,i){var a=e-t,o=r-n;return ee(i,(function(e){return n+((e-t)/a*o||0)}))},ge=function(t,e,n){var r,i,a,o=t.labels,s=B;for(r in o)(i=o[r]-e)<0==!!n&&i&&s>(i=Math.abs(i))&&(a=r,s=i);return a},ye=function(t,e,n){var r,i,a=t.vars,o=a[e];if(o)return r=a[e+"Params"],i=a.callbackScope||t,n&&ft.length&&kt(),r?o.apply(i,r):o.call(i)},ve=function(t){return Ft(t),t.scrollTrigger&&t.scrollTrigger.kill(!1),t.progress()<1&&ye(t,"onInterrupt"),t},be=function(t){var e=(t=!t.name&&t.default||t).name,n=z(t),r=e&&!n&&t.init?function(){this._props=[]}:t,i={init:dt,render:un,add:We,kill:ln,modifier:cn,rawVars:0},a={targetTest:0,get:0,getSetter:rn,aliases:{},register:0};if(Ce(),t!==r){if(gt[e])return;Rt(r,Rt(Bt(t,i),a)),Dt(r.prototype,Dt(i,Bt(t,a))),gt[r.prop=e]=r,t.targetTest&&(bt.push(r),pt[e]=1),e=("css"===e?"CSS":e.charAt(0).toUpperCase()+e.substr(1))+"Plugin"}ht(e,r),t.register&&t.register(yn,r,pn)},_e={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},we=function(t,e,n){return 255*(6*(t=t<0?t+1:t>1?t-1:t)<1?e+(n-e)*t*6:t<.5?n:3*t<2?e+(n-e)*(2/3-t)*6:e)+.5|0},xe=function(t,e,n){var r,i,a,o,s,u,c,l,h,d,p=t?V(t)?[t>>16,t>>8&255,255&t]:0:_e.black;if(!p){if(","===t.substr(-1)&&(t=t.substr(0,t.length-1)),_e[t])p=_e[t];else if("#"===t.charAt(0)){if(t.length<6&&(r=t.charAt(1),i=t.charAt(2),a=t.charAt(3),t="#"+r+r+i+i+a+a+(5===t.length?t.charAt(4)+t.charAt(4):"")),9===t.length)return[(p=parseInt(t.substr(1,6),16))>>16,p>>8&255,255&p,parseInt(t.substr(7),16)/255];p=[(t=parseInt(t.substr(1),16))>>16,t>>8&255,255&t]}else if("hsl"===t.substr(0,3))if(p=d=t.match($),e){if(~t.indexOf("="))return p=t.match(tt),n&&p.length<4&&(p[3]=1),p}else o=+p[0]%360/360,s=+p[1]/100,r=2*(u=+p[2]/100)-(i=u<=.5?u*(s+1):u+s-u*s),p.length>3&&(p[3]*=1),p[0]=we(o+1/3,r,i),p[1]=we(o,r,i),p[2]=we(o-1/3,r,i);else p=t.match($)||_e.transparent;p=p.map(Number)}return e&&!d&&(r=p[0]/255,i=p[1]/255,a=p[2]/255,u=((c=Math.max(r,i,a))+(l=Math.min(r,i,a)))/2,c===l?o=s=0:(h=c-l,s=u>.5?h/(2-c-l):h/(c+l),o=c===r?(i-a)/h+(i<a?6:0):c===i?(a-r)/h+2:(r-i)/h+4,o*=60),p[0]=~~(o+.5),p[1]=~~(100*s+.5),p[2]=~~(100*u+.5)),n&&p.length<4&&(p[3]=1),p},Se=function(t){var e=[],n=[],r=-1;return t.split(Me).forEach((function(t){var i=t.match(et)||[];e.push.apply(e,i),n.push(r+=i.length+1)})),e.c=n,e},Te=function(t,e,n){var r,i,a,o,s="",u=(t+s).match(Me),c=e?"hsla(":"rgba(",l=0;if(!u)return t;if(u=u.map((function(t){return(t=xe(t,e,1))&&c+(e?t[0]+","+t[1]+"%,"+t[2]+"%,"+t[3]:t.join(","))+")"})),n&&(a=Se(t),(r=n.c).join(s)!==a.c.join(s)))for(o=(i=t.replace(Me,"1").split(et)).length-1;l<o;l++)s+=i[l]+(~r.indexOf(l)?u.shift()||c+"0,0,0,0)":(a.length?a:u.length?u:n).shift());if(!i)for(o=(i=t.split(Me)).length-1;l<o;l++)s+=i[l]+u[l];return s+i[o]},Me=function(){var t,e="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(t in _e)e+="|"+t+"\\b";return new RegExp(e+")","gi")}(),Ee=/hsl[a]?\(/,Ae=function(t){var e,n=t.join(" ");if(Me.lastIndex=0,Me.test(n))return e=Ee.test(n),t[1]=Te(t[1],e),t[0]=Te(t[0],e,Se(t[1])),!0},ke=(w=Date.now,x=500,S=33,T=w(),M=T,A=E=1e3/240,C=function t(e){var n,r,i,a,o=w()-M,s=!0===e;if(o>x&&(T+=o-S),((n=(i=(M+=o)-T)-A)>0||s)&&(a=++v.frame,b=i-1e3*v.time,v.time=i/=1e3,A+=n+(n>=E?4:E-n),r=1),s||(m=g(t)),r)for(_=0;_<k.length;_++)k[_](i,b,a,e)},v={time:0,frame:0,tick:function(){C(!0)},deltaRatio:function(t){return b/(1e3/(t||60))},wake:function(){h&&(!c&&q()&&(u=c=window,l=u.document||{},ot.gsap=yn,(u.gsapVersions||(u.gsapVersions=[])).push(yn.version),ut(st||u.GreenSockGlobals||!u.gsap&&u||{}),y=u.requestAnimationFrame),m&&v.sleep(),g=y||function(t){return setTimeout(t,A-1e3*v.time+1|0)},f=1,C(2))},sleep:function(){(y?u.cancelAnimationFrame:clearTimeout)(m),f=0,g=dt},lagSmoothing:function(t,e){x=t||1/1e-8,S=Math.min(e,x,0)},fps:function(t){E=1e3/(t||240),A=1e3*v.time+E},add:function(t){k.indexOf(t)<0&&k.push(t),Ce()},remove:function(t){var e;~(e=k.indexOf(t))&&k.splice(e,1)&&_>=e&&_--},_listeners:k=[]}),Ce=function(){return!f&&ke.wake()},Oe={},Le=/^[\d.\-M][\d.\-,\s]/,Re=/["']/g,Pe=function(t){for(var e,n,r,i={},a=t.substr(1,t.length-3).split(":"),o=a[0],s=1,u=a.length;s<u;s++)n=a[s],e=s!==u-1?n.lastIndexOf(","):n.length,r=n.substr(0,e),i[o]=isNaN(r)?r.replace(Re,"").trim():+r,o=n.substr(e+1).trim();return i},De=function(t){return function(e){return 1-t(1-e)}},Ie=function t(e,n){for(var r,i=e._first;i;)i instanceof He?t(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?t(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},Be=function(t,e){return t&&(z(t)?t:Oe[t]||function(t){var e,n,r,i,a=(t+"").split("("),o=Oe[a[0]];return o&&a.length>1&&o.config?o.config.apply(null,~t.indexOf("{")?[Pe(a[1])]:(e=t,n=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",n),e.substring(n,~i&&i<r?e.indexOf(")",r+1):r)).split(",").map(Ot)):Oe._CE&&Le.test(t)?Oe._CE("",t):o}(t))||e},Ne=function(t,e,n,r){void 0===n&&(n=function(t){return 1-e(1-t)}),void 0===r&&(r=function(t){return t<.5?e(2*t)/2:1-e(2*(1-t))/2});var i,a={easeIn:e,easeOut:n,easeInOut:r};return Tt(t,(function(t){for(var e in Oe[t]=ot[t]=a,Oe[i=t.toLowerCase()]=n,a)Oe[i+("easeIn"===e?".in":"easeOut"===e?".out":".inOut")]=Oe[t+"."+e]=a[e]})),a},je=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},Fe=function t(e,n,r){var i=n>=1?n:1,a=(r||(e?.3:.45))/(n<1?n:1),o=a/N*(Math.asin(1/i)||0),s=function(t){return 1===t?1:i*Math.pow(2,-10*t)*G((t-o)*a)+1},u="out"===e?s:"in"===e?function(t){return 1-s(1-t)}:je(s);return a=N/a,u.config=function(n,r){return t(e,n,r)},u},Ue=function t(e,n){void 0===n&&(n=1.70158);var r=function(t){return t?--t*t*((n+1)*t+n)+1:0},i="out"===e?r:"in"===e?function(t){return 1-r(1-t)}:je(r);return i.config=function(n){return t(e,n)},i};Tt("Linear,Quad,Cubic,Quart,Quint,Strong",(function(t,e){var n=e<5?e+1:e;Ne(t+",Power"+(n-1),e?function(t){return Math.pow(t,n)}:function(t){return t},(function(t){return 1-Math.pow(1-t,n)}),(function(t){return t<.5?Math.pow(2*t,n)/2:1-Math.pow(2*(1-t),n)/2}))})),Oe.Linear.easeNone=Oe.none=Oe.Linear.easeIn,Ne("Elastic",Fe("in"),Fe("out"),Fe()),O=7.5625,R=1/(L=2.75),Ne("Bounce",(function(t){return 1-P(1-t)}),P=function(t){return t<R?O*t*t:t<.7272727272727273?O*Math.pow(t-1.5/L,2)+.75:t<.9090909090909092?O*(t-=2.25/L)*t+.9375:O*Math.pow(t-2.625/L,2)+.984375}),Ne("Expo",(function(t){return t?Math.pow(2,10*(t-1)):0})),Ne("Circ",(function(t){return-(U(1-t*t)-1)})),Ne("Sine",(function(t){return 1===t?1:1-Y(t*j)})),Ne("Back",Ue("in"),Ue("out"),Ue()),Oe.SteppedEase=Oe.steps=ot.SteppedEase={config:function(t,e){void 0===t&&(t=1);var n=1/t,r=t+(e?0:1),i=e?1:0;return function(t){return((r*ne(0,1-1e-8,t)|0)+i)*n}}},I.ease=Oe["quad.out"],Tt("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(t){return _t+=t+","+t+"Params,"}));var Ye=function(t,e){this.id=F++,t._gsap=this,this.target=t,this.harness=e,this.get=e?e.get:St,this.set=e?e.getSetter:rn},Ge=function(){function t(t,e){var n=t.parent||s;this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Jt(this,+t.duration,1,1),this.data=t.data,f||ke.wake(),n&&Kt(n,this,e||0===e?e:n._time,1),t.reversed&&this.reverse(),t.paused&&this.paused(!0)}var e=t.prototype;return e.delay=function(t){return t||0===t?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+t-this._delay),this._delay=t,this):this._delay},e.duration=function(t){return arguments.length?this.totalDuration(this._repeat>0?t+(t+this._rDelay)*this._repeat:t):this.totalDuration()&&this._dur},e.totalDuration=function(t){return arguments.length?(this._dirty=0,Jt(this,this._repeat<0?t:(t-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(t,e){if(Ce(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){for(Wt(this,t),!n._dp||n.parent||Xt(n,this);n.parent;)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&t<this._tDur||this._ts<0&&t>0||!this._tDur&&!t)&&Kt(this._dp,this,this._start-this._delay)}return(this._tTime!==t||!this._dur&&!e||this._initted&&1e-8===Math.abs(this._zTime)||!t&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=t),Ct(this,t,e)),this},e.time=function(t,e){return arguments.length?this.totalTime(Math.min(this.totalDuration(),t+Gt(this))%this._dur||(t?this._dur:0),e):this._time},e.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},e.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?t:1-t)+Gt(this),e):this.duration()?Math.min(1,this._time/this._dur):this.ratio},e.iteration=function(t,e){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(t-1)*n,e):this._repeat?Ht(this._tTime,n)+1:1},e.timeScale=function(t){if(!arguments.length)return-1e-8===this._rts?0:this._rts;if(this._rts===t)return this;var e=this.parent&&this._ts?zt(this.parent._time,this):this._tTime;return this._rts=+t||0,this._ts=this._ps||-1e-8===t?0:this._rts,Yt(this.totalTime(ne(-this._delay,this._tDur,e),!0))},e.paused=function(t){return arguments.length?(this._ps!==t&&(this._ps=t,t?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ce(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&(this._tTime-=1e-8)&&1e-8!==Math.abs(this._zTime)))),this):this._ps},e.startTime=function(t){if(arguments.length){this._start=t;var e=this.parent||this._dp;return e&&(e._sort||!this.parent)&&Kt(e,this,t-this._delay),this}return this._start},e.endTime=function(t){return this._start+(K(t)?this.totalDuration():this.duration())/Math.abs(this._ts)},e.rawTime=function(t){var e=this.parent||this._dp;return e?t&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?zt(e.rawTime(t),this):this._tTime:this._tTime},e.globalTime=function(t){for(var e=this,n=arguments.length?t:e.rawTime();e;)n=e._start+n/(e._ts||1),e=e._dp;return n},e.repeat=function(t){return arguments.length?(this._repeat=t===1/0?-2:t,Qt(this)):-2===this._repeat?1/0:this._repeat},e.repeatDelay=function(t){return arguments.length?(this._rDelay=t,Qt(this)):this._rDelay},e.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},e.seek=function(t,e){return this.totalTime(te(this,t),K(e))},e.restart=function(t,e){return this.play().totalTime(t?-this._delay:0,K(e))},e.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},e.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},e.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(t){return arguments.length?(!!t!==this.reversed()&&this.timeScale(-this._rts||(t?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var t,e=this.parent||this._dp,n=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(t=e.rawTime(!0))>=n&&t<this.endTime(!0)-1e-8))},e.eventCallback=function(t,e,n){var r=this.vars;return arguments.length>1?(e?(r[t]=e,n&&(r[t+"Params"]=n),"onUpdate"===t&&(this._onUpdate=e)):delete r[t],this):r[t]},e.then=function(t){var e=this;return new Promise((function(n){var r=z(t)?t:Lt,i=function(){var t=e.then;e.then=null,z(r)&&(r=r(e))&&(r.then||r===e)&&(e.then=t),n(r),e.then=t};e._initted&&1===e.totalProgress()&&e._ts>=0||!e._tTime&&e._ts<0?i():e._prom=i}))},e.kill=function(){ve(this)},t}();Rt(Ge.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var He=function(t){function e(e,n){var r;return void 0===e&&(e={}),(r=t.call(this,e,n)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=K(e.sortChildren),r.parent&&Xt(r.parent,i(r)),e.scrollTrigger&&qt(i(r),e.scrollTrigger),r}a(e,t);var n=e.prototype;return n.to=function(t,e,n){return new Qe(t,At(arguments,0,this),te(this,V(e)?arguments[3]:n)),this},n.from=function(t,e,n){return new Qe(t,At(arguments,1,this),te(this,V(e)?arguments[3]:n)),this},n.fromTo=function(t,e,n,r){return new Qe(t,At(arguments,2,this),te(this,V(e)?arguments[4]:r)),this},n.set=function(t,e,n){return e.duration=0,e.parent=this,Nt(e).repeatDelay||(e.repeat=0),e.immediateRender=!!e.immediateRender,new Qe(t,e,te(this,n),1),this},n.call=function(t,e,n){return Kt(this,Qe.delayedCall(0,t,e),te(this,n))},n.staggerTo=function(t,e,n,r,i,a,o){return n.duration=e,n.stagger=n.stagger||r,n.onComplete=a,n.onCompleteParams=o,n.parent=this,new Qe(t,n,te(this,i)),this},n.staggerFrom=function(t,e,n,r,i,a,o){return n.runBackwards=1,Nt(n).immediateRender=K(n.immediateRender),this.staggerTo(t,e,n,r,i,a,o)},n.staggerFromTo=function(t,e,n,r,i,a,o,s){return r.startAt=n,Nt(r).immediateRender=K(r.immediateRender),this.staggerTo(t,e,r,i,a,o,s)},n.render=function(t,e,n){var r,i,a,o,u,c,l,h,d,p,f,m,g=this._time,y=this._dirty?this.totalDuration():this._tDur,v=this._dur,b=this!==s&&t>y-1e-8&&t>=0?y:t<1e-8?0:t,_=this._zTime<0!=t<0&&(this._initted||!v);if(b!==this._tTime||n||_){if(g!==this._time&&v&&(b+=this._time-g,t+=this._time-g),r=b,d=this._start,c=!(h=this._ts),_&&(v||(g=this._zTime),(t||!e)&&(this._zTime=t)),this._repeat){if(f=this._yoyo,u=v+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*u+t,e,n);if(r=Mt(b%u),b===y?(o=this._repeat,r=v):((o=~~(b/u))&&o===b/u&&(r=v,o--),r>v&&(r=v)),p=Ht(this._tTime,u),!g&&this._tTime&&p!==o&&(p=o),f&&1&o&&(r=v-r,m=1),o!==p&&!this._lock){var w=f&&1&p,x=w===(f&&1&o);if(o<p&&(w=!w),g=w?0:v,this._lock=1,this.render(g||(m?0:Mt(o*u)),e,!v)._lock=0,!e&&this.parent&&ye(this,"onRepeat"),this.vars.repeatRefresh&&!m&&(this.invalidate()._lock=1),g&&g!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(v=this._dur,y=this._tDur,x&&(this._lock=2,g=w?v:-1e-4,this.render(g,!0)),this._lock=0,!this._ts&&!c)return this;Ie(this,m)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=function(t,e,n){var r;if(n>e)for(r=t._first;r&&r._start<=n;){if(!r._dur&&"isPause"===r.data&&r._start>e)return r;r=r._next}else for(r=t._last;r&&r._start>=n;){if(!r._dur&&"isPause"===r.data&&r._start<e)return r;r=r._prev}}(this,Mt(g),Mt(r)))&&(b-=r-(r=l._start)),this._tTime=b,this._time=r,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=t,g=0),!g&&r&&!e&&ye(this,"onStart"),r>=g&&t>=0)for(i=this._first;i;){if(a=i._next,(i._act||r>=i._start)&&i._ts&&l!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,e,n),r!==this._time||!this._ts&&!c){l=0,a&&(b+=this._zTime=-1e-8);break}}i=a}else{i=this._last;for(var S=t<0?t:r;i;){if(a=i._prev,(i._act||S<=i._end)&&i._ts&&l!==i){if(i.parent!==this)return this.render(t,e,n);if(i.render(i._ts>0?(S-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(S-i._start)*i._ts,e,n),r!==this._time||!this._ts&&!c){l=0,a&&(b+=this._zTime=S?-1e-8:1e-8);break}}i=a}}if(l&&!e&&(this.pause(),l.render(r>=g?0:-1e-8)._zTime=r>=g?1:-1,this._ts))return this._start=d,Vt(this),this.render(t,e,n);this._onUpdate&&!e&&ye(this,"onUpdate",!0),(b===y&&y>=this.totalDuration()||!b&&g)&&(d!==this._start&&Math.abs(h)===Math.abs(this._ts)||this._lock||((t||!v)&&(b===y&&this._ts>0||!b&&this._ts<0)&&Ft(this,1),e||t<0&&!g||!b&&!g||(ye(this,b===y?"onComplete":"onReverseComplete",!0),this._prom&&!(b<y&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(t,e){var n=this;if(V(e)||(e=te(this,e)),!(t instanceof Ge)){if(Q(t))return t.forEach((function(t){return n.add(t,e)})),this;if(H(t))return this.addLabel(t,e);if(!z(t))return this;t=Qe.delayedCall(0,t)}return this!==t?Kt(this,t,e):this},n.getChildren=function(t,e,n,r){void 0===t&&(t=!0),void 0===e&&(e=!0),void 0===n&&(n=!0),void 0===r&&(r=-B);for(var i=[],a=this._first;a;)a._start>=r&&(a instanceof Qe?e&&i.push(a):(n&&i.push(a),t&&i.push.apply(i,a.getChildren(!0,e,n)))),a=a._next;return i},n.getById=function(t){for(var e=this.getChildren(1,1,1),n=e.length;n--;)if(e[n].vars.id===t)return e[n]},n.remove=function(t){return H(t)?this.removeLabel(t):z(t)?this.killTweensOf(t):(jt(this,t),t===this._recent&&(this._recent=this._last),Ut(this))},n.totalTime=function(e,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Mt(ke.time-(this._ts>0?e/this._ts:(this.totalDuration()-e)/-this._ts))),t.prototype.totalTime.call(this,e,n),this._forcing=0,this):this._tTime},n.addLabel=function(t,e){return this.labels[t]=te(this,e),this},n.removeLabel=function(t){return delete this.labels[t],this},n.addPause=function(t,e,n){var r=Qe.delayedCall(0,e||dt,n);return r.data="isPause",this._hasPause=1,Kt(this,r,te(this,t))},n.removePause=function(t){var e=this._first;for(t=te(this,t);e;)e._start===t&&"isPause"===e.data&&Ft(e),e=e._next},n.killTweensOf=function(t,e,n){for(var r=this.getTweensOf(t,n),i=r.length;i--;)ze!==r[i]&&r[i].kill(t,e);return this},n.getTweensOf=function(t,e){for(var n,r=[],i=se(t),a=this._first,o=V(e);a;)a instanceof Qe?Et(a._targets,i)&&(o?(!ze||a._initted&&a._ts)&&a.globalTime(0)<=e&&a.globalTime(a.totalDuration())>e:!e||a.isActive())&&r.push(a):(n=a.getTweensOf(i,e)).length&&r.push.apply(r,n),a=a._next;return r},n.tweenTo=function(t,e){e=e||{};var n=this,r=te(n,t),i=e,a=i.startAt,o=i.onStart,s=i.onStartParams,u=i.immediateRender,c=Qe.to(n,Rt({ease:e.ease||"none",lazy:!1,immediateRender:!1,time:r,overwrite:"auto",duration:e.duration||Math.abs((r-(a&&"time"in a?a.time:n._time))/n.timeScale())||1e-8,onStart:function(){n.pause();var t=e.duration||Math.abs((r-n._time)/n.timeScale());c._dur!==t&&Jt(c,t,0,1).render(c._time,!0,!0),o&&o.apply(c,s||[])}},e));return u?c.render(0):c},n.tweenFromTo=function(t,e,n){return this.tweenTo(e,Rt({startAt:{time:te(this,t)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(t){return void 0===t&&(t=this._time),ge(this,te(this,t))},n.previousLabel=function(t){return void 0===t&&(t=this._time),ge(this,te(this,t),1)},n.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.previousLabel(this._time+1e-8)},n.shiftChildren=function(t,e,n){void 0===n&&(n=0);for(var r,i=this._first,a=this.labels;i;)i._start>=n&&(i._start+=t,i._end+=t),i=i._next;if(e)for(r in a)a[r]>=n&&(a[r]+=t);return Ut(this)},n.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},n.clear=function(t){void 0===t&&(t=!0);for(var e,n=this._first;n;)e=n._next,this.remove(n),n=e;return this._dp&&(this._time=this._tTime=this._pTime=0),t&&(this.labels={}),Ut(this)},n.totalDuration=function(t){var e,n,r,i=0,a=this,o=a._last,u=B;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-t:t));if(a._dirty){for(r=a.parent;o;)e=o._prev,o._dirty&&o.totalDuration(),(n=o._start)>u&&a._sort&&o._ts&&!a._lock?(a._lock=1,Kt(a,o,n-o._delay,1)._lock=0):u=n,n<0&&o._ts&&(i-=n,(!r&&!a._dp||r&&r.smoothChildTiming)&&(a._start+=n/a._ts,a._time-=n,a._tTime-=n),a.shiftChildren(-n,!1,-Infinity),u=0),o._end>i&&o._ts&&(i=o._end),o=e;Jt(a,a===s&&a._time>i?a._time:i,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(t){if(s._ts&&(Ct(s,zt(t,s)),d=ke.frame),ke.frame>=vt){vt+=D.autoSleep||120;var e=s._first;if((!e||!e._ts)&&D.autoSleep&&ke._listeners.length<2){for(;e&&!e._ts;)e=e._next;e||ke.sleep()}}},e}(Ge);Rt(He.prototype,{_lock:0,_hasPause:0,_forcing:0});var ze,Ve=function(t,e,n,r,i,a,o){var s,u,c,l,h,d,p,f,m=new pn(this._pt,t,e,0,1,sn,null,i),g=0,y=0;for(m.b=n,m.e=r,n+="",(p=~(r+="").indexOf("random("))&&(r=fe(r)),a&&(a(f=[n,r],t,e),n=f[0],r=f[1]),u=n.match(nt)||[];s=nt.exec(r);)l=s[0],h=r.substring(g,s.index),c?c=(c+1)%5:"rgba("===h.substr(-5)&&(c=1),l!==u[y++]&&(d=parseFloat(u[y-1])||0,m._pt={_next:m._pt,p:h||1===y?h:",",s:d,c:"="===l.charAt(1)?parseFloat(l.substr(2))*("-"===l.charAt(0)?-1:1):parseFloat(l)-d,m:c&&c<4?Math.round:0},g=nt.lastIndex);return m.c=g<r.length?r.substring(g,r.length):"",m.fp=o,(rt.test(r)||p)&&(m.e=0),this._pt=m,m},We=function(t,e,n,r,i,a,o,s,u){z(r)&&(r=r(i||0,t,a));var c,l=t[e],h="get"!==n?n:z(l)?u?t[e.indexOf("set")||!z(t["get"+e.substr(3)])?e:"get"+e.substr(3)](u):t[e]():l,d=z(l)?u?en:tn:$e;if(H(r)&&(~r.indexOf("random(")&&(r=fe(r)),"="===r.charAt(1)&&(r=parseFloat(h)+parseFloat(r.substr(2))*("-"===r.charAt(0)?-1:1)+(re(h)||0))),h!==r)return isNaN(h*r)?(!l&&!(e in t)&&ct(e,r),Ve.call(this,t,e,h,r,d,s||D.stringFilter,u)):(c=new pn(this._pt,t,e,+h||0,r-(h||0),"boolean"==typeof l?on:an,0,d),u&&(c.fp=u),o&&c.modifier(o,this,t),this._pt=c)},Xe=function(t,e,n,r,i,a){var o,s,u,c;if(gt[t]&&!1!==(o=new gt[t]).init(i,o.rawVars?e[t]:function(t,e,n,r,i){if(z(t)&&(t=qe(t,i,e,n,r)),!X(t)||t.style&&t.nodeType||Q(t)||J(t))return H(t)?qe(t,i,e,n,r):t;var a,o={};for(a in t)o[a]=qe(t[a],i,e,n,r);return o}(e[t],r,i,a,n),n,r,a)&&(n._pt=s=new pn(n._pt,i,t,0,1,o.render,o,0,o.priority),n!==p))for(u=n._ptLookup[n._targets.indexOf(i)],c=o._props.length;c--;)u[o._props[c]]=s;return o},Ke=function t(e,n){var r,i,a,u,c,l,h,d,p,f,m,g,y,v=e.vars,b=v.ease,_=v.startAt,w=v.immediateRender,x=v.lazy,S=v.onUpdate,T=v.onUpdateParams,M=v.callbackScope,E=v.runBackwards,A=v.yoyoEase,k=v.keyframes,C=v.autoRevert,O=e._dur,L=e._startAt,R=e._targets,P=e.parent,D=P&&"nested"===P.data?P.parent._targets:R,B="auto"===e._overwrite&&!o,N=e.timeline;if(N&&(!k||!b)&&(b="none"),e._ease=Be(b,I.ease),e._yEase=A?De(Be(!0===A?b:A,I.ease)):0,A&&e._yoyo&&!e._repeat&&(A=e._yEase,e._yEase=e._ease,e._ease=A),!N){if(g=(d=R[0]?xt(R[0]).harness:0)&&v[d.prop],r=Bt(v,pt),L&&L.render(-1,!0).kill(),_)if(Ft(e._startAt=Qe.set(R,Rt({data:"isStart",overwrite:!1,parent:P,immediateRender:!0,lazy:K(x),startAt:null,delay:0,onUpdate:S,onUpdateParams:T,callbackScope:M,stagger:0},_))),w){if(n>0)C||(e._startAt=0);else if(O&&!(n<0&&L))return void(n&&(e._zTime=n))}else!1===C&&(e._startAt=0);else if(E&&O)if(L)!C&&(e._startAt=0);else if(n&&(w=!1),a=Rt({overwrite:!1,data:"isFromStart",lazy:w&&K(x),immediateRender:w,stagger:0,parent:P},r),g&&(a[d.prop]=g),Ft(e._startAt=Qe.set(R,a)),w){if(!n)return}else t(e._startAt,1e-8);for(e._pt=0,x=O&&K(x)||x&&!O,i=0;i<R.length;i++){if(h=(c=R[i])._gsap||wt(R)[i]._gsap,e._ptLookup[i]=f={},mt[h.id]&&ft.length&&kt(),m=D===R?i:D.indexOf(c),d&&!1!==(p=new d).init(c,g||r,e,m,D)&&(e._pt=u=new pn(e._pt,c,p.name,0,1,p.render,p,0,p.priority),p._props.forEach((function(t){f[t]=u})),p.priority&&(l=1)),!d||g)for(a in r)gt[a]&&(p=Xe(a,r,e,m,c,D))?p.priority&&(l=1):f[a]=u=We.call(e,c,a,"get",r[a],m,D,0,v.stringFilter);e._op&&e._op[i]&&e.kill(c,e._op[i]),B&&e._pt&&(ze=e,s.killTweensOf(c,f,e.globalTime(0)),y=!e.parent,ze=0),e._pt&&x&&(mt[h.id]=1)}l&&dn(e),e._onInit&&e._onInit(e)}e._from=!N&&!!v.runBackwards,e._onUpdate=S,e._initted=(!e._op||e._pt)&&!y},qe=function(t,e,n,r,i){return z(t)?t.call(e,n,r,i):H(t)&&~t.indexOf("random(")?fe(t):t},Ze=_t+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",Je=(Ze+",id,stagger,delay,duration,paused,scrollTrigger").split(","),Qe=function(t){function e(e,n,r,a){var u;"number"==typeof n&&(r.duration=n,n=r,r=null);var c,l,h,d,p,f,m,g,y=(u=t.call(this,a?n:Nt(n),r)||this).vars,v=y.duration,b=y.delay,_=y.immediateRender,w=y.stagger,x=y.overwrite,S=y.keyframes,T=y.defaults,M=y.scrollTrigger,E=y.yoyoEase,A=u.parent,k=(Q(e)||J(e)?V(e[0]):"length"in n)?[e]:se(e);if(u._targets=k.length?wt(k):lt(0,!D.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=x,S||w||Z(v)||Z(b)){if(n=u.vars,(c=u.timeline=new He({data:"nested",defaults:T||{}})).kill(),c.parent=c._dp=i(u),c._start=0,S)Rt(c.vars.defaults,{ease:"none"}),S.forEach((function(t){return c.to(k,t,">")}));else{if(d=k.length,m=w?ce(w):dt,X(w))for(p in w)~Ze.indexOf(p)&&(g||(g={}),g[p]=w[p]);for(l=0;l<d;l++){for(p in h={},n)Je.indexOf(p)<0&&(h[p]=n[p]);h.stagger=0,E&&(h.yoyoEase=E),g&&Dt(h,g),f=k[l],h.duration=+qe(v,i(u),l,f,k),h.delay=(+qe(b,i(u),l,f,k)||0)-u._delay,!w&&1===d&&h.delay&&(u._delay=b=h.delay,u._start+=b,h.delay=0),c.to(f,h,m(l,f,k))}c.duration()?v=b=0:u.timeline=0}v||u.duration(v=c.duration())}else u.timeline=0;return!0!==x||o||(ze=i(u),s.killTweensOf(k),ze=0),A&&Xt(A,i(u)),(_||!v&&!S&&u._start===Mt(A._time)&&K(_)&&function t(e){return!e||e._ts&&t(e.parent)}(i(u))&&"nested"!==A.data)&&(u._tTime=-1e-8,u.render(Math.max(0,-b))),M&&qt(i(u),M),u}a(e,t);var n=e.prototype;return n.render=function(t,e,n){var r,i,a,o,s,u,c,l,h,d=this._time,p=this._tDur,f=this._dur,m=t>p-1e-8&&t>=0?p:t<1e-8?0:t;if(f){if(m!==this._tTime||!t||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=t<0){if(r=m,l=this.timeline,this._repeat){if(o=f+this._rDelay,this._repeat<-1&&t<0)return this.totalTime(100*o+t,e,n);if(r=Mt(m%o),m===p?(a=this._repeat,r=f):((a=~~(m/o))&&a===m/o&&(r=f,a--),r>f&&(r=f)),(u=this._yoyo&&1&a)&&(h=this._yEase,r=f-r),s=Ht(this._tTime,o),r===d&&!n&&this._initted)return this;a!==s&&(l&&this._yEase&&Ie(l,u),!this.vars.repeatRefresh||u||this._lock||(this._lock=n=1,this.render(Mt(o*a),!0).invalidate()._lock=0))}if(!this._initted){if(Zt(this,t<0?t:r,n,e))return this._tTime=0,this;if(f!==this._dur)return this.render(t,e,n)}for(this._tTime=m,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(h||this._ease)(r/f),this._from&&(this.ratio=c=1-c),r&&!d&&!e&&ye(this,"onStart"),i=this._pt;i;)i.r(c,i.d),i=i._next;l&&l.render(t<0?t:!r&&u?-1e-8:l._dur*c,e,n)||this._startAt&&(this._zTime=t),this._onUpdate&&!e&&(t<0&&this._startAt&&this._startAt.render(t,!0,n),ye(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!e&&this.parent&&ye(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(t<0&&this._startAt&&!this._onUpdate&&this._startAt.render(t,!0,!0),(t||!f)&&(m===this._tDur&&this._ts>0||!m&&this._ts<0)&&Ft(this,1),e||t<0&&!d||!m&&!d||(ye(this,m===p?"onComplete":"onReverseComplete",!0),this._prom&&!(m<p&&this.timeScale()>0)&&this._prom()))}}else!function(t,e,n,r){var i,a,o,s=t.ratio,u=e<0||!e&&(!t._start&&function t(e){var n=e.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||t(n))}(t)||(t._ts<0||t._dp._ts<0)&&"isFromStart"!==t.data&&"isStart"!==t.data)?0:1,c=t._rDelay,l=0;if(c&&t._repeat&&(l=ne(0,t._tDur,e),a=Ht(l,c),o=Ht(t._tTime,c),t._yoyo&&1&a&&(u=1-u),a!==o&&(s=1-u,t.vars.repeatRefresh&&t._initted&&t.invalidate())),u!==s||r||1e-8===t._zTime||!e&&t._zTime){if(!t._initted&&Zt(t,e,r,n))return;for(o=t._zTime,t._zTime=e||(n?1e-8:0),n||(n=e&&!o),t.ratio=u,t._from&&(u=1-u),t._time=0,t._tTime=l,i=t._pt;i;)i.r(u,i.d),i=i._next;t._startAt&&e<0&&t._startAt.render(e,!0,!0),t._onUpdate&&!n&&ye(t,"onUpdate"),l&&t._repeat&&!n&&t.parent&&ye(t,"onRepeat"),(e>=t._tDur||e<0)&&t.ratio===u&&(u&&Ft(t,1),n||(ye(t,u?"onComplete":"onReverseComplete",!0),t._prom&&t._prom()))}else t._zTime||(t._zTime=e)}(this,t,e,n);return this},n.targets=function(){return this._targets},n.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),t.prototype.invalidate.call(this)},n.kill=function(t,e){if(void 0===e&&(e="all"),!(t||e&&"all"!==e))return this._lazy=this._pt=0,this.parent?ve(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(t,e,ze&&!0!==ze.vars.overwrite)._first||ve(this),this.parent&&n!==this.timeline.totalDuration()&&Jt(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,a,o,s,u,c,l=this._targets,h=t?se(t):l,d=this._ptLookup,p=this._pt;if((!e||"all"===e)&&function(t,e){for(var n=t.length,r=n===e.length;r&&n--&&t[n]===e[n];);return n<0}(l,h))return"all"===e&&(this._pt=0),ve(this);for(r=this._op=this._op||[],"all"!==e&&(H(e)&&(s={},Tt(e,(function(t){return s[t]=1})),e=s),e=function(t,e){var n,r,i,a,o=t[0]?xt(t[0]).harness:0,s=o&&o.aliases;if(!s)return e;for(r in n=Dt({},e),s)if(r in n)for(i=(a=s[r].split(",")).length;i--;)n[a[i]]=n[r];return n}(l,e)),c=l.length;c--;)if(~h.indexOf(l[c]))for(s in i=d[c],"all"===e?(r[c]=e,o=i,a={}):(a=r[c]=r[c]||{},o=e),o)(u=i&&i[s])&&("kill"in u.d&&!0!==u.d.kill(s)||jt(this,u,"_pt"),delete i[s]),"all"!==a&&(a[s]=1);return this._initted&&!this._pt&&p&&ve(this),this},e.to=function(t,n){return new e(t,n,arguments[2])},e.from=function(t,n){return new e(t,At(arguments,1))},e.delayedCall=function(t,n,r,i){return new e(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:t,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},e.fromTo=function(t,n,r){return new e(t,At(arguments,2))},e.set=function(t,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new e(t,n)},e.killTweensOf=function(t,e,n){return s.killTweensOf(t,e,n)},e}(Ge);Rt(Qe.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),Tt("staggerTo,staggerFrom,staggerFromTo",(function(t){Qe[t]=function(){var e=new He,n=ie.call(arguments,0);return n.splice("staggerFromTo"===t?5:4,0,0),e[t].apply(e,n)}}));var $e=function(t,e,n){return t[e]=n},tn=function(t,e,n){return t[e](n)},en=function(t,e,n,r){return t[e](r.fp,n)},nn=function(t,e,n){return t.setAttribute(e,n)},rn=function(t,e){return z(t[e])?tn:W(t[e])&&t.setAttribute?nn:$e},an=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4,e)},on=function(t,e){return e.set(e.t,e.p,!!(e.s+e.c*t),e)},sn=function(t,e){var n=e._pt,r="";if(!t&&e.b)r=e.b;else if(1===t&&e.e)r=e.e;else{for(;n;)r=n.p+(n.m?n.m(n.s+n.c*t):Math.round(1e4*(n.s+n.c*t))/1e4)+r,n=n._next;r+=e.c}e.set(e.t,e.p,r,e)},un=function(t,e){for(var n=e._pt;n;)n.r(t,n.d),n=n._next},cn=function(t,e,n,r){for(var i,a=this._pt;a;)i=a._next,a.p===r&&a.modifier(t,e,n),a=i},ln=function(t){for(var e,n,r=this._pt;r;)n=r._next,r.p===t&&!r.op||r.op===t?jt(this,r,"_pt"):r.dep||(e=1),r=n;return!e},hn=function(t,e,n,r){r.mSet(t,e,r.m.call(r.tween,n,r.mt),r)},dn=function(t){for(var e,n,r,i,a=t._pt;a;){for(e=a._next,n=r;n&&n.pr>a.pr;)n=n._next;(a._prev=n?n._prev:i)?a._prev._next=a:r=a,(a._next=n)?n._prev=a:i=a,a=e}t._pt=r},pn=function(){function t(t,e,n,r,i,a,o,s,u){this.t=e,this.s=r,this.c=i,this.p=n,this.r=a||an,this.d=o||this,this.set=s||$e,this.pr=u||0,this._next=t,t&&(t._prev=this)}return t.prototype.modifier=function(t,e,n){this.mSet=this.mSet||this.set,this.set=hn,this.m=t,this.mt=n,this.tween=e},t}();Tt(_t+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(t){return pt[t]=1})),ot.TweenMax=ot.TweenLite=Qe,ot.TimelineLite=ot.TimelineMax=He,s=new He({sortChildren:!1,defaults:I,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),D.stringFilter=Ae;var fn={registerPlugin:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e.forEach((function(t){return be(t)}))},timeline:function(t){return new He(t)},getTweensOf:function(t,e){return s.getTweensOf(t,e)},getProperty:function(t,e,n,r){H(t)&&(t=se(t)[0]);var i=xt(t||{}).get,a=n?Lt:Ot;return"native"===n&&(n=""),t?e?a((gt[e]&&gt[e].get||i)(t,e,n,r)):function(e,n,r){return a((gt[e]&&gt[e].get||i)(t,e,n,r))}:t},quickSetter:function(t,e,n){if((t=se(t)).length>1){var r=t.map((function(t){return yn.quickSetter(t,e,n)})),i=r.length;return function(t){for(var e=i;e--;)r[e](t)}}t=t[0]||{};var a=gt[e],o=xt(t),s=o.harness&&(o.harness.aliases||{})[e]||e,u=a?function(e){var r=new a;p._pt=0,r.init(t,n?e+n:e,p,0,[t]),r.render(1,r),p._pt&&un(1,p)}:o.set(t,s);return a?u:function(e){return u(t,s,n?e+n:e,o,1)}},isTweening:function(t){return s.getTweensOf(t,!0).length>0},defaults:function(t){return t&&t.ease&&(t.ease=Be(t.ease,I.ease)),It(I,t||{})},config:function(t){return It(D,t||{})},registerEffect:function(t){var e=t.name,n=t.effect,r=t.plugins,i=t.defaults,a=t.extendTimeline;(r||"").split(",").forEach((function(t){return t&&!gt[t]&&!ot[t]&&lt()})),yt[e]=function(t,e,r){return n(se(t),Rt(e||{},i),r)},a&&(He.prototype[e]=function(t,n,r){return this.add(yt[e](t,X(n)?n:(r=n)&&{},this),r)})},registerEase:function(t,e){Oe[t]=Be(e)},parseEase:function(t,e){return arguments.length?Be(t,e):Oe},getById:function(t){return s.getById(t)},exportRoot:function(t,e){void 0===t&&(t={});var n,r,i=new He(t);for(i.smoothChildTiming=K(t.smoothChildTiming),s.remove(i),i._dp=0,i._time=i._tTime=s._time,n=s._first;n;)r=n._next,!e&&!n._dur&&n instanceof Qe&&n.vars.onComplete===n._targets[0]||Kt(i,n,n._start-n._delay),n=r;return Kt(s,i,0),i},utils:{wrap:function t(e,n,r){var i=n-e;return Q(e)?pe(e,t(0,e.length),n):ee(r,(function(t){return(i+(t-e)%i)%i+e}))},wrapYoyo:function t(e,n,r){var i=n-e,a=2*i;return Q(e)?pe(e,t(0,e.length-1),n):ee(r,(function(t){return e+((t=(a+(t-e)%a)%a||0)>i?a-t:t)}))},distribute:ce,random:de,snap:he,normalize:function(t,e,n){return me(t,e,0,1,n)},getUnit:re,clamp:function(t,e,n){return ee(n,(function(n){return ne(t,e,n)}))},splitColor:xe,toArray:se,mapRange:me,pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return e.reduce((function(t,e){return e(t)}),t)}},unitize:function(t,e){return function(n){return t(parseFloat(n))+(e||re(n))}},interpolate:function t(e,n,r,i){var a=isNaN(e+n)?0:function(t){return(1-t)*e+t*n};if(!a){var o,s,u,c,l,h=H(e),d={};if(!0===r&&(i=1)&&(r=null),h)e={p:e},n={p:n};else if(Q(e)&&!Q(n)){for(u=[],c=e.length,l=c-2,s=1;s<c;s++)u.push(t(e[s-1],e[s]));c--,a=function(t){t*=c;var e=Math.min(l,~~t);return u[e](t-e)},r=n}else i||(e=Dt(Q(e)?[]:{},e));if(!u){for(o in n)We.call(d,e,o,"get",n[o]);a=function(t){return un(t,d)||(h?e.p:e)}}}return ee(r,a)},shuffle:ue},install:ut,effects:yt,ticker:ke,updateRoot:He.updateRoot,plugins:gt,globalTimeline:s,core:{PropTween:pn,globals:ht,Tween:Qe,Timeline:He,Animation:Ge,getCache:xt,_removeLinkedListItem:jt,suppressOverwrites:function(t){return o=t}}};Tt("to,from,fromTo,delayedCall,set,killTweensOf",(function(t){return fn[t]=Qe[t]})),ke.add(He.updateRoot),p=fn.to({},{duration:0});var mn=function(t,e){for(var n=t._pt;n&&n.p!==e&&n.op!==e&&n.fp!==e;)n=n._next;return n},gn=function(t,e){return{name:t,rawVars:1,init:function(t,n,r){r._onInit=function(t){var r,i;if(H(n)&&(r={},Tt(n,(function(t){return r[t]=1})),n=r),e){for(i in r={},n)r[i]=e(n[i]);n=r}!function(t,e){var n,r,i,a=t._targets;for(n in e)for(r=a.length;r--;)(i=t._ptLookup[r][n])&&(i=i.d)&&(i._pt&&(i=mn(i,n)),i&&i.modifier&&i.modifier(e[n],t,a[r],n))}(t,n)}}}},yn=fn.registerPlugin({name:"attr",init:function(t,e,n,r,i){var a,o;for(a in e)(o=this.add(t,"setAttribute",(t.getAttribute(a)||0)+"",e[a],r,i,0,0,a))&&(o.op=a),this._props.push(a)}},{name:"endArray",init:function(t,e){for(var n=e.length;n--;)this.add(t,n,t[n]||0,e[n])}},gn("roundProps",le),gn("modifiers"),gn("snap",he))||fn;Qe.version=He.version=yn.version="3.6.1",h=1,q()&&Ce();Oe.Power0,Oe.Power1,Oe.Power2,Oe.Power3,Oe.Power4,Oe.Linear,Oe.Quad,Oe.Cubic,Oe.Quart,Oe.Quint,Oe.Strong,Oe.Elastic,Oe.Back,Oe.SteppedEase,Oe.Bounce,Oe.Sine,Oe.Expo,Oe.Circ},function(t,e,n){"use strict";var r=n(131),i=n(214),a=n(209),o=n(137),s=n(295),u=o.set,c=o.getterFor("Array Iterator");t.exports=s(Array,"Array",(function(t,e){u(this,{type:"Array Iterator",target:r(t),index:0,kind:e})}),(function(){var t=c(this),e=t.target,n=t.kind,r=t.index++;return!e||r>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:e[r],done:!1}:{value:[r,e[r]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(t,e,n){"use strict";n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return f})),n.d(e,"e",(function(){return p})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return d})),n.d(e,"h",(function(){return l})),n.d(e,"i",(function(){return a})),n.d(e,"j",(function(){return s})),n.d(e,"k",(function(){return h})),n.d(e,"l",(function(){return r})),n.d(e,"m",(function(){return S})),n.d(e,"n",(function(){return x}));var r,i=2*Math.PI,a=180/Math.PI,o=Math.PI/180;!function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"}(r||(r={}));var s=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=Number(t),this.y=Number(e),this.width=Number(n),this.height=Number(i),this.type=r.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.copyTo=function(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e,this},t.prototype.fit=function(t){var e=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),r=Math.max(this.y,t.y),i=Math.min(this.y+this.height,t.y+t.height);return this.x=e,this.width=Math.max(n-e,0),this.y=r,this.height=Math.max(i-r,0),this},t.prototype.ceil=function(t,e){void 0===t&&(t=1),void 0===e&&(e=.001);var n=Math.ceil((this.x+this.width-e)*t)/t,r=Math.ceil((this.y+this.height-e)*t)/t;return this.x=Math.floor((this.x+e)*t)/t,this.y=Math.floor((this.y+e)*t)/t,this.width=n-this.x,this.height=r-this.y,this},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),r=Math.min(this.y,t.y),i=Math.max(this.y+this.height,t.y+t.height);return this.x=e,this.width=n-e,this.y=r,this.height=i-r,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),u=function(){function t(t,e,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),this.x=t,this.y=e,this.radius=n,this.type=r.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var n=this.radius*this.radius,r=this.x-t,i=this.y-e;return(r*=r)+(i*=i)<=n},t.prototype.getBounds=function(){return new s(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),c=function(){function t(t,e,n,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),this.x=t,this.y=e,this.width=n,this.height=i,this.type=r.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var n=(t-this.x)/this.width,r=(e-this.y)/this.height;return(n*=n)+(r*=r)<=1},t.prototype.getBounds=function(){return new s(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),l=function(){function t(){for(var t=arguments,e=[],n=0;n<arguments.length;n++)e[n]=t[n];var i=Array.isArray(e[0])?e[0]:e;if("number"!=typeof i[0]){for(var a=[],o=0,s=i.length;o<s;o++)a.push(i[o].x,i[o].y);i=a}this.points=i,this.type=r.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=new t(this.points.slice());return e.closeStroke=this.closeStroke,e},t.prototype.contains=function(t,e){for(var n=!1,r=this.points.length/2,i=0,a=r-1;i<r;a=i++){var o=this.points[2*i],s=this.points[2*i+1],u=this.points[2*a],c=this.points[2*a+1];s>e!=c>e&&t<(e-s)/(c-s)*(u-o)+o&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce((function(t,e){return t+", "+e}),"")+"]"},t}(),h=function(){function t(t,e,n,i,a){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===i&&(i=0),void 0===a&&(a=20),this.x=t,this.y=e,this.width=n,this.height=i,this.radius=a,this.type=r.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var n=t-(this.x+this.radius),r=e-(this.y+this.radius),i=this.radius*this.radius;if(n*n+r*r<=i)return!0;if((n=t-(this.x+this.width-this.radius))*n+r*r<=i)return!0;if(n*n+(r=e-(this.y+this.height-this.radius))*r<=i)return!0;if((n=t-(this.x+this.radius))*n+r*r<=i)return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},t}(),d=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(t){return this.set(t.x,t.y),this},t.prototype.copyTo=function(t){return t.set(this.x,this.y),t},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this.x=t,this.y=e,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),p=function(){function t(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0),this._x=n,this._y=r,this.cb=t,this.scope=e}return t.prototype.clone=function(e,n){return void 0===e&&(e=this.cb),void 0===n&&(n=this.scope),new t(e,n,this._x,this._y)},t.prototype.set=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=t),this._x===t&&this._y===e||(this._x=t,this._y=e,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(t){return this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(t){return t.set(this._x,this._y),t},t.prototype.equals=function(t){return t.x===this._x&&t.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),f=function(){function t(t,e,n,r,i,a){void 0===t&&(t=1),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===a&&(a=0),this.array=null,this.a=t,this.b=e,this.c=n,this.d=r,this.tx=i,this.ty=a}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,n,r,i,a){return this.a=t,this.b=e,this.c=n,this.d=r,this.tx=i,this.ty=a,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var n=e||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(t,e){e=e||new d;var n=t.x,r=t.y;return e.x=this.a*n+this.c*r+this.tx,e.y=this.b*n+this.d*r+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new d;var n=1/(this.a*this.d+this.c*-this.b),r=t.x,i=t.y;return e.x=this.d*n*r+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,e.y=this.a*n*i+-this.b*n*r+(-this.ty*this.a+this.tx*this.b)*n,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.a,i=this.c,a=this.tx;return this.a=r*e-this.b*n,this.b=r*n+this.b*e,this.c=i*e-this.d*n,this.d=i*n+this.d*e,this.tx=a*e-this.ty*n,this.ty=a*n+this.ty*e,this},t.prototype.append=function(t){var e=this.a,n=this.b,r=this.c,i=this.d;return this.a=t.a*e+t.b*r,this.b=t.a*n+t.b*i,this.c=t.c*e+t.d*r,this.d=t.c*n+t.d*i,this.tx=t.tx*e+t.ty*r+this.tx,this.ty=t.tx*n+t.ty*i+this.ty,this},t.prototype.setTransform=function(t,e,n,r,i,a,o,s,u){return this.a=Math.cos(o+u)*i,this.b=Math.sin(o+u)*i,this.c=-Math.sin(o-s)*a,this.d=Math.cos(o-s)*a,this.tx=t-(n*this.a+r*this.c),this.ty=e-(n*this.b+r*this.d),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var n=this.a,r=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=r*t.a+this.d*t.c,this.d=r*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,n=this.b,r=this.c,a=this.d,o=t.pivot,s=-Math.atan2(-r,a),u=Math.atan2(n,e),c=Math.abs(s+u);return c<1e-5||Math.abs(i-c)<1e-5?(t.rotation=u,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=s,t.skew.y=u),t.scale.x=Math.sqrt(e*e+n*n),t.scale.y=Math.sqrt(r*r+a*a),t.position.x=this.tx+(o.x*e+o.y*r),t.position.y=this.ty+(o.x*n+o.y*a),t},t.prototype.invert=function(){var t=this.a,e=this.b,n=this.c,r=this.d,i=this.tx,a=t*r-e*n;return this.a=r/a,this.b=-e/a,this.c=-n/a,this.d=t/a,this.tx=(n*this.ty-r*i)/a,this.ty=-(t*this.ty-e*i)/a,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},t.prototype.copyFrom=function(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),m=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],g=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],y=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],v=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],b=[],_=[],w=Math.sign;!function(){for(var t=0;t<16;t++){var e=[];b.push(e);for(var n=0;n<16;n++)for(var r=w(m[t]*m[n]+y[t]*g[n]),i=w(g[t]*m[n]+v[t]*g[n]),a=w(m[t]*y[n]+y[t]*v[n]),o=w(g[t]*y[n]+v[t]*v[n]),s=0;s<16;s++)if(m[s]===r&&g[s]===i&&y[s]===a&&v[s]===o){e.push(s);break}}for(t=0;t<16;t++){var u=new f;u.set(m[t],g[t],y[t],v[t],0,0),_.push(u)}}();var x={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return m[t]},uY:function(t){return g[t]},vX:function(t){return y[t]},vY:function(t){return v[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return b[t][e]},sub:function(t,e){return b[t][x.inv(e)]},rotate180:function(t){return 4^t},isVertical:function(t){return 2==(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?x.S:x.N:2*Math.abs(e)<=Math.abs(t)?t>0?x.E:x.W:e>0?t>0?x.SE:x.SW:t>0?x.NE:x.NW},matrixAppendRotationInv:function(t,e,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var i=_[x.inv(e)];i.tx=n,i.ty=r,t.append(i)}},S=function(){function t(){this.worldTransform=new f,this.localTransform=new f,this.position=new p(this.onChange,this,0,0),this.scale=new p(this.onChange,this,1,1),this.pivot=new p(this.onChange,this,0,0),this.skew=new p(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},t.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var n=t.worldTransform,r=this.worldTransform;r.a=e.a*n.a+e.b*n.c,r.b=e.a*n.b+e.b*n.d,r.c=e.c*n.a+e.d*n.c,r.d=e.c*n.b+e.d*n.d,r.tx=e.tx*n.a+e.ty*n.c+n.tx,r.ty=e.tx*n.b+e.ty*n.d+n.ty,this._parentID=t._worldID,this._worldID++}},t.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}()},function(t,e,n){"use strict";n.r(e),n.d(e,"SoundChannel",(function(){return g})),n.d(e,"SoundInstance",(function(){return l})),n.d(e,"SoundCollection",(function(){return i.c}));n(15),n(140),n(5),n(22),n(20),n(119),n(38),n(92),n(42),n(34);var r,i=n(155),a=n(24),o=(n(298),n(52)),s={volume:1,muted:!1,paused:!1,rate:1},u=function(){function t(){this.muteChanged=new a.Signal,this._children=new Set,this.internal=Object.assign({},s),this.inherited=Object.assign({},s)}return Object.defineProperty(t.prototype,"volume",{get:function(){return this.internal.volume},set:function(t){t!==this.internal.volume&&(this.internal.volume=t,this.propogateVolume())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rate",{get:function(){return this.internal.rate},set:function(t){t!==this.internal.rate&&(this.internal.rate=t,this.propogateRate())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"muted",{get:function(){return this.internal.muted},set:function(t){t!==this.internal.muted&&(this.internal.muted=t,this.propogateMuted(),this.muteChanged.emit(t))},enumerable:!1,configurable:!0}),t.prototype.mute=function(t){void 0===t&&(t=!0),this.muted=t},Object.defineProperty(t.prototype,"paused",{get:function(){return this.internal.paused},set:function(t){t!==this.internal.paused&&(this.internal.paused=t,this.propogatePaused())},enumerable:!1,configurable:!0}),t.prototype.pause=function(){this.paused=!0},t.prototype.resume=function(){this.paused=!1},t.prototype.addChild=function(t){return!this._children.has(t)&&(this._children.add(t),t.inheritState(this.accumulatedState),!0)},t.prototype.removeChild=function(t){this._children.delete(t)},t.prototype.propogateState=function(){var t=this;this.propogateValue((function(e){return e.inheritState(t.accumulatedState)}))},t.prototype.propogateVolume=function(){var t=this;this.propogateValue((function(e){return e.inheritVolume(t.accumulatedVolume)}))},t.prototype.propogatePaused=function(){var t=this;this.propogateValue((function(e){return e.inheritPaused(t.accumulatedPaused)}))},t.prototype.propogateMuted=function(){var t=this;this.propogateValue((function(e){return e.inheritMuted(t.accumulatedMuted)}))},t.prototype.propogateRate=function(){var t=this;this.propogateValue((function(e){return e.inheritRate(t.accumulatedRate)}))},t.prototype.propogateValue=function(t){this._children.forEach((function(e){t(e)}))},t.prototype.inheritVolume=function(t){this.inherited.volume=t,this.propogateVolume()},t.prototype.inheritRate=function(t){this.inherited.rate=t,this.propogateRate()},t.prototype.inheritMuted=function(t){this.inherited.muted=t,this.propogateMuted()},t.prototype.inheritPaused=function(t){this.inherited.paused=t,this.propogatePaused()},t.prototype.inheritState=function(t){this.inherited=Object.assign({},t),this.propogateState()},Object.defineProperty(t.prototype,"accumulatedVolume",{get:function(){return this.inherited.volume*this.internal.volume},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"accumulatedPaused",{get:function(){return this.inherited.paused||this.internal.paused},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"accumulatedMuted",{get:function(){return this.inherited.muted||this.internal.muted},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"accumulatedRate",{get:function(){return this.inherited.rate*this.internal.rate},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"accumulatedState",{get:function(){return{volume:this.accumulatedVolume,paused:this.accumulatedPaused,muted:this.accumulatedMuted,rate:this.accumulatedRate}},enumerable:!1,configurable:!0}),t.prototype.fadeTo=function(t,e,n){o.b.to(this,e,{volume:t,ease:"none",onComplete:n})},t.prototype.fadeIn=function(t,e){this.volume=0,this.fadeTo(1,t,e)},t.prototype.fadeOut=function(t,e){this.fadeTo(0,t,e)},t}(),c=(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),l=function(t){function e(e,n){void 0===n&&(n=1);var r=t.call(this)||this;return r.completed=new a.Signal,r.looped=new a.Signal,r.disposed=new a.Signal,r.loopsRemaining=1,r._loop=!1,r._keepAlive=!1,r.callbackOnInterrupt=!1,r.canPropogate=!1,r.boundOnCompleteHandler=function(){return r._onCompleteHandler()},r._id=e,r._baseVolume=n||1,r}return c(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),e.prototype.postConstructor=function(t){void 0===t&&(t={}),t.loops?(this.loopsRemaining=!0===t.loops?1/0:t.loops,this._loop=this.loopsRemaining>1):this.loopsRemaining=1,this.volume=void 0!==t.volume?t.volume:1,t.panning&&(this.panning=t.panning),this.rate=void 0!==t.rate?t.rate:1,this.callback=t.callback,this.callbackScope=t.callbackScope,this.callbackOnInterrupt=!!t.callbackOnInterrupt,this._addListeners()},e.prototype.seek=function(t){this._seek(t),this._keepAlive=!0},e.prototype.cue=function(t){this._seek(t),this.paused=!0,this._keepAlive=!0},e.prototype.restart=function(){this._seek(0),this.accumulatedPaused||this._resume(),this._keepAlive=!0},e.prototype.interrupt=function(){this.callbackOnInterrupt&&this.executeCallback()},e.prototype.stop=function(t){void 0===t&&(t=!1),this._stop(),this._keepAlive=!1,this.callback&&t&&this.executeCallback(),this._keepAlive||this.dispose()},e.prototype.propogateVolume=function(){var t=this.accumulatedMuted?0:this.accumulatedVolume;this._setCalculatedVolume(t*this._baseVolume)},e.prototype.propogateMuted=function(){var t=this.accumulatedMuted?0:this.accumulatedVolume;this._setCalculatedVolume(t*this._baseVolume)},e.prototype.propogatePaused=function(){this.accumulatedPaused?this._pause():this._resume()},e.prototype.propogateRate=function(){this._setCalculatedRate(this.accumulatedRate)},e.prototype.propogateState=function(){this.propogateVolume(),this.propogatePaused(),this.propogateMuted(),this.propogateRate()},e.prototype._onCompleteHandler=function(){if(this._loop&&(this.loopsRemaining-=1,0!==this.loopsRemaining))return this.restart(),void this.looped.emit(this);this._keepAlive=!1,this.executeCallback(),this.completed.emit(this),this._keepAlive||this.stop()},e.prototype.executeCallback=function(){this.callback&&(this.callbackScope?this.callback.call(this.callbackScope,this):this.callback(this),this.callback=null)},e.prototype.dispose=function(){this._removeListeners(),this.disposed.emit(this),this.disposed.disconnectAll(),this.looped.disconnectAll(),this.completed.disconnectAll()},Object.defineProperty(e.prototype,"hasLoopsRemaining",{get:function(){return this._loop&&this.loopsRemaining>1},enumerable:!1,configurable:!0}),e}(u),h=n(519),d=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),p=function(t){function e(e,n,r,i){var a=t.call(this,e,n)||this;return a.howl=r,a.uid=r.play(),a.pause(),a.postConstructor(i),a}return d(e,t),Object.defineProperty(e.prototype,"panning",{set:function(t){this.howl.stereo(t,this.uid)},enumerable:!1,configurable:!0}),e.prototype._seek=function(t){this.howl.seek(1e3*t,this.uid)},e.prototype._setCalculatedVolume=function(t){this.howl.volume(t,this.uid)},e.prototype._setCalculatedRate=function(t){this.howl.rate(t,this.uid)},e.prototype._pause=function(){this.howl.pause(this.uid)},e.prototype._resume=function(){this.howl.play(this.uid)},e.prototype._stop=function(){this.howl.stop(this.uid)},e.prototype._addListeners=function(){this.howl.on("end",this.boundOnCompleteHandler,this.uid)},e.prototype._removeListeners=function(){this.howl.off("end",this.boundOnCompleteHandler,this.uid)},Object.defineProperty(e.prototype,"rawObject",{get:function(){return{id:this.uid,howl:this.howl}},enumerable:!1,configurable:!0}),e}(l),f=function(){function t(){this.soundsById=new Map}return t.prototype.registerSound=function(t){var e=new h.Howl({src:t.src,preload:t.preload,html5:t.stream,autoplay:!1,volume:0});this.soundsById.set(t.id,e)},t.prototype.factorySoundInstance=function(t,e,n){void 0===n&&(n={});var r=this.soundsById.get(t);return r?("unloaded"===r.state()&&r.load(),new p(t,e,r,n)):null},t}(),m=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sounds=new Set,e._singlefile=!1,e._crossFadeDuration=0,e}return m(e,t),e.prototype.addSound=function(t){var e=this;if(this._singlefile&&this.sounds.size){var n=this._crossFadeDuration>0;if(this.sounds.forEach((function(t){t.interrupt(),n?t.fadeOut(e._crossFadeDuration,(function(){return t.stop()})):t.stop()})),n){var r=t.volume;t.volume=0,t.fadeTo(r,this._crossFadeDuration)}}this.sounds.add(t),t.disposed.connect((function(t){return e.removeSound(t)})),t.resume(),this.addChild(t)},Object.defineProperty(e.prototype,"singleFile",{set:function(t){this._singlefile=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"crossFadeDuration",{set:function(t){this._crossFadeDuration=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wouldBeInterrupted",{get:function(){return this.sounds.size&&this._singlefile},enumerable:!1,configurable:!0}),e.prototype.restart=function(){this.forEach((function(t){return t.restart()}))},e.prototype.forEach=function(t){this.sounds.forEach(t)},e.prototype.stop=function(t){this.forEach((function(e){return e.stop(t)}))},e.prototype.removeSound=function(t){this.sounds.delete(t),this.removeChild(t)},e}(u),y=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),v=function(t){function e(e,n,r,i){var a=t.call(this,e)||this;return a.currentIndex=-1,a.collection=n,a.channel=r,a.currentOptions=Object.assign({},i),a.currentOptions.loops=1,a.postConstructor(i),a._initFromCollection(),a._playNext(),a}return y(e,t),e.prototype._initFromCollection=function(){this.currentIndex=-1,this.ids=this.collection.getSequence()},e.prototype._playNext=function(){var t=this;this.currentIndex++,this.currentOptions.callback=this.currentIndex<this.ids.length-1?function(){return t._playNext()}:function(){t.hasLoopsRemaining&&t._initFromCollection(),t._onCompleteHandler()},this.currentOptions.volume=this.volume,this.currentSoundInstance=w.playOnChannel(this.ids[this.currentIndex],this.channel,this.currentOptions)},Object.defineProperty(e.prototype,"volume",{get:function(){return this.currentOptions.volume},set:function(t){t!==this.currentOptions.volume&&(this.currentOptions.volume=t,this.currentSoundInstance&&(this.currentSoundInstance.volume=t))},enumerable:!1,configurable:!0}),e.prototype._setCalculatedVolume=function(){},e.prototype._setCalculatedRate=function(){},e.prototype._pause=function(){this.currentSoundInstance.pause()},e.prototype._resume=function(){this.currentSoundInstance.resume()},e.prototype._stop=function(){this.currentSoundInstance.stop()},e.prototype._seek=function(t){if(0!==t)throw new Error("SoundBoy : SoundCollectionInstance : cannot seek in a SoundCollectionInstance");this.currentSoundInstance.stop(),this.currentIndex=-1,this._playNext()},e.prototype._addListeners=function(){},e.prototype._removeListeners=function(){},Object.defineProperty(e.prototype,"panning",{get:function(){return this.currentOptions.panning},set:function(t){this.currentOptions.panning=t,this.currentSoundInstance&&(this.currentSoundInstance.panning=t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rate",{get:function(){return this.currentOptions.rate},set:function(t){this.currentOptions.rate=t,this.currentSoundInstance&&(this.currentSoundInstance.rate=t)},enumerable:!1,configurable:!0}),e}(l),b=function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),_={id:"",src:"",preload:!1,loop:!1,volume:1},w=new(function(t){function e(){var n=t.call(this)||this;return n.systemPauseChanged=new a.Signal,n.channelsById=new Map,n.soundsById=new Map,n.collectionsById=new Map,n.preload=!0,n.soundFactory=new f,n.extensions=["ogg","mp3"],n.addChannel(e.CHANNEL_SFX),n.addChannel(e.CHANNEL_MUSIC),n.addChannel(e.CHANNEL_VO),n.voChannel.singleFile=!0,n.musicChannel.singleFile=!0,n.musicChannel.crossFadeDuration=2,n.system=new u,n.system.addChild(n),n}return b(e,t),Object.defineProperty(e.prototype,"systemMuteChanged",{get:function(){return this.system.muteChanged},enumerable:!1,configurable:!0}),e.prototype.registerSound=function(t){if(this.soundsById.get(t.id),t!==_&&(t=Object.assign({},_,t)),"string"==typeof t.src){var e=void 0,n=t.src.split(".").pop();e="ogg"===n||"mp3"===n||"wav"===n?[t.src]:this.extensions.map((function(e){return t.src+"."+e})),t.src=e}this.soundsById.set(t.id,t),this.soundFactory.registerSound(t)},e.prototype.play=function(t,e){return this.playSfx(t,e)},e.prototype.playSfx=function(t,n){return this.playOnChannel(t,e.CHANNEL_SFX,n)},e.prototype.playMusic=function(t,n){return this.playOnChannel(t,e.CHANNEL_MUSIC,n)},e.prototype.playVo=function(t,n){return this.playOnChannel(t,e.CHANNEL_VO,n)},e.prototype.playOnChannel=function(t,e,n){void 0===n&&(n={});var r=this.getChannelById(e);if(n.wontInterrupt&&r.wouldBeInterrupted)return null;var i=this.soundsById.get(t);if(!i){var a=this.collectionsById.get(t);return a?new v(t,a,e,n):(this.registerSound({id:t,src:t}),this.playOnChannel(t,e,n))}!n.loops&&i.loop&&(n.loops=1/0);var o=this.soundFactory.factorySoundInstance(t,i.volume,n);if(!o)throw new Error("problem creating sound instance with id: "+t);return r.addSound(o),o},Object.defineProperty(e.prototype,"systemMuted",{get:function(){return this.system.muted},set:function(t){t!==this.system.muted&&(this.system.muted=t,this.systemMuteChanged.emit(t))},enumerable:!1,configurable:!0}),e.prototype.systemMute=function(t){void 0===t&&(t=!0),this.systemMuted=t},Object.defineProperty(e.prototype,"systemPaused",{get:function(){return this.system.paused},set:function(t){t!==this.system.paused&&(this.system.paused=t,this.systemPauseChanged.emit(t))},enumerable:!1,configurable:!0}),e.prototype.systemPause=function(t){void 0===t&&(t=!0),this.systemPaused=t},e.prototype.stop=function(){this.channelsById.forEach((function(t){return t.stop()}))},e.prototype.registerCollection=function(t){this.collectionsById.set(t.id,new i.c(t))},e.prototype.addChannel=function(t){if(this.channelsById.get(t))return this.channelsById.get(t);var e=new g;return this.channelsById.set(t,e),this.addChild(e),e},e.prototype.getChannelById=function(t){return this.channelsById.get(t)},Object.defineProperty(e.prototype,"musicChannel",{get:function(){return this.channelsById.get(e.CHANNEL_MUSIC)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sfxChannel",{get:function(){return this.channelsById.get(e.CHANNEL_SFX)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"voChannel",{get:function(){return this.channelsById.get(e.CHANNEL_VO)},enumerable:!1,configurable:!0}),e.CHANNEL_SFX="sfx",e.CHANNEL_VO="vo",e.CHANNEL_MUSIC="music",e}(u));e.default=w},function(t,e,n){"use strict";n.r(e),n.d(e,"BaseTextureCache",(function(){return U})),n.d(e,"CanvasRenderTarget",(function(){return H})),n.d(e,"DATA_URI",(function(){return W})),n.d(e,"ProgramCache",(function(){return j})),n.d(e,"TextureCache",(function(){return F})),n.d(e,"clearTextureCache",(function(){return G})),n.d(e,"correctBlendMode",(function(){return w})),n.d(e,"createIndicesForQuads",(function(){return M})),n.d(e,"decomposeDataUri",(function(){return X})),n.d(e,"deprecation",(function(){return N})),n.d(e,"destroyTextureCache",(function(){return Y})),n.d(e,"determineCrossOrigin",(function(){return K})),n.d(e,"getBufferType",(function(){return E})),n.d(e,"getResolutionOfUrl",(function(){return q})),n.d(e,"hex2rgb",(function(){return g})),n.d(e,"hex2string",(function(){return y})),n.d(e,"interleaveTypedArrays",(function(){return k})),n.d(e,"isPow2",(function(){return O})),n.d(e,"isWebGLSupported",(function(){return f})),n.d(e,"log2",(function(){return L})),n.d(e,"nextPow2",(function(){return C})),n.d(e,"premultiplyBlendMode",(function(){return _})),n.d(e,"premultiplyRgba",(function(){return x})),n.d(e,"premultiplyTint",(function(){return S})),n.d(e,"premultiplyTintToRgba",(function(){return T})),n.d(e,"removeItems",(function(){return R})),n.d(e,"rgb2hex",(function(){return b})),n.d(e,"sayHello",(function(){return p})),n.d(e,"sign",(function(){return P})),n.d(e,"skipHello",(function(){return d})),n.d(e,"string2hex",(function(){return v})),n.d(e,"trimCanvas",(function(){return z})),n.d(e,"uid",(function(){return I})),n.d(e,"url",(function(){return Z}));var r=n(32);n.d(e,"isMobile",(function(){return r.a}));var i=n(476),a=n.n(i);n.d(e,"EventEmitter",(function(){return a.a}));var o=n(477),s=n.n(o);n.d(e,"earcut",(function(){return s.a}));var u=n(223),c=n(10);r.b.RETINA_PREFIX=/@([0-9\.]+)x/,r.b.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var l,h=!1;function d(){h=!0}function p(t){var e;if(!h){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var n=["\n %c %c %c PixiJS 6.0.0 -  "+t+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=self.console).log.apply(e,n)}else self.console&&self.console.log("PixiJS 6.0.0 - "+t+" - http://www.pixijs.com/");h=!0}}function f(){return void 0===l&&(l=function(){var t={stencil:!0,failIfMajorPerformanceCaveat:r.b.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!self.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),i=!(!n||!n.getContextAttributes().stencil);if(n){var a=n.getExtension("WEBGL_lose_context");a&&a.loseContext()}return n=null,i}catch(t){return!1}}()),l}var m={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function g(t,e){return void 0===e&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function y(t){var e=t.toString(16);return"#"+(e="000000".substr(0,6-e.length)+e)}function v(t){return"string"==typeof t&&"#"===(t=m[t.toLowerCase()]||t)[0]&&(t=t.substr(1)),parseInt(t,16)}function b(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}var _=function(){for(var t=[],e=[],n=0;n<32;n++)t[n]=n,e[n]=n;t[c.b.NORMAL_NPM]=c.b.NORMAL,t[c.b.ADD_NPM]=c.b.ADD,t[c.b.SCREEN_NPM]=c.b.SCREEN,e[c.b.NORMAL]=c.b.NORMAL_NPM,e[c.b.ADD]=c.b.ADD_NPM,e[c.b.SCREEN]=c.b.SCREEN_NPM;var r=[];return r.push(e),r.push(t),r}();function w(t,e){return _[e?1:0][t]}function x(t,e,n,r){return n=n||new Float32Array(4),r||void 0===r?(n[0]=t[0]*e,n[1]=t[1]*e,n[2]=t[2]*e):(n[0]=t[0],n[1]=t[1],n[2]=t[2]),n[3]=e,n}function S(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var n=t>>16&255,r=t>>8&255,i=255&t;return(255*e<<24)+((n=n*e+.5|0)<<16)+((r=r*e+.5|0)<<8)+(i=i*e+.5|0)}function T(t,e,n,r){return(n=n||new Float32Array(4))[0]=(t>>16&255)/255,n[1]=(t>>8&255)/255,n[2]=(255&t)/255,(r||void 0===r)&&(n[0]*=e,n[1]*=e,n[2]*=e),n[3]=e,n}function M(t,e){void 0===e&&(e=null);var n=6*t;if((e=e||new Uint16Array(n)).length!==n)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+n);for(var r=0,i=0;r<n;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function E(t){if(4===t.BYTES_PER_ELEMENT)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===t.BYTES_PER_ELEMENT){if(t instanceof Uint16Array)return"Uint16Array"}else if(1===t.BYTES_PER_ELEMENT&&t instanceof Uint8Array)return"Uint8Array";return null}var A={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function k(t,e){for(var n=0,r=0,i={},a=0;a<t.length;a++)r+=e[a],n+=t[a].length;var o=new ArrayBuffer(4*n),s=null,u=0;for(a=0;a<t.length;a++){var c=e[a],l=t[a],h=E(l);i[h]||(i[h]=new A[h](o)),s=i[h];for(var d=0;d<l.length;d++){s[(d/c|0)*r+u+d%c]=l[d]}u+=c}return new Float32Array(o)}function C(t){return t+=0===t?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,(t|=t>>>16)+1}function O(t){return!(t&t-1||!t)}function L(t){var e=(t>65535?1:0)<<4,n=((t>>>=e)>255?1:0)<<3;return e|=n,e|=n=((t>>>=n)>15?1:0)<<2,(e|=n=((t>>>=n)>3?1:0)<<1)|(t>>>=n)>>1}function R(t,e,n){var r,i=t.length;if(!(e>=i||0===n)){var a=i-(n=e+n>i?i-e:n);for(r=e;r<a;++r)t[r]=t[r+n];t.length=a}}function P(t){return 0===t?0:t<0?-1:1}var D=0;function I(){return++D}var B={};function N(t,e,n){if(void 0===n&&(n=3),!B[e]){var r=(new Error).stack;void 0===r||(r=r.split("\n").splice(n).join("\n"),console.groupCollapsed),B[e]=!0}}var j={},F=Object.create(null),U=Object.create(null);function Y(){var t;for(t in F)F[t].destroy();for(t in U)U[t].destroy()}function G(){var t;for(t in F)delete F[t];for(t in U)delete U[t]}var H=function(){function t(t,e,n){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||r.b.RESOLUTION,this.resize(t,e)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(t){this.canvas.width=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(t){this.canvas.height=t},enumerable:!1,configurable:!0}),t}();function z(t){var e,n,r,i=t.width,a=t.height,o=t.getContext("2d"),s=o.getImageData(0,0,i,a).data,u=s.length,c={top:null,left:null,right:null,bottom:null},l=null;for(e=0;e<u;e+=4)0!==s[e+3]&&(n=e/4%i,r=~~(e/4/i),null===c.top&&(c.top=r),(null===c.left||n<c.left)&&(c.left=n),(null===c.right||c.right<n)&&(c.right=n+1),(null===c.bottom||c.bottom<r)&&(c.bottom=r));return null!==c.top&&(i=c.right-c.left,a=c.bottom-c.top+1,l=o.getImageData(c.left,c.top,i,a)),{height:a,width:i,data:l}}var V,W=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function X(t){var e=W.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function K(t,e){if(void 0===e&&(e=self.location),0===t.indexOf("data:"))return"";e=e||self.location,V||(V=document.createElement("a")),V.href=t;var n=Object(u.parse)(V.href),r=!n.port&&""===e.port||n.port===e.port;return n.hostname===e.hostname&&r&&n.protocol===e.protocol?"":"anonymous"}function q(t,e){var n=r.b.RETINA_PREFIX.exec(t);return n?parseFloat(n[1]):void 0!==e?e:1}var Z={parse:u.parse,format:u.format,resolve:u.resolve}},function(t,e,n){"use strict";var r,i,a,o,s=n(41),u=n(152),c=n(54),l=n(153),h=n(460),d=n(118),p=n(233),f=n(192),m=n(164),g=n(208),y=n(98),v=n(165),b=n(180),_=n(282),w=n(285),x=n(234),S=n(182),T=n(462).set,M=n(576),E=n(465),A=n(578),k=n(466),C=n(579),O=n(137),L=n(207),R=n(86),P=n(580),D=n(287),I=n(228),B=R("species"),N="Promise",j=O.get,F=O.set,U=O.getterFor(N),Y=h&&h.prototype,G=h,H=Y,z=c.TypeError,V=c.document,W=c.process,X=k.f,K=X,q=!!(V&&V.createEvent&&c.dispatchEvent),Z="function"==typeof PromiseRejectionEvent,J=!1,Q=L(N,(function(){var t=_(G)!==String(G);if(!t&&66===I)return!0;if(u&&!H.finally)return!0;if(I>=51&&/native code/.test(G))return!1;var e=new G((function(t){t(1)})),n=function(t){t((function(){}),(function(){}))};return(e.constructor={})[B]=n,!(J=e.then((function(){}))instanceof n)||!t&&P&&!Z})),$=Q||!x((function(t){G.all(t).catch((function(){}))})),tt=function(t){var e;return!(!y(t)||"function"!=typeof(e=t.then))&&e},et=function(t,e){if(!t.notified){t.notified=!0;var n=t.reactions;M((function(){for(var r=t.value,i=1==t.state,a=0;n.length>a;){var o,s,u,c=n[a++],l=i?c.ok:c.fail,h=c.resolve,d=c.reject,p=c.domain;try{l?(i||(2===t.rejection&&at(t),t.rejection=1),!0===l?o=r:(p&&p.enter(),o=l(r),p&&(p.exit(),u=!0)),o===c.promise?d(z("Promise-chain cycle")):(s=tt(o))?s.call(o,h,d):h(o)):d(r)}catch(t){p&&!u&&p.exit(),d(t)}}t.reactions=[],t.notified=!1,e&&!t.rejection&&rt(t)}))}},nt=function(t,e,n){var r,i;q?((r=V.createEvent("Event")).promise=e,r.reason=n,r.initEvent(t,!1,!0),c.dispatchEvent(r)):r={promise:e,reason:n},!Z&&(i=c["on"+t])?i(r):"unhandledrejection"===t&&A("Unhandled promise rejection",n)},rt=function(t){T.call(c,(function(){var e,n=t.facade,r=t.value;if(it(t)&&(e=C((function(){D?W.emit("unhandledRejection",r,n):nt("unhandledrejection",n,r)})),t.rejection=D||it(t)?2:1,e.error))throw e.value}))},it=function(t){return 1!==t.rejection&&!t.parent},at=function(t){T.call(c,(function(){var e=t.facade;D?W.emit("rejectionHandled",e):nt("rejectionhandled",e,t.value)}))},ot=function(t,e,n){return function(r){t(e,r,n)}},st=function(t,e,n){t.done||(t.done=!0,n&&(t=n),t.value=e,t.state=2,et(t,!0))},ut=function t(e,n,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===n)throw z("Promise can't be resolved itself");var i=tt(n);i?M((function(){var r={done:!1};try{i.call(n,ot(t,r,e),ot(st,r,e))}catch(t){st(r,t,e)}})):(e.value=n,e.state=1,et(e,!1))}catch(t){st({done:!1},t,e)}}};if(Q&&(H=(G=function(t){b(this,G,N),v(t),r.call(this);var e=j(this);try{t(ot(ut,e),ot(st,e))}catch(t){st(e,t)}}).prototype,(r=function(t){F(this,{type:N,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=p(H,{then:function(t,e){var n=U(this),r=X(S(this,G));return r.ok="function"!=typeof t||t,r.fail="function"==typeof e&&e,r.domain=D?W.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&et(n,!1),r.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r,e=j(t);this.promise=t,this.resolve=ot(ut,e),this.reject=ot(st,e)},k.f=X=function(t){return t===G||t===a?new i(t):K(t)},!u&&"function"==typeof h&&Y!==Object.prototype)){o=Y.then,J||(d(Y,"then",(function(t,e){var n=this;return new G((function(t,e){o.call(n,t,e)})).then(t,e)}),{unsafe:!0}),d(Y,"catch",H.catch,{unsafe:!0}));try{delete Y.constructor}catch(t){}f&&f(Y,H)}s({global:!0,wrap:!0,forced:Q},{Promise:G}),m(G,N,!1,!0),g(N),a=l(N),s({target:N,stat:!0,forced:Q},{reject:function(t){var e=X(this);return e.reject.call(void 0,t),e.promise}}),s({target:N,stat:!0,forced:u||Q},{resolve:function(t){return E(u&&this===a?G:this,t)}}),s({target:N,stat:!0,forced:$},{all:function(t){var e=this,n=X(e),r=n.resolve,i=n.reject,a=C((function(){var n=v(e.resolve),a=[],o=0,s=1;w(t,(function(t){var u=o++,c=!1;a.push(void 0),s++,n.call(e,t).then((function(t){c||(c=!0,a[u]=t,--s||r(a))}),i)})),--s||r(a)}));return a.error&&i(a.value),n.promise},race:function(t){var e=this,n=X(e),r=n.reject,i=C((function(){var i=v(e.resolve);w(t,(function(t){i.call(e,t).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}})},function(t,e,n){var r=n(54),i=n(474),a=n(15),o=n(125),s=n(86),u=s("iterator"),c=s("toStringTag"),l=a.values;for(var h in i){var d=r[h],p=d&&d.prototype;if(p){if(p[u]!==l)try{o(p,u,l)}catch(t){p[u]=l}if(p[c]||o(p,c,h),i[h])for(var f in a)if(p[f]!==a[f])try{o(p,f,a[f])}catch(t){p[f]=a[f]}}}},function(t,e,n){(function(t){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=function(t){"use strict";var n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var i=e&&e.prototype instanceof d?e:d,a=Object.create(i.prototype),o=new T(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return E()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=w(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,o),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var h={};function d(){}function p(){}function f(){}var m={};u(m,a,(function(){return this}));var g=Object.getPrototypeOf,y=g&&g(g(M([])));y&&y!==n&&r.call(y,a)&&(m=y);var v=f.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,n){var i;this._invoke=function(a,o){function s(){return new n((function(i,s){!function i(a,o,s,u){var c=l(t[a],t,o);if("throw"!==c.type){var h=c.arg,d=h.value;return d&&"object"===e(d)&&r.call(d,"__await")?n.resolve(d.__await).then((function(t){i("next",t,s,u)}),(function(t){i("throw",t,s,u)})):n.resolve(d).then((function(t){h.value=t,s(h)}),(function(t){return i("throw",t,s,u)}))}u(c.arg)}(a,o,i,s)}))}return i=i?i.then(s,s):s()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function T(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function M(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,i=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:E}}function E(){return{value:void 0,done:!0}}return p.prototype=f,u(v,"constructor",f),u(f,"constructor",p),p.displayName=u(f,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===p||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,u(t,s,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},b(_.prototype),u(_.prototype,o,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new _(c(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},b(v),u(v,s,"Generator"),u(v,a,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=M,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,r){return o.type="throw",o.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var s=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:M(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}("object"===e(t)?t.exports:{});try{regeneratorRuntime=n}catch(t){"object"===("undefined"==typeof globalThis?"undefined":e(globalThis))?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}}).call(this,n(136)(t))},function(t,e,n){"use strict";var r=n(294).charAt,i=n(137),a=n(295),o=i.set,s=i.getterFor("String Iterator");a(String,"String",(function(t){o(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=s(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=r(n,i),e.index+=t.length,{value:t,done:!1})}))},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(41),a=n(54),o=n(153),s=n(152),u=n(105),c=n(281),l=n(456),h=n(50),d=n(109),p=n(236),f=n(98),m=n(102),g=n(113),y=n(131),v=n(190),b=n(177),_=n(167),w=n(213),x=n(179),S=n(583),T=n(284),M=n(138),E=n(111),A=n(231),k=n(125),C=n(118),O=n(227),L=n(230),R=n(204),P=n(203),D=n(86),I=n(472),B=n(473),N=n(164),j=n(137),F=n(122).forEach,U=L("hidden"),Y=D("toPrimitive"),G=j.set,H=j.getterFor("Symbol"),z=Object.prototype,V=a.Symbol,W=o("JSON","stringify"),X=M.f,K=E.f,q=S.f,Z=A.f,J=O("symbols"),Q=O("op-symbols"),$=O("string-to-symbol-registry"),tt=O("symbol-to-string-registry"),et=O("wks"),nt=a.QObject,rt=!nt||!nt.prototype||!nt.prototype.findChild,it=u&&h((function(){return 7!=_(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?function(t,e,n){var r=X(z,e);r&&delete z[e],K(t,e,n),r&&t!==z&&K(z,e,r)}:K,at=function(t,e){var n=J[t]=_(V.prototype);return G(n,{type:"Symbol",tag:t,description:e}),u||(n.description=e),n},ot=l?function(t){return"symbol"==r(t)}:function(t){return Object(t)instanceof V},st=function(t,e,n){t===z&&st(Q,e,n),m(t);var r=v(e,!0);return m(n),d(J,r)?(n.enumerable?(d(t,U)&&t[U][r]&&(t[U][r]=!1),n=_(n,{enumerable:b(0,!1)})):(d(t,U)||K(t,U,b(1,{})),t[U][r]=!0),it(t,r,n)):K(t,r,n)},ut=function(t,e){m(t);var n=y(e),r=w(n).concat(dt(n));return F(r,(function(e){u&&!ct.call(n,e)||st(t,e,n[e])})),t},ct=function(t){var e=v(t,!0),n=Z.call(this,e);return!(this===z&&d(J,e)&&!d(Q,e))&&(!(n||!d(this,e)||!d(J,e)||d(this,U)&&this[U][e])||n)},lt=function(t,e){var n=y(t),r=v(e,!0);if(n!==z||!d(J,r)||d(Q,r)){var i=X(n,r);return!i||!d(J,r)||d(n,U)&&n[U][r]||(i.enumerable=!0),i}},ht=function(t){var e=q(y(t)),n=[];return F(e,(function(t){d(J,t)||d(R,t)||n.push(t)})),n},dt=function(t){var e=t===z,n=q(e?Q:y(t)),r=[];return F(n,(function(t){!d(J,t)||e&&!d(z,t)||r.push(J[t])})),r};(c||(C((V=function(){if(this instanceof V)throw TypeError("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?String(arguments[0]):void 0,e=P(t),n=function t(n){this===z&&t.call(Q,n),d(this,U)&&d(this[U],e)&&(this[U][e]=!1),it(this,e,b(1,n))};return u&&rt&&it(z,e,{configurable:!0,set:n}),at(e,t)}).prototype,"toString",(function(){return H(this).tag})),C(V,"withoutSetter",(function(t){return at(P(t),t)})),A.f=ct,E.f=st,M.f=lt,x.f=S.f=ht,T.f=dt,I.f=function(t){return at(D(t),t)},u&&(K(V.prototype,"description",{configurable:!0,get:function(){return H(this).description}}),s||C(z,"propertyIsEnumerable",ct,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!c,sham:!c},{Symbol:V}),F(w(et),(function(t){B(t)})),i({target:"Symbol",stat:!0,forced:!c},{for:function(t){var e=String(t);if(d($,e))return $[e];var n=V(e);return $[e]=n,tt[n]=e,n},keyFor:function(t){if(!ot(t))throw TypeError(t+" is not a symbol");if(d(tt,t))return tt[t]},useSetter:function(){rt=!0},useSimple:function(){rt=!1}}),i({target:"Object",stat:!0,forced:!c,sham:!u},{create:function(t,e){return void 0===e?_(t):ut(_(t),e)},defineProperty:st,defineProperties:ut,getOwnPropertyDescriptor:lt}),i({target:"Object",stat:!0,forced:!c},{getOwnPropertyNames:ht,getOwnPropertySymbols:dt}),i({target:"Object",stat:!0,forced:h((function(){T.f(1)}))},{getOwnPropertySymbols:function(t){return T.f(g(t))}}),W)&&i({target:"JSON",stat:!0,forced:!c||h((function(){var t=V();return"[null]"!=W([t])||"{}"!=W({a:t})||"{}"!=W(Object(t))}))},{stringify:function(t,e,n){for(var r,i=[t],a=1;arguments.length>a;)i.push(arguments[a++]);if(r=e,(f(e)||void 0!==t)&&!ot(t))return p(e)||(e=function(t,e){if("function"==typeof r&&(e=r.call(this,t,e)),!ot(e))return e}),i[1]=e,W.apply(null,i)}});V.prototype[Y]||k(V.prototype,Y,V.prototype.valueOf),N(V,"Symbol"),R[U]=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SignalConnections=e.Signal=e.CollectorWhile0=e.CollectorUntil0=e.CollectorLast=e.CollectorArray=e.Collector=void 0;var r=n(215);Object.defineProperty(e,"Collector",{enumerable:!0,get:function(){return r.Collector}});var i=n(597);Object.defineProperty(e,"CollectorArray",{enumerable:!0,get:function(){return i.CollectorArray}});var a=n(598);Object.defineProperty(e,"CollectorLast",{enumerable:!0,get:function(){return a.CollectorLast}});var o=n(599);Object.defineProperty(e,"CollectorUntil0",{enumerable:!0,get:function(){return o.CollectorUntil0}});var s=n(600);Object.defineProperty(e,"CollectorWhile0",{enumerable:!0,get:function(){return s.CollectorWhile0}});var u=n(601);Object.defineProperty(e,"Signal",{enumerable:!0,get:function(){return u.Signal}});var c=n(605);Object.defineProperty(e,"SignalConnections",{enumerable:!0,get:function(){return c.SignalConnections}})},function(t,e,n){"use strict";n.d(e,"i",(function(){return i.a})),n.d(e,"n",(function(){return i.b})),n.d(e,"s",(function(){return i.c})),n.d(e,"f",(function(){return a.b})),n.d(e,"g",(function(){return a.c})),n.d(e,"c",(function(){return o.a})),n.d(e,"m",(function(){return o.c})),n.d(e,"q",(function(){return o.d})),n.d(e,"b",(function(){return s.a})),n.d(e,"l",(function(){return s.b})),n.d(e,"p",(function(){return s.c})),n.d(e,"k",(function(){return r})),n.d(e,"j",(function(){return u})),n.d(e,"t",(function(){return c})),n.d(e,"h",(function(){return l.c})),n.d(e,"e",(function(){return l.a})),n.d(e,"r",(function(){return l.d})),n.d(e,"a",(function(){return d})),n.d(e,"d",(function(){return p.a})),n.d(e,"o",(function(){return p.b}));var r,i=n(79),a=n(53),o=(n(247),n(40)),s=n(110);n(194),n(5),n(169);!function(t){t[t.DEFAULT=0]="DEFAULT",t[t.WINTER=1]="WINTER"}(r||(r={}));var u={default:{id:r.DEFAULT,manifest:"default"},winter:{id:r.WINTER,manifest:"winter",start:"20 May 2021",end:"30 June 2021"}},c=function(t){return Object.values(u).find((function(e){return e.id===t}))},l=n(82),h=n(4),d=[h.a.SCREEN_ID.COUNTRY_SELECT,h.a.SCREEN_ID.LEAGUES,h.a.SCREEN_ID.CAPTAIN_SELECT,h.a.SCREEN_ID.PLAYER_SELECT,h.a.SCREEN_ID.PLAYER_SELECT_2,h.a.SCREEN_ID.KEEPER_SELECT,h.a.SCREEN_ID.TEAM_REVIEW],p=n(49);n(248)},function(t,e,n){"use strict";n.r(e),n.d(e,"LegacyUtils",(function(){return c}));n(38),n(106),n(42),n(216);var r=n(0),i=n(7),a=n(12),o={},s=new a.Texture,u=new a.Vector3,c={trimTexture:function(t,e,n,r,i){e=e||0,n=n||0,r=r||0,i=i||0;var a=t._frame;a.x+=e,a.y+=r,a.width-=e+n,a.height-=r+i,t.frame=a,t.updateUvs()},getTexture:function(t){var e=new a.Texture;return e.image=r.Texture.from(t).baseTexture.resource.source,e.needsUpdate=!0,e},getTexturesFromFrames:function(t){for(var e=[],n=0;n<t.length;n++){var i=r.Texture.from(t[n]);i.updateUvs(),e.push(i)}return e},getTexturesFromImages:function(t){for(var e=[],n=0;n<t.length;n++)e.push(r.Texture.from(t[n]));return e},getTexturesFromFramesWithPrefix:function(t,e,n,i){var a,o=[];void 0===n&&(n=0);for(var s=0;s<e;s++){var u=s+n;a=t.replace("%%",String(u<10?"0"+u:u)),i&&(a=t.replace("%%",String(u))),o.push(r.Texture.from(a))}return o},getMesh:function(t,e,n){var i=new a.MeshBasicMaterial({map:s});i.transparent=!0,i.alphaTest=.25,i.side=a.DoubleSide;var o=new a.PlaneGeometry(200,200),u=new a.Mesh(o,i);if(t){var l=r.Texture.from(t);l.updateUvs(),c.setUvs(u,l,e,n)}return u},setUvs:function(t,e,n,r){var i=e.baseTexture.uid;if(!o[i]){var s=new a.Texture;s.image=e.baseTexture.resource.source,s.flipY=!1,s.needsUpdate=!0,s.wrapS=a.ClampToEdgeWrapping,s.wrapT=a.ClampToEdgeWrapping,s.minFilter=a.LinearFilter,s.magFilter=a.LinearFilter,o[i]=s}var u=o[i],c=t.geometry;t.material.map=u;var l=c.faceVertexUvs[0],h=l[0],d=l[1];h[0].x=e._uvs.x3,h[0].y=e._uvs.y3,h[1].x=e._uvs.x0,h[1].y=e._uvs.y0,h[2].x=e._uvs.x2,h[2].y=e._uvs.y2,d[0].x=e._uvs.x0,d[0].y=e._uvs.y0,d[1].x=e._uvs.x1,d[1].y=e._uvs.y1,d[2].x=e._uvs.x2,d[2].y=e._uvs.y2,c.uvsNeedUpdate=!0,n=n||.5,r=r||.85;var p=e.orig,f=e.trim;f?(t.position.x=f.width+2*f.x,t.position.x-=p.width*n*2,t.position.y=f.height+2*f.y,t.position.y-=p.height*r*2,t.scale.x=f.width/100,t.scale.y=f.height/100):(f=e._frame,t.scale.x=f.width/100,t.scale.y=f.height/100,t.position.x=f.width/2-p.width*n*2,t.position.y=f.height/2-p.height*r*2)},toScreenPosition:function(t,e,n,r,i){var a=.5*e,o=.5*n;return t.updateMatrixWorld(),u.setFromMatrixPosition(t.matrixWorld),u.project(r),u.x=u.x*a+a,u.y=-u.y*o+o,i.x=u.x,i.y=u.y,i},getPixiTexture:function(t){var e=i.e.extract.image(t),n=new a.Texture;return n.image=e,n.wrapS=a.ClampToEdgeWrapping,n.wrapT=a.ClampToEdgeWrapping,n.minFilter=a.LinearFilter,n.magFilter=a.LinearFilter,n.needsUpdate=!0,n}}},function(t,e,n){"use strict";var r=n(41),i=n(241);r({target:"String",proto:!0,forced:n(242)("anchor")},{anchor:function(t){return i(this,"a","name",t)}})},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"d",(function(){return a})),n.d(e,"c",(function(){return o}));n(127);var r={playButton:"STR_PLAY_BUTTON",loader:{loading:"STR_LOADER_LOADING"},sponsor:{path:"img/content/banners/banners-default/main-menu-sponsor.jpg",url:"www.google.co.uk"},title_screen:{leagues:"STR_TITLE_LEAGUES",tournament:"STR_TITLE_TOURNAMENT",leaderboard:"STR_TITLE_LEADERBOARD",updateBrowser:"STR_BROWSER_SUPPORT",unlockables:"STR_TITLE_UNLOCKABLES",challenges:"STR_TITLE_CHALLENGES",userStats:"STR_TITLE_USER_STATS"},unlockables_screen:{characters:"STR_TITLE_CHARACTERS",stadiums:"STR_TITLE_STADIUMS",rewards:"STR_TITLE_REWARDS",stats:"STR_TITLE_STATS",balls:"STR_TITLE_BALLS",kits:"STR_TITLE_KITS"},country_select_screen:{title:"STR_COUNTRY_SELECT_TITLE",toolTip:"STR_COUNTRY_RANKING"},captain_select_screen:{title:"STR_CAPTAIN_SELECT_TITLE"},player1_select_screen:{title:"STR_PLAYER1_SELECT_TITLE"},player2_select_screen:{title:"STR_PLAYER2_SELECT_TITLE"},keeper_select_screen:{title:"STR_KEEPER_SELECT_TITLE"},review_screen:{title:"STR_REVIEW_TITLE"},instructions_screen:{title:"STR_INSTRUCTIONS_TITLE",movement:"STR_INSTRUCTIONS_MOVEMENT",tackle:"STR_INSTRUCTIONS_TACKLE",shortPass:"STR_INSTRUCTIONS_PASS",specialShot:"STR_INSTRUCTIONS_SHOT",tackleKey:"Z",specialShotKey:"X"},team_select_screen:{title:"STR_TEAM_SELECT_TITLE",captain:"STR_TEAM_SELECT_CAPTAIN",players:"STR_TEAM_SELECT_PLAYERS"},tournament_screen:{title:"STR_TOURNAMENT_TITLE",playButton:"STR_PLAY_BUTTON",endButton:"STR_TOURNAMENT_END_BUTTON",stages:{quarter:"STR_TOURNAMENT_QUARTERS",semi:"STR_TOURNAMENT_SEMI",final:"STR_TOURNAMENT_FINALS",winner:"STR_TOURNAMENT_WINNER"}},gameover_screen:{title:"STR_GAMEOVER_TITLE"},leaderboard_screen:{title:"STR_LEADERBOARD_TITLE"},game_screen:{goal:"STR_GAME_GOAL",goldenGoal:"STR_GAME_GOLDEN_GOAL"},succeed_screen:{title:"STR_GAME_WIN"},fail_screen:{title:"STR_GAME_FAIL"},pause_overlay:{title:"STR_PAUSED"},quit_overlay:{title:"STR_QUIT"},regions:{WE:{ID:"WE",REGION_ID:1,NAME:"STR_REGION_WESTERNEUROPE",ANALYTICS:"emea",BUTTON:"button_western_europe.png",MAP:"map-western-europe.png",MAP_X:0,MAP_Y:0},EE:{ID:"EE",REGION_ID:4,NAME:"STR_REGION_EASTERNEUROPE",ANALYTICS:"emea",BUTTON:"button_eastern_europe.png",MAP:"map-eastern-europe.png",MAP_X:0,MAP_Y:0},AF:{ID:"AF",REGION_ID:5,NAME:"STR_REGION_AFRICAMIDDLEEAST",ANALYTICS:"emea",BUTTON:"button_africa_middle_east.png",MAP:"map-africa.png",MAP_X:0,MAP_Y:0},ME:{ID:"ME",REGION_ID:3,NAME:"STR_REGION_AFRICAMIDDLEEAST",ANALYTICS:"emea",BUTTON:"button_africa_middle_east.png",MAP:"map-middleeast.png",MAP_X:0,MAP_Y:0},AS:{ID:"AS",REGION_ID:6,NAME:"STR_REGION_ASIAPACIFIC",ANALYTICS:"apac",BUTTON:"button_asian_pacific.png",MAP:"map-asia.png",MAP_X:0,MAP_Y:0},AM:{ID:"AM",REGION_ID:2,NAME:"STR_REGION_AMERICAS",ANALYTICS:"latam",BUTTON:"button_americas.png",MAP:"map-americas.png",MAP_X:0,MAP_Y:0}},countries:{SN:{ID:"SN",SCORE_ID:1,NAME:"STR_COUNTRY_SENEGAL",REGION:5,FLAG:"flag_senegal.png"},TN:{ID:"TN",SCORE_ID:2,NAME:"STR_COUNTRY_TUNISIA",REGION:5,FLAG:"flag_tunisia.png"},CG:{ID:"CG",SCORE_ID:3,NAME:"STR_COUNTRY_CONGO",REGION:5,FLAG:"flag_congo.png"},MA:{ID:"MA",SCORE_ID:4,NAME:"STR_COUNTRY_MOROCCO",REGION:5,FLAG:"flag_morocco.png"},BF:{ID:"BF",SCORE_ID:5,NAME:"STR_COUNTRY_BURKINAFASO",REGION:5,FLAG:"flag_burkina_faso.png"},CM:{ID:"CM",SCORE_ID:6,NAME:"STR_COUNTRY_CAMEROON",REGION:5,FLAG:"flag_cameroon.png"},GH:{ID:"GH",SCORE_ID:7,NAME:"STR_COUNTRY_GHANA",REGION:5,FLAG:"flag_ghana.png"},NG:{ID:"NG",SCORE_ID:8,NAME:"STR_COUNTRY_NIGERIA",REGION:5,FLAG:"flag_nigeria.png"},DZ:{ID:"DZ",SCORE_ID:9,NAME:"STR_COUNTRY_ALGERIA",REGION:5,FLAG:"flag_algeria.png"},ZA:{ID:"ZA",SCORE_ID:10,NAME:"STR_COUNTRY_SOUTHAFRICA",REGION:5,FLAG:"flag_south_africa.png"},KE:{ID:"KE",SCORE_ID:79,NAME:"STR_COUNTRY_KENYA",REGION:5,FLAG:"flag_kenya.png"},ET:{ID:"ET",SCORE_ID:80,NAME:"STR_COUNTRY_ETHIOPIA",REGION:5,FLAG:"flag_ethiopia.png"},AO:{ID:"AO",SCORE_ID:81,NAME:"STR_COUNTRY_ANGOLA",REGION:5,FLAG:"flag_angola.png"},ZM:{ID:"ZM",SCORE_ID:82,NAME:"STR_COUNTRY_ZAMBIA",REGION:5,FLAG:"flag_zambia.png"},RW:{ID:"RW",SCORE_ID:83,NAME:"STR_COUNTRY_RWANDA",REGION:5,FLAG:"flag_rwanda.png"},EG:{ID:"EG",SCORE_ID:11,NAME:"STR_COUNTRY_EGYPT",REGION:3,FLAG:"flag_egypt.png"},IR:{ID:"IR",SCORE_ID:12,NAME:"STR_COUNTRY_IRAN",REGION:3,FLAG:"flag_iran.png"},SA:{ID:"SA",SCORE_ID:14,NAME:"STR_COUNTRY_SAUDIARABIA",REGION:3,FLAG:"flag_saudi_arabia.png"},AE:{ID:"AE",SCORE_ID:15,NAME:"STR_COUNTRY_UNITEDARABEMIRATES",REGION:3,FLAG:"flag_united_arab_emirates.png"},QT:{ID:"QT",SCORE_ID:74,NAME:"STR_COUNTRY_QATAR",REGION:3,FLAG:"flag_qatar.png"},IQ:{ID:"IQ",SCORE_ID:76,NAME:"STR_COUNTRY_IRAQ",REGION:3,FLAG:"flag_iraq.png"},JO:{ID:"JO",SCORE_ID:77,NAME:"STR_COUNTRY_JORDAN",REGION:3,FLAG:"flag_jordan.png"},LB:{ID:"LB",SCORE_ID:78,NAME:"STR_COUNTRY_LEBANON",REGION:3,FLAG:"flag_lebanon.png"},JP:{ID:"JP",SCORE_ID:16,NAME:"STR_COUNTRY_JAPAN",REGION:6,FLAG:"flag_japan.png"},KR:{ID:"KR",SCORE_ID:17,NAME:"STR_COUNTRY_SOUTHKOREA",REGION:6,FLAG:"flag_south_korea.png"},TH:{ID:"TH",SCORE_ID:18,NAME:"STR_COUNTRY_THAILAND",REGION:6,FLAG:"flag_thailand.png"},CN:{ID:"CN",SCORE_ID:19,NAME:"STR_COUNTRY_CHINA",REGION:6,FLAG:"flag_china.png"},SG:{ID:"SG",SCORE_ID:20,NAME:"STR_COUNTRY_SINGAPORE",REGION:6,FLAG:"flag_singapore.png"},MY:{ID:"MY",SCORE_ID:21,NAME:"STR_COUNTRY_MALAYSIA",REGION:6,FLAG:"flag_malaysia.png"},TW:{ID:"TW",SCORE_ID:22,NAME:"STR_COUNTRY_TAIWAN",REGION:6,FLAG:"flag_taiwan.png"},LA:{ID:"LA",SCORE_ID:23,NAME:"STR_COUNTRY_LAOS",REGION:6,FLAG:"flag_laos.png"},VN:{ID:"VN",SCORE_ID:24,NAME:"STR_COUNTRY_VIETNAM",REGION:6,FLAG:"flag_vietnam.png"},PH:{ID:"PH",SCORE_ID:25,NAME:"STR_COUNTRY_PHILIPPINES",REGION:6,FLAG:"flag_philippines.png"},ID:{ID:"ID",SCORE_ID:26,NAME:"STR_COUNTRY_INDONESIA",REGION:6,FLAG:"indonesia.png"},IN:{ID:"IN",SCORE_ID:27,NAME:"STR_COUNTRY_INDIA",REGION:6,FLAG:"flag_india.png"},PK:{ID:"PK",SCORE_ID:28,NAME:"STR_COUNTRY_PAKISTAN",REGION:6,FLAG:"flag_pakistan.png"},AU:{ID:"AU",SCORE_ID:29,NAME:"STR_COUNTRY_AUSTRALIA",REGION:6,FLAG:"flag_australia.png"},NZ:{ID:"NZ",SCORE_ID:30,NAME:"STR_COUNTRY_NEWZEALAND",REGION:6,FLAG:"flag_new_zealand.png"},PL:{ID:"PL",SCORE_ID:31,NAME:"STR_COUNTRY_POLAND",REGION:4,FLAG:"flag_poland.png"},HR:{ID:"HR",SCORE_ID:32,NAME:"STR_COUNTRY_CROATIA",REGION:4,FLAG:"flag_croatia.png"},SK:{ID:"SK",SCORE_ID:33,NAME:"STR_COUNTRY_SLOVAKIA",REGION:4,FLAG:"flag_slovakia.png"},AT:{ID:"AT",SCORE_ID:34,NAME:"STR_COUNTRY_AUSTRIA",REGION:4,FLAG:"flag_austria.png"},UA:{ID:"UA",SCORE_ID:35,NAME:"STR_COUNTRY_UKRAINE",REGION:4,FLAG:"flag_ukraine.png"},RS:{ID:"RS",SCORE_ID:36,NAME:"STR_COUNTRY_SERBIA",REGION:4,FLAG:"flag_serbia.png"},BA:{ID:"BA",SCORE_ID:37,NAME:"STR_COUNTRY_BOSNIAANDHERZEGOVINA",REGION:4,FLAG:"flag_bosnia_herzegovina.png"},RO:{ID:"RO",SCORE_ID:38,NAME:"STR_COUNTRY_ROMANIA",REGION:4,FLAG:"flag_romania.png"},BG:{ID:"BG",SCORE_ID:39,NAME:"STR_COUNTRY_BULGARIA",REGION:4,FLAG:"flag_bulgaria.png"},ME:{ID:"ME",SCORE_ID:40,NAME:"STR_COUNTRY_MONTENEGRO",REGION:4,FLAG:"flag_montenegro.png"},GR:{ID:"GR",SCORE_ID:41,NAME:"STR_COUNTRY_GREECE",REGION:4,FLAG:"flag_greece.png"},CZ:{ID:"CZ",SCORE_ID:42,NAME:"STR_COUNTRY_CZECHREPUBLIC",REGION:4,FLAG:"flag_czech_republic.png"},HU:{ID:"HU",SCORE_ID:43,NAME:"STR_COUNTRY_HUNGARY",REGION:4,FLAG:"flag_hungary.png"},RU:{ID:"RU",SCORE_ID:44,NAME:"STR_COUNTRY_RUSSIA",REGION:4,FLAG:"flag_russia.png"},TR:{ID:"TR",SCORE_ID:13,NAME:"STR_COUNTRY_TURKEY",REGION:4,FLAG:"flag_turkey.png"},US:{ID:"US",SCORE_ID:45,NAME:"STR_COUNTRY_USA",REGION:2,FLAG:"flag_usa.png"},MX:{ID:"MX",SCORE_ID:46,NAME:"STR_COUNTRY_MEXICO",REGION:2,FLAG:"flag_mexico.png"},CR:{ID:"CR",SCORE_ID:47,NAME:"STR_COUNTRY_COSTARICA",REGION:2,FLAG:"flag_costa_rica.png"},PA:{ID:"PA",SCORE_ID:48,NAME:"STR_COUNTRY_PANAMA",REGION:2,FLAG:"flag_panama.png"},BR:{ID:"BR",SCORE_ID:49,NAME:"STR_COUNTRY_BRAZIL",REGION:2,FLAG:"flag_brazil.png"},AR:{ID:"AR",SCORE_ID:50,NAME:"STR_COUNTRY_ARGENTINA",REGION:2,FLAG:"flag_argentina.png"},CL:{ID:"CL",SCORE_ID:51,NAME:"STR_COUNTRY_CHILE",REGION:2,FLAG:"flag_chile.png"},PE:{ID:"PE",SCORE_ID:52,NAME:"STR_COUNTRY_PERU",REGION:2,FLAG:"flag_peru.png"},CO:{ID:"CO",SCORE_ID:53,NAME:"STR_COUNTRY_COLOMBIA",REGION:2,FLAG:"flag_colombia.png"},UY:{ID:"UY",SCORE_ID:54,NAME:"STR_COUNTRY_URUGUAY",REGION:2,FLAG:"flag_uruguay.png"},PY:{ID:"PY",SCORE_ID:55,NAME:"STR_COUNTRY_PARAGUAY",REGION:2,FLAG:"flag_paraguay.png"},BO:{ID:"BO",SCORE_ID:56,NAME:"STR_COUNTRY_BOLIVIA",REGION:2,FLAG:"flag_bolivia.png"},VE:{ID:"VE",SCORE_ID:57,NAME:"STR_COUNTRY_VENEZUELA",REGION:2,FLAG:"flag_venezuela.png"},EC:{ID:"EC",SCORE_ID:75,NAME:"STR_COUNTRY_ECUADOR",REGION:2,FLAG:"flag_ecuador.png"},DE:{ID:"DE",SCORE_ID:58,NAME:"STR_COUNTRY_GERMANY",REGION:1,FLAG:"flag_germany.png"},PT:{ID:"PT",SCORE_ID:59,NAME:"STR_COUNTRY_PORTUGAL",REGION:1,FLAG:"flag_portugal.png"},BE:{ID:"BE",SCORE_ID:60,NAME:"STR_COUNTRY_BELGIUM",REGION:1,FLAG:"flag_belgium.png"},ES:{ID:"ES",SCORE_ID:61,NAME:"STR_COUNTRY_SPAIN",REGION:1,FLAG:"flag_spain.png"},FR:{ID:"FR",SCORE_ID:62,NAME:"STR_COUNTRY_FRANCE",REGION:1,FLAG:"flag_france.png"},DK:{ID:"DK",SCORE_ID:63,NAME:"STR_COUNTRY_DENMARK",REGION:1,FLAG:"flag_denmark.png"},IT:{ID:"IT",SCORE_ID:64,NAME:"STR_COUNTRY_ITALY",REGION:1,FLAG:"flag_italy.png"},GB:{ID:"GB",SCORE_ID:65,NAME:"STR_COUNTRY_ENGLAND",REGION:1,FLAG:"flag_england.png"},SE:{ID:"SE",SCORE_ID:66,NAME:"STR_COUNTRY_SWEDEN",REGION:1,FLAG:"flag_sweden.png"},WA:{ID:"WA",SCORE_ID:67,NAME:"STR_COUNTRY_WALES",REGION:1,FLAG:"flag_wales.png"},NL:{ID:"NL",SCORE_ID:68,NAME:"STR_COUNTRY_NETHERLANDS",REGION:1,FLAG:"flag_netherlands.png"},IX:{ID:"IX",SCORE_ID:69,NAME:"STR_COUNTRY_NORTHERNIRELAND",REGION:1,FLAG:"flag_northern_ireland.png"},IE:{ID:"IE",SCORE_ID:70,NAME:"STR_COUNTRY_REPUBLICOFIRELAND",REGION:1,FLAG:"flag_ireland.png"},SC:{ID:"SC",SCORE_ID:71,NAME:"STR_COUNTRY_SCOTLAND",REGION:1,FLAG:"flag_scotland.png"},NO:{ID:"NO",SCORE_ID:72,NAME:"STR_COUNTRY_NORWAY",REGION:1,FLAG:"flag_norway.png"},WS:{ID:"WS",SCORE_ID:73,NAME:"STR_COUNTRY_WORLDALLSTARS",REGION:0,FLAG:"flag_allstar.png"}},country_codes:{BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BA:"Bosnia and Herzegovina",BB:"Barbados",WF:"Wallis and Futuna",BL:"Saint Barthelemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BT:"Bhutan",JM:"Jamaica",BV:"Bouvet Island",BW:"Botswana",WS:"Samoa",BQ:"Bonaire, Saint Eustatius and Saba ",BR:"Brazil",BS:"Bahamas",JE:"Jersey",BY:"Belarus",BZ:"Belize",RU:"Russia",RW:"Rwanda",RS:"Serbia",TL:"East Timor",RE:"Reunion",TM:"Turkmenistan",TJ:"Tajikistan",RO:"Romania",TK:"Tokelau",GW:"Guinea-Bissau",GU:"Guam",GT:"Guatemala",GS:"South Georgia and the South Sandwich Islands",GR:"Greece",GQ:"Equatorial Guinea",GP:"Guadeloupe",JP:"Japan",GY:"Guyana",GG:"Guernsey",GF:"French Guiana",GE:"Georgia",GD:"Grenada",GB:"United Kingdom",GA:"Gabon",SV:"El Salvador",GN:"Guinea",GM:"Gambia",GL:"Greenland",GI:"Gibraltar",GH:"Ghana",OM:"Oman",TN:"Tunisia",JO:"Jordan",HR:"Croatia",HT:"Haiti",HU:"Hungary",HK:"Hong Kong",HN:"Honduras",HM:"Heard Island and McDonald Islands",VE:"Venezuela",PR:"Puerto Rico",PS:"Palestinian Territory",PW:"Palau",PT:"Portugal",SJ:"Svalbard and Jan Mayen",PY:"Paraguay",IQ:"Iraq",PA:"Panama",PF:"French Polynesia",PG:"Papua New Guinea",PE:"Peru",PK:"Pakistan",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PM:"Saint Pierre and Miquelon",ZM:"Zambia",EH:"Western Sahara",EE:"Estonia",EG:"Egypt",ZA:"South Africa",EC:"Ecuador",IT:"Italy",VN:"Vietnam",SB:"Solomon Islands",ET:"Ethiopia",SO:"Somalia",ZW:"Zimbabwe",SA:"Saudi Arabia",ES:"Spain",ER:"Eritrea",ME:"Montenegro",MD:"Moldova",MG:"Madagascar",MF:"Saint Martin",MA:"Morocco",MC:"Monaco",UZ:"Uzbekistan",MM:"Myanmar",ML:"Mali",MO:"Macao",MN:"Mongolia",MH:"Marshall Islands",MK:"Macedonia",MU:"Mauritius",MT:"Malta",MW:"Malawi",MV:"Maldives",MQ:"Martinique",MP:"Northern Mariana Islands",MS:"Montserrat",MR:"Mauritania",IM:"Isle of Man",UG:"Uganda",TZ:"Tanzania",MY:"Malaysia",MX:"Mexico",IL:"Israel",FR:"France",IO:"British Indian Ocean Territory",SH:"Saint Helena",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Micronesia",FO:"Faroe Islands",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NA:"Namibia",VU:"Vanuatu",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NZ:"New Zealand",NP:"Nepal",NR:"Nauru",NU:"Niue",CK:"Cook Islands",XK:"Kosovo",CI:"Ivory Coast",CH:"Switzerland",CO:"Colombia",CN:"China",CM:"Cameroon",CL:"Chile",CC:"Cocos Islands",CA:"Canada",CG:"Republic of the Congo",CF:"Central African Republic",CD:"Democratic Republic of the Congo",CZ:"Czech Republic",CY:"Cyprus",CX:"Christmas Island",CR:"Costa Rica",CW:"Curacao",CV:"Cape Verde",CU:"Cuba",SZ:"Swaziland",SY:"Syria",SX:"Sint Maarten",KG:"Kyrgyzstan",KE:"Kenya",SS:"South Sudan",SR:"Suriname",KI:"Kiribati",KH:"Cambodia",KN:"Saint Kitts and Nevis",KM:"Comoros",ST:"Sao Tome and Principe",SK:"Slovakia",KR:"South Korea",SI:"Slovenia",KP:"North Korea",KW:"Kuwait",SN:"Senegal",SM:"San Marino",SL:"Sierra Leone",SC:"Seychelles",KZ:"Kazakhstan",KY:"Cayman Islands",SG:"Singapore",SE:"Sweden",SD:"Sudan",DO:"Dominican Republic",DM:"Dominica",DJ:"Djibouti",DK:"Denmark",VG:"British Virgin Islands",DE:"Germany",YE:"Yemen",DZ:"Algeria",US:"United States",UY:"Uruguay",YT:"Mayotte",UM:"United States Minor Outlying Islands",LB:"Lebanon",LC:"Saint Lucia",LA:"Laos",TV:"Tuvalu",TW:"Taiwan",TT:"Trinidad and Tobago",TR:"Turkey",LK:"Sri Lanka",LI:"Liechtenstein",LV:"Latvia",TO:"Tonga",LT:"Lithuania",LU:"Luxembourg",LR:"Liberia",LS:"Lesotho",TH:"Thailand",TF:"French Southern Territories",TG:"Togo",TD:"Chad",TC:"Turks and Caicos Islands",LY:"Libya",VA:"Vatican",VC:"Saint Vincent and the Grenadines",AE:"United Arab Emirates",AD:"Andorra",AG:"Antigua and Barbuda",AF:"Afghanistan",AI:"Anguilla",VI:"U.S. Virgin Islands",IS:"Iceland",IR:"Iran",AM:"Armenia",AL:"Albania",AO:"Angola",AQ:"Antarctica",AS:"American Samoa",AR:"Argentina",AU:"Australia",AT:"Austria",AW:"Aruba",IN:"India",AX:"Aland Islands",AZ:"Azerbaijan",IE:"Ireland",ID:"Indonesia",UA:"Ukraine",QA:"Qatar",MZ:"Mozambique"},languages:{id:"STR_LANGUAGE_INDONESIAN",cs:"STR_LANGUAGE_CZECH",da:"STR_LANGUAGE_DANISH",de:"STR_LANGUAGE_GERMAN",en:"STR_LANGUAGE_ENGLISH",es419:"STR_LANGUAGE_LATAMSPANISH",es:"STR_LANGUAGE_EUSPANISH",fr:"STR_LANGUAGE_FRENCH",ha:"STR_LANGUAGE_HAUSA",it:"STR_LANGUAGE_ITALIAN",sw:"STR_LANGUAGE_SWAHILI",hu:"STR_LANGUAGE_HUNGARIAN",nl:"STR_LANGUAGE_DUTCH",no:"STR_LANGUAGE_NORWEGIAN",pl:"STR_LANGUAGE_POLISH",ptbr:"STR_LANGUAGE_BRAZILIANPORTUGUESE",pt:"STR_LANGUAGE_EUPORTUGUESE",ro:"STR_LANGUAGE_ROMANIAN",sv:"STR_LANGUAGE_SWEDISH",vi:"STR_LANGUAGE_VIETNAM",tr:"STR_LANGUAGE_TURKISH",ar:"STR_LANGUAGE_ARABIC",th:"STR_LANGUAGE_THAI",ch:"STR_LANGUAGE_CHINESE",ja:"STR_LANGUAGE_JAPAN",bg:"STR_LANGUAGE_BULGARIAN",ru:"STR_LANGUAGE_RUSSIAN"},logos:{en:"en",ar:"ar",es:"es",es419:"es419",hu:"hu",ja:"jp",pl:"pl",pt:"pt",ptbr:"ptbr",ro:"ro",ru:"ru",tr:"tr",ch:"ch"},language_fonts:{en:"lubalin",fr:"lubalin",it:"lubalin",de:"lubalin",es:"lubalin",pt:"lubalin",hu:"lubalin",pl:"lubalin",ro:"lubalin",nl:"lubalin",bg:"lubalin",ru:"lubalin",tr:"lubalin",ar:"lubalin",cs:"lubalin",no:"lubalin",sv:"lubalin",da:"lubalin",ptbr:"lubalin",es419:"lubalin",ja:"lubalin",vi:"avenir",ch:"lubalin",th:"lubalin",id:"lubalin",ha:"ascender",sw:"lubalin"},analytics:{en:"en",fr:"fr",it:"it",de:"de",es:"es",pt:"pt",hu:"hu",pl:"pl",ro:"ro",nl:"nl",bg:"bg",ru:"ru",tr:"tr",ar:"ar",cs:"cs",no:"no",sv:"sv",da:"da",ptbr:"pt-BR",es419:"es-MX",ja:"ja",vi:"vi",ch:"zh",th:"th",id:"id",ha:"ha",sw:"sw"},userlang:{en:"en_UK",fr:"fr_FR",it:"it_IT",de:"de_DE",es:"es_ES",pt:"pt_PT",hu:"hu_HU",pl:"pl_PL",ro:"ro_RO",nl:"nl_NL",bg:"bg_BG",ru:"ru_RU",tr:"tr_TR",ar:"ar_AE",cs:"cs_CZ",no:"no_NO",sv:"sv_SE",da:"da_DK",ptbr:"pt-BR_BR",es419:"es_MX",ja:"ja_JP",vi:"vi_VN",ch:"zh_CN",th:"th_TH",id:"id_ID",ha:"ha_NG",sw:"sw_TZ"},language_select_texts:{STR_LANGUAGE_ENGLISH:"English",STR_LANGUAGE_FRENCH:"Franais",STR_LANGUAGE_ITALIAN:"Italiano",STR_LANGUAGE_GERMAN:"Deutsch",STR_LANGUAGE_EUSPANISH:"Castellano",STR_LANGUAGE_EUPORTUGUESE:"Portugus (Portugal)",STR_LANGUAGE_HUNGARIAN:"Magyar",STR_LANGUAGE_POLISH:"Polski",STR_LANGUAGE_ROMANIAN:"Romn",STR_LANGUAGE_DUTCH:"Nederlands",STR_LANGUAGE_BULGARIAN:"",STR_LANGUAGE_RUSSIAN:"P",STR_LANGUAGE_TURKISH:"Trke",STR_LANGUAGE_ARABIC:"",STR_LANGUAGE_CZECH:"etina",STR_LANGUAGE_NORWEGIAN:"Norsk",STR_LANGUAGE_SWEDISH:"Svenska",STR_LANGUAGE_DANISH:"Dansk",STR_LANGUAGE_BRAZILIANPORTUGUESE:"Portugus (Brasil)",STR_LANGUAGE_LATAMSPANISH:"Espaol de Amrica Latina",STR_LANGUAGE_JAPAN:"",STR_LANGUAGE_VIETNAM:"Ting Vit",STR_LANGUAGE_CHINESE:"",STR_LANGUAGE_THAI:"",STR_LANGUAGE_INDONESIAN:"Bahasa Indonesia",STR_LANGUAGE_HAUSA:"Hausa",STR_LANGUAGE_SWAHILI:"Kiswahili"}},i=function(t){var e=[];for(var n in r.countries)r.countries[n].REGION===t&&e.push(r.countries[n]);return e.sort((function(t,e){return t.NAME<e.NAME?-1:t.NAME>e.NAME?1:0})),e},a=function(t){if("World All Stars"===t)return"WS";for(var e in r.country_codes)if(r.country_codes[e]===t)return"QA"===e?"QT":e;return null},o=function(t){var e=function(){var t=[];for(var e in r.countries)t.push(r.countries[e]);return t}();for(var n in e)if(e[n].ID===t)return e[n];return null}},function(t,e,n){"use strict";var r=n(41),i=n(105),a=n(54),o=n(109),s=n(98),u=n(111).f,c=n(457),l=a.Symbol;if(i&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var h={},d=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),e=this instanceof d?new l(t):void 0===t?l():l(t);return""===t&&(h[e]=!0),e};c(d,l);var p=d.prototype=l.prototype;p.constructor=d;var f=p.toString,m="Symbol(test)"==String(l("test")),g=/^Symbol\((.*)\)[^)]+$/;u(p,"description",{configurable:!0,get:function(){var t=s(this)?this.valueOf():this,e=f.call(t);if(o(h,t))return"";var n=m?e.slice(7,-1):e.replace(g,"$1");return""===n?void 0:n}}),r({global:!0,forced:!0},{Symbol:d})}},function(t,e,n){n(473)("iterator")},,function(t,e,n){"use strict";n.d(e,"a",(function(){return b})),n.d(e,"b",(function(){return _}));var r=/iPhone/i,i=/iPod/i,a=/iPad/i,o=/\biOS-universal(?:.+)Mac\b/i,s=/\bAndroid(?:.+)Mobile\b/i,u=/Android/i,c=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,l=/Silk/i,h=/Windows Phone/i,d=/\bWindows(?:.+)ARM\b/i,p=/BlackBerry/i,f=/BB10/i,m=/Opera Mini/i,g=/\b(CriOS|Chrome)(?:.+)Mobile/i,y=/Mobile(?:.+)Firefox\b/i,v=function(t){return void 0!==t&&"MacIntel"===t.platform&&"number"==typeof t.maxTouchPoints&&t.maxTouchPoints>1&&"undefined"==typeof MSStream};var b=function(t){var e={userAgent:"",platform:"",maxTouchPoints:0};t||"undefined"==typeof navigator?"string"==typeof t?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0}):e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var n=e.userAgent,b=n.split("[FBAN");void 0!==b[1]&&(n=b[0]),void 0!==(b=n.split("Twitter"))[1]&&(n=b[0]);var _=function(t){return function(e){return e.test(t)}}(n),w={apple:{phone:_(r)&&!_(h),ipod:_(i),tablet:!_(r)&&(_(a)||v(e))&&!_(h),universal:_(o),device:(_(r)||_(i)||_(a)||_(o)||v(e))&&!_(h)},amazon:{phone:_(c),tablet:!_(c)&&_(l),device:_(c)||_(l)},android:{phone:!_(h)&&_(c)||!_(h)&&_(s),tablet:!_(h)&&!_(c)&&!_(s)&&(_(l)||_(u)),device:!_(h)&&(_(c)||_(l)||_(s)||_(u))||_(/\bokhttp\b/i)},windows:{phone:_(h),tablet:_(d),device:_(h)||_(d)},other:{blackberry:_(p),blackberry10:_(f),opera:_(m),firefox:_(y),chrome:_(g),device:_(p)||_(f)||_(m)||_(y)||_(g)},any:!1,phone:!1,tablet:!1};return w.any=w.apple.device||w.android.device||w.windows.device||w.other.device,w.phone=w.apple.phone||w.android.phone||w.windows.phone,w.tablet=w.apple.tablet||w.android.tablet||w.windows.tablet,w}(self.navigator);var _={MIPMAP_TEXTURES:1,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:function(t){var e=!0;if(b.tablet||b.phone){var n;if(b.apple.device)if(n=navigator.userAgent.match(/OS (\d+)_(\d+)?/))parseInt(n[1],10)<11&&(e=!1);if(b.android.device)if(n=navigator.userAgent.match(/Android\s([0-9.]*)/))parseInt(n[1],10)<7&&(e=!1)}return e?t:4}(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:33071,SCALE_MODE:1,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:b.apple.device?"highp":"mediump",CAN_UPLOAD_SAME_BUFFER:!b.apple.device,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1}},function(t,e,n){var r=n(41),i=n(153),a=n(165),o=n(102),s=n(98),u=n(167),c=n(594),l=n(50),h=i("Reflect","construct"),d=l((function(){function t(){}return!(h((function(){}),[],t)instanceof t)})),p=!l((function(){h((function(){}))})),f=d||p;r({target:"Reflect",stat:!0,forced:f,sham:f},{construct:function(t,e){a(t),o(e);var n=arguments.length<3?t:a(arguments[2]);if(p&&!d)return h(t,e,n);if(t==n){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var i=n.prototype,l=u(s(i)?i:Object.prototype),f=Function.apply.call(t,l,e);return s(f)?f:l}})},function(t,e,n){var r=n(54),i=n(474),a=n(584),o=n(125);for(var s in i){var u=r[s],c=u&&u.prototype;if(c&&c.forEach!==a)try{o(c,"forEach",a)}catch(t){c.forEach=a}}},function(t,e,n){var r=n(41),i=n(50),a=n(113),o=n(193),s=n(470);r({target:"Object",stat:!0,forced:i((function(){o(1)})),sham:!s},{getPrototypeOf:function(t){return o(a(t))}})},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n(244);var r=n(141),i=n(173);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o,s=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e||0,this.y=n||0,this.z=r||0}var e,n,s;return e=t,(n=[{key:"set",value:function(t,e,n){return this.x=t,this.y=e,this.z=n,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"clone",value:function(){return new t(this.x,this.y,this.z)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this}},{key:"multiplyVectors",value:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}},{key:"applyEuler",value:function(t){return o||(o=new i.a),this.applyQuaternion(o.setFromEuler(t))}},{key:"applyAxisAngle",value:function(t,e){return o||(o=new i.a),this.applyQuaternion(o.setFromAxisAngle(t,e))}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements,a=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*a,this}},{key:"applyQuaternion",value:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,a=t.y,o=t.z,s=t.w,u=s*e+a*r-o*n,c=s*n+o*e-i*r,l=s*r+i*n-a*e,h=-i*e-a*n-o*r;return this.x=u*s+h*-i+c*-o-l*-a,this.y=c*s+h*-a+l*-i-u*-o,this.z=l*s+h*-o+u*-a-c*-i,this}},{key:"project",value:function(t,e){var n=t.x,r=t.y,i=t.z,a=e.elements,o=a[0],s=a[1],u=a[2],c=a[3],l=a[4],h=a[5],d=a[6],p=a[7],f=a[8],m=a[9],g=a[10],y=a[11],v=a[12],b=a[13],_=a[14],w=1/(n*c+r*p+i*y+a[15]);return this.x=(n*o+r*l+i*f+v)*w,this.y=(n*s+r*h+i*m+b)*w,this.z=(n*u+r*d+i*g+_)*w,this}},{key:"unproject",value:function(t,e,n){var r=e.x,i=e.y,a=e.width,o=e.height,s=t.x,u=t.y,c=t.z;return s-=r,u=o-u-1,u-=i,this.x=2*s/a-1,this.y=2*u/o-1,this.z=2*c-1,this.project(this,n)}},{key:"transformDirection",value:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}},{key:"clampScalar",value:function(t,e){return u.set(t,t,t),c.set(e,e,e),this.clamp(u,c)}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)}},{key:"cross",value:function(t){return this.crossVectors(this,t)}},{key:"crossVectors",value:function(t,e){var n=t.x,r=t.y,i=t.z,a=e.x,o=e.y,s=e.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this}},{key:"projectOnVector",value:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)}},{key:"projectOnPlane",value:function(t){return l.copy(this).projectOnVector(t),this.sub(l)}},{key:"reflect",value:function(t){return this.sub(l.copy(t).multiplyScalar(2*this.dot(t)))}},{key:"angleTo",value:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(Object(r.a)(e,-1,1))}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}},{key:"setFromSpherical",value:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}},{key:"setFromSphericalCoords",value:function(t,e,n){var r=Math.sin(e)*t;return this.x=r*Math.sin(n),this.y=Math.cos(e)*t,this.z=r*Math.cos(n),this}},{key:"setFromCylindrical",value:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}},{key:"setFromCylindricalCoords",value:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this}},{key:"setFromMatrixPosition",value:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}},{key:"setFromMatrixScale",value:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this}},{key:"setFromMatrixColumn",value:function(t,e){return this.fromArray(t.elements,4*e)}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}},{key:"fromArray",value:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}},{key:"toArray",value:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}},{key:"toFixed",value:function(t){var e=Math.pow(10,t);return this.x=(this.x*e|0)/e,this.y=(this.y*e|0)/e,this.z=(this.z*e|0)/e,this}}])&&a(e.prototype,n),s&&a(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}(),u=new s,c=new s,l=new s},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"d",(function(){return a})),n.d(e,"b",(function(){return o})),n.d(e,"c",(function(){return s}));var r={};function i(t,e){r[t]={value:void 0!==e?e:0}}var a={TOTAL_COINS_EARNED:"total_coins_earned",TOTAL_COINS_SPENT:"total_coins_spent",HIGHEST_COINS_HELD:"highest_coins_held",CHALLENGES_COMPLETED:"challenges_completed",TOTAL_TACKLES:"total_tackles",TOTAL_SUCCESSFUL_TACKLES:"total_successful_tackles",TOTAL_SHOTS:"total_shots",TOTAL_GOALS_SCORED:"total_goals_scored",TOTAL_GOALS_CONCEDED:"total_goals_conceded",TOTAL_PASSES:"total_passes",TOTAL_SUCCESSFUL_PASSES:"total_successful_passes",TOTAL_OPPONENT_TACKLES:"total_opponent_tackles",TOTAL_SUCCESSFUL_OPPONENT_TACKLES:"total_successful_opponent_tackles",TOTAL_POSSESSION:"total_possession",TOURNAMENT_MATCHES_PLAYED:"tournament_matches_played",TOURNAMENT_MATCHES_WON:"tournament_matches_won",TOURNAMENT_MATCHES_LOST:"tournament_matches_lost",TOURNAMENT_MATCHES_DRAWN:"tournament_matches_drawn",TOURNAMENT_COMPETITIONS_WON:"tournament_competitions_won",LEAGUE_MATCHES_PLAYED:"league_matches_played",LEAGUE_MATCHES_WON:"league_matches_won",LEAGUE_MATCHES_LOST:"league_matches_lost",LEAGUE_MATCHES_DRAWN:"league_matches_drawn",TOTAL_MINUTES_PLAYED:"total_minutes_played",TOTAL_MATCHES_PLAYED:"total_matches_played",DATA_BY_CHARACTER:"data_by_character",DATA_BY_COUNTRY:"data_by_country",TOURNAMENT_POINTS_SENT_TO_LEADERBOARD:"tournament_points_sent_to_leaderboard"};i(a.TOTAL_COINS_EARNED),i(a.TOTAL_COINS_SPENT),i(a.HIGHEST_COINS_HELD),i(a.CHALLENGES_COMPLETED),i(a.TOTAL_TACKLES),i(a.TOTAL_SUCCESSFUL_TACKLES),i(a.TOTAL_SHOTS),i(a.TOTAL_GOALS_SCORED),i(a.TOTAL_GOALS_CONCEDED),i(a.TOTAL_PASSES),i(a.TOTAL_SUCCESSFUL_PASSES),i(a.TOTAL_OPPONENT_TACKLES),i(a.TOTAL_SUCCESSFUL_OPPONENT_TACKLES),i(a.TOTAL_POSSESSION),i(a.TOURNAMENT_MATCHES_PLAYED),i(a.TOURNAMENT_MATCHES_WON),i(a.TOURNAMENT_MATCHES_LOST),i(a.TOURNAMENT_MATCHES_DRAWN),i(a.TOURNAMENT_COMPETITIONS_WON),i(a.LEAGUE_MATCHES_PLAYED),i(a.LEAGUE_MATCHES_WON),i(a.LEAGUE_MATCHES_LOST),i(a.LEAGUE_MATCHES_DRAWN),i(a.TOTAL_MINUTES_PLAYED),i(a.TOTAL_MATCHES_PLAYED),i(a.DATA_BY_CHARACTER,{}),i(a.DATA_BY_COUNTRY,{});var o={all:function(){return r},id:function(t){return r[t]},character:function(t){var e=r[a.DATA_BY_CHARACTER].value;return e.hasOwnProperty(t)||(e[t]={}),e[t]},country:function(t){var e=r[a.DATA_BY_COUNTRY].value;return e.hasOwnProperty(t)||(e[t]={}),e[t]},saveFormat:function(){var t={};for(var e in r){var n={value:r[e].value};t[e]=n}return t}},s=function(t){var e;try{for(e in t)r[e].value=t[e].value}catch(t){}}},function(t,e,n){"use strict";var r=n(41),i=n(237);r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},function(t,e,n){var r=n(105),i=n(111).f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/;r&&!("name"in a)&&i(a,"name",{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(t){return""}}})},function(t,e,n){"use strict";var r;n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return o})),n.d(e,"e",(function(){return s})),function(t){t[t.SMALL=0]="SMALL",t[t.STANDARD=1]="STANDARD",t[t.LARGE=2]="LARGE"}(r||(r={}));var i={raven:{id:"raven",name:"STR_CHAR_RAVEN",available:!0,isCaptain:!0,isKeeper:!0,brandName:"STR_BRAND_TEENTITANSGO",size:r.STANDARD,scale:.8,skill:.3,power:.6,speed:1,profile:"card_raven.png",superSound:"RAVEN_1",icon:"character-profile-raven.jpg",brand:"logo_ttg.png",showable:!0,locked:!0,poster:"character-poster-raven.jpg",unlockedPanels:[],offsetBreadCrumb:{y:-50},anchorReviewX:.53},craig:{id:"craig",name:"STR_CHAR_CRAIG",available:!0,isCaptain:!0,isKeeper:!0,brandName:"STR_BRAND_CRAIGOFTHECREEK",size:r.STANDARD,scale:.77,tackleAnimationSpeed:2,skill:.4,power:.4,speed:.8,profile:"card_craig.png",superSound:"CRAIG_2",icon:"character-profile-craig.jpg",brand:"logo_craigofthecreek.png",locked:!1,offsetBreadCrumb:{y:-40},offsetPlayerCard:{x:-10},anchorReviewX:.6},blossom:{id:"blossom",name:"STR_CHAR_BLOSSOM",brandName:"STR_BRAND_POWERPUFFGIRLS",available:!0,isCaptain:!0,isKeeper:!0,size:r.SMALL,scale:.5,tackleAnimationSpeed:1.4,skill:.6,power:.6,speed:.6,profile:"card_blossom.png",superSound:"Powerpuff_Girls_Blossom",icon:"blossom_78x78.jpg",brand:"logo_ppg.png",offsetBreadCrumb:{y:-50},offsetSupershotY:450,anchorReviewX:.53},xlr8:{id:"xlr8",name:"STR_CHAR_XLR8",brandName:"STR_BRAND_BEN10",available:!0,isCaptain:!0,isKeeper:!0,size:r.STANDARD,scale:1,skill:.5,power:.4,speed:.8,superSound:"Ben_10_XLR8",profile:"card_xlr8.png",icon:"xlr8_78x78.jpg",brand:"logo_b10.png",offsetBreadCrumb:{y:-10},showable:!0,locked:!0,poster:"character-poster-xlr8.jpg",unlockedPanels:[],anchorReviewX:.35},apple:{id:"apple",name:"STR_CHAR_APPLE",available:!0,isCaptain:!0,isKeeper:!0,brandName:"STR_BRAND_APPLEANDONION",size:r.STANDARD,scale:.77,skill:.4,power:.2,speed:.5,profile:"card_apple.png",superSound:"APPLE_5",icon:"character-profile-apple.jpg",brand:"logo_appleonion.png",locked:!1,offsetBreadCrumb:{y:-50},anchorReviewX:.6},cyborg:{id:"cyborg",name:"STR_CHAR_CYBORG",available:!0,isCaptain:!0,isKeeper:!0,brandName:"STR_BRAND_TEENTITANSGO",size:r.LARGE,scale:1.2,skill:.5,power:.7,speed:.4,profile:"card_cyborg.png",superSound:"Teen_Titans_Go_Cyborg",icon:"cyborg_78x78.jpg",brand:"logo_ttg.png",locked:!1,offsetReviewY:0,anchorReviewX:0,offsetBreadCrumb:{y:-8}},marceline:{id:"marceline",name:"STR_CHAR_MARCELLINE",brandName:"STR_BRAND_ADVENTURETIME",available:!0,isCaptain:!0,isKeeper:!0,size:r.STANDARD,scale:1,skill:.5,power:.7,speed:.4,profile:"card_marceline.png",icon:"marceline_78x78.jpg",superSound:"Adventure_Time_Marcelline",brand:"logo_at.png",offsetBreadCrumb:{y:-35},anchorReviewX:.53},onion:{id:"onion",name:"STR_CHAR_ONION",available:!0,isCaptain:!0,isKeeper:!0,brandName:"STR_BRAND_APPLEANDONION",size:r.STANDARD,scale:.95,skill:1,power:.7,speed:.6,profile:"card_onion.png",superSound:"ONION_1",icon:"character-profile-onion.jpg",brand:"logo_appleonion.png",showable:!0,locked:!0,poster:"character-poster-onion.jpg",unlockedPanels:[],offsetBreadCrumb:{y:-20},offsetReviewY:5,anchorReviewX:.54},richard:{id:"richard",name:"STR_CHAR_RICHARD",brandName:"STR_BRAND_GUMBALL",available:!0,isCaptain:!0,isKeeper:!0,size:r.LARGE,scale:1,tackleAnimationSpeed:2.1,skill:.4,power:.4,speed:.5,profile:"card_richard.png",icon:"richard_78x78.jpg",superSound:"Gumball_Richard",brand:"logo_awog.png",offsetBreadCrumb:{y:-10},offsetPlayerCard:{x:-20},anchorReviewX:.45},bubbles:{id:"bubbles",name:"STR_CHAR_BUBBLES",brandName:"STR_BRAND_POWERPUFFGIRLS",available:!0,isCaptain:!0,isKeeper:!0,size:r.SMALL,scale:.5,tackleAnimationSpeed:1.4,skill:.6,power:.4,speed:.5,profile:"card_bubbles.png",icon:"bubbles_78x78.jpg",superSound:"Powerpuff_Girls_Bubbles",brand:"logo_ppg.png",offsetBreadCrumb:{y:-40},offsetSupershotY:500,anchorReviewX:.34},baby_grizz:{id:"baby_grizz",name:"STR_CHAR_BABY_GRIZZ",brandName:"STR_BRAND_WEBABYBEARS",available:!0,isCaptain:!0,isKeeper:!0,shined:!1,size:r.STANDARD,scale:.75,skill:.4,power:.2,speed:1,profile:"card_babygrizz.png",icon:"babygrizz_78x78.jpg",superSound:"baby_grizz",brand:"logo_wbb2.png",isNew:!1,offsetPlayerCard:{x:-40},offsetBreadCrumb:{x:0,y:-35},anchorReviewX:.355,showable:!0,locked:!0,poster:"character-poster-baby-grizz.jpg",unlockedPanels:[]},darwin:{id:"darwin",name:"STR_CHAR_DARWIN",brandName:"STR_BRAND_GUMBALL",available:!0,isCaptain:!0,isKeeper:!0,size:r.STANDARD,scale:.63,skill:.7,power:.3,speed:.5,profile:"card_darwin.png",icon:"darwin_78x78.jpg",superSound:"Gumball_Darwin",brand:"logo_awog.png",offsetBreadCrumb:{y:-20},anchorReviewX:.55},princess_bubblegum:{id:"princess_bubblegum",name:"STR_CHAR_BUBBLEGUM",available:!0,isCaptain:!0,isKeeper:!0,locked:!1,brandName:"STR_BRAND_ADVENTURETIME",size:r.STANDARD,scale:1.1,skill:.6,power:.3,speed:1,profile:"card_bubblegum.png",icon:"bubblegum_78x78.jpg",superSound:"Adventure_Time_Bubblegum",brand:"logo_at.png",offsetBreadCrumb:{x:0,y:-15},offsetPlayerCard:{x:-40},offsetReviewY:4},buttercup:{id:"buttercup",name:"STR_CHAR_BUTTERCUP",brandName:"STR_BRAND_POWERPUFFGIRLS",available:!0,isCaptain:!0,isKeeper:!0,size:r.SMALL,scale:.5,tackleAnimationSpeed:1.4,skill:.4,power:.7,speed:.5,profile:"card_buttercup.png",icon:"buttercup_78x78.jpg",superSound:"Powerpuff_Girls_Buttercup",brand:"logo_ppg.png",offsetBreadCrumb:{y:-50},offsetSupershotY:550},baby_ice_bear:{id:"baby_ice_bear",name:"STR_CHAR_BABY_ICE_BEAR",brandName:"STR_BRAND_WEBABYBEARS",available:!0,isCaptain:!0,isKeeper:!0,size:r.STANDARD,scale:.75,skill:.2,power:1,speed:.4,profile:"card_babyice.png",icon:"babyice_78x78.jpg",superSound:"baby_ice_bear",brand:"logo_wbb2.png",isNew:!1,offsetPlayerCard:{x:-40},offsetBreadCrumb:{x:0,y:-35},anchorReviewX:.355},anais:{id:"anais",name:"STR_CHAR_ANAIS",brandName:"STR_BRAND_GUMBALL",available:!0,isCaptain:!0,isKeeper:!0,size:r.SMALL,scale:.55,skill:.8,power:.2,speed:.6,profile:"card_anais.png",icon:"anais_78x78.jpg",superSound:"Gumball_Anais",brand:"logo_awog.png",offsetBreadCrumb:{y:-30},anchorReviewX:.6},mojo:{id:"mojo",name:"STR_CHAR_MOJO",brandName:"STR_BRAND_POWERPUFFGIRLS",available:!0,isCaptain:!0,isKeeper:!0,size:r.STANDARD,scale:.81,skill:.4,power:.7,speed:.3,profile:"card_mojo.png",icon:"mojo_78x78.jpg",offsetPlayerCard:{x:0},offsetBreadCrumb:{x:0,y:-50},anchorReviewX:.365,superSound:"Powerpuff_Girls_Mojo",brand:"logo_ppg.png"},starfire:{id:"starfire",name:"STR_CHAR_STARFIRE",brandName:"STR_BRAND_TEENTITANSGO",available:!0,isCaptain:!0,isKeeper:!0,size:r.STANDARD,scale:1,skill:.8,power:.6,speed:.5,profile:"card_starfire.png",icon:"starfire_78x78.jpg",superSound:"Teen_Titans_Go_Starfire",brand:"logo_ttg.png",locked:!1,offsetPlayerCard:{x:-10},offsetBreadCrumb:{x:0,y:-30},anchorReviewX:.6},bmo:{id:"bmo",name:"STR_CHAR_BMO",available:!0,isCaptain:!0,isKeeper:!0,size:r.SMALL,scale:.42,tackleAnimationSpeed:1.2,skill:.5,power:.2,speed:.7,profile:"card_bmo.png",icon:"bmo_78x78.jpg",superSound:"Adventure_Time_BMO",brand:"logo_at.png",offsetBreadCrumb:{y:-35},brandName:"STR_BRAND_ADVENTURETIME",offsetReviewY:-3,anchorReviewX:.48,offsetSupershotY:100},tobias:{id:"tobias",name:"STR_CHAR_TOBIAS",available:!0,isCaptain:!0,isKeeper:!0,brandName:"STR_BRAND_GUMBALL",size:r.STANDARD,scale:.5,tackleAnimationSpeed:2,skill:.5,power:.4,speed:.6,profile:"card_tobias.png",superSound:"Tobias",icon:"tobias_78x78.jpg",brand:"logo_awog.png",locked:!1,offsetBreadCrumb:{y:-40},offsetPlayerCard:{x:-10},offsetReviewY:14,anchorReviewX:.6,isNew:!0,shined:!1},jake:{id:"jake",name:"STR_CHAR_JAKE",brandName:"STR_BRAND_ADVENTURETIME",available:!0,isCaptain:!0,isKeeper:!0,size:r.STANDARD,scale:.58,skill:.4,power:.5,speed:.6,profile:"card_jake.png",icon:"jake_78x78.jpg",superSound:"Adventure_Time_Jake",brand:"logo_at.png",offsetBreadCrumb:{y:-25},offsetPlayerCard:{x:-10},offsetSupershotY:100,anchorReviewX:.52},baby_panda:{id:"baby_panda",name:"STR_CHAR_BABY_PANDA",brandName:"STR_BRAND_WEBABYBEARS",available:!0,isCaptain:!0,isKeeper:!0,size:r.STANDARD,scale:.75,skill:1,power:.2,speed:.4,profile:"card_babypanda.png",icon:"babypanda_78x78.jpg",superSound:"baby_panda",brand:"logo_wbb2.png",isNew:!1,offsetPlayerCard:{x:-40},offsetBreadCrumb:{x:0,y:-35},anchorReviewX:.355},kelsey:{id:"kelsey",name:"STR_CHAR_KELSEY",available:!0,isCaptain:!0,isKeeper:!0,brandName:"STR_BRAND_CRAIGOFTHECREEK",size:r.STANDARD,scale:.76,tackleAnimationSpeed:2,skill:.3,power:1,speed:.4,profile:"card_kelsey.png",superSound:"KELSEY_1",icon:"character-profile-kesley.jpg",brand:"logo_craigofthecreek.png",showable:!0,locked:!0,poster:"character-poster-kelsey.jpg",unlockedPanels:[],offsetBreadCrumb:{y:-70},anchorReviewX:.62},wonderwoman:{id:"wonderwoman",name:"STR_CHAR_WONDERWOMAN",available:!0,isCaptain:!0,isKeeper:!0,brandName:"STR_BRAND_DCSUPERHEROGIRLS",size:r.LARGE,scale:1.1,skill:.6,power:1,speed:1,profile:"card_wonderwoman.png",superSound:"WONDERWOMAN_1",icon:"wonderwoman_78x78.jpg",brand:"logo_dc.png",locked:!1,offsetBreadCrumb:{y:-25},offsetReviewY:14,anchorReviewX:.52},jp:{id:"jp",name:"STR_CHAR_JP",available:!0,isCaptain:!0,isKeeper:!0,brandName:"STR_BRAND_CRAIGOFTHECREEK",size:r.STANDARD,scale:1,tackleAnimationSpeed:2,skill:.4,power:.6,speed:.5,profile:"card_jp.png",superSound:"JP",icon:"jp_78x78.jpg",brand:"logo_craigofthecreek.png",locked:!1,offsetBreadCrumb:{y:-40},offsetPlayerCard:{x:-10},anchorReviewX:.6,isNew:!0,shined:!1},robin:{id:"robin",name:"STR_CHAR_ROBIN",available:!0,isCaptain:!0,isKeeper:!0,size:r.STANDARD,scale:.91,brandName:"STR_BRAND_TEENTITANSGO",skill:1,power:.7,speed:.6,profile:"card_robin.png",icon:"robin_78x78.jpg",superSound:"Teen_Titans_Go_Robin",brand:"logo_ttg.png",locked:!1,offsetPlayerCard:{x:-40},offsetBreadCrumb:{x:0,y:-35},anchorReviewX:.355},fourarms:{id:"fourarms",name:"STR_CHAR_FOUR_ARMS",available:!0,isCaptain:!0,isKeeper:!0,locked:!1,brandName:"STR_BRAND_BEN10",size:r.LARGE,scale:1.2,skill:.5,power:1,speed:.3,superSound:"Ben_10_Four_Arms",profile:"card_fourarms.png",icon:"fourarms_78x78.jpg",brand:"logo_b10.png",offsetBreadCrumb:{y:20},offsetReviewY:23},batgirl:{id:"batgirl",name:"STR_CHAR_BATGIRL",available:!0,isCaptain:!0,isKeeper:!0,brandName:"STR_BRAND_DCSUPERHEROGIRLS",size:r.STANDARD,scale:1,skill:.9,power:.7,speed:.6,profile:"card_batgirl.png",superSound:"BATGIRL_2",icon:"batgirl_78x78.jpg",brand:"logo_dc.png",showable:!0,locked:!0,poster:"character-poster-batgirl.jpg",unlockedPanels:[],offsetBreadCrumb:{y:-25},anchorReviewX:.68},finn:{id:"finn",name:"STR_CHAR_FINN",brandName:"STR_BRAND_ADVENTURETIME",available:!0,isCaptain:!0,isKeeper:!0,size:r.STANDARD,scale:.8,tackleAnimationSpeed:2.1,skill:.5,power:.7,speed:.6,profile:"card_finn.png",icon:"finn_78x78.jpg",superSound:"Adventure_Time_Finn",brand:"logo_at.png",offsetBreadCrumb:{y:-10},anchorReviewX:.42},ben10:{id:"ben10",name:"STR_CHAR_BEN",brandName:"STR_BRAND_BEN10",available:!0,isCaptain:!0,isKeeper:!0,size:r.STANDARD,scale:.95,tackleAnimationSpeed:2,skill:.6,power:.6,speed:.5,superSound:"Ben_10_Ben",profile:"card_ben10.png",icon:"ben10_78x78.jpg",brand:"logo_b10.png",offsetBreadCrumb:{y:-28},anchorReviewX:.55},jessica:{id:"jessica",name:"STR_CHAR_JESSICA",brandName:"STR_BRAND_CRAIGOFTHECREEK",available:!0,isCaptain:!0,isKeeper:!0,size:r.SMALL,scale:.75,skill:.7,power:.4,speed:.7,profile:"card_jessica.png",icon:"jessica_78x78.jpg",superSound:"EFE_Jessica",brand:"logo_craigofthecreek.png",offsetBreadCrumb:{y:-45},scaleBreadCrumb:.7},beastboy:{id:"beastboy",name:"STR_CHAR_BEASTBOY",brandName:"STR_BRAND_TEENTITANSGO",available:!0,isCaptain:!0,isKeeper:!0,size:r.STANDARD,scale:.75,skill:.5,power:.8,speed:.7,profile:"card_beastboy.png",icon:"beastboy_78x78.png",superSound:"BeastBoy_woohoohoo",brand:"logo_ttg.png",offsetPlayerCard:{x:-20,y:40},offsetBreadCrumb:{x:-15,y:-15}},gumball:{id:"gumball",name:"STR_CHAR_GUMBALL",brandName:"STR_BRAND_GUMBALL",available:!0,isCaptain:!0,isKeeper:!0,size:r.STANDARD,scale:.7,skill:.5,power:.3,speed:.6,profile:"card_gumball.png",icon:"gumball_78x78.jpg",superSound:"Gumball_Gumball",brand:"logo_awog.png",offsetPlayerCard:{x:20},offsetBreadCrumb:{y:-10,x:30},anchorReviewX:.4},supergirl:{id:"supergirl",name:"STR_CHAR_SUPERGIRL",available:!0,isCaptain:!0,isKeeper:!0,brandName:"STR_BRAND_DCSUPERHEROGIRLS",size:r.LARGE,scale:1.1,skill:.5,power:.9,speed:.9,profile:"card_supergirl.png",icon:"supergirl_78x78.jpg",superSound:"supergirl",brand:"logo_dc.png",offsetBreadCrumb:{y:-25},offsetReviewY:14,anchorReviewX:.52,locked:!1},nana_zanana:{id:"nana_zanana",name:"STR_CHAR_NANA_ZANANA",brandName:"STR_BRAND_NANA_ZANANA",available:!0,isCaptain:!0,isKeeper:!0,size:r.SMALL,scale:.7,tackleAnimationSpeed:1.3,skill:.6,power:.4,speed:.8,profile:"card_nana_zanana.png",icon:"nana_zanana_78x78.jpg",superSound:"NanaZanana",brand:"logo_nana.png",offsetBreadCrumb:{y:-40},offsetSupershotY:200,anchorReviewX:.34,geoLocked:!0,isNew:!0,shined:!1}},a=function(){for(var t in i)if(i[t].locked&&i[t].isNew)return!0;return!1},o={all:function(){var t=[];for(var e in i)i[e].geoLocked||t.push(i[e]);return t},captains:function(){var t=[];for(var e in i)!i[e].geoLocked&&i[e].isCaptain&&t.push(i[e]);return t},keepers:function(){var t=[];for(var e in i)!i[e].geoLocked&&i[e].isKeeper&&t.push(i[e]);return t},showable:function(){var t=[];for(var e in i)!i[e].geoLocked&&i[e].showable&&t.push(i[e]);return t},unlocked:function(){var t=[];for(var e in i)i[e].geoLocked||i[e].locked||t.push(i[e]);return t},locked:function(){var t=[];for(var e in i)!i[e].geoLocked&&i[e].locked&&i[e].poster&&t.push(i[e]);return t},withId:function(t){for(var e in i)if(i[e].id===t)return i[e]},saveFormat:function(){var t={};for(var e in i){var n={locked:i[e].locked,shined:i[e].shined,unlockedPanels:i[e].unlockedPanels,speed:i[e].speed,skill:i[e].skill,power:i[e].power,isNew:i[e].isNew};t[e]=n}return t}},s=function(t){for(var e in t)i.hasOwnProperty(e)&&(i[e].locked=t[e].locked,i[e].shined=t[e].shined,i[e].unlockedPanels=t[e].unlockedPanels,i[e].speed=t[e].speed,i[e].skill=t[e].skill,i[e].power=t[e].power,i[e].isNew=t[e].isNew)}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(54),a=n(138).f,o=n(125),s=n(118),u=n(279),c=n(457),l=n(207);t.exports=function(t,e){var n,h,d,p,f,m=t.target,g=t.global,y=t.stat;if(n=g?i:y?i[m]||u(m,{}):(i[m]||{}).prototype)for(h in e){if(p=e[h],d=t.noTargetGet?(f=a(n,h))&&f.value:n[h],!l(g?h:m+(y?".":"#")+h,t.forced)&&void 0!==d){if(r(p)===r(d))continue;c(p,d)}(t.sham||d&&d.sham)&&o(p,"sham",!0),s(n,h,p,t)}}},function(t,e,n){"use strict";var r=n(41),i=n(122).map;r({target:"Array",proto:!0,forced:!n(212)("map")},{map:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r;void 0===(r=function(t,e,r){var i=n(45),a=function(){this.onUpdate=new i,this.updateBind=this.update.bind(this),this.active=!1,this.deltaTime=1,this.timeElapsed=0,this.lastTime=0,this.speed=1};a.prototype.start=function(){this.active||(this.active=!0,requestAnimationFrame(this.updateBind))},a.prototype.stop=function(){this.active&&(this.active=!1)},a.prototype.update=function(){if(this.active){requestAnimationFrame(this.updateBind);var t=(new Date).getTime(),e=t-this.lastTime;e>100&&(e=100),this.deltaTime=.06*e,this.deltaTime*=this.speed,this.onUpdate.dispatch(this.deltaTime),this.lastTime=t}},a.prototype.add=function(t,e){this.onUpdate.add(t,e)},a.prototype.remove=function(t,e){this.onUpdate.remove(t,e)},a.instance=new a,a.game=new a,r.exports=a}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));n(21),n(27),n(99),n(23),n(88),n(5),n(126),n(34),n(139),n(19);var r=n(11),i=n(1),a=n(14),o=n(0),s=n(24),u=n(9);function c(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){c(a,r,i,o,s,"next",t)}function s(t){c(a,r,i,o,s,"throw",t)}o(void 0)}))}}function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function d(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y={width:980,height:760},v=function(t){var e,n;function c(e){var n;if(g(f(n=t.call(this)||this),"background",void 0),g(f(n),"blurFilter",void 0),g(f(n),"title",void 0),g(f(n),"loadSpinner",void 0),g(f(n),"content",void 0),g(f(n),"next",void 0),g(f(n),"previous",void 0),g(f(n),"onNext",void 0),g(f(n),"onPrevious",void 0),e=d(d({},y),e),n.background=new o.NineSlicePlane(o.Texture.from("panel-ninesliced.png"),150,150,100,30),n.background.width=e.width,n.background.height=e.height,n.background.x=-n.background.width/2,n.background.y=-n.background.height/2,n.addChild(n.background),n.blurFilter=new o.filters.BlurFilter,n.blurFilter.blurY=0,e.title){var i={fill:"#493008",fontSize:36,stroke:!1,strokeThickness:8,lineJoin:"round",dropShadow:!0,dropShadowAlpha:.35,dropShadowAngle:Math.PI/2,dropShadowDistance:5,dropShadowBlur:5,maxWidth:n.panelWidth-50};n.title=new u.a(e.title,i),n.title.anchor.set(.5),n.title.y=68-n.background.height/2,n.addChild(n.title)}return n.content=new o.Container,n.addChild(n.content),(e.hasLoader||e.isLoading)&&(n.loadSpinner=o.Sprite.from("loading-wheel.png"),n.loadSpinner.anchor.set(.5),n.loadSpinner.scale.set(1.6),n.loadSpinner.y=60,n.addChild(n.loadSpinner),e.isLoading&&(n.content.scale.set(.9),n.content.alpha=0,n.content.visible=!1)),e.hasArrows&&(n.onNext=new s.Signal,n.onPrevious=new s.Signal,n.previous=new r.c({icon:"button-left.png",noBackground:!0,iconScale:1.8}),n.previous.x=-n.background.width/2-n.previous.width/2,n.previous.onPress.add((function(){return n.onPrevious.emit()})),n.addChildAt(n.previous,0),n.next=new r.c({icon:"button-right.png",noBackground:!0,iconScale:1.8}),n.next.x=n.background.width/2+n.next.width/2-5,n.next.onPress.add((function(){return n.onNext.emit()})),n.addChildAt(n.next,0)),n}n=t,(e=c).prototype=Object.create(n.prototype),e.prototype.constructor=e,m(e,n);var h,v,b,_=c.prototype;return _.swapTitle=function(){var t=l(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(i.tween)(this.title,.3,{alpha:0,ease:"Quad.easeOut"});case 2:return this.setTitle(e),t.next=5,Object(i.tween)(this.title,.3,{alpha:1,ease:"Quad.easeOut"});case 5:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),_.setTitle=function(t){this.title.setText(t)},_.showNextArrow=function(){var t=l(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),this.next){t.next=3;break}return t.abrupt("return");case 3:if(a.c.killTweensOf(this.next),this.next.visible=!0,this.next.interactive=!0,n=this.background.width/2+this.next.width/2-5,e){t.next=12;break}return t.next=10,Object(i.tween)(this.next,.3,{x:n,ease:"Quad.easeOut"});case 10:t.next=13;break;case 12:this.next.x=n;case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),_.showPreviousArrow=function(){var t=l(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),this.previous){t.next=3;break}return t.abrupt("return");case 3:if(a.c.killTweensOf(this.previous),this.previous.visible=!0,this.previous.interactive=!0,n=-this.panelWidth/2-this.previous.width/2,e){t.next=12;break}return t.next=10,Object(i.tween)(this.previous,.3,{x:n,ease:"Quad.easeOut"});case 10:t.next=13;break;case 12:this.previous.x=n;case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),_.hideNextArrow=function(){var t=l(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),this.next){t.next=3;break}return t.abrupt("return");case 3:if(this.next.interactive=!1,a.c.killTweensOf(this.next),n=this.panelWidth/2-this.next.width/2,e){t.next=11;break}return t.next=9,Object(i.tween)(this.next,.3,{x:n,ease:"Quad.easeOut"});case 9:t.next=12;break;case 11:this.next.x=n;case 12:this.next.visible=!1;case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),_.hidePreviousArrow=function(){var t=l(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),this.previous){t.next=3;break}return t.abrupt("return");case 3:if(this.previous.interactive=!1,a.c.killTweensOf(this.previous),n=-this.panelWidth/2+this.previous.width/2,e){t.next=11;break}return t.next=9,Object(i.tween)(this.previous,.3,{x:n,ease:"Quad.easeOut"});case 9:t.next=12;break;case 11:this.previous.x=n;case 12:this.previous.visible=!1;case 13:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),_.showContent=function(){var t=l(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=0),null===(n=this.loadSpinner)||void 0===n||!n.visible){t.next=3;break}return t.abrupt("return");case 3:return a.c.killTweensOf(this.content),a.c.killTweensOf(this.content.scale),this.content.visible=!0,Object(i.tween)(this.content,.3,{alpha:1,delay:e,ease:"Quad.easeOut"}),t.next=9,Object(i.tween)(this.content.scale,.3,{x:1,y:1,delay:e,ease:"Quad.easeOut"});case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),_.hideContent=function(){var t=l(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=0),a.c.killTweensOf(this.content),a.c.killTweensOf(this.content.scale),Object(i.tween)(this.content,.3,{alpha:0,delay:e,ease:"Quad.easeOut"}),t.next=6,Object(i.tween)(this.content.scale,.3,{x:.9,y:.9,delay:e,ease:"Quad.easeOut"});case 6:this.content.visible=!1;case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),_.showSpinner=function(){var t=l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.loadSpinner){t.next=2;break}return t.abrupt("return");case 2:return a.c.killTweensOf(this.loadSpinner.scale),this.loadSpinner.visible=!0,t.next=6,Object(i.tween)(this.loadSpinner.scale,.4,{x:1.6,y:1.6,ease:"Quad.easeOut"});case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),_.hideSpinner=function(){var t=l(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),this.loadSpinner){t.next=3;break}return t.abrupt("return");case 3:if(a.c.killTweensOf(this.loadSpinner.scale),!e){t.next=8;break}this.loadSpinner.scale.set(0),t.next=10;break;case 8:return t.next=10,Object(i.tween)(this.loadSpinner.scale,.4,{x:0,y:0,ease:"Quad.easeOut"});case 10:this.loadSpinner.visible=!1,this.content.visible||this.showContent();case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),_.show=function(){var t=l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.showContent(.3),Object(i.tween)(this,.4,{alpha:1,ease:"Quad.easeIn"}),t.next=4,Object(i.tween)(this.scale,.4,{x:1,ease:"Back.easeOut"});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),_.hide=function(){var t=l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.hideContent(),Object(i.tween)(this,.4,{alpha:0,delay:.2,ease:"Quad.easeIn"}),t.next=4,Object(i.tween)(this.scale,.4,{x:0,delay:.2,ease:"Back.easeIn"});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),_.update=function(t){this.loadSpinner&&this.loadSpinner.visible&&(this.loadSpinner.rotation+=.1*t)},h=c,(v=[{key:"panelWidth",get:function(){return this.background.width},set:function(t){this.background.width=t,this.background.x=-this.panelWidth/2,this.title.maxWidth=this.panelWidth-50}},{key:"panelHeight",get:function(){return this.background.height},set:function(t){this.background.height=t,this.background.y=-this.panelHeight/2,this.title.y=68-this.background.height/2}}])&&p(h.prototype,v),b&&p(h,b),Object.defineProperty(h,"prototype",{writable:!1}),c}(o.Container)},function(t,e,n){var r;!function(i){function a(t,e,n,r,i){this._listener=e,this._isOnce=n,this.context=r,this._signal=t,this._priority=i||0}function o(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))}function s(){this._bindings=[],this._prevParams=null;var t=this;this.dispatch=function(){s.prototype.dispatch.apply(t,arguments)}}a.prototype={active:!0,params:null,execute:function(t){var e,n;return this.active&&this._listener&&(n=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,n),this._isOnce&&this.detach()),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},s.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(t,e,n,r){var i,o=this._indexOfListener(t,n);if(-1!==o){if((i=this._bindings[o]).isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else i=new a(this,t,e,n,r),this._addBinding(i);return this.memorize&&this._prevParams&&i.execute(this._prevParams),i},_addBinding:function(t){var e=this._bindings.length;do{--e}while(this._bindings[e]&&t._priority<=this._bindings[e]._priority);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){for(var n,r=this._bindings.length;r--;)if((n=this._bindings[r])._listener===t&&n.context===e)return r;return-1},has:function(t,e){return-1!==this._indexOfListener(t,e)},add:function(t,e,n){return o(t,"add"),this._registerListener(t,!1,e,n)},addOnce:function(t,e,n){return o(t,"addOnce"),this._registerListener(t,!0,e,n)},remove:function(t,e){o(t,"remove");var n=this._indexOfListener(t,e);return-1!==n&&(this._bindings[n]._destroy(),this._bindings.splice(n,1)),t},removeAll:function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(t){if(this.active){var e,n=Array.prototype.slice.call(arguments),r=this._bindings.length;if(this.memorize&&(this._prevParams=n),r){e=this._bindings.slice(),this._shouldPropagate=!0;do{r--}while(e[r]&&this._shouldPropagate&&!1!==e[r].execute(n))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var u=s;u.Signal=s,void 0===(r=function(){return u}.call(e,n,e,t))||(t.exports=r)}()},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var i;n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return a})),function(t){t.TOURNAMENT_WON="TOURNAMENT_WON",t.MATCH_WON="MATCH_WON",t.MATCH_ENDED="MATCH_ENDED",t.GOAL_SCORED="GOAL_SCORED",t.ITEM_PICKED_UP="ITEM_PICKED_UP",t.ACTION_TRIGGERED_ON_OPPONENT="ACTION_TRIGGERED_ON_OPPONENT",t.BALL_PASSED="BALL_PASSED",t.BALL_SNATCHED="BALL_SNATCHED",t.SHOT_MISSED="SHOT_MISSED",t.SHOT_PERFECTED="SHOT_PERFECTED"}(i||(i={}));var a=function(){r(this,"type",void 0),r(this,"data",void 0)}},function(t,e,n){var r;void 0===(r=function(t,e,n){var r={};r.TWO_PI=2*Math.PI,r.random=function(t,e){return e=void 0===e?1:e,(t=t||0)+Math.random()*(e-t)},r.randomInt=function(t,e){return t+Math.random()*(e-t)|0},r.randomSeed=function(t,e,n){return min=t,max=e,n=(9301*(n=n||1)+49297)%233280,min+n/233280*(max-min)},r.randomChance=function(t,e){return r.randomSeed(0,1,e)>t},r.cap=function(t,e,n){return t<e?e:t>n?n:t},r.sign=function(t){return t<0?-1:t>0?1:0},r.randomSign=function(t){return Math.random()<(t||.5)?-1:1},r.randomChoice=function(t,e){return Math.random()<.5?t:e},r.map=function(t,e,n,r,i){return(t-e)/(n-e)*(i-r)+r},r.smallestAngle=function(t,e){(t%=2*Math.PI)<0&&(t+=2*Math.PI);var n=e-t,r=e+2*Math.PI-t,i=e-2*Math.PI-t,a=Math.abs(n),o=Math.abs(r),s=Math.abs(i),u=n;return o<a&&o<s?u=r:s<a&&s<o&&(u=i),u},r.wrap=function(t,e,n){var r=n-e;return t-=e,(t%=r)<0&&(t+=r),t+=e},r.floor=function(t,e){return(t/e|0)*e},r.round=function(t,e){return Math.round(t/e)*e},r.ceil=function(t,e){return Math.ceil(t/e)*e},n.exports=r}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";n.r(e),n.d(e,"Const",(function(){return r}));var r={GAME:{TIME:45},PLAYER_STATE:{IDLE:0,RUN:1,FREE_RUN:2,WIN:3,LOSE:4,TACKLE:5,FALL:6,KICK_CHARGE:7,KICK:8,HIDE:9,SHOW:10,FREEZE:11,SHRINK:12,FIRE:13,STOP:14,EMPTY:15},KEEPER_STATE:{IDLE:0,DIVE:1,CLOSING_DOWN:2},TEAM_STATE:{ATTACKING:0,DEFENDING:1,ATTACK_IDLE:2,KICK_OFF:3,DEFEND_IDLE:4,SCORED:5,LOST:6,TUTORIAL_TACKLE:7,TUTORIAL_IDLE:8,STOPPED:9},END_STATE:{WIN:0,LOSE:1,DRAW:2,HALFTIME:3}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return d}));var r=n(110),i=n(40),a=n(79),o=n(108),s=n(53),u=n(37),c={coins:0,characters:i.a,stadiums:a.a,kits:o.a,balls:r.a,challengesProgress:{period:null,challenge_1:{savedAmount:0,completed:!1},challenge_2:{savedAmount:0,completed:!1},challenge_3:{savedAmount:0,completed:!1}},leagues:s.c,characterSelectionCache:{recentlyUnlocked:null,captain:null,first:null,second:null,keeper:null},encounteredPowerup:["SpeedBoost","Shield","Lightning","Freeze","Shrinkatron"],userStats:u.a},l=function(){return Object(i.c)()||Object(r.b)()||Object(a.b)()},h={coins:function(){return c.coins},characters:i.d,stadiums:a.c,kits:o.b,balls:r.c,challengesProgress:function(){return c.challengesProgress},leagues:s.d,characterSelectionCache:function(){return c.characterSelectionCache},encounteredPowerup:function(){return c.encounteredPowerup},userStats:u.b},d={coins:function(t){c.coins=t},characters:i.e,stadiums:a.d,kits:o.c,balls:r.d,challengesProgress:function(t){for(var e in t)c.challengesProgress[e]=t[e]},leagues:s.e,characterSelectionCache:function(t){c.characterSelectionCache=t},encounteredPowerup:function(t){c.encounteredPowerup=t},userStats:u.c}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,n){"use strict";var r=n(41),i=n(50),a=n(236),o=n(98),s=n(113),u=n(97),c=n(211),l=n(288),h=n(212),d=n(86),p=n(228),f=d("isConcatSpreadable"),m=p>=51||!i((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),g=h("concat"),y=function(t){if(!o(t))return!1;var e=t[f];return void 0!==e?!!e:a(t)};r({target:"Array",proto:!0,forced:!m||!g},{concat:function(t){var e,n,r,i,a,o=s(this),h=l(o,0),d=0;for(e=-1,r=arguments.length;e<r;e++)if(y(a=-1===e?o:arguments[e])){if(d+(i=u(a.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,d++)n in a&&c(h,d,a[n])}else{if(d>=9007199254740991)throw TypeError("Maximum allowed index exceeded");c(h,d++,a)}return h.length=d,h}})},function(t,e,n){"use strict";n.d(e,"b",(function(){return gt})),n.d(e,"a",(function(){return gt}));var r=n(14);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a,o,s,u,c,l,h,d={},p=180/Math.PI,f=Math.PI/180,m=Math.atan2,g=/([A-Z])/g,y=/(?:left|right|width|margin|padding|x)/i,v=/[\s,\(]\S/,b={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_=function(t,e){return e.set(e.t,e.p,Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},w=function(t,e){return e.set(e.t,e.p,1===t?e.e:Math.round(1e4*(e.s+e.c*t))/1e4+e.u,e)},x=function(t,e){return e.set(e.t,e.p,t?Math.round(1e4*(e.s+e.c*t))/1e4+e.u:e.b,e)},S=function(t,e){var n=e.s+e.c*t;e.set(e.t,e.p,~~(n+(n<0?-.5:.5))+e.u,e)},T=function(t,e){return e.set(e.t,e.p,t?e.e:e.b,e)},M=function(t,e){return e.set(e.t,e.p,1!==t?e.b:e.e,e)},E=function(t,e,n){return t.style[e]=n},A=function(t,e,n){return t.style.setProperty(e,n)},k=function(t,e,n){return t._gsap[e]=n},C=function(t,e,n){return t._gsap.scaleX=t._gsap.scaleY=n},O=function(t,e,n,r,i){var a=t._gsap;a.scaleX=a.scaleY=n,a.renderTransform(i,a)},L=function(t,e,n,r,i){var a=t._gsap;a[e]=n,a.renderTransform(i,a)},R="transform",P=R+"Origin",D=function(t,e){var n=o.createElementNS?o.createElementNS((e||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),t):o.createElement(t);return n.style?n:o.createElement(t)},I=function t(e,n,r){var i=getComputedStyle(e);return i[n]||i.getPropertyValue(n.replace(g,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&t(e,N(n)||n,1)||""},B="O,Moz,ms,Ms,Webkit".split(","),N=function(t,e,n){var r=(e||c).style,i=5;if(t in r&&!n)return t;for(t=t.charAt(0).toUpperCase()+t.substr(1);i--&&!(B[i]+t in r););return i<0?null:(3===i?"ms":i>=0?B[i]:"")+t},j=function(){"undefined"!=typeof window&&window.document&&(a=window,o=a.document,s=o.documentElement,c=D("div")||{style:{}},D("div"),R=N(R),P=R+"Origin",c.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",h=!!N("perspective"),u=1)},F=function t(e){var n,r=D("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,a=this.nextSibling,o=this.style.cssText;if(s.appendChild(r),r.appendChild(this),this.style.display="block",e)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=t}catch(t){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(a?i.insertBefore(this,a):i.appendChild(this)),s.removeChild(r),this.style.cssText=o,n},U=function(t,e){for(var n=e.length;n--;)if(t.hasAttribute(e[n]))return t.getAttribute(e[n])},Y=function(t){var e;try{e=t.getBBox()}catch(n){e=F.call(t,!0)}return e&&(e.width||e.height)||t.getBBox===F||(e=F.call(t,!0)),!e||e.width||e.x||e.y?e:{x:+U(t,["x","cx","x1"])||0,y:+U(t,["y","cy","y1"])||0,width:0,height:0}},G=function(t){return!(!t.getCTM||t.parentNode&&!t.ownerSVGElement||!Y(t))},H=function(t,e){if(e){var n=t.style;e in d&&e!==P&&(e=R),n.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),n.removeProperty(e.replace(g,"-$1").toLowerCase())):n.removeAttribute(e)}},z=function(t,e,n,i,a,o){var s=new r.b(t._pt,e,n,0,1,o?M:T);return t._pt=s,s.b=i,s.e=a,t._props.push(n),s},V={deg:1,rad:1,turn:1},W=function t(e,n,i,a){var s,u,l,h,p=parseFloat(i)||0,f=(i+"").trim().substr((p+"").length)||"px",m=c.style,g=y.test(n),v="svg"===e.tagName.toLowerCase(),b=(v?"client":"offset")+(g?"Width":"Height"),_="px"===a,w="%"===a;return a===f||!p||V[a]||V[f]?p:("px"!==f&&!_&&(p=t(e,n,i,"px")),h=e.getCTM&&G(e),!w&&"%"!==f||!d[n]&&!~n.indexOf("adius")?(m[g?"width":"height"]=100+(_?f:a),u=~n.indexOf("adius")||"em"===a&&e.appendChild&&!v?e:e.parentNode,h&&(u=(e.ownerSVGElement||{}).parentNode),u&&u!==o&&u.appendChild||(u=o.body),(l=u._gsap)&&w&&l.width&&g&&l.time===r.w.time?Object(r.u)(p/l.width*100):((w||"%"===f)&&(m.position=I(e,"position")),u===e&&(m.position="static"),u.appendChild(c),s=c[b],u.removeChild(c),m.position="absolute",g&&w&&((l=Object(r.i)(u)).time=r.w.time,l.width=u[b]),Object(r.u)(_?s*p/100:s&&p?100/s*p:0))):(s=h?e.getBBox()[g?"width":"height"]:e[b],Object(r.u)(w?p/s*100:p/100*s)))},X=function(t,e,n,i){var a;return u||j(),e in b&&"transform"!==e&&~(e=b[e]).indexOf(",")&&(e=e.split(",")[0]),d[e]&&"transform"!==e?(a=it(t,i),a="transformOrigin"!==e?a[e]:at(I(t,P))+" "+a.zOrigin+"px"):(!(a=t.style[e])||"auto"===a||i||~(a+"").indexOf("calc("))&&(a=J[e]&&J[e](t,e,n)||I(t,e)||Object(r.j)(t,e)||("opacity"===e?1:0)),n&&!~(a+"").trim().indexOf(" ")?W(t,e,a,n)+n:a},K=function(t,e,n,i){if(!n||"none"===n){var a=N(e,t,1),o=a&&I(t,a,1);o&&o!==n?(e=a,n=o):"borderColor"===e&&(n=I(t,"borderTopColor"))}var s,u,c,l,h,d,p,f,m,g,y,v,b=new r.b(this._pt,t.style,e,0,1,r.s),_=0,w=0;if(b.b=n,b.e=i,n+="","auto"===(i+="")&&(t.style[e]=i,i=I(t,e)||i,t.style[e]=n),s=[n,i],Object(r.f)(s),i=s[1],c=(n=s[0]).match(r.p)||[],(i.match(r.p)||[]).length){for(;u=r.p.exec(i);)p=u[0],m=i.substring(_,u.index),h?h=(h+1)%5:"rgba("!==m.substr(-5)&&"hsla("!==m.substr(-5)||(h=1),p!==(d=c[w++]||"")&&(l=parseFloat(d)||0,y=d.substr((l+"").length),(v="="===p.charAt(1)?+(p.charAt(0)+"1"):0)&&(p=p.substr(2)),f=parseFloat(p),g=p.substr((f+"").length),_=r.p.lastIndex-g.length,g||(g=g||r.g.units[e]||y,_===i.length&&(i+=g,b.e+=g)),y!==g&&(l=W(t,e,d,g)||0),b._pt={_next:b._pt,p:m||1===w?m:",",s:l,c:v?v*f:f-l,m:h&&h<4||"zIndex"===e?Math.round:0});b.c=_<i.length?i.substring(_,i.length):""}else b.r="display"===e&&"none"===i?M:T;return r.r.test(i)&&(b.e=0),this._pt=b,b},q={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Z=function(t,e){if(e.tween&&e.tween._time===e.tween._dur){var n,r,i,a=e.t,o=a.style,s=e.u,u=a._gsap;if("all"===s||!0===s)o.cssText="",r=1;else for(i=(s=s.split(",")).length;--i>-1;)n=s[i],d[n]&&(r=1,n="transformOrigin"===n?P:R),H(a,n);r&&(H(a,R),u&&(u.svg&&a.removeAttribute("transform"),it(a,1),u.uncache=1))}},J={clearProps:function(t,e,n,i,a){if("isFromStart"!==a.data){var o=t._pt=new r.b(t._pt,e,n,0,0,Z);return o.u=i,o.pr=-10,o.tween=a,t._props.push(n),1}}},Q=[1,0,0,1,0,0],$={},tt=function(t){return"matrix(1, 0, 0, 1, 0, 0)"===t||"none"===t||!t},et=function(t){var e=I(t,R);return tt(e)?Q:e.substr(7).match(r.o).map(r.u)},nt=function(t,e){var n,i,a,o,u=t._gsap||Object(r.i)(t),c=t.style,l=et(t);return u.svg&&t.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(a=t.transform.baseVal.consolidate().matrix).a,a.b,a.c,a.d,a.e,a.f]).join(",")?Q:l:(l!==Q||t.offsetParent||t===s||u.svg||(a=c.display,c.display="block",(n=t.parentNode)&&t.offsetParent||(o=1,i=t.nextSibling,s.appendChild(t)),l=et(t),a?c.display=a:H(t,"display"),o&&(i?n.insertBefore(t,i):n?n.appendChild(t):s.removeChild(t))),e&&l.length>6?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)},rt=function(t,e,n,r,i,a){var o,s,u,c=t._gsap,l=i||nt(t,!0),h=c.xOrigin||0,d=c.yOrigin||0,p=c.xOffset||0,f=c.yOffset||0,m=l[0],g=l[1],y=l[2],v=l[3],b=l[4],_=l[5],w=e.split(" "),x=parseFloat(w[0])||0,S=parseFloat(w[1])||0;n?l!==Q&&(s=m*v-g*y)&&(u=x*(-g/s)+S*(m/s)-(m*_-g*b)/s,x=x*(v/s)+S*(-y/s)+(y*_-v*b)/s,S=u):(x=(o=Y(t)).x+(~w[0].indexOf("%")?x/100*o.width:x),S=o.y+(~(w[1]||w[0]).indexOf("%")?S/100*o.height:S)),r||!1!==r&&c.smooth?(b=x-h,_=S-d,c.xOffset=p+(b*m+_*y)-b,c.yOffset=f+(b*g+_*v)-_):c.xOffset=c.yOffset=0,c.xOrigin=x,c.yOrigin=S,c.smooth=!!r,c.origin=e,c.originIsAbsolute=!!n,t.style[P]="0px 0px",a&&(z(a,c,"xOrigin",h,x),z(a,c,"yOrigin",d,S),z(a,c,"xOffset",p,c.xOffset),z(a,c,"yOffset",f,c.yOffset)),t.setAttribute("data-svg-origin",x+" "+S)},it=function(t,e){var n=t._gsap||new r.a(t);if("x"in n&&!e&&!n.uncache)return n;var i,a,o,s,u,c,l,d,g,y,v,b,_,w,x,S,T,M,E,A,k,C,O,L,D,B,N,j,F,U,Y,H,z=t.style,V=n.scaleX<0,W=I(t,P)||"0";return i=a=o=c=l=d=g=y=v=0,s=u=1,n.svg=!(!t.getCTM||!G(t)),w=nt(t,n.svg),n.svg&&(L=!n.uncache&&!e&&t.getAttribute("data-svg-origin"),rt(t,L||W,!!L||n.originIsAbsolute,!1!==n.smooth,w)),b=n.xOrigin||0,_=n.yOrigin||0,w!==Q&&(M=w[0],E=w[1],A=w[2],k=w[3],i=C=w[4],a=O=w[5],6===w.length?(s=Math.sqrt(M*M+E*E),u=Math.sqrt(k*k+A*A),c=M||E?m(E,M)*p:0,(g=A||k?m(A,k)*p+c:0)&&(u*=Math.abs(Math.cos(g*f))),n.svg&&(i-=b-(b*M+_*A),a-=_-(b*E+_*k))):(H=w[6],U=w[7],N=w[8],j=w[9],F=w[10],Y=w[11],i=w[12],a=w[13],o=w[14],l=(x=m(H,F))*p,x&&(L=C*(S=Math.cos(-x))+N*(T=Math.sin(-x)),D=O*S+j*T,B=H*S+F*T,N=C*-T+N*S,j=O*-T+j*S,F=H*-T+F*S,Y=U*-T+Y*S,C=L,O=D,H=B),d=(x=m(-A,F))*p,x&&(S=Math.cos(-x),Y=k*(T=Math.sin(-x))+Y*S,M=L=M*S-N*T,E=D=E*S-j*T,A=B=A*S-F*T),c=(x=m(E,M))*p,x&&(L=M*(S=Math.cos(x))+E*(T=Math.sin(x)),D=C*S+O*T,E=E*S-M*T,O=O*S-C*T,M=L,C=D),l&&Math.abs(l)+Math.abs(c)>359.9&&(l=c=0,d=180-d),s=Object(r.u)(Math.sqrt(M*M+E*E+A*A)),u=Object(r.u)(Math.sqrt(O*O+H*H)),x=m(C,O),g=Math.abs(x)>2e-4?x*p:0,v=Y?1/(Y<0?-Y:Y):0),n.svg&&(L=t.getAttribute("transform"),n.forceCSS=t.setAttribute("transform","")||!tt(I(t,R)),L&&t.setAttribute("transform",L))),Math.abs(g)>90&&Math.abs(g)<270&&(V?(s*=-1,g+=c<=0?180:-180,c+=c<=0?180:-180):(u*=-1,g+=g<=0?180:-180)),n.x=i-((n.xPercent=i&&(n.xPercent||(Math.round(t.offsetWidth/2)===Math.round(-i)?-50:0)))?t.offsetWidth*n.xPercent/100:0)+"px",n.y=a-((n.yPercent=a&&(n.yPercent||(Math.round(t.offsetHeight/2)===Math.round(-a)?-50:0)))?t.offsetHeight*n.yPercent/100:0)+"px",n.z=o+"px",n.scaleX=Object(r.u)(s),n.scaleY=Object(r.u)(u),n.rotation=Object(r.u)(c)+"deg",n.rotationX=Object(r.u)(l)+"deg",n.rotationY=Object(r.u)(d)+"deg",n.skewX=g+"deg",n.skewY=y+"deg",n.transformPerspective=v+"px",(n.zOrigin=parseFloat(W.split(" ")[2])||0)&&(z[P]=at(W)),n.xOffset=n.yOffset=0,n.force3D=r.g.force3D,n.renderTransform=n.svg?ct:h?ut:st,n.uncache=0,n},at=function(t){return(t=t.split(" "))[0]+" "+t[1]},ot=function(t,e,n){var i=Object(r.x)(e);return Object(r.u)(parseFloat(e)+parseFloat(W(t,"x",n+"px",i)))+i},st=function(t,e){e.z="0px",e.rotationY=e.rotationX="0deg",e.force3D=0,ut(t,e)},ut=function(t,e){var n=e||this,r=n.xPercent,i=n.yPercent,a=n.x,o=n.y,s=n.z,u=n.rotation,c=n.rotationY,l=n.rotationX,h=n.skewX,d=n.skewY,p=n.scaleX,m=n.scaleY,g=n.transformPerspective,y=n.force3D,v=n.target,b=n.zOrigin,_="",w="auto"===y&&t&&1!==t||!0===y;if(b&&("0deg"!==l||"0deg"!==c)){var x,S=parseFloat(c)*f,T=Math.sin(S),M=Math.cos(S);S=parseFloat(l)*f,x=Math.cos(S),a=ot(v,a,T*x*-b),o=ot(v,o,-Math.sin(S)*-b),s=ot(v,s,M*x*-b+b)}"0px"!==g&&(_+="perspective("+g+") "),(r||i)&&(_+="translate("+r+"%, "+i+"%) "),(w||"0px"!==a||"0px"!==o||"0px"!==s)&&(_+="0px"!==s||w?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+") "),"0deg"!==u&&(_+="rotate("+u+") "),"0deg"!==c&&(_+="rotateY("+c+") "),"0deg"!==l&&(_+="rotateX("+l+") "),"0deg"===h&&"0deg"===d||(_+="skew("+h+", "+d+") "),1===p&&1===m||(_+="scale("+p+", "+m+") "),v.style[R]=_||"translate(0, 0)"},ct=function(t,e){var n,i,a,o,s,u=e||this,c=u.xPercent,l=u.yPercent,h=u.x,d=u.y,p=u.rotation,m=u.skewX,g=u.skewY,y=u.scaleX,v=u.scaleY,b=u.target,_=u.xOrigin,w=u.yOrigin,x=u.xOffset,S=u.yOffset,T=u.forceCSS,M=parseFloat(h),E=parseFloat(d);p=parseFloat(p),m=parseFloat(m),(g=parseFloat(g))&&(m+=g=parseFloat(g),p+=g),p||m?(p*=f,m*=f,n=Math.cos(p)*y,i=Math.sin(p)*y,a=Math.sin(p-m)*-v,o=Math.cos(p-m)*v,m&&(g*=f,s=Math.tan(m-g),a*=s=Math.sqrt(1+s*s),o*=s,g&&(s=Math.tan(g),n*=s=Math.sqrt(1+s*s),i*=s)),n=Object(r.u)(n),i=Object(r.u)(i),a=Object(r.u)(a),o=Object(r.u)(o)):(n=y,o=v,i=a=0),(M&&!~(h+"").indexOf("px")||E&&!~(d+"").indexOf("px"))&&(M=W(b,"x",h,"px"),E=W(b,"y",d,"px")),(_||w||x||S)&&(M=Object(r.u)(M+_-(_*n+w*a)+x),E=Object(r.u)(E+w-(_*i+w*o)+S)),(c||l)&&(s=b.getBBox(),M=Object(r.u)(M+c/100*s.width),E=Object(r.u)(E+l/100*s.height)),s="matrix("+n+","+i+","+a+","+o+","+M+","+E+")",b.setAttribute("transform",s),T&&(b.style[R]=s)},lt=function(t,e,n,i,a,o){var s,u,c=Object(r.l)(a),l=parseFloat(a)*(c&&~a.indexOf("rad")?p:1),h=o?l*o:l-i,d=i+h+"deg";return c&&("short"===(s=a.split("_")[1])&&(h%=360)!==h%180&&(h+=h<0?360:-360),"cw"===s&&h<0?h=(h+36e9)%360-360*~~(h/360):"ccw"===s&&h>0&&(h=(h-36e9)%360-360*~~(h/360))),t._pt=u=new r.b(t._pt,e,n,i,h,w),u.e=d,u.u="deg",t._props.push(n),u},ht=function(t,e){for(var n in e)t[n]=e[n];return t},dt=function(t,e,n){var i,a,o,s,u,c,l,h=ht({},n._gsap),p=n.style;for(a in h.svg?(o=n.getAttribute("transform"),n.setAttribute("transform",""),p[R]=e,i=it(n,1),H(n,R),n.setAttribute("transform",o)):(o=getComputedStyle(n)[R],p[R]=e,i=it(n,1),p[R]=o),d)(o=h[a])!==(s=i[a])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(a)<0&&(u=Object(r.x)(o)!==(l=Object(r.x)(s))?W(n,a,o,l):parseFloat(o),c=parseFloat(s),t._pt=new r.b(t._pt,i,a,u,c-u,_),t._pt.u=l||0,t._props.push(a));ht(i,h)};Object(r.h)("padding,margin,Width,Radius",(function(t,e){var n="Top",r="Right",i="Bottom",a="Left",o=(e<3?[n,r,i,a]:[n+a,n+r,i+r,i+a]).map((function(n){return e<2?t+n:"border"+n+t}));J[e>1?"border"+t:t]=function(t,e,n,r,i){var a,s;if(arguments.length<4)return a=o.map((function(e){return X(t,e,n)})),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(r+"").split(" "),s={},o.forEach((function(t,e){return s[t]=a[e]=a[e]||a[(e-1)/2|0]})),t.init(e,s,i)}}));var pt,ft,mt={name:"css",register:j,targetTest:function(t){return t.style&&t.nodeType},init:function(t,e,n,a,o){var s,c,l,h,p,f,m,g,y,w,T,M,E,A,k,C,O,L,P,D=this._props,I=t.style,B=n.vars.startAt;for(m in u||j(),e)if("autoRound"!==m&&(c=e[m],!r.q[m]||!Object(r.d)(m,e,n,a,t,o)))if(p=i(c),f=J[m],"function"===p&&(p=i(c=c.call(n,a,t,o))),"string"===p&&~c.indexOf("random(")&&(c=Object(r.t)(c)),f)f(this,t,m,c,n)&&(k=1);else if("--"===m.substr(0,2))s=(getComputedStyle(t).getPropertyValue(m)+"").trim(),c+="",r.e.lastIndex=0,r.e.test(s)||(g=Object(r.x)(s),y=Object(r.x)(c)),y?g!==y&&(s=W(t,m,s,y)+y):g&&(c+=g),this.add(I,"setProperty",s,c,a,o,0,0,m);else if("undefined"!==p){if(B&&m in B?(s="function"==typeof B[m]?B[m].call(n,a,t,o):B[m],m in r.g.units&&!Object(r.x)(s)&&(s+=r.g.units[m]),"="===(s+"").charAt(1)&&(s=X(t,m))):s=X(t,m),h=parseFloat(s),(w="string"===p&&"="===c.charAt(1)?+(c.charAt(0)+"1"):0)&&(c=c.substr(2)),l=parseFloat(c),m in b&&("autoAlpha"===m&&(1===h&&"hidden"===X(t,"visibility")&&l&&(h=0),z(this,I,"visibility",h?"inherit":"hidden",l?"inherit":"hidden",!l)),"scale"!==m&&"transform"!==m&&~(m=b[m]).indexOf(",")&&(m=m.split(",")[0])),T=m in d)if(M||((E=t._gsap).renderTransform&&!e.parseTransform||it(t,e.parseTransform),A=!1!==e.smoothOrigin&&E.smooth,(M=this._pt=new r.b(this._pt,I,R,0,1,E.renderTransform,E,0,-1)).dep=1),"scale"===m)this._pt=new r.b(this._pt,E,"scaleY",E.scaleY,w?w*l:l-E.scaleY),D.push("scaleY",m),m+="X";else{if("transformOrigin"===m){O=void 0,L=void 0,P=void 0,O=(C=c).split(" "),L=O[0],P=O[1]||"50%","top"!==L&&"bottom"!==L&&"left"!==P&&"right"!==P||(C=L,L=P,P=C),O[0]=q[L]||L,O[1]=q[P]||P,c=O.join(" "),E.svg?rt(t,c,0,A,0,this):((y=parseFloat(c.split(" ")[2])||0)!==E.zOrigin&&z(this,E,"zOrigin",E.zOrigin,y),z(this,I,m,at(s),at(c)));continue}if("svgOrigin"===m){rt(t,c,1,A,0,this);continue}if(m in $){lt(this,E,m,h,c,w);continue}if("smoothOrigin"===m){z(this,E,"smooth",E.smooth,c);continue}if("force3D"===m){E[m]=c;continue}if("transform"===m){dt(this,c,t);continue}}else m in I||(m=N(m)||m);if(T||(l||0===l)&&(h||0===h)&&!v.test(c)&&m in I)l||(l=0),(g=(s+"").substr((h+"").length))!==(y=Object(r.x)(c)||(m in r.g.units?r.g.units[m]:g))&&(h=W(t,m,s,y)),this._pt=new r.b(this._pt,T?E:I,m,h,w?w*l:l-h,T||"px"!==y&&"zIndex"!==m||!1===e.autoRound?_:S),this._pt.u=y||0,g!==y&&(this._pt.b=s,this._pt.r=x);else if(m in I)K.call(this,t,m,s,c);else{if(!(m in t)){Object(r.n)(m,c);continue}this.add(t,m,t[m],c,a,o)}D.push(m)}k&&Object(r.v)(this)},get:X,aliases:b,getSetter:function(t,e,n){var i=b[e];return i&&i.indexOf(",")<0&&(e=i),e in d&&e!==P&&(t._gsap.x||X(t,"x"))?n&&l===n?"scale"===e?C:k:(l=n||{})&&("scale"===e?O:L):t.style&&!Object(r.m)(t.style[e])?E:~e.indexOf("-")?A:Object(r.k)(t,e)},core:{_removeProperty:H,_getMatrix:nt}};r.y.utils.checkPrefix=N,pt="rotation,rotationX,rotationY,skewX,skewY",ft=Object(r.h)("x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+pt+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",(function(t){d[t]=1})),Object(r.h)(pt,(function(t){r.g.units[t]="deg",$[t]=1})),b[ft[13]]="x,y,z,scale,scaleX,scaleY,xPercent,yPercent,"+pt,Object(r.h)("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",(function(t){var e=t.split(":");b[e[1]]=ft[e[0]]})),Object(r.h)("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(t){r.g.units[t]="px"})),r.y.registerPlugin(mt);var gt=r.y.registerPlugin(mt)||r.y;gt.core.Tween},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return c})),n.d(e,"d",(function(){return l})),n.d(e,"e",(function(){return h}));n(88),n(5),n(127);var r,i,a=n(6),o=n(1),s=n(3),u=n.n(s);!function(t){t[t.PRO=0]="PRO",t[t.ACE=1]="ACE",t[t.STAR=2]="STAR",t[t.EPIC=3]="EPIC",t[t.ULTRA=4]="ULTRA"}(r||(r={})),function(t){t[t.INCOMPLETE=0]="INCOMPLETE",t[t.IN_PROGRESS=1]="IN_PROGRESS",t[t.COMPLETED=2]="COMPLETED"}(i||(i={}));var c={pro:{id:r.PRO,name:"STR_LEAGUES_PRO",leagueName:"STR_LEAGUES_PRO_LEAGUE",targetPoints:25,trophy:"toonchampscup-unlocked.png",lockedTrophy:"toonchampscup-locked.png",reward:100,analytics:a.b.GAME_PRO_LEAGUE_COMPLETED},ace:{id:r.ACE,name:"STR_LEAGUES_ACE",leagueName:"STR_LEAGUES_ACE_LEAGUE",targetPoints:75,trophy:"toonprocup-unlocked.png",lockedTrophy:"toonprocup-locked.png",reward:200,analytics:a.b.GAME_ACE_LEAGUE_COMPLETED},star:{id:r.STAR,name:"STR_LEAGUES_STAR",leagueName:"STR_LEAGUES_STAR_LEAGUE",targetPoints:125,trophy:"toonelitecup-unlocked.png",lockedTrophy:"toonelitecup-locked.png",reward:300,analytics:a.b.GAME_STAR_LEAGUE_COMPLETED},epic:{id:r.EPIC,name:"STR_LEAGUES_EPIC",leagueName:"STR_LEAGUES_EPIC_LEAGUE",targetPoints:225,trophy:"epic_trophy-unlocked.png",lockedTrophy:"epic_trophy-locked.png",reward:400,analytics:a.b.GAME_EPIC_LEAGUE_COMPLETED},ultra:{id:r.ULTRA,name:"STR_LEAGUES_ULTRA",leagueName:"STR_LEAGUES_ULTRA_LEAGUE",targetPoints:375,trophy:"ultra_trophy-unlocked.png",lockedTrophy:"ultra_trophy-locked.png",reward:500,analytics:a.b.GAME_ULTRA_LEAGUE_COMPLETED}},l={all:function(){var t=[];for(var e in c)t.push(c[e]);return t},available:function(){var t=o.Params.get("todayDate",!1),e=t?u()(t,"DD-MM-YYYY"):u()(),n=[];for(var r in c){var i=c[r];if(i.start)u()(i.start,"DD-MM-YYYY").isAfter(e,"day")||n.push(i);else n.push(i)}return n},completed:function(){var t=[];for(var e in c)c[e].status===i.COMPLETED&&t.push(c[e]);return t},incomplete:function(){var t=o.Params.get("todayDate",!1),e=t?u()(t,"DD-MM-YYYY"):u()(),n=[];for(var r in c){var a=c[r];if(a.start)u()(a.start,"DD-MM-YYYY").isAfter(e,"day")||n.push(a);else n.push(a)}return n.filter((function(t){return t.status===i.INCOMPLETE}))},inprogress:function(){for(var t in c)if(c[t].status===i.IN_PROGRESS)return c[t]},next:function(){var t=o.Params.get("todayDate",!1),e=t?u()(t,"DD-MM-YYYY"):u()(),n=[];for(var r in c){var a=c[r];if(a.start)u()(a.start,"DD-MM-YYYY").isAfter(e,"day")||n.push(a);else n.push(a)}return n.filter((function(t){return t.status===i.INCOMPLETE})).sort((function(t,e){return t.id-e.id}))[0]},withId:function(t){for(var e in c)if(c[e].id===t)return c[e]},saveFormat:function(){var t={};for(var e in c){var n={status:c[e].status,points:c[e].points};t[e]=n}return t}},h=function(t){for(var e in t)c[e].status=t[e].status,c[e].points=t[e].points}},function(t,e,n){(function(e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==("undefined"==typeof globalThis?"undefined":n(globalThis))&&globalThis)||r("object"==("undefined"==typeof window?"undefined":n(window))&&window)||r("object"==("undefined"==typeof self?"undefined":n(self))&&self)||r("object"==(void 0===e?"undefined":n(e))&&e)||function(){return this}()||Function("return this")()}).call(this,n(202))},function(t,e,n){"use strict";(function(t){n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return c}));n(21),n(5),n(19),n(15),n(22),n(20),n(39),n(128),n(132);var r,i=n(116),a=n(160);function o(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function s(t){o(a,r,i,s,u,"next",t)}function u(t){o(a,r,i,s,u,"throw",t)}s(void 0)}))}}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.A=0]="A",t[t.B=1]="B"}(r||(r={}));var c=function(){function e(){u(this,"assetManager",void 0),u(this,"skeletons",void 0),u(this,"loadPromises",void 0)}var n=e.prototype;return n.init=function(t){void 0===t&&(t="assets/spine/"),this.assetManager||(this.assetManager=new THREE_SPINE.threejs.AssetManager(t),this.skeletons={},this.loadPromises={})},n.preloadCharacterRawAssets=function(){var t=s(regeneratorRuntime.mark((function t(e){var n,r,i,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.loadPromises[e]&&!this.skeletons[e]){t.next=2;break}return t.abrupt("return");case 2:return n=a.a.characters[e],r=(n.spineRef||"ben10/Ben_10")+"@0.5x.atlas",i=(n.spineRef||"ben10/Ben_10")+".json",this.assetManager.loadText(i),this.assetManager.loadTextureAtlas(r),t.abrupt("return",new Promise((function(t){!function e(){o.assetManager.isLoadingComplete()?t():setTimeout((function(){return e()}),50)}()})));case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.loadCharacters=function(){var t=s(regeneratorRuntime.mark((function t(){var e,n,r,i,a,o,s,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=[],n=u.length,r=new Array(n),i=0;i<n;i++)r[i]=u[i];for(a=0,o=r;a<o.length;a++)s=o[a],e.push(this.loadCharacter(s));return t.abrupt("return",Promise.all(e));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.loadCharacter=function(){var t=s(regeneratorRuntime.mark((function t(e){var n,r,i,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.loadPromises[e]){t.next=2;break}return t.abrupt("return",this.loadPromises[e]);case 2:if(!this.skeletons[e]){t.next=4;break}return t.abrupt("return",Promise.resolve(this.skeletons[e]));case 4:if(n=a.a.characters[e]){t.next=7;break}throw new Error("There is no character registered with id: "+e);case 7:return r=(n.spineRef||"ben10/Ben_10")+"@0.5x.atlas",i=(n.spineRef||"ben10/Ben_10")+".json",this.preloadCharacterRawAssets(e),this.loadPromises[e]=new Promise((function(t){!function n(){if(o.assetManager.isLoadingComplete()){if(!o.skeletons[e]){var a=o.assetManager.get(r),s=o.assetManager.get(i),u=new THREE_SPINE.AtlasAttachmentLoader(a),c=new THREE_SPINE.SkeletonJson(u).readSkeletonData(s);o.skeletons[e]=c}delete o.loadPromises[e],t(o.skeletons[e])}else setTimeout((function(){return n()}),50)}()})),t.abrupt("return",this.loadPromises[e]);case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.getSpineAnim2D=function(e,n,r){void 0===r&&(r=!1);var o=i.a.getJson("assets/spine/"+(a.a.characters[e].spineRef||"ben10/Ben_10")+".json"),s=new t.spine.Spine(o);if(!a.a.characters[e].spineRef)for(var u in s.skeleton.slots){s.skeleton.slots[u].color.set(0,0,0,1)}for(var c in s.skeleton.slots){var l=s.skeleton.slots[c],h=l.data.name;if(r&&h&&(-1!==h.indexOf("Shadow")||-1!==h.indexOf("shadow"))&&(l.setAttachment(null),l.color.set(0,0,0,0)),void 0!==n){if(!h.includes("tint"))continue;l.color=n}}return s},n.getSpineAnim3D=function(){var t=s(regeneratorRuntime.mark((function t(e,n){var r,i,o,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadCharacter(e);case 2:if(r=t.sent,i=new THREE_SPINE.threejs.SkeletonMesh(r),1,i.zOffset=1,i.scale.y=-1,i.scale.x=1,i.scale.z=-1,!a.a.characters[e].spineRef)for(o in i.skeleton.slots)i.skeleton.slots[o].color.set(0,0,0,1);if(void 0===n){t.next=21;break}t.t0=regeneratorRuntime.keys(i.skeleton.slots);case 12:if((t.t1=t.t0()).done){t.next=21;break}if(s=t.t1.value,u=i.skeleton.slots[s],u.data.name.includes("tint")){t.next=18;break}return t.abrupt("continue",12);case 18:u.color=n,t.next=12;break;case 21:return t.abrupt("return",i);case 22:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e}()}).call(this,n(0))},function(t,e,n){"use strict";var r=n(89),i=n(612),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("copyWithin",(function(t,e){return i.call(a(this),t,e,arguments.length>2?arguments[2]:void 0)}))},function(t,e,n){"use strict";var r=n(89),i=n(122).every,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("every",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(89),i=n(301),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("fill",(function(t){return i.apply(a(this),arguments)}))},function(t,e,n){"use strict";var r=n(89),i=n(122).filter,a=n(613),o=r.aTypedArray;(0,r.exportTypedArrayMethod)("filter",(function(t){var e=i(o(this),t,arguments.length>1?arguments[1]:void 0);return a(this,e)}))},function(t,e,n){"use strict";var r=n(89),i=n(122).find,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("find",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(89),i=n(122).findIndex,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("findIndex",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(89),i=n(122).forEach,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("forEach",(function(t){i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(89),i=n(232).includes,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("includes",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(89),i=n(232).indexOf,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("indexOf",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(54),i=n(89),a=n(15),o=n(86)("iterator"),s=r.Uint8Array,u=a.values,c=a.keys,l=a.entries,h=i.aTypedArray,d=i.exportTypedArrayMethod,p=s&&s.prototype[o],f=!!p&&("values"==p.name||null==p.name),m=function(){return u.call(h(this))};d("entries",(function(){return l.call(h(this))})),d("keys",(function(){return c.call(h(this))})),d("values",m,!f),d(o,m,!f)},function(t,e,n){"use strict";var r=n(89),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=[].join;a("join",(function(t){return o.apply(i(this),arguments)}))},function(t,e,n){"use strict";var r=n(89),i=n(614),a=r.aTypedArray;(0,r.exportTypedArrayMethod)("lastIndexOf",(function(t){return i.apply(a(this),arguments)}))},function(t,e,n){"use strict";var r=n(89),i=n(122).map,a=n(182),o=r.aTypedArray,s=r.aTypedArrayConstructor;(0,r.exportTypedArrayMethod)("map",(function(t){return i(o(this),t,arguments.length>1?arguments[1]:void 0,(function(t,e){return new(s(a(t,t.constructor)))(e)}))}))},function(t,e,n){"use strict";var r=n(89),i=n(486).left,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduce",(function(t){return i(a(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(89),i=n(486).right,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("reduceRight",(function(t){return i(a(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(89),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=Math.floor;a("reverse",(function(){for(var t,e=i(this).length,n=o(e/2),r=0;r<n;)t=this[r],this[r++]=this[--e],this[e]=t;return this}))},function(t,e,n){"use strict";var r=n(89),i=n(97),a=n(485),o=n(113),s=n(50),u=r.aTypedArray;(0,r.exportTypedArrayMethod)("set",(function(t){u(this);var e=a(arguments.length>1?arguments[1]:void 0,1),n=this.length,r=o(t),s=i(r.length),c=0;if(s+e>n)throw RangeError("Wrong length");for(;c<s;)this[e+c]=r[c++]}),s((function(){new Int8Array(1).set({})})))},function(t,e,n){"use strict";var r=n(89),i=n(182),a=n(50),o=r.aTypedArray,s=r.aTypedArrayConstructor,u=r.exportTypedArrayMethod,c=[].slice;u("slice",(function(t,e){for(var n=c.call(o(this),t,e),r=i(this,this.constructor),a=0,u=n.length,l=new(s(r))(u);u>a;)l[a]=n[a++];return l}),a((function(){new Int8Array(1).slice()})))},function(t,e,n){"use strict";var r=n(89),i=n(122).some,a=r.aTypedArray;(0,r.exportTypedArrayMethod)("some",(function(t){return i(a(this),t,arguments.length>1?arguments[1]:void 0)}))},function(t,e,n){"use strict";var r=n(89),i=r.aTypedArray,a=r.exportTypedArrayMethod,o=[].sort;a("sort",(function(t){return o.call(i(this),t)}))},function(t,e,n){"use strict";var r=n(89),i=n(97),a=n(191),o=n(182),s=r.aTypedArray;(0,r.exportTypedArrayMethod)("subarray",(function(t,e){var n=s(this),r=n.length,u=a(t,r);return new(o(n,n.constructor))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,i((void 0===e?r:a(e,r))-u))}))},function(t,e,n){"use strict";var r=n(54),i=n(89),a=n(50),o=r.Int8Array,s=i.aTypedArray,u=i.exportTypedArrayMethod,c=[].toLocaleString,l=[].slice,h=!!o&&a((function(){c.call(new o(1))}));u("toLocaleString",(function(){return c.apply(h?l.call(s(this)):s(this),arguments)}),a((function(){return[1,2].toLocaleString()!=new o([1,2]).toLocaleString()}))||!a((function(){o.prototype.toLocaleString.call([1,2])})))},function(t,e,n){"use strict";var r=n(89).exportTypedArrayMethod,i=n(50),a=n(54).Uint8Array,o=a&&a.prototype||{},s=[].toString,u=[].join;i((function(){s.call({})}))&&(s=function(){return u.call(this)});var c=o.toString!=s;r("toString",s,c)},function(t,e,n){"use strict";n.d(e,"a",(function(){return J})),n.d(e,"b",(function(){return Q})),n.d(e,"c",(function(){return $})),n.d(e,"d",(function(){return tt}));var r=n(0);n(27);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=function(t){var e,n;function u(e){var n;return s(a(n=t.call(this)||this),"_bg",void 0),s(a(n),"_fg",void 0),n._bg=r.Sprite.from("assets/content/stadiums/stadium-artworks/background-"+e+".jpg"),n._bg.anchor.set(.5),n._fg=new r.Container,n._fg.x=-n.bg.width/2,n._fg.y=-n.bg.height/2,n.addChild(n._bg),n._bg.addChild(n._fg),n}n=t,(e=u).prototype=Object.create(n.prototype),e.prototype.constructor=e,o(e,n);var c,l,h,d=u.prototype;return d.showDecorations=function(){this.fg.visible=!0},d.hideDecorations=function(){this.fg.visible=!1},c=u,(l=[{key:"bg",get:function(){return this._bg}},{key:"fg",get:function(){return this._fg}}])&&i(c.prototype,l),h&&i(c,h),Object.defineProperty(c,"prototype",{writable:!1}),u}(r.Container),c=n(1);function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=function(t){var e,n;function i(e,n){var i;void 0===e&&(e=!1),d(l(i=t.call(this)||this),"spots",void 0),d(l(i),"config",void 0),d(l(i),"tick",void 0),i.spots=[],i.config=n||(e?[{x:960,y:1080,rotation:Math.PI/2-.2},{x:960,y:1080,rotation:Math.PI/2},{x:960,y:1080,rotation:Math.PI/2+.2},{x:0,y:1080,rotation:Math.PI/2+.4},{x:1920,y:1080,rotation:Math.PI/2-.4}]:[{x:200,y:100,rotation:-Math.PI/2-Math.PI/4},{x:1720,y:100,rotation:-Math.PI/4},{x:320,y:190,rotation:-Math.PI/2-Math.PI/4+.4},{x:1600,y:190,rotation:-Math.PI/4-.4}]);for(var a=0;a<i.config.length;a++){var o=r.Sprite.from("home_stadium_light.png");o.blendMode=r.BLEND_MODES.ADD,o.anchor.set(.95,.5),o.position.x=i.config[a].x,o.position.y=i.config[a].y,o.tick=a%2==0?-1:1,o.startTick=1e3*Math.random(),o.alpha=.6,i.spots.push(o),i.addChild(o)}return i.tick=0,i}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,h(e,n);var a=i.prototype;return a.update=function(t){this.tick+=.015*t;for(var e=0;e<this.spots.length;e++){var n=Math.PI/180*Math.sin(this.spots[e].startTick+this.tick*this.spots[e].tick)*18;this.spots[e].rotation=this.config[e].rotation-n}},a.show=function(){Object(c.tween)(this,.3,{alpha:1})},a.hide=function(){Object(c.tween)(this,.5,{alpha:0})},i}(r.Container);function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y=function(t){var e,n;function i(e){var n;g(f(n=t.call(this)||this),"flashes",void 0),g(f(n),"active",void 0),g(f(n),"w",void 0),g(f(n),"h",void 0),g(f(n),"heightOffset",void 0),g(f(n),"maxFlashSize",void 0),n.w=e.width,n.h=e.height,n.heightOffset=0|e.heightOffset,n.maxFlashSize=e.maxFlashSize||2,n.flashes=[],e.debug&&n.debug();for(var i=0;i<20;i++){var a=r.Sprite.from("camera-flash.png");a.anchor.set(.5),n.flashes.push(a),n.addChild(a)}return n.active=!0,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,m(e,n);var a=i.prototype;return a.flash=function(){var t=this;Object(c.delay)(1.5*Math.random()+.3).then((function(){t.active&&t.flash()}));for(var e=0;e<this.flashes.length;e++)this.flashes[e].position.x=Math.random()*this.w,this.flashes[e].position.y=Math.random()*this.h+this.heightOffset,this.flashes[e].alpha=1,this.flashes[e].scale.set(.1+Math.random()*(this.maxFlashSize-.1)),Object(c.tween)(this.flashes[e],Math.random()+.3,{alpha:0})},a.show=function(){this.active=!0,this.flash()},a.hide=function(){this.active=!1},a.debug=function(){var t=new r.Graphics;t.beginFill(0),t.drawRect(0,0,this.w,this.h),t.position.y=this.heightOffset,this.addChild(t)},i}(r.Container);function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(t){var e,n;function i(){var e;_(v(e=t.call(this,"oasis")||this),"searchlights",void 0),_(v(e),"spotlights",void 0),_(v(e),"cameraFlashes",void 0);var n=new r.Container,i=new r.Container;return e.spotlights=new p,i.addChild(e.spotlights),e.spotlights.scale.set(.591),e.cameraFlashes=new y({width:e.bg.texture.width,height:e.bg.texture.height/3,heightOffset:284}),e.searchlights=new p(!0),n.addChild(e.searchlights),n.alpha=.2,e.searchlights.scale.set(.591),e.fg.addChild(n),e.fg.addChild(i),e.fg.addChild(e.cameraFlashes),e}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,b(e,n);var a=i.prototype;return a.update=function(t){this.spotlights.update(t)},a.showDecorations=function(){t.prototype.showDecorations.call(this),this.cameraFlashes.show(),this.spotlights.show(),this.searchlights.show()},a.hideDecorations=function(){this.cameraFlashes.hide(),this.spotlights.hide(),this.searchlights.hide(),t.prototype.hideDecorations.call(this)},i}(u),x=(n(15),n(5),n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(26)),S=n(12);function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A=function(t){var e,n;function r(){var e;E(T(e=t.call(this)||this),"mesh",void 0),E(T(e),"geometry",void 0),E(T(e),"time",void 0);var n=new Float32Array(1200),r=new Float32Array(400),i=new Float32Array(1200),a=new Float32Array(400);e.time=0;for(var o="assets/content/stadiums/core-assets/tokyo-stadium/decorations/",s=[x.LegacyUtils.getTexture(o+"petal1_01.png"),x.LegacyUtils.getTexture(o+"petal2_01.png"),x.LegacyUtils.getTexture(o+"petal3_01.png"),x.LegacyUtils.getTexture(o+"petal4_01.png")],u=0,c=0;c<600;c+=3)n[3*u+0]=1600*Math.random()-800,n[3*u+1]=1600*Math.random()-800,n[3*u+2]=400*Math.random(),r[u]=32+15*Math.random(),i[3*u+0]=Math.random()/2,i[3*u+1]=Math.random()/2,i[3*u+2]=Math.random()/2,a[u]=Math.round(Math.random()*(s.length-1)),u++;return e.geometry=new S.BufferGeometry,e.geometry.addAttribute("position",new S.BufferAttribute(n,3)),e.geometry.addAttribute("size",new S.BufferAttribute(r,1)),e.geometry.addAttribute("info",new S.BufferAttribute(i,3)),e.geometry.addAttribute("texIndex",new S.BufferAttribute(a,1)),e.mesh=new S.Points(e.geometry,new S.ShaderMaterial({vertexShader:"\n                attribute float size;\n                attribute vec3 info;\n                attribute float texIndex;\n                uniform float time;\n                varying float posZ;\n                varying float cosX;\n                varying float textureIndex;\n\n                void main()\n                {\n                    vec4 p = vec4(position, 1.0);\n                    cosX = cos(time * info.x * 2.0);\n                    p.x += cosX * size;\n                    p.y += sin(time * info.y) * size * 0.25;\n                    p.z -= time * 20.0;\n\n                    if (p.z < -0.0)\n                    {\n                        float over = p.z * -1.0;\n                        p.z = 400.0 - (over - (400.0 * floor(over / 400.0)));\n                    }\n\n                    posZ = p.z;\n                    textureIndex = texIndex;\n\n                    gl_PointSize = size;\n                    gl_Position = projectionMatrix * modelViewMatrix * p;\n                }\n            ",fragmentShader:"\n                uniform sampler2D inputTextures[4];\n                varying float posZ;\n                varying float cosX;\n                varying float textureIndex;\n\n                void main()\n                {\n                    vec2 uv = gl_PointCoord;\n                    uv.y = 1.0 - uv.y;\n\n                    float mid = 0.5; \n                    float PI = 3.1415926535897932384626433832795;\n                    float angleRange = PI / 5.0;\n                    float angle = cosX * angleRange;\n\n                    float newX = cos(angle) * (uv.x - mid) + sin(angle) * (uv.y - mid) + mid;\n                    float newY = cos(angle) * (uv.y - mid) - sin(angle) * (uv.x - mid) + mid;\n                    vec2 rotatedUv = vec2(newX, newY);\n\n                    float index = floor(textureIndex + 0.1);\n                    vec4 texture = vec4(0);\n                    if (index == 0.0) texture = texture2D(inputTextures[0], rotatedUv);\n                    else if (index == 1.0) texture = texture2D(inputTextures[1], rotatedUv);\n                    else if (index == 2.0) texture = texture2D(inputTextures[2], rotatedUv);\n                    else if (index == 3.0) texture = texture2D(inputTextures[3], rotatedUv);\n\n                    float texAlpha = texture.a;\n\n                    gl_FragColor = texture;\n\n                    if ( texAlpha < 0.1 )\n                    {\n                        discard;\n                    }\n\n                    if(posZ < 20.0)\n                    {\n                        gl_FragColor.a = posZ / 20.0;\n                    }\n                }\n            ",uniforms:{inputTextures:{type:"tv",value:s},time:{type:"f",value:0}},transparent:!0})),e.position.x=800,e.position.y=450,e.add(e.mesh),e}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,M(e,n),r.prototype.update=function(t){this.time+=.055*t,this.mesh.material.uniforms.time.value=this.time},r}(S.Object3D),k=n(520),C=n.n(k);function O(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function L(t,e){return(L=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function R(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var P=function(t){var e,n;function r(){var e;R(O(e=t.call(this)||this),"mesh",void 0),R(O(e),"geometry",void 0),R(O(e),"time",void 0);var n=new Float32Array(6912),r=new Float32Array(2304),i=new Float32Array(6912),a=new Float32Array(6912),o=["ffffff"];e.time=0;for(var s=0,u=0;u<6912;u+=3){n[3*s+0]=1600*Math.random()-800,n[3*s+1]=1600*Math.random()-800,n[3*s+2]=400*Math.random(),r[s]=5+10*Math.random(),i[3*s+0]=Math.random()/2,i[3*s+1]=Math.random()/2,i[3*s+2]=Math.random()/2;var c=C()(o[Math.floor(Math.random()*o.length)]);a[3*s+0]=c[0]/255,a[3*s+1]=c[1]/255,a[3*s+2]=c[2]/255,s++}return e.geometry=new S.BufferGeometry,e.geometry.addAttribute("position",new S.BufferAttribute(n,3)),e.geometry.addAttribute("size",new S.BufferAttribute(r,1)),e.geometry.addAttribute("info",new S.BufferAttribute(i,3)),e.geometry.addAttribute("color",new S.BufferAttribute(a,3)),e.mesh=new S.Points(e.geometry,new S.ShaderMaterial({vertexShader:"\n                attribute float size;\n                attribute vec3 info;\n                attribute vec3 color;\n                uniform float time;\n                varying vec3 vColor;\n                varying float posZ;\n\n                void main()\n                {\n                    vColor = color;\n                    vec4 p = vec4(position, 1.0);\n                    p.x += cos(time * info.x) * size;\n                    p.y += sin(time * info.y) * size;\n                    p.z -= time * 20.0;\n\n                    if (p.z < -0.0)\n                    {\n                        float over = p.z * -1.0;\n                        p.z = 400.0 - (over - (400.0 * floor(over / 400.0)));\n                    }\n\n                    posZ = p.z;\n\n                    gl_PointSize = size;\n                    gl_Position = projectionMatrix * modelViewMatrix * p;\n                }\n            ",fragmentShader:"\n                varying vec3 vColor;\n                varying float posZ;\n\n                void main()\n                {\n                    if ( length(vec2(0.5) - gl_PointCoord) > 0.5 )\n                    {\n                        discard;\n                    }\n\n                    // gl_FragColor = vec4(vColor, 0.8);\n                    gl_FragColor = vec4(1.0, 1.0, 1.0, 0.8);\n\n                    if(posZ < 20.0)\n                    {\n                        gl_FragColor.a = posZ / 20.0;\n                    }\n                }\n            ",uniforms:{time:{type:"f",value:0}},transparent:!0})),e.position.x=800,e.position.y=450,e.add(e.mesh),e}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,L(e,n),r.prototype.update=function(t){this.time+=.055*t,this.mesh.material.uniforms.time.value=this.time},r}(S.Object3D);function D(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I(t,e){return(I=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function B(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var N=function(t){var e,n;function i(){var e;B(D(e=t.call(this,"beach")||this),"searchlights",void 0),B(D(e),"spotlights",void 0),B(D(e),"cameraFlashes",void 0);var n=new r.Container,i=new r.Container;return e.spotlights=new p,i.addChild(e.spotlights),i.alpha=.5,e.spotlights.scale.set(.591),e.cameraFlashes=new y({width:e.bg.texture.width,height:e.bg.texture.height/5,heightOffset:275,maxFlashSize:1.4}),e.searchlights=new p(!0),n.addChild(e.searchlights),n.alpha=.2,e.searchlights.scale.set(.591),e.fg.addChild(n),e.fg.addChild(i),e.fg.addChild(e.cameraFlashes),e}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,I(e,n);var a=i.prototype;return a.update=function(t){this.spotlights.update(t)},a.showDecorations=function(){t.prototype.showDecorations.call(this),this.cameraFlashes.show(),this.spotlights.show(),this.searchlights.show()},a.hideDecorations=function(){this.cameraFlashes.hide(),this.spotlights.hide(),this.searchlights.hide(),t.prototype.hideDecorations.call(this)},i}(u);function j(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function F(t,e){return(F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function U(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Y=function(t){var e,n;function i(){var e;U(j(e=t.call(this,"default")||this),"searchlights",void 0),U(j(e),"spotlights",void 0),U(j(e),"cameraFlashes",void 0);var n=new r.Container,i=new r.Container;return e.spotlights=new p,i.addChild(e.spotlights),e.spotlights.scale.set(.591),e.cameraFlashes=new y({width:e.bg.texture.width,height:e.bg.texture.height/3,heightOffset:284}),e.searchlights=new p(!0),n.addChild(e.searchlights),n.alpha=.2,e.searchlights.scale.set(.591),e.fg.addChild(n),e.fg.addChild(i),e.fg.addChild(e.cameraFlashes),e}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,F(e,n);var a=i.prototype;return a.update=function(t){this.spotlights.update(t)},a.showDecorations=function(){t.prototype.showDecorations.call(this),this.cameraFlashes.show(),this.spotlights.show(),this.searchlights.show()},a.hideDecorations=function(){this.cameraFlashes.hide(),this.spotlights.hide(),this.searchlights.hide(),t.prototype.hideDecorations.call(this)},i}(u);function G(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function H(t,e){return(H=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function V(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function X(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function K(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Z(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var J={oasis:{id:"oasis",name:"STR_STADIUM_OASIS",show:!0,available:!0,selected:!1,background:w,bleacherFrames:4,comingSoon:!0,unlockedPanels:[],locked:!0},beach:{id:"beach",name:"STR_STADIUM_BEACH",show:!0,available:!0,locked:!0,comingSoon:!0,selected:!1,unlockedPanels:[],background:N,bleacherFrames:4},tokyo:{id:"tokyo",name:"STR_STADIUM_TOKYO",show:!0,available:!0,locked:!0,comingSoon:!0,selected:!1,unlockedPanels:[],background:function(t){var e,n;function i(){var e;z(G(e=t.call(this,"tokyo")||this),"searchlights",void 0),z(G(e),"spotlights",void 0),z(G(e),"cameraFlashes",void 0);var n=new r.Container,i=new r.Container;return e.spotlights=new p,i.addChild(e.spotlights),e.spotlights.scale.set(.591),e.cameraFlashes=new y({width:e.bg.texture.width,height:e.bg.texture.height/5,heightOffset:275,maxFlashSize:1.4}),e.searchlights=new p(!0),n.addChild(e.searchlights),n.alpha=.5,e.searchlights.scale.set(.591),e.fg.addChild(n),e.fg.addChild(i),e.fg.addChild(e.cameraFlashes),e}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,H(e,n);var a=i.prototype;return a.update=function(t){this.spotlights.update(t)},a.showDecorations=function(){t.prototype.showDecorations.call(this),this.cameraFlashes.show(),this.spotlights.show(),this.searchlights.show()},a.hideDecorations=function(){this.cameraFlashes.hide(),this.spotlights.hide(),this.searchlights.hide(),t.prototype.hideDecorations.call(this)},i}(u),gameDecoration:A,bleacherFrames:4},urban:{id:"urban",name:"STR_STADIUM_URBAN",show:!0,available:!0,locked:!0,comingSoon:!0,selected:!1,unlockedPanels:[],background:function(t){var e,n;function i(){var e;X(V(e=t.call(this,"urban")||this),"searchlights",void 0),X(V(e),"spotlights",void 0),X(V(e),"cameraFlashes",void 0);var n=new r.Container,i=new r.Container;return e.spotlights=new p,i.addChild(e.spotlights),i.alpha=.5,e.spotlights.scale.set(.591),e.cameraFlashes=new y({width:e.bg.texture.width,height:e.bg.texture.height/5,heightOffset:275,maxFlashSize:1.4}),e.searchlights=new p(!0),n.addChild(e.searchlights),n.alpha=.2,e.searchlights.scale.set(.591),e.fg.addChild(n),e.fg.addChild(i),e.fg.addChild(e.cameraFlashes),e}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,W(e,n);var a=i.prototype;return a.update=function(t){this.spotlights.update(t)},a.showDecorations=function(){t.prototype.showDecorations.call(this),this.cameraFlashes.show(),this.spotlights.show(),this.searchlights.show()},a.hideDecorations=function(){this.cameraFlashes.hide(),this.spotlights.hide(),this.searchlights.hide(),t.prototype.hideDecorations.call(this)},i}(u),bleacherFrames:4},default:{id:"default",name:"STR_STADIUM_DEFAULT",show:!0,available:!0,locked:!1,selected:!0,background:Y,bleacherFrames:4},winter:{id:"winter",name:"STR_STADIUM_WINTER",show:!1,available:!1,locked:!1,selected:!1,background:function(t){var e,n;function i(){var e;Z(K(e=t.call(this,"winter")||this),"searchlights",void 0),Z(K(e),"spotlights",void 0),Z(K(e),"cameraFlashes",void 0);var n=new r.Container,i=new r.Container;return e.spotlights=new p,i.addChild(e.spotlights),i.alpha=.5,e.spotlights.scale.set(.591),e.cameraFlashes=new y({width:e.bg.texture.width,height:e.bg.texture.height/3,heightOffset:248}),e.searchlights=new p(!0),n.addChild(e.searchlights),n.alpha=.1,e.searchlights.scale.set(.591),e.fg.addChild(n),e.fg.addChild(i),e.fg.addChild(e.cameraFlashes),e}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,q(e,n);var a=i.prototype;return a.update=function(t){this.spotlights.update(t)},a.showDecorations=function(){t.prototype.showDecorations.call(this),this.cameraFlashes.show(),this.spotlights.show(),this.searchlights.show()},a.hideDecorations=function(){this.cameraFlashes.hide(),this.spotlights.hide(),this.searchlights.hide(),t.prototype.hideDecorations.call(this)},i}(u),gameDecoration:P,bleacherFrames:4}},Q=function(){for(var t in J)if(J[t].isNew)return!0;return!1},$={all:function(){var t=[];for(var e in J)t.push(J[e]);return t},showable:function(){var t=[];for(var e in J)J[e].show&&t.push(J[e]);return t},unlocked:function(){var t=[];for(var e in J)J[e].locked||t.push(J[e]);return t},locked:function(){var t=[];for(var e in J)J[e].locked&&t.push(J[e]);return t},selected:function(){var t=null;for(var e in J)J[e].selected&&(t=J[e]);return t},withId:function(t){for(var e in J)if(J[e].id===t)return J[e]},saveFormat:function(){var t={};for(var e in J){var n={locked:J[e].locked,selected:J[e].selected,unlockedPanels:J[e].unlockedPanels,isNew:J[e].isNew};t[e]=n}return t}},tt=function(t){for(var e in t)J[e].locked=t[e].locked,J[e].selected=t[e].selected,J[e].unlockedPanels=t[e].unlockedPanels,J[e].isNew=t[e].isNew}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return o}));n(99),n(51),n(119),n(133),n(38),n(166),n(106),n(299),n(107);var r=n(24);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onUpdate=new r.Signal,this.dictionaries={en:{}},this._language="en"}var e,n,a;return e=t,(n=[{key:"appendDictionary",value:function(t,e){if(!e)throw new Error("[I18n] Invalid data");for(var n in e)this.setEntry(n,e[n],t);this.onUpdate.emit(this)}},{key:"changeLanguage",value:function(t){if(!this.dictionaries[t])throw new Error("[I18n] Language not available: ".concat(t));this._language=t,this.onUpdate.emit(this)}},{key:"language",get:function(){return this._language},set:function(t){this.changeLanguage(t)}},{key:"getLanguages",value:function(){return Object.keys(this.dictionaries)}},{key:"getEntry",value:function(t,e){e||(e=this._language);var n=this.dictionaries[e];if(!n)throw new Error("[I18n] No content for language: ".concat(e));var r=n[t];if(!r)throw new Error("[I18n] Entry ".concat(t," not available on ").concat(e));return r}},{key:"setEntry",value:function(e,n,r){r||(r=this._language),this.dictionaries[r]||(this.dictionaries[r]={});var i=this.dictionaries[r];i[e]||(i[e]=Object.assign({},t.defaultEntry));var a=i[e];return"string"==typeof n&&(n={text:n}),Object.assign(a,n),a.text=String(a.text),a.type=String(a.type),a.fontName=String(a.fontName),a.scale=Number(a.scale),a.offsetX=Number(a.offsetX),a.offsetY=Number(a.offsetY),a}},{key:"translate",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.getEntry(t);return this.format(n.text,e)}},{key:"format",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match(/{{(.*?)}}/gm)||{};for(var r in n){var i=n[r],a=i.replace("{{","").replace("}}","");if(void 0===e[a])throw new Error("[I18n] Missing param ".concat(a," for text: ").concat(t));t=t.replace(new RegExp(i,"gm"),String(e[a]))}return t}}])&&i(e.prototype,n),a&&i(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();a.defaultEntry={type:"text",text:"",fontName:"",scale:1,offsetX:0,offsetY:0};var o=new a},function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return r}));var r,i=n(32);i.b.TARGET_FPMS=.06,function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"}(r||(r={}));var a=function(){function t(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=0),void 0===r&&(r=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=e,this.priority=n,this.once=r}return t.prototype.match=function(t,e){return void 0===e&&(e=null),this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(t){void 0===t&&(t=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.next;return this.next=t?null:e,this.previous=null,e},t}(),o=function(){function t(){var t=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new a(null,null,1/0),this.deltaMS=1/i.b.TARGET_FPMS,this.elapsedMS=1/i.b.TARGET_FPMS,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e,n){return void 0===n&&(n=r.NORMAL),this._addListener(new a(t,e,n))},t.prototype.addOnce=function(t,e,n){return void 0===n&&(n=r.NORMAL),this._addListener(new a(t,e,n,!0))},t.prototype._addListener=function(t){var e=this._head.next,n=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(n);break}n=e,e=e.next}t.previous||t.connect(n)}else t.connect(n);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var n=this._head.next;n;)n=n.match(t,e)?n.destroy():n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var t=0,e=this._head;e=e.next;)t++;return t},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(t){var e;if(void 0===t&&(t=performance.now()),t>this.lastTime){if((e=this.elapsedMS=t-this.lastTime)>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){var n=t-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=t-n%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*i.b.TARGET_FPMS;for(var r=this._head,a=r.next;a;)a=a.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(this.maxFPS,t),n=Math.min(Math.max(0,e)/1e3,i.b.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(t){if(0===t)this._minElapsedMS=0;else{var e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),s=function(){function t(){}return t.init=function(t){var e=this;t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,r.LOW)},get:function(){return this._ticker}}),this.stop=function(){e._ticker.stop()},this.start=function(){e._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?o.shared:new o,t.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var t=this._ticker;this.ticker=null,t.destroy()}},t}()},function(t,e,n){"use strict";n.d(e,"c",(function(){return i})),n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return a})),n.d(e,"d",(function(){return o}));var r,i=864e5;!function(t){t[t.UPCOMING=0]="UPCOMING",t[t.ACTIVE=1]="ACTIVE",t[t.INACTIVE=2]="INACTIVE"}(r||(r={}));var a={summer2018:{title:"STR_LEADERBOARD_SUMMER2018",start:"1 July 2018",end:"30 July 2018",status:r.INACTIVE},winter2018:{title:"STR_LEADERBOARD_WINTER2018",start:"1 Nov 2018",end:"30 Nov 2018",status:r.INACTIVE},summer2019:{title:"STR_LEADERBOARD_SUMMER2019",start:"1 July 2019",end:"30 July 2019",status:r.INACTIVE},winter2019:{title:"STR_LEADERBOARD_WINTER2019",start:"1 Nov 2019",end:"30 Nov 2019",status:r.INACTIVE},summer2020:{title:"STR_LEADERBOARD_SUMMER",start:"1 July 2020",end:"30 July 2020",status:r.INACTIVE},toon_tastic:{title:"STR_GLOBAL_EVENTS_TOON_TASTIC",start:"1 Sep 2021",end:"27 Oct 2021",status:r.INACTIVE},tremendous_tackle:{title:"STR_GLOBAL_EVENTS_TREMENDOUS_TACKLE",start:"6 Jan 2022",end:"17 Feb 2022",status:r.INACTIVE},superhero_special:{title:"STR_GLOBAL_EVENTS_SUPERHERO_SPECIAL",start:"28 Apr 2022",end:"4 May 2022",status:r.INACTIVE},heroically_awesome:{title:"STR_GLOBAL_EVENTS_HEROICALLY_AWESOME",start:"26 May 2022",end:"21 July 2022",status:r.INACTIVE},golden_goal:{title:"STR_GLOBAL_EVENTS_GOLDEN_GOAL",start:"17 Nov 2022",end:"5 Jan 2023",status:r.INACTIVE}},o=function(t){for(var e in a)if(a[e].title===t)return e;return null}},function(t,e,n){"use strict";var r=n(41),i=n(191),a=n(144),o=n(97),s=n(113),u=n(288),c=n(211),l=n(212)("splice"),h=Math.max,d=Math.min;r({target:"Array",proto:!0,forced:!l},{splice:function(t,e){var n,r,l,p,f,m,g=s(this),y=o(g.length),v=i(t,y),b=arguments.length;if(0===b?n=r=0:1===b?(n=0,r=y-v):(n=b-2,r=d(h(a(e),0),y-v)),y+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(l=u(g,r),p=0;p<r;p++)(f=v+p)in g&&c(l,p,g[f]);if(l.length=r,n<r){for(p=v;p<y-r;p++)m=p+n,(f=p+r)in g?g[m]=g[f]:delete g[m];for(p=y;p>y-r+n;p--)delete g[p-1]}else if(n>r)for(p=y-r;p>v;p--)m=p+n-1,(f=p+r-1)in g?g[m]=g[f]:delete g[m];for(p=0;p<n;p++)g[p+v]=arguments[p+2];return g.length=y-r+n,l}})},function(t,e,n){n(183)("Float32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){(function(t){function n(t,e){for(var n=0,r=t.length-1;r>=0;r--){var i=t[r];"."===i?t.splice(r,1):".."===i?(t.splice(r,1),n++):n&&(t.splice(r,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function r(t,e){if(t.filter)return t.filter(e);for(var n=[],r=0;r<t.length;r++)e(t[r],r,t)&&n.push(t[r]);return n}e.resolve=function(){for(var e="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){var o=a>=0?arguments[a]:t.cwd();if("string"!=typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,i="/"===o.charAt(0))}return(i?"/":"")+(e=n(r(e.split("/"),(function(t){return!!t})),!i).join("/"))||"."},e.normalize=function(t){var a=e.isAbsolute(t),o="/"===i(t,-1);return(t=n(r(t.split("/"),(function(t){return!!t})),!a).join("/"))||a||(t="."),t&&o&&(t+="/"),(a?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,n){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var i=r(t.split("/")),a=r(n.split("/")),o=Math.min(i.length,a.length),s=o,u=0;u<o;u++)if(i[u]!==a[u]){s=u;break}var c=[];for(u=s;u<i.length;u++)c.push("..");return(c=c.concat(a.slice(s))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!=typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),n=47===e,r=-1,i=!0,a=t.length-1;a>=1;--a)if(47===(e=t.charCodeAt(a))){if(!i){r=a;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":t.slice(0,r)},e.basename=function(t,e){var n=function(t){"string"!=typeof t&&(t+="");var e,n=0,r=-1,i=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!i){n=e+1;break}}else-1===r&&(i=!1,r=e+1);return-1===r?"":t.slice(n,r)}(t);return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){"string"!=typeof t&&(t+="");for(var e=-1,n=0,r=-1,i=!0,a=0,o=t.length-1;o>=0;--o){var s=t.charCodeAt(o);if(47!==s)-1===r&&(i=!1,r=o+1),46===s?-1===e?e=o:1!==a&&(a=1):-1!==e&&(a=-1);else if(!i){n=o+1;break}}return-1===e||-1===r||0===a||1===a&&e===r-1&&e===n+1?"":t.slice(e,r)};var i="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n(475))},function(t,e,n){var r=n(54),i=n(227),a=n(109),o=n(203),s=n(281),u=n(456),c=i("wks"),l=r.Symbol,h=u?l:l&&l.withoutSetter||o;t.exports=function(t){return a(c,t)&&(s||"string"==typeof c[t])||(s&&a(l,t)?c[t]=l[t]:c[t]=h("Symbol."+t)),c[t]}},function(t,e,n){"use strict";var r=n(41),i=n(98),a=n(236),o=n(191),s=n(97),u=n(131),c=n(211),l=n(86),h=n(212)("slice"),d=l("species"),p=[].slice,f=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(t,e){var n,r,l,h=u(this),m=s(h.length),g=o(t,m),y=o(void 0===e?m:e,m);if(a(h)&&("function"!=typeof(n=h.constructor)||n!==Array&&!a(n.prototype)?i(n)&&null===(n=n[d])&&(n=void 0):n=void 0,n===Array||void 0===n))return p.call(h,g,y);for(r=new(void 0===n?Array:n)(f(y-g,0)),l=0;g<y;g++,l++)g in h&&c(r,l,h[g]);return r.length=l,r}})},function(t,e,n){"use strict";var r=n(41),i=n(122).filter;r({target:"Array",proto:!0,forced:!n(212)("filter")},{filter:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r,i=n(482),a=n(105),o=n(54),s=n(98),u=n(109),c=n(205),l=n(125),h=n(118),d=n(111).f,p=n(193),f=n(192),m=n(86),g=n(203),y=o.Int8Array,v=y&&y.prototype,b=o.Uint8ClampedArray,_=b&&b.prototype,w=y&&p(y),x=v&&p(v),S=Object.prototype,T=S.isPrototypeOf,M=m("toStringTag"),E=g("TYPED_ARRAY_TAG"),A=i&&!!f&&"Opera"!==c(o.opera),k=!1,C={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},O={BigInt64Array:8,BigUint64Array:8},L=function(t){if(!s(t))return!1;var e=c(t);return u(C,e)||u(O,e)};for(r in C)o[r]||(A=!1);if((!A||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},A))for(r in C)o[r]&&f(o[r],w);if((!A||!x||x===S)&&(x=w.prototype,A))for(r in C)o[r]&&f(o[r].prototype,x);if(A&&p(_)!==x&&f(_,x),a&&!u(x,M))for(r in k=!0,d(x,M,{get:function(){return s(this)?this[E]:void 0}}),C)o[r]&&l(o[r],E,r);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:A,TYPED_ARRAY_TAG:k&&E,aTypedArray:function(t){if(L(t))return t;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(t){if(f){if(T.call(w,t))return t}else for(var e in C)if(u(C,r)){var n=o[e];if(n&&(t===n||T.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(t,e,n){if(a){if(n)for(var r in C){var i=o[r];if(i&&u(i.prototype,t))try{delete i.prototype[t]}catch(t){}}x[t]&&!n||h(x,t,n?e:A&&v[t]||e)}},exportTypedArrayStaticMethod:function(t,e,n){var r,i;if(a){if(f){if(n)for(r in C)if((i=o[r])&&u(i,t))try{delete i[t]}catch(t){}if(w[t]&&!n)return;try{return h(w,t,n?e:A&&w[t]||e)}catch(t){}}for(r in C)!(i=o[r])||i[t]&&!n||h(i,t,e)}},isView:function(t){if(!s(t))return!1;var e=c(t);return"DataView"===e||u(C,e)||u(O,e)},isTypedArray:L,TypedArray:w,TypedArrayPrototype:x}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=new(n(55).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return C})),n.d(e,"b",(function(){return k})),n.d(e,"c",(function(){return O})),n.d(e,"d",(function(){return A}));var r=n(445),i=n.n(r),a=n(150),o=n.n(a);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(){}function c(t,e,n,r){var i=0,a=t.length;!function o(s){s||i===a?n&&n(s):r?setTimeout((function(){e(t[i++],o)}),1):e(t[i++],o)}()}function l(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function h(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var n=0,r={_tasks:[],concurrency:e,saturated:u,unsaturated:u,buffer:e/4,empty:u,drain:u,error:u,started:!1,paused:!1,push:function(t,e){i(t,!1,e)},kill:function(){n=0,r.drain=u,r.started=!1,r._tasks=[]},unshift:function(t,e){i(t,!0,e)},process:function(){for(;!r.paused&&n<r.concurrency&&r._tasks.length;){var e=r._tasks.shift();0===r._tasks.length&&r.empty(),(n+=1)===r.concurrency&&r.saturated(),t(e.data,l(a(e)))}},length:function(){return r._tasks.length},running:function(){return n},idle:function(){return r._tasks.length+n===0},pause:function(){!0!==r.paused&&(r.paused=!0)},resume:function(){if(!1!==r.paused){r.paused=!1;for(var t=1;t<=r.concurrency;t++)r.process()}}};function i(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(r.started=!0,null==t&&r.idle())setTimeout((function(){return r.drain()}),1);else{var i={data:t,callback:"function"==typeof n?n:u};e?r._tasks.unshift(i):r._tasks.push(i),setTimeout((function(){return r.process()}),1)}}function a(t){return function(){n-=1,t.callback.apply(t,arguments),null!=arguments[0]&&r.error(arguments[0],t.data),n<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}return r}var d={};function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}var m=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),g=null;function y(){}var v=function(){function t(e,n,r){if("string"!=typeof e||"string"!=typeof n)throw new Error("Both name and url are required for constructing a resource.");r=r||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===n.indexOf("data:")),this.name=e,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===r.crossOrigin?"anonymous":r.crossOrigin,this.timeout=r.timeout||0,this.loadType=r.loadType||this._determineLoadType(),this.xhrType=r.xhrType,this.metadata=r.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=y,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new o.a,this.onProgress=new o.a,this.onComplete=new o.a,this.onAfterMiddleware=new o.a}t.setExtensionLoadType=function(e,n){b(t._loadTypeMap,e,n)},t.setExtensionXhrType=function(e,n){b(t._xhrTypeMap,e,n)};var e=t.prototype;return e.complete=function(){this._clearEvents(),this._finish()},e.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.load=function(e){var n=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout((function(){return e(n)}),1);else switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:m&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e._hasFlag=function(t){return 0!=(this._flags&t)},e._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},e._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(t),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(t,this.url[n],Array.isArray(e)?e[n]:e));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+t)},e._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},e._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=this.timeout||5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXhrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout((function(){return t.send()}),1)},e._createSource=function(t,e,n){n||(n=t+"/"+this._getExtension(e));var r=document.createElement("source");return r.src=e,r.type=n,r},e._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},e._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},e._onTimeout=function(){this.abort("Load timed out.")},e._xhrOnError=function(){var t=this.xhr;this.abort(_(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},e._xhrOnTimeout=function(){var t=this.xhr;this.abort(_(t)+" Request timed out.")},e._xhrOnAbort=function(){var t=this.xhr;this.abort(_(t)+" Request was aborted by the user.")},e._xhrOnLoad=function(){var e=this.xhr,n="",r=void 0===e.status?200:e.status;if(""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(n=e.responseText),0===r&&(n.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?r=200:1223===r&&(r=204),2===(r/100|0)){if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=n,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(n),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var i=new DOMParser;this.data=i.parseFromString(n,"text/xml")}else{var a=document.createElement("div");a.innerHTML=n,this.data=a}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||n;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},e._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";e=e||window.location,g||(g=document.createElement("a")),g.href=t;var n=!(t=i()(g.href,{strictMode:!0})).port&&""===e.port||t.port===e.port,r=t.protocol?t.protocol+":":"";return t.host===e.hostname&&n&&r===e.protocol?"":"anonymous"},e._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},e._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},e._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var n=t.indexOf("/");e=t.substring(n+1,t.indexOf(";",n))}else{var r=t.indexOf("?"),i=t.indexOf("#"),a=Math.min(r>-1?r:t.length,i>-1?i:t.length);e=(t=t.substring(0,a)).substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},e._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},f(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();function b(t,e,n){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=n)}function _(t){return t.toString().replace("object ","")}v.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},v.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},v.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},v.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},v._loadTypeMap={gif:v.LOAD_TYPE.IMAGE,png:v.LOAD_TYPE.IMAGE,bmp:v.LOAD_TYPE.IMAGE,jpg:v.LOAD_TYPE.IMAGE,jpeg:v.LOAD_TYPE.IMAGE,tif:v.LOAD_TYPE.IMAGE,tiff:v.LOAD_TYPE.IMAGE,webp:v.LOAD_TYPE.IMAGE,tga:v.LOAD_TYPE.IMAGE,svg:v.LOAD_TYPE.IMAGE,"svg+xml":v.LOAD_TYPE.IMAGE,mp3:v.LOAD_TYPE.AUDIO,ogg:v.LOAD_TYPE.AUDIO,wav:v.LOAD_TYPE.AUDIO,mp4:v.LOAD_TYPE.VIDEO,webm:v.LOAD_TYPE.VIDEO},v._xhrTypeMap={xhtml:v.XHR_RESPONSE_TYPE.DOCUMENT,html:v.XHR_RESPONSE_TYPE.DOCUMENT,htm:v.XHR_RESPONSE_TYPE.DOCUMENT,xml:v.XHR_RESPONSE_TYPE.DOCUMENT,tmx:v.XHR_RESPONSE_TYPE.DOCUMENT,svg:v.XHR_RESPONSE_TYPE.DOCUMENT,tsx:v.XHR_RESPONSE_TYPE.DOCUMENT,gif:v.XHR_RESPONSE_TYPE.BLOB,png:v.XHR_RESPONSE_TYPE.BLOB,bmp:v.XHR_RESPONSE_TYPE.BLOB,jpg:v.XHR_RESPONSE_TYPE.BLOB,jpeg:v.XHR_RESPONSE_TYPE.BLOB,tif:v.XHR_RESPONSE_TYPE.BLOB,tiff:v.XHR_RESPONSE_TYPE.BLOB,webp:v.XHR_RESPONSE_TYPE.BLOB,tga:v.XHR_RESPONSE_TYPE.BLOB,json:v.XHR_RESPONSE_TYPE.JSON,text:v.XHR_RESPONSE_TYPE.TEXT,txt:v.XHR_RESPONSE_TYPE.TEXT,ttf:v.XHR_RESPONSE_TYPE.BUFFER,otf:v.XHR_RESPONSE_TYPE.BUFFER},v.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==";var w=window.URL||window.webkitURL;var x={caching:function(t,e){var n=this;d[t.url]?(t.data=d[t.url],t.complete()):t.onComplete.once((function(){return d[n.url]=n.data})),e()},parsing:function(t,e){if(t.data){if(t.xhr&&t.xhrType===v.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var n=w.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=n,t.type=v.TYPE.IMAGE,void(t.data.onload=function(){w.revokeObjectURL(n),t.data.onload=null,e()})}}else{var r=t.xhr.getResponseHeader("content-type");if(r&&0===r.indexOf("image"))return t.data=new Image,t.data.src="data:"+r+";base64,"+function(t){for(var e="",n=0;n<t.length;){for(var r=[0,0,0],i=[0,0,0,0],a=0;a<r.length;++a)n<t.length?r[a]=255&t.charCodeAt(n++):r[a]=0;switch(i[0]=r[0]>>2,i[1]=(3&r[0])<<4|r[1]>>4,i[2]=(15&r[1])<<2|r[2]>>6,i[3]=63&r[2],n-(t.length-1)){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64}for(var o=0;o<i.length;++o)e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(i[o])}return e}(t.xhr.responseText),t.type=v.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}else e()}},S=/(#[\w-]+)?$/,T=function(){function t(e,n){var r=this;void 0===e&&(e=""),void 0===n&&(n=10),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,e){return r._loadResource(t,e)},this._queue=h(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new o.a,this.onError=new o.a,this.onLoad=new o.a,this.onStart=new o.a,this.onComplete=new o.a;for(var i=0;i<t._defaultBeforeMiddleware.length;++i)this.pre(t._defaultBeforeMiddleware[i]);for(var a=0;a<t._defaultAfterMiddleware.length;++a)this.use(t._defaultAfterMiddleware[a])}var e=t.prototype;return e.add=function(t,e,n,r){if(Array.isArray(t)){for(var i=0;i<t.length;++i)this.add(t[i]);return this}if("object"===s(t)&&(r=e||t.callback||t.onComplete,n=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(r=n,n=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(r=n,n=null),this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new v(t,e,n),"function"==typeof r&&this.resources[t].onAfterMiddleware.once(r),this.loading){for(var a=n.parentResource,o=[],u=0;u<a.children.length;++u)a.children[u].isComplete||o.push(a.children[u]);var c=a.progressChunk*(o.length+1)/(o.length+2);a.children.push(this.resources[t]),a.progressChunk=c;for(var l=0;l<o.length;++l)o[l].progressChunk=c;this.resources[t].progressChunk=c}return this._queue.push(this.resources[t]),this},e.pre=function(t){return this._beforeMiddleware.push(t),this},e.use=function(t){return this._afterMiddleware.push(t),this},e.reset=function(){for(var t in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var e=100/this._queue._tasks.length,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=e;this._onStart(),this._queue.resume()}return this},e._prepareUrl=function(t){var e,n=i()(t,{strictMode:!0});if(e=n.protocol||!n.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var r=S.exec(e)[0];-1!==(e=e.substr(0,e.length-r.length)).indexOf("?")?e+="&"+this.defaultQueryString:e+="?"+this.defaultQueryString,e+=r}return e},e._loadResource=function(t,e){var n=this;t._dequeue=e,c(this._beforeMiddleware,(function(e,r){e.call(n,t,(function(){r(t.isComplete?{}:null)}))}),(function(){t.isComplete?n._onLoad(t):(t._onLoadBinding=t.onComplete.once(n._onLoad,n),t.load())}),!0)},e._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),c(this._afterMiddleware,(function(n,r){n.call(e,t,r)}),(function(){t.onAfterMiddleware.dispatch(t),e.progress=Math.min(100,e.progress+t.progressChunk),e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&e._onComplete()}),!0)},f(t,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(t){this._queue.concurrency=t}}]),t}();T._defaultBeforeMiddleware=[],T._defaultAfterMiddleware=[],T.pre=function(t){return T._defaultBeforeMiddleware.push(t),T},T.use=function(t){return T._defaultAfterMiddleware.push(t),T};var M=n(13),E=function(t,e){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var A=function(){function t(){}return t.add=function(){v.setExtensionLoadType("svg",v.LOAD_TYPE.XHR),v.setExtensionXhrType("svg",v.XHR_RESPONSE_TYPE.TEXT)},t.use=function(t,e){if(!t.data||t.type!==v.TYPE.IMAGE&&"svg"!==t.extension)e();else{var n=t.data,r=t.url,i=t.name,a=t.metadata;M.db.fromLoader(n,r,i,a).then((function(n){t.texture=n,e()})).catch(e)}},t}(),k=function(t){function e(n,r){for(var i=t.call(this,n,r)||this,a=0;a<e._plugins.length;++a){var o=e._plugins[a],s=o.pre,u=o.use;s&&i.pre(s),u&&i.use(u)}return i._protected=!1,i}return function(t,e){function n(){this.constructor=t}E(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}(T);k.registerPlugin({use:x.parsing}),k.registerPlugin(A);var C=function(){function t(){}return t.init=function(t){t=Object.assign({sharedLoader:!1},t),this.loader=t.sharedLoader?k.shared:new k},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t}(),O=v},function(t,e,n){"use strict";var r=n(238),i=n(292),a=n(102),o=n(120),s=n(182),u=n(293),c=n(97),l=n(239),h=n(237),d=n(290).UNSUPPORTED_Y,p=[].push,f=Math.min;r("split",2,(function(t,e,n){var r;return r="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var r=String(o(this)),a=void 0===n?4294967295:n>>>0;if(0===a)return[];if(void 0===t)return[r];if(!i(t))return e.call(r,t,a);for(var s,u,c,l=[],d=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,m=new RegExp(t.source,d+"g");(s=h.call(m,r))&&!((u=m.lastIndex)>f&&(l.push(r.slice(f,s.index)),s.length>1&&s.index<r.length&&p.apply(l,s.slice(1)),c=s[0].length,f=u,l.length>=a));)m.lastIndex===s.index&&m.lastIndex++;return f===r.length?!c&&m.test("")||l.push(""):l.push(r.slice(f)),l.length>a?l.slice(0,a):l}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var i=o(this),a=null==e?void 0:e[t];return void 0!==a?a.call(e,i,n):r.call(String(i),e,n)},function(t,i){var o=n(r,t,this,i,r!==e);if(o.done)return o.value;var h=a(t),p=String(this),m=s(h,RegExp),g=h.unicode,y=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(d?"g":"y"),v=new m(d?"^(?:"+h.source+")":h,y),b=void 0===i?4294967295:i>>>0;if(0===b)return[];if(0===p.length)return null===l(v,p)?[p]:[];for(var _=0,w=0,x=[];w<p.length;){v.lastIndex=d?0:w;var S,T=l(v,d?p.slice(w):p);if(null===T||(S=f(c(v.lastIndex+(d?w:0)),p.length))===_)w=u(p,w,g);else{if(x.push(p.slice(_,w)),x.length===b)return x;for(var M=1;M<=T.length-1;M++)if(x.push(T[M]),x.length===b)return x;w=_=S}}return x.push(p.slice(_)),x}]}),d)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n(15),n(5),n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(500),n(133),n(648);var r=n(36);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.elements=e||new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}var e,n,r;return e=t,(n=[{key:"set",value:function(t,e,n,r,i,a,o,s,u,c,l,h,d,p,f,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=o,g[13]=s,g[2]=u,g[6]=c,g[10]=l,g[14]=h,g[3]=d,g[7]=p,g[11]=f,g[15]=m,this}},{key:"identity",value:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}},{key:"clone",value:function(){return(new t).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this}},{key:"copyPosition",value:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this}},{key:"extractBasis",value:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this}},{key:"makeBasis",value:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this}},{key:"extractRotation",value:function(t){var e=this.elements,n=t.elements,r=1/l.setFromMatrixColumn(t,0).length(),i=1/l.setFromMatrixColumn(t,1).length(),a=1/l.setFromMatrixColumn(t,2).length();return e[0]=n[0]*r,e[1]=n[1]*r,e[2]=n[2]*r,e[3]=0,e[4]=n[4]*i,e[5]=n[5]*i,e[6]=n[6]*i,e[7]=0,e[8]=n[8]*a,e[9]=n[9]*a,e[10]=n[10]*a,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromEuler",value:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),u=Math.sin(r),c=Math.cos(i),l=Math.sin(i);if("XYZ"===t.order){var h=a*c,d=a*l,p=o*c,f=o*l;e[0]=s*c,e[4]=-s*l,e[8]=u,e[1]=d+p*u,e[5]=h-f*u,e[9]=-o*s,e[2]=f-h*u,e[6]=p+d*u,e[10]=a*s}else if("YXZ"===t.order){var m=s*c,g=s*l,y=u*c,v=u*l;e[0]=m+v*o,e[4]=y*o-g,e[8]=a*u,e[1]=a*l,e[5]=a*c,e[9]=-o,e[2]=g*o-y,e[6]=v+m*o,e[10]=a*s}else if("ZXY"===t.order){var b=s*c,_=s*l,w=u*c,x=u*l;e[0]=b-x*o,e[4]=-a*l,e[8]=w+_*o,e[1]=_+w*o,e[5]=a*c,e[9]=x-b*o,e[2]=-a*u,e[6]=o,e[10]=a*s}else if("ZYX"===t.order){var S=a*c,T=a*l,M=o*c,E=o*l;e[0]=s*c,e[4]=M*u-T,e[8]=S*u+E,e[1]=s*l,e[5]=E*u+S,e[9]=T*u-M,e[2]=-u,e[6]=o*s,e[10]=a*s}else if("YZX"===t.order){var A=a*s,k=a*u,C=o*s,O=o*u;e[0]=s*c,e[4]=O-A*l,e[8]=C*l+k,e[1]=l,e[5]=a*c,e[9]=-o*c,e[2]=-u*c,e[6]=k*l+C,e[10]=A-O*l}else if("XZY"===t.order){var L=a*s,R=a*u,P=o*s,D=o*u;e[0]=s*c,e[4]=-l,e[8]=u*c,e[1]=L*l+D,e[5]=a*c,e[9]=R*l-P,e[2]=P*l-R,e[6]=o*c,e[10]=D*l+L}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}},{key:"makeRotationFromQuaternion",value:function(t){return this.compose(h,t,d)}},{key:"lookAt",value:function(t,e,n){var r=o,i=s,a=u,c=this.elements;return a.subVectors(t,e),0===a.lengthSq()&&(a.z=1),a.normalize(),r.crossVectors(n,a),0===r.lengthSq()&&(1===Math.abs(n.z)?a.x+=1e-4:a.z+=1e-4,a.normalize(),r.crossVectors(n,a)),r.normalize(),i.crossVectors(a,r),c[0]=r.x,c[4]=i.x,c[8]=a.x,c[1]=r.y,c[5]=i.y,c[9]=a.y,c[2]=r.z,c[6]=i.z,c[10]=a.z,this}},{key:"lookAtMove",value:function(t,e,n){var r,i,a,o,s,u,c,l,h,d,p=this.elements,f=t.x,m=t.y,g=t.z,y=n.x,v=n.y,b=n.z,_=e.x,w=e.y,x=e.z;return Math.abs(f-_)<Number.EPSILON&&Math.abs(m-w)<Number.EPSILON&&Math.abs(g-x)<Number.EPSILON?this.identity():(c=f-_,l=m-w,h=g-x,r=v*(h*=d=1/Math.hypot(c,l,h))-b*(l*=d),i=b*(c*=d)-y*h,a=y*l-v*c,(d=Math.hypot(r,i,a))?(r*=d=1/d,i*=d,a*=d):(r=0,i=0,a=0),o=l*a-h*i,s=h*r-c*a,u=c*i-l*r,(d=Math.hypot(o,s,u))?(o*=d=1/d,s*=d,u*=d):(o=0,s=0,u=0),p[0]=r,p[1]=o,p[2]=c,p[3]=0,p[4]=i,p[5]=s,p[6]=l,p[7]=0,p[8]=a,p[9]=u,p[10]=h,p[11]=0,p[12]=-(r*f+i*m+a*g),p[13]=-(o*f+s*m+u*g),p[14]=-(c*f+l*m+h*g),p[15]=1,this)}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,r=e.elements,i=this.elements,a=n[0],o=n[4],s=n[8],u=n[12],c=n[1],l=n[5],h=n[9],d=n[13],p=n[2],f=n[6],m=n[10],g=n[14],y=n[3],v=n[7],b=n[11],_=n[15],w=r[0],x=r[4],S=r[8],T=r[12],M=r[1],E=r[5],A=r[9],k=r[13],C=r[2],O=r[6],L=r[10],R=r[14],P=r[3],D=r[7],I=r[11],B=r[15];return i[0]=a*w+o*M+s*C+u*P,i[4]=a*x+o*E+s*O+u*D,i[8]=a*S+o*A+s*L+u*I,i[12]=a*T+o*k+s*R+u*B,i[1]=c*w+l*M+h*C+d*P,i[5]=c*x+l*E+h*O+d*D,i[9]=c*S+l*A+h*L+d*I,i[13]=c*T+l*k+h*R+d*B,i[2]=p*w+f*M+m*C+g*P,i[6]=p*x+f*E+m*O+g*D,i[10]=p*S+f*A+m*L+g*I,i[14]=p*T+f*k+m*R+g*B,i[3]=y*w+v*M+b*C+_*P,i[7]=y*x+v*E+b*O+_*D,i[11]=y*S+v*A+b*L+_*I,i[15]=y*T+v*k+b*R+_*B,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],a=t[1],o=t[5],s=t[9],u=t[13],c=t[2],l=t[6],h=t[10],d=t[14];return t[3]*(i*s*l-r*u*l-i*o*h+n*u*h+r*o*d-n*s*d)+t[7]*(e*s*d-e*u*h+i*a*h-r*a*d+r*u*c-i*s*c)+t[11]*(e*u*l-e*o*d-i*a*l+n*a*d+i*o*c-n*u*c)+t[15]*(-r*o*c-e*s*l+e*o*h+r*a*l-n*a*h+n*s*c)}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}},{key:"setPosition",value:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this}},{key:"extractPosition",value:function(t){var e=this.elements;return t.x=e[12],t.y=e[13],t.z=e[14],t}},{key:"getInverse",value:function(t,e){var n=this.elements,r=t.elements,i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],c=r[5],l=r[6],h=r[7],d=r[8],p=r[9],f=r[10],m=r[11],g=r[12],y=r[13],v=r[14],b=r[15],_=p*v*h-y*f*h+y*l*m-c*v*m-p*l*b+c*f*b,w=g*f*h-d*v*h-g*l*m+u*v*m+d*l*b-u*f*b,x=d*y*h-g*p*h+g*c*m-u*y*m-d*c*b+u*p*b,S=g*p*l-d*y*l-g*c*f+u*y*f+d*c*v-u*p*v,T=i*_+a*w+o*x+s*S;if(0===T){if(!0===e)throw new Error("ODIE.Matrix4: .getInverse() can't invert matrix, determinant is 0");return this.identity()}var M=1/T;return n[0]=_*M,n[1]=(y*f*s-p*v*s-y*o*m+a*v*m+p*o*b-a*f*b)*M,n[2]=(c*v*s-y*l*s+y*o*h-a*v*h-c*o*b+a*l*b)*M,n[3]=(p*l*s-c*f*s-p*o*h+a*f*h+c*o*m-a*l*m)*M,n[4]=w*M,n[5]=(d*v*s-g*f*s+g*o*m-i*v*m-d*o*b+i*f*b)*M,n[6]=(g*l*s-u*v*s-g*o*h+i*v*h+u*o*b-i*l*b)*M,n[7]=(u*f*s-d*l*s+d*o*h-i*f*h-u*o*m+i*l*m)*M,n[8]=x*M,n[9]=(g*p*s-d*y*s-g*a*m+i*y*m+d*a*b-i*p*b)*M,n[10]=(u*y*s-g*c*s+g*a*h-i*y*h-u*a*b+i*c*b)*M,n[11]=(d*c*s-u*p*s-d*a*h+i*p*h+u*a*m-i*c*m)*M,n[12]=S*M,n[13]=(d*y*o-g*p*o+g*a*f-i*y*f-d*a*v+i*p*v)*M,n[14]=(g*c*o-u*y*o-g*a*l+i*y*l+u*a*v-i*c*v)*M,n[15]=(u*p*o-d*c*o+d*a*l-i*p*l-u*a*f+i*c*f)*M,this}},{key:"scale",value:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this}},{key:"extractScale",value:function(t){var e=this.elements;return t.x=o.set(e[0],e[1],e[2]).length(),t.y=o.set(e[4],e[5],e[6]).length(),t.y=o.set(e[8],e[9],e[10]).length(),t}},{key:"getMaxScaleOnAxis",value:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))}},{key:"makeTranslation",value:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this}},{key:"makeRotationX",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this}},{key:"makeRotationY",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this}},{key:"makeRotationZ",value:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this}},{key:"makeRotationAxis",value:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,a=t.x,o=t.y,s=t.z,u=i*a,c=i*o;return this.set(u*a+n,u*o-r*s,u*s+r*o,0,u*o+r*s,c*o+n,c*s-r*a,0,u*s-r*o,c*s+r*a,i*s*s+n,0,0,0,0,1),this}},{key:"makeScale",value:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this}},{key:"makeShear",value:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this}},{key:"compose",value:function(t,e,n){var r=this.elements,i=e.x,a=e.y,o=e.z,s=e.w,u=i+i,c=a+a,l=o+o,h=i*u,d=i*c,p=i*l,f=a*c,m=a*l,g=o*l,y=s*u,v=s*c,b=s*l,_=n.x,w=n.y,x=n.z;return r[0]=(1-(f+g))*_,r[1]=(d+b)*_,r[2]=(p-v)*_,r[3]=0,r[4]=(d-b)*w,r[5]=(1-(h+g))*w,r[6]=(m+y)*w,r[7]=0,r[8]=(p+v)*x,r[9]=(m-y)*x,r[10]=(1-(h+f))*x,r[11]=0,r[12]=t.x,r[13]=t.y,r[14]=t.z,r[15]=1,this}},{key:"decompose",value:function(t,e,n){var r=this.elements,i=o.set(r[0],r[1],r[2]).length(),a=o.set(r[4],r[5],r[6]).length(),s=o.set(r[8],r[9],r[10]).length();this.determinant()<0&&(i=-i),t.x=r[12],t.y=r[13],t.z=r[14],c.copy(this);var u=1/i,l=1/a,h=1/s;return c.elements[0]*=u,c.elements[1]*=u,c.elements[2]*=u,c.elements[4]*=l,c.elements[5]*=l,c.elements[6]*=l,c.elements[8]*=h,c.elements[9]*=h,c.elements[10]*=h,e.setFromRotationMatrix(c),n.x=i,n.y=a,n.z=s,this}},{key:"makePerspective",value:function(t,e,n,r){var i,a=this.elements,o=1/Math.tan(t/2);return a[0]=o/e,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=o,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[11]=-1,a[12]=0,a[13]=0,a[15]=0,void 0!==r&&r!==1/0?(i=1/(n-r),a[10]=(r+n)*i,a[14]=2*r*n*i):(a[10]=-1,a[14]=-2*n),this}},{key:"makeOrthographic",value:function(t,e,n,r,i,a){var o=this.elements,s=1/(t-e),u=1/(r-n),c=1/(i-a);return o[0]=-2*s,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*u,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*c,o[11]=0,o[12]=(t+e)*s,o[13]=(n+r)*u,o[14]=(a+i)*c,o[15]=1,this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(t,e){void 0===t&&(t=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}},{key:"log",value:function(){this.elements,console.table}},{key:"reflectOnPlane",value:function(t){var e=t.normal.x,n=t.normal.y,r=t.normal.z,i=t.constant,a=c.elements;return a[0]=1-2*e*e,a[4]=-2*e*n,a[8]=-2*e*r,a[12]=-2*e*i,a[1]=-2*e*n,a[5]=1-2*n*n,a[9]=-2*n*r,a[13]=-2*n*i,a[2]=-2*e*r,a[6]=-2*n*r,a[10]=1-2*r*r,a[14]=-2*r*i,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this.multiply(c)}},{key:"extractForward",value:function(t){return t.x=this.elements[8],t.y=this.elements[9],t.z=this.elements[10],t.setLength(-1),t}},{key:"extractRight",value:function(t){return t.x=this.elements[0],t.y=this.elements[1],t.z=this.elements[2],t.setLength(1),t}},{key:"extractUp",value:function(t){return t.x=this.elements[4],t.y=this.elements[5],t.z=this.elements[6],t.setLength(1),t}},{key:"extractBack",value:function(t){return this.extractForward(t),t.multiplyScalar(-1),t}},{key:"extractLeft",value:function(t){return this.extractRight(t),t.multiplyScalar(-1),t}},{key:"extractDown",value:function(t){return this.extractUp(t),t.multiplyScalar(-1),t}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),o=new r.a,s=new r.a,u=new r.a,c=new a,l=new r.a,h=new r.a(0,0,0),d=new r.a(1,1,1)},function(t,e,n){"use strict";n.d(e,"a",(function(){return E}));n(21),n(5),n(19),n(39),n(38),n(92),n(106),n(133),n(42),n(88),n(114),n(23),n(29),n(30),n(15),n(22),n(20),n(87),n(121),n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(243),n(51),n(128),n(132),n(166),n(127),n(194);function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=a(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function i(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){s=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))}var u=["geforce 320m","geforce 8600","geforce 8600m gt","geforce 8800 gs","geforce 8800 gt","geforce 9400","geforce 9400m g","geforce 9400m","geforce 9600m gt","geforce 9600m","geforce fx go5200","geforce gt 120","geforce gt 130","geforce gt 330m","geforce gtx 285","google swiftshader","intel g41","intel g45","intel gma 4500mhd","intel gma x3100","intel hd 3000","intel q45","legacy","mali-2","mali-3","mali-4","quadro fx 1500","quadro fx 4","quadro fx 5","radeon hd 2400","radeon hd 2600","radeon hd 4670","radeon hd 4850","radeon hd 4870","radeon hd 5670","radeon hd 5750","radeon hd 6290","radeon hd 6300","radeon hd 6310","radeon hd 6320","radeon hd 6490m","radeon hd 6630m","radeon hd 6750m","radeon hd 6770m","radeon hd 6970m","radeon r9 200","sgx 543","sgx543"],c=function(t){return t.toLowerCase().replace(/^angle ?\((.+)\)*$/,"$1").replace(/\s(\d{1,2}gb|direct3d.+$)|\(r\)| \([^)]+\)$/g,"")},l="undefined"==typeof window,h=function(){if(!l){var t=window.navigator,e=t.userAgent,n=t.platform,r=t.maxTouchPoints,i=/(iphone|ipod|ipad)/i.test(e),a="iPad"===n||"MacIntel"===n&&r>0&&!window.MSStream;return{isIpad:a,isMobile:/android/i.test(e)||i||a,isSafari12:/Version\/12.+Safari/.test(e)}}}(),d=function(t,e,n){return"apple gpu"===e?function(t,e,n){var r=[e];if(n){var i=t.createShader(35633),a=t.createShader(35632),o=t.createProgram();if(a&&i&&o){t.shaderSource(i,"\n      precision highp float;\n      attribute vec3 aPosition;\n      varying float vvv;\n      void main() {\n        vvv = 0.31622776601683794;\n        gl_Position = vec4(aPosition, 1.0);\n      }\n    "),t.shaderSource(a,"\n      precision highp float;\n      varying float vvv;\n      void main() {\n        vec4 enc = vec4(1.0, 255.0, 65025.0, 16581375.0) * vvv;\n        enc = fract(enc);\n        enc -= enc.yzww * vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 0.0);\n        gl_FragColor = enc;\n      }\n    "),t.compileShader(i),t.compileShader(a),t.attachShader(o,i),t.attachShader(o,a),t.linkProgram(o),t.detachShader(o,i),t.detachShader(o,a),t.deleteShader(i),t.deleteShader(a),t.useProgram(o);var s=t.createBuffer();t.bindBuffer(34962,s),t.bufferData(34962,new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),35044);var u=t.getAttribLocation(o,"aPosition");t.vertexAttribPointer(u,3,5126,!1,0,0),t.enableVertexAttribArray(u),t.clearColor(1,1,1,1),t.clear(16384),t.viewport(0,0,1,1),t.drawArrays(4,0,3);var c=new Uint8Array(4);t.readPixels(0,0,1,1,6408,5121,c),t.deleteProgram(o),t.deleteBuffer(s),r={801621810:(null==h?void 0:h.isIpad)?["apple a12x gpu"]:["apple a11 gpu","apple a12 gpu","apple a13 gpu","apple a14 gpu"],8016218135:(null==h?void 0:h.isIpad)?["apple a9x gpu","apple a10 gpu","apple a10x gpu"]:["apple a9 gpu","apple a10 gpu"]}[c.join("")]||r}}return r}(t,e,n):[e]},p=[],f=[],m=function(t,e){if(t===e)return 0;var n=t;t.length>e.length&&(t=e,e=n);for(var r=t.length,i=e.length;r>0&&t.charCodeAt(~-r)===e.charCodeAt(~-i);)r--,i--;for(var a,o=0;o<r&&t.charCodeAt(o)===e.charCodeAt(o);)o++;if(i-=o,0===(r-=o))return i;for(var s,u,c=0,l=0,h=0;l<r;)f[l]=t.charCodeAt(o+l),p[l]=++l;for(;h<i;)for(a=e.charCodeAt(o+h),s=h++,c=h,l=0;l<r;l++)u=a===f[l]?s:s+1,s=p[l],c=p[l]=s>c?u>c?c+1:u:u>s?s+1:u;return c},g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.mobileTiers,n=void 0===e?[0,15,30,60]:e,a=t.desktopTiers,o=void 0===a?[0,15,30,60]:a,p=t.override,f=void 0===p?{}:p,g=t.glContext,y=t.failIfMajorPerformanceCaveat,v=void 0!==y&&y,b=t.benchmarksURL,_=void 0===b?"":b;return s(void 0,void 0,void 0,regeneratorRuntime.mark((function t(){var e,a,p,y,b,w,x,S,T,M,E,A,k,C,O,L,R,P,D,I,B,N,j,F;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e={},!l){t.next=3;break}return t.abrupt("return",{tier:0,type:"SSR"});case 3:if(a=f.isIpad,p=void 0===a?!!(null==h?void 0:h.isIpad):a,y=f.isMobile,b=void 0===y?!!(null==h?void 0:h.isMobile):y,w=f.screenSize,x=void 0===w?window.screen:w,S=f.loadBenchmarks,T=void 0===S?function(t){return s(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(_,"/").concat(t)).then((function(t){return t.json()}));case 2:return n=e.sent,e.abrupt("return",(n.shift(),n));case 4:case"end":return e.stop()}}),e)})))}:S,M=f.renderer,E=function(t,e,n,r,i){return{device:i,fps:r,gpu:n,isMobile:b,tier:t,type:e}},k="",!M){t.next=11;break}M=c(M),A=[M],t.next=18;break;case 11:if(C=g||function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n={alpha:!1,antialias:!1,depth:!1,failIfMajorPerformanceCaveat:e,powerPreference:"high-performance",stencil:!1};t&&delete n.powerPreference;var r=window.document.createElement("canvas"),i=r.getContext("webgl",n)||r.getContext("experimental-webgl",n);return null!=i?i:void 0}(null==h?void 0:h.isSafari12,v)){t.next=14;break}return t.abrupt("return",E(0,"WEBGL_UNSUPPORTED"));case 14:if((O=C.getExtension("WEBGL_debug_renderer_info"))&&(M=C.getParameter(O.UNMASKED_RENDERER_WEBGL)),M){t.next=17;break}return t.abrupt("return",E(1,"FALLBACK"));case 17:k=M,M=c(M),A=d(C,M,b);case 18:return t.next=20,Promise.all(A.map((function(t){return s(void 0,void 0,void 0,regeneratorRuntime.mark((function n(){var a,o,s,u,c,l,h,d,f,g,y,v,_,w,S,M,E,A,k,C,O,L,R,P,D,I,B,N;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=function(t){for(var e=0,n=b?["adreno","apple","mali-t","mali","nvidia","powervr"]:["intel","amd","radeon","nvidia","geforce"];e<n.length;e++){var r=n[e];if(t.includes(r))return r}}(t)){n.next=3;break}return n.abrupt("return");case 3:return o="".concat(b?"m":"d","-").concat(a,".json"),s=e[o]=e[o]||T(o),n.prev=4,n.next=7,s;case 7:u=n.sent,n.next=13;break;case 10:return n.prev=10,n.t0=n.catch(4),n.abrupt("return");case 13:if(c=function(t){var e,n=(t=t.replace(/\([^)]+\)/,"")).match(/\d+/)||t.match(/(\W|^)([A-Za-z]{1,3})(\W|$)/g);return null!==(e=null==n?void 0:n.join("").replace(/\W|amd/g,""))&&void 0!==e?e:""}(t),l="apple"===a,(h=u.filter((function(t){return i(t,2)[1]===c}))).length||(h=u.filter((function(e){return i(e,1)[0].includes(t)}))),0!==(d=h.length)){n.next=19;break}return n.abrupt("return");case 19:g=d>1?h.map((function(e){return[e,m(t,e[0])]})).sort((function(t,e){return i(t,2)[1]-i(e,2)[1]}))[0][0]:h[0],y=i(g,4),v=y[0],_=y[3],w=Number.MAX_VALUE,S=window,M=S.devicePixelRatio,E=x.width*M*(x.height*M),l&&b&&(_=_.filter((function(t){var e,n=i(t,4)[3];return(null!==(e=null==n?void 0:n.indexOf(p?"ipad":"iphone"))&&void 0!==e?e:-1)>-1}))),A=r(_);try{for(A.s();!(k=A.n()).done;)C=k.value,O=i(C,2),L=O[0],R=O[1],P=L*R,(D=Math.abs(E-P))<w&&(w=D,f=C)}catch(t){A.e(t)}finally{A.f()}if(f){n.next=26;break}return n.abrupt("return");case 26:return I=i(f,4),B=I[2],N=I[3],n.abrupt("return",[w,B,v,N]);case 28:case"end":return n.stop()}}),n,null,[[4,10]])})))})));case 20:if((L=t.sent.filter((function(t){return!!t}))).length){t.next=24;break}return R=u.find((function(t){return M.includes(t)})),t.abrupt("return",R?E(0,"BLOCKLISTED",R):E(1,"FALLBACK","".concat(M," (").concat(k,")")));case 24:if(P=i(L.sort((function(t,e){var n=i(t,1)[0],r=void 0===n?Number.MAX_VALUE:n,a=i(e,1)[0];return r-(void 0===a?Number.MAX_VALUE:a)}))[0],4),D=P[1],I=P[2],B=P[3],-1!==D){t.next=27;break}return t.abrupt("return",E(0,"BLOCKLISTED",I,D,B));case 27:for(N=b?n:o,j=0,F=0;F<N.length;F++)D>=N[F]&&(j=F);return t.abrupt("return",E(j,"BENCHMARK",I,D,B));case 31:case"end":return t.stop()}}),t)})))},y=n(518),v=n(161),b=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))};function _(){return b(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(self.createImageBitmap){t.next=2;break}return t.abrupt("return",!1);case 2:return"data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",t.next=5,fetch("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=").then((function(t){return t.blob()}));case 5:return e=t.sent,t.abrupt("return",createImageBitmap(e).then((function(){return!0}),(function(){return!1})));case 7:case"end":return t.stop()}}),t)})))}var w=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))};function x(){return w(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(self.createImageBitmap){t.next=2;break}return t.abrupt("return",!1);case 2:return"data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",t.next=5,fetch("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=").then((function(t){return t.blob()}));case 5:return e=t.sent,t.abrupt("return",createImageBitmap(e).then((function(){return!0}),(function(){return!1})));case 7:case"end":return t.stop()}}),t)})))}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var T,M=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))};!function(t){t[t.NONE=0]="NONE",t[t.LOW=1]="LOW",t[t.MEDIUM=2]="MEDIUM",t[t.HIGH=3]="HIGH"}(T||(T={}));var E=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.allowGPUData=!0,this.supportedFileFormats={webp:!1,avif:!1},this.customQueries=[],this.caches={query:{},browser:{},os:{},device:{},custom:{}},this.uaData=(new y.UAParser).getResult(),this.isLocalStorageAllowed=Object(v.b)(v.a.LOCAL),this.isSessionStorageAllowed=Object(v.b)(v.a.SESSION),this._checkIPadPro()}var e,n,r;return e=t,(n=[{key:"desktop",get:function(){return!("tablet"===this.uaData.device.type||"mobile"===this.uaData.device.type)}},{key:"mobile",get:function(){return this.isDevice("mobile")}},{key:"phone",get:function(){return this.isDevice("phone")}},{key:"tablet",get:function(){return this.isDevice("tablet")}},{key:"android",get:function(){return"Android"===this.uaData.os.name}},{key:"ios",get:function(){return"iOS"===this.uaData.os.name}},{key:"kindle",get:function(){return this.isDevice("kindle")}},{key:"ie",get:function(){return"IE"===this.uaData.browser.name}},{key:"gpu",get:function(){var t;return(null===(t=this.gpuData)||void 0===t?void 0:t.tier)?this.gpuData.tier:2}},{key:"init",value:function(){return M(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.gpuData){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,x();case 4:return this.supportedFileFormats.webp=t.sent,t.next=7,_();case 7:if(this.supportedFileFormats.avif=t.sent,this.allowGPUData){t.next=10;break}return t.abrupt("return");case 10:return t.next=12,g();case 12:this.gpuData=t.sent;case 13:case"end":return t.stop()}}),t,this)})))}},{key:"addQuery",value:function(){var t;(t=this.customQueries).push.apply(t,arguments)}},{key:"query",value:function(t){var e=this.checkCache(t,"query");if(null!==e)return e;for(var n=this.parseQuery(t),r=!0,i=0;i<n.length;i++){var a=n[i];switch(a.type){case"browser":r=this.isBrowser(a.value);break;case"os":r=this.isOS(a.value);break;case"device":r=this.isDevice(a.value);break;case"gpu":r=this.isGPU(a.value);break;default:r=this.checkCustom(a)}if(!r)break}return this.addToCache(t,r,"query"),r}},{key:"isBrowser",value:function(t){var e=this,n=this.checkCache(t,"browser");if(null!==n)return n;var r=[function(){return e.checkCustom({type:"browser",value:t})},function(){var n=t.split(":");return n.length>1&&e.uaData.browser.version.split(".")[0]===n[1]},function(){var n;return null!==(n=e.supportedFileFormats[t])&&void 0!==n&&n},function(){return e.uaData.browser.name.toLowerCase().replace(" ","-")===t}];return this.checkTests(r,t,"browser")}},{key:"isOS",value:function(t){var e=this,n=this.checkCache(t,"os");if(null!==n)return n;var r=[function(){return e.checkCustom({type:"os",value:t})},function(){var n=t.split(":");return n.length>1&&e.uaData.os.version.split(".")[0]===n[1]},function(){return("mobile"===t||"desktop"===t)&&("mobile"===t?!e.desktop:e.desktop)},function(){return e.uaData.os.name.toLowerCase().replace(" ","-")===t}];return this.checkTests(r,t,"os")}},{key:"isDevice",value:function(t){var e=this,n=this.checkCache(t,"device");if(null!==n)return n;var r=[function(){return e.checkCustom({type:"device",value:t})},function(){return"tablet"===t&&"tablet"===e.uaData.device.type},function(){return"mobile"===t&&("tablet"===e.uaData.device.type||"mobile"===e.uaData.device.type)},function(){return"phone"===t&&"mobile"===e.uaData.device.type},function(){return e.uaData.device.model===t}];return this.checkTests(r,t,"device")}},{key:"isGPU",value:function(t){return this.gpu===Number(t)}},{key:"parseQuery",value:function(t){return t.split("--").map((function(t){var e=t.split(":").filter((function(t){return":"!==t}));return{type:e.shift(),value:e.join(":")}}))}},{key:"checkCustom",value:function(t){var e=this.checkCache(JSON.stringify(t),"custom");if(null!==e)return e;for(var n=0;n<this.customQueries.length;n++)if((0,this.customQueries[n])(t))return this.addToCache(JSON.stringify(t),!0,"custom"),!0;return this.addToCache(JSON.stringify(t),!1,"custom"),!1}},{key:"checkCache",value:function(t,e){return this.caches[e][t]?this.caches[e][t]:null}},{key:"checkTests",value:function(t,e,n){for(var r=!1,i=0;i<t.length&&!(r=t[i]());i++);return this.addToCache(e,r,n),r}},{key:"addToCache",value:function(t,e,n){this.caches[n][t]=e}},{key:"_checkIPadPro",value:function(){var t=this.uaData.ua,e=/Mac OS/.test(t)&&!/like Mac OS/.test(t),n="ontouchstart"in window;e&&n&&(this.uaData.device.type="tablet",this.uaData.device.vendor="apple",this.uaData.device.model="ipad-pro")}}])&&S(e.prototype,n),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}());E.addQuery((function(t){return"device"===t.type&&"iPhone6"===t.value&&!(!E.ios||667!==window.outerHeight||375!==window.outerWidth||3!==window.devicePixelRatio)}),(function(t){return"device"===t.type&&"s5"===t.value&&!(!E.android||560!==window.outerHeight||360!==window.outerWidth||3!==window.devicePixelRatio)}),(function(t){if("device"!==t.type||"kindle"!==t.value)return!1;var e=navigator.userAgent;return/Kindle|Silk|KFAPW|KFARWI|KFASWI|KFFOWI|KFJW|KFMEWI|KFOT|KFSAW|KFSOWI|KFTBW|KFTHW|KFTT|WFFOWI/i.test(e)}))},function(t,e,n){(function(r){var i;n(119),void 0===(i=function(t,e,r){var i=n(0),a=n(103),o=n(185),s=function t(e,n,r,o){this.UID=t._UID++,this.view=r||null,this.body=o||null,this.signals={},this.position=new i.Point,this.view&&(this.view.position=this.position),this.position.x=0|e,this.position.y=0|n,this.world=null,this.canCollide=!0,this.collideWithSelf=!0,this.type=0,this.groups=[],this._TICK=-1,this.keepInBonus=!0,this._gc=!1,this.returnToPool=function(){a.returnObject(this)}.bind(this)};s.prototype.updateView=function(t){this.view=t},s.prototype.reset=function(t){},s.prototype.destroy=function(){this.world&&(this.world.remove(this),o.wait(this.returnToPool))},s._UID=0,s.mixin=function(t,e){e.call(t),Object.assign(t,e)},r.exports=s}.call(e,n,e,t))||(t.exports=i)}).call(this,n(0))},function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return d})),n.d(e,"c",(function(){return f}));n(21),n(87),n(5),n(39),n(121),n(22),n(38),n(23),n(29),n(30),n(15),n(20),n(19),n(83),n(42),n(51);var r=n(85),i=n.n(r),a=n(446);function o(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var u=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))},c=[],l={},h={};function d(t){t instanceof Array?c.push.apply(c,o(t)):c.push(t)}function p(t){return u(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i,a,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null,r=0;case 2:if(!(r<c.length)){e.next=11;break}if(!((i=c[r]).load&&i.test&&i.test(t))){e.next=8;break}return e.next=7,i.load(t);case 7:n=e.sent;case 8:r++,e.next=2;break;case 11:a=0;case 12:if(!(a<c.length)){e.next=25;break}if(!(o=c[a]).parse){e.next=22;break}if(o.testParse&&!o.testParse(n,t)){e.next=22;break}return e.next=18,o.parse(n,t);case 18:if(e.t0=e.sent,e.t0){e.next=21;break}e.t0=n;case 21:n=e.t0;case 22:a++,e.next=12;break;case 25:return l[t]=n,e.abrupt("return",n);case 27:case"end":return e.stop()}}),e)})))}function f(t,e){return u(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,o,s,c,l,d=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=0,o=t.length,s={},c=!1,t instanceof Array||(c=!0,t=[t]),l=t.map((function(t){return u(d,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(Object(a.a)(t)||(t=i.a.normalize(t)),s[t]){n.next=15;break}return n.prev=2,h[t]||(h[t]=p(t)),n.next=6,h[t];case 6:s[t]=n.sent,e&&e(++r/o),n.next=15;break;case 10:throw n.prev=10,n.t0=n.catch(2),delete h[t],delete s[t],new Error("[loadAssets] Failed to load ".concat(t,".\n").concat(n.t0));case 15:case"end":return n.stop()}}),n,null,[[2,10]])})))})),n.next=8,Promise.all(l);case 8:return n.abrupt("return",c?s[t[0]]:s);case 9:case"end":return n.stop()}}),n)})))}},function(t,e,n){var r=n(144),i=Math.min;t.exports=function(t){return t>0?i(r(t),9007199254740991):0}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports=function(t){return"object"===n(t)?null!==t:"function"==typeof t}},function(t,e,n){var r=n(41),i=n(113),a=n(213);r({target:"Object",stat:!0,forced:n(50)((function(){a(1)}))},{keys:function(t){return a(i(t))}})},function(t,e,n){var r;void 0===(r=function(t,e,r){var i=n(43),a=n(45),o=function(t,e){this.isOn=!1,this.count=0,this.ticker=e||i.instance,this.duration=60*t,this.onComplete=new a};o.prototype.setDuration=function(t){this.duration=60*t},o.prototype.getDuration=function(){return this.duration/60},o.prototype.start=function(t){this.isOn||(this.ticker.add(this.update,this),this.isOn=!0),t||(this.count=0)},o.prototype.stop=function(){this.isOn=!1,this.ticker.remove(this.update,this)},o.prototype.reset=function(){this.stop(),this.count=0},o.prototype.getRatio=function(){return this.count/this.duration},o.prototype.getSeconds=function(){return this.count/60},o.prototype.getSecondsLeft=function(){return(this.duration-this.count)/60},o.prototype.update=function(){this.count+=this.ticker.deltaTime,this.count>this.duration&&(this.onComplete.dispatch(),this.stop())},r.exports=o}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";n.d(e,"a",(function(){return R}));n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35);var r=n(0),i=n(252),a=n(217),o=n(93);function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;s(this,t),this._x=r,this._y=i,this._z=a,this._cb=e,this._scope=n}var e,n,r;return e=t,(n=[{key:"set",value:function(t,e,n){var r=t||0,i=e||(0!==e?r:0),a=n||(0!==n?r:0);return this._x===r&&this._y===i&&this._z===a||(this._x=r,this._y=i,this._z=a,this._cb.call(this._scope)),this}},{key:"copyFrom",value:function(t){return this._x===t.x&&this._y===t.y&&this._z===t.z||(this._x=t.x,this._y=t.y,this._z=t.z,this._cb.call(this._scope)),this}},{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this._cb.call(this._scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this._cb.call(this._scope))}},{key:"z",get:function(){return this._z},set:function(t){this._z!==t&&(this._z=t,this._cb.call(this._scope))}}])&&u(e.prototype,n),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),l=n(141),h=n(173);function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var p=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e||0,this.y=n||0,this.z=r||0,this.order=i||t.DefaultOrder}var e,n,r;return e=t,(n=[{key:"set",value:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.order=r||this.order,this}},{key:"clone",value:function(){return new t(this.x,this.y,this.z,this.order)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.order=t.order,this}},{key:"setFromRotationMatrix",value:function(t,e){var n=t.elements,r=n[0],i=n[4],a=n[8],o=n[1],s=n[5],u=n[9],c=n[2],h=n[6],d=n[10];return"XYZ"===(e=e||this.order)?(this.y=Math.asin(Object(l.a)(a,-1,1)),Math.abs(a)<.99999?(this.x=Math.atan2(-u,d),this.z=Math.atan2(-i,r)):(this.x=Math.atan2(h,s),this.z=0)):"YXZ"===e?(this.x=Math.asin(-Object(l.a)(u,-1,1)),Math.abs(u)<.99999?(this.y=Math.atan2(a,d),this.z=Math.atan2(o,s)):(this.y=Math.atan2(-c,r),this.z=0)):"ZXY"===e?(this.x=Math.asin(Object(l.a)(h,-1,1)),Math.abs(h)<.99999?(this.y=Math.atan2(-c,d),this.z=Math.atan2(-i,s)):(this.y=0,this.z=Math.atan2(o,r))):"ZYX"===e?(this.y=Math.asin(-Object(l.a)(c,-1,1)),Math.abs(c)<.99999?(this.x=Math.atan2(h,d),this.z=Math.atan2(o,r)):(this.x=0,this.z=Math.atan2(-i,s))):"YZX"===e?(this.z=Math.asin(Object(l.a)(o,-1,1)),Math.abs(o)<.99999?(this.x=Math.atan2(-u,s),this.y=Math.atan2(-c,r)):(this.x=0,this.y=Math.atan2(a,d))):"XZY"===e&&(this.z=Math.asin(-Object(l.a)(i,-1,1)),Math.abs(i)<.99999?(this.x=Math.atan2(h,s),this.y=Math.atan2(a,r)):(this.x=Math.atan2(-u,d),this.y=0)),this.order=e,this}},{key:"setFromQuaternion",value:function(t,e){return _.makeRotationFromQuaternion(t),this.setFromRotationMatrix(_,e)}},{key:"setFromVector3",value:function(t,e){return this.set(t.x,t.y,t.z,e||this.order)}},{key:"reorder",value:function(t){return w.setFromEuler(this),this.setFromQuaternion(w,t)}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.order===this.order}},{key:"toVector3",value:function(t){return t.set(this.x,this.y,this.z)}}])&&d(e.prototype,n),r&&d(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();p.DefaultOrder="XYZ";var f,m,g,y,v,b,_=new o.a,w=new h.a,x=n(36);function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var T=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),f||(f=new x.a,m=new x.a,g=new p,y=new h.a,v=new o.a,b=new x.a(0,1,0)),this.entity=e,this.custom=!1,this.static=!1,this.parent=null,this.position=new c(this._onChange,this,0,0,0),this.scale=new c(this._onChange,this,1,1,1),this.rotation=new c(this._onRotationChange,this,0,0,0),this.localTransform=new o.a,this.worldTransform=new o.a,this.localID=0,this.currentLocalID=-2,this.worldID=0,this.parentID=-1,this.quat=new h.a,this.rotationDirty=!0,this._oTick=-1,this.rTick=-1}var e,n,r;return e=t,(n=[{key:"extractScale",value:function(t){return this.worldTransform.extractScale(t)}},{key:"extractRotation",value:function(t){return t.extractRotation(this.worldTransform)}},{key:"extractPosition",value:function(t){return this.worldTransform.extractPosition(t)}},{key:"extractForward",value:function(t){return this.worldTransform.extractForward(t)}},{key:"addedToScene",value:function(){this._onRotationChange()}},{key:"init",value:function(t){t&&(t.rotation&&this.rotation.copyFrom(t.rotation),t.scale&&this.scale.copyFrom(t.scale),t.position&&this.position.copyFrom(t.position))}},{key:"reset",value:function(){this.localTransform.identity(),this.worldTransform.identity(),this.localID=0,this.currentLocalID=-2,this.worldID=0,this.parentID=-1}},{key:"applyMatrix",value:function(t){var e=f,n=this.quat,r=m;t.decompose(e,n,r),this.position.x=e.x,this.position.y=e.y,this.position.z=e.z,this.scale.x=r.x,this.scale.y=r.y,this.scale.z=r.z,g.setFromQuaternion(n),this.rotation.x=g.x,this.rotation.y=g.y,this.rotation.z=g.z}},{key:"lookAt",value:function(t,e){var n=y,r=v,i=f,a=m,o=this.entity.parent;this.entity.scene&&this.entity.scene.transform._updateWorld(this.entity,!0),a.x=t.x,a.y=t.y,a.z=t.z,i.setFromMatrixPosition(this.worldTransform),r.lookAt(i,a,b),e?(n.setFromRotationMatrix(r),this.quat.rotateTowards(n,e)):this.quat.setFromRotationMatrix(r),o&&(r.extractRotation(o.transform.worldTransform),n.setFromRotationMatrix(r),this.quat.premultiply(n.inverse())),this._onChange()}},{key:"extractData",value:function(){return{rotation:{x:this.rotation.x,y:this.rotation.y,z:this.rotation.z},position:{x:this.position.x,y:this.position.y,z:this.position.z},scale:{x:this.scale.x,y:this.scale.y,z:this.scale.z}}}},{key:"_onChange",value:function(){var t=this.entity,e=t.scene;if(e){var n=e.transform;this.localID++,t._gc||this._oTick===n._tick||(this._oTick=n._tick,n._toUpdate[n._updateCount++]=t)}}},{key:"_onRotationChange",value:function(){this.rotationDirty=!0,this._onChange()}}])&&S(e.prototype,n),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();T.DEFAULT_NAME="transform";var M=n(159);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=L(t);if(e){var i=L(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return O(this,n)}}function O(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function L(t){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var R=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&k(t,e)}(s,t);var e,n,i,o=C(s);function s(t){var e;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this))._worldActive=!0,e._active=!0,e.container=e.addComponent(a.a),e.transform=e.addComponent(T),t){if(!t.state){var n=new r.State;n.depthTest=!0,n.blend=!1,n.culling=!0,t.state=n}e.view3d=e.addComponent(M.a,t)}return e}return e=s,(n=[{key:"addChild",value:function(){for(var t=0;t<arguments.length;t++)this.container.add(t<0||arguments.length<=t?void 0:arguments[t])}},{key:"removeChild",value:function(){for(var t=0;t<arguments.length;t++)this.container.remove(t<0||arguments.length<=t?void 0:arguments[t])}},{key:"removeChildren",value:function(){this.container.removeAll()}},{key:"x",get:function(){return this.transform.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.transform.position.y},set:function(t){this.transform.position.y=t}},{key:"z",get:function(){return this.transform.position.z},set:function(t){this.transform.position.z=t}},{key:"sx",get:function(){return this.transform.scale.x},set:function(t){this.transform.scale.x=t}},{key:"sy",get:function(){return this.transform.scale.y},set:function(t){this.transform.scale.y=t}},{key:"sz",get:function(){return this.transform.scale.z},set:function(t){this.transform.scale.z=t}},{key:"rx",get:function(){return this.transform.rotation.x},set:function(t){this.transform.rotation.x=t}},{key:"ry",get:function(){return this.transform.rotation.y},set:function(t){this.transform.rotation.y=t}},{key:"rz",get:function(){return this.transform.rotation.z},set:function(t){this.transform.rotation.z=t}},{key:"position",get:function(){return this.transform.position}},{key:"scale",get:function(){return this.transform.scale}},{key:"rotation",get:function(){return this.transform.rotation}},{key:"active",get:function(){return this._active},set:function(t){this._active=t;var e=this.parent?this.parent._worldActive&&t:t;e!==this._worldActive&&(this._worldActive=e,e?this.runners.activate.run():this.runners.deactivate.run());for(var n=this.container.children,r=0;r<n.length;r++)n[r].active=e}},{key:"parent",get:function(){return this.container.parent}}])&&A(e.prototype,n),i&&A(e,i),Object.defineProperty(e,"prototype",{writable:!1}),s}(i.a)},function(t,e,n){var r=n(98);t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},function(t,e,n){var r;void 0===(r=function(t,e,n){var r=function(t){this.classType=t,this.pool=[]};r.constructor=r,r.prototype.prepopulate=function(t){for(var e=0;e<t;e++)this.pool.push(new this.classType)},r.prototype.get=r.prototype.getObject=function(){var t=this.pool.pop();return t||(t=new this.classType),t},r.prototype.return=r.prototype.returnObject=function(t){-1!==this.pool.indexOf(t)||this.pool.push(t)},Object.defineProperties(r.prototype,{total:{get:function(){return this.pool.length}},length:{get:function(){return this.pool.length}}}),r.pools=[],r.idGenerator=1,r.getPool=function(t){return t._CLASS_ID||(t._CLASS_ID=r.idGenerator++,r.pools[t._CLASS_ID]=new r(t)),r.pools[t._CLASS_ID]},r.get=r.getObject=function(t){t._CLASS_ID||(t._CLASS_ID=r.idGenerator++,r.pools[t._CLASS_ID]=new r(t));var e=r.pools[t._CLASS_ID].getObject();return e._CLASS_ID=t._CLASS_ID,e},r.return=r.returnObject=function(t){r.pools[t._CLASS_ID].returnObject(t)},n.exports=r}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t,e,r){r.exports={Vector:n(245),CrashData:n(506),CrashBody:n(246),CrashWorld:n(505),CrashTests:n(665)}}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r=n(50);t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e,n){"use strict";var r=n(238),i=n(102),a=n(97),o=n(144),s=n(120),u=n(293),c=n(606),l=n(239),h=Math.max,d=Math.min;r("replace",2,(function(t,e,n,r){var p=r.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,f=r.REPLACE_KEEPS_$0,m=p?"$":"$0";return[function(n,r){var i=s(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,i,r):e.call(String(i),n,r)},function(t,r){if(!p&&f||"string"==typeof r&&-1===r.indexOf(m)){var s=n(e,t,this,r);if(s.done)return s.value}var g=i(t),y=String(this),v="function"==typeof r;v||(r=String(r));var b=g.global;if(b){var _=g.unicode;g.lastIndex=0}for(var w=[];;){var x=l(g,y);if(null===x)break;if(w.push(x),!b)break;""===String(x[0])&&(g.lastIndex=u(y,a(g.lastIndex),_))}for(var S,T="",M=0,E=0;E<w.length;E++){x=w[E];for(var A=String(x[0]),k=h(d(o(x.index),y.length),0),C=[],O=1;O<x.length;O++)C.push(void 0===(S=x[O])?S:String(S));var L=x.groups;if(v){var R=[A].concat(C,k,y);void 0!==L&&R.push(L);var P=String(r.apply(void 0,R))}else P=c(A,y,k,C,L,r);k>=M&&(T+=y.slice(M,k)+P,M=k+A.length)}return T+y.slice(M)}]}))},function(t,e,n){"use strict";var r=n(118),i=n(102),a=n(50),o=n(289),s=RegExp.prototype,u=s.toString,c=a((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),l="toString"!=u.name;(c||l)&&r(RegExp.prototype,"toString",(function(){var t=i(this),e=String(t.source),n=t.flags;return"/"+e+"/"+String(void 0===n&&t instanceof RegExp&&!("flags"in s)?o.call(t):n)}),{unsafe:!0})},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a}));var r={blue:{id:"blue",color:{default:37107,winter:37107,beach:37107,tokyo:37107,urban:37107,oasis:37107},show:!0,locked:!1,selectable:!0,selected:!0,isNew:!1},red:{id:"red",color:{default:13697033,winter:13697033,beach:13697033,tokyo:13697033,urban:13697033,oasis:13697033},show:!0,locked:!1,selectable:!0,isNew:!1},orange:{id:"orange",color:{default:16096045,winter:16096045,beach:16096045,tokyo:16096045,urban:16096045,oasis:16096045},show:!0,locked:!1,selectable:!0,isNew:!1},yellow:{id:"yellow",color:{default:16181760,winter:16181760,beach:16181760,tokyo:16181760,urban:16181760,oasis:16181760},show:!0,locked:!1,selectable:!0,isNew:!1},green:{id:"green",color:{default:7718721,winter:7718721,beach:7718721,tokyo:7718721,urban:7718721,oasis:7718721},show:!0,locked:!0,selectable:!0,isNew:!1},fuschia:{id:"fuschia",color:{default:12391286,winter:12391286,beach:12391286,tokyo:12391286,urban:12391286,oasis:12391286},show:!0,locked:!0,selectable:!0,isNew:!1},teal:{id:"teal",color:{default:106354,winter:106354,beach:106354,tokyo:106354,urban:106354,oasis:106354},show:!0,locked:!0,selectable:!0,isNew:!1},leaf_green:{id:"leaf_green",color:{default:6325532,winter:6325532,beach:6325532,tokyo:6325532,urban:6325532,oasis:6325532},show:!0,locked:!0,selectable:!0,isNew:!1},light_red:{id:"light_red",color:{default:16654417,winter:16654417,beach:16654417,tokyo:16654417,urban:16654417,oasis:16654417},show:!0,locked:!0,selectable:!0,isNew:!1},mauve:{id:"mauve",color:{default:9656302,winter:9656302,beach:9656302,tokyo:9656302,urban:9656302,oasis:9656302},show:!0,locked:!0,selectable:!0,isNew:!1},turquoise:{id:"turquoise",color:{default:57783,winter:57783,beach:57783,tokyo:57783,urban:57783,oasis:57783},show:!0,locked:!0,selectable:!0,isNew:!1},mid_blue:{id:"mid_blue",color:{default:8436958,winter:8436958,beach:8436958,tokyo:8436958,urban:8436958,oasis:8436958},show:!0,locked:!0,selectable:!0,isNew:!1},light_blue:{id:"light_blue",color:{default:11727103,winter:11727103,beach:11727103,tokyo:11727103,urban:11727103,oasis:11727103},show:!0,locked:!0,selectable:!0,isNew:!1},bone:{id:"bone",color:{default:14469282,winter:14469282,beach:14469282,tokyo:14469282,urban:14469282,oasis:14469282},show:!0,locked:!0,selectable:!0,isNew:!1},frost:{id:"frost",color:{default:14937855,winter:14937855,beach:14937855,tokyo:14937855,urban:14937855,oasis:14937855},show:!0,locked:!0,selectable:!0,isNew:!1},smoke:{id:"smoke",color:{default:3684408,winter:3684408,beach:3684408,tokyo:3684408,urban:3684408,oasis:3684408},show:!0,locked:!0,selectable:!0,isNew:!1}},i={all:function(){var t=[];for(var e in r)t.push(r[e]);return t},showable:function(){var t=[];for(var e in r)r[e].show&&t.push(r[e]);return t},unlocked:function(){var t=[];for(var e in r)r[e].locked||t.push(r[e]);return t},locked:function(){var t=[];for(var e in r)r[e].locked&&t.push(r[e]);return t},selected:function(){var t=null;for(var e in r)r[e].selected&&(t=r[e]);return t},withId:function(t){for(var e in r)if(r[e].id===t)return r[e]},saveFormat:function(){var t={};for(var e in r){var n={locked:r[e].locked,selected:r[e].selected,isNew:r[e].isNew};t[e]=n}return t}},a=function(t){for(var e in t)r[e].locked=t[e].locked,r[e].selected=t[e].selected,r[e].isNew=t[e].isNew}},function(t,e,n){var r=n(113),i={}.hasOwnProperty;t.exports=function(t,e){return i.call(r(t),e)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"d",(function(){return o}));n(127);var r={default:{id:"default",show:!0,locked:!1,comingSoon:!1,selected:!0,splash:"standard-ball-thumb.png",model:"ball-default.gb",texture:"standard-ball-texture.jpg",scale:3,price:0},adventure:{id:"adventure",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"brand-adventure-ball-thumb.png",model:"ball-default.gb",texture:"brand-adventure-ball-texture.jpg",scale:3,price:100},ben10:{id:"ben10",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"brand-ben10-ball-thumb.png",model:"ball-default.gb",texture:"brand-ben10-ball-texture.jpg",scale:3,price:100},rainbow:{id:"rainbow",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"rainbow-ball-thumb.png",model:"ball-default.gb",texture:"rainbow-ball-texture.jpg",scale:3,price:100},beach1:{id:"beach1",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"beach1-ball-thumb.png",model:"ball-default.gb",texture:"beach1-ball-texture.jpg",scale:3,price:100},beach2:{id:"beach2",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"beach2-ball-thumb.png",model:"ball-default.gb",texture:"beach2-ball-texture.jpg",scale:3,price:100},tokyo1:{id:"tokyo1",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"tokyo1-ball-thumb.png",model:"ball-default.gb",texture:"tokyo1-ball-texture.jpg",scale:3,price:150},tokyo2:{id:"tokyo2",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"tokyo2-ball-thumb.png",model:"ball-default.gb",texture:"tokyo2-ball-texture.jpg",scale:3,price:150},urban1:{id:"urban1",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"urban1-ball-thumb.png",model:"ball-default.gb",texture:"urban1-ball-texture.jpg",scale:3,price:100},urban2:{id:"urban2",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"urban2-ball-thumb.png",model:"ball-default.gb",texture:"urban2-ball-texture.jpg",scale:3,price:100},bearbear:{id:"bearbear",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"brand-bearbear-ball-thumb.png",model:"ball-default.gb",texture:"brand-bearbear-ball-texture.jpg",scale:3,price:150},gumball:{id:"gumball",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"brand-gumball-ball-thumb.png",model:"ball-default.gb",texture:"brand-gumball-ball-texture.jpg",scale:3,price:150},powerpuff:{id:"powerpuff",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"brand-powerpuff-ball-thumb.png",model:"ball-default.gb",texture:"brand-powerpuff-ball-texture.jpg",scale:3,price:150},steven:{id:"steven",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"brand-steven-ball-thumb.png",model:"ball-default.gb",texture:"brand-steven-ball-texture.jpg",scale:3,price:150},summer:{id:"summer",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"brand-summer-ball-thumb.png",model:"ball-default.gb",texture:"brand-summer-ball-texture.jpg",scale:3,price:150},tooncup:{id:"tooncup",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"brand-tooncup-ball-thumb.png",model:"ball-default.gb",texture:"brand-tooncup-ball-texture.jpg",scale:3,price:150},bumblebee:{id:"bumblebee",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"general-bumblebee-ball-thumb.png",model:"ball-default.gb",texture:"general-bumblebee-ball-texture.jpg",scale:3,price:150},cyber:{id:"cyber",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"general-cyber-ball-thumb.png",model:"ball-default.gb",texture:"general-cyber-ball-texture.jpg",scale:3,price:150},fireball:{id:"fireball",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"general-fire-ball-thumb.png",model:"ball-default.gb",texture:"general-fire-ball-texture.jpg",scale:3,price:150},monster:{id:"monster",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"general-monster-ball-thumb.png",model:"ball-default.gb",texture:"general-monster-ball-texture.jpg",scale:3,price:150},poison:{id:"poison",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"general-poison-ball-thumb.png",model:"ball-default.gb",texture:"general-poison-ball-texture.jpg",scale:3,price:150},rock:{id:"rock",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"general-rock-ball-thumb.png",model:"ball-default.gb",texture:"general-rock-ball-texture.jpg",scale:3,price:150},stars:{id:"stars",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"general-stars-ball-thumb.png",model:"ball-default.gb",texture:"general-stars-ball-texture.jpg",scale:3,price:150},tech:{id:"tech",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"general-tech-ball-thumb.png",model:"ball-default.gb",texture:"general-tech-ball-texture.jpg",scale:3,price:150},oasis:{id:"oasis",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"oasis-ball-thumb.png",model:"ball-default.gb",texture:"oasis-ball-texture.jpg",scale:3,price:150}},i=function(){for(var t in r)if(r[t].isNew)return!0;return!1},a={all:function(){var t=[];for(var e in r)t.push(r[e]);return t},showable:function(){var t=[];for(var e in r)r[e].show&&t.push(r[e]);return t},showableByPrice:function(){var t=[];for(var e in r)r[e].show&&t.push(r[e]);return t.sort((function(t,e){return t.price-e.price})),t},unlocked:function(){var t=[];for(var e in r)r[e].locked||t.push(r[e]);return t},locked:function(){var t=[];for(var e in r)r[e].locked&&t.push(r[e]);return t},selected:function(){var t=null;for(var e in r)r[e].selected&&(t=r[e]);return t},withId:function(t){for(var e in r)if(r[e].id===t)return r[e]},saveFormat:function(){var t={};for(var e in r){var n={locked:r[e].locked,selected:r[e].selected,isNew:r[e].isNew};t[e]=n}return t}},o=function(t){for(var e in t)r[e].locked=t[e].locked,r[e].selected=t[e].selected,r[e].isNew=t[e].isNew}},function(t,e,n){var r=n(105),i=n(454),a=n(102),o=n(190),s=Object.defineProperty;e.f=r?s:function(t,e,n){if(a(t),e=o(e,!0),a(n),i)try{return s(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(t){this.items=[],this._name=t,this._aliasCount=0}return t.prototype.emit=function(t,e,n,r,i,a,o,s){if(arguments.length>8)throw new Error("max arguments reached");var u=this,c=u.name,l=u.items;this._aliasCount++;for(var h=0,d=l.length;h<d;h++)l[h][c](t,e,n,r,i,a,o,s);return l===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this},t.prototype.remove=function(t){var e=this.items.indexOf(t);return-1!==e&&(this.ensureNonAliasedItems(),this.items.splice(e,1)),this},t.prototype.contains=function(t){return-1!==this.items.indexOf(t)},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(r.prototype,{dispatch:{value:r.prototype.emit},run:{value:r.prototype.emit}})},function(t,e,n){var r=n(120);t.exports=function(t){return Object(r(t))}},function(t,e,n){"use strict";var r=n(41),i=n(206),a=n(131),o=n(235),s=[].join,u=i!=Object,c=o("join",",");r({target:"Array",proto:!0,forced:u||!c},{join:function(t){return s.call(a(this),void 0===t?",":t)}})},function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return m})),n.d(e,"d",(function(){return D})),n.d(e,"e",(function(){return K})),n.d(e,"f",(function(){return i})),n.d(e,"g",(function(){return u})),n.d(e,"h",(function(){return Z})),n.d(e,"i",(function(){return X})),n.d(e,"j",(function(){return q}));var r,i,a=n(13),o=n(91),s=n(10);!function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"}(i||(i={}));var u=((r={})[i.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,r[i.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,r[i.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,r[i.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,r[i.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,r[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,r[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,r[i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,r[i.COMPRESSED_R11_EAC]=.5,r[i.COMPRESSED_SIGNED_R11_EAC]=.5,r[i.COMPRESSED_RG11_EAC]=1,r[i.COMPRESSED_SIGNED_RG11_EAC]=1,r[i.COMPRESSED_RGB8_ETC2]=.5,r[i.COMPRESSED_RGBA8_ETC2_EAC]=.5,r[i.COMPRESSED_SRGB8_ETC2]=.5,r[i.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=.5,r[i.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,r[i.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,r[i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,r[i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,r[i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,r[i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,r[i.COMPRESSED_RGB_ETC1_WEBGL]=.5,r[i.COMPRESSED_RGB_ATC_WEBGL]=.5,r[i.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,r[i.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,r),c=function(t,e){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function l(t,e){function n(){this.constructor=t}c(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function h(t,e){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}var d,p,f=function(t){function e(e,n){void 0===n&&(n={width:1,height:1,autoLoad:!0});var r,i,o=this;return"string"==typeof e?(r=e,i=new Uint8Array):(r=null,i=e),(o=t.call(this,i,n)||this).origin=r,o.buffer=i?new a.kb(i):null,o.origin&&!1!==n.autoLoad&&o.load(),i&&i.length&&(o.loaded=!0,o.onBlobLoaded(o.buffer.rawBinaryData)),o}return l(e,t),e.prototype.onBlobLoaded=function(t){},e.prototype.load=function(){return t=this,e=void 0,r=function(){var t;return h(this,(function(e){switch(e.label){case 0:return[4,fetch(this.origin)];case 1:return[4,e.sent().blob()];case 2:return[4,e.sent().arrayBuffer()];case 3:return t=e.sent(),this.data=new Uint32Array(t),this.buffer=new a.kb(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),[2,this]}}))},new((n=Promise)||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(o,s)}u((r=r.apply(t,e||[])).next())}));var t,e,n,r},e}(a.q),m=function(t){function e(n,r){var i=t.call(this,n,r)||this;return i.format=r.format,i.levels=r.levels||1,i._width=r.width,i._height=r.height,i._extension=e._formatToExtension(i.format),(r.levelBuffers||i.buffer)&&(i._levelBuffers=r.levelBuffers||e._createLevelBuffers(n instanceof Uint8Array?n:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return l(e,t),e.prototype.upload=function(t,e,n){var r=t.gl;if(!t.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var i=0,a=this.levels;i<a;i++){var o=this._levelBuffers[i],s=o.levelID,u=o.levelWidth,c=o.levelHeight,l=o.levelBuffer;r.compressedTexImage2D(r.TEXTURE_2D,s,this.format,u,c,0,l)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t>=36196)return"etc1";if(t>=35986&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(t,e,n,r,i,a,o){for(var s=new Array(n),c=t.byteOffset,l=a,h=o,d=l+r-1&~(r-1),p=h+i-1&~(i-1),f=d*p*u[e],m=0;m<n;m++)s[m]={levelID:m,levelWidth:n>1?l:d,levelHeight:n>1?h:p,levelBuffer:new Uint8Array(t.buffer,c,f)},c+=f,f=(d=(l=l>>1||1)+r-1&~(r-1))*(p=(h=h>>1||1)+i-1&~(i-1))*u[e];return s},e}(f),g=function(){function t(){}return t.use=function(e,n){var r=e.data;if(t.textureExtensions||t.autoDetectExtensions(),e.type===o.c.TYPE.JSON&&r&&r.cacheID&&r.textures){for(var i=r.textures,a=void 0,s=void 0,u=0,c=i.length;u<c;u++){var l=i[u],h=l.src,d=l.format;if(d||(s=h),t.textureFormats[d]){a=h;break}}if(!(a=a||s))throw new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback");if(a===e.url)throw new Error("URL of compressed texture cannot be the same as the manifest's URL");var p={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e};this.add(r.cacheID,a,p,(function(){n()}))}else n()},t.autoDetectExtensions=function(e){if(!e){var n=document.createElement("canvas").getContext("webgl");if(!n)return;e={s3tc:n.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:n.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:n.getExtension("WEBGL_compressed_texture_etc"),etc1:n.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:n.getExtension("WEBGL_compressed_texture_atc"),astc:n.getExtension("WEBGL_compressed_texture_astc")}}for(var r in t.textureExtensions=e,t.textureFormats={},e){var i=e[r];i&&Object.assign(t.textureFormats,Object.getPrototypeOf(i))}},t}();function y(t,e){e&&e.forEach((function(e,n){var r=new a.h(e,{mipmap:s.j.OFF,alphaMode:s.a.NO_PREMULTIPLIED_ALPHA}),i=t+"-"+(n+1);a.h.addToCache(r,i),a.db.addToCache(new a.db(r),i),0===n&&(a.h.addToCache(r,t),a.db.addToCache(new a.db(r),t))}))}o.c.setExtensionXhrType("dds",o.c.XHR_RESPONSE_TYPE.BUFFER);var v,b,_=3,w=4,x=7,S=19,T=2,M=0,E=1,A=2,k=3;!function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(v||(v={})),function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(b||(b={}));var C,O,L,R=((d={})[827611204]=i.COMPRESSED_RGBA_S3TC_DXT1_EXT,d[861165636]=i.COMPRESSED_RGBA_S3TC_DXT3_EXT,d[894720068]=i.COMPRESSED_RGBA_S3TC_DXT5_EXT,d),P=((p={})[v.DXGI_FORMAT_BC1_TYPELESS]=i.COMPRESSED_RGBA_S3TC_DXT1_EXT,p[v.DXGI_FORMAT_BC1_UNORM]=i.COMPRESSED_RGBA_S3TC_DXT1_EXT,p[v.DXGI_FORMAT_BC2_TYPELESS]=i.COMPRESSED_RGBA_S3TC_DXT3_EXT,p[v.DXGI_FORMAT_BC2_UNORM]=i.COMPRESSED_RGBA_S3TC_DXT3_EXT,p[v.DXGI_FORMAT_BC3_TYPELESS]=i.COMPRESSED_RGBA_S3TC_DXT5_EXT,p[v.DXGI_FORMAT_BC3_UNORM]=i.COMPRESSED_RGBA_S3TC_DXT5_EXT,p[v.DXGI_FORMAT_BC1_UNORM_SRGB]=i.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,p[v.DXGI_FORMAT_BC2_UNORM_SRGB]=i.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,p[v.DXGI_FORMAT_BC3_UNORM_SRGB]=i.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,p),D=function(){function t(){}return t.use=function(e,n){"dds"===e.extension&&e.data&&y(e.name||e.url,t.parse(e.data)),n()},t.parse=function(t){var e=new Uint32Array(t);if(542327876!==e[0])throw new Error("Invalid DDS file magic word");var n=new Uint32Array(t,0,124/Uint32Array.BYTES_PER_ELEMENT),r=n[_],i=n[w],a=n[x],o=new Uint32Array(t,S*Uint32Array.BYTES_PER_ELEMENT,32/Uint32Array.BYTES_PER_ELEMENT),s=o[1];if(4&s){var c=o[T];if(808540228!==c){var l=R[c],h=new Uint8Array(t,128);return[new m(h,{format:l,width:i,height:r,levels:a})]}var d=new Uint32Array(e.buffer,128,20/Uint32Array.BYTES_PER_ELEMENT),p=d[M],f=d[E],g=d[A],y=d[k],v=P[p];if(void 0===v)throw new Error("DDSLoader cannot parse texture data with DXGI format "+p);if(4===g)throw new Error("DDSLoader does not support cubemap textures");if(f===b.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var C=new Array;if(1===y)C.push(new Uint8Array(t,148));else{for(var O=u[v],L=0,D=i,I=r,B=0;B<a;B++){L+=Math.max(1,D+3&-4)*Math.max(1,I+3&-4)*O,D>>>=1,I>>>=1}var N=148;for(B=0;B<y;B++)C.push(new Uint8Array(t,N,L)),N+=L}return C.map((function(t){return new m(t,{format:v,width:i,height:r,levels:a})}))}if(64&s)throw new Error("DDSLoader does not support uncompressed texture data.");if(512&s)throw new Error("DDSLoader does not supported YUV uncompressed texture data.");if(131072&s)throw new Error("DDSLoader does not support single-channel (lumninance) texture data!");if(2&s)throw new Error("DDSLoader does not support single-channel (alpha) texture data!");throw new Error("DDSLoader failed to load a texture file due to an unknown reason!")},t}();o.c.setExtensionXhrType("ktx",o.c.XHR_RESPONSE_TYPE.BUFFER);var I=[171,75,84,88,32,49,49,187,13,10,26,10],B=12,N=16,j=24,F=28,U=36,Y=40,G=44,H=48,z=52,V=56,W=60,X=((C={})[s.p.UNSIGNED_BYTE]=1,C[s.p.UNSIGNED_SHORT]=2,C[s.p.FLOAT]=4,C[s.p.HALF_FLOAT]=8,C),K=((O={})[s.g.RGBA]=4,O[s.g.RGB]=3,O[s.g.LUMINANCE]=1,O[s.g.LUMINANCE_ALPHA]=2,O[s.g.ALPHA]=1,O),q=((L={})[s.p.UNSIGNED_SHORT_4_4_4_4]=2,L[s.p.UNSIGNED_SHORT_5_5_5_1]=2,L[s.p.UNSIGNED_SHORT_5_6_5]=2,L),Z=function(){function t(){}return t.use=function(e,n){"ktx"===e.extension&&e.data&&t.parse(e.name||e.url,e.data),n()},t.parse=function(e,n){var r=new DataView(n);if(t.validate(e,r)){var i=67305985===r.getUint32(B,!0),a=r.getUint32(N,i),o=r.getUint32(j,i),s=r.getUint32(F,i),c=r.getUint32(U,i),l=r.getUint32(Y,i)||1,h=r.getUint32(G,i)||1,d=r.getUint32(H,i)||1,p=r.getUint32(z,i),f=r.getUint32(V,i),g=r.getUint32(W,i);if(0===l||1!==h)throw new Error("Only 2D textures are supported");if(1!==p)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==d)throw new Error("WebGL does not support array textures");var v,b=c+3&-4,_=l+3&-4,w=new Array(d),x=c*l;if(0===a&&(x=b*_),void 0===(v=0!==a?X[a]?X[a]*K[o]:q[a]:u[s]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var S=x*v,T=c,M=l,E=b,A=_,k=64+g,C=0;C<f;C++){for(var O=r.getUint32(k,i),L=k+4,R=0;R<d;R++){var P=w[R];P||(P=w[R]=new Array(f)),P[C]={levelID:C,levelWidth:f>1?T:E,levelHeight:f>1?M:A,levelBuffer:new Uint8Array(n,L,S)},L+=S}k=(k+=O+4)%4!=0?k+4-k%4:k,S=(E=(T=T>>1||1)+4-1&-4)*(A=(M=M>>1||1)+4-1&-4)*v}if(0!==a)throw new Error("TODO: Uncompressed");y(e,w.map((function(t){return new m(null,{format:s,width:c,height:l,levels:f,levelBuffers:t})})))}},t.validate=function(t,e){for(var n=0;n<I.length;n++)if(e.getUint8(n)!==I[n])return!1;return!0},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return ie}));n(21),n(5),n(19),n(119),n(38),n(92),n(121),n(22),n(15),n(298),n(20),n(42);var r=n(24),i=n(680),a=(n(128),n(132),n(83),n(650),n(94));var o=n(249),s=n(85),u=n.n(s),c=n(0),l=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))},h=function(t,e){var n;try{var r=new c.BaseTexture(e,{mipmap:c.MIPMAP_MODES.OFF,alphaMode:c.ALPHA_MODES.NO_PREMULTIPLIED_ALPHA});n=new c.Texture(r),c.BaseTexture.addToCache(r,t),c.Texture.addToCache(n,t)}catch(t){}return n},d={test:function(t){return Object(s.extname)(t).includes(".basis")},load:function(t){return l(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return e.next=4,e.sent.arrayBuffer();case 4:return n=e.sent,e.next=7,o.a.transcodeAsync(n);case 7:return r=e.sent,e.abrupt("return",h(t,r[0]));case 9:case"end":return e.stop()}}),e)})))}},p=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))},f=[".jpg",".png",".jpeg",".avif",".webp"],m={test:function(t){var e=t.split("?")[0];return f.includes(Object(s.extname)(e))},load:function(t){return p(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.next=3,new Promise((function(e){(n=new Image).crossOrigin="anonymous",n.src=t,n.complete?e(n):n.onload=function(){e(n)}}));case 3:return n=e.sent,r=new c.BaseTexture(n,{resolution:c.utils.getResolutionOfUrl(t)}),i=new c.Texture(r),c.BaseTexture.addToCache(r,t),c.Texture.addToCache(i,t),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))}},g=(n(51),n(106),n(114),n(87),n(649),function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))});function y(t){var e=Object(s.extname)(t);return Object(s.basename)(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join(" ")}var v={test:function(t){return Object(s.extname)(t).split("?").shift().endsWith("woff2")},load:function(t){return g(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i,o,s,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=y(t),r=t.replace(".woff2",".woff"),i="\n    @font-face {\n        font-family: ".concat((c={fontFamily:n,woff:r,woff2:t}).fontFamily,';\n        src: url("').concat(c.woff2,"\") format('woff2'),\n             url(\"").concat(c.woff,"\") format('woff');\n        font-weight: normal;\n        font-style: normal;\n    }"),o=document.createElement("style"),s=document.createTextNode(i),o.appendChild(s),document.head.appendChild(o),(u=document.createElement("div")).className="fontcache",u.style.fontFamily=n,u.style.position="fixed",u.style.marginLeft="-100px",u.style.marginTop="-100px",u.textContent=".",u.style.backgroundColor="blue",u.style.zIndex="9999",document.body.appendChild(u),e.abrupt("return",new Promise((function(t){var e=null,r=!1;function i(){return!!document.fonts&&(document.fonts.check("1em ".concat(n))||document.fonts.check("1px ".concat(n)))}function s(){i()&&!r&&(e&&window.clearInterval(e),r=!0,t())}a.a.ie?setTimeout((function(){return t()}),50):o.onload=function(){document.fonts?"loaded"===document.fonts.status&&i()?t():(document.fonts.ready.then(s),e=window.setInterval(s,100)):setTimeout((function(){return t()}),50)}})));case 19:case"end":return e.stop()}var c}),e)})))}};n(39),n(23),n(29),n(30);function b(t){return function(t){if(Array.isArray(t))return _(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return _(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var S=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.MAX_CONCURRENCY;w(this,t),this._queue=[],this._isActive=!1,this._activePromises=0,this._maxConcurrency=e}var e,n,r;return e=t,(n=[{key:"promise",value:function(t,e){for(var n,r,i=new Promise((function(t,e){n=t,r=e})),a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];return this._queue.push({creator:t,scope:e,args:o,resolve:n,reject:r,promise:i}),this._isActive||this.next(),i}},{key:"next",value:function(){for(var t=this,e=function(){var e;t._activePromises++,t._isActive=!0;var n=t._queue.shift();(e=n.creator).call.apply(e,[n.scope].concat(b(n.args))).then((function(e){n.resolve(e),t._activePromises--,t.next()})).catch((function(e){n.reject(e),t._activePromises--,t.next()}))};this._queue.length>0&&this._activePromises<this._maxConcurrency;)e();0===this._queue.length&&(this._isActive=!1)}}])&&x(e.prototype,n),r&&x(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();S.MAX_CONCURRENCY=6;var T=n(708),M=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))},E=new S(1);var A=n(96),k=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))},C={test:function(t){return Object(s.extname)(t).includes(".xml")},load:function(t){return k(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i,a,o,u,l,h,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.text();case 5:r=e.sent,i=(new window.DOMParser).parseFromString(r,"text/xml"),a=i.getElementsByTagName("page"),o=0;case 9:if(!(o<a.length)){e.next=20;break}return u=a[o].getAttribute("file"),l=Object(s.join)(Object(s.dirname)(t),u),e.next=14,Object(A.c)([l]);case 14:h=e.sent,d=h[l],c.BitmapFont.install(i,d);case 17:++o,e.next=9;break;case 20:case"end":return e.stop()}}),e)})))}},O=(n(34),n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(33),n(35),n(93)),L=n(101);function R(t){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function D(t,e){return(D=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function I(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=N(t);if(e){var i=N(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return B(this,n)}}function B(t,e){if(e&&("object"===R(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function N(t){return(N=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var j=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D(t,e)}(a,t);var e,n,r,i=I(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).bones=t.slice(0),e.boneInverses=[],e}return e=a,(n=[{key:"calculateInverses",value:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new O.a;if(this.bones[t]){if(!this.bones[t].bindMatrix)throw new Error("no bones!");n.getInverse(this.bones[t].bindMatrix)}this.boneInverses.push(n)}}}])&&P(e.prototype,n),r&&P(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(L.a),F=n(13);function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Y=new O.a,G=new O.a,H=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._dataTextureDirty=!0,this.entity=e,this._skeleton=n.skeleton;var r=Math.ceil(Math.sqrt(16*n.skeleton.bones.length/4));this._bonesTextureData=new Float32Array(r*r*4),this.bones=new Float32Array(this._bonesTextureData.buffer,0,16*n.skeleton.bones.length),this.bindMatrix=new O.a(n.bindMatrix),this.bindMatrixInverse=(new O.a).getInverse(this.bindMatrix)}var e,n,r;return e=t,(n=[{key:"render",value:function(){for(var t=this._skeleton.bones,e=G.getInverse(this.entity.transform.worldTransform),n=0;n<t.length;n++){var r=t[n],i=r.inverseBindMatrix,a=r.transform.worldTransform;Y.multiplyMatrices(a,i).premultiply(e);for(var o=0;o<16;o++)this.bones[16*n+o]=Y.elements[o]}this._dataTextureDirty=!0}},{key:"boneTexture",get:function(){if(this._dataTextureDirty){if(!this._boneTexture){var t=Math.ceil(Math.sqrt(16*this._skeleton.bones.length/4));this._boneTexture=F.db.fromBuffer(this._bonesTextureData,t,t)}this._boneTexture.baseTexture.dirtyId++}return this._boneTexture}}])&&U(e.prototype,n),r&&U(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}H.DEFAULT_NAME="skinned";var V=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.name=e.name,this.data=e.data,this.duration=e.duration,this.loop=e.loop||!1,this.speed=e.speed||.012,this.currentTime=0}var e,n,r;return e=t,r=[{key:"fromAnimation",value:function(e){var n=e.animation,r=e.start,i=e.end;if(i>n.duration)throw new Error("cannot split animation, end time is longer than the duration (".concat(n.duration,") of the animation"));if(r<0)throw new Error("cannot split animation, start time is smaller than the zero");var a={};return a.data=n.data.map((function(t){var e={id:t.id};return t.t&&(e.t=W(t.t,r,i,3)),t.s&&(e.s=W(t.s,r,i,3)),t.r&&(e.r=W(t.r,r,i,4)),t.w&&(e.w=W(t.w,r,i,2)),e})),a.duration=i-r,a.name=e.name,a.speed=e.speed,a.loop=e.loop,t.fromData(a)}},{key:"fromData",value:function(e){return new t(e)}}],(n=null)&&z(e.prototype,n),r&&z(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function W(t,e,n,r){for(var i=t.times,a=0,o=0,s=0;s<i.length&&!(i[s]>e);s++)a=s;for(var u=a;u<i.length;u++)if(i[u]>=n){o=u;break}var c=i[a];return{times:i.slice(a,o).map((function(t){return t-c})),values:t.values.slice(a*r,o*r)}}n(194),n(291);function X(t){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function K(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Z(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Q(t);if(e){var i=Q(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return J(this,n)}}function J(t,e){if(e&&("object"===X(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Q(t){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var $,tt,et,nt,rt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&q(t,e)}(a,t);var e,n,r,i=Z(a);function a(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this,t)).map=e.map,n}return e=a,(n=[{key:"find",value:function(t){var e=null;return this.entity.container.traverse((function(n){n.name===t&&(e=n)})),e}},{key:"logNames",value:function(t){this.entity.container.traverse((function(t){t.view3d}))}},{key:"attachTo",value:function(t,e){var n=this.find(t);n&&n.addChild(e)}},{key:"hide",value:function(t){var e=this.find(t);e&&(e.view3d.renderable=!1)}},{key:"show",value:function(t){var e=this.find(t);e&&(e.view3d.renderable=!0)}},{key:"search",value:function(t,e){var n=e?{}:[];return this.entity.container.traverse((function(e){t(e)&&(n instanceof Array?n.push(e):n[e.name]=e)})),n}},{key:"first",value:function(t){return this.search(t)[0]}},{key:"getAllEntities",value:function(t){if(!t)return this.map;var e={};return this.entity.container.traverse((function(t){e[t.name]=t})),e}},{key:"findWithComponents",value:function(t,e){var n=e?{}:[];return this.entity.container.traverse((function(e){e[t]&&(n instanceof Array?n.push(e):n[e.name]=e)})),n}},{key:"findLights",value:function(t){return this.findWithComponents("light",t)}}])&&K(e.prototype,n),r&&K(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(n(195).a),it=n(173),at=n(36);function ot(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return st(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return st(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function st(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ut(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ct=function(){function t(e,n){var i,a=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.signals={animationComplete:new r.Signal},$||($=new it.a,tt=new it.a,et=new at.a,nt=new at.a),this.entity=e,this.autoUpdate=null===(i=n.autoUpdate)||void 0===i||i,this._mixedMap={},n.clips){var o={},s=n.animations[0],u=n.fps||24;for(var c in n.clips){var l=n.clips[c],h=l.frames,d=h[0]/u,p=h[1]/u;s.duration;var f={name:c,start:d,end:p,animation:s,speed:l.speed,loop:l.loop},m=V.fromAnimation(f);o[c]=m}if(n.mixes){var g,y=ot(n.mixes);try{for(y.s();!(g=y.n()).done;){var v=g.value;this.setMix(v[0],v[1],v[2])}}catch(t){y.e(t)}finally{y.f()}}this._animations=o}else this._animations={},n.animations.forEach((function(t,e){a._animations[e]=new V({loop:!0,duration:t.duration,name:"animation".concat(e),data:t.data})}));this._animationTick=0,this._defaultMix=.045,this.mixAmount=this._defaultMix,this.lastAnimation=null,this._lastAnimationTick=0,this._mixRatio=0,this._mixing=!1,this.allowMixing=!0,this._nextAnimation=null}var e,n,i;return e=t,(n=[{key:"play",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e||this._animations[t]!==this.animation)if(this._mixing)this._nextAnimation=t;else{if(this.allowMixing&&(this.lastAnimation=this.animation,this._lastAnimationTick=this._animationTick,this.animation)){var n=this.lastAnimation.name+t;this.mixAmount=this._mixedMap[n]||this._defaultMix,this._mixRatio=0,this._mixing=!0}this._animationTick=0,this.animation=this._animations[t]}}},{key:"setMix",value:function(t,e,n){var r=t+e;this._mixedMap[r]=n}},{key:"update",value:function(t){this.autoUpdate&&this.updateAnimation(t.frameTime)}},{key:"render",value:function(){this.animation&&(this._mixing&&this.lastAnimation?this._mixRatio>1?this._applySingleAnimation(this.animation,this._animationTick):this._applyTwoAnimations(this.animation,this._animationTick,this.lastAnimation,this._lastAnimationTick,this._mixRatio):this._applySingleAnimation(this.animation,this._animationTick))}},{key:"updateAnimation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.animation&&(this._animationTick+=this.animation.speed*t,this._mixing&&this.lastAnimation?(this._lastAnimationTick+=this.lastAnimation.speed*t,this._mixRatio+=this.mixAmount*t,this._mixRatio>1&&(this._mixRatio=1,this._mixing=!1,this._playNextAnimation())):this._playNextAnimation())}},{key:"_playNextAnimation",value:function(){this._nextAnimation&&(this.play(this._nextAnimation),this._nextAnimation=null)}},{key:"_applySingleAnimation",value:function(t,e){var n=t.loop,r=this.entity.getComponent(rt);e=this._updateAnimationTime(t,e);for(var i=0;i<t.data.length;i++){var a=t.data[i],o=r.map[a.id];o&&(a.t&&this._interpolateVec3(a.t.times,a.t.values,e,n,o.transform.position),a.s&&this._interpolateVec3(a.s.times,a.s.values,e,n,o.transform.scale),a.r&&this._interpolateQuat(a.r.times,a.r.values,e,n,o.transform.quat),o.transform._onChange(),a.w&&o.view3d.material.uniforms.uMorphTargetInfluence&&this._interpolateArray(a.w.times,a.w.values,e,n,o.view3d.material.uniforms.uMorphTargetInfluence,o.view3d.geometry.castToBaseGeometry().weights.length))}}},{key:"_applyTwoAnimations",value:function(t,e,n,r,i){var a=et,o=nt,s=tt,u=t.loop,c=n.loop,l=this.entity.getComponent(rt);e=this._updateAnimationTime(t,e),r=this._updateAnimationTime(n,r);for(var h=0;h<t.data.length;h++){var d=t.data[h],p=n.data[h],f=l.map[d.id];if(f){if(d.t&&(this._interpolateVec3(d.t.times,d.t.values,e,u,o),this._interpolateVec3(p.t.times,p.t.values,r,c,a),f.transform.position.set(a.x+(o.x-a.x)*i,a.y+(o.y-a.y)*i,a.z+(o.z-a.z)*i)),d.s&&(this._interpolateVec3(d.s.times,d.s.values,e,u,a),this._interpolateVec3(p.s.times,p.s.values,r,c,o),f.transform.scale.set(a.x+(o.x-a.x)*i,a.y+(o.y-a.y)*i,a.z+(o.z-a.z)*i)),d.w&&(this._interpolateVec3(d.w.times,d.w.values,e,u,a),this._interpolateVec3(p.w.times,p.w.values,r,c,o)),d.r){var m=f.transform.quat;this._interpolateQuat(p.r.times,p.r.values,r,c,m),this._interpolateQuat(d.r.times,d.r.values,e,u,s),m.slerp(s,i)}f.transform._onChange()}}}},{key:"_interpolateVec3",value:function(t,e,n,r,i){for(var a=0,o=0;o<t.length&&!(t[o]>n);o++)a=o;var s,u=a+1;if(r&&u>t.length-1&&(u=0),a===t.length-1)s=1;else{var c=t[a],l=t[a+1];s=1-(l-n)/(l-c)}var h=e[3*a+0],d=e[3*a+1],p=e[3*a+2],f=e[3*u+0],m=e[3*u+1],g=e[3*u+2];return i.x=h+(f-h)*s,i.y=d+(m-d)*s,i.z=p+(g-p)*s,i}},{key:"_interpolateArray",value:function(t,e,n,r,i,a){for(var o=0,s=0;s<t.length&&!(t[s]>n);s++)o=s;var u,c=o+1;if(r&&c>t.length-1&&(c=0),o===t.length-1)u=1;else{var l=t[o],h=t[o+1];u=1-(h-n)/(h-l)}for(var d=0;d<a;d++){var p=e[o*a+d],f=e[c*a+d];i[d]=p+(f-p)*u}return i}},{key:"_interpolateQuat",value:function(t,e,n,r,i){for(var a=0,o=0;o<t.length&&!(t[o]>n);o++)a=o;var s,u=a+1;if(r&&u>t.length-1&&(u=0),i.x=e[4*a+0],i.y=e[4*a+1],i.z=e[4*a+2],i.w=e[4*a+3],$.x=e[4*u+0],$.y=e[4*u+1],$.z=e[4*u+2],$.w=e[4*u+3],a===t.length-1)s=1;else{var c=t[a],l=t[a+1];s=1-(l-n)/(l-c)}return i.slerp($,s),i}},{key:"_updateAnimationTime",value:function(t,e){var n=t.currentTime,r=!1;if(t.loop)(e%=t.duration)<0&&(e+=t.duration),e<n&&(r=!0);else{var i=t.duration-.01;e>i&&(e=i,n<i&&(r=!0))}return t.currentTime=e,r&&this.signals.animationComplete.emit(t.name),e}}])&&ut(e.prototype,n),i&&ut(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function lt(t){return(lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ht(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function dt(t,e){return(dt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function pt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=mt(t);if(e){var i=mt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ft(this,n)}}function ft(t,e){if(e&&("object"===lt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function mt(t){return(mt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}ct.DEFAULT_NAME="animationController";var gt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&dt(t,e)}(a,t);var e,n,r,i=pt(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).userData={},e.inverseBindMatrix=t,e.type="Bone",e.isBone=!0,e}return e=a,n&&ht(e.prototype,n),r&&ht(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(L.a),yt=n(555),vt=n(254),bt=n(251),_t=n(557),wt=n(268),xt=n(170),St=n(447);function Tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Mt=new O.a,Et=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.gbObject=e,e.materials||(e.materials=[]),this.geometryHash={},e.geometryBatch&&(this.geometryBatch=e.geometryBatch.map((function(t){return n._processPrimitive(t)}))),this.materials={},this.geometries=e.geometry.map((function(t){var e=t.name,r=t.weights;return t.primitives.map((function(t,i){var a;return a=t.attributes?n._processPrimitive(t):n._processFragPrimitive(t),n.geometryHash["".concat(e," + ").concat(i||"")]=a,a.castToBaseGeometry().weights=r,a}))}))}var e,n,r;return e=t,(n=[{key:"getGeometry",value:function(t){var e=this.geometryHash[t];if(!e)throw new Error("Error gb object Geometry ".concat(t," not found!"));return e}},{key:"getScene",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.gbObject,r=this.geometries,i=e.materials||{},a=e.mask||[];i.default||(i.default=new wt.a);var o=n.nodes.map((function(o){var s,u;switch(-1!==a.indexOf(o.type)?"masked":o.type){case"bone":u=new gt(new O.a(o.inverseBindMatrix));break;case"light":var c=n.lights[o.light];u=new _t.a(c);break;case"camera":var l=n.cameras[o.camera];u=new yt.a(l);break;case"model":if(void 0!==o.skin){var h=r[o.geometry][0],d=t._findMaterial(i,o.name,o.geometry,0,!0);if(u=new L.a({geometry:h,material:d,layerId:e.layerId||"default"}),r[o.geometry].length>1)for(var p=1;p<r[o.geometry].length;p++){var f=t._findMaterial(i,o.name,o.geometry,p,!0),m=new L.a({geometry:r[o.geometry][p],material:f,layerId:e.layerId||"default"});(null===(s=n.materials[p])||void 0===s?void 0:s.name)&&(m.name=n.materials[p].name),u.addChild(m)}}else{var g=t._findMaterial(i,o.name,o.geometry,0,!1);if(u=new L.a({geometry:r[o.geometry][0],material:g,layerId:e.layerId||"default"}),r[o.geometry].length>1)for(var y=1;y<r[o.geometry].length;y++){var v=t._findMaterial(i,o.name,o.geometry,y,!1),b=new L.a({geometry:r[o.geometry][y],material:v,layerId:e.layerId||"default"});u.addChild(b)}}break;default:u=new L.a}return o.transform&&(Mt.elements=o.transform,u.transform.applyMatrix(Mt)),u.name=o.name,u})),s=null;n.skins&&(s=n.skins.map((function(t){var e=t.joints.map((function(t){return o[t]}));return new j(e)}))),n.nodes.forEach((function(t,e){if(void 0!==t.skin){var n=o[e];n.skinned=n.addComponent(H,{skeleton:s[t.skin]})}})),n.nodes.forEach((function(t,e){var n=o[e];t.children.forEach((function(t){var e=o[t];n===e||n.addChild(e)}))}));var u=new L.a;n.scenes.length;var c=n.scenes[0];if(c.children.forEach((function(t){u.addChild(o[t])})),n.animations.length){var l=n.animations.map((function(t,e){return t.name=String(e),V.fromData(t)}));u.addComponent(ct,{animations:l,clips:e.clips,mixes:e.mixes,fps:e.fps}),!1!==(null==e?void 0:e.autoPlay)&&u.getComponent(ct).play("0")}return u.addComponent(rt,{map:o},"utils"),u}},{key:"_processFragPrimitive",value:function(t){var e=new bt.a({geometry:this.geometryBatch[t.geometry],start:t.start,size:t.size}),n=t.bounds;return e.boundingBox=new xt.a(new at.a(n[0],n[1],n[2]),new at.a(n[3],n[4],n[5])),e.boundingSphere=e.boundingBox.getBoundingSphere(new St.a),e}},{key:"_processPrimitive",value:function(t){var e,n,r=new vt.a,i=t.attributes,a=t.bounds;if(a&&(r.boundingBox=new xt.a(new at.a(a[0],a[1],a[2]),new at.a(a[3],a[4],a[5])),r.boundingSphere=r.boundingBox.getBoundingSphere(new St.a)),r.addAttribute("aPosition",new c.Buffer(i.positions),3),r.addAttribute("aNormal",new c.Buffer(i.normals),3),i.uvs?r.addAttribute("aUv",new c.Buffer(i.uvs),2):r.addAttribute("aUv",new c.Buffer(new Float32Array(i.positions.length/3*2)),2),(null===(e=i.weights)||void 0===e?void 0:e.length)&&(r.addAttribute("aBoneWeights",new c.Buffer(i.weights),4),r.addAttribute("aBoneIndices",new c.Buffer(new Float32Array(i.boneIndices)),4)),i.tangents&&r.addAttribute("aTangents",new c.Buffer(i.tangents)),t.targets)for(var o,s=0;s<4;s++){var u=t.targets[s];u?(r.addAttribute("aMorphTargetPosition".concat(s+1),new c.Buffer(u.positions),3),u.normals||o||(o=new Float32Array(i.positions.length)),r.addAttribute("aMorphTargetNormal".concat(s+1),new c.Buffer(null!==(n=u.normals)&&void 0!==n?n:o),3)):(o||(o=new Float32Array(i.positions.length)),r.addAttribute("aMorphTargetPosition".concat(s+1),new c.Buffer(o),3),r.addAttribute("aMorphTargetNormal".concat(s+1),new c.Buffer(o),3))}return t.indices&&r.addIndex(new c.Buffer(t.indices)),r}},{key:"_findMaterial",value:function(t,e,n,r){var i,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.gbObject,s=o.geometry[n].primitives[r],u=t[e];if(!u){var c=s.material,l=null===(i=this.gbObject)||void 0===i?void 0:i.materials[c];if(t[null==l?void 0:l.name])return t[l.name];if(t[l.name])return t[l.name];u=a&&t.defaultSkinned?t.defaultSkinned:t.default}return u}}])&&Tt(e.prototype,n),r&&Tt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function At(t){return new Et(t)}function kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ct=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._map={},this.basePath=""}var e,n,r;return e=t,(n=[{key:"get",value:function(t){if(t=this.basePath+t,this._map[t])return this._map[t];if(t=u.a.normalize(t),this._map[t])return this._map[t];throw new Error('Odie : "'.concat(t,'" does not exist in the cache'))}},{key:"add",value:function(t,e){this._map[t]=e}}])&&kt(e.prototype,n),r&&kt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()),Ot=(n(299),n(107),n(515)),Lt=n.n(Ot),Rt=n(446),Pt=new RegExp(/^.*\//).exec(window.location.href.split("?")[0])[0];function Dt(t){return Object(Rt.a)(t)?t:Lt()(Pt,t)}var It=n(516),Bt=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))};function Nt(t){return Bt(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.arrayBuffer();case 5:return r=e.sent,i=Object(It.unpackGBObject)(r),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})))}var jt=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))},Ft={test:function(t){return Object(s.extname)(t).includes(".gb")},load:function(t){return jt(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Dt(t)).indexOf("ionic://")>=0&&n.indexOf("ionic://localhost/")<0&&(n=n.replace("ionic://","ionic://localhost/")),e.next=4,Nt(n);case 4:return r=e.sent,i=At(r),a=t.split("?")[0],Ct.add(a,i),e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))}},Ut=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))},Yt={test:function(t){return Object(s.extname)(t).includes(".json")},load:function(t){return Ut(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))}},Gt=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))},Ht={testParse:function(t,e){return Object(s.extname)(e).includes(".json")&&!!t.frames},parse:function(t,e){return Gt(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i,a,o,u,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=Object(s.dirname)(e))&&r.lastIndexOf("/")!==r.length-1&&(r+="/"),i=r+t.meta.image,n.next=5,Object(A.c)([i]);case 5:return a=n.sent,o=a[i],u=e.split(".")[0],c.BaseTexture.addToCache(o.baseTexture,u),c.Texture.addToCache(o,u),l=new c.Spritesheet(o.baseTexture,t,e),n.next=13,new Promise((function(t){l.parse(t)}));case 13:return n.abrupt("return",l);case 14:case"end":return n.stop()}}),n)})))}};function zt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Vt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Wt=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))},Xt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];zt(this,t),this._assetList=[],this._isLoading=!1,this._maxConcurrent=4,this.verbose=e}var e,n,r;return e=t,(n=[{key:"add",value:function(t){var e=this;t.forEach((function(t){e._assetList.push(t)})),this.verbose,this._isActive&&!this._isLoading&&this._next()}},{key:"_next",value:function(){return Wt(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._assetList.length||!this._isActive){t.next=9;break}for(this._isLoading=!0,e=[],n=Math.min(this._assetList.length,this._maxConcurrent),r=0;r<n;r++)e.push(this._assetList.pop());return t.next=7,Object(A.c)(e);case 7:this._isLoading=!1,this._next();case 9:case"end":return t.stop()}}),t,this)})))}},{key:"active",get:function(){return this._isActive},set:function(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}])&&Vt(e.prototype,n),r&&Vt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();n(99),n(502);n(169);function Kt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object.values(t.json).forEach((function(t){A.b[t.shortcut]=A.b[e+t.default]}))}function qt(t){for(var e in t.model){var n=t.model[e],r=n.default;if(r)if("gb"===r.substr(r.lastIndexOf(".")+1)&&n.shortcut){var i=Ct.get(r),a=".".concat(r.split(".")[1]);Ct.add(n.shortcut.split(".")[0]+a,i)}}}var Zt=n(146);function Jt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=arguments.length>3?arguments[3]:void 0;for(var i in t.image){var a=t.image[i],o=Object(Zt.a)(t.image,i,e,r)||a.standard.default;if(o){var s="json"!==o.substr(o.lastIndexOf(".")+1);if(s){var u=c.Texture.from(n+o);u.constructor===c.Texture&&(c.Texture.addToCache(u,a.standard.default),a.shortcut&&c.Texture.addToCache(u,a.shortcut))}}}}function Qt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];for(var n in t){var r=t[n],i=n;r.tags&&r.tags.tps&&(i="".concat(i,"_image"));var a=c.utils.BaseTextureCache[i];a&&(r.tags&&(r.tags.REPEAT&&(a.wrapMode=c.WRAP_MODES.REPEAT),r.tags.NEAREST&&(a.scaleMode=c.SCALE_MODES.NEAREST)),e&&(!r.tags||r.tags&&!r.tags.high)&&(a.type=c.TYPES.UNSIGNED_SHORT_4_4_4_4))}}function $t(t,e,n,r,i){var a=this,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20;return new Promise((function(s){var u=[];for(var l in t){var h=t[l],d=Object(Zt.a)(t,l,e,i);h.tags&&h.tags.tps&&(d="".concat(d,"_image"));var p=c.utils.BaseTextureCache[n+d];p&&u.push(p)}var f=0;c.Ticker.system.add((function t(){for(var e=0;e<o;e++){if(f===u.length){c.Ticker.system.remove(t,a),s();break}r.texture.destroyTexture(u[f],!0),f++}}),a)}))}function te(t,e,n,r,i){var a=this,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:20;return new Promise((function(s){var u=[];for(var l in t){var h=t[l],d=Object(Zt.a)(t,l,e,i);h.tags&&h.tags.tps&&(d=d.split(".").slice(0,-1).join("."));var p=c.utils.BaseTextureCache[n+d];p&&(h.tags&&(h.tags[4444]&&(p.type=c.TYPES.UNSIGNED_SHORT_4_4_4_4),h.tags.nearest&&(p.scaleMode=c.SCALE_MODES.NEAREST)),p.isPowerOfTwo&&(p.wrapMode=c.WRAP_MODES.REPEAT),u.push(p))}var f=0;c.Ticker.system.add((function t(){for(var e=0;e<o;e++){if(f===u.length){c.Ticker.system.remove(t,a),s();break}r.texture.bind(u[f]),f++}}),a)}))}function ee(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ne=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))};Object(A.a)([d,m,Yt,Ht,Ft,C,v]);var re={uploadTexturesOnLoad:!0,extraLoadAttempts:5,extraLoadAttemptsInterval:1},ie=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onLoadProgress=new r.Signal,this.onLoadStart=new r.Signal,this.onLoadComplete=new r.Signal,this.onLoadFail=new r.Signal,this.backgroundLoader=new Xt,this._uploadTexturesOnLoad=!0,this._filesToSkip=["ttf","html","css","mp4","js"]}var e,n,o;return e=t,(n=[{key:"init",value:function(t){var e,n,r,i,o,s,u,l,h=t.manifest;if(!h)throw new Error("Resource manager expects a manifest");this._imageFormatPreference=(o=t.imageFormatPreference,s=a.a.supportedFileFormats.webp,u=a.a.supportedFileFormats.avif,l=o||["basis","avif","webp","standard"],s?(u||l.includes("avif")&&l.splice(l.findIndex((function(t){return"avif"===t})),1),l):["standard"]),this._basePath=t.basePath,this._renderer=t.renderer,t.disableGarbageCollection&&(this._renderer.textureGC.mode=1),this._manifest=h,function(t,e){Object.keys(t).forEach((function(n){var r=n.substring(n.lastIndexOf("/")+1);if(t[r]||(t[r]=t[n]),n.startsWith(e)){var i=n.split(e)[1];i&&!t[i]&&(t[i]=t[n])}}))}(h,t.manifestBasePath||"assets/"),this._version=t.version||"default",re.uploadTexturesOnLoad=this._uploadTexturesOnLoad=null!==(e=t.uploadTexturesOnLoad)&&void 0!==e&&e,this._canOptimise=null!==(n=t.canOptimise)&&void 0!==n&&n,this._verbose=!!t.verbose||!1,this._canCacheBust=null!==(r=t.canCacheBust)&&void 0!==r&&r,this._uploadTexturesOnLoad&&Object(A.a)(function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{testParse:function(t){return t instanceof c.Texture},parse:function(n){var r=this;return new Promise((function(i){n.baseTexture.isPowerOfTwo&&(n.baseTexture.wrapMode=c.WRAP_MODES.REPEAT),E.promise((function(){return M(r,void 0,void 0,regeneratorRuntime.mark((function r(){var a,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(T.a)(1);case 2:t.texture.bind(n),a=n.baseTexture.resource,o=null==a?void 0:a.source,!e&&(null==o?void 0:o.close)&&o.close(),i(n);case 7:case"end":return r.stop()}}),r)})))}),r)}))}}}(this._renderer,null===(i=t.preserveImageBitmap)||void 0===i||i))}},{key:"load",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ne(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=Object.assign(Object.assign({},re),e),n.prev=1,n.next=4,this.loadAttempt(t,e);case 4:n.next=16;break;case 6:if(n.prev=6,n.t0=n.catch(1),!(e.extraLoadAttempts<=0)){n.next=11;break}throw this.onLoadFail.emit(),new Error("[ResourceManager] All load attempts failed.\n".concat(n.t0));case 11:return n.next=13,Object(i.a)(1e3*e.extraLoadAttemptsInterval);case 13:return e.extraLoadAttempts-=1,n.next=16,this.load(t,e);case 16:case"end":return n.stop()}}),n,this,[[1,6]])})))}},{key:"loadAttempt",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ne(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i,a=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return this.backgroundLoader.active=!1,r=this.getManifestFromIds(t),this._version,this._verbose,i=this._collectAssetsFromManifests(r),this.onLoadStart.emit(),this.onLoadProgress.emit(0),n.prev=7,n.next=10,Object(A.c)(i,(function(t){a.onLoadProgress.emit(100*t)}));case 10:n.next=15;break;case 12:throw n.prev=12,n.t0=n.catch(7),new Error("[ResourceManager] Failed to load.\n".concat(n.t0));case 15:return this._verbose,n.next=18,this.afterLoad(r,e);case 18:this.backgroundLoader.active=!0,this.onLoadComplete.emit();case 20:case"end":return n.stop()}}),n,this,[[7,12]])})))}},{key:"afterLoad",value:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ne(this,void 0,void 0,regeneratorRuntime.mark((function r(){var i,a,o;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:i=this._version,a=0;case 2:if(!(a<t.length)){r.next=15;break}if((o=t[a]).loaded||(Jt(o,i,this._basePath,this._imageFormatPreference),qt(o),Kt(o,this._basePath)),o.loaded=!0,o.formated||(Qt(o.image,this._canOptimise),o.formated=!0),!(null!==(e=n.uploadTexturesOnLoad)&&void 0!==e?e:this._uploadTexturesOnLoad)){r.next=12;break}if(o.uploaded){r.next=12;break}return r.next=11,te(o.image,this._version,this._basePath,this._renderer,this._imageFormatPreference);case 11:o.uploaded=!0;case 12:a++,r.next=2;break;case 15:case"end":return r.stop()}}),r,this)})))}},{key:"backgroundLoad",value:function(t){var e=this.getManifestFromIds(t),n=this._collectAssetsFromManifests(e);this.backgroundLoader.add(n)}},{key:"_collectAssetsFromManifests",value:function(t){for(var e=(new Date).getTime(),n=[],r=0;r<t.length;r++){var i=t[r];if(!i.loaded)for(var a in i){var o=i[a];if("audio"!==a)for(var s in o){var u=o,c=!1;if("misc"===a){var l=u[s].default.split(".").pop();-1!==this._filesToSkip.indexOf(l)&&(c=!0)}if("fonts"===a){var h=this._basePath+u[s].woff2;this._canCacheBust&&(h+="?cache=".concat(e)),n.push(h),c=!0}if(!c){var d=this._basePath+Object(Zt.a)(u,s,this._version||"default",this._imageFormatPreference);this._canCacheBust&&(d+="?cache=".concat(e)),n.push(d)}}}}return n}},{key:"unload",value:function(t){return ne(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=this.getManifestFromIds(t),r=0;case 2:if(!(r<n.length)){e.next=11;break}if(!(i=n[r]).uploaded){e.next=8;break}return e.next=7,$t(i.image,this._version,this._basePath,this._renderer,this._imageFormatPreference);case 7:i.uploaded=!1;case 8:r++,e.next=2;break;case 11:case"end":return e.stop()}}),e,this)})))}},{key:"areManifestsLoaded",value:function(t){return this.getManifestFromIds(t).every((function(t){return t.loaded}))}},{key:"hasManifestFor",value:function(t){return!!this._manifest[t]}},{key:"getManifestFromIds",value:function(t){var e=this;return t instanceof Array||(t=[t]),(t=Array.from(new Set(t))).map((function(t){if("string"==typeof t){if(!e._manifest[t])throw new Error("".concat(t," does not exist in manifest"));return e._manifest[t]}return t}))}},{key:"loadTexture",value:function(t){return ne(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.c)([t]);case 2:return n=e.sent,e.abrupt("return",n[t]);case 4:case"end":return e.stop()}}),e)})))}},{key:"loadAsset",value:function(t){return ne(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._basePath+t,e.next=3,Object(A.c)([n]);case 3:return r=e.sent,e.abrupt("return",r[t]);case 5:case"end":return e.stop()}}),e,this)})))}},{key:"getJson",value:function(t){var e;return null!==(e=A.b[this._basePath+t])&&void 0!==e?e:A.b[t]}},{key:"getAsset",value:function(t){var e;return null!==(e=A.b[this._basePath+t])&&void 0!==e?e:A.b[t]}}])&&ee(e.prototype,n),o&&ee(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}())},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return T}));n(21),n(27),n(5),n(19);var r,i,a=n(94),o=n(80),s=n(130),u=n(11),c=n(25),l=n(8),h=n(6),d=n(9),p=n(257),f=n(44),m=n(1),g=n(14),y=n(0),v=n(7);function b(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function _(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){b(a,r,i,o,s,"next",t)}function s(t){b(a,r,i,o,s,"throw",t)}o(void 0)}))}}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.GENERAL=0]="GENERAL",t[t.CONTROLS=1]="CONTROLS",t[t.LEGAL=2]="LEGAL"}(r||(r={})),function(t){t[t.CLASSIC=0]="CLASSIC",t[t.SWIPE=1]="SWIPE"}(i||(i={}));var T=function(t){var e,n;function s(e){var n;return S(w(n=t.call(this,e)||this),"app",void 0),S(w(n),"background",void 0),S(w(n),"mainContainer",void 0),S(w(n),"languageSelectorWrapper",void 0),S(w(n),"languageSelector",void 0),S(w(n),"generalContainer",void 0),S(w(n),"controlsContainer",void 0),S(w(n),"legalContainer",void 0),S(w(n),"languageButton",void 0),S(w(n),"rateButton",void 0),S(w(n),"termsButton",void 0),S(w(n),"privacyButton",void 0),S(w(n),"classicButton",void 0),S(w(n),"swipeButton",void 0),S(w(n),"soundButton",void 0),S(w(n),"_exclamation",void 0),S(w(n),"_version",void 0),S(w(n),"addCoinsButton",void 0),S(w(n),"quickGameButton",void 0),S(w(n),"rapidPowerupsButton",void 0),S(w(n),"instantPromotionButton",void 0),S(w(n),"resetButton",void 0),S(w(n),"geText",void 0),S(w(n),"geInactiveButton",void 0),S(w(n),"geUpcomingButton",void 0),S(w(n),"geActiveButton",void 0),n.app=e,n}n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,x(e,n);var b=s.prototype;return b.init=function(){var t=_(regeneratorRuntime.mark((function t(){var e,n,s,c,h,g,v,b,_,w,x,S=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.background=new f.a({width:850,height:620,title:"STR_SETTINGS_TITLE"}),this.view.addChild(this.background),this.mainContainer=new y.Container,this.background.addChild(this.mainContainer),this.mainContainer.y=30,this.mainContainer.scale.set(1.25),this.generalContainer=new y.Container,this.controlsContainer=new y.Container,this.legalContainer=new y.Container,this.mainContainer.addChild(this.generalContainer),this.mainContainer.addChild(this.controlsContainer),this.mainContainer.addChild(this.legalContainer),e=new y.Sprite(y.Texture.WHITE),n=new y.Sprite(y.Texture.WHITE),s=new y.Sprite(y.Texture.WHITE),e.anchor.set(.5),n.anchor.set(.5),s.anchor.set(.5),e.width=n.width=s.width=165,e.height=n.height=s.height=50,e.alpha=n.alpha=s.alpha=0,e.interactive=n.interactive=s.interactive=!0,e.buttonMode=n.buttonMode=s.buttonMode=!0,e.on("pointertap",this.toggleTab.bind(this,r.GENERAL)),n.on("pointertap",this.toggleTab.bind(this,r.CONTROLS)),s.on("pointertap",this.toggleTab.bind(this,r.LEGAL)),c={fill:16777215,fontSize:20,padding:10,maxWidth:140},h=new d.a("STR_SETTINGS_GENERAL",c),g=new d.a("STR_SETTINGS_CONTROLS",c),v=new d.a("STR_SETTINGS_LEGAL",c),h.anchor.set(.5),g.anchor.set(.5),v.anchor.set(.5),this.mainContainer.addChild(e),this.mainContainer.addChild(n),this.mainContainer.addChild(s),this.mainContainer.addChild(h),this.mainContainer.addChild(g),this.mainContainer.addChild(v),e.y=n.y=s.y=-145,e.x=-203,s.x=203,h.y=g.y=v.y=-145,h.x=-203,v.x=203,(b=y.Sprite.from("board-today.png")).anchor.set(.5),b.scale.set(.7),this.generalContainer.addChild(b),this.soundButton=new u.c({icon:"icon-soundon.png"}),this.soundButton.x=-180,this.soundButton.y=25,this.soundButton.onPress.add(this.toggleSound,this),this.generalContainer.addChild(this.soundButton),this.languageButton=new u.c({text:"STR_SETTINGS_LANGUAGE",color:u.a.PINK,width:310,height:70,format:{fontSize:25}}),this.languageButton.onPress.add(this.showLanguageSelector.bind(this)),this.languageButton.x=100,this.languageButton.y=this.soundButton.y-55,this.generalContainer.addChild(this.languageButton),this.rateButton=new u.c({text:"STR_SETTINGS_RATE",width:310,height:70,format:{fontSize:25}}),this.rateButton.x=100,this.rateButton.y=this.soundButton.y+55,this.rateButton.onPress.add((function(){var t=a.a.android?"market://details?id=com.turner.tooncup":"itms-apps://itunes.apple.com/gb/app/toon-cup-2021-football-game/id1338227911";S.app.controller.openLink(t)})),this.generalContainer.addChild(this.rateButton),(b=y.Sprite.from("board-this-week.png")).anchor.set(.5),b.scale.set(.7),this.controlsContainer.addChild(b),this.controlsContainer.visible=!1,this.classicButton=new u.c({text:"STR_SETTINGS_CLASSIC",icon:"icon-classic-controls.png",color:u.a.GREEN,width:310,height:70,format:{fontSize:25},iconScale:.9}),this.classicButton.y=this.soundButton.y-55,this.classicButton.onPress.add(this.toggleControls.bind(this,i.CLASSIC)),this.controlsContainer.addChild(this.classicButton),this.swipeButton=new u.c({text:"STR_SETTINGS_SWIPE",icon:"icon-swipe-controls.png",width:310,height:70,format:{fontSize:25}}),this.swipeButton.y=this.soundButton.y+55,this.swipeButton.onPress.add(this.toggleControls.bind(this,i.SWIPE)),this.controlsContainer.addChild(this.swipeButton),(b=y.Sprite.from("board-tournament.png")).anchor.set(.5),b.scale.set(.7),this.legalContainer.addChild(b),this.legalContainer.visible=!1,this.privacyButton=new u.c({text:"STR_SETTINGS_PRIVACYPOLICY",width:310,height:70,format:{fontSize:25}}),this.privacyButton.y=this.soundButton.y+55,this.privacyButton.onPress.add((function(){var t=o.b.translate("URL_PRIVACY")||"";S.app.controller.openLink(t,!0)})),this.legalContainer.addChild(this.privacyButton),this.termsButton=new u.c({text:"STR_SETTINGS_TERMS",width:310,height:70,format:{fontSize:25}}),this.termsButton.y=this.soundButton.y-55,this.termsButton.onPress.add((function(){var t=o.b.translate("URL_TERMS")||"";S.app.controller.openLink(t,!0)})),this.legalContainer.addChild(this.termsButton),this.languageSelectorWrapper=new y.Container,this.background.addChild(this.languageSelectorWrapper),this.languageSelector=new p.a(this.app,this.background.panelWidth,this.background.panelHeight,!0),this.languageSelectorWrapper.addChild(this.languageSelector),this.languageSelector.onConfirmed.connect(this.hideLanguageSelector.bind(this)),_=document.getElementsByTagName("meta"),x=0;x<_.length;x++)"build-version"===_[x].getAttribute("name")&&(w=_[x].getAttribute("content"));this._version=new y.Text("v"+w,{fontFamily:"lubalin",fontSize:20,fill:4796424,fontWeight:"100"}),this._version.anchor.set(1,.5),this._version.x=400,this._version.y=265,this.background.addChild(this._version),!m.Params.get("settingsExclamation",!1)&&l.a.cache.controlsSettingVisited||this._addExclamation();case 103:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),b._addDebugButtons=function(){this.addCoinsButton=new u.c({color:u.a.GREEN,text:"+ Coins",width:150,height:70}),this.quickGameButton=new u.c({text:"Quick Game",width:200,height:70}),this.rapidPowerupsButton=new u.c({text:"Rapid Powerups",width:240,height:70}),this.instantPromotionButton=new u.c({text:"Instant Promotion",width:240,height:70}),this.resetButton=new u.c({color:u.a.PINK,text:"Reset",width:150,height:70}),this.geText=new d.a("Global Event Status"),this.geText.anchor.set(.5),this.geInactiveButton=new u.c({text:"Inactive",width:150,height:70}),this.geUpcomingButton=new u.c({text:"Upcoming",width:150,height:70}),this.geActiveButton=new u.c({text:"Active",width:150,height:70}),this.addCoinsButton.x=25+this.addCoinsButton.width/2,this.resetButton.x=this.addCoinsButton.x+this.addCoinsButton.width/2+15+this.resetButton.width/2,this.quickGameButton.x=25+this.quickGameButton.width/2,this.rapidPowerupsButton.x=this.quickGameButton.x+this.quickGameButton.width/2+15+this.rapidPowerupsButton.width/2,this.instantPromotionButton.x=this.rapidPowerupsButton.x+this.rapidPowerupsButton.width/2+15+this.instantPromotionButton.width/2,this.geText.x=this.instantPromotionButton.x+15+this.instantPromotionButton.width/2+this.geText.width/2,this.geInactiveButton.x=this.instantPromotionButton.x+this.instantPromotionButton.width/2+15+this.geInactiveButton.width/2,this.geUpcomingButton.x=this.geInactiveButton.x+this.geInactiveButton.width/2+15+this.geUpcomingButton.width/2,this.geActiveButton.x=this.geUpcomingButton.x+this.geUpcomingButton.width/2+15+this.geActiveButton.width/2,this.view.addChild(this.addCoinsButton),this.view.addChild(this.quickGameButton),this.view.addChild(this.rapidPowerupsButton),this.view.addChild(this.instantPromotionButton),this.view.addChild(this.resetButton),this.view.addChild(this.geText),this.view.addChild(this.geInactiveButton),this.view.addChild(this.geUpcomingButton),this.view.addChild(this.geActiveButton),this.addCoinsButton.onPress.add(this.addCoins.bind(this)),this.quickGameButton.onPress.add(this.toggleQuickGame.bind(this)),this.rapidPowerupsButton.onPress.add(this.toggleRapidPowerups.bind(this)),this.instantPromotionButton.onPress.add(this.toggleInstantPromotion.bind(this)),this.resetButton.onPress.add(this.resetGame.bind(this)),this.geInactiveButton.onPress.add(this.toggleGlobalEventStatus.bind(this,c.e.INACTIVE)),this.geUpcomingButton.onPress.add(this.toggleGlobalEventStatus.bind(this,c.e.UPCOMING)),this.geActiveButton.onPress.add(this.toggleGlobalEventStatus.bind(this,c.e.ACTIVE))},b._addExclamation=function(){var t=y.Sprite.from("button-unlockables-notification.png");t.anchor.set(.5),t.scale.set(.8),t.rotation=-.2,t.x=90,t.y=-145,this.mainContainer.addChild(t),Object(m.tween)(t.scale,.5,{x:1.2,y:1.2,ease:"Quad.easeInOut",repeat:-1,yoyo:!0}),Object(m.tween)(t,1,{rotation:.2,ease:"Quad.easeInOut",repeat:-1,yoyo:!0}),this._exclamation=t},b._removeExclamation=function(){var t=_(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g.c.killTweensOf(this._exclamation.scale),t.next=3,Object(m.tween)(this._exclamation.scale,.4,{x:0,y:0,ease:"Back.easeIn"});case 3:g.c.killTweensOf(this._exclamation),this.mainContainer.removeChild(this._exclamation),this._exclamation=void 0,this.app.overlays.header.removeExclamation();case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),b.toggleTab=function(t){this.generalContainer.visible=t===r.GENERAL,this.controlsContainer.visible=t===r.CONTROLS,this.legalContainer.visible=t===r.LEGAL,t===r.GENERAL&&v.c.dispatch(h.a,{type:h.b.SETTINGS_GENERAL_SELECTED}),t===r.CONTROLS&&v.c.dispatch(h.a,{type:h.b.SETTINGS_CONTROLS_SELECTED}),t===r.LEGAL&&v.c.dispatch(h.a,{type:h.b.SETTINGS_LEGAL_SELECTED}),t===r.CONTROLS&&this._exclamation&&this._removeExclamation()},b.showLanguageSelector=function(){var t=_(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.languageSelector.hide(this.mainContainer);case 2:return t.next=4,this.languageSelector.show();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),b.hideLanguageSelector=function(){var t=_(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.languageSelector.hide();case 2:return t.next=4,this.languageSelector.show(this.mainContainer,1.25);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),b.toggleSound=function(){this.app.controller.toggleMute(),this.updateSoundButtons()},b.updateSoundButtons=function(){var t=l.a.settings.muted?"icon-soundoff.png":"icon-soundon.png";this.soundButton.setIcon(t)},b.toggleControls=function(t){l.a.settings.controls!==t&&(this.app.controller.setControlsMode(t),this.updateControlButtons(),v.c.dispatch(h.a,{type:t===i.CLASSIC?h.b.CONTROLS_CLASSIC_SELECTED:h.b.CONTROLS_SWIPE_SELECTED}))},b.updateControlButtons=function(){this.classicButton.setColor(l.a.settings.controls===i.CLASSIC?u.a.GREEN:u.a.BLUE),this.swipeButton.setColor(l.a.settings.controls===i.SWIPE?u.a.GREEN:u.a.BLUE)},b.show=function(){this.updateDebugButtons(),this.updateSoundButtons(),this.updateControlButtons(),this.resize(this.width,this.height)},b.hidden=function(){this.languageSelector.reset(),this.mainContainer.visible=!0,this.mainContainer.scale.set(1.25),this.mainContainer.alpha=1,this.mainContainer.interactiveChildren=!0},b.resize=function(e,n){t.prototype.resize.call(this,e,n),this.background.position.set(e/2,n/2),this.quickGameButton&&(this.quickGameButton.y=n-60,this.rapidPowerupsButton.y=n-60,this.instantPromotionButton.y=n-60,this.addCoinsButton.y=this.quickGameButton.y-this.quickGameButton.height/2-15-this.addCoinsButton.height/2,this.resetButton.y=this.quickGameButton.y-this.quickGameButton.height/2-15-this.addCoinsButton.height/2,this.geInactiveButton.y=n-60,this.geUpcomingButton.y=n-60,this.geActiveButton.y=n-60,this.geText.y=this.geActiveButton.y-this.geActiveButton.height/2-10-this.geText.height/2)},b.addCoins=function(){this.app.controller.updateCoins(1e4)},b.resetGame=function(){localStorage.clear(),window.location.reload()},b.toggleQuickGame=function(){l.a.debug.quickGame=!l.a.debug.quickGame,this.app.storage.saveData("debug"),this.updateDebugButtons()},b.toggleRapidPowerups=function(){l.a.debug.rapidPowerups=!l.a.debug.rapidPowerups,this.app.storage.saveData("debug"),this.updateDebugButtons()},b.toggleInstantPromotion=function(){l.a.debug.instantPromotion=!l.a.debug.instantPromotion,this.app.storage.saveData("debug"),this.updateDebugButtons()},b.toggleGlobalEventStatus=function(t){l.a.debug.globalEventStatus=t===l.a.debug.globalEventStatus?null:t,this.app.storage.saveData("debug"),this.updateDebugButtons(),window.location.reload()},b.updateDebugButtons=function(){this.quickGameButton&&(this.quickGameButton.setColor(l.a.debug.quickGame?u.a.YELLOW:u.a.GREY),this.rapidPowerupsButton.setColor(l.a.debug.rapidPowerups?u.a.YELLOW:u.a.GREY),this.instantPromotionButton.setColor(l.a.debug.instantPromotion?u.a.YELLOW:u.a.GREY),this.geInactiveButton.setColor(l.a.debug.globalEventStatus===c.e.INACTIVE?u.a.BLUE:u.a.GREY),this.geUpcomingButton.setColor(l.a.debug.globalEventStatus===c.e.UPCOMING?u.a.BLUE:u.a.GREY),this.geActiveButton.setColor(l.a.debug.globalEventStatus===c.e.ACTIVE?u.a.BLUE:u.a.GREY))},s}(s.a)},function(t,e,n){var r=n(54),i=n(125),a=n(109),o=n(279),s=n(282),u=n(137),c=u.get,l=u.enforce,h=String(String).split("String");(t.exports=function(t,e,n,s){var u,c=!!s&&!!s.unsafe,d=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof e||a(n,"name")||i(n,"name",e),(u=l(n)).source||(u.source=h.join("string"==typeof e?e:""))),t!==r?(c?!p&&t[e]&&(d=!0):delete t[e],d?t[e]=n:i(t,e,n)):d?t[e]=n:o(e,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s(this)}))},function(t,e,n){var r=n(41),i=n(481);r({target:"Object",stat:!0,forced:Object.assign!==i},{assign:i})},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}},function(t,e,n){var r=n(41),i=n(467);r({target:"Array",stat:!0,forced:!n(234)((function(t){Array.from(t)}))},{from:i})},function(t,e,n){var r=n(181),i=n(206),a=n(113),o=n(97),s=n(288),u=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,l=4==t,h=6==t,d=7==t,p=5==t||h;return function(f,m,g,y){for(var v,b,_=a(f),w=i(_),x=r(m,g,3),S=o(w.length),T=0,M=y||s,E=e?M(f,S):n||d?M(f,0):void 0;S>T;T++)if((p||T in w)&&(b=x(v=w[T],T,_),t))if(e)E[T]=b;else if(b)switch(t){case 3:return!0;case 5:return v;case 6:return T;case 2:u.call(E,v)}else switch(t){case 4:return!1;case 7:u.call(E,v)}return h?-1:c||l?l:E}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterOut:c(7)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(94);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=0,this.ax=0,this.dx=0,this.tx=0,this.y=0,this.ay=0,this.dy=0,this.ty=0,this.max=30,this.damp=.75,this.springiness=.09,this.max=160,this.damp=.85,this.springiness=.29}var e,n,r;return e=t,(n=[{key:"update",value:function(){this.ax=(this.tx-this.x)*this.springiness,this.dx+=this.ax,this.dx*=this.damp,this.dx<-this.max?this.dx=-this.max:this.dx>this.max&&(this.dx=this.max),this.x+=this.dx,this.ay=(this.ty-this.y)*this.springiness,this.dy+=this.ay,this.dy*=this.damp,this.dy<-this.max?this.dy=-this.max:this.dy>this.max&&(this.dy=this.max),this.y+=this.dy}},{key:"reset",value:function(){this.x=0,this.ax=0,this.dx=0,this.tx=0,this.y=0,this.ay=0,this.dy=0,this.ty=0}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),o=n(24),s=n(134);function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=function(){function t(t){u(this,"spring",void 0),u(this,"onScrollUpdate",void 0),u(this,"target",void 0),u(this,"value",void 0),u(this,"easingValue",void 0),u(this,"dragOffset",void 0),u(this,"dragging",void 0),u(this,"speed",void 0),u(this,"size",void 0),u(this,"maxSlots",void 0),u(this,"capMovement",void 0),u(this,"prevPosition",void 0),u(this,"valueY",void 0),u(this,"easingValueY",void 0),u(this,"dragOffsetY",void 0),u(this,"speedY",void 0),u(this,"prevPositionY",void 0),u(this,"didMove",void 0),u(this,"didMoveY",void 0),u(this,"scrollMin",void 0),u(this,"scrollMax",void 0),u(this,"scrollMinY",void 0),u(this,"scrollMaxY",void 0),u(this,"snapTo",void 0),u(this,"scrollBar",void 0),u(this,"_onDownBinded",void 0),u(this,"_onUpBinded",void 0),u(this,"_onMoveBinded",void 0),u(this,"locked",void 0),u(this,"speedX",void 0),u(this,"checkX",void 0),u(this,"checkY",void 0),u(this,"scrollbar",void 0),this.spring=new a,this.onScrollUpdate=new o.Signal;var e=t.scrollbarClass||s.a;this.target=t.target,this.value=0,this.easingValue=0,this.dragOffset=0,this.dragging=!1,this.speed=0,this.size=1024,this.maxSlots=1,this.capMovement=!0,this.prevPosition=0,this.valueY=0,this.easingValueY=0,this.dragOffsetY=0,this.speedY=0,this.prevPositionY=0,this.didMove=!1,this.didMoveY=!1,this.target.interactive=!0,this.scrollMin=-1/0,this.scrollMax=0,this.scrollMinY=-1/0,this.scrollMaxY=0,this.snapTo=!1,!t.scrollbar||r.a.mobile||r.a.query("iPad")||(this.scrollBar=new e({target:t.scrollTarget,trackpad:this})),this._onDownBinded=this.onDown.bind(this),this._onUpBinded=this.onUp.bind(this),this._onMoveBinded=this.onMove.bind(this),this.target.on("pointerdown",this._onDownBinded)}var e=t.prototype;return e.lock=function(){this.locked=!0,window.onmousewheel=null},e.unlock=function(){this.locked=!1,this.speed=0,this.easingValue=this.value,this.easingValueY=this.valueY,this.speedY=0,this.speedX=0,window.onmousewheel=this.onMouseWheel.bind(this)},e.update=function(){if(this.value+=.3*(this.easingValue-this.value),this.valueY+=.3*(this.easingValueY-this.valueY),!this.locked)if(this.dragging){var t=this.easingValue-this.prevPosition;t*=.7,this.speed+=.5*(t-this.speed),this.prevPosition=this.easingValue;var e=this.easingValueY-this.prevPositionY;e*=.7,this.speedY+=.5*(e-this.speedY),this.prevPositionY=this.easingValueY}else this.snapTo?(this.spring.update(),this.easingValue=this.spring.x,this.easingValueY=this.spring.y,this.capMovement&&(this.easingValue>this.scrollMax?this.easingValue+=.3*(this.scrollMax-this.easingValue):this.easingValue<this.scrollMin&&(this.easingValue+=.3*(this.scrollMin-this.easingValue)),this.easingValueY>this.scrollMaxY?this.easingValueY+=.3*(this.scrollMaxY-this.easingValueY):this.easingValueY<this.scrollMinY&&(this.easingValueY+=.3*(this.scrollMinY-this.easingValueY)))):(this.speed*=.95,this.easingValue+=this.speed,this.speedY*=.95,this.easingValueY+=this.speedY,this.capMovement&&(this.easingValue>this.scrollMax?this.easingValue+=.3*(this.scrollMax-this.easingValue):this.easingValue<this.scrollMin&&(this.easingValue+=.3*(this.scrollMin-this.easingValue)),this.easingValueY>this.scrollMaxY?this.easingValueY+=.3*(this.scrollMaxY-this.easingValueY):this.easingValueY<this.scrollMinY&&(this.easingValueY+=.3*(this.scrollMinY-this.easingValueY))))},e.stop=function(){this.speed=0,this.speedY=0,this.value=this.prevPosition=this.easingValue,this.valueY=this.prevPositionY=this.easingValueY},e.setPosition=function(t,e){this.value=this.easingValue=t,this.valueY=this.easingValueY=e},e.easeToPosition=function(t,e){this.easingValue=t,this.easingValueY=e},e.onDown=function(t){this.locked||(this.speed=0,this.speedY=0,this.stop(),this.didMove=!1,this.didMoveY=!1,this.checkX=t.data.global.x,this.checkY=t.data.global.y,this.dragging=!0,this.dragOffset=t.data.global.x-this.value,this.dragOffsetY=t.data.global.y-this.valueY,this.target.on("pointerup",this._onUpBinded).on("pointerupoutside",this._onUpBinded).on("pointermove",this._onMoveBinded))},e.onMouseWheel=function(t){this.target.interactive&&(t.preventDefault?t.preventDefault():t.returnValue=!1,this.locked||(this.speed=.15*t.wheelDeltaX,this.speedY=.15*t.wheelDeltaY))},e.onUp=function(){if(!this.locked){if(this.dragging=!1,this.snapTo){var t;if(this.didMove)this.spring.dx=this.speed,t=this.speed<0?Math.floor(this.easingValue/this.size):Math.ceil(this.easingValue/this.size),this.capMovement&&(t>0?t=0:t<-this.maxSlots&&(t=-this.maxSlots)),this.spring.tx=t*this.size,this.spring.dy=this.speedY,t=this.speedY<0?Math.floor(this.easingValueY/this.size):Math.ceil(this.easingValueY/this.size),this.capMovement&&(t>0?t=0:t<-this.maxSlots&&(t=-this.maxSlots)),this.spring.ty=t*this.size;this.spring.x=this.easingValue,this.spring.y=this.easingValueY}this.cap(),this.target.off("pointerup",this._onUpBinded).off("pointerupoutside",this._onUpBinded).off("pointermove",this._onMoveBinded)}},e.cap=function(){this.capMovement&&(this.snapTo&&(this.spring.tx>this.scrollMax?this.spring.tx=this.scrollMax:this.spring.tx<this.scrollMin&&(this.spring.tx=this.scrollMin)),this.snapTo&&(this.spring.ty>this.scrollMaxY?this.spring.ty=this.scrollMaxY:this.spring.ty<this.scrollMinY&&(this.spring.ty=this.scrollMinY)))},e.setSlot=function(t,e){this.spring.tx=t*-this.size,e&&(this.value=this.easingValue=this.spring.x=this.spring.tx),this.cap()},e.setSlotY=function(t){this.spring.ty=t*-this.size,this.cap()},e.nextSlot=function(){this.spring.tx-=this.size,this.spring.tx<-this.maxSlots*this.size&&(this.spring.tx=-this.maxSlots*this.size),this.cap()},e.nextSlotY=function(){this.spring.ty-=this.size,this.spring.ty<-this.maxSlots*this.size&&(this.spring.ty=-this.maxSlots*this.size),this.cap()},e.previousSlot=function(){this.spring.tx+=this.size,this.cap()},e.previousSlotY=function(){this.spring.ty+=this.size,this.cap()},e.setSize=function(t){this.size=t,this.scrollbar&&this.scrollBar.setSize(t)},e.setSlots=function(t){this.maxSlots=t-1},e.onMove=function(t){this.locked||(Math.abs(this.checkX-t.data.global.x)>10&&(this.didMove=!0),Math.abs(this.checkY-t.data.global.y)>10&&(this.didMove=!0),this.easingValue=t.data.global.x-this.dragOffset,this.easingValueY=t.data.global.y-this.dragOffsetY,this.capMovement&&(this.easingValue>this.scrollMax?this.easingValue=this.scrollMax+.3*(this.easingValue-this.scrollMax):this.easingValue<this.scrollMin&&(this.easingValue=this.scrollMin+.3*(this.easingValue-this.scrollMin)),this.easingValueY>this.scrollMaxY?this.easingValueY=this.scrollMaxY+.3*(this.easingValueY-this.scrollMaxY):this.easingValueY<this.scrollMinY&&(this.easingValueY=this.scrollMinY+.3*(this.easingValueY-this.scrollMinY))))},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n(27);var r=n(94);n(15),n(140),n(5),n(22),n(20);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._pool=[],this._debug=!1,this._classType=e,this._pool=[],this._debug=!1}var e,n,r;return e=t,r=[{key:"getPool",value:function(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new t(e)),this._poolsByClass.get(e)}},{key:"get",value:function(t){return this.getPool(t).get()}},{key:"return",value:function(t){this.getPool(t.constructor).return(t)}}],(n=[{key:"prepopulate",value:function(t){for(var e=0;e<t;e++)this._pool.push(new this._classType)}},{key:"get",value:function(){var t=this._pool.pop();return t||(t=new this._classType),t}},{key:"return",value:function(t){-1===this._pool.indexOf(t)?this._pool.push(t):this._debug}},{key:"total",get:function(){return this._pool.length}}])&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();a._poolsByClass=new Map;var o=n(0);function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,c(t,e)}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=0,d=["confetti-yellow.png","confetti-blue.png","confetti-red.png","streamer-blue.png","streamer-red.png","streamer-yellow.png"],p=function(t){function e(){var e;return h++,l(s(e=t.call(this,o.Texture.from(d[h%6]))||this),"scaleOffset",void 0),l(s(e),"z",void 0),l(s(e),"rotationSpeed",void 0),l(s(e),"home",void 0),l(s(e),"speed",void 0),e.anchor.x=.5,e.anchor.y=.5,e.scaleOffset=1+Math.random(),e.z=-50*Math.random()-50,e.rotation=Math.random()*Math.PI*2,e.rotationSpeed=.3*(Math.random()-.5),e.home=new o.Point,e}return u(e,t),e}(o.Sprite),f=function(t){function e(e,n,i){var u;l(s(u=t.call(this)||this),"particles",void 0),l(s(u),"particlePool",void 0),l(s(u),"max",void 0),l(s(u),"overallScale",void 0),l(s(u),"count",void 0),l(s(u),"pos",void 0),l(s(u),"w",void 0),l(s(u),"h",void 0),l(s(u),"focalLength",void 0),u.particles=[],u.particlePool=new a(p),u.max=r.a.mobile?50:130,u.overallScale=i||1,u.count=0,u.pos=0;for(var c=0;c<u.max;c++){var h=u.particlePool.get();h.home.x=-1136*Math.random(),h.position.y=h.home.y=110640*Math.random(),h.speed=new o.Point(Math.random()-.5,Math.random()+2),u.particles.push(h),u.addChild(h)}return u.w=e||1136,u.h=n||740,u.focalLength=150,u}return u(e,t),e.prototype.update=function(t,e){if(this.visible)for(var n=0;n<this.particles.length;n++){var r=this.particles[n],i=this.focalLength/(this.focalLength+r.z);r.scale.x=r.scale.y=.2*i*r.scaleOffset*this.overallScale,r.home.x+=r.speed.x*e,r.home.y+=r.speed.y*e,r.position.y=(r.home.y-t.y)*i*.5,r.position.x=(r.home.x-t.x)*i*.5,r.scale.y*=Math.sin(2*r.rotation),r.position.x%=this.w,r.position.x<0&&(r.position.x+=this.w),r.position.y%=this.h,r.position.y<0&&(r.position.y+=this.h),r.rotation+=r.rotationSpeed*e}},e}(o.Container)},function(t,e,n){var r=n(105),i=n(111),a=n(177);t.exports=r?function(t,e,n){return i.f(t,e,a(1,n))}:function(t,e,n){return t[e]=n,t}},function(t,e,n){var r=n(41),i=n(50),a=n(131),o=n(138).f,s=n(105),u=i((function(){o(1)}));r({target:"Object",stat:!0,forced:!s||u,sham:!s},{getOwnPropertyDescriptor:function(t,e){return o(a(t),e)}})},function(t,e,n){"use strict";var r=n(41),i=n(165),a=n(113),o=n(50),s=n(235),u=[],c=u.sort,l=o((function(){u.sort(void 0)})),h=o((function(){u.sort(null)})),d=s("sort");r({target:"Array",proto:!0,forced:l||!h||!d},{sort:function(t){return void 0===t?c.call(a(this)):c.call(a(this),i(t))}})},function(t,e,n){"use strict";var r=n(41),i=n(232).includes,a=n(214);r({target:"Array",proto:!0},{includes:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},function(t,e){t.exports=function(){throw new Error("define cannot be used indirect")}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(0);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.manifests=[],this.id="",this.app=e,this.view=new r.Container}var e,n,a;return e=t,(n=[{key:"resize",value:function(t,e){this.width=t,this.height=e}}])&&i(e.prototype,n),a&&i(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){var r=n(206),i=n(120);t.exports=function(t){return r(i(t))}},function(t,e,n){"use strict";var r=n(41),i=n(296),a=n(120);r({target:"String",proto:!0,forced:!n(297)("includes")},{includes:function(t){return!!~String(a(this)).indexOf(i(t),arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){"use strict";var r=n(105),i=n(54),a=n(207),o=n(118),s=n(109),u=n(178),c=n(240),l=n(190),h=n(50),d=n(167),p=n(179).f,f=n(138).f,m=n(111).f,g=n(498).trim,y=i.Number,v=y.prototype,b="Number"==u(d(v)),_=function(t){var e,n,r,i,a,o,s,u,c=l(t,!1);if("string"==typeof c&&c.length>2)if(43===(e=(c=g(c)).charCodeAt(0))||45===e){if(88===(n=c.charCodeAt(2))||120===n)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(o=(a=c.slice(2)).length,s=0;s<o;s++)if((u=a.charCodeAt(s))<48||u>i)return NaN;return parseInt(a,r)}return+c};if(a("Number",!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var w,x=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof x&&(b?h((function(){v.valueOf.call(n)})):"Number"!=u(n))?c(new y(_(e)),n,x):_(e)},S=r?p(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),T=0;S.length>T;T++)s(y,w=S[T])&&!s(x,w)&&m(x,w,f(y,w));x.prototype=v,v.constructor=x,o(i,"Number",x)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(0);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=new r.Point,c=function(t){var e,n;function c(e){var n;return s(a(n=t.call(this)||this),"value",void 0),s(a(n),"_ratio",void 0),s(a(n),"dragOffset",void 0),s(a(n),"dragPosition",void 0),s(a(n),"draggerHeight",void 0),s(a(n),"dragLength",void 0),s(a(n),"bar",void 0),s(a(n),"dragger",void 0),s(a(n),"isDragging",void 0),s(a(n),"onUpdate",void 0),s(a(n),"pointerdown",void 0),s(a(n),"pointermove",void 0),s(a(n),"pointerup",void 0),s(a(n),"pointerupoutside",void 0),e=e||{},n.value=0,n._ratio=0,n.dragOffset=0,n.dragPosition=0,n.draggerHeight=e.draggerHeight||30,n.dragLength=e.dragLength||300,n.bar=e.bar||(new r.Graphics).beginFill(16711680).drawRect(0,0,20,n.dragLength),n.dragger=e.dragger||(new r.Graphics).beginFill(16776960).drawRect(0,-n.draggerHeight/2,20,n.draggerHeight),n.addChild(n.bar),n.addChild(n.dragger),n.dragger.position.y=n.draggerHeight/2,n.interactive=!0,n.buttonMode=!0,n.pointerdown=n.onDown.bind(a(n)),n.onUp=n.onUp.bind(a(n)),n.onMove=n.onMove.bind(a(n)),n.onUpdate=null,n}n=t,(e=c).prototype=Object.create(n.prototype),e.prototype.constructor=e,o(e,n);var l,h,d,p=c.prototype;return p.updateTransform=function(){var t=this.draggerHeight/2+this.ratio*(this.dragLength-this.draggerHeight);this.dragger.position.y+=.5*(t-this.dragger.position.y),this.containerUpdateTransform()},p.updateRatio=function(t){this.ratio=(t-this.draggerHeight/2)/(this.dragLength-this.draggerHeight/2-this.draggerHeight/2),this.onUpdate()},p.onDown=function(t){var e=t.data.getLocalPosition(this,u).y;this.updateRatio(e),this.isDragging=!0,this.pointermove=this.onMove,this.pointerup=this.pointerupoutside=this.onUp},p.onUp=function(){this.isDragging=!1,this.pointermove=null,this.pointerup=this.pointerupoutside=null},p.onMove=function(t){var e=t.data.getLocalPosition(this,u).y;this.updateRatio(e)},l=c,(h=[{key:"ratio",get:function(){return this._ratio},set:function(t){this._ratio=Math.min(Math.max(t,0),1)}}])&&i(l.prototype,h),d&&i(l,d),Object.defineProperty(l,"prototype",{writable:!1}),c}(r.Container)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return m}));n(21),n(27),n(5),n(34),n(442),n(19);var r,i=n(8),a=n(6),o=n(1),s=n(14),u=n(0),c=n(7),l=n(9);function h(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.SCROLLING_TEXT=0]="SCROLLING_TEXT",t[t.SEQUENCE_TEXT=1]="SEQUENCE_TEXT"}(r||(r={}));var m=function(t){var e,n;function m(e){var n;f(d(n=t.call(this)||this),"background",void 0),f(d(n),"containerMask",void 0),f(d(n),"content",void 0),f(d(n),"ball",void 0),f(d(n),"animations",void 0),f(d(n),"contentContainer",void 0),f(d(n),"_data",void 0),f(d(n),"_playEntryAniamtion",void 0),f(d(n),"_loop",void 0),f(d(n),"_delay",void 0),f(d(n),"_loopDelay",void 0),f(d(n),"_loopCount",void 0),f(d(n),"_animating",void 0),f(d(n),"_step",void 0),f(d(n),"_currentAmimation",void 0),f(d(n),"_instanceId",void 0),n._animating=!1,n._step=0,n._currentAmimation=null,n._playEntryAniamtion=(null==e?void 0:e.entryAnimation)||!1,n._loop=n._loopCount=(null==e?void 0:e.loop)||0,n._delay=(null==e?void 0:e.delay)||.5,n._loopDelay=(null==e?void 0:e.loopDelay)||.3,n.background=u.Sprite.from("jumbotron-globalevents.png"),n.background.anchor.set(.5),n.addChild(n.background),n.containerMask=new u.Graphics,n.containerMask.beginFill(16711680),n.containerMask.moveTo(5,5),n.containerMask.lineTo(n.background.texture.width-30,5),n.containerMask.lineTo(n.background.texture.width-50,n.background.texture.height-24),n.containerMask.lineTo(25,n.background.texture.height-24),n.containerMask.closePath(),n.containerMask.endFill(),n.background.addChild(n.containerMask),n.containerMask.x=-n.containerMask.width/2-5.5,n.containerMask.y=-n.containerMask.height/2-7;var r=new u.Container,i=u.Sprite.from("jumbotron-globalevents-lines.png");return n.contentContainer=new u.Container,i.anchor.set(.5),i.scale.set(1.8),n.background.addChild(r),r.addChild(i),r.addChild(n.contentContainer),r.mask=n.containerMask,n.animations=new u.AnimatedSprite([u.Texture.from("jumbotron_match_win_01.png"),u.Texture.from("jumbotron_match_win_02.png"),u.Texture.from("jumbotron_match_win_03.png"),u.Texture.from("jumbotron_match_win_04.png"),u.Texture.from("jumbotron_match_win_05.png"),u.Texture.from("jumbotron_match_win_06.png"),u.Texture.from("jumbotron_match_win_07.png"),u.Texture.from("jumbotron_match_win_08.png"),u.Texture.from("jumbotron_match_win_09.png"),u.Texture.from("jumbotron_match_win_10.png")]),n.animations.anchor.set(.5),n.animations.scale.set(1.2),r.addChild(n.animations),n.animations.animationSpeed=.065,n.animations.visible=!1,n.ball=u.Sprite.from("jumbotron-ball.png"),n.ball.anchor.set(.5),n.ball.scale.set(.5),null!=e&&e.data&&(n._data=e.data,n.refresh()),c.c.add(a.d,(function(){n._data&&(n.refresh(),n.restart())})),n}n=t,(e=m).prototype=Object.create(n.prototype),e.prototype.constructor=e,p(e,n);var g=m.prototype;return g.setData=function(t){this._data=t,this.refresh()},g.refresh=function(){var t=this;this.content=[],this.contentContainer.removeChildren(),this._data.forEach((function(e){if(e.type===r.SCROLLING_TEXT){var n=[];e.texts.forEach((function(t){n.push(t),"ar"!==i.a.settings.language&&"no"!==i.a.settings.language||n.push(" ")}));var a=new l.a(n,{fill:"#f9d840",fontSize:65,stroke:"#000",strokeThickness:4,lineJoin:"round",letterSpacing:10});a.anchor.y=.5,a.blendMode=u.BLEND_MODES.ADD,t.contentContainer.addChild(a),t.content.push(a),a.visible=!1}if(e.type===r.SEQUENCE_TEXT){var o=[];e.texts.forEach((function(e){var n=new l.a(e,{fill:"#f9d840",fontSize:65,stroke:"#000",strokeThickness:4,lineJoin:"round",letterSpacing:10});n.anchor.set(.5),n.blendMode=u.BLEND_MODES.ADD,t.contentContainer.addChild(n),o.push(n),n.visible=!1})),t.content.push(o)}}))},g.start=function(){this._animating||(this._animating=!0,this._instanceId=Math.random(),this.next(this._instanceId,!0))},g.restart=function(){this._animating&&(this.stop(),this.start())},g.next=function(){var t,e=(t=regeneratorRuntime.mark((function t(e,n){var a,u,c,l,h,d,p,f,m,g,y,v,b=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=!1),this._instanceId===e){t.next=3;break}return t.abrupt("return");case 3:if(!n){t.next=18;break}if(this._step=0,!this._playEntryAniamtion){t.next=16;break}return this.animations.visible=!0,this.animations.gotoAndPlay(0),t.next=10,Object(o.delay)(2.5);case 10:if(this._instanceId===e){t.next=12;break}return t.abrupt("return");case 12:return this.animations.stop(),this.animations.visible=!1,t.next=16,Object(o.delay)(.25);case 16:t.next=32;break;case 18:if(this._step!==this._data.length-1){t.next=29;break}if(!(-1===this._loop||this._loopCount>1)){t.next=26;break}return this._loopCount>0&&this._loopCount--,this._step=0,t.next=24,Object(o.delay)(this._loopDelay);case 24:t.next=27;break;case 26:this.stop();case 27:t.next=32;break;case 29:return this._step++,t.next=32,Object(o.delay)(this._delay);case 32:if(this._instanceId===e){t.next=34;break}return t.abrupt("return");case 34:if((a=this._data[this._step]).type===r.SCROLLING_TEXT&&(u="ar"===i.a.settings.language,(c=this.content[this._step]).visible=!0,l=c.width+this.background.width,h=10*(a.speed||1)/this.background.width*l,d=null,a.ballAnimation&&(c.addChild(this.ball),this.ball.x=u?-this.ball.width/2-35:c.width+this.ball.width/2+35,this.ball.rotation=0,s.c.killTweensOf(this.ball),d=s.c.to(this.ball,.001*l,{rotation:o.Maths.PI_DOUBLE*(u?1:-1),ease:"none",repeat:-1})),c.x=u?-this.background.width/2-c.width-(d?this.ball.width+35:0):this.background.width/2,p=u?this.background.width/2+(d?this.ball.width+35:0):-this.background.width/2-c.width-(d?this.ball.width+35:0),this._currentAmimation=s.c.to(c,h,{x:p,ease:"none",onComplete:function(){var t;null===(t=d)||void 0===t||t.kill(),c.visible=!1,b.next(e)}})),a.type!==r.SEQUENCE_TEXT){t.next=69;break}f=this.content[this._step],m=0;case 39:if(!(m<f.length)){t.next=68;break}if(f[m].scale.set(1),f[m].width>.9*this.background.texture.width&&(g=.9*this.background.texture.width/f[m].width,f[m].scale.set(g)),!(a.blink&&a.blink>0)){t.next=59;break}y=(a.duration||1)/(2*a.blink),v=0;case 45:if(!(v<a.blink)){t.next=57;break}return f[m].visible=!0,t.next=49,Object(o.delay)(y);case 49:return f[m].visible=!1,t.next=52,Object(o.delay)(y);case 52:if(this._instanceId===e){t.next=54;break}return t.abrupt("return");case 54:v++,t.next=45;break;case 57:t.next=63;break;case 59:return f[m].visible=!0,t.next=62,Object(o.delay)(a.duration||1);case 62:f[m].visible=!1;case 63:return t.next=65,Object(o.delay)(a.delay||0);case 65:m++,t.next=39;break;case 68:this.next(e);case 69:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){h(a,r,i,o,s,"next",t)}function s(t){h(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(t,n){return e.apply(this,arguments)}}(),g.stop=function(){this._animating&&(this._animating=!1,this._instanceId=null,this._currentAmimation&&(this._currentAmimation.kill(),this._currentAmimation=null))},m}(u.Container)},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){var r,i,a,o=n(573),s=n(54),u=n(98),c=n(125),l=n(109),h=n(278),d=n(230),p=n(204),f=s.WeakMap;if(o||h.state){var m=h.state||(h.state=new f),g=m.get,y=m.has,v=m.set;r=function(t,e){if(y.call(m,t))throw new TypeError("Object already initialized");return e.facade=t,v.call(m,t,e),e},i=function(t){return g.call(m,t)||{}},a=function(t){return y.call(m,t)}}else{var b=d("state");p[b]=!0,r=function(t,e){if(l(t,b))throw new TypeError("Object already initialized");return e.facade=t,c(t,b,e),e},i=function(t){return l(t,b)?t[b]:{}},a=function(t){return l(t,b)}}t.exports={set:r,get:i,has:a,enforce:function(t){return a(t)?i(t):r(t,{})},getterFor:function(t){return function(e){var n;try{if(!u(e)||(n=i(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}catch(t){return{}}}}}},function(t,e,n){var r=n(105),i=n(231),a=n(177),o=n(131),s=n(190),u=n(109),c=n(454),l=Object.getOwnPropertyDescriptor;e.f=r?l:function(t,e){if(t=o(t),e=s(e,!0),c)try{return l(t,e)}catch(t){}if(u(t,e))return a(!i.f.call(t,e),t[e])}},function(t,e,n){var r=n(41),i=n(105),a=n(458),o=n(131),s=n(138),u=n(211);r({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(t){for(var e,n,r=o(t),i=s.f,c=a(r),l={},h=0;c.length>h;)void 0!==(n=i(r,e=c[h++]))&&u(l,e,n);return l}})},function(t,e,n){"use strict";var r=n(478),i=n(480);t.exports=r("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},function(t,e,n){"use strict";function r(t,e,n){return Math.max(e,Math.min(n,t))}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(250),i=n(36);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.normal=void 0!==e?e:new i.a(1,0,0),this.constant=void 0!==n?n:0}var e,n,r;return e=t,(n=[{key:"set",value:function(t,e){return this.normal.copy(t),this.constant=e,this}},{key:"setComponents",value:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this}},{key:"setFromNormalAndCoplanarPoint",value:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}},{key:"setFromCoplanarPoints",value:function(t,e,n){var r=s.subVectors(n,e).cross(u.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(r,t),this}},{key:"clone",value:function(){return(new t).copy(this)}},{key:"copy",value:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this}},{key:"normalize",value:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}},{key:"negate",value:function(){return this.constant*=-1,this.normal.negate(),this}},{key:"distanceToPoint",value:function(t){return this.normal.dot(t)+this.constant}},{key:"distanceToSphere",value:function(t){return this.distanceToPoint(t.center)-t.radius}},{key:"projectPoint",value:function(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}},{key:"intersectLine",value:function(t,e){var n=t.delta(s),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(t.start)?e.copy(t.start):void 0;var i=-(t.start.dot(this.normal)+this.constant)/r;return i<0||i>1?void 0:e.copy(n).multiplyScalar(i).add(t.start)}},{key:"intersectsLine",value:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0}},{key:"intersectsBox",value:function(t){return t.intersectsPlane(this)}},{key:"intersectsSphere",value:function(t){return t.intersectsPlane(this)}},{key:"coplanarPoint",value:function(t){return t.copy(this.normal).multiplyScalar(-this.constant)}},{key:"applyMatrix4",value:function(t,e){var n=e||c.getNormalMatrix(t),r=this.coplanarPoint(s).applyMatrix4(t),i=this.normal.applyMatrix3(n).normalize();return this.constant=-r.dot(i),this}},{key:"translate",value:function(t){return this.constant-=t.dot(this.normal),this}},{key:"equals",value:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),s=new i.a,u=new i.a,c=new r.a},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n(83),n(51);function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;r(this,t),this.items=[],this._name=e,this.running=!1,this.dispatch=t._generateRun(e,n),this.run=this.dispatch,this.emit=this.dispatch,this._dummy={},this._dummy[e]=function(){}}var e,n,a;return e=t,a=[{key:"_generateRun",value:function(e,n){var r="".concat(e,"|").concat(n),i=t._hash[r];if(!i){if(n>0){for(var a="arg0",o=1;o<n;o++)a+=",arg".concat(o);var s="this.running = true;\n                            var items = this.items;\n                            for(var i=0;i<items.length;i++)\n                            { items[i].".concat(e,"(").concat(a,");}\n                            this.running = false;\n                            if( this.needsTidy) this.tidy()");i=new Function(a,s)}else i=new Function("this.running = true;\n                                    var items = this.items;\n                                    for(var i=0;i<items.length;i++)\n                                    { items[i].".concat(e,"(); }\n                                    this.running = false;\n                                    if( this.needsTidy) this.tidy() "));t._hash[r]=i}return i}}],(n=[{key:"add",value:function(t){return t[this._name]&&(this.remove(t),this.items.push(t),this._toRemove=[],this.needsTidy=!1),this}},{key:"remove",value:function(t){var e=this.items.indexOf(t);return this.running?(this.needsTidy=!0,this._toRemove.push(e),this.items[e]=this._dummy):-1!==e&&this.items.splice(e,1),this}},{key:"contains",value:function(t){return-1!==this.items.indexOf(t)}},{key:"removeAll",value:function(){this.items.length=0}},{key:"destroy",value:function(){this.removeAll(),this.items=null}},{key:"tidy",value:function(){for(var t=this._toRemove.length-1;t>=0;t--){var e=this._toRemove[t];-1!==e&&this.items.splice(e,1)}}},{key:"empty",get:function(){return 0===this.items.length}}])&&i(e.prototype,n),a&&i(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();a._hash={}},function(t,e){var n=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:n)(t)}},function(t,e,n){n(183)("Uint16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){"use strict";function r(t,e,n,r){if(t[e].standard)for(var i=0;i<r.length;i++){var a=r[i];if(t[e][a]&&t[e][a][n])return t[e][a][n]}return t[e][n]||t[e].default}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n(42);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a=function(){function t(t){i(this,"min",void 0),i(this,"max",void 0),i(this,"trackpad",void 0),i(this,"scrollbar",void 0),i(this,"_value",void 0),this.min=t.min||0,this.max=t.max||500,this.trackpad=t.trackpad,this.trackpad.scrollMinY=-this.max,this.trackpad.scrollMaxY=this.min,this.trackpad.capMovement=!0,this.trackpad.easeToPosition(0,this.min),this.scrollbar=t.scrollbar,this.scrollbar.onUpdate=this.onScrollUpdate.bind(this),this.value=0}var e,n,a,o=t.prototype;return o.update=function(){this.trackpad.update(),this._value=this.trackpad.valueY,this.scrollbar.ratio=this.map(-this.trackpad.valueY,this.min,this.max,0,1)},o.onScrollUpdate=function(){var t=this.map(this.scrollbar.ratio,1,0,-this.max,this.min);this.trackpad.easeToPosition(0,t)},o.map=function(t,e,n,r,i){return(t-e)/(n-e)*(i-r)+r},e=t,(n=[{key:"value",get:function(){return this._value},set:function(t){this._value=t,this.trackpad.easeToPosition(0,t)}}])&&r(e.prototype,n),a&&r(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}n.d(e,"a",(function(){return a}));var a=i((function t(e,n){var r,i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.app=e,this.options=n||{},this.verbose=null!==(i=null!==(r=n.verbose)&&void 0!==r?r:e.verbose)&&void 0!==i&&i}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));n(21),n(127),n(169),n(5),n(34),n(38),n(92),n(19);var r=n(94),i=(n(23),n(29),n(30),n(15),n(22),n(20),n(33),n(35),n(17)),a=n(681);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(l,t);var e,n,r,o=c(l);function l(t,e){var n,r;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),(n=o.call(this,t,e))._manifest=e.manifest,n._basePath=null!==(r=e.basePath)&&void 0!==r?r:"",n._manifestIDs=e.manifestIDs||["default"],n.registerSounds=e.registerSounds||n._defaultRegisterSounds,n.visibilityChange=e.visibilityChange||n._defaultVisibilityChange,n}return e=l,(n=[{key:"start",value:function(){var t=this;this.app.get(a.a).onVisibilityChange.connect((function(e){t.visibilityChange(e)})),this.registerSounds()}},{key:"_defaultVisibilityChange",value:function(t){i.default.systemPaused=!t}},{key:"_defaultRegisterSounds",value:function(){var t=this;this._manifestIDs.forEach((function(e){var n=t._manifest[e];Object.values(n.audio).forEach((function(e){var n=e.shortcut.split(".").shift(),r=-1!==n.indexOf("music"),a=r||-1!==n.indexOf("loop"),o=e.tags,s=!0===(null==o?void 0:o.stream)||r,u=!0===(null==o?void 0:o.preload)||!r;s=!0!==(null==o?void 0:o.nostream)&&s,u=!0!==(null==o?void 0:o.nopreload)&&u,i.default.registerSound({id:n,src:[t._basePath+e.mp3,t._basePath+e.ogg],stream:s,loop:a,preload:u})}))}))}}])&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(n(148).a),p=n(155),f=n(8),m=n(24);function g(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _={TITLE:"music-main-loop",GAME:"applause-loop",PROMOTING:"music-trophy-screen",PAUSE:"music-pause-screen",TOURNAMENT:"music-tournament-screen",INTERSTITIAL_REWARDS:"music-tournament-screen",LEAGUES:"music-tournament-screen",TEAM_REVIEW:"music-main-loop",UNLOCKABLES:"music-main-loop"},w=function(t){var e,n;function a(e,n){var r;return b(y(r=t.call(this,e,{manifest:n,manifestIDs:["audio"],registerSounds:function(){return r.setupSounds(n)},visibilityChange:window.cordova?function(){}:void 0})||this),"app",void 0),b(y(r),"handler",void 0),b(y(r),"currentBgm",void 0),b(y(r),"hasSetUp",void 0),b(y(r),"onSoundSetUp",void 0),r.app=e,r.hasSetUp=!1,r.onSoundSetUp=new m.Signal,window.cordova&&(document.addEventListener("pause",(function(){return i.default.systemPause(!0)}),!1),document.addEventListener("resume",(function(){return i.default.systemPause(!1)}),!1)),r}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,v(e,n);var o=a.prototype;return o.handleBGM=function(t){var e=_[t];e&&this.currentBgm!==e&&("TEAM_REVIEW"===t&&"music-tournament-screen"===this.currentBgm||"music-tournament-screen"===e&&"music-main-loop"===this.currentBgm||(i.default.playMusic(e),this.currentBgm||i.default.musicChannel.fadeIn(1.5),this.currentBgm=e))},o.setupSounds=function(){var t,e=(t=regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.app.controller.mute(f.a.settings.muted),Object.values(e.manifest["assets/audio"].audio).sort((function(t,e){var n;return n=-1!==t.shortcut.indexOf("music")||-1!==t.shortcut.indexOf("loop")?1:0,(-1!==e.shortcut.indexOf("music")||-1!==e.shortcut.indexOf("loop")?1:0)-n})).forEach((function(t){var e=t.shortcut.split(".").shift(),n=-1!==e.indexOf("music")||-1!==e.indexOf("loop"),a=r.a.android?[t.ogg,t.mp3]:[t.mp3,t.ogg];i.default.registerSound({id:e,src:a,stream:!1,loop:n,preload:!0})})),i.default.registerCollection({id:"croudHappy",selectionMode:p.a.RANDOM,sequenceMode:p.b.SINGLE,children:[{id:"crowd_normal_1"},{id:"crowd_normal_2"},{id:"crowd_normal_3"}]}),i.default.registerCollection({id:"slide",selectionMode:p.a.RANDOM,sequenceMode:p.b.SINGLE,children:[{id:"slide_1"},{id:"slide_2"},{id:"slide_3"}]}),this.hasSetUp=!0,this.onSoundSetUp.emit();case 7:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){g(a,r,i,o,s,"next",t)}function s(t){g(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(t){return e.apply(this,arguments)}}(),a}(d)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(e,n,r){void 0===n&&(n=!1),i(this,t),this._fn=e,this._once=n,this._thisArg=r,this._next=this._prev=this._owner=null}return r(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}();function o(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var s=function(){function t(){i(this,t),this._head=this._tail=void 0}return r(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var n=[];e;)n.push(e),e=e._next;return n}},{key:"has",value:function(t){if(!(t instanceof a))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return o(this,new a(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return o(this,new a(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof a))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this||(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null),this}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();s.MiniSignalBinding=a,e.default=s,t.exports=e.default},,function(t,e){t.exports=!1},function(t,e,n){var r=n(455),i=n(54),a=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?a(r[t])||a(i[t]):r[t]&&r[t][e]||i[t]&&i[t][e]}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return s}));var r,i;n(119),n(88),n(5),n(42),n(83),n(38);!function(t){t.RANDOM="random",t.LINEAR="linear"}(r||(r={})),function(t){t.SINGLE="single",t.GROUP="group"}(i||(i={}));var a={selectionMode:r.RANDOM,sequenceMode:i.SINGLE},o=1,s=function(){function t(e){this.selectionMode=r.RANDOM,this.sequenceMode=i.SINGLE,this.children=[],this.matchingChildren=[],this.usedChildren=[],this.id=e.id,(e=Object.assign({},a,e)).id||(e.id="uid_"+o++),this.selectionMode=e.selectionMode,this.sequenceMode=e.sequenceMode,this.filter=e.filter,e.children&&(this.children=e.children.map((function(e){return new t(e)})))}return t.prototype.addItem=function(t){this.children.push(t)},t.prototype.removeAll=function(){this.children=[]},t.prototype.getSequence=function(t){return this.buildSequence(t,this)},t.prototype.getItem=function(t){if(void 0===t&&(t=null),0===this.children.length)return this.applyFilter(this,t)?this:null;if(this.setMatchingChildren(t),0===this.matchingChildren.length){if(0===this.usedChildren.length)return null;this.resetUsedChildren(),this.setMatchingChildren(t)}if(0===this.matchingChildren.length)return null;var e;switch(this.selectionMode){case r.LINEAR:e=0;break;default:e=Math.floor(Math.random()*this.matchingChildren.length)}var n=this.matchingChildren.splice(e,1)[0];return this.usedChildren.push(n),n},Object.defineProperty(t.prototype,"playedAll",{get:function(){return 0===this.matchingChildren.length&&this.resetUsedChildren(),0===this.matchingChildren.length||0===this.children.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasChildren",{get:function(){return this.numChildren>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numChildren",{get:function(){return this.children.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"singleMode",{get:function(){return this.sequenceMode===i.SINGLE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.parent},enumerable:!1,configurable:!0}),t.prototype.resetUsedChildren=function(){this.usedChildren=[]},t.prototype.applyFilter=function(t,e){return null===t.filter||null===e||e.test(t.filter)},t.prototype.setMatchingChildren=function(t){var e=this;this.matchingChildren=this.children.filter((function(n){return e.applyFilter(n,t)&&-1===e.usedChildren.indexOf(n)}))},t.prototype.buildSequence=function(t,e,n){n||(n=[]);var r=e.getItem(t);return null===r||r.hasChildren?null!==r&&this.buildSequence(t,r,n):n.push(r.id),null===r||r===e||e.playedAll||e.singleMode||this.buildSequence(t,e,n),n},t}()},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){var n=t.__state.conversionName.toString(),r=Math.round(t.r),i=Math.round(t.g),a=Math.round(t.b),o=t.a,s=Math.round(t.h),u=t.s.toFixed(1),c=t.v.toFixed(1);if(e||"THREE_CHAR_HEX"===n||"SIX_CHAR_HEX"===n){for(var l=t.hex.toString(16);l.length<6;)l="0"+l;return"#"+l}return"CSS_RGB"===n?"rgb("+r+","+i+","+a+")":"CSS_RGBA"===n?"rgba("+r+","+i+","+a+","+o+")":"HEX"===n?"0x"+t.hex.toString(16):"RGB_ARRAY"===n?"["+r+","+i+","+a+"]":"RGBA_ARRAY"===n?"["+r+","+i+","+a+","+o+"]":"RGB_OBJ"===n?"{r:"+r+",g:"+i+",b:"+a+"}":"RGBA_OBJ"===n?"{r:"+r+",g:"+i+",b:"+a+",a:"+o+"}":"HSV_OBJ"===n?"{h:"+s+",s:"+u+",v:"+c+"}":"HSVA_OBJ"===n?"{h:"+s+",s:"+u+",v:"+c+",a:"+o+"}":"unknown format"}n.d(e,"a",(function(){return lt}));var a=Array.prototype.forEach,o=Array.prototype.slice,s={BREAK:{},extend:function(t){return this.each(o.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(e[n])||(t[n]=e[n])}.bind(this))}),this),t},defaults:function(t){return this.each(o.call(arguments,1),(function(e){(this.isObject(e)?Object.keys(e):[]).forEach(function(n){this.isUndefined(t[n])&&(t[n]=e[n])}.bind(this))}),this),t},compose:function(){var t=o.call(arguments);return function(){for(var e=o.call(arguments),n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},each:function(t,e,n){if(t)if(a&&t.forEach&&t.forEach===a)t.forEach(e,n);else if(t.length===t.length+0){var r,i=void 0;for(i=0,r=t.length;i<r;i++)if(i in t&&e.call(n,t[i],i)===this.BREAK)return}else for(var o in t)if(e.call(n,t[o],o)===this.BREAK)return},defer:function(t){setTimeout(t,0)},debounce:function(t,e,n){var r=void 0;return function(){var i=this,a=arguments;function o(){r=null,n||t.apply(i,a)}var s=n||!r;clearTimeout(r),r=setTimeout(o,e),s&&t.apply(i,a)}},toArray:function(t){return t.toArray?t.toArray():o.call(t)},isUndefined:function(t){return void 0===t},isNull:function(t){return null===t},isNaN:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return isNaN(t)})),isArray:Array.isArray||function(t){return t.constructor===Array},isObject:function(t){return t===Object(t)},isNumber:function(t){return t===t+0},isString:function(t){return t===t+""},isBoolean:function(t){return!1===t||!0===t},isFunction:function(t){return t instanceof Function}},u=[{litmus:s.isString,conversions:{THREE_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString()+e[1].toString()+e[2].toString()+e[2].toString()+e[3].toString()+e[3].toString(),0)}},write:i},SIX_CHAR_HEX:{read:function(t){var e=t.match(/^#([A-F0-9]{6})$/i);return null!==e&&{space:"HEX",hex:parseInt("0x"+e[1].toString(),0)}},write:i},CSS_RGB:{read:function(t){var e=t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3])}},write:i},CSS_RGBA:{read:function(t){var e=t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==e&&{space:"RGB",r:parseFloat(e[1]),g:parseFloat(e[2]),b:parseFloat(e[3]),a:parseFloat(e[4])}},write:i}}},{litmus:s.isNumber,conversions:{HEX:{read:function(t){return{space:"HEX",hex:t,conversionName:"HEX"}},write:function(t){return t.hex}}}},{litmus:s.isArray,conversions:{RGB_ARRAY:{read:function(t){return 3===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2]}},write:function(t){return[t.r,t.g,t.b]}},RGBA_ARRAY:{read:function(t){return 4===t.length&&{space:"RGB",r:t[0],g:t[1],b:t[2],a:t[3]}},write:function(t){return[t.r,t.g,t.b,t.a]}}}},{litmus:s.isObject,conversions:{RGBA_OBJ:{read:function(t){return!!(s.isNumber(t.r)&&s.isNumber(t.g)&&s.isNumber(t.b)&&s.isNumber(t.a))&&{space:"RGB",r:t.r,g:t.g,b:t.b,a:t.a}},write:function(t){return{r:t.r,g:t.g,b:t.b,a:t.a}}},RGB_OBJ:{read:function(t){return!!(s.isNumber(t.r)&&s.isNumber(t.g)&&s.isNumber(t.b))&&{space:"RGB",r:t.r,g:t.g,b:t.b}},write:function(t){return{r:t.r,g:t.g,b:t.b}}},HSVA_OBJ:{read:function(t){return!!(s.isNumber(t.h)&&s.isNumber(t.s)&&s.isNumber(t.v)&&s.isNumber(t.a))&&{space:"HSV",h:t.h,s:t.s,v:t.v,a:t.a}},write:function(t){return{h:t.h,s:t.s,v:t.v,a:t.a}}},HSV_OBJ:{read:function(t){return!!(s.isNumber(t.h)&&s.isNumber(t.s)&&s.isNumber(t.v))&&{space:"HSV",h:t.h,s:t.s,v:t.v}},write:function(t){return{h:t.h,s:t.s,v:t.v}}}}}],c=void 0,l=void 0,h=function(){l=!1;var t=arguments.length>1?s.toArray(arguments):arguments[0];return s.each(u,(function(e){if(e.litmus(t))return s.each(e.conversions,(function(e,n){if(c=e.read(t),!1===l&&!1!==c)return l=c,c.conversionName=n,c.conversion=e,s.BREAK})),s.BREAK})),l},d=void 0,p={hsv_to_rgb:function(t,e,n){var r=Math.floor(t/60)%6,i=t/60-Math.floor(t/60),a=n*(1-e),o=n*(1-i*e),s=n*(1-(1-i)*e),u=[[n,s,a],[o,n,a],[a,n,s],[a,o,n],[s,a,n],[n,a,o]][r];return{r:255*u[0],g:255*u[1],b:255*u[2]}},rgb_to_hsv:function(t,e,n){var r=Math.min(t,e,n),i=Math.max(t,e,n),a=i-r,o=void 0;return 0===i?{h:NaN,s:0,v:0}:(o=t===i?(e-n)/a:e===i?2+(n-t)/a:4+(t-e)/a,(o/=6)<0&&(o+=1),{h:360*o,s:a/i,v:i/255})},rgb_to_hex:function(t,e,n){var r=this.hex_with_component(0,2,t);return r=this.hex_with_component(r,1,e),r=this.hex_with_component(r,0,n)},component_from_hex:function(t,e){return t>>8*e&255},hex_with_component:function(t,e,n){return n<<(d=8*e)|t&~(255<<d)}},f="function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?function(t){return r(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":r(t)},m=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),y=function t(e,n,r){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var a=Object.getPrototypeOf(e);return null===a?void 0:t(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0},v=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+r(e));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},b=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==r(e)&&"function"!=typeof e?t:e},_=function(){function t(){if(m(this,t),this.__state=h.apply(this,arguments),!1===this.__state)throw new Error("Failed to interpret color arguments");this.__state.a=this.__state.a||1}return g(t,[{key:"toString",value:function(){return i(this)}},{key:"toHexString",value:function(){return i(this,!0)}},{key:"toOriginal",value:function(){return this.__state.conversion.write(this)}}]),t}();function w(t,e,n){Object.defineProperty(t,e,{get:function(){return"RGB"===this.__state.space||_.recalculateRGB(this,e,n),this.__state[e]},set:function(t){"RGB"!==this.__state.space&&(_.recalculateRGB(this,e,n),this.__state.space="RGB"),this.__state[e]=t}})}function x(t,e){Object.defineProperty(t,e,{get:function(){return"HSV"===this.__state.space||_.recalculateHSV(this),this.__state[e]},set:function(t){"HSV"!==this.__state.space&&(_.recalculateHSV(this),this.__state.space="HSV"),this.__state[e]=t}})}_.recalculateRGB=function(t,e,n){if("HEX"===t.__state.space)t.__state[e]=p.component_from_hex(t.__state.hex,n);else{if("HSV"!==t.__state.space)throw new Error("Corrupted color state");s.extend(t.__state,p.hsv_to_rgb(t.__state.h,t.__state.s,t.__state.v))}},_.recalculateHSV=function(t){var e=p.rgb_to_hsv(t.r,t.g,t.b);s.extend(t.__state,{s:e.s,v:e.v}),s.isNaN(e.h)?s.isUndefined(t.__state.h)&&(t.__state.h=0):t.__state.h=e.h},_.COMPONENTS=["r","g","b","h","s","v","hex","a"],w(_.prototype,"r",2),w(_.prototype,"g",1),w(_.prototype,"b",0),x(_.prototype,"h"),x(_.prototype,"s"),x(_.prototype,"v"),Object.defineProperty(_.prototype,"a",{get:function(){return this.__state.a},set:function(t){this.__state.a=t}}),Object.defineProperty(_.prototype,"hex",{get:function(){return"HEX"!==this.__state.space&&(this.__state.hex=p.rgb_to_hex(this.r,this.g,this.b),this.__state.space="HEX"),this.__state.hex},set:function(t){this.__state.space="HEX",this.__state.hex=t}});var S=function(){function t(e,n){m(this,t),this.initialValue=e[n],this.domElement=document.createElement("div"),this.object=e,this.property=n,this.__onChange=void 0,this.__onFinishChange=void 0}return g(t,[{key:"onChange",value:function(t){return this.__onChange=t,this}},{key:"onFinishChange",value:function(t){return this.__onFinishChange=t,this}},{key:"setValue",value:function(t){return this.object[this.property]=t,this.__onChange&&this.__onChange.call(this,t),this.updateDisplay(),this}},{key:"getValue",value:function(){return this.object[this.property]}},{key:"updateDisplay",value:function(){return this}},{key:"isModified",value:function(){return this.initialValue!==this.getValue()}}]),t}(),T={};s.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},(function(t,e){s.each(t,(function(t){T[t]=e}))}));var M=/(\d+(\.\d+)?)px/;function E(t){if("0"===t||s.isUndefined(t))return 0;var e=t.match(M);return s.isNull(e)?0:parseFloat(e[1])}var A={makeSelectable:function(t,e){void 0!==t&&void 0!==t.style&&(t.onselectstart=e?function(){return!1}:function(){},t.style.MozUserSelect=e?"auto":"none",t.style.KhtmlUserSelect=e?"auto":"none",t.unselectable=e?"on":"off")},makeFullscreen:function(t,e,n){var r=n,i=e;s.isUndefined(i)&&(i=!0),s.isUndefined(r)&&(r=!0),t.style.position="absolute",i&&(t.style.left=0,t.style.right=0),r&&(t.style.top=0,t.style.bottom=0)},fakeEvent:function(t,e,n,r){var i=n||{},a=T[e];if(!a)throw new Error("Event type "+e+" not supported.");var o=document.createEvent(a);switch(a){case"MouseEvents":var u=i.x||i.clientX||0,c=i.y||i.clientY||0;o.initMouseEvent(e,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,u,c,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var l=o.initKeyboardEvent||o.initKeyEvent;s.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),l(e,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:o.initEvent(e,i.bubbles||!1,i.cancelable||!0)}s.defaults(o,r),t.dispatchEvent(o)},bind:function(t,e,n,r){var i=r||!1;return t.addEventListener?t.addEventListener(e,n,i):t.attachEvent&&t.attachEvent("on"+e,n),A},unbind:function(t,e,n,r){var i=r||!1;return t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent&&t.detachEvent("on"+e,n),A},addClass:function(t,e){if(void 0===t.className)t.className=e;else if(t.className!==e){var n=t.className.split(/ +/);-1===n.indexOf(e)&&(n.push(e),t.className=n.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return A},removeClass:function(t,e){if(e)if(t.className===e)t.removeAttribute("class");else{var n=t.className.split(/ +/),r=n.indexOf(e);-1!==r&&(n.splice(r,1),t.className=n.join(" "))}else t.className=void 0;return A},hasClass:function(t,e){return new RegExp("(?:^|\\s+)"+e+"(?:\\s+|$)").test(t.className)||!1},getWidth:function(t){var e=getComputedStyle(t);return E(e["border-left-width"])+E(e["border-right-width"])+E(e["padding-left"])+E(e["padding-right"])+E(e.width)},getHeight:function(t){var e=getComputedStyle(t);return E(e["border-top-width"])+E(e["border-bottom-width"])+E(e["padding-top"])+E(e["padding-bottom"])+E(e.height)},getOffset:function(t){var e=t,n={left:0,top:0};if(e.offsetParent)do{n.left+=e.offsetLeft,n.top+=e.offsetTop,e=e.offsetParent}while(e);return n},isActive:function(t){return t===document.activeElement&&(t.type||t.href)}},k=function(t){function e(t,n){m(this,e);var r=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=r;return r.__prev=r.getValue(),r.__checkbox=document.createElement("input"),r.__checkbox.setAttribute("type","checkbox"),A.bind(r.__checkbox,"change",(function(){i.setValue(!i.__prev)}),!1),r.domElement.appendChild(r.__checkbox),r.updateDisplay(),r}return v(e,t),g(e,[{key:"setValue",value:function(t){var n=y(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),n}},{key:"updateDisplay",value:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0,this.__prev=!0):(this.__checkbox.checked=!1,this.__prev=!1),y(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(S),C=function(t){function e(t,n,r){m(this,e);var i=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),a=r,o=i;if(i.__select=document.createElement("select"),s.isArray(a)){var u={};s.each(a,(function(t){u[t]=t})),a=u}return s.each(a,(function(t,e){var n=document.createElement("option");n.innerHTML=e,n.setAttribute("value",t),o.__select.appendChild(n)})),i.updateDisplay(),A.bind(i.__select,"change",(function(){var t=this.options[this.selectedIndex].value;o.setValue(t)})),i.domElement.appendChild(i.__select),i}return v(e,t),g(e,[{key:"setValue",value:function(t){var n=y(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,t);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),n}},{key:"updateDisplay",value:function(){return A.isActive(this.__select)?this:(this.__select.value=this.getValue(),y(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this))}}]),e}(S),O=function(t){function e(t,n){m(this,e);var r=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),i=r;function a(){i.setValue(i.__input.value)}return r.__input=document.createElement("input"),r.__input.setAttribute("type","text"),A.bind(r.__input,"keyup",a),A.bind(r.__input,"change",a),A.bind(r.__input,"blur",(function(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())})),A.bind(r.__input,"keydown",(function(t){13===t.keyCode&&this.blur()})),r.updateDisplay(),r.domElement.appendChild(r.__input),r}return v(e,t),g(e,[{key:"updateDisplay",value:function(){return A.isActive(this.__input)||(this.__input.value=this.getValue()),y(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(S);function L(t){var e=t.toString();return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}var R=function(t){function e(t,n,r){m(this,e);var i=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),a=r||{};return i.__min=a.min,i.__max=a.max,i.__step=a.step,s.isUndefined(i.__step)?0===i.initialValue?i.__impliedStep=1:i.__impliedStep=Math.pow(10,Math.floor(Math.log(Math.abs(i.initialValue))/Math.LN10))/10:i.__impliedStep=i.__step,i.__precision=L(i.__impliedStep),i}return v(e,t),g(e,[{key:"setValue",value:function(t){var n=t;return void 0!==this.__min&&n<this.__min?n=this.__min:void 0!==this.__max&&n>this.__max&&(n=this.__max),void 0!==this.__step&&n%this.__step!=0&&(n=Math.round(n/this.__step)*this.__step),y(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setValue",this).call(this,n)}},{key:"min",value:function(t){return this.__min=t,this}},{key:"max",value:function(t){return this.__max=t,this}},{key:"step",value:function(t){return this.__step=t,this.__impliedStep=t,this.__precision=L(t),this}}]),e}(S);var P=function(t){function e(t,n,r){m(this,e);var i=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,r));i.__truncationSuspended=!1;var a=i,o=void 0;function u(){a.__onFinishChange&&a.__onFinishChange.call(a,a.getValue())}function c(t){var e=o-t.clientY;a.setValue(a.getValue()+e*a.__impliedStep),o=t.clientY}function l(){A.unbind(window,"mousemove",c),A.unbind(window,"mouseup",l),u()}return i.__input=document.createElement("input"),i.__input.setAttribute("type","text"),A.bind(i.__input,"change",(function(){var t=parseFloat(a.__input.value);s.isNaN(t)||a.setValue(t)})),A.bind(i.__input,"blur",(function(){u()})),A.bind(i.__input,"mousedown",(function(t){A.bind(window,"mousemove",c),A.bind(window,"mouseup",l),o=t.clientY})),A.bind(i.__input,"keydown",(function(t){13===t.keyCode&&(a.__truncationSuspended=!0,this.blur(),a.__truncationSuspended=!1,u())})),i.updateDisplay(),i.domElement.appendChild(i.__input),i}return v(e,t),g(e,[{key:"updateDisplay",value:function(){var t,n,r;return this.__input.value=this.__truncationSuspended?this.getValue():(t=this.getValue(),n=this.__precision,r=Math.pow(10,n),Math.round(t*r)/r),y(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(R);function D(t,e,n,r,i){return r+(t-e)/(n-e)*(i-r)}var I=function(t){function e(t,n,r,i,a){m(this,e);var o=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n,{min:r,max:i,step:a})),s=o;function u(t){t.preventDefault();var e=s.__background.getBoundingClientRect();return s.setValue(D(t.clientX,e.left,e.right,s.__min,s.__max)),!1}function c(){A.unbind(window,"mousemove",u),A.unbind(window,"mouseup",c),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}function l(t){var e=t.touches[0].clientX,n=s.__background.getBoundingClientRect();s.setValue(D(e,n.left,n.right,s.__min,s.__max))}function h(){A.unbind(window,"touchmove",l),A.unbind(window,"touchend",h),s.__onFinishChange&&s.__onFinishChange.call(s,s.getValue())}return o.__background=document.createElement("div"),o.__foreground=document.createElement("div"),A.bind(o.__background,"mousedown",(function(t){document.activeElement.blur(),A.bind(window,"mousemove",u),A.bind(window,"mouseup",c),u(t)})),A.bind(o.__background,"touchstart",(function(t){if(1!==t.touches.length)return;A.bind(window,"touchmove",l),A.bind(window,"touchend",h),l(t)})),A.addClass(o.__background,"slider"),A.addClass(o.__foreground,"slider-fg"),o.updateDisplay(),o.__background.appendChild(o.__foreground),o.domElement.appendChild(o.__background),o}return v(e,t),g(e,[{key:"updateDisplay",value:function(){var t=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*t+"%",y(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateDisplay",this).call(this)}}]),e}(R),B=function(t){function e(t,n,r){m(this,e);var i=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n)),a=i;return i.__button=document.createElement("div"),i.__button.innerHTML=void 0===r?"Fire":r,A.bind(i.__button,"click",(function(t){return t.preventDefault(),a.fire(),!1})),A.addClass(i.__button,"button"),i.domElement.appendChild(i.__button),i}return v(e,t),g(e,[{key:"fire",value:function(){this.__onChange&&this.__onChange.call(this),this.getValue().call(this.object),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue())}}]),e}(S),N=function(t){function e(t,n){m(this,e);var r=b(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));r.__color=new _(r.getValue()),r.__temp=new _(0);var i=r;r.domElement=document.createElement("div"),A.makeSelectable(r.domElement,!1),r.__selector=document.createElement("div"),r.__selector.className="selector",r.__saturation_field=document.createElement("div"),r.__saturation_field.className="saturation-field",r.__field_knob=document.createElement("div"),r.__field_knob.className="field-knob",r.__field_knob_border="2px solid ",r.__hue_knob=document.createElement("div"),r.__hue_knob.className="hue-knob",r.__hue_field=document.createElement("div"),r.__hue_field.className="hue-field",r.__input=document.createElement("input"),r.__input.type="text",r.__input_textShadow="0 1px 1px ",A.bind(r.__input,"keydown",(function(t){13===t.keyCode&&p.call(this)})),A.bind(r.__input,"blur",p),A.bind(r.__selector,"mousedown",(function(){A.addClass(this,"drag").bind(window,"mouseup",(function(){A.removeClass(i.__selector,"drag")}))})),A.bind(r.__selector,"touchstart",(function(){A.addClass(this,"drag").bind(window,"touchend",(function(){A.removeClass(i.__selector,"drag")}))}));var a,o=document.createElement("div");function u(t){g(t),A.bind(window,"mousemove",g),A.bind(window,"touchmove",g),A.bind(window,"mouseup",l),A.bind(window,"touchend",l)}function c(t){y(t),A.bind(window,"mousemove",y),A.bind(window,"touchmove",y),A.bind(window,"mouseup",d),A.bind(window,"touchend",d)}function l(){A.unbind(window,"mousemove",g),A.unbind(window,"touchmove",g),A.unbind(window,"mouseup",l),A.unbind(window,"touchend",l),f()}function d(){A.unbind(window,"mousemove",y),A.unbind(window,"touchmove",y),A.unbind(window,"mouseup",d),A.unbind(window,"touchend",d),f()}function p(){var t=h(this.value);!1!==t?(i.__color.__state=t,i.setValue(i.__color.toOriginal())):this.value=i.__color.toString()}function f(){i.__onFinishChange&&i.__onFinishChange.call(i,i.__color.toOriginal())}function g(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=i.__saturation_field.getBoundingClientRect(),n=t.touches&&t.touches[0]||t,r=n.clientX,a=n.clientY,o=(r-e.left)/(e.right-e.left),s=1-(a-e.top)/(e.bottom-e.top);return s>1?s=1:s<0&&(s=0),o>1?o=1:o<0&&(o=0),i.__color.v=s,i.__color.s=o,i.setValue(i.__color.toOriginal()),!1}function y(t){-1===t.type.indexOf("touch")&&t.preventDefault();var e=i.__hue_field.getBoundingClientRect(),n=1-((t.touches&&t.touches[0]||t).clientY-e.top)/(e.bottom-e.top);return n>1?n=1:n<0&&(n=0),i.__color.h=360*n,i.setValue(i.__color.toOriginal()),!1}return s.extend(r.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),s.extend(r.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:r.__field_knob_border+(r.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),s.extend(r.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),s.extend(r.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),s.extend(o.style,{width:"100%",height:"100%",background:"none"}),F(o,"top","rgba(0,0,0,0)","#000"),s.extend(r.__hue_field.style,{width:"15px",height:"100px",border:"1px solid #555",cursor:"ns-resize",position:"absolute",top:"3px",right:"3px"}),(a=r.__hue_field).style.background="",a.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",a.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",a.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",s.extend(r.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:r.__input_textShadow+"rgba(0,0,0,0.7)"}),A.bind(r.__saturation_field,"mousedown",u),A.bind(r.__saturation_field,"touchstart",u),A.bind(r.__field_knob,"mousedown",u),A.bind(r.__field_knob,"touchstart",u),A.bind(r.__hue_field,"mousedown",c),A.bind(r.__hue_field,"touchstart",c),r.__saturation_field.appendChild(o),r.__selector.appendChild(r.__field_knob),r.__selector.appendChild(r.__saturation_field),r.__selector.appendChild(r.__hue_field),r.__hue_field.appendChild(r.__hue_knob),r.domElement.appendChild(r.__input),r.domElement.appendChild(r.__selector),r.updateDisplay(),r}return v(e,t),g(e,[{key:"updateDisplay",value:function(){var t=h(this.getValue());if(!1!==t){var e=!1;s.each(_.COMPONENTS,(function(n){if(!s.isUndefined(t[n])&&!s.isUndefined(this.__color.__state[n])&&t[n]!==this.__color.__state[n])return e=!0,{}}),this),e&&s.extend(this.__color.__state,t)}s.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var n=this.__color.v<.5||this.__color.s>.5?255:0,r=255-n;s.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toHexString(),border:this.__field_knob_border+"rgb("+n+","+n+","+n+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,F(this.__saturation_field,"left","#fff",this.__temp.toHexString()),this.__input.value=this.__color.toString(),s.extend(this.__input.style,{backgroundColor:this.__color.toHexString(),color:"rgb("+n+","+n+","+n+")",textShadow:this.__input_textShadow+"rgba("+r+","+r+","+r+",.7)"})}}]),e}(S),j=["-moz-","-o-","-webkit-","-ms-",""];function F(t,e,n,r){t.style.background="",s.each(j,(function(i){t.style.cssText+="background: "+i+"linear-gradient("+e+", "+n+" 0%, "+r+" 100%); "}))}var U=function(t,e){var n=e||document,r=document.createElement("style");r.type="text/css",r.innerHTML=t;var i=n.getElementsByTagName("head")[0];try{i.appendChild(r)}catch(t){}},Y='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>',G=function(t,e){var n=t[e];return s.isArray(arguments[2])||s.isObject(arguments[2])?new C(t,e,arguments[2]):s.isNumber(n)?s.isNumber(arguments[2])&&s.isNumber(arguments[3])?s.isNumber(arguments[4])?new I(t,e,arguments[2],arguments[3],arguments[4]):new I(t,e,arguments[2],arguments[3]):s.isNumber(arguments[4])?new P(t,e,{min:arguments[2],max:arguments[3],step:arguments[4]}):new P(t,e,{min:arguments[2],max:arguments[3]}):s.isString(n)?new O(t,e):s.isFunction(n)?new B(t,e,""):s.isBoolean(n)?new k(t,e):null};var H=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)},z=function(){function t(){m(this,t),this.backgroundElement=document.createElement("div"),s.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear",transition:"opacity 0.2s linear"}),A.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),s.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear",transition:"transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;A.bind(this.backgroundElement,"click",(function(){e.hide()}))}return g(t,[{key:"show",value:function(){var t=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),s.defer((function(){t.backgroundElement.style.opacity=1,t.domElement.style.opacity=1,t.domElement.style.webkitTransform="scale(1)"}))}},{key:"hide",value:function(){var t=this,e=function e(){t.domElement.style.display="none",t.backgroundElement.style.display="none",A.unbind(t.domElement,"webkitTransitionEnd",e),A.unbind(t.domElement,"transitionend",e),A.unbind(t.domElement,"oTransitionEnd",e)};A.bind(this.domElement,"webkitTransitionEnd",e),A.bind(this.domElement,"transitionend",e),A.bind(this.domElement,"oTransitionEnd",e),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"}},{key:"layout",value:function(){this.domElement.style.left=window.innerWidth/2-A.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-A.getHeight(this.domElement)/2+"px"}}]),t}();U(function(t){if(t&&"undefined"!=typeof window){var e=document.createElement("style");return e.setAttribute("type","text/css"),e.innerHTML=t,document.head.appendChild(e),t}}(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity .1s linear;-o-transition:opacity .1s linear;-moz-transition:opacity .1s linear;transition:opacity .1s linear;border:0;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button.close-top{position:relative}.dg.main .close-button.close-bottom{position:absolute}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-y:visible}.dg.a.has-save>ul.close-top{margin-top:0}.dg.a.has-save>ul.close-bottom{margin-top:27px}.dg.a.has-save>ul.closed{margin-top:0}.dg.a .save-row{top:0;z-index:1002}.dg.a .save-row.close-top{position:relative}.dg.a .save-row.close-bottom{position:fixed}.dg li{-webkit-transition:height .1s ease-out;-o-transition:height .1s ease-out;-moz-transition:height .1s ease-out;transition:height .1s ease-out;-webkit-transition:overflow .1s linear;-o-transition:overflow .1s linear;-moz-transition:overflow .1s linear;transition:overflow .1s linear}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li>*{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px;overflow:hidden}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%;position:relative}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:7px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .cr.color{overflow:visible}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.color{border-left:3px solid}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2FA1D6}.dg .cr.number input[type=text]{color:#2FA1D6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2FA1D6;max-width:100%}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n"));var V=function(){try{return!!window.localStorage}catch(t){return!1}}(),W=void 0,X=!0,K=void 0,q=!1,Z=[],J=function t(e){var n=this,r=e||{};this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),A.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],r=s.defaults(r,{closeOnTop:!1,autoPlace:!0,width:t.DEFAULT_WIDTH}),r=s.defaults(r,{resizable:r.autoPlace,hideable:r.autoPlace}),s.isUndefined(r.load)?r.load={preset:"Default"}:r.preset&&(r.load.preset=r.preset),s.isUndefined(r.parent)&&r.hideable&&Z.push(this),r.resizable=s.isUndefined(r.parent)&&r.resizable,r.autoPlace&&s.isUndefined(r.scrollable)&&(r.scrollable=!0);var i,a=V&&"true"===localStorage.getItem(rt(this,"isLocal")),o=void 0,u=void 0;if(Object.defineProperties(this,{parent:{get:function(){return r.parent}},scrollable:{get:function(){return r.scrollable}},autoPlace:{get:function(){return r.autoPlace}},closeOnTop:{get:function(){return r.closeOnTop}},preset:{get:function(){return n.parent?n.getRoot().preset:r.load.preset},set:function(t){n.parent?n.getRoot().preset=t:r.load.preset=t,function(t){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].value===t.preset&&(t.__preset_select.selectedIndex=e)}(this),n.revert()}},width:{get:function(){return r.width},set:function(t){r.width=t,ut(n,t)}},name:{get:function(){return r.name},set:function(t){r.name=t,u&&(u.innerHTML=r.name)}},closed:{get:function(){return r.closed},set:function(e){r.closed=e,r.closed?A.addClass(n.__ul,t.CLASS_CLOSED):A.removeClass(n.__ul,t.CLASS_CLOSED),this.onResize(),n.__closeButton&&(n.__closeButton.innerHTML=e?t.TEXT_OPEN:t.TEXT_CLOSED)}},load:{get:function(){return r.load}},useLocalStorage:{get:function(){return a},set:function(t){V&&(a=t,t?A.bind(window,"unload",o):A.unbind(window,"unload",o),localStorage.setItem(rt(n,"isLocal"),t))}}}),s.isUndefined(r.parent)){if(this.closed=r.closed||!1,A.addClass(this.domElement,t.CLASS_MAIN),A.makeSelectable(this.domElement,!1),V&&a){n.useLocalStorage=!0;var c=localStorage.getItem(rt(this,"gui"));c&&(r.load=JSON.parse(c))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=t.TEXT_CLOSED,A.addClass(this.__closeButton,t.CLASS_CLOSE_BUTTON),r.closeOnTop?(A.addClass(this.__closeButton,t.CLASS_CLOSE_TOP),this.domElement.insertBefore(this.__closeButton,this.domElement.childNodes[0])):(A.addClass(this.__closeButton,t.CLASS_CLOSE_BOTTOM),this.domElement.appendChild(this.__closeButton)),A.bind(this.__closeButton,"click",(function(){n.closed=!n.closed}))}else{void 0===r.closed&&(r.closed=!0);var l=document.createTextNode(r.name);A.addClass(l,"controller-name"),u=Q(n,l);A.addClass(this.__ul,t.CLASS_CLOSED),A.addClass(u,"title"),A.bind(u,"click",(function(t){return t.preventDefault(),n.closed=!n.closed,!1})),r.closed||(this.closed=!1)}r.autoPlace&&(s.isUndefined(r.parent)&&(X&&(K=document.createElement("div"),A.addClass(K,"dg"),A.addClass(K,t.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(K),X=!1),K.appendChild(this.domElement),A.addClass(this.domElement,t.CLASS_AUTO_PLACE)),this.parent||ut(n,r.width)),this.__resizeHandler=function(){n.onResizeDebounced()},A.bind(window,"resize",this.__resizeHandler),A.bind(this.__ul,"webkitTransitionEnd",this.__resizeHandler),A.bind(this.__ul,"transitionend",this.__resizeHandler),A.bind(this.__ul,"oTransitionEnd",this.__resizeHandler),this.onResize(),r.resizable&&st(this),o=function(){V&&"true"===localStorage.getItem(rt(n,"isLocal"))&&localStorage.setItem(rt(n,"gui"),JSON.stringify(n.getSaveObject()))},this.saveToLocalStorageIfPossible=o,r.parent||((i=n.getRoot()).width+=1,s.defer((function(){i.width-=1})))};function Q(t,e,n){var r=document.createElement("li");return e&&r.appendChild(e),n?t.__ul.insertBefore(r,n):t.__ul.appendChild(r),t.onResize(),r}function $(t){A.unbind(window,"resize",t.__resizeHandler),t.saveToLocalStorageIfPossible&&A.unbind(window,"unload",t.saveToLocalStorageIfPossible)}function tt(t,e){var n=t.__preset_select[t.__preset_select.selectedIndex];n.innerHTML=e?n.value+"*":n.value}function et(t,e){var n=t.getRoot(),r=n.__rememberedObjects.indexOf(e.object);if(-1!==r){var i=n.__rememberedObjectIndecesToControllers[r];if(void 0===i&&(i={},n.__rememberedObjectIndecesToControllers[r]=i),i[e.property]=e,n.load&&n.load.remembered){var a=n.load.remembered,o=void 0;if(a[t.preset])o=a[t.preset];else{if(!a.Default)return;o=a.Default}if(o[r]&&void 0!==o[r][e.property]){var s=o[r][e.property];e.initialValue=s,e.setValue(s)}}}}function nt(t,e,n,r){if(void 0===e[n])throw new Error('Object "'+e+'" has no property "'+n+'"');var i=void 0;if(r.color)i=new N(e,n);else{var a=[e,n].concat(r.factoryArgs);i=G.apply(t,a)}r.before instanceof S&&(r.before=r.before.__li),et(t,i),A.addClass(i.domElement,"c");var o=document.createElement("span");A.addClass(o,"property-name"),o.innerHTML=i.property;var u=document.createElement("div");u.appendChild(o),u.appendChild(i.domElement);var c=Q(t,u,r.before);return A.addClass(c,J.CLASS_CONTROLLER_ROW),i instanceof N?A.addClass(c,"color"):A.addClass(c,f(i.getValue())),function(t,e,n){if(n.__li=e,n.__gui=t,s.extend(n,{options:function(e){if(arguments.length>1){var r=n.__li.nextElementSibling;return n.remove(),nt(t,n.object,n.property,{before:r,factoryArgs:[s.toArray(arguments)]})}if(s.isArray(e)||s.isObject(e)){var i=n.__li.nextElementSibling;return n.remove(),nt(t,n.object,n.property,{before:i,factoryArgs:[e]})}},name:function(t){return n.__li.firstElementChild.firstElementChild.innerHTML=t,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof I){var r=new P(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});s.each(["updateDisplay","onChange","onFinishChange","step","min","max"],(function(t){var e=n[t],i=r[t];n[t]=r[t]=function(){var t=Array.prototype.slice.call(arguments);return i.apply(r,t),e.apply(n,t)}})),A.addClass(e,"has-slider"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof P){var i=function(e){if(s.isNumber(n.__min)&&s.isNumber(n.__max)){var r=n.__li.firstElementChild.firstElementChild.innerHTML,i=n.__gui.__listening.indexOf(n)>-1;n.remove();var a=nt(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]});return a.name(r),i&&a.listen(),a}return e};n.min=s.compose(i,n.min),n.max=s.compose(i,n.max)}else n instanceof k?(A.bind(e,"click",(function(){A.fakeEvent(n.__checkbox,"click")})),A.bind(n.__checkbox,"click",(function(t){t.stopPropagation()}))):n instanceof B?(A.bind(e,"click",(function(){A.fakeEvent(n.__button,"click")})),A.bind(e,"mouseover",(function(){A.addClass(n.__button,"hover")})),A.bind(e,"mouseout",(function(){A.removeClass(n.__button,"hover")}))):n instanceof N&&(A.addClass(e,"color"),n.updateDisplay=s.compose((function(t){return e.style.borderLeftColor=n.__color.toString(),t}),n.updateDisplay),n.updateDisplay());n.setValue=s.compose((function(e){return t.getRoot().__preset_select&&n.isModified()&&tt(t.getRoot(),!0),e}),n.setValue)}(t,c,i),t.__controllers.push(i),i}function rt(t,e){return document.location.href+"."+e}function it(t,e,n){var r=document.createElement("option");r.innerHTML=e,r.value=e,t.__preset_select.appendChild(r),n&&(t.__preset_select.selectedIndex=t.__preset_select.length-1)}function at(t,e){e.style.display=t.useLocalStorage?"block":"none"}function ot(t){var e=t.__save_row=document.createElement("li");A.addClass(t.domElement,"has-save"),t.__ul.insertBefore(e,t.__ul.firstChild),A.addClass(e,"save-row");var n=document.createElement("span");n.innerHTML="&nbsp;",A.addClass(n,"button gears");var r=document.createElement("span");r.innerHTML="Save",A.addClass(r,"button"),A.addClass(r,"save");var i=document.createElement("span");i.innerHTML="New",A.addClass(i,"button"),A.addClass(i,"save-as");var a=document.createElement("span");a.innerHTML="Revert",A.addClass(a,"button"),A.addClass(a,"revert");var o=t.__preset_select=document.createElement("select");if(t.load&&t.load.remembered?s.each(t.load.remembered,(function(e,n){it(t,n,n===t.preset)})):it(t,"Default",!1),A.bind(o,"change",(function(){for(var e=0;e<t.__preset_select.length;e++)t.__preset_select[e].innerHTML=t.__preset_select[e].value;t.preset=this.value})),e.appendChild(o),e.appendChild(n),e.appendChild(r),e.appendChild(i),e.appendChild(a),V){var u=document.getElementById("dg-local-explain"),c=document.getElementById("dg-local-storage");document.getElementById("dg-save-locally").style.display="block","true"===localStorage.getItem(rt(0,"isLocal"))&&c.setAttribute("checked","checked"),at(t,u),A.bind(c,"change",(function(){t.useLocalStorage=!t.useLocalStorage,at(t,u)}))}var l=document.getElementById("dg-new-constructor");A.bind(l,"keydown",(function(t){!t.metaKey||67!==t.which&&67!==t.keyCode||W.hide()})),A.bind(n,"click",(function(){l.innerHTML=JSON.stringify(t.getSaveObject(),void 0,2),W.show(),l.focus(),l.select()})),A.bind(r,"click",(function(){t.save()})),A.bind(i,"click",(function(){var e=prompt("Enter a new preset name.");e&&t.saveAs(e)})),A.bind(a,"click",(function(){t.revert()}))}function st(t){var e=void 0;function n(n){return n.preventDefault(),t.width+=e-n.clientX,t.onResize(),e=n.clientX,!1}function r(){A.removeClass(t.__closeButton,J.CLASS_DRAG),A.unbind(window,"mousemove",n),A.unbind(window,"mouseup",r)}function i(i){return i.preventDefault(),e=i.clientX,A.addClass(t.__closeButton,J.CLASS_DRAG),A.bind(window,"mousemove",n),A.bind(window,"mouseup",r),!1}t.__resize_handle=document.createElement("div"),s.extend(t.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),A.bind(t.__resize_handle,"mousedown",i),A.bind(t.__closeButton,"mousedown",i),t.domElement.insertBefore(t.__resize_handle,t.domElement.firstElementChild)}function ut(t,e){t.domElement.style.width=e+"px",t.__save_row&&t.autoPlace&&(t.__save_row.style.width=e+"px"),t.__closeButton&&(t.__closeButton.style.width=e+"px")}function ct(t,e){var n={};return s.each(t.__rememberedObjects,(function(r,i){var a={},o=t.__rememberedObjectIndecesToControllers[i];s.each(o,(function(t,n){a[n]=e?t.initialValue:t.getValue()})),n[i]=a})),n}J.toggleHide=function(){q=!q,s.each(Z,(function(t){t.domElement.style.display=q?"none":""}))},J.CLASS_AUTO_PLACE="a",J.CLASS_AUTO_PLACE_CONTAINER="ac",J.CLASS_MAIN="main",J.CLASS_CONTROLLER_ROW="cr",J.CLASS_TOO_TALL="taller-than-window",J.CLASS_CLOSED="closed",J.CLASS_CLOSE_BUTTON="close-button",J.CLASS_CLOSE_TOP="close-top",J.CLASS_CLOSE_BOTTOM="close-bottom",J.CLASS_DRAG="drag",J.DEFAULT_WIDTH=245,J.TEXT_CLOSED="Close Controls",J.TEXT_OPEN="Open Controls",J._keydownHandler=function(t){"text"===document.activeElement.type||72!==t.which&&72!==t.keyCode||J.toggleHide()},A.bind(window,"keydown",J._keydownHandler,!1),s.extend(J.prototype,{add:function(t,e){return nt(this,t,e,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(t,e){return nt(this,t,e,{color:!0})},remove:function(t){this.__ul.removeChild(t.__li),this.__controllers.splice(this.__controllers.indexOf(t),1);var e=this;s.defer((function(){e.onResize()}))},destroy:function(){if(this.parent)throw new Error("Only the root GUI should be removed with .destroy(). For subfolders, use gui.removeFolder(folder) instead.");this.autoPlace&&K.removeChild(this.domElement);var t=this;s.each(this.__folders,(function(e){t.removeFolder(e)})),A.unbind(window,"keydown",J._keydownHandler,!1),$(this)},addFolder:function(t){if(void 0!==this.__folders[t])throw new Error('You already have a folder in this GUI by the name "'+t+'"');var e={name:t,parent:this};e.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[t]&&(e.closed=this.load.folders[t].closed,e.load=this.load.folders[t]);var n=new J(e);this.__folders[t]=n;var r=Q(this,n.domElement);return A.addClass(r,"folder"),n},removeFolder:function(t){this.__ul.removeChild(t.domElement.parentElement),delete this.__folders[t.name],this.load&&this.load.folders&&this.load.folders[t.name]&&delete this.load.folders[t.name],$(t);var e=this;s.each(t.__folders,(function(e){t.removeFolder(e)})),s.defer((function(){e.onResize()}))},open:function(){this.closed=!1},close:function(){this.closed=!0},hide:function(){this.domElement.style.display="none"},show:function(){this.domElement.style.display=""},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=A.getOffset(t.__ul).top,n=0;s.each(t.__ul.childNodes,(function(e){t.autoPlace&&e===t.__save_row||(n+=A.getHeight(e))})),window.innerHeight-e-20<n?(A.addClass(t.domElement,J.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-20+"px"):(A.removeClass(t.domElement,J.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&s.defer((function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"})),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},onResizeDebounced:s.debounce((function(){this.onResize()}),50),remember:function(){if(s.isUndefined(W)&&((W=new z).domElement.innerHTML=Y),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;s.each(Array.prototype.slice.call(arguments),(function(e){0===t.__rememberedObjects.length&&ot(t),-1===t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)})),this.autoPlace&&ut(this,this.width)},getRoot:function(){for(var t=this;t.parent;)t=t.parent;return t},getSaveObject:function(){var t=this.load;return t.closed=this.closed,this.__rememberedObjects.length>0&&(t.preset=this.preset,t.remembered||(t.remembered={}),t.remembered[this.preset]=ct(this)),t.folders={},s.each(this.__folders,(function(e,n){t.folders[n]=e.getSaveObject()})),t},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=ct(this),tt(this,!1),this.saveToLocalStorageIfPossible()},saveAs:function(t){this.load.remembered||(this.load.remembered={},this.load.remembered.Default=ct(this,!0)),this.load.remembered[t]=ct(this),this.preset=t,it(this,t,!0),this.saveToLocalStorageIfPossible()},revert:function(t){s.each(this.__controllers,(function(e){this.getRoot().load.remembered?et(t||this.getRoot(),e):e.setValue(e.initialValue),e.__onFinishChange&&e.__onFinishChange.call(e,e.getValue())}),this),s.each(this.__folders,(function(t){t.revert(t)})),t||tt(this.getRoot(),!1)},listen:function(t){var e=0===this.__listening.length;this.__listening.push(t),e&&function t(e){0!==e.length&&H.call(window,(function(){t(e)}));s.each(e,(function(t){t.updateDisplay()}))}(this.__listening)},updateDisplay:function(){s.each(this.__controllers,(function(t){t.updateDisplay()})),s.each(this.__folders,(function(t){t.updateDisplay()}))}});var lt=J},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n(27);var r=n(0),i=n(1);function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=function(t){var e,n;function u(e){var n;s(a(n=t.call(this)||this),"app",void 0),s(a(n),"coins",void 0),s(a(n),"maxCoinCount",void 0),n.app=e,n.coins=[],n.maxCoinCount=18;for(var i=0;i<n.maxCoinCount;i++){var o=r.Sprite.from("coin.png");o.anchor.set(.5),n.coins.push(o)}return n.hide(),n}n=t,(e=u).prototype=Object.create(n.prototype),e.prototype.constructor=e,o(e,n);var c=u.prototype;return c.addCoin=function(t){var e=this,n=t.coin,a=void 0===n?null:n,o=t.noTween;void 0!==o&&o?Object(i.delay)(1+1.5*Math.random()).then((function(){e.app.controller.updateCoins(1,!0)})):Object(i.tween)(a.position,a.speed/6,{x:a.position.x+Math.cos(a.angle)*a.speed*(a.speed/.12),y:a.position.y+Math.sin(a.angle)*a.speed*(a.speed/.12),ease:"Power2.easeOut",onComplete:function(){Object(i.tween)(a.position,.8,{x:e.app.overlays.header.coinBar.x,y:44,ease:"Quad.easeOut",onComplete:function(){if(Math.random()>.1){var t=r.Sprite.from("coing-ring.png");t.anchor.set(.5),t.position.x=a.position.x,t.position.y=a.position.y,e.app.overlays.header.addChild(t);Object(i.tween)(t.scale,.8,{x:1.5,y:1.5,onComplete:function(){return e.app.overlays.header.removeChild(t)}}),Object(i.tween)(t,.8,{alpha:0})}e.app.overlays.header.removeChild(a),e.app.controller.updateCoins(1,!0)}})}})},c.start=function(t,e,n,r){var a=this;void 0===r&&(r=!1),r&&this.app.overlays.header.coinBar.show(),this.app.overlays.header.addChild(this),this.show();for(var o=0,s=0;s<t;s++)if(s>=this.maxCoinCount)this.addCoin({noTween:!0});else{var u=this.coins[s];u.visible=!0,u.position.x=e,u.position.y=n,u.angle=-Math.PI+Math.PI/((t>this.maxCoinCount?this.maxCoinCount:t)-1)*s,u.angle=2*Math.PI/((t>this.maxCoinCount?this.maxCoinCount:t)-1)*s,u.speed=.5+3*Math.random(),u.speed+=1,u.speed>o&&(o=u.speed),this.app.overlays.header.addChild(u),this.addCoin({coin:u})}Object(i.delay)(o/6+1).then((function(){r&&a.app.overlays.header.coinBar.hide(),a.hide()}))},c.show=function(){this.visible=!0},c.hide=function(){this.visible=!1},u}(r.Container)},function(t,e,n){var r,i,a,o,s,u,c,l,h,d,p,f,m,g,y,v,b,_,w,x,S,T,M,E,A,k,C,O,L,R,P,D,I,B,N,j,F,U,Y,G,H,z,V,W,X={REVISION:"77"};void 0===(i="function"==typeof(r=X)?r.call(e,n,e,t):r)||(t.exports=i),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e}),Object.assign(X,{MOUSE:{LEFT:0,MIDDLE:1,RIGHT:2},CullFaceNone:0,CullFaceBack:1,CullFaceFront:2,CullFaceFrontBack:3,FrontFaceDirectionCW:0,FrontFaceDirectionCCW:1,BasicShadowMap:0,PCFShadowMap:1,PCFSoftShadowMap:2,FrontSide:0,BackSide:1,DoubleSide:2,FlatShading:1,SmoothShading:2,NoColors:0,FaceColors:1,VertexColors:2,NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5,AddEquation:100,SubtractEquation:101,ReverseSubtractEquation:102,MinEquation:103,MaxEquation:104,ZeroFactor:200,OneFactor:201,SrcColorFactor:202,OneMinusSrcColorFactor:203,SrcAlphaFactor:204,OneMinusSrcAlphaFactor:205,DstAlphaFactor:206,OneMinusDstAlphaFactor:207,DstColorFactor:208,OneMinusDstColorFactor:209,SrcAlphaSaturateFactor:210,NeverDepth:0,AlwaysDepth:1,LessDepth:2,LessEqualDepth:3,EqualDepth:4,GreaterEqualDepth:5,GreaterDepth:6,NotEqualDepth:7,MultiplyOperation:0,MixOperation:1,AddOperation:2,NoToneMapping:0,LinearToneMapping:1,ReinhardToneMapping:2,Uncharted2ToneMapping:3,CineonToneMapping:4,UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307,RepeatWrapping:1e3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002,NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008,UnsignedByteType:1009,ByteType:1010,ShortType:1011,UnsignedShortType:1012,IntType:1013,UnsignedIntType:1014,FloatType:1015,HalfFloatType:1025,UnsignedShort4444Type:1016,UnsignedShort5551Type:1017,UnsignedShort565Type:1018,AlphaFormat:1019,RGBFormat:1020,RGBAFormat:1021,LuminanceFormat:1022,LuminanceAlphaFormat:1023,RGBEFormat:X.RGBAFormat,DepthFormat:1026,RGB_S3TC_DXT1_Format:2001,RGBA_S3TC_DXT1_Format:2002,RGBA_S3TC_DXT3_Format:2003,RGBA_S3TC_DXT5_Format:2004,RGB_PVRTC_4BPPV1_Format:2100,RGB_PVRTC_2BPPV1_Format:2101,RGBA_PVRTC_4BPPV1_Format:2102,RGBA_PVRTC_2BPPV1_Format:2103,RGB_ETC1_Format:2151,LoopOnce:2200,LoopRepeat:2201,LoopPingPong:2202,InterpolateDiscrete:2300,InterpolateLinear:2301,InterpolateSmooth:2302,ZeroCurvatureEnding:2400,ZeroSlopeEnding:2401,WrapAroundEnding:2402,TrianglesDrawMode:0,TriangleStripDrawMode:1,TriangleFanDrawMode:2,LinearEncoding:3e3,sRGBEncoding:3001,GammaEncoding:3007,RGBEEncoding:3002,LogLuvEncoding:3003,RGBM7Encoding:3004,RGBM16Encoding:3005,RGBDEncoding:3006,BasicDepthPacking:3200,RGBADepthPacking:3201}),X.Color=function(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)},X.Color.prototype={constructor:X.Color,r:1,g:1,b:1,set:function(t){return t instanceof X.Color?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){this.r=t,this.g=t,this.b=t},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(){function t(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}return function(e,n,r){if(e=X.Math.euclideanModulo(e,1),n=X.Math.clamp(n,0,1),r=X.Math.clamp(r,0,1),0===n)this.r=this.g=this.b=r;else{var i=r<=.5?r*(1+n):r+n-r*n,a=2*r-i;this.r=t(a,i,e+1/3),this.g=t(a,i,e),this.b=t(a,i,e-1/3)}return this}}(),setStyle:function(t){function e(t){void 0!==t&&parseFloat(t)}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var r,i=n[1],a=n[2];switch(i){case"rgb":case"rgba":if(r=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(255,parseInt(r[1],10))/255,this.g=Math.min(255,parseInt(r[2],10))/255,this.b=Math.min(255,parseInt(r[3],10))/255,e(r[5]),this;if(r=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a))return this.r=Math.min(100,parseInt(r[1],10))/100,this.g=Math.min(100,parseInt(r[2],10))/100,this.b=Math.min(100,parseInt(r[3],10))/100,e(r[5]),this;break;case"hsl":case"hsla":if(r=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)){var o=parseFloat(r[1])/360,s=parseInt(r[2],10)/100,u=parseInt(r[3],10)/100;return e(r[5]),this.setHSL(o,s,u)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var c,l=(c=n[1]).length;if(3===l)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===l)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}t&&t.length>0&&(void 0!==(c=X.ColorKeywords[t])&&this.setHex(c));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(){var t=this.r,e=this.g,n=this.b;return this.r=t*t,this.g=e*e,this.b=n*n,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){var e,n,r=t||{h:0,s:0,l:0},i=this.r,a=this.g,o=this.b,s=Math.max(i,a,o),u=Math.min(i,a,o),c=(u+s)/2;if(u===s)e=0,n=0;else{var l=s-u;switch(n=c<=.5?l/(s+u):l/(2-s-u),s){case i:e=(a-o)/l+(a<o?6:0);break;case a:e=(o-i)/l+2;break;case o:e=(i-a)/l+4}e/=6}return r.h=e,r.s=n,r.l=c,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,n){var r=this.getHSL();return r.h+=t,r.s+=e,r.l+=n,this.setHSL(r.h,r.s,r.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}},X.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},X.Quaternion=function(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==r?r:1},X.Quaternion.prototype={constructor:X.Quaternion,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get w(){return this._w},set w(t){this._w=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._w=r,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this.onChangeCallback(),this},setFromEuler:function(t,e){if(t instanceof X.Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var n=Math.cos(t._x/2),r=Math.cos(t._y/2),i=Math.cos(t._z/2),a=Math.sin(t._x/2),o=Math.sin(t._y/2),s=Math.sin(t._z/2),u=t.order;return"XYZ"===u?(this._x=a*r*i+n*o*s,this._y=n*o*i-a*r*s,this._z=n*r*s+a*o*i,this._w=n*r*i-a*o*s):"YXZ"===u?(this._x=a*r*i+n*o*s,this._y=n*o*i-a*r*s,this._z=n*r*s-a*o*i,this._w=n*r*i+a*o*s):"ZXY"===u?(this._x=a*r*i-n*o*s,this._y=n*o*i+a*r*s,this._z=n*r*s+a*o*i,this._w=n*r*i-a*o*s):"ZYX"===u?(this._x=a*r*i-n*o*s,this._y=n*o*i+a*r*s,this._z=n*r*s-a*o*i,this._w=n*r*i+a*o*s):"YZX"===u?(this._x=a*r*i+n*o*s,this._y=n*o*i+a*r*s,this._z=n*r*s-a*o*i,this._w=n*r*i-a*o*s):"XZY"===u&&(this._x=a*r*i-n*o*s,this._y=n*o*i-a*r*s,this._z=n*r*s+a*o*i,this._w=n*r*i+a*o*s),!1!==e&&this.onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,r=Math.sin(n);return this._x=t.x*r,this._y=t.y*r,this._z=t.z*r,this._w=Math.cos(n),this.onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,r=n[0],i=n[4],a=n[8],o=n[1],s=n[5],u=n[9],c=n[2],l=n[6],h=n[10],d=r+s+h;return d>0?(e=.5/Math.sqrt(d+1),this._w=.25/e,this._x=(l-u)*e,this._y=(a-c)*e,this._z=(o-i)*e):r>s&&r>h?(e=2*Math.sqrt(1+r-s-h),this._w=(l-u)/e,this._x=.25*e,this._y=(i+o)/e,this._z=(a+c)/e):s>h?(e=2*Math.sqrt(1+s-r-h),this._w=(a-c)/e,this._x=(i+o)/e,this._y=.25*e,this._z=(u+l)/e):(e=2*Math.sqrt(1+h-r-s),this._w=(o-i)/e,this._x=(a+c)/e,this._y=(u+l)/e,this._z=.25*e),this.onChangeCallback(),this},setFromUnitVectors:function(t,e){return void 0===a&&(a=new X.Vector3),(o=t.dot(e)+1)<1e-6?(o=0,Math.abs(t.x)>Math.abs(t.z)?a.set(-t.y,t.x,0):a.set(0,-t.z,t.y)):a.crossVectors(t,e),this._x=a.x,this._y=a.y,this._z=a.z,this._w=o,this.normalize()},inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this.onChangeCallback(),this},multiply:function(t,e){return void 0!==e?this.multiplyQuaternions(t,e):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,r=t._y,i=t._z,a=t._w,o=e._x,s=e._y,u=e._z,c=e._w;return this._x=n*c+a*o+r*u-i*s,this._y=r*c+a*s+i*o-n*u,this._z=i*c+a*u+n*s-r*o,this._w=a*c-n*o-r*s-i*u,this.onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,r=this._y,i=this._z,a=this._w,o=a*t._w+n*t._x+r*t._y+i*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=a,this._x=n,this._y=r,this._z=i,this;var s=Math.sqrt(1-o*o);if(Math.abs(s)<.001)return this._w=.5*(a+this._w),this._x=.5*(n+this._x),this._y=.5*(r+this._y),this._z=.5*(i+this._z),this;var u=Math.atan2(s,o),c=Math.sin((1-e)*u)/s,l=Math.sin(e*u)/s;return this._w=a*c+this._w*l,this._x=n*c+this._x*l,this._y=r*c+this._y*l,this._z=i*c+this._z*l,this.onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},Object.assign(X.Quaternion,{slerp:function(t,e,n,r){return n.copy(t).slerp(e,r)},slerpFlat:function(t,e,n,r,i,a,o){var s=n[r+0],u=n[r+1],c=n[r+2],l=n[r+3],h=i[a+0],d=i[a+1],p=i[a+2],f=i[a+3];if(l!==f||s!==h||u!==d||c!==p){var m=1-o,g=s*h+u*d+c*p+l*f,y=g>=0?1:-1,v=1-g*g;if(v>Number.EPSILON){var b=Math.sqrt(v),_=Math.atan2(b,g*y);m=Math.sin(m*_)/b,o=Math.sin(o*_)/b}var w=o*y;if(s=s*m+h*w,u=u*m+d*w,c=c*m+p*w,l=l*m+f*w,m===1-o){var x=1/Math.sqrt(s*s+u*u+c*c+l*l);s*=x,u*=x,c*=x,l*=x}}t[e]=s,t[e+1]=u,t[e+2]=c,t[e+3]=l}}),X.Vector2=function(t,e){this.x=t||0,this.y=e||0},X.Vector2.prototype={constructor:X.Vector2,get width(){return this.x},set width(t){this.x=t},get height(){return this.y},set height(t){this.y=t},set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t):(this.x=0,this.y=0),this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new X.Vector2,e=new X.Vector2),t.set(n,n),e.set(r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromAttribute:function(t,e,n){return void 0===n&&(n=0),e=e*t.itemSize+n,this.x=t.array[e],this.y=t.array[e+1],this},rotateAround:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,a=this.y-t.y;return this.x=i*n-a*r+t.x,this.y=i*r+a*n+t.y,this}},X.Vector3=function(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0},X.Vector3.prototype={constructor:X.Vector3,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?this.multiplyVectors(t,e):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(t){return X.Euler,void 0===u&&(u=new X.Quaternion),this.applyQuaternion(u.setFromEuler(t))},applyAxisAngle:function(){var t;return function(e,n){return void 0===t&&(t=new X.Quaternion),this.applyQuaternion(t.setFromAxisAngle(e,n))}}(),applyMatrix3:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6]*r,this.y=i[1]*e+i[4]*n+i[7]*r,this.z=i[2]*e+i[5]*n+i[8]*r,this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r+i[12],this.y=i[1]*e+i[5]*n+i[9]*r+i[13],this.z=i[2]*e+i[6]*n+i[10]*r+i[14],this},applyProjection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements,a=1/(i[3]*e+i[7]*n+i[11]*r+i[15]);return this.x=(i[0]*e+i[4]*n+i[8]*r+i[12])*a,this.y=(i[1]*e+i[5]*n+i[9]*r+i[13])*a,this.z=(i[2]*e+i[6]*n+i[10]*r+i[14])*a,this},applyQuaternion:function(t){var e=this.x,n=this.y,r=this.z,i=t.x,a=t.y,o=t.z,s=t.w,u=s*e+a*r-o*n,c=s*n+o*e-i*r,l=s*r+i*n-a*e,h=-i*e-a*n-o*r;return this.x=u*s+h*-i+c*-o-l*-a,this.y=c*s+h*-a+l*-i-u*-o,this.z=l*s+h*-o+u*-a-c*-i,this},project:function(t){return void 0===s&&(s=new X.Matrix4),s.multiplyMatrices(t.projectionMatrix,s.getInverse(t.matrixWorld)),this.applyProjection(s)},unproject:function(){var t;return function(e){return void 0===t&&(t=new X.Matrix4),t.multiplyMatrices(e.matrixWorld,t.getInverse(e.projectionMatrix)),this.applyProjection(t)}}(),transformDirection:function(t){var e=this.x,n=this.y,r=this.z,i=t.elements;return this.x=i[0]*e+i[4]*n+i[8]*r,this.y=i[1]*e+i[5]*n+i[9]*r,this.z=i[2]*e+i[6]*n+i[10]*r,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new X.Vector3,e=new X.Vector3),t.set(n,n,n),e.set(r,r,r),this.clamp(t,e)}}(),clampLength:function(t,e){var n=this.length();return this.multiplyScalar(Math.max(t,Math.min(e,n))/n)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){if(void 0!==e)return this.crossVectors(t,e);var n=this.x,r=this.y,i=this.z;return this.x=r*t.z-i*t.y,this.y=i*t.x-n*t.z,this.z=n*t.y-r*t.x,this},crossVectors:function(t,e){var n=t.x,r=t.y,i=t.z,a=e.x,o=e.y,s=e.z;return this.x=r*s-i*o,this.y=i*a-n*s,this.z=n*o-r*a,this},projectOnVector:function(){var t,e;return function(n){return void 0===t&&(t=new X.Vector3),t.copy(n).normalize(),e=this.dot(t),this.copy(t).multiplyScalar(e)}}(),projectOnPlane:function(){var t;return function(e){return void 0===t&&(t=new X.Vector3),t.copy(this).projectOnVector(e),this.sub(t)}}(),reflect:function(){var t;return function(e){return void 0===t&&(t=new X.Vector3),this.sub(t.copy(e).multiplyScalar(2*this.dot(e)))}}(),angleTo:function(t){var e=this.dot(t)/Math.sqrt(this.lengthSq()*t.lengthSq());return Math.acos(X.Math.clamp(e,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,r=this.z-t.z;return e*e+n*n+r*r},setFromSpherical:function(t){var e=Math.sin(t.phi)*t.radius;return this.x=e*Math.sin(t.theta),this.y=Math.cos(t.phi)*t.radius,this.z=e*Math.cos(t.theta),this},setFromMatrixPosition:function(t){return this.setFromMatrixColumn(t,3)},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),r=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=r,this},setFromMatrixColumn:function(t,e){if("number"==typeof t){var n=t;t=e,e=n}return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromAttribute:function(t,e,n){return void 0===n&&(n=0),e=e*t.itemSize+n,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this}},X.Vector4=function(t,e,n,r){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==r?r:1},X.Vector4.prototype={constructor:X.Vector4,set:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?this.addVectors(t,e):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?this.subVectors(t,e):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return isFinite(t)?(this.x*=t,this.y*=t,this.z*=t,this.w*=t):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*e+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*e+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*e+a[7]*n+a[11]*r+a[15]*i,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,r,i,a=t.elements,o=a[0],s=a[4],u=a[8],c=a[1],l=a[5],h=a[9],d=a[2],p=a[6],f=a[10];if(Math.abs(s-c)<.01&&Math.abs(u-d)<.01&&Math.abs(h-p)<.01){if(Math.abs(s+c)<.1&&Math.abs(u+d)<.1&&Math.abs(h+p)<.1&&Math.abs(o+l+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(o+1)/2,g=(l+1)/2,y=(f+1)/2,v=(s+c)/4,b=(u+d)/4,_=(h+p)/4;return m>g&&m>y?m<.01?(n=0,r=.707106781,i=.707106781):(r=v/(n=Math.sqrt(m)),i=b/n):g>y?g<.01?(n=.707106781,r=0,i=.707106781):(n=v/(r=Math.sqrt(g)),i=_/r):y<.01?(n=.707106781,r=.707106781,i=0):(n=b/(i=Math.sqrt(y)),r=_/i),this.set(n,r,i,e),this}var w=Math.sqrt((p-h)*(p-h)+(u-d)*(u-d)+(c-s)*(c-s));return Math.abs(w)<.001&&(w=1),this.x=(p-h)/w,this.y=(u-d)/w,this.z=(c-s)/w,this.w=Math.acos((o+l+f-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(){var t,e;return function(n,r){return void 0===t&&(t=new X.Vector4,e=new X.Vector4),t.set(n,n,n,n),e.set(r,r,r,r),this.clamp(t,e)}}(),floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(t){return this.multiplyScalar(t/this.length())},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromAttribute:function(t,e,n){return void 0===n&&(n=0),e=e*t.itemSize+n,this.x=t.array[e],this.y=t.array[e+1],this.z=t.array[e+2],this.w=t.array[e+3],this}},X.Euler=function(t,e,n,r){this._x=t||0,this._y=e||0,this._z=n||0,this._order=r||X.Euler.DefaultOrder},X.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],X.Euler.DefaultOrder="XYZ",X.Euler.prototype={constructor:X.Euler,get x(){return this._x},set x(t){this._x=t,this.onChangeCallback()},get y(){return this._y},set y(t){this._y=t,this.onChangeCallback()},get z(){return this._z},set z(t){this._z=t,this.onChangeCallback()},get order(){return this._order},set order(t){this._order=t,this.onChangeCallback()},set:function(t,e,n,r){return this._x=t,this._y=e,this._z=n,this._order=r||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this.onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var r=X.Math.clamp,i=t.elements,a=i[0],o=i[4],s=i[8],u=i[1],c=i[5],l=i[9],h=i[2],d=i[6],p=i[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(r(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-l,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(d,c),this._z=0)):"YXZ"===e?(this._x=Math.asin(-r(l,-1,1)),Math.abs(l)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(u,c)):(this._y=Math.atan2(-h,a),this._z=0)):"ZXY"===e?(this._x=Math.asin(r(d,-1,1)),Math.abs(d)<.99999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(u,a))):"ZYX"===e?(this._y=Math.asin(-r(h,-1,1)),Math.abs(h)<.99999?(this._x=Math.atan2(d,p),this._z=Math.atan2(u,a)):(this._x=0,this._z=Math.atan2(-o,c))):"YZX"===e?(this._z=Math.asin(r(u,-1,1)),Math.abs(u)<.99999?(this._x=Math.atan2(-l,c),this._y=Math.atan2(-h,a)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===e&&(this._z=Math.asin(-r(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(d,c),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-l,p),this._y=0)),this._order=e,!1!==n&&this.onChangeCallback(),this},setFromQuaternion:function(){var t;return function(e,n,r){return void 0===t&&(t=new X.Matrix4),t.makeRotationFromQuaternion(e),this.setFromRotationMatrix(t,n,r)}}(),setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:(c=new X.Quaternion,function(t){return c.setFromEuler(this),this.setFromQuaternion(c,t)}),equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this.onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new X.Vector3(this._x,this._y,this._z)},onChange:function(t){return this.onChangeCallback=t,this},onChangeCallback:function(){}},X.Line3=function(t,e){this.start=void 0!==t?t:new X.Vector3,this.end=void 0!==e?e:new X.Vector3},X.Line3.prototype={constructor:X.Line3,set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},center:function(t){return(t||new X.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return(t||new X.Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){var n=e||new X.Vector3;return this.delta(n).multiplyScalar(t).add(this.start)},closestPointToPointParameter:(l=new X.Vector3,h=new X.Vector3,function(t,e){l.subVectors(t,this.start),h.subVectors(this.end,this.start);var n=h.dot(h),r=h.dot(l)/n;return e&&(r=X.Math.clamp(r,0,1)),r}),closestPointToPoint:function(t,e,n){var r=this.closestPointToPointParameter(t,e),i=n||new X.Vector3;return this.delta(i).multiplyScalar(r).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}},X.Box2=function(t,e){this.min=void 0!==t?t:new X.Vector2(1/0,1/0),this.max=void 0!==e?e:new X.Vector2(-1/0,-1/0)},X.Box2.prototype={constructor:X.Box2,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new X.Vector2;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(t){return(t||new X.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(t){return(t||new X.Vector2).subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return(e||new X.Vector2).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return(e||new X.Vector2).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new X.Vector2;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},X.Box3=function(t,e){this.min=void 0!==t?t:new X.Vector3(1/0,1/0,1/0),this.max=void 0!==e?e:new X.Vector3(-1/0,-1/0,-1/0)},X.Box3.prototype={constructor:X.Box3,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,r=1/0,i=-1/0,a=-1/0,o=-1/0,s=0,u=t.length;s<u;s+=3){var c=t[s],l=t[s+1],h=t[s+2];c<e&&(e=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>a&&(a=l),h>o&&(o=h)}this.min.set(e,n,r),this.max.set(i,a,o)},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(){var t=new X.Vector3;return function(e,n){var r=t.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}}(),setFromObject:function(){var t=new X.Vector3;return function(e){var n=this;return e.updateMatrixWorld(!0),this.makeEmpty(),e.traverse((function(e){var r=e.geometry;if(void 0!==r)if(r instanceof X.Geometry)for(var i=r.vertices,a=0,o=i.length;a<o;a++)t.copy(i[a]),t.applyMatrix4(e.matrixWorld),n.expandByPoint(t);else if(r instanceof X.BufferGeometry&&void 0!==r.attributes.position){var s=r.attributes.position.array;for(a=0,o=s.length;a<o;a+=3)t.fromArray(s,a),t.applyMatrix4(e.matrixWorld),n.expandByPoint(t)}})),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(t){return(t||new X.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(t){return(t||new X.Vector3).subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return(e||new X.Vector3).set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(t){return void 0===p&&(p=new X.Vector3),this.clampPoint(t.center,p),p.distanceToSquared(t.center)<=t.radius*t.radius},intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=t.constant&&n>=t.constant},clampPoint:function(t,e){return(e||new X.Vector3).copy(t).clamp(this.min,this.max)},distanceToPoint:function(){var t=new X.Vector3;return function(e){return t.copy(e).clamp(this.min,this.max).sub(e).length()}}(),getBoundingSphere:function(){var t=new X.Vector3;return function(e){var n=e||new X.Sphere;return n.center=this.center(),n.radius=.5*this.size(t).length(),n}}(),intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:(d=[new X.Vector3,new X.Vector3,new X.Vector3,new X.Vector3,new X.Vector3,new X.Vector3,new X.Vector3,new X.Vector3],function(t){return this.isEmpty()||(d[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),d[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),d[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),d[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),d[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),d[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),d[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),d[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(d)),this}),translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}},X.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1])},X.Matrix3.prototype={constructor:X.Matrix3,set:function(t,e,n,r,i,a,o,s,u){var c=this.elements;return c[0]=t,c[1]=r,c[2]=o,c[3]=e,c[4]=i,c[5]=s,c[6]=n,c[7]=a,c[8]=u,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=t.elements;return this.set(e[0],e[3],e[6],e[1],e[4],e[7],e[2],e[5],e[8]),this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToVector3Array:function(){var t;return function(e,n,r){void 0===t&&(t=new X.Vector3),void 0===n&&(n=0),void 0===r&&(r=e.length);for(var i=0,a=n;i<r;i+=3,a+=3)t.fromArray(e,a),t.applyMatrix3(this),t.toArray(e,a);return e}}(),applyToBuffer:function(){var t;return function(e,n,r){void 0===t&&(t=new X.Vector3),void 0===n&&(n=0),void 0===r&&(r=e.length/e.itemSize);for(var i=0,a=n;i<r;i++,a++)t.x=e.getX(a),t.y=e.getY(a),t.z=e.getZ(a),t.applyMatrix3(this),e.setXYZ(t.x,t.y,t.z);return e}}(),multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],c=t[8];return e*a*c-e*o*u-n*i*c+n*o*s+r*i*u-r*a*s},getInverse:function(t,e){X.Matrix4;var n=t.elements,r=this.elements,i=n[0],a=n[1],o=n[2],s=n[3],u=n[4],c=n[5],l=n[6],h=n[7],d=n[8],p=d*u-c*h,f=c*l-d*s,m=h*s-u*l,g=i*p+a*f+o*m;if(0===g){if(e)throw new Error("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");return this.identity()}var y=1/g;return r[0]=p*y,r[1]=(o*h-d*a)*y,r[2]=(c*a-o*u)*y,r[3]=f*y,r[4]=(d*i-o*l)*y,r[5]=(o*s-c*i)*y,r[6]=m*y,r[7]=(a*l-h*i)*y,r[8]=(u*i-a*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},flattenToArrayOffset:function(t,e){return this.toArray(t,e)},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},fromArray:function(t){return this.elements.set(t),this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}},X.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},X.Matrix4.prototype={constructor:X.Matrix4,set:function(t,e,n,r,i,a,o,s,u,c,l,h,d,p,f,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=r,g[1]=i,g[5]=a,g[9]=o,g[13]=s,g[2]=u,g[6]=c,g[10]=l,g[14]=h,g[3]=d,g[7]=p,g[11]=f,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new X.Matrix4).fromArray(this.elements)},copy:function(t){return this.elements.set(t.elements),this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(){var t;return function(e){void 0===t&&(t=new X.Vector3);var n=this.elements,r=e.elements,i=1/t.setFromMatrixColumn(e,0).length(),a=1/t.setFromMatrixColumn(e,1).length(),o=1/t.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,this}}(),makeRotationFromEuler:function(t){X.Euler;var e=this.elements,n=t.x,r=t.y,i=t.z,a=Math.cos(n),o=Math.sin(n),s=Math.cos(r),u=Math.sin(r),c=Math.cos(i),l=Math.sin(i);if("XYZ"===t.order){var h=a*c,d=a*l,p=o*c,f=o*l;e[0]=s*c,e[4]=-s*l,e[8]=u,e[1]=d+p*u,e[5]=h-f*u,e[9]=-o*s,e[2]=f-h*u,e[6]=p+d*u,e[10]=a*s}else if("YXZ"===t.order){var m=s*c,g=s*l,y=u*c,v=u*l;e[0]=m+v*o,e[4]=y*o-g,e[8]=a*u,e[1]=a*l,e[5]=a*c,e[9]=-o,e[2]=g*o-y,e[6]=v+m*o,e[10]=a*s}else if("ZXY"===t.order){m=s*c,g=s*l,y=u*c,v=u*l;e[0]=m-v*o,e[4]=-a*l,e[8]=y+g*o,e[1]=g+y*o,e[5]=a*c,e[9]=v-m*o,e[2]=-a*u,e[6]=o,e[10]=a*s}else if("ZYX"===t.order){h=a*c,d=a*l,p=o*c,f=o*l;e[0]=s*c,e[4]=p*u-d,e[8]=h*u+f,e[1]=s*l,e[5]=f*u+h,e[9]=d*u-p,e[2]=-u,e[6]=o*s,e[10]=a*s}else if("YZX"===t.order){var b=a*s,_=a*u,w=o*s,x=o*u;e[0]=s*c,e[4]=x-b*l,e[8]=w*l+_,e[1]=l,e[5]=a*c,e[9]=-o*c,e[2]=-u*c,e[6]=_*l+w,e[10]=b-x*l}else if("XZY"===t.order){b=a*s,_=a*u,w=o*s,x=o*u;e[0]=s*c,e[4]=-l,e[8]=u*c,e[1]=b*l+x,e[5]=a*c,e[9]=_*l-w,e[2]=w*l-_,e[6]=o*c,e[10]=x*l+b}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z,a=t.w,o=n+n,s=r+r,u=i+i,c=n*o,l=n*s,h=n*u,d=r*s,p=r*u,f=i*u,m=a*o,g=a*s,y=a*u;return e[0]=1-(d+f),e[4]=l-y,e[8]=h+g,e[1]=l+y,e[5]=1-(c+f),e[9]=p-m,e[2]=h-g,e[6]=p+m,e[10]=1-(c+d),e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},lookAt:function(t,e,n){void 0===f&&(f=new X.Vector3,m=new X.Vector3,g=new X.Vector3);var r=this.elements;return g.subVectors(t,e).normalize(),0===g.lengthSq()&&(g.z=1),f.crossVectors(n,g).normalize(),0===f.lengthSq()&&(g.z+=1e-4,f.crossVectors(n,g).normalize()),m.crossVectors(g,f),r[0]=f.x,r[4]=m.x,r[8]=g.x,r[1]=f.y,r[5]=m.y,r[9]=g.y,r[2]=f.z,r[6]=m.z,r[10]=g.z,this},multiply:function(t,e){return void 0!==e?this.multiplyMatrices(t,e):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,r=e.elements,i=this.elements,a=n[0],o=n[4],s=n[8],u=n[12],c=n[1],l=n[5],h=n[9],d=n[13],p=n[2],f=n[6],m=n[10],g=n[14],y=n[3],v=n[7],b=n[11],_=n[15],w=r[0],x=r[4],S=r[8],T=r[12],M=r[1],E=r[5],A=r[9],k=r[13],C=r[2],O=r[6],L=r[10],R=r[14],P=r[3],D=r[7],I=r[11],B=r[15];return i[0]=a*w+o*M+s*C+u*P,i[4]=a*x+o*E+s*O+u*D,i[8]=a*S+o*A+s*L+u*I,i[12]=a*T+o*k+s*R+u*B,i[1]=c*w+l*M+h*C+d*P,i[5]=c*x+l*E+h*O+d*D,i[9]=c*S+l*A+h*L+d*I,i[13]=c*T+l*k+h*R+d*B,i[2]=p*w+f*M+m*C+g*P,i[6]=p*x+f*E+m*O+g*D,i[10]=p*S+f*A+m*L+g*I,i[14]=p*T+f*k+m*R+g*B,i[3]=y*w+v*M+b*C+_*P,i[7]=y*x+v*E+b*O+_*D,i[11]=y*S+v*A+b*L+_*I,i[15]=y*T+v*k+b*R+_*B,this},multiplyToArray:function(t,e,n){var r=this.elements;return this.multiplyMatrices(t,e),n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToVector3Array:function(){var t;return function(e,n,r){void 0===t&&(t=new X.Vector3),void 0===n&&(n=0),void 0===r&&(r=e.length);for(var i=0,a=n;i<r;i+=3,a+=3)t.fromArray(e,a),t.applyMatrix4(this),t.toArray(e,a);return e}}(),applyToBuffer:function(){var t;return function(e,n,r){void 0===t&&(t=new X.Vector3),void 0===n&&(n=0),void 0===r&&(r=e.length/e.itemSize);for(var i=0,a=n;i<r;i++,a++)t.x=e.getX(a),t.y=e.getY(a),t.z=e.getZ(a),t.applyMatrix4(this),e.setXYZ(t.x,t.y,t.z);return e}}(),determinant:function(){var t=this.elements,e=t[0],n=t[4],r=t[8],i=t[12],a=t[1],o=t[5],s=t[9],u=t[13],c=t[2],l=t[6],h=t[10],d=t[14];return t[3]*(+i*s*l-r*u*l-i*o*h+n*u*h+r*o*d-n*s*d)+t[7]*(+e*s*d-e*u*h+i*a*h-r*a*d+r*u*c-i*s*c)+t[11]*(+e*u*l-e*o*d-i*a*l+n*a*d+i*o*c-n*u*c)+t[15]*(-r*o*c-e*s*l+e*o*h+r*a*l-n*a*h+n*s*c)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},flattenToArrayOffset:function(t,e){return this.toArray(t,e)},getPosition:function(){var t;return function(){return void 0===t&&(t=new X.Vector3),t.setFromMatrixColumn(this,3)}}(),setPosition:function(t){var e=this.elements;return e[12]=t.x,e[13]=t.y,e[14]=t.z,this},getInverse:function(t,e){var n=this.elements,r=t.elements,i=r[0],a=r[1],o=r[2],s=r[3],u=r[4],c=r[5],l=r[6],h=r[7],d=r[8],p=r[9],f=r[10],m=r[11],g=r[12],y=r[13],v=r[14],b=r[15],_=p*v*h-y*f*h+y*l*m-c*v*m-p*l*b+c*f*b,w=g*f*h-d*v*h-g*l*m+u*v*m+d*l*b-u*f*b,x=d*y*h-g*p*h+g*c*m-u*y*m-d*c*b+u*p*b,S=g*p*l-d*y*l-g*c*f+u*y*f+d*c*v-u*p*v,T=i*_+a*w+o*x+s*S;if(0===T){if(e)throw new Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");return this.identity()}var M=1/T;return n[0]=_*M,n[1]=(y*f*s-p*v*s-y*o*m+a*v*m+p*o*b-a*f*b)*M,n[2]=(c*v*s-y*l*s+y*o*h-a*v*h-c*o*b+a*l*b)*M,n[3]=(p*l*s-c*f*s-p*o*h+a*f*h+c*o*m-a*l*m)*M,n[4]=w*M,n[5]=(d*v*s-g*f*s+g*o*m-i*v*m-d*o*b+i*f*b)*M,n[6]=(g*l*s-u*v*s-g*o*h+i*v*h+u*o*b-i*l*b)*M,n[7]=(u*f*s-d*l*s+d*o*h-i*f*h-u*o*m+i*l*m)*M,n[8]=x*M,n[9]=(g*p*s-d*y*s-g*a*m+i*y*m+d*a*b-i*p*b)*M,n[10]=(u*y*s-g*c*s+g*a*h-i*y*h-u*a*b+i*c*b)*M,n[11]=(d*c*s-u*p*s-d*a*h+i*p*h+u*a*m-i*c*m)*M,n[12]=S*M,n[13]=(d*y*o-g*p*o+g*a*f-i*y*f-d*a*v+i*p*v)*M,n[14]=(g*c*o-u*y*o-g*a*l+i*y*l+u*a*v-i*c*v)*M,n[15]=(u*p*o-d*c*o+d*a*l-i*p*l-u*a*f+i*c*f)*M,this},scale:function(t){var e=this.elements,n=t.x,r=t.y,i=t.z;return e[0]*=n,e[4]*=r,e[8]*=i,e[1]*=n,e[5]*=r,e[9]*=i,e[2]*=n,e[6]*=r,e[10]*=i,e[3]*=n,e[7]*=r,e[11]*=i,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],r=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,r))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=1-n,a=t.x,o=t.y,s=t.z,u=i*a,c=i*o;return this.set(u*a+n,u*o-r*s,u*s+r*o,0,u*o+r*s,c*o+n,c*s-r*a,0,u*s-r*o,c*s+r*a,i*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},compose:function(t,e,n){return this.makeRotationFromQuaternion(e),this.scale(n),this.setPosition(t),this},decompose:function(){var t,e;return function(n,r,i){void 0===t&&(t=new X.Vector3,e=new X.Matrix4);var a=this.elements,o=t.set(a[0],a[1],a[2]).length(),s=t.set(a[4],a[5],a[6]).length(),u=t.set(a[8],a[9],a[10]).length();this.determinant()<0&&(o=-o),n.x=a[12],n.y=a[13],n.z=a[14],e.elements.set(this.elements);var c=1/o,l=1/s,h=1/u;return e.elements[0]*=c,e.elements[1]*=c,e.elements[2]*=c,e.elements[4]*=l,e.elements[5]*=l,e.elements[6]*=l,e.elements[8]*=h,e.elements[9]*=h,e.elements[10]*=h,r.setFromRotationMatrix(e),i.x=o,i.y=s,i.z=u,this}}(),makeFrustum:function(t,e,n,r,i,a){var o=this.elements,s=2*i/(e-t),u=2*i/(r-n),c=(e+t)/(e-t),l=(r+n)/(r-n),h=-(a+i)/(a-i),d=-2*a*i/(a-i);return o[0]=s,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=u,o[9]=l,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makePerspective:function(t,e,n,r){var i=n*Math.tan(X.Math.DEG2RAD*t*.5),a=-i,o=a*e,s=i*e;return this.makeFrustum(o,s,a,i,n,r)},makeOrthographic:function(t,e,n,r,i,a){var o=this.elements,s=1/(e-t),u=1/(n-r),c=1/(a-i),l=(e+t)*s,h=(n+r)*u,d=(a+i)*c;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-l,o[1]=0,o[5]=2*u,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,r=0;r<16;r++)if(e[r]!==n[r])return!1;return!0},fromArray:function(t){return this.elements.set(t),this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}},X.Ray=function(t,e){this.origin=void 0!==t?t:new X.Vector3,this.direction=void 0!==e?e:new X.Vector3},X.Ray.prototype={constructor:X.Ray,set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return(e||new X.Vector3).copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(){var t=new X.Vector3;return function(e){return this.origin.copy(this.at(e,t)),this}}(),closestPointToPoint:function(t,e){var n=e||new X.Vector3;n.subVectors(t,this.origin);var r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.direction).multiplyScalar(r).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(){var t=new X.Vector3;return function(e){var n=t.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(t.copy(this.direction).multiplyScalar(n).add(this.origin),t.distanceToSquared(e))}}(),distanceSqToSegment:(v=new X.Vector3,b=new X.Vector3,_=new X.Vector3,function(t,e,n,r){v.copy(t).add(e).multiplyScalar(.5),b.copy(e).sub(t).normalize(),_.copy(this.origin).sub(v);var i,a,o,s,u=.5*t.distanceTo(e),c=-this.direction.dot(b),l=_.dot(this.direction),h=-_.dot(b),d=_.lengthSq(),p=Math.abs(1-c*c);if(p>0)if(a=c*l-h,s=u*p,(i=c*h-l)>=0)if(a>=-s)if(a<=s){var f=1/p;o=(i*=f)*(i+c*(a*=f)+2*l)+a*(c*i+a+2*h)+d}else a=u,o=-(i=Math.max(0,-(c*a+l)))*i+a*(a+2*h)+d;else a=-u,o=-(i=Math.max(0,-(c*a+l)))*i+a*(a+2*h)+d;else a<=-s?o=-(i=Math.max(0,-(-c*u+l)))*i+(a=i>0?-u:Math.min(Math.max(-u,-h),u))*(a+2*h)+d:a<=s?(i=0,o=(a=Math.min(Math.max(-u,-h),u))*(a+2*h)+d):o=-(i=Math.max(0,-(c*u+l)))*i+(a=i>0?u:Math.min(Math.max(-u,-h),u))*(a+2*h)+d;else a=c>0?-u:u,o=-(i=Math.max(0,-(c*a+l)))*i+a*(a+2*h)+d;return n&&n.copy(this.direction).multiplyScalar(i).add(this.origin),r&&r.copy(b).multiplyScalar(a).add(v),o}),intersectSphere:function(){var t=new X.Vector3;return function(e,n){t.subVectors(e.center,this.origin);var r=t.dot(this.direction),i=t.dot(t)-r*r,a=e.radius*e.radius;if(i>a)return null;var o=Math.sqrt(a-i),s=r-o,u=r+o;return s<0&&u<0?null:s<0?this.at(u,n):this.at(s,n)}}(),intersectsSphere:function(t){return this.distanceToPoint(t.center)<=t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,r,i,a,o,s,u=1/this.direction.x,c=1/this.direction.y,l=1/this.direction.z,h=this.origin;return u>=0?(n=(t.min.x-h.x)*u,r=(t.max.x-h.x)*u):(n=(t.max.x-h.x)*u,r=(t.min.x-h.x)*u),c>=0?(i=(t.min.y-h.y)*c,a=(t.max.y-h.y)*c):(i=(t.max.y-h.y)*c,a=(t.min.y-h.y)*c),n>a||i>r?null:((i>n||n!=n)&&(n=i),(a<r||r!=r)&&(r=a),l>=0?(o=(t.min.z-h.z)*l,s=(t.max.z-h.z)*l):(o=(t.max.z-h.z)*l,s=(t.min.z-h.z)*l),n>s||o>r?null:((o>n||n!=n)&&(n=o),(s<r||r!=r)&&(r=s),r<0?null:this.at(n>=0?n:r,e)))},intersectsBox:(y=new X.Vector3,function(t){return null!==this.intersectBox(t,y)}),intersectTriangle:function(){var t=new X.Vector3,e=new X.Vector3,n=new X.Vector3,r=new X.Vector3;return function(i,a,o,s,u){e.subVectors(a,i),n.subVectors(o,i),r.crossVectors(e,n);var c,l=this.direction.dot(r);if(l>0){if(s)return null;c=1}else{if(!(l<0))return null;c=-1,l=-l}t.subVectors(this.origin,i);var h=c*this.direction.dot(n.crossVectors(t,n));if(h<0)return null;var d=c*this.direction.dot(e.cross(t));if(d<0)return null;if(h+d>l)return null;var p=-c*t.dot(r);return p<0?null:this.at(p/l,u)}}(),applyMatrix4:function(t){return this.direction.add(this.origin).applyMatrix4(t),this.origin.applyMatrix4(t),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}},X.Sphere=function(t,e){this.center=void 0!==t?t:new X.Vector3,this.radius=void 0!==e?e:0},X.Sphere.prototype={constructor:X.Sphere,set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:(w=new X.Box3,function(t,e){var n=this.center;void 0!==e?n.copy(e):w.setFromPoints(t).center(n);for(var r=0,i=0,a=t.length;i<a;i++)r=Math.max(r,n.distanceToSquared(t[i]));return this.radius=Math.sqrt(r),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(this.center.dot(t.normal)-t.constant)<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t),r=e||new X.Vector3;return r.copy(t),n>this.radius*this.radius&&(r.sub(this.center).normalize(),r.multiplyScalar(this.radius).add(this.center)),r},getBoundingBox:function(t){var e=t||new X.Box3;return e.set(this.center,this.center),e.expandByScalar(this.radius),e},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}},X.Frustum=function(t,e,n,r,i,a){this.planes=[void 0!==t?t:new X.Plane,void 0!==e?e:new X.Plane,void 0!==n?n:new X.Plane,void 0!==r?r:new X.Plane,void 0!==i?i:new X.Plane,void 0!==a?a:new X.Plane]},X.Frustum.prototype={constructor:X.Frustum,set:function(t,e,n,r,i,a){var o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],d=n[9],p=n[10],f=n[11],m=n[12],g=n[13],y=n[14],v=n[15];return e[0].setComponents(o-r,l-s,f-h,v-m).normalize(),e[1].setComponents(o+r,l+s,f+h,v+m).normalize(),e[2].setComponents(o+i,l+u,f+d,v+g).normalize(),e[3].setComponents(o-i,l-u,f-d,v-g).normalize(),e[4].setComponents(o-a,l-c,f-p,v-y).normalize(),e[5].setComponents(o+a,l+c,f+p,v+y).normalize(),this},intersectsObject:(T=new X.Sphere,function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),T.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(T)}),intersectsSprite:function(){var t=new X.Sphere;return function(e){return t.center.set(0,0,0),t.radius=.7071067811865476,t.applyMatrix4(e.matrixWorld),this.intersectsSphere(t)}}(),intersectsSphere:function(t){for(var e=this.planes,n=t.center,r=-t.radius,i=0;i<6;i++){if(e[i].distanceToPoint(n)<r)return!1}return!0},intersectsBox:(x=new X.Vector3,S=new X.Vector3,function(t){for(var e=this.planes,n=0;n<6;n++){var r=e[n];x.x=r.normal.x>0?t.min.x:t.max.x,S.x=r.normal.x>0?t.max.x:t.min.x,x.y=r.normal.y>0?t.min.y:t.max.y,S.y=r.normal.y>0?t.max.y:t.min.y,x.z=r.normal.z>0?t.min.z:t.max.z,S.z=r.normal.z>0?t.max.z:t.min.z;var i=r.distanceToPoint(x),a=r.distanceToPoint(S);if(i<0&&a<0)return!1}return!0}),containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}},X.Plane=function(t,e){this.normal=void 0!==t?t:new X.Vector3(1,0,0),this.constant=void 0!==e?e:0},X.Plane.prototype={constructor:X.Plane,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,r){return this.normal.set(t,e,n),this.constant=r,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(){var t=new X.Vector3,e=new X.Vector3;return function(n,r,i){var a=t.subVectors(i,r).cross(e.subVectors(n,r)).normalize();return this.setFromNormalAndCoplanarPoint(a,n),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return this.orthoPoint(t,e).sub(t).negate()},orthoPoint:function(t,e){var n=this.distanceToPoint(t);return(e||new X.Vector3).copy(this.normal).multiplyScalar(n)},intersectLine:function(){var t=new X.Vector3;return function(e,n){var r=n||new X.Vector3,i=e.delta(t),a=this.normal.dot(i);if(0===a)return 0===this.distanceToPoint(e.start)?r.copy(e.start):void 0;var o=-(e.start.dot(this.normal)+this.constant)/a;return o<0||o>1?void 0:r.copy(i).multiplyScalar(o).add(e.start)}}(),intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return(t||new X.Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var t=new X.Vector3,e=new X.Matrix3;return function(n,r){var i=this.coplanarPoint(t).applyMatrix4(n),a=r||e.getNormalMatrix(n),o=this.normal.applyMatrix3(a).normalize();return this.constant=-i.dot(o),this}}(),translate:function(t){return this.constant=this.constant-t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}},X.Spherical=function(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this},X.Spherical.prototype={constructor:X.Spherical,set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius.copy(t.radius),this.phi.copy(t.phi),this.theta.copy(t.theta),this},makeSafe:function(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this},setFromVector3:function(t){return this.radius=t.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t.x,t.z),this.phi=Math.acos(X.Math.clamp(t.y/this.radius,-1,1))),this}},X.Math={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t,e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),n=new Array(36),r=0;return function(){for(var i=0;i<36;i++)8===i||13===i||18===i||23===i?n[i]="-":14===i?n[i]="4":(r<=2&&(r=33554432+16777216*Math.random()|0),t=15&r,r>>=4,n[i]=e[19===i?3&t|8:t]);return n.join("")}}(),clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},random16:function(){return Math.random()},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*X.Math.DEG2RAD},radToDeg:function(t){return t*X.Math.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},nearestPowerOfTwo:function(t){return Math.pow(2,Math.round(Math.log(t)/Math.LN2))},nextPowerOfTwo:function(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}},X.Spline=function(t){this.points=t;var e,n,r,i,a,o,s,u,c,l=[],h={x:0,y:0,z:0};function d(t,e,n,r,i,a,o){var s=.5*(n-t),u=.5*(r-e);return(2*(e-n)+s+u)*o+(-3*(e-n)-2*s-u)*a+s*i+e}this.initFromArray=function(t){this.points=[];for(var e=0;e<t.length;e++)this.points[e]={x:t[e][0],y:t[e][1],z:t[e][2]}},this.getPoint=function(t){return e=(this.points.length-1)*t,n=Math.floor(e),r=e-n,l[0]=0===n?n:n-1,l[1]=n,l[2]=n>this.points.length-2?this.points.length-1:n+1,l[3]=n>this.points.length-3?this.points.length-1:n+2,o=this.points[l[0]],s=this.points[l[1]],u=this.points[l[2]],c=this.points[l[3]],a=r*(i=r*r),h.x=d(o.x,s.x,u.x,c.x,r,i,a),h.y=d(o.y,s.y,u.y,c.y,r,i,a),h.z=d(o.z,s.z,u.z,c.z,r,i,a),h},this.getControlPointsArray=function(){var t,e,n=this.points.length,r=[];for(t=0;t<n;t++)e=this.points[t],r[t]=[e.x,e.y,e.z];return r},this.getLength=function(t){var e,n,r,i,a=0,o=0,s=0,u=new X.Vector3,c=new X.Vector3,l=[],h=0;for(l[0]=0,t||(t=100),r=this.points.length*t,u.copy(this.points[0]),e=1;e<r;e++)n=e/r,i=this.getPoint(n),c.copy(i),h+=c.distanceTo(u),u.copy(i),a=(this.points.length-1)*n,(o=Math.floor(a))!==s&&(l[o]=h,s=o);return l[l.length]=h,{chunks:l,total:h}},this.reparametrizeByArcLength=function(t){var e,n,r,i,a,o,s,u,c=[],l=new X.Vector3,h=this.getLength();for(c.push(l.copy(this.points[0]).clone()),e=1;e<this.points.length;e++){for(o=h.chunks[e]-h.chunks[e-1],s=Math.ceil(t*o/h.total),i=(e-1)/(this.points.length-1),a=e/(this.points.length-1),n=1;n<s-1;n++)r=i+n*(1/s)*(a-i),u=this.getPoint(r),c.push(l.copy(u).clone());c.push(l.copy(this.points[e]).clone())}this.points=c}},X.Triangle=function(t,e,n){this.a=void 0!==t?t:new X.Vector3,this.b=void 0!==e?e:new X.Vector3,this.c=void 0!==n?n:new X.Vector3},X.Triangle.normal=(M=new X.Vector3,function(t,e,n,r){var i=r||new X.Vector3;i.subVectors(n,e),M.subVectors(t,e),i.cross(M);var a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}),X.Triangle.barycoordFromPoint=function(){var t=new X.Vector3,e=new X.Vector3,n=new X.Vector3;return function(r,i,a,o,s){t.subVectors(o,i),e.subVectors(a,i),n.subVectors(r,i);var u=t.dot(t),c=t.dot(e),l=t.dot(n),h=e.dot(e),d=e.dot(n),p=u*h-c*c,f=s||new X.Vector3;if(0===p)return f.set(-2,-1,-1);var m=1/p,g=(h*l-c*d)*m,y=(u*d-c*l)*m;return f.set(1-g-y,y,g)}}(),X.Triangle.containsPoint=function(){var t=new X.Vector3;return function(e,n,r,i){var a=X.Triangle.barycoordFromPoint(e,n,r,i,t);return a.x>=0&&a.y>=0&&a.x+a.y<=1}}(),X.Triangle.prototype={constructor:X.Triangle,set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,r){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[r]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},area:function(){var t=new X.Vector3,e=new X.Vector3;return function(){return t.subVectors(this.c,this.b),e.subVectors(this.a,this.b),.5*t.cross(e).length()}}(),midpoint:function(t){return(t||new X.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(t){return X.Triangle.normal(this.a,this.b,this.c,t)},plane:function(t){return(t||new X.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(t,e){return X.Triangle.barycoordFromPoint(t,this.a,this.b,this.c,e)},containsPoint:function(t){return X.Triangle.containsPoint(t,this.a,this.b,this.c)},closestPointToPoint:function(){var t,e,n,r;return function(i,a){void 0===t&&(t=new X.Plane,e=[new X.Line3,new X.Line3,new X.Line3],n=new X.Vector3,r=new X.Vector3);var o=a||new X.Vector3,s=1/0;if(t.setFromCoplanarPoints(this.a,this.b,this.c),t.projectPoint(i,n),!0===this.containsPoint(n))o.copy(n);else{e[0].set(this.a,this.b),e[1].set(this.b,this.c),e[2].set(this.c,this.a);for(var u=0;u<e.length;u++){e[u].closestPointToPoint(n,!0,r);var c=n.distanceToSquared(r);c<s&&(s=c,o.copy(r))}}return o}}(),equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}},X.Interpolant=function(t,e,n,r){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new e.constructor(n),this.sampleValues=e,this.valueSize=n},X.Interpolant.prototype={constructor:X.Interpolant,evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,r=e[n],i=e[n-1];t:{e:{var a;n:{r:if(!(t<r)){for(var o=n+2;;){if(void 0===r){if(t<i)break r;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,i)}if(n===o)break;if(i=r,t<(r=e[++n]))break e}a=e.length;break n}if(t>=i)break t;var s=e[1];t<s&&(n=2,i=s);for(o=n-2;;){if(void 0===i)return this._cachedIndex=0,this.beforeStart_(0,t,r);if(n===o)break;if(r=i,t>=(i=e[--n-1]))break e}a=n,n=0}for(;n<a;){var u=n+a>>>1;t<e[u]?a=u:n=u+1}if(r=e[n],void 0===(i=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,r);if(void 0===r)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,i,t)}this._cachedIndex=n,this.intervalChanged_(n,i,r)}return this.interpolate_(n,i,t,r)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,r=this.valueSize,i=t*r,a=0;a!==r;++a)e[a]=n[i+a];return e},interpolate_:function(t,e,n,r){throw new Error("call to abstract method")},intervalChanged_:function(t,e,n){}},Object.assign(X.Interpolant.prototype,{beforeStart_:X.Interpolant.prototype.copySampleValue_,afterEnd_:X.Interpolant.prototype.copySampleValue_}),X.CubicInterpolant=function(t,e,n,r){X.Interpolant.call(this,t,e,n,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0},X.CubicInterpolant.prototype=Object.assign(Object.create(X.Interpolant.prototype),{constructor:X.CubicInterpolant,DefaultSettings_:{endingStart:X.ZeroCurvatureEnding,endingEnd:X.ZeroCurvatureEnding},intervalChanged_:function(t,e,n){var r=this.parameterPositions,i=t-2,a=t+1,o=r[i],s=r[a];if(void 0===o)switch(this.getSettings_().endingStart){case X.ZeroSlopeEnding:i=t,o=2*e-n;break;case X.WrapAroundEnding:o=e+r[i=r.length-2]-r[i+1];break;default:i=t,o=n}if(void 0===s)switch(this.getSettings_().endingEnd){case X.ZeroSlopeEnding:a=t,s=2*n-e;break;case X.WrapAroundEnding:a=1,s=n+r[1]-r[0];break;default:a=t-1,s=e}var u=.5*(n-e),c=this.valueSize;this._weightPrev=u/(e-o),this._weightNext=u/(s-n),this._offsetPrev=i*c,this._offsetNext=a*c},interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=s-o,c=this._offsetPrev,l=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(n-e)/(r-e),f=p*p,m=f*p,g=-h*m+2*h*f-h*p,y=(1+h)*m+(-1.5-2*h)*f+(-.5+h)*p+1,v=(-1-d)*m+(1.5+d)*f+.5*p,b=d*m-d*f,_=0;_!==o;++_)i[_]=g*a[c+_]+y*a[u+_]+v*a[s+_]+b*a[l+_];return i}}),X.DiscreteInterpolant=function(t,e,n,r){X.Interpolant.call(this,t,e,n,r)},X.DiscreteInterpolant.prototype=Object.assign(Object.create(X.Interpolant.prototype),{constructor:X.DiscreteInterpolant,interpolate_:function(t,e,n,r){return this.copySampleValue_(t-1)}}),X.LinearInterpolant=function(t,e,n,r){X.Interpolant.call(this,t,e,n,r)},X.LinearInterpolant.prototype=Object.assign(Object.create(X.Interpolant.prototype),{constructor:X.LinearInterpolant,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=s-o,c=(n-e)/(r-e),l=1-c,h=0;h!==o;++h)i[h]=a[u+h]*l+a[s+h]*c;return i}}),X.QuaternionLinearInterpolant=function(t,e,n,r){X.Interpolant.call(this,t,e,n,r)},X.QuaternionLinearInterpolant.prototype=Object.assign(Object.create(X.Interpolant.prototype),{constructor:X.QuaternionLinearInterpolant,interpolate_:function(t,e,n,r){for(var i=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=t*o,u=(n-e)/(r-e),c=s+o;s!==c;s+=4)X.Quaternion.slerpFlat(i,0,a,s-o,a,s,u);return i}}),X.Clock=function(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},X.Clock.prototype={constructor:X.Clock,start:function(){this.startTime=(performance||Date).now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running&&this.start(),this.running){var e=(performance||Date).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}},X.EventDispatcher=function(){},Object.assign(X.EventDispatcher.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var r=n.indexOf(e);-1!==r&&n.splice(r,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;var n=[],r=0,i=e.length;for(r=0;r<i;r++)n[r]=e[r];for(r=0;r<i;r++)n[r].call(this,t)}}}}),X.Layers=function(){this.mask=1},X.Layers.prototype={constructor:X.Layers,set:function(t){this.mask=1<<t},enable:function(t){this.mask|=1<<t},toggle:function(t){this.mask^=1<<t},disable:function(t){this.mask&=~(1<<t)},test:function(t){return 0!=(this.mask&t.mask)}},function(t){function e(t,e){return t.distance-e.distance}function n(t,e,r,i){if(!1!==t.visible&&(t.raycast(e,r),!0===i))for(var a=t.children,o=0,s=a.length;o<s;o++)n(a[o],e,r,!0)}t.Raycaster=function(e,n,r,i){this.ray=new t.Ray(e,n),this.near=r||0,this.far=i||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return this.Points}}})},t.Raycaster.prototype={constructor:t.Raycaster,linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(e,n){n instanceof t.PerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize()):n instanceof t.OrthographicCamera&&(this.ray.origin.set(e.x,e.y,-1).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld))},intersectObject:function(t,r){var i=[];return n(t,this,i,r),i.sort(e),i},intersectObjects:function(t,r){var i=[];if(!1===Array.isArray(t))return i;for(var a=0,o=t.length;a<o;a++)n(t[a],this,i,r);return i.sort(e),i}}}(X),X.Object3D=function(){Object.defineProperty(this,"id",{value:X.Object3DIdCount++}),this.uuid=X.Math.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=X.Object3D.DefaultUp.clone();var t=new X.Vector3,e=new X.Euler,n=new X.Quaternion,r=new X.Vector3(1,1,1);e.onChange((function(){n.setFromEuler(e,!1)})),n.onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{enumerable:!0,value:t},rotation:{enumerable:!0,value:e},quaternion:{enumerable:!0,value:n},scale:{enumerable:!0,value:r},modelViewMatrix:{value:new X.Matrix4},normalMatrix:{value:new X.Matrix3}}),this.matrix=new X.Matrix4,this.matrixWorld=new X.Matrix4,this.matrixAutoUpdate=X.Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new X.Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!1,this.renderOrder=0,this.userData={}},X.Object3D.DefaultUp=new X.Vector3(0,1,0),X.Object3D.DefaultMatrixAutoUpdate=!0,Object.assign(X.Object3D.prototype,X.EventDispatcher.prototype,{applyMatrix:function(t){this.matrix.multiplyMatrices(t,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:(C=new X.Quaternion,function(t,e){return C.setFromAxisAngle(t,e),this.quaternion.multiply(C),this}),rotateX:function(){var t=new X.Vector3(1,0,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateY:function(){var t=new X.Vector3(0,1,0);return function(e){return this.rotateOnAxis(t,e)}}(),rotateZ:function(){var t=new X.Vector3(0,0,1);return function(e){return this.rotateOnAxis(t,e)}}(),translateOnAxis:function(){var t=new X.Vector3;return function(e,n){return t.copy(e).applyQuaternion(this.quaternion),this.position.add(t.multiplyScalar(n)),this}}(),translateX:function(){var t=new X.Vector3(1,0,0);return function(e){return this.translateOnAxis(t,e)}}(),translateY:function(){var t=new X.Vector3(0,1,0);return function(e){return this.translateOnAxis(t,e)}}(),translateZ:function(){var t=new X.Vector3(0,0,1);return function(e){return this.translateOnAxis(t,e)}}(),localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:(k=new X.Matrix4,function(t){return t.applyMatrix4(k.getInverse(this.matrixWorld))}),lookAt:function(){var t=new X.Matrix4;return function(e){t.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(t)}}(),add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this||t instanceof X.Object3D&&(null!==t.parent&&t.parent.remove(t),t.parent=this,t.dispatchEvent({type:"added"}),this.children.push(t)),this},remove:function(t){if(arguments.length>1)for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);var n=this.children.indexOf(t);-1!==n&&(t.parent=null,t.dispatchEvent({type:"removed"}),this.children.splice(n,1))},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,r=this.children.length;n<r;n++){var i=this.children[n].getObjectByProperty(t,e);if(void 0!==i)return i}},getWorldPosition:function(t){var e=t||new X.Vector3;return this.updateMatrixWorld(!0),e.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(E=new X.Vector3,A=new X.Vector3,function(t){var e=t||new X.Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(E,e,A),e}),getWorldRotation:function(){var t=new X.Quaternion;return function(e){var n=e||new X.Euler;return this.getWorldQuaternion(t),n.setFromQuaternion(t,this.rotation.order,!1)}}(),getWorldScale:function(){var t=new X.Vector3,e=new X.Quaternion;return function(n){var r=n||new X.Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(t,e,r),r}}(),getWorldDirection:function(){var t=new X.Quaternion;return function(e){var n=e||new X.Vector3;return this.getWorldQuaternion(t),n.set(0,0,1).applyQuaternion(t)}}(),raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==t||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=0,n=this.children.length;e<n;e++)this.children[e].updateMatrixWorld(t)},toJSON:function(t){var e=void 0===t||""===t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{}},n.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var r={};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),"{}"!==JSON.stringify(this.userData)&&(r.userData=this.userData),!0===this.castShadow&&(r.castShadow=!0),!0===this.receiveShadow&&(r.receiveShadow=!0),!1===this.visible&&(r.visible=!1),r.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===t.geometries[this.geometry.uuid]&&(t.geometries[this.geometry.uuid]=this.geometry.toJSON(t)),r.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===t.materials[this.material.uuid]&&(t.materials[this.material.uuid]=this.material.toJSON(t)),r.material=this.material.uuid),this.children.length>0){r.children=[];for(var i=0;i<this.children.length;i++)r.children.push(this.children[i].toJSON(t).object)}if(e){var a=c(t.geometries),o=c(t.materials),s=c(t.textures),u=c(t.images);a.length>0&&(n.geometries=a),o.length>0&&(n.materials=o),s.length>0&&(n.textures=s),u.length>0&&(n.images=u)}return n.object=r,n;function c(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var r=t.children[n];this.add(r.clone())}return this}}),X.Object3DIdCount=0,X.Face3=function(t,e,n,r,i,a){this.a=t,this.b=e,this.c=n,this.normal=r instanceof X.Vector3?r:new X.Vector3,this.vertexNormals=Array.isArray(r)?r:[],this.color=i instanceof X.Color?i:new X.Color,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=void 0!==a?a:0},X.Face3.prototype={constructor:X.Face3,clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}},X.BufferAttribute=function(t,e,n){this.uuid=X.Math.generateUUID(),this.array=t,this.itemSize=e,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0,this.normalized=!0===n},X.BufferAttribute.prototype={constructor:X.BufferAttribute,get count(){return this.array.length/this.itemSize},set needsUpdate(t){!0===t&&this.version++},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var r=0,i=this.itemSize;r<i;r++)this.array[t+r]=e.array[n+r];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(a=new X.Color),e[n++]=a.r,e[n++]=a.g,e[n++]=a.b}return this},copyIndicesArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];e[n++]=a.a,e[n++]=a.b,e[n++]=a.c}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(a=new X.Vector2),e[n++]=a.x,e[n++]=a.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(a=new X.Vector3),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,r=0,i=t.length;r<i;r++){var a=t[r];void 0===a&&(a=new X.Vector4),e[n++]=a.x,e[n++]=a.y,e[n++]=a.z,e[n++]=a.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=r,this.array[t+3]=i,this},clone:function(){return(new this.constructor).copy(this)}},X.Int8Attribute=function(t,e){return new X.BufferAttribute(new Int8Array(t),e)},X.Uint8Attribute=function(t,e){return new X.BufferAttribute(new Uint8Array(t),e)},X.Uint8ClampedAttribute=function(t,e){return new X.BufferAttribute(new Uint8ClampedArray(t),e)},X.Int16Attribute=function(t,e){return new X.BufferAttribute(new Int16Array(t),e)},X.Uint16Attribute=function(t,e){return new X.BufferAttribute(new Uint16Array(t),e)},X.Int32Attribute=function(t,e){return new X.BufferAttribute(new Int32Array(t),e)},X.Uint32Attribute=function(t,e){return new X.BufferAttribute(new Uint32Array(t),e)},X.Float32Attribute=function(t,e){return new X.BufferAttribute(new Float32Array(t),e)},X.Float64Attribute=function(t,e){return new X.BufferAttribute(new Float64Array(t),e)},X.DynamicBufferAttribute=function(t,e){return new X.BufferAttribute(t,e).setDynamic(!0)},X.InstancedBufferAttribute=function(t,e,n){X.BufferAttribute.call(this,t,e),this.meshPerAttribute=n||1},X.InstancedBufferAttribute.prototype=Object.create(X.BufferAttribute.prototype),X.InstancedBufferAttribute.prototype.constructor=X.InstancedBufferAttribute,X.InstancedBufferAttribute.prototype.copy=function(t){return X.BufferAttribute.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},X.InterleavedBuffer=function(t,e){this.uuid=X.Math.generateUUID(),this.array=t,this.stride=e,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},X.InterleavedBuffer.prototype={constructor:X.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(t){!0===t&&this.version++},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var r=0,i=this.stride;r<i;r++)this.array[t+r]=e.array[n+r];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)}},X.InstancedInterleavedBuffer=function(t,e,n){X.InterleavedBuffer.call(this,t,e),this.meshPerAttribute=n||1},X.InstancedInterleavedBuffer.prototype=Object.create(X.InterleavedBuffer.prototype),X.InstancedInterleavedBuffer.prototype.constructor=X.InstancedInterleavedBuffer,X.InstancedInterleavedBuffer.prototype.copy=function(t){return X.InterleavedBuffer.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},X.InterleavedBufferAttribute=function(t,e,n){this.uuid=X.Math.generateUUID(),this.data=t,this.itemSize=e,this.offset=n},X.InterleavedBufferAttribute.prototype={constructor:X.InterleavedBufferAttribute,get length(){return this.array.length},get count(){return this.data.count},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this},setXYZW:function(t,e,n,r,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=r,this.data.array[t+3]=i,this}},X.Geometry=function(){Object.defineProperty(this,"id",{value:X.GeometryIdCount++}),this.uuid=X.Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1},Object.assign(X.Geometry.prototype,X.EventDispatcher.prototype,{applyMatrix:function(t){for(var e=(new X.Matrix3).getNormalMatrix(t),n=0,r=this.vertices.length;n<r;n++){this.vertices[n].applyMatrix4(t)}for(n=0,r=this.faces.length;n<r;n++){var i=this.faces[n];i.normal.applyMatrix3(e).normalize();for(var a=0,o=i.vertexNormals.length;a<o;a++)i.vertexNormals[a].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new X.Matrix4),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new X.Matrix4),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new X.Matrix4),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,r){return void 0===t&&(t=new X.Matrix4),t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,r){return void 0===t&&(t=new X.Matrix4),t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(t){void 0===O&&(O=new X.Object3D),O.lookAt(t),O.updateMatrix(),this.applyMatrix(O.matrix)},fromBufferGeometry:function(t){var e=this,n=null!==t.index?t.index.array:void 0,r=t.attributes,i=r.position.array,a=void 0!==r.normal?r.normal.array:void 0,o=void 0!==r.color?r.color.array:void 0,s=void 0!==r.uv?r.uv.array:void 0,u=void 0!==r.uv2?r.uv2.array:void 0;void 0!==u&&(this.faceVertexUvs[1]=[]);for(var c=[],l=[],h=[],d=0,p=0;d<i.length;d+=3,p+=2)e.vertices.push(new X.Vector3(i[d],i[d+1],i[d+2])),void 0!==a&&c.push(new X.Vector3(a[d],a[d+1],a[d+2])),void 0!==o&&e.colors.push(new X.Color(o[d],o[d+1],o[d+2])),void 0!==s&&l.push(new X.Vector2(s[p],s[p+1])),void 0!==u&&h.push(new X.Vector2(u[p],u[p+1]));function f(t,n,r,i){var d=void 0!==a?[c[t].clone(),c[n].clone(),c[r].clone()]:[],p=void 0!==o?[e.colors[t].clone(),e.colors[n].clone(),e.colors[r].clone()]:[],f=new X.Face3(t,n,r,d,p,i);e.faces.push(f),void 0!==s&&e.faceVertexUvs[0].push([l[t].clone(),l[n].clone(),l[r].clone()]),void 0!==u&&e.faceVertexUvs[1].push([h[t].clone(),h[n].clone(),h[r].clone()])}if(void 0!==n){var m=t.groups;if(m.length>0)for(d=0;d<m.length;d++)for(var g=m[d],y=g.start,v=(p=y,y+g.count);p<v;p+=3)f(n[p],n[p+1],n[p+2],g.materialIndex);else for(d=0;d<n.length;d+=3)f(n[d],n[d+1],n[d+2])}else for(d=0;d<i.length/3;d+=3)f(d,d+1,d+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var t=this.boundingBox.center().negate();return this.translate(t.x,t.y,t.z),t},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,r=new X.Matrix4;return r.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(r),this},computeFaceNormals:function(){for(var t=new X.Vector3,e=new X.Vector3,n=0,r=this.faces.length;n<r;n++){var i=this.faces[n],a=this.vertices[i.a],o=this.vertices[i.b],s=this.vertices[i.c];t.subVectors(s,o),e.subVectors(a,o),t.cross(e),t.normalize(),i.normal.copy(t)}},computeVertexNormals:function(t){var e,n,r,i,a,o;for(void 0===t&&(t=!0),o=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)o[e]=new X.Vector3;if(t){var s,u,c,l=new X.Vector3,h=new X.Vector3;for(r=0,i=this.faces.length;r<i;r++)a=this.faces[r],s=this.vertices[a.a],u=this.vertices[a.b],c=this.vertices[a.c],l.subVectors(c,u),h.subVectors(s,u),l.cross(h),o[a.a].add(l),o[a.b].add(l),o[a.c].add(l)}else for(r=0,i=this.faces.length;r<i;r++)o[(a=this.faces[r]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(e=0,n=this.vertices.length;e<n;e++)o[e].normalize();for(r=0,i=this.faces.length;r<i;r++){var d=(a=this.faces[r]).vertexNormals;3===d.length?(d[0].copy(o[a.a]),d[1].copy(o[a.b]),d[2].copy(o[a.c])):(d[0]=o[a.a].clone(),d[1]=o[a.b].clone(),d[2]=o[a.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,r,i;for(n=0,r=this.faces.length;n<r;n++)for((i=this.faces[n]).__originalFaceNormal?i.__originalFaceNormal.copy(i.normal):i.__originalFaceNormal=i.normal.clone(),i.__originalVertexNormals||(i.__originalVertexNormals=[]),t=0,e=i.vertexNormals.length;t<e;t++)i.__originalVertexNormals[t]?i.__originalVertexNormals[t].copy(i.vertexNormals[t]):i.__originalVertexNormals[t]=i.vertexNormals[t].clone();var a=new X.Geometry;for(a.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var o=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(n=0,r=this.faces.length;n<r;n++)u=new X.Vector3,c={a:new X.Vector3,b:new X.Vector3,c:new X.Vector3},o.push(u),s.push(c)}var u,c,l=this.morphNormals[t];for(a.vertices=this.morphTargets[t].vertices,a.computeFaceNormals(),a.computeVertexNormals(),n=0,r=this.faces.length;n<r;n++)i=this.faces[n],u=l.faceNormals[n],c=l.vertexNormals[n],u.copy(i.normal),c.a.copy(i.vertexNormals[0]),c.b.copy(i.vertexNormals[1]),c.c.copy(i.vertexNormals[2])}for(n=0,r=this.faces.length;n<r;n++)(i=this.faces[n]).normal=i.__originalFaceNormal,i.vertexNormals=i.__originalVertexNormals},computeTangents:function(){},computeLineDistances:function(){for(var t=0,e=this.vertices,n=0,r=e.length;n<r;n++)n>0&&(t+=e[n].distanceTo(e[n-1])),this.lineDistances[n]=t},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new X.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new X.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(t instanceof X.Geometry!=!1){var r,i=this.vertices.length,a=this.vertices,o=t.vertices,s=this.faces,u=t.faces,c=this.faceVertexUvs[0],l=t.faceVertexUvs[0];void 0===n&&(n=0),void 0!==e&&(r=(new X.Matrix3).getNormalMatrix(e));for(var h=0,d=o.length;h<d;h++){var p=o[h].clone();void 0!==e&&p.applyMatrix4(e),a.push(p)}for(h=0,d=u.length;h<d;h++){var f,m,g,y=u[h],v=y.vertexNormals,b=y.vertexColors;(f=new X.Face3(y.a+i,y.b+i,y.c+i)).normal.copy(y.normal),void 0!==r&&f.normal.applyMatrix3(r).normalize();for(var _=0,w=v.length;_<w;_++)m=v[_].clone(),void 0!==r&&m.applyMatrix3(r).normalize(),f.vertexNormals.push(m);f.color.copy(y.color);for(_=0,w=b.length;_<w;_++)g=b[_],f.vertexColors.push(g.clone());f.materialIndex=y.materialIndex+n,s.push(f)}for(h=0,d=l.length;h<d;h++){var x=l[h],S=[];if(void 0!==x){for(_=0,w=x.length;_<w;_++)S.push(x[_].clone());c.push(S)}}}},mergeMesh:function(t){t instanceof X.Mesh!=!1&&(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix))},mergeVertices:function(){var t,e,n,r,i,a,o,s,u={},c=[],l=[],h=Math.pow(10,4);for(n=0,r=this.vertices.length;n<r;n++)t=this.vertices[n],void 0===u[e=Math.round(t.x*h)+"_"+Math.round(t.y*h)+"_"+Math.round(t.z*h)]?(u[e]=n,c.push(this.vertices[n]),l[n]=c.length-1):l[n]=l[u[e]];var d=[];for(n=0,r=this.faces.length;n<r;n++){(i=this.faces[n]).a=l[i.a],i.b=l[i.b],i.c=l[i.c],a=[i.a,i.b,i.c];for(var p=0;p<3;p++)if(a[p]===a[(p+1)%3]){p,d.push(n);break}}for(n=d.length-1;n>=0;n--){var f=d[n];for(this.faces.splice(f,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(f,1)}var m=this.vertices.length-c.length;return this.vertices=c,m},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,n=0;n<e;n++)t[n]._id=n;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));var r,i,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===e&&(r=[]),o&&o.length===e&&(i=[]);for(n=0;n<e;n++){var s=t[n]._id;r&&r.push(a[s]),i&&i.push(o[s])}r&&(this.faceVertexUvs[0]=r),i&&(this.faceVertexUvs[1]=i)},toJSON:function(){var t={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}for(var r=[],i=0;i<this.vertices.length;i++){var a=this.vertices[i];r.push(a.x,a.y,a.z)}var o=[],s=[],u={},c=[],l={},h=[],d={};for(i=0;i<this.faces.length;i++){var p=this.faces[i],f=void 0!==this.faceVertexUvs[0][i],m=p.normal.length()>0,g=p.vertexNormals.length>0,y=1!==p.color.r||1!==p.color.g||1!==p.color.b,v=p.vertexColors.length>0,b=0;if(b=S(b,0,0),b=S(b,1,!0),b=S(b,2,!1),b=S(b,3,f),b=S(b,4,m),b=S(b,5,g),b=S(b,6,y),b=S(b,7,v),o.push(b),o.push(p.a,p.b,p.c),o.push(p.materialIndex),f){var _=this.faceVertexUvs[0][i];o.push(E(_[0]),E(_[1]),E(_[2]))}if(m&&o.push(T(p.normal)),g){var w=p.vertexNormals;o.push(T(w[0]),T(w[1]),T(w[2]))}if(y&&o.push(M(p.color)),v){var x=p.vertexColors;o.push(M(x[0]),M(x[1]),M(x[2]))}}function S(t,e,n){return n?t|1<<e:t&~(1<<e)}function T(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==u[e]||(u[e]=s.length/3,s.push(t.x,t.y,t.z)),u[e]}function M(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==l[e]||(l[e]=c.length,c.push(t.getHex())),l[e]}function E(t){var e=t.x.toString()+t.y.toString();return void 0!==d[e]||(d[e]=h.length/2,h.push(t.x,t.y)),d[e]}return t.data={},t.data.vertices=r,t.data.normals=s,c.length>0&&(t.data.colors=c),h.length>0&&(t.data.uvs=[h]),t.data.faces=o,t},clone:function(){return(new X.Geometry).copy(this)},copy:function(t){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]];for(var e=t.vertices,n=0,r=e.length;n<r;n++)this.vertices.push(e[n].clone());var i=t.faces;for(n=0,r=i.length;n<r;n++)this.faces.push(i[n].clone());for(n=0,r=t.faceVertexUvs.length;n<r;n++){var a=t.faceVertexUvs[n];void 0===this.faceVertexUvs[n]&&(this.faceVertexUvs[n]=[]);for(var o=0,s=a.length;o<s;o++){for(var u=a[o],c=[],l=0,h=u.length;l<h;l++){var d=u[l];c.push(d.clone())}this.faceVertexUvs[n].push(c)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),X.GeometryIdCount=0,X.DirectGeometry=function(){Object.defineProperty(this,"id",{value:X.GeometryIdCount++}),this.uuid=X.Math.generateUUID(),this.name="",this.type="DirectGeometry",this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1},Object.assign(X.DirectGeometry.prototype,X.EventDispatcher.prototype,{computeBoundingBox:X.Geometry.prototype.computeBoundingBox,computeBoundingSphere:X.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){},computeVertexNormals:function(){},computeGroups:function(t){for(var e,n,r=[],i=t.faces,a=0;a<i.length;a++){var o=i[a];o.materialIndex!==n&&(n=o.materialIndex,void 0!==e&&(e.count=3*a-e.start,r.push(e)),e={start:3*a,materialIndex:n})}void 0!==e&&(e.count=3*a-e.start,r.push(e)),this.groups=r},fromGeometry:function(t){var e,n=t.faces,r=t.vertices,i=t.faceVertexUvs,a=i[0]&&i[0].length>0,o=i[1]&&i[1].length>0,s=t.morphTargets,u=s.length;if(u>0){e=[];for(var c=0;c<u;c++)e[c]=[];this.morphTargets.position=e}var l,h=t.morphNormals,d=h.length;if(d>0){l=[];for(c=0;c<d;c++)l[c]=[];this.morphTargets.normal=l}var p=t.skinIndices,f=t.skinWeights,m=p.length===r.length,g=f.length===r.length;for(c=0;c<n.length;c++){var y=n[c];this.vertices.push(r[y.a],r[y.b],r[y.c]);var v=y.vertexNormals;if(3===v.length)this.normals.push(v[0],v[1],v[2]);else{var b=y.normal;this.normals.push(b,b,b)}var _,w=y.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var x=y.color;this.colors.push(x,x,x)}if(!0===a)void 0!==(_=i[0][c])?this.uvs.push(_[0],_[1],_[2]):this.uvs.push(new X.Vector2,new X.Vector2,new X.Vector2);if(!0===o)void 0!==(_=i[1][c])?this.uvs2.push(_[0],_[1],_[2]):this.uvs2.push(new X.Vector2,new X.Vector2,new X.Vector2);for(var S=0;S<u;S++){var T=s[S].vertices;e[S].push(T[y.a],T[y.b],T[y.c])}for(S=0;S<d;S++){var M=h[S].vertexNormals[c];l[S].push(M.a,M.b,M.c)}m&&this.skinIndices.push(p[y.a],p[y.b],p[y.c]),g&&this.skinWeights.push(f[y.a],f[y.b],f[y.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),X.BufferGeometry=function(){Object.defineProperty(this,"id",{value:X.GeometryIdCount++}),this.uuid=X.Math.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}},Object.assign(X.BufferGeometry.prototype,X.EventDispatcher.prototype,{getIndex:function(){return this.index},setIndex:function(t){this.index=t},addAttribute:function(t,e){if(e instanceof X.BufferAttribute!=!1||e instanceof X.InterleavedBufferAttribute!=!1){if("index"!==t)return this.attributes[t]=e,this;this.setIndex(e)}else this.addAttribute(t,new X.BufferAttribute(arguments[1],arguments[2]))},getAttribute:function(t){return this.attributes[t]},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToVector3Array(e.array),e.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new X.Matrix3).getNormalMatrix(t).applyToVector3Array(n.array),n.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var t;return function(e){return void 0===t&&(t=new X.Matrix4),t.makeRotationX(e),this.applyMatrix(t),this}}(),rotateY:function(){var t;return function(e){return void 0===t&&(t=new X.Matrix4),t.makeRotationY(e),this.applyMatrix(t),this}}(),rotateZ:function(){var t;return function(e){return void 0===t&&(t=new X.Matrix4),t.makeRotationZ(e),this.applyMatrix(t),this}}(),translate:function(){var t;return function(e,n,r){return void 0===t&&(t=new X.Matrix4),t.makeTranslation(e,n,r),this.applyMatrix(t),this}}(),scale:function(){var t;return function(e,n,r){return void 0===t&&(t=new X.Matrix4),t.makeScale(e,n,r),this.applyMatrix(t),this}}(),lookAt:function(){var t;return function(e){void 0===t&&(t=new X.Object3D),t.lookAt(e),t.updateMatrix(),this.applyMatrix(t.matrix)}}(),center:function(){this.computeBoundingBox();var t=this.boundingBox.center().negate();return this.translate(t.x,t.y,t.z),t},setFromObject:function(t){var e=t.geometry;if(t instanceof X.Points||t instanceof X.Line){var n=new X.Float32Attribute(3*e.vertices.length,3),r=new X.Float32Attribute(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",r.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var i=new X.Float32Attribute(e.lineDistances.length,1);this.addAttribute("lineDistance",i.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t instanceof X.Mesh&&e instanceof X.Geometry&&this.fromGeometry(e);return this},updateFromObject:function(t){var e,n=t.geometry;if(t instanceof X.Mesh){var r=n.__directGeometry;if(void 0===r)return this.fromGeometry(n);r.verticesNeedUpdate=n.verticesNeedUpdate,r.normalsNeedUpdate=n.normalsNeedUpdate,r.colorsNeedUpdate=n.colorsNeedUpdate,r.uvsNeedUpdate=n.uvsNeedUpdate,r.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=r}!0===n.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(n.vertices),e.needsUpdate=!0),n.verticesNeedUpdate=!1);!0===n.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(n.normals),e.needsUpdate=!0),n.normalsNeedUpdate=!1);!0===n.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(n.colors),e.needsUpdate=!0),n.colorsNeedUpdate=!1);n.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(n.uvs),e.needsUpdate=!0),n.uvsNeedUpdate=!1);n.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(n.lineDistances),e.needsUpdate=!0),n.lineDistancesNeedUpdate=!1);return n.groupsNeedUpdate&&(n.computeGroups(t.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new X.DirectGeometry).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new X.BufferAttribute(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new X.BufferAttribute(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var r=new Float32Array(3*t.colors.length);this.addAttribute("color",new X.BufferAttribute(r,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var i=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new X.BufferAttribute(i,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var a=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new X.BufferAttribute(a,2).copyVector2sArray(t.uvs2))}if(t.indices.length>0){var o=new(t.vertices.length>65535?Uint32Array:Uint16Array)(3*t.indices.length);this.setIndex(new X.BufferAttribute(o,1).copyIndicesArray(t.indices))}for(var s in this.groups=t.groups,t.morphTargets){for(var u=[],c=t.morphTargets[s],l=0,h=c.length;l<h;l++){var d=c[l],p=new X.Float32Attribute(3*d.length,3);u.push(p.copyVector3sArray(d))}this.morphAttributes[s]=u}if(t.skinIndices.length>0){var f=new X.Float32Attribute(4*t.skinIndices.length,4);this.addAttribute("skinIndex",f.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var m=new X.Float32Attribute(4*t.skinWeights.length,4);this.addAttribute("skinWeight",m.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new X.Box3);var t=this.attributes.position.array;void 0!==t?this.boundingBox.setFromArray(t):this.boundingBox.makeEmpty(),isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)},computeBoundingSphere:function(){var t=new X.Box3,e=new X.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=new X.Sphere);var n=this.attributes.position.array;if(n){var r=this.boundingSphere.center;t.setFromArray(n),t.center(r);for(var i=0,a=0,o=n.length;a<o;a+=3)e.fromArray(n,a),i=Math.max(i,r.distanceToSquared(e));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes,n=this.groups;if(e.position){var r=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new X.BufferAttribute(new Float32Array(r.length),3));else for(var i=e.normal.array,a=0,o=i.length;a<o;a++)i[a]=0;var s,u,c,l=e.normal.array,h=new X.Vector3,d=new X.Vector3,p=new X.Vector3,f=new X.Vector3,m=new X.Vector3;if(t){var g=t.array;0===n.length&&this.addGroup(0,g.length);for(var y=0,v=n.length;y<v;++y){var b=n[y],_=b.start;for(a=_,o=_+b.count;a<o;a+=3)s=3*g[a+0],u=3*g[a+1],c=3*g[a+2],h.fromArray(r,s),d.fromArray(r,u),p.fromArray(r,c),f.subVectors(p,d),m.subVectors(h,d),f.cross(m),l[s]+=f.x,l[s+1]+=f.y,l[s+2]+=f.z,l[u]+=f.x,l[u+1]+=f.y,l[u+2]+=f.z,l[c]+=f.x,l[c+1]+=f.y,l[c+2]+=f.z}}else for(a=0,o=r.length;a<o;a+=9)h.fromArray(r,a),d.fromArray(r,a+3),p.fromArray(r,a+6),f.subVectors(p,d),m.subVectors(h,d),f.cross(m),l[a]=f.x,l[a+1]=f.y,l[a+2]=f.z,l[a+3]=f.x,l[a+4]=f.y,l[a+5]=f.z,l[a+6]=f.x,l[a+7]=f.y,l[a+8]=f.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t instanceof X.BufferGeometry!=!1){void 0===e&&(e=0);var n=this.attributes;for(var r in n)if(void 0!==t.attributes[r])for(var i=n[r].array,a=t.attributes[r],o=a.array,s=0,u=a.itemSize*e;s<o.length;s++,u++)i[u]=o[s];return this}},normalizeNormals:function(){for(var t,e,n,r,i=this.attributes.normal.array,a=0,o=i.length;a<o;a+=3)t=i[a],e=i[a+1],n=i[a+2],r=1/Math.sqrt(t*t+e*e+n*n),i[a]*=r,i[a+1]*=r,i[a+2]*=r},toNonIndexed:function(){if(null===this.index)return this;var t=new X.BufferGeometry,e=this.index.array,n=this.attributes;for(var r in n){for(var i=n[r],a=i.array,o=i.itemSize,s=new a.constructor(e.length*o),u=0,c=0,l=0,h=e.length;l<h;l++){u=e[l]*o;for(var d=0;d<o;d++)s[c++]=a[u++]}t.addAttribute(r,new X.BufferAttribute(s,o))}return t},toJSON:function(){var t={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var r=this.index;if(null!==r){var i=Array.prototype.slice.call(r.array);t.data.index={type:r.array.constructor.name,array:i}}var a=this.attributes;for(var n in a){var o=a[n];i=Array.prototype.slice.call(o.array);t.data.attributes[n]={itemSize:o.itemSize,type:o.array.constructor.name,array:i,normalized:o.normalized}}var s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));var u=this.boundingSphere;return null!==u&&(t.data.boundingSphere={center:u.center.toArray(),radius:u.radius}),t},clone:function(){return(new X.BufferGeometry).copy(this)},copy:function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var n=t.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var a=t.groups,o=0,s=a.length;o<s;o++){var u=a[o];this.addGroup(u.start,u.count,u.materialIndex)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),X.BufferGeometry.MaxIndex=65535,X.InstancedBufferGeometry=function(){X.BufferGeometry.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0},X.InstancedBufferGeometry.prototype=Object.create(X.BufferGeometry.prototype),X.InstancedBufferGeometry.prototype.constructor=X.InstancedBufferGeometry,X.InstancedBufferGeometry.prototype.addGroup=function(t,e,n){this.groups.push({start:t,count:e,instances:n})},X.InstancedBufferGeometry.prototype.copy=function(t){var e=t.index;null!==e&&this.setIndex(e.clone());var n=t.attributes;for(var r in n){var i=n[r];this.addAttribute(r,i.clone())}for(var a=t.groups,o=0,s=a.length;o<s;o++){var u=a[o];this.addGroup(u.start,u.count,u.instances)}return this},X.Uniform=function(t){"string"==typeof t&&(t=arguments[1]),this.value=t,this.dynamic=!1},X.Uniform.prototype={constructor:X.Uniform,onUpdate:function(t){return this.dynamic=!0,this.onUpdateCallback=t,this}},X.AnimationAction=function(){throw new Error("THREE.AnimationAction: Use mixer.clipAction for construction.")},X.AnimationAction._new=function(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var r=e.tracks,i=r.length,a=new Array(i),o={endingStart:X.ZeroCurvatureEnding,endingEnd:X.ZeroCurvatureEnding},s=0;s!==i;++s){var u=r[s].createInterpolant(null);a[s]=u,u.settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(i),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=X.LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0},X.AnimationAction._new.prototype={constructor:X.AnimationAction._new,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){this._startTime;return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){this._mixer;if(t.fadeOut(e),this.fadeIn(e),n){var r=this._clip.duration,i=t._clip.duration,a=i/r,o=r/i;t.warp(1,a,e),this.warp(o,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var r=this._mixer,i=r.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=r._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,u=a.sampleValues;return s[0]=i,s[1]=i+n,u[0]=t/o,u[1]=e/o,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,r){var i=this._startTime;if(null!==i){var a=(t-i)*n;if(a<0||0===n)return;this._startTime=null,e=n*a}e*=this._updateTimeScale(t);var o=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var u=this._interpolants,c=this._propertyBindings,l=0,h=u.length;l!==h;++l)u[l].evaluate(o),c[l].accumulate(r,s)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var r=n.evaluate(t)[0];e*=r,t>n.parameterPositions[1]&&(this.stopFading(),0===r&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;if(null!==n)e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e)}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t;if(0===t)return e;var n=this._clip.duration,r=this.loop,i=this._loopCount;if(r===X.LoopOnce){-1===i&&(this.loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0))break t;e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{var a=r===X.LoopPingPong;if(-1===i&&(t>=0?(i=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),e>=n||e<0){var o=Math.floor(e/n);e-=n*o,i+=Math.abs(o);var s=this.repetitions-i;if(s<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(0===s){var u=t<0;this._setEndings(u,!u,a)}else this._setEndings(!1,!1,a);this._loopCount=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}if(a&&1==(1&i))return this.time=e,n-e}return this.time=e,e},_setEndings:function(t,e,n){var r=this._interpolantSettings;n?(r.endingStart=X.ZeroSlopeEnding,r.endingEnd=X.ZeroSlopeEnding):(r.endingStart=t?this.zeroSlopeAtStart?X.ZeroSlopeEnding:X.ZeroCurvatureEnding:X.WrapAroundEnding,r.endingEnd=e?this.zeroSlopeAtEnd?X.ZeroSlopeEnding:X.ZeroCurvatureEnding:X.WrapAroundEnding)},_scheduleFading:function(t,e,n){var r=this._mixer,i=r.time,a=this._weightInterpolant;null===a&&(a=r._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=i,s[0]=e,o[1]=i+t,s[1]=n,this}},X.AnimationClip=function(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=X.Math.generateUUID(),this.duration<0&&this.resetDuration(),this.trim(),this.optimize()},X.AnimationClip.prototype={constructor:X.AnimationClip,resetDuration:function(){for(var t=0,e=0,n=this.tracks.length;e!==n;++e){var r=this.tracks[e];t=Math.max(t,r.times[r.times.length-1])}this.duration=t},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}},Object.assign(X.AnimationClip,{parse:function(t){for(var e=[],n=t.tracks,r=1/(t.fps||1),i=0,a=n.length;i!==a;++i)e.push(X.KeyframeTrack.parse(n[i]).scale(r));return new X.AnimationClip(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,r={name:t.name,duration:t.duration,tracks:e},i=0,a=n.length;i!==a;++i)e.push(X.KeyframeTrack.toJSON(n[i]));return r},CreateFromMorphTargetSequence:function(t,e,n,r){for(var i=e.length,a=[],o=0;o<i;o++){var s=[],u=[];s.push((o+i-1)%i,o,(o+1)%i),u.push(0,1,0);var c=X.AnimationUtils.getKeyframeOrder(s);s=X.AnimationUtils.sortedArray(s,1,c),u=X.AnimationUtils.sortedArray(u,1,c),r||0!==s[0]||(s.push(i),u.push(u[0])),a.push(new X.NumberKeyframeTrack(".morphTargetInfluences["+e[o].name+"]",s,u).scale(1/n))}return new X.AnimationClip(t,-1,a)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var r=t;n=r.geometry&&r.geometry.animations||r.animations}for(var i=0;i<n.length;i++)if(n[i].name===e)return n[i];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var r={},i=/^([\w-]*?)([\d]+)$/,a=0,o=t.length;a<o;a++){var s=t[a],u=s.name.match(i);if(u&&u.length>1){var c=r[h=u[1]];c||(r[h]=c=[]),c.push(s)}}var l=[];for(var h in r)l.push(X.AnimationClip.CreateFromMorphTargetSequence(h,r[h],e,n));return l},parseAnimation:function(t,e,n){if(!t)return null;for(var r=function(t,e,n,r,i){if(0!==n.length){var a=[],o=[];X.AnimationUtils.flattenJSON(n,a,o,r),0!==a.length&&i.push(new t(e,a,o))}},i=[],a=t.name||"default",o=t.length||-1,s=t.fps||30,u=t.hierarchy||[],c=0;c<u.length;c++){var l=u[c].keys;if(l&&0!==l.length)if(l[0].morphTargets){for(var h={},d=0;d<l.length;d++)if(l[d].morphTargets)for(var p=0;p<l[d].morphTargets.length;p++)h[l[d].morphTargets[p]]=-1;for(var f in h){var m=[],g=[];for(p=0;p!==l[d].morphTargets.length;++p){var y=l[d];m.push(y.time),g.push(y.morphTarget===f?1:0)}i.push(new X.NumberKeyframeTrack(".morphTargetInfluence["+f+"]",m,g))}o=h.length*(s||1)}else{var v=".bones["+e[c].name+"]";r(X.VectorKeyframeTrack,v+".position",l,"pos",i),r(X.QuaternionKeyframeTrack,v+".quaternion",l,"rot",i),r(X.VectorKeyframeTrack,v+".scale",l,"scl",i)}}return 0===i.length?null:new X.AnimationClip(a,o,i)}}),X.AnimationMixer=function(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1},Object.assign(X.AnimationMixer.prototype,X.EventDispatcher.prototype,{clipAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?X.AnimationClip.findByName(n,t):t,a=null!==i?i.uuid:t,o=this._actionsByClip[a],s=null;if(void 0!==o){var u=o.actionByRoot[r];if(void 0!==u)return u;s=o.knownActions[0],null===i&&(i=s._clip)}if(null===i)return null;var c=new X.AnimationMixer._Action(this,i,e);return this._bindAction(c,s),this._addInactiveAction(c,a,r),c},existingAction:function(t,e){var n=e||this._root,r=n.uuid,i="string"==typeof t?X.AnimationClip.findByName(n,t):t,a=i?i.uuid:t,o=this._actionsByClip[a];return void 0!==o&&o.actionByRoot[r]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,r=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var i=0;i!==e;++i)t[i].reset();for(i=0;i!==r;++i)n[i].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,r=this.time+=t,i=Math.sign(t),a=this._accuIndex^=1,o=0;o!==n;++o){var s=e[o];s.enabled&&s._update(r,t,i,a)}var u=this._bindings,c=this._nActiveBindings;for(o=0;o!==c;++o)u[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,r=this._actionsByClip,i=r[n];if(void 0!==i){for(var a=i.knownActions,o=0,s=a.length;o!==s;++o){var u=a[o];this._deactivateAction(u);var c=u._cacheIndex,l=e[e.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,l._cacheIndex=c,e[c]=l,e.pop(),this._removeInactiveBindingsForAction(u)}delete r[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var r in n){var i=n[r].actionByRoot[e];void 0!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}var a=this._bindingsByRootAndName[e];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),X.AnimationMixer._Action=X.AnimationAction._new,Object.assign(X.AnimationMixer.prototype,{_bindAction:function(t,e){var n=t._localRoot||this._root,r=t._clip.tracks,i=r.length,a=t._propertyBindings,o=t._interpolants,s=n.uuid,u=this._bindingsByRootAndName,c=u[s];void 0===c&&(c={},u[s]=c);for(var l=0;l!==i;++l){var h=r[l],d=h.name,p=c[d];if(void 0!==p)a[l]=p;else{if(void 0!==(p=a[l])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,d));continue}var f=e&&e._propertyBindings[l].binding.parsedPath;++(p=new X.PropertyMixer(X.PropertyBinding.create(n,d,f),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(p,s,d),a[l]=p}o[l].resultBuffer=p.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,r=this._actionsByClip[n];this._bindAction(t,r&&r.knownActions[0]),this._addInactiveAction(t,n,e)}for(var i=t._propertyBindings,a=0,o=i.length;a!==o;++a){var s=i[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var r=this._actions,i=this._actionsByClip,a=i[e];if(void 0===a)a={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,i[e]=a;else{var o=a.knownActions;t._byClipCacheIndex=o.length,o.push(t)}t._cacheIndex=r.length,r.push(t),a.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],r=t._cacheIndex;n._cacheIndex=r,e[r]=n,e.pop(),t._cacheIndex=null;var i=t._clip.uuid,a=this._actionsByClip,o=a[i],s=o.knownActions,u=s[s.length-1],c=t._byClipCacheIndex;u._byClipCacheIndex=c,s[c]=u,s.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(e._localRoot||this._root).uuid],0===s.length&&delete a[i],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,r=e.length;n!==r;++n){var i=e[n];0==--i.referenceCount&&this._removeInactiveBinding(i)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,r=this._nActiveActions++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,r=--this._nActiveActions,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_addInactiveBinding:function(t,e,n){var r=this._bindingsByRootAndName,i=r[e],a=this._bindings;void 0===i&&(i={},r[e]=i),i[n]=t,t._cacheIndex=a.length,a.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,r=n.rootNode.uuid,i=n.path,a=this._bindingsByRootAndName,o=a[r],s=e[e.length-1],u=t._cacheIndex;s._cacheIndex=u,e[u]=s,e.pop(),delete o[i];t:{for(var c in o)break t;delete a[r]}},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=this._nActiveBindings++,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,r=--this._nActiveBindings,i=e[r];t._cacheIndex=r,e[r]=t,i._cacheIndex=n,e[n]=i},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&((n=new X.LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,r=--this._nActiveControlInterpolants,i=e[r];t.__cacheIndex=r,e[r]=t,i.__cacheIndex=n,e[n]=i},_controlInterpolantsResultBuffer:new Float32Array(1)}),X.AnimationObjectGroup=function(t){this.uuid=X.Math.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var e={};this._indicesByUUID=e;for(var n=0,r=arguments.length;n!==r;++n)e[arguments[n].uuid]=n;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}},X.AnimationObjectGroup.prototype={constructor:X.AnimationObjectGroup,add:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,a=this._paths,o=this._parsedPaths,s=this._bindings,u=s.length,c=0,l=arguments.length;c!==l;++c){var h=arguments[c],d=h.uuid,p=i[d];if(void 0===p){p=n++,i[d]=p,e.push(h);for(var f=0,m=u;f!==m;++f)s[f].push(new X.PropertyBinding(h,a[f],o[f]))}else if(p<r){e[p];var g=--r,y=e[g];i[y.uuid]=p,e[p]=y,i[d]=g,e[g]=h;for(f=0,m=u;f!==m;++f){var v=s[f],b=v[g],_=v[p];v[p]=b,void 0===_&&(_=new X.PropertyBinding(h,a[f],o[f])),v[g]=_}}else e[p]}this.nCachedObjects_=r},remove:function(t){for(var e=this._objects,n=(e.length,this.nCachedObjects_),r=this._indicesByUUID,i=this._bindings,a=i.length,o=0,s=arguments.length;o!==s;++o){var u=arguments[o],c=u.uuid,l=r[c];if(void 0!==l&&l>=n){var h=n++,d=e[h];r[d.uuid]=l,e[l]=d,r[c]=h,e[h]=u;for(var p=0,f=a;p!==f;++p){var m=i[p],g=m[h],y=m[l];m[l]=g,m[h]=y}}}this.nCachedObjects_=n},uncache:function(t){for(var e=this._objects,n=e.length,r=this.nCachedObjects_,i=this._indicesByUUID,a=this._bindings,o=a.length,s=0,u=arguments.length;s!==u;++s){var c=arguments[s],l=c.uuid,h=i[l];if(void 0!==h)if(delete i[l],h<r){var d=--r,p=e[d],f=e[b=--n];i[p.uuid]=h,e[h]=p,i[f.uuid]=d,e[d]=f,e.pop();for(var m=0,g=o;m!==g;++m){var y=(_=a[m])[d],v=_[b];_[h]=y,_[d]=v,_.pop()}}else{var b;i[(f=e[b=--n]).uuid]=h,e[h]=f,e.pop();for(m=0,g=o;m!==g;++m){var _;(_=a[m])[h]=_[b],_.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,r=n[t],i=this._bindings;if(void 0!==r)return i[r];var a=this._paths,o=this._parsedPaths,s=this._objects,u=s.length,c=this.nCachedObjects_,l=new Array(u);r=i.length,n[t]=r,a.push(t),o.push(e),i.push(l);for(var h=c,d=s.length;h!==d;++h){var p=s[h];l[h]=new X.PropertyBinding(p,t,e)}return l},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];e[t[o]]=n,a[n]=s,a.pop(),i[n]=i[o],i.pop(),r[n]=r[o],r.pop()}}},X.AnimationUtils={arraySlice:function(t,e,n){return X.AnimationUtils.isTypedArray(t)?new t.constructor(t.subarray(e,n)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,n=new Array(e),r=0;r!==e;++r)n[r]=r;return n.sort((function(e,n){return t[e]-t[n]})),n},sortedArray:function(t,e,n){for(var r=t.length,i=new t.constructor(r),a=0,o=0;o!==r;++a)for(var s=n[a]*e,u=0;u!==e;++u)i[o++]=t[s+u];return i},flattenJSON:function(t,e,n,r){for(var i=1,a=t[0];void 0!==a&&void 0===a[r];)a=t[i++];if(void 0!==a){var o=a[r];if(void 0!==o)if(Array.isArray(o))do{void 0!==(o=a[r])&&(e.push(a.time),n.push.apply(n,o)),a=t[i++]}while(void 0!==a);else if(void 0!==o.toArray)do{void 0!==(o=a[r])&&(e.push(a.time),o.toArray(n,n.length)),a=t[i++]}while(void 0!==a);else do{void 0!==(o=a[r])&&(e.push(a.time),n.push(o)),a=t[i++]}while(void 0!==a)}}},X.KeyframeTrack=function(t,e,n,r){if(void 0===t)throw new Error("track name is undefined");if(void 0===e||0===e.length)throw new Error("no keyframes in track named "+t);this.name=t,this.times=X.AnimationUtils.convertArray(e,this.TimeBufferType),this.values=X.AnimationUtils.convertArray(n,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation),this.validate(),this.optimize()},X.KeyframeTrack.prototype={constructor:X.KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:X.InterpolateLinear,InterpolantFactoryMethodDiscrete:function(t){return new X.DiscreteInterpolant(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new X.LinearInterpolant(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new X.CubicInterpolant(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case X.InterpolateDiscrete:e=this.InterpolantFactoryMethodDiscrete;break;case X.InterpolateLinear:e=this.InterpolantFactoryMethodLinear;break;case X.InterpolateSmooth:e=this.InterpolantFactoryMethodSmooth}if(void 0!==e)this.createInterpolant=e;else{var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return X.InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return X.InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return X.InterpolateSmooth}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,r=e.length;n!==r;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,r=n.length,i=0,a=r-1;i!==r&&n[i]<t;)++i;for(;-1!==a&&n[a]>e;)--a;if(++a,0!==i||a!==r){i>=a&&(i=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=X.AnimationUtils.arraySlice(n,i,a),this.values=X.AnimationUtils.arraySlice(this.values,i*o,a*o)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(t=!1);var n=this.times,r=this.values,i=n.length;0===i&&(t=!1);for(var a=null,o=0;o!==i;o++){var s=n[o];if("number"==typeof s&&isNaN(s)){t=!1;break}if(null!==a&&a>s){t=!1;break}a=s}if(void 0!==r&&X.AnimationUtils.isTypedArray(r)){o=0;for(var u=r.length;o!==u;++o){var c=r[o];if(isNaN(c)){t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),r=1,i=1,a=t.length-1;i<=a;++i){var o=!1,s=t[i];if(s!==t[i+1]&&(1!==i||s!==s[0]))for(var u=i*n,c=u-n,l=u+n,h=0;h!==n;++h){var d=e[u+h];if(d!==e[c+h]||d!==e[l+h]){o=!0;break}}if(o){if(i!==r){t[r]=t[i];var p=i*n,f=r*n;for(h=0;h!==n;++h)e[f+h]=e[p+h]}++r}}return r!==t.length&&(this.times=X.AnimationUtils.arraySlice(t,0,r),this.values=X.AnimationUtils.arraySlice(e,0,r*n)),this}},Object.assign(X.KeyframeTrack,{parse:function(t){if(void 0===t.type)throw new Error("track type undefined, can not parse");var e=X.KeyframeTrack._getTrackTypeForValueTypeName(t.type);if(void 0===t.times){var n=[],r=[];X.AnimationUtils.flattenJSON(t.keys,n,r,"value"),t.times=n,t.values=r}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)},toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:X.AnimationUtils.convertArray(t.times,Array),values:X.AnimationUtils.convertArray(t.values,Array)};var r=t.getInterpolation();r!==t.DefaultInterpolation&&(e.interpolation=r)}return e.type=t.ValueTypeName,e},_getTrackTypeForValueTypeName:function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return X.NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return X.VectorKeyframeTrack;case"color":return X.ColorKeyframeTrack;case"quaternion":return X.QuaternionKeyframeTrack;case"bool":case"boolean":return X.BooleanKeyframeTrack;case"string":return X.StringKeyframeTrack}throw new Error("Unsupported typeName: "+t)}}),X.PropertyBinding=function(t,e,n){this.path=e,this.parsedPath=n||X.PropertyBinding.parseTrackName(e),this.node=X.PropertyBinding.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t},X.PropertyBinding.prototype={constructor:X.PropertyBinding,getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,r=e.propertyName,i=e.propertyIndex;if(t||(t=X.PropertyBinding.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var a=e.objectIndex;switch(n){case"materials":if(!t.material)return;if(!t.material.materials)return;t=t.material.materials;break;case"bones":if(!t.skeleton)return;t=t.skeleton.bones;for(var o=0;o<t.length;o++)if(t[o].name===a){a=o;break}break;default:if(void 0===t[n])return;t=t[n]}if(void 0!==a){if(void 0===t[a])return;t=t[a]}}var s=t[r];if(s){var u=this.Versioning.None;void 0!==t.needsUpdate?(u=this.Versioning.NeedsUpdate,this.targetObject=t):void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=t);var c=this.BindingType.Direct;if(void 0!==i){if("morphTargetInfluences"===r){if(!t.geometry)return;if(!t.geometry.morphTargets)return;for(o=0;o<this.node.geometry.morphTargets.length;o++)if(t.geometry.morphTargets[o].name===i){i=o;break}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=i}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):void 0!==s.length?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=r;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][u]}else e.nodeName}},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(X.PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:X.PropertyBinding.prototype.getValue,_setValue_unbound:X.PropertyBinding.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)t[e++]=n[r]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.node[this.propertyName]=t[e]},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.node[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++]},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,r=0,i=n.length;r!==i;++r)n[r]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),X.PropertyBinding.Composite=function(t,e,n){var r=n||X.PropertyBinding.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,r)},X.PropertyBinding.Composite.prototype={constructor:X.PropertyBinding.Composite,getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,r=this._bindings[n];void 0!==r&&r.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}},X.PropertyBinding.create=function(t,e,n){return t instanceof X.AnimationObjectGroup?new X.PropertyBinding.Composite(t,e,n):new X.PropertyBinding(t,e,n)},X.PropertyBinding.parseTrackName=function(t){var e=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,n=e.exec(t);if(!n)throw new Error("cannot parse trackName at all: "+t);n.index===e.lastIndex&&e.lastIndex++;var r={nodeName:n[3],objectName:n[5],objectIndex:n[7],propertyName:n[9],propertyIndex:n[11]};if(null===r.propertyName||0===r.propertyName.length)throw new Error("can not parse propertyName from trackName: "+t);return r},X.PropertyBinding.findNode=function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=function(t){for(var n=0;n<t.bones.length;n++){var r=t.bones[n];if(r.name===e)return r}return null}(t.skeleton);if(n)return n}if(t.children){var r=function t(n){for(var r=0;r<n.length;r++){var i=n[r];if(i.name===e||i.uuid===e)return i;var a=t(i.children);if(a)return a}return null}(t.children);if(r)return r}return null},X.PropertyMixer=function(t,e,n){this.binding=t,this.valueSize=n;var r,i=Float64Array;switch(e){case"quaternion":r=this._slerp;break;case"string":case"bool":i=Array,r=this._select;break;default:r=this._lerp}this.buffer=new i(4*n),this._mixBufferRegion=r,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0},X.PropertyMixer.prototype={constructor:X.PropertyMixer,accumulate:function(t,e){var n=this.buffer,r=this.valueSize,i=t*r+r,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==r;++o)n[i+o]=n[o];a=e}else{var s=e/(a+=e);this._mixBufferRegion(n,i,0,s,r)}this.cumulativeWeight=a},apply:function(t){var e=this.valueSize,n=this.buffer,r=t*e+e,i=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,i<1){var o=3*e;this._mixBufferRegion(n,r,o,1-i,e)}for(var s=e,u=e+e;s!==u;++s)if(n[s]!==n[s+e]){a.setValue(n,r);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,r=3*n;t.getValue(e,r);for(var i=n,a=r;i!==a;++i)e[i]=e[r+i%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,r,i){if(r>=.5)for(var a=0;a!==i;++a)t[e+a]=t[n+a]},_slerp:function(t,e,n,r,i){X.Quaternion.slerpFlat(t,e,t,e,t,n,r)},_lerp:function(t,e,n,r,i){for(var a=1-r,o=0;o!==i;++o){var s=e+o;t[s]=t[s]*a+t[n+o]*r}}},X.BooleanKeyframeTrack=function(t,e,n){X.KeyframeTrack.call(this,t,e,n)},X.BooleanKeyframeTrack.prototype=Object.assign(Object.create(X.KeyframeTrack.prototype),{constructor:X.BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:X.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),X.ColorKeyframeTrack=function(t,e,n,r){X.KeyframeTrack.call(this,t,e,n,r)},X.ColorKeyframeTrack.prototype=Object.assign(Object.create(X.KeyframeTrack.prototype),{constructor:X.ColorKeyframeTrack,ValueTypeName:"color"}),X.NumberKeyframeTrack=function(t,e,n,r){X.KeyframeTrack.call(this,t,e,n,r)},X.NumberKeyframeTrack.prototype=Object.assign(Object.create(X.KeyframeTrack.prototype),{constructor:X.NumberKeyframeTrack,ValueTypeName:"number"}),X.QuaternionKeyframeTrack=function(t,e,n,r){X.KeyframeTrack.call(this,t,e,n,r)},X.QuaternionKeyframeTrack.prototype=Object.assign(Object.create(X.KeyframeTrack.prototype),{constructor:X.QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:X.InterpolateLinear,InterpolantFactoryMethodLinear:function(t){return new X.QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),X.StringKeyframeTrack=function(t,e,n,r){X.KeyframeTrack.call(this,t,e,n,r)},X.StringKeyframeTrack.prototype=Object.assign(Object.create(X.KeyframeTrack.prototype),{constructor:X.StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:X.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),X.VectorKeyframeTrack=function(t,e,n,r){X.KeyframeTrack.call(this,t,e,n,r)},X.VectorKeyframeTrack.prototype=Object.assign(Object.create(X.KeyframeTrack.prototype),{constructor:X.VectorKeyframeTrack,ValueTypeName:"vector"}),X.Audio=function(t){X.Object3D.call(this),this.type="Audio",this.context=t.context,this.source=this.context.createBufferSource(),this.source.onended=this.onEnded.bind(this),this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]},X.Audio.prototype=Object.assign(Object.create(X.Object3D.prototype),{constructor:X.Audio,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setBuffer:function(t){return this.source.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying&&!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.source.buffer,t.loop=this.source.loop,t.onended=this.source.onended,t.start(0,this.startTime),t.playbackRate.value=this.playbackRate,this.isPlaying=!0,this.source=t,this.connect()}},pause:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=this.context.currentTime,this},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.startTime=0,this},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&(this.source.playbackRate.value=this.playbackRate),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1!==this.hasPlaybackControl&&this.source.loop},setLoop:function(t){!1!==this.hasPlaybackControl&&(this.source.loop=t)},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.value=t,this}}),X.AudioAnalyser=function(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)},Object.assign(X.AudioAnalyser.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Object.defineProperty(X,"AudioContext",{get:function(){return void 0===L&&(L=new(window.AudioContext||window.webkitAudioContext)),L}}),X.PositionalAudio=function(t){X.Audio.call(this,t),this.panner=this.context.createPanner(),this.panner.connect(this.gain)},X.PositionalAudio.prototype=Object.assign(Object.create(X.Audio.prototype),{constructor:X.PositionalAudio,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){this.panner.refDistance=t},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){this.panner.rolloffFactor=t},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){this.panner.distanceModel=t},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){this.panner.maxDistance=t},updateMatrixWorld:function(){var t=new X.Vector3;return function(e){X.Object3D.prototype.updateMatrixWorld.call(this,e),t.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(t.x,t.y,t.z)}}()}),X.AudioListener=function(){X.Object3D.call(this),this.type="AudioListener",this.context=X.AudioContext,this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null},X.AudioListener.prototype=Object.assign(Object.create(X.Object3D.prototype),{constructor:X.AudioListener,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(t){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){this.gain.gain.value=t},updateMatrixWorld:function(){var t=new X.Vector3,e=new X.Quaternion,n=new X.Vector3,r=new X.Vector3;return function(i){X.Object3D.prototype.updateMatrixWorld.call(this,i);var a=this.context.listener,o=this.up;this.matrixWorld.decompose(t,e,n),r.set(0,0,-1).applyQuaternion(e),a.setPosition(t.x,t.y,t.z),a.setOrientation(r.x,r.y,r.z,o.x,o.y,o.z)}}()}),X.Camera=function(){X.Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new X.Matrix4,this.projectionMatrix=new X.Matrix4},X.Camera.prototype=Object.create(X.Object3D.prototype),X.Camera.prototype.constructor=X.Camera,X.Camera.prototype.getWorldDirection=function(){var t=new X.Quaternion;return function(e){var n=e||new X.Vector3;return this.getWorldQuaternion(t),n.set(0,0,-1).applyQuaternion(t)}}(),X.Camera.prototype.lookAt=function(){var t=new X.Matrix4;return function(e){t.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(t)}}(),X.Camera.prototype.clone=function(){return(new this.constructor).copy(this)},X.Camera.prototype.copy=function(t){return X.Object3D.prototype.copy.call(this,t),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this},X.CubeCamera=function(t,e,n){X.Object3D.call(this),this.type="CubeCamera";var r=new X.PerspectiveCamera(90,1,t,e);r.up.set(0,-1,0),r.lookAt(new X.Vector3(1,0,0)),this.add(r);var i=new X.PerspectiveCamera(90,1,t,e);i.up.set(0,-1,0),i.lookAt(new X.Vector3(-1,0,0)),this.add(i);var a=new X.PerspectiveCamera(90,1,t,e);a.up.set(0,0,1),a.lookAt(new X.Vector3(0,1,0)),this.add(a);var o=new X.PerspectiveCamera(90,1,t,e);o.up.set(0,0,-1),o.lookAt(new X.Vector3(0,-1,0)),this.add(o);var s=new X.PerspectiveCamera(90,1,t,e);s.up.set(0,-1,0),s.lookAt(new X.Vector3(0,0,1)),this.add(s);var u=new X.PerspectiveCamera(90,1,t,e);u.up.set(0,-1,0),u.lookAt(new X.Vector3(0,0,-1)),this.add(u);var c={format:X.RGBFormat,magFilter:X.LinearFilter,minFilter:X.LinearFilter};this.renderTarget=new X.WebGLRenderTargetCube(n,n,c),this.updateCubeMap=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=this.renderTarget,c=n.texture.generateMipmaps;n.texture.generateMipmaps=!1,n.activeCubeFace=0,t.render(e,r,n),n.activeCubeFace=1,t.render(e,i,n),n.activeCubeFace=2,t.render(e,a,n),n.activeCubeFace=3,t.render(e,o,n),n.activeCubeFace=4,t.render(e,s,n),n.texture.generateMipmaps=c,n.activeCubeFace=5,t.render(e,u,n),t.setRenderTarget(null)}},X.CubeCamera.prototype=Object.create(X.Object3D.prototype),X.CubeCamera.prototype.constructor=X.CubeCamera,X.OrthographicCamera=function(t,e,n,r,i,a){X.Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.left=t,this.right=e,this.top=n,this.bottom=r,this.near=void 0!==i?i:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()},X.OrthographicCamera.prototype=Object.assign(Object.create(X.Camera.prototype),{constructor:X.OrthographicCamera,copy:function(t){return X.Camera.prototype.copy.call(this,t),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,r=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(n-t,n+t,r+e,r-e,this.near,this.far)},toJSON:function(t){var e=X.Object3D.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,e}}),X.PerspectiveCamera=function(t,e,n,r){X.Camera.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==r?r:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()},X.PerspectiveCamera.prototype=Object.assign(Object.create(X.Camera.prototype),{constructor:X.PerspectiveCamera,copy:function(t){return X.Camera.prototype.copy.call(this,t),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*X.Math.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*X.Math.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*X.Math.RAD2DEG*Math.atan(Math.tan(.5*X.Math.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,r,i,a){this.aspect=t/e,this.view={fullWidth:t,fullHeight:e,offsetX:n,offsetY:r,width:i,height:a},this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null,this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*X.Math.DEG2RAD*this.fov)/this.zoom,n=2*e,r=this.aspect*n,i=-.5*r,a=this.view;if(null!==a){var o=a.fullWidth,s=a.fullHeight;i+=a.offsetX*r/o,e-=a.offsetY*n/s,r*=a.width/o,n*=a.height/s}var u=this.filmOffset;0!==u&&(i+=t*u/this.getFilmWidth()),this.projectionMatrix.makeFrustum(i,i+r,e-n,e,t,this.far)},toJSON:function(t){var e=X.Object3D.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),X.StereoCamera=function(){this.type="StereoCamera",this.aspect=1,this.cameraL=new X.PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new X.PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1},Object.assign(X.StereoCamera.prototype,{update:(N=new X.Matrix4,j=new X.Matrix4,function(t){if(R!==t.focus||P!==t.fov||D!==t.aspect*this.aspect||I!==t.near||B!==t.far){R=t.focus,P=t.fov,D=t.aspect*this.aspect,I=t.near,B=t.far;var e,n,r=t.projectionMatrix.clone(),i=.032*I/R,a=I*Math.tan(X.Math.DEG2RAD*P*.5);j.elements[12]=-.032,N.elements[12]=.032,e=-a*D+i,n=a*D+i,r.elements[0]=2*I/(n-e),r.elements[8]=(n+e)/(n-e),this.cameraL.projectionMatrix.copy(r),e=-a*D-i,n=a*D-i,r.elements[0]=2*I/(n-e),r.elements[8]=(n+e)/(n-e),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(j),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(N)})}),X.Light=function(t,e){X.Object3D.call(this),this.type="Light",this.color=new X.Color(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0},X.Light.prototype=Object.assign(Object.create(X.Object3D.prototype),{constructor:X.Light,copy:function(t){return X.Object3D.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=X.Object3D.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),e}}),X.LightShadow=function(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new X.Vector2(512,512),this.map=null,this.matrix=new X.Matrix4},Object.assign(X.LightShadow.prototype,{copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)}}),X.AmbientLight=function(t,e){X.Light.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0},X.AmbientLight.prototype=Object.assign(Object.create(X.Light.prototype),{constructor:X.AmbientLight}),X.DirectionalLight=function(t,e){X.Light.call(this,t,e),this.type="DirectionalLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new X.Object3D,this.shadow=new X.DirectionalLightShadow},X.DirectionalLight.prototype=Object.assign(Object.create(X.Light.prototype),{constructor:X.DirectionalLight,copy:function(t){return X.Light.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),X.DirectionalLightShadow=function(t){X.LightShadow.call(this,new X.OrthographicCamera(-5,5,5,-5,.5,500))},X.DirectionalLightShadow.prototype=Object.assign(Object.create(X.LightShadow.prototype),{constructor:X.DirectionalLightShadow}),X.HemisphereLight=function(t,e,n){X.Light.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.set(0,1,0),this.updateMatrix(),this.groundColor=new X.Color(e)},X.HemisphereLight.prototype=Object.assign(Object.create(X.Light.prototype),{constructor:X.HemisphereLight,copy:function(t){return X.Light.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),X.PointLight=function(t,e,n,r){X.Light.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==r?r:1,this.shadow=new X.LightShadow(new X.PerspectiveCamera(90,1,.5,500))},X.PointLight.prototype=Object.assign(Object.create(X.Light.prototype),{constructor:X.PointLight,copy:function(t){return X.Light.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),X.SpotLight=function(t,e,n,r,i,a){X.Light.call(this,t,e),this.type="SpotLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new X.Object3D,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==r?r:Math.PI/3,this.penumbra=void 0!==i?i:0,this.decay=void 0!==a?a:1,this.shadow=new X.SpotLightShadow},X.SpotLight.prototype=Object.assign(Object.create(X.Light.prototype),{constructor:X.SpotLight,copy:function(t){return X.Light.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),X.SpotLightShadow=function(){X.LightShadow.call(this,new X.PerspectiveCamera(50,1,.5,500))},X.SpotLightShadow.prototype=Object.assign(Object.create(X.LightShadow.prototype),{constructor:X.SpotLightShadow,update:function(t){var e=2*X.Math.RAD2DEG*t.angle,n=this.mapSize.width/this.mapSize.height,r=t.distance||500,i=this.camera;e===i.fov&&n===i.aspect&&r===i.far||(i.fov=e,i.aspect=n,i.far=r,i.updateProjectionMatrix())}}),X.AudioLoader=function(t){this.manager=void 0!==t?t:X.DefaultLoadingManager},X.AudioLoader.prototype={constructor:X.AudioLoader,load:function(t,e,n,r){var i=new X.XHRLoader(this.manager);i.setResponseType("arraybuffer"),i.load(t,(function(t){X.AudioContext.decodeAudioData(t,(function(t){e(t)}))}),n,r)}},X.Cache={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},X.Loader=function(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},X.Loader.prototype={constructor:X.Loader,crossOrigin:void 0,extractUrlBase:function(t){var e=t.split("/");return 1===e.length?"./":(e.pop(),e.join("/")+"/")},initMaterials:function(t,e,n){for(var r=[],i=0;i<t.length;++i)r[i]=this.createMaterial(t[i],e,n);return r},createMaterial:function(t,e,n){void 0===F&&(F=new X.Color),void 0===U&&(U=new X.TextureLoader),void 0===Y&&(Y=new X.MaterialLoader);var r={};function i(t,i,a,o,s){var u,c=e+t,l=X.Loader.Handlers.get(c);null!==l?u=l.load(c):(U.setCrossOrigin(n),u=U.load(c)),void 0!==i&&(u.repeat.fromArray(i),1!==i[0]&&(u.wrapS=X.RepeatWrapping),1!==i[1]&&(u.wrapT=X.RepeatWrapping)),void 0!==a&&u.offset.fromArray(a),void 0!==o&&("repeat"===o[0]&&(u.wrapS=X.RepeatWrapping),"mirror"===o[0]&&(u.wrapS=X.MirroredRepeatWrapping),"repeat"===o[1]&&(u.wrapT=X.RepeatWrapping),"mirror"===o[1]&&(u.wrapT=X.MirroredRepeatWrapping)),void 0!==s&&(u.anisotropy=s);var h=X.Math.generateUUID();return r[h]=u,h}var a={uuid:X.Math.generateUUID(),type:"MeshLambertMaterial"};for(var o in t){var s=t[o];switch(o){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":a.name=s;break;case"blending":a.blending=X[s];break;case"colorAmbient":case"mapAmbient":break;case"colorDiffuse":a.color=F.fromArray(s).getHex();break;case"colorSpecular":a.specular=F.fromArray(s).getHex();break;case"colorEmissive":a.emissive=F.fromArray(s).getHex();break;case"specularCoef":a.shininess=s;break;case"shading":"basic"===s.toLowerCase()&&(a.type="MeshBasicMaterial"),"phong"===s.toLowerCase()&&(a.type="MeshPhongMaterial");break;case"mapDiffuse":a.map=i(s,t.mapDiffuseRepeat,t.mapDiffuseOffset,t.mapDiffuseWrap,t.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapLight":a.lightMap=i(s,t.mapLightRepeat,t.mapLightOffset,t.mapLightWrap,t.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":a.aoMap=i(s,t.mapAORepeat,t.mapAOOffset,t.mapAOWrap,t.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":a.bumpMap=i(s,t.mapBumpRepeat,t.mapBumpOffset,t.mapBumpWrap,t.mapBumpAnisotropy);break;case"mapBumpScale":a.bumpScale=s;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":a.normalMap=i(s,t.mapNormalRepeat,t.mapNormalOffset,t.mapNormalWrap,t.mapNormalAnisotropy);break;case"mapNormalFactor":a.normalScale=[s,s];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":a.specularMap=i(s,t.mapSpecularRepeat,t.mapSpecularOffset,t.mapSpecularWrap,t.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapAlpha":a.alphaMap=i(s,t.mapAlphaRepeat,t.mapAlphaOffset,t.mapAlphaWrap,t.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":a.side=X.BackSide;break;case"doubleSided":a.side=X.DoubleSide;break;case"transparency":a.opacity=s;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":a[o]=s;break;case"vertexColors":!0===s&&(a.vertexColors=X.VertexColors),"face"===s&&(a.vertexColors=X.FaceColors)}}return"MeshBasicMaterial"===a.type&&delete a.emissive,"MeshPhongMaterial"!==a.type&&delete a.specular,a.opacity<1&&(a.transparent=!0),Y.setTextures(r),Y.parse(a)}},X.Loader.Handlers={handlers:[],add:function(t,e){this.handlers.push(t,e)},get:function(t){for(var e=this.handlers,n=0,r=e.length;n<r;n+=2){var i=e[n],a=e[n+1];if(i.test(t))return a}return null}},X.XHRLoader=function(t){this.manager=void 0!==t?t:X.DefaultLoadingManager},X.XHRLoader.prototype={constructor:X.XHRLoader,load:function(t,e,n,r){void 0!==this.path&&(t=this.path+t);var i=this,a=X.Cache.get(t);if(void 0!==a)return e&&setTimeout((function(){e(a)}),0),a;var o=new XMLHttpRequest;return o.overrideMimeType("text/plain"),o.open("GET",t,!0),o.addEventListener("load",(function(n){var a=n.target.response;X.Cache.add(t,a),200===this.status||0===this.status?(e&&e(a),i.manager.itemEnd(t)):(r&&r(n),i.manager.itemError(t))}),!1),void 0!==n&&o.addEventListener("progress",(function(t){n(t)}),!1),o.addEventListener("error",(function(e){r&&r(e),i.manager.itemError(t)}),!1),void 0!==this.responseType&&(o.responseType=this.responseType),void 0!==this.withCredentials&&(o.withCredentials=this.withCredentials),o.send(null),i.manager.itemStart(t),o},setPath:function(t){this.path=t},setResponseType:function(t){this.responseType=t},setWithCredentials:function(t){this.withCredentials=t}},X.FontLoader=function(t){this.manager=void 0!==t?t:X.DefaultLoadingManager},X.FontLoader.prototype={constructor:X.FontLoader,load:function(t,e,n,r){var i=this;new X.XHRLoader(this.manager).load(t,(function(t){var n;try{n=JSON.parse(t)}catch(e){n=JSON.parse(t.substring(65,t.length-2))}var r=i.parse(n);e&&e(r)}),n,r)},parse:function(t){return new X.Font(t)}},X.ImageLoader=function(t){this.manager=void 0!==t?t:X.DefaultLoadingManager},X.ImageLoader.prototype={constructor:X.ImageLoader,load:function(t,e,n,r){void 0!==this.path&&(t=this.path+t);var i=this,a=X.Cache.get(t);if(void 0!==a)return i.manager.itemStart(t),e?setTimeout((function(){e(a),i.manager.itemEnd(t)}),0):i.manager.itemEnd(t),a;var o=document.createElement("img");return o.addEventListener("load",(function(n){X.Cache.add(t,this),e&&e(this),i.manager.itemEnd(t)}),!1),void 0!==n&&o.addEventListener("progress",(function(t){n(t)}),!1),o.addEventListener("error",(function(e){r&&r(e),i.manager.itemError(t)}),!1),void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),i.manager.itemStart(t),o.src=t,o},setCrossOrigin:function(t){this.crossOrigin=t},setPath:function(t){this.path=t}},X.JSONLoader=function(t){"boolean"==typeof t&&(t=void 0),this.manager=void 0!==t?t:X.DefaultLoadingManager,this.withCredentials=!1},X.JSONLoader.prototype={constructor:X.JSONLoader,get statusDomElement(){return void 0===this._statusDomElement&&(this._statusDomElement=document.createElement("div")),this._statusDomElement},load:function(t,e,n,r){var i=this,a=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:X.Loader.prototype.extractUrlBase(t),o=new X.XHRLoader(this.manager);o.setWithCredentials(this.withCredentials),o.load(t,(function(t){var n=JSON.parse(t),r=n.metadata;if(void 0!==r){var o=r.type;if(void 0!==o){if("object"===o.toLowerCase())return;if("scene"===o.toLowerCase())return}}var s=i.parse(n,a);e(s.geometry,s.materials)}),n,r)},setTexturePath:function(t){this.texturePath=t},parse:function(t,e){var n=new X.Geometry,r=void 0!==t.scale?1/t.scale:1;if(function(e){function r(t,e){return t&1<<e}var i,a,o,s,u,c,l,h,d,p,f,m,g,y,v,b,_,w,x,S,T,M,E,A,k,C,O,L=t.faces,R=t.vertices,P=t.normals,D=t.colors,I=0;if(void 0!==t.uvs){for(i=0;i<t.uvs.length;i++)t.uvs[i].length&&I++;for(i=0;i<I;i++)n.faceVertexUvs[i]=[]}s=0,u=R.length;for(;s<u;)(w=new X.Vector3).x=R[s++]*e,w.y=R[s++]*e,w.z=R[s++]*e,n.vertices.push(w);s=0,u=L.length;for(;s<u;)if(p=L[s++],f=r(p,0),m=r(p,1),g=r(p,3),y=r(p,4),v=r(p,5),b=r(p,6),_=r(p,7),f){if((S=new X.Face3).a=L[s],S.b=L[s+1],S.c=L[s+3],(T=new X.Face3).a=L[s+1],T.b=L[s+2],T.c=L[s+3],s+=4,m&&(d=L[s++],S.materialIndex=d,T.materialIndex=d),o=n.faces.length,g)for(i=0;i<I;i++)for(A=t.uvs[i],n.faceVertexUvs[i][o]=[],n.faceVertexUvs[i][o+1]=[],a=0;a<4;a++)h=L[s++],C=A[2*h],O=A[2*h+1],k=new X.Vector2(C,O),2!==a&&n.faceVertexUvs[i][o].push(k),0!==a&&n.faceVertexUvs[i][o+1].push(k);if(y&&(l=3*L[s++],S.normal.set(P[l++],P[l++],P[l]),T.normal.copy(S.normal)),v)for(i=0;i<4;i++)l=3*L[s++],E=new X.Vector3(P[l++],P[l++],P[l]),2!==i&&S.vertexNormals.push(E),0!==i&&T.vertexNormals.push(E);if(b&&(c=L[s++],M=D[c],S.color.setHex(M),T.color.setHex(M)),_)for(i=0;i<4;i++)c=L[s++],M=D[c],2!==i&&S.vertexColors.push(new X.Color(M)),0!==i&&T.vertexColors.push(new X.Color(M));n.faces.push(S),n.faces.push(T)}else{if((x=new X.Face3).a=L[s++],x.b=L[s++],x.c=L[s++],m&&(d=L[s++],x.materialIndex=d),o=n.faces.length,g)for(i=0;i<I;i++)for(A=t.uvs[i],n.faceVertexUvs[i][o]=[],a=0;a<3;a++)h=L[s++],C=A[2*h],O=A[2*h+1],k=new X.Vector2(C,O),n.faceVertexUvs[i][o].push(k);if(y&&(l=3*L[s++],x.normal.set(P[l++],P[l++],P[l])),v)for(i=0;i<3;i++)l=3*L[s++],E=new X.Vector3(P[l++],P[l++],P[l]),x.vertexNormals.push(E);if(b&&(c=L[s++],x.color.setHex(D[c])),_)for(i=0;i<3;i++)c=L[s++],x.vertexColors.push(new X.Color(D[c]));n.faces.push(x)}}(r),function(){var e=void 0!==t.influencesPerVertex?t.influencesPerVertex:2;if(t.skinWeights)for(var r=0,i=t.skinWeights.length;r<i;r+=e){var a=t.skinWeights[r],o=e>1?t.skinWeights[r+1]:0,s=e>2?t.skinWeights[r+2]:0,u=e>3?t.skinWeights[r+3]:0;n.skinWeights.push(new X.Vector4(a,o,s,u))}if(t.skinIndices)for(r=0,i=t.skinIndices.length;r<i;r+=e){var c=t.skinIndices[r],l=e>1?t.skinIndices[r+1]:0,h=e>2?t.skinIndices[r+2]:0,d=e>3?t.skinIndices[r+3]:0;n.skinIndices.push(new X.Vector4(c,l,h,d))}n.bones=t.bones,n.bones&&n.bones.length>0&&(n.skinWeights.length!==n.skinIndices.length||(n.skinIndices.length,n.vertices.length))}(),function(e){if(void 0!==t.morphTargets)for(var r=0,i=t.morphTargets.length;r<i;r++){n.morphTargets[r]={},n.morphTargets[r].name=t.morphTargets[r].name,n.morphTargets[r].vertices=[];for(var a=n.morphTargets[r].vertices,o=t.morphTargets[r].vertices,s=0,u=o.length;s<u;s+=3){var c=new X.Vector3;c.x=o[s]*e,c.y=o[s+1]*e,c.z=o[s+2]*e,a.push(c)}}if(void 0!==t.morphColors&&t.morphColors.length>0){var l=n.faces,h=t.morphColors[0].colors;for(r=0,i=l.length;r<i;r++)l[r].color.fromArray(h,3*r)}}(r),function(){var e=[],r=[];void 0!==t.animation&&r.push(t.animation);void 0!==t.animations&&(t.animations.length?r=r.concat(t.animations):r.push(t.animations));for(var i=0;i<r.length;i++){var a=X.AnimationClip.parseAnimation(r[i],n.bones);a&&e.push(a)}if(n.morphTargets){var o=X.AnimationClip.CreateClipsFromMorphTargetSequences(n.morphTargets,10);e=e.concat(o)}e.length>0&&(n.animations=e)}(),n.computeFaceNormals(),n.computeBoundingSphere(),void 0===t.materials||0===t.materials.length)return{geometry:n};var i=X.Loader.prototype.initMaterials(t.materials,e,this.crossOrigin);return{geometry:n,materials:i}}},X.LoadingManager=function(t,e,n){var r=this,i=!1,a=0,o=0;this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){o++,!1===i&&void 0!==r.onStart&&r.onStart(t,a,o),i=!0},this.itemEnd=function(t){a++,void 0!==r.onProgress&&r.onProgress(t,a,o),a===o&&(i=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(t){void 0!==r.onError&&r.onError(t)}},X.DefaultLoadingManager=new X.LoadingManager,X.BufferGeometryLoader=function(t){this.manager=void 0!==t?t:X.DefaultLoadingManager},X.BufferGeometryLoader.prototype={constructor:X.BufferGeometryLoader,load:function(t,e,n,r){var i=this;new X.XHRLoader(i.manager).load(t,(function(t){e(i.parse(JSON.parse(t)))}),n,r)},parse:function(t){var e=new X.BufferGeometry,n=t.data.index,r={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==n){var i=new r[n.type](n.array);e.setIndex(new X.BufferAttribute(i,1))}var a=t.data.attributes;for(var o in a){var s=a[o];i=new r[s.type](s.array);e.addAttribute(o,new X.BufferAttribute(i,s.itemSize,s.normalized))}var u=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==u)for(var c=0,l=u.length;c!==l;++c){var h=u[c];e.addGroup(h.start,h.count,h.materialIndex)}var d=t.data.boundingSphere;if(void 0!==d){var p=new X.Vector3;void 0!==d.center&&p.fromArray(d.center),e.boundingSphere=new X.Sphere(p,d.radius)}return e}},X.MaterialLoader=function(t){this.manager=void 0!==t?t:X.DefaultLoadingManager,this.textures={}},X.MaterialLoader.prototype={constructor:X.MaterialLoader,load:function(t,e,n,r){var i=this;new X.XHRLoader(i.manager).load(t,(function(t){e(i.parse(JSON.parse(t)))}),n,r)},setTextures:function(t){this.textures=t},getTexture:function(t){var e=this.textures;return e[t],e[t]},parse:function(t){var e=new X[t.type];if(void 0!==t.uuid&&(e.uuid=t.uuid),void 0!==t.name&&(e.name=t.name),void 0!==t.color&&e.color.setHex(t.color),void 0!==t.roughness&&(e.roughness=t.roughness),void 0!==t.metalness&&(e.metalness=t.metalness),void 0!==t.emissive&&e.emissive.setHex(t.emissive),void 0!==t.specular&&e.specular.setHex(t.specular),void 0!==t.shininess&&(e.shininess=t.shininess),void 0!==t.uniforms&&(e.uniforms=t.uniforms),void 0!==t.vertexShader&&(e.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(e.fragmentShader=t.fragmentShader),void 0!==t.vertexColors&&(e.vertexColors=t.vertexColors),void 0!==t.shading&&(e.shading=t.shading),void 0!==t.blending&&(e.blending=t.blending),void 0!==t.side&&(e.side=t.side),void 0!==t.opacity&&(e.opacity=t.opacity),void 0!==t.transparent&&(e.transparent=t.transparent),void 0!==t.alphaTest&&(e.alphaTest=t.alphaTest),void 0!==t.depthTest&&(e.depthTest=t.depthTest),void 0!==t.depthWrite&&(e.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(e.colorWrite=t.colorWrite),void 0!==t.wireframe&&(e.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(e.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.size&&(e.size=t.size),void 0!==t.sizeAttenuation&&(e.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(e.map=this.getTexture(t.map)),void 0!==t.alphaMap&&(e.alphaMap=this.getTexture(t.alphaMap),e.transparent=!0),void 0!==t.bumpMap&&(e.bumpMap=this.getTexture(t.bumpMap)),void 0!==t.bumpScale&&(e.bumpScale=t.bumpScale),void 0!==t.normalMap&&(e.normalMap=this.getTexture(t.normalMap)),void 0!==t.normalScale){var n=t.normalScale;!1===Array.isArray(n)&&(n=[n,n]),e.normalScale=(new X.Vector2).fromArray(n)}if(void 0!==t.displacementMap&&(e.displacementMap=this.getTexture(t.displacementMap)),void 0!==t.displacementScale&&(e.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(e.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(e.roughnessMap=this.getTexture(t.roughnessMap)),void 0!==t.metalnessMap&&(e.metalnessMap=this.getTexture(t.metalnessMap)),void 0!==t.emissiveMap&&(e.emissiveMap=this.getTexture(t.emissiveMap)),void 0!==t.emissiveIntensity&&(e.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(e.specularMap=this.getTexture(t.specularMap)),void 0!==t.envMap&&(e.envMap=this.getTexture(t.envMap),e.combine=X.MultiplyOperation),t.reflectivity&&(e.reflectivity=t.reflectivity),void 0!==t.lightMap&&(e.lightMap=this.getTexture(t.lightMap)),void 0!==t.lightMapIntensity&&(e.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(e.aoMap=this.getTexture(t.aoMap)),void 0!==t.aoMapIntensity&&(e.aoMapIntensity=t.aoMapIntensity),void 0!==t.materials)for(var r=0,i=t.materials.length;r<i;r++)e.materials.push(this.parse(t.materials[r]));return e}},X.ObjectLoader=function(t){this.manager=void 0!==t?t:X.DefaultLoadingManager,this.texturePath=""},X.ObjectLoader.prototype={constructor:X.ObjectLoader,load:function(t,e,n,r){""===this.texturePath&&(this.texturePath=t.substring(0,t.lastIndexOf("/")+1));var i=this;new X.XHRLoader(i.manager).load(t,(function(t){i.parse(JSON.parse(t),e)}),n,r)},setTexturePath:function(t){this.texturePath=t},setCrossOrigin:function(t){this.crossOrigin=t},parse:function(t,e){var n=this.parseGeometries(t.geometries),r=this.parseImages(t.images,(function(){void 0!==e&&e(o)})),i=this.parseTextures(t.textures,r),a=this.parseMaterials(t.materials,i),o=this.parseObject(t.object,n,a);return t.animations&&(o.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(o),o},parseGeometries:function(t){var e={};if(void 0!==t)for(var n=new X.JSONLoader,r=new X.BufferGeometryLoader,i=0,a=t.length;i<a;i++){var o,s=t[i];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new X[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new X[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new X[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new X[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":o=new X[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new X[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"IcosahedronGeometry":case"OctahedronGeometry":case"TetrahedronGeometry":o=new X[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new X[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new X[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new X[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":case"LatheBufferGeometry":o=new X[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":o=r.parse(s);break;case"Geometry":o=n.parse(s.data,this.texturePath).geometry;break;default:continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),e[s.uuid]=o}return e},parseMaterials:function(t,e){var n={};if(void 0!==t){var r=new X.MaterialLoader;r.setTextures(e);for(var i=0,a=t.length;i<a;i++){var o=r.parse(t[i]);n[o.uuid]=o}}return n},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var r=X.AnimationClip.parse(t[n]);e.push(r)}return e},parseImages:function(t,e){var n=this,r={};function i(t){return n.manager.itemStart(t),o.load(t,(function(){n.manager.itemEnd(t)}))}if(void 0!==t&&t.length>0){var a=new X.LoadingManager(e),o=new X.ImageLoader(a);o.setCrossOrigin(this.crossOrigin);for(var s=0,u=t.length;s<u;s++){var c=t[s],l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c.url)?c.url:n.texturePath+c.url;r[c.uuid]=i(l)}}return r},parseTextures:function(t,e){function n(t){return"number"==typeof t?t:X[t]}var r={};if(void 0!==t)for(var i=0,a=t.length;i<a;i++){var o=t[i];o.image,e[o.image];var s=new X.Texture(e[o.image]);s.needsUpdate=!0,s.uuid=o.uuid,void 0!==o.name&&(s.name=o.name),void 0!==o.mapping&&(s.mapping=n(o.mapping)),void 0!==o.offset&&(s.offset=new X.Vector2(o.offset[0],o.offset[1])),void 0!==o.repeat&&(s.repeat=new X.Vector2(o.repeat[0],o.repeat[1])),void 0!==o.minFilter&&(s.minFilter=n(o.minFilter)),void 0!==o.magFilter&&(s.magFilter=n(o.magFilter)),void 0!==o.anisotropy&&(s.anisotropy=o.anisotropy),Array.isArray(o.wrap)&&(s.wrapS=n(o.wrap[0]),s.wrapT=n(o.wrap[1])),r[o.uuid]=s}return r},parseObject:function(){var t=new X.Matrix4;return function(e,n,r){var i;function a(t){return n[t],n[t]}function o(t){if(void 0!==t)return r[t],r[t]}switch(e.type){case"Scene":i=new X.Scene;break;case"PerspectiveCamera":i=new X.PerspectiveCamera(e.fov,e.aspect,e.near,e.far),void 0!==e.focus&&(i.focus=e.focus),void 0!==e.zoom&&(i.zoom=e.zoom),void 0!==e.filmGauge&&(i.filmGauge=e.filmGauge),void 0!==e.filmOffset&&(i.filmOffset=e.filmOffset),void 0!==e.view&&(i.view=Object.assign({},e.view));break;case"OrthographicCamera":i=new X.OrthographicCamera(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":i=new X.AmbientLight(e.color,e.intensity);break;case"DirectionalLight":i=new X.DirectionalLight(e.color,e.intensity);break;case"PointLight":i=new X.PointLight(e.color,e.intensity,e.distance,e.decay);break;case"SpotLight":i=new X.SpotLight(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":i=new X.HemisphereLight(e.color,e.groundColor,e.intensity);break;case"Mesh":var s=a(e.geometry),u=o(e.material);i=s.bones&&s.bones.length>0?new X.SkinnedMesh(s,u):new X.Mesh(s,u);break;case"LOD":i=new X.LOD;break;case"Line":i=new X.Line(a(e.geometry),o(e.material),e.mode);break;case"PointCloud":case"Points":i=new X.Points(a(e.geometry),o(e.material));break;case"Sprite":i=new X.Sprite(o(e.material));break;case"Group":i=new X.Group;break;default:i=new X.Object3D}if(i.uuid=e.uuid,void 0!==e.name&&(i.name=e.name),void 0!==e.matrix?(t.fromArray(e.matrix),t.decompose(i.position,i.quaternion,i.scale)):(void 0!==e.position&&i.position.fromArray(e.position),void 0!==e.rotation&&i.rotation.fromArray(e.rotation),void 0!==e.scale&&i.scale.fromArray(e.scale)),void 0!==e.castShadow&&(i.castShadow=e.castShadow),void 0!==e.receiveShadow&&(i.receiveShadow=e.receiveShadow),void 0!==e.visible&&(i.visible=e.visible),void 0!==e.userData&&(i.userData=e.userData),void 0!==e.children)for(var c in e.children)i.add(this.parseObject(e.children[c],n,r));if("LOD"===e.type)for(var l=e.levels,h=0;h<l.length;h++){var d=l[h];void 0!==(c=i.getObjectByProperty("uuid",d.object))&&i.addLevel(c,d.distance)}return i}}()},X.TextureLoader=function(t){this.manager=void 0!==t?t:X.DefaultLoadingManager},X.TextureLoader.prototype={constructor:X.TextureLoader,load:function(t,e,n,r){var i=new X.Texture,a=new X.ImageLoader(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(t,(function(t){i.image=t,i.needsUpdate=!0,void 0!==e&&e(i)}),n,r),i},setCrossOrigin:function(t){this.crossOrigin=t},setPath:function(t){this.path=t}},X.CubeTextureLoader=function(t){this.manager=void 0!==t?t:X.DefaultLoadingManager},X.CubeTextureLoader.prototype={constructor:X.CubeTextureLoader,load:function(t,e,n,r){var i=new X.CubeTexture,a=new X.ImageLoader(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function s(n){a.load(t[n],(function(t){i.images[n]=t,6===++o&&(i.needsUpdate=!0,e&&e(i))}),void 0,r)}for(var u=0;u<t.length;++u)s(u);return i},setCrossOrigin:function(t){this.crossOrigin=t},setPath:function(t){this.path=t}},X.DataTextureLoader=X.BinaryTextureLoader=function(t){this.manager=void 0!==t?t:X.DefaultLoadingManager,this._parser=null},X.BinaryTextureLoader.prototype={constructor:X.BinaryTextureLoader,load:function(t,e,n,r){var i=this,a=new X.DataTexture,o=new X.XHRLoader(this.manager);return o.setResponseType("arraybuffer"),o.load(t,(function(t){var n=i._parser(t);n&&(void 0!==n.image?a.image=n.image:void 0!==n.data&&(a.image.width=n.width,a.image.height=n.height,a.image.data=n.data),a.wrapS=void 0!==n.wrapS?n.wrapS:X.ClampToEdgeWrapping,a.wrapT=void 0!==n.wrapT?n.wrapT:X.ClampToEdgeWrapping,a.magFilter=void 0!==n.magFilter?n.magFilter:X.LinearFilter,a.minFilter=void 0!==n.minFilter?n.minFilter:X.LinearMipMapLinearFilter,a.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(a.format=n.format),void 0!==n.type&&(a.type=n.type),void 0!==n.mipmaps&&(a.mipmaps=n.mipmaps),1===n.mipmapCount&&(a.minFilter=X.LinearFilter),a.needsUpdate=!0,e&&e(a,n))}),n,r),a}},X.CompressedTextureLoader=function(t){this.manager=void 0!==t?t:X.DefaultLoadingManager,this._parser=null},X.CompressedTextureLoader.prototype={constructor:X.CompressedTextureLoader,load:function(t,e,n,r){var i=this,a=[],o=new X.CompressedTexture;o.image=a;var s=new X.XHRLoader(this.manager);function u(u){s.load(t[u],(function(t){var n=i._parser(t,!0);a[u]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(o.minFilter=X.LinearFilter),o.format=n.format,o.needsUpdate=!0,e&&e(o))}),n,r)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var c=0,l=0,h=t.length;l<h;++l)u(l);else s.load(t,(function(t){var n=i._parser(t,!0);if(n.isCubemap)for(var r=n.mipmaps.length/n.mipmapCount,s=0;s<r;s++){a[s]={mipmaps:[]};for(var u=0;u<n.mipmapCount;u++)a[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+u]),a[s].format=n.format,a[s].width=n.width,a[s].height=n.height}else o.image.width=n.width,o.image.height=n.height,o.mipmaps=n.mipmaps;1===n.mipmapCount&&(o.minFilter=X.LinearFilter),o.format=n.format,o.needsUpdate=!0,e&&e(o)}),n,r);return o},setPath:function(t){this.path=t}},X.Material=function(){Object.defineProperty(this,"id",{value:X.MaterialIdCount++}),this.uuid=X.Math.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=X.NormalBlending,this.side=X.FrontSide,this.shading=X.SmoothShading,this.vertexColors=X.NoColors,this.opacity=1,this.transparent=!1,this.blendSrc=X.SrcAlphaFactor,this.blendDst=X.OneMinusSrcAlphaFactor,this.blendEquation=X.AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=X.LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0},X.Material.prototype={constructor:X.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(t){!0===t&&this.update(),this._needsUpdate=t},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n){var r=this[e];void 0!==r&&(r instanceof X.Color?r.set(n):r instanceof X.Vector3&&n instanceof X.Vector3?r.copy(n):this[e]="overdraw"===e?Number(n):n)}}},toJSON:function(t){var e=void 0===t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};function r(t){var e=[];for(var n in t){var r=t[n];delete r.metadata,e.push(r)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color instanceof X.Color&&(n.color=this.color.getHex()),.5!==this.roughness&&(n.roughness=this.roughness),.5!==this.metalness&&(n.metalness=this.metalness),this.emissive instanceof X.Color&&(n.emissive=this.emissive.getHex()),this.specular instanceof X.Color&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),this.map instanceof X.Texture&&(n.map=this.map.toJSON(t).uuid),this.alphaMap instanceof X.Texture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap instanceof X.Texture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.bumpMap instanceof X.Texture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap instanceof X.Texture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalScale=this.normalScale.toArray()),this.displacementMap instanceof X.Texture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap instanceof X.Texture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap instanceof X.Texture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap instanceof X.Texture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap instanceof X.Texture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap instanceof X.Texture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),this.blending!==X.NormalBlending&&(n.blending=this.blending),this.shading!==X.SmoothShading&&(n.shading=this.shading),this.side!==X.FrontSide&&(n.side=this.side),this.vertexColors!==X.NoColors&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),e){var i=r(t.textures),a=r(t.images);i.length>0&&(n.textures=i),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.lights=t.lights,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.overdraw=t.overdraw,this.visible=t.visible,this.clipShadows=t.clipShadows;var e=t.clippingPlanes,n=null;if(null!==e){var r=e.length;n=new Array(r);for(var i=0;i!==r;++i)n[i]=e[i].clone()}return this.clippingPlanes=n,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},Object.assign(X.Material.prototype,X.EventDispatcher.prototype),X.MaterialIdCount=0,X.LineBasicMaterial=function(t){X.Material.call(this),this.type="LineBasicMaterial",this.color=new X.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(t)},X.LineBasicMaterial.prototype=Object.create(X.Material.prototype),X.LineBasicMaterial.prototype.constructor=X.LineBasicMaterial,X.LineBasicMaterial.prototype.copy=function(t){return X.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this},X.LineDashedMaterial=function(t){X.Material.call(this),this.type="LineDashedMaterial",this.color=new X.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.lights=!1,this.setValues(t)},X.LineDashedMaterial.prototype=Object.create(X.Material.prototype),X.LineDashedMaterial.prototype.constructor=X.LineDashedMaterial,X.LineDashedMaterial.prototype.copy=function(t){return X.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this},X.MeshBasicMaterial=function(t){X.Material.call(this),this.type="MeshBasicMaterial",this.color=new X.Color(16777215),this.map=null,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=X.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(t)},X.MeshBasicMaterial.prototype=Object.create(X.Material.prototype),X.MeshBasicMaterial.prototype.constructor=X.MeshBasicMaterial,X.MeshBasicMaterial.prototype.copy=function(t){return X.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},X.MeshDepthMaterial=function(t){X.Material.call(this),this.type="MeshDepthMaterial",this.depthPacking=X.BasicDepthPacking,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(t)},X.MeshDepthMaterial.prototype=Object.create(X.Material.prototype),X.MeshDepthMaterial.prototype.constructor=X.MeshDepthMaterial,X.MeshDepthMaterial.prototype.copy=function(t){return X.Material.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},X.MeshLambertMaterial=function(t){X.Material.call(this),this.type="MeshLambertMaterial",this.color=new X.Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=X.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)},X.MeshLambertMaterial.prototype=Object.create(X.Material.prototype),X.MeshLambertMaterial.prototype.constructor=X.MeshLambertMaterial,X.MeshLambertMaterial.prototype.copy=function(t){return X.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},X.MeshNormalMaterial=function(t){X.Material.call(this,t),this.type="MeshNormalMaterial",this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.morphTargets=!1,this.setValues(t)},X.MeshNormalMaterial.prototype=Object.create(X.Material.prototype),X.MeshNormalMaterial.prototype.constructor=X.MeshNormalMaterial,X.MeshNormalMaterial.prototype.copy=function(t){return X.Material.prototype.copy.call(this,t),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},X.MeshPhongMaterial=function(t){X.Material.call(this),this.type="MeshPhongMaterial",this.color=new X.Color(16777215),this.specular=new X.Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new X.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=X.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)},X.MeshPhongMaterial.prototype=Object.create(X.Material.prototype),X.MeshPhongMaterial.prototype.constructor=X.MeshPhongMaterial,X.MeshPhongMaterial.prototype.copy=function(t){return X.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},X.MeshStandardMaterial=function(t){X.Material.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new X.Color(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new X.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new X.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)},X.MeshStandardMaterial.prototype=Object.create(X.Material.prototype),X.MeshStandardMaterial.prototype.constructor=X.MeshStandardMaterial,X.MeshStandardMaterial.prototype.copy=function(t){return X.Material.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},X.MeshPhysicalMaterial=function(t){X.MeshStandardMaterial.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.setValues(t)},X.MeshPhysicalMaterial.prototype=Object.create(X.MeshStandardMaterial.prototype),X.MeshPhysicalMaterial.prototype.constructor=X.MeshPhysicalMaterial,X.MeshPhysicalMaterial.prototype.copy=function(t){return X.MeshStandardMaterial.prototype.copy.call(this,t),this.defines={PHYSICAL:""},this.reflectivity=t.reflectivity,this},X.MultiMaterial=function(t){this.uuid=X.Math.generateUUID(),this.type="MultiMaterial",this.materials=t instanceof Array?t:[],this.visible=!0},X.MultiMaterial.prototype={constructor:X.MultiMaterial,toJSON:function(t){for(var e={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},n=this.materials,r=0,i=n.length;r<i;r++){var a=n[r].toJSON(t);delete a.metadata,e.materials.push(a)}return e.visible=this.visible,e},clone:function(){for(var t=new this.constructor,e=0;e<this.materials.length;e++)t.materials.push(this.materials[e].clone());return t.visible=this.visible,t}},X.PointsMaterial=function(t){X.Material.call(this),this.type="PointsMaterial",this.color=new X.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(t)},X.PointsMaterial.prototype=Object.create(X.Material.prototype),X.PointsMaterial.prototype.constructor=X.PointsMaterial,X.PointsMaterial.prototype.copy=function(t){return X.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this},X.ShaderMaterial=function(t){X.Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==t&&(t.attributes,this.setValues(t))},X.ShaderMaterial.prototype=Object.create(X.Material.prototype),X.ShaderMaterial.prototype.constructor=X.ShaderMaterial,X.ShaderMaterial.prototype.copy=function(t){return X.Material.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=X.UniformsUtils.clone(t.uniforms),this.defines=t.defines,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},X.ShaderMaterial.prototype.toJSON=function(t){var e=X.Material.prototype.toJSON.call(this,t);return e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e},X.RawShaderMaterial=function(t){X.ShaderMaterial.call(this,t),this.type="RawShaderMaterial"},X.RawShaderMaterial.prototype=Object.create(X.ShaderMaterial.prototype),X.RawShaderMaterial.prototype.constructor=X.RawShaderMaterial,X.SpriteMaterial=function(t){X.Material.call(this),this.type="SpriteMaterial",this.color=new X.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(t)},X.SpriteMaterial.prototype=Object.create(X.Material.prototype),X.SpriteMaterial.prototype.constructor=X.SpriteMaterial,X.SpriteMaterial.prototype.copy=function(t){return X.Material.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this},X.ShadowMaterial=function(){X.ShaderMaterial.call(this,{uniforms:X.UniformsUtils.merge([X.UniformsLib.lights,{opacity:{value:1}}]),vertexShader:X.ShaderChunk.shadow_vert,fragmentShader:X.ShaderChunk.shadow_frag}),this.lights=!0,this.transparent=!0,Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(t){this.uniforms.opacity.value=t}}})},X.ShadowMaterial.prototype=Object.create(X.ShaderMaterial.prototype),X.ShadowMaterial.prototype.constructor=X.ShadowMaterial,X.Texture=function(t,e,n,r,i,a,o,s,u,c){Object.defineProperty(this,"id",{value:X.TextureIdCount++}),this.uuid=X.Math.generateUUID(),this.name="",this.sourceFile="",this.image=void 0!==t?t:X.Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:X.Texture.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:X.ClampToEdgeWrapping,this.wrapT=void 0!==r?r:X.ClampToEdgeWrapping,this.magFilter=void 0!==i?i:X.LinearFilter,this.minFilter=void 0!==a?a:X.LinearMipMapLinearFilter,this.anisotropy=void 0!==u?u:1,this.format=void 0!==o?o:X.RGBAFormat,this.type=void 0!==s?s:X.UnsignedByteType,this.offset=new X.Vector2(0,0),this.repeat=new X.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==c?c:X.LinearEncoding,this.version=0,this.onUpdate=null},X.Texture.DEFAULT_IMAGE=void 0,X.Texture.DEFAULT_MAPPING=X.UVMapping,X.Texture.prototype={constructor:X.Texture,set needsUpdate(t){!0===t&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){if(void 0!==t.textures[this.uuid])return t.textures[this.uuid];var e={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};if(void 0!==this.image){var n=this.image;void 0===n.uuid&&(n.uuid=X.Math.generateUUID()),void 0===t.images[n.uuid]&&(t.images[n.uuid]={uuid:n.uuid,url:function(t){var e;return void 0!==t.toDataURL?e=t:((e=document.createElement("canvas")).width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0,t.width,t.height)),e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}(n)}),e.image=n.uuid}return t.textures[this.uuid]=e,e},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(this.mapping===X.UVMapping){if(t.multiply(this.repeat),t.add(this.offset),t.x<0||t.x>1)switch(this.wrapS){case X.RepeatWrapping:t.x=t.x-Math.floor(t.x);break;case X.ClampToEdgeWrapping:t.x=t.x<0?0:1;break;case X.MirroredRepeatWrapping:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case X.RepeatWrapping:t.y=t.y-Math.floor(t.y);break;case X.ClampToEdgeWrapping:t.y=t.y<0?0:1;break;case X.MirroredRepeatWrapping:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}this.flipY&&(t.y=1-t.y)}}},Object.assign(X.Texture.prototype,X.EventDispatcher.prototype),X.TextureIdCount=0,X.DepthTexture=function(t,e,n,r,i,a,o,s,u){X.Texture.call(this,null,r,i,a,o,s,X.DepthFormat,n,u),this.image={width:t,height:e},this.type=void 0!==n?n:X.UnsignedShortType,this.magFilter=void 0!==o?o:X.NearestFilter,this.minFilter=void 0!==s?s:X.NearestFilter,this.flipY=!1,this.generateMipmaps=!1},X.DepthTexture.prototype=Object.create(X.Texture.prototype),X.DepthTexture.prototype.constructor=X.DepthTexture,X.CanvasTexture=function(t,e,n,r,i,a,o,s,u){X.Texture.call(this,t,e,n,r,i,a,o,s,u),this.needsUpdate=!0},X.CanvasTexture.prototype=Object.create(X.Texture.prototype),X.CanvasTexture.prototype.constructor=X.CanvasTexture,X.CubeTexture=function(t,e,n,r,i,a,o,s,u,c){t=void 0!==t?t:[],e=void 0!==e?e:X.CubeReflectionMapping,X.Texture.call(this,t,e,n,r,i,a,o,s,u,c),this.flipY=!1},X.CubeTexture.prototype=Object.create(X.Texture.prototype),X.CubeTexture.prototype.constructor=X.CubeTexture,Object.defineProperty(X.CubeTexture.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),X.CompressedTexture=function(t,e,n,r,i,a,o,s,u,c,l,h){X.Texture.call(this,null,a,o,s,u,c,r,i,l,h),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1},X.CompressedTexture.prototype=Object.create(X.Texture.prototype),X.CompressedTexture.prototype.constructor=X.CompressedTexture,X.DataTexture=function(t,e,n,r,i,a,o,s,u,c,l,h){X.Texture.call(this,null,a,o,s,u,c,r,i,l,h),this.image={data:t,width:e,height:n},this.magFilter=void 0!==u?u:X.NearestFilter,this.minFilter=void 0!==c?c:X.NearestFilter,this.flipY=!1,this.generateMipmaps=!1},X.DataTexture.prototype=Object.create(X.Texture.prototype),X.DataTexture.prototype.constructor=X.DataTexture,X.VideoTexture=function(t,e,n,r,i,a,o,s,u){X.Texture.call(this,t,e,n,r,i,a,o,s,u),this.generateMipmaps=!1;var c=this;!function e(){requestAnimationFrame(e),t.readyState>=t.HAVE_CURRENT_DATA&&(c.needsUpdate=!0)}()},X.VideoTexture.prototype=Object.create(X.Texture.prototype),X.VideoTexture.prototype.constructor=X.VideoTexture,X.Group=function(){X.Object3D.call(this),this.type="Group"},X.Group.prototype=Object.assign(Object.create(X.Object3D.prototype),{constructor:X.Group}),X.Points=function(t,e){X.Object3D.call(this),this.type="Points",this.geometry=void 0!==t?t:new X.BufferGeometry,this.material=void 0!==e?e:new X.PointsMaterial({color:16777215*Math.random()})},X.Points.prototype=Object.assign(Object.create(X.Object3D.prototype),{constructor:X.Points,raycast:function(){var t=new X.Matrix4,e=new X.Ray,n=new X.Sphere;return function(r,i){var a=this,o=this.geometry,s=this.matrixWorld,u=r.params.Points.threshold;if(null===o.boundingSphere&&o.computeBoundingSphere(),n.copy(o.boundingSphere),n.applyMatrix4(s),!1!==r.ray.intersectsSphere(n)){t.getInverse(s),e.copy(r.ray).applyMatrix4(t);var c=u/((this.scale.x+this.scale.y+this.scale.z)/3),l=c*c,h=new X.Vector3;if(o instanceof X.BufferGeometry){var d=o.index,p=o.attributes.position.array;if(null!==d)for(var f=d.array,m=0,g=f.length;m<g;m++){var y=f[m];h.fromArray(p,3*y),_(h,y)}else{m=0;for(var v=p.length/3;m<v;m++)h.fromArray(p,3*m),_(h,m)}}else{var b=o.vertices;for(m=0,v=b.length;m<v;m++)_(b[m],m)}}function _(t,n){var o=e.distanceSqToPoint(t);if(o<l){var u=e.closestPointToPoint(t);u.applyMatrix4(s);var c=r.ray.origin.distanceTo(u);if(c<r.near||c>r.far)return;i.push({distance:c,distanceToRay:Math.sqrt(o),point:u.clone(),index:n,face:null,object:a})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),X.Line=function(t,e,n){if(1===n)return new X.LineSegments(t,e);X.Object3D.call(this),this.type="Line",this.geometry=void 0!==t?t:new X.BufferGeometry,this.material=void 0!==e?e:new X.LineBasicMaterial({color:16777215*Math.random()})},X.Line.prototype=Object.assign(Object.create(X.Object3D.prototype),{constructor:X.Line,raycast:function(){var t=new X.Matrix4,e=new X.Ray,n=new X.Sphere;return function(r,i){var a=r.linePrecision,o=a*a,s=this.geometry,u=this.matrixWorld;if(null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere),n.applyMatrix4(u),!1!==r.ray.intersectsSphere(n)){t.getInverse(u),e.copy(r.ray).applyMatrix4(t);var c=new X.Vector3,l=new X.Vector3,h=new X.Vector3,d=new X.Vector3,p=this instanceof X.LineSegments?2:1;if(s instanceof X.BufferGeometry){var f=s.index,m=s.attributes.position.array;if(null!==f)for(var g=f.array,y=0,v=g.length-1;y<v;y+=p){var b=g[y],_=g[y+1];if(c.fromArray(m,3*b),l.fromArray(m,3*_),!(e.distanceSqToSegment(c,l,d,h)>o))d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||i.push({distance:S,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}else for(y=0,v=m.length/3-1;y<v;y+=p){if(c.fromArray(m,3*y),l.fromArray(m,3*y+3),!(e.distanceSqToSegment(c,l,d,h)>o))d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||i.push({distance:S,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}else if(s instanceof X.Geometry){var w=s.vertices,x=w.length;for(y=0;y<x-1;y+=p){var S;if(!(e.distanceSqToSegment(w[y],w[y+1],d,h)>o))d.applyMatrix4(this.matrixWorld),(S=r.ray.origin.distanceTo(d))<r.near||S>r.far||i.push({distance:S,point:h.clone().applyMatrix4(this.matrixWorld),index:y,face:null,faceIndex:null,object:this})}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),X.LineSegments=function(t,e){X.Line.call(this,t,e),this.type="LineSegments"},X.LineSegments.prototype=Object.assign(Object.create(X.Line.prototype),{constructor:X.LineSegments}),X.Mesh=function(t,e){X.Object3D.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new X.BufferGeometry,this.material=void 0!==e?e:new X.MeshBasicMaterial({color:16777215*Math.random()}),this.drawMode=X.TrianglesDrawMode,this.updateMorphTargets()},X.Mesh.prototype=Object.assign(Object.create(X.Object3D.prototype),{constructor:X.Mesh,setDrawMode:function(t){this.drawMode=t},updateMorphTargets:function(){if(void 0!==this.geometry.morphTargets&&this.geometry.morphTargets.length>0){this.morphTargetBase=-1,this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var t=0,e=this.geometry.morphTargets.length;t<e;t++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[t].name]=t}},getMorphTargetIndexByName:function(t){return void 0!==this.morphTargetDictionary[t]?this.morphTargetDictionary[t]:0},raycast:function(){var t=new X.Matrix4,e=new X.Ray,n=new X.Sphere,r=new X.Vector3,i=new X.Vector3,a=new X.Vector3,o=new X.Vector3,s=new X.Vector3,u=new X.Vector3,c=new X.Vector2,l=new X.Vector2,h=new X.Vector2,d=new X.Vector3,p=new X.Vector3,f=new X.Vector3;function m(t,e,n,r,i,a,o){return X.Triangle.barycoordFromPoint(t,e,n,r,d),i.multiplyScalar(d.x),a.multiplyScalar(d.y),o.multiplyScalar(d.z),i.add(a).add(o),i.clone()}function g(t,e,n,r,i,a,o){var s=t.material;if(null===(s.side===X.BackSide?n.intersectTriangle(a,i,r,!0,o):n.intersectTriangle(r,i,a,s.side!==X.DoubleSide,o)))return null;f.copy(o),f.applyMatrix4(t.matrixWorld);var u=e.ray.origin.distanceTo(f);return u<e.near||u>e.far?null:{distance:u,point:f.clone(),object:t}}function y(t,e,n,o,s,u,d,f){r.fromArray(o,3*u),i.fromArray(o,3*d),a.fromArray(o,3*f);var y=g(t,e,n,r,i,a,p);return y&&(s&&(c.fromArray(s,2*u),l.fromArray(s,2*d),h.fromArray(s,2*f),y.uv=m(p,r,i,a,c,l,h)),y.face=new X.Face3(u,d,f,X.Triangle.normal(r,i,a)),y.faceIndex=u),y}return function(d,f){var v,b,_=this.geometry,w=this.material,x=this.matrixWorld;if(void 0!==w&&(null===_.boundingSphere&&_.computeBoundingSphere(),n.copy(_.boundingSphere),n.applyMatrix4(x),!1!==d.ray.intersectsSphere(n)&&(t.getInverse(x),e.copy(d.ray).applyMatrix4(t),null===_.boundingBox||!1!==e.intersectsBox(_.boundingBox))))if(_ instanceof X.BufferGeometry){var S,T,M,E=_.index,A=_.attributes,k=A.position.array;if(void 0!==A.uv&&(v=A.uv.array),null!==E)for(var C=E.array,O=0,L=C.length;O<L;O+=3)S=C[O],T=C[O+1],M=C[O+2],(b=y(this,d,e,k,v,S,T,M))&&(b.faceIndex=Math.floor(O/3),f.push(b));else for(O=0,L=k.length;O<L;O+=9)(b=y(this,d,e,k,v,S=O/3,T=S+1,M=S+2))&&(b.index=S,f.push(b))}else if(_ instanceof X.Geometry){var R,P,D,I=w instanceof X.MultiMaterial,B=!0===I?w.materials:null,N=_.vertices,j=_.faces,F=_.faceVertexUvs[0];F.length>0&&(v=F);for(var U=0,Y=j.length;U<Y;U++){var G=j[U],H=!0===I?B[G.materialIndex]:w;if(void 0!==H){if(R=N[G.a],P=N[G.b],D=N[G.c],!0===H.morphTargets){var z=_.morphTargets,V=this.morphTargetInfluences;r.set(0,0,0),i.set(0,0,0),a.set(0,0,0);for(var W=0,K=z.length;W<K;W++){var q=V[W];if(0!==q){var Z=z[W].vertices;r.addScaledVector(o.subVectors(Z[G.a],R),q),i.addScaledVector(s.subVectors(Z[G.b],P),q),a.addScaledVector(u.subVectors(Z[G.c],D),q)}}r.add(R),i.add(P),a.add(D),R=r,P=i,D=a}if(b=g(this,d,e,R,P,D,p)){if(v){var J=v[U];c.copy(J[0]),l.copy(J[1]),h.copy(J[2]),b.uv=m(p,R,P,D,c,l,h)}b.face=G,b.faceIndex=U,f.push(b)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),X.Bone=function(t){X.Object3D.call(this),this.type="Bone",this.skin=t},X.Bone.prototype=Object.assign(Object.create(X.Object3D.prototype),{constructor:X.Bone,copy:function(t){return X.Object3D.prototype.copy.call(this,t),this.skin=t.skin,this}}),X.Skeleton=function(t,e,n){if(this.useVertexTexture=void 0===n||n,this.identityMatrix=new X.Matrix4,t=t||[],this.bones=t.slice(0),this.useVertexTexture){var r=Math.sqrt(4*this.bones.length);r=X.Math.nextPowerOfTwo(Math.ceil(r)),r=Math.max(r,4),this.boneTextureWidth=r,this.boneTextureHeight=r,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new X.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,X.RGBAFormat,X.FloatType)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{this.boneInverses=[];for(var i=0,a=this.bones.length;i<a;i++)this.boneInverses.push(new X.Matrix4)}},Object.assign(X.Skeleton.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new X.Matrix4;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){for(var t,e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:(G=new X.Matrix4,function(){for(var t=0,e=this.bones.length;t<e;t++){var n=this.bones[t]?this.bones[t].matrixWorld:this.identityMatrix;G.multiplyMatrices(n,this.boneInverses[t]),G.toArray(this.boneMatrices,16*t)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}),clone:function(){return new X.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)}}),X.SkinnedMesh=function(t,e,n){X.Mesh.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new X.Matrix4,this.bindMatrixInverse=new X.Matrix4;var r=[];if(this.geometry&&void 0!==this.geometry.bones){for(var i,a,o=0,s=this.geometry.bones.length;o<s;++o)a=this.geometry.bones[o],i=new X.Bone(this),r.push(i),i.name=a.name,i.position.fromArray(a.pos),i.quaternion.fromArray(a.rotq),void 0!==a.scl&&i.scale.fromArray(a.scl);for(o=0,s=this.geometry.bones.length;o<s;++o)-1!==(a=this.geometry.bones[o]).parent&&null!==a.parent&&void 0!==r[a.parent]?r[a.parent].add(r[o]):this.add(r[o])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new X.Skeleton(r,void 0,n),this.matrixWorld)},X.SkinnedMesh.prototype=Object.assign(Object.create(X.Mesh.prototype),{constructor:X.SkinnedMesh,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry instanceof X.Geometry)for(var t=0;t<this.geometry.skinWeights.length;t++){var e=this.geometry.skinWeights[t];(i=1/e.lengthManhattan())!==1/0?e.multiplyScalar(i):e.set(1,0,0,0)}else if(this.geometry instanceof X.BufferGeometry){var n=new X.Vector4,r=this.geometry.attributes.skinWeight;for(t=0;t<r.count;t++){var i;n.x=r.getX(t),n.y=r.getY(t),n.z=r.getZ(t),n.w=r.getW(t),(i=1/n.lengthManhattan())!==1/0?n.multiplyScalar(i):n.set(1,0,0,0),r.setXYZW(t,n.x,n.y,n.z,n.w)}}},updateMatrixWorld:function(t){X.Mesh.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode&&this.bindMatrixInverse.getInverse(this.bindMatrix)},clone:function(){return new this.constructor(this.geometry,this.material,this.useVertexTexture).copy(this)}}),X.LOD=function(){X.Object3D.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})},X.LOD.prototype=Object.assign(Object.create(X.Object3D.prototype),{constructor:X.LOD,copy:function(t){X.Object3D.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,r=e.length;n<r;n++){var i=e[n];this.addLevel(i.object.clone(),i.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,r=0;r<n.length&&!(e<n[r].distance);r++);n.splice(r,0,{distance:e,object:t}),this.add(t)},getObjectForDistance:function(t){for(var e=this.levels,n=1,r=e.length;n<r&&!(t<e[n].distance);n++);return e[n-1].object},raycast:(H=new X.Vector3,function(t,e){H.setFromMatrixPosition(this.matrixWorld);var n=t.ray.origin.distanceTo(H);this.getObjectForDistance(n).raycast(t,e)}),update:function(){var t=new X.Vector3,e=new X.Vector3;return function(n){var r=this.levels;if(r.length>1){t.setFromMatrixPosition(n.matrixWorld),e.setFromMatrixPosition(this.matrixWorld);var i=t.distanceTo(e);r[0].object.visible=!0;for(var a=1,o=r.length;a<o&&i>=r[a].distance;a++)r[a-1].object.visible=!1,r[a].object.visible=!0;for(;a<o;a++)r[a].object.visible=!1}}}(),toJSON:function(t){var e=X.Object3D.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,r=0,i=n.length;r<i;r++){var a=n[r];e.object.levels.push({object:a.object.uuid,distance:a.distance})}return e}}),X.Sprite=function(t){X.Object3D.call(this),this.type="Sprite",this.material=void 0!==t?t:new X.SpriteMaterial},X.Sprite.prototype=Object.assign(Object.create(X.Object3D.prototype),{constructor:X.Sprite,raycast:function(){var t=new X.Vector3;return function(e,n){t.setFromMatrixPosition(this.matrixWorld);var r=e.ray.distanceSqToPoint(t);r>this.scale.x*this.scale.y/4||n.push({distance:Math.sqrt(r),point:this.position,face:null,object:this})}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),X.LensFlare=function(t,e,n,r,i){X.Object3D.call(this),this.lensFlares=[],this.positionScreen=new X.Vector3,this.customUpdateCallback=void 0,void 0!==t&&this.add(t,e,n,r,i)},X.LensFlare.prototype=Object.assign(Object.create(X.Object3D.prototype),{constructor:X.LensFlare,copy:function(t){X.Object3D.prototype.copy.call(this,t),this.positionScreen.copy(t.positionScreen),this.customUpdateCallback=t.customUpdateCallback;for(var e=0,n=t.lensFlares.length;e<n;e++)this.lensFlares.push(t.lensFlares[e]);return this},add:function(t,e,n,r,i,a){void 0===e&&(e=-1),void 0===n&&(n=0),void 0===a&&(a=1),void 0===i&&(i=new X.Color(16777215)),void 0===r&&(r=X.NormalBlending),n=Math.min(n,Math.max(0,n)),this.lensFlares.push({texture:t,size:e,distance:n,x:0,y:0,z:0,scale:1,rotation:0,opacity:a,color:i,blending:r})},updateLensFlares:function(){var t,e,n=this.lensFlares.length,r=2*-this.positionScreen.x,i=2*-this.positionScreen.y;for(t=0;t<n;t++)(e=this.lensFlares[t]).x=this.positionScreen.x+r*e.distance,e.y=this.positionScreen.y+i*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}}),X.Scene=function(){X.Object3D.call(this),this.type="Scene",this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0},X.Scene.prototype=Object.create(X.Object3D.prototype),X.Scene.prototype.constructor=X.Scene,X.Scene.prototype.copy=function(t,e){return X.Object3D.prototype.copy.call(this,t,e),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},X.Fog=function(t,e,n){this.name="",this.color=new X.Color(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3},X.Fog.prototype.clone=function(){return new X.Fog(this.color.getHex(),this.near,this.far)},X.FogExp2=function(t,e){this.name="",this.color=new X.Color(t),this.density=void 0!==e?e:25e-5},X.FogExp2.prototype.clone=function(){return new X.FogExp2(this.color.getHex(),this.density)},X.ShaderChunk={},X.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",X.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",X.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",X.ShaderChunk.aomap_fragment="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",X.ShaderChunk.aomap_pars_fragment="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",X.ShaderChunk.begin_vertex="\nvec3 transformed = vec3( position );\n",X.ShaderChunk.beginnormal_vertex="\nvec3 objectNormal = vec3( normal );\n",X.ShaderChunk.bsdfs="bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",X.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",X.ShaderChunk.clipping_planes_fragment="#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n#endif\n",X.ShaderChunk.clipping_planes_pars_fragment="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",X.ShaderChunk.clipping_planes_pars_vertex="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",X.ShaderChunk.clipping_planes_vertex="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",X.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",X.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",X.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",X.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",X.ShaderChunk.common="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n",X.ShaderChunk.cube_uv_reflection_fragment="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",X.ShaderChunk.defaultnormal_vertex="#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",X.ShaderChunk.displacementmap_vertex="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",X.ShaderChunk.displacementmap_pars_vertex="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",X.ShaderChunk.emissivemap_fragment="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",X.ShaderChunk.emissivemap_pars_fragment="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",X.ShaderChunk.encodings_pars_fragment="\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n",X.ShaderChunk.encodings_fragment="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",X.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#else\n\t\tfloat flipNormal = 1.0;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",X.ShaderChunk.envmap_pars_fragment="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",X.ShaderChunk.envmap_pars_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",X.ShaderChunk.envmap_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",X.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",X.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",X.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",X.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",X.ShaderChunk.lights_lambert_vertex="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",X.ShaderChunk.lights_pars="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color = pointLight.color;\n\t\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal = 1.0;\n\t\t#endif\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal = 1.0;\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",X.ShaderChunk.lights_phong_fragment="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",X.ShaderChunk.lights_phong_pars_fragment="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",X.ShaderChunk.lights_physical_fragment="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.16 * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#endif\n",X.ShaderChunk.lights_physical_pars_fragment="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t#endif\n};\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectSpecular += radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",X.ShaderChunk.lights_template="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\tRE_IndirectSpecular( radiance, geometry, material, reflectedLight );\n#endif\n",X.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",X.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",X.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",X.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",X.ShaderChunk.map_fragment="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",X.ShaderChunk.map_pars_fragment="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",X.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",X.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",X.ShaderChunk.metalnessmap_fragment="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",X.ShaderChunk.metalnessmap_pars_fragment="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",X.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",X.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",X.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",X.ShaderChunk.normal_fragment="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",X.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",X.ShaderChunk.packing="vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthoDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat OrthoDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",X.ShaderChunk.premultiplied_alpha_fragment="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",X.ShaderChunk.project_vertex="#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",X.ShaderChunk.roughnessmap_fragment="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",X.ShaderChunk.roughnessmap_pars_fragment="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",X.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",X.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",X.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",X.ShaderChunk.shadowmask_pars_fragment="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",X.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",X.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",X.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",X.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",X.ShaderChunk.specularmap_fragment="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",X.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",X.ShaderChunk.tonemapping_fragment="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",X.ShaderChunk.tonemapping_pars_fragment="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",X.ShaderChunk.uv2_pars_fragment="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",X.ShaderChunk.uv2_pars_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",X.ShaderChunk.uv2_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",X.ShaderChunk.uv_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",X.ShaderChunk.uv_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",X.ShaderChunk.uv_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",X.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",X.UniformsUtils={merge:function(t){for(var e={},n=0;n<t.length;n++){var r=this.clone(t[n]);for(var i in r)e[i]=r[i]}return e},clone:function(t){var e={};for(var n in t)for(var r in e[n]={},t[n]){var i=t[n][r];i instanceof X.Color||i instanceof X.Vector2||i instanceof X.Vector3||i instanceof X.Vector4||i instanceof X.Matrix3||i instanceof X.Matrix4||i instanceof X.Texture?e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}return e}},X.UniformsLib={common:{diffuse:{type:"c",value:new X.Color(15658734)},opacity:{type:"1f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new X.Vector4(0,0,1,1)},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"1f",value:-1},reflectivity:{type:"1f",value:1},refractionRatio:{type:"1f",value:.98}},aomap:{aoMap:{type:"t",value:null},aoMapIntensity:{type:"1f",value:1}},lightmap:{lightMap:{type:"t",value:null},lightMapIntensity:{type:"1f",value:1}},emissivemap:{emissiveMap:{type:"t",value:null}},bumpmap:{bumpMap:{type:"t",value:null},bumpScale:{type:"1f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new X.Vector2(1,1)}},displacementmap:{displacementMap:{type:"t",value:null},displacementScale:{type:"1f",value:1},displacementBias:{type:"1f",value:0}},roughnessmap:{roughnessMap:{type:"t",value:null}},metalnessmap:{metalnessMap:{type:"t",value:null}},fog:{fogDensity:{type:"1f",value:25e-5},fogNear:{type:"1f",value:1},fogFar:{type:"1f",value:2e3},fogColor:{type:"c",value:new X.Color(16777215)}},lights:{ambientLightColor:{type:"3fv",value:[]},directionalLights:{type:"sa",value:[],properties:{direction:{type:"v3"},color:{type:"c"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},directionalShadowMap:{type:"tv",value:[]},directionalShadowMatrix:{type:"m4v",value:[]},spotLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},direction:{type:"v3"},distance:{type:"1f"},coneCos:{type:"1f"},penumbraCos:{type:"1f"},decay:{type:"1f"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},spotShadowMap:{type:"tv",value:[]},spotShadowMatrix:{type:"m4v",value:[]},pointLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},decay:{type:"1f"},distance:{type:"1f"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},pointShadowMap:{type:"tv",value:[]},pointShadowMatrix:{type:"m4v",value:[]},hemisphereLights:{type:"sa",value:[],properties:{direction:{type:"v3"},skyColor:{type:"c"},groundColor:{type:"c"}}}},points:{diffuse:{type:"c",value:new X.Color(15658734)},opacity:{type:"1f",value:1},size:{type:"1f",value:1},scale:{type:"1f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new X.Vector4(0,0,1,1)}}},X.ShaderChunk.cube_frag="uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\t#include <logdepthbuf_fragment>\n}\n",X.ShaderChunk.cube_vert="varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",X.ShaderChunk.depth_frag="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",X.ShaderChunk.depth_vert="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",X.ShaderChunk.distanceRGBA_frag="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n",X.ShaderChunk.distanceRGBA_vert="varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n",X.ShaderChunk.equirect_frag="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <logdepthbuf_fragment>\n}\n",X.ShaderChunk.equirect_vert="varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",X.ShaderChunk.linedashed_frag="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",X.ShaderChunk.linedashed_vert="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",X.ShaderChunk.meshbasic_frag="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse = vec3( 0.0 );\n\treflectedLight.directSpecular = vec3( 0.0 );\n\treflectedLight.indirectDiffuse = diffuseColor.rgb;\n\treflectedLight.indirectSpecular = vec3( 0.0 );\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",X.ShaderChunk.meshbasic_vert="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n}\n",X.ShaderChunk.meshlambert_frag="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",X.ShaderChunk.meshlambert_vert="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n}\n",X.ShaderChunk.meshphong_frag="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",X.ShaderChunk.meshphong_vert="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n}\n",X.ShaderChunk.meshphysical_frag="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",X.ShaderChunk.meshphysical_vert="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",X.ShaderChunk.normal_frag="uniform float opacity;\nvarying vec3 vNormal;\n#include <common>\n#include <packing>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\n\t#include <logdepthbuf_fragment>\n}\n",X.ShaderChunk.normal_vert="varying vec3 vNormal;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvNormal = normalize( normalMatrix * normal );\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",X.ShaderChunk.points_frag="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",X.ShaderChunk.points_vert="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",X.ShaderChunk.shadow_frag="uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n",X.ShaderChunk.shadow_vert="#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",X.ShaderLib={basic:{uniforms:X.UniformsUtils.merge([X.UniformsLib.common,X.UniformsLib.aomap,X.UniformsLib.fog]),vertexShader:X.ShaderChunk.meshbasic_vert,fragmentShader:X.ShaderChunk.meshbasic_frag},lambert:{uniforms:X.UniformsUtils.merge([X.UniformsLib.common,X.UniformsLib.aomap,X.UniformsLib.lightmap,X.UniformsLib.emissivemap,X.UniformsLib.fog,X.UniformsLib.lights,{emissive:{type:"c",value:new X.Color(0)}}]),vertexShader:X.ShaderChunk.meshlambert_vert,fragmentShader:X.ShaderChunk.meshlambert_frag},phong:{uniforms:X.UniformsUtils.merge([X.UniformsLib.common,X.UniformsLib.aomap,X.UniformsLib.lightmap,X.UniformsLib.emissivemap,X.UniformsLib.bumpmap,X.UniformsLib.normalmap,X.UniformsLib.displacementmap,X.UniformsLib.fog,X.UniformsLib.lights,{emissive:{type:"c",value:new X.Color(0)},specular:{type:"c",value:new X.Color(1118481)},shininess:{type:"1f",value:30}}]),vertexShader:X.ShaderChunk.meshphong_vert,fragmentShader:X.ShaderChunk.meshphong_frag},standard:{uniforms:X.UniformsUtils.merge([X.UniformsLib.common,X.UniformsLib.aomap,X.UniformsLib.lightmap,X.UniformsLib.emissivemap,X.UniformsLib.bumpmap,X.UniformsLib.normalmap,X.UniformsLib.displacementmap,X.UniformsLib.roughnessmap,X.UniformsLib.metalnessmap,X.UniformsLib.fog,X.UniformsLib.lights,{emissive:{type:"c",value:new X.Color(0)},roughness:{type:"1f",value:.5},metalness:{type:"1f",value:0},envMapIntensity:{type:"1f",value:1}}]),vertexShader:X.ShaderChunk.meshphysical_vert,fragmentShader:X.ShaderChunk.meshphysical_frag},points:{uniforms:X.UniformsUtils.merge([X.UniformsLib.points,X.UniformsLib.fog]),vertexShader:X.ShaderChunk.points_vert,fragmentShader:X.ShaderChunk.points_frag},dashed:{uniforms:X.UniformsUtils.merge([X.UniformsLib.common,X.UniformsLib.fog,{scale:{type:"1f",value:1},dashSize:{type:"1f",value:1},totalSize:{type:"1f",value:2}}]),vertexShader:X.ShaderChunk.linedashed_vert,fragmentShader:X.ShaderChunk.linedashed_frag},depth:{uniforms:X.UniformsUtils.merge([X.UniformsLib.common,X.UniformsLib.displacementmap]),vertexShader:X.ShaderChunk.depth_vert,fragmentShader:X.ShaderChunk.depth_frag},normal:{uniforms:{opacity:{type:"1f",value:1}},vertexShader:X.ShaderChunk.normal_vert,fragmentShader:X.ShaderChunk.normal_frag},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"1f",value:-1}},vertexShader:X.ShaderChunk.cube_vert,fragmentShader:X.ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"1f",value:-1}},vertexShader:X.ShaderChunk.equirect_vert,fragmentShader:X.ShaderChunk.equirect_frag},distanceRGBA:{uniforms:{lightPos:{type:"v3",value:new X.Vector3}},vertexShader:X.ShaderChunk.distanceRGBA_vert,fragmentShader:X.ShaderChunk.distanceRGBA_frag}},X.ShaderLib.physical={uniforms:X.UniformsUtils.merge([X.ShaderLib.standard.uniforms,{}]),vertexShader:X.ShaderChunk.meshphysical_vert,fragmentShader:X.ShaderChunk.meshphysical_frag},X.WebGLRenderer=function(t){var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElement("canvas"),n=void 0!==t.context?t.context:null,r=void 0!==t.alpha&&t.alpha,i=void 0===t.depth||t.depth,a=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,u=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,c=[],l=[],h=-1,d=[],p=-1,f=new Float32Array(8),m=[],g=[];this.domElement=e,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=X.LinearToneMapping,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0;var y,v=this,b=null,_=null,w=null,x=-1,S="",T=null,M=new X.Vector4,E=null,A=new X.Vector4,k=0,C=new X.Color(0),O=0,L=e.width,R=e.height,P=1,D=new X.Vector4(0,0,L,R),I=!1,B=new X.Vector4(0,0,L,R),N=new X.Frustum,j=new X.WebGLClipping,F=!1,U=!1,Y=new X.Sphere,G=new X.Matrix4,H=new X.Vector3,z={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},V={geometries:0,textures:0},W={calls:0,vertices:0,faces:0,points:0};this.info={render:W,memory:V,programs:null};try{var K={alpha:r,depth:i,stencil:a,antialias:o,premultipliedAlpha:s,preserveDrawingBuffer:u};if(null===(y=n||e.getContext("webgl",K)||e.getContext("experimental-webgl",K)))throw null!==e.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===y.getShaderPrecisionFormat&&(y.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),e.addEventListener("webglcontextlost",ft,!1)}catch(t){}var q="undefined"!=typeof WebGL2RenderingContext&&y instanceof WebGL2RenderingContext,Z=new X.WebGLExtensions(y);Z.get("WEBGL_depth_texture"),Z.get("OES_texture_float"),Z.get("OES_texture_float_linear"),Z.get("OES_texture_half_float"),Z.get("OES_texture_half_float_linear"),Z.get("OES_standard_derivatives"),Z.get("ANGLE_instanced_arrays"),Z.get("OES_element_index_uint")&&(X.BufferGeometry.MaxIndex=4294967296);var J=new X.WebGLCapabilities(y,Z,t),Q=new X.WebGLState(y,Z,Nt),$=new X.WebGLProperties,tt=new X.WebGLObjects(y,$,this.info),et=new X.WebGLPrograms(this,J),nt=new X.WebGLLights;this.info.programs=et.programs;var rt=new X.WebGLBufferRenderer(y,Z,W),it=new X.WebGLIndexedBufferRenderer(y,Z,W);function at(){return null===_?P:1}function ot(t,e,n,r){!0===s&&(t*=r,e*=r,n*=r),Q.clearColor(t,e,n,r)}function st(){Q.init(),Q.scissor(M.copy(D).multiplyScalar(P)),Q.viewport(A.copy(B).multiplyScalar(P)),ot(C.r,C.g,C.b,O)}function ut(){b=null,T=null,S="",x=-1,Q.reset()}st(),this.context=y,this.capabilities=J,this.extensions=Z,this.properties=$,this.state=Q;var ct=new X.WebGLShadowMap(this,z,tt);this.shadowMap=ct;var lt,ht,dt=new X.SpritePlugin(this,m),pt=new X.LensFlarePlugin(this,g);function ft(t){t.preventDefault(),ut(),st(),$.clear()}function mt(t){var e=t.target;e.removeEventListener("dispose",mt),function(t){var e=$.get(t);if(t.image&&e.__image__webglTextureCube)y.deleteTexture(e.__image__webglTextureCube);else{if(void 0===e.__webglInit)return;y.deleteTexture(e.__webglTexture)}$.delete(t)}(e),V.textures--}function gt(t){var e=t.target;e.removeEventListener("dispose",gt),function(t){var e=$.get(t),n=$.get(t.texture);if(!t)return;void 0!==n.__webglTexture&&y.deleteTexture(n.__webglTexture);t.depthTexture&&t.depthTexture.dispose();if(t instanceof X.WebGLRenderTargetCube)for(var r=0;r<6;r++)y.deleteFramebuffer(e.__webglFramebuffer[r]),e.__webglDepthbuffer&&y.deleteRenderbuffer(e.__webglDepthbuffer[r]);else y.deleteFramebuffer(e.__webglFramebuffer),e.__webglDepthbuffer&&y.deleteRenderbuffer(e.__webglDepthbuffer);$.delete(t.texture),$.delete(t)}(e),V.textures--}function yt(t){var e=t.target;e.removeEventListener("dispose",yt),function(t){vt(t),$.delete(t)}(e)}function vt(t){var e=$.get(t).program;t.program=void 0,void 0!==e&&et.releaseProgram(e)}function bt(t,e){return Math.abs(e[0])-Math.abs(t[0])}function _t(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function wt(t,e){return t.object.renderOrder!==e.object.renderOrder?t.object.renderOrder-e.object.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function xt(t,e,n,r,i){var a,o;n.transparent?(a=d,o=++p):(a=l,o=++h);var s=a[o];void 0!==s?(s.id=t.id,s.object=t,s.geometry=e,s.material=n,s.z=H.z,s.group=i):(s={id:t.id,object:t,geometry:e,material:n,z:H.z,group:i},a.push(s))}function St(t){if(!N.intersectsSphere(t))return!1;var e=j.numPlanes;if(0===e)return!0;var n=v.clippingPlanes,r=t.center,i=-t.radius,a=0;do{if(n[a].distanceToPoint(r)<i)return!1}while(++a!==e);return!0}function Tt(t,e,n,r){for(var i=0,a=t.length;i<a;i++){var o=t[i],s=o.object,u=o.geometry,c=void 0===r?o.material:r,l=o.group;if(s.modelViewMatrix.multiplyMatrices(e.matrixWorldInverse,s.matrixWorld),s.normalMatrix.getNormalMatrix(s.modelViewMatrix),s instanceof X.ImmediateRenderObject){Mt(c);var h=Et(e,n,c,s);S="",s.render((function(t){v.renderBufferImmediate(t,h,c)}))}else v.renderBufferDirect(e,n,u,c,s,l)}}function Mt(t){t.side!==X.DoubleSide?Q.enable(y.CULL_FACE):Q.disable(y.CULL_FACE),Q.setFlipSided(t.side===X.BackSide),!0===t.transparent?Q.setBlending(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha):Q.setBlending(X.NoBlending),Q.setDepthFunc(t.depthFunc),Q.setDepthTest(t.depthTest),Q.setDepthWrite(t.depthWrite),Q.setColorWrite(t.colorWrite),Q.setPolygonOffset(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)}function Et(t,n,r,i){k=0;var a=$.get(r);if(F){if(U||t!==T){var o=t===T&&r.id===x;j.setState(r.clippingPlanes,r.clipShadows,t,a,o)}void 0!==a.numClippingPlanes&&a.numClippingPlanes!==j.numPlanes&&(r.needsUpdate=!0)}void 0===a.program&&(r.needsUpdate=!0),void 0!==a.lightsHash&&a.lightsHash!==z.hash&&(r.needsUpdate=!0),r.needsUpdate&&(!function(t,e,n){var r=$.get(t),i=et.getParameters(t,z,e,j.numPlanes,n),a=et.getProgramCode(t,i),o=r.program,s=!0;if(void 0===o)t.addEventListener("dispose",yt);else if(o.code!==a)vt(t);else{if(void 0!==i.shaderID)return;s=!1}if(s){if(i.shaderID){var u=X.ShaderLib[i.shaderID];r.__webglShader={name:t.type,uniforms:X.UniformsUtils.clone(u.uniforms),vertexShader:u.vertexShader,fragmentShader:u.fragmentShader}}else r.__webglShader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.__webglShader=r.__webglShader,o=et.acquireProgram(t,i,a),r.program=o,t.program=o}var c=o.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var l=0;l<v.maxMorphTargets;l++)c["morphTarget"+l]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals){t.numSupportedMorphNormals=0;for(l=0;l<v.maxMorphNormals;l++)c["morphNormal"+l]>=0&&t.numSupportedMorphNormals++}var h=r.__webglShader.uniforms;(t instanceof X.ShaderMaterial||t instanceof X.RawShaderMaterial)&&!0!==t.clipping||(r.numClippingPlanes=j.numPlanes,h.clippingPlanes=j.uniform),t.lights&&(r.lightsHash=z.hash,h.ambientLightColor.value=z.ambient,h.directionalLights.value=z.directional,h.spotLights.value=z.spot,h.pointLights.value=z.point,h.hemisphereLights.value=z.hemi,h.directionalShadowMap.value=z.directionalShadowMap,h.directionalShadowMatrix.value=z.directionalShadowMatrix,h.spotShadowMap.value=z.spotShadowMap,h.spotShadowMatrix.value=z.spotShadowMatrix,h.pointShadowMap.value=z.pointShadowMap,h.pointShadowMatrix.value=z.pointShadowMatrix);var d=r.program.getUniforms(),p=X.WebGLUniforms.seqWithValue(d.seq,h);r.uniformsList=p,r.dynamicUniforms=X.WebGLUniforms.splitDynamic(p,h)}(r,n,i),r.needsUpdate=!1);var s=!1,u=!1,c=!1,l=a.program,h=l.getUniforms(),d=a.__webglShader.uniforms;if(l.id!==b&&(y.useProgram(l.program),b=l.id,s=!0,u=!0,c=!0),r.id!==x&&(x=r.id,u=!0),s||t!==T){if(h.set(y,t,"projectionMatrix"),J.logarithmicDepthBuffer&&h.setValue(y,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),t!==T&&(T=t,u=!0,c=!0),r instanceof X.ShaderMaterial||r instanceof X.MeshPhongMaterial||r instanceof X.MeshStandardMaterial||r.envMap){var p=h.map.cameraPosition;void 0!==p&&p.setValue(y,H.setFromMatrixPosition(t.matrixWorld))}(r instanceof X.MeshPhongMaterial||r instanceof X.MeshLambertMaterial||r instanceof X.MeshBasicMaterial||r instanceof X.MeshStandardMaterial||r instanceof X.ShaderMaterial||r.skinning)&&h.setValue(y,"viewMatrix",t.matrixWorldInverse),h.set(y,v,"toneMappingExposure"),h.set(y,v,"toneMappingWhitePoint")}if(r.skinning){h.setOptional(y,i,"bindMatrix"),h.setOptional(y,i,"bindMatrixInverse");var f=i.skeleton;f&&(J.floatVertexTextures&&f.useVertexTexture?(h.set(y,f,"boneTexture"),h.set(y,f,"boneTextureWidth"),h.set(y,f,"boneTextureHeight")):h.setOptional(y,f,"boneMatrices"))}u&&(r.lights&&function(t,e){t.ambientLightColor.needsUpdate=e,t.directionalLights.needsUpdate=e,t.pointLights.needsUpdate=e,t.spotLights.needsUpdate=e,t.hemisphereLights.needsUpdate=e}(d,c),n&&r.fog&&function(t,e){t.fogColor.value=e.color,e instanceof X.Fog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e instanceof X.FogExp2&&(t.fogDensity.value=e.density)}(d,n),(r instanceof X.MeshBasicMaterial||r instanceof X.MeshLambertMaterial||r instanceof X.MeshPhongMaterial||r instanceof X.MeshStandardMaterial||r instanceof X.MeshDepthMaterial)&&function(t,e){t.opacity.value=e.opacity,t.diffuse.value=e.color,e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity);t.map.value=e.map,t.specularMap.value=e.specularMap,t.alphaMap.value=e.alphaMap,e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity);var n;e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap);if(void 0!==n){n instanceof X.WebGLRenderTarget&&(n=n.texture);var r=n.offset,i=n.repeat;t.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap instanceof X.CubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio}(d,r),r instanceof X.LineBasicMaterial?At(d,r):r instanceof X.LineDashedMaterial?(At(d,r),function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(d,r)):r instanceof X.PointsMaterial?function(t,n){if(t.diffuse.value=n.color,t.opacity.value=n.opacity,t.size.value=n.size*P,t.scale.value=.5*e.clientHeight,t.map.value=n.map,null!==n.map){var r=n.map.offset,i=n.map.repeat;t.offsetRepeat.value.set(r.x,r.y,i.x,i.y)}}(d,r):r instanceof X.MeshLambertMaterial?function(t,e){e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity);e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(d,r):r instanceof X.MeshPhongMaterial?function(t,e){t.specular.value=e.specular,t.shininess.value=Math.max(e.shininess,1e-4),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity);e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap);e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale);e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale));e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(d,r):r instanceof X.MeshPhysicalMaterial?function(t,e){kt(t,e)}(d,r):r instanceof X.MeshStandardMaterial?kt(d,r):r instanceof X.MeshDepthMaterial?r.displacementMap&&(d.displacementMap.value=r.displacementMap,d.displacementScale.value=r.displacementScale,d.displacementBias.value=r.displacementBias):r instanceof X.MeshNormalMaterial&&(d.opacity.value=r.opacity),X.WebGLUniforms.upload(y,a.uniformsList,d,v)),h.set(y,i,"modelViewMatrix"),h.set(y,i,"normalMatrix"),h.setValue(y,"modelMatrix",i.matrixWorld);var m=a.dynamicUniforms;return null!==m&&(X.WebGLUniforms.evalDynamic(m,d,i,t),X.WebGLUniforms.upload(y,m,d,v)),l}function At(t,e){t.diffuse.value=e.color,t.opacity.value=e.opacity}function kt(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale)),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}function Ct(t,e,n){var r;if(n?(y.texParameteri(t,y.TEXTURE_WRAP_S,Nt(e.wrapS)),y.texParameteri(t,y.TEXTURE_WRAP_T,Nt(e.wrapT)),y.texParameteri(t,y.TEXTURE_MAG_FILTER,Nt(e.magFilter)),y.texParameteri(t,y.TEXTURE_MIN_FILTER,Nt(e.minFilter))):(y.texParameteri(t,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE),y.texParameteri(t,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE),e.wrapS!==X.ClampToEdgeWrapping||(e.wrapT,X.ClampToEdgeWrapping),y.texParameteri(t,y.TEXTURE_MAG_FILTER,Bt(e.magFilter)),y.texParameteri(t,y.TEXTURE_MIN_FILTER,Bt(e.minFilter)),e.minFilter!==X.NearestFilter&&(e.minFilter,X.LinearFilter)),r=Z.get("EXT_texture_filter_anisotropic")){if(e.type===X.FloatType&&null===Z.get("OES_texture_float_linear"))return;if(e.type===X.HalfFloatType&&null===Z.get("OES_texture_half_float_linear"))return;(e.anisotropy>1||$.get(e).__currentAnisotropy)&&(y.texParameterf(t,r.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(e.anisotropy,v.getMaxAnisotropy())),$.get(e).__currentAnisotropy=e.anisotropy)}}function Ot(t,e,n){void 0===t.__webglInit&&(t.__webglInit=!0,e.addEventListener("dispose",mt),t.__webglTexture=y.createTexture(),V.textures++),Q.activeTexture(y.TEXTURE0+n),Q.bindTexture(y.TEXTURE_2D,t.__webglTexture),y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,e.flipY),y.pixelStorei(y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha),y.pixelStorei(y.UNPACK_ALIGNMENT,e.unpackAlignment);var r=Lt(e.image,J.maxTextureSize);(function(t){return t.wrapS!==X.ClampToEdgeWrapping||t.wrapT!==X.ClampToEdgeWrapping||t.minFilter!==X.NearestFilter&&t.minFilter!==X.LinearFilter})(e)&&!1===Rt(r)&&(r=function(t){if(t instanceof HTMLImageElement||t instanceof HTMLCanvasElement){var e=document.createElement("canvas");return e.width=X.Math.nearestPowerOfTwo(t.width),e.height=X.Math.nearestPowerOfTwo(t.height),e.getContext("2d").drawImage(t,0,0,e.width,e.height),e}return t}(r));var i=Rt(r),a=Nt(e.format),o=Nt(e.type);Ct(y.TEXTURE_2D,e,i);var s,u=e.mipmaps;if(e instanceof X.DepthTexture){var c=y.DEPTH_COMPONENT;if(e.type===X.FloatType){if(!q)throw new Error("Float Depth Texture only supported in WebGL2.0");c=y.DEPTH_COMPONENT32F}else q&&(c=y.DEPTH_COMPONENT16);Q.texImage2D(y.TEXTURE_2D,0,c,r.width,r.height,0,a,o,null)}else if(e instanceof X.DataTexture)if(u.length>0&&i){for(var l=0,h=u.length;l<h;l++)s=u[l],Q.texImage2D(y.TEXTURE_2D,l,a,s.width,s.height,0,a,o,s.data);e.generateMipmaps=!1}else Q.texImage2D(y.TEXTURE_2D,0,a,r.width,r.height,0,a,o,r.data);else if(e instanceof X.CompressedTexture)for(l=0,h=u.length;l<h;l++)s=u[l],e.format!==X.RGBAFormat&&e.format!==X.RGBFormat?Q.getCompressedTextureFormats().indexOf(a)>-1&&Q.compressedTexImage2D(y.TEXTURE_2D,l,a,s.width,s.height,0,s.data):Q.texImage2D(y.TEXTURE_2D,l,a,s.width,s.height,0,a,o,s.data);else if(u.length>0&&i){for(l=0,h=u.length;l<h;l++)s=u[l],Q.texImage2D(y.TEXTURE_2D,l,a,a,o,s);e.generateMipmaps=!1}else Q.texImage2D(y.TEXTURE_2D,0,a,a,o,r);e.generateMipmaps&&i&&y.generateMipmap(y.TEXTURE_2D),t.__version=e.version,e.onUpdate&&e.onUpdate(e)}function Lt(t,e){if(t.width>e||t.height>e){var n=e/Math.max(t.width,t.height),r=document.createElement("canvas");return r.width=Math.floor(t.width*n),r.height=Math.floor(t.height*n),r.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,r.width,r.height),r}return t}function Rt(t){return X.Math.isPowerOfTwo(t.width)&&X.Math.isPowerOfTwo(t.height)}function Pt(t,e,n,r){var i=Nt(e.texture.format),a=Nt(e.texture.type);Q.texImage2D(r,0,i,e.width,e.height,0,i,a,null),y.bindFramebuffer(y.FRAMEBUFFER,t),y.framebufferTexture2D(y.FRAMEBUFFER,n,r,$.get(e.texture).__webglTexture,0),y.bindFramebuffer(y.FRAMEBUFFER,null)}function Dt(t,e){y.bindRenderbuffer(y.RENDERBUFFER,t),e.depthBuffer&&!e.stencilBuffer?(y.renderbufferStorage(y.RENDERBUFFER,y.DEPTH_COMPONENT16,e.width,e.height),y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_ATTACHMENT,y.RENDERBUFFER,t)):e.depthBuffer&&e.stencilBuffer?(y.renderbufferStorage(y.RENDERBUFFER,y.DEPTH_STENCIL,e.width,e.height),y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_STENCIL_ATTACHMENT,y.RENDERBUFFER,t)):y.renderbufferStorage(y.RENDERBUFFER,y.RGBA4,e.width,e.height),y.bindRenderbuffer(y.RENDERBUFFER,null)}function It(t){var e=$.get(t),n=t instanceof X.WebGLRenderTargetCube;if(t.depthTexture){if(n)throw new Error("target.depthTexture not supported in Cube render targets");!function(t,e){if(e instanceof X.WebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported!");if(y.bindFramebuffer(y.FRAMEBUFFER,t),!(e.depthTexture instanceof X.DepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");$.get(e.depthTexture).__webglTexture&&e.depthTexture.image.width===e.width&&e.depthTexture.image.height===e.height||(e.depthTexture.image.width=e.width,e.depthTexture.image.height=e.height,e.depthTexture.needsUpdate=!0),v.setTexture2D(e.depthTexture,0);var n=$.get(e.depthTexture).__webglTexture;y.framebufferTexture2D(y.FRAMEBUFFER,y.DEPTH_ATTACHMENT,y.TEXTURE_2D,n,0)}(e.__webglFramebuffer,t)}else if(n){e.__webglDepthbuffer=[];for(var r=0;r<6;r++)y.bindFramebuffer(y.FRAMEBUFFER,e.__webglFramebuffer[r]),e.__webglDepthbuffer[r]=y.createRenderbuffer(),Dt(e.__webglDepthbuffer[r],t)}else y.bindFramebuffer(y.FRAMEBUFFER,e.__webglFramebuffer),e.__webglDepthbuffer=y.createRenderbuffer(),Dt(e.__webglDepthbuffer,t);y.bindFramebuffer(y.FRAMEBUFFER,null)}function Bt(t){return t===X.NearestFilter||t===X.NearestMipMapNearestFilter||t===X.NearestMipMapLinearFilter?y.NEAREST:y.LINEAR}function Nt(t){var e;if(t===X.RepeatWrapping)return y.REPEAT;if(t===X.ClampToEdgeWrapping)return y.CLAMP_TO_EDGE;if(t===X.MirroredRepeatWrapping)return y.MIRRORED_REPEAT;if(t===X.NearestFilter)return y.NEAREST;if(t===X.NearestMipMapNearestFilter)return y.NEAREST_MIPMAP_NEAREST;if(t===X.NearestMipMapLinearFilter)return y.NEAREST_MIPMAP_LINEAR;if(t===X.LinearFilter)return y.LINEAR;if(t===X.LinearMipMapNearestFilter)return y.LINEAR_MIPMAP_NEAREST;if(t===X.LinearMipMapLinearFilter)return y.LINEAR_MIPMAP_LINEAR;if(t===X.UnsignedByteType)return y.UNSIGNED_BYTE;if(t===X.UnsignedShort4444Type)return y.UNSIGNED_SHORT_4_4_4_4;if(t===X.UnsignedShort5551Type)return y.UNSIGNED_SHORT_5_5_5_1;if(t===X.UnsignedShort565Type)return y.UNSIGNED_SHORT_5_6_5;if(t===X.ByteType)return y.BYTE;if(t===X.ShortType)return y.SHORT;if(t===X.UnsignedShortType)return y.UNSIGNED_SHORT;if(t===X.IntType)return y.INT;if(t===X.UnsignedIntType)return y.UNSIGNED_INT;if(t===X.FloatType)return y.FLOAT;if(null!==(e=Z.get("OES_texture_half_float"))&&t===X.HalfFloatType)return e.HALF_FLOAT_OES;if(t===X.AlphaFormat)return y.ALPHA;if(t===X.RGBFormat)return y.RGB;if(t===X.RGBAFormat)return y.RGBA;if(t===X.LuminanceFormat)return y.LUMINANCE;if(t===X.LuminanceAlphaFormat)return y.LUMINANCE_ALPHA;if(t===X.DepthFormat)return y.DEPTH_COMPONENT;if(t===X.AddEquation)return y.FUNC_ADD;if(t===X.SubtractEquation)return y.FUNC_SUBTRACT;if(t===X.ReverseSubtractEquation)return y.FUNC_REVERSE_SUBTRACT;if(t===X.ZeroFactor)return y.ZERO;if(t===X.OneFactor)return y.ONE;if(t===X.SrcColorFactor)return y.SRC_COLOR;if(t===X.OneMinusSrcColorFactor)return y.ONE_MINUS_SRC_COLOR;if(t===X.SrcAlphaFactor)return y.SRC_ALPHA;if(t===X.OneMinusSrcAlphaFactor)return y.ONE_MINUS_SRC_ALPHA;if(t===X.DstAlphaFactor)return y.DST_ALPHA;if(t===X.OneMinusDstAlphaFactor)return y.ONE_MINUS_DST_ALPHA;if(t===X.DstColorFactor)return y.DST_COLOR;if(t===X.OneMinusDstColorFactor)return y.ONE_MINUS_DST_COLOR;if(t===X.SrcAlphaSaturateFactor)return y.SRC_ALPHA_SATURATE;if(null!==(e=Z.get("WEBGL_compressed_texture_s3tc"))){if(t===X.RGB_S3TC_DXT1_Format)return e.COMPRESSED_RGB_S3TC_DXT1_EXT;if(t===X.RGBA_S3TC_DXT1_Format)return e.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(t===X.RGBA_S3TC_DXT3_Format)return e.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(t===X.RGBA_S3TC_DXT5_Format)return e.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(null!==(e=Z.get("WEBGL_compressed_texture_pvrtc"))){if(t===X.RGB_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(t===X.RGB_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(t===X.RGBA_PVRTC_4BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(t===X.RGBA_PVRTC_2BPPV1_Format)return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(null!==(e=Z.get("WEBGL_compressed_texture_etc1"))&&t===X.RGB_ETC1_Format)return e.COMPRESSED_RGB_ETC1_WEBGL;if(null!==(e=Z.get("EXT_blend_minmax"))){if(t===X.MinEquation)return e.MIN_EXT;if(t===X.MaxEquation)return e.MAX_EXT}return 0}this.getContext=function(){return y},this.getContextAttributes=function(){return y.getContextAttributes()},this.forceContextLoss=function(){Z.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){if(void 0!==lt)return lt;var t=Z.get("EXT_texture_filter_anisotropic");return lt=null!==t?y.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},this.getPrecision=function(){return J.precision},this.getPixelRatio=function(){return P},this.setPixelRatio=function(t){void 0!==t&&(P=t,this.setSize(B.z,B.w,!1))},this.getSize=function(){return{width:L,height:R}},this.setSize=function(t,n,r){L=t,R=n,e.width=t*P,e.height=n*P,!1!==r&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n)},this.setViewport=function(t,e,n,r){Q.viewport(B.set(t,e,n,r))},this.setScissor=function(t,e,n,r){Q.scissor(D.set(t,e,n,r))},this.setScissorTest=function(t){Q.setScissorTest(I=t)},this.getClearColor=function(){return C},this.setClearColor=function(t,e){C.set(t),O=void 0!==e?e:1,ot(C.r,C.g,C.b,O)},this.getClearAlpha=function(){return O},this.setClearAlpha=function(t){O=t,ot(C.r,C.g,C.b,O)},this.clear=function(t,e,n){var r=0;(void 0===t||t)&&(r|=y.COLOR_BUFFER_BIT),(void 0===e||e)&&(r|=y.DEPTH_BUFFER_BIT),(void 0===n||n)&&(r|=y.STENCIL_BUFFER_BIT),y.clear(r)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(t,e,n,r){this.setRenderTarget(t),this.clear(e,n,r)},this.resetGLState=ut,this.dispose=function(){e.removeEventListener("webglcontextlost",ft,!1)},this.renderBufferImmediate=function(t,e,n){Q.initAttributes();var r=$.get(t);t.hasPositions&&!r.position&&(r.position=y.createBuffer()),t.hasNormals&&!r.normal&&(r.normal=y.createBuffer()),t.hasUvs&&!r.uv&&(r.uv=y.createBuffer()),t.hasColors&&!r.color&&(r.color=y.createBuffer());var i=e.getAttributes();if(t.hasPositions&&(y.bindBuffer(y.ARRAY_BUFFER,r.position),y.bufferData(y.ARRAY_BUFFER,t.positionArray,y.DYNAMIC_DRAW),Q.enableAttribute(i.position),y.vertexAttribPointer(i.position,3,y.FLOAT,!1,0,0)),t.hasNormals){if(y.bindBuffer(y.ARRAY_BUFFER,r.normal),"MeshPhongMaterial"!==n.type&&"MeshStandardMaterial"!==n.type&&"MeshPhysicalMaterial"!==n.type&&n.shading===X.FlatShading)for(var a=0,o=3*t.count;a<o;a+=9){var s=t.normalArray,u=(s[a+0]+s[a+3]+s[a+6])/3,c=(s[a+1]+s[a+4]+s[a+7])/3,l=(s[a+2]+s[a+5]+s[a+8])/3;s[a+0]=u,s[a+1]=c,s[a+2]=l,s[a+3]=u,s[a+4]=c,s[a+5]=l,s[a+6]=u,s[a+7]=c,s[a+8]=l}y.bufferData(y.ARRAY_BUFFER,t.normalArray,y.DYNAMIC_DRAW),Q.enableAttribute(i.normal),y.vertexAttribPointer(i.normal,3,y.FLOAT,!1,0,0)}t.hasUvs&&n.map&&(y.bindBuffer(y.ARRAY_BUFFER,r.uv),y.bufferData(y.ARRAY_BUFFER,t.uvArray,y.DYNAMIC_DRAW),Q.enableAttribute(i.uv),y.vertexAttribPointer(i.uv,2,y.FLOAT,!1,0,0)),t.hasColors&&n.vertexColors!==X.NoColors&&(y.bindBuffer(y.ARRAY_BUFFER,r.color),y.bufferData(y.ARRAY_BUFFER,t.colorArray,y.DYNAMIC_DRAW),Q.enableAttribute(i.color),y.vertexAttribPointer(i.color,3,y.FLOAT,!1,0,0)),Q.disableUnusedAttributes(),y.drawArrays(y.TRIANGLES,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,r,i,a){Mt(r);var o=Et(t,e,r,i),s=!1,u=n.id+"_"+o.id+"_"+r.wireframe;u!==S&&(S=u,s=!0);var c=i.morphTargetInfluences;if(void 0!==c){for(var l=[],h=0,d=c.length;h<d;h++){var p=c[h];l.push([p,h])}l.sort(bt),l.length>8&&(l.length=8);var m=n.morphAttributes;for(h=0,d=l.length;h<d;h++){p=l[h];if(f[h]=p[0],0!==p[0]){var g=p[1];!0===r.morphTargets&&m.position&&n.addAttribute("morphTarget"+h,m.position[g]),!0===r.morphNormals&&m.normal&&n.addAttribute("morphNormal"+h,m.normal[g])}else!0===r.morphTargets&&n.removeAttribute("morphTarget"+h),!0===r.morphNormals&&n.removeAttribute("morphNormal"+h)}o.getUniforms().setValue(y,"morphTargetInfluences",f),s=!0}g=n.index;var v,b=n.attributes.position;!0===r.wireframe&&(g=tt.getWireframeAttribute(n)),null!==g?(v=it).setIndex(g):v=rt,s&&(!function(t,e,n,r){var i;if(n instanceof X.InstancedBufferGeometry&&null===(i=Z.get("ANGLE_instanced_arrays")))return;void 0===r&&(r=0);Q.initAttributes();var a=n.attributes,o=e.getAttributes(),s=t.defaultAttributeValues;for(var u in o){var c=o[u];if(c>=0){var l=a[u];if(void 0!==l){var h=y.FLOAT,d=l.array,p=l.normalized;d instanceof Float32Array?h=y.FLOAT:d instanceof Float64Array||(d instanceof Uint16Array?h=y.UNSIGNED_SHORT:d instanceof Int16Array?h=y.SHORT:d instanceof Uint32Array?h=y.UNSIGNED_INT:d instanceof Int32Array?h=y.INT:d instanceof Int8Array?h=y.BYTE:d instanceof Uint8Array&&(h=y.UNSIGNED_BYTE));var f=l.itemSize,m=tt.getAttributeBuffer(l);if(l instanceof X.InterleavedBufferAttribute){var g=l.data,v=g.stride,b=l.offset;g instanceof X.InstancedInterleavedBuffer?(Q.enableAttributeAndDivisor(c,g.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=g.meshPerAttribute*g.count)):Q.enableAttribute(c),y.bindBuffer(y.ARRAY_BUFFER,m),y.vertexAttribPointer(c,f,h,p,v*g.array.BYTES_PER_ELEMENT,(r*v+b)*g.array.BYTES_PER_ELEMENT)}else l instanceof X.InstancedBufferAttribute?(Q.enableAttributeAndDivisor(c,l.meshPerAttribute,i),void 0===n.maxInstancedCount&&(n.maxInstancedCount=l.meshPerAttribute*l.count)):Q.enableAttribute(c),y.bindBuffer(y.ARRAY_BUFFER,m),y.vertexAttribPointer(c,f,h,p,0,r*f*l.array.BYTES_PER_ELEMENT)}else if(void 0!==s){var _=s[u];if(void 0!==_)switch(_.length){case 2:y.vertexAttrib2fv(c,_);break;case 3:y.vertexAttrib3fv(c,_);break;case 4:y.vertexAttrib4fv(c,_);break;default:y.vertexAttrib1fv(c,_)}}}}Q.disableUnusedAttributes()}(r,o,n),null!==g&&y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,tt.getAttributeBuffer(g)));var _=1/0;null!==g?_=g.count:void 0!==b&&(_=b.count);var w=n.drawRange.start,x=n.drawRange.count,T=null!==a?a.start:0,M=null!==a?a.count:1/0,E=Math.max(0,w,T),A=Math.min(0+_,w+x,T+M)-1,k=Math.max(0,A-E+1);if(i instanceof X.Mesh)if(!0===r.wireframe)Q.setLineWidth(r.wireframeLinewidth*at()),v.setMode(y.LINES);else switch(i.drawMode){case X.TrianglesDrawMode:v.setMode(y.TRIANGLES);break;case X.TriangleStripDrawMode:v.setMode(y.TRIANGLE_STRIP);break;case X.TriangleFanDrawMode:v.setMode(y.TRIANGLE_FAN)}else if(i instanceof X.Line){var C=r.linewidth;void 0===C&&(C=1),Q.setLineWidth(C*at()),i instanceof X.LineSegments?v.setMode(y.LINES):v.setMode(y.LINE_STRIP)}else i instanceof X.Points&&v.setMode(y.POINTS);n instanceof X.InstancedBufferGeometry?n.maxInstancedCount>0&&v.renderInstances(n,E,k):v.render(E,k)},this.render=function(t,e,n,r){if(e instanceof X.Camera!=!1){var i=t.fog;if(S="",x=-1,T=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),G.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),N.setFromMatrix(G),c.length=0,h=-1,p=-1,m.length=0,g.length=0,U=this.localClippingEnabled,F=j.init(this.clippingPlanes,U,e),function t(e,n){if(!1===e.visible)return;if(e.layers.test(n.layers))if(e instanceof X.Light)c.push(e);else if(e instanceof X.Sprite)!1!==e.frustumCulled&&!0!==(d=e,Y.center.set(0,0,0),Y.radius=.7071067811865476,Y.applyMatrix4(d.matrixWorld),St(Y))||m.push(e);else if(e instanceof X.LensFlare)g.push(e);else if(e instanceof X.ImmediateRenderObject)!0===v.sortObjects&&(H.setFromMatrixPosition(e.matrixWorld),H.applyProjection(G)),xt(e,null,e.material,H.z,null);else if((e instanceof X.Mesh||e instanceof X.Line||e instanceof X.Points)&&(e instanceof X.SkinnedMesh&&e.skeleton.update(),!1===e.frustumCulled||!0===function(t){var e=t.geometry;null===e.boundingSphere&&e.computeBoundingSphere();return Y.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),St(Y)}(e))){var r=e.material;if(!0===r.visible){!0===v.sortObjects&&(H.setFromMatrixPosition(e.matrixWorld),H.applyProjection(G));var i=tt.update(e);if(r instanceof X.MultiMaterial)for(var a=i.groups,o=r.materials,s=0,u=a.length;s<u;s++){var l=a[s],h=o[l.materialIndex];!0===h.visible&&xt(e,i,h,H.z,l)}else xt(e,i,r,H.z,null)}}var d;var p=e.children;for(s=0,u=p.length;s<u;s++)t(p[s],n)}(t,e),l.length=h+1,d.length=p+1,!0===v.sortObjects&&(l.sort(_t),d.sort(wt)),F&&j.beginShadows(),function(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];i.castShadow&&(z.shadows[e++]=i)}z.shadows.length=e}(c),ct.render(t,e),function(t,e){var n,r,i,a,o,s,u,c=0,l=0,h=0,d=e.matrixWorldInverse,p=0,f=0,m=0,g=0;for(n=0,r=t.length;n<r;n++)if(i=t[n],a=i.color,o=i.intensity,s=i.distance,u=i.shadow&&i.shadow.map?i.shadow.map.texture:null,i instanceof X.AmbientLight)c+=a.r*o,l+=a.g*o,h+=a.b*o;else if(i instanceof X.DirectionalLight){(y=nt.get(i)).color.copy(i.color).multiplyScalar(i.intensity),y.direction.setFromMatrixPosition(i.matrixWorld),H.setFromMatrixPosition(i.target.matrixWorld),y.direction.sub(H),y.direction.transformDirection(d),y.shadow=i.castShadow,i.castShadow&&(y.shadowBias=i.shadow.bias,y.shadowRadius=i.shadow.radius,y.shadowMapSize=i.shadow.mapSize),z.directionalShadowMap[p]=u,z.directionalShadowMatrix[p]=i.shadow.matrix,z.directional[p++]=y}else if(i instanceof X.SpotLight){(y=nt.get(i)).position.setFromMatrixPosition(i.matrixWorld),y.position.applyMatrix4(d),y.color.copy(a).multiplyScalar(o),y.distance=s,y.direction.setFromMatrixPosition(i.matrixWorld),H.setFromMatrixPosition(i.target.matrixWorld),y.direction.sub(H),y.direction.transformDirection(d),y.coneCos=Math.cos(i.angle),y.penumbraCos=Math.cos(i.angle*(1-i.penumbra)),y.decay=0===i.distance?0:i.decay,y.shadow=i.castShadow,i.castShadow&&(y.shadowBias=i.shadow.bias,y.shadowRadius=i.shadow.radius,y.shadowMapSize=i.shadow.mapSize),z.spotShadowMap[m]=u,z.spotShadowMatrix[m]=i.shadow.matrix,z.spot[m++]=y}else if(i instanceof X.PointLight){(y=nt.get(i)).position.setFromMatrixPosition(i.matrixWorld),y.position.applyMatrix4(d),y.color.copy(i.color).multiplyScalar(i.intensity),y.distance=i.distance,y.decay=0===i.distance?0:i.decay,y.shadow=i.castShadow,i.castShadow&&(y.shadowBias=i.shadow.bias,y.shadowRadius=i.shadow.radius,y.shadowMapSize=i.shadow.mapSize),z.pointShadowMap[f]=u,void 0===z.pointShadowMatrix[f]&&(z.pointShadowMatrix[f]=new X.Matrix4),H.setFromMatrixPosition(i.matrixWorld).negate(),z.pointShadowMatrix[f].identity().setPosition(H),z.point[f++]=y}else if(i instanceof X.HemisphereLight){var y;(y=nt.get(i)).direction.setFromMatrixPosition(i.matrixWorld),y.direction.transformDirection(d),y.direction.normalize(),y.skyColor.copy(i.color).multiplyScalar(o),y.groundColor.copy(i.groundColor).multiplyScalar(o),z.hemi[g++]=y}z.ambient[0]=c,z.ambient[1]=l,z.ambient[2]=h,z.directional.length=p,z.spot.length=m,z.point.length=f,z.hemi.length=g,z.hash=p+","+f+","+m+","+g+","+z.shadows.length}(c,e),F&&j.endShadows(),W.calls=0,W.vertices=0,W.faces=0,W.points=0,void 0===n&&(n=null),this.setRenderTarget(n),(this.autoClear||r)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),t.overrideMaterial){var a=t.overrideMaterial;Tt(l,e,i,a),Tt(d,e,i,a)}else Q.setBlending(X.NoBlending),Tt(l,e,i),Tt(d,e,i);if(dt.render(t,e),pt.render(t,e,A),n){var o=n.texture;o.generateMipmaps&&Rt(n)&&o.minFilter!==X.NearestFilter&&o.minFilter!==X.LinearFilter&&function(t){var e=t instanceof X.WebGLRenderTargetCube?y.TEXTURE_CUBE_MAP:y.TEXTURE_2D,n=$.get(t.texture).__webglTexture;Q.bindTexture(e,n),y.generateMipmap(e),Q.bindTexture(e,null)}(n)}Q.setDepthTest(!0),Q.setDepthWrite(!0),Q.setColorWrite(!0)}},this.setFaceCulling=function(t,e){Q.setCullFace(t),Q.setFlipSided(e===X.FrontFaceDirectionCW)},this.allocTextureUnit=function(){var t=k;return J.maxTextures,k+=1,t},this.setTexture2D=(ht=!1,function(t,e){t instanceof X.WebGLRenderTarget&&(ht||(ht=!0),t=t.texture),function(t,e){var n=$.get(t);if(t.version>0&&n.__version!==t.version){var r=t.image;if(void 0===r)return;if(!1===r.complete)return;Ot(n,t,e)}else Q.activeTexture(y.TEXTURE0+e),Q.bindTexture(y.TEXTURE_2D,n.__webglTexture)}(t,e)}),this.setTexture=function(){var t=!1;return function(e,n){t||(t=!0),v.setTexture2D(e,n)}}(),this.setTextureCube=function(){var t=!1;return function(e,n){e instanceof X.WebGLRenderTargetCube&&(t||(t=!0),e=e.texture),e instanceof X.CubeTexture||Array.isArray(e.image)&&6===e.image.length?function(t,e){var n=$.get(t);if(6===t.image.length)if(t.version>0&&n.__version!==t.version){n.__image__webglTextureCube||(t.addEventListener("dispose",mt),n.__image__webglTextureCube=y.createTexture(),V.textures++),Q.activeTexture(y.TEXTURE0+e),Q.bindTexture(y.TEXTURE_CUBE_MAP,n.__image__webglTextureCube),y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,t.flipY);for(var r=t instanceof X.CompressedTexture,i=t.image[0]instanceof X.DataTexture,a=[],o=0;o<6;o++)!v.autoScaleCubemaps||r||i?a[o]=i?t.image[o].image:t.image[o]:a[o]=Lt(t.image[o],J.maxCubemapSize);var s=Rt(a[0]),u=Nt(t.format),c=Nt(t.type);Ct(y.TEXTURE_CUBE_MAP,t,s);for(o=0;o<6;o++)if(r)for(var l,h=a[o].mipmaps,d=0,p=h.length;d<p;d++)l=h[d],t.format!==X.RGBAFormat&&t.format!==X.RGBFormat?Q.getCompressedTextureFormats().indexOf(u)>-1&&Q.compressedTexImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+o,d,u,l.width,l.height,0,l.data):Q.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+o,d,u,l.width,l.height,0,u,c,l.data);else i?Q.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,u,a[o].width,a[o].height,0,u,c,a[o].data):Q.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,u,u,c,a[o]);t.generateMipmaps&&s&&y.generateMipmap(y.TEXTURE_CUBE_MAP),n.__version=t.version,t.onUpdate&&t.onUpdate(t)}else Q.activeTexture(y.TEXTURE0+e),Q.bindTexture(y.TEXTURE_CUBE_MAP,n.__image__webglTextureCube)}(e,n):function(t,e){Q.activeTexture(y.TEXTURE0+e),Q.bindTexture(y.TEXTURE_CUBE_MAP,$.get(t).__webglTexture)}(e,n)}}(),this.getCurrentRenderTarget=function(){return _},this.setRenderTarget=function(t){_=t,t&&void 0===$.get(t).__webglFramebuffer&&function(t){var e=$.get(t),n=$.get(t.texture);t.addEventListener("dispose",gt),n.__webglTexture=y.createTexture(),V.textures++;var r=t instanceof X.WebGLRenderTargetCube,i=X.Math.isPowerOfTwo(t.width)&&X.Math.isPowerOfTwo(t.height);if(r){e.__webglFramebuffer=[];for(var a=0;a<6;a++)e.__webglFramebuffer[a]=y.createFramebuffer()}else e.__webglFramebuffer=y.createFramebuffer();if(r){Q.bindTexture(y.TEXTURE_CUBE_MAP,n.__webglTexture),Ct(y.TEXTURE_CUBE_MAP,t.texture,i);for(a=0;a<6;a++)Pt(e.__webglFramebuffer[a],t,y.COLOR_ATTACHMENT0,y.TEXTURE_CUBE_MAP_POSITIVE_X+a);t.texture.generateMipmaps&&i&&y.generateMipmap(y.TEXTURE_CUBE_MAP),Q.bindTexture(y.TEXTURE_CUBE_MAP,null)}else Q.bindTexture(y.TEXTURE_2D,n.__webglTexture),Ct(y.TEXTURE_2D,t.texture,i),Pt(e.__webglFramebuffer,t,y.COLOR_ATTACHMENT0,y.TEXTURE_2D),t.texture.generateMipmaps&&i&&y.generateMipmap(y.TEXTURE_2D),Q.bindTexture(y.TEXTURE_2D,null);t.depthBuffer&&It(t)}(t);var e,n=t instanceof X.WebGLRenderTargetCube;if(t){var r=$.get(t);e=n?r.__webglFramebuffer[t.activeCubeFace]:r.__webglFramebuffer,M.copy(t.scissor),E=t.scissorTest,A.copy(t.viewport)}else e=null,M.copy(D).multiplyScalar(P),E=I,A.copy(B).multiplyScalar(P);if(w!==e&&(y.bindFramebuffer(y.FRAMEBUFFER,e),w=e),Q.scissor(M),Q.setScissorTest(E),Q.viewport(A),n){var i=$.get(t.texture);y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_CUBE_MAP_POSITIVE_X+t.activeCubeFace,i.__webglTexture,t.activeMipMapLevel)}},this.readRenderTargetPixels=function(t,e,n,r,i,a){if(t instanceof X.WebGLRenderTarget!=!1){var o=$.get(t).__webglFramebuffer;if(o){var s=!1;o!==w&&(y.bindFramebuffer(y.FRAMEBUFFER,o),s=!0);try{var u=t.texture;if(u.format!==X.RGBAFormat&&Nt(u.format)!==y.getParameter(y.IMPLEMENTATION_COLOR_READ_FORMAT))return;if(!(u.type===X.UnsignedByteType||Nt(u.type)===y.getParameter(y.IMPLEMENTATION_COLOR_READ_TYPE)||u.type===X.FloatType&&Z.get("WEBGL_color_buffer_float")||u.type===X.HalfFloatType&&Z.get("EXT_color_buffer_half_float")))return;y.checkFramebufferStatus(y.FRAMEBUFFER)===y.FRAMEBUFFER_COMPLETE&&e>=0&&e<=t.width-r&&n>=0&&n<=t.height-i&&y.readPixels(e,n,r,i,Nt(u.format),Nt(u.type),a)}finally{s&&y.bindFramebuffer(y.FRAMEBUFFER,w)}}}}},X.WebGLRenderTarget=function(t,e,n){this.uuid=X.Math.generateUUID(),this.width=t,this.height=e,this.scissor=new X.Vector4(0,0,t,e),this.scissorTest=!1,this.viewport=new X.Vector4(0,0,t,e),void 0===(n=n||{}).minFilter&&(n.minFilter=X.LinearFilter),this.texture=new X.Texture(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=null},Object.assign(X.WebGLRenderTarget.prototype,X.EventDispatcher.prototype,{setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),X.WebGLRenderTargetCube=function(t,e,n){X.WebGLRenderTarget.call(this,t,e,n),this.activeCubeFace=0,this.activeMipMapLevel=0},X.WebGLRenderTargetCube.prototype=Object.create(X.WebGLRenderTarget.prototype),X.WebGLRenderTargetCube.prototype.constructor=X.WebGLRenderTargetCube,X.WebGLBufferRenderer=function(t,e,n){var r;this.setMode=function(t){r=t},this.render=function(e,i){t.drawArrays(r,e,i),n.calls++,n.vertices+=i,r===t.TRIANGLES&&(n.faces+=i/3)},this.renderInstances=function(i){var a=e.get("ANGLE_instanced_arrays");if(null!==a){var o=i.attributes.position,s=0;o instanceof X.InterleavedBufferAttribute?(s=o.data.count,a.drawArraysInstancedANGLE(r,0,s,i.maxInstancedCount)):(s=o.count,a.drawArraysInstancedANGLE(r,0,s,i.maxInstancedCount)),n.calls++,n.vertices+=s*i.maxInstancedCount,r===t.TRIANGLES&&(n.faces+=i.maxInstancedCount*s/3)}}},X.WebGLClipping=function(){var t=this,e=null,n=0,r=!1,i=!1,a=new X.Plane,o=new X.Matrix3,s={value:null,needsUpdate:!1};function u(){s.value!==e&&(s.value=e,s.needsUpdate=n>0),t.numPlanes=n}function c(e,n,r,i){var u=null!==e?e.length:0,c=null;if(0!==u){if(c=s.value,!0!==i||null===c){var l=r+4*u,h=n.matrixWorldInverse;o.getNormalMatrix(h),(null===c||c.length<l)&&(c=new Float32Array(l));for(var d=0,p=r;d!==u;++d,p+=4)a.copy(e[d]).applyMatrix4(h,o),a.normal.toArray(c,p),c[p+3]=a.constant}s.value=c,s.needsUpdate=!0}return t.numPlanes=u,c}this.uniform=s,this.numPlanes=0,this.init=function(t,i,a){var o=0!==t.length||i||0!==n||r;return r=i,e=c(t,a,0),n=t.length,o},this.beginShadows=function(){i=!0,c(null)},this.endShadows=function(){i=!1,u()},this.setState=function(t,a,o,l,h){if(!r||null===t||0===t.length||i&&!a)i?c(null):u();else{var d=i?0:n,p=4*d,f=l.clippingState||null;s.value=f,f=c(t,o,p,h);for(var m=0;m!==p;++m)f[m]=e[m];l.clippingState=f,this.numPlanes+=d}}},X.WebGLIndexedBufferRenderer=function(t,e,n){var r,i,a;this.setMode=function(t){r=t},this.setIndex=function(n){n.array instanceof Uint32Array&&e.get("OES_element_index_uint")?(i=t.UNSIGNED_INT,a=4):(i=t.UNSIGNED_SHORT,a=2)},this.render=function(e,o){t.drawElements(r,o,i,e*a),n.calls++,n.vertices+=o,r===t.TRIANGLES&&(n.faces+=o/3)},this.renderInstances=function(o,s,u){var c=e.get("ANGLE_instanced_arrays");null!==c&&(c.drawElementsInstancedANGLE(r,u,i,s*a,o.maxInstancedCount),n.calls++,n.vertices+=u*o.maxInstancedCount,r===t.TRIANGLES&&(n.faces+=o.maxInstancedCount*u/3))}},X.WebGLExtensions=function(t){var e={};this.get=function(n){if(void 0!==e[n])return e[n];var r;switch(n){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":r=t.getExtension("WEBGL_compressed_texture_etc1");break;default:r=t.getExtension(n)}return e[n]=r,r}},X.WebGLCapabilities=function(t,e,n){function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}this.getMaxPrecision=r,this.precision=void 0!==n.precision?n.precision:"highp",this.logarithmicDepthBuffer=void 0!==n.logarithmicDepthBuffer&&n.logarithmicDepthBuffer,this.maxTextures=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.maxVertexTextures=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.maxCubemapSize=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),this.maxAttributes=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.maxVertexUniforms=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),this.maxVaryings=t.getParameter(t.MAX_VARYING_VECTORS),this.maxFragmentUniforms=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),this.vertexTextures=this.maxVertexTextures>0,this.floatFragmentTextures=!!e.get("OES_texture_float"),this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;var i=r(this.precision);i!==this.precision&&(this.precision=i),this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!e.get("EXT_frag_depth"))},X.WebGLGeometries=function(t,e,n){var r={};function i(t){var o=t.target,s=r[o.id];null!==s.index&&a(s.index),function(t){for(var e in t)a(t[e])}(s.attributes),o.removeEventListener("dispose",i),delete r[o.id];var u=e.get(o);u.wireframe&&a(u.wireframe),e.delete(o);var c=e.get(s);c.wireframe&&a(c.wireframe),e.delete(s),n.memory.geometries--}function a(n){var r=function(t){return t instanceof X.InterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer}(n);void 0!==r&&(t.deleteBuffer(r),function(t){t instanceof X.InterleavedBufferAttribute?e.delete(t.data):e.delete(t)}(n))}this.get=function(t){var e,a=t.geometry;return void 0!==r[a.id]?r[a.id]:(a.addEventListener("dispose",i),a instanceof X.BufferGeometry?e=a:a instanceof X.Geometry&&(void 0===a._bufferGeometry&&(a._bufferGeometry=(new X.BufferGeometry).setFromObject(t)),e=a._bufferGeometry),r[a.id]=e,n.memory.geometries++,e)}},X.WebGLLights=function(){var t={};this.get=function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new X.Vector3,color:new X.Color,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new X.Vector2};break;case"SpotLight":n={position:new X.Vector3,direction:new X.Vector3,color:new X.Color,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new X.Vector2};break;case"PointLight":n={position:new X.Vector3,color:new X.Color,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new X.Vector2};break;case"HemisphereLight":n={direction:new X.Vector3,skyColor:new X.Color,groundColor:new X.Color}}return t[e.id]=n,n}},X.WebGLObjects=function(t,e,n){var r=new X.WebGLGeometries(t,e,n);function i(n,r){var i=n instanceof X.InterleavedBufferAttribute?n.data:n,a=e.get(i);void 0===a.__webglBuffer?function(e,n,r){e.__webglBuffer=t.createBuffer(),t.bindBuffer(r,e.__webglBuffer);var i=n.dynamic?t.DYNAMIC_DRAW:t.STATIC_DRAW;t.bufferData(r,n.array,i),e.version=n.version}(a,i,r):a.version!==i.version&&function(e,n,r){t.bindBuffer(r,e.__webglBuffer),!1===n.dynamic||-1===n.updateRange.count?t.bufferSubData(r,0,n.array):0===n.updateRange.count||(t.bufferSubData(r,n.updateRange.offset*n.array.BYTES_PER_ELEMENT,n.array.subarray(n.updateRange.offset,n.updateRange.offset+n.updateRange.count)),n.updateRange.count=0);e.version=n.version}(a,i,r)}function a(t,e,n){if(e>n){var r=e;e=n,n=r}var i=t[e];return void 0===i?(t[e]=[n],!0):-1===i.indexOf(n)&&(i.push(n),!0)}this.getAttributeBuffer=function(t){return t instanceof X.InterleavedBufferAttribute?e.get(t.data).__webglBuffer:e.get(t).__webglBuffer},this.getWireframeAttribute=function(n){var r=e.get(n);if(void 0!==r.wireframe)return r.wireframe;var o,s=[],u=n.index,c=n.attributes,l=c.position;if(null!==u)for(var h={},d=0,p=(o=u.array).length;d<p;d+=3){var f=o[d+0],m=o[d+1],g=o[d+2];a(h,f,m)&&s.push(f,m),a(h,m,g)&&s.push(m,g),a(h,g,f)&&s.push(g,f)}else for(d=0,p=(o=c.position.array).length/3-1;d<p;d+=3){f=d+0,m=d+1,g=d+2;s.push(f,m,m,g,g,f)}var y=l.count>65535?Uint32Array:Uint16Array,v=new X.BufferAttribute(new y(s),1);return i(v,t.ELEMENT_ARRAY_BUFFER),r.wireframe=v,v},this.update=function(e){var n=r.get(e);e.geometry instanceof X.Geometry&&n.updateFromObject(e);var a=n.index,o=n.attributes;for(var s in null!==a&&i(a,t.ELEMENT_ARRAY_BUFFER),o)i(o[s],t.ARRAY_BUFFER);var u=n.morphAttributes;for(var s in u)for(var c=u[s],l=0,h=c.length;l<h;l++)i(c[l],t.ARRAY_BUFFER);return n}},X.WebGLProgram=function(){var t=0;function e(t){switch(t){case X.LinearEncoding:return["Linear","( value )"];case X.sRGBEncoding:return["sRGB","( value )"];case X.RGBEEncoding:return["RGBE","( value )"];case X.RGBM7Encoding:return["RGBM","( value, 7.0 )"];case X.RGBM16Encoding:return["RGBM","( value, 16.0 )"];case X.RGBDEncoding:return["RGBD","( value, 256.0 )"];case X.GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+t)}}function n(t,n){var r=e(n);return"vec4 "+t+"( vec4 value ) { return "+r[0]+"ToLinear"+r[1]+"; }"}function r(t,e){var n;switch(e){case X.LinearToneMapping:n="Linear";break;case X.ReinhardToneMapping:n="Reinhard";break;case X.Uncharted2ToneMapping:n="Uncharted2";break;case X.CineonToneMapping:n="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function i(t){return""!==t}function a(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights)}function o(t){return t.replace(/#include +<([\w\d.]+)>/g,(function(t,e){var n=X.ShaderChunk[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return o(n)}))}function s(t){return t.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,(function(t,e,n,r){for(var i="",a=parseInt(e);a<parseInt(n);a++)i+=r.replace(/\[ i \]/g,"[ "+a+" ]");return i}))}return function(u,c,l,h){var d=u.context,p=l.extensions,f=l.defines,m=l.__webglShader.vertexShader,g=l.__webglShader.fragmentShader,y="SHADOWMAP_TYPE_BASIC";h.shadowMapType===X.PCFShadowMap?y="SHADOWMAP_TYPE_PCF":h.shadowMapType===X.PCFSoftShadowMap&&(y="SHADOWMAP_TYPE_PCF_SOFT");var v="ENVMAP_TYPE_CUBE",b="ENVMAP_MODE_REFLECTION",_="ENVMAP_BLENDING_MULTIPLY";if(h.envMap){switch(l.envMap.mapping){case X.CubeReflectionMapping:case X.CubeRefractionMapping:v="ENVMAP_TYPE_CUBE";break;case X.CubeUVReflectionMapping:case X.CubeUVRefractionMapping:v="ENVMAP_TYPE_CUBE_UV";break;case X.EquirectangularReflectionMapping:case X.EquirectangularRefractionMapping:v="ENVMAP_TYPE_EQUIREC";break;case X.SphericalReflectionMapping:v="ENVMAP_TYPE_SPHERE"}switch(l.envMap.mapping){case X.CubeRefractionMapping:case X.EquirectangularRefractionMapping:b="ENVMAP_MODE_REFRACTION"}switch(l.combine){case X.MultiplyOperation:_="ENVMAP_BLENDING_MULTIPLY";break;case X.MixOperation:_="ENVMAP_BLENDING_MIX";break;case X.AddOperation:_="ENVMAP_BLENDING_ADD"}}var w,x,S,T,M,E=u.gammaFactor>0?u.gammaFactor:1,A=function(t,e,n){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.normalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(i).join("\n")}(p,h,u.extensions),k=function(t){var e=[];for(var n in t){var r=t[n];!1!==r&&e.push("#define "+n+" "+r)}return e.join("\n")}(f),C=d.createProgram();l instanceof X.RawShaderMaterial?(w="",x=""):(w=["precision "+h.precision+" float;","precision "+h.precision+" int;","#define SHADER_NAME "+l.__webglShader.name,k,h.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+E,"#define MAX_BONES "+h.maxBones,h.map?"#define USE_MAP":"",h.envMap?"#define USE_ENVMAP":"",h.envMap?"#define "+b:"",h.lightMap?"#define USE_LIGHTMAP":"",h.aoMap?"#define USE_AOMAP":"",h.emissiveMap?"#define USE_EMISSIVEMAP":"",h.bumpMap?"#define USE_BUMPMAP":"",h.normalMap?"#define USE_NORMALMAP":"",h.displacementMap&&h.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",h.specularMap?"#define USE_SPECULARMAP":"",h.roughnessMap?"#define USE_ROUGHNESSMAP":"",h.metalnessMap?"#define USE_METALNESSMAP":"",h.alphaMap?"#define USE_ALPHAMAP":"",h.vertexColors?"#define USE_COLOR":"",h.flatShading?"#define FLAT_SHADED":"",h.skinning?"#define USE_SKINNING":"",h.useVertexTexture?"#define BONE_TEXTURE":"",h.morphTargets?"#define USE_MORPHTARGETS":"",h.morphNormals&&!1===h.flatShading?"#define USE_MORPHNORMALS":"",h.doubleSided?"#define DOUBLE_SIDED":"",h.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+h.numClippingPlanes,h.shadowMapEnabled?"#define USE_SHADOWMAP":"",h.shadowMapEnabled?"#define "+y:"",h.sizeAttenuation?"#define USE_SIZEATTENUATION":"",h.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",h.logarithmicDepthBuffer&&u.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(i).join("\n"),x=[A,"precision "+h.precision+" float;","precision "+h.precision+" int;","#define SHADER_NAME "+l.__webglShader.name,k,h.alphaTest?"#define ALPHATEST "+h.alphaTest:"","#define GAMMA_FACTOR "+E,h.useFog&&h.fog?"#define USE_FOG":"",h.useFog&&h.fogExp?"#define FOG_EXP2":"",h.map?"#define USE_MAP":"",h.envMap?"#define USE_ENVMAP":"",h.envMap?"#define "+v:"",h.envMap?"#define "+b:"",h.envMap?"#define "+_:"",h.lightMap?"#define USE_LIGHTMAP":"",h.aoMap?"#define USE_AOMAP":"",h.emissiveMap?"#define USE_EMISSIVEMAP":"",h.bumpMap?"#define USE_BUMPMAP":"",h.normalMap?"#define USE_NORMALMAP":"",h.specularMap?"#define USE_SPECULARMAP":"",h.roughnessMap?"#define USE_ROUGHNESSMAP":"",h.metalnessMap?"#define USE_METALNESSMAP":"",h.alphaMap?"#define USE_ALPHAMAP":"",h.vertexColors?"#define USE_COLOR":"",h.flatShading?"#define FLAT_SHADED":"",h.doubleSided?"#define DOUBLE_SIDED":"",h.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+h.numClippingPlanes,h.shadowMapEnabled?"#define USE_SHADOWMAP":"",h.shadowMapEnabled?"#define "+y:"",h.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",h.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",h.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",h.logarithmicDepthBuffer&&u.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",h.envMap&&u.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",h.toneMapping!==X.NoToneMapping?"#define TONE_MAPPING":"",h.toneMapping!==X.NoToneMapping?X.ShaderChunk.tonemapping_pars_fragment:"",h.toneMapping!==X.NoToneMapping?r("toneMapping",h.toneMapping):"",h.outputEncoding||h.mapEncoding||h.envMapEncoding||h.emissiveMapEncoding?X.ShaderChunk.encodings_pars_fragment:"",h.mapEncoding?n("mapTexelToLinear",h.mapEncoding):"",h.envMapEncoding?n("envMapTexelToLinear",h.envMapEncoding):"",h.emissiveMapEncoding?n("emissiveMapTexelToLinear",h.emissiveMapEncoding):"",h.outputEncoding?(S="linearToOutputTexel",T=h.outputEncoding,M=e(T),"vec4 "+S+"( vec4 value ) { return LinearTo"+M[0]+M[1]+"; }"):"",h.depthPacking?"#define DEPTH_PACKING "+l.depthPacking:"","\n"].filter(i).join("\n")),m=a(m=o(m),h),g=a(g=o(g),h),l instanceof X.ShaderMaterial==!1&&(m=s(m),g=s(g));var O=w+m,L=x+g,R=X.WebGLShader(d,d.VERTEX_SHADER,O),P=X.WebGLShader(d,d.FRAGMENT_SHADER,L);d.attachShader(C,R),d.attachShader(C,P),void 0!==l.index0AttributeName?d.bindAttribLocation(C,0,l.index0AttributeName):!0===h.morphTargets&&d.bindAttribLocation(C,0,"position"),d.linkProgram(C);var D,I,B=d.getProgramInfoLog(C),N=d.getShaderInfoLog(R),j=d.getShaderInfoLog(P),F=!0,U=!0;return!1===d.getProgramParameter(C,d.LINK_STATUS)?F=!1:""!==B||""!==N&&""!==j||(U=!1),U&&(this.diagnostics={runnable:F,material:l,programLog:B,vertexShader:{log:N,prefix:w},fragmentShader:{log:j,prefix:x}}),d.deleteShader(R),d.deleteShader(P),this.getUniforms=function(){return void 0===D&&(D=new X.WebGLUniforms(d,C,u)),D},this.getAttributes=function(){return void 0===I&&(I=function(t,e,n){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),a=0;a<i;a++){var o=t.getActiveAttrib(e,a).name;r[o]=t.getAttribLocation(e,o)}return r}(d,C)),I},this.destroy=function(){d.deleteProgram(C),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return this.getUniforms()}},attributes:{get:function(){return this.getAttributes()}}}),this.id=t++,this.code=c,this.usedTimes=1,this.program=C,this.vertexShader=R,this.fragmentShader=P,this}}(),X.WebGLPrograms=function(t,e){var n=[],r={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},i=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","depthPacking"];function a(t,e){var n;return t?t instanceof X.Texture?n=t.encoding:t instanceof X.WebGLRenderTarget&&(n=t.texture.encoding):n=X.LinearEncoding,n===X.LinearEncoding&&e&&(n=X.GammaEncoding),n}this.getParameters=function(n,i,o,s,u){var c=r[n.type],l=function(t){if(e.floatVertexTextures&&t&&t.skeleton&&t.skeleton.useVertexTexture)return 1024;var n=e.maxVertexUniforms,r=Math.floor((n-20)/4);return void 0!==t&&t instanceof X.SkinnedMesh&&(r=Math.min(t.skeleton.bones.length,r),t.skeleton.bones.length),r}(u),h=t.getPrecision();null!==n.precision&&(h=e.getMaxPrecision(n.precision),n.precision);var d=t.getCurrentRenderTarget();return{shaderID:c,precision:h,supportsVertexTextures:e.vertexTextures,outputEncoding:a(d?d.texture:null,t.gammaOutput),map:!!n.map,mapEncoding:a(n.map,t.gammaInput),envMap:!!n.envMap,envMapMode:n.envMap&&n.envMap.mapping,envMapEncoding:a(n.envMap,t.gammaInput),envMapCubeUV:!!n.envMap&&(n.envMap.mapping===X.CubeUVReflectionMapping||n.envMap.mapping===X.CubeUVRefractionMapping),lightMap:!!n.lightMap,aoMap:!!n.aoMap,emissiveMap:!!n.emissiveMap,emissiveMapEncoding:a(n.emissiveMap,t.gammaInput),bumpMap:!!n.bumpMap,normalMap:!!n.normalMap,displacementMap:!!n.displacementMap,roughnessMap:!!n.roughnessMap,metalnessMap:!!n.metalnessMap,specularMap:!!n.specularMap,alphaMap:!!n.alphaMap,combine:n.combine,vertexColors:n.vertexColors,fog:o,useFog:n.fog,fogExp:o instanceof X.FogExp2,flatShading:n.shading===X.FlatShading,sizeAttenuation:n.sizeAttenuation,logarithmicDepthBuffer:e.logarithmicDepthBuffer,skinning:n.skinning,maxBones:l,useVertexTexture:e.floatVertexTextures&&u&&u.skeleton&&u.skeleton.useVertexTexture,morphTargets:n.morphTargets,morphNormals:n.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:i.directional.length,numPointLights:i.point.length,numSpotLights:i.spot.length,numHemiLights:i.hemi.length,numClippingPlanes:s,shadowMapEnabled:t.shadowMap.enabled&&u.receiveShadow&&i.shadows.length>0,shadowMapType:t.shadowMap.type,toneMapping:t.toneMapping,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:n.premultipliedAlpha,alphaTest:n.alphaTest,doubleSided:n.side===X.DoubleSide,flipSided:n.side===X.BackSide,depthPacking:void 0!==n.depthPacking&&n.depthPacking}},this.getProgramCode=function(t,e){var n=[];if(e.shaderID?n.push(e.shaderID):(n.push(t.fragmentShader),n.push(t.vertexShader)),void 0!==t.defines)for(var r in t.defines)n.push(r),n.push(t.defines[r]);for(var a=0;a<i.length;a++)n.push(e[i[a]]);return n.join()},this.acquireProgram=function(e,r,i){for(var a,o=0,s=n.length;o<s;o++){var u=n[o];if(u.code===i){++(a=u).usedTimes;break}}return void 0===a&&(a=new X.WebGLProgram(t,i,e,r),n.push(a)),a},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=n.indexOf(t);n[e]=n[n.length-1],n.pop(),t.destroy()}},this.programs=n},X.WebGLProperties=function(){var t={};this.get=function(e){var n=e.uuid,r=t[n];return void 0===r&&(r={},t[n]=r),r},this.delete=function(e){delete t[e.uuid]},this.clear=function(){t={}}},X.WebGLShader=function(t,e,n){var r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS),t.getShaderInfoLog(r),r},X.WebGLShadowMap=function(t,e,n){var r=t.context,i=t.state,a=new X.Frustum,o=new X.Matrix4,s=e.shadows,u=new X.Vector2,c=new X.Vector3,l=new X.Vector3,h=[],d=new Array(4),p=new Array(4),f={},m=[new X.Vector3(1,0,0),new X.Vector3(-1,0,0),new X.Vector3(0,0,1),new X.Vector3(0,0,-1),new X.Vector3(0,1,0),new X.Vector3(0,-1,0)],g=[new X.Vector3(0,1,0),new X.Vector3(0,1,0),new X.Vector3(0,1,0),new X.Vector3(0,1,0),new X.Vector3(0,0,1),new X.Vector3(0,0,-1)],y=[new X.Vector4,new X.Vector4,new X.Vector4,new X.Vector4,new X.Vector4,new X.Vector4],v=new X.MeshDepthMaterial;v.depthPacking=X.RGBADepthPacking,v.clipping=!0;for(var b=X.ShaderLib.distanceRGBA,_=X.UniformsUtils.clone(b.uniforms),w=0;4!==w;++w){var x=0!=(1&w),S=0!=(2&w),T=v.clone();T.morphTargets=x,T.skinning=S,d[w]=T;var M=new X.ShaderMaterial({defines:{USE_SHADOWMAP:""},uniforms:_,vertexShader:b.vertexShader,fragmentShader:b.fragmentShader,morphTargets:x,skinning:S,clipping:!0});p[w]=M}var E=this;function A(e,n,r,i){var a=e.geometry,o=null,s=d,u=e.customDepthMaterial;if(r&&(s=p,u=e.customDistanceMaterial),u)o=u;else{var c=0;void 0!==a.morphTargets&&a.morphTargets.length>0&&n.morphTargets&&(c|=1),e instanceof X.SkinnedMesh&&n.skinning&&(c|=2),o=s[c]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var l=o.uuid,h=n.uuid,m=f[l];void 0===m&&(m={},f[l]=m);var g=m[h];void 0===g&&(g=o.clone(),m[h]=g),o=g}o.visible=n.visible,o.wireframe=n.wireframe;var y=n.side;return E.renderSingleSided&&y==X.DoubleSide&&(y=X.FrontSide),E.renderReverseSided&&(y===X.FrontSide?y=X.BackSide:y===X.BackSide&&(y=X.FrontSide)),o.side=y,o.clipShadows=n.clipShadows,o.clippingPlanes=n.clippingPlanes,o.wireframeLinewidth=n.wireframeLinewidth,o.linewidth=n.linewidth,r&&void 0!==o.uniforms.lightPos&&o.uniforms.lightPos.value.copy(i),o}function k(t,e,n){if(!1!==t.visible){if(t.layers.test(e.layers)&&(t instanceof X.Mesh||t instanceof X.Line||t instanceof X.Points))if(t.castShadow&&(!1===t.frustumCulled||!0===a.intersectsObject(t)))!0===t.material.visible&&(t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),h.push(t));for(var r=t.children,i=0,o=r.length;i<o;i++)k(r[i],e,n)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=X.PCFShadowMap,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function(e,d){if(!1!==E.enabled&&(!1!==E.autoUpdate||!1!==E.needsUpdate)&&0!==s.length){var p,f;i.clearColor(1,1,1,1),i.disable(r.BLEND),i.setDepthTest(!0),i.setScissorTest(!1);for(var v=0,b=s.length;v<b;v++){var _=s[v],w=_.shadow;if(void 0!==w){var x=w.camera;if(u.copy(w.mapSize),_ instanceof X.PointLight){p=6,f=!0;var S=u.x,T=u.y;y[0].set(2*S,T,S,T),y[1].set(0,T,S,T),y[2].set(3*S,T,S,T),y[3].set(S,T,S,T),y[4].set(3*S,0,S,T),y[5].set(S,0,S,T),u.x*=4,u.y*=2}else p=1,f=!1;if(null===w.map){var M={minFilter:X.NearestFilter,magFilter:X.NearestFilter,format:X.RGBAFormat};w.map=new X.WebGLRenderTarget(u.x,u.y,M),x.updateProjectionMatrix()}w instanceof X.SpotLightShadow&&w.update(_);var C=w.map,O=w.matrix;l.setFromMatrixPosition(_.matrixWorld),x.position.copy(l),t.setRenderTarget(C),t.clear();for(var L=0;L<p;L++){if(f){c.copy(x.position),c.add(m[L]),x.up.copy(g[L]),x.lookAt(c);var R=y[L];i.viewport(R)}else c.setFromMatrixPosition(_.target.matrixWorld),x.lookAt(c);x.updateMatrixWorld(),x.matrixWorldInverse.getInverse(x.matrixWorld),O.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),O.multiply(x.projectionMatrix),O.multiply(x.matrixWorldInverse),o.multiplyMatrices(x.projectionMatrix,x.matrixWorldInverse),a.setFromMatrix(o),h.length=0,k(e,d,x);for(var P=0,D=h.length;P<D;P++){var I=h[P],B=n.update(I),N=I.material;if(N instanceof X.MultiMaterial)for(var j=B.groups,F=N.materials,U=0,Y=j.length;U<Y;U++){var G=j[U],H=F[G.materialIndex];if(!0===H.visible){var z=A(I,H,f,l);t.renderBufferDirect(x,null,B,z,I,G)}}else{z=A(I,N,f,l);t.renderBufferDirect(x,null,B,z,I,null)}}}}}var V=t.getClearColor(),W=t.getClearAlpha();t.setClearColor(V,W),E.needsUpdate=!1}}},X.WebGLState=function(t,e,n){var r=this;this.buffers={color:new X.WebGLColorBuffer(t,this),depth:new X.WebGLDepthBuffer(t,this),stencil:new X.WebGLStencilBuffer(t,this)};var i=t.getParameter(t.MAX_VERTEX_ATTRIBS),a=new Uint8Array(i),o=new Uint8Array(i),s=new Uint8Array(i),u={},c=null,l=null,h=null,d=null,p=null,f=null,m=null,g=null,y=!1,v=null,b=null,_=null,w=null,x=null,S=null,T=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),M=null,E={},A=new X.Vector4,k=new X.Vector4;function C(e,n,r){var i=new Uint8Array(3),a=t.createTexture();t.bindTexture(e,a),t.texParameteri(e,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(e,t.TEXTURE_MAG_FILTER,t.NEAREST);for(var o=0;o<r;o++)t.texImage2D(n+o,0,t.RGB,1,1,0,t.RGB,t.UNSIGNED_BYTE,i);return a}var O={};O[t.TEXTURE_2D]=C(t.TEXTURE_2D,t.TEXTURE_2D,1),O[t.TEXTURE_CUBE_MAP]=C(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),this.init=function(){this.clearColor(0,0,0,1),this.clearDepth(1),this.clearStencil(0),this.enable(t.DEPTH_TEST),this.setDepthFunc(X.LessEqualDepth),this.setFlipSided(!1),this.setCullFace(X.CullFaceBack),this.enable(t.CULL_FACE),this.enable(t.BLEND),this.setBlending(X.NormalBlending)},this.initAttributes=function(){for(var t=0,e=a.length;t<e;t++)a[t]=0},this.enableAttribute=function(n){(a[n]=1,0===o[n]&&(t.enableVertexAttribArray(n),o[n]=1),0!==s[n])&&(e.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(n,0),s[n]=0)},this.enableAttributeAndDivisor=function(e,n,r){a[e]=1,0===o[e]&&(t.enableVertexAttribArray(e),o[e]=1),s[e]!==n&&(r.vertexAttribDivisorANGLE(e,n),s[e]=n)},this.disableUnusedAttributes=function(){for(var e=0,n=o.length;e!==n;++e)o[e]!==a[e]&&(t.disableVertexAttribArray(e),o[e]=0)},this.enable=function(e){!0!==u[e]&&(t.enable(e),u[e]=!0)},this.disable=function(e){!1!==u[e]&&(t.disable(e),u[e]=!1)},this.getCompressedTextureFormats=function(){if(null===c&&(c=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")))for(var n=t.getParameter(t.COMPRESSED_TEXTURE_FORMATS),r=0;r<n.length;r++)c.push(n[r]);return c},this.setBlending=function(e,r,i,a,o,s,u,c){if(e===X.NoBlending)return this.disable(t.BLEND),void(l=e);this.enable(t.BLEND),e===l&&c===y||(e===X.AdditiveBlending?c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE,t.ONE,t.ONE)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.SRC_ALPHA,t.ONE)):e===X.SubtractiveBlending?c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.ONE_MINUS_SRC_COLOR)):e===X.MultiplyBlending?c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA)):(t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ZERO,t.SRC_COLOR)):c?(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)):(t.blendEquationSeparate(t.FUNC_ADD,t.FUNC_ADD),t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA)),l=e,y=c),e===X.CustomBlending?(o=o||r,s=s||i,u=u||a,r===h&&o===f||(t.blendEquationSeparate(n(r),n(o)),h=r,f=o),i===d&&a===p&&s===m&&u===g||(t.blendFuncSeparate(n(i),n(a),n(s),n(u)),d=i,p=a,m=s,g=u)):(h=null,d=null,p=null,f=null,m=null,g=null)},this.setColorWrite=function(t){this.buffers.color.setMask(t)},this.setDepthTest=function(t){this.buffers.depth.setTest(t)},this.setDepthWrite=function(t){this.buffers.depth.setMask(t)},this.setDepthFunc=function(t){this.buffers.depth.setFunc(t)},this.setStencilTest=function(t){this.buffers.stencil.setTest(t)},this.setStencilWrite=function(t){this.buffers.stencil.setMask(t)},this.setStencilFunc=function(t,e,n){this.buffers.stencil.setFunc(t,e,n)},this.setStencilOp=function(t,e,n){this.buffers.stencil.setOp(t,e,n)},this.setFlipSided=function(e){v!==e&&(e?t.frontFace(t.CW):t.frontFace(t.CCW),v=e)},this.setCullFace=function(e){e!==X.CullFaceNone?(this.enable(t.CULL_FACE),e!==b&&(e===X.CullFaceBack?t.cullFace(t.BACK):e===X.CullFaceFront?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):this.disable(t.CULL_FACE),b=e},this.setLineWidth=function(e){e!==_&&(t.lineWidth(e),_=e)},this.setPolygonOffset=function(e,n,r){e?(this.enable(t.POLYGON_OFFSET_FILL),w===n&&x===r||(t.polygonOffset(n,r),w=n,x=r)):this.disable(t.POLYGON_OFFSET_FILL)},this.getScissorTest=function(){return S},this.setScissorTest=function(e){S=e,e?this.enable(t.SCISSOR_TEST):this.disable(t.SCISSOR_TEST)},this.activeTexture=function(e){void 0===e&&(e=t.TEXTURE0+T-1),M!==e&&(t.activeTexture(e),M=e)},this.bindTexture=function(e,n){null===M&&r.activeTexture();var i=E[M];void 0===i&&(i={type:void 0,texture:void 0},E[M]=i),i.type===e&&i.texture===n||(t.bindTexture(e,n||O[e]),i.type=e,i.texture=n)},this.compressedTexImage2D=function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){}},this.texImage2D=function(){try{t.texImage2D.apply(t,arguments)}catch(t){}},this.clearColor=function(t,e,n,r){this.buffers.color.setClear(t,e,n,r)},this.clearDepth=function(t){this.buffers.depth.setClear(t)},this.clearStencil=function(t){this.buffers.stencil.setClear(t)},this.scissor=function(e){!1===A.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),A.copy(e))},this.viewport=function(e){!1===k.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),k.copy(e))},this.reset=function(){for(var e=0;e<o.length;e++)1===o[e]&&(t.disableVertexAttribArray(e),o[e]=0);u={},c=null,M=null,E={},l=null,v=null,b=null,this.buffers.color.reset(),this.buffers.depth.reset(),this.buffers.stencil.reset()}},X.WebGLColorBuffer=function(t,e){var n=!1,r=new X.Vector4,i=null,a=new X.Vector4;this.setMask=function(e){i===e||n||(t.colorMask(e,e,e,e),i=e)},this.setLocked=function(t){n=t},this.setClear=function(e,n,i,o){r.set(e,n,i,o),!1===a.equals(r)&&(t.clearColor(e,n,i,o),a.copy(r))},this.reset=function(){n=!1,i=null,a=new X.Vector4}},X.WebGLDepthBuffer=function(t,e){var n=!1,r=null,i=null,a=null;this.setTest=function(n){n?e.enable(t.DEPTH_TEST):e.disable(t.DEPTH_TEST)},this.setMask=function(e){r===e||n||(t.depthMask(e),r=e)},this.setFunc=function(e){if(i!==e){if(e)switch(e){case X.NeverDepth:t.depthFunc(t.NEVER);break;case X.AlwaysDepth:t.depthFunc(t.ALWAYS);break;case X.LessDepth:t.depthFunc(t.LESS);break;case X.LessEqualDepth:t.depthFunc(t.LEQUAL);break;case X.EqualDepth:t.depthFunc(t.EQUAL);break;case X.GreaterEqualDepth:t.depthFunc(t.GEQUAL);break;case X.GreaterDepth:t.depthFunc(t.GREATER);break;case X.NotEqualDepth:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}else t.depthFunc(t.LEQUAL);i=e}},this.setLocked=function(t){n=t},this.setClear=function(e){a!==e&&(t.clearDepth(e),a=e)},this.reset=function(){n=!1,r=null,i=null,a=null}},X.WebGLStencilBuffer=function(t,e){var n=!1,r=null,i=null,a=null,o=null,s=null,u=null,c=null,l=null;this.setTest=function(n){n?e.enable(t.STENCIL_TEST):e.disable(t.STENCIL_TEST)},this.setMask=function(e){r===e||n||(t.stencilMask(e),r=e)},this.setFunc=function(e,n,r){i===e&&a===n&&o===r||(t.stencilFunc(e,n,r),i=e,a=n,o=r)},this.setOp=function(e,n,r){s===e&&u===n&&c===r||(t.stencilOp(e,n,r),s=e,u=n,c=r)},this.setLocked=function(t){n=t},this.setClear=function(e){l!==e&&(t.clearStencil(e),l=e)},this.reset=function(){n=!1,r=null,i=null,a=null,o=null,s=null,u=null,c=null,l=null}},X.WebGLUniforms=function(){var t=function(){this.seq=[],this.map={}},e=[],n=[],r=function(t,n,r){var i=t[0];if(i<=0||i>0)return t;var a=n*r,o=e[a];if(void 0===o&&(o=new Float32Array(a),e[a]=o),0!==n){i.toArray(o,0);for(var s=1,u=0;s!==n;++s)u+=r,t[s].toArray(o,u)}return o},i=function(t,e){var r=n[e];void 0===r&&(r=new Int32Array(e),n[e]=r);for(var i=0;i!==e;++i)r[i]=t.allocTextureUnit();return r},a=function(t,e){t.uniform1f(this.addr,e)},o=function(t,e){t.uniform1i(this.addr,e)},s=function(t,e){void 0===e.x?t.uniform2fv(this.addr,e):t.uniform2f(this.addr,e.x,e.y)},u=function(t,e){void 0!==e.x?t.uniform3f(this.addr,e.x,e.y,e.z):void 0!==e.r?t.uniform3f(this.addr,e.r,e.g,e.b):t.uniform3fv(this.addr,e)},c=function(t,e){void 0===e.x?t.uniform4fv(this.addr,e):t.uniform4f(this.addr,e.x,e.y,e.z,e.w)},l=function(t,e){t.uniformMatrix2fv(this.addr,!1,e.elements||e)},h=function(t,e){t.uniformMatrix3fv(this.addr,!1,e.elements||e)},d=function(t,e){t.uniformMatrix4fv(this.addr,!1,e.elements||e)},p=function(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),e&&n.setTexture2D(e,r)},f=function(t,e,n){var r=n.allocTextureUnit();t.uniform1i(this.addr,r),e&&n.setTextureCube(e,r)},m=function(t,e){t.uniform2iv(this.addr,e)},g=function(t,e){t.uniform3iv(this.addr,e)},y=function(t,e){t.uniform4iv(this.addr,e)},v=function(t,e){t.uniform1fv(this.addr,e)},b=function(t,e){t.uniform1iv(this.addr,e)},_=function(t,e){t.uniform2fv(this.addr,r(e,this.size,2))},w=function(t,e){t.uniform3fv(this.addr,r(e,this.size,3))},x=function(t,e){t.uniform4fv(this.addr,r(e,this.size,4))},S=function(t,e){t.uniformMatrix2fv(this.addr,!1,r(e,this.size,4))},T=function(t,e){t.uniformMatrix3fv(this.addr,!1,r(e,this.size,9))},M=function(t,e){t.uniformMatrix4fv(this.addr,!1,r(e,this.size,16))},E=function(t,e,n){var r=e.length,a=i(n,r);t.uniform1iv(this.addr,a);for(var o=0;o!==r;++o){var s=e[o];s&&n.setTexture2D(s,a[o])}},A=function(t,e,n){var r=e.length,a=i(n,r);t.uniform1iv(this.addr,a);for(var o=0;o!==r;++o){var s=e[o];s&&n.setTextureCube(s,a[o])}},k=function(t,e,n){this.id=t,this.addr=n,this.setValue=function(t){switch(t){case 5126:return a;case 35664:return s;case 35665:return u;case 35666:return c;case 35674:return l;case 35675:return h;case 35676:return d;case 35678:return p;case 35680:return f;case 5124:case 35670:return o;case 35667:case 35671:return m;case 35668:case 35672:return g;case 35669:case 35673:return y}}(e.type)},C=function(t,e,n){this.id=t,this.addr=n,this.size=e.size,this.setValue=function(t){switch(t){case 5126:return v;case 35664:return _;case 35665:return w;case 35666:return x;case 35674:return S;case 35675:return T;case 35676:return M;case 35678:return E;case 35680:return A;case 5124:case 35670:return b;case 35667:case 35671:return m;case 35668:case 35672:return g;case 35669:case 35673:return y}}(e.type)},O=function(e){this.id=e,t.call(this)};O.prototype.setValue=function(t,e){for(var n=this.seq,r=0,i=n.length;r!==i;++r){var a=n[r];a.setValue(t,e[a.id])}};var L=/([\w\d_]+)(\])?(\[|\.)?/g,R=function(t,e){t.seq.push(e),t.map[e.id]=e},P=function(t,e,n){var r=t.name,i=r.length;for(L.lastIndex=0;;){var a=L.exec(r),o=L.lastIndex,s=a[1],u="]"===a[2],c=a[3];if(u&&(s|=0),void 0===c||"["===c&&o+2===i){R(n,void 0===c?new k(s,t,e):new C(s,t,e));break}var l=n.map[s];void 0===l&&(l=new O(s),R(n,l)),n=l}},D=function(e,n,r){t.call(this),this.renderer=r;for(var i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS),a=0;a!==i;++a){var o=e.getActiveUniform(n,a),s=o.name,u=e.getUniformLocation(n,s);P(o,u,this)}};return D.prototype.setValue=function(t,e,n){var r=this.map[e];void 0!==r&&r.setValue(t,n,this.renderer)},D.prototype.set=function(t,e,n){var r=this.map[n];void 0!==r&&r.setValue(t,e[n],this.renderer)},D.prototype.setOptional=function(t,e,n){var r=e[n];void 0!==r&&this.setValue(t,n,r)},D.upload=function(t,e,n,r){for(var i=0,a=e.length;i!==a;++i){var o=e[i],s=n[o.id];!1!==s.needsUpdate&&o.setValue(t,s.value,r)}},D.seqWithValue=function(t,e){for(var n=[],r=0,i=t.length;r!==i;++r){var a=t[r];a.id in e&&n.push(a)}return n},D.splitDynamic=function(t,e){for(var n=null,r=t.length,i=0,a=0;a!==r;++a){var o=t[a],s=e[o.id];s&&!0===s.dynamic?(null===n&&(n=[]),n.push(o)):(i<a&&(t[i]=o),++i)}return i<r&&(t.length=i),n},D.evalDynamic=function(t,e,n,r){for(var i=0,a=t.length;i!==a;++i){var o=e[t[i].id],s=o.onUpdateCallback;void 0!==s&&s.call(o,n,r)}},D}(),X.LensFlarePlugin=function(t,e){var n,r,i,a,o,s,u,c,l=t.context,h=t.state;function d(){var e=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),d=new Uint16Array([0,1,2,0,2,3]);n=l.createBuffer(),r=l.createBuffer(),l.bindBuffer(l.ARRAY_BUFFER,n),l.bufferData(l.ARRAY_BUFFER,e,l.STATIC_DRAW),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,r),l.bufferData(l.ELEMENT_ARRAY_BUFFER,d,l.STATIC_DRAW),u=l.createTexture(),c=l.createTexture(),h.bindTexture(l.TEXTURE_2D,u),l.texImage2D(l.TEXTURE_2D,0,l.RGB,16,16,0,l.RGB,l.UNSIGNED_BYTE,null),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),h.bindTexture(l.TEXTURE_2D,c),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,16,16,0,l.RGBA,l.UNSIGNED_BYTE,null),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,l.CLAMP_TO_EDGE),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,l.NEAREST),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.NEAREST),i={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},a=function(e){var n=l.createProgram(),r=l.createShader(l.FRAGMENT_SHADER),i=l.createShader(l.VERTEX_SHADER),a="precision "+t.getPrecision()+" float;\n";return l.shaderSource(r,a+e.fragmentShader),l.shaderSource(i,a+e.vertexShader),l.compileShader(r),l.compileShader(i),l.attachShader(n,r),l.attachShader(n,i),l.linkProgram(n),n}(i),o={vertex:l.getAttribLocation(a,"position"),uv:l.getAttribLocation(a,"uv")},s={renderType:l.getUniformLocation(a,"renderType"),map:l.getUniformLocation(a,"map"),occlusionMap:l.getUniformLocation(a,"occlusionMap"),opacity:l.getUniformLocation(a,"opacity"),color:l.getUniformLocation(a,"color"),scale:l.getUniformLocation(a,"scale"),rotation:l.getUniformLocation(a,"rotation"),screenPosition:l.getUniformLocation(a,"screenPosition")}}this.render=function(i,p,f){if(0!==e.length){var m=new X.Vector3,g=f.w/f.z,y=.5*f.z,v=.5*f.w,b=16/f.w,_=new X.Vector2(b*g,b),w=new X.Vector3(1,1,0),x=new X.Vector2(1,1),S=new X.Box2;S.min.set(0,0),S.max.set(f.z-16,f.w-16),void 0===a&&d(),l.useProgram(a),h.initAttributes(),h.enableAttribute(o.vertex),h.enableAttribute(o.uv),h.disableUnusedAttributes(),l.uniform1i(s.occlusionMap,0),l.uniform1i(s.map,1),l.bindBuffer(l.ARRAY_BUFFER,n),l.vertexAttribPointer(o.vertex,2,l.FLOAT,!1,16,0),l.vertexAttribPointer(o.uv,2,l.FLOAT,!1,16,8),l.bindBuffer(l.ELEMENT_ARRAY_BUFFER,r),h.disable(l.CULL_FACE),h.setDepthWrite(!1);for(var T=0,M=e.length;T<M;T++){b=16/f.w,_.set(b*g,b);var E=e[T];if(m.set(E.matrixWorld.elements[12],E.matrixWorld.elements[13],E.matrixWorld.elements[14]),m.applyMatrix4(p.matrixWorldInverse),m.applyProjection(p.projectionMatrix),w.copy(m),x.x=f.x+w.x*y+y-8,x.y=f.y+w.y*v+v-8,!0===S.containsPoint(x)){h.activeTexture(l.TEXTURE0),h.bindTexture(l.TEXTURE_2D,null),h.activeTexture(l.TEXTURE1),h.bindTexture(l.TEXTURE_2D,u),l.copyTexImage2D(l.TEXTURE_2D,0,l.RGB,x.x,x.y,16,16,0),l.uniform1i(s.renderType,0),l.uniform2f(s.scale,_.x,_.y),l.uniform3f(s.screenPosition,w.x,w.y,w.z),h.disable(l.BLEND),h.enable(l.DEPTH_TEST),l.drawElements(l.TRIANGLES,6,l.UNSIGNED_SHORT,0),h.activeTexture(l.TEXTURE0),h.bindTexture(l.TEXTURE_2D,c),l.copyTexImage2D(l.TEXTURE_2D,0,l.RGBA,x.x,x.y,16,16,0),l.uniform1i(s.renderType,1),h.disable(l.DEPTH_TEST),h.activeTexture(l.TEXTURE1),h.bindTexture(l.TEXTURE_2D,u),l.drawElements(l.TRIANGLES,6,l.UNSIGNED_SHORT,0),E.positionScreen.copy(w),E.customUpdateCallback?E.customUpdateCallback(E):E.updateLensFlares(),l.uniform1i(s.renderType,2),h.enable(l.BLEND);for(var A=0,k=E.lensFlares.length;A<k;A++){var C=E.lensFlares[A];C.opacity>.001&&C.scale>.001&&(w.x=C.x,w.y=C.y,w.z=C.z,b=C.size*C.scale/f.w,_.x=b*g,_.y=b,l.uniform3f(s.screenPosition,w.x,w.y,w.z),l.uniform2f(s.scale,_.x,_.y),l.uniform1f(s.rotation,C.rotation),l.uniform1f(s.opacity,C.opacity),l.uniform3f(s.color,C.color.r,C.color.g,C.color.b),h.setBlending(C.blending,C.blendEquation,C.blendSrc,C.blendDst),t.setTexture2D(C.texture,1),l.drawElements(l.TRIANGLES,6,l.UNSIGNED_SHORT,0))}}}h.enable(l.CULL_FACE),h.enable(l.DEPTH_TEST),h.setDepthWrite(!0),t.resetGLState()}}},X.SpritePlugin=function(t,e){var n,r,i,a,o,s,u=t.context,c=t.state,l=new X.Vector3,h=new X.Quaternion,d=new X.Vector3;function p(){var e=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),c=new Uint16Array([0,1,2,0,2,3]);n=u.createBuffer(),r=u.createBuffer(),u.bindBuffer(u.ARRAY_BUFFER,n),u.bufferData(u.ARRAY_BUFFER,e,u.STATIC_DRAW),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,r),u.bufferData(u.ELEMENT_ARRAY_BUFFER,c,u.STATIC_DRAW),i=function(){var e=u.createProgram(),n=u.createShader(u.VERTEX_SHADER),r=u.createShader(u.FRAGMENT_SHADER);return u.shaderSource(n,["precision "+t.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),u.shaderSource(r,["precision "+t.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),u.compileShader(n),u.compileShader(r),u.attachShader(e,n),u.attachShader(e,r),u.linkProgram(e),e}(),a={position:u.getAttribLocation(i,"position"),uv:u.getAttribLocation(i,"uv")},o={uvOffset:u.getUniformLocation(i,"uvOffset"),uvScale:u.getUniformLocation(i,"uvScale"),rotation:u.getUniformLocation(i,"rotation"),scale:u.getUniformLocation(i,"scale"),color:u.getUniformLocation(i,"color"),map:u.getUniformLocation(i,"map"),opacity:u.getUniformLocation(i,"opacity"),modelViewMatrix:u.getUniformLocation(i,"modelViewMatrix"),projectionMatrix:u.getUniformLocation(i,"projectionMatrix"),fogType:u.getUniformLocation(i,"fogType"),fogDensity:u.getUniformLocation(i,"fogDensity"),fogNear:u.getUniformLocation(i,"fogNear"),fogFar:u.getUniformLocation(i,"fogFar"),fogColor:u.getUniformLocation(i,"fogColor"),alphaTest:u.getUniformLocation(i,"alphaTest")};var l=document.createElement("canvas");l.width=8,l.height=8;var h=l.getContext("2d");h.fillStyle="white",h.fillRect(0,0,8,8),(s=new X.Texture(l)).needsUpdate=!0}function f(t,e){return t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:e.id-t.id}this.render=function(m,g){if(0!==e.length){void 0===i&&p(),u.useProgram(i),c.initAttributes(),c.enableAttribute(a.position),c.enableAttribute(a.uv),c.disableUnusedAttributes(),c.disable(u.CULL_FACE),c.enable(u.BLEND),u.bindBuffer(u.ARRAY_BUFFER,n),u.vertexAttribPointer(a.position,2,u.FLOAT,!1,16,0),u.vertexAttribPointer(a.uv,2,u.FLOAT,!1,16,8),u.bindBuffer(u.ELEMENT_ARRAY_BUFFER,r),u.uniformMatrix4fv(o.projectionMatrix,!1,g.projectionMatrix.elements),c.activeTexture(u.TEXTURE0),u.uniform1i(o.map,0);var y=0,v=0,b=m.fog;b?(u.uniform3f(o.fogColor,b.color.r,b.color.g,b.color.b),b instanceof X.Fog?(u.uniform1f(o.fogNear,b.near),u.uniform1f(o.fogFar,b.far),u.uniform1i(o.fogType,1),y=1,v=1):b instanceof X.FogExp2&&(u.uniform1f(o.fogDensity,b.density),u.uniform1i(o.fogType,2),y=2,v=2)):(u.uniform1i(o.fogType,0),y=0,v=0);for(var _=0,w=e.length;_<w;_++){(S=e[_]).modelViewMatrix.multiplyMatrices(g.matrixWorldInverse,S.matrixWorld),S.z=-S.modelViewMatrix.elements[14]}e.sort(f);var x=[];for(_=0,w=e.length;_<w;_++){var S,T=(S=e[_]).material;u.uniform1f(o.alphaTest,T.alphaTest),u.uniformMatrix4fv(o.modelViewMatrix,!1,S.modelViewMatrix.elements),S.matrixWorld.decompose(l,h,d),x[0]=d.x,x[1]=d.y;var M=0;m.fog&&T.fog&&(M=v),y!==M&&(u.uniform1i(o.fogType,M),y=M),null!==T.map?(u.uniform2f(o.uvOffset,T.map.offset.x,T.map.offset.y),u.uniform2f(o.uvScale,T.map.repeat.x,T.map.repeat.y)):(u.uniform2f(o.uvOffset,0,0),u.uniform2f(o.uvScale,1,1)),u.uniform1f(o.opacity,T.opacity),u.uniform3f(o.color,T.color.r,T.color.g,T.color.b),u.uniform1f(o.rotation,T.rotation),u.uniform2fv(o.scale,x),c.setBlending(T.blending,T.blendEquation,T.blendSrc,T.blendDst),c.setDepthTest(T.depthTest),c.setDepthWrite(T.depthWrite),T.map?t.setTexture2D(T.map,0):t.setTexture2D(s,0),u.drawElements(u.TRIANGLES,6,u.UNSIGNED_SHORT,0)}c.enable(u.CULL_FACE),t.resetGLState()}}},Object.assign(X,{Face4:function(t,e,n,r,i,a,o){return new X.Face3(t,e,n,i,a,o)},LineStrip:0,LinePieces:1,MeshFaceMaterial:X.MultiMaterial,PointCloud:function(t,e){return new X.Points(t,e)},Particle:X.Sprite,ParticleSystem:function(t,e){return new X.Points(t,e)},PointCloudMaterial:function(t){return new X.PointsMaterial(t)},ParticleBasicMaterial:function(t){return new X.PointsMaterial(t)},ParticleSystemMaterial:function(t){return new X.PointsMaterial(t)},Vertex:function(t,e,n){return new X.Vector3(t,e,n)}}),Object.assign(X.Box2.prototype,{empty:function(){return this.isEmpty()},isIntersectionBox:function(t){return this.intersectsBox(t)}}),Object.assign(X.Box3.prototype,{empty:function(){return this.isEmpty()},isIntersectionBox:function(t){return this.intersectsBox(t)},isIntersectionSphere:function(t){return this.intersectsSphere(t)}}),Object.assign(X.Matrix3.prototype,{multiplyVector3:function(t){return t.applyMatrix3(this)},multiplyVector3Array:function(t){return this.applyToVector3Array(t)}}),Object.assign(X.Matrix4.prototype,{extractPosition:function(t){return this.copyPosition(t)},setRotationFromQuaternion:function(t){return this.makeRotationFromQuaternion(t)},multiplyVector3:function(t){return t.applyProjection(this)},multiplyVector4:function(t){return t.applyMatrix4(this)},multiplyVector3Array:function(t){return this.applyToVector3Array(t)},rotateAxis:function(t){t.transformDirection(this)},crossVector:function(t){return t.applyMatrix4(this)},translate:function(t){},rotateX:function(t){},rotateY:function(t){},rotateZ:function(t){},rotateByAxis:function(t,e){}}),Object.assign(X.Plane.prototype,{isIntersectionLine:function(t){return this.intersectsLine(t)}}),Object.assign(X.Quaternion.prototype,{multiplyVector3:function(t){return t.applyQuaternion(this)}}),Object.assign(X.Ray.prototype,{isIntersectionBox:function(t){return this.intersectsBox(t)},isIntersectionPlane:function(t){return this.intersectsPlane(t)},isIntersectionSphere:function(t){return this.intersectsSphere(t)}}),Object.assign(X.Vector3.prototype,{setEulerFromRotationMatrix:function(){},setEulerFromQuaternion:function(){},getPositionFromMatrix:function(t){return this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return this.setFromMatrixColumn(e,t)}}),Object.assign(X.Object3D.prototype,{getChildByName:function(t){return this.getObjectByName(t)},renderDepth:function(t){},translate:function(t,e){return this.translateOnAxis(e,t)}}),Object.defineProperties(X.Object3D.prototype,{eulerOrder:{get:function(){return this.rotation.order},set:function(t){this.rotation.order=t}},useQuaternion:{get:function(){},set:function(t){}}}),Object.defineProperties(X.LOD.prototype,{objects:{get:function(){return this.levels}}}),X.PerspectiveCamera.prototype.setLens=function(t,e){void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(X.Light.prototype,{onlyShadow:{set:function(t){}},shadowCameraFov:{set:function(t){this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){this.shadow.camera.far=t}},shadowCameraVisible:{set:function(t){}},shadowBias:{set:function(t){this.shadow.bias=t}},shadowDarkness:{set:function(t){}},shadowMapWidth:{set:function(t){this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){this.shadow.mapSize.height=t}}}),Object.defineProperties(X.BufferAttribute.prototype,{length:{get:function(){return this.array.length}}}),Object.assign(X.BufferGeometry.prototype,{addIndex:function(t){this.setIndex(t)},addDrawCall:function(t,e,n){this.addGroup(t,e)},clearDrawCalls:function(){this.clearGroups()},computeTangents:function(){},computeOffsets:function(){}}),Object.defineProperties(X.BufferGeometry.prototype,{drawcalls:{get:function(){return this.groups}},offsets:{get:function(){return this.groups}}}),Object.defineProperties(X.Material.prototype,{wrapAround:{get:function(){},set:function(t){}},wrapRGB:{get:function(){return new X.Color}}}),Object.defineProperties(X.MeshPhongMaterial.prototype,{metal:{get:function(){return!1},set:function(t){}}}),Object.defineProperties(X.ShaderMaterial.prototype,{derivatives:{get:function(){return this.extensions.derivatives},set:function(t){this.extensions.derivatives=t}}}),X.EventDispatcher.prototype=Object.assign(Object.create({constructor:X.EventDispatcher,apply:function(t){Object.assign(t,this)}}),X.EventDispatcher.prototype),Object.assign(X.WebGLRenderer.prototype,{supportsFloatTextures:function(){return this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},supportsInstancedArrays:function(){return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){this.setScissorTest(t)},initMaterial:function(){},addPrePlugin:function(){},addPostPlugin:function(){},updateShadowMap:function(){}}),Object.defineProperties(X.WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){this.shadowMap.type=t}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(t){this.shadowMap.cullFace=t}}}),Object.defineProperties(X.WebGLShadowMap.prototype,{cullFace:{get:function(){return this.renderReverseSided?X.CullFaceFront:X.CullFaceBack},set:function(t){var e=t!==X.CullFaceBack;this.renderReverseSided=e}}}),Object.defineProperties(X.WebGLRenderTarget.prototype,{wrapS:{get:function(){return this.texture.wrapS},set:function(t){this.texture.wrapS=t}},wrapT:{get:function(){return this.texture.wrapT},set:function(t){this.texture.wrapT=t}},magFilter:{get:function(){return this.texture.magFilter},set:function(t){this.texture.magFilter=t}},minFilter:{get:function(){return this.texture.minFilter},set:function(t){this.texture.minFilter=t}},anisotropy:{get:function(){return this.texture.anisotropy},set:function(t){this.texture.anisotropy=t}},offset:{get:function(){return this.texture.offset},set:function(t){this.texture.offset=t}},repeat:{get:function(){return this.texture.repeat},set:function(t){this.texture.repeat=t}},format:{get:function(){return this.texture.format},set:function(t){this.texture.format=t}},type:{get:function(){return this.texture.type},set:function(t){this.texture.type=t}},generateMipmaps:{get:function(){return this.texture.generateMipmaps},set:function(t){this.texture.generateMipmaps=t}}}),Object.assign(X.Audio.prototype,{load:function(t){var e=this;return(new X.AudioLoader).load(t,(function(t){e.setBuffer(t)})),this}}),Object.assign(X.AudioAnalyser.prototype,{getData:function(t){return this.getFrequencyData()}}),X.GeometryUtils={merge:function(t,e,n){var r;e instanceof X.Mesh&&(e.matrixAutoUpdate&&e.updateMatrix(),r=e.matrix,e=e.geometry),t.merge(e,r,n)},center:function(t){return t.center()}},X.ImageUtils={crossOrigin:void 0,loadTexture:function(t,e,n,r){var i=new X.TextureLoader;i.setCrossOrigin(this.crossOrigin);var a=i.load(t,n,void 0,r);return e&&(a.mapping=e),a},loadTextureCube:function(t,e,n,r){var i=new X.CubeTextureLoader;i.setCrossOrigin(this.crossOrigin);var a=i.load(t,n,void 0,r);return e&&(a.mapping=e),a},loadCompressedTexture:function(){},loadCompressedTextureCube:function(){}},X.Projector=function(){this.projectVector=function(t,e){t.project(e)},this.unprojectVector=function(t,e){t.unproject(e)},this.pickingRay=function(t,e){}},X.CanvasRenderer=function(){this.domElement=document.createElement("canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},X.CurveUtils={tangentQuadraticBezier:function(t,e,n,r){return 2*(1-t)*(n-e)+2*t*(r-n)},tangentCubicBezier:function(t,e,n,r,i){return-3*e*(1-t)*(1-t)+3*n*(1-t)*(1-t)-6*t*n*(1-t)+6*t*r*(1-t)-3*t*t*r+3*t*t*i},tangentSpline:function(t,e,n,r,i){return 6*t*t-6*t+(3*t*t-4*t+1)+(-6*t*t+6*t)+(3*t*t-2*t)},interpolate:function(t,e,n,r,i){var a=.5*(n-t),o=.5*(r-e),s=i*i;return(2*e-2*n+a+o)*(i*s)+(-3*e+3*n-2*a-o)*s+a*i+e}},X.SceneUtils={createMultiMaterialObject:function(t,e){for(var n=new X.Group,r=0,i=e.length;r<i;r++)n.add(new X.Mesh(t,e[r]));return n},detach:function(t,e,n){t.applyMatrix(e.matrixWorld),e.remove(t),n.add(t)},attach:function(t,e,n){var r=new X.Matrix4;r.getInverse(n.matrixWorld),t.applyMatrix(r),e.remove(t),n.add(t)}},X.ShapeUtils={area:function(t){for(var e=t.length,n=0,r=e-1,i=0;i<e;r=i++)n+=t[r].x*t[i].y-t[i].x*t[r].y;return.5*n},triangulate:function(){function t(t,e,n,r,i,a){var o,s,u,c,l,h,d,p,f,m,g,y,v,b,_,w,x;if(s=t[a[e]].x,u=t[a[e]].y,c=t[a[n]].x,l=t[a[n]].y,h=t[a[r]].x,d=t[a[r]].y,Number.EPSILON>(c-s)*(d-u)-(l-u)*(h-s))return!1;for(m=h-c,g=d-l,y=s-h,v=u-d,b=c-s,_=l-u,o=0;o<i;o++)if(p=t[a[o]].x,f=t[a[o]].y,!(p===s&&f===u||p===c&&f===l||p===h&&f===d)&&(w=b*(f-u)-_*(p-s),x=y*(f-d)-v*(p-h),m*(f-l)-g*(p-c)>=-Number.EPSILON&&x>=-Number.EPSILON&&w>=-Number.EPSILON))return!1;return!0}return function(e,n){var r=e.length;if(r<3)return null;var i,a,o,s=[],u=[],c=[];if(X.ShapeUtils.area(e)>0)for(a=0;a<r;a++)u[a]=a;else for(a=0;a<r;a++)u[a]=r-1-a;var l=r,h=2*l;for(a=l-1;l>2;){if(h--<=0)return n?c:s;if(l<=(i=a)&&(i=0),l<=(a=i+1)&&(a=0),l<=(o=a+1)&&(o=0),t(e,i,a,o,l,u)){var d,p,f,m,g;for(d=u[i],p=u[a],f=u[o],s.push([e[d],e[p],e[f]]),c.push([u[i],u[a],u[o]]),m=a,g=a+1;g<l;m++,g++)u[m]=u[g];h=2*--l}}return n?c:s}}(),triangulateShape:function(t,e){function n(t,e,n){return t.x!==e.x?t.x<e.x?t.x<=n.x&&n.x<=e.x:e.x<=n.x&&n.x<=t.x:t.y<e.y?t.y<=n.y&&n.y<=e.y:e.y<=n.y&&n.y<=t.y}function r(t,e,r,i,a){var o=e.x-t.x,s=e.y-t.y,u=i.x-r.x,c=i.y-r.y,l=t.x-r.x,h=t.y-r.y,d=s*u-o*c,p=s*l-o*h;if(Math.abs(d)>Number.EPSILON){var f;if(d>0){if(p<0||p>d)return[];if((f=c*l-u*h)<0||f>d)return[]}else{if(p>0||p<d)return[];if((f=c*l-u*h)>0||f<d)return[]}if(0===f)return!a||0!==p&&p!==d?[t]:[];if(f===d)return!a||0!==p&&p!==d?[e]:[];if(0===p)return[r];if(p===d)return[i];var m=f/d;return[{x:t.x+m*o,y:t.y+m*s}]}if(0!==p||c*l!=u*h)return[];var g,y,v,b,_,w,x,S,T=0===o&&0===s,M=0===u&&0===c;return T&&M?t.x!==r.x||t.y!==r.y?[]:[t]:T?n(r,i,t)?[t]:[]:M?n(t,e,r)?[r]:[]:(0!==o?(t.x<e.x?(g=t,v=t.x,y=e,b=e.x):(g=e,v=e.x,y=t,b=t.x),r.x<i.x?(_=r,x=r.x,w=i,S=i.x):(_=i,x=i.x,w=r,S=r.x)):(t.y<e.y?(g=t,v=t.y,y=e,b=e.y):(g=e,v=e.y,y=t,b=t.y),r.y<i.y?(_=r,x=r.y,w=i,S=i.y):(_=i,x=i.y,w=r,S=r.y)),v<=x?b<x?[]:b===x?a?[]:[_]:b<=S?[_,y]:[_,w]:v>S?[]:v===S?a?[]:[g]:b<=S?[g,y]:[g,w])}function i(t,e,n,r){var i=e.x-t.x,a=e.y-t.y,o=n.x-t.x,s=n.y-t.y,u=r.x-t.x,c=r.y-t.y,l=i*s-a*o,h=i*c-a*u;if(Math.abs(l)>Number.EPSILON){var d=u*s-c*o;return l>0?h>=0&&d>=0:h>=0||d>=0}return h>0}for(var a,o,s,u,c,l,h={},d=t.concat(),p=0,f=e.length;p<f;p++)Array.prototype.push.apply(d,e[p]);for(a=0,o=d.length;a<o;a++)h[c=d[a].x+":"+d[a].y],h[c]=a;var m=function(t,e){var n,a=t.concat();function o(t,e){var r=a.length-1,o=t-1;o<0&&(o=r);var s=t+1;s>r&&(s=0);var u=i(a[t],a[o],a[s],n[e]);if(!u)return!1;var c=n.length-1,l=e-1;l<0&&(l=c);var h=e+1;return h>c&&(h=0),!!(u=i(n[e],n[l],n[h],a[t]))}function s(t,e){var n,i;for(n=0;n<a.length;n++)if(i=n+1,i%=a.length,r(t,e,a[n],a[i],!0).length>0)return!0;return!1}var u=[];function c(t,n){var i,a,o,s;for(i=0;i<u.length;i++)for(a=e[u[i]],o=0;o<a.length;o++)if(s=o+1,s%=a.length,r(t,n,a[o],a[s],!0).length>0)return!0;return!1}for(var l,h,d,p,f,m,g,y,v,b,_=[],w=0,x=e.length;w<x;w++)u.push(w);for(var S=0,T=2*u.length;u.length>0&&!(--T<0);)for(h=S;h<a.length;h++){d=a[h],l=-1;for(w=0;w<u.length;w++)if(f=u[w],void 0===_[m=d.x+":"+d.y+":"+f]){n=e[f];for(var M=0;M<n.length;M++)if(p=n[M],o(h,M)&&!s(d,p)&&!c(d,p)){l=M,u.splice(w,1),g=a.slice(0,h+1),y=a.slice(h),v=n.slice(l),b=n.slice(0,l+1),a=g.concat(v).concat(b).concat(y),S=h;break}if(l>=0)break;_[m]=!0}if(l>=0)break}return a}(t,e),g=X.ShapeUtils.triangulate(m,!1);for(a=0,o=g.length;a<o;a++)for(u=g[a],s=0;s<3;s++)void 0!==(l=h[c=u[s].x+":"+u[s].y])&&(u[s]=l);return g.concat()},isClockWise:function(t){return X.ShapeUtils.area(t)<0},b2:function(t,e,n,r){return function(t,e){var n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,r)},b3:function(t,e,n,r,i){return function(t,e){var n=1-t;return n*n*n*e}(t,e)+function(t,e){var n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,r)+function(t,e){return t*t*t*e}(t,i)}},X.Curve=function(){},X.Curve.prototype={constructor:X.Curve,getPoint:function(t){return null},getPointAt:function(t){var e=this.getUtoTmapping(t);return this.getPoint(e)},getPoints:function(t){t||(t=5);var e,n=[];for(e=0;e<=t;e++)n.push(this.getPoint(e/t));return n},getSpacedPoints:function(t){t||(t=5);var e,n=[];for(e=0;e<=t;e++)n.push(this.getPointAt(e/t));return n},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(t||(t=this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,r=[],i=this.getPoint(0),a=0;for(r.push(0),n=1;n<=t;n++)a+=(e=this.getPoint(n/t)).distanceTo(i),r.push(a),i=e;return this.cacheArcLengths=r,r},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,r=this.getLengths(),i=0,a=r.length;n=e||t*r[a-1];for(var o,s=0,u=a-1;s<=u;)if((o=r[i=Math.floor(s+(u-s)/2)]-n)<0)s=i+1;else{if(!(o>0)){u=i;break}u=i-1}if(r[i=u]===n)return i/(a-1);var c=r[i];return(i+(n-c)/(r[i+1]-c))/(a-1)},getTangent:function(t){var e=t-1e-4,n=t+1e-4;e<0&&(e=0),n>1&&(n=1);var r=this.getPoint(e);return this.getPoint(n).clone().sub(r).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)}},X.Curve.create=function(t,e){return t.prototype=Object.create(X.Curve.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},X.CurvePath=function(){this.curves=[],this.autoClose=!1},X.CurvePath.prototype=Object.assign(Object.create(X.Curve.prototype),{constructor:X.CurvePath,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new X.LineCurve(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),r=0;r<n.length;){if(n[r]>=e){var i=n[r]-e,a=this.curves[r],o=1-i/a.getLength();return a.getPointAt(o)}r++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,r=this.curves.length;n<r;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},createPointsGeometry:function(t){var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){for(var e=new X.Geometry,n=0,r=t.length;n<r;n++){var i=t[n];e.vertices.push(new X.Vector3(i.x,i.y,i.z||0))}return e}}),X.Font=function(t){this.data=t},Object.assign(X.Font.prototype,{generateShapes:function(t,e,n){function r(t,e,r){var a=i.glyphs[t]||i.glyphs["?"];if(a){var o,s,u,c,l,h,d,p,f,m,g,y=new X.Path,v=[],b=X.ShapeUtils.b2,_=X.ShapeUtils.b3;if(a.o)for(var w=a._cachedOutline||(a._cachedOutline=a.o.split(" ")),x=0,S=w.length;x<S;){switch(w[x++]){case"m":o=w[x++]*e+r,s=w[x++]*e,y.moveTo(o,s);break;case"l":o=w[x++]*e+r,s=w[x++]*e,y.lineTo(o,s);break;case"q":if(u=w[x++]*e+r,c=w[x++]*e,d=w[x++]*e+r,p=w[x++]*e,y.quadraticCurveTo(d,p,u,c),g=v[v.length-1]){l=g.x,h=g.y;for(var T=1;T<=n;T++){b(M=T/n,l,d,u),b(M,h,p,c)}}break;case"b":if(u=w[x++]*e+r,c=w[x++]*e,d=w[x++]*e+r,p=w[x++]*e,f=w[x++]*e+r,m=w[x++]*e,y.bezierCurveTo(d,p,f,m,u,c),g=v[v.length-1]){l=g.x,h=g.y;for(T=1;T<=n;T++){var M;_(M=T/n,l,d,f,u),_(M,h,p,m,c)}}}}return{offset:a.ha*e,path:y}}}void 0===e&&(e=100),void 0===n&&(n=4);for(var i=this.data,a=function(t){for(var n=String(t).split(""),a=e/i.resolution,o=0,s=[],u=0;u<n.length;u++){var c=r(n[u],a,o);o+=c.offset,s.push(c.path)}return s}(t),o=[],s=0,u=a.length;s<u;s++)Array.prototype.push.apply(o,a[s].toShapes());return o}}),X.Path=function(t){X.CurvePath.call(this),this.actions=[],t&&this.fromPoints(t)},X.Path.prototype=Object.assign(Object.create(X.CurvePath.prototype),{constructor:X.Path,fromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.actions.push({action:"moveTo",args:[t,e]})},lineTo:function(t,e){var n=this.actions[this.actions.length-1].args,r=n[n.length-2],i=n[n.length-1],a=new X.LineCurve(new X.Vector2(r,i),new X.Vector2(t,e));this.curves.push(a),this.actions.push({action:"lineTo",args:[t,e]})},quadraticCurveTo:function(t,e,n,r){var i=this.actions[this.actions.length-1].args,a=i[i.length-2],o=i[i.length-1],s=new X.QuadraticBezierCurve(new X.Vector2(a,o),new X.Vector2(t,e),new X.Vector2(n,r));this.curves.push(s),this.actions.push({action:"quadraticCurveTo",args:[t,e,n,r]})},bezierCurveTo:function(t,e,n,r,i,a){var o=this.actions[this.actions.length-1].args,s=o[o.length-2],u=o[o.length-1],c=new X.CubicBezierCurve(new X.Vector2(s,u),new X.Vector2(t,e),new X.Vector2(n,r),new X.Vector2(i,a));this.curves.push(c),this.actions.push({action:"bezierCurveTo",args:[t,e,n,r,i,a]})},splineThru:function(t){var e=Array.prototype.slice.call(arguments),n=this.actions[this.actions.length-1].args,r=n[n.length-2],i=n[n.length-1],a=[new X.Vector2(r,i)];Array.prototype.push.apply(a,t);var o=new X.SplineCurve(a);this.curves.push(o),this.actions.push({action:"splineThru",args:e})},arc:function(t,e,n,r,i,a){var o=this.actions[this.actions.length-1].args,s=o[o.length-2],u=o[o.length-1];this.absarc(t+s,e+u,n,r,i,a)},absarc:function(t,e,n,r,i,a){this.absellipse(t,e,n,n,r,i,a)},ellipse:function(t,e,n,r,i,a,o,s){var u=this.actions[this.actions.length-1].args,c=u[u.length-2],l=u[u.length-1];this.absellipse(t+c,e+l,n,r,i,a,o,s)},absellipse:function(t,e,n,r,i,a,o,s){var u=[t,e,n,r,i,a,o,s||0],c=new X.EllipseCurve(t,e,n,r,i,a,o,s);this.curves.push(c);var l=c.getPoint(1);u.push(l.x),u.push(l.y),this.actions.push({action:"ellipse",args:u})},getSpacedPoints:function(t){t||(t=40);for(var e=[],n=0;n<t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n,r,i,a,o,s,u,c,l,h,d=X.ShapeUtils.b2,p=X.ShapeUtils.b3,f=[],m=0,g=this.actions.length;m<g;m++){var y=this.actions[m],v=y.action,b=y.args;switch(v){case"moveTo":case"lineTo":f.push(new X.Vector2(b[0],b[1]));break;case"quadraticCurveTo":e=b[2],n=b[3],a=b[0],o=b[1],f.length>0?(s=(c=f[f.length-1]).x,u=c.y):(s=(c=this.actions[m-1].args)[c.length-2],u=c[c.length-1]);for(var _=1;_<=t;_++){l=d(R=_/t,s,a,e),h=d(R,u,o,n),f.push(new X.Vector2(l,h))}break;case"bezierCurveTo":e=b[4],n=b[5],a=b[0],o=b[1],r=b[2],i=b[3],f.length>0?(s=(c=f[f.length-1]).x,u=c.y):(s=(c=this.actions[m-1].args)[c.length-2],u=c[c.length-1]);for(_=1;_<=t;_++){l=p(R=_/t,s,a,r,e),h=p(R,u,o,i,n),f.push(new X.Vector2(l,h))}break;case"splineThru":c=this.actions[m-1].args;var w=[new X.Vector2(c[c.length-2],c[c.length-1])],x=t*b[0].length;w=w.concat(b[0]);var S=new X.SplineCurve(w);for(_=1;_<=x;_++)f.push(S.getPointAt(_/x));break;case"arc":var T=b[0],M=b[1],E=b[2],A=b[3],k=b[4],C=!!b[5],O=k-A,L=2*t;for(_=1;_<=L;_++){var R=_/L;C||(R=1-R),P=A+R*O,l=T+E*Math.cos(P),h=M+E*Math.sin(P),f.push(new X.Vector2(l,h))}break;case"ellipse":T=b[0],M=b[1];var P,D,I,B=b[2],N=b[3],j=(A=b[4],k=b[5],C=!!b[6],b[7]);O=k-A,L=2*t;0!==j&&(D=Math.cos(j),I=Math.sin(j));for(_=1;_<=L;_++){R=_/L;if(C||(R=1-R),P=A+R*O,l=T+B*Math.cos(P),h=M+N*Math.sin(P),0!==j){var F=l;l=(F-T)*D-(h-M)*I+T,h=(F-T)*I+(h-M)*D+M}f.push(new X.Vector2(l,h))}}}var U=f[f.length-1];return Math.abs(U.x-f[0].x)<Number.EPSILON&&Math.abs(U.y-f[0].y)<Number.EPSILON&&f.splice(f.length-1,1),this.autoClose&&f.push(f[0]),f},toShapes:function(t,e){function n(t){for(var e=[],n=0,r=t.length;n<r;n++){var i=t[n],a=new X.Shape;a.actions=i.actions,a.curves=i.curves,e.push(a)}return e}function r(t,e){for(var n=e.length,r=!1,i=n-1,a=0;a<n;i=a++){var o=e[i],s=e[a],u=s.x-o.x,c=s.y-o.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(o=e[a],u=-u,s=e[i],c=-c),t.y<o.y||t.y>s.y)continue;if(t.y===o.y){if(t.x===o.x)return!0}else{var l=c*(t.x-o.x)-u*(t.y-o.y);if(0===l)return!0;if(l<0)continue;r=!r}}else{if(t.y!==o.y)continue;if(s.x<=t.x&&t.x<=o.x||o.x<=t.x&&t.x<=s.x)return!0}}return r}var i=X.ShapeUtils.isClockWise,a=function(t){for(var e=[],n=new X.Path,r=0,i=t.length;r<i;r++){var a=t[r],o=a.args,s=a.action;"moveTo"===s&&0!==n.actions.length&&(e.push(n),n=new X.Path),n[s].apply(n,o)}return 0!==n.actions.length&&e.push(n),e}(this.actions);if(0===a.length)return[];if(!0===e)return n(a);var o,s,u,c=[];if(1===a.length)return s=a[0],(u=new X.Shape).actions=s.actions,u.curves=s.curves,c.push(u),c;var l=!i(a[0].getPoints());l=t?!l:l;var h,d,p=[],f=[],m=[],g=0;f[g]=void 0,m[g]=[];for(var y=0,v=a.length;y<v;y++)o=i(h=(s=a[y]).getPoints()),(o=t?!o:o)?(!l&&f[g]&&g++,f[g]={s:new X.Shape,p:h},f[g].s.actions=s.actions,f[g].s.curves=s.curves,l&&g++,m[g]=[]):m[g].push({h:s,p:h[0]});if(!f[0])return n(a);if(f.length>1){for(var b=!1,_=[],w=0,x=f.length;w<x;w++)p[w]=[];for(w=0,x=f.length;w<x;w++)for(var S=m[w],T=0;T<S.length;T++){for(var M=S[T],E=!0,A=0;A<f.length;A++)r(M.p,f[A].p)&&(w!==A&&_.push({froms:w,tos:A,hole:T}),E?(E=!1,p[A].push(M)):b=!0);E&&p[w].push(M)}_.length>0&&(b||(m=p))}y=0;for(var k=f.length;y<k;y++){u=f[y].s,c.push(u);for(var C=0,O=(d=m[y]).length;C<O;C++)u.holes.push(d[C].h)}return c}}),X.Shape=function(){X.Path.apply(this,arguments),this.holes=[]},X.Shape.prototype=Object.assign(Object.create(X.Path.prototype),{constructor:X.Shape,extrude:function(t){return new X.ExtrudeGeometry(this,t)},makeGeometry:function(t){return new X.ShapeGeometry(this,t)},getPointsHoles:function(t){for(var e=[],n=0,r=this.holes.length;n<r;n++)e[n]=this.holes[n].getPoints(t);return e},extractAllPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},extractPoints:function(t){return this.extractAllPoints(t)}}),X.LineCurve=function(t,e){this.v1=t,this.v2=e},X.LineCurve.prototype=Object.create(X.Curve.prototype),X.LineCurve.prototype.constructor=X.LineCurve,X.LineCurve.prototype.getPoint=function(t){var e=this.v2.clone().sub(this.v1);return e.multiplyScalar(t).add(this.v1),e},X.LineCurve.prototype.getPointAt=function(t){return this.getPoint(t)},X.LineCurve.prototype.getTangent=function(t){return this.v2.clone().sub(this.v1).normalize()},X.QuadraticBezierCurve=function(t,e,n){this.v0=t,this.v1=e,this.v2=n},X.QuadraticBezierCurve.prototype=Object.create(X.Curve.prototype),X.QuadraticBezierCurve.prototype.constructor=X.QuadraticBezierCurve,X.QuadraticBezierCurve.prototype.getPoint=function(t){var e=X.ShapeUtils.b2;return new X.Vector2(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y))},X.QuadraticBezierCurve.prototype.getTangent=function(t){var e=X.CurveUtils.tangentQuadraticBezier;return new X.Vector2(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y)).normalize()},X.CubicBezierCurve=function(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r},X.CubicBezierCurve.prototype=Object.create(X.Curve.prototype),X.CubicBezierCurve.prototype.constructor=X.CubicBezierCurve,X.CubicBezierCurve.prototype.getPoint=function(t){var e=X.ShapeUtils.b3;return new X.Vector2(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},X.CubicBezierCurve.prototype.getTangent=function(t){var e=X.CurveUtils.tangentCubicBezier;return new X.Vector2(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},X.SplineCurve=function(t){this.points=null==t?[]:t},X.SplineCurve.prototype=Object.create(X.Curve.prototype),X.SplineCurve.prototype.constructor=X.SplineCurve,X.SplineCurve.prototype.getPoint=function(t){var e=this.points,n=(e.length-1)*t,r=Math.floor(n),i=n-r,a=e[0===r?r:r-1],o=e[r],s=e[r>e.length-2?e.length-1:r+1],u=e[r>e.length-3?e.length-1:r+2],c=X.CurveUtils.interpolate;return new X.Vector2(c(a.x,o.x,s.x,u.x,i),c(a.y,o.y,s.y,u.y,i))},X.EllipseCurve=function(t,e,n,r,i,a,o,s){this.aX=t,this.aY=e,this.xRadius=n,this.yRadius=r,this.aStartAngle=i,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s||0},X.EllipseCurve.prototype=Object.create(X.Curve.prototype),X.EllipseCurve.prototype.constructor=X.EllipseCurve,X.EllipseCurve.prototype.getPoint=function(t){var e,n=this.aEndAngle-this.aStartAngle;n<0&&(n+=2*Math.PI),n>2*Math.PI&&(n-=2*Math.PI),e=!0===this.aClockwise?this.aEndAngle+(1-t)*(2*Math.PI-n):this.aStartAngle+t*n;var r=this.aX+this.xRadius*Math.cos(e),i=this.aY+this.yRadius*Math.sin(e);if(0!==this.aRotation){var a=Math.cos(this.aRotation),o=Math.sin(this.aRotation),s=r,u=i;r=(s-this.aX)*a-(u-this.aY)*o+this.aX,i=(s-this.aX)*o+(u-this.aY)*a+this.aY}return new X.Vector2(r,i)},X.ArcCurve=function(t,e,n,r,i,a){X.EllipseCurve.call(this,t,e,n,n,r,i,a)},X.ArcCurve.prototype=Object.create(X.EllipseCurve.prototype),X.ArcCurve.prototype.constructor=X.ArcCurve,X.LineCurve3=X.Curve.create((function(t,e){this.v1=t,this.v2=e}),(function(t){var e=new X.Vector3;return e.subVectors(this.v2,this.v1),e.multiplyScalar(t),e.add(this.v1),e})),X.QuadraticBezierCurve3=X.Curve.create((function(t,e,n){this.v0=t,this.v1=e,this.v2=n}),(function(t){var e=X.ShapeUtils.b2;return new X.Vector3(e(t,this.v0.x,this.v1.x,this.v2.x),e(t,this.v0.y,this.v1.y,this.v2.y),e(t,this.v0.z,this.v1.z,this.v2.z))})),X.CubicBezierCurve3=X.Curve.create((function(t,e,n,r){this.v0=t,this.v1=e,this.v2=n,this.v3=r}),(function(t){var e=X.ShapeUtils.b3;return new X.Vector3(e(t,this.v0.x,this.v1.x,this.v2.x,this.v3.x),e(t,this.v0.y,this.v1.y,this.v2.y,this.v3.y),e(t,this.v0.z,this.v1.z,this.v2.z,this.v3.z))})),X.SplineCurve3=X.Curve.create((function(t){this.points=null==t?[]:t}),(function(t){var e=this.points,n=(e.length-1)*t,r=Math.floor(n),i=n-r,a=e[0==r?r:r-1],o=e[r],s=e[r>e.length-2?e.length-1:r+1],u=e[r>e.length-3?e.length-1:r+2],c=X.CurveUtils.interpolate;return new X.Vector3(c(a.x,o.x,s.x,u.x,i),c(a.y,o.y,s.y,u.y,i),c(a.z,o.z,s.z,u.z,i))})),X.CatmullRomCurve3=function(){var t=new X.Vector3,e=new i,n=new i,r=new i;function i(){}return i.prototype.init=function(t,e,n,r){this.c0=t,this.c1=n,this.c2=-3*t+3*e-2*n-r,this.c3=2*t-2*e+n+r},i.prototype.initNonuniformCatmullRom=function(t,e,n,r,i,a,o){var s=(e-t)/i-(n-t)/(i+a)+(n-e)/a,u=(n-e)/a-(r-e)/(a+o)+(r-n)/o;s*=a,u*=a,this.init(e,n,s,u)},i.prototype.initCatmullRom=function(t,e,n,r,i){this.init(e,n,i*(n-t),i*(r-e))},i.prototype.calc=function(t){var e=t*t,n=e*t;return this.c0+this.c1*t+this.c2*e+this.c3*n},X.Curve.create((function(t){this.points=t||[],this.closed=!1}),(function(i){var a,o,s,u,c,l,h,d,p=this.points;if(s=(a=((u=p.length)-(this.closed?0:1))*i)-(o=Math.floor(a)),this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/p.length)+1)*p.length:0===s&&o===u-1&&(o=u-2,s=1),this.closed||o>0?c=p[(o-1)%u]:(t.subVectors(p[0],p[1]).add(p[0]),c=t),l=p[o%u],h=p[(o+1)%u],this.closed||o+2<u?d=p[(o+2)%u]:(t.subVectors(p[u-1],p[u-2]).add(p[u-1]),d=t),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var f="chordal"===this.type?.5:.25,m=Math.pow(c.distanceToSquared(l),f),g=Math.pow(l.distanceToSquared(h),f),y=Math.pow(h.distanceToSquared(d),f);g<1e-4&&(g=1),m<1e-4&&(m=g),y<1e-4&&(y=g),e.initNonuniformCatmullRom(c.x,l.x,h.x,d.x,m,g,y),n.initNonuniformCatmullRom(c.y,l.y,h.y,d.y,m,g,y),r.initNonuniformCatmullRom(c.z,l.z,h.z,d.z,m,g,y)}else if("catmullrom"===this.type){var v=void 0!==this.tension?this.tension:.5;e.initCatmullRom(c.x,l.x,h.x,d.x,v),n.initCatmullRom(c.y,l.y,h.y,d.y,v),r.initCatmullRom(c.z,l.z,h.z,d.z,v)}return new X.Vector3(e.calc(s),n.calc(s),r.calc(s))}))}(),X.ClosedSplineCurve3=function(t){X.CatmullRomCurve3.call(this,t),this.type="catmullrom",this.closed=!0},X.ClosedSplineCurve3.prototype=Object.create(X.CatmullRomCurve3.prototype),X.BoxGeometry=function(t,e,n,r,i,a){X.Geometry.call(this),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:a},this.fromBufferGeometry(new X.BoxBufferGeometry(t,e,n,r,i,a)),this.mergeVertices()},X.BoxGeometry.prototype=Object.create(X.Geometry.prototype),X.BoxGeometry.prototype.constructor=X.BoxGeometry,X.CubeGeometry=X.BoxGeometry,X.BoxBufferGeometry=function(t,e,n,r,i,a){X.BufferGeometry.call(this),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:r,heightSegments:i,depthSegments:a};var o,s,u,c,l=this,h=function(t,e,n){var r=0;return r+=(t+1)*(e+1)*2,r+=(t+1)*(n+1)*2,r+=(n+1)*(e+1)*2}(r=Math.floor(r)||1,i=Math.floor(i)||1,a=Math.floor(a)||1),d=(c=0,c+=(o=r)*(s=i)*2,c+=o*(u=a)*2,6*(c+=u*s*2)),p=new(d>65535?Uint32Array:Uint16Array)(d),f=new Float32Array(3*h),m=new Float32Array(3*h),g=new Float32Array(2*h),y=0,v=0,b=0,_=0,w=0;function x(t,e,n,r,i,a,o,s,u,c,h){for(var d=a/u,x=o/c,S=a/2,T=o/2,M=s/2,E=u+1,A=c+1,k=0,C=0,O=new X.Vector3,L=0;L<A;L++)for(var R=L*x-T,P=0;P<E;P++){var D=P*d-S;O[t]=D*r,O[e]=R*i,O[n]=M,f[y]=O.x,f[y+1]=O.y,f[y+2]=O.z,O[t]=0,O[e]=0,O[n]=s>0?1:-1,m[y]=O.x,m[y+1]=O.y,m[y+2]=O.z,g[v]=P/u,g[v+1]=1-L/c,y+=3,v+=2,k+=1}for(L=0;L<c;L++)for(P=0;P<u;P++){var I=_+P+E*L,B=_+P+E*(L+1),N=_+(P+1)+E*(L+1),j=_+(P+1)+E*L;p[b]=I,p[b+1]=B,p[b+2]=j,p[b+3]=B,p[b+4]=N,p[b+5]=j,b+=6,C+=6}l.addGroup(w,C,h),w+=C,_+=k}x("z","y","x",-1,-1,n,e,t,a,i,0),x("z","y","x",1,-1,n,e,-t,a,i,1),x("x","z","y",1,1,t,n,e,r,a,2),x("x","z","y",1,-1,t,n,-e,r,a,3),x("x","y","z",1,-1,t,e,n,r,i,4),x("x","y","z",-1,-1,t,e,-n,r,i,5),this.setIndex(new X.BufferAttribute(p,1)),this.addAttribute("position",new X.BufferAttribute(f,3)),this.addAttribute("normal",new X.BufferAttribute(m,3)),this.addAttribute("uv",new X.BufferAttribute(g,2))},X.BoxBufferGeometry.prototype=Object.create(X.BufferGeometry.prototype),X.BoxBufferGeometry.prototype.constructor=X.BoxBufferGeometry,X.CircleGeometry=function(t,e,n,r){X.Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},this.fromBufferGeometry(new X.CircleBufferGeometry(t,e,n,r))},X.CircleGeometry.prototype=Object.create(X.Geometry.prototype),X.CircleGeometry.prototype.constructor=X.CircleGeometry,X.CircleBufferGeometry=function(t,e,n,r){X.BufferGeometry.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:r},t=t||50,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;var i=e+2,a=new Float32Array(3*i),o=new Float32Array(3*i),s=new Float32Array(2*i);o[2]=1,s[0]=.5,s[1]=.5;for(var u=0,c=3,l=2;u<=e;u++,c+=3,l+=2){var h=n+u/e*r;a[c]=t*Math.cos(h),a[c+1]=t*Math.sin(h),o[c+2]=1,s[l]=(a[c]/t+1)/2,s[l+1]=(a[c+1]/t+1)/2}var d=[];for(c=1;c<=e;c++)d.push(c,c+1,0);this.setIndex(new X.BufferAttribute(new Uint16Array(d),1)),this.addAttribute("position",new X.BufferAttribute(a,3)),this.addAttribute("normal",new X.BufferAttribute(o,3)),this.addAttribute("uv",new X.BufferAttribute(s,2)),this.boundingSphere=new X.Sphere(new X.Vector3,t)},X.CircleBufferGeometry.prototype=Object.create(X.BufferGeometry.prototype),X.CircleBufferGeometry.prototype.constructor=X.CircleBufferGeometry,X.CylinderBufferGeometry=function(t,e,n,r,i,a,o,s){X.BufferGeometry.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s};var u=this;t=void 0!==t?t:20,e=void 0!==e?e:20,n=void 0!==n?n:100,r=Math.floor(r)||8,i=Math.floor(i)||1,a=void 0!==a&&a,o=void 0!==o?o:0,s=void 0!==s?s:2*Math.PI;var c=0;!1===a&&(t>0&&c++,e>0&&c++);var l=function(){var t=(r+1)*(i+1);!1===a&&(t+=(r+1)*c+r*c);return t}(),h=function(){var t=r*i*2*3;!1===a&&(t+=r*c*3);return t}(),d=new X.BufferAttribute(new(h>65535?Uint32Array:Uint16Array)(h),1),p=new X.BufferAttribute(new Float32Array(3*l),3),f=new X.BufferAttribute(new Float32Array(3*l),3),m=new X.BufferAttribute(new Float32Array(2*l),2),g=0,y=0,v=[],b=n/2,_=0;function w(n){var i,a,c,l=new X.Vector2,h=new X.Vector3,v=0,w=!0===n?t:e,x=!0===n?1:-1;for(a=g,i=1;i<=r;i++)p.setXYZ(g,0,b*x,0),f.setXYZ(g,0,x,0),l.x=.5,l.y=.5,m.setXY(g,l.x,l.y),g++;for(c=g,i=0;i<=r;i++){var S=i/r*s+o,T=Math.cos(S),M=Math.sin(S);h.x=w*M,h.y=b*x,h.z=w*T,p.setXYZ(g,h.x,h.y,h.z),f.setXYZ(g,0,x,0),l.x=.5*T+.5,l.y=.5*M*x+.5,m.setXY(g,l.x,l.y),g++}for(i=0;i<r;i++){var E=a+i,A=c+i;!0===n?(d.setX(y,A),y++,d.setX(y,A+1),y++,d.setX(y,E),y++):(d.setX(y,A+1),y++,d.setX(y,A),y++,d.setX(y,E),y++),v+=3}u.addGroup(_,v,!0===n?1:2),_+=v}!function(){var a,c,l=new X.Vector3,h=new X.Vector3,w=0,x=(e-t)/n;for(c=0;c<=i;c++){var S=[],T=c/i,M=T*(e-t)+t;for(a=0;a<=r;a++){var E=a/r;h.x=M*Math.sin(E*s+o),h.y=-T*n+b,h.z=M*Math.cos(E*s+o),p.setXYZ(g,h.x,h.y,h.z),l.copy(h),(0===t&&0===c||0===e&&c===i)&&(l.x=Math.sin(E*s+o),l.z=Math.cos(E*s+o)),l.setY(Math.sqrt(l.x*l.x+l.z*l.z)*x).normalize(),f.setXYZ(g,l.x,l.y,l.z),m.setXY(g,E,1-T),S.push(g),g++}v.push(S)}for(a=0;a<r;a++)for(c=0;c<i;c++){var A=v[c][a],k=v[c+1][a],C=v[c+1][a+1],O=v[c][a+1];d.setX(y,A),y++,d.setX(y,k),y++,d.setX(y,O),y++,d.setX(y,k),y++,d.setX(y,C),y++,d.setX(y,O),y++,w+=6}u.addGroup(_,w,0),_+=w}(),!1===a&&(t>0&&w(!0),e>0&&w(!1)),this.setIndex(d),this.addAttribute("position",p),this.addAttribute("normal",f),this.addAttribute("uv",m)},X.CylinderBufferGeometry.prototype=Object.create(X.BufferGeometry.prototype),X.CylinderBufferGeometry.prototype.constructor=X.CylinderBufferGeometry,X.CylinderGeometry=function(t,e,n,r,i,a,o,s){X.Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new X.CylinderBufferGeometry(t,e,n,r,i,a,o,s)),this.mergeVertices()},X.CylinderGeometry.prototype=Object.create(X.Geometry.prototype),X.CylinderGeometry.prototype.constructor=X.CylinderGeometry,X.ConeBufferGeometry=function(t,e,n,r,i,a,o){X.CylinderBufferGeometry.call(this,0,t,e,n,r,i,a,o),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,thetaStart:a,thetaLength:o}},X.ConeBufferGeometry.prototype=Object.create(X.BufferGeometry.prototype),X.ConeBufferGeometry.prototype.constructor=X.ConeBufferGeometry,X.ConeGeometry=function(t,e,n,r,i,a,o){X.CylinderGeometry.call(this,0,t,e,n,r,i,a,o),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:r,openEnded:i,thetaStart:a,thetaLength:o}},X.ConeGeometry.prototype=Object.create(X.CylinderGeometry.prototype),X.ConeGeometry.prototype.constructor=X.ConeGeometry,X.EdgesGeometry=function(t,e){X.BufferGeometry.call(this),e=void 0!==e?e:1;var n=Math.cos(X.Math.DEG2RAD*e),r=[0,0],i={};function a(t,e){return t-e}var o,s=["a","b","c"];t instanceof X.BufferGeometry?(o=new X.Geometry).fromBufferGeometry(t):o=t.clone(),o.mergeVertices(),o.computeFaceNormals();for(var u=o.vertices,c=o.faces,l=0,h=c.length;l<h;l++)for(var d=c[l],p=0;p<3;p++){r[0]=d[s[p]],r[1]=d[s[(p+1)%3]],r.sort(a),void 0===i[m=r.toString()]?i[m]={vert1:r[0],vert2:r[1],face1:l,face2:void 0}:i[m].face2=l}var f=[];for(var m in i){var g=i[m];if(void 0===g.face2||c[g.face1].normal.dot(c[g.face2].normal)<=n){var y=u[g.vert1];f.push(y.x),f.push(y.y),f.push(y.z),y=u[g.vert2],f.push(y.x),f.push(y.y),f.push(y.z)}}this.addAttribute("position",new X.BufferAttribute(new Float32Array(f),3))},X.EdgesGeometry.prototype=Object.create(X.BufferGeometry.prototype),X.EdgesGeometry.prototype.constructor=X.EdgesGeometry,X.ExtrudeGeometry=function(t,e){void 0!==t?(X.Geometry.call(this),this.type="ExtrudeGeometry",t=Array.isArray(t)?t:[t],this.addShapeList(t,e),this.computeFaceNormals()):t=[]},X.ExtrudeGeometry.prototype=Object.create(X.Geometry.prototype),X.ExtrudeGeometry.prototype.constructor=X.ExtrudeGeometry,X.ExtrudeGeometry.prototype.addShapeList=function(t,e){for(var n=t.length,r=0;r<n;r++){var i=t[r];this.addShape(i,e)}},X.ExtrudeGeometry.prototype.addShape=function(t,e){var n,r,i,a,o,s,u,c,l=void 0!==e.amount?e.amount:100,h=void 0!==e.bevelThickness?e.bevelThickness:6,d=void 0!==e.bevelSize?e.bevelSize:h-2,p=void 0!==e.bevelSegments?e.bevelSegments:3,f=void 0===e.bevelEnabled||e.bevelEnabled,m=void 0!==e.curveSegments?e.curveSegments:12,g=void 0!==e.steps?e.steps:1,y=e.extrudePath,v=!1,b=void 0!==e.UVGenerator?e.UVGenerator:X.ExtrudeGeometry.WorldUVGenerator;y&&(n=y.getSpacedPoints(g),v=!0,f=!1,r=void 0!==e.frames?e.frames:new X.TubeGeometry.FrenetFrames(y,g,!1),i=new X.Vector3,a=new X.Vector3,o=new X.Vector3),f||(p=0,h=0,d=0);var _=this,w=this.vertices.length,x=t.extractPoints(m),S=x.shape,T=x.holes,M=!X.ShapeUtils.isClockWise(S);if(M){for(S=S.reverse(),u=0,c=T.length;u<c;u++)s=T[u],X.ShapeUtils.isClockWise(s)&&(T[u]=s.reverse());M=!1}var E=X.ShapeUtils.triangulateShape(S,T),A=S;for(u=0,c=T.length;u<c;u++)s=T[u],S=S.concat(s);function k(t,e,n){return e.clone().multiplyScalar(n).add(t)}var C,O,L,R,P,D,I=S.length,B=E.length;function N(t,e,n){var r,i,a=1,o=t.x-e.x,s=t.y-e.y,u=n.x-t.x,c=n.y-t.y,l=o*o+s*s,h=o*c-s*u;if(Math.abs(h)>Number.EPSILON){var d=Math.sqrt(l),p=Math.sqrt(u*u+c*c),f=e.x-s/d,m=e.y+o/d,g=((n.x-c/p-f)*c-(n.y+u/p-m)*u)/(o*c-s*u),y=(r=f+o*g-t.x)*r+(i=m+s*g-t.y)*i;if(y<=2)return new X.Vector2(r,i);a=Math.sqrt(y/2)}else{var v=!1;o>Number.EPSILON?u>Number.EPSILON&&(v=!0):o<-Number.EPSILON?u<-Number.EPSILON&&(v=!0):Math.sign(s)===Math.sign(c)&&(v=!0),v?(r=-s,i=o,a=Math.sqrt(l)):(r=o,i=s,a=Math.sqrt(l/2))}return new X.Vector2(r/a,i/a)}for(var j=[],F=0,U=A.length,Y=U-1,G=F+1;F<U;F++,Y++,G++)Y===U&&(Y=0),G===U&&(G=0),j[F]=N(A[F],A[Y],A[G]);var H,z,V=[],W=j.concat();for(u=0,c=T.length;u<c;u++){for(s=T[u],H=[],F=0,Y=(U=s.length)-1,G=F+1;F<U;F++,Y++,G++)Y===U&&(Y=0),G===U&&(G=0),H[F]=N(s[F],s[Y],s[G]);V.push(H),W=W.concat(H)}for(C=0;C<p;C++){for(R=h*(1-(L=C/p)),O=d*Math.sin(L*Math.PI/2),F=0,U=A.length;F<U;F++)q((P=k(A[F],j[F],O)).x,P.y,-R);for(u=0,c=T.length;u<c;u++)for(s=T[u],H=V[u],F=0,U=s.length;F<U;F++)q((P=k(s[F],H[F],O)).x,P.y,-R)}for(O=d,F=0;F<I;F++)P=f?k(S[F],W[F],O):S[F],v?(a.copy(r.normals[0]).multiplyScalar(P.x),i.copy(r.binormals[0]).multiplyScalar(P.y),o.copy(n[0]).add(a).add(i),q(o.x,o.y,o.z)):q(P.x,P.y,0);for(z=1;z<=g;z++)for(F=0;F<I;F++)P=f?k(S[F],W[F],O):S[F],v?(a.copy(r.normals[z]).multiplyScalar(P.x),i.copy(r.binormals[z]).multiplyScalar(P.y),o.copy(n[z]).add(a).add(i),q(o.x,o.y,o.z)):q(P.x,P.y,l/g*z);for(C=p-1;C>=0;C--){for(R=h*(1-(L=C/p)),O=d*Math.sin(L*Math.PI/2),F=0,U=A.length;F<U;F++)q((P=k(A[F],j[F],O)).x,P.y,l+R);for(u=0,c=T.length;u<c;u++)for(s=T[u],H=V[u],F=0,U=s.length;F<U;F++)P=k(s[F],H[F],O),v?q(P.x,P.y+n[g-1].y,n[g-1].x+R):q(P.x,P.y,l+R)}function K(t,e){var n,r;for(F=t.length;--F>=0;){n=F,(r=F-1)<0&&(r=t.length-1);var i=0,a=g+2*p;for(i=0;i<a;i++){var o=I*i,s=I*(i+1);J(e+n+o,e+r+o,e+r+s,e+n+s,t,i,a,n,r)}}}function q(t,e,n){_.vertices.push(new X.Vector3(t,e,n))}function Z(t,e,n){t+=w,e+=w,n+=w,_.faces.push(new X.Face3(t,e,n,null,null,0));var r=b.generateTopUV(_,t,e,n);_.faceVertexUvs[0].push(r)}function J(t,e,n,r,i,a,o,s,u){t+=w,e+=w,n+=w,r+=w,_.faces.push(new X.Face3(t,e,r,null,null,1)),_.faces.push(new X.Face3(e,n,r,null,null,1));var c=b.generateSideWallUV(_,t,e,n,r);_.faceVertexUvs[0].push([c[0],c[1],c[3]]),_.faceVertexUvs[0].push([c[1],c[2],c[3]])}!function(){if(f){var t=0,e=I*t;for(F=0;F<B;F++)Z((D=E[F])[2]+e,D[1]+e,D[0]+e);for(e=I*(t=g+2*p),F=0;F<B;F++)Z((D=E[F])[0]+e,D[1]+e,D[2]+e)}else{for(F=0;F<B;F++)Z((D=E[F])[2],D[1],D[0]);for(F=0;F<B;F++)Z((D=E[F])[0]+I*g,D[1]+I*g,D[2]+I*g)}}(),function(){var t=0;for(K(A,t),t+=A.length,u=0,c=T.length;u<c;u++)K(s=T[u],t),t+=s.length}()},X.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(t,e,n,r){var i=t.vertices,a=i[e],o=i[n],s=i[r];return[new X.Vector2(a.x,a.y),new X.Vector2(o.x,o.y),new X.Vector2(s.x,s.y)]},generateSideWallUV:function(t,e,n,r,i){var a=t.vertices,o=a[e],s=a[n],u=a[r],c=a[i];return Math.abs(o.y-s.y)<.01?[new X.Vector2(o.x,1-o.z),new X.Vector2(s.x,1-s.z),new X.Vector2(u.x,1-u.z),new X.Vector2(c.x,1-c.z)]:[new X.Vector2(o.y,1-o.z),new X.Vector2(s.y,1-s.z),new X.Vector2(u.y,1-u.z),new X.Vector2(c.y,1-c.z)]}},X.ShapeGeometry=function(t,e){X.Geometry.call(this),this.type="ShapeGeometry",!1===Array.isArray(t)&&(t=[t]),this.addShapeList(t,e),this.computeFaceNormals()},X.ShapeGeometry.prototype=Object.create(X.Geometry.prototype),X.ShapeGeometry.prototype.constructor=X.ShapeGeometry,X.ShapeGeometry.prototype.addShapeList=function(t,e){for(var n=0,r=t.length;n<r;n++)this.addShape(t[n],e);return this},X.ShapeGeometry.prototype.addShape=function(t,e){void 0===e&&(e={});var n,r,i,a=void 0!==e.curveSegments?e.curveSegments:12,o=e.material,s=void 0===e.UVGenerator?X.ExtrudeGeometry.WorldUVGenerator:e.UVGenerator,u=this.vertices.length,c=t.extractPoints(a),l=c.shape,h=c.holes,d=!X.ShapeUtils.isClockWise(l);if(d){for(l=l.reverse(),n=0,r=h.length;n<r;n++)i=h[n],X.ShapeUtils.isClockWise(i)&&(h[n]=i.reverse());d=!1}var p=X.ShapeUtils.triangulateShape(l,h);for(n=0,r=h.length;n<r;n++)i=h[n],l=l.concat(i);var f,m,g=l.length,y=p.length;for(n=0;n<g;n++)f=l[n],this.vertices.push(new X.Vector3(f.x,f.y,0));for(n=0;n<y;n++){var v=(m=p[n])[0]+u,b=m[1]+u,_=m[2]+u;this.faces.push(new X.Face3(v,b,_,null,null,o)),this.faceVertexUvs[0].push(s.generateTopUV(this,v,b,_))}},X.LatheBufferGeometry=function(t,e,n,r){X.BufferGeometry.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},e=Math.floor(e)||12,n=n||0,r=r||2*Math.PI,r=X.Math.clamp(r,0,2*Math.PI);var i,a,o,s=(e+1)*t.length,u=e*t.length*2*3,c=new X.BufferAttribute(new(u>65535?Uint32Array:Uint16Array)(u),1),l=new X.BufferAttribute(new Float32Array(3*s),3),h=new X.BufferAttribute(new Float32Array(2*s),2),d=0,p=0,f=(t.length,1/e),m=new X.Vector3,g=new X.Vector2;for(a=0;a<=e;a++){var y=n+a*f*r,v=Math.sin(y),b=Math.cos(y);for(o=0;o<=t.length-1;o++)m.x=t[o].x*v,m.y=t[o].y,m.z=t[o].x*b,l.setXYZ(d,m.x,m.y,m.z),g.x=a/e,g.y=o/(t.length-1),h.setXY(d,g.x,g.y),d++}for(a=0;a<e;a++)for(o=0;o<t.length-1;o++){var _=i=o+a*t.length,w=i+t.length,x=i+t.length+1,S=i+1;c.setX(p,_),p++,c.setX(p,w),p++,c.setX(p,S),p++,c.setX(p,w),p++,c.setX(p,x),p++,c.setX(p,S),p++}if(this.setIndex(c),this.addAttribute("position",l),this.addAttribute("uv",h),this.computeVertexNormals(),r===2*Math.PI){var T=this.attributes.normal.array,M=new X.Vector3,E=new X.Vector3,A=new X.Vector3;for(i=e*t.length*3,a=0,o=0;a<t.length;a++,o+=3)M.x=T[o+0],M.y=T[o+1],M.z=T[o+2],E.x=T[i+o+0],E.y=T[i+o+1],E.z=T[i+o+2],A.addVectors(M,E).normalize(),T[o+0]=T[i+o+0]=A.x,T[o+1]=T[i+o+1]=A.y,T[o+2]=T[i+o+2]=A.z}},X.LatheBufferGeometry.prototype=Object.create(X.BufferGeometry.prototype),X.LatheBufferGeometry.prototype.constructor=X.LatheBufferGeometry,X.LatheGeometry=function(t,e,n,r){X.Geometry.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:r},this.fromBufferGeometry(new X.LatheBufferGeometry(t,e,n,r)),this.mergeVertices()},X.LatheGeometry.prototype=Object.create(X.Geometry.prototype),X.LatheGeometry.prototype.constructor=X.LatheGeometry,X.PlaneGeometry=function(t,e,n,r){X.Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r},this.fromBufferGeometry(new X.PlaneBufferGeometry(t,e,n,r))},X.PlaneGeometry.prototype=Object.create(X.Geometry.prototype),X.PlaneGeometry.prototype.constructor=X.PlaneGeometry,X.PlaneBufferGeometry=function(t,e,n,r){X.BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:r};for(var i=t/2,a=e/2,o=Math.floor(n)||1,s=Math.floor(r)||1,u=o+1,c=s+1,l=t/o,h=e/s,d=new Float32Array(u*c*3),p=new Float32Array(u*c*3),f=new Float32Array(u*c*2),m=0,g=0,y=0;y<c;y++)for(var v=y*h-a,b=0;b<u;b++){var _=b*l-i;d[m]=_,d[m+1]=-v,p[m+2]=1,f[g]=b/o,f[g+1]=1-y/s,m+=3,g+=2}m=0;var w=new(d.length/3>65535?Uint32Array:Uint16Array)(o*s*6);for(y=0;y<s;y++)for(b=0;b<o;b++){var x=b+u*y,S=b+u*(y+1),T=b+1+u*(y+1),M=b+1+u*y;w[m]=x,w[m+1]=S,w[m+2]=M,w[m+3]=S,w[m+4]=T,w[m+5]=M,m+=6}this.setIndex(new X.BufferAttribute(w,1)),this.addAttribute("position",new X.BufferAttribute(d,3)),this.addAttribute("normal",new X.BufferAttribute(p,3)),this.addAttribute("uv",new X.BufferAttribute(f,2))},X.PlaneBufferGeometry.prototype=Object.create(X.BufferGeometry.prototype),X.PlaneBufferGeometry.prototype.constructor=X.PlaneBufferGeometry,X.RingBufferGeometry=function(t,e,n,r,i,a){X.BufferGeometry.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},t=t||20,e=e||50,i=void 0!==i?i:0,a=void 0!==a?a:2*Math.PI;var o,s,u,c=((n=void 0!==n?Math.max(3,n):8)+1)*((r=void 0!==r?Math.max(1,r):1)+1),l=n*r*2*3,h=new X.BufferAttribute(new(l>65535?Uint32Array:Uint16Array)(l),1),d=new X.BufferAttribute(new Float32Array(3*c),3),p=new X.BufferAttribute(new Float32Array(3*c),3),f=new X.BufferAttribute(new Float32Array(2*c),2),m=0,g=0,y=t,v=(e-t)/r,b=new X.Vector3,_=new X.Vector2;for(s=0;s<=r;s++){for(u=0;u<=n;u++)o=i+u/n*a,b.x=y*Math.cos(o),b.y=y*Math.sin(o),d.setXYZ(m,b.x,b.y,b.z),p.setXYZ(m,0,0,1),_.x=(b.x/e+1)/2,_.y=(b.y/e+1)/2,f.setXY(m,_.x,_.y),m++;y+=v}for(s=0;s<r;s++){var w=s*(n+1);for(u=0;u<n;u++){var x=o=u+w,S=o+n+1,T=o+n+2,M=o+1;h.setX(g,x),g++,h.setX(g,S),g++,h.setX(g,T),g++,h.setX(g,x),g++,h.setX(g,T),g++,h.setX(g,M),g++}}this.setIndex(h),this.addAttribute("position",d),this.addAttribute("normal",p),this.addAttribute("uv",f)},X.RingBufferGeometry.prototype=Object.create(X.BufferGeometry.prototype),X.RingBufferGeometry.prototype.constructor=X.RingBufferGeometry,X.RingGeometry=function(t,e,n,r,i,a){X.Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:r,thetaStart:i,thetaLength:a},this.fromBufferGeometry(new X.RingBufferGeometry(t,e,n,r,i,a))},X.RingGeometry.prototype=Object.create(X.Geometry.prototype),X.RingGeometry.prototype.constructor=X.RingGeometry,X.SphereGeometry=function(t,e,n,r,i,a,o){X.Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new X.SphereBufferGeometry(t,e,n,r,i,a,o))},X.SphereGeometry.prototype=Object.create(X.Geometry.prototype),X.SphereGeometry.prototype.constructor=X.SphereGeometry,X.SphereBufferGeometry=function(t,e,n,r,i,a,o){X.BufferGeometry.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:r,phiLength:i,thetaStart:a,thetaLength:o},t=t||50,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),r=void 0!==r?r:0,i=void 0!==i?i:2*Math.PI;for(var s=(a=void 0!==a?a:0)+(o=void 0!==o?o:Math.PI),u=(e+1)*(n+1),c=new X.BufferAttribute(new Float32Array(3*u),3),l=new X.BufferAttribute(new Float32Array(3*u),3),h=new X.BufferAttribute(new Float32Array(2*u),2),d=0,p=[],f=new X.Vector3,m=0;m<=n;m++){for(var g=[],y=m/n,v=0;v<=e;v++){var b=v/e,_=-t*Math.cos(r+b*i)*Math.sin(a+y*o),w=t*Math.cos(a+y*o),x=t*Math.sin(r+b*i)*Math.sin(a+y*o);f.set(_,w,x).normalize(),c.setXYZ(d,_,w,x),l.setXYZ(d,f.x,f.y,f.z),h.setXY(d,b,1-y),g.push(d),d++}p.push(g)}var S=[];for(m=0;m<n;m++)for(v=0;v<e;v++){var T=p[m][v+1],M=p[m][v],E=p[m+1][v],A=p[m+1][v+1];(0!==m||a>0)&&S.push(T,M,A),(m!==n-1||s<Math.PI)&&S.push(M,E,A)}this.setIndex(new(c.count>65535?X.Uint32Attribute:X.Uint16Attribute)(S,1)),this.addAttribute("position",c),this.addAttribute("normal",l),this.addAttribute("uv",h),this.boundingSphere=new X.Sphere(new X.Vector3,t)},X.SphereBufferGeometry.prototype=Object.create(X.BufferGeometry.prototype),X.SphereBufferGeometry.prototype.constructor=X.SphereBufferGeometry,X.TextGeometry=function(t,e){var n=(e=e||{}).font;if(n instanceof X.Font==!1)return new X.Geometry;var r=n.generateShapes(t,e.size,e.curveSegments);e.amount=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),X.ExtrudeGeometry.call(this,r,e),this.type="TextGeometry"},X.TextGeometry.prototype=Object.create(X.ExtrudeGeometry.prototype),X.TextGeometry.prototype.constructor=X.TextGeometry,X.TorusBufferGeometry=function(t,e,n,r,i){X.BufferGeometry.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},t=t||100,e=e||40,n=Math.floor(n)||8,r=Math.floor(r)||6,i=i||2*Math.PI;var a,o,s=(n+1)*(r+1),u=n*r*2*3,c=new(u>65535?Uint32Array:Uint16Array)(u),l=new Float32Array(3*s),h=new Float32Array(3*s),d=new Float32Array(2*s),p=0,f=0,m=0,g=new X.Vector3,y=new X.Vector3,v=new X.Vector3;for(a=0;a<=n;a++)for(o=0;o<=r;o++){var b=o/r*i,_=a/n*Math.PI*2;y.x=(t+e*Math.cos(_))*Math.cos(b),y.y=(t+e*Math.cos(_))*Math.sin(b),y.z=e*Math.sin(_),l[p]=y.x,l[p+1]=y.y,l[p+2]=y.z,g.x=t*Math.cos(b),g.y=t*Math.sin(b),v.subVectors(y,g).normalize(),h[p]=v.x,h[p+1]=v.y,h[p+2]=v.z,d[f]=o/r,d[f+1]=a/n,p+=3,f+=2}for(a=1;a<=n;a++)for(o=1;o<=r;o++){var w=(r+1)*a+o-1,x=(r+1)*(a-1)+o-1,S=(r+1)*(a-1)+o,T=(r+1)*a+o;c[m]=w,c[m+1]=x,c[m+2]=T,c[m+3]=x,c[m+4]=S,c[m+5]=T,m+=6}this.setIndex(new X.BufferAttribute(c,1)),this.addAttribute("position",new X.BufferAttribute(l,3)),this.addAttribute("normal",new X.BufferAttribute(h,3)),this.addAttribute("uv",new X.BufferAttribute(d,2))},X.TorusBufferGeometry.prototype=Object.create(X.BufferGeometry.prototype),X.TorusBufferGeometry.prototype.constructor=X.TorusBufferGeometry,X.TorusGeometry=function(t,e,n,r,i){X.Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:r,arc:i},this.fromBufferGeometry(new X.TorusBufferGeometry(t,e,n,r,i))},X.TorusGeometry.prototype=Object.create(X.Geometry.prototype),X.TorusGeometry.prototype.constructor=X.TorusGeometry,X.TorusKnotBufferGeometry=function(t,e,n,r,i,a){X.BufferGeometry.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:a},t=t||100,e=e||40,n=Math.floor(n)||64,i=i||2,a=a||3;var o,s,u=((r=Math.floor(r)||8)+1)*(n+1),c=r*n*2*3,l=new X.BufferAttribute(new(c>65535?Uint32Array:Uint16Array)(c),1),h=new X.BufferAttribute(new Float32Array(3*u),3),d=new X.BufferAttribute(new Float32Array(3*u),3),p=new X.BufferAttribute(new Float32Array(2*u),2),f=0,m=0,g=new X.Vector3,y=new X.Vector3,v=new X.Vector2,b=new X.Vector3,_=new X.Vector3,w=new X.Vector3,x=new X.Vector3,S=new X.Vector3;for(o=0;o<=n;++o){var T=o/n*i*Math.PI*2;for(R(T,i,a,t,b),R(T+.01,i,a,t,_),x.subVectors(_,b),S.addVectors(_,b),w.crossVectors(x,S),S.crossVectors(w,x),w.normalize(),S.normalize(),s=0;s<=r;++s){var M=s/r*Math.PI*2,E=-e*Math.cos(M),A=e*Math.sin(M);g.x=b.x+(E*S.x+A*w.x),g.y=b.y+(E*S.y+A*w.y),g.z=b.z+(E*S.z+A*w.z),h.setXYZ(f,g.x,g.y,g.z),y.subVectors(g,b).normalize(),d.setXYZ(f,y.x,y.y,y.z),v.x=o/n,v.y=s/r,p.setXY(f,v.x,v.y),f++}}for(s=1;s<=n;s++)for(o=1;o<=r;o++){var k=(r+1)*(s-1)+(o-1),C=(r+1)*s+(o-1),O=(r+1)*s+o,L=(r+1)*(s-1)+o;l.setX(m,k),m++,l.setX(m,C),m++,l.setX(m,L),m++,l.setX(m,C),m++,l.setX(m,O),m++,l.setX(m,L),m++}function R(t,e,n,r,i){var a=Math.cos(t),o=Math.sin(t),s=n/e*t,u=Math.cos(s);i.x=r*(2+u)*.5*a,i.y=r*(2+u)*o*.5,i.z=r*Math.sin(s)*.5}this.setIndex(l),this.addAttribute("position",h),this.addAttribute("normal",d),this.addAttribute("uv",p)},X.TorusKnotBufferGeometry.prototype=Object.create(X.BufferGeometry.prototype),X.TorusKnotBufferGeometry.prototype.constructor=X.TorusKnotBufferGeometry,X.TorusKnotGeometry=function(t,e,n,r,i,a,o){X.Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:r,p:i,q:a},this.fromBufferGeometry(new X.TorusKnotBufferGeometry(t,e,n,r,i,a)),this.mergeVertices()},X.TorusKnotGeometry.prototype=Object.create(X.Geometry.prototype),X.TorusKnotGeometry.prototype.constructor=X.TorusKnotGeometry,X.TubeGeometry=function(t,e,n,r,i,a){X.Geometry.call(this),this.type="TubeGeometry",this.parameters={path:t,segments:e,radius:n,radialSegments:r,closed:i,taper:a},e=e||64,n=n||1,r=r||8,i=i||!1,a=a||X.TubeGeometry.NoTaper;var o,s,u,c,l,h,d,p,f,m,g,y,v,b,_,w,x,S,T,M,E=[],A=this,k=e+1,C=new X.Vector3,O=new X.TubeGeometry.FrenetFrames(t,e,i),L=O.tangents,R=O.normals,P=O.binormals;function D(t,e,n){return A.vertices.push(new X.Vector3(t,e,n))-1}for(this.tangents=L,this.normals=R,this.binormals=P,f=0;f<k;f++)for(E[f]=[],u=f/(k-1),p=t.getPointAt(u),L[f],o=R[f],s=P[f],l=n*a(u),m=0;m<r;m++)c=m/r*2*Math.PI,h=-l*Math.cos(c),d=l*Math.sin(c),C.copy(p),C.x+=h*o.x+d*s.x,C.y+=h*o.y+d*s.y,C.z+=h*o.z+d*s.z,E[f][m]=D(C.x,C.y,C.z);for(f=0;f<e;f++)for(m=0;m<r;m++)g=i?(f+1)%e:f+1,y=(m+1)%r,v=E[f][m],b=E[g][m],_=E[g][y],w=E[f][y],x=new X.Vector2(f/e,m/r),S=new X.Vector2((f+1)/e,m/r),T=new X.Vector2((f+1)/e,(m+1)/r),M=new X.Vector2(f/e,(m+1)/r),this.faces.push(new X.Face3(v,b,w)),this.faceVertexUvs[0].push([x,S,M]),this.faces.push(new X.Face3(b,_,w)),this.faceVertexUvs[0].push([S.clone(),T,M.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},X.TubeGeometry.prototype=Object.create(X.Geometry.prototype),X.TubeGeometry.prototype.constructor=X.TubeGeometry,X.TubeGeometry.NoTaper=function(t){return 1},X.TubeGeometry.SinusoidalTaper=function(t){return Math.sin(Math.PI*t)},X.TubeGeometry.FrenetFrames=function(t,e,n){var r,i,a,o,s,u,c,l=new X.Vector3,h=[],d=[],p=[],f=new X.Vector3,m=new X.Matrix4,g=e+1;for(this.tangents=h,this.normals=d,this.binormals=p,u=0;u<g;u++)c=u/(g-1),h[u]=t.getTangentAt(c),h[u].normalize();for(function(){d[0]=new X.Vector3,p[0]=new X.Vector3,i=Number.MAX_VALUE,a=Math.abs(h[0].x),o=Math.abs(h[0].y),s=Math.abs(h[0].z),a<=i&&(i=a,l.set(1,0,0));o<=i&&(i=o,l.set(0,1,0));s<=i&&l.set(0,0,1);f.crossVectors(h[0],l).normalize(),d[0].crossVectors(h[0],f),p[0].crossVectors(h[0],d[0])}(),u=1;u<g;u++)d[u]=d[u-1].clone(),p[u]=p[u-1].clone(),f.crossVectors(h[u-1],h[u]),f.length()>Number.EPSILON&&(f.normalize(),r=Math.acos(X.Math.clamp(h[u-1].dot(h[u]),-1,1)),d[u].applyMatrix4(m.makeRotationAxis(f,r))),p[u].crossVectors(h[u],d[u]);if(n)for(r=Math.acos(X.Math.clamp(d[0].dot(d[g-1]),-1,1)),r/=g-1,h[0].dot(f.crossVectors(d[0],d[g-1]))>0&&(r=-r),u=1;u<g;u++)d[u].applyMatrix4(m.makeRotationAxis(h[u],r*u)),p[u].crossVectors(h[u],d[u])},X.PolyhedronGeometry=function(t,e,n,r){X.Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:r},n=n||1,r=r||0;for(var i=this,a=0,o=t.length;a<o;a+=3)_(new X.Vector3(t[a],t[a+1],t[a+2]));var s=this.vertices,u=[],c=(a=0,0);for(o=e.length;a<o;a+=3,c++){var l=s[e[a]],h=s[e[a+1]],d=s[e[a+2]];u[c]=new X.Face3(l.index,h.index,d.index,[l.clone(),h.clone(),d.clone()],void 0,c)}var p=new X.Vector3;for(a=0,o=u.length;a<o;a++)x(u[a],r);for(a=0,o=this.faceVertexUvs[0].length;a<o;a++){var f=this.faceVertexUvs[0][a],m=f[0].x,g=f[1].x,y=f[2].x,v=Math.max(m,g,y),b=Math.min(m,g,y);v>.9&&b<.1&&(m<.2&&(f[0].x+=1),g<.2&&(f[1].x+=1),y<.2&&(f[2].x+=1))}for(a=0,o=this.vertices.length;a<o;a++)this.vertices[a].multiplyScalar(n);function _(t){var e=t.normalize().clone();e.index=i.vertices.push(e)-1;var n=S(t)/2/Math.PI+.5,r=function(t){return Math.atan2(-t.y,Math.sqrt(t.x*t.x+t.z*t.z))}(t)/Math.PI+.5;return e.uv=new X.Vector2(n,1-r),e}function w(t,e,n,r){var a=new X.Face3(t.index,e.index,n.index,[t.clone(),e.clone(),n.clone()],void 0,r);i.faces.push(a),p.copy(t).add(e).add(n).divideScalar(3);var o=S(p);i.faceVertexUvs[0].push([T(t.uv,t,o),T(e.uv,e,o),T(n.uv,n,o)])}function x(t,e){for(var n=Math.pow(2,e),r=_(i.vertices[t.a]),a=_(i.vertices[t.b]),o=_(i.vertices[t.c]),s=[],u=t.materialIndex,c=0;c<=n;c++){s[c]=[];for(var l=_(r.clone().lerp(o,c/n)),h=_(a.clone().lerp(o,c/n)),d=n-c,p=0;p<=d;p++)s[c][p]=0===p&&c===n?l:_(l.clone().lerp(h,p/d))}for(c=0;c<n;c++)for(p=0;p<2*(n-c)-1;p++){var f=Math.floor(p/2);p%2==0?w(s[c][f+1],s[c+1][f],s[c][f],u):w(s[c][f+1],s[c+1][f+1],s[c+1][f],u)}}function S(t){return Math.atan2(t.z,-t.x)}function T(t,e,n){return n<0&&1===t.x&&(t=new X.Vector2(t.x-1,t.y)),0===e.x&&0===e.z&&(t=new X.Vector2(n/2/Math.PI+.5,t.y)),t.clone()}this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new X.Sphere(new X.Vector3,n)},X.PolyhedronGeometry.prototype=Object.create(X.Geometry.prototype),X.PolyhedronGeometry.prototype.constructor=X.PolyhedronGeometry,X.DodecahedronGeometry=function(t,e){var n=(1+Math.sqrt(5))/2,r=1/n,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-r,-n,0,-r,n,0,r,-n,0,r,n,-r,-n,0,-r,n,0,r,-n,0,r,n,0,-n,0,-r,n,0,-r,-n,0,r,n,0,r];X.PolyhedronGeometry.call(this,i,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e}},X.DodecahedronGeometry.prototype=Object.create(X.PolyhedronGeometry.prototype),X.DodecahedronGeometry.prototype.constructor=X.DodecahedronGeometry,X.IcosahedronGeometry=function(t,e){var n=(1+Math.sqrt(5))/2,r=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];X.PolyhedronGeometry.call(this,r,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e}},X.IcosahedronGeometry.prototype=Object.create(X.PolyhedronGeometry.prototype),X.IcosahedronGeometry.prototype.constructor=X.IcosahedronGeometry,X.OctahedronGeometry=function(t,e){X.PolyhedronGeometry.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e}},X.OctahedronGeometry.prototype=Object.create(X.PolyhedronGeometry.prototype),X.OctahedronGeometry.prototype.constructor=X.OctahedronGeometry,X.TetrahedronGeometry=function(t,e){X.PolyhedronGeometry.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e}},X.TetrahedronGeometry.prototype=Object.create(X.PolyhedronGeometry.prototype),X.TetrahedronGeometry.prototype.constructor=X.TetrahedronGeometry,X.ParametricGeometry=function(t,e,n){X.Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n};var r,i,a,o,s,u,c,l,h,d,p,f,m=this.vertices,g=this.faces,y=this.faceVertexUvs[0],v=e+1;for(r=0;r<=n;r++)for(o=r/n,i=0;i<=e;i++)a=t(i/e,o),m.push(a);for(r=0;r<n;r++)for(i=0;i<e;i++)s=r*v+i,u=r*v+i+1,c=(r+1)*v+i+1,l=(r+1)*v+i,h=new X.Vector2(i/e,r/n),d=new X.Vector2((i+1)/e,r/n),p=new X.Vector2((i+1)/e,(r+1)/n),f=new X.Vector2(i/e,(r+1)/n),g.push(new X.Face3(s,u,l)),y.push([h,d,f]),g.push(new X.Face3(u,c,l)),y.push([d.clone(),p,f.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},X.ParametricGeometry.prototype=Object.create(X.Geometry.prototype),X.ParametricGeometry.prototype.constructor=X.ParametricGeometry,X.WireframeGeometry=function(t){X.BufferGeometry.call(this);var e=[0,0],n={};function r(t,e){return t-e}var i=["a","b","c"];if(t instanceof X.Geometry){for(var a=t.vertices,o=t.faces,s=0,u=new Uint32Array(6*o.length),c=0,l=o.length;c<l;c++)for(var h=o[c],d=0;d<3;d++){e[0]=h[i[d]],e[1]=h[i[(d+1)%3]],e.sort(r),void 0===n[x=e.toString()]&&(u[2*s]=e[0],u[2*s+1]=e[1],n[x]=!0,s++)}var p=new Float32Array(2*s*3);for(c=0,l=s;c<l;c++)for(d=0;d<2;d++){var f=a[u[2*c+d]];p[(S=6*c+3*d)+0]=f.x,p[S+1]=f.y,p[S+2]=f.z}this.addAttribute("position",new X.BufferAttribute(p,3))}else if(t instanceof X.BufferGeometry)if(null!==t.index){var m=t.index.array,g=(a=t.attributes.position,t.groups);s=0;0===g.length&&t.addGroup(0,m.length);u=new Uint32Array(2*m.length);for(var y=0,v=g.length;y<v;++y)for(var b=g[y],_=b.start,w=(c=_,_+b.count);c<w;c+=3)for(d=0;d<3;d++){var x;e[0]=m[c+d],e[1]=m[c+(d+1)%3],e.sort(r),void 0===n[x=e.toString()]&&(u[2*s]=e[0],u[2*s+1]=e[1],n[x]=!0,s++)}for(p=new Float32Array(2*s*3),c=0,l=s;c<l;c++)for(d=0;d<2;d++){var S=6*c+3*d,T=u[2*c+d];p[S+0]=a.getX(T),p[S+1]=a.getY(T),p[S+2]=a.getZ(T)}this.addAttribute("position",new X.BufferAttribute(p,3))}else{var M=(s=(a=t.attributes.position.array).length/3)/3;for(p=new Float32Array(2*s*3),c=0,l=M;c<l;c++)for(d=0;d<3;d++){var E=9*c+3*d;p[(S=18*c+6*d)+0]=a[E],p[S+1]=a[E+1],p[S+2]=a[E+2];T=9*c+(d+1)%3*3;p[S+3]=a[T],p[S+4]=a[T+1],p[S+5]=a[T+2]}this.addAttribute("position",new X.BufferAttribute(p,3))}},X.WireframeGeometry.prototype=Object.create(X.BufferGeometry.prototype),X.WireframeGeometry.prototype.constructor=X.WireframeGeometry,X.AxisHelper=function(t){t=t||1;var e=new Float32Array([0,0,0,t,0,0,0,0,0,0,t,0,0,0,0,0,0,t]),n=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),r=new X.BufferGeometry;r.addAttribute("position",new X.BufferAttribute(e,3)),r.addAttribute("color",new X.BufferAttribute(n,3));var i=new X.LineBasicMaterial({vertexColors:X.VertexColors});X.LineSegments.call(this,r,i)},X.AxisHelper.prototype=Object.create(X.LineSegments.prototype),X.AxisHelper.prototype.constructor=X.AxisHelper,X.ArrowHelper=function(){var t=new X.BufferGeometry;t.addAttribute("position",new X.Float32Attribute([0,0,0,0,1,0],3));var e=new X.CylinderBufferGeometry(0,.5,1,5,1);return e.translate(0,-.5,0),function(n,r,i,a,o,s){X.Object3D.call(this),void 0===a&&(a=16776960),void 0===i&&(i=1),void 0===o&&(o=.2*i),void 0===s&&(s=.2*o),this.position.copy(r),this.line=new X.Line(t,new X.LineBasicMaterial({color:a})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new X.Mesh(e,new X.MeshBasicMaterial({color:a})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(n),this.setLength(i,o,s)}}(),X.ArrowHelper.prototype=Object.create(X.Object3D.prototype),X.ArrowHelper.prototype.constructor=X.ArrowHelper,X.ArrowHelper.prototype.setDirection=(V=new X.Vector3,function(t){t.y>.99999?this.quaternion.set(0,0,0,1):t.y<-.99999?this.quaternion.set(1,0,0,0):(V.set(t.z,0,-t.x).normalize(),z=Math.acos(t.y),this.quaternion.setFromAxisAngle(V,z))}),X.ArrowHelper.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(0,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},X.ArrowHelper.prototype.setColor=function(t){this.line.material.color.copy(t),this.cone.material.color.copy(t)},X.BoxHelper=function(t){var e=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=new Float32Array(24),r=new X.BufferGeometry;r.setIndex(new X.BufferAttribute(e,1)),r.addAttribute("position",new X.BufferAttribute(n,3)),X.LineSegments.call(this,r,new X.LineBasicMaterial({color:16776960})),void 0!==t&&this.update(t)},X.BoxHelper.prototype=Object.create(X.LineSegments.prototype),X.BoxHelper.prototype.constructor=X.BoxHelper,X.BoxHelper.prototype.update=function(){var t=new X.Box3;return function(e){if(e instanceof X.Box3?t.copy(e):t.setFromObject(e),!t.isEmpty()){var n=t.min,r=t.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=n.x,a[4]=r.y,a[5]=r.z,a[6]=n.x,a[7]=n.y,a[8]=r.z,a[9]=r.x,a[10]=n.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=n.z,a[15]=n.x,a[16]=r.y,a[17]=n.z,a[18]=n.x,a[19]=n.y,a[20]=n.z,a[21]=r.x,a[22]=n.y,a[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),X.BoundingBoxHelper=function(t,e){var n=void 0!==e?e:8947848;this.object=t,this.box=new X.Box3,X.Mesh.call(this,new X.BoxGeometry(1,1,1),new X.MeshBasicMaterial({color:n,wireframe:!0}))},X.BoundingBoxHelper.prototype=Object.create(X.Mesh.prototype),X.BoundingBoxHelper.prototype.constructor=X.BoundingBoxHelper,X.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},X.CameraHelper=function(t){var e=new X.Geometry,n=new X.LineBasicMaterial({color:16777215,vertexColors:X.FaceColors}),r={};function i(t,e,n){a(t,n),a(e,n)}function a(t,n){e.vertices.push(new X.Vector3),e.colors.push(new X.Color(n)),void 0===r[t]&&(r[t]=[]),r[t].push(e.vertices.length-1)}i("n1","n2",16755200),i("n2","n4",16755200),i("n4","n3",16755200),i("n3","n1",16755200),i("f1","f2",16755200),i("f2","f4",16755200),i("f4","f3",16755200),i("f3","f1",16755200),i("n1","f1",16755200),i("n2","f2",16755200),i("n3","f3",16755200),i("n4","f4",16755200),i("p","n1",16711680),i("p","n2",16711680),i("p","n3",16711680),i("p","n4",16711680),i("u1","u2",43775),i("u2","u3",43775),i("u3","u1",43775),i("c","t",16777215),i("p","c",3355443),i("cn1","cn2",3355443),i("cn3","cn4",3355443),i("cf1","cf2",3355443),i("cf3","cf4",3355443),X.LineSegments.call(this,e,n),this.camera=t,this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=r,this.update()},X.CameraHelper.prototype=Object.create(X.LineSegments.prototype),X.CameraHelper.prototype.constructor=X.CameraHelper,X.CameraHelper.prototype.update=function(){var t,e,n=new X.Vector3,r=new X.Camera;function i(i,a,o,s){n.set(a,o,s).unproject(r);var u=e[i];if(void 0!==u)for(var c=0,l=u.length;c<l;c++)t.vertices[u[c]].copy(n)}return function(){t=this.geometry,e=this.pointMap;r.projectionMatrix.copy(this.camera.projectionMatrix),i("c",0,0,-1),i("t",0,0,1),i("n1",-1,-1,-1),i("n2",1,-1,-1),i("n3",-1,1,-1),i("n4",1,1,-1),i("f1",-1,-1,1),i("f2",1,-1,1),i("f3",-1,1,1),i("f4",1,1,1),i("u1",.7,1.1,-1),i("u2",-.7,1.1,-1),i("u3",0,2,-1),i("cf1",-1,0,1),i("cf2",1,0,1),i("cf3",0,-1,1),i("cf4",0,1,1),i("cn1",-1,0,-1),i("cn2",1,0,-1),i("cn3",0,-1,-1),i("cn4",0,1,-1),t.verticesNeedUpdate=!0}}(),X.DirectionalLightHelper=function(t,e){X.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,void 0===e&&(e=1);var n=new X.BufferGeometry;n.addAttribute("position",new X.Float32Attribute([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new X.LineBasicMaterial({fog:!1});this.add(new X.Line(n,r)),(n=new X.BufferGeometry).addAttribute("position",new X.Float32Attribute([0,0,0,0,0,1],3)),this.add(new X.Line(n,r)),this.update()},X.DirectionalLightHelper.prototype=Object.create(X.Object3D.prototype),X.DirectionalLightHelper.prototype.constructor=X.DirectionalLightHelper,X.DirectionalLightHelper.prototype.dispose=function(){var t=this.children[0],e=this.children[1];t.geometry.dispose(),t.material.dispose(),e.geometry.dispose(),e.material.dispose()},X.DirectionalLightHelper.prototype.update=function(){var t=new X.Vector3,e=new X.Vector3,n=new X.Vector3;return function(){t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),n.subVectors(e,t);var r=this.children[0],i=this.children[1];r.lookAt(n),r.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),i.lookAt(n),i.scale.z=n.length()}}(),X.EdgesHelper=function(t,e,n){var r=void 0!==e?e:16777215;X.LineSegments.call(this,new X.EdgesGeometry(t.geometry,n),new X.LineBasicMaterial({color:r})),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1},X.EdgesHelper.prototype=Object.create(X.LineSegments.prototype),X.EdgesHelper.prototype.constructor=X.EdgesHelper,X.FaceNormalsHelper=function(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16776960,a=void 0!==r?r:1,o=0,s=this.object.geometry;s instanceof X.Geometry&&(o=s.faces.length);var u=new X.BufferGeometry,c=new X.Float32Attribute(2*o*3,3);u.addAttribute("position",c),X.LineSegments.call(this,u,new X.LineBasicMaterial({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()},X.FaceNormalsHelper.prototype=Object.create(X.LineSegments.prototype),X.FaceNormalsHelper.prototype.constructor=X.FaceNormalsHelper,X.FaceNormalsHelper.prototype.update=function(){var t=new X.Vector3,e=new X.Vector3,n=new X.Matrix3;return function(){this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);for(var r=this.object.matrixWorld,i=this.geometry.attributes.position,a=this.object.geometry,o=a.vertices,s=a.faces,u=0,c=0,l=s.length;c<l;c++){var h=s[c],d=h.normal;t.copy(o[h.a]).add(o[h.b]).add(o[h.c]).divideScalar(3).applyMatrix4(r),e.copy(d).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),i.setXYZ(u,t.x,t.y,t.z),u+=1,i.setXYZ(u,e.x,e.y,e.z),u+=1}return i.needsUpdate=!0,this}}(),X.GridHelper=function(t,e,n,r){n=new X.Color(void 0!==n?n:4473924),r=new X.Color(void 0!==r?r:8947848);for(var i=[],a=[],o=-t,s=0;o<=t;o+=e){i.push(-t,0,o,t,0,o),i.push(o,0,-t,o,0,t);var u=0===o?n:r;u.toArray(a,s),s+=3,u.toArray(a,s),s+=3,u.toArray(a,s),s+=3,u.toArray(a,s),s+=3}var c=new X.BufferGeometry;c.addAttribute("position",new X.Float32Attribute(i,3)),c.addAttribute("color",new X.Float32Attribute(a,3));var l=new X.LineBasicMaterial({vertexColors:X.VertexColors});X.LineSegments.call(this,c,l)},X.GridHelper.prototype=Object.create(X.LineSegments.prototype),X.GridHelper.prototype.constructor=X.GridHelper,X.GridHelper.prototype.setColors=function(){},X.HemisphereLightHelper=function(t,e){X.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new X.Color,new X.Color];var n=new X.SphereGeometry(e,4,2);n.rotateX(-Math.PI/2);for(var r=0;r<8;r++)n.faces[r].color=this.colors[r<4?0:1];var i=new X.MeshBasicMaterial({vertexColors:X.FaceColors,wireframe:!0});this.lightSphere=new X.Mesh(n,i),this.add(this.lightSphere),this.update()},X.HemisphereLightHelper.prototype=Object.create(X.Object3D.prototype),X.HemisphereLightHelper.prototype.constructor=X.HemisphereLightHelper,X.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},X.HemisphereLightHelper.prototype.update=(W=new X.Vector3,function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(W.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}),X.PointLightHelper=function(t,e){this.light=t,this.light.updateMatrixWorld();var n=new X.SphereBufferGeometry(e,4,2),r=new X.MeshBasicMaterial({wireframe:!0,fog:!1});r.color.copy(this.light.color).multiplyScalar(this.light.intensity),X.Mesh.call(this,n,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1},X.PointLightHelper.prototype=Object.create(X.Mesh.prototype),X.PointLightHelper.prototype.constructor=X.PointLightHelper,X.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},X.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},X.SkeletonHelper=function(t){this.bones=this.getBoneList(t);for(var e=new X.Geometry,n=0;n<this.bones.length;n++){this.bones[n].parent instanceof X.Bone&&(e.vertices.push(new X.Vector3),e.vertices.push(new X.Vector3),e.colors.push(new X.Color(0,0,1)),e.colors.push(new X.Color(0,1,0)))}e.dynamic=!0;var r=new X.LineBasicMaterial({vertexColors:X.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});X.LineSegments.call(this,e,r),this.root=t,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.update()},X.SkeletonHelper.prototype=Object.create(X.LineSegments.prototype),X.SkeletonHelper.prototype.constructor=X.SkeletonHelper,X.SkeletonHelper.prototype.getBoneList=function(t){var e=[];t instanceof X.Bone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,this.getBoneList(t.children[n]));return e},X.SkeletonHelper.prototype.update=function(){for(var t=this.geometry,e=(new X.Matrix4).getInverse(this.root.matrixWorld),n=new X.Matrix4,r=0,i=0;i<this.bones.length;i++){var a=this.bones[i];a.parent instanceof X.Bone&&(n.multiplyMatrices(e,a.matrixWorld),t.vertices[r].setFromMatrixPosition(n),n.multiplyMatrices(e,a.parent.matrixWorld),t.vertices[r+1].setFromMatrixPosition(n),r+=2)}t.verticesNeedUpdate=!0,t.computeBoundingSphere()},X.SpotLightHelper=function(t){X.Object3D.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1;for(var e=new X.BufferGeometry,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,i=1;r<32;r++,i++){var a=r/32*Math.PI*2,o=i/32*Math.PI*2;n.push(Math.cos(a),Math.sin(a),1,Math.cos(o),Math.sin(o),1)}e.addAttribute("position",new X.Float32Attribute(n,3));var s=new X.LineBasicMaterial({fog:!1});this.cone=new X.LineSegments(e,s),this.add(this.cone),this.update()},X.SpotLightHelper.prototype=Object.create(X.Object3D.prototype),X.SpotLightHelper.prototype.constructor=X.SpotLightHelper,X.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},X.SpotLightHelper.prototype.update=function(){var t=new X.Vector3,e=new X.Vector3;return function(){var n=this.light.distance?this.light.distance:1e3,r=n*Math.tan(this.light.angle);this.cone.scale.set(r,r,n),t.setFromMatrixPosition(this.light.matrixWorld),e.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(e.sub(t)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}(),X.VertexNormalsHelper=function(t,e,n,r){this.object=t,this.size=void 0!==e?e:1;var i=void 0!==n?n:16711680,a=void 0!==r?r:1,o=0,s=this.object.geometry;s instanceof X.Geometry?o=3*s.faces.length:s instanceof X.BufferGeometry&&(o=s.attributes.normal.count);var u=new X.BufferGeometry,c=new X.Float32Attribute(2*o*3,3);u.addAttribute("position",c),X.LineSegments.call(this,u,new X.LineBasicMaterial({color:i,linewidth:a})),this.matrixAutoUpdate=!1,this.update()},X.VertexNormalsHelper.prototype=Object.create(X.LineSegments.prototype),X.VertexNormalsHelper.prototype.constructor=X.VertexNormalsHelper,X.VertexNormalsHelper.prototype.update=function(){var t=new X.Vector3,e=new X.Vector3,n=new X.Matrix3;return function(){var r=["a","b","c"];this.object.updateMatrixWorld(!0),n.getNormalMatrix(this.object.matrixWorld);var i=this.object.matrixWorld,a=this.geometry.attributes.position,o=this.object.geometry;if(o instanceof X.Geometry)for(var s=o.vertices,u=o.faces,c=0,l=0,h=u.length;l<h;l++)for(var d=u[l],p=0,f=d.vertexNormals.length;p<f;p++){var m=s[d[r[p]]],g=d.vertexNormals[p];t.copy(m).applyMatrix4(i),e.copy(g).applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(c,t.x,t.y,t.z),c+=1,a.setXYZ(c,e.x,e.y,e.z),c+=1}else if(o instanceof X.BufferGeometry){var y=o.attributes.position,v=o.attributes.normal;for(c=0,p=0,f=y.count;p<f;p++)t.set(y.getX(p),y.getY(p),y.getZ(p)).applyMatrix4(i),e.set(v.getX(p),v.getY(p),v.getZ(p)),e.applyMatrix3(n).normalize().multiplyScalar(this.size).add(t),a.setXYZ(c,t.x,t.y,t.z),c+=1,a.setXYZ(c,e.x,e.y,e.z),c+=1}return a.needsUpdate=!0,this}}(),X.WireframeHelper=function(t,e){var n=void 0!==e?e:16777215;X.LineSegments.call(this,new X.WireframeGeometry(t.geometry),new X.LineBasicMaterial({color:n})),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1},X.WireframeHelper.prototype=Object.create(X.LineSegments.prototype),X.WireframeHelper.prototype.constructor=X.WireframeHelper,X.ImmediateRenderObject=function(t){X.Object3D.call(this),this.material=t,this.render=function(t){}},X.ImmediateRenderObject.prototype=Object.create(X.Object3D.prototype),X.ImmediateRenderObject.prototype.constructor=X.ImmediateRenderObject,X.MorphBlendMesh=function(t,e){X.Mesh.call(this,t,e),this.animationsMap={},this.animationsList=[];var n=this.geometry.morphTargets.length,r=n-1,i=n/1;this.createAnimation("__default",0,r,i),this.setAnimationWeight("__default",1)},X.MorphBlendMesh.prototype=Object.create(X.Mesh.prototype),X.MorphBlendMesh.prototype.constructor=X.MorphBlendMesh,X.MorphBlendMesh.prototype.createAnimation=function(t,e,n,r){var i={start:e,end:n,length:n-e+1,fps:r,duration:(n-e)/r,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[t]=i,this.animationsList.push(i)},X.MorphBlendMesh.prototype.autoCreateAnimations=function(t){for(var e,n=/([a-z]+)_?(\d+)/i,r={},i=this.geometry,a=0,o=i.morphTargets.length;a<o;a++){var s=i.morphTargets[a].name.match(n);if(s&&s.length>1)r[u=s[1]]||(r[u]={start:1/0,end:-1/0}),a<(c=r[u]).start&&(c.start=a),a>c.end&&(c.end=a),e||(e=u)}for(var u in r){var c=r[u];this.createAnimation(u,c.start,c.end,t)}this.firstAnimation=e},X.MorphBlendMesh.prototype.setAnimationDirectionForward=function(t){var e=this.animationsMap[t];e&&(e.direction=1,e.directionBackwards=!1)},X.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(t){var e=this.animationsMap[t];e&&(e.direction=-1,e.directionBackwards=!0)},X.MorphBlendMesh.prototype.setAnimationFPS=function(t,e){var n=this.animationsMap[t];n&&(n.fps=e,n.duration=(n.end-n.start)/n.fps)},X.MorphBlendMesh.prototype.setAnimationDuration=function(t,e){var n=this.animationsMap[t];n&&(n.duration=e,n.fps=(n.end-n.start)/n.duration)},X.MorphBlendMesh.prototype.setAnimationWeight=function(t,e){var n=this.animationsMap[t];n&&(n.weight=e)},X.MorphBlendMesh.prototype.setAnimationTime=function(t,e){var n=this.animationsMap[t];n&&(n.time=e)},X.MorphBlendMesh.prototype.getAnimationTime=function(t){var e=0,n=this.animationsMap[t];return n&&(e=n.time),e},X.MorphBlendMesh.prototype.getAnimationDuration=function(t){var e=-1,n=this.animationsMap[t];return n&&(e=n.duration),e},X.MorphBlendMesh.prototype.playAnimation=function(t){var e=this.animationsMap[t];e&&(e.time=0,e.active=!0)},X.MorphBlendMesh.prototype.stopAnimation=function(t){var e=this.animationsMap[t];e&&(e.active=!1)},X.MorphBlendMesh.prototype.update=function(t){for(var e=0,n=this.animationsList.length;e<n;e++){var r=this.animationsList[e];if(r.active){var i=r.duration/r.length;r.time+=r.direction*t,r.mirroredLoop?(r.time>r.duration||r.time<0)&&(r.direction*=-1,r.time>r.duration&&(r.time=r.duration,r.directionBackwards=!0),r.time<0&&(r.time=0,r.directionBackwards=!1)):(r.time=r.time%r.duration,r.time<0&&(r.time+=r.duration));var a=r.start+X.Math.clamp(Math.floor(r.time/i),0,r.length-1),o=r.weight;a!==r.currentFrame&&(this.morphTargetInfluences[r.lastFrame]=0,this.morphTargetInfluences[r.currentFrame]=1*o,this.morphTargetInfluences[a]=0,r.lastFrame=r.currentFrame,r.currentFrame=a);var s=r.time%i/i;r.directionBackwards&&(s=1-s),r.currentFrame!==r.lastFrame?(this.morphTargetInfluences[r.currentFrame]=s*o,this.morphTargetInfluences[r.lastFrame]=(1-s)*o):this.morphTargetInfluences[r.currentFrame]=o}}},t.exports&&(e=t.exports=X),e.THREE=X},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(0),i=n(250),a=n(170),o=n(447),s=n(143),u=n(197),c=n(36),l=n(251);function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}r.State.prototype.onBlendChange=new s.a("onBlendChange",1),Object.defineProperty(r.State.prototype,"blend",{set:function(t){!!(1&this.data)!==t&&(this.data^=1,this.onBlendChange.run())}});var d=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.entity=e,this.data=n,this.zdist=0,this.draw=void 0===n.draw?r.DRAW_MODES.TRIANGLES:n.draw,this._geometry=n.geometry,this._material=n.material,this._state=n.state,this.renderCustom=n.renderCustom,this._cachedNormal=new i.a,this.transformDirty=-1,this.orderBias=n.orderBias||0,!this._state){var s=new r.State;s.depthTest=!0,s.culling=!0,s.blend=!1,s.clockwiseFrontFace=!0,this._state=s}this._state.onBlendChange.add(this),this.renderable=!0,this.group=[],this.instanced=!1,this._layer=null,this.id=null,this.onChange=u.a,this.tick=-1,this._dirtyBoundsId=-1,this.boundingSphere=new o.a,this.boundingBox=new a.a,this.frustumCull=void 0===n.frustumCull||n.frustumCull,this.layerId=n.layerId||"default",this.shadowMaterial=n.shadowMaterial}var e,n,s;return e=t,(n=[{key:"getBoundingSphere",value:function(){var t=this.entity.transform,e=this.boundingSphere;if(this._dirtyBoundsId!==t.worldID){var n=this._geometry;n.boundingBox||this._addGeometryBounds(n),e.copy(n.boundingSphere||this._generateBounds(n)),e.applyMatrix4(t.worldTransform),this._dirtyBoundsId=t.worldID}return e}},{key:"getFaces",value:function(){var t=this.geometry.faces;return t||(t=function(t){var e,n,i=t.castToBaseGeometry(),a=i.getBuffer("aPosition").data,o=i.getIndex().data;t instanceof r.Geometry?(e=0,n=o.length):(e=t.start,n=t.size);for(var s={},u=0;u<n;u++){var l=o[u+e],h=3*l;s[l]=new c.a(a[h],a[h+1],a[h+2])}for(var d,p,f,m=[],g=0;g<n;g+=3){var y={indices:[d=o[g+e],p=o[g+1+e],f=o[g+2+e]],vertices:[s[d],s[p],s[f]]};m.push(y)}return t.faces=m,m}(this.geometry)),t}},{key:"onBlendChange",value:function(){this._layer&&this._layer._onChange(this.entity)}},{key:"_addGeometryBounds",value:function(t){var e=function(t){var e=t.castToBaseGeometry(),n=e.getBuffer("aPosition").data,r=e.getAttribute("aUv")&&e.getBuffer("aUv")===e.getBuffer("aPosition"),i=r?8:3,o=r?2:0,s=n.length/i;t instanceof l.a&&(o+=t.attribStart*i,s=t.attribSize);for(var u=1/0,h=-1/0,d=1/0,p=-1/0,f=1/0,m=-1/0,g=0;g<s*i;g+=i){var y=n[g+o],v=n[g+o+1],b=n[g+o+2];y<u?u=y:y>h&&(h=y),v<d?d=v:v>p&&(p=v),b<f?f=b:b>m&&(m=b)}return new a.a(new c.a(u,d,f),new c.a(h,p,m))}(t);t.boundingBox=e,t.boundingSphere=e.getBoundingSphere(new o.a)}},{key:"_generateBounds",value:function(t){}},{key:"state",get:function(){return this._state},set:function(t){this._state!==t&&(this._state.onBlendChange.remove(this),this._state=t,this._state.onBlendChange.add(this))}},{key:"material",get:function(){return this._material},set:function(t){this._material!==t&&(this._material=t,this._layer&&this._layer._onChange(this.entity))}},{key:"geometry",get:function(){return this._geometry},set:function(t){this._geometry!==t&&(this._geometry=t,this._dirtyBoundsId=-1,this._layer&&this._layer._onChange(this.entity))}},{key:"layer",get:function(){var t=this._layer;return t||(t=this.entity.scene.view3d.layers.getLayer(this.layerId)),t},set:function(t){this._layer=t}}])&&h(e.prototype,n),s&&h(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}();d.DEFAULT_NAME="view3d"},function(t,e,n){"use strict";e.a={characters:{anais:{spineRef:"anais/Anais"},apple:{spineRef:"apple/Apple"},batgirl:{spineRef:"batgirl/Batgirl"},beastboy:{spineRef:"beastboy/BeastBoy"},ben10:{spineRef:"ben10/Ben_10"},blossom:{spineRef:"blossom/Blossom"},bmo:{spineRef:"bmo/BMO"},bubbles:{spineRef:"bubbles/Bubbles"},buttercup:{spineRef:"buttercup/Buttercup"},craig:{spineRef:"craig/Craig"},cyborg:{spineRef:"cyborg/Cyborg"},darwin:{spineRef:"darwin/Darwin"},finn:{spineRef:"finn/Finn"},fourarms:{spineRef:"fourarms/FourArms"},gumball:{spineRef:"gumball/Gumball"},jake:{spineRef:"jake/Jake"},jessica:{spineRef:"jessica/Jessica_1"},kelsey:{spineRef:"kelsey/Kelsey"},marceline:{spineRef:"marceline/Marceline"},mojo:{spineRef:"mojo/Mojo"},onion:{spineRef:"onion/Onion"},princess_bubblegum:{spineRef:"princess_bubblegum/Princess_Bubblegum"},raven:{spineRef:"raven/Raven"},richard:{spineRef:"richard/Richard"},robin:{spineRef:"robin/Robin"},starfire:{spineRef:"starfire/Starfire"},wonderwoman:{spineRef:"wonderwoman/Wonderwoman"},xlr8:{spineRef:"xlr8/XLR8"},baby_ice_bear:{spineRef:"baby_ice_bear/Baby_Bear_White"},baby_grizz:{spineRef:"baby_grizz/Baby_Bear_Brown"},baby_panda:{spineRef:"baby_panda/Baby_Bear_Panda"},supergirl:{spineRef:"supergirl/Supergirl"},nana_zanana:{spineRef:"nana_zanana/NanaZanana"},tobias:{spineRef:"tobias/Tobias"},jp:{spineRef:"jp/JP"}}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var r;n(39);function i(t){var e;try{e=t===r.LOCAL?window.localStorage:window.sessionStorage;var n="__storage_test__";return e.setItem(n,n),e.removeItem(n),!0}catch(t){return t instanceof DOMException&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e&&0!==e.length}}!function(t){t.LOCAL="local",t.SESSION="session"}(r||(r={}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35);var r=n(0),i=n(148),a=n(94);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}a.a.android?(r.settings.PRECISION_FRAGMENT=r.PRECISION.LOW,r.settings.PRECISION_VERTEX=r.PRECISION.HIGH):a.a.ios&&(r.settings.PRECISION_FRAGMENT=r.PRECISION.HIGH,r.settings.PRECISION_VERTEX=r.PRECISION.HIGH);var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(l,t);var e,n,i,o=c(l);function l(t,e){var n,i,s,u,c,h,d,p,f;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,l),n=o.call(this,t,e),e.resolution=null!==(i=e.resolution)&&void 0!==i?i:Math.min(window.devicePixelRatio,2),e.antialias=null!==(s=e.antialias)&&void 0!==s?s:a.a.desktop,e.powerPreference=null!==(u=e.powerPreference)&&void 0!==u?u:"high-performance",e.transparent=null!==(c=e.transparent)&&void 0!==c?c:function(){var t,e,n=document.createElement("canvas"),r=!1;try{e=(t=n.getContext("webgl")).getExtension("WEBGL_debug_renderer_info");var i=t.getParameter(e.UNMASKED_RENDERER_WEBGL).substring(0,8);"Mali-400"!==i&&"Mali-450"!==i||(r=!0)}catch(t){}return r}(),n.canvas=e.view=e.view||n._setupCanvas(),(null===(h=e.autoAddToDocument)||void 0===h||h)&&document.body.appendChild(e.view),n.renderer=r.Renderer.create(e),n.renderer.plugins.accessibility.debug=null!==(d=e.accessibilityDebug)&&void 0!==d&&d,n.stage=new r.Container,n.mainContainer=new r.Container,n.overlayContainer=new r.Container,n.stage.addChild(n.mainContainer),n.stage.addChild(n.overlayContainer),n.useHalfFPS=null!==(p=e.useHalfFPS)&&void 0!==p&&p,n._halfTick=0,null!==(f=e.alwaysOnAccessibility)&&void 0!==f&&f&&(n.renderer.plugins.accessibility._isMobileAccessibility=!0,n.renderer.plugins.accessibility.activate(),n.renderer.plugins.accessibility.destroyTouchHook()),n}return e=l,(n=[{key:"_setupCanvas",value:function(){var t=document.createElement("canvas");return t.id="pixi-canvas",t.style.position="absolute",t.style.left="0px",t.style.right="0px",t.style.top="0px",t.style.bottom="0px",t.style.width="100%",t.style.height="100%",t.style.overflow="visible",t.style.display="block",t}},{key:"start",value:function(){this.app.updateRunner.remove(this.update),this.app.updateRunner.add(this.update)}},{key:"update",value:function(t){(!a.a.ios||t>.8)&&(this._halfTick++,(!this.useHalfFPS||this._halfTick%2)&&this.renderer.render(this.stage))}},{key:"view",get:function(){return this.renderer.view}},{key:"interactive",get:function(){return this.stage.interactive},set:function(t){this.stage.interactive=t,this.stage.interactiveChildren=t}}])&&s(e.prototype,n),i&&s(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(i.a)},,function(t,e,n){var r=n(111).f,i=n(109),a=n(86)("toStringTag");t.exports=function(t,e,n){t&&!i(t=n?t:t.prototype,a)&&r(t,a,{configurable:!0,value:e})}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},function(t,e,n){"use strict";var r=n(238),i=n(102),a=n(97),o=n(120),s=n(293),u=n(239);r("match",1,(function(t,e,n){return[function(e){var n=o(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var o=i(t),c=String(this);if(!o.global)return u(o,c);var l=o.unicode;o.lastIndex=0;for(var h,d=[],p=0;null!==(h=u(o,c));){var f=String(h[0]);d[p]=f,""===f&&(o.lastIndex=s(c,a(o.lastIndex),l)),p++}return 0===p?null:d}]}))},function(t,e,n){var r,i=n(102),a=n(471),o=n(283),s=n(204),u=n(463),c=n(280),l=n(230),h=l("IE_PROTO"),d=function(){},p=function(t){return"<script>"+t+"<\/script>"},f=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;f=r?function(t){t.write(p("")),t.close();var e=t.parentWindow.Object;return t=null,e}(r):((e=c("iframe")).style.display="none",u.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(p("document.F=Object")),t.close(),t.F);for(var n=o.length;n--;)delete f.prototype[o[n]];return f()};s[h]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(d.prototype=i(t),n=new d,d.prototype=null,n[h]=t):n=f(),void 0===e?n:a(n,e)}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function a(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.assign=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!==r(n))throw new TypeError(n+"must be non-object");for(var i in n)a(n,i)&&(t[i]=n[i])}}return t},e.shrinkBuf=function(t,e){return t.length===e?t:t.subarray?t.subarray(0,e):(t.length=e,t)};var o={arraySet:function(t,e,n,r,i){if(e.subarray&&t.subarray)t.set(e.subarray(n,n+r),i);else for(var a=0;a<r;a++)t[i+a]=e[n+a]},flattenChunks:function(t){var e,n,r,i,a,o;for(r=0,e=0,n=t.length;e<n;e++)r+=t[e].length;for(o=new Uint8Array(r),i=0,e=0,n=t.length;e<n;e++)a=t[e],o.set(a,i),i+=a.length;return o}},s={arraySet:function(t,e,n,r,i){for(var a=0;a<r;a++)t[i+a]=e[n+a]},flattenChunks:function(t){return[].concat.apply([],t)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,o)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,s))},e.setTyped(i)},function(t,e,n){var r=n(41),i=n(503).values;r({target:"Object",stat:!0},{values:function(t){return i(t)}})},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));n(133),n(244);var r=n(36);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.isBox3=!0,this.min=void 0!==e?e:new r.a(1/0,1/0,1/0),this.max=void 0!==n?n:new r.a(-1/0,-1/0,-1/0)}var e,n,a;return e=t,(n=[{key:"set",value:function(t,e){return this.min.copy(t),this.max.copy(e),this}},{key:"setFromArray",value:function(t){for(var e=Number(1/0),n=Number(1/0),r=Number(1/0),i=-1/0,a=-1/0,o=-1/0,s=0,u=t.length;s<u;s+=3){var c=t[s],l=t[s+1],h=t[s+2];c<e&&(e=c),l<n&&(n=l),h<r&&(r=h),c>i&&(i=c),l>a&&(a=l),h>o&&(o=h)}return this.min.set(e,n,r),this.max.set(i,a,o),this}},{key:"setFromPoints",value:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this}},{key:"setFromCenterAndSize",value:function(t,e){var n=o.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this}},{key:"clone",value:function(){return(new t).copy(this)}},{key:"copy",value:function(t){return this.min.copy(t.min),this.max.copy(t.max),this}},{key:"makeEmpty",value:function(){return this.min.x=this.min.y=this.min.z=Number(1/0),this.max.x=this.max.y=this.max.z=-1/0,this}},{key:"isEmpty",value:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}},{key:"getCenter",value:function(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}},{key:"getSize",value:function(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}},{key:"expandByPoint",value:function(t){return this.min.min(t),this.max.max(t),this}},{key:"expandBySphere",value:function(t){var e=t.center,n=t.radius;return o.x=e.x-n,o.y=e.y-n,o.z=e.z-n,this.min.min(o),o.x=e.x+n,o.y=e.y+n,o.z=e.z+n,this.max.max(o),this}},{key:"expandByVector",value:function(t){return this.min.sub(t),this.max.add(t),this}},{key:"expandByScalar",value:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this}},{key:"expandByObject",value:function(){return this}},{key:"containsPoint",value:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}},{key:"containsBox",value:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}},{key:"getParameter",value:function(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}},{key:"intersectsBox",value:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}},{key:"intersectsSphere",value:function(t){var e=new r.a;return this.clampPoint(t.center,e),e.distanceToSquared(t.center)<=t.radius*t.radius}},{key:"intersectsPlane",value:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant}},{key:"clampPoint",value:function(t,e){return e.copy(t).clamp(this.min,this.max)}},{key:"distanceToPoint",value:function(t){return o.copy(t).clamp(this.min,this.max).sub(t).length()}},{key:"getBoundingSphere",value:function(t){return this.getCenter(t.center),t.radius=.5*this.getSize(o).length(),t}},{key:"intersect",value:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}},{key:"union",value:function(t){return this.min.min(t.min),this.max.max(t.max),this}},{key:"applyMatrix4",value:function(t){return this.isEmpty()||(s[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),s[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),s[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),s[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),s[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),s[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),s[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),s[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(s)),this}},{key:"translate",value:function(t){return this.min.add(t),this.max.add(t),this}},{key:"equals",value:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}])&&i(e.prototype,n),a&&i(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}(),o=new r.a,s=[new r.a,new r.a,new r.a,new r.a,new r.a,new r.a,new r.a,new r.a]},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));n(27),n(133),n(5),n(19),n(21);var r=n(1),i=n(0),a=n(4);function o(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h=function(t){var e,n;function h(e){var n;return l(u(n=t.call(this)||this),"app",void 0),l(u(n),"active",void 0),l(u(n),"container",void 0),l(u(n),"centerCotainer",void 0),l(u(n),"filterContainer",void 0),l(u(n),"contentContainer",void 0),l(u(n),"w",void 0),l(u(n),"h",void 0),l(u(n),"padding",void 0),l(u(n),"bg",void 0),l(u(n),"profile",void 0),l(u(n),"num",void 0),l(u(n),"data",void 0),l(u(n),"nameText",void 0),l(u(n),"stars",void 0),l(u(n),"nStars",10),l(u(n),"starCounts",void 0),n.app=e,n.active=!0,n.container=new i.Container,n.centerCotainer=new i.Container,n.filterContainer=new i.Container,n.contentContainer=new i.Container,n.w=a.a.PLAYER_CARD.WIDTH,n.h=a.a.PLAYER_CARD.HEIGHT,n.padding=a.a.PLAYER_CARD.PADDING,n.centerCotainer.position.x=-n.w/2-17,n.centerCotainer.position.y=-n.h/2,n.bg=i.Sprite.from(n.bgTextureRef),n.contentContainer.addChild(n.bg),n.container.addChild(n.filterContainer),n.container.addChild(n.centerCotainer),n.addChild(n.container),n.contentContainer.x=-n.bg.width/2,n.contentContainer.y=-n.bg.height/2,n.filterContainer.addChild(n.contentContainer),n}n=t,(e=h).prototype=Object.create(n.prototype),e.prototype.constructor=e,c(e,n);var d,p,f,m=h.prototype;return m.fadeIn=function(){var t,e=(t=regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function s(t){o(a,r,i,s,u,"next",t)}function u(t){o(a,r,i,s,u,"throw",t)}s(void 0)}))});return function(t){return e.apply(this,arguments)}}(),m.shine=function(){this.stars=[],this.starCounts=[];for(var t=[],e=1;e<=this.nStars;e++)t.push(e*(350/this.nStars));r.Random.shuffle(t);for(var n=0;n<this.nStars;n++){var a=i.Sprite.from("flash-big-2.png");a.scale.set(.2+.8*Math.random()),a.anchor.set(.5),a.blendMode=i.BLEND_MODES.ADD,a.position.x=n*(350/this.nStars),a.position.y=t[n],this.centerCotainer.addChild(a),this.stars.push(a),this.starCounts.push(1e3*Math.random())}},m.unshine=function(){for(var t=0;t<this.stars.length;t++)this.centerCotainer.removeChild(this.stars[t]);this.stars.length=0},m.update=function(t){if(this.stars)for(var e=0;e<this.stars.length;e++)this.starCounts[e]+=.07*t,this.stars[e].alpha=Number(Math.abs(Math.sin(this.starCounts[e]))),this.stars[e].rotation+=.01*this.stars[e].scale.x*t},m.updateData=function(t){this.shine()},d=h,(p=[{key:"bgTextureRef",get:function(){return"panel-shop-background-white-third.png"}}])&&s(d.prototype,p),f&&s(d,f),Object.defineProperty(d,"prototype",{writable:!1}),h}(i.Container)},function(t,e,n){"use strict";n.d(e,"a",(function(){return A}));n(21),n(27),n(133),n(127),n(5),n(34),n(42),n(99),n(23),n(88),n(126),n(139),n(19);var r=n(94),i=n(130),a=n(17),o=n(11),s=n(40),u=n(49),c=n(8),l=n(219),h=n(9),d=n(24);function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(){function t(t){var e=void 0===t?{}:t,n=e.currentItem,r=void 0===n?0:n,i=e.itemLength,a=void 0===i?0:i;p(this,"start",void 0),p(this,"last",void 0),p(this,"mouseNormalized",void 0),p(this,"lastCall",void 0),p(this,"currentItem",void 0),p(this,"itemLength",void 0),p(this,"deltas",void 0),p(this,"lock",void 0),p(this,"distance",void 0),p(this,"lastMouseMove",void 0),p(this,"delta",void 0),p(this,"dragging",void 0),p(this,"idle",void 0),p(this,"_onKeyDown",void 0),p(this,"_onMouseMove",void 0),p(this,"_onMouseDown",void 0),p(this,"_onMouseUp",void 0),p(this,"_onMouseWheel",void 0),p(this,"previous",void 0),p(this,"next",void 0),p(this,"releaseItems",void 0),p(this,"translateItems",void 0),this.lastCall=0,this.currentItem=r,this.itemLength=a,this.mouseNormalized={x:0,y:0},this._onKeyDown=this.onKeyDown.bind(this),this._onMouseMove=this.onMouseMove.bind(this),this._onMouseDown=this.onMouseDown.bind(this),this._onMouseUp=this.onMouseUp.bind(this),this._onMouseWheel=this.onMouseWheel.bind(this),this.previous=new d.Signal,this.next=new d.Signal,this.releaseItems=new d.Signal,this.translateItems=new d.Signal,this.deltas=[0,0,0,0,0],this.off()}var e=t.prototype;return e.on=function(){window.addEventListener("keydown",this._onKeyDown),window.addEventListener("mousewheel",this._onMouseWheel)},e.off=function(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("mousewheel",this._onMouseWheel)},e.onKeyDown=function(t){switch(t.keyCode){case 37:this.onPrevious();break;case 39:this.onNext()}},e.peak=function(){return this.lock>0?(this.lock--,!1):this.deltas[0]<this.deltas[2]&&this.deltas[1]<this.deltas[2]&&this.deltas[3]>this.deltas[2]&&this.deltas[4]>this.deltas[2]},e.onMouseWheel=function(t){this.peak()&&(this.lock=15,t.deltaY>0?this.onNext():this.onPrevious()),this.deltas.shift(),this.deltas.push(Math.abs(t.deltaY)),t.preventDefault()},e.onMouseDown=function(t){this.dragging=!0,this.distance=0,this.start={x:t.clientX||t.touches[0].clientX,y:t.clientY||t.touches[0].clientY},this.last=this.start},e.onMouseUp=function(t){this.dragging=!1,Math.abs(this.distance)>.1*window.innerWidth?this.delta<0?this.onNext():this.onPrevious():this.itemReleased(),this.distance=0,this.start={x:0,y:0}},e.onMouseMove=function(t){this.lastMouseMove=Date.now(),this.idle=!1;var e=t.clientX||t.touches[0].clientX,n=t.clientY||t.touches[0].clientY;if(this.mouseNormalized.x=2*(e/window.innerWidth-.5),this.mouseNormalized.y=2*(n/window.innerHeight-.5),this.dragging){var r={x:e,y:n};this.distance=r.x-this.start.x,this.delta=r.x-this.last.x>0?1:-1,this.last=r,this.translateItems.emit(.2*this.distance)}},e.itemReleased=function(){this.distance=0,this.start={x:0,y:0},this.releaseItems.emit()},e.onPrevious=function(){this.currentItem--,this.previous.emit(this.currentItem)},e.onNext=function(){this.currentItem++,this.next.emit(this.currentItem)},t}(),m=n(1),g=n(123),y=n(2),v=n(0),b=n(4);function _(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E={title:"placeholder",cardConfig:{lockable:!0,shineable:!0,cta:l.a.TICK},screenIdentifier:null,backgroundLoading:!1,enableBreadcrumb:!1},A=function(t){var e,n;function i(e,n){var r;return M(S(r=t.call(this,e)||this),"app",void 0),M(S(r),"interactionArea",void 0),M(S(r),"options",void 0),M(S(r),"cardConfig",void 0),M(S(r),"screenIdentifier",void 0),M(S(r),"needBackgroundLoading",void 0),M(S(r),"assetsLoaded",void 0),M(S(r),"active",void 0),M(S(r),"cardsContainer",void 0),M(S(r),"trackpad",void 0),M(S(r),"title",void 0),M(S(r),"charactersData",void 0),M(S(r),"previousButton",void 0),M(S(r),"nextButton",void 0),M(S(r),"slider",void 0),M(S(r),"selectedCard",void 0),M(S(r),"cards",void 0),M(S(r),"loadSpinner",void 0),M(S(r),"numberOfCards",void 0),M(S(r),"offset",void 0),M(S(r),"pcOffset",void 0),M(S(r),"breadcrumbActive",void 0),M(S(r),"_onKeyDown",void 0),M(S(r),"onCardSelected",void 0),r.app=e,r.options=x(x({},E),n),r.cardConfig=r.options.cardConfig,r.screenIdentifier=r.options.screenIdentifier,r.needBackgroundLoading=r.options.backgroundLoading,r.breadcrumbActive=r.options.enableBreadcrumb,r}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,T(e,n);var p=i.prototype;return p.init=function(){var t,e=(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.trackpad=new g.a({target:this.view}),this.trackpad.snapTo=!0,this.trackpad.scrollMax=1/0,this.trackpad.capMovement=!1,this.trackpad.size=b.a.PLAYER_CARD.WIDTH+b.a.PLAYER_CARD.SPACING,this.trackpad.maxSlots=1/0,this.trackpad.spring.springiness=.01,this.options.title&&(this.title=new h.a(this.options.title,{fill:"#ffffff",fontSize:36,stroke:!1,strokeThickness:8,lineJoin:"round",dropShadow:!0,dropShadowAlpha:.35,dropShadowAngle:Math.PI/2,dropShadowDistance:5,dropShadowBlur:5}),this.title.anchor.set(.5),this.view.addChild(this.title)),this.interactionArea=new v.Sprite(v.Texture.WHITE),this.interactionArea.alpha=0,this.view.addChild(this.interactionArea),this.charactersData=[],this.cardsContainer=new v.Container,this.view.addChild(this.cardsContainer),this.cardsContainer.visible=!this.needBackgroundLoading,this.needBackgroundLoading&&(this.loadSpinner=v.Sprite.from("loading-wheel.png"),this.loadSpinner.anchor.set(.5),this.loadSpinner.scale.set(2),this.view.addChild(this.loadSpinner),this.assetsLoaded=!1),this.active=!1,r.a.mobile||(this.previousButton=new o.c({icon:"button-left-inverted.png",noBackground:!0,iconScale:1.8}),this.previousButton.position.set(37.5,100),this.previousButton.onPress.add(this.previousCharacter,this),this.view.addChild(this.previousButton),this.nextButton=new o.c({icon:"button-right-inverted.png",noBackground:!0,iconScale:1.8}),this.nextButton.position.set(37.5,100),this.nextButton.onPress.add(this.nextCharacter,this),this.view.addChild(this.nextButton)),this._onKeyDown=this.onKeyDown.bind(this),this.onCardSelected=new d.Signal;case 20:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){_(a,r,i,o,s,"next",t)}function s(t){_(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}(),p.setPlayers=function(t){this.charactersData=t,this.selectedCard=null,this.updateCards()},p.updateCards=function(){this.cards=[],this.offset=0,this.numberOfCards=8,this.slider=new f({itemLength:this.charactersData.length,currentItem:0}),this.slider.previous.connect(this.previousCharacter.bind(this)),this.slider.next.connect(this.nextCharacter.bind(this));for(var t=0;t<this.numberOfCards;t++){var e=new l.b(this.app,this.cardConfig);e.index=t,e.onDown.connect(this.onCardDown.bind(this,e)),this.cardsContainer.addChild(e),this.cards.push(e)}var n=b.a.PLAYER_CARD.WIDTH-b.a.PLAYER_CARD.SPACING;this.pcOffset=0,this.pcOffset=b.a.PLAYER_CARD.OFFSET/2+n/2+n/4+2.5},p.update=function(t){var e;if(null!==(e=this.loadSpinner)&&void 0!==e&&e.visible&&(this.loadSpinner.rotation+=.1*t),!this.needBackgroundLoading||this.assetsLoaded){this.trackpad.update();for(var n=b.a.PLAYER_CARD.WIDTH+b.a.PLAYER_CARD.SPACING,r=this.numberOfCards*n,i=0;i<this.numberOfCards;i++){this.cards[i].position.x=i*n+this.trackpad.value+this.offset;var a=Math.floor((this.cards[i].position.x+n/2)/r);if(a*=this.numberOfCards,a*=-1,(a+=i)!=this.cards[i].id){this.cards[i].id=a;var o=a%this.charactersData.length;o<0&&(o+=this.charactersData.length),this.cards[i].updateData(this.charactersData[o])}this.cards[i].position.x%=r,this.cards[i].position.x<0&&(this.cards[i].position.x+=r),this.cards[i].position.x-=n,this.cards[i].position.x-=n;var s=2*((this.cards[i].position.x+this.pcOffset)/1136-.5);this.cards[i].z=s,this.cards[i].depth=2-Math.abs(s);var u=1-Math.sin(.3*Math.abs(s));u=Math.max(.8,u),this.cards[i].scale.x=u,this.cards[i].scale.y=u;var c=Math.sin(Number(Math.abs(s)));c=Math.min(.5,c),this.cards[i].dimmer&&(this.cards[i].dimmer.alpha=c),this.breadcrumbActive&&!1===this.cards[i].data.shined&&!this.cards[i].data.locked&&this.cards[i].z<.05&&this.cards[i].z>-.05&&(this.cards[i].data.shined=!0,this.app.storage.saveData("characters"))}this.cardsContainer.children.sort((function(t,e){return t.depth-e.depth})),this.cards.forEach((function(e){return e.update(t)}))}},p.onCardDown=function(t){if(!this.trackpad.didMove){var e=t.z<.1&&t.z>-.1;this.slider.currentItem=this.slider.currentItem+(t.position.x/(b.a.PLAYER_CARD.WIDTH+b.a.PLAYER_CARD.SPACING)-1);if(Object(m.tween)(t.container.scale,.2,{x:.9,y:.9,ease:"Expo.easeOut"}),Object(m.tween)(t.container.scale,.8,{x:1,y:1,delay:.2,ease:"Elastic.easeOut"}),Object(m.tween)(this,.3,{offset:this.offset-(t.position.x/(b.a.PLAYER_CARD.WIDTH+b.a.PLAYER_CARD.SPACING)-1)*(b.a.PLAYER_CARD.WIDTH+b.a.PLAYER_CARD.SPACING)}),e){if(t.data.locked)return c.a.misc.forceShowCharacterId=t.data.id,void this.app.controller.gotoOverlay(b.a.OVERLAY_ID.LOCKED_POPUP);if(t.data.selected){a.default.playSfx("button_deselect");for(var n=1;n<7;n++){var r=n%2==0?-1:1;Object(m.tween)(t.container.position,.1,{x:50*r,delay:.1*n})}Object(m.tween)(t.container.position,.1,{x:0,delay:.1*7})}else a.default.playSfx("button_press"),this.breadcrumbActive&&this.app.characters.setSelectionCache(this.screenIdentifier,t.data.id),this.view.interactiveChildren=!1,this.breadcrumbActive,this.onCardSelected.emit(t)}}},p.selectPlayer=function(t){this.selectedCard=t,this.selectedCard.select(),s.a[this.selectedCard.data.id].selected=!0},p.previousCharacter=function(){for(var t=0;t<this.cards.length;t++){var e=this.cards[t];if(e.z<.1&&e.z>-.1)return void(this.cards[t-1]?this.onCardDown(this.cards[t-1]):this.onCardDown(this.cards[this.cards.length-1]))}},p.nextCharacter=function(){for(var t=0;t<this.cards.length;t++){var e=this.cards[t];if(e.z<.1&&e.z>-.1)return void(this.cards[t+1]?this.onCardDown(this.cards[t+1]):this.onCardDown(this.cards[0]))}},p.show=function(){var t=this;this.active=!0,this.needBackgroundLoading||this.showContent(),this.title.scale.set(0),this.nextButton&&(this.nextButton.x=this.width+this.nextButton.width/2,this.previousButton.x=-this.previousButton.width/2),Object(m.tween)(this.title.scale,1,{x:1,y:1,ease:"Elastic.easeOut",delay:.2}),Object(m.delay)(.5).then((function(){t.view.interactiveChildren=!0}))},p.onAssetsLoaded=function(){this.assetsLoaded=!0,this.loadSpinner.visible=!1,this.cardsContainer.visible=!0},p.showContent=function(){if(this.selectedCard=null,this.trackpad.locked=!1,this.trackpad.onUp(),this.offset=0,this.breadcrumbActive){var t;switch(this.screenIdentifier){case"captain":t=0;break;case"first":t=1;break;case"second":t=2;break;case"keeper":t=3}for(var e=3;e>=t;e--)if(y.b.teamA[e]){y.b.teamA[e].selected=!1;for(var n=0;n<this.cards.length;n++)this.cards[n].data===y.b.teamA[e]&&this.cards[n].unselect();y.b.teamA[e]=null}if(u.a.characterSelectionCache.recentlyUnlocked){var i=this.charactersData.map((function(t){return t.id})).indexOf(u.a.characterSelectionCache.recentlyUnlocked)-3;this.trackpad.setSlot(i,!0),this.app.characters.resetRecentlyUnlockedSelection()}else if(u.a.characterSelectionCache[this.screenIdentifier]){for(var a=this.charactersData.map((function(t){return t.id})).indexOf(u.a.characterSelectionCache[this.screenIdentifier])-3;this.charactersData[this.capIndexValue(a+3)].selected||this.charactersData[this.capIndexValue(a+3)].locked;)a=Math.round(Math.random()*(this.charactersData.length-1));this.trackpad.setSlot(a,!0)}else{for(var o=Math.round(Math.random()*(this.charactersData.length-1));this.charactersData[this.capIndexValue(o+3)].selected||this.charactersData[this.capIndexValue(o+3)].locked;)o=Math.round(Math.random()*(this.charactersData.length-1));this.trackpad.setSlot(o,!0)}}this.slider.on(),window.addEventListener("keydown",this._onKeyDown);for(var s=0;s<this.cards.length;s++)this.cards[s].ctaElement.isHidden=!0,this.cards[s].container.scale.set(0),Object(m.tween)(this.cards[s].container.scale,1,{x:r.a.mobile?.9:1,y:r.a.mobile?.9:1,ease:"Elastic.easeOut",delay:.2}),this.cards[s].data&&this.cards[s].updateData(this.cards[s].data);this.previousButton&&(Object(m.tween)(this.nextButton,.3,{x:this.width-this.nextButton.width/2,ease:"Quad.easeOut"}),Object(m.tween)(this.previousButton,.3,{x:this.previousButton.width/2,ease:"Quad.easeOut"}))},p.capIndexValue=function(t){return(t%=this.charactersData.length)>=0?t:this.charactersData.length+t},p.onKeyDown=function(t){if(32===t.keyCode||13===t.keyCode)for(var e=0;e<this.cards.length;e++)0===Math.round(this.cards[e].z)&&this.onCardDown(this.cards[e])},p.hide=function(){this.active=!1,this.slider.off(),window.removeEventListener("keydown",this._onKeyDown),this.previousButton&&(Object(m.tween)(this.nextButton,.3,{x:this.width+this.nextButton.width/2,ease:"Quad.easeOut"}),Object(m.tween)(this.previousButton,.3,{x:-this.previousButton.width/2,ease:"Quad.easeOut"}))},p.resize=function(e,n){t.prototype.resize.call(this,e,n);var r=b.a.MARGIN.TITLE_TOP/2;if(this.previousButton&&(this.nextButton.position.x=e-this.nextButton.width/2,this.previousButton.position.x=this.nextButton.width/2,this.previousButton.position.y=r+n/2,this.nextButton.position.y=r+n/2),this.title&&(this.title.position.y=b.a.MARGIN.TITLE_TOP,this.title.position.x=e/2),this.loadSpinner&&this.loadSpinner.position.set(e/2,n/2),this.cardsContainer){var i=n-this.title.y+this.title.height/2-(this.breadcrumbActive?this.app.overlays.breadcrumb.height:0)-50;this.cardsContainer.scale.set(1),this.cardsContainer.height>i&&this.cardsContainer.scale.set(i/this.cardsContainer.height),this.cardsContainer.x=e/2-(b.a.PLAYER_CARD.WIDTH+b.a.PLAYER_CARD.SPACING),this.cardsContainer.y=this.title.y+this.title.height/2+n/2-this.cardsContainer.height*(this.breadcrumbActive?.2:.17),this.cardsContainer.originalX=this.cardsContainer.x,this.interactionArea.width=e,this.interactionArea.height=.85*this.cardsContainer.height,this.interactionArea.y=this.cardsContainer.y-this.cardsContainer.height/2.4}},i}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(500),n(133);var r=n(141),i=n(36);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e||0,this.y=n||0,this.z=r||0,this.w=void 0!==i?i:1}var e,n,o;return e=t,o=[{key:"slerp",value:function(t,e,n,r){return n.copy(t).slerp(e,r)}},{key:"slerpFlat",value:function(t,e,n,r,i,a,o){var s=n[r+0],u=n[r+1],c=n[r+2],l=n[r+3],h=i[a+0],d=i[a+1],p=i[a+2],f=i[a+3];if(l!==f||s!==h||u!==d||c!==p){var m=1-o,g=s*h+u*d+c*p+l*f,y=g>=0?1:-1,v=1-g*g;if(v>Number.EPSILON){var b=Math.sqrt(v),_=Math.atan2(b,g*y);m=Math.sin(m*_)/b,o=Math.sin(o*_)/b}var w=o*y;if(s=s*m+h*w,u=u*m+d*w,c=c*m+p*w,l=l*m+f*w,m===1-o){var x=1/Math.sqrt(s*s+u*u+c*c+l*l);s*=x,u*=x,c*=x,l*=x}}t[e]=s,t[e+1]=u,t[e+2]=c,t[e+3]=l}}],(n=[{key:"set",value:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this}},{key:"clone",value:function(){return new t(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=t.w,this}},{key:"setFromEuler",value:function(t){var e=t.x,n=t.y,r=t.z,i=t.order,a=Math.cos,o=Math.sin,s=a(e/2),u=a(n/2),c=a(r/2),l=o(e/2),h=o(n/2),d=o(r/2);return"XYZ"===i?(this.x=l*u*c+s*h*d,this.y=s*h*c-l*u*d,this.z=s*u*d+l*h*c,this.w=s*u*c-l*h*d):"YXZ"===i?(this.x=l*u*c+s*h*d,this.y=s*h*c-l*u*d,this.z=s*u*d-l*h*c,this.w=s*u*c+l*h*d):"ZXY"===i?(this.x=l*u*c-s*h*d,this.y=s*h*c+l*u*d,this.z=s*u*d+l*h*c,this.w=s*u*c-l*h*d):"ZYX"===i?(this.x=l*u*c-s*h*d,this.y=s*h*c+l*u*d,this.z=s*u*d-l*h*c,this.w=s*u*c+l*h*d):"YZX"===i?(this.x=l*u*c+s*h*d,this.y=s*h*c+l*u*d,this.z=s*u*d-l*h*c,this.w=s*u*c-l*h*d):"XZY"===i&&(this.x=l*u*c-s*h*d,this.y=s*h*c-l*u*d,this.z=s*u*d+l*h*c,this.w=s*u*c+l*h*d),this}},{key:"setFromAxisAngle",value:function(t,e){var n=e/2,r=Math.sin(n);return this.x=t.x*r,this.y=t.y*r,this.z=t.z*r,this.w=Math.cos(n),this}},{key:"setFromRotationMatrix",value:function(t){var e,n=t.elements,r=n[0],i=n[4],a=n[8],o=n[1],s=n[5],u=n[9],c=n[2],l=n[6],h=n[10],d=r+s+h;return d>0?(e=.5/Math.sqrt(d+1),this.w=.25/e,this.x=(l-u)*e,this.y=(a-c)*e,this.z=(o-i)*e):r>s&&r>h?(e=2*Math.sqrt(1+r-s-h),this.w=(l-u)/e,this.x=.25*e,this.y=(i+o)/e,this.z=(a+c)/e):s>h?(e=2*Math.sqrt(1+s-r-h),this.w=(a-c)/e,this.x=(i+o)/e,this.y=.25*e,this.z=(u+l)/e):(e=2*Math.sqrt(1+h-r-s),this.w=(o-i)/e,this.x=(a+c)/e,this.y=(u+l)/e,this.z=.25*e),this}},{key:"setFromUnitVectors",value:function(t,e){var n;return s||(s=new i.a),(n=t.dot(e)+1)<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?s.set(-t.y,t.x,0):s.set(0,-t.z,t.y)):s.crossVectors(t,e),this.x=s.x,this.y=s.y,this.z=s.z,this.w=n,this.normalize()}},{key:"angleTo",value:function(t){return 2*Math.acos(Math.abs(Object(r.a)(this.dot(t),-1,1)))}},{key:"rotateTowards",value:function(t,e){var n=this.angleTo(t);if(0===n)return this;var r=Math.min(1,e/n);return this.slerp(t,r),this}},{key:"inverse",value:function(){return this.conjugate()}},{key:"conjugate",value:function(){return this.x*=-1,this.y*=-1,this.z*=-1,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"normalize",value:function(){var t=this.length();return 0===t?(this.x=0,this.y=0,this.z=0,this.w=1):(t=1/t,this.x=this.x*t,this.y=this.y*t,this.z=this.z*t,this.w=this.w*t),this}},{key:"multiply",value:function(t){return this.multiplyQuaternions(this,t)}},{key:"premultiply",value:function(t){return this.multiplyQuaternions(t,this)}},{key:"multiplyQuaternions",value:function(t,e){var n=t.x,r=t.y,i=t.z,a=t.w,o=e.x,s=e.y,u=e.z,c=e.w;return this.x=n*c+a*o+r*u-i*s,this.y=r*c+a*s+i*o-n*u,this.z=i*c+a*u+n*s-r*o,this.w=a*c-n*o-r*s-i*u,this}},{key:"slerp",value:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this.x,r=this.y,i=this.z,a=this.w,o=a*t.w+n*t.x+r*t.y+i*t.z;if(o<0?(this.w=-t.w,this.x=-t.x,this.y=-t.y,this.z=-t.z,o=-o):this.copy(t),o>=1)return this.w=a,this.x=n,this.y=r,this.z=i,this;var s=1-o*o;if(s<=Number.EPSILON){var u=1-e;return this.w=u*a+e*this.w,this.x=u*n+e*this.x,this.y=u*r+e*this.y,this.z=u*i+e*this.z,this.normalize()}var c=Math.sqrt(s),l=Math.atan2(c,o),h=Math.sin((1-e)*l)/c,d=Math.sin(e*l)/c;return this.w=a*h+this.w*d,this.x=n*h+this.x*d,this.y=r*h+this.y*d,this.z=i*h+this.z*d,this}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}},{key:"fromArray",value:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}},{key:"toArray",value:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}}])&&a(e.prototype,n),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}(),s=null},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(83);var r=n(24);function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i(this,t),this.onAdded=new r.Signal,this.onRemoved=new r.Signal,this.children=e}var e,n,o;return e=t,(n=[{key:"add",value:function(t){-1===this.children.indexOf(t)&&(this.children.push(t),this.onAdded.emit(t))}},{key:"remove",value:function(t){var e=this.children.indexOf(t);return-1!==e&&(this.children.splice(e,1),this.onRemoved.emit(t),!0)}},{key:"contains",value:function(t){return-1!==this.children.indexOf(t)}},{key:"getIndex",value:function(t){return this.children.indexOf(t)}},{key:"getItem",value:function(t){return this.children[t]}},{key:"run",value:function(t,e){var n;if(e)for(n=0;n<this.children.length;n++)t.call(e,this.children[n]);else for(n=0;n<this.children.length;n++)t(this.children[n])}},{key:"empty",value:function(){this.children.length=0,this.onAdded.disconnectAll(),this.onRemoved.disconnectAll()}},{key:"length",get:function(){return this.children.length}}])&&a(e.prototype,n),o&&a(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0);function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var a=function(t){var e,n;function a(e,n){var i;!function(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}(function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(i=t.call(this)||this),"level",void 0);for(var a=0;a<10;a++){var o=r.Sprite.from(e);o.x=21.5*a,i.addChild(o)}return i.setData(n),i}return n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,i(e,n),a.prototype.setData=function(t){this.level=Math.min(Math.max(10*t,0),10);for(var e=0;e<10;e++)this.children[e].visible=e<this.level},a}(r.Container),o={skill:function(t){return new a("bar-accuracy-bit.png",t||0)},power:function(t){return new a("bar-power-bit.png",t||0)},speed:function(t){return new a("bar-speed-bit.png",t||0)}}},,function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},function(t,e,n){var r=n(459),i=n(283).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,i)}},function(t,e){t.exports=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},function(t,e,n){var r=n(165);t.exports=function(t,e,n){if(r(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}}},function(t,e,n){var r=n(102),i=n(165),a=n(86)("species");t.exports=function(t,e){var n,o=r(t).constructor;return void 0===o||null==(n=r(o)[a])?e:i(n)}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(41),a=n(54),o=n(105),s=n(608),u=n(89),c=n(483),l=n(180),h=n(177),d=n(125),p=n(97),f=n(484),m=n(485),g=n(190),y=n(109),v=n(205),b=n(98),_=n(167),w=n(192),x=n(179).f,S=n(611),T=n(122).forEach,M=n(208),E=n(111),A=n(138),k=n(137),C=n(240),O=k.get,L=k.set,R=E.f,P=A.f,D=Math.round,I=a.RangeError,B=c.ArrayBuffer,N=c.DataView,j=u.NATIVE_ARRAY_BUFFER_VIEWS,F=u.TYPED_ARRAY_TAG,U=u.TypedArray,Y=u.TypedArrayPrototype,G=u.aTypedArrayConstructor,H=u.isTypedArray,z=function(t,e){for(var n=0,r=e.length,i=new(G(t))(r);r>n;)i[n]=e[n++];return i},V=function(t,e){R(t,e,{get:function(){return O(this)[e]}})},W=function(t){var e;return t instanceof B||"ArrayBuffer"==(e=v(t))||"SharedArrayBuffer"==e},X=function(t,e){return H(t)&&"symbol"!=r(e)&&e in t&&String(+e)==String(e)},K=function(t,e){return X(t,e=g(e,!0))?h(2,t[e]):P(t,e)},q=function(t,e,n){return!(X(t,e=g(e,!0))&&b(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?R(t,e,n):(t[e]=n.value,t)};o?(j||(A.f=K,E.f=q,V(Y,"buffer"),V(Y,"byteOffset"),V(Y,"byteLength"),V(Y,"length")),i({target:"Object",stat:!0,forced:!j},{getOwnPropertyDescriptor:K,defineProperty:q}),t.exports=function(t,e,n){var r=t.match(/\d+$/)[0]/8,o=t+(n?"Clamped":"")+"Array",u="get"+t,c="set"+t,h=a[o],g=h,y=g&&g.prototype,v={},E=function(t,e){R(t,e,{get:function(){return function(t,e){var n=O(t);return n.view[u](e*r+n.byteOffset,!0)}(this,e)},set:function(t){return function(t,e,i){var a=O(t);n&&(i=(i=D(i))<0?0:i>255?255:255&i),a.view[c](e*r+a.byteOffset,i,!0)}(this,e,t)},enumerable:!0})};j?s&&(g=e((function(t,e,n,i){return l(t,g,o),C(b(e)?W(e)?void 0!==i?new h(e,m(n,r),i):void 0!==n?new h(e,m(n,r)):new h(e):H(e)?z(g,e):S.call(g,e):new h(f(e)),t,g)})),w&&w(g,U),T(x(h),(function(t){t in g||d(g,t,h[t])})),g.prototype=y):(g=e((function(t,e,n,i){l(t,g,o);var a,s,u,c=0,h=0;if(b(e)){if(!W(e))return H(e)?z(g,e):S.call(g,e);a=e,h=m(n,r);var d=e.byteLength;if(void 0===i){if(d%r)throw I("Wrong length");if((s=d-h)<0)throw I("Wrong length")}else if((s=p(i)*r)+h>d)throw I("Wrong length");u=s/r}else u=f(e),a=new B(s=u*r);for(L(t,{buffer:a,byteOffset:h,byteLength:s,length:u,view:new N(a)});c<u;)E(t,c++)})),w&&w(g,U),y=g.prototype=_(Y)),y.constructor!==g&&d(y,"constructor",g),F&&d(y,F,o),v[o]=g,i({global:!0,forced:g!=h,sham:!j},v),"BYTES_PER_ELEMENT"in g||d(g,"BYTES_PER_ELEMENT",r),"BYTES_PER_ELEMENT"in y||d(y,"BYTES_PER_ELEMENT",r),M(o)}):t.exports=function(){}},function(t,e,n){var r=n(41),i=n(301),a=n(214);r({target:"Array",proto:!0},{fill:i}),a("fill")},function(t,e,n){var r;n(83),void 0===(r=function(t,e,n){var r=function(){this.updateBind=this.update.bind(this),this.waits=[]};r.prototype.wait=function(t,e){var n={callback:t,count:e||2};this.waits.push(n),requestAnimationFrame(this.updateBind)},r.prototype.update=function(){for(var t=this.waits.length-1;t>=0;t--){var e=this.waits[t];e.count--,e.count<=0&&(e.callback(),this.waits.splice(t,1))}this.waits.length>0&&requestAnimationFrame(this.updateBind)},n.exports=new r}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return f}));n(51),n(83);var r,i=n(108),a=n(79),o=n(6),s=n(1),u=n(0),c=n(7),l=n(55);function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.SET=0]="SET"}(r||(r={}));var p=function(){d(this,"type",r.SET),d(this,"data",void 0)},f=function(){function t(t){d(this,"app",void 0),d(this,"_activePlayerKit",void 0),d(this,"_activeOpponentKit",void 0),this.app=t}var e,n,f,m=t.prototype;return m.setup=function(){var t=s.Params.get("forceKit",!1)||i.b.selected().id;this.setPlayerKit(t,!1)},m.unlockKit=function(t,e){void 0===e&&(e=!1),e||this.app.controller.updateCoins(-this.getKitCost()),i.a[t].locked=!1,e||this.selectKit(t,!0),this.save(),c.c.dispatch(o.a,{type:o.b.UNLOCKABLES_KIT_UNLOCKED,data:{kitId:t}})},m.getKitCost=function(){var t=i.b.unlocked().length-4,e=50;return t>=10?e=150:t>=5&&(e=100),e},m.selectKit=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.activePlayerKit&&(this.activePlayerKit.selected=!1),this.setPlayerKit(t,e),n||c.c.dispatch(o.a,{type:o.b.UNLOCKABLES_KIT_SELECTED,data:{kitId:t}})},m.setPlayerKit=function(t,e){void 0===e&&(e=!1),t=t||"default",this._activePlayerKit=i.a[t],e&&(this.activePlayerKit.selected=!0,this.save()),c.c.dispatch(p,{type:r.SET,data:{kitId:t}})},m.randomiseOpponentKit=function(){var t=this.selectRandomNonConflictingKitData([this.activePlayerKit]);this.setOpponentKit(t.id)},m.setOpponentKit=function(t){t=t||"default",this._activeOpponentKit=i.a[t]},m.selectRandomNonConflictingKitData=function(t){for(var e=i.b.all().concat(),n=e.length-1;n>=0;n--)for(var r=e[n],a=0;a<t.length;a++){var o=t[a];r.id==o.id&&e.splice(n,1)}return e[Math.floor(Math.random()*e.length)]},m.getTeamColor=function(t){if(void 0===t&&(t=l.b.A),!this.activePlayerKit)return{r:1,g:1,b:1,a:1,hex:16777215};var e=t===l.b.A?this.activePlayerKit:this.activeOpponentKit,n=a.c.selected(),r=n&&e.color.hasOwnProperty(n.id)?n.id:"default",i=e.color[r],o=u.utils.hex2rgb(i);return{r:o[0],g:o[1],b:o[2],a:1,hex:i}},m.save=function(){this.app.storage.saveData("kits")},e=t,(n=[{key:"activePlayerKit",get:function(){return this._activePlayerKit}},{key:"activeOpponentKit",get:function(){return this._activeOpponentKit}}])&&h(e.prototype,n),f&&h(e,f),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"c",(function(){return r})),n.d(e,"b",(function(){return h})),n.d(e,"a",(function(){return d}));n(42),n(184);var r,i=n(25),a=n(79),o=n(6),s=n(1),u=n(7);function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.SET=0]="SET"}(r||(r={}));var h=function(){l(this,"type",r.SET),l(this,"data",void 0)},d=function(){function t(t){l(this,"app",void 0),l(this,"_activeStadium",void 0),l(this,"_inGameDecorationsCache",void 0),this.app=t,this._inGameDecorationsCache={}}var e,n,d,p=t.prototype;return p.setup=function(){var t=s.Params.get("forceStadium",!1)||a.c.selected().id,e=!1;this.app.themes.activeTheme.id===i.k.WINTER?(a.a.default.show=!1,a.a.default.available=!1,a.a.winter.show=!0,a.a.winter.available=!0,"default"===t&&(a.a.default.selected=!1,t="winter",e=!0)):"winter"===t&&(a.a.winter.selected=!1,t="default",e=!0),this.setStadium(t,e)},p.unlockStadium=function(t,e){void 0===e&&(e=!1),a.a[t].locked=!1,a.a[t].unlockedPanels=new Array(9).fill(null).map((function(t,e){return e})),e||this.selectStadium(t,!0),this.save(),u.c.dispatch(o.a,{type:o.b.UNLOCKABLES_STADIUM_UNLOCKED,data:{stadiumId:t}})},p.selectStadium=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),this.activeStadium&&(this.activeStadium.selected=!1),this.setStadium(t,e),n||u.c.dispatch(o.a,{type:o.b.UNLOCKABLES_STADIUM_SELECTED,data:{stadiumId:t}})},p.setStadium=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),t=t||"default",this._activeStadium=a.a[t],this.app.background.refreshBackground(n),e&&(this.activeStadium.selected=!0,this.save()),u.c.dispatch(h,{type:r.SET,data:{stadiumId:t}})},p.save=function(){this.app.storage.saveData("stadiums")},e=t,(n=[{key:"activeStadium",get:function(){return this._activeStadium}},{key:"activeDecoration",get:function(){if(this._inGameDecorationsCache[this.activeStadium.id])return this._inGameDecorationsCache[this.activeStadium.id];var t=a.a[this.activeStadium.id],e=null;return t.gameDecoration&&(e=new t.gameDecoration,this._inGameDecorationsCache[this.activeStadium.id]=e),e}}])&&c(e.prototype,n),d&&c(e,d),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(5),n(19),n(21);var r=n(37);function i(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=function(){function t(t){a(this,"app",void 0),a(this,"initialised",!1),a(this,"_timeStamp",0),a(this,"tick",0),a(this,"data",void 0),this.app=t}var e=t.prototype;return e.setup=function(){var t,e=(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._timeStamp=Date.now(),this.tick=0,this.initialised=!0;case 3:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function s(t){i(o,r,a,s,u,"next",t)}function u(t){i(o,r,a,s,u,"throw",t)}s(void 0)}))});return function(){return e.apply(this,arguments)}}(),e.getRow=function(t){var e=r.b.id(t);if(!e)throw new Error("UserStatsPlugin :: getItem :: Unknown id "+t);return e},e.getValue=function(t){return this.getRow(t).value},e.setValue=function(t,e,n){void 0===n&&(n=!0),this.getRow(t).value=e,n&&this.save()},e.incrementValue=function(t,e,n){void 0===n&&(n=!0),this.getRow(t).value+=e,n&&this.save()},e.getCharacterData=function(t){return r.b.character(t)},e.getCharacterDataValue=function(t,e){var n=this.getCharacterData(t);if(!n.hasOwnProperty(e))throw new Error("UserStatsPlugin :: getCharacterDataRow :: Unknown statKey "+e);return n[e]},e.setCharacterDataValue=function(t,e,n){this.getCharacterData(t)[e]=n,this.save()},e.incrementCharacterDataValue=function(t,e,n){var r=this.getCharacterData(t);r.hasOwnProperty(e)||(r[e]=0),r[e]+=n,this.save()},e.getCountryData=function(t){return r.b.country(t)},e.getCountryDataValue=function(t,e){var n=this.getCountryData(t);if(!n.hasOwnProperty(e))throw new Error("UserStatsPlugin :: getCountryDataValue :: Unknown statKey "+e);return n[e]},e.setCountryDataValue=function(t,e,n){this.getCountryData(t)[e]=n,this.save()},e.incrementCountryDataValue=function(t,e,n){var r=this.getCountryData(t);r.hasOwnProperty(e)||(r[e]=0),r[e]+=n,this.save()},e.getAll=function(){return r.b.all()},e.save=function(){this.app.storage.saveData("userStats")},e.update=function(){if(this.initialised){var t=Date.now()-this._timeStamp;this.tick+=t,this.tick>=6e4&&(this.incrementValue(r.d.TOTAL_MINUTES_PLAYED,1),this.tick=0),this._timeStamp=Date.now()}},t}()},function(t,e,n){var r=n(48).Const.PLAYER_STATE,i={dx:0,dy:0,player:null};t.exports=function(t,e){var n,a=e.children,o=t.movement.direction.x,s=t.movement.direction.y;0===o&&0===s&&(o=1);for(var u=1/0,c=null,l=o,h=s,d=0;d<a.length;d++)if((n=a[d])!==t&&n.state!==r.FALL){var p=n.position.x-t.position.x,f=n.position.y-t.position.y,m=Math.sqrt(p*p+f*f)||1e-9;(p/=m)*o+(f/=m)*s>.6&&m<u&&(l=p,h=f,c=n,u=m)}return i.dx=l,i.dy=h,i.player=c,i}},function(t,e,n){var r=n(98);t.exports=function(t,e){if(!r(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!r(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!r(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}},function(t,e,n){var r=n(144),i=Math.max,a=Math.min;t.exports=function(t,e){var n=r(t);return n<0?i(n+e,0):a(n,e)}},function(t,e,n){var r=n(102),i=n(575);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,a){return r(n),i(a),e?t.call(n,a):n.__proto__=a,n}}():void 0)},function(t,e,n){var r=n(109),i=n(113),a=n(230),o=n(470),s=a("IE_PROTO"),u=Object.prototype;t.exports=o?Object.getPrototypeOf:function(t){return t=i(t),r(t,s)?t[s]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},function(t,e,n){"use strict";var r=n(41),i=n(122).find,a=n(214),o=!0;"find"in[]&&Array(1).find((function(){o=!1})),r({target:"Array",proto:!0,forced:o},{find:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("find")},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(39);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e,n){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),!e)throw new Error("component requires an entity");this.entity=e,this.data=n,this.name="",this.scene=null,this.active=!1}var e,n,i;return e=t,i=[{key:"create",value:function(e,n){if(t._mapHash[e])return t._mapHash[e];function r(t,r){this.entity=t,this.data=r,this.id=e,n.constructor&&n.constructor.call(this)}for(var i in r.prototype=Object.create(t.prototype),r.id=e,n)r.prototype[i]=n[i];return t._mapHash[e]=r,r}}],(n=null)&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();i._mapHash={}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(25),i=n(6),a=n(1),o=n(7);function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var c=function(){function t(t){u(this,"app",void 0),u(this,"_activeBall",void 0),this.app=t}var e,n,c,l=t.prototype;return l.init=function(){var t=a.Params.get("forceBall",!1)||r.p.selected().id;this.setBall(t)},l.unlockBall=function(t,e){void 0===e&&(e=!1),e||this.app.controller.updateCoins(-r.b[t].price),r.b[t].locked=!1,e||this.selectBall(t,!0),this.save(),o.c.dispatch(i.a,{type:i.b.UNLOCKABLES_BALL_UNLOCKED,data:{ballId:t}})},l.selectBall=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1),r.b[this.activeBall.id].selected=!1,this.setBall(t,e),n||o.c.dispatch(i.a,{type:i.b.UNLOCKABLES_BALL_SELECTED,data:{ballId:t}})},l.setBall=function(t,e){void 0===e&&(e=!1),t=t||"default",this._activeBall=r.b[t],e&&(r.b[t].selected=!0,this.save())},l.save=function(){this.app.storage.saveData("balls")},e=t,(n=[{key:"activeBall",get:function(){return this._activeBall}}])&&s(e.prototype,n),c&&s(e,c),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(83);function r(){}},function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return u}));n(42),n(184);var r=n(4),i=n(25),a=n(6),o=n(7);var s;!function(t){t.SPEED="speed",t.SKILL="skill",t.POWER="power"}(s||(s={}));var u=function(){function t(t){var e,n,r;r=void 0,(n="app")in(e=this)?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this.app=t}var e=t.prototype;return e.setup=function(){},e.unlockCharacter=function(t,e){void 0===e&&(e=!1),i.c[t].locked=!1,i.c[t].unlockedPanels=new Array(9).fill(null).map((function(t,e){return e})),i.d.characterSelectionCache.recentlyUnlocked=t,this.save(),o.c.dispatch(a.a,{type:a.b.UNLOCKABLES_CHARACTER_UNLOCKED,data:{characterId:t}})},e.upgrade=function(t,e){var n=i.c[t];n[e]<1&&(this.app.controller.updateCoins(-r.a.UNLOCKABLES.PRICE*(10*n[e]+1)),n[e]+=.1,n[e]=Math.round(10*n[e])/10,this.save()),o.c.dispatch(a.a,{type:a.b.UNLOCKABLES_STAT_UPGRADED,data:{characterId:t,stat:"skill"===e?"accuracy":e}})},e.save=function(){this.app.storage.saveData("characters")},e.setSelectionCache=function(t,e){i.d.characterSelectionCache[t]=e,this.app.storage.saveData("characterSelectionCache")},e.resetRecentlyUnlockedSelection=function(){i.d.characterSelectionCache.recentlyUnlocked=null,this.app.storage.saveData("characterSelectionCache")},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return T}));n(21),n(27),n(42),n(184),n(5),n(107),n(34),n(19),n(99),n(23),n(88),n(126),n(139);var r,i=n(130),a=n(17),o=n(25),s=n(49),u=n(6),c=n(9),l=n(44),h=n(1),d=n(14),p=n(0),f=n(7),m=n(24),g=n(4);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){S(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function b(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t,e){return(x=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t.CHARACTERS="characters",t.STADIUMS="stadiums"}(r||(r={}));var T=function(t){var e,n;function r(e,n){var r;return S(w(r=t.call(this,e)||this),"app",void 0),S(w(r),"background",void 0),S(w(r),"assetsLoaded",void 0),S(w(r),"active",void 0),S(w(r),"infoText",void 0),S(w(r),"statusText",void 0),S(w(r),"costPanel",void 0),S(w(r),"poster",void 0),S(w(r),"darkOverlay",void 0),S(w(r),"gridOverlay",void 0),S(w(r),"panelGlow",void 0),S(w(r),"panels",void 0),S(w(r),"pointer",void 0),S(w(r),"coin",void 0),S(w(r),"coins",void 0),S(w(r),"lock",void 0),S(w(r),"contentContainer",void 0),S(w(r),"panelContainer",void 0),S(w(r),"sliderBar",void 0),S(w(r),"coinMask",void 0),S(w(r),"notification",void 0),S(w(r),"unlockables",void 0),S(w(r),"currentIndex",void 0),S(w(r),"count",void 0),S(w(r),"animating",void 0),S(w(r),"looping",void 0),S(w(r),"timer",void 0),S(w(r),"timerActive",void 0),S(w(r),"insertedAmount",void 0),S(w(r),"panelsToHide",void 0),S(w(r),"unlockType",void 0),S(w(r),"onUnlockableUnlocked",void 0),S(w(r),"onDataUpdated",void 0),r.app=e,r.unlockType=n,r.timerActive=!1,r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,x(e,n);var i,y,T,M=r.prototype;return M.init=function(){var t,e=(t=regeneratorRuntime.mark((function t(){var e,n,r,i,a,s,h,d,g,y,b,_,w=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.background=new l.a({width:980,height:760,title:"Name",isLoading:!0,hasArrows:!0}),this.view.addChild(this.background),this.background.onPrevious.connect(this.previous.bind(this)),this.background.onNext.connect(this.next.bind(this)),e={fill:"black",fontSize:20,wordWrap:!0,wordWrapWidth:250,align:"center",breakWords:!0},this.infoText=new c.a("[info]",e),this.infoText.anchor.set(.5),this.infoText.position.set(-300,291),this.background.content.addChild(this.infoText),e.fontSize=20,e.lineHeight=15,this.costPanel=p.Sprite.from("graphic-unlock-cost.png"),(n=new c.a("STR_UNLOCKABLES_UNLOCKCOST",e)).anchor.set(.5),e.fontSize=40,r=new c.a("450",e),this.costPanel.anchor.set(.5),r.anchor.set(.5),this.costPanel.position.set(315,295),n.position.y=-26,r.position.y=3,this.costPanel.addChild(n),this.costPanel.addChild(r),this.background.content.addChild(this.costPanel),this.costPanel.cost=r,i={fill:"black",fontSize:35,align:"center"},this.statusText=new c.a("placeholder",v(v({},i),{},{anchorX:.5,anchorY:.5})),this.statusText.position.set(0,290),this.background.content.addChild(this.statusText),this.contentContainer=new p.Container,this.poster=new p.Sprite,this.poster.anchor.set(.5),this.contentContainer.addChild(this.poster),this.gridOverlay=p.Sprite.from("grid-small.png"),this.gridOverlay.anchor.set(.5),this.contentContainer.addChild(this.gridOverlay),this.darkOverlay=p.Sprite.from("assets/base-app/overlays/dark-overlay.png"),this.darkOverlay.anchor.set(.5),this.contentContainer.addChild(this.darkOverlay),this.panelContainer=new p.Container,this.contentContainer.addChild(this.panelContainer),a=0,s=0,this.panels=new Array(9).fill(null).map((function(t,e){(t=p.Sprite.from("graphic-unlock-panel.png")).anchor.set(.5),t.position.set(a,s),a+=t.width+4.5,(e+1)%3==0&&(a=0,s+=t.height+1.2);var n=p.Sprite.from("glow-large.png");return n.blendMode=p.BLEND_MODES.ADD,n.anchor.set(.5),n.defaultAlpha=.7,t.addChild(n),w.panelContainer.addChild(t),t.glow=n,t.index=e,t})),h=this.panels[0].texture.width,d=this.panels[0].texture.height,this.panelContainer.x=-(3*h+9)/2+h/2+1.2,this.panelContainer.y=-(3*d+2.4)/2+d/2+2,this.lock=p.Sprite.from("graphic-lock-large.png"),this.lock.anchor.set(.5),this.contentContainer.addChild(this.lock),this.contentContainer.position.y=0,this.background.content.addChild(this.contentContainer),g=[],y=1;y<=5;y++)g.push(p.Texture.from("coin-spend-bar-"+y+".png"));if(this.sliderBar=new p.AnimatedSprite(g),this.sliderBar.anchor.set(.5),this.sliderBar.y=300,this.sliderBar.animationSpeed=.2,this.sliderBar.play(),this.sliderBar.interactive=!0,this.sliderBar.buttonMode=!0,this.sliderBar.on("pointertap",this.insertCoin.bind(this,!0)),this.background.content.addChild(this.sliderBar),this.pointer=p.Sprite.from("pointer.png"),this.pointer.anchor.set(.5),this.sliderBar.addChild(this.pointer),(b=p.Sprite.from("coin-spend-slot.png")).anchor.set(.5),b.position.x=120,this.sliderBar.addChild(b),(_=new p.Graphics).beginFill(16711680),_.drawRect(0,0,280,100),_.endFill(),_.position.x=-150,_.position.y=-50,this.sliderBar.addChild(_),this.coinMask=_,this.currentIndex=0,this.count=0,this.insertedAmount=0,this.coins=new Array(9).fill(null).map((function(t){return(t=p.Sprite.from("coin-spend-coin.png")).anchor.set(.5),t.position.x=-92,t.scale.set(0),t.visible=!1,t.mask=w.coinMask,w.sliderBar.addChild(t),t})),this.onUnlockableUnlocked=new m.Signal,this.onDataUpdated=new m.Signal,this.assetsLoaded=!1,this.active=!1,f.c.add(u.d,this.updateState.bind(this)),Object(o.m)()){t.next=95;break}return t.abrupt("return");case 95:this.notification=p.Sprite.from("button-unlockables-notification.png"),this.notification.anchor.set(.5),this.notification.scale.set(1.2),this.notification.rotation=-.2,this.notification.position.y=this.background.title.y,this.notification.visible=!1,this.background.content.addChild(this.notification);case 102:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){b(a,r,i,o,s,"next",t)}function s(t){b(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}(),M.showNotification=function(){this.notification&&(this.notification.position.x=this.background.title.width/2+30,this.notification.visible=!0,Object(h.tween)(this.notification.scale,.5,{x:1.6,y:1.6,ease:"Quad.easeInOut",repeat:-1,yoyo:!0}),Object(h.tween)(this.notification,1,{rotation:.2,ease:"Quad.easeInOut",repeat:-1,yoyo:!0}))},M.hideNotification=function(){this.notification&&(d.c.killTweensOf(this.notification.scale),d.c.killTweensOf(this.notification),this.notification.visible=!1)},M.resetTimer=function(){this.timer=1e3},M.insertCoin=function(){var t=this;if(!(s.a.coins<g.a.UNLOCKABLES.PRICE)){this.insertedAmount++,this.app.controller.updateCoins(-g.a.UNLOCKABLES.PRICE),a.default.playSfx("sfx_coin_01"),this.costPanel.cost.setText(((this.panels.length-(this.getUnlockedPanels().length+this.insertedAmount))*g.a.UNLOCKABLES.PRICE).toString());var e=this.coins[this.insertedAmount-1];Object(h.tween)(e.position,.5,{x:150,ease:"Power1.easeIn",onComplete:function(){e.scale.set(0),e.visible=!1,e.position.x=-92,t.panelsToHide++,t.panelsToHide===t.panelsLocked&&(t.looping=!1,t.panelsToHide=t.insertedAmount,t.sliderBar.stop())}}),this.resetTimer(),this.insertedAmount<this.panelsLocked?this.showNextCoin():(this.sliderBar.interactive=!1,this.timerActive=!1),this.animating||(this.panelsToHide=0,this.animating=!0,this.looping=!0,this.loopPanels(),this.timerActive=!0)}},M.showNextCoin=function(){if(this.getUnlockedPanels().length+this.insertedAmount<=this.panels.length&&s.a.coins>=g.a.UNLOCKABLES.PRICE){var t=this.coins[this.insertedAmount];t&&(t.visible=!0,Object(h.tween)(t.scale,.2,{x:1,y:1,delay:.2}))}},M.loopPanels=function(t){var e=this;if(void 0===t&&(t=null),this.looping){var n=this.getLockedPanels(),r=Math.floor(Math.random()*n.length);if(null===t)for(;r===t;)r=Math.floor(Math.random()*n.length);a.default.playSfx("button_deselect");var i=n[r];i.glow.alpha=i.defaultAlpha,Object(h.delay)(.1).then((function(){i.glow.alpha=0,e.looping?e.loopPanels(r):e.unlockPanels()}))}},M.unlockPanels=function(){var t=this,e=this.getLockedPanels(),n=Math.floor(Math.random()*e.length),r=e[n];this.unlockables[this.currentIndex].unlockedPanels.push(r.index),this.app.storage.saveData(this.unlockType),r.glow.alpha=r.defaultAlpha,a.default.playSfx("sfx_reveal"),Object(h.tween)(r.scale,.3,{x:0,y:0,ease:"Power1.easeIn",onComplete:function(){t.panelsToHide--,r.visible=!1,1===e.length?(t.onUnlockableUnlocked.emit(),t.animating=!1):0===t.panelsToHide&&(t.resetCoins(),t.showNextCoin(),t.updateState(),t.sliderBar.interactive=!0,t.animating=!1)}}),this.insertedAmount--,this.insertedAmount>0&&Object(h.delay)(.2).then((function(){return t.unlockPanels()}))},M.resetCoins=function(){this.coins.forEach((function(t){t.alpha=1,t.scale.set(0),t.visible=!1,t.position.x=-92})),this.coins[0].visible=!0,this.coins[0].scale.set(1)},M.getUnlockedPanels=function(){var t=this.unlockables[this.currentIndex],e=[];return this.panels.forEach((function(n,r){-1!==t.unlockedPanels.indexOf(r)&&e.push(n)})),e},M.getLockedPanels=function(){var t=this.unlockables[this.currentIndex],e=[];return this.panels.forEach((function(n,r){-1===t.unlockedPanels.indexOf(r)&&e.push(n)})),e},M.update=function(t){var e=this;this.background.update(t),this.timerActive&&(this.timer-=15*t,this.timer<=0&&(this.timerActive=!1,this.coins[Math.max(this.insertedAmount-1,0)].alpha=.7,this.sliderBar.interactive=!1,Object(h.delay)(.5).then((function(){e.looping=!1})))),this.count+=.1*t,this.pointer.x=30*Math.abs(Math.sin(this.count))},M.previous=function(){this.animating||(this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.unlockables.length-1),this.refresh())},M.next=function(){this.animating||(this.currentIndex++,this.unlockables[this.currentIndex]||(this.currentIndex=0),this.refresh())},M.updatePanels=function(){var t=this.unlockables[this.currentIndex];this.panels.forEach((function(e,n){e.glow.alpha=0,-1!==t.unlockedPanels.indexOf(n)?(e.scale.set(0),e.visible=!1):(e.texture=p.Texture.from("graphic-unlock-panel.png"),e.scale.set(1),e.visible=!0)}))},M.showDummyPanels=function(){this.panels.forEach((function(t){t.texture=p.Texture.from("graphic-unlock-panel-coming-soon.png"),t.glow.alpha=0,t.scale.set(1)}))},M.resetElementsVisibility=function(){this.gridOverlay.visible=!1,this.costPanel.visible=!1,this.infoText.visible=!1,this.sliderBar.visible=!1,this.statusText.visible=!1,this.panelContainer.visible=!1,this.darkOverlay.visible=!1,this.lock.visible=!1},M.updateState=function(){var t=this.unlockables[this.currentIndex],e=s.a.coins>=g.a.UNLOCKABLES.PRICE;if(this.resetElementsVisibility(),t.id!==this.unlockables[this.unlockables.length-1].id?this.background.showNextArrow():this.background.hideNextArrow(),t.id!==this.unlockables[0].id?this.background.showPreviousArrow():this.background.hidePreviousArrow(),t.available){if(t.available&&t.unlockedPanels){this.updatePanels();var n=this.getUnlockedPanels();n.length!==this.panels.length&&(this.gridOverlay.visible=!0,this.costPanel.visible=!0,this.infoText.visible=!0,this.sliderBar.visible=!0,this.panelContainer.visible=!0,this.costPanel.cost.setText(((this.panels.length-n.length)*g.a.UNLOCKABLES.PRICE).toString()),e?(this.coins[0].visible=!0,this.insertedAmount=0,this.resetCoins(),this.pointer.visible=!0,this.infoText.style.fontSize=20,this.sliderBar.interactive=!0,this.sliderBar.play()):(this.coins[0].visible=!1,this.pointer.visible=!1,this.infoText.setText("STR_UNLOCKABLES_NOCOINS"),this.infoText.style.fontSize=23,this.sliderBar.stop()))}}else this.statusText.visible=!0,this.lock.visible=!0,t.comingSoon?(this.panelContainer.visible=!0,this.gridOverlay.visible=!0,this.showDummyPanels()):this.darkOverlay.visible=!0},M.refresh=function(){this.onDataUpdated.emit(),this.updateState(),this.animating=!1},M.hide=function(){this.active=!1},M.show=function(){this.active=!0,this.background.hidePreviousArrow(!0),this.background.hideNextArrow(!0),this.resetElementsVisibility(),this.resize(this.width,this.height),this.background.scale.set(0);var t=(this.height-this.app.overlays.header.height)/this.background.panelHeight;Object(h.tween)(this.background.scale,1,{x:t,y:t,ease:"Elastic.easeOut",delay:.2})},M.showContent=function(){this.refresh()},M.resize=function(t,e){this.width=t,this.height=e,this.background.position.set(t/2,e/2)},i=r,(y=[{key:"panelsUnlocked",get:function(){var t=0;return this.panels.forEach((function(e){0===e.scale.x&&t++})),t}},{key:"panelsLocked",get:function(){var t=0;return this.panels.forEach((function(e){e.scale.x>0&&t++})),t}}])&&_(i.prototype,y),T&&_(i,T),Object.defineProperty(i,"prototype",{writable:!1}),r}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return y}));n(21),n(5),n(19),n(42),n(88),n(127),n(39),n(194),n(15),n(20),n(22),n(34);var r=n(680),i=n(4),a=n(25),o=n(28),s=n(1),u=(n(51),n(87),n(114),n(38),n(106),{cipher:function(t,e){for(var n=e.length/4-1,r=[[],[],[],[]],i=0;i<16;i++)r[i%4][Math.floor(i/4)]=t[i];r=u.addRoundKey(r,e,0,4);for(var a=1;a<n;a++)r=u.subBytes(r,4),r=u.shiftRows(r,4),r=u.mixColumns(r,4),r=u.addRoundKey(r,e,a,4);r=u.subBytes(r,4),r=u.shiftRows(r,4),r=u.addRoundKey(r,e,n,4);var o=new Array(16);for(i=0;i<16;i++)o[i]=r[i%4][Math.floor(i/4)];return o},keyExpansion:function(t){for(var e=t.length/4,n=e+6,r=new Array(4*(n+1)),i=new Array(4),a=0;a<e;a++){var o=[t[4*a],t[4*a+1],t[4*a+2],t[4*a+3]];r[a]=o}for(a=e;a<4*(n+1);a++){r[a]=new Array(4);for(var s=0;s<4;s++)i[s]=r[a-1][s];if(a%e==0){i=u.subWord(u.rotWord(i));for(s=0;s<4;s++)i[s]^=u.rCon[a/e][s]}else e>6&&a%e==4&&(i=u.subWord(i));for(s=0;s<4;s++)r[a][s]=r[a-e][s]^i[s]}return r},subBytes:function(t,e){for(var n=0;n<4;n++)for(var r=0;r<e;r++)t[n][r]=u.sBox[t[n][r]];return t},shiftRows:function(t,e){for(var n=new Array(4),r=1;r<4;r++){for(var i=0;i<4;i++)n[i]=t[r][(i+r)%e];for(i=0;i<4;i++)t[r][i]=n[i]}return t},mixColumns:function(t,e){for(var n=0;n<4;n++){for(var r=new Array(4),i=new Array(4),a=0;a<4;a++)r[a]=t[a][n],i[a]=128&t[a][n]?t[a][n]<<1^283:t[a][n]<<1;t[0][n]=i[0]^r[1]^i[1]^r[2]^r[3],t[1][n]=r[0]^i[1]^r[2]^i[2]^r[3],t[2][n]=r[0]^r[1]^i[2]^r[3]^i[3],t[3][n]=r[0]^i[0]^r[1]^r[2]^i[3]}return t},addRoundKey:function(t,e,n,r){for(var i=0;i<4;i++)for(var a=0;a<r;a++)t[i][a]^=e[4*n+a][i];return t},subWord:function(t){for(var e=0;e<4;e++)t[e]=u.sBox[t[e]];return t},rotWord:function(t){for(var e=t[0],n=0;n<3;n++)t[n]=t[n+1];return t[3]=e,t},sBox:[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],rCon:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Ctr:{}});u.Ctr.encrypt=function(t,e,n){if(128!=n&&192!=n&&256!=n)return"";t=h.encode(t),e=h.encode(e);for(var r=n/8,i=new Array(r),a=0;a<r;a++)i[a]=isNaN(e.charCodeAt(a))?0:e.charCodeAt(a);var o=u.cipher(i,u.keyExpansion(i));o=o.concat(o.slice(0,r-16));var s=new Array(16),c=(new Date).getTime(),d=c%1e3,p=Math.floor(c/1e3),f=Math.floor(65535*Math.random());for(a=0;a<2;a++)s[a]=d>>>8*a&255;for(a=0;a<2;a++)s[a+2]=f>>>8*a&255;for(a=0;a<4;a++)s[a+4]=p>>>8*a&255;var m="";for(a=0;a<8;a++)m+=String.fromCharCode(s[a]);for(var g=u.keyExpansion(o),y=Math.ceil(t.length/16),v=new Array(y),b=0;b<y;b++){for(var _=0;_<4;_++)s[15-_]=b>>>8*_&255;for(_=0;_<4;_++)s[15-_-4]=b/4294967296>>>8*_;var w=u.cipher(s,g),x=b<y-1?16:(t.length-1)%16+1,S=new Array(x);for(a=0;a<x;a++)S[a]=w[a]^t.charCodeAt(16*b+a),S[a]=String.fromCharCode(S[a]);v[b]=S.join("")}var T=m+v.join("");return T=l.encode(T)},u.Ctr.decrypt=function(t,e,n){if(128!=n&&192!=n&&256!=n)return"";t=l.decode(t),e=h.encode(e);for(var r=n/8,i=new Array(r),a=0;a<r;a++)i[a]=isNaN(e.charCodeAt(a))?0:e.charCodeAt(a);var o=u.cipher(i,u.keyExpansion(i));o=o.concat(o.slice(0,r-16));var s=new Array(8);ctrTxt=t.slice(0,8);for(a=0;a<8;a++)s[a]=ctrTxt.charCodeAt(a);for(var c=u.keyExpansion(o),d=Math.ceil((t.length-8)/16),p=new Array(d),f=0;f<d;f++)p[f]=t.slice(8+16*f,8+16*f+16);t=p;var m=new Array(t.length);for(f=0;f<d;f++){for(var g=0;g<4;g++)s[15-g]=f>>>8*g&255;for(g=0;g<4;g++)s[15-g-4]=(f+1)/4294967296-1>>>8*g&255;var y=u.cipher(s,c),v=new Array(t[f].length);for(a=0;a<t[f].length;a++)v[a]=y[a]^t[f].charCodeAt(a),v[a]=String.fromCharCode(v[a]);m[f]=v.join("")}var b=m.join("");return b=h.decode(b)};var c,l={code:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(t,e){e=void 0!==e&&e;var n,r,i,a,o,s,u,c,h=[],d="",p=l.code;if((s=(u=e?t.encodeUTF8():t).length%3)>0)for(;s++<3;)d+="=",u+="\0";for(s=0;s<u.length;s+=3)r=(n=u.charCodeAt(s)<<16|u.charCodeAt(s+1)<<8|u.charCodeAt(s+2))>>18&63,i=n>>12&63,a=n>>6&63,o=63&n,h[s/3]=p.charAt(r)+p.charAt(i)+p.charAt(a)+p.charAt(o);return c=(c=h.join("")).slice(0,c.length-d.length)+d},decode:function(t,e){e=void 0!==e&&e;var n,r,i,a,o,s,u,c,h=[],d=l.code;c=e?t.decodeUTF8():t;for(var p=0;p<c.length;p+=4)n=(s=d.indexOf(c.charAt(p))<<18|d.indexOf(c.charAt(p+1))<<12|(a=d.indexOf(c.charAt(p+2)))<<6|(o=d.indexOf(c.charAt(p+3))))>>>16&255,r=s>>>8&255,i=255&s,h[p/4]=String.fromCharCode(n,r,i),64==o&&(h[p/4]=String.fromCharCode(n,r)),64==a&&(h[p/4]=String.fromCharCode(n));return u=h.join(""),e?u.decodeUTF8():u}},h={encode:function(t){var e=t.replace(/[\u0080-\u07ff]/g,(function(t){var e=t.charCodeAt(0);return String.fromCharCode(192|e>>6,128|63&e)}));return e=e.replace(/[\u0800-\uffff]/g,(function(t){var e=t.charCodeAt(0);return String.fromCharCode(224|e>>12,128|e>>6&63,128|63&e)}))},decode:function(t){var e=t.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,(function(t){var e=(15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2);return String.fromCharCode(e)}));return e=e.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,(function(t){var e=(31&t.charCodeAt(0))<<6|63&t.charCodeAt(1);return String.fromCharCode(e)}))}},d=n(7);function p(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){p(a,r,i,o,s,"next",t)}function s(t){p(a,r,i,o,s,"throw",t)}o(void 0)}))}}function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t.DAILY="daily",t.WEEKLY="weekly",t.TOURNAMENT="tournament"}(c||(c={}));var y=function(){function t(t){g(this,"app",void 0),g(this,"_data",void 0),g(this,"_sessionKey",void 0),g(this,"_useLegacy",!1),this.app=t}var e,n,r,l=t.prototype;return l.init=function(){s.Params.get("fakeLeaderboard",!1)&&(i.a.LEADERBOARD_TARGET_URL=i.a.FALLBACK_LEADERBOARD_TARGET_URL),this.fetchData()},l.fetchData=function(){var t=f(regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this._data){t.next=6;break}if(e=this.app.storage.getNumber("leaderboard-last-update")||0,n=6e4*i.a.LEADERBOARD_UPDATE_INTERVAL,!(Date.now()-e<n)){t.next=6;break}return t.abrupt("return");case 6:if(this._data=void 0,this._useLegacy){t.next=10;break}return t.next=10,v(f(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.fetch(i.a.LEADERBOARD_TARGET_URL+"getScores");case 2:return e=t.sent,t.next=5,e.json();case 5:n=t.sent,r._data=n.scores,r.app.storage.setItem("leaderboard-last-update",Date.now());case 9:case"end":return t.stop()}}),t)}))));case 10:if(this._data){t.next=13;break}return t.next=13,this._legacyFetchData();case 13:if(this._data){t.next=17;break}return t.next=17,v(f(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.fetch(""+i.a.FALLBACK_LEADERBOARD_TARGET_URL);case 2:return e=t.sent,t.next=5,e.json();case 5:n=t.sent,r._data=n,r.app.storage.setItem("leaderboard-last-update",Date.now());case 9:case"end":return t.stop()}}),t)}))));case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.retrieveSessionKey=function(){var t=f(regeneratorRuntime.mark((function t(e,n){var r,a,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._sessionKey=null,this._useLegacy){t.next=6;break}return r={userCountryId:e,opponentCountryId:n},a=u.Ctr.encrypt(JSON.stringify(r),"S0Bwt275r192B1rPOokA8hu3EWoUHzNsFaYypUyU0BE",256),t.next=6,v(f(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.a.LEADERBOARD_TARGET_URL,t.next=3,window.fetch(e+"startGame",{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"},body:"val="+a});case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,o._sessionKey=r.key;case 9:case"end":return t.stop()}}),t)}))),1);case 6:if(this._sessionKey){t.next=9;break}return t.next=9,this._legacyRetrieveSessionKey(e,n);case 9:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),l.uploadPoints=function(){var t=f(regeneratorRuntime.mark((function t(e){var n,r,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._sessionKey){t.next=3;break}return t.abrupt("return");case 3:return n={key:this._sessionKey,resultMultiplier:e},r=u.Ctr.encrypt(JSON.stringify(n),"S0Bwt275r192B1rPOokA8hu3EWoUHzNsFaYypUyU0BE",256),t.next=7,v(f(regeneratorRuntime.mark((function t(){var e,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a._useLegacy?i.a.LEADERBOARD_LEGACY_TARGET_URL:i.a.LEADERBOARD_TARGET_URL,t.next=3,window.fetch(e+"sendScore",{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"},body:"val="+r});case 3:return n=t.sent,t.next=6,n.json();case 6:o=t.sent,d.d.points=o.points.daily;case 9:case"end":return t.stop()}}),t)}))));case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),l._extractData=function(t){return this._data.filter((function(t){return"WS"!==t.countryId})).map((function(e){return{countryId:e.countryId,points:e[t].points,games:e[t].games,previousRank:e[t].previousRank}})).sort((function(t,e){return e.points-t.points}))},l._legacyFetchData=function(){var t=f(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=0,r=[],(n=[]).push(v(f(regeneratorRuntime.mark((function t(){var n,a,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.fetch(i.a.LEADERBOARD_LEGACY_TARGET_URL+"getScores?period=0&qatar=true&ecuador=true");case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,s=function(t){var e=a[t],n=Object(o.d)(e.name);if(!n)return"continue";var i={points:e.total_points,games:e.games_played,previousRank:e.previous_position},s=r.find((function(t){return t.countryId===n}));s?s.daily=i:r.push({countryId:n,daily:i,weekly:{points:0,games:0,previousRank:0},tournament:{points:0,games:0,previousRank:0},achievements:[]})},t.t0=regeneratorRuntime.keys(a);case 8:if((t.t1=t.t0()).done){t.next=15;break}if(u=t.t1.value,"continue"!==s(u)){t.next=13;break}return t.abrupt("continue",8);case 13:t.next=8;break;case 15:e++;case 16:case"end":return t.stop()}}),t)}))),5)),n.push(v(f(regeneratorRuntime.mark((function t(){var n,a,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.fetch(i.a.LEADERBOARD_LEGACY_TARGET_URL+"getScores?period=1&qatar=true&ecuador=true");case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,s=function(t){var e=a[t],n=Object(o.d)(e.name);if(!n)return"continue";var i={points:e.total_points,games:e.games_played,previousRank:e.previous_position},s=r.find((function(t){return t.countryId===n}));s?s.weekly=i:r.push({countryId:n,daily:{points:0,games:0,previousRank:0},weekly:i,tournament:{points:0,games:0,previousRank:0},achievements:[]})},t.t0=regeneratorRuntime.keys(a);case 8:if((t.t1=t.t0()).done){t.next=15;break}if(u=t.t1.value,"continue"!==s(u)){t.next=13;break}return t.abrupt("continue",8);case 13:t.next=8;break;case 15:e++;case 16:case"end":return t.stop()}}),t)}))),5)),n.push(v(f(regeneratorRuntime.mark((function t(){var n,a,s,u;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.fetch(i.a.LEADERBOARD_LEGACY_TARGET_URL+"getScores?period=2&qatar=true&ecuador=true");case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,s=function(t){var e=a[t],n=Object(o.d)(e.name);if(!n)return"continue";var i={points:e.total_points,games:e.games_played,previousRank:e.previous_position},s=r.find((function(t){return t.countryId===n}));s?s.tournament=i:r.push({countryId:n,daily:{points:0,games:0,previousRank:0},weekly:{points:0,games:0,previousRank:0},tournament:i,achievements:[]})},t.t0=regeneratorRuntime.keys(a);case 8:if((t.t1=t.t0()).done){t.next=15;break}if(u=t.t1.value,"continue"!==s(u)){t.next=13;break}return t.abrupt("continue",8);case 13:t.next=8;break;case 15:e++;case 16:case"end":return t.stop()}}),t)}))),5)),n.push(v(f(regeneratorRuntime.mark((function t(){var n,s,u,c,l,h,d;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.fetch(i.a.LEADERBOARD_LEGACY_TARGET_URL+"halloffame");case 2:return n=t.sent,t.next=5,n.json();case 5:for(c in s=t.sent,u=function(t,e,n){var i=Object(o.d)(e);i&&r.find((function(t){return t.countryId===i})).achievements.push({tournamentId:t,points:n})},s)l=s[c],h=l.tournament_name,d=Object(a.r)(h),u(d,l.first_name,l.first_total_points),u(d,l.second_name,l.second_total_points),u(d,l.third_name,l.third_total_points);e++;case 9:case"end":return t.stop()}}),t)}))),5)),t.next=9,Promise.all(n);case 9:if(4===e){t.next=11;break}return t.abrupt("return");case 11:this._data=r,this._useLegacy=!0,this.app.storage.setItem("leaderboard-last-update",Date.now());case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l._legacyRetrieveSessionKey=function(){var t=f(regeneratorRuntime.mark((function t(e,n){var r,a,s=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._useLegacy=!0,r={userCountryId:Object(o.c)(e).SCORE_ID,opponentCountryId:Object(o.c)(n).SCORE_ID},a=u.Ctr.encrypt(JSON.stringify(r),"S0Bwt275r192B1rPOokA8hu3EWoUHzNsFaYypUyU0BE",256),t.next=6,v(f(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.a.LEADERBOARD_LEGACY_TARGET_URL,t.next=3,window.fetch(e+"start",{method:"POST",headers:{"Content-type":"application/x-www-form-urlencoded"},body:"val="+a});case 3:return n=t.sent,t.next=6,n.json();case 6:r=t.sent,s._sessionKey=r.key;case 9:case"end":return t.stop()}}),t)}))));case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e=t,(n=[{key:"dataFetched",get:function(){return!!this._data}},{key:"daily",get:function(){return this._extractData(c.DAILY)}},{key:"weekly",get:function(){return this._extractData(c.WEEKLY)}},{key:"tournament",get:function(){return this._extractData(c.TOURNAMENT)}},{key:"hallOfFame",get:function(){var t={};this._data.forEach((function(e){e.achievements.forEach((function(n){t[n.tournamentId]||(t[n.tournamentId]=[]),t[n.tournamentId].push({countryId:e.countryId,points:n.points})}))}));var e=[];return this.app.globalEvents.getPastEventIds().forEach((function(n){var r=t[n];r&&(r.sort((function(t,e){return e.points-t.points})),e.push({tournamentId:n,first:r[0],second:r[1],third:r[2]}))})),e}}])&&m(e.prototype,n),r&&m(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function v(t,e,n){return b.apply(this,arguments)}function b(){return(b=f(regeneratorRuntime.mark((function t(e,n,i){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=3),void 0===i&&(i=.2),a=!1;case 3:if(a||!n--){t.next=19;break}return t.prev=4,t.next=7,e();case 7:o=t.sent,a=!0,t.next=17;break;case 11:return t.prev=11,t.t0=t.catch(4),a=!1,t.next=17,Object(r.a)(1e3*i);case 17:t.next=3;break;case 19:return t.abrupt("return",o);case 20:case"end":return t.stop()}}),t,null,[[4,11]])})))).apply(this,arguments)}},function(t,e,n){var r;void 0===(r=function(t,e,r){r.exports={World:n(660),Group:n(441),PixiView:n(661),CrashWorld:n(505)}}.call(e,n,e,t))||(t.exports=r)},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(r=window)}t.exports=r},function(t,e){var n=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+r).toString(36)}},function(t,e){t.exports={}},function(t,e,n){var r=n(277),i=n(178),a=n(86)("toStringTag"),o="Arguments"==i(function(){return arguments}());t.exports=r?i:function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),a))?n:o?i(e):"Object"==(r=i(e))&&"function"==typeof e.callee?"Arguments":r}},function(t,e,n){var r=n(50),i=n(178),a="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==i(t)?a.call(t,""):Object(t)}:Object},function(t,e,n){var r=n(50),i=/#|\.prototype\./,a=function(t,e){var n=s[o(t)];return n==c||n!=u&&("function"==typeof e?r(e):!!e)},o=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},s=a.data={},u=a.NATIVE="N",c=a.POLYFILL="P";t.exports=a},function(t,e,n){"use strict";var r=n(153),i=n(111),a=n(86),o=n(105),s=a("species");t.exports=function(t){var e=r(t),n=i.f;o&&e&&!e[s]&&n(e,s,{configurable:!0,get:function(){return this}})}},function(t,e){t.exports={}},function(t,e,n){var r=n(205),i=n(209),a=n(86)("iterator");t.exports=function(t){if(null!=t)return t[a]||t["@@iterator"]||i[r(t)]}},function(t,e,n){"use strict";var r=n(190),i=n(111),a=n(177);t.exports=function(t,e,n){var o=r(e);o in t?i.f(t,o,a(0,n)):t[o]=n}},function(t,e,n){var r=n(50),i=n(86),a=n(228),o=i("species");t.exports=function(t){return a>=51||!r((function(){var e=[];return(e.constructor={})[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,n){var r=n(459),i=n(283);t.exports=Object.keys||function(t){return r(t,i)}},function(t,e,n){var r=n(86),i=n(167),a=n(111),o=r("unscopables"),s=Array.prototype;null==s[o]&&a.f(s,o,{configurable:!0,value:i(null)}),t.exports=function(t){s[o][t]=!0}},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}Object.defineProperty(e,"__esModule",{value:!0}),e.Collector=void 0;var a=i((function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.emit=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];e.emitCollecting(n,r)}}));e.Collector=a},function(t,e,n){"use strict";var r=n(41),i=n(498).trim;r({target:"String",proto:!0,forced:n(641)("trim")},{trim:function(){return i(this)}})},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(83);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.entity=e,this.children=[],this.parent=null}var e,n,i;return e=t,(n=[{key:"empty",value:function(){for(var t=0;t<this.children.length;t++)this.children[t].container.parent=null;this.children.length=0}},{key:"traverse",value:function(t){t(this.entity);for(var e=this.children,n=0,r=e.length;n<r;n++)e[n].container.traverse(t)}},{key:"add",value:function(t){if(t.parent){var e=t.parent.container.children.indexOf(t);-1!==e&&t.parent.container.children.splice(e,1)}t.container.parent=this.entity,this.children.push(t),this.entity.scene&&!t.scene&&this.entity.scene.addToScene(t)}},{key:"removeAll",value:function(){for(var t=0;t<this.children.length;t++){var e=this.children[t];this.entity.scene&&this.entity.scene.removeFromScene(e),e.container.parent=null}this.children.length=0}},{key:"remove",value:function(t){var e=this.children.indexOf(t);-1!==e&&(this.children.splice(e,1),this.entity.scene&&this.entity.scene.removeFromScene(t),t.container.parent=null)}}])&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();i.DEFAULT_NAME="container"},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n(21),n(27),n(5),n(19);var r=n(94),i=n(25),a=n(1),o=n(0);function s(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){s(a,r,i,o,u,"next",t)}function u(t){s(a,r,i,o,u,"throw",t)}o(void 0)}))}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(){function t(t){c(this,"app",void 0),c(this,"view",void 0),c(this,"shade",void 0),c(this,"blurFilter",void 0),c(this,"current",void 0),c(this,"cache",void 0),c(this,"width",void 0),c(this,"height",void 0),this.app=t}var e=t.prototype;return e.setup=function(){this.cache={},this.current=null,this.view=new o.Container;var t=this.app.screens.view.width,e=this.app.screens.view.height;this.shade=new o.Sprite(o.Texture.WHITE),this.shade.tint=0,this.shade.alpha=.5,this.shade.anchor.set(.5),this.shade.width=t,this.shade.height=e,this.view.scale.set(1.5),this.view.x=t/2,this.view.y=e/2,this.view.addChild(this.shade),this.app.screens.view.addChildAt(this.view,0),this.blurFilter=new o.filters.BlurFilter,this.blurFilter.blur=10,r.a.mobile||r.a.ie||(this.view.filters=[this.blurFilter]),this.app.resize.onResize.connect(this.resize.bind(this))},e.zoom=function(){var t=u(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=1),t.next=3,Object(a.tween)(this.view.scale,n,{x:e,y:e,ease:"Quad.easeInOut"});case 3:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.blur=function(){var t=u(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=1),!r.a.mobile&&!r.a.ie){t.next=3;break}return t.abrupt("return");case 3:return e>0&&-1===this.view.filters.indexOf(this.blurFilter)&&this.view.filters.push(this.blurFilter),t.next=6,Object(a.tween)(this.blurFilter,n,{blur:e,ease:"Quad.easeOut"});case 6:0===e&&(this.view.filters=[]);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.darken=function(){var t=u(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=1),e>0&&!this.shade.visible&&(this.shade.visible=!0),e<1&&!this.view.visible&&(this.view.visible=!0),t.next=5,Object(a.tween)(this.shade,n,{alpha:e,ease:"Quad.easeOut"});case 5:0===e&&(this.shade.visible=!1),1===e&&(this.view.visible=!1);case 7:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.intro=function(){var t=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.zoom(1),this.darken(0),this.blur(0);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.unfocus=function(){var t=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.blur(10,.4),t.next=3,this.darken(.5,.4);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.focus=function(){var t=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.blur(0,.4),t.next=3,this.darken(0,.4);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.refreshBackground=function(){var t=u(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!e){t.next=8;break}this.current&&this.view.removeChild(this.current),this.current=this.getBackground(),this.prepareBackground(),this.view.addChildAt(this.current,0),t.next=24;break;case 8:if(!this.current){t.next=19;break}return t.next=11,Object(a.tween)(this.current,.5,{alpha:0});case 11:this.view.removeChild(this.current),this.current=this.getBackground(),this.prepareBackground(),this.current.alpha=0,this.view.addChildAt(this.current,0),Object(a.tween)(this.current,.5,{alpha:1}),t.next=24;break;case 19:this.current=this.getBackground(),this.prepareBackground(),this.current.alpha=0,this.view.addChildAt(this.current,0),Object(a.tween)(this.current,.8,{alpha:1});case 24:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.prepareBackground=function(){var t=this.current.bg,e=this.app.resize.width/t.texture.width,n=this.app.resize.height/t.texture.height;e>n?t.scale.set(e):t.scale.set(n),this.current.showDecorations()},e.getBackground=function(){var t=this.app.stadiums.activeStadium.id;return this.cache[t]||(this.cache[t]=new i.i[t].background),this.cache[t]},e.update=function(t){this.current&&this.current.update(t)},e.resize=function(t,e){if(this.width=t,this.height=e,this.current){var n=this.current.bg,r=t/n.texture.width,i=e/n.texture.height;r>i?n.scale.set(r):n.scale.set(i),this.shade.width=t,this.shade.height=e,this.view.x=t/2,this.view.y=e/2}},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return b}));n(27),n(39);var r,i=n(94),a=n(11),o=n(25),s=n(8),u=n(1),c=n(14),l=n(0),h=n(24),d=n(4),p=n(9),f=n(175);function m(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.TICK=0]="TICK",t[t.UPGRADE=1]="UPGRADE"}(r||(r={}));var b=function(t){var e,n;function b(e,n){var r;v(g(r=t.call(this)||this),"app",void 0),v(g(r),"active",void 0),v(g(r),"padding",void 0),v(g(r),"ctaType",void 0),v(g(r),"container",void 0),v(g(r),"centerCotainer",void 0),v(g(r),"filterContainer",void 0),v(g(r),"contentContainer",void 0),v(g(r),"bg",void 0),v(g(r),"splash",void 0),v(g(r),"brandLogo",void 0),v(g(r),"_ctaElement",void 0),v(g(r),"lock",void 0),v(g(r),"dimmer",void 0),v(g(r),"glow",void 0),v(g(r),"stars",void 0),v(g(r),"starCounts",void 0),v(g(r),"characterName",void 0),v(g(r),"speedBar",void 0),v(g(r),"powerBar",void 0),v(g(r),"skillBar",void 0),v(g(r),"bwFilter",void 0),v(g(r),"_data",void 0),v(g(r),"onDown",void 0),v(g(r),"onUpdated",void 0),r.app=e,r.buttonMode=!0,r.active=!0,r.container=new l.Container,r.centerCotainer=new l.Container,r.filterContainer=new l.Container,r.contentContainer=new l.Container,r.width=d.a.PLAYER_CARD.WIDTH,r.height=d.a.PLAYER_CARD.HEIGHT,r.padding=d.a.PLAYER_CARD.PADDING,r.centerCotainer.position.x=-r.width/2,r.centerCotainer.position.y=-r.height/2,r.bwFilter=new l.filters.ColorMatrixFilter,r.bwFilter.blackAndWhite(!1),r.bwFilter.padding=0;var i=e.themes.activeTheme.id===o.k.WINTER;r.bg=l.Sprite.from("card-straight.png"),r.bg.anchor.set(.5),r.contentContainer.addChild(r.bg),r.splash=new l.Sprite,r.splash.anchor.set(.5,1);var a=l.Sprite.from("card-mask.png");a.tint=16711680,a.anchor.set(.5),i&&(a.x+=5,a.y+=25),r.contentContainer.addChild(a),r.splash.mask=a,r.contentContainer.addChild(r.splash),r.splash.offset={x:0,y:0},r.brandLogo=l.Sprite.from(l.Texture.WHITE),r.brandLogo.anchor.y=1,r.brandLogo.x=-r.bg.width/2+3*r.padding,r.brandLogo.y=32-r.padding,r.contentContainer.addChild(r.brandLogo),r.characterName=new p.a("placeholder",{fill:"#493008"}),r.characterName.anchor.x=.5,r.contentContainer.addChild(r.characterName),void 0!==n.cta&&(r.ctaType=n.cta,r.buildCtaElement(n.cta)),r.on("pointerup",(function(){return r.onDown.emit()})).on("pointerover",(function(){r.z>.05||r.z<-.05||(r.data&&!r.data.selected&&(r.ctaElement.filters=[]),Object(u.tween)(r.container.scale,.5,{x:1.02,y:1.02,ease:"Elastic.easeOut"}))})).on("pointerout",(function(){r.z>.05||r.z<-.05||Object(u.tween)(r.container.scale,.5,{x:1,y:1,ease:"Elastic.easeOut"})}));var s=-r.bg.width/2+r.padding+85;if(r.speedBar=f.a.speed(),r.speedBar.position.set(s,79),r.contentContainer.addChild(r.speedBar),r.powerBar=f.a.power(),r.powerBar.position.set(s,r.speedBar.position.y+r.speedBar.height+r.padding+36),r.contentContainer.addChild(r.powerBar),r.skillBar=f.a.skill(),r.skillBar.position.set(s,r.powerBar.position.y+r.powerBar.height+r.padding+36),r.contentContainer.addChild(r.skillBar),i){r.speedBar.position.x+=5,r.powerBar.position.x+=5,r.skillBar.position.x+=5,r.speedBar.position.y+=5,r.powerBar.position.y+=5,r.skillBar.position.y+=5}return r.container.addChild(r.filterContainer),r.container.addChild(r.centerCotainer),r.container.addChild(r.ctaElement),r.addChild(r.container),n.lockable&&(r.lock=l.Sprite.from("button-card-padlock.png"),r.lock.anchor.set(.5),r.lock.scale.set(1.25),r.centerCotainer.addChild(r.lock)),i||(r.dimmer=l.Sprite.from("card-straight.png"),r.dimmer.anchor.set(.5),r.dimmer.tint=0,r.centerCotainer.addChild(r.dimmer)),n.shineable&&(r.glow=l.Sprite.from("card-glow.png"),r.glow.anchor.set(.5),r.glow.blendMode=l.BLEND_MODES.ADD,r.glow.position.set(-13,-15),r.glow.visible=!1),r.filterContainer.addChild(r.contentContainer),r.interactive=!0,r.onDown=new h.Signal,r.onUpdated=new h.Signal,r}n=t,(e=b).prototype=Object.create(n.prototype),e.prototype.constructor=e,y(e,n);var _,w,x,S=b.prototype;return S.buildCtaElement=function(t){this._ctaElement=new a.c({color:t===r.UPGRADE?a.a.GREEN:void 0,text:t===r.UPGRADE?"STR_UNLOCKABLES_UPGRADE":void 0,width:t===r.UPGRADE?320:void 0,height:t===r.UPGRADE?80:void 0,icon:t===r.TICK?"button-card-tick.png":void 0,iconScale:t===r.TICK?1.7:void 0,noBackground:t===r.TICK||void 0}),this.ctaElement.y=this.bg.height/2+(t===r.UPGRADE?this.ctaElement.height/2+3:0),t===r.UPGRADE&&(this.ctaElement.x=-2),this.ctaElement.isHidden=!0},S.shine=function(){if(this.glow&&!this.glow.visible){this.lock&&(this.lock.visible=!1),this.glow.visible=!0,this.stars=[],this.starCounts=[];for(var t=[],e=1;e<=10;e++)t.push(48*e);u.Random.shuffle(t);for(var n=0;n<10;n++){var r=l.Sprite.from("flash-big-2.png");r.scale.set(.2+.8*Math.random()),r.anchor.set(.5),r.blendMode=l.BLEND_MODES.ADD,r.position.x=35*n-this.bg.width/2,r.position.y=t[n]-this.bg.height/2,this.centerCotainer.addChild(r),this.stars.push(r),this.starCounts.push(1e3*Math.random())}}},S.unshine=function(){if(this.glow){this.glow.visible=!1;for(var t=0;t<this.stars.length;t++)this.centerCotainer.removeChild(this.stars[t]);this.stars.length=0}},S.select=function(){this.ctaElement.scale.set(1),i.a.mobile&&i.a.ie?this.alpha=.15:this.filterContainer.filters=[this.bwFilter],this.interactive=!1,this.active=!0},S.unselect=function(){this.active=!1,this.ctaElement.scale.set(0),this.filterContainer.filters=[],this.interactive=!0,this.ctaElement.visible=!0},S.updateStats=function(){this.skillBar.setData(this.data.skill),this.powerBar.setData(this.data.power),this.speedBar.setData(this.data.speed)},S.update=function(t){if(this.stars)for(var e=0;e<this.stars.length;e++)this.starCounts[e]+=.07*t,this.stars[e].alpha=Math.abs(Math.sin(this.starCounts[e])),this.stars[e].rotation+=.01*this.stars[e].scale.x*t;this.splash&&(this.splash.x=this.splash.offset.x,this.splash.y=this.splash.offset.y+32,this.app.themes.activeTheme.id===o.k.WINTER&&(this.splash.y+=3)),this.z<.25&&this.z>-.25?!this.ctaElement.isHidden||this.lock&&this.lock.visible||(c.c.killTweensOf(this.ctaElement.scale),Object(u.tween)(this.ctaElement.scale,.5,{x:1,y:1,ease:"Elastic.easeOut"}),this.ctaElement.isHidden=!1):this.data&&(!0===this.data.selected||this.ctaElement.isHidden||(this.ctaElement.isHidden=!0,c.c.killTweensOf(this.ctaElement.scale),Object(u.tween)(this.ctaElement.scale,.2,{x:0,y:0,ease:"Expo.easeOut"})))},S.updateData=function(t){if(this._data=t,t.selected?this.select():this.unselect(),this.lock){var e=t.locked;this.lock.visible=!!e,this.ctaElement.visible=!e}t.selected&&(this.ctaElement.visible=!1),this.updateStats(),this.updateCharacterNameField(t),this.brandLogo.texture=l.Texture.from(t.brand),this.splash.texture=l.Texture.from(t.profile),t.offsetPlayerCard?(this.splash.offset.x=t.offsetPlayerCard.x||0,this.splash.offset.y=t.offsetPlayerCard.y||0):(this.splash.offset.x=0,this.splash.offset.y=0),this.glow&&(!1!==this.data.shined||this.data.locked?this.glow.visible&&this.unshine():this.shine()),this.onUpdated.emit(this)},S.updateCharacterNameField=function(t){this.characterName.setText(t.name),this.characterName.y=30,this.characterName.style.fontSize=28,"ar"===s.a.settings.language&&(this.characterName.y=30,this.characterName.style.fontSize=22),"ha"===s.a.settings.language&&"baby_ice_bear"===t.id&&(this.characterName.y=36,this.characterName.style.fontSize=21)},_=b,(w=[{key:"data",get:function(){return this._data}},{key:"ctaElement",get:function(){return this._ctaElement}}])&&m(_.prototype,w),x&&m(_,x),Object.defineProperty(_,"prototype",{writable:!1}),b}(l.Container)},function(t,e,n){"use strict";n.d(e,"a",(function(){return w})),n.d(e,"c",(function(){return j})),n.d(e,"b",(function(){return U}));n(5),n(34),n(39),n(19),n(99),n(23),n(88),n(126),n(139),n(21);var r=n(80),i=n(46),a=(n(169),n(40)),o=n(45),s=n.n(o),u=n(7),c=n(6);function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d=function(){function t(t){h(this,"_type",void 0),h(this,"_difficulty",void 0),h(this,"_completed",void 0),h(this,"_goalAmount",void 0),h(this,"currentAmount",void 0),h(this,"_scope",void 0),h(this,"onChallengeCompleted",new s.a),h(this,"onPermanentAmountUpdated",new s.a),this._type=t.type,this._difficulty=t.difficulty,this._scope=t.scope||"SCOPE_GLOBAL",this.currentAmount=0|t.savedAmount,this._completed=t.isCompleted||!1,this.setGoal(t.amount,t.randomGenerator)}var e,n,r,i=t.prototype;return i.reset=function(t){void 0===t&&(t=!1),this.completed||("SCOPE_GAME"===this.scope||t)&&(this.currentAmount=0)},i.setGoal=function(t,e){if("number"==typeof t)this._goalAmount=t;else if(e)if("object"==typeof t){var n=t.max-t.min,r=Math.round(n*e());this._goalAmount=r+t.min}else if(Array.isArray(t)){var i=Math.round((t.length-1)*e());this._goalAmount=t[i]}else t||(this._goalAmount=1);else;},i.addAmount=function(t){void 0===t&&(t=1),this.currentAmount+=t,this.checkCompletion(),"SCOPE_GLOBAL"!==this.scope||this.completed||this.onPermanentAmountUpdated.dispatch()},i.checkCompletion=function(){this.currentAmount>=this._goalAmount&&(this._completed=!0,this.onChallengeCompleted.dispatch(this.difficulty),u.c.dispatch(c.a,{type:c.b.CHALLENGE_COMPLETED,data:{difficulty:this.difficulty}}))},e=t,(n=[{key:"type",get:function(){return this._type}},{key:"difficulty",get:function(){return this._difficulty}},{key:"goalAmount",get:function(){return this._goalAmount}},{key:"scope",get:function(){return this._scope}},{key:"progress",get:function(){return this.currentAmount}},{key:"completed",get:function(){return this._completed}},{key:"progressPercentage",get:function(){return Math.round(this.currentAmount/this._goalAmount*100)}}])&&l(e.prototype,n),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var m=function(t){var e,n;function r(e){var n,r,i,a;return n=t.call(this,e)||this,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),a=void 0,(i="_conditionCharacterId")in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,n.setCharacter(e.character,e.randomGenerator),n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,f(e,n);var i,o,s,u=r.prototype;return u.setCharacter=function(t,e){"ANY"===t?this._conditionCharacterId=t:e&&"RANDOM"===t&&this.randomCharacter(e)},u.randomCharacter=function(t){var e=Object.values(a.a);e=e.filter((function(t){return t.available&&!t.locked&&!t.geoLocked}));var n=Math.round((e.length-1)*t());this._conditionCharacterId=e[n].id},u.updateChallenge=function(t){var e=this;this._completed||("TYPE_SCORE_GOALS"===this.type?("ANY"===this.conditionCharacterId||t.characterId===this.conditionCharacterId)&&this.addAmount():("TYPE_WIN_GAMES"===this.type||"TYPE_PLAY_WITH_CHARACTER"===this.type||"TYPE_WIN_TOURNAMENT"===this.type)&&("ANY"===this.conditionCharacterId?this.addAmount():t.team.forEach((function(t){t===e.conditionCharacterId&&e.addAmount()}))))},i=r,(o=[{key:"conditionCharacterId",get:function(){return this._conditionCharacterId}}])&&p(i.prototype,o),s&&p(i,s),Object.defineProperty(i,"prototype",{writable:!1}),r}(d);function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=["SpeedBoost","Shield","Lightning","Freeze","Shrinkatron","Snowball","Banana"],v=["Snowball","Banana"],b=function(t){var e,n;function r(e){var n,r,i,a;return n=t.call(this,e)||this,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),a=void 0,(i="conditionPowerupId")in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,n.setPowerup(e.powerup,e.randomGenerator),n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,g(e,n);var i=r.prototype;return i.setPowerup=function(t,e){"ANY"===t?this.conditionPowerupId=t:e&&("RANDOM"===t?this.randomPowerup(e):"RANDOM_ACTIONABLE"===t&&this.randomPowerup(e,!0))},i.randomPowerup=function(t,e){void 0===e&&(e=!1);var n=e?v:y,r=Math.round((n.length-1)*t());this.conditionPowerupId=n[r]},i.updateChallenge=function(t){this._completed||"TYPE_USE_POWERUPS"===this.type&&t.powerup&&("ANY"===this.conditionPowerupId||t.powerup===this.conditionPowerupId)&&this.addAmount()},r}(d);function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var w,x=function(t){var e,n;function r(e){var n,r,i,a;return n=t.call(this,e)||this,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),a=void 0,(i="conditionDuration")in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,n.setDuration(e.duration,e.randomGenerator),n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,_(e,n);var i=r.prototype;return i.setDuration=function(t,e){1===t.length?this.conditionDuration=t[0]:e&&t.length>1&&this.randomDuration(t,e)},i.randomDuration=function(t,e){var n=Math.round((t.length-1)*e());this.conditionDuration=t[n]},i.updateChallenge=function(t){this._completed||"TYPE_GOALS_BEFORE_TIME"===this.type&&t.time<=this.conditionDuration&&this.addAmount()},r}(d),S={TYPE_SCORE_GOALS:{class:m,triggerEventType:i.b.GOAL_SCORED},TYPE_WIN_GAMES:{class:m,triggerEventType:i.b.MATCH_WON},TYPE_PLAY_WITH_CHARACTER:{class:m,triggerEventType:i.b.MATCH_ENDED},TYPE_WIN_TOURNAMENT:{class:m,triggerEventType:i.b.TOURNAMENT_WON},TYPE_GOALS_BEFORE_TIME:{class:x,triggerEventType:i.b.GOAL_SCORED},TYPE_USE_POWERUPS:{class:b,triggerEventType:i.b.ITEM_PICKED_UP}},T={difficulty_1:[{type:"TYPE_SCORE_GOALS",attributes:{amount:{min:1,max:3},scope:"SCOPE_GLOBAL",character:"RANDOM"}},{type:"TYPE_WIN_GAMES",attributes:{amount:1,character:"ANY"}},{type:"TYPE_PLAY_WITH_CHARACTER",attributes:{amount:1,character:"RANDOM"}},{type:"TYPE_GOALS_BEFORE_TIME",attributes:{amount:1,duration:[30]}}],difficulty_2:[{type:"TYPE_WIN_GAMES",attributes:{amount:{min:2,max:3},character:"ANY"}},{type:"TYPE_USE_POWERUPS",attributes:{amount:{min:1,max:2},scope:"SCOPE_GLOBAL",powerup:"ANY"}},{type:"TYPE_SCORE_GOALS",attributes:{amount:{min:4,max:6},scope:"SCOPE_GAME",character:"ANY"}},{type:"TYPE_GOALS_BEFORE_TIME",attributes:{amount:2,duration:[35]}}],difficulty_3:[{type:"TYPE_WIN_GAMES",attributes:{amount:{min:4,max:6},character:"ANY"}},{type:"TYPE_USE_POWERUPS",attributes:{amount:{min:3,max:4},scope:"SCOPE_GLOBAL",powerup:"RANDOM"}},{type:"TYPE_WIN_TOURNAMENT",attributes:{character:"RANDOM"}},{type:"TYPE_GOALS_BEFORE_TIME",attributes:{amount:3,duration:[40]}}]},M=n(49),E=n(37),A=n(1),k=n(3),C=n.n(k),O=n(524),L=n.n(O),R=n(24);function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function D(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(Object(n),!0).forEach((function(e){N(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function I(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.DAILY=0]="DAILY",t[t.WEEKLY=1]="WEEKLY"}(w||(w={}));var j=[50,100,300],F={type:w.DAILY,maxEntities:3},U=function(){function t(t,e){void 0===e&&(e=F),N(this,"app",void 0),N(this,"refreshType",void 0),N(this,"maxEntities",void 0),N(this,"completedEntities",void 0),N(this,"active",void 0),N(this,"_challenges",void 0),N(this,"save",void 0),N(this,"today",void 0),N(this,"debug",void 0),N(this,"onGameEnd",new R.Signal),this.app=t,this.refreshType=e.type,this.maxEntities=e.maxEntities,this.debug=A.Params.get("challengesDebug",!1)}var e,n,a,o=t.prototype;return o.init=function(){var t,e=(t=regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._challenges=[],this.completedEntities=0,this.active=!0,this.save=this.getSave(),e=A.Params.get("todayDate",!1),this.today=e?C()(e,"DD-MM-YYYY"):C()(),this.onGameEnd.connect((function(){n.resetSession()})),this.generateChallenges(this.save),this.resetSession(),this.debug&&this.debugChallengesPanel();case 10:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){I(a,r,i,o,s,"next",t)}function s(t){I(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}(),o.generateChallenges=function(t){t&&!this.validate(t.period)&&(t=null);for(var e=this.today.format("DD-MM-YYYY"),n=0;n<this.maxEntities;n++){var r=L()(e+"_"+(n+1)),i=T["difficulty_"+(n+1)],a=Math.round(r()*(i.length-1));this.buildChallenge(n+1,i[a],r,t?t["challenge_"+(n+1)]:null)}},o.validate=function(t){var e=!1,n=C()(t,"DD-MM-YYYY"),r=this.today;return this.refreshType===w.WEEKLY?e=n.isSame(r,"week"):this.refreshType===w.DAILY&&(e=n.isSame(r,"day")),e},o.buildChallenge=function(t,e,n,r){var a=this,o=e.type,s=D(D({type:o,difficulty:t},e.attributes),{},{randomGenerator:n});if(null!==r){var c=r.savedAmount,l=r.completed;s=D(D({},s),{},{savedAmount:c,isCompleted:l}),l&&this.completedEntities++}var h=new S[o].class(s);u.c.add(i.a,(function(t){S[o].triggerEventType===t.type&&h.updateChallenge(t.data)})),h.onChallengeCompleted.add((function(t){a.writeSave(),a.rewardCompletion(t)})),h.onPermanentAmountUpdated.add((function(){a.writeSave()})),this._challenges.push(h)},o.resetChallenges=function(){this._challenges=[]},o.resetSession=function(){this._challenges.forEach((function(t){t.reset()})),this.writeSave()},o.challengesRemaining=function(){return this.maxEntities-this.completedEntities},o.getSave=function(){return M.a.challengesProgress},o.writeSave=function(){var t={period:this.today.format("DD-MM-YYYY")};this.challenges.forEach((function(e,n){var r={savedAmount:e.progress,completed:e.completed};t["challenge_"+(n+1)]=r})),M.a.challengesProgress=t,this.app.storage.saveData("challengesProgress")},o.rewardCompletion=function(t){var e=this;this.completedEntities++,this.app.userStats.incrementValue(E.d.CHALLENGES_COMPLETED,1);var n=j[t-1],i=r.b.translate("STR_CHALLENGES_CHALLENGE"),a=r.b.translate("STR_CHALLENGES_COMPLETED");this.app.achievements.addToQueue({icon:"medal-"+t+".png",message:i+" "+t+"\n"+a+"!",callback:function(){e.app.game.rewardCoins(n)}})},o.debugChallengesPanel=function(){var t=[];this.challenges.forEach((function(e){var n,r=e.difficulty,i=e.type,a=e.goalAmount;"CharacterBasedChallenge"===e.constructor.name?n=e.conditionCharacterId:"PowerupBasedChallenge"===e.constructor.name?n=e.conditionPowerupId:"TimeBasedChallenge"===e.constructor.name&&(n=e.conditionDuration),t.push({difficulty:r,type:i,condition:n,goalAmount:a})}))},e=t,(n=[{key:"challenges",get:function(){return this._challenges}}])&&B(e.prototype,n),a&&B(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return ct}));n(21),n(27),n(5),n(19);var r=n(94),i=n(8),a=n(1),o=n(0);function s(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){s(a,r,i,o,u,"next",t)}function u(t){s(a,r,i,o,u,"throw",t)}o(void 0)}))}}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var d,p=function(t){var e,n;function i(){var e;return h(c(e=t.call(this)||this),"banner",void 0),h(c(e),"blurFilter",void 0),h(c(e),"baseScale",void 0),h(c(e),"_width",void 0),h(c(e),"_height",void 0),e.banner=o.Sprite.from("assets/content/banners/main-menu-sponsor.jpg"),e.banner.anchor.set(.5),e.addChild(e.banner),e.blurFilter=new o.filters.BlurFilter,e}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,l(e,n);var s=i.prototype;return s.show=function(){var t=u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.resize(this._width,this._height),this.banner.x=-this.banner.width,this.banner.scale.y=.15,this.banner.alpha=1,this.blurFilter.blur=0,this.visible=!0,Object(a.tween)(this.banner,.15,{x:this._width/2,ease:"Quad.easeOut"}),t.next=9,Object(a.tween)(this.banner.scale,.3,{x:this.baseScale,y:this.baseScale,delay:.1,ease:"Back.easeOut"});case 9:return t.next=11,Object(a.tween)(this.banner.scale,.5,{x:1.01*this.baseScale,y:1.01*this.baseScale,ease:"none"});case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.hide=function(){var t=u(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return!r.a.mobile&&!r.a.ie&&(this.banner.filters=[this.blurFilter]),Object(a.tween)(this.blurFilter,.15,{blur:20,delay:.05,ease:"Quad.easeIn"}),Object(a.tween)(this.banner,.2,{alpha:0,delay:.1,ease:"Quad.easeIn"}).then(u(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.banner.filters=[],e.visible=!1;case 2:case"end":return t.stop()}}),t)})))),t.next=5,Object(a.tween)(this.banner.scale,.2,{x:3*this.baseScale,y:3*this.baseScale,ease:"Quad.easeIn"});case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.resize=function(t,e){this._width=t,this._height=e,this.banner.width=t,this.banner.scale.y=this.banner.scale.x,this.banner.y=e/2,this.baseScale=this.banner.scale.x},i}(o.Container),f=(n(88),n(184),n(34),n(4)),m=n(9),g=n(2),y=n(14),v=n(24);function b(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function _(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){b(a,r,i,o,s,"next",t)}function s(t){b(a,r,i,o,s,"throw",t)}o(void 0)}))}}function w(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function x(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,S(t,e)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t[t.HEAD=0]="HEAD",t[t.MIDDLE=1]="MIDDLE",t[t.TAIL=2]="TAIL"}(d||(d={}));var M=function(t){function e(e,n){var i;T(w(i=t.call(this)||this),"background",void 0),T(w(i),"text",void 0),T(w(i),"content",void 0),T(w(i),"filter",void 0),T(w(i),"_contentId",void 0),T(w(i),"type",void 0),T(w(i),"notification",void 0),T(w(i),"onPress",new v.Signal),i.type=e,i.background=o.Sprite.from("breadcrumb-"+(e+1)+".png"),i.background.anchor.y=.5,i.addChild(i.background),n=n||"placeholder",i.text=new m.a(n,{fontSize:e===d.TAIL?23:18,fill:"#000",maxWidth:120}),i.text.anchor.y=.5,i.text.x=e===d.HEAD?20:40,i.addChild(i.text);var a=o.Sprite.from("breadcrumb-"+(e+1)+".png");return a.anchor.y=.5,a.tint=16711680,i.background.addChild(a),i.content=o.Sprite.from("buttonicon-globe-button.png"),i.content.anchor.set(.5,.5),i.content.scale.set(.6),i.content.mask=a,i.content.x=i.background.width/2,i.content.y=3*i.background.height/2,i.addChild(i.content),i.filter=new o.filters.ColorMatrixFilter,i.filter.blackAndWhite(!0),r.a.mobile||r.a.ie?i.alpha=.15:i.filters=[i.filter],i.on("pointertap",(function(){return i.onPress.emit()})),i}x(e,t);var n=e.prototype;return n.addExclamation=function(){if(!this.notification){var t=o.Sprite.from("button-unlockables-notification.png");t.anchor.set(.5),t.scale.set(1.2),t.rotation=-.2,t.position.x=this.width,t.position.y=-30,this.addChild(t),Object(a.tween)(t.scale,.5,{x:1.6,y:1.6,ease:"Quad.easeInOut",repeat:-1,yoyo:!0}),Object(a.tween)(t,1,{rotation:.2,ease:"Quad.easeInOut",repeat:-1,yoyo:!0}),this.notification=t}},n.removeExclamation=function(){this.notification&&(y.c.killTweensOf(this.notification.scale),Object(a.tween)(this.notification.scale,.4,{x:0,y:0,ease:"Back.easeIn"}),y.c.killTweensOf(this.notification),this.removeChild(this.notification),this.notification=null)},n.activate=function(){var t=_(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),this.disable(),this.type===d.HEAD&&(n=g.b.gameMode===g.a.TOURNAMENT,this.setText(n?"STR_BREADCRUMB_COUNTRY":"STR_LEAGUES_LEAGUE")),!this.content.visible){t.next=7;break}return t.next=6,Object(a.tween)(this.content,e?0:.3,{y:this.background.height,alpha:0});case 6:this.content.visible=!1;case 7:if(Object(a.tween)(this.text,e?0:.2,{alpha:1}),!r.a.mobile&&!r.a.ie){t.next=13;break}return t.next=11,Object(a.tween)(this,e?0:.2,{alpha:1,ease:"Quad.easeOut"});case 11:t.next=15;break;case 13:return t.next=15,Object(a.tween)(this.filter,e?0:.2,{alpha:0,ease:"Quad.easeOut"});case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.fill=function(){var t=_(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n={x:0,y:0}),void 0===r&&(r=1),!e){t.next=11;break}return this._contentId!==e&&(this.content.texture=o.Texture.from(e),this._contentId=e),this.content.scale.set(.6*r),this.content.x=this.background.width/2+n.x,this.content.visible=!0,t.next=9,Object(a.tween)(this.text,.2,{alpha:0});case 9:return t.next=11,Object(a.tween)(this.content,.5,{y:this.background.height-20+n.y,alpha:1,ease:"Back.easeOut"});case 11:this.enable();case 12:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}(),n.clear=function(){var t=_(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),this.disable(),!this.content.visible){t.next=6;break}return t.next=5,Object(a.tween)(this.content,e?0:.3,{y:3*this.background.height/2,alpha:0});case 5:this.content.visible=!1;case 6:if(Object(a.tween)(this.text,e?0:.2,{alpha:1}),!r.a.mobile&&!r.a.ie){t.next=12;break}return t.next=10,Object(a.tween)(this,e?0:.2,{alpha:.15,ease:"Quad.easeOut"});case 10:t.next=14;break;case 12:return t.next=14,Object(a.tween)(this.filter,e?0:.2,{alpha:1,ease:"Quad.easeOut"});case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.enable=function(){this.interactive=this.buttonMode=!0},n.disable=function(){this.interactive=this.buttonMode=!1},n.setText=function(t){this.text.scale.set(1),this.text.setText(t),this.text.width>150&&this.text.scale.set(150/this.text.width)},e}(o.Container),E=function(t){function e(e){var n;T(w(n=t.call(this)||this),"app",void 0),T(w(n),"background",void 0),T(w(n),"breadcrumbs",void 0),T(w(n),"blurFilter",void 0),T(w(n),"_currentIndex",void 0),n.app=e,n._currentIndex=0,n.background=o.Sprite.from("breadcrumb-back.png"),n.background.anchor.y=1,n.addChild(n.background),n.blurFilter=new o.filters.BlurFilter,n.blurFilter.blurX=0,n.blurFilter.blurY=10,n.breadcrumbs=[new M(d.HEAD),new M(d.MIDDLE,"STR_BREADCRUMB_CAPTAIN"),new M(d.MIDDLE,"STR_BREADCRUMB_PLAYER2"),new M(d.MIDDLE,"STR_BREADCRUMB_PLAYER3"),new M(d.MIDDLE,"STR_BREADCRUMB_KEEPER"),new M(d.TAIL,"STR_BREADCRUMB_READY")],n.breadcrumbs[4].addExclamation();var r=0;return n.breadcrumbs.forEach((function(t,e){t.x=r,t.y=-n.background.height/2+7,n.background.addChild(t),r+=t.width,t.onPress.connect(n.goto.bind(w(n),e))})),n.hide(!0),n}x(e,t);var n=e.prototype;return n.show=function(){var t=_(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=!1,!e){t.next=5;break}if(e!==f.a.SCREEN_ID.LEAGUES||!g.b.isContinue||!this.app.leagues.activeLeague){t.next=4;break}return t.abrupt("return");case 4:e!==f.a.SCREEN_ID.LEAGUES&&e!==f.a.SCREEN_ID.COUNTRY_SELECT||(n=!0);case 5:if(!this.visible){t.next=7;break}return t.abrupt("return");case 7:return this.visible=!0,n&&this.goto(0,!0,!0),y.c.killTweensOf(this),this.filters=r.a.mobile||r.a.ie?[]:[this.blurFilter],t.next=13,Object(a.tween)(this,.2,{y:this.app.height,ease:"Quad.easeOut"});case 13:this.filters=[],this.unlock();case 15:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.hide=function(){var t=_(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),this.visible){t.next=3;break}return t.abrupt("return");case 3:if(this.lock(),y.c.killTweensOf(this),this.filters=r.a.mobile||r.a.ie?[]:[this.blurFilter],!e){t.next=10;break}this.y=this.app.height+this.height,t.next=12;break;case 10:return t.next=12,Object(a.tween)(this,.2,{y:this.app.height+this.height,ease:"Quad.easeOut"});case 12:this.filters=[],this.visible=!1;case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.next=function(){var t=_(regeneratorRuntime.mark((function t(){var e,n,r,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._currentIndex!==this.breadcrumbs.length-1){t.next=2;break}return t.abrupt("return");case 2:i={x:0,y:0},a=1,t.t0=this._currentIndex,t.next=0===t.t0?7:1===t.t0||2===t.t0||3===t.t0||4===t.t0?10:14;break;case 7:return g.b.gameMode===g.a.TOURNAMENT&&(r=g.b.countryID.FLAG),i={x:-10,y:-33},t.abrupt("break",14);case 10:return r=g.b.teamA[this._currentIndex-1].profile,i={x:(null===(e=g.b.teamA[this._currentIndex-1].offsetBreadCrumb)||void 0===e?void 0:e.x)||0,y:(null===(n=g.b.teamA[this._currentIndex-1].offsetBreadCrumb)||void 0===n?void 0:n.y)||0},a=g.b.teamA[this._currentIndex-1].scaleBreadCrumb||1,t.abrupt("break",14);case 14:return this.breadcrumbs[this._currentIndex].fill(r,i,a),this._currentIndex++,this.app.controller.goto(this.getScreenId(this._currentIndex)),t.next=19,this.breadcrumbs[this._currentIndex].activate();case 19:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.previous=function(){var t=_(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),0!==this._currentIndex){t.next=3;break}return t.abrupt("return");case 3:return this.breadcrumbs[this._currentIndex].clear(),this._currentIndex--,e||this.app.controller.goto(this.getScreenId(this._currentIndex)),t.next=8,this.breadcrumbs[this._currentIndex].activate();case 8:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),n.goto=function(){var t=_(regeneratorRuntime.mark((function t(e,n,r){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=!1),void 0===r&&(r=!1),!(this._currentIndex<0||this._currentIndex>=this.breadcrumbs.length)){t.next=4;break}return t.abrupt("return");case 4:for(i=this.breadcrumbs.length-1;i>e;i--)i!==e+1||n?this.breadcrumbs[i].clear(n):this.breadcrumbs[i].clear();return this._currentIndex=e,r||this.app.controller.goto(this.getScreenId(this._currentIndex)),t.next=9,this.breadcrumbs[this._currentIndex].activate(n);case 9:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}(),n.lock=function(){this.interactiveChildren=!1},n.unlock=function(){this.interactiveChildren=!0},n.getScreenId=function(t){var e;switch(t){case 0:e=g.b.gameMode===g.a.TOURNAMENT?f.a.SCREEN_ID.COUNTRY_SELECT:f.a.SCREEN_ID.LEAGUES;break;case 1:e=f.a.SCREEN_ID.CAPTAIN_SELECT;break;case 2:e=f.a.SCREEN_ID.PLAYER_SELECT;break;case 3:e=f.a.SCREEN_ID.PLAYER_SELECT_2;break;case 4:e=f.a.SCREEN_ID.KEEPER_SELECT;break;case 5:e=f.a.SCREEN_ID.TEAM_REVIEW}return e},n.getCurrentScreenId=function(){return this.getScreenId(this._currentIndex)},n.resize=function(t,e){this.background.width=t,this.background.scale.y=this.background.scale.x},e}(o.Container),A=n(17),k=n(11),C=n(6),O=(n(107),n(80)),L=n(25),R=n(7);function P(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function D(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){P(a,r,i,o,s,"next",t)}function s(t){P(a,r,i,o,s,"throw",t)}o(void 0)}))}}function I(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function N(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var j,F,U=function(t){var e,n;function r(){var e;N(I(e=t.call(this)||this),"background",void 0),N(I(e),"textMask",void 0),N(I(e),"icon",void 0),N(I(e),"text",void 0),N(I(e),"_amount",void 0),e.background=new o.NineSlicePlane(o.Texture.from("tc-button-special.png"),10,10,10,14),e.background.y=-e.background.height/2,e.addChild(e.background),e.textMask=new o.Sprite(o.Texture.WHITE),e.textMask.width=e.background.width,e.textMask.height=e.background.height,e.background.addChild(e.textMask);return e.icon=o.Sprite.from("coin.png"),e.icon.anchor.set(.5),e.icon.scale.set(1.5),e.icon.y=-3,e.addChild(e.icon),e._amount=L.d.coins,e.text=new m.a(e.formatNumber(e._amount),{fill:"#fff",fontSize:45,letterSpacing:3,padding:10}),e.text.anchor.set(.5),e.text.y=-5,e.addChild(e.text),e.text.mask=e.textMask,e.background.width=Math.max(e.text.width+25,250),e.text.x=e.background.width/2+10,R.c.add(C.d,(function(){return e.text.text=e.formatNumber(e._amount)})),e.hide(!0),e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,B(e,n);var s=r.prototype;return s.show=function(){var t=D(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!this.visible){t.next=3;break}return t.abrupt("return");case 3:return y.c.killTweensOf(this.icon.scale),y.c.killTweensOf(this.background),this.visible=!0,1.5,n=Math.max(this.text.width+25,250),this.text.x=n/2+10,t.next=11,Object(a.tween)(this.icon.scale,e?0:.3,{x:1.5,y:1.5,ease:"Quad.easeOut"});case 11:return Object(a.tween)(this.textMask,e?0:.3,{width:n,ease:"Quad.easeIn"}),t.next=14,Object(a.tween)(this.background,e?0:.3,{width:n,ease:"Quad.easeIn"});case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.hide=function(){var t=D(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),this.visible){t.next=3;break}return t.abrupt("return");case 3:return y.c.killTweensOf(this.icon.scale),y.c.killTweensOf(this.background),Object(a.tween)(this.textMask,e?0:.3,{width:0,ease:"Quad.easeIn"}),t.next=8,Object(a.tween)(this.background,e?0:.3,{width:0,ease:"Quad.easeIn"});case 8:return t.next=10,Object(a.tween)(this.icon.scale,e?0:.3,{x:0,y:0,ease:"Quad.easeOut"});case 10:this.visible=!1;case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),s.updateCoins=function(t){var e=this;void 0===t&&(t=!1),y.c.killTweensOf(this._amount),Object(a.tween)(this,t?0:1,{_amount:L.d.coins,roundProps:"_amount",ease:"none",onUpdate:function(){e.text.text=e.formatNumber(e._amount),e.background.width=Math.max(e.text.width+25,250),e.text.x=e.background.width/2+10}})},s.formatNumber=function(t){var e=t.toString();return t>=("tr"===i.a.settings.language?1e5:1e3)&&(e=""+e.substr(0,e.length-3)+O.b.translate("STR_SEPARATOR")+e.substr(-3)),e},r}(o.Container);function Y(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function G(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){Y(a,r,i,o,s,"next",t)}function s(t){Y(a,r,i,o,s,"throw",t)}o(void 0)}))}}function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V(t,e){return(V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function W(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}!function(t){t.EMPTY="empty",t.HOME="home",t.TOP_LAYER="outer",t.INNER_LAYER="inner",t.OVERLAY="overlay",t.CLOSE="close",t.BACK="back",t.PAUSE="pause"}(j||(j={})),function(t){t.HOME="home",t.SETTINGS="settings",t.SOUND_ON="soundon",t.SOUND_OFF="soundoff",t.BACK="back",t.CLOSE="cross",t.PAUSE="pause"}(F||(F={}));var X={home:1.8,settings:1.4,soundon:.85,soundoff:.85,back:1,cross:1.5,pause:1},K={EMPTY:j.EMPTY,TITLE:j.HOME,COUNTRY_SELECT:j.TOP_LAYER,CAPTAIN_SELECT:j.INNER_LAYER,PLAYER_SELECT:j.INNER_LAYER,PLAYER_SELECT_2:j.INNER_LAYER,KEEPER_SELECT:j.INNER_LAYER,TEAM_REVIEW:j.INNER_LAYER,TOURNAMENT:j.INNER_LAYER,LEADERBOARD:j.TOP_LAYER,USER_STATS:j.TOP_LAYER,UNLOCKABLES:j.TOP_LAYER,CHARACTERS:j.INNER_LAYER,STADIUMS:j.INNER_LAYER,STATS:j.INNER_LAYER,BALLS:j.INNER_LAYER,KITS:j.INNER_LAYER,REWARDS:j.INNER_LAYER,INTERSTITIAL_REWARDS:j.INNER_LAYER,LANGUAGE:j.EMPTY,CHALLENGES:j.TOP_LAYER,LEAGUES_ONBOARDING:j.TOP_LAYER,LEAGUES:j.TOP_LAYER,PAGEANTRY:j.EMPTY,GAME:j.PAUSE,GAMEOVER:j.EMPTY,SETTINGS:j.OVERLAY,LOCKED_POPUP:j.CLOSE,PAUSE:j.PAUSE,PROMOTING:j.TOP_LAYER,GDPR:j.EMPTY},q=function(t){var e,n;function s(e){var n;return W(z(n=t.call(this)||this),"app",void 0),W(z(n),"leftButton",void 0),W(z(n),"rightButton",void 0),W(z(n),"coinBar",void 0),W(z(n),"state",void 0),W(z(n),"_leftIcon",void 0),W(z(n),"_rightIcon",void 0),W(z(n),"_exclamation",void 0),n.app=e,n.coinBar=new U,n.coinBar.scale.set(.75),n.addChild(n.coinBar),n.leftButton=new k.c({icon:"icon-home.png"}),n.rightButton=new k.c({icon:"icon-settings.png"}),n.addChild(n.leftButton),n.addChild(n.rightButton),n.leftButton.scale.set(0),n.rightButton.scale.set(0),n.leftButton.visible=!1,n.rightButton.visible=!1,n.leftButton.onPress.add(n.onButtonPressed.bind(z(n),!0)),n.rightButton.onPress.add(n.onButtonPressed.bind(z(n),!1)),window.cordova&&r.a.android&&document.addEventListener("backbutton",(function(t){t.preventDefault(),n.interactiveChildren&&(n.state!==j.BACK&&n.state!==j.TOP_LAYER&&n.state!==j.INNER_LAYER||!n.leftButton.interactive||n.onButtonPressed(!0),n.state!==j.CLOSE&&n.state!==j.OVERLAY||!n.rightButton.interactive||n.onButtonPressed(!1))}),!1),!a.Params.get("settingsExclamation",!1)&&i.a.cache.controlsSettingVisited||n._addExclamation(),n}n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,V(e,n);var u,c,l,h=s.prototype;return h._addExclamation=function(){var t=o.Sprite.from("button-unlockables-notification.png");t.anchor.set(.5),t.scale.set(1.2),t.rotation=-.2,t.x=-40,t.y=40,this.rightButton.addChild(t),Object(a.tween)(t.scale,.5,{x:1.6,y:1.6,ease:"Quad.easeInOut",repeat:-1,yoyo:!0}),Object(a.tween)(t,1,{rotation:.2,ease:"Quad.easeInOut",repeat:-1,yoyo:!0}),this._exclamation=t},h.removeExclamation=function(){i.a.cache.controlsSettingVisited=!0,this.app.storage.saveData("cache"),y.c.killTweensOf(this._exclamation.scale),Object(a.tween)(this._exclamation.scale,.4,{x:0,y:0,ease:"Back.easeIn"}),y.c.killTweensOf(this._exclamation),this.rightButton.removeChild(this._exclamation),this._exclamation=void 0},h.updateElements=function(){var t=G(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=!1),r=K[e],this.state!==r||n){t.next=4;break}return t.abrupt("return");case 4:this.state=r,r===j.EMPTY&&(this.coinBar.hide(),this.hideButton(this.leftButton),this.hideButton(this.rightButton)),r===j.HOME&&(this.hideButton(this.leftButton),this.showButton(this.rightButton,this.specialIcon),this.pushCoinBar(!0),this.coinBar.show()),r===j.TOP_LAYER&&(this.coinBar.show(),this.app.overlays.breadcrumb.visible?this.coinBar.hide():this.pushCoinBar(),this.showButton(this.leftButton,F.HOME),this.showButton(this.rightButton,this.specialIcon)),r===j.INNER_LAYER&&(this.coinBar.show(),this.app.overlays.breadcrumb.visible?this.coinBar.hide():this.pushCoinBar(),this.showButton(this.leftButton,F.BACK),this.showButton(this.rightButton,this.specialIcon)),r===j.OVERLAY&&(this.coinBar.hide(),this.showButton(this.leftButton,F.HOME),this.showButton(this.rightButton,F.CLOSE)),r===j.CLOSE&&(this.hideButton(this.leftButton),this.pushCoinBar(!0),this.showButton(this.rightButton,F.CLOSE)),r===j.BACK&&(this.showButton(this.leftButton,F.BACK),this.hideButton(this.rightButton)),r===j.PAUSE&&(this.coinBar.show(),this.pushCoinBar(!0),this.hideButton(this.leftButton),this.showButton(this.rightButton,F.PAUSE));case 13:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),h.lock=function(){this.interactiveChildren=!1},h.unlock=function(){this.interactiveChildren=!0},h.pushCoinBar=function(){var t=G(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),n=(e?0:this.leftButton.x+this.leftButton.width/2)+50,this.coinBar.x!==n){t.next=4;break}return t.abrupt("return");case 4:y.c.killTweensOf(this.coinBar),Object(a.tween)(this.coinBar,.4,{x:n,ease:"Quad.easeOut"});case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),h.showButton=function(){var t=G(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e!==this.leftButton){t.next=6;break}if(!e.visible||this._leftIcon!==n){t.next=3;break}return t.abrupt("return");case 3:this._leftIcon=n,t.next=9;break;case 6:if(!e.visible||this._rightIcon!==n){t.next=8;break}return t.abrupt("return");case 8:this._rightIcon=n;case 9:if(y.c.killTweensOf(e.scale),!e.visible){t.next=13;break}return t.next=13,Object(a.tween)(e.scale,.2,{x:0,y:0,ease:"Quad.easeIn"});case 13:return e.visible=!0,e.setIcon("icon-"+n+".png",X[n]),this._exclamation&&(n!==F.SETTINGS?this._exclamation.visible=!1:this._exclamation.visible=!0),t.next=18,Object(a.tween)(e.scale,.2,{x:1,y:1,ease:"Quad.easeOut"});case 18:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),h.hideButton=function(){var t=G(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y.c.killTweensOf(e.scale),t.next=3,Object(a.tween)(e.scale,.2,{x:0,y:0,ease:"Quad.easeIn"});case 3:e.visible=!1;case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),h.enableButton=function(t){t.setColor(k.a.BLUE),t.enable(),t.alpha=1},h.disableButton=function(t){t.setColor(k.a.GREY),t.disable(),t.alpha=.7},h.enable=function(){this.enableButton(this.leftButton),this.enableButton(this.rightButton)},h.disable=function(){this.disableButton(this.leftButton),this.disableButton(this.rightButton)},h.onButtonPressed=function(t){switch(this.state){case j.HOME:this.handleAbstractButton();break;case j.TOP_LAYER:t?this.handleGoHome():this.handleAbstractButton();break;case j.INNER_LAYER:t?this.handleGoBack():this.handleAbstractButton();break;case j.OVERLAY:t?this.handleGoHome(!0):this.handleCloseOverlay();break;case j.CLOSE:this.handleCloseOverlay();break;case j.BACK:break;case j.PAUSE:this.handlePause()}},h.handleAbstractButton=function(){window.cordova||a.Params.get("settings",!1)?(this.app.controller.gotoOverlay(f.a.OVERLAY_ID.SETTINGS),R.c.dispatch(C.a,{type:C.b.MENU_SETTINGS_SELECTED})):(this.app.controller.toggleMute(),this.rightButton.setIcon("icon-sound"+(A.default.systemMuted?"off":"on")+".png"))},h.handleGoHome=function(t){void 0===t&&(t=!1),this.app.controller.goto(f.a.SCREEN_ID.TITLE),t&&this.handleCloseOverlay()},h.handleGoBack=function(){this.app.controller.goBack()},h.handleCloseOverlay=function(){this.app.controller.closeOverlay()},h.handlePause=function(){R.d.paused?this.app.controller.resumeGame():this.app.controller.pauseGame()},h.resize=function(t,e){this.leftButton.x=this.leftButton.width/2+5,this.leftButton.y=this.leftButton.height/2+5,this.rightButton.x=t-this.rightButton.width/2-5,this.rightButton.y=this.rightButton.height/2+5,this.coinBar.visible&&(this.coinBar.y=this.leftButton.y,this.coinBar.x=(this.leftButton.visible?this.leftButton.x:0)+this.leftButton.width/2+50)},u=s,(c=[{key:"specialIcon",get:function(){return window.cordova||a.Params.get("settings",!1)?F.SETTINGS:A.default.systemMuted?F.SOUND_OFF:F.SOUND_ON}}])&&H(u.prototype,c),l&&H(u,l),Object.defineProperty(u,"prototype",{writable:!1}),s}(o.Container),Z=(n(39),n(262)),J=n(156),Q=n(90),$=n(55);function tt(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function et(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){tt(a,r,i,o,s,"next",t)}function s(t){tt(a,r,i,o,s,"throw",t)}o(void 0)}))}}function nt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rt(t,e){return(rt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function it(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var at=function(t){var e,n;function i(e){var n;return it(nt(n=t.call(this)||this),"app",void 0),it(nt(n),"content",void 0),it(nt(n),"coreContent",void 0),it(nt(n),"background",void 0),it(nt(n),"backgroundShade",void 0),it(nt(n),"exposureOverlay",void 0),it(nt(n),"contentMask",void 0),it(nt(n),"lightning",void 0),it(nt(n),"bottomShade",void 0),it(nt(n),"blurFilter",void 0),it(nt(n),"vsBlurFilter",void 0),it(nt(n),"lightningBlurFilter",void 0),it(nt(n),"loadSpinner",void 0),it(nt(n),"vs",void 0),it(nt(n),"teamA",void 0),it(nt(n),"teamB",void 0),it(nt(n),"teamAshort",void 0),it(nt(n),"teamBshort",void 0),it(nt(n),"flagA",void 0),it(nt(n),"flagB",void 0),it(nt(n),"char1A",void 0),it(nt(n),"char0A",void 0),it(nt(n),"char2A",void 0),it(nt(n),"char3A",void 0),it(nt(n),"char1B",void 0),it(nt(n),"char0B",void 0),it(nt(n),"char2B",void 0),it(nt(n),"char3B",void 0),it(nt(n),"_width",void 0),it(nt(n),"_height",void 0),n.app=e,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,rt(e,n);var s=i.prototype;return s.isBuilt=function(){return!!this.background},s.build=function(){if(!this.isBuilt()){this.background=new Z.a,this.addChild(this.background),this.contentMask=new o.Sprite(o.Texture.WHITE),this.contentMask.anchor.set(.5),this.addChild(this.contentMask),this.background.mask=this.contentMask,this.content=new o.Container,this.addChild(this.content),this.lightning=new o.AnimatedSprite([o.Texture.from("pageantry-screen-lightingframe1.png"),o.Texture.from("pageantry-screen-lightingframe2.png"),o.Texture.from("pageantry-screen-lightingframe3.png"),o.Texture.from("pageantry-screen-lightingframe4.png"),o.Texture.from("pageantry-screen-lightingframe5.png")]),this.lightning.anchor.set(.5),this.content.addChild(this.lightning),this.lightning.blendMode=o.BLEND_MODES.ADD,this.backgroundShade=o.Sprite.from("assets/base-app/overlays/dark-overlay.png"),this.backgroundShade.anchor.set(.5),this.content.addChild(this.backgroundShade),this.flagA=o.Sprite.from(o.Texture.WHITE),this.flagA.anchor.set(.5),this.flagA.scale.set(3),this.content.addChild(this.flagA),this.flagB=o.Sprite.from(o.Texture.WHITE),this.flagB.anchor.set(.5),this.flagB.scale.set(3),this.content.addChild(this.flagB),this.coreContent=new o.Container,this.content.addChild(this.coreContent),this.bottomShade=o.Sprite.from("assets/base-app/backgrounds/pageantry-screen-lower-gradient-overlay.png"),this.bottomShade.anchor.set(.5,1),this.content.addChild(this.bottomShade),this.vs=o.Sprite.from("pageantry-screen-vstext.png"),this.vs.anchor.set(.5),this.content.addChild(this.vs);var t={fill:"white",fontSize:50,align:"center",dropShadow:!0,dropShadowDistance:3,dropShadowAlpha:.8,dropShadowAngle:Math.PI/2};this.teamA=new m.a("STR_SUPERSQUAD_YOU",t),this.teamB=new m.a("placeholder",t),this.teamA.anchor.set(.5),this.teamB.anchor.set(.5),t={fill:"white",fontSize:50,align:"center",dropShadow:!0,dropShadowDistance:3,dropShadowAlpha:.8,dropShadowAngle:Math.PI/2},this.teamAshort=new m.a('"TMA"',t),this.teamBshort=new m.a('"TMB"',t),this.teamAshort.anchor.set(.5),this.teamBshort.anchor.set(.5),this.loadSpinner=o.Sprite.from("loading-wheel-white.png"),this.loadSpinner.anchor.set(.5),this.loadSpinner.visible=!1,this.content.addChild(this.teamA),this.content.addChild(this.teamB),this.content.addChild(this.teamAshort),this.content.addChild(this.teamBshort),this.content.addChild(this.loadSpinner),this.exposureOverlay=new o.Sprite(o.Texture.WHITE),this.exposureOverlay.blendMode=o.BLEND_MODES.ADD,this.exposureOverlay.visible=!1,this.addChild(this.exposureOverlay),this.blurFilter=new o.filters.BlurFilter,this.blurFilter.blurY=0,this.blurFilter.blurX=15,this.vsBlurFilter=new o.filters.BlurFilter,this.vsBlurFilter.blur=5,this.lightningBlurFilter=new o.filters.BlurFilter,this.lightningBlurFilter.blurX=0,this.lightningBlurFilter.blurY=20,this.lightning.animationSpeed=.15,this.lightning.play()}},s.updateData=function(){if(this.build(),this.clearCharacters(),this.app.kits.randomiseOpponentKit(),g.b.gameMode===g.a.TOURNAMENT&&(this.flagA.texture=o.Texture.from(g.b.countryID.FLAG),this.flagB.texture=o.Texture.from(g.b.opponentID.FLAG),this.teamA.setText(g.b.countryID.NAME),this.teamB.setText(g.b.opponentID.NAME)),g.b.gameMode===g.a.LEAGUES){var t=this.app.kits.getTeamColor($.b.A);this.char1A=Q.a.getSpineAnim2D(g.b.teamA[1].id,t),this.char0A=Q.a.getSpineAnim2D(g.b.teamA[0].id,t),this.char2A=Q.a.getSpineAnim2D(g.b.teamA[2].id,t),this.char3A=Q.a.getSpineAnim2D(g.b.teamA[3].id,t);var e=this.app.kits.getTeamColor($.b.B);this.char1B=Q.a.getSpineAnim2D(g.b.teamB[1].id,e),this.char0B=Q.a.getSpineAnim2D(g.b.teamB[0].id,e),this.char2B=Q.a.getSpineAnim2D(g.b.teamB[2].id,e),this.char3B=Q.a.getSpineAnim2D(g.b.teamB[3].id,e);this.char1A.scale.set(.6*g.b.teamA[1].scale),this.char0A.scale.set(.6*g.b.teamA[0].scale),this.char2A.scale.set(.6*g.b.teamA[2].scale),this.char3A.scale.set(.6*g.b.teamA[3].scale),this.char1B.scale.set(.6*g.b.teamB[1].scale),this.char0B.scale.set(.6*g.b.teamB[0].scale),this.char2B.scale.set(.6*g.b.teamB[2].scale),this.char3B.scale.set(.6*g.b.teamB[3].scale),this.char1B.scale.x=-this.char1B.scale.x,this.char0B.scale.x=-this.char0B.scale.x,this.char2B.scale.x=-this.char2B.scale.x,this.char3B.scale.x=-this.char3B.scale.x,this.coreContent.addChild(this.char2A),this.coreContent.addChild(this.char1A),this.coreContent.addChild(this.char3A),this.coreContent.addChild(this.char0A),this.coreContent.addChild(this.char1B),this.coreContent.addChild(this.char0B),this.coreContent.addChild(this.char3B),this.coreContent.addChild(this.char2B);var n=function(){var t=et(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=0),r=e.state.setAnimation(0,"Run",!0),t.next=4,Object(a.delay)(n);case 4:r.timeScale=.14;case 5:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();if(n(this.char1A),n(this.char0A,.25),n(this.char2A,.5),n(this.char3A,.75),n(this.char1B,.15),n(this.char0B,.4),n(this.char2B,.65),n(this.char3B,.8),this.teamB.setText(g.b.superSquad.name),this.teamAshort.setText('"'+O.b.translate("STR_SUPERSQUAD_YOU_ABV")+'"',!1,!0),this.teamBshort.setText('"'+O.b.translate(g.b.superSquad.abbreviation)+'"',!1,!0),a.Params.get("pageantryDebug",!1)){this.positionCharacters();var r=new J.a,i=r.addFolder(g.b.teamB[1].id+" 1B"),s=r.addFolder(g.b.teamB[0].id+" 0B"),u=r.addFolder(g.b.teamB[2].id+" 2B"),c=r.addFolder(g.b.teamB[3].id+" 3B");i.add(this.char1B,"x").step(1),i.add(this.char1B,"y").step(1),s.add(this.char0B,"x").step(1),s.add(this.char0B,"y").step(1),u.add(this.char2B,"x").step(1),u.add(this.char2B,"y").step(1),c.add(this.char3B,"x").step(1),c.add(this.char3B,"y").step(1)}}},s.play=function(){var t=et(regeneratorRuntime.mark((function t(){var e,n,i,o,s,u,c,l,h,d,p,f,m,y,v,b=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.build(),this.killTweens(),this.resize(this.app.resize.width,this.app.resize.height),e=g.b.gameMode===g.a.TOURNAMENT,n=g.b.gameMode===g.a.LEAGUES,this.teamAshort.visible=n,this.teamBshort.visible=n,this.flagA.visible=e,this.flagB.visible=e,!n&&this.char1A&&this.clearCharacters(),this.updateData(),this.char1A&&(this.positionCharacters(),i=this.char1A.x,o=this.char0A.x,s=this.char2A.x,u=this.char3A.x,c=this.char1B.x,l=this.char0B.x,h=this.char2B.x,d=this.char3B.x,this.char1A.x=i-this.width/2,this.char0A.x=o-this.width/2,this.char2A.x=s-this.width/2,this.char3A.x=u-this.width/2,this.char1B.x=c+this.width/2,this.char0B.x=l+this.width/2,this.char2B.x=h+this.width/2,this.char3B.x=d+this.width/2,r.a.mobile||r.a.ie||(this.char1A.filters=[this.blurFilter],this.char0A.filters=[this.blurFilter],this.char2A.filters=[this.blurFilter],this.char3A.filters=[this.blurFilter],this.char1B.filters=[this.blurFilter],this.char0B.filters=[this.blurFilter],this.char2B.filters=[this.blurFilter],this.char3B.filters=[this.blurFilter])),this.background.animate(),p=this.lightning.scale.y,this.contentMask.width=0,this.lightning.scale.y=0,!r.a.mobile&&!r.a.ie&&(this.lightning.filters=[this.lightningBlurFilter]),f=this.teamA.x,m=this.teamB.x,y=this.flagA.x,v=this.flagB.x,this.flagA.x=-this.flagA.width,this.flagB.x=this._width+this.flagB.width,this.teamAshort.x=-this.teamAshort.width,this.teamBshort.x=this._width+this.teamBshort.width,this.vs.scale.set(0),this.vs.filters=[this.vsBlurFilter],this.teamA.x=-this.teamA.width,this.teamB.x=this._width+this.teamB.width,this.teamA.alpha=1,this.teamB.alpha=1,this.teamAshort.alpha=1,this.teamBshort.alpha=1,this.backgroundShade.alpha=0,this.bottomShade.alpha=0,this.loadSpinner.rotation=0,this.loadSpinner.scale.set(0),this.background.visible=!0,this.content.visible=!0,this.visible=!0,A.default.playSfx("electro_cute"),this.app.controller.flash(.45,.1),t.next=44,Object(a.tween)(this.lightning.scale,.3,{y:p,ease:"Quad.easeOut",onComplete:function(){b.lightning.filters=[]}});case 44:return A.default.playSfx("crowd_goal_3"),this.contentMask.width=this._width,Object(a.tween)(this.teamA,.8,{x:f,ease:"Quad.easeOut"}),Object(a.tween)(this.teamB,.8,{x:m,ease:"Quad.easeOut"}),Object(a.tween)(this.backgroundShade,1.5,{alpha:1,ease:"Quad.easeOut"}),Object(a.tween)(this.bottomShade,1.5,{alpha:1,ease:"Quad.easeOut"}),Object(a.tween)(this.vs.scale,.35,{x:1.1,y:1.1,ease:"Quad.easeOut",onComplete:function(){b.vs.filters=[],Object(a.tween)(b.vs.scale,8,{x:1.8,y:1.8,ease:"none"})}}),g.b.gameMode===g.a.TOURNAMENT&&(Object(a.tween)(this.flagA,.3,{x:y/3,ease:"Quad.easeOut",onComplete:function(){return Object(a.tween)(b.flagA,6,{x:y,ease:"none"})}}),Object(a.tween)(this.flagB,.3,{x:this._width-(this._width-v)/3,ease:"Quad.easeOut",onComplete:function(){return Object(a.tween)(b.flagB,6,{x:v,ease:"none"})}})),g.b.gameMode===g.a.LEAGUES&&(Object(a.tween)(this.teamAshort,.8,{x:f,ease:"Quad.easeOut",delay:.5}),Object(a.tween)(this.teamBshort,.8,{x:m,ease:"Quad.easeOut",delay:.5}),Object(a.tween)(this.char1A,.75,{x:i,ease:"Quad.easeOut",onComplete:function(){b.char1A.filters=[]}}),Object(a.tween)(this.char0A,.75,{x:o,ease:"Quad.easeOut",delay:.25,onComplete:function(){b.char0A.filters=[]}}),Object(a.tween)(this.char2A,.75,{x:s,ease:"Quad.easeOut",delay:.5,onComplete:function(){b.char2A.filters=[]}}),Object(a.tween)(this.char3A,.75,{x:u,ease:"Quad.easeOut",delay:.75,onComplete:function(){b.char3A.filters=[]}}),Object(a.tween)(this.char1B,.75,{x:c,ease:"Quad.easeOut",delay:.15,onComplete:function(){b.char1B.filters=[]}}),Object(a.tween)(this.char0B,.75,{x:l,ease:"Quad.easeOut",delay:.4,onComplete:function(){b.char0B.filters=[]}}),Object(a.tween)(this.char2B,.75,{x:h,ease:"Quad.easeOut",delay:.65,onComplete:function(){b.char2B.filters=[]}}),Object(a.tween)(this.char3B,.75,{x:d,ease:"Quad.easeOut",delay:.8,onComplete:function(){b.char3B.filters=[]}})),Object(a.delay)(4).then((function(){b.app.game&&b.app.game.hasInit&&b.app.game.contentLoaded||(b.loadSpinner.visible=!0,Object(a.tween)(b.loadSpinner.scale,.4,{x:1,y:1,ease:"Back.easeOut"}),Object(a.tween)(b.loadSpinner,1.25,{rotation:a.Maths.PI_DOUBLE,ease:"none",repeat:-1}))})),t.next=56,Object(a.delay)(3);case 56:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.hide=function(){var t=et(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isBuilt()){t.next=2;break}return t.abrupt("return");case 2:if(this.killTweens(),!this.loadSpinner.visible){t.next=9;break}return t.next=6,Object(a.tween)(this.loadSpinner.scale,.4,{x:0,y:0,ease:"Back.easeIn"});case 6:return t.next=8,Object(a.delay)(.3);case 8:this.loadSpinner.visible=!1;case 9:return this.vsBlurFilter.blur=0,this.exposureOverlay.alpha=0,this.exposureOverlay.visible=!0,Object(a.tween)(this.teamA,.4,{alpha:0,ease:"Quad.easeOut"}),Object(a.tween)(this.teamB,.4,{alpha:0,ease:"Quad.easeOut"}),250,g.b.gameMode===g.a.TOURNAMENT&&(Object(a.tween)(this.flagA,1,{x:this.flagA.x+250,ease:"Back.easeIn"}),Object(a.tween)(this.flagB,1,{x:this.flagB.x-250,ease:"Back.easeIn"})),g.b.gameMode===g.a.LEAGUES&&(Object(a.tween)(this.teamAshort,.4,{alpha:0,ease:"Quad.easeOut"}),Object(a.tween)(this.teamBshort,.4,{alpha:0,ease:"Quad.easeOut"}),Object(a.tween)(this.char1A,1,{x:this.char1A.x+250,ease:"Back.easeIn"}),Object(a.tween)(this.char0A,1,{x:this.char0A.x+250,ease:"Back.easeIn"}),Object(a.tween)(this.char2A,1,{x:this.char2A.x+250,ease:"Back.easeIn"}),Object(a.tween)(this.char3A,1,{x:this.char3A.x+250,ease:"Back.easeIn"}),Object(a.tween)(this.char1B,1,{x:this.char1B.x-250,ease:"Back.easeIn"}),Object(a.tween)(this.char0B,1,{x:this.char0B.x-250,ease:"Back.easeIn"}),Object(a.tween)(this.char2B,1,{x:this.char2B.x-250,ease:"Back.easeIn"}),Object(a.tween)(this.char3B,1,{x:this.char3B.x-250,ease:"Back.easeIn"})),Object(a.tween)(this.vsBlurFilter,.3,{blur:20,delay:.7,ease:"Quad.easeIn"}),Object(a.tween)(this.exposureOverlay,.3,{alpha:1,delay:.7,ease:"Quad.easeIn"}),t.next=21,Object(a.tween)(this.vs.scale,1,{x:10,y:10,ease:"Back.easeIn"});case 21:return this.background.stop(),this.background.visible=!1,this.content.visible=!1,t.next=26,Object(a.tween)(this.exposureOverlay,1,{alpha:0,delay:1,ease:"Quad.easeIn"});case 26:this.visible=!1;case 27:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.positionCharacters=function(){if(this.isBuilt()){var t=this._height/2-150,e=this._height/2/4;this.char2A.position.set(320,t+e),this.char1A.position.set(75,t+2*e),this.char3A.position.set(295.5,t+3*e),this.char0A.position.set(124,t+4*e),this.char1B.position.set(this._width-320,t+e),this.char0B.position.set(this._width-75,t+2*e),this.char3B.position.set(this._width-295.5,t+3*e),this.char2B.position.set(this._width-124,t+4*e)}},s.resize=function(t,e){if(this._width=t,this._height=e,this.isBuilt()){this.background.resize(t,e),this.background.position.set(t/2,e/2),this.exposureOverlay.width=t,this.exposureOverlay.height=e,this.contentMask.height=e,this.contentMask.position.set(t/2,e/2);var n=e/this.lightning.texture.height;this.lightning.scale.set(n),this.lightning.position.set(t/2,e/2),this.backgroundShade.width=t,this.backgroundShade.height=e,this.backgroundShade.position.set(t/2,e/2),this.flagA.position.set(t/5,e/2),this.flagB.position.set(t-t/5,e/2),this.bottomShade.width=t,this.bottomShade.height=e,this.bottomShade.position.set(t/2,e),this.vs.position.set(t/2,e/2),this.teamA.position.set(t/4,e-120),this.teamB.position.set(t-t/4,e-120),this.teamAshort.position.set(t/4,e-70),this.teamBshort.position.set(t-t/4,e-70),this.loadSpinner.position.set(t/2,e-95)}},s.killTweens=function(){this.isBuilt()&&(Object(a.killTweens)(this.lightning.scale),Object(a.killTweens)(this.teamA),Object(a.killTweens)(this.teamB),Object(a.killTweens)(this.backgroundShade),Object(a.killTweens)(this.bottomShade),Object(a.killTweens)(this.vs.scale),Object(a.killTweens)(this.flagA),Object(a.killTweens)(this.flagB),Object(a.killTweens)(this.teamAshort),Object(a.killTweens)(this.teamBshort),Object(a.killTweens)(this.char1A),Object(a.killTweens)(this.char0A),Object(a.killTweens)(this.char2A),Object(a.killTweens)(this.char3A),Object(a.killTweens)(this.char1B),Object(a.killTweens)(this.char0B),Object(a.killTweens)(this.char2B),Object(a.killTweens)(this.char3B),Object(a.killTweens)(this.loadSpinner.scale),Object(a.killTweens)(this.loadSpinner),Object(a.killTweens)(this.exposureOverlay),Object(a.killTweens)(this.vsBlurFilter))},s.clearCharacters=function(){this.char1A&&this.char1A.parent&&(this.char1A.parent.removeChild(this.char1A),this.char1A.destroy()),this.char0A&&this.char0A.parent&&(this.char0A.parent.removeChild(this.char0A),this.char0A.destroy()),this.char2A&&this.char2A.parent&&(this.char2A.parent.removeChild(this.char2A),this.char2A.destroy()),this.char3A&&this.char3A.parent&&(this.char3A.parent.removeChild(this.char3A),this.char3A.destroy()),this.char1B&&this.char1B.parent&&(this.char1B.parent.removeChild(this.char1B),this.char1B.destroy()),this.char0B&&this.char0B.parent&&(this.char0B.parent.removeChild(this.char0B),this.char0B.destroy()),this.char2B&&this.char2B.parent&&(this.char2B.parent.removeChild(this.char2B),this.char2B.destroy()),this.char3B&&this.char3B.parent&&(this.char3B.parent.removeChild(this.char3B),this.char3B.destroy()),this.char1A=null,this.char0A=null,this.char2A=null,this.char3A=null,this.char1B=null,this.char0B=null,this.char2B=null,this.char3B=null},i}(o.Container);function ot(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function st(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){ot(a,r,i,o,s,"next",t)}function s(t){ot(a,r,i,o,s,"throw",t)}o(void 0)}))}}function ut(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ct=function(){function t(t){ut(this,"app",void 0),ut(this,"view",void 0),ut(this,"shade",void 0),ut(this,"exposure",void 0),ut(this,"screenBlurFilter",void 0),ut(this,"loadSpinner",void 0),ut(this,"header",void 0),ut(this,"breadcrumb",void 0),ut(this,"adBanner",void 0),ut(this,"pageantry",void 0),ut(this,"width",void 0),ut(this,"height",void 0),this.app=t}var e=t.prototype;return e.init=function(){this.app.resize.onResize.connect(this.resize.bind(this))},e.setup=function(){this.view=new o.Container,this.app.screens.view.addChild(this.view),this.screenBlurFilter=new o.filters.BlurFilter,this.screenBlurFilter.blur=0,this.shade=new o.Sprite(o.Texture.WHITE),this.shade.tint=0,this.shade.alpha=0,this.shade.interactive=!0,this.shade.visible=!1,this.app.screens.view.addChildAt(this.shade,this.app.screens.view.children.indexOf(this.app.screens.overlay.view)),this.header=new q(this.app),this.view.addChild(this.header),this.breadcrumb=new E(this.app),this.view.addChild(this.breadcrumb),this.adBanner=new p,this.view.addChild(this.adBanner),this.loadSpinner=o.Sprite.from("loading-wheel-white.png"),this.loadSpinner.anchor.set(.5),this.loadSpinner.scale.set(.4),this.loadSpinner.alpha=.6,this.view.addChild(this.loadSpinner),this.loadSpinner.visible=!1,this.pageantry=new at(this.app),this.view.addChild(this.pageantry),this.exposure=new o.Sprite(o.Texture.WHITE),this.exposure.alpha=0,this.exposure.interactive=!0,this.exposure.visible=!1,this.exposure.blendMode=o.BLEND_MODES.ADD,this.view.addChild(this.exposure),this.adBanner.visible=!1,this.pageantry.visible=!1,this.resize(this.width,this.height)},e.flash=function(){var t=st(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=.3),this.exposure.alpha=0,this.exposure.visible=!0,t.next=5,Object(a.tween)(this.exposure,e/2,{alpha:1,ease:"Quad.easeOut",repeat:1,yoyo:!0});case 5:this.exposure.visible=!1;case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),e.blur=function(){var t=st(regeneratorRuntime.mark((function t(e,n){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===n&&(n=1),!(i.a.device.lowSpec||r.a.mobile||r.a.ie)){t.next=3;break}return t.abrupt("return");case 3:return o=this.app.screens.main.view,e>0&&(!o.filters||-1===o.filters.indexOf(this.screenBlurFilter))&&!r.a.mobile&&!r.a.ie&&(o.filters=[this.screenBlurFilter]),t.next=7,Object(a.tween)(this.screenBlurFilter,n,{blur:e,ease:"Quad.easeOut"});case 7:0===e&&(o.filters=[]);case 8:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.darken=function(){var t=st(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=1),e>0&&!this.shade.visible&&(this.shade.visible=!0),t.next=4,Object(a.tween)(this.shade,n,{alpha:e,ease:"Quad.easeOut"});case 4:0===e&&(this.shade.visible=!1);case 5:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),e.showSpinner=function(){var t=st(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y.c.killTweensOf(this.loadSpinner.scale),y.c.killTweensOf(this.loadSpinner),this.loadSpinner.rotation=0,this.loadSpinner.scale.set(0),this.loadSpinner.visible=!0,Object(a.tween)(this.loadSpinner,2,{rotation:a.Maths.PI_DOUBLE,ease:"none",repeat:-1}),t.next=8,Object(a.tween)(this.loadSpinner.scale,.5,{x:.4,y:.4,ease:"Back.easeOut"});case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.hideSpinner=function(){var t=st(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return y.c.killTweensOf(this.loadSpinner.scale),t.next=3,Object(a.tween)(this.loadSpinner.scale,.5,{x:0,y:0,ease:"Back.easeIn"});case 3:this.loadSpinner.visible=!1,y.c.killTweensOf(this.loadSpinner);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.resize=function(t,e){if(this.width=t,this.height=e,this.header){this.shade.width=t,this.shade.height=e,this.exposure.width=t,this.exposure.height=e,this.header.resize(t,e),this.breadcrumb.resize(t,e),this.adBanner.resize(t,e),this.pageantry.resize(t,e);this.loadSpinner.y=e-this.loadSpinner.height/2-10,this.loadSpinner.x=t-this.loadSpinner.width/2-10}},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n(5),n(19);var r=n(14),i=n(0);n(23),n(29),n(30),n(15),n(22),n(20),n(33),n(35);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=h(t);if(e){var i=h(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l(this,n)}}function l(t,e){if(e&&("object"===a(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&u(t,e)}(l,t);var e,n,r,a=c(l);function l(){var t,e,n,r,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,l),(t=a.call(this)).barWidth=null!==(e=i.width)&&void 0!==e?e:100;var s=t.getPixiObject(i.bg,t.barWidth),u=t.getPixiObject(i.frame,t.barWidth),c=t.getPixiObject(null!==(n=i.bar)&&void 0!==n?n:16711680,t.barWidth);void 0!==i.frameTint&&(u.tint=4144959),t._easing=null!==(r=i.easing)&&void 0!==r?r:1,t._easeRatio=0,t._ratio=0,s&&(t.bg=s,t.addChild(s)),c&&(t.addChild(c),t.bar=c),u&&(u.width>c.width&&(u.x=-(u.width-c.width)/2),u.height>c.height&&(u.y=-(u.height-c.height)/2),t.addChild(u));var h=t.getPixiObject(i.mask,t.barWidth);return h&&(t._barMask=h,t.addChild(t._barMask),t.bar.mask=t._barMask,t._barMask.x-=t.bar.width),t}return e=l,(n=[{key:"updateTransform",value:function(){this._easeRatio+=(this._ratio-this._easeRatio)*this._easing,this.bar&&!this._barMask?this.bar.scale.x=this._easeRatio:this._barMask&&(this._barMask.x=-this._barMask.width+this._barMask.width/100*(100*this._easeRatio)),this.containerUpdateTransform()}},{key:"getPixiObject",value:function(t,e){return"number"==typeof t?(new i.Graphics).beginFill(t).drawRect(0,0,e,40):"string"==typeof t?i.Sprite.from(t):t}},{key:"ratio",get:function(){return this._ratio},set:function(t){this._ratio=Math.max(Math.min(t,1),0)}}])&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),l}(i.Container);function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var f=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.view=new i.Container,this.bar=new d({bg:0,bar:16711680,width:300}),this.view.addChild(this.bar)}var e,n,a;return e=t,(n=[{key:"updateProgress",value:function(t){this.bar.ratio=t}},{key:"show",value:function(){this.view.alpha=0,r.c.to(this.view,.4,{alpha:1})}},{key:"hide",value:function(){var t=this;return new Promise((function(e){r.c.to(t.view,.4,{alpha:0,onComplete:e})}))}},{key:"resize",value:function(t,e){this.bar.x=t/2-this.bar.barWidth/2,this.bar.y=e/2}}])&&p(e.prototype,n),a&&p(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(589),a=n(590);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}e.parse=_,e.resolve=function(t,e){return _(t,!1,!0).resolve(e)},e.resolveObject=function(t,e){return t?_(t,!1,!0).resolveObject(e):e},e.format=function(t){a.isString(t)&&(t=_(t));return t instanceof o?t.format():o.prototype.format.call(t)},e.Url=o;var s=/^([a-z0-9.+-]+:)/i,u=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),h=["'"].concat(l),d=["%","/","?",";","#"].concat(h),p=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},y={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},b=n(591);function _(t,e,n){if(t&&a.isObject(t)&&t instanceof o)return t;var r=new o;return r.parse(t,e,n),r}o.prototype.parse=function(t,e,n){if(!a.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+r(t));var o=t.indexOf("?"),u=-1!==o&&o<t.indexOf("#")?"?":"#",l=t.split(u);l[0]=l[0].replace(/\\/g,"/");var _=t=l.join(u);if(_=_.trim(),!n&&1===t.split("#").length){var w=c.exec(_);if(w)return this.path=_,this.href=_,this.pathname=w[1],w[2]?(this.search=w[2],this.query=e?b.parse(this.search.substr(1)):this.search.substr(1)):e&&(this.search="",this.query={}),this}var x=s.exec(_);if(x){var S=(x=x[0]).toLowerCase();this.protocol=S,_=_.substr(x.length)}if(n||x||_.match(/^\/\/[^@\/]+@[^@\/]+/)){var T="//"===_.substr(0,2);!T||x&&y[x]||(_=_.substr(2),this.slashes=!0)}if(!y[x]&&(T||x&&!v[x])){for(var M,E,A=-1,k=0;k<p.length;k++){-1!==(C=_.indexOf(p[k]))&&(-1===A||C<A)&&(A=C)}-1!==(E=-1===A?_.lastIndexOf("@"):_.lastIndexOf("@",A))&&(M=_.slice(0,E),_=_.slice(E+1),this.auth=decodeURIComponent(M)),A=-1;for(k=0;k<d.length;k++){var C;-1!==(C=_.indexOf(d[k]))&&(-1===A||C<A)&&(A=C)}-1===A&&(A=_.length),this.host=_.slice(0,A),_=_.slice(A),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var L=this.hostname.split(/\./),R=(k=0,L.length);k<R;k++){var P=L[k];if(P&&!P.match(f)){for(var D="",I=0,B=P.length;I<B;I++)P.charCodeAt(I)>127?D+="x":D+=P[I];if(!D.match(f)){var N=L.slice(0,k),j=L.slice(k+1),F=P.match(m);F&&(N.push(F[1]),j.unshift(F[2])),j.length&&(_="/"+j.join(".")+_),this.hostname=N.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=i.toASCII(this.hostname));var U=this.port?":"+this.port:"",Y=this.hostname||"";this.host=Y+U,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==_[0]&&(_="/"+_))}if(!g[S])for(k=0,R=h.length;k<R;k++){var G=h[k];if(-1!==_.indexOf(G)){var H=encodeURIComponent(G);H===G&&(H=escape(G)),_=_.split(G).join(H)}}var z=_.indexOf("#");-1!==z&&(this.hash=_.substr(z),_=_.slice(0,z));var V=_.indexOf("?");if(-1!==V?(this.search=_.substr(V),this.query=_.substr(V+1),e&&(this.query=b.parse(this.query)),_=_.slice(0,V)):e&&(this.search="",this.query={}),_&&(this.pathname=_),v[S]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var W=this.search||"";this.path=U+W}return this.href=this.format(),this},o.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var e=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=t+this.host:this.hostname&&(i=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&a.isObject(this.query)&&Object.keys(this.query).length&&(o=b.stringify(this.query));var s=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||v[e])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),e+i+(n=n.replace(/[?#]/g,(function(t){return encodeURIComponent(t)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(t){return this.resolveObject(_(t,!1,!0)).format()},o.prototype.resolveObject=function(t){if(a.isString(t)){var e=new o;e.parse(t,!1,!0),t=e}for(var n=new o,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];n[s]=this[s]}if(n.hash=t.hash,""===t.href)return n.href=n.format(),n;if(t.slashes&&!t.protocol){for(var u=Object.keys(t),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=t[l])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(t.protocol&&t.protocol!==n.protocol){if(!v[t.protocol]){for(var h=Object.keys(t),d=0;d<h.length;d++){var p=h[d];n[p]=t[p]}return n.href=n.format(),n}if(n.protocol=t.protocol,t.host||y[t.protocol])n.pathname=t.pathname;else{for(var f=(t.pathname||"").split("/");f.length&&!(t.host=f.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}if(n.search=t.search,n.query=t.query,n.host=t.host||"",n.auth=t.auth,n.hostname=t.hostname||t.host,n.port=t.port,n.pathname||n.search){var m=n.pathname||"",g=n.search||"";n.path=m+g}return n.slashes=n.slashes||t.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),_=t.host||t.pathname&&"/"===t.pathname.charAt(0),w=_||b||n.host&&t.pathname,x=w,S=n.pathname&&n.pathname.split("/")||[],T=(f=t.pathname&&t.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(T&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===f[0]?f[0]=t.host:f.unshift(t.host)),t.host=null),w=w&&(""===f[0]||""===S[0])),_)n.host=t.host||""===t.host?t.host:n.host,n.hostname=t.hostname||""===t.hostname?t.hostname:n.hostname,n.search=t.search,n.query=t.query,S=f;else if(f.length)S||(S=[]),S.pop(),S=S.concat(f),n.search=t.search,n.query=t.query;else if(!a.isNullOrUndefined(t.search)){if(T)n.hostname=n.host=S.shift(),(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift());return n.search=t.search,n.query=t.query,a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var M=S.slice(-1)[0],E=(n.host||t.host||S.length>1)&&("."===M||".."===M)||""===M,A=0,k=S.length;k>=0;k--)"."===(M=S[k])?S.splice(k,1):".."===M?(S.splice(k,1),A++):A&&(S.splice(k,1),A--);if(!w&&!x)for(;A--;A)S.unshift("..");!w||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),E&&"/"!==S.join("/").substr(-1)&&S.push("");var C,O=""===S[0]||S[0]&&"/"===S[0].charAt(0);T&&(n.hostname=n.host=O?"":S.length?S.shift():"",(C=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=C.shift(),n.host=n.hostname=C.shift()));return(w=w||n.host&&S.length)&&!O&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),a.isNull(n.pathname)&&a.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=t.auth||n.auth,n.slashes=n.slashes||t.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var t=this.host,e=u.exec(t);e&&(":"!==(e=e[0])&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e,n){var r=n(48).Const.PLAYER_STATE,i={dx:0,dy:0,player:null};t.exports=function(t,e){for(var n,a=e.children,o=1/0,s=a[0],u=0,c=0,l=0;l<a.length;l++)if((n=a[l])!==t&&n.state!==r.FALL){var h=n.position.x-t.position.x,d=n.position.y-t.position.y,p=Math.sqrt(h*h+d*d)||1e-9;h/=p,d/=p,p<o&&(u=h,c=d,s=n,o=p)}return i.dx=u,i.dy=c,i.len=o,i.player=s,i}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={iPhoneX:{match:"device:iPhoneX",stage:{clearBeforeRender:!1,resolution:2,antialias:!0}},iPhone6:{match:"device:iPhone6",stage:{clearBeforeRender:!0,resolution:1.5,antialias:!0},resource:{version:"high"}},galaxyS5:{match:"device:S5",stage:{clearBeforeRender:!0,resolution:2,antialias:!1},resource:{version:"high"}},androidTablet:{match:"model:tablet--os:android",stage:{clearBeforeRender:!0,resolution:1,antialias:!0},resource:{version:"high"}}}},,function(t,e,n){var r=n(152),i=n(278);(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.13.0",mode:r?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e,n){var r,i,a=n(54),o=n(229),s=a.process,u=s&&s.versions,c=u&&u.v8;c?i=(r=c.split("."))[0]<4?1:r[0]+r[1]:o&&(!(r=o.match(/Edge\/(\d+)/))||r[1]>=74)&&(r=o.match(/Chrome\/(\d+)/))&&(i=r[1]),t.exports=i&&+i},function(t,e,n){var r=n(153);t.exports=r("navigator","userAgent")||""},function(t,e,n){var r=n(227),i=n(203),a=r("keys");t.exports=function(t){return a[t]||(a[t]=i(t))}},function(t,e,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);e.f=a?function(t){var e=i(this,t);return!!e&&e.enumerable}:r},function(t,e,n){var r=n(131),i=n(97),a=n(191),o=function(t){return function(e,n,o){var s,u=r(e),c=i(u.length),l=a(o,c);if(t&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},function(t,e,n){var r=n(118);t.exports=function(t,e,n){for(var i in e)r(t,i,e[i],n);return t}},function(t,e,n){var r=n(86)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},t(a)}catch(t){}return n}},function(t,e,n){"use strict";var r=n(50);t.exports=function(t,e){var n=[][t];return!!n&&r((function(){n.call(null,e||function(){throw 1},1)}))}},function(t,e,n){var r=n(178);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,n){"use strict";var r,i,a=n(289),o=n(290),s=n(227),u=RegExp.prototype.exec,c=s("native-string-replace",String.prototype.replace),l=u,h=(r=/a/,i=/b*/g,u.call(r,"a"),u.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),d=o.UNSUPPORTED_Y||o.BROKEN_CARET,p=void 0!==/()??/.exec("")[1];(h||p||d)&&(l=function(t){var e,n,r,i,o=this,s=d&&o.sticky,l=a.call(o),f=o.source,m=0,g=t;return s&&(-1===(l=l.replace("y","")).indexOf("g")&&(l+="g"),g=String(t).slice(o.lastIndex),o.lastIndex>0&&(!o.multiline||o.multiline&&"\n"!==t[o.lastIndex-1])&&(f="(?: "+f+")",g=" "+g,m++),n=new RegExp("^(?:"+f+")",l)),p&&(n=new RegExp("^"+f+"$(?!\\s)",l)),h&&(e=o.lastIndex),r=u.call(s?n:o,g),s?r?(r.input=r.input.slice(m),r[0]=r[0].slice(m),r.index=o.lastIndex,o.lastIndex+=r[0].length):o.lastIndex=0:h&&r&&(o.lastIndex=o.global?r.index+r[0].length:e),p&&r&&r.length>1&&c.call(r[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)})),r}),t.exports=l},function(t,e,n){"use strict";n(38);var r=n(118),i=n(237),a=n(50),o=n(86),s=n(125),u=o("species"),c=RegExp.prototype,l=!a((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")})),h="$0"==="a".replace(/./,"$0"),d=o("replace"),p=!!/./[d]&&""===/./[d]("a","$0"),f=!a((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2!==n.length||"a"!==n[0]||"b"!==n[1]}));t.exports=function(t,e,n,d){var m=o(t),g=!a((function(){var e={};return e[m]=function(){return 7},7!=""[t](e)})),y=g&&!a((function(){var e=!1,n=/a/;return"split"===t&&((n={}).constructor={},n.constructor[u]=function(){return n},n.flags="",n[m]=/./[m]),n.exec=function(){return e=!0,null},n[m](""),!e}));if(!g||!y||"replace"===t&&(!l||!h||p)||"split"===t&&!f){var v=/./[m],b=n(m,""[t],(function(t,e,n,r,a){var o=e.exec;return o===i||o===c.exec?g&&!a?{done:!0,value:v.call(e,n,r)}:{done:!0,value:t.call(n,e,r)}:{done:!1}}),{REPLACE_KEEPS_$0:h,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:p}),_=b[0],w=b[1];r(String.prototype,t,_),r(c,m,2==e?function(t,e){return w.call(t,this,e)}:function(t){return w.call(t,this)})}d&&s(c[m],"sham",!0)}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(178),a=n(237);t.exports=function(t,e){var n=t.exec;if("function"==typeof n){var o=n.call(t,e);if("object"!==r(o))throw TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw TypeError("RegExp#exec called on incompatible receiver");return a.call(t,e)}},function(t,e,n){var r=n(98),i=n(192);t.exports=function(t,e,n){var a,o;return i&&"function"==typeof(a=e.constructor)&&a!==n&&r(o=a.prototype)&&o!==n.prototype&&i(t,o),t}},function(t,e,n){var r=n(120),i=/"/g;t.exports=function(t,e,n,a){var o=String(r(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(a).replace(i,"&quot;")+'"'),s+">"+o+"</"+e+">"}},function(t,e,n){var r=n(50);t.exports=function(t){return r((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e,n){n(183)("Uint8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){"use strict";var r=n(41),i=n(241);r({target:"String",proto:!0,forced:n(242)("sub")},{sub:function(){return i(this,"sub","","")}})},function(t,e,n){var r;void 0===(r=function(t,e,n){var r=function t(e,n){this.x=e||0,this.y=n||0,this.id=t._UID++};r._UID=0,r.prototype.clone=function(){return new r(this.x,this.y)},r.prototype.plus=function(t){return this.x+=t.x,this.y+=t.y,this},r.prototype.minus=function(t){return this.x-=t.x,this.y-=t.y,this},r.prototype.invert=function(t){return this.x*=-1,this.y*=-1,this},r.prototype.multiply=r.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},r.prototype.divideScalar=function(t){if(0===t)this.x=0,this.y=0;else{var e=1/t;this.x*=e,this.y*=e}return this},r.prototype.dot=function(t){return this.x*t.x+this.y*t.y},r.prototype.length=function(t){return Math.sqrt(this.x*this.x+this.y*this.y)},r.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},r.prototype.normalize=function(){return this.divideScalar(this.length())},r.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSq(t))},r.prototype.distanceToSq=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},r.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},r.prototype.setX=function(t){return this.x=t,this},r.prototype.setY=function(t){return this.y=t,this},r.prototype.setLength=function(t){var e=this.length();return 0!==e&&t!==e&&this.multiplyScalar(t/e),this},r.prototype.invert=function(t){return this.x*=-1,this.y*=-1,this},r.prototype.lerp=function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},r.prototype.rad=function(){return Math.atan2(this.x,this.y)},r.prototype.deg=function(){return 180*this.rad()/Math.PI},r.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},r.prototype.rotate=function(t){var e=this.x;return this.x=this.x*Math.cos(t)-this.y*Math.sin(t),this.y=e*Math.sin(t)+this.y*Math.cos(t),this},r.projectPoint=function(t,e){var n=new r(0,0);return r.project(t.clone().minus(n),e).clone().plus(n)},r.project=function(t,e){var n=new r(0,0),i=t.dot(e);return n.x=i/(e.x*e.x+e.y*e.y)*e.x,n.y=i/(e.x*e.x+e.y*e.y)*e.y,n},r.prototype.constructor=r,n.exports=r}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){(function(r){var i;void 0===(i=function(t,e,r){var i=n(0),a=n(47),o=n(245),s=function t(e){this.type=t.DYNAMIC,this.shape=e,this.passthrough=!1,this.currentSurface=null,this.position=new i.Point,this.timeScale=1,this.velocity=new o,this.acceleration=new o,this.bounce=0,this.maxSpeed=3,this.maxSpeedY=3,this.gravity=0,this.friction=.9,this.sleeping=!1,this.solid=!0,this.active=!0,this.remainder=0,this.flip=1};s.prototype.setMaxSpeed=function(t){this.maxSpeed=this.maxSpeedY=t},s.prototype.update=function(t){this.active&&(this.velocity.x+=this.acceleration.x*t,this.velocity.y+=this.acceleration.y*t,this.velocity.y*=this.friction,this.velocity.x*=this.friction,this.velocity.y+=this.gravity*this.timeScale,this.velocity.x=a.cap(this.velocity.x,-this.maxSpeed,this.maxSpeed),this.velocity.y=a.cap(this.velocity.y,-this.maxSpeedY,this.maxSpeedY),this.position.x+=this.velocity.x*this.timeScale*t,this.position.y+=this.velocity.y*this.timeScale*t)},s.prototype.reset=function(){this.velocity.x=0,this.velocity.y=0,this.acceleration.x=0,this.acceleration.y=0,this.remainder=0,this.active=!0},s.prototype.getDebugView=function(t){var e=this.shape;t=t||u[this.type];return(new i.Graphics).beginFill(t).drawRect(e.x,e.y,e.width,e.height)},s.fromRect=function(t,e,n,r){return new s(new i.Rectangle(t,e,n,r))},s.STATIC=0,s.KINIMATIC=1,s.DYNAMIC=2,s.NONE=3;var u=[4602488,16776960,16711680,255];r.exports=s}.call(e,n,e,t))||(t.exports=i)}).call(this,n(0))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(1),i=n(2),a=n(40),o={tec:{id:"tec",name:"STR_SUPERSQUAD_TECH_NERDS",abbreviation:"STR_SUPERSQUAD_TECH_NERDS_ABV",members:{first:"bmo",second:"ben10",third:"cyborg",fourth:"batgirl"},weight:1,cooldown:0},shg:{id:"shg",name:"STR_SUPERSQUAD_SUPER_HERO_GIRLS_SQUAD",abbreviation:"STR_SUPERSQUAD_SUPER_HERO_GIRLS_SQUAD_ABV",members:{first:"wonderwoman",second:"starfire",third:"batgirl",fourth:"supergirl"},weight:1,cooldown:0},gps:{id:"gps",name:"STR_SUPERSQUAD_GIRL_POWER_SQUAD",abbreviation:"STR_SUPERSQUAD_GIRL_POWER_SQUAD_ABV",members:{first:"kelsey",second:"raven",third:"bubbles",fourth:"supergirl"},weight:1,cooldown:0},pps:{id:"pps",name:"STR_SUPERSQUAD_PINK_POWER_SQUAD",abbreviation:"STR_SUPERSQUAD_PINK_POWER_SQUAD_ABV",members:{first:"anais",second:"princess_bubblegum",third:"blossom",fourth:"starfire"},weight:1,cooldown:0},bro:{id:"bro",name:"STR_SUPERSQUAD_BRO_SQUAD",abbreviation:"STR_SUPERSQUAD_BRO_SQUAD_ABV",members:{first:"jake",second:"robin",third:"gumball",fourth:"ben10"},weight:1,cooldown:0},btb:{id:"btb",name:"STR_SUPERSQUAD_BEASTY_BUNCH_SQUAD",abbreviation:"STR_SUPERSQUAD_BEASTY_BUNCH_SQUAD_ABV",members:{first:"fourarms",second:"jake",third:"mojo",fourth:"beastboy"},weight:1,cooldown:0},mdy:{id:"mdy",name:"STR_SUPERSQUAD_MOODY_SQUAD",abbreviation:"STR_SUPERSQUAD_MOODY_SQUAD_ABV",members:{first:"buttercup",second:"marceline",third:"raven",fourth:"baby_ice_bear"},weight:1,cooldown:0},bgs:{id:"bgs",name:"STR_SUPERSQUAD_BUBBLEGUMBALL_SQUAD",abbreviation:"STR_SUPERSQUAD_BUBBLEGUMBALL_SQUAD_ABV",members:{first:"bubbles",second:"princess_bubblegum",third:"gumball",fourth:"anais"},weight:1,cooldown:0},bnc:{id:"bnc",name:"STR_SUPERSQUAD_BIRDS_N_CAPES",abbreviation:"STR_SUPERSQUAD_BIRDS_N_CAPES_ABV",members:{first:"kelsey",second:"raven",third:"robin",fourth:"supergirl"},weight:1,cooldown:0},hum:{id:"hum",name:"STR_SUPERSQUAD_HUMAN_SQUAD",abbreviation:"STR_SUPERSQUAD_HUMAN_SQUAD_ABV",members:{first:"ben10",second:"craig",third:"finn",fourth:"jp"},weight:1,cooldown:0},tem:{id:"tem",name:"STR_SUPERSQUAD_TEAM_TEMPER",abbreviation:"STR_SUPERSQUAD_TEAM_TEMPER_ABV",members:{first:"buttercup",second:"mojo",third:"robin",fourth:"fourarms"},weight:1,cooldown:0},cyb:{id:"cyb",name:"STR_SUPERSQUAD_CYBER_SQUAD",abbreviation:"STR_SUPERSQUAD_CYBER_SQUAD_ABV",members:{first:"bmo",second:"cyborg",third:"ben10",fourth:"xlr8"},weight:1,cooldown:0},hgs:{id:"hgs",name:"STR_SUPERSQUAD_HAIR_GOALS",abbreviation:"STR_SUPERSQUAD_HAIR_GOALS_ABV",members:{first:"starfire",second:"blossom",third:"wonderwoman",fourth:"jessica"},weight:1,cooldown:0},ttb:{id:"ttb",name:"STR_SUPERSQUAD_TEEN_TITANS_BRO_SQUAD",abbreviation:"STR_SUPERSQUAD_TEEN_TITANS_BRO_SQUAD_ABV",members:{first:"beastboy",second:"robin",third:"cyborg",fourth:"bmo"},weight:1,cooldown:0},ttg:{id:"ttg",name:"STR_SUPERSQUAD_TEEN_TITANS_GO_SQUAD",abbreviation:"STR_SUPERSQUAD_TEEN_TITANS_GO_SQUAD_ABV",members:{first:"robin",second:"starfire",third:"raven",fourth:"beastboy"},weight:1,cooldown:0},tgl:{id:"tgl",name:"STR_SUPERSQUAD_TEEN_TITANS_GOAL_SQUAD",abbreviation:"STR_SUPERSQUAD_TEEN_TITANS_GOAL_SQUAD_ABV",members:{first:"beastboy",second:"starfire",third:"raven",fourth:"robin"},weight:1,cooldown:0},ccs:{id:"ccs",name:"STR_SUPERSQUAD_CRAIG_OF_THE_CREEK_SQUAD",abbreviation:"STR_SUPERSQUAD_CRAIG_OF_THE_CREEK_SQUAD_ABV",members:{first:"jessica",second:"craig",third:"kelsey",fourth:"jp"},weight:1,cooldown:0},gbs:{id:"gbs",name:"STR_SUPERSQUAD_GUMBALL_SQUAD",abbreviation:"STR_SUPERSQUAD_GUMBALL_SQUAD_ABV",members:{first:"tobias",second:"gumball",third:"darwin",fourth:"richard"},weight:1,cooldown:0},bea:{id:"bea",name:"STR_SUPERSQUAD_BEAR_SQUAD",abbreviation:"STR_SUPERSQUAD_BEAR_SQUAD_ABV",members:{first:"baby_panda",second:"baby_ice_bear",third:"baby_grizz",fourth:"wonderwoman"},weight:1,cooldown:0}},s=function(){var t=r.Params.get("forceSupersquad",void 0);if(t)return o[t];var e=[],n=0;for(var i in o){var a=o[i];if(0===a.cooldown){if(u(a)||c(a))continue;e.push(a),n+=a.weight}else a.cooldown--}r.Random.shuffle(e);for(var s=Math.random()*n,l=0,h=0;h<e.length;h++){var d=e[h];if(s<=(l+=d.weight))return d.cooldown=3,d}return alert("NO MORE SUPERSQUADS DUE TO DUPLICATES / GEOLOCKS"),null};function u(t){for(var e in t.members)for(var n=t.members[e],r=0;r<i.b.teamA.length;r++)if(n===i.b.teamA[r].id)return!0;return!1}function c(t){for(var e in t.members){if(a.a[t.members[e]].geoLocked)return!0}return!1}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(28),i=n(1),a=n(8);function o(){return window.hasOwnProperty("userlangOverride")?window.userlangOverride:r.a.userlang[a.a.settings.language]}var s={APP_LOADED:void 0,APP_STARTED:function(){return{interaction:"game start",gamestart:1,userlang:o()+"|default"}},APP_EXITED:function(){return{}},APP_INITIAL_LANGUAGE_SELECTED:function(t){return{language_id:t.language_id,interaction:"init language",init_language_selected:1,userlang:o()+"|default"}},APP_LANGUAGE_SELECTED:function(t){return{language_id:t.language_id,interaction:"language selected",language_selected:1,userlang:o()+"|settings"}},APP_MAIN_MENU_LOADED:function(){return{interaction:"main menu loaded",main_menu_loaded:1}},APP_TIME_SPENT_INTERVAL:void 0,MENU_TOURNAMENT_SELECTED:function(){return{interaction:"tournament button",tournament_button:1}},MENU_TOON_LEAGUES_SELECTED:function(){return{interaction:"toon leagues button",toonleagues_button:1}},MENU_UNLOCKABLES_SELECTED:function(){return{interaction:"unlockables button",unlockables_button:1}},MENU_LEADERBOARD_SELECTED:function(){return{interaction:"leaderboard button",leaderboard_button:1}},MENU_CHALLENGES_SELECTED:function(){return{interaction:"daily challenge",dailychallenge:1}},MENU_SETTINGS_SELECTED:function(){return{interaction:"settings button",settings_button:1}},SETTINGS_GENERAL_SELECTED:function(){return{interaction:"general tab",general_tab:1}},SETTINGS_CONTROLS_SELECTED:function(){return{interaction:"control tab",control_tab:1}},SETTINGS_LEGAL_SELECTED:function(){return{interaction:"legal tab",legal_tab:1}},CONTROLS_CLASSIC_SELECTED:function(){return{interaction:"controls classic",controls_classic:1}},CONTROLS_SWIPE_SELECTED:function(){return{interaction:"controls swipe",controls_swipe:1}},TOURNAMENT_COUNTRY_SELECTED:function(t){return{country_id:t.country_id,interaction:"country selection",country_selected:1}},PLAYER_SELECTED:function(t){var e={player_id:t.player_id};return t.captain_selected?(e.interaction="captain selection",e.captain_selected=1):t.player_2_selected?(e.interaction="player 2 selection",e.player_2_selected=1):t.player_3_selected?(e.interaction="player 3 selection",e.player_3_selected=1):t.keeper_selected&&(e.interaction="goalie selection",e.goalie_selected=1),e},LEADERBOARD_TOURNAMENT_SELECTED:function(){return{interaction:"tournament tab",tournament_tab:1}},LEADERBOARD_TODAY_SELECTED:function(){return{interaction:"today tab",today_tab:1}},LEADERBOARD_THIS_WEEK_SELECTED:function(){return{interaction:"this week tab",thisweek_tab:1}},LEADERBOARD_HALL_OF_FAME_SELECTED:function(){return{interaction:"hall of fame tab",halloffame_tab:1}},USER_STATS_SELECTED:function(){return{interaction:"my progress button",myprogress_button:1}},UNLOCKABLES_CHARACTERS_SCREEN_SELECTED:function(){return{interaction:"characters",characters:1}},UNLOCKABLES_STADIUMS_SCREEN_SELECTED:function(){return{interaction:"stadiums",stadiums:1}},UNLOCKABLES_BALLS_SCREEN_SELECTED:function(){return{interaction:"balls",balls:1}},UNLOCKABLES_KITS_SCREEN_SELECTED:function(){return{interaction:"kits",kits:1}},UNLOCKABLES_REWARDS_SCREEN_SELECTED:function(){return{interaction:"rewards",rewards:1}},UNLOCKABLES_STATS_SCREEN_SELECTED:function(){return{interaction:"stats",stats:1}},UNLOCKABLES_CHARACTER_UNLOCKED:function(t){return{playerid:t.characterId,interaction:"player unlock",player_unlock:1}},UNLOCKABLES_STADIUM_UNLOCKED:function(t){return{stadiumid:t.stadiumId,interaction:"stadium unlock",stadium_unlocked:1}},UNLOCKABLES_KIT_UNLOCKED:function(t){return{kitid:t.kitId,interaction:"kit unlock",kit_unlocked:1}},UNLOCKABLES_BALL_UNLOCKED:function(t){return{ballid:t.ballId,interaction:"ball_unlocked",ball_unlocked:1}},UNLOCKABLES_CHARACTER_SELECTED_FOR_UPGRADE:function(t){return{playerid:t.characterId,interaction:"stats upgrade",stats_upgrade:1}},UNLOCKABLES_STAT_UPGRADED:function(t){return{playerid:t.characterId,stat_type:t.stat,interaction:"stats upgrade type",stats_upgrade_type:1}},UNLOCKABLES_STADIUM_SELECTED:function(t){return{stadiumid:t.stadiumId,interaction:"stadium select",stadium_select:1}},UNLOCKABLES_KIT_SELECTED:function(t){return{kitid:t.kitId,interaction:"kit select",kit_select:1}},UNLOCKABLES_BALL_SELECTED:function(t){return{ballid:t.ballId,interaction:"playable ball",playable_ball:1}},MENU_HELP_SELECTED:function(){return{interaction:"how to play",how_to_play:1,gamemode:u()}},TUTORIAL_STARTED:function(){return{interaction:"tutorial start",tutorial_start:1,gamemode:u()}},TUTORIAL_STEP_ADVANCED:function(t){return{step:t.step,interaction:"tutorial step",tutorial:1,gamemode:u()}},TUTORIAL_ENDED:function(){return{interaction:"tutorial end",tutorial_end:1,gamemode:u()}},TUTORIAL_SKIPPED:function(){return{interaction:"tutorial skip",tutorial_skip:1,gamemode:u()}},GAME_TOURNAMENT_WON:function(){return{interaction:"game complete",gamelevel:"nvs",gamecomplete:1}},GAME_TOURNAMENT_EXIT:function(){return{interaction:"game exit",gamelevel:"nvs",gameexit:1}},GAME_STAR_LEAGUE_COMPLETED:function(){return{interaction:"star league complete",star_league_complete:1}},GAME_ACE_LEAGUE_COMPLETED:function(){return{interaction:"ace league complete",ace_league_complete:1}},GAME_PRO_LEAGUE_COMPLETED:function(){return{interaction:"pro league complete",pro_league_complete:1}},GAME_WORLD_LEAGUE_COMPLETED:function(){return{interaction:"world league complete",world_league_complete:1}},GAME_EPIC_LEAGUE_COMPLETED:function(){return{interaction:"epic league complete",epic_league_complete:1}},GAME_ULTRA_LEAGUE_COMPLETED:function(){return{interaction:"ultra league complete",ultra_league_complete:1}},GAME_MATCH_STARTED:function(t){return{match_type:t.match_type,interaction:"start match",start_match:1,gamemode:u()}},GAME_MATCH_EXITED:function(t){return{match_type:t.match_type,score:t.score,gametimetotal:t.gameTime,tackletotal:t.tackleTotal,tacklesuccess:t.tackleSuccess,shoottotal:t.shootTotal,passtotal:t.passTotal,passsuccess:t.passSuccess,opponenttackle:t.opponentTackle,opponenttacklesuccess:t.opponentTackleSuccess,possession:t.possession,interaction:"exit match",exit_match:1,gamemode:u()}},GAME_MATCH_WON:function(t){return{match_type:t.match_type,score:t.score,gametimetotal:t.gameTime,tackletotal:t.tackleTotal,tacklesuccess:t.tackleSuccess,shoottotal:t.shootTotal,passtotal:t.passTotal,passsuccess:t.passSuccess,opponenttackle:t.opponentTackle,opponenttacklesuccess:t.opponentTackleSuccess,possession:t.possession,interaction:"complete match",complete_match:1,gamemode:u()}},GAME_MATCH_LOST:function(t){return{match_type:t.match_type,score:t.score,gametimetotal:t.gameTime,tackletotal:t.tackleTotal,tacklesuccess:t.tackleSuccess,shoottotal:t.shootTotal,passtotal:t.passTotal,passsuccess:t.passSuccess,opponenttackle:t.opponentTackle,opponenttacklesuccess:t.opponentTackleSuccess,possession:t.possession,interaction:"lose match",lose_match:1,gamemode:u()}},CHALLENGE_COMPLETED:function(t){return{interaction:"daily challenge end",difficulty:t.difficulty,dailychallenge_comp:1}}};function u(){return window.cordova||i.Params.get("settings",!1)?(0===a.a.settings.controls?"classic":"swipe")+" controller":"keyboard controller"}},function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));var r,i,a,o,s=n(91),u=n(10),c=n(13),l=n(115),h=n(112);function d(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){t.done?i(t.value):new n((function(e){e(t.value)})).then(o,s)}u((r=r.apply(t,e||[])).next())}))}function p(t,e){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=o.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(t){a=[6,t],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}}!function(t){t[t.cTFETC1=0]="cTFETC1",t[t.cTFETC2=1]="cTFETC2",t[t.cTFBC1=2]="cTFBC1",t[t.cTFBC3=3]="cTFBC3",t[t.cTFBC4=4]="cTFBC4",t[t.cTFBC5=5]="cTFBC5",t[t.cTFBC7=6]="cTFBC7",t[t.cTFPVRTC1_4_RGB=8]="cTFPVRTC1_4_RGB",t[t.cTFPVRTC1_4_RGBA=9]="cTFPVRTC1_4_RGBA",t[t.cTFASTC_4x4=10]="cTFASTC_4x4",t[t.cTFATC_RGB=11]="cTFATC_RGB",t[t.cTFATC_RGBA_INTERPOLATED_ALPHA=12]="cTFATC_RGBA_INTERPOLATED_ALPHA",t[t.cTFRGBA32=13]="cTFRGBA32",t[t.cTFRGB565=14]="cTFRGB565",t[t.cTFBGR565=15]="cTFBGR565",t[t.cTFRGBA4444=16]="cTFRGBA4444"}(o||(o={}));var f=((r={})[o.cTFETC1]=l.f.COMPRESSED_RGB_ETC1_WEBGL,r[o.cTFBC1]=l.f.COMPRESSED_RGB_S3TC_DXT1_EXT,r[o.cTFBC3]=l.f.COMPRESSED_RGBA_S3TC_DXT5_EXT,r[o.cTFPVRTC1_4_RGB]=l.f.COMPRESSED_RGB_PVRTC_4BPPV1_IMG,r[o.cTFPVRTC1_4_RGBA]=l.f.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG,r[o.cTFATC_RGB]=l.f.COMPRESSED_RGB_ATC_WEBGL,r[o.cTFASTC_4x4]=l.f.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL,r),m=((i={})[o.cTFRGBA32]=u.p.UNSIGNED_BYTE,i[o.cTFRGB565]=u.p.UNSIGNED_SHORT_5_6_5,i[o.cTFRGBA4444]=u.p.UNSIGNED_SHORT_4_4_4_4,i),g=Object.keys(f).map((function(t){return Number(t)})).reduce((function(t,e){return t[f[e]]=e,t}),{}),y=((a={})[o.cTFBC3]=!0,a[o.cTFPVRTC1_4_RGBA]=!0,a[o.cTFASTC_4x4]=!0,a);function v(){var t,e={init:function(e){return self.BASIS?(self.BASIS({wasmBinary:e.wasmSource}).then((function(e){e.initializeBasis(),t=e,self.postMessage({type:"init",success:!0})})),null):{type:"init",success:!1}},transcode:function(e){var n=e.basisData,r=new t.BasisFile(n),i=r.getNumImages(),a=r.getHasAlpha()?e.rgbaFormat:e.rgbFormat,o=new Array(i),s=!1;if(!r.startTranscoding())return r.close(),r.delete(),{type:"transcode",requestID:e.requestID,success:!1,imageArray:null};for(var u=0;u<i;u++){for(var c=r.getNumLevels(u),l={imageID:u,levelArray:new Array,width:null,height:null},h=0;h<c;h++){var d=s?14:a,p=r.getImageWidth(u,h),f=r.getImageHeight(u,h),m=r.getImageTranscodedSizeInBytes(u,h,d),g=p+3&-4,y=f+3&-4;0===h&&(l.width=g,l.height=y);var v=new Uint8Array(m);if(!r.transcodeImage(v,u,h,d,!1,!1)){if(s)return{type:"transcode",requestID:e.requestID,success:!1};u=-1,s=!0;break}l.levelArray.push({levelID:h,levelWidth:p,levelHeight:f,levelBuffer:v})}o[u]=l}return r.close(),r.delete(),{type:"transcode",requestID:e.requestID,success:!0,basisFormat:s?14:a,imageArray:o}}};self.onmessage=function(t){var n=t.data,r=e[n.type](n);r&&self.postMessage(r)}}var b=function(){function t(){var e=this;this.requests={},this.onMessage=function(t){var n=t.data;if("init"===n.type){if(!n.success)throw new Error("BasisResource.TranscoderWorker failed to initialize.");e.isInit=!0,e.onInit()}else if("transcode"===n.type){--e.load;var r=n.requestID;n.success?e.requests[r].resolve(n):e.requests[r].reject(),delete e.requests[r]}},this.isInit=!1,this.load=0,this.initPromise=new Promise((function(t){e.onInit=t})),t.wasmSource,this.worker=new Worker(t.workerURL),this.worker.onmessage=this.onMessage,this.worker.postMessage({type:"init",jsSource:t.jsSource,wasmSource:t.wasmSource})}return Object.defineProperty(t,"workerURL",{get:function(){if(!t._workerURL){var e=v.toString(),n=e.indexOf("{"),r=e.lastIndexOf("}");e=e.slice(n+1,r),t.jsSource&&(e=t.jsSource+"\n"+e),t._workerURL=URL.createObjectURL(new Blob([e]))}return t._workerURL},enumerable:!1,configurable:!0}),t.prototype.initAsync=function(){return this.initPromise},t.prototype.transcodeAsync=function(e,n,r){return d(this,void 0,Promise,(function(){var i,a,o=this;return p(this,(function(s){return++this.load,i=t._tempID++,a=new Promise((function(t,e){o.requests[i]={resolve:t,reject:e}})),this.worker.postMessage({requestID:i,basisData:e,rgbaFormat:n,rgbFormat:r,type:"transcode"}),[2,a]}))}))},t.loadTranscoder=function(e,n){var r=fetch(e).then((function(t){return t.text()})).then((function(e){t.jsSource=e})),i=fetch(n).then((function(t){return t.arrayBuffer()})).then((function(e){t.wasmSource=e}));return Promise.all([r,i]).then((function(e){return t.onTranscoderInitialized.emit(),e}))},t.setTranscoder=function(e,n){t.jsSource=e,t.wasmSource=n},t.onTranscoderInitialized=new h.a("onTranscoderInitialized"),t._tempID=0,t}();s.c.setExtensionXhrType("basis",s.c.XHR_RESPONSE_TYPE.BUFFER);var _=function(){function t(){}return t.use=function(e,n){"basis"===e.extension&&e.data?t.basisBinding||t.TranscoderWorker.wasmSource?t.transcode(e,n):b.onTranscoderInitialized.add((function(){t.transcode(e,n)})):n()},t.transcode=function(e,n){return d(this,void 0,Promise,(function(){var r,i,a;return p(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),r=e.data,i=void 0,"undefined"!=typeof Worker&&t.TranscoderWorker.wasmSource?[4,t.transcodeAsync(r)]:[3,2];case 1:return i=o.sent(),[3,3];case 2:i=t.transcodeSync(r),o.label=3;case 3:return Object.assign(e,t.registerTextures(e.url,i,e.metadata)),[3,5];case 4:return a=o.sent(),n(a),[2];case 5:return n(),[2]}}))}))},t.registerTextures=function(t,e,n){var r={textures:{},texture:null};if(!e)return r;var i=m[e.basisFormat],a=e.basisFormat!==o.cTFRGBA32?u.g.RGB:u.g.RGBA;return e.map((function(t){return new c.db(new c.h(t,Object.assign({mipmap:t instanceof l.c&&t.levels>1?u.j.ON_MANUAL:u.j.OFF,alphaMode:u.a.NO_PREMULTIPLIED_ALPHA,type:i,format:a},n)))})).forEach((function(e,n){var i=e.baseTexture,a=t+"-"+(n+1);c.h.addToCache(i,a),c.db.addToCache(e,a),0===n&&(c.h.addToCache(i,t),c.db.addToCache(e,t),r.texture=e),r.textures[a]=e})),r},t.transcodeAsync=function(e){return d(this,void 0,Promise,(function(){var n,r,i,a,o,s,u,h,d,m;return p(this,(function(p){switch(p.label){case 0:for(n=t.workerPool,r=268435456,i=null,d=0,m=n.length;d<m;d++)n[d].load<r&&(i=n[d],r=i.load);return i||(i=new b,n.push(i)),[4,i.initAsync()];case 1:return p.sent(),[4,i.transcodeAsync(new Uint8Array(e),t.defaultRGBAFormat.basisFormat,t.defaultRGBFormat.basisFormat)];case 2:if(a=p.sent(),o=a.basisFormat,s=a.imageArray,o>12)u=s.map((function(t){return new c.q(new Uint16Array(t.levelArray[0].levelBuffer.buffer),{width:t.width,height:t.height})}));else for(h=f[a.basisFormat],u=new Array(s.length),d=0,m=s.length;d<m;d++)u[d]=new l.c(null,{format:h,width:s[d].width,height:s[d].height,levelBuffers:s[d].levelArray,levels:s[d].levelArray.length});return u.basisFormat=o,[2,u]}}))}))},t.transcodeSync=function(e){var n=t.basisBinding,r=new Uint8Array(e),i=new n.BasisFile(r),a=i.getNumImages(),s=i.getHasAlpha()?t.defaultRGBAFormat.basisFormat:t.defaultRGBFormat.basisFormat,u=o.cTFRGB565,h=new Array(a),d=t.fallbackMode;if(!i.startTranscoding())return i.close(),i.delete(),null;for(var p=0;p<a;p++){for(var m=d?1:i.getNumLevels(p),g=i.getImageWidth(p,0),y=i.getImageHeight(p,0),v=g+3&-4,b=y+3&-4,_=new Array(m),w=0;w<m;w++){var x=i.getImageWidth(p,w),S=i.getImageHeight(p,w),T=i.getImageTranscodedSizeInBytes(p,0,d?u:s);if(_[w]={levelID:w,levelBuffer:new Uint8Array(T),levelWidth:x,levelHeight:S},i.transcodeImage(_[w].levelBuffer,p,0,d?u:s,!1,!1));else{if(d)break;p=-1,d=!0}}var M=void 0;M=d?new c.q(new Uint16Array(_[0].levelBuffer.buffer),{width:g,height:y}):new l.c(null,{format:f[s],width:v,height:b,levelBuffers:_,levels:m}),h[p]=M}i.close(),i.delete();var E=h;return E.basisFormat=d?u:s,E},t.autoDetectFormats=function(e){if(!e){var n=document.createElement("canvas").getContext("webgl");if(!n)return;e={s3tc:n.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:n.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:n.getExtension("WEBGL_compressed_texture_etc"),etc1:n.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:n.getExtension("WEBGL_compressed_texture_atc"),astc:n.getExtension("WEBGL_compressed_texture_astc")}}var r={};for(var i in e){var a=e[i];a&&Object.assign(r,Object.getPrototypeOf(a))}for(var s=0;s<2;s++){var c=!!s,l=void 0,h=void 0;for(var d in r)if(void 0!==(h=g[l=r[d]])&&(c&&y[h]||!c&&!y[h]))break;l?t[c?"defaultRGBAFormat":"defaultRGBFormat"]={textureFormat:l,basisFormat:h}:(t[c?"defaultRGBAFormat":"defaultRGBFormat"]={textureFormat:u.p.UNSIGNED_SHORT_5_6_5,basisFormat:o.cTFRGB565},t.fallbackMode=!0)}},t.bindTranscoder=function(e){t.basisBinding=e},t.loadTranscoder=function(e,n){return t.TranscoderWorker.loadTranscoder(e,n)},t.setTranscoder=function(e,n){t.TranscoderWorker.setTranscoder(e,n)},Object.defineProperty(t,"TRANSCODER_WORKER_POOL_LIMIT",{get:function(){return this.workerPool.length||1},set:function(t){for(var e=this.workerPool.length;e<t;e++)this.workerPool[e]=new b,this.workerPool[e].initAsync()},enumerable:!1,configurable:!0}),t.fallbackMode=!1,t.workerPool=[],t.TranscoderWorker=b,t}();_.autoDetectFormats(),s.b.registerPlugin(_)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n(15),n(5),n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.elements=new Float32Array([1,0,0,0,1,0,0,0,1])}var e,n,i;return e=t,(n=[{key:"set",value:function(t,e,n,r,i,a,o,s,u){var c=this.elements;return c[0]=t,c[1]=r,c[2]=o,c[3]=e,c[4]=i,c[5]=s,c[6]=n,c[7]=a,c[8]=u,this}},{key:"identity",value:function(){return this.set(1,0,0,0,1,0,0,0,1),this}},{key:"clone",value:function(){return(new t).fromArray(this.elements)}},{key:"copy",value:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this}},{key:"setFromMatrix4",value:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}},{key:"multiply",value:function(t){return this.multiplyMatrices(this,t)}},{key:"premultiply",value:function(t){return this.multiplyMatrices(t,this)}},{key:"multiplyMatrices",value:function(t,e){var n=t.elements,r=e.elements,i=this.elements,a=n[0],o=n[3],s=n[6],u=n[1],c=n[4],l=n[7],h=n[2],d=n[5],p=n[8],f=r[0],m=r[3],g=r[6],y=r[1],v=r[4],b=r[7],_=r[2],w=r[5],x=r[8];return i[0]=a*f+o*y+s*_,i[3]=a*m+o*v+s*w,i[6]=a*g+o*b+s*x,i[1]=u*f+c*y+l*_,i[4]=u*m+c*v+l*w,i[7]=u*g+c*b+l*x,i[2]=h*f+d*y+p*_,i[5]=h*m+d*v+p*w,i[8]=h*g+d*b+p*x,this}},{key:"multiplyScalar",value:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}},{key:"determinant",value:function(){var t=this.elements,e=t[0],n=t[1],r=t[2],i=t[3],a=t[4],o=t[5],s=t[6],u=t[7],c=t[8];return e*a*c-e*o*u-n*i*c+n*o*s+r*i*u-r*a*s}},{key:"getInverse",value:function(t,e){var n=t.elements,r=this.elements,i=n[0],a=n[1],o=n[2],s=n[3],u=n[4],c=n[5],l=n[6],h=n[7],d=n[8],p=d*u-c*h,f=c*l-d*s,m=h*s-u*l,g=i*p+a*f+o*m;if(0===g){if(!0===e)throw new Error("THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0");return this.identity()}var y=1/g;return r[0]=p*y,r[1]=(o*h-d*a)*y,r[2]=(c*a-o*u)*y,r[3]=f*y,r[4]=(d*i-o*l)*y,r[5]=(o*s-c*i)*y,r[6]=m*y,r[7]=(a*l-h*i)*y,r[8]=(u*i-a*s)*y,this}},{key:"transpose",value:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}},{key:"getNormalMatrix",value:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()}},{key:"transposeIntoArray",value:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}},{key:"setUvTransform",value:function(t,e,n,r,i,a,o){var s=Math.cos(i),u=Math.sin(i);return this.set(n*s,n*u,-n*(s*a+u*o)+a+t,-r*u,r*s,-r*(-u*a+s*o)+o+e,0,0,1),this}},{key:"scale",value:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this}},{key:"rotate",value:function(t){var e=Math.cos(t),n=Math.sin(t),r=this.elements,i=r[0],a=r[3],o=r[6],s=r[1],u=r[4],c=r[7];return r[0]=e*i+n*s,r[3]=e*a+n*u,r[6]=e*o+n*c,r[1]=-n*i+e*s,r[4]=-n*a+e*u,r[7]=-n*o+e*c,this}},{key:"translate",value:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this}},{key:"equals",value:function(t){for(var e=this.elements,n=t.elements,r=0;r<9;r++)if(e[r]!==n[r])return!1;return!0}},{key:"fromArray",value:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this}},{key:"toArray",value:function(t,e){void 0===t&&(t=[0,0,0,0,0,0,0,0,0]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}}])&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n.d(e,"a",(function(){return i}));var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e.id,this.baseGeometry=e.geometry,this.start=e.start,this.size=e.size}var e,n,i;return e=t,(n=[{key:"castToBaseGeometry",value:function(){return this.baseGeometry}}])&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(39),n(15),n(140),n(5),n(22),n(20),n(34),n(51);var r=n(24),i=n(253),a=n(143),o=n(195);function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var u=0,c=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.UID=u++,this.name="item".concat(this.UID),this.groups=[],this.runners={init:new a.a("init",1),addedToScene:new a.a("addedToScene",1),start:new a.a("start"),update:new a.a("update",1),render:new a.a("render",2),removedFromScene:new a.a("removedFromScene",1),reset:new a.a("reset"),activate:new a.a("activate"),deactivate:new a.a("deactivate"),destroy:new a.a("destroy")},this.signals={onDestroyed:new r.Signal},this._gc=!1,this._adding=!1,this._components=new Map}var e,n,c;return e=t,(n=[{key:"init",value:function(t){var e;this.data=t;for(var n=this.runners.init.items,r=0;r<n.length;r++){var i=n[r];i.init(null===(e=t)||void 0===e?void 0:e[i.name])}}},{key:"reset",value:function(){for(var t in this._destroyed=!1,this._gc=!1,this._adding=!1,this.runners.reset.run(),this._components.forEach((function(t){if(t.signals){var e=t.signals;for(var n in e)e[n].disconnectAll()}})),this.signals)this.signals[t].disconnectAll()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.scene&&this.scene.removeFromScene(this),this.runners.destroy.run(this),this.signals.onDestroyed.emit(this))}},{key:"addComponent",value:function(t,e,n){var r,a;if(n=n||Object(i.a)(t),this._components.has(t))throw new Error("[Entity] ".concat(n," component already exists"));var o=new t(this,e);for(var s in o.name=n,this._components.set(t,o),this.runners)this.runners[s].add(o);return this._checkRenderAndUpdate(),null===(r=o.addedToEntity)||void 0===r||r.call(o,this),this.scene&&(null===(a=o.addedToScene)||void 0===a||a.call(o,this.scene)),o}},{key:"getComponent",value:function(t){return this._components.get(t)}},{key:"removeComponent",value:function(t){var e,n,r=this._components.get(t);if(!r)return this;for(var i in this.runners)this.runners[i].remove(r);return null===(e=r.removedFromEntity)||void 0===e||e.call(r,this),this._checkRenderAndUpdate(),null===(n=r.reset)||void 0===n||n.call(r),this._components.delete(t),this}},{key:"addSelf",value:function(){this.runners.start.add(this),this.runners.update.add(this),this.runners.render.add(this),this.runners.addedToScene.add(this),this.runners.removedFromScene.add(this),this.runners.activate.add(this),this.runners.deactivate.add(this)}},{key:"addScript",value:function(t){var e=o.a.create("".concat(this.name,"_").concat(this.constructor.name),t);return this.addComponent(e)}},{key:"_checkRenderAndUpdate",value:function(){this.scene&&(this._checkRunner(this.runners.render,this.scene._onRenderEntities),this._checkRunner(this.runners.update,this.scene._onUpdateEntities))}},{key:"_checkRunner",value:function(t,e){var n=t;e.contains(n)===n.empty&&(n.empty?e.remove(n):e.add(n))}}])&&s(e.prototype,n),c&&s(e,c),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(39),n(38),n(92),n(87);function r(t){var e=t.DEFAULT_NAME;if(!e){var n=(e=t.name).split("_");n[0]===n[1]&&(e=n[0]),e=e[0].toLowerCase()+e.slice(1)}return e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(c,t);var e,n,r,u=s(c);function c(){return i(this,c),u.apply(this,arguments)}return e=c,(n=[{key:"castToBaseGeometry",value:function(){return this}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(n(0).Geometry)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(142),i=n(36);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,n,i,a,o,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._planes=[void 0!==e?e:new r.a,void 0!==n?n:new r.a,void 0!==i?i:new r.a,void 0!==a?a:new r.a,void 0!==o?o:new r.a,void 0!==s?s:new r.a]}var e,n,i;return e=t,(n=[{key:"set",value:function(t,e,n,r,i,a){var o=this._planes;return o[0].copy(t),o[1].copy(e),o[2].copy(n),o[3].copy(r),o[4].copy(i),o[5].copy(a),this}},{key:"clone",value:function(){return(new t).copy(this)}},{key:"copy",value:function(t){for(var e=this._planes,n=0;n<6;n++)e[n].copy(t._planes[n]);return this}},{key:"setFromMatrix",value:function(t){var e=this._planes,n=t.elements,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],c=n[6],l=n[7],h=n[8],d=n[9],p=n[10],f=n[11],m=n[12],g=n[13],y=n[14],v=n[15];return e[0].setComponents(o-r,l-s,f-h,v-m).normalize(),e[1].setComponents(o+r,l+s,f+h,v+m).normalize(),e[2].setComponents(o+i,l+u,f+d,v+g).normalize(),e[3].setComponents(o-i,l-u,f-d,v-g).normalize(),e[4].setComponents(o-a,l-c,f-p,v-y).normalize(),e[5].setComponents(o+a,l+c,f+p,v+y).normalize(),this}},{key:"intersectsSphere",value:function(t){for(var e=this._planes,n=t.center,r=-t.radius,i=0;i<6;i++)if(e[i].distanceToPoint(n)<r)return!1;return!0}},{key:"intersectsBox",value:function(t){for(var e=this._planes,n=0;n<6;n++){var r=e[n];if(s.x=r.normal.x>0?t.max.x:t.min.x,s.y=r.normal.y>0?t.max.y:t.min.y,s.z=r.normal.z>0?t.max.z:t.min.z,r.distanceToPoint(s)<0)return!1}return!0}},{key:"containsPoint",value:function(t){for(var e=this._planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),s=new i.a},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35);var r=n(1),i=n(0),a=n(45),o=n.n(a);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return d(t)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(h,t);var e,n,a,s=l(h);function h(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(t=s.call(this)).onPress=new o.a,t.onDown=new o.a,t.onUp=new o.a,t.onHover=new o.a,t.onOut=new o.a,t.onEnabled=new o.a,t.onDisabled=new o.a,t.on("pointerdown",t.onDown.dispatch.bind(d(t),d(t))),t.on("pointerup",t.onUp.dispatch.bind(d(t),d(t))),t.on("pointertap",t.onPress.dispatch.bind(d(t),d(t))),t.on("pointerover",t.onHover.dispatch.bind(d(t),d(t))),t.on("pointerup",t.onOut.dispatch.bind(d(t),d(t))),t.on("pointerupoutside",t.onOut.dispatch.bind(d(t),d(t))),t.on("pointerout",t.onOut.dispatch.bind(d(t),d(t))),t.onDown.add(t.down,d(t)),t.onUp.add(t.up,d(t)),t.onHover.add(t.hover,d(t)),t.onOut.add(t.out,d(t)),t.onEnabled.add(t.enable,d(t)),t.onDisabled.add(t.disable,d(t)),t._scale=new i.Point,t.enable(),t.setSize(),t}return e=h,(n=[{key:"setSize",value:function(t){switch(t){case"small":this.scale.set(.5);break;case"big":this.scale.set(2);break;default:this.scale.set(1)}}},{key:"enable",value:function(){this.interactive=!0,this.buttonMode=!0,Object(r.tween)(this,.3,{alpha:1,ease:"Linear.None"})}},{key:"disable",value:function(){this.interactive=!1,this.buttonMode=!1,Object(r.tween)(this,.3,{alpha:.5,ease:"Linear.None"})}},{key:"down",value:function(t,e){}},{key:"up",value:function(t,e){}},{key:"hover",value:function(t,e){}},{key:"out",value:function(t,e){}},{key:"show",value:function(){this.visible=!0,this.enable()}},{key:"hide",value:function(){this.disable(),this.visible=!1}}])&&u(e.prototype,n),a&&u(e,a),Object.defineProperty(e,"prototype",{writable:!1}),h}(i.Container)},function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));n(21),n(27),n(99),n(169),n(5),n(19);var r=n(80),i=n(17),a=n(11),o=n(8),s=n(6),u=n(1),c=n(134),l=n(147),h=n(123),d=n(0),p=n(7),f=n(24),m=n(28),g=n(9);function y(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){y(a,r,i,o,s,"next",t)}function s(t){y(a,r,i,o,s,"throw",t)}o(void 0)}))}}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=function(t){var e,n;function y(e,n,r,i){var u;void 0===i&&(i=!1),w(b(u=t.call(this)||this),"app",void 0),w(b(u),"selectionContainer",void 0),w(b(u),"languageContainer",void 0),w(b(u),"confirmContainer",void 0),w(b(u),"languageText",void 0),w(b(u),"areyousureText",void 0),w(b(u),"yesButton",void 0),w(b(u),"noButton",void 0),w(b(u),"topShade",void 0),w(b(u),"bottomShade",void 0),w(b(u),"scrollCombo",void 0),w(b(u),"lang",void 0),w(b(u),"scrollerOffset",void 0),w(b(u),"_pointerDownOffset",void 0),w(b(u),"onConfirmed",void 0),u.app=e,u.onConfirmed=new f.Signal,u.selectionContainer=new d.Container,u.addChild(u.selectionContainer);var y=new d.Sprite(d.Texture.WHITE);y.tint=16711680,y.width=.92*n,y.height=.8*r,y.y=35,y.x=-35,y.anchor.set(.5),u.selectionContainer.addChild(y),u.languageContainer=new d.Container,u.selectionContainer.addChild(u.languageContainer);for(var v=Object.keys(m.a.languages),_=Object.values(m.a.languages),x=m.a.language_select_texts,S=v.length,T=Math.ceil(S/2),M=i?30:15,E=0;E<T;E++)for(var A=function(t){var e=2*E+t;if(e===S)return"break";var n=v[e],r=_[e],i=x[r],c=new a.c({text:i,width:(y.width-16)/2-M,height:110,color:o.a.cache.languageInitialised&&o.a.settings.language===n?a.a.PINK:a.a.BLUE,noSound:!0,format:{fontFamily:m.a.language_fonts[n]}});c.position.set(c.width/2+(c.width+16)*t,c.height/2+(c.height+16)*E),e===S-1&&(c.x=c.width+8),u.languageContainer.addChild(c),c.onDown.add(u._onDown.bind(b(u))),c.onUp.add(u._onUp.bind(b(u),i,n)),p.c.add(s.d,(function(){return c.setColor(o.a.settings.language===n?a.a.PINK:a.a.BLUE)}))},k=0;k<2;k++){if("break"===A(k))break}u.languageContainer.position.set(y.x-y.width/2+M,y.y-y.height/2+5),u.languageContainer.mask=y;var C=new h.a({target:u.languageContainer}),O=d.Sprite.from("scrollbar-base.png"),L=d.Sprite.from("scrollbar-handle.png"),R=O.texture.height;O.anchor.set(.5,0),L.anchor.set(.5);var P=new c.a({draggerHeight:225,dragLength:R,bar:O,dragger:L});P.scale.set(i?.635:.75),P.position.set(n/2-(i?50:55),110-r/2),u.selectionContainer.addChild(P),u.scrollerOffset=y.height/2+5-u.languageContainer.children[0].height/2;var D=new l.a({scrollbar:P,trackpad:C,min:0,max:u.languageContainer.height-2*u.scrollerOffset-u.languageContainer.children[0].height/2-20});return u.scrollCombo=D,u.topShade=d.Sprite.from("shade.png"),u.bottomShade=d.Sprite.from("shade.png"),u.topShade.anchor.set(.5,0),u.bottomShade.anchor.set(.5,0),u.bottomShade.rotation=Math.PI,u.topShade.x=u.bottomShade.x=y.x,u.topShade.y=y.y-y.height/2+(i?0:-5),u.bottomShade.y=y.y+y.height/2+(i?6:14),u.topShade.width=u.bottomShade.width=y.width-M,u.topShade.height=u.bottomShade.height=.1*y.height,u.topShade.alpha=u.bottomShade.alpha=0,u.selectionContainer.addChild(u.topShade),u.selectionContainer.addChild(u.bottomShade),u.confirmContainer=new d.Container,u.addChild(u.confirmContainer),u.languageText=new d.Text("placeholder",{fill:"#0091da",fontSize:70,align:"center",lineHeight:50,wordWrap:!0,wordWrapWidth:n-50}),u.languageText.anchor.set(.5),u.languageText.position.set(0,-100),u.confirmContainer.addChild(u.languageText),u.areyousureText=new g.a("STR_AREYOUSURE",{fontSize:50}),u.areyousureText.anchor.set(.5),u.areyousureText.position.set(0,-20),u.confirmContainer.addChild(u.areyousureText),u.yesButton=new a.c({icon:"icon-tick.png",color:a.a.GREEN,width:150,height:150}),u.yesButton.position.set(-150,160),u.yesButton.onPress.add(u.confirm,b(u)),u.confirmContainer.addChild(u.yesButton),u.noButton=new a.c({icon:"icon-cross.png",color:a.a.PINK,width:150,height:150}),u.noButton.position.set(150,160),u.noButton.onPress.add(u.cancel,b(u)),u.confirmContainer.addChild(u.noButton),u.selectionContainer.visible=u.confirmContainer.visible=!1,u}n=t,(e=y).prototype=Object.create(n.prototype),e.prototype.constructor=e,_(e,n);var x=y.prototype;return x._onDown=function(){this._pointerDownOffset=this.scrollCombo.value},x._onUp=function(t,e){Math.abs(this.scrollCombo.value-this._pointerDownOffset)>5||(this.selectLanguage(t,e),i.default.playSfx("button_press"))},x.selectLanguage=function(){var t=v(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.lang=n,this.languageText.text=e,this.areyousureText.text=r.b.getEntry("STR_AREYOUSURE",n).text,this.languageText.style.fontFamily=this.areyousureText.style.fontFamily=m.a.language_fonts[n],this.selectionContainer.interactiveChildren=!1,Object(u.tween)(this.topShade,.15,{alpha:0,ease:"Quad.easeOut"}),Object(u.tween)(this.bottomShade,.15,{alpha:0,ease:"Quad.easeOut"}),Object(u.tween)(this.selectionContainer.scale,.3,{x:.8,y:.8,z:.8,ease:"Quad.easeIn"}),t.next=10,Object(u.tween)(this.selectionContainer,.3,{alpha:0,ease:"Quad.easeOut"});case 10:return this.selectionContainer.visible=!1,this.confirmContainer.alpha=0,this.confirmContainer.visible=!0,this.confirmContainer.interactiveChildren=!1,this.confirmContainer.scale.set(.8),Object(u.tween)(this.confirmContainer.scale,.3,{x:1,y:1,z:1,ease:"Back.easeOut"}),t.next=18,Object(u.tween)(this.confirmContainer,.3,{alpha:1,ease:"Quad.easeOut"});case 18:this.confirmContainer.interactiveChildren=!0;case 19:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),x.confirm=function(){var t=v(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.lang){t.next=2;break}return t.abrupt("return");case 2:o.a.settings.language=this.lang,this.app.storage.saveData("settings"),(e=o.a.cache.languageInitialised)||(o.a.cache.languageInitialised=!0,this.app.storage.saveData("cache")),p.c.dispatch(s.d,{code:this.lang}),p.c.dispatch(s.a,{type:e?s.b.APP_LANGUAGE_SELECTED:s.b.APP_INITIAL_LANGUAGE_SELECTED,data:{language_id:m.a.analytics[this.lang]}}),this.onConfirmed.emit();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),x.show=function(){var t=v(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=this.selectionContainer),void 0===n&&(n=1),e.alpha=0,e.visible=!0,e.interactiveChildren=!1,e.scale.set(.8),Object(u.tween)(e.scale,.3,{x:n,y:n,ease:"Back.easeOut"}),t.next=9,Object(u.tween)(e,.3,{alpha:1,ease:"Quad.easeOut"});case 9:e.interactiveChildren=!0;case 10:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),x.hide=function(){var t=v(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=this.confirmContainer),e.interactiveChildren=!1,Object(u.tween)(e.scale,.3,{x:.8,y:.8,ease:"Quad.easeIn"}),t.next=5,Object(u.tween)(e,.3,{alpha:0,ease:"Quad.easeOut"});case 5:e.visible=!1;case 6:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),x.cancel=function(){var t=v(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.hide(this.confirmContainer);case 2:return t.next=4,this.show(this.selectionContainer);case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),x.reset=function(){this.confirmContainer.visible=!1,this.selectionContainer.visible=!1,this.scrollCombo.value=0},x.updateTransform=function(){if(t.prototype.updateTransform.call(this),this.scrollCombo.update(),this.languageContainer.y=this.scrollCombo.value-this.scrollerOffset,this.selectionContainer.visible&&this.selectionContainer.interactiveChildren){this.languageContainer.y<-this.scrollerOffset-this.languageContainer.children[0].height?this.topShade.alpha<.4&&(this.topShade.alpha+=.04,this.topShade.alpha=Math.min(this.topShade.alpha,.4)):this.topShade.alpha>0&&(this.topShade.alpha-=.04,this.topShade.alpha=Math.max(this.topShade.alpha,0)),this.languageContainer.y>-this.scrollCombo.max-this.scrollerOffset+this.languageContainer.children[0].height?this.bottomShade.alpha<.4&&(this.bottomShade.alpha+=.04,this.bottomShade.alpha=Math.min(this.bottomShade.alpha,.4)):this.bottomShade.alpha>0&&(this.bottomShade.alpha-=.04,this.bottomShade.alpha=Math.max(this.bottomShade.alpha,0))}},y}(d.Container)},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));n(5),n(19),n(21);var r=n(94),i=n(17),a=n(8),o=n(1),s=n(2),u=n(0);function c(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){c(a,r,i,o,s,"next",t)}function s(t){c(a,r,i,o,s,"throw",t)}o(void 0)}))}}var h=function(){function t(t){var e,n,r;r=void 0,(n="app")in(e=this)?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this.app=t}var e=t.prototype;return e.setup=function(){var t=l(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.cordova?(window.nativeads&&this.loadAds(),this.app.analytics.lateInitBaseData()):this.loadWebAds();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.loadAds=function(){var t=this,e=o.Params.get("adUnitId",!1)||"/99911224/cn_app/tooncup2018",n=o.Params.get("templateId1",!1)||"11778280",i=o.Params.get("templateId2",!1)||"11778277";window.nativeads.loadAd(e,n,a.a.cache.userCountry,(function(n){r.a.android?s.b.banner1=u.Sprite.from(n.image):t.loadAdImage(n.image,"banner1"),window.nativeads.loadAd(e,i,a.a.cache.userCountry,(function(e){r.a.android?s.b.banner2=u.Sprite.from(e.image):t.loadAdImage(e.image,"banner2"),t.loadInterstitial()}),(function(){t.loadInterstitial()}))}),(function(){t.loadInterstitial()}))},e.loadInterstitial=function(){var t=o.Params.get("adUnitId",!1)||"/99911224/cn_app/tooncup2018/rewarded_video";s.b.videoAdLoaded=!1,window.nativeads.loadInterstitial(t,a.a.cache.userCountry,(function(){s.b.videoAdLoaded=!0}),(function(){}))},e.loadWebAds=function(){var t=document.createElement("img");t.crossOrigin="anonymous",t.src="./tooncup2018-centrecircle-final";var e=new u.BaseTexture(t);e.on("loaded",(function(){var t=new u.Texture(e),n=new u.Sprite(t);s.b.banner1=n})),(t=document.createElement("img")).crossOrigin="anonymous",t.src="./tooncup2018-billboard1-final";var n=new u.BaseTexture(t);n.on("loaded",(function(){var t=new u.Texture(n),e=new u.Sprite(t);s.b.banner2=e})),(t=document.createElement("img")).crossOrigin="anonymous",t.src="./tooncup2018-billboard2-final";var r=new u.BaseTexture(t);r.on("loaded",(function(){var t=new u.Texture(r),e=new u.Sprite(t);s.b.banner3=e}))},e.loadAdImage=function(t,e){if(window.cordova&&window.cordova.plugin&&window.cordova.plugin.http){window.cordova.plugin.http.sendRequest(t,{method:"get"},(function(t){var n=document.createElement("img");n.src="data:image/png;base64,"+btoa(t.data);var r=new u.BaseTexture(n),i=new u.Texture(r),a=new u.Sprite(i);s.b[e]=a}),(function(t){}))}},e.duckAudio=function(){i.default.systemMute(!0)},e.restoreAudio=function(){i.default.systemMute(a.a.settings.muted)},e.playInterstitial=function(){var t=l(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.nativeads){t.next=3;break}return t.abrupt("return",new Promise((function(t){t(!1)})));case 3:if(s.b.videoAdLoaded){t.next=6;break}return t.abrupt("return",new Promise((function(t){t(!1)})));case 6:return t.abrupt("return",new Promise((function(t){e.duckAudio(),window.nativeads.playInterstitial((function(n){e.restoreAudio(),e.loadInterstitial(),t("true"==n)}),(function(){e.restoreAudio(),e.loadInterstitial(),t(!1)}))})));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),e.canPlayInterstitial=function(){return s.b.videoAdLoaded},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));n(5),n(19),n(38),n(106),n(99),n(51),n(21);var r=n(680),i=n(94),a=n(25),o=n(1),s=n(2),u=n(444),c=n.n(u),l=n(0),h=n(4);function d(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){d(a,r,i,o,s,"next",t)}function s(t){d(a,r,i,o,s,"throw",t)}o(void 0)}))}}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g={countryCode:"GB"},y={frames:["ref_01.png","ref_02.png"],textures:null,pathsToLoad:null},v=function(){function t(t,e){void 0===e&&(e=g),m(this,"app",void 0),m(this,"data",void 0),m(this,"_countryCode",void 0),m(this,"refereeObj",void 0),this.app=t,this.data=null,this._countryCode=e.countryCode}var e,n,u,d=t.prototype;return d.setup=function(){var t=p(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.fetchData();case 2:this.initReferee(),this.initCharacters();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),d.fetchData=function(){var t=p(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=null,t.next=3,this.attempts(p(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,window.fetch(""+h.a.GEO_TARGET_URL);case 2:return r=t.sent,t.next=5,r.json();case 5:"SUCCESS"==(e=t.sent).result&&(n.data=e);case 7:case"end":return t.stop()}}),t)}))));case 3:case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),d.attempts=function(){var t=p(regeneratorRuntime.mark((function t(e,n,i){var a,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=3),void 0===i&&(i=.2),a=!1;case 3:if(a||!n--){t.next=19;break}return t.prev=4,t.next=7,e();case 7:o=t.sent,a=!0,t.next=17;break;case 11:return t.prev=11,t.t0=t.catch(4),a=!1,t.next=17,Object(r.a)(1e3*i);case 17:t.next=3;break;case 19:return t.abrupt("return",o);case 20:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e,n,r){return t.apply(this,arguments)}}(),d.dateDataIsCurrent=function(t){var e=new Date,n=new Date(parseInt(t.start)),r=t.end?new Date(parseInt(t.end)):new Date(724649376e4),i=o.Params.get("todayDate",!1);return i&&(e=new Date(i.replace(/-/gi," "))),e.getTime()>=n.getTime()&&e.getTime()<r.getTime()},d.initReferee=function(){if(this.resetToDefaultReferee(),this.data&&this.data.referee&&Object.keys(this.data.referee).length){var t=this.data.referee;t&&this.dateDataIsCurrent(t)&&this.loadReferee(t)}},d.resetToDefaultReferee=function(){this.refereeObj=y,s.b.refereeTextures=c.a.getTexturesFromFrames(y.frames)},d.loadReferee=function(t){for(var e=(t=JSON.parse(JSON.stringify(t))).frames.concat(),n=0;n<e.length;n++)e[n]=e[n].replace(/\\/g,"");t.pathsToLoad=e,t.textures=[],this.refereeObj=t,this.refereeObj.pathsToLoad.length&&this.loadNextRefereeImage()},d.loadNextRefereeImage=function(){var t=this,e=this.refereeObj.pathsToLoad.shift();if(window.cordova)if(i.a.android){var n=l.Sprite.from(e);this.refereeObj.textures.push(n.texture),this.refereeObj.pathsToLoad.length?this.loadNextRefereeImage():s.b.refereeTextures=this.refereeObj.textures}else if(window.cordova.plugin&&window.cordova.plugin.http){window.cordova.plugin.http.sendRequest(e,{method:"get"},(function(e){var n=document.createElement("img");n.src="data:image/png;base64,"+btoa(e.data);var r=new l.BaseTexture(n),i=new l.Texture(r);t.refereeObj.textures.push(i),t.refereeObj.pathsToLoad.length?t.loadNextRefereeImage():s.b.refereeTextures=t.refereeObj.textures}),(function(e){t.resetToDefaultReferee()}))}else this.resetToDefaultReferee();else{var r=document.createElement("img");r.crossOrigin="anonymous",r.src=e;var a=new l.BaseTexture(r);a.on("loaded",(function(){var e=new l.Texture(a);t.refereeObj.textures.push(e),t.refereeObj.pathsToLoad.length?t.loadNextRefereeImage():s.b.refereeTextures=t.refereeObj.textures})),a.on("error",(function(e){t.resetToDefaultReferee()}))}},d.getCharacterAvailabilityData=function(){return this.data&&this.data.characters?this.data.characters:[]},d.geoLockCharacter=function(t,e){a.c[t]&&(a.c[t].geoLocked=e)},d.initCharacters=function(){if(this.data)for(var t=this.getCharacterAvailabilityData(),e=0;e<t.length;e++){var n=t[e],r=n.id,i=n.availability;this.dateDataIsCurrent(i)?this.geoLockCharacter(r,!1):this.geoLockCharacter(r,!0)}},e=t,(n=[{key:"countryCode",get:function(){return this._countryCode}}])&&f(e.prototype,n),u&&f(e,u),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));n(38),n(106),n(305);var r=n(82),i=n(8),a=n(1);function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=function(){function t(t){s(this,"app",void 0),s(this,"_event",void 0),s(this,"_mostRecentFinishedEvent",void 0),s(this,"dayCount",void 0),this.app=t}var e,n,u,c=t.prototype;return c.init=function(){this.refresh()},c.setup=function(){},c.refresh=function(){var t=(new Date).getTime(),e=t-new Date(1982,7,19).getTime();for(var n in r.b){var i=r.b[n];i.id=n;var a=t-new Date(i.end.replace(/_|-|\//gi," ")).getTime();i.distanceDays=Math.round(a/r.c),a>=0&&a<e&&(e=a,this._mostRecentFinishedEvent=i);var o=this.processDates(i);if(null!==o&&(o>=-3&&(i.status=Math.sign(o)<0?r.a.UPCOMING:r.a.ACTIVE,this._event=i,this.dayCount=Math.abs(o),o>=0)))break}this.event&&(this.event.status,r.a.UPCOMING,this.event.status,r.a.ACTIVE)},c.processDates=function(t){var e=new Date(t.start.replace(/_|-|\//gi," ")),n=new Date(t.end.replace(/_|-|\//gi," "));n.setTime(n.getTime()+r.c);var o=new Date,s=a.Params.get("todayDate",!1);if(null!==i.a.debug.globalEventStatus)switch(i.a.debug.globalEventStatus){case r.a.INACTIVE:s="1-Jan-2021";break;case r.a.UPCOMING:s="20-Aug-2021";break;case r.a.ACTIVE:s="30-Sep-2021"}s&&(o=new Date(s.replace(/-/gi," ")));var u=(e.getTime()-o.getTime())/r.c;if(u>0)return-u;var c=(n.getTime()-o.getTime())/r.c;return c<0?null:c},c.getDays=function(){return this.event?Math.ceil(this.dayCount):null},c.getHours=function(){return this.event?Math.round(this.dayCount%1*24):null},c.getPastEventIds=function(){var t=[];for(var e in r.b)null===this.processDates(r.b[e])&&t.push(e);return t},e=t,(n=[{key:"event",get:function(){return this._event}},{key:"mostRecentFinishedEvent",get:function(){return this._mostRecentFinishedEvent}}])&&o(e.prototype,n),u&&o(e,u),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n(38),n(92);var r=n(80),i=n(116),a=n(8),o=n(6),s=n(28),u=n(1),c=n(7);var l=function(){function t(t){var e,n,r;r=void 0,(n="app")in(e=this)?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,this.app=t}var e=t.prototype;return e.setup=function(){var t;r.a.defaultEntry.fontName="Lubalin";var e,n=i.a.getJson("strings.json");for(var l in n)r.b.appendDictionary(l,n[l]);c.c.add(o.d,this.handleLanguageChange.bind(this));var h=u.Params.get("language",!1);(e=h||(window.cordova||a.a.settings.language?a.a.settings.language:window.webLanguage?window.webLanguage:(e=(e=window.navigator.userLanguage||window.navigator.language)||"en").split("-")[0]))&&s.a.languages[e?null===(t=e)||void 0===t?void 0:t.toLowerCase():""]||(e="en"),this.handleLanguageChange({code:e})},e.handleLanguageChange=function(t){a.a.settings.language=t.code,r.a.defaultEntry.fontName=s.a.language_fonts[t.code],r.b.language=t.code,r.b.setEntry("placeholder",{text:"placeholder"})},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n(27);var r=n(94),i=n(1),a=n(14),o=n(0);function s(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(t){var e,n;function l(){var e;return c(s(e=t.call(this)||this),"background",void 0),c(s(e),"colorFilter",void 0),c(s(e),"circle1",void 0),c(s(e),"circle2",void 0),c(s(e),"beam1",void 0),c(s(e),"beam2",void 0),e.background=o.Sprite.from("assets/base-app/backgrounds/pageantry-background.png"),e.background.anchor.set(.5),e.addChild(e.background),e.colorFilter=new o.filters.ColorMatrixFilter,e.background.filters=r.a.mobile||r.a.ie?[]:[e.colorFilter],e.circle1=o.Sprite.from("assets/base-app/backgrounds/pageantry-screen-circle.png"),e.circle1.anchor.set(.5),e.circle1.scale.set(.8),e.circle1.alpha=.5,e.addChild(e.circle1),e.circle2=o.Sprite.from("assets/base-app/backgrounds/pageantry-screen-circle.png"),e.circle2.anchor.set(.5),e.circle2.scale.set(1.45),e.circle2.alpha=.5,e.addChild(e.circle2),e.beam1=o.Sprite.from("assets/base-app/backgrounds/pageantry-screen-beams-animation.png"),e.beam1.anchor.set(.5),e.addChild(e.beam1),e.beam2=o.Sprite.from("assets/base-app/backgrounds/pageantry-screen-beams-animation2.png"),e.beam2.anchor.set(.5),e.addChild(e.beam2),e.circle1.blendMode=o.BLEND_MODES.ADD,e.circle2.blendMode=o.BLEND_MODES.ADD,e.beam1.blendMode=o.BLEND_MODES.ADD,e.beam2.blendMode=o.BLEND_MODES.ADD,e}n=t,(e=l).prototype=Object.create(n.prototype),e.prototype.constructor=e,u(e,n);var h=l.prototype;return h.animate=function(){var t=this;this.colorFilter.hue(0,!0),this.circle1.rotation=0,this.circle2.rotation=0,this.beam1.alpha=1,this.beam2.alpha=1,this.beam1.scale.set(0),this.beam2.scale.set(0),Object(i.tween)(this.colorFilter,5,{hue:360,ease:"none",repeat:-1,yoyo:!0}),Object(i.tween)(this.circle1,8,{rotation:2*Math.PI,ease:"none",repeat:-1}),Object(i.tween)(this.circle2,20,{rotation:2*-Math.PI,ease:"none",repeat:-1}),Object(i.tween)(this.beam1.scale,1,{x:5,y:5,ease:"none",repeat:-1,onRepeat:function(){t.beam1.rotation=2*Math.PI*Math.random()}}),Object(i.tween)(this.beam1,1,{alpha:0,ease:"none",repeat:-1}),Object(i.delay)(.5).then((function(){Object(i.tween)(t.beam2.scale,1,{x:5,y:5,ease:"none",repeat:-1,onRepeat:function(){t.beam2.rotation=2*Math.PI*Math.random()}}),Object(i.tween)(t.beam2,1,{alpha:0,ease:"none",repeat:-1})}))},h.stop=function(){a.c.killTweensOf(this.colorFilter),a.c.killTweensOf(this.circle1),a.c.killTweensOf(this.circle2),a.c.killTweensOf(this.beam1),a.c.killTweensOf(this.beam2),a.c.killTweensOf(this.beam1.scale),a.c.killTweensOf(this.beam2.scale),a.c.killTweensOf(this.beam1.rotation),a.c.killTweensOf(this.beam2.rotation)},h.resize=function(t,e){var n=t/e>this.background.texture.width/this.background.texture.height?t/this.background.texture.width:e/this.background.texture.height;this.background.scale.set(n)},l}(o.Container)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n(88),n(5),n(169),n(34),n(38),n(106);var r=n(25),i=n(1);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(){function t(t){o(this,"app",void 0),o(this,"_activeTheme",void 0),this.app=t}var e,n,s,u=t.prototype;return u.init=function(){this.applyTheme(i.Params.get("forceTheme",!1))},u.applyTheme=function(t){var e,n=this;if(t)switch(t){case"winter":e=Object(r.t)(r.k.WINTER)}else Object.values(r.j).filter((function(t){return t.id!==r.k.DEFAULT})).forEach((function(t){n.validateDates(t)&&(e=t)}));this._activeTheme=e||Object(r.t)(r.k.DEFAULT)},u.validateDates=function(t){if(!t.start)return!1;var e=new Date(t.start.replace(/_|-|\//gi," ")),n=new Date(t.end.replace(/_|-|\//gi," "));n.setTime(n.getTime()+r.h);var a=new Date,o=i.Params.get("todayDate",!1);return o&&(a=new Date(o.replace(/-/gi," "))),a.getTime()>=e.getTime()&&a.getTime()<e.getTime()},e=t,(n=[{key:"activeTheme",get:function(){return this._activeTheme}}])&&a(e.prototype,n),s&&a(e,s),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35),n(27);var r=n(9),i=n(1),a=n(52),o=n(0);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(d,t);var e,n,s,h=l(d);function d(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,d),(t=h.call(this)).bg=(new o.Graphics).beginFill(16777215).drawRect(0,-10,100,20),t.bar=(new o.Graphics).beginFill(16711680).drawRect(0,-10,100,20),t.sweetSpot=(new o.Graphics).beginFill(255).drawRect(0,-10,15,20),t.bg2=new o.Sprite.from("shoot-charge-bg.png"),t.bar2=new o.Sprite.from("shoot-charge-fill.png"),t.frame=new o.Sprite.from("shoot-charge-frame.png"),t.addChild(t.bg2),t.addChild(t.bar2),t.addChild(t.frame),t.sweetSpot.position.x=75,t.min=0,t.max=0,t.hidden=!0,t.scale.y=0,t.visible=!1;var e=(new o.Graphics).beginFill(16711680).moveTo(10,14).lineTo(217,7).lineTo(212,62).lineTo(5,55);t.addChild(e),t.bar2.mask=e,t.setRatio(0),t.pivot.y=21,t.pivot.x=111;var n={fill:"#fff",fontSize:40,dropShadow:!0,dropShadowAlpha:.5,dropShadowAngle:Math.PI/2};return t.text=new r.a("STR_SUPERSHOT_WEAK",n),t.text.anchor.set(.5),t.text.x=111,t.text.y=100,t.text.visible=!1,t.addChild(t.text),t.blinkTimer=0,t.setSize(2),t}return e=d,(n=[{key:"setRatio",value:function(t){this.bar2.alpha=1,this.bar.scale.x=t,this.bar2.anchor.x=1-t}},{key:"setSize",value:function(t){0===t?(this.bg2.texture=o.Texture.from("shoot-charge-bg-small.png"),this.min=148/222,this.max=164/222):1===t?(this.bg2.texture=o.Texture.from("shoot-charge-bg-med.png"),this.min=135/222,this.max=174/222):2===t&&(this.bg2.texture=o.Texture.from("shoot-charge-bg-large.png"),this.min=125/222,this.max=185/222)}},{key:"showText",value:function(t){this.text.setText(t),this.text.visible=!0,this.blinkTimer=0}},{key:"update",value:function(){this.text.visible&&(this.blinkTimer++,this.blinkTimer>=8&&(this.blinkTimer=0,this.text.alpha=1===this.text.alpha?0:1,this.bar2.alpha=1===this.bar2.alpha?0:1))}},{key:"show",value:function(){this.hidden&&(a.a.killTweensOf(this),a.a.killTweensOf(this.scale),this.text.visible=!1,this.hidden=!1,this.visible=!0,this.bar2.alpha=1,this.text.alpha=1,this.rotation=Math.random(),this.frame.texture=o.Texture.from("shoot-charge-frame.png"),Object(i.tween)(this.scale,.3,{y:1,ease:"Back.easeOut"}),Object(i.tween)(this,.5,{rotation:0,ease:"Elastic.easeOut"}))}},{key:"hide",value:function(){var t=this;this.hidden||(a.a.killTweensOf(this),a.a.killTweensOf(this.scale),this.hidden=!0,Object(i.tween)(this.scale,.3,{y:0,ease:"Back.easeIn",onComplete:function(){return t.visible=!1}}))}}])&&u(e.prototype,n),s&&u(e,s),Object.defineProperty(e,"prototype",{writable:!1}),d}(o.Container)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));n(21),n(27),n(39),n(5),n(19);var r=n(25),i=n(1),a=n(0),o=n(9),s=n(175);function u(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=function(t){var e,n;function p(e){var n;d(l(n=t.call(this,e)||this),"speedBar",void 0),d(l(n),"powerBar",void 0),d(l(n),"skillBar",void 0),d(l(n),"brand",void 0),d(l(n),"mask",void 0);var i=n.padding+82;if(n.speedBar=s.a.speed(),n.speedBar.position.set(i,337),n.contentContainer.addChild(n.speedBar),n.powerBar=s.a.power(),n.powerBar.position.set(i,n.speedBar.position.y+n.speedBar.height+n.padding+36),n.contentContainer.addChild(n.powerBar),n.skillBar=s.a.skill(),n.skillBar.position.set(i,n.powerBar.position.y+n.powerBar.height+n.padding+36),n.contentContainer.addChild(n.skillBar),n.profile=new a.Sprite,n.mask=a.Sprite.from("card-mask.png"),n.mask.anchor.set(.5),n.mask.position.set(n.bg.width/2,n.bg.height/2),n.mask.tint=16711680,n.contentContainer.addChild(n.mask),n.profile.mask=n.mask,n.contentContainer.addChild(n.profile),n.profile.offset={x:0,y:0},n.brand=a.Sprite.from("logo_ppg.png"),n.brand.anchor.y=1,n.brand.position.x=3*n.padding,n.brand.position.y=290-n.padding,n.contentContainer.addChild(n.brand),n.nameText=new o.a("placeholder",{fill:"#493008",fontSize:30}),n.nameText.anchor.x=.5,n.nameText.position.x=n.bg.width/2,n.nameText.position.y=335-n.nameText.height-n.padding,n.contentContainer.addChild(n.nameText),e.themes.activeTheme.id===r.k.WINTER){n.speedBar.position.x+=5,n.powerBar.position.x+=5,n.skillBar.position.x+=5,n.speedBar.position.y+=5,n.powerBar.position.y+=5,n.skillBar.position.y+=5,mask.x+=5,mask.y+=25}return n.speedBar.alpha=0,n.powerBar.alpha=0,n.skillBar.alpha=0,n.profile.alpha=0,n.nameText.alpha=0,n.brand.alpha=0,n}n=t,(e=p).prototype=Object.create(n.prototype),e.prototype.constructor=e,h(e,n);var f,m,g,y=p.prototype;return y.fadeIn=function(){var t,e=(t=regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(i.tween)(this.nameText,e,{alpha:1,ease:"Quad.easeIn"}),Object(i.tween)(this.speedBar,e,{alpha:1,ease:"Quad.easeIn"}),Object(i.tween)(this.powerBar,e,{alpha:1,ease:"Quad.easeIn"}),Object(i.tween)(this.skillBar,e,{alpha:1,ease:"Quad.easeIn"}),Object(i.tween)(this.brand,e,{alpha:1,ease:"Quad.easeIn"}),t.next=7,Object(i.tween)(this.profile,e,{alpha:1,ease:"Quad.easeIn"});case 7:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){u(a,r,i,o,s,"next",t)}function s(t){u(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(t){return e.apply(this,arguments)}}(),y.update=function(e){t.prototype.update.call(this,e),this.profile&&(this.profile.position.x=this.profile.offset.x-20,this.profile.position.y=this.profile.offset.y+1,this.app.themes.activeTheme.id===r.k.WINTER&&(this.profile.position.y+=3))},y.updateData=function(e){this.data=e,this.nameText.setText(e.name),this.profile.texture=a.Texture.from(e.profile),e.offsetPlayerCard?(this.profile.offset.x=e.offsetPlayerCard.x||0,this.profile.offset.y=e.offsetPlayerCard.y||0):(this.profile.offset.x=0,this.profile.offset.y=0),this.skillBar.setData(e.skill),this.powerBar.setData(e.power),this.speedBar.setData(e.speed),this.brand.texture=a.Texture.from(e.brand),t.prototype.updateData.call(this,e)},f=p,(m=[{key:"bgTextureRef",get:function(){return"card-straight.png"}}])&&c(f.prototype,m),g&&c(f,g),Object.defineProperty(f,"prototype",{writable:!1}),p}(n(171).a)},function(t,e,n){var r;n(38),n(166),n(299),n(107),n(106),void 0===(r=function(t,e,n){var r=function(){this.arora=!1,this.chrome=!1,this.epiphany=!1,this.firefox=!1,this.mobileSafari=!1,this.ie=!1,this.ieVersion=0,this.trident=!1,this.tridentVersion=0,this.midori=!1,this.opera=!1,this.safari=!1,this.silk=!1,this.webApp=!1,this.cocoonJS=!1,this.android=!1,this.chromeOS=!1,this.iOS=!1,this.linux=!1,this.macOS=!1,this.windows=!1,this.desktop=!1,this.pixelRatio=0,this.iPhone=!1,this.iPhone4=!1,this.iPad=!1,this.blob=!1,this.canvas=!1,this.localStorage=!1,this.file=!1,this.fileSystem=!1,this.webGL=!1,this.worker=!1,this.audioData=!1,this.webAudio=!1,this.ogg=!1,this.opus=!1,this.mp3=!1,this.wav=!1,this.m4a=!1,this.webm=!1;var t=navigator.userAgent;this._checkBrowser(t),this._checkOS(t),this._checkDevice(t),this._checkAudio(),this._checkFeatures(),this._checkIsMobile(),this._checkIsTouch()};r.prototype._checkBrowser=function(t){/Arora/.test(t)?this.arora=!0:/Opera|OPR|op/.test(t)?(this.opera=!0,this.chrome=!1):/Chrome/.test(t)?this.chrome=!0:/Epiphany/.test(t)?this.epiphany=!0:/Firefox/.test(t)?this.firefox=!0:/Mobile Safari/.test(t)?this.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(t)||navigator.userAgent.match(/Trident.*rv[ :]*11\./)?(this.ie=!0,this.ieVersion=parseInt(RegExp.$1,10)):/Midori/.test(t)?this.midori=!0:/Safari/.test(t)?this.safari=!0:/\bSilk\b/.test(t)?this.silk=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(t)&&(this.ie=!0,this.trident=!0,this.tridentVersion=parseInt(RegExp.$1,10),this.ieVersion=parseInt(RegExp.$3,10)),navigator.standalone&&(this.webApp=!0),navigator.isCocoonJS&&(this.cocoonJS=!0)},r.prototype._checkOS=function(t){/Android/.test(t)?this.android=!0:/CrOS/.test(t)?this.chromeOS=!0:/iP[ao]d|iPhone/i.test(t)?(this.iOS=!0,this.iOS_version=parseFloat(String((/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1):/Linux/.test(t)?this.linux=!0:/Mac OS/.test(t)?this.macOS=!0:/Windows/.test(t)&&(this.windows=!0),(this.windows||this.macOS||this.linux||this.chromeOS)&&(this.desktop=!0)},r.prototype._checkDevice=function(){this.pixelRatio=window.devicePixelRatio||1,this.iPhone=-1!==navigator.userAgent.toLowerCase().indexOf("iphone"),this.iPhone4=2===this.pixelRatio&&this.iPhone,this.iPhone4&&(this.iPhone4=480==window.screen.height&&320==window.screen.width||480==window.screen.width&&320==window.screen.height),this.iPad=-1!==navigator.userAgent.toLowerCase().indexOf("ipad")},r.prototype._checkFeatures=function(){void 0!==window.Blob&&(this.blob=!0),this.canvas=!!window.CanvasRenderingContext2D;try{this.localStorage=!!localStorage.getItem}catch(t){this.localStorage=!1}this.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),this.fileSystem=!!window.requestFileSystem,this.webGL=function(){try{var t=document.createElement("canvas");return!!window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(t){return!1}}(),(this.android||this.ie)&&(this.webGL=!1),this.worker=!!window.Worker,("ontouchstart"in document.documentElement||window.navigator.msPointerEnabled)&&(this.touch=!0)},r.prototype._checkAudio=function(){this.audioData=!!window.Audio,this.webaudio=!(!window.AudioContext&&!window.webkitAudioContext);var t=document.createElement("audio");try{!!t.canPlayType&&(t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(this.ogg=!0),t.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(this.mp3=!0),t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(this.wav=!0),(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;").replace(/^no$/,""))&&(this.m4a=!0))}catch(t){}},r.prototype._checkIsMobile=function(){var t,e=!1;t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),this.isMobile=e,this.mobile=e},r.prototype._checkIsTouch=function(){this.isTouch="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},r.prototype.getInfo=function(){var t="DEVICE OUTPUT\n\n";return t+="---\n",t+="Browser Info :: \n",t+="Arora : ".concat(this.arora,"\n"),t+="Chrome : ".concat(this.chrome,"\n"),t+="Epiphany : ".concat(this.epiphany,"\n"),t+="Firefox : ".concat(this.firefox,"\n"),t+="Mobile Safari : ".concat(this.mobileSafari,"\n"),t+="IE : ".concat(this.ie),this.ie?t+=" (Version ".concat(this.ieVersion,")\n"):t+="\n",t+="Midori : ".concat(this.midori,"\n"),t+="Opera : ".concat(this.opera,"\n"),t+="Safari : ".concat(this.safari,"\n"),t+="Web App : ".concat(this.webApp,"\n"),t+="CocoonJS : ".concat(this.cocoonJS,"\n"),t+="Android : ".concat(this.android,"\n"),t+="---\n",t+="Operating System :: \n",t+="Chrome OS : ".concat(this.chromeOS,"\n"),t+="iOS : ".concat(this.iOS,"\n"),t+="Linux : ".concat(this.linux,"\n"),t+="Mac OS : ".concat(this.macOS,"\n"),t+="Windows : ".concat(this.windows,"\n"),t+="Desktop : ".concat(this.desktop,"\n"),t+="---\n",t+="Device Type : \n",t+="Pixel Ratio : ".concat(this.pixelRatio,"\n"),t+="iPhone : ".concat(this.iPhone,"\n"),t+="iPhone 4 : ".concat(this.iPhone4,"\n"),t+="iPad : ".concat(this.iPad,"\n"),t+="---\n",t+="Features :: \n",t+="Blob : ".concat(this.blob,"\n"),t+="Canvas : ".concat(this.canvas,"\n"),t+="LocalStorage : ".concat(this.localStorage,"\n"),t+="File : ".concat(this.file,"\n"),t+="File System : ".concat(this.fileSystem,"\n"),t+="WebGL : ".concat(this.webGL,"\n"),t+="Workers : ".concat(this.worker,"\n"),t+="---\n",t+="Audio :: \n",t+="AudioData : ".concat(this.audioData,"\n"),t+="WebAudio : ".concat(this.webAudio,"\n"),t+="Supports .ogg : ".concat(this.ogg,"\n"),t+="Supports Opus : ".concat(this.opus,"\n"),t+="Supports .mp3 : ".concat(this.mp3,"\n"),t+="Supports .wav : ".concat(this.wav,"\n"),t+="Supports .m4a : ".concat(this.m4a,"\n"),t+="Supports .webm : ".concat(this.webm)},Object.defineProperty(r.prototype,"ie9",{get:function(){return this.ie&&9===this.ieVersion}}),Object.defineProperty(r.prototype,"useSM2",{get:function(){return this.ie||this.opera}}),r.instance=new r,n.exports=r}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t,e,n){var r=function(){this.x=0,this.ax=0,this.dx=0,this.tx=0,this.y=0,this.ay=0,this.dy=0,this.ty=0,this.max=30,this.damp=.75,this.springiness=.09,this.max=160,this.damp=.85,this.springiness=.29};r.constructor=r,r.prototype.update=function(){this.ax=(this.tx-this.x)*this.springiness,this.dx+=this.ax,this.dx*=this.damp,this.dx<-this.max?this.dx=-this.max:this.dx>this.max&&(this.dx=this.max),this.x+=this.dx,this.ay=(this.ty-this.y)*this.springiness,this.dy+=this.ay,this.dy*=this.damp,this.dy<-this.max?this.dy=-this.max:this.dy>this.max&&(this.dy=this.max),this.y+=this.dy},r.prototype.reset=function(){this.x=0,this.ax=0,this.dx=0,this.tx=0,this.y=0,this.ay=0,this.dy=0,this.ty=0},n.exports=r}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";n.d(e,"a",(function(){return N}));n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35),n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(51),n(119);var r=n(0),i=n(250),a=n(556),o={name:"standardNormalMatrix",vertex:{header:"\n            uniform mat3 uNormalMatrix;\n        "}},s={vertex:{transform:"\n            mat3 uNormalMatrix = mat3(modelMatrix);\n        "}},u=n(703),c=n(704),l=n(705),h={fragment:{header:"\n            uniform sampler2D uDiffuseMap;\n        ",material:"\n            diffuseColor *= texture2DSRGB(uDiffuseMap, uv);\n        "}},d={fragment:{header:"\n            uniform vec2 uSpecularGloss;  // power // intensity\n            \n            uniform sampler2D uSpecularMap;\n        ",material:"\n            specular = uSpecularGloss.x;\n            gloss = uSpecularGloss.y;\n            \n            specular *= texture2DSRGB(uSpecularMap, uv).r;\n\n            //IOS hack.. \n            specular += 0.0000001;\n        "}},p={fragment:{header:"\n            uniform vec3 uEmissiveColor;\n            uniform sampler2D uEmissiveMap;\n        ",material:"\n            emissiveColor = uEmissiveColor;\n            emissiveColor *= texture2DSRGB(uEmissiveMap, uv).rgb;\n        "}},f={vertex:{main:"\n            worldNormal = normalize(uNormalMatrix * worldNormal); \n        "},fragment:{material:"\n            worldNormal = normalize(vWorldNormal);\n        "}},m={vertex:{header:"\n            attribute vec4 aTangent;\n            varying vec3 vTangentW;\n            varying vec3 vBitangentW;\n        ",main:"\n            worldNormal = normalize(uNormalMatrix * worldNormal);\n                    \n            vTangentW = normalize(vec3(modelMatrix * vec4(aTangent.xyz, 0.0)));\n            vBitangentW = cross(worldNormal, vTangentW) * aTangent.w;   \n        "},fragment:{header:"\n            uniform sampler2D uNormalMap;\n            uniform float uNormalScale;\n            varying vec3 vTangentW;\n            varying vec3 vBitangentW;\n        ",material:"\n            mat3 tbn = mat3(vTangentW, vTangentW, vWorldNormal);\n            vec3 n = texture2D(uNormalMap, uv).rgb;\n        \n            worldNormal = normalize(tbn * ((2.0 * n - 1.0) * vec3(uNormalScale, uNormalScale, 1.0)));\n        "}},g={vertex:{main:"\n            worldNormal = normalize(uNormalMatrix * worldNormal);\n        "},fragment:{header:"\n            #extension GL_OES_standard_derivatives : enable\n            \n            uniform sampler2D uNormalMap;\n            uniform float uNormalScale;\n            \n           \n            #ifdef GL_OES_standard_derivatives\n\n                vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, vec2 uvs ) {\n                    vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n                    vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n                    vec2 st0 = dFdx( uvs.st );\n                    vec2 st1 = dFdy( uvs.st );\n                    float scale = sign( st1.t * st0.s - st0.t * st1.s );\n                    vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n                    vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n                    vec3 N = normalize( surf_norm );\n                    mat3 tsn = mat3( S, T, N );\n                    mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n                    return normalize( tsn * mapN );\n                }\n        \n            #endif\n            ",material:"     \n            vec3 n = texture2D(uNormalMap, vUv).rgb;\n            vec3 mapN = (2.0 * n - 1.0) * vec3(uNormalScale, uNormalScale, 1.);\n    \n            mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n            #ifdef GL_OES_standard_derivatives\n                worldNormal = perturbNormal2Arb( vWorldPosition.rgb, vWorldNormal, mapN, vUv );\n            #endif\n        "},fragment2:{header:"  \n            uniform sampler2D uNormalMap;\n            uniform float uNormalScale;\n            \n            vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, vec2 uvs ) { \n                vec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n                vec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n                vec2 st0 = dFdx( uvs.st );\n                vec2 st1 = dFdy( uvs.st );\n                float scale = sign( st1.t * st0.s - st0.t * st1.s );\n                vec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n                vec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n                vec3 N = normalize( surf_norm );\n                mat3 tsn = mat3( S, T, N );\n                mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n                return normalize( tsn * mapN );\n            }\n\n            ",material:"     \n            vec3 n = texture2D(uNormalMap, vUv).rgb;\n            vec3 mapN = (2.0 * n - 1.0) * vec3(uNormalScale, uNormalScale, 1.);\n    \n            mapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\n            worldNormal = perturbNormal2Arb( vWorldPosition.rgb, vWorldNormal, mapN, vUv );\n        "}},y={fragment:{header:"\n            uniform vec2 uMetalRoughnessPower;\n\n            uniform samplerCube uEnvironmentMap;\n        ",material:"\n    \n            if(uMetalRoughnessPower[0] > 0.)\n            {\n                vec3 direction = reflect(eyeToSurfaceDir, worldNormal);\n                float mipCount = 9.;\n\n                float lod = clamp(uMetalRoughnessPower[1] * mipCount, 0.0, mipCount);\n\n                vec3 realReflection = textureCubeSRGB(uEnvironmentMap, normalize(direction), lod).rgb;\n                reflectionColor = mix(reflectionColor, realReflection, uMetalRoughnessPower[0]);\n            }\n        "}},v={vertex:{header:"\n            uniform vec4 uClippingPlane;\n            varying float aClipCheck;\n        ",main:"\n            aClipCheck = dot(worldPosition, uClippingPlane);\n        "},fragment:{header:"\n            varying float aClipCheck;\n        ",material:"\n            if (aClipCheck < 0.0)\n            {\n                discard;\n            }\n        "}},b=n(706),_=n(707),w={name:"morph targets normal transform",vertex:{header:"\n            attribute vec3 aMorphTargetPosition1;\n            attribute vec3 aMorphTargetPosition2;\n            attribute vec3 aMorphTargetPosition3;\n            attribute vec3 aMorphTargetPosition4;\n\n            attribute vec3 aMorphTargetNormal1;\n            attribute vec3 aMorphTargetNormal2;\n            attribute vec3 aMorphTargetNormal3;\n            attribute vec3 aMorphTargetNormal4;\n\n            uniform float uMorphTargetInfluence[4];\n        ",transform:"\n            worldPosition.xyz += aMorphTargetPosition1 * uMorphTargetInfluence[ 0 ];\n            worldPosition.xyz += aMorphTargetPosition2 * uMorphTargetInfluence[ 1 ];\n            worldPosition.xyz += aMorphTargetPosition3 * uMorphTargetInfluence[ 2 ];\n            worldPosition.xyz += aMorphTargetPosition4 * uMorphTargetInfluence[ 3 ];\n\n            worldNormal.xyz += aMorphTargetNormal1 * uMorphTargetInfluence[ 0 ];\n            worldNormal.xyz += aMorphTargetNormal2 * uMorphTargetInfluence[ 1 ];\n            worldNormal.xyz += aMorphTargetNormal3 * uMorphTargetInfluence[ 2 ];\n            worldNormal.xyz += aMorphTargetNormal4 * uMorphTargetInfluence[ 3 ];\n        "}},x=(n(114),n(42),n(194),n(34),{});function S(t){return T(t,!0)}function T(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.map((function(t){return t.UID})).join("-")+e;if(x[n])return x[n];var r=[],i=[],a=[],o=[];o.push("\n        float attenuation;\n        float amountInLight = 1.;\n        float shininessPower = specular;\n        float shininessIntensity = gloss;\n        float distanceFromLight;\n        float inLight;\n\n        float dotFromDirection;\n\n        vec3 lightDirection;\n        vec3 lightDirectionNormal;\n    ");var s=e&&!!t.find((function(t){return t.shadow}));s&&(o.push("\n            vec4 fragmentDepth;\n            float shadowAcneRemover;\n\n            vec2 poissonDisk[4];\n            poissonDisk[0] = vec2(-0.94201624, -0.39906216);\n            poissonDisk[1] = vec2(0.94558609, -0.76890725);\n            poissonDisk[2] = vec2(-0.094184101, -0.92938870);\n            poissonDisk[3] = vec2(0.34495938, 0.29387760);\n        "),a.push("\n            const mat4 texUnitConverter = mat4(0.5, 0.0, 0.0, 0.0, 0.0, 0.5, 0.0, 0.0, 0.0, 0.0, 0.5, 0.0, 0.5, 0.5, 0.5, 1.0);\n        ")),t.forEach((function(t){switch(t.light.type){case 0:M(r,i,o,a,t,e);break;case 1:E(r,i,o,a,t,e);break;case 2:A(r,i,o,a,t,e)}})),i.push("\n        #define saturate(a) clamp( a, 0.0, 1.0 )\n\n        float diffuseLighting(vec3 normal, vec3 lightDirection)\n        {\n            return max(dot(normal, -lightDirection), 0.0);\n        }\n\n        float specularLighting(vec3 normal, vec3 eyeToSurfaceDir, vec3 lightDirection, float shininessPower, float shininessIntensity)\n        {\n            vec3 reflection = normalize(reflect(eyeToSurfaceDir, normal));\n            float specularFactor = dot(reflection, -lightDirection);\n            specularFactor = max(specularFactor, 0.0);\n            specularFactor = pow(specularFactor, shininessPower);\n\n            return specularFactor * shininessIntensity + 0.0001;\n        }\n    "),i.push("\n        uniform vec3 uGlobalAmbient;\n    "),o.push("\n        // fix for android\n        specularColor = clamp(specularColor, 0.,1.);\n\n        lightingColor += uGlobalAmbient;\n    ");var u={vertex:{header:r.join("\n"),lighting:a.join("\n")},fragment:{header:i.join("\n"),main:o.join("\n")}};return x[n]=u,u}function M(t,e,n,r,i,a){var o=i.light.lightId;n.push("\n        amountInLight = 1.0;\n    "),a&&i.shadow&&(t.push("\n            varying vec4 vShadowPosition".concat(o,";\n            uniform mat4 uShadowProjectionView").concat(o,";\n        ")),e.push("\n            uniform sampler2D uShadowMap".concat(o,";\n            varying vec4 vShadowPosition").concat(o,";\n            uniform vec2 uShadowParams").concat(o,";\n            uniform mat4 uShadowProjectionView").concat(o,";\n        ")),n.push("\n            fragmentDepth = vShadowPosition".concat(o,";\n            shadowAcneRemover = uShadowParams").concat(o,"[0];\n            fragmentDepth.z -= shadowAcneRemover;\n\n            for (int i=0;i<4;i++){\n                if ( texture2D( uShadowMap").concat(o,", fragmentDepth.xy + poissonDisk[i]/ uShadowParams").concat(o,"[1] ).x  <  fragmentDepth.z ){\n                    amountInLight-=0.25;\n                }\n            }\n        ")),r.push("\n            vShadowPosition".concat(o," = texUnitConverter * uShadowProjectionView").concat(o," * worldPosition;\n        "))),e.push("\n        uniform vec3 uLightColor".concat(o,";\n        uniform vec3 uLightDirection").concat(o,";\n    ")),n.push("\n        attenuation = 1.;\n        attenuation *= diffuseLighting(worldNormal,uLightDirection".concat(o,") * amountInLight;\n        if(attenuation > 0.0001)\n        {\n            lightingColor += (attenuation * uLightColor").concat(o,");\n            attenuation *= specularLighting(worldNormal, eyeToSurfaceDir,uLightDirection").concat(o,", shininessPower, shininessIntensity);\n            specularColor += (attenuation * uLightColor").concat(o,");\n        }\n    "))}function E(t,e,n,r,i,a){var o=i.light.lightId;a&&i.shadow,e.push("\n        uniform vec3 uLightColor".concat(o,";\n        uniform vec3 uLightDirection").concat(o,";\n        uniform vec3 uLightPosition").concat(o,";\n        uniform float uLightDistance").concat(o,";\n    ")),n.push("\n        lightDirection = worldPosition - uLightPosition".concat(o,";\n        lightDirectionNormal = normalize(lightDirection);\n        distanceFromLight = length(lightDirection);\n        attenuation = pow(  saturate(-distanceFromLight / uLightDistance").concat(o," + 1.0) , 1. ) * amountInLight;\n\n        if(attenuation > 0.0001)\n        {\n            attenuation *= diffuseLighting(worldNormal,lightDirectionNormal);\n            lightingColor += attenuation * uLightColor").concat(o,";\n            attenuation *= specularLighting(worldNormal,eyeToSurfaceDir,lightDirectionNormal, shininessPower, shininessIntensity);\n            specularColor += attenuation * uLightColor").concat(o,";\n        }\n    "))}function A(t,e,n,r,i,a){var o=i.light.lightId;n.push("\n        amountInLight = 1.0;\n    "),a&&i.shadow&&(t.push("\n            varying vec4 vShadowPosition".concat(o,";\n            uniform mat4 uShadowProjectionView").concat(o,";\n        ")),e.push("\n            uniform sampler2D uShadowMap".concat(o,";\n            uniform vec2 uShadowParams").concat(o,";\n            varying vec4 vShadowPosition").concat(o,";\n        ")),n.push("\n            fragmentDepth = vShadowPosition".concat(o,";\n            fragmentDepth.xyz /= fragmentDepth.w;\n            shadowAcneRemover = uShadowParams").concat(o,"[0];\n            fragmentDepth.z -= shadowAcneRemover;\n\n            for (int i=0;i<4;i++){\n                if ( texture2D( uShadowMap").concat(o,", fragmentDepth.xy + poissonDisk[i]/uShadowParams").concat(o,"[1] ).x  <  fragmentDepth.z ){\n                    amountInLight-=0.25;\n                }\n            }\n        ")),r.push("\n            vShadowPosition".concat(o," = texUnitConverter * uShadowProjectionView").concat(o," * worldPosition;\n        "))),e.push("\n        uniform vec3 uLightColor".concat(o,";\n        uniform vec3 uLightDirection").concat(o,";\n        uniform vec3 uLightPosition").concat(o,";\n        uniform float uLightDistance").concat(o,";\n        uniform vec2 uLimit").concat(o,";\n    ")),n.push("\n        lightDirection = worldPosition - uLightPosition".concat(o,";\n        lightDirectionNormal = normalize(lightDirection);\n        distanceFromLight = length(lightDirection);\n        dotFromDirection = dot(-normalize(lightDirection), -uLightDirection").concat(o,");\n        inLight = smoothstep(uLimit").concat(o,".y, uLimit").concat(o,".x, dotFromDirection);\n\n        attenuation = pow(  saturate(-distanceFromLight / uLightDistance").concat(o," + 1.0) , 1. ) * amountInLight;\n\n        if(attenuation > 0.0001)\n        {\n            attenuation *= diffuseLighting(worldNormal,lightDirectionNormal) * inLight;\n            lightingColor += attenuation * uLightColor").concat(o,";\n            attenuation *= specularLighting(worldNormal,eyeToSurfaceDir,lightDirectionNormal, shininessPower, shininessIntensity) * inLight;\n            specularColor += attenuation * uLightColor").concat(o,";\n        }\n    "))}var k={fragment:{main:"\n            lightingColor = vec3(1.);\n        "}};function C(){return k}function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=B(t);if(e){var i=B(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function I(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(E,t);var e,n,x,M=D(E);function E(){var t,e,n,x,A,k,O,R,P,D,I,B,N,j,F,U,Y,G,H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};L(this,E);var z,V=null===(e=H.useLights)||void 0===e||e,W=null!==(n=H.uniforms)&&void 0!==n?n:{};(null!==(x=H.fastNormals)&&void 0!==x?x:a.a.FAST_NORMALS)?z=s:(z=o,W.uNormalMatrix=new i.a);var X=C;V&&(X=H.receiveShadows?S:T);var K={modelMatrix:u.a,normalMatrix:z,uv:c.b,alpha:l.b,lights:X,extensions:[]};if(W.uDiffuseColor=new Float32Array([1,1,1,1]),W.uMapFrame=new r.Rectangle(0,0,1,1),H.diffuseMap&&(K.diffuse=h,W.uDiffuseMap=null!==(A=H.diffuseMap)&&void 0!==A?A:r.Texture.WHITE),(void 0!==H.specular||void 0!==H.gloss||H.specularMap)&&(K.specular=d,W.uSpecularMap=null!==(k=H.specularMap)&&void 0!==k?k:r.Texture.WHITE,W.uSpecularGloss=[null!==(O=H.specular)&&void 0!==O?O:100,null!==(R=H.gloss)&&void 0!==R?R:2]),W.uEmissiveColor=new Float32Array([1,1,1]),(H.emissiveMap||void 0!==H.emissiveColor||void 0!==H.emissive)&&(K.emissive=p,W.uEmissiveMap=null!==(P=H.emissiveMap)&&void 0!==P?P:r.Texture.WHITE),H.normalMap?(H.tangents=null!==(D=H.tangents)&&void 0!==D?D:E.PREFER_TANGENTS,H.tangents?K.normal=m:K.normal=g,W.uNormalMap=H.normalMap,W.uNormalScale=null!==(I=H.normalScale)&&void 0!==I?I:1):K.normal=f,H.environmentMap&&(K.reflection=y,W.uMetalRoughnessPower=new Float32Array([null!==(B=H.metalPower)&&void 0!==B?B:1,0]),W.uEnvironmentMap=H.environmentMap),H.clippingPlane&&(K.extensions.push(v),W.uClippingPlane=H.clippingPlane),H.morphTargets&&(K.extensions.push(w),W.uMorphTargetInfluence=new Float32Array([0,0,0,0])),H.skinning){var q,Z=null!==(N=H.boneTexture)&&void 0!==N?N:a.a.PREFER_TEXTURE;q=Z?b.b:Object(b.a)(null!==(j=H.maxBones)&&void 0!==j?j:a.a.MAX_BONES),K.extensions.push(q)}if(H.alphaTest&&(W.uAlphaTest=H.alphaTest,K.extensions.push(_.a)),H.config){var J=K.extensions;H.config.extensions&&(J=K.extensions.concat(H.config.extensions)),Object.assign(K,H.config),K.extensions=J}return(t=M.call(this,K,W)).tangents=null!==(F=H.tangents)&&void 0!==F&&F,t.color=null!==(U=H.color)&&void 0!==U?U:16777215,t._emissiveIntensity=null!==(Y=H.emissive)&&void 0!==Y?Y:1,t.emissiveColor=null!==(G=H.emissiveColor)&&void 0!==G?G:16777215,t}return e=E,(n=[{key:"uniforms",get:function(){return this.uniformGroup.uniforms}},{key:"diffuseMap",get:function(){return this.uniforms.uDiffuseMap},set:function(t){this.uniforms.uDiffuseMap=t}},{key:"color",get:function(){return this._hexColor},set:function(t){this._hexColor=t,r.utils.hex2rgb(t,this.uniforms.uDiffuseColor)}},{key:"specular",get:function(){return this.uniforms.uSpecularGloss[0]},set:function(t){this.uniforms.uSpecularGloss[0]=t}},{key:"gloss",get:function(){return this.uniforms.uSpecularGloss[1]},set:function(t){this.uniforms.uSpecularGloss[1]=t}},{key:"specularMap",get:function(){return this.uniforms.uSpecularMap},set:function(t){this.uniforms.uSpecularMap=t}},{key:"emissiveColor",get:function(){return this._hexEmissiveColor},set:function(t){this._hexEmissiveColor=t;var e=this.uniforms.uEmissiveColor;r.utils.hex2rgb(t,e),e[0]*=this._emissiveIntensity,e[1]*=this._emissiveIntensity,e[2]*=this._emissiveIntensity}},{key:"emissive",get:function(){return this._emissiveIntensity},set:function(t){this._emissiveIntensity=t,this.emissiveColor=this._hexColor}},{key:"environmentMap",get:function(){return this.uniforms.uEnvironmentMap},set:function(t){this.uniforms.uEnvironmentMap=t}},{key:"metalPower",get:function(){return this.uniforms.uMetalRoughnessPower[0]},set:function(t){this.uniforms.uMetalRoughnessPower[0]=t}},{key:"clippingPlane",get:function(){return this.uniforms.uClippingPlane},set:function(t){this.uniforms.uClippingPlane=t}},{key:"morphTargets",get:function(){return this.uniforms.uMorphTargetInfluence}}])&&R(e.prototype,n),x&&R(e,x),Object.defineProperty(e,"prototype",{writable:!1}),E}(a.a);N.PREFER_TANGENTS=!1},function(t,e,n){"use strict";n.d(e,"a",(function(){return X}));n(27),n(5),n(19),n(21);var r,i=n(130),a=n(17),o=n(11),s=n(157),u=n(25),c=n(108),l=n(1),h=n(110),d=n(40),p=n(79);function f(){return{id:"coins_100",type:r.COINS,roll:1,value:100,icon:"reward-coins.png"}}!function(t){t[t.COINS=0]="COINS",t[t.KIT=1]="KIT",t[t.CHARACTER=2]="CHARACTER",t[t.STADIUM=3]="STADIUM",t[t.BALL=4]="BALL"}(r||(r={}));var m=[{id:"coins_100",type:r.COINS,value:100,roll:1,icon:"reward-coins.png",descStr:"STR_REWARDS_COINS_100"},{id:"coins_200",type:r.COINS,value:200,roll:.5,icon:"reward-coins.png",descStr:"STR_REWARDS_COINS_200"},{id:"kit_any",type:r.KIT,value:"*",roll:.25,icon:"reward-kit-any.png",descStr:"STR_REWARDS_KIT",rewardStr:"STR_UNLOCKABLES_NEWKIT"},{id:"ball_any",type:r.BALL,value:"*",roll:.15,icon:"reward-ball-any.png",descStr:"STR_REWARDS_BALL",rewardStr:"STR_UNLOCKABLES_NEWBALL"},{id:"stadium_any",type:r.STADIUM,value:"*",roll:.1,icon:"reward-stadium-any.png",descStr:"STR_REWARDS_STADIUM",rewardStr:"STR_UNLOCKABLES_NEWSTADIUM"},{id:"character_any",type:r.CHARACTER,value:"*",roll:.05,icon:"reward-character-any.png",descStr:"STR_REWARDS_CHARACTER",rewardStr:"STR_UNLOCKABLES_NEWCHARACTER"}],g=[{id:"coins_100",type:r.COINS,value:100,roll:1,icon:"reward-coins.png",descStr:"STR_REWARDS_COINS_100"},{id:"coins_200",type:r.COINS,value:200,roll:.5,icon:"reward-coins.png",descStr:"STR_REWARDS_COINS_200"}],y=new Date("1 Nov 2022"),v=new Date("31 Jan 2023"),b=l.Params.get("todayDate",!1),_=b?new Date(b):Date.now(),w=_>=y.getTime()&&_<=v.getTime()?g:m;var x=null;function S(){return x=function(){for(var t=w,e=f(),n=Math.random(),i=0;i<t.length;i++){var a=t[i];n<=a.roll&&(e=a)}var o=null;switch(e.type){case r.KIT:o=c.b;break;case r.CHARACTER:o=d.d;break;case r.BALL:o=h.c;break;case r.STADIUM:o=p.c;break;case r.COINS:return e}return o&&0!=o.locked().length||(e=f()),e}()}var T=n(6),M=n(9),E=n(44),A=n(0),k=n(171);function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var L=function(t){var e,n,r,i,a;function o(e){var n,r,i,a;n=t.call(this,e)||this,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),a=void 0,(i="itemThumb")in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,n.nStars=8;var o=.82,s=A.Sprite.from("panel-football-pitch-thumbnail.png");s.anchor.set(.5),s.position.set(n.bg.width/2,n.bg.height/2),s.width=n.bg.width*o,s.height=n.bg.height*o,n.contentContainer.addChild(s),n.itemThumb=new A.Sprite,n.itemThumb.anchor.set(.5);var u=n.itemThumb.height/n.itemThumb.width;return n.itemThumb.width=n.bg.width*o,n.itemThumb.height=n.itemThumb.width*u,n.itemThumb.position.set(n.bg.width/2,n.bg.height/2),n.contentContainer.addChild(n.itemThumb),n}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,O(e,n),o.prototype.updateData=function(t){this.itemThumb.texture=A.Texture.from(t.splash)},r=o,(i=[{key:"bgTextureRef",get:function(){return"panel-shop-background-white-third.png"}}])&&C(r.prototype,i),a&&C(r,a),Object.defineProperty(r,"prototype",{writable:!1}),o}(k.a);function R(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var D=function(t){var e,n,r,i,a;function o(e){var n,r,i,a;n=t.call(this,e)||this,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),a=void 0,(i="itemThumb")in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,n.nStars=4,n.itemThumb=A.Sprite.from("item-kit.png"),n.itemThumb.anchor.set(.5);var o=n.itemThumb.height/n.itemThumb.width;return n.itemThumb.width=.82*n.bg.width,n.itemThumb.height=n.itemThumb.width*o,n.itemThumb.position.set(n.bg.width/2,n.bg.height/2),n.contentContainer.addChild(n.itemThumb),n}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,P(e,n),o.prototype.updateData=function(t){this.itemThumb.tint=t.color.default},r=o,(i=[{key:"bgTextureRef",get:function(){return"panel-shop-background-white-third.png"}}])&&R(r.prototype,i),a&&R(r,a),Object.defineProperty(r,"prototype",{writable:!1}),o}(k.a),I=n(265);function B(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N(t,e){return(N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var j=function(t){var e,n,r,i,a;function o(e){var n,r,i,a;return n=t.call(this,e)||this,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),a=void 0,(i="itemThumb")in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,n.nStars=10,n.itemThumb=new A.Sprite,n.itemThumb.anchor.set(.5),n.itemThumb.position.set(n.bg.width/2,n.bg.height/2),n.contentContainer.addChild(n.itemThumb),n}return n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,N(e,n),o.prototype.updateData=function(t){this.itemThumb.texture=A.Texture.from("assets/content/stadiums/stadium-artworks/background-"+t.id+".jpg");var e=this.itemThumb.height/this.itemThumb.width;this.itemThumb.width=.9*this.bg.width,this.itemThumb.height=this.bg.width*e},r=o,(i=[{key:"bgTextureRef",get:function(){return"panel-shop-background-white-half.png"}}])&&B(r.prototype,i),a&&B(r,a),Object.defineProperty(r,"prototype",{writable:!1}),o}(k.a),F=n(124),U=n(7),Y=n(4);function G(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function H(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){G(a,r,i,o,s,"next",t)}function s(t){G(a,r,i,o,s,"throw",t)}o(void 0)}))}}function z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function V(t,e){return(V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function W(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var X=function(t){var e,n;function i(e){var n;return W(z(n=t.call(this,e)||this),"app",void 0),W(z(n),"background",void 0),W(z(n),"width",void 0),W(z(n),"height",void 0),W(z(n),"assetsLoaded",void 0),W(z(n),"active",void 0),W(z(n),"rewardControlContainer",void 0),W(z(n),"bgCard",void 0),W(z(n),"watchAnAdMessage",void 0),W(z(n),"rewardIcon",void 0),W(z(n),"rewardMessage",void 0),W(z(n),"rewardDesc",void 0),W(z(n),"buttonContainer",void 0),W(z(n),"activeRewardData",void 0),W(z(n),"coinSplash",void 0),W(z(n),"party",void 0),W(z(n),"rewardFanfareContainer",void 0),W(z(n),"shadow",void 0),W(z(n),"rewardFanfareText",void 0),W(z(n),"itemCardContainer",void 0),W(z(n),"itemCard",void 0),n.app=e,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,V(e,n);var h=i.prototype;return h.init=function(){var t=H(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.background=new E.a({width:980,height:760,title:"STR_TITLE_REWARDS",isLoading:!0,hasArrows:!0}),this.view.addChild(this.background),this.background.hideNextArrow(!0),this.background.hidePreviousArrow(!0),this.assetsLoaded=!1,this.active=!1,-1===T.g.indexOf(Y.a.SCREEN_ID.REWARDS)?U.c.add(T.e,(function(t){t.type===T.f.SCREEN_ASSETS_LOADED&&t.screenId===Y.a.SCREEN_ID.REWARDS&&e.onResourcesLoadComplete()})):(this.assetsLoaded=!0,this.background.hideSpinner(!0),this.setup());case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),h.onResourcesLoadComplete=function(){this.assetsLoaded||(this.assetsLoaded=!0,this.background.hideSpinner(),this.setup(),this.active&&this.showContent())},h.hide=function(){this.active=!1},h.show=function(){this.active=!0,this.background.scale.set(0);var t=(this.height-this.app.overlays.header.height)/this.background.panelHeight;Object(l.tween)(this.background.scale,1,{x:t,y:t,ease:"Elastic.easeOut",delay:.2}),this.assetsLoaded&&this.showContent()},h.update=function(t){this.background.update(t),this.party&&this.party.update(this.view.position,t),this.itemCard&&this.itemCard.update(t)},h.resize=function(t,e){this.width=t,this.height=e,this.background.position.set(t/2,e/2),this.party&&(this.party.w=t,this.party.h=e),this.itemCardContainer&&this.itemCardContainer.position.set(t/2,e/2+50),this.shadow&&(this.shadow.width=t,this.shadow.height=e)},h.setup=function(){this.rewardControlContainer=new A.Container,this.background.content.addChild(this.rewardControlContainer),this.bgCard=A.Sprite.from("panel-popup-white.png"),this.bgCard.anchor.set(.5),this.bgCard.position.y=20,this.rewardControlContainer.addChild(this.bgCard),this.watchAnAdMessage=new M.a("placeholder",{fill:"0x493008",fontSize:40,maxWidth:840,align:"center"}),this.watchAnAdMessage.setText("STR_UNLOCKABLES_WATCH_AN_AD"),this.watchAnAdMessage.anchor.set(.5),this.watchAnAdMessage.position.set(0,-200),this.rewardControlContainer.addChild(this.watchAnAdMessage),this.rewardMessage=new M.a("placeholder",{fill:"0x493008",fontSize:40,align:"center",maxWidth:200}),this.rewardMessage.setText("STR_UNLOCKABLES_REWARD"),this.rewardMessage.anchor.set(.5,1),this.rewardMessage.position.set(-250,-20),this.bgCard.addChild(this.rewardMessage),this.rewardDesc=new M.a("placeholder",{fill:"0x493008",fontSize:34,align:"center",wordWrap:!0,maxWidth:200,wordWrapWidth:200}),this.rewardDesc.setText(" "),this.rewardDesc.anchor.set(.5,0),this.rewardDesc.position.set(-250,0),this.bgCard.addChild(this.rewardDesc),this.rewardIcon=new A.Sprite,this.rewardIcon.anchor.set(.5),this.rewardIcon.position.x=130,this.bgCard.addChild(this.rewardIcon),this.buttonContainer=new A.Container,this.rewardControlContainer.addChild(this.buttonContainer),this.coinSplash=new s.a(this.app),this.rewardFanfareContainer=new A.Container,this.shadow=new A.Graphics,this.shadow.beginFill(0),this.shadow.interactive=!0,this.shadow.drawRect(0,0,32,32),this.rewardFanfareContainer.addChild(this.shadow),this.party=new F.a(this.app.width,this.app.height,1),this.rewardFanfareContainer.addChild(this.party),this.itemCardContainer=new A.Container,this.rewardFanfareContainer.addChild(this.itemCardContainer);this.rewardFanfareText=new M.a(null,{fill:"white",fontSize:40,stroke:!0,strokeThickness:8,lineJoin:"round",letterSpacing:3}),this.rewardFanfareText.anchor.set(.5),this.rewardFanfareText.alpha=0},h.initButtons=function(t){void 0===t&&(t="Continue");var e,n,r=new A.Graphics,i=null;switch(t){case"ConfirmCancel":var a=i=new o.c({color:o.a.GREEN,icon:"icon-tick.png"});a.position.set(90,0),a.onPress.add(this.confirmPressed,this),this.buttonContainer.addChild(a);var s=new o.c({color:o.a.PINK,icon:"icon-cross.png"});s.position.set(-90,0),s.onPress.add(this.cancelPressed,this),this.buttonContainer.addChild(s),this.buttonContainer.position.y=235;break;case"Continue":default:var u=i=new o.c({text:"STR_WATCH_ADVERTISEMENT",width:350,color:o.a.GREEN});u.position.y=225,u.onPress.add(this.confirmPressed,this),this.buttonContainer.addChild(u)}e=i.width+20,n=i.height+20+30,r.beginFill(15335555),r.drawRoundedRect(-10,-10,e,n,30),r.endFill(),r.position.set(i.x-i.width/2,i.y-i.height/2),this.buttonContainer.addChildAt(r,0);var c={fill:"white",fontSize:25,stroke:!1,maxWidth:i.width},l=new M.a("STR_AD",c);l.anchor.set(.5,1),l.position.set(i.x,i.y+i.height/2+10+20),this.buttonContainer.addChild(l)},h.updateWithCurrentReward=function(){this.activeRewardData=(x||S(),x),this.rewardIcon.texture=A.Texture.from(this.activeRewardData.icon),this.activeRewardData.descStr&&this.rewardDesc.setText(this.activeRewardData.descStr)},h.showContent=function(){this.resize(this.width,this.height),this.updateWithCurrentReward(),this.buttonContainer.visible=!0,this.rewardControlContainer.visible=!0,this.rewardControlContainer.interactiveChildren=!0},h.cancelPressed=function(){this.rewardControlContainer.interactiveChildren=!1,this.gotoNextScene()},h.confirmPressed=function(){var t=H(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.rewardControlContainer.interactiveChildren=!1,this.app.overlays.header.lock(),this.buttonContainer.visible=!1,this.rewardControlContainer.visible=!1,this.app.ads.canPlayInterstitial()?this.app.ads.playInterstitial().then((function(t){t?e.executeReward((function(){e.gotoNextScene()})):e.gotoNextScene()})):l.Params.get("enableRewards",!1)?this.executeReward((function(){e.gotoNextScene()})):(this.rewardControlContainer.visible=!0,this.gotoNextScene());case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),h.executeReward=function(t){void 0===t&&(t=null);var e=null;switch(this.activeRewardData.type){case r.COINS:var n=this.activeRewardData.value,i=this.width/2+this.rewardIcon.x,o=this.height/2;this.rewardControlContainer.visible=!0,this.coinSplash.start(n,i,o),a.default.playSfx("sfx_getcoins"),"function"==typeof t&&Object(l.delay)(2).then((function(){t()}));break;case r.KIT:if("*"==this.activeRewardData.value){var s=c.b.locked();e=s[Math.floor(Math.random()*s.length)]}this.app.kits.unlockKit(e.id,!0),this.runItemUnlockedFX(e,t);break;case r.CHARACTER:if("*"==this.activeRewardData.value){var h=u.q.locked();e=h[Math.floor(Math.random()*h.length)]}this.app.characters.unlockCharacter(e.id,!0),this.runItemUnlockedFX(e,t);break;case r.STADIUM:if("*"==this.activeRewardData.value){var d=u.s.locked();e=d[Math.floor(Math.random()*d.length)]}this.app.stadiums.unlockStadium(e.id,!0),this.runItemUnlockedFX(e,t);break;case r.BALL:if("*"==this.activeRewardData.value){var p=u.p.locked();e=p[Math.floor(Math.random()*p.length)]}this.app.balls.unlockBall(e.id,!0),this.runItemUnlockedFX(e,t)}S()},h.runItemUnlockedFX=function(t,e){var n=this;void 0===e&&(e=null);switch(this.itemCard=null,this.activeRewardData.type){case r.CHARACTER:this.itemCard=new I.a(this.app);break;case r.KIT:this.itemCard=new D(this.app);break;case r.STADIUM:this.itemCard=new j(this.app);break;case r.BALL:this.itemCard=new L(this.app)}this.shadow.alpha=0,Object(l.tween)(this.shadow,1,{alpha:.65,delay:0}),Object(l.tween)(this.shadow,1,{alpha:0,delay:9,onComplete:function(){n.view.removeChild(n.rewardFanfareContainer),n.itemCard.removeChild(n.rewardFanfareText),n.itemCard.destroy(),n.itemCard=null,n.itemCardContainer.children.length=0,"function"==typeof e&&e()}}),this.party.alpha=0,Object(l.tween)(this.party,1,{alpha:1,delay:1}),Object(l.tween)(this.party,1,{alpha:0,delay:8}),this.rewardFanfareText.alpha=0,this.rewardFanfareText.x=0,this.rewardFanfareText.y=this.itemCard.height/2+25,this.itemCard.addChild(this.rewardFanfareText),this.activeRewardData.rewardStr&&(this.rewardFanfareText.setText(this.activeRewardData.rewardStr),Object(l.tween)(this.rewardFanfareText,2,{alpha:1,delay:3}),Object(l.tween)(this.rewardFanfareText,1,{alpha:0,delay:6})),this.view.addChild(this.rewardFanfareContainer),this.itemCard.updateData(t),this.itemCardContainer.addChild(this.itemCard),this.itemCard.position.y=2*-this.height,Object(l.tween)(this.itemCard.position,1,{y:-50,ease:"Back.easeOut",delay:2}),Object(l.delay)(3).then((function(){a.default.playSfx("character_unlock"),n.itemCard.shine(),n.itemCard.fadeIn(2)})),Object(l.tween)(this.itemCard.position,1,{y:2*-this.height,ease:"Back.easeIn",delay:7})},h.gotoNextScene=function(){this.app.controller.goBack(),this.app.overlays.header.unlock()},i}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));n(38),n(166),n(42),n(106),n(5),n(34),n(114),n(51),n(127),n(39);n(88);var r=/\s*?\#extension(.|)*?\n/g;var i={vertex:"\n        #version 300 es\n        #define WEBGL2\n        {{PRECISION}}\n        {{EXTENSIONS}}\n        #define texture2D texture\n        #define textureCube texture\n        #define varying out\n        #define attribute in\n    ",fragment:"\n        #version 300 es\n        #define WEBGL2\n        {{PRECISION}}\n        {{EXTENSIONS}}\n        #define varying in\n        #define texture2D texture\n        #define textureCube texture\n        #define gl_FragColor color\n        out vec4 color;\n    "},a={vertex:"\n        #version 100\n        {{PRECISION}}\n        {{EXTENSIONS}}\n    ",fragment:"\n        #version 100\n        {{PRECISION}}\n        {{EXTENSIONS}}\n    "},o=/\{\{(.*?)\}\}/g;function s(t){var e,n,r={};return(null!==(n=null===(e=t.match(o))||void 0===e?void 0:e.map((function(t){return t.replace(/[{()}]/g,"")})))&&void 0!==n?n:[]).forEach((function(t){r[t]=[]})),r}var u={},c=1;function l(t,e,n){if(t)for(var r in t)if("header"!==r){var i=e[r.toUpperCase()];i&&(n&&i.push("//----".concat(n,"----//")),i.push(t[r]))}}function h(t,e){var n=t;for(var r in e){var i=e[r];n=i.join("\n").length?n.replace("{{".concat(r,"}}"),"//-----".concat(r," START-----//\n").concat(i.join("\n"),"\n//----").concat(r," FINISH----//")):n.replace("{{".concat(r,"}}"),"")}return n}function d(t,e,n,o){var d,p,f=n.map((function(t){return t.cache||(t.cache=c++),t.cache})).sort((function(t,e){return t-e})).join("-");if(u[f])return u[f];var m=o?function(t){var e=[],n={};return t.forEach((function(t){n[t]||(n[t]=!0,e.push("#define ".concat(t)))})),e.join("\n")}(o):"",g=function(t,e){var n,i,a,o,s=t.filter((function(t){var e;return null===(e=t.vertex)||void 0===e?void 0:e.header})).map((function(t){return e&&t.vertex2?t.vertex2.header:t.vertex.header})).join("\n"),u=null!==(i=null===(n=s.match(r))||void 0===n?void 0:n.join("\n"))&&void 0!==i?i:"";s=s.replace(r,"");var c=t.filter((function(t){var e;return null===(e=t.fragment)||void 0===e?void 0:e.header})).map((function(t){return e&&t.fragment2?t.fragment2.header:t.fragment.header})).join("\n"),l=null!==(o=null===(a=c.match(r))||void 0===a?void 0:a.join("\n"))&&void 0!==o?o:"";return{vertex:{variables:s,extensions:u},fragment:{variables:c=c.replace(r,""),extensions:l}}}(n,t),y=t?i:a,v=y.vertex.replace("{{EXTENSIONS}}",g.vertex.extensions).replace("{{PRECISION}}","precision highp float;"),b=y.fragment.replace("{{EXTENSIONS}}",g.fragment.extensions).replace("{{PRECISION}}","precision highp float;"),_=s(e.vertex),w=s(e.fragment);n.forEach((function(e){l(t&&e.vertex2?e.vertex2:e.vertex,_,e.name),l(t&&e.fragment2?e.fragment2:e.fragment,w,e.name)}));var x=h(e.vertex,_),S=h(e.fragment,w),T="#define SHADER_NAME ".concat(null!==(d=e.name)&&void 0!==d?d:"high","-vert"),M="#define SHADER_NAME ".concat(null!==(p=e.name)&&void 0!==p?p:"high","-frag");return x="".concat(v,"\n").concat(T,"\n\n").concat(m,"\n\n").concat(g.vertex.variables,"\n").concat(x),S="".concat(b,"\n").concat(M,"\n\n").concat(m,"\n\n").concat(g.fragment.variables,"\n").concat(S),u[f]={vertex:x,fragment:S},u[f]}},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n(5),n(19),n(21),n(27);var r=n(0),i=n(9);function a(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=function(t){var e,n;function u(){var e;return s(a(e=t.call(this)||this),"bg",void 0),s(a(e),"icon",void 0),s(a(e),"message",void 0),s(a(e),"_width",void 0),s(a(e),"_height",void 0),e.bg=r.Sprite.from("challenge-complete-panel.png"),e._width=e.bg.texture.width,e._height=e.bg.texture.height,e.icon=r.Sprite.from("tick.png"),e.icon.anchor.set(.5),e.message=new i.a("Notification\nTest Message",{fill:"#fff",fontSize:42,wordWrap:!0,wordWrapWidth:420,padding:10,lineHeight:48,letterSpacing:1.5,align:"center"}),e.message.anchor.set(.5),e.addChild(e.bg),e.addChild(e.icon),e.addChild(e.message),e}n=t,(e=u).prototype=Object.create(n.prototype),e.prototype.constructor=e,o(e,n);var c=u.prototype;return c.setData=function(t){this.icon.texture=t.icon?r.Texture.from(t.icon):r.Texture.from("tick.png"),this.message.setText(t.message),this.resize()},c.resize=function(){var t=(this.bg.texture.height+10)/this.icon.texture.height;this.icon.scale.set(t),this.icon.position.y=this.bg.texture.height/2,this.message.position.x=this.bg.texture.width/2+20,this.message.position.y=this.bg.texture.height/2-2},u}(r.Container),c=n(1);function l(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={transitionDuration:.5,showDuration:1.5,delayDuration:.6},f=function(){function t(t,e){for(var n in void 0===e&&(e=p),d(this,"app",void 0),d(this,"notificationPanel",void 0),d(this,"queue",void 0),d(this,"transitionDuration",void 0),d(this,"showDuration",void 0),d(this,"delayDuration",void 0),d(this,"_notificationContainer",void 0),d(this,"_occupied",void 0),this.app=t,p)e.hasOwnProperty(n)||(e[n]=p[n]);this.queue=[],this._occupied=!1,this.transitionDuration=e.transitionDuration,this.showDuration=e.showDuration,this.delayDuration=e.delayDuration}var e,n,i,a=t.prototype;return a.setup=function(){var t,e=(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._notificationContainer=new r.Container,this.notificationPanel=new u,this.container.addChild(this.notificationPanel),this.notificationPanel.position.x=-this.notificationPanel.width,this.notificationPanel.scale.set(.9),this.notificationPanel.position.y=95;case 6:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){l(a,r,i,o,s,"next",t)}function s(t){l(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}(),a.addToQueue=function(t){this.queue.push(t),this.dispatchNotification()},a.dispatchNotification=function(){var t=this;if(0!==this.queue.length&&!this.occupied){this._occupied=!0;var e=this.queue.shift(),n=e.callback;this.notificationPanel.setData(e),Object(c.tween)(this.notificationPanel.position,this.transitionDuration,{x:70,ease:"Power2.easeOut",delay:this.delayDuration,onComplete:function(){n(),Object(c.tween)(t.notificationPanel.position,t.transitionDuration,{x:-t.notificationPanel.width,ease:"Power2.easeOut",delay:t.showDuration,onComplete:function(){t._occupied=!1,t.queue.length>0&&t.dispatchNotification()}})}})}},e=t,(n=[{key:"container",get:function(){return this._notificationContainer}},{key:"occupied",get:function(){return this._occupied}}])&&h(e.prototype,n),i&&h(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));n(502),n(38),n(106),n(5),n(19),n(92),n(34),n(42),n(184),n(21);var r=n(161),i=(n(23),n(29),n(30),n(15),n(22),n(20),n(140),n(107),n(51),n(94));function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function u(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var c=function(){function t(){o(this,t),this.hash=new Map}return u(t,[{key:"setItem",value:function(t,e){this.hash.set(t,e)}},{key:"getItem",value:function(t){return this.hash.get(t)}},{key:"clear",value:function(){this.hash.clear()}},{key:"removeItem",value:function(t){this.hash.delete(t)}},{key:"key",value:function(){}},{key:"length",get:function(){return this.hash.size}}]),t}(),l=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.a.LOCAL,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"com.goodboydigital";o(this,t),this.type=e,this.canSave=e===r.a.LOCAL?i.a.isLocalStorageAllowed:i.a.isSessionStorageAllowed,this.bundleId=n,this.canSave?this.storage=e===r.a.LOCAL?window.localStorage:window.sessionStorage:this.storage=new c}return u(t,[{key:"setItem",value:function(t,e){switch(a(e)){case"number":e=e.toString();break;case"object":e=JSON.stringify(e);break;case"boolean":e=e?"true":"false"}this.storage.setItem(this._composeKey(t),e)}},{key:"getItem",value:function(t){return this.storage.getItem(this._composeKey(t))}},{key:"getNumber",value:function(t){return parseFloat(this.getItem(t))}},{key:"getObject",value:function(t){return JSON.parse(this.getItem(t))}},{key:"getBoolean",value:function(t){return"true"===this.getItem(t)}},{key:"removeItem",value:function(t){return this.storage.removeItem(this._composeKey(t))}},{key:"clear",value:function(){this.storage.clear()}},{key:"_composeKey",value:function(t){return this.bundleId?"".concat(this.bundleId,".").concat(t):t}}]),t}(),h=n(4),d=n(25),p=n(40),f=n(49),m=n(8),g=n(1),y=n(24);function v(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=function(t){var e,n;function i(e){var n;return w(b(n=t.call(this,r.a.LOCAL,"com.tooncup")||this),"app",void 0),w(b(n),"dataCollection",void 0),w(b(n),"gettersCollection",void 0),w(b(n),"settersCollection",void 0),w(b(n),"saveFileData",void 0),w(b(n),"onSaveFileUpdated",void 0),n.app=e,n.dataCollection={},n.gettersCollection={},n.settersCollection={},n.onSaveFileUpdated=new y.Signal,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,_(e,n);var a=i.prototype;return a.getObject=function(e){try{return t.prototype.getObject.call(this,e)}catch(t){return null}},a.init=function(){var t,e=(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.swapNamespace("com.goodboydigital",this.bundleId),this.addDataSet(m.a,m.b,m.c),this.addDataSet(f.a,f.c,f.d),!window.cordova){t.next=7;break}return this.saveFileData={},t.next=7,this.loadSave();case 7:this.loadData("all"),this.autoMigrate(),this.applyUrlPrarams();case 13:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){v(a,r,i,o,s,"next",t)}function s(t){v(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}(),a.swapNamespace=function(t,e){for(var n=[],r=0;r<this.storage.length;r++){var i=this.storage.key(r)||"";i.startsWith(t)&&n.push(i)}for(var a=0,o=n;a<o.length;a++){var s=o[a],u=this.storage.getItem(s),c=s.replace(t,e);this.storage.removeItem(s),this.storage.getItem(c)||null!=u&&this.storage.setItem(c,u)}},a.addDataSet=function(t,e,n){for(var r in t)this.dataCollection[r]=t[r];for(var i in e)this.gettersCollection[i]=e[i];for(var a in n)this.settersCollection[a]=n[a]},a.applyUrlPrarams=function(){g.Params.get("lowSpec",!1)&&(m.a.device.lowSpec=!0),f.a.coins=g.Params.get("coins",f.a.coins)},a.loadData=function(t){for(var e in this.settersCollection)if(t===e||"all"===t){var n=void 0;if(this.saveFileData)n=this.saveFileData[e];else try{n=this.getObject(e)}catch(t){}if(n&&this.settersCollection[e](n),"all"!==t)break}},a.saveData=function(t){for(var e in this.gettersCollection)if(t===e){var n=void 0;n="function"==typeof this.gettersCollection[e]?this.gettersCollection[e]():this.gettersCollection[e].saveFormat(),this.setItem(e,n),this.saveFileData&&this.updateSave(e,n);break}},a.loadSave=function(){var t=this;return new Promise((function(e){window.resolveLocalFileSystemURL(window.cordova.file.dataDirectory,(function(n){n.getFile("saveData.json",{create:!0},(function(n){n.file((function(n){var r=new FileReader;r.onloadend=function(n){var r=n.target.result,i=(r=r.replace(/"encounterPowerups":"(.+?)}",/g,"")).split("}{");i.length>1&&(r="{"+i.pop());try{t.saveFileData=JSON.parse(r)}catch(e){t.saveFileData={}}t.onSaveFileUpdated.emit(),e()},r.readAsText(n)}),(function(){}))}),(function(){}))}),(function(){}))}))},a.updateSave=function(t,e){this.saveFileData[t]=e,this.writeSave()},a.writeSave=function(){var t=this;return new Promise((function(e){window.resolveLocalFileSystemURL(window.cordova.file.dataDirectory,(function(n){n.getFile("saveData.json",{create:!0},(function(n){n.createWriter((function(n){n.onwriteend=function(){t.onSaveFileUpdated.emit(),e()},n.write(JSON.stringify(t.saveFileData))}),(function(){}))}),(function(){}))}),(function(){}))}))},a.debugSaveDataContent=function(){var t=this,e=!1,n=document.createElement("div"),r=document.createElement("div"),i=document.createElement("p");n.style.position="fixed",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.width="80vw",n.style.backgroundColor="rgba(0,0,0,0.6)",n.style.color="#ffffff",n.style.zIndex="10000",n.style.overflowY="scroll",n.style.transform="translateX(100%)",r.style.position="absolute",r.style.backgroundColor="red",r.style.width="2rem",r.style.height="2rem",r.style.top="0",r.style.right="0",r.style.zIndex="10000",r.style.textAlign="center",r.style.verticalAlign="middle",r.style.fontSize="1.5rem",r.style.color="#ffffff",r.innerText="<",r.onclick=function(){e=!e,r.innerText=e?"X":"<",n.style.transform=e?"translateX(0)":"translateX(100%)"},i.innerText="[NO SAVE FILE]",i.style.padding="1vw 2.5rem 1vw 3vw",i.style.fontFamily="Roboto",i.style.fontWeight="400",i.style.fontSize="2vw",i.style.width="80%",n.appendChild(i),document.body.appendChild(n),document.body.appendChild(r),this.onSaveFileUpdated.connect((function(){i.innerText=JSON.stringify(t.saveFileData,null,1)}))},a.autoMigrate=function(){m.a.cache.dataVersion!==h.a.DATA_MIGRATION_VERSION&&(this.getNumber("dataVersion")||0!==m.a.cache.dataVersion||this.migrateCharacterUnlockData(),m.a.cache.dataVersion<2&&this.migrateCoinsAndSessionData(),m.a.cache.dataVersion<3&&this.migrateStandAloneData(),m.a.cache.dataVersion<4&&this.migrateLeagueData(),m.a.cache.dataVersion=h.a.DATA_MIGRATION_VERSION,this.saveData("cache"),this.removeItem("dataVersion"))},a.migrateCharacterUnlockData=function(){var t=this,e=p.d.showable(),n=!1,r=this.getObject("unlocked")||[];e.forEach((function(e){if(-1!==r.indexOf(e.id))t.app.charactersSystem.unlockCharacter(e.id),e.unlockedPanels=new Array(9).fill(null).map((function(t,e){return e}));else{var i=t.getObject("unlockedPanels_"+e.id);i&&(i.length>=9?(t.app.charactersSystem.unlockCharacter(e.id),e.unlockedPanels=new Array(9).fill(null).map((function(t,e){return e}))):i.some((function(t){return t>8}))?e.unlockedPanels=new Array(i.length).fill(null).map((function(t,e){return e})):e.unlockedPanels=i,n=!0)}t.removeItem("unlockedPanels_"+e.id)})),this.removeItem("unlocked"),n&&this.saveData("characters")},a.migrateCoinsAndSessionData=function(){var t;(t=this.getItem("userCountry"))&&(m.a.cache.userCountry=t),(t=this.getNumber("coins"))&&(f.a.coins=t),!0===(t=this.getBoolean("muted"))&&(m.a.settings.muted=!0)},a.migrateStandAloneData=function(){if(window.cordova?f.a.coins=this.saveFileData.coins||0:(f.a.coins=this.getNumber("coins")||0,this.removeItem("coins")),window.cordova?m.a.settings.muted=!!this.saveFileData.muted:(m.a.settings.muted=!!this.getBoolean("muted"),this.removeItem("muted")),window.cordova){var t=this.saveFileData.language;t&&(m.a.settings.language=t,m.a.cache.languageInitialised=!0)}else m.a.settings.language=this.getItem("language"),this.removeItem("language");if(window.cordova?m.a.cache.userCountry=this.saveFileData.userCountry:(m.a.cache.userCountry=this.getItem("userCountry"),this.removeItem("userCountry")),window.cordova?m.a.cache.unlockablesVisited=!!this.saveFileData.seenNewUnlockables:(m.a.cache.unlockablesVisited=!!this.getBoolean("seenNewUnlockables"),this.removeItem("seenNewUnlockables")),window.cordova?m.a.cache.gdprAccepted=!1===this.saveFileData.gdprPopup:(m.a.cache.gdprAccepted=!1===this.getBoolean("gdprPopup"),this.removeItem("gdprPopup")),window.cordova)m.a.cache.tutorialCompleted=!1===this.saveFileData.showTutorial;else{var e=!0;this.getItem("showTutorial")&&!1===this.getBoolean("showTutorial")&&(e=!1),m.a.cache.tutorialCompleted=!e,this.removeItem("showTutorial")}this.removeItem("encounterPowerups"),this.saveData("cache"),this.saveData("settings")},a.migrateLeagueData=function(){var t=!1;if(d.g)for(var e in d.g)if(d.g[e].status==d.f.INCOMPLETE||d.g[e].status==d.f.IN_PROGRESS){var n=void 0,r=d.g[e].targetPoints;switch(e){case"pro":n=100;break;case"ace":n=500;break;case"star":n=1e3}var i=d.g[e].points/n,a=Math.floor(i*r);d.g[e].points=a,t=!0}t&&this.saveData("leagues")},i}(l)},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));n(27),n(5),n(107),n(99),n(23),n(88),n(126),n(34),n(139);var r=n(8),i=n(220),a=n(0),o=(n(128),n(132),n(38),n(106),n(39),n(80)),s=n(40);function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){var e,n;function i(e){var n,r,i,a;return n=t.call(this,e)||this,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),a=void 0,(i="data")in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,n.onTextRetrieved.add((function(t){t=n.replaceVariableContent(t),n.applyText(t)})),n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,u(e,n);var a=i.prototype;return a.replaceVariableContent=function(t){for(var e in this.data)if(e.includes("Amount")||"duration"===e){t=t.replace("["+e+"]",this.data[e]);var n=e.replace("Amount","");if(t.includes("<"+n+">"))if("powerup"===n&&"tr"===r.a.settings.language)t="ANY"===this.data.powerup?t.replace("<"+n+">",o.b.translate("STR_CHALLENGES_"+n.toUpperCase()+"_UNSPECIFIED")):t.replace("<"+n+">",o.b.translate("STR_CHALLENGES_"+n.toUpperCase()));else if("cs"===r.a.settings.language){var i=o.b.translate("STR_CHALLENGES_"+n.toUpperCase());"powerup"===n?t=t.replace("<"+n+">",o.b.translate("STR_CHALLENGES_TIME")):this.data[e]>1&&this.data[e]<=4?i=o.b.translate("STR_CHALLENGES_"+n.toUpperCase()+"_PLURAL"):this.data[e]>4&&(i=o.b.translate("STR_CHALLENGES_"+n.toUpperCase()+"_PLURAL2")),t=t.replace("<"+n+">",i)}else t=t.replace("<"+n+">",this.data[e]>1?o.b.translate("STR_CHALLENGES_"+n.toUpperCase()+"_PLURAL"):o.b.translate("STR_CHALLENGES_"+n.toUpperCase()))}else if("character"===e)if("ANY"===this.data[e])t=t.replace("[character]",o.b.translate("STR_CHALLENGES_ANY_CHARACTER"));else if(s.a[this.data[e]]){var a=s.a[this.data[e]].name;if(this.data.onlyCharacter)t=t.replace("[character]",o.b.translate(a));else{var u=o.b.translate("STR_CHALLENGES_TEAM_FEATURING_CHARACTER");u=u.replace("[character]",o.b.translate(a)),t=t.replace("[character]",u)}}else t=t.replace("[character]","ERROR");else"powerup"===e&&("ANY"===this.data[e]?t="cs"===r.a.settings.language?t.replace("[powerup]",o.b.translate("STR_CHALLENGES_POWERUP")):t.replace("ru"===r.a.settings.language?" [powerup]":" [powerup]",""):o.b.translate("STR_POWERUP_"+this.data[e].toUpperCase())?(t=t.replace("[powerup]",o.b.translate("STR_POWERUP_"+this.data[e].toUpperCase()))).includes("<action>")&&(t=t.replace("<action>",o.b.translate("STR_CHALLENGES_"+this.data[e].toUpperCase()+"_ACTION"))):t=t.replace("[powerup]","ERROR"));return this.data&&"SCOPE_GAME"===this.data.scope?-1!==t.indexOf("[inAGame]")?t=t.replace("[inAGame]",o.b.translate("STR_CHALLENGES_IN_A_GAME")):t+=o.b.translate("STR_CHALLENGES_IN_A_GAME"):"SCOPE_GAME"!==this.data.scope&&t.indexOf("[inAGame]")&&(t=t.replace("[inAGame]","")),t},a.setData=function(t,e){this.data=e,this.setText(t)},i}(n(9).a);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){m(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){var e,n;function o(){var e;m(p(e=t.call(this)||this),"bg",void 0),m(p(e),"difficultyBadge",void 0),m(p(e),"infoContainer",void 0),m(p(e),"percentage",void 0),m(p(e),"reward",void 0),m(p(e),"tick",void 0),m(p(e),"message",void 0),m(p(e),"targetChallenge",void 0),m(p(e),"_width",void 0),m(p(e),"_height",void 0),e.bg=a.Sprite.from("challenges-panel-bg.png"),e._width=e.bg.texture.width,e._height=e.bg.texture.height,e.infoContainer=a.Sprite.from("reward-percentage.png"),e.infoContainer.anchor.set(1,.5);var n={fontSize:37,fontFamily:"lubalin",maxWidth:200},r=new a.Text("percent",h(h({},n),{},{fill:"#fff"})),i=new a.Text("reward",h(h({},n),{},{fill:"#000"}));return r.anchor.set(.5),i.anchor.set(.5),e.infoContainer.addChild(r),e.infoContainer.addChild(i),e.percentage=r,e.reward=i,e.tick=a.Sprite.from("tick.png"),e.tick.anchor.set(1,.5),e.message=new c("message"),e.message.style={fill:"#000",fontSize:24,wordWrap:!0,wordWrapWidth:420,breakWords:!0,padding:10,lineHeight:30},e.message.anchor.set(0,.5),e.addChild(e.bg),e.addChild(e.infoContainer),e.addChild(e.tick),e.addChild(e.message),e}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,f(e,n);var s,u,l,g=o.prototype;return g.extractData=function(){var t;switch(this.targetChallenge.type){case"TYPE_SCORE_GOALS":t={goalAmount:this.targetChallenge.goalAmount,character:this.targetChallenge.conditionCharacterId,scope:this.targetChallenge.scope,onlyCharacter:!0};break;case"TYPE_WIN_GAMES":t={gameAmount:this.targetChallenge.goalAmount,character:this.targetChallenge.conditionCharacterId,scope:this.targetChallenge.scope,onlyCharacter:!0};break;case"TYPE_PLAY_WITH_CHARACTER":t={gameAmount:this.targetChallenge.goalAmount,character:this.targetChallenge.conditionCharacterId,scope:this.targetChallenge.scope};break;case"TYPE_USE_POWERUPS":t={powerupAmount:this.targetChallenge.goalAmount,powerup:this.targetChallenge.conditionPowerupId,scope:this.targetChallenge.scope};break;case"TYPE_WIN_TOURNAMENT":t={character:this.targetChallenge.conditionCharacterId,scope:this.targetChallenge.scope};break;case"TYPE_GOALS_BEFORE_TIME":t={goalAmount:this.targetChallenge.goalAmount,duration:this.targetChallenge.conditionDuration,scope:this.targetChallenge.scope}}return t},g.setContent=function(t){this.targetChallenge=t,this.message.setData("STR_CHALLENGES_"+t.type,this.extractData()),this.setDifficultyBadge(),this.reward.text=i.c[t.difficulty-1].toString(),this.refresh()},g.setDifficultyBadge=function(){this.difficultyBadge=a.Sprite.from("medal-"+this.targetChallenge.difficulty+".png"),this.difficultyBadge.anchor.set(0,.5),this.addChild(this.difficultyBadge)},g.refresh=function(){this.tick.visible=this.targetChallenge.completed,this.infoContainer.visible=!this.targetChallenge.completed;var t="tr"===r.a.settings.language?"%"+this.targetChallenge.progressPercentage+("no"===r.a.settings.language?" ":""):this.targetChallenge.progressPercentage+("no"===r.a.settings.language?" ":"")+"%";this.percentage.text=t,this.resize()},g.resize=function(){this.infoContainer.position.x=this.bg.texture.width-8,this.infoContainer.position.y=this.bg.texture.height/2,this.reward.position.x=-153,this.percentage.position.x=-55,this.tick.position.x=this.bg.texture.width-15,this.tick.position.y=this.bg.texture.height/2,this.difficultyBadge.position.x=8,this.difficultyBadge.position.y=this.bg.texture.height/2,this.message.position.x=146,this.message.position.y=this.bg.texture.height/2},s=o,(u=[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}}])&&d(s.prototype,u),l&&d(s,l),Object.defineProperty(s,"prototype",{writable:!1}),o}(a.Container)},function(t){t.exports=JSON.parse('{"default":{"image":{"assets/preload/bar-1.png":{"shortcut":"bar-1.png","webp":{"default":"assets/preload/bar-1.webp","low":"assets/preload/bar-1@0.5x.webp"},"standard":{"default":"assets/preload/bar-1.png","low":"assets/preload/bar-1@0.5x.png"}},"assets/preload/bar-2.png":{"shortcut":"bar-2.png","webp":{"default":"assets/preload/bar-2.webp","low":"assets/preload/bar-2@0.5x.webp"},"standard":{"default":"assets/preload/bar-2.png","low":"assets/preload/bar-2@0.5x.png"}},"assets/preload/bar-3.png":{"shortcut":"bar-3.png","webp":{"default":"assets/preload/bar-3.webp","low":"assets/preload/bar-3@0.5x.webp"},"standard":{"default":"assets/preload/bar-3.png","low":"assets/preload/bar-3@0.5x.png"}},"assets/preload/bar-4.png":{"shortcut":"bar-4.png","webp":{"default":"assets/preload/bar-4.webp","low":"assets/preload/bar-4@0.5x.webp"},"standard":{"default":"assets/preload/bar-4.png","low":"assets/preload/bar-4@0.5x.png"}},"assets/preload/bar-5.png":{"shortcut":"bar-5.png","webp":{"default":"assets/preload/bar-5.webp","low":"assets/preload/bar-5@0.5x.webp"},"standard":{"default":"assets/preload/bar-5.png","low":"assets/preload/bar-5@0.5x.png"}},"assets/preload/bar-6.png":{"shortcut":"bar-6.png","webp":{"default":"assets/preload/bar-6.webp","low":"assets/preload/bar-6@0.5x.webp"},"standard":{"default":"assets/preload/bar-6.png","low":"assets/preload/bar-6@0.5x.png"}},"assets/preload/bar-top.png":{"shortcut":"bar-top.png","webp":{"default":"assets/preload/bar-top.webp","low":"assets/preload/bar-top@0.5x.webp"},"standard":{"default":"assets/preload/bar-top.png","low":"assets/preload/bar-top@0.5x.png"}},"assets/preload/cn-games-logo.png":{"shortcut":"cn-games-logo.png","webp":{"default":"assets/preload/cn-games-logo.webp","low":"assets/preload/cn-games-logo@0.5x.webp"},"standard":{"default":"assets/preload/cn-games-logo.png","low":"assets/preload/cn-games-logo@0.5x.png"}},"assets/preload/intro-logo-goodboy.png":{"shortcut":"intro-logo-goodboy.png","webp":{"default":"assets/preload/intro-logo-goodboy.webp","low":"assets/preload/intro-logo-goodboy@0.5x.webp"},"standard":{"default":"assets/preload/intro-logo-goodboy.png","low":"assets/preload/intro-logo-goodboy@0.5x.png"}},"assets/preload/loading-wheel.png":{"shortcut":"loading-wheel.png","webp":{"default":"assets/preload/loading-wheel.webp","low":"assets/preload/loading-wheel@0.5x.webp"},"standard":{"default":"assets/preload/loading-wheel.png","low":"assets/preload/loading-wheel@0.5x.png"}},"assets/preload/logo-cn.png":{"shortcut":"logo-cn.png","webp":{"default":"assets/preload/logo-cn.webp","low":"assets/preload/logo-cn@0.5x.webp"},"standard":{"default":"assets/preload/logo-cn.png","low":"assets/preload/logo-cn@0.5x.png"}},"assets/preload/play-button.png":{"shortcut":"play-button.png","webp":{"default":"assets/preload/play-button.webp","low":"assets/preload/play-button@0.5x.webp"},"standard":{"default":"assets/preload/play-button.png","low":"assets/preload/play-button@0.5x.png"}}},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{"assets/preload/cn_intro.mp4":{"shortcut":"cn_intro.mp4","default":"assets/preload/cn_intro.mp4"},"console-log-viewer.js":{"shortcut":"console-log-viewer.js","default":"console-log-viewer.js"},"index.hbs":{"shortcut":"index.hbs","default":"index.html"},"index_.hbs":{"shortcut":"index_.hbs","default":"index_.html"}}},"assets/audio":{"image":{},"fonts":{},"audio":{"assets/audio/applause-loop.mp3":{"shortcut":"applause-loop.mp3","mp3":"assets/audio/applause-loop.mp3","ogg":"assets/audio/applause-loop.ogg"},"assets/audio/applause_extra2.mp3":{"shortcut":"applause_extra2.mp3","mp3":"assets/audio/applause_extra2.mp3","ogg":"assets/audio/applause_extra2.ogg"},"assets/audio/ball_pickup.mp3":{"shortcut":"ball_pickup.mp3","mp3":"assets/audio/ball_pickup.mp3","ogg":"assets/audio/ball_pickup.ogg"},"assets/audio/ballkick_pass.mp3":{"shortcut":"ballkick_pass.mp3","mp3":"assets/audio/ballkick_pass.mp3","ogg":"assets/audio/ballkick_pass.ogg"},"assets/audio/ballkick_post.mp3":{"shortcut":"ballkick_post.mp3","mp3":"assets/audio/ballkick_post.mp3","ogg":"assets/audio/ballkick_post.ogg"},"assets/audio/ballkick_shoot.mp3":{"shortcut":"ballkick_shoot.mp3","mp3":"assets/audio/ballkick_shoot.mp3","ogg":"assets/audio/ballkick_shoot.ogg"},"assets/audio/ballkick_shoot_hard.mp3":{"shortcut":"ballkick_shoot_hard.mp3","mp3":"assets/audio/ballkick_shoot_hard.mp3","ogg":"assets/audio/ballkick_shoot_hard.ogg"},"assets/audio/big_kick.mp3":{"shortcut":"big_kick.mp3","mp3":"assets/audio/big_kick.mp3","ogg":"assets/audio/big_kick.ogg"},"assets/audio/button_deselect.mp3":{"shortcut":"button_deselect.mp3","mp3":"assets/audio/button_deselect.mp3","ogg":"assets/audio/button_deselect.ogg"},"assets/audio/button_press.mp3":{"shortcut":"button_press.mp3","mp3":"assets/audio/button_press.mp3","ogg":"assets/audio/button_press.ogg"},"assets/audio/button_press2.mp3":{"shortcut":"button_press2.mp3","mp3":"assets/audio/button_press2.mp3","ogg":"assets/audio/button_press2.ogg"},"assets/audio/button_roll.mp3":{"shortcut":"button_roll.mp3","mp3":"assets/audio/button_roll.mp3","ogg":"assets/audio/button_roll.ogg"},"assets/audio/character_unlock.mp3":{"shortcut":"character_unlock.mp3","mp3":"assets/audio/character_unlock.mp3","ogg":"assets/audio/character_unlock.ogg"},"assets/audio/crowd_goal_3.mp3":{"shortcut":"crowd_goal_3.mp3","mp3":"assets/audio/crowd_goal_3.mp3","ogg":"assets/audio/crowd_goal_3.ogg"},"assets/audio/crowd_normal_1.mp3":{"shortcut":"crowd_normal_1.mp3","mp3":"assets/audio/crowd_normal_1.mp3","ogg":"assets/audio/crowd_normal_1.ogg"},"assets/audio/crowd_normal_2.mp3":{"shortcut":"crowd_normal_2.mp3","mp3":"assets/audio/crowd_normal_2.mp3","ogg":"assets/audio/crowd_normal_2.ogg"},"assets/audio/crowd_normal_3.mp3":{"shortcut":"crowd_normal_3.mp3","mp3":"assets/audio/crowd_normal_3.mp3","ogg":"assets/audio/crowd_normal_3.ogg"},"assets/audio/electro_cute.mp3":{"shortcut":"electro_cute.mp3","mp3":"assets/audio/electro_cute.mp3","ogg":"assets/audio/electro_cute.ogg"},"assets/audio/goal_coins.mp3":{"shortcut":"goal_coins.mp3","mp3":"assets/audio/goal_coins.mp3","ogg":"assets/audio/goal_coins.ogg"},"assets/audio/music-main-loop.mp3":{"shortcut":"music-main-loop.mp3","mp3":"assets/audio/music-main-loop.mp3","ogg":"assets/audio/music-main-loop.ogg"},"assets/audio/music-pause-screen.mp3":{"shortcut":"music-pause-screen.mp3","mp3":"assets/audio/music-pause-screen.mp3","ogg":"assets/audio/music-pause-screen.ogg"},"assets/audio/music-tournament-screen.mp3":{"shortcut":"music-tournament-screen.mp3","mp3":"assets/audio/music-tournament-screen.mp3","ogg":"assets/audio/music-tournament-screen.ogg"},"assets/audio/music-trophy-screen.mp3":{"shortcut":"music-trophy-screen.mp3","mp3":"assets/audio/music-trophy-screen.mp3","ogg":"assets/audio/music-trophy-screen.ogg"},"assets/audio/power_up_charge.mp3":{"shortcut":"power_up_charge.mp3","mp3":"assets/audio/power_up_charge.mp3","ogg":"assets/audio/power_up_charge.ogg"},"assets/audio/sfx_banana_01.mp3":{"shortcut":"sfx_banana_01.mp3","mp3":"assets/audio/sfx_banana_01.mp3","ogg":"assets/audio/sfx_banana_01.ogg"},"assets/audio/sfx_banana_02.mp3":{"shortcut":"sfx_banana_02.mp3","mp3":"assets/audio/sfx_banana_02.mp3","ogg":"assets/audio/sfx_banana_02.ogg"},"assets/audio/sfx_banana_03.mp3":{"shortcut":"sfx_banana_03.mp3","mp3":"assets/audio/sfx_banana_03.mp3","ogg":"assets/audio/sfx_banana_03.ogg"},"assets/audio/sfx_banana_04.mp3":{"shortcut":"sfx_banana_04.mp3","mp3":"assets/audio/sfx_banana_04.mp3","ogg":"assets/audio/sfx_banana_04.ogg"},"assets/audio/sfx_banana_05.mp3":{"shortcut":"sfx_banana_05.mp3","mp3":"assets/audio/sfx_banana_05.mp3","ogg":"assets/audio/sfx_banana_05.ogg"},"assets/audio/sfx_coin_01.mp3":{"shortcut":"sfx_coin_01.mp3","mp3":"assets/audio/sfx_coin_01.mp3","ogg":"assets/audio/sfx_coin_01.ogg"},"assets/audio/sfx_freeze.mp3":{"shortcut":"sfx_freeze.mp3","mp3":"assets/audio/sfx_freeze.mp3","ogg":"assets/audio/sfx_freeze.ogg"},"assets/audio/sfx_getcoins.mp3":{"shortcut":"sfx_getcoins.mp3","mp3":"assets/audio/sfx_getcoins.mp3","ogg":"assets/audio/sfx_getcoins.ogg"},"assets/audio/sfx_reveal.mp3":{"shortcut":"sfx_reveal.mp3","mp3":"assets/audio/sfx_reveal.mp3","ogg":"assets/audio/sfx_reveal.ogg"},"assets/audio/sfx_shrink.mp3":{"shortcut":"sfx_shrink.mp3","mp3":"assets/audio/sfx_shrink.mp3","ogg":"assets/audio/sfx_shrink.ogg"},"assets/audio/sfx_snowball.mp3":{"shortcut":"sfx_snowball.mp3","mp3":"assets/audio/sfx_snowball.mp3","ogg":"assets/audio/sfx_snowball.ogg"},"assets/audio/sfx_squares.mp3":{"shortcut":"sfx_squares.mp3","mp3":"assets/audio/sfx_squares.mp3","ogg":"assets/audio/sfx_squares.ogg"},"assets/audio/slide_1.mp3":{"shortcut":"slide_1.mp3","mp3":"assets/audio/slide_1.mp3","ogg":"assets/audio/slide_1.ogg"},"assets/audio/slide_2.mp3":{"shortcut":"slide_2.mp3","mp3":"assets/audio/slide_2.mp3","ogg":"assets/audio/slide_2.ogg"},"assets/audio/slide_3.mp3":{"shortcut":"slide_3.mp3","mp3":"assets/audio/slide_3.mp3","ogg":"assets/audio/slide_3.ogg"},"assets/audio/squash.mp3":{"shortcut":"squash.mp3","mp3":"assets/audio/squash.mp3","ogg":"assets/audio/squash.ogg"},"assets/audio/super/APPLE_5.mp3":{"shortcut":"APPLE_5.mp3","mp3":"assets/audio/super/APPLE_5.mp3","ogg":"assets/audio/super/APPLE_5.ogg"},"assets/audio/super/Adventure_Time_BMO.mp3":{"shortcut":"Adventure_Time_BMO.mp3","mp3":"assets/audio/super/Adventure_Time_BMO.mp3","ogg":"assets/audio/super/Adventure_Time_BMO.ogg"},"assets/audio/super/Adventure_Time_Bubblegum.mp3":{"shortcut":"Adventure_Time_Bubblegum.mp3","mp3":"assets/audio/super/Adventure_Time_Bubblegum.mp3","ogg":"assets/audio/super/Adventure_Time_Bubblegum.ogg"},"assets/audio/super/Adventure_Time_Finn.mp3":{"shortcut":"Adventure_Time_Finn.mp3","mp3":"assets/audio/super/Adventure_Time_Finn.mp3","ogg":"assets/audio/super/Adventure_Time_Finn.ogg"},"assets/audio/super/Adventure_Time_Jake.mp3":{"shortcut":"Adventure_Time_Jake.mp3","mp3":"assets/audio/super/Adventure_Time_Jake.mp3","ogg":"assets/audio/super/Adventure_Time_Jake.ogg"},"assets/audio/super/Adventure_Time_Marcelline.mp3":{"shortcut":"Adventure_Time_Marcelline.mp3","mp3":"assets/audio/super/Adventure_Time_Marcelline.mp3","ogg":"assets/audio/super/Adventure_Time_Marcelline.ogg"},"assets/audio/super/BATGIRL_2.mp3":{"shortcut":"BATGIRL_2.mp3","mp3":"assets/audio/super/BATGIRL_2.mp3","ogg":"assets/audio/super/BATGIRL_2.ogg"},"assets/audio/super/BeastBoy_woohoohoo.mp3":{"shortcut":"BeastBoy_woohoohoo.mp3","mp3":"assets/audio/super/BeastBoy_woohoohoo.mp3","ogg":"assets/audio/super/BeastBoy_woohoohoo.ogg"},"assets/audio/super/Ben_10_Ben.mp3":{"shortcut":"Ben_10_Ben.mp3","mp3":"assets/audio/super/Ben_10_Ben.mp3","ogg":"assets/audio/super/Ben_10_Ben.ogg"},"assets/audio/super/Ben_10_Four_Arms.mp3":{"shortcut":"Ben_10_Four_Arms.mp3","mp3":"assets/audio/super/Ben_10_Four_Arms.mp3","ogg":"assets/audio/super/Ben_10_Four_Arms.ogg"},"assets/audio/super/Ben_10_XLR8.mp3":{"shortcut":"Ben_10_XLR8.mp3","mp3":"assets/audio/super/Ben_10_XLR8.mp3","ogg":"assets/audio/super/Ben_10_XLR8.ogg"},"assets/audio/super/CRAIG_2.mp3":{"shortcut":"CRAIG_2.mp3","mp3":"assets/audio/super/CRAIG_2.mp3","ogg":"assets/audio/super/CRAIG_2.ogg"},"assets/audio/super/EFE_Elliott.mp3":{"shortcut":"EFE_Elliott.mp3","mp3":"assets/audio/super/EFE_Elliott.mp3","ogg":"assets/audio/super/EFE_Elliott.ogg"},"assets/audio/super/EFE_Jessica.mp3":{"shortcut":"EFE_Jessica.mp3","mp3":"assets/audio/super/EFE_Jessica.mp3","ogg":"assets/audio/super/EFE_Jessica.ogg"},"assets/audio/super/EFE_Mo.mp3":{"shortcut":"EFE_Mo.mp3","mp3":"assets/audio/super/EFE_Mo.mp3","ogg":"assets/audio/super/EFE_Mo.ogg"},"assets/audio/super/Gumball_Anais.mp3":{"shortcut":"Gumball_Anais.mp3","mp3":"assets/audio/super/Gumball_Anais.mp3","ogg":"assets/audio/super/Gumball_Anais.ogg"},"assets/audio/super/Gumball_Darwin.mp3":{"shortcut":"Gumball_Darwin.mp3","mp3":"assets/audio/super/Gumball_Darwin.mp3","ogg":"assets/audio/super/Gumball_Darwin.ogg"},"assets/audio/super/Gumball_Gumball.mp3":{"shortcut":"Gumball_Gumball.mp3","mp3":"assets/audio/super/Gumball_Gumball.mp3","ogg":"assets/audio/super/Gumball_Gumball.ogg"},"assets/audio/super/Gumball_Richard.mp3":{"shortcut":"Gumball_Richard.mp3","mp3":"assets/audio/super/Gumball_Richard.mp3","ogg":"assets/audio/super/Gumball_Richard.ogg"},"assets/audio/super/JP.mp3":{"shortcut":"JP.mp3","mp3":"assets/audio/super/JP.mp3","ogg":"assets/audio/super/JP.ogg"},"assets/audio/super/KELSEY_1.mp3":{"shortcut":"KELSEY_1.mp3","mp3":"assets/audio/super/KELSEY_1.mp3","ogg":"assets/audio/super/KELSEY_1.ogg"},"assets/audio/super/Magiswords_Grup.mp3":{"shortcut":"Magiswords_Grup.mp3","mp3":"assets/audio/super/Magiswords_Grup.mp3","ogg":"assets/audio/super/Magiswords_Grup.ogg"},"assets/audio/super/Magiswords_Prohyas.mp3":{"shortcut":"Magiswords_Prohyas.mp3","mp3":"assets/audio/super/Magiswords_Prohyas.mp3","ogg":"assets/audio/super/Magiswords_Prohyas.ogg"},"assets/audio/super/Magiswords_Vanbre.mp3":{"shortcut":"Magiswords_Vanbre.mp3","mp3":"assets/audio/super/Magiswords_Vanbre.mp3","ogg":"assets/audio/super/Magiswords_Vanbre.ogg"},"assets/audio/super/NanaZanana.mp3":{"shortcut":"NanaZanana.mp3","mp3":"assets/audio/super/NanaZanana.mp3","ogg":"assets/audio/super/NanaZanana.ogg"},"assets/audio/super/ONION_1.mp3":{"shortcut":"ONION_1.mp3","mp3":"assets/audio/super/ONION_1.mp3","ogg":"assets/audio/super/ONION_1.ogg"},"assets/audio/super/Powerpuff_Girls_Blossom.mp3":{"shortcut":"Powerpuff_Girls_Blossom.mp3","mp3":"assets/audio/super/Powerpuff_Girls_Blossom.mp3","ogg":"assets/audio/super/Powerpuff_Girls_Blossom.ogg"},"assets/audio/super/Powerpuff_Girls_Bubbles.mp3":{"shortcut":"Powerpuff_Girls_Bubbles.mp3","mp3":"assets/audio/super/Powerpuff_Girls_Bubbles.mp3","ogg":"assets/audio/super/Powerpuff_Girls_Bubbles.ogg"},"assets/audio/super/Powerpuff_Girls_Buttercup.mp3":{"shortcut":"Powerpuff_Girls_Buttercup.mp3","mp3":"assets/audio/super/Powerpuff_Girls_Buttercup.mp3","ogg":"assets/audio/super/Powerpuff_Girls_Buttercup.ogg"},"assets/audio/super/Powerpuff_Girls_Mojo.mp3":{"shortcut":"Powerpuff_Girls_Mojo.mp3","mp3":"assets/audio/super/Powerpuff_Girls_Mojo.mp3","ogg":"assets/audio/super/Powerpuff_Girls_Mojo.ogg"},"assets/audio/super/RAVEN_1.mp3":{"shortcut":"RAVEN_1.mp3","mp3":"assets/audio/super/RAVEN_1.mp3","ogg":"assets/audio/super/RAVEN_1.ogg"},"assets/audio/super/Regular_Show_Mordecai.mp3":{"shortcut":"Regular_Show_Mordecai.mp3","mp3":"assets/audio/super/Regular_Show_Mordecai.mp3","ogg":"assets/audio/super/Regular_Show_Mordecai.ogg"},"assets/audio/super/Regular_Show_Rigby.mp3":{"shortcut":"Regular_Show_Rigby.mp3","mp3":"assets/audio/super/Regular_Show_Rigby.mp3","ogg":"assets/audio/super/Regular_Show_Rigby.ogg"},"assets/audio/super/Teen_Titans_Go_Cyborg.mp3":{"shortcut":"Teen_Titans_Go_Cyborg.mp3","mp3":"assets/audio/super/Teen_Titans_Go_Cyborg.mp3","ogg":"assets/audio/super/Teen_Titans_Go_Cyborg.ogg"},"assets/audio/super/Teen_Titans_Go_Robin.mp3":{"shortcut":"Teen_Titans_Go_Robin.mp3","mp3":"assets/audio/super/Teen_Titans_Go_Robin.mp3","ogg":"assets/audio/super/Teen_Titans_Go_Robin.ogg"},"assets/audio/super/Teen_Titans_Go_Starfire.mp3":{"shortcut":"Teen_Titans_Go_Starfire.mp3","mp3":"assets/audio/super/Teen_Titans_Go_Starfire.mp3","ogg":"assets/audio/super/Teen_Titans_Go_Starfire.ogg"},"assets/audio/super/Tobias.mp3":{"shortcut":"Tobias.mp3","mp3":"assets/audio/super/Tobias.mp3","ogg":"assets/audio/super/Tobias.ogg"},"assets/audio/super/WONDERWOMAN_1.mp3":{"shortcut":"WONDERWOMAN_1.mp3","mp3":"assets/audio/super/WONDERWOMAN_1.mp3","ogg":"assets/audio/super/WONDERWOMAN_1.ogg"},"assets/audio/super/We_Bare_Bears_Grizz.mp3":{"shortcut":"We_Bare_Bears_Grizz.mp3","mp3":"assets/audio/super/We_Bare_Bears_Grizz.mp3","ogg":"assets/audio/super/We_Bare_Bears_Grizz.ogg"},"assets/audio/super/We_Bare_Bears_Ice_Bear.mp3":{"shortcut":"We_Bare_Bears_Ice_Bear.mp3","mp3":"assets/audio/super/We_Bare_Bears_Ice_Bear.mp3","ogg":"assets/audio/super/We_Bare_Bears_Ice_Bear.ogg"},"assets/audio/super/We_Bare_Bears_Panda.mp3":{"shortcut":"We_Bare_Bears_Panda.mp3","mp3":"assets/audio/super/We_Bare_Bears_Panda.mp3","ogg":"assets/audio/super/We_Bare_Bears_Panda.ogg"},"assets/audio/super/baby_grizz.mp3":{"shortcut":"baby_grizz.mp3","mp3":"assets/audio/super/baby_grizz.mp3","ogg":"assets/audio/super/baby_grizz.ogg"},"assets/audio/super/baby_ice_bear.mp3":{"shortcut":"baby_ice_bear.mp3","mp3":"assets/audio/super/baby_ice_bear.mp3","ogg":"assets/audio/super/baby_ice_bear.ogg"},"assets/audio/super/baby_panda.mp3":{"shortcut":"baby_panda.mp3","mp3":"assets/audio/super/baby_panda.mp3","ogg":"assets/audio/super/baby_panda.ogg"},"assets/audio/super/badgerclops-power.mp3":{"shortcut":"badgerclops-power.mp3","mp3":"assets/audio/super/badgerclops-power.mp3","ogg":"assets/audio/super/badgerclops-power.ogg"},"assets/audio/super/maomao-power.mp3":{"shortcut":"maomao-power.mp3","mp3":"assets/audio/super/maomao-power.mp3","ogg":"assets/audio/super/maomao-power.ogg"},"assets/audio/super/supergirl.mp3":{"shortcut":"supergirl.mp3","mp3":"assets/audio/super/supergirl.mp3","ogg":"assets/audio/super/supergirl.ogg"},"assets/audio/tackle_hit_deck.mp3":{"shortcut":"tackle_hit_deck.mp3","mp3":"assets/audio/tackle_hit_deck.mp3","ogg":"assets/audio/tackle_hit_deck.ogg"},"assets/audio/whistle_full_time.mp3":{"shortcut":"whistle_full_time.mp3","mp3":"assets/audio/whistle_full_time.mp3","ogg":"assets/audio/whistle_full_time.ogg"}},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/base-3d":{"image":{},"fonts":{},"audio":{},"model":{"assets/base-3d/ball-default.obj":{"shortcut":"ball-default.obj","default":"assets/base-3d/ball-default.obj"},"assets/base-3d/ball-snowball.obj":{"shortcut":"ball-snowball.obj","default":"assets/base-3d/ball-snowball.obj"},"assets/base-3d/goal.obj":{"shortcut":"goal.obj","default":"assets/base-3d/goal.obj"}},"json":{},"atlas":{},"animate":{},"misc":{"assets/base-3d/ball-default.gb":{"shortcut":"ball-default.gb","default":"assets/base-3d/ball-default.gb"}}},"assets/base-app":{"image":{"assets/base-app/backgrounds/pageantry-background.png":{"shortcut":"pageantry-background.png","webp":{"default":"assets/base-app/backgrounds/pageantry-background.webp","low":"assets/base-app/backgrounds/pageantry-background@0.5x.webp"},"standard":{"default":"assets/base-app/backgrounds/pageantry-background.png","low":"assets/base-app/backgrounds/pageantry-background@0.5x.png"}},"assets/base-app/backgrounds/pageantry-screen-beams-animation.png":{"shortcut":"pageantry-screen-beams-animation.png","webp":{"default":"assets/base-app/backgrounds/pageantry-screen-beams-animation.webp","low":"assets/base-app/backgrounds/pageantry-screen-beams-animation@0.5x.webp"},"standard":{"default":"assets/base-app/backgrounds/pageantry-screen-beams-animation.png","low":"assets/base-app/backgrounds/pageantry-screen-beams-animation@0.5x.png"}},"assets/base-app/backgrounds/pageantry-screen-beams-animation2.png":{"shortcut":"pageantry-screen-beams-animation2.png","webp":{"default":"assets/base-app/backgrounds/pageantry-screen-beams-animation2.webp","low":"assets/base-app/backgrounds/pageantry-screen-beams-animation2@0.5x.webp"},"standard":{"default":"assets/base-app/backgrounds/pageantry-screen-beams-animation2.png","low":"assets/base-app/backgrounds/pageantry-screen-beams-animation2@0.5x.png"}},"assets/base-app/backgrounds/pageantry-screen-circle.png":{"shortcut":"pageantry-screen-circle.png","webp":{"default":"assets/base-app/backgrounds/pageantry-screen-circle.webp","low":"assets/base-app/backgrounds/pageantry-screen-circle@0.5x.webp"},"standard":{"default":"assets/base-app/backgrounds/pageantry-screen-circle.png","low":"assets/base-app/backgrounds/pageantry-screen-circle@0.5x.png"}},"assets/base-app/backgrounds/pageantry-screen-lower-gradient-overlay.png":{"shortcut":"pageantry-screen-lower-gradient-overlay.png","webp":{"default":"assets/base-app/backgrounds/pageantry-screen-lower-gradient-overlay.webp","low":"assets/base-app/backgrounds/pageantry-screen-lower-gradient-overlay@0.5x.webp"},"standard":{"default":"assets/base-app/backgrounds/pageantry-screen-lower-gradient-overlay.png","low":"assets/base-app/backgrounds/pageantry-screen-lower-gradient-overlay@0.5x.png"}},"breadcrumb":{"tags":{"tps":true},"standard":{"default":"assets/base-app/breadcrumb/breadcrumb.json","low":"assets/base-app/breadcrumb/breadcrumb@0.5x.json"},"webp":{"default":"assets/base-app/breadcrumb/breadcrumb.webp.json","low":"assets/base-app/breadcrumb/breadcrumb@0.5x.webp.json"}},"challenges":{"tags":{"tps":true},"standard":{"low":"assets/base-app/challenges/challenges@0.5x.json","default":"assets/base-app/challenges/challenges.json"},"webp":{"low":"assets/base-app/challenges/challenges@0.5x.webp.json","default":"assets/base-app/challenges/challenges.webp.json"}},"country-select":{"tags":{"tps":true},"standard":{"default":"assets/base-app/country-select/country-select.json","low":"assets/base-app/country-select/country-select@0.5x.json"},"webp":{"default":"assets/base-app/country-select/country-select.webp.json","low":"assets/base-app/country-select/country-select@0.5x.webp.json"}},"gdpr":{"tags":{"tps":true},"standard":{"default":"assets/base-app/gdpr/gdpr.json","low":"assets/base-app/gdpr/gdpr@0.5x.json"},"webp":{"default":"assets/base-app/gdpr/gdpr.webp.json","low":"assets/base-app/gdpr/gdpr@0.5x.webp.json"}},"home":{"tags":{"tps":true},"standard":{"default":"assets/base-app/home/home.json","low":"assets/base-app/home/home@0.5x.json"},"webp":{"default":"assets/base-app/home/home.webp.json","low":"assets/base-app/home/home@0.5x.webp.json"}},"icons":{"tags":{"tps":true},"standard":{"default":"assets/base-app/icons/icons.json","low":"assets/base-app/icons/icons@0.5x.json"},"webp":{"default":"assets/base-app/icons/icons.webp.json","low":"assets/base-app/icons/icons@0.5x.webp.json"}},"jumbotron":{"tags":{"tps":true},"standard":{"default":"assets/base-app/jumbotron/jumbotron.json","low":"assets/base-app/jumbotron/jumbotron@0.5x.json"},"webp":{"default":"assets/base-app/jumbotron/jumbotron.webp.json","low":"assets/base-app/jumbotron/jumbotron@0.5x.webp.json"}},"leaderboard":{"tags":{"tps":true},"standard":{"low":"assets/base-app/leaderboard/leaderboard@0.5x.json","default":"assets/base-app/leaderboard/leaderboard.json"},"webp":{"low":"assets/base-app/leaderboard/leaderboard@0.5x.webp.json","default":"assets/base-app/leaderboard/leaderboard.webp.json"}},"nineslices":{"tags":{"tps":true,"no-tiny":true},"standard":{"low":"assets/base-app/nineslices/nineslices@0.5x.json","default":"assets/base-app/nineslices/nineslices.json"}},"notifications":{"tags":{"tps":true},"standard":{"default":"assets/base-app/notifications/notifications.json","low":"assets/base-app/notifications/notifications@0.5x.json"},"webp":{"default":"assets/base-app/notifications/notifications.webp.json","low":"assets/base-app/notifications/notifications@0.5x.webp.json"}},"assets/base-app/overlays/dark-overlay.png":{"shortcut":"dark-overlay.png","webp":{"default":"assets/base-app/overlays/dark-overlay.webp","low":"assets/base-app/overlays/dark-overlay@0.5x.webp"},"standard":{"default":"assets/base-app/overlays/dark-overlay.png","low":"assets/base-app/overlays/dark-overlay@0.5x.png"}},"assets/base-app/overlays/kit-picker-bg.png":{"shortcut":"kit-picker-bg.png","webp":{"default":"assets/base-app/overlays/kit-picker-bg.webp","low":"assets/base-app/overlays/kit-picker-bg@0.5x.webp"},"standard":{"default":"assets/base-app/overlays/kit-picker-bg.png","low":"assets/base-app/overlays/kit-picker-bg@0.5x.png"}},"assets/base-app/overlays/kit-picker-item.png":{"shortcut":"kit-picker-item.png","webp":{"default":"assets/base-app/overlays/kit-picker-item.webp","low":"assets/base-app/overlays/kit-picker-item@0.5x.webp"},"standard":{"default":"assets/base-app/overlays/kit-picker-item.png","low":"assets/base-app/overlays/kit-picker-item@0.5x.png"}},"referee":{"tags":{"tps":true},"standard":{"default":"assets/base-app/referee/referee.json","low":"assets/base-app/referee/referee@0.5x.json"},"webp":{"default":"assets/base-app/referee/referee.webp.json","low":"assets/base-app/referee/referee@0.5x.webp.json"}},"shared-elements":{"tags":{"tps":true},"standard":{"low":"assets/base-app/shared-elements/shared-elements@0.5x.json","default":"assets/base-app/shared-elements/shared-elements.json"},"webp":{"low":"assets/base-app/shared-elements/shared-elements@0.5x.webp.json","default":"assets/base-app/shared-elements/shared-elements.webp.json"}},"tournament":{"tags":{"tps":true},"standard":{"default":"assets/base-app/tournament/tournament.json","low":"assets/base-app/tournament/tournament@0.5x.json"},"webp":{"default":"assets/base-app/tournament/tournament.webp.json","low":"assets/base-app/tournament/tournament@0.5x.webp.json"}},"unlockables":{"tags":{"tps":true},"standard":{"default":"assets/base-app/unlockables/unlockables.json","low":"assets/base-app/unlockables/unlockables@0.5x.json"},"webp":{"default":"assets/base-app/unlockables/unlockables.webp.json","low":"assets/base-app/unlockables/unlockables@0.5x.webp.json"}}},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/base-game":{"image":{"ball-picker":{"tags":{"tps":true},"standard":{"low":"assets/base-game/ball-picker/ball-picker@0.5x.json","default":"assets/base-game/ball-picker/ball-picker.json"},"webp":{"low":"assets/base-game/ball-picker/ball-picker@0.5x.webp.json","default":"assets/base-game/ball-picker/ball-picker.webp.json"}},"assets/base-game/fx/misc/game-ball-shadow.png":{"shortcut":"game-ball-shadow.png","webp":{"default":"assets/base-game/fx/misc/game-ball-shadow.webp","low":"assets/base-game/fx/misc/game-ball-shadow@0.5x.webp"},"standard":{"default":"assets/base-game/fx/misc/game-ball-shadow.png","low":"assets/base-game/fx/misc/game-ball-shadow@0.5x.png"}},"assets/base-game/fx/overlays/vignette.png":{"shortcut":"vignette.png","webp":{"default":"assets/base-game/fx/overlays/vignette.webp","low":"assets/base-game/fx/overlays/vignette@0.5x.webp"},"standard":{"default":"assets/base-game/fx/overlays/vignette.png","low":"assets/base-game/fx/overlays/vignette@0.5x.png"}},"assets/base-game/fx/particles/dot.png":{"shortcut":"dot.png","webp":{"default":"assets/base-game/fx/particles/dot.webp","low":"assets/base-game/fx/particles/dot@0.5x.webp"},"standard":{"default":"assets/base-game/fx/particles/dot.png","low":"assets/base-game/fx/particles/dot@0.5x.png"}},"assets/base-game/fx/particles/smoke-mixed.png":{"shortcut":"smoke-mixed.png","webp":{"default":"assets/base-game/fx/particles/smoke-mixed.webp","low":"assets/base-game/fx/particles/smoke-mixed@0.5x.webp"},"standard":{"default":"assets/base-game/fx/particles/smoke-mixed.png","low":"assets/base-game/fx/particles/smoke-mixed@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_00.png":{"shortcut":"shield_00.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_00.webp","low":"assets/base-game/fx/powerups/raw/shield_00@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_00.png","low":"assets/base-game/fx/powerups/raw/shield_00@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_01.png":{"shortcut":"shield_01.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_01.webp","low":"assets/base-game/fx/powerups/raw/shield_01@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_01.png","low":"assets/base-game/fx/powerups/raw/shield_01@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_02.png":{"shortcut":"shield_02.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_02.webp","low":"assets/base-game/fx/powerups/raw/shield_02@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_02.png","low":"assets/base-game/fx/powerups/raw/shield_02@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_03.png":{"shortcut":"shield_03.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_03.webp","low":"assets/base-game/fx/powerups/raw/shield_03@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_03.png","low":"assets/base-game/fx/powerups/raw/shield_03@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_04.png":{"shortcut":"shield_04.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_04.webp","low":"assets/base-game/fx/powerups/raw/shield_04@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_04.png","low":"assets/base-game/fx/powerups/raw/shield_04@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_05.png":{"shortcut":"shield_05.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_05.webp","low":"assets/base-game/fx/powerups/raw/shield_05@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_05.png","low":"assets/base-game/fx/powerups/raw/shield_05@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_06.png":{"shortcut":"shield_06.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_06.webp","low":"assets/base-game/fx/powerups/raw/shield_06@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_06.png","low":"assets/base-game/fx/powerups/raw/shield_06@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_07.png":{"shortcut":"shield_07.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_07.webp","low":"assets/base-game/fx/powerups/raw/shield_07@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_07.png","low":"assets/base-game/fx/powerups/raw/shield_07@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_08.png":{"shortcut":"shield_08.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_08.webp","low":"assets/base-game/fx/powerups/raw/shield_08@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_08.png","low":"assets/base-game/fx/powerups/raw/shield_08@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_09.png":{"shortcut":"shield_09.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_09.webp","low":"assets/base-game/fx/powerups/raw/shield_09@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_09.png","low":"assets/base-game/fx/powerups/raw/shield_09@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_10.png":{"shortcut":"shield_10.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_10.webp","low":"assets/base-game/fx/powerups/raw/shield_10@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_10.png","low":"assets/base-game/fx/powerups/raw/shield_10@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_11.png":{"shortcut":"shield_11.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_11.webp","low":"assets/base-game/fx/powerups/raw/shield_11@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_11.png","low":"assets/base-game/fx/powerups/raw/shield_11@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_12.png":{"shortcut":"shield_12.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_12.webp","low":"assets/base-game/fx/powerups/raw/shield_12@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_12.png","low":"assets/base-game/fx/powerups/raw/shield_12@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_13.png":{"shortcut":"shield_13.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_13.webp","low":"assets/base-game/fx/powerups/raw/shield_13@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_13.png","low":"assets/base-game/fx/powerups/raw/shield_13@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_14.png":{"shortcut":"shield_14.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_14.webp","low":"assets/base-game/fx/powerups/raw/shield_14@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_14.png","low":"assets/base-game/fx/powerups/raw/shield_14@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_15.png":{"shortcut":"shield_15.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_15.webp","low":"assets/base-game/fx/powerups/raw/shield_15@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_15.png","low":"assets/base-game/fx/powerups/raw/shield_15@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_16.png":{"shortcut":"shield_16.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_16.webp","low":"assets/base-game/fx/powerups/raw/shield_16@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_16.png","low":"assets/base-game/fx/powerups/raw/shield_16@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_17.png":{"shortcut":"shield_17.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_17.webp","low":"assets/base-game/fx/powerups/raw/shield_17@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_17.png","low":"assets/base-game/fx/powerups/raw/shield_17@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_18.png":{"shortcut":"shield_18.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_18.webp","low":"assets/base-game/fx/powerups/raw/shield_18@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_18.png","low":"assets/base-game/fx/powerups/raw/shield_18@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_19.png":{"shortcut":"shield_19.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_19.webp","low":"assets/base-game/fx/powerups/raw/shield_19@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_19.png","low":"assets/base-game/fx/powerups/raw/shield_19@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_20.png":{"shortcut":"shield_20.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_20.webp","low":"assets/base-game/fx/powerups/raw/shield_20@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_20.png","low":"assets/base-game/fx/powerups/raw/shield_20@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_21.png":{"shortcut":"shield_21.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_21.webp","low":"assets/base-game/fx/powerups/raw/shield_21@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_21.png","low":"assets/base-game/fx/powerups/raw/shield_21@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_22.png":{"shortcut":"shield_22.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_22.webp","low":"assets/base-game/fx/powerups/raw/shield_22@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_22.png","low":"assets/base-game/fx/powerups/raw/shield_22@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_23.png":{"shortcut":"shield_23.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_23.webp","low":"assets/base-game/fx/powerups/raw/shield_23@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_23.png","low":"assets/base-game/fx/powerups/raw/shield_23@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_24.png":{"shortcut":"shield_24.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_24.webp","low":"assets/base-game/fx/powerups/raw/shield_24@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_24.png","low":"assets/base-game/fx/powerups/raw/shield_24@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_25.png":{"shortcut":"shield_25.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_25.webp","low":"assets/base-game/fx/powerups/raw/shield_25@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_25.png","low":"assets/base-game/fx/powerups/raw/shield_25@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_26.png":{"shortcut":"shield_26.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_26.webp","low":"assets/base-game/fx/powerups/raw/shield_26@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_26.png","low":"assets/base-game/fx/powerups/raw/shield_26@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_27.png":{"shortcut":"shield_27.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_27.webp","low":"assets/base-game/fx/powerups/raw/shield_27@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_27.png","low":"assets/base-game/fx/powerups/raw/shield_27@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_28.png":{"shortcut":"shield_28.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_28.webp","low":"assets/base-game/fx/powerups/raw/shield_28@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_28.png","low":"assets/base-game/fx/powerups/raw/shield_28@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_29.png":{"shortcut":"shield_29.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_29.webp","low":"assets/base-game/fx/powerups/raw/shield_29@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_29.png","low":"assets/base-game/fx/powerups/raw/shield_29@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_30.png":{"shortcut":"shield_30.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_30.webp","low":"assets/base-game/fx/powerups/raw/shield_30@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_30.png","low":"assets/base-game/fx/powerups/raw/shield_30@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_31.png":{"shortcut":"shield_31.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_31.webp","low":"assets/base-game/fx/powerups/raw/shield_31@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_31.png","low":"assets/base-game/fx/powerups/raw/shield_31@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_32.png":{"shortcut":"shield_32.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_32.webp","low":"assets/base-game/fx/powerups/raw/shield_32@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_32.png","low":"assets/base-game/fx/powerups/raw/shield_32@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_33.png":{"shortcut":"shield_33.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_33.webp","low":"assets/base-game/fx/powerups/raw/shield_33@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_33.png","low":"assets/base-game/fx/powerups/raw/shield_33@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_34.png":{"shortcut":"shield_34.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_34.webp","low":"assets/base-game/fx/powerups/raw/shield_34@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_34.png","low":"assets/base-game/fx/powerups/raw/shield_34@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_35.png":{"shortcut":"shield_35.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_35.webp","low":"assets/base-game/fx/powerups/raw/shield_35@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_35.png","low":"assets/base-game/fx/powerups/raw/shield_35@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_36.png":{"shortcut":"shield_36.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_36.webp","low":"assets/base-game/fx/powerups/raw/shield_36@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_36.png","low":"assets/base-game/fx/powerups/raw/shield_36@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_37.png":{"shortcut":"shield_37.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_37.webp","low":"assets/base-game/fx/powerups/raw/shield_37@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_37.png","low":"assets/base-game/fx/powerups/raw/shield_37@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_38.png":{"shortcut":"shield_38.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_38.webp","low":"assets/base-game/fx/powerups/raw/shield_38@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_38.png","low":"assets/base-game/fx/powerups/raw/shield_38@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_39.png":{"shortcut":"shield_39.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_39.webp","low":"assets/base-game/fx/powerups/raw/shield_39@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_39.png","low":"assets/base-game/fx/powerups/raw/shield_39@0.5x.png"}},"assets/base-game/fx/powerups/raw/shield_bubble.png":{"shortcut":"shield_bubble.png","webp":{"default":"assets/base-game/fx/powerups/raw/shield_bubble.webp","low":"assets/base-game/fx/powerups/raw/shield_bubble@0.5x.webp"},"standard":{"default":"assets/base-game/fx/powerups/raw/shield_bubble.png","low":"assets/base-game/fx/powerups/raw/shield_bubble@0.5x.png"}},"spritesheet-powerups":{"tags":{"tps":true},"standard":{"low":"assets/base-game/fx/powerups/spritesheet-powerups/spritesheet-powerups@0.5x.json","default":"assets/base-game/fx/powerups/spritesheet-powerups/spritesheet-powerups.json"},"webp":{"low":"assets/base-game/fx/powerups/spritesheet-powerups/spritesheet-powerups@0.5x.webp.json","default":"assets/base-game/fx/powerups/spritesheet-powerups/spritesheet-powerups.webp.json"}},"spritesheet":{"tags":{"tps":true},"standard":{"default":"assets/base-game/fx/spritesheet/spritesheet.json","low":"assets/base-game/fx/spritesheet/spritesheet@0.5x.json"},"webp":{"default":"assets/base-game/fx/spritesheet/spritesheet.webp.json","low":"assets/base-game/fx/spritesheet/spritesheet@0.5x.webp.json"}},"goalkeeper-blue":{"tags":{"tps":true},"standard":{"default":"assets/base-game/goalkeeper/goalkeeper-blue/goalkeeper-blue.json","low":"assets/base-game/goalkeeper/goalkeeper-blue/goalkeeper-blue@0.5x.json"},"webp":{"default":"assets/base-game/goalkeeper/goalkeeper-blue/goalkeeper-blue.webp.json","low":"assets/base-game/goalkeeper/goalkeeper-blue/goalkeeper-blue@0.5x.webp.json"}},"goalkeeper-red":{"tags":{"tps":true},"standard":{"default":"assets/base-game/goalkeeper/goalkeeper-red/goalkeeper-red.json","low":"assets/base-game/goalkeeper/goalkeeper-red/goalkeeper-red@0.5x.json"},"webp":{"default":"assets/base-game/goalkeeper/goalkeeper-red/goalkeeper-red.webp.json","low":"assets/base-game/goalkeeper/goalkeeper-red/goalkeeper-red@0.5x.webp.json"}},"indicators":{"tags":{"tps":true},"standard":{"default":"assets/base-game/indicators/indicators.json","low":"assets/base-game/indicators/indicators@0.5x.json"},"webp":{"default":"assets/base-game/indicators/indicators.webp.json","low":"assets/base-game/indicators/indicators@0.5x.webp.json"}},"instructions":{"tags":{"tps":true},"standard":{"default":"assets/base-game/instructions/instructions.json","low":"assets/base-game/instructions/instructions@0.5x.json"},"webp":{"default":"assets/base-game/instructions/instructions.webp.json","low":"assets/base-game/instructions/instructions@0.5x.webp.json"}},"assets/base-game/misc/tutorial-arrow.png":{"shortcut":"tutorial-arrow.png","webp":{"default":"assets/base-game/misc/tutorial-arrow.webp","low":"assets/base-game/misc/tutorial-arrow@0.5x.webp"},"standard":{"default":"assets/base-game/misc/tutorial-arrow.png","low":"assets/base-game/misc/tutorial-arrow@0.5x.png"}},"objects":{"tags":{"tps":true},"standard":{"default":"assets/base-game/objects/objects.json","low":"assets/base-game/objects/objects@0.5x.json"},"webp":{"default":"assets/base-game/objects/objects.webp.json","low":"assets/base-game/objects/objects@0.5x.webp.json"}},"supershot-panel":{"tags":{"tps":true},"standard":{"default":"assets/base-game/supershot-panel/supershot-panel.json","low":"assets/base-game/supershot-panel/supershot-panel@0.5x.json"},"webp":{"default":"assets/base-game/supershot-panel/supershot-panel.webp.json","low":"assets/base-game/supershot-panel/supershot-panel@0.5x.webp.json"}},"tutorial-game-ui":{"tags":{"tps":true},"standard":{"default":"assets/base-game/tutorial-game-ui/tutorial-game-ui.json","low":"assets/base-game/tutorial-game-ui/tutorial-game-ui@0.5x.json"},"webp":{"default":"assets/base-game/tutorial-game-ui/tutorial-game-ui.webp.json","low":"assets/base-game/tutorial-game-ui/tutorial-game-ui@0.5x.webp.json"}}},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/content/balls":{"image":{"assets/content/balls/ball-textures/beach1-ball-texture.jpg":{"shortcut":"beach1-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/beach1-ball-texture.webp","low":"assets/content/balls/ball-textures/beach1-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/beach1-ball-texture.jpg","low":"assets/content/balls/ball-textures/beach1-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/beach2-ball-texture.jpg":{"shortcut":"beach2-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/beach2-ball-texture.webp","low":"assets/content/balls/ball-textures/beach2-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/beach2-ball-texture.jpg","low":"assets/content/balls/ball-textures/beach2-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/brand-adventure-ball-texture.jpg":{"shortcut":"brand-adventure-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/brand-adventure-ball-texture.webp","low":"assets/content/balls/ball-textures/brand-adventure-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/brand-adventure-ball-texture.jpg","low":"assets/content/balls/ball-textures/brand-adventure-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/brand-bearbear-ball-texture.jpg":{"shortcut":"brand-bearbear-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/brand-bearbear-ball-texture.webp","low":"assets/content/balls/ball-textures/brand-bearbear-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/brand-bearbear-ball-texture.jpg","low":"assets/content/balls/ball-textures/brand-bearbear-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/brand-ben10-ball-texture.jpg":{"shortcut":"brand-ben10-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/brand-ben10-ball-texture.webp","low":"assets/content/balls/ball-textures/brand-ben10-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/brand-ben10-ball-texture.jpg","low":"assets/content/balls/ball-textures/brand-ben10-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/brand-gumball-ball-texture.jpg":{"shortcut":"brand-gumball-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/brand-gumball-ball-texture.webp","low":"assets/content/balls/ball-textures/brand-gumball-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/brand-gumball-ball-texture.jpg","low":"assets/content/balls/ball-textures/brand-gumball-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/brand-powerpuff-ball-texture.jpg":{"shortcut":"brand-powerpuff-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/brand-powerpuff-ball-texture.webp","low":"assets/content/balls/ball-textures/brand-powerpuff-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/brand-powerpuff-ball-texture.jpg","low":"assets/content/balls/ball-textures/brand-powerpuff-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/brand-steven-ball-texture.jpg":{"shortcut":"brand-steven-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/brand-steven-ball-texture.webp","low":"assets/content/balls/ball-textures/brand-steven-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/brand-steven-ball-texture.jpg","low":"assets/content/balls/ball-textures/brand-steven-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/brand-summer-ball-texture.jpg":{"shortcut":"brand-summer-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/brand-summer-ball-texture.webp","low":"assets/content/balls/ball-textures/brand-summer-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/brand-summer-ball-texture.jpg","low":"assets/content/balls/ball-textures/brand-summer-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/brand-tooncup-ball-texture.jpg":{"shortcut":"brand-tooncup-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/brand-tooncup-ball-texture.webp","low":"assets/content/balls/ball-textures/brand-tooncup-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/brand-tooncup-ball-texture.jpg","low":"assets/content/balls/ball-textures/brand-tooncup-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/general-bumblebee-ball-texture.jpg":{"shortcut":"general-bumblebee-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/general-bumblebee-ball-texture.webp","low":"assets/content/balls/ball-textures/general-bumblebee-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/general-bumblebee-ball-texture.jpg","low":"assets/content/balls/ball-textures/general-bumblebee-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/general-cyber-ball-texture.jpg":{"shortcut":"general-cyber-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/general-cyber-ball-texture.webp","low":"assets/content/balls/ball-textures/general-cyber-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/general-cyber-ball-texture.jpg","low":"assets/content/balls/ball-textures/general-cyber-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/general-fire-ball-texture.jpg":{"shortcut":"general-fire-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/general-fire-ball-texture.webp","low":"assets/content/balls/ball-textures/general-fire-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/general-fire-ball-texture.jpg","low":"assets/content/balls/ball-textures/general-fire-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/general-monster-ball-texture.jpg":{"shortcut":"general-monster-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/general-monster-ball-texture.webp","low":"assets/content/balls/ball-textures/general-monster-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/general-monster-ball-texture.jpg","low":"assets/content/balls/ball-textures/general-monster-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/general-poison-ball-texture.jpg":{"shortcut":"general-poison-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/general-poison-ball-texture.webp","low":"assets/content/balls/ball-textures/general-poison-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/general-poison-ball-texture.jpg","low":"assets/content/balls/ball-textures/general-poison-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/general-rock-ball-texture.jpg":{"shortcut":"general-rock-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/general-rock-ball-texture.webp","low":"assets/content/balls/ball-textures/general-rock-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/general-rock-ball-texture.jpg","low":"assets/content/balls/ball-textures/general-rock-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/general-stars-ball-texture.jpg":{"shortcut":"general-stars-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/general-stars-ball-texture.webp","low":"assets/content/balls/ball-textures/general-stars-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/general-stars-ball-texture.jpg","low":"assets/content/balls/ball-textures/general-stars-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/general-tech-ball-texture.jpg":{"shortcut":"general-tech-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/general-tech-ball-texture.webp","low":"assets/content/balls/ball-textures/general-tech-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/general-tech-ball-texture.jpg","low":"assets/content/balls/ball-textures/general-tech-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/oasis-ball-texture.jpg":{"shortcut":"oasis-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/oasis-ball-texture.webp","low":"assets/content/balls/ball-textures/oasis-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/oasis-ball-texture.jpg","low":"assets/content/balls/ball-textures/oasis-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/rainbow-ball-texture.jpg":{"shortcut":"rainbow-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/rainbow-ball-texture.webp","low":"assets/content/balls/ball-textures/rainbow-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/rainbow-ball-texture.jpg","low":"assets/content/balls/ball-textures/rainbow-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/standard-ball-texture.jpg":{"shortcut":"standard-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/standard-ball-texture.webp","low":"assets/content/balls/ball-textures/standard-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/standard-ball-texture.jpg","low":"assets/content/balls/ball-textures/standard-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/tokyo1-ball-texture.jpg":{"shortcut":"tokyo1-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/tokyo1-ball-texture.webp","low":"assets/content/balls/ball-textures/tokyo1-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/tokyo1-ball-texture.jpg","low":"assets/content/balls/ball-textures/tokyo1-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/tokyo2-ball-texture.jpg":{"shortcut":"tokyo2-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/tokyo2-ball-texture.webp","low":"assets/content/balls/ball-textures/tokyo2-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/tokyo2-ball-texture.jpg","low":"assets/content/balls/ball-textures/tokyo2-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/urban1-ball-texture.jpg":{"shortcut":"urban1-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/urban1-ball-texture.webp","low":"assets/content/balls/ball-textures/urban1-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/urban1-ball-texture.jpg","low":"assets/content/balls/ball-textures/urban1-ball-texture@0.5x.jpg"}},"assets/content/balls/ball-textures/urban2-ball-texture.jpg":{"shortcut":"urban2-ball-texture.jpg","webp":{"default":"assets/content/balls/ball-textures/urban2-ball-texture.webp","low":"assets/content/balls/ball-textures/urban2-ball-texture@0.5x.webp"},"standard":{"default":"assets/content/balls/ball-textures/urban2-ball-texture.jpg","low":"assets/content/balls/ball-textures/urban2-ball-texture@0.5x.jpg"}},"ball-thumbs":{"tags":{"tps":true},"standard":{"low":"assets/content/balls/ball-thumbs/ball-thumbs@0.5x.json","default":"assets/content/balls/ball-thumbs/ball-thumbs.json"},"webp":{"low":"assets/content/balls/ball-thumbs/ball-thumbs@0.5x.webp.json","default":"assets/content/balls/ball-thumbs/ball-thumbs.webp.json"}}},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/content/banners":{"image":{"assets/content/banners/main-menu-sponsor.jpg":{"shortcut":"main-menu-sponsor.jpg","webp":{"default":"assets/content/banners/main-menu-sponsor.webp","low":"assets/content/banners/main-menu-sponsor@0.5x.webp"},"standard":{"default":"assets/content/banners/main-menu-sponsor.jpg","low":"assets/content/banners/main-menu-sponsor@0.5x.jpg"}},"assets/content/banners/pitch-circle-banner.png":{"shortcut":"pitch-circle-banner.png","webp":{"default":"assets/content/banners/pitch-circle-banner.webp","low":"assets/content/banners/pitch-circle-banner@0.5x.webp"},"standard":{"default":"assets/content/banners/pitch-circle-banner.png","low":"assets/content/banners/pitch-circle-banner@0.5x.png"}}},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/content/characters":{"image":{"assets/content/characters/character-posters/character-poster-baby-grizz.jpg":{"shortcut":"character-poster-baby-grizz.jpg","webp":{"default":"assets/content/characters/character-posters/character-poster-baby-grizz.webp","low":"assets/content/characters/character-posters/character-poster-baby-grizz@0.5x.webp"},"standard":{"default":"assets/content/characters/character-posters/character-poster-baby-grizz.jpg","low":"assets/content/characters/character-posters/character-poster-baby-grizz@0.5x.jpg"}},"assets/content/characters/character-posters/character-poster-badgerclops.jpg":{"shortcut":"character-poster-badgerclops.jpg","webp":{"default":"assets/content/characters/character-posters/character-poster-badgerclops.webp","low":"assets/content/characters/character-posters/character-poster-badgerclops@0.5x.webp"},"standard":{"default":"assets/content/characters/character-posters/character-poster-badgerclops.jpg","low":"assets/content/characters/character-posters/character-poster-badgerclops@0.5x.jpg"}},"assets/content/characters/character-posters/character-poster-batgirl.jpg":{"shortcut":"character-poster-batgirl.jpg","webp":{"default":"assets/content/characters/character-posters/character-poster-batgirl.webp","low":"assets/content/characters/character-posters/character-poster-batgirl@0.5x.webp"},"standard":{"default":"assets/content/characters/character-posters/character-poster-batgirl.jpg","low":"assets/content/characters/character-posters/character-poster-batgirl@0.5x.jpg"}},"assets/content/characters/character-posters/character-poster-elliott.jpg":{"shortcut":"character-poster-elliott.jpg","webp":{"default":"assets/content/characters/character-posters/character-poster-elliott.webp","low":"assets/content/characters/character-posters/character-poster-elliott@0.5x.webp"},"standard":{"default":"assets/content/characters/character-posters/character-poster-elliott.jpg","low":"assets/content/characters/character-posters/character-poster-elliott@0.5x.jpg"}},"assets/content/characters/character-posters/character-poster-kelsey.jpg":{"shortcut":"character-poster-kelsey.jpg","webp":{"default":"assets/content/characters/character-posters/character-poster-kelsey.webp","low":"assets/content/characters/character-posters/character-poster-kelsey@0.5x.webp"},"standard":{"default":"assets/content/characters/character-posters/character-poster-kelsey.jpg","low":"assets/content/characters/character-posters/character-poster-kelsey@0.5x.jpg"}},"assets/content/characters/character-posters/character-poster-onion.jpg":{"shortcut":"character-poster-onion.jpg","webp":{"default":"assets/content/characters/character-posters/character-poster-onion.webp","low":"assets/content/characters/character-posters/character-poster-onion@0.5x.webp"},"standard":{"default":"assets/content/characters/character-posters/character-poster-onion.jpg","low":"assets/content/characters/character-posters/character-poster-onion@0.5x.jpg"}},"assets/content/characters/character-posters/character-poster-raven.jpg":{"shortcut":"character-poster-raven.jpg","webp":{"default":"assets/content/characters/character-posters/character-poster-raven.webp","low":"assets/content/characters/character-posters/character-poster-raven@0.5x.webp"},"standard":{"default":"assets/content/characters/character-posters/character-poster-raven.jpg","low":"assets/content/characters/character-posters/character-poster-raven@0.5x.jpg"}},"assets/content/characters/character-posters/character-poster-supergirl.jpg":{"shortcut":"character-poster-supergirl.jpg","webp":{"default":"assets/content/characters/character-posters/character-poster-supergirl.webp","low":"assets/content/characters/character-posters/character-poster-supergirl@0.5x.webp"},"standard":{"default":"assets/content/characters/character-posters/character-poster-supergirl.jpg","low":"assets/content/characters/character-posters/character-poster-supergirl@0.5x.jpg"}},"assets/content/characters/character-posters/character-poster-xlr8.jpg":{"shortcut":"character-poster-xlr8.jpg","webp":{"default":"assets/content/characters/character-posters/character-poster-xlr8.webp","low":"assets/content/characters/character-posters/character-poster-xlr8@0.5x.webp"},"standard":{"default":"assets/content/characters/character-posters/character-poster-xlr8.jpg","low":"assets/content/characters/character-posters/character-poster-xlr8@0.5x.jpg"}},"assets/content/characters/character-profiles/anais_78x78.jpg":{"shortcut":"anais_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/anais_78x78.webp","low":"assets/content/characters/character-profiles/anais_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/anais_78x78.jpg","low":"assets/content/characters/character-profiles/anais_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/babygrizz_78x78.jpg":{"shortcut":"babygrizz_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/babygrizz_78x78.webp","low":"assets/content/characters/character-profiles/babygrizz_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/babygrizz_78x78.jpg","low":"assets/content/characters/character-profiles/babygrizz_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/babyice_78x78.jpg":{"shortcut":"babyice_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/babyice_78x78.webp","low":"assets/content/characters/character-profiles/babyice_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/babyice_78x78.jpg","low":"assets/content/characters/character-profiles/babyice_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/babypanda_78x78.jpg":{"shortcut":"babypanda_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/babypanda_78x78.webp","low":"assets/content/characters/character-profiles/babypanda_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/babypanda_78x78.jpg","low":"assets/content/characters/character-profiles/babypanda_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/badgerclops_78x78.jpg":{"shortcut":"badgerclops_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/badgerclops_78x78.webp","low":"assets/content/characters/character-profiles/badgerclops_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/badgerclops_78x78.jpg","low":"assets/content/characters/character-profiles/badgerclops_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/batgirl_78x78.jpg":{"shortcut":"batgirl_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/batgirl_78x78.webp","low":"assets/content/characters/character-profiles/batgirl_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/batgirl_78x78.jpg","low":"assets/content/characters/character-profiles/batgirl_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/beastboy_78x78.png":{"shortcut":"beastboy_78x78.png","webp":{"default":"assets/content/characters/character-profiles/beastboy_78x78.webp","low":"assets/content/characters/character-profiles/beastboy_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/beastboy_78x78.png","low":"assets/content/characters/character-profiles/beastboy_78x78@0.5x.png"}},"assets/content/characters/character-profiles/ben10_78x78.jpg":{"shortcut":"ben10_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/ben10_78x78.webp","low":"assets/content/characters/character-profiles/ben10_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/ben10_78x78.jpg","low":"assets/content/characters/character-profiles/ben10_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/blossom_78x78.jpg":{"shortcut":"blossom_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/blossom_78x78.webp","low":"assets/content/characters/character-profiles/blossom_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/blossom_78x78.jpg","low":"assets/content/characters/character-profiles/blossom_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/bmo_78x78.jpg":{"shortcut":"bmo_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/bmo_78x78.webp","low":"assets/content/characters/character-profiles/bmo_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/bmo_78x78.jpg","low":"assets/content/characters/character-profiles/bmo_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/bubblegum_78x78.jpg":{"shortcut":"bubblegum_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/bubblegum_78x78.webp","low":"assets/content/characters/character-profiles/bubblegum_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/bubblegum_78x78.jpg","low":"assets/content/characters/character-profiles/bubblegum_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/bubbles_78x78.jpg":{"shortcut":"bubbles_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/bubbles_78x78.webp","low":"assets/content/characters/character-profiles/bubbles_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/bubbles_78x78.jpg","low":"assets/content/characters/character-profiles/bubbles_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/buttercup_78x78.jpg":{"shortcut":"buttercup_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/buttercup_78x78.webp","low":"assets/content/characters/character-profiles/buttercup_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/buttercup_78x78.jpg","low":"assets/content/characters/character-profiles/buttercup_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/character-profile-apple.jpg":{"shortcut":"character-profile-apple.jpg","webp":{"default":"assets/content/characters/character-profiles/character-profile-apple.webp","low":"assets/content/characters/character-profiles/character-profile-apple@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/character-profile-apple.jpg","low":"assets/content/characters/character-profiles/character-profile-apple@0.5x.jpg"}},"assets/content/characters/character-profiles/character-profile-craig.jpg":{"shortcut":"character-profile-craig.jpg","webp":{"default":"assets/content/characters/character-profiles/character-profile-craig.webp","low":"assets/content/characters/character-profiles/character-profile-craig@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/character-profile-craig.jpg","low":"assets/content/characters/character-profiles/character-profile-craig@0.5x.jpg"}},"assets/content/characters/character-profiles/character-profile-kesley.jpg":{"shortcut":"character-profile-kesley.jpg","webp":{"default":"assets/content/characters/character-profiles/character-profile-kesley.webp","low":"assets/content/characters/character-profiles/character-profile-kesley@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/character-profile-kesley.jpg","low":"assets/content/characters/character-profiles/character-profile-kesley@0.5x.jpg"}},"assets/content/characters/character-profiles/character-profile-onion.jpg":{"shortcut":"character-profile-onion.jpg","webp":{"default":"assets/content/characters/character-profiles/character-profile-onion.webp","low":"assets/content/characters/character-profiles/character-profile-onion@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/character-profile-onion.jpg","low":"assets/content/characters/character-profiles/character-profile-onion@0.5x.jpg"}},"assets/content/characters/character-profiles/character-profile-raven.jpg":{"shortcut":"character-profile-raven.jpg","webp":{"default":"assets/content/characters/character-profiles/character-profile-raven.webp","low":"assets/content/characters/character-profiles/character-profile-raven@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/character-profile-raven.jpg","low":"assets/content/characters/character-profiles/character-profile-raven@0.5x.jpg"}},"assets/content/characters/character-profiles/cyborg_78x78.jpg":{"shortcut":"cyborg_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/cyborg_78x78.webp","low":"assets/content/characters/character-profiles/cyborg_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/cyborg_78x78.jpg","low":"assets/content/characters/character-profiles/cyborg_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/darwin_78x78.jpg":{"shortcut":"darwin_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/darwin_78x78.webp","low":"assets/content/characters/character-profiles/darwin_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/darwin_78x78.jpg","low":"assets/content/characters/character-profiles/darwin_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/elliott_78x78.jpg":{"shortcut":"elliott_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/elliott_78x78.webp","low":"assets/content/characters/character-profiles/elliott_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/elliott_78x78.jpg","low":"assets/content/characters/character-profiles/elliott_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/finn_78x78.jpg":{"shortcut":"finn_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/finn_78x78.webp","low":"assets/content/characters/character-profiles/finn_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/finn_78x78.jpg","low":"assets/content/characters/character-profiles/finn_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/fourarms_78x78.jpg":{"shortcut":"fourarms_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/fourarms_78x78.webp","low":"assets/content/characters/character-profiles/fourarms_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/fourarms_78x78.jpg","low":"assets/content/characters/character-profiles/fourarms_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/griz_78x78.jpg":{"shortcut":"griz_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/griz_78x78.webp","low":"assets/content/characters/character-profiles/griz_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/griz_78x78.jpg","low":"assets/content/characters/character-profiles/griz_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/gumball_78x78.jpg":{"shortcut":"gumball_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/gumball_78x78.webp","low":"assets/content/characters/character-profiles/gumball_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/gumball_78x78.jpg","low":"assets/content/characters/character-profiles/gumball_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/icebear_78x78.jpg":{"shortcut":"icebear_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/icebear_78x78.webp","low":"assets/content/characters/character-profiles/icebear_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/icebear_78x78.jpg","low":"assets/content/characters/character-profiles/icebear_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/jake_78x78.jpg":{"shortcut":"jake_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/jake_78x78.webp","low":"assets/content/characters/character-profiles/jake_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/jake_78x78.jpg","low":"assets/content/characters/character-profiles/jake_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/jessica_78x78.jpg":{"shortcut":"jessica_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/jessica_78x78.webp","low":"assets/content/characters/character-profiles/jessica_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/jessica_78x78.jpg","low":"assets/content/characters/character-profiles/jessica_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/jp_78x78.jpg":{"shortcut":"jp_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/jp_78x78.webp","low":"assets/content/characters/character-profiles/jp_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/jp_78x78.jpg","low":"assets/content/characters/character-profiles/jp_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/maomao_78x78.jpg":{"shortcut":"maomao_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/maomao_78x78.webp","low":"assets/content/characters/character-profiles/maomao_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/maomao_78x78.jpg","low":"assets/content/characters/character-profiles/maomao_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/marceline_78x78.jpg":{"shortcut":"marceline_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/marceline_78x78.webp","low":"assets/content/characters/character-profiles/marceline_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/marceline_78x78.jpg","low":"assets/content/characters/character-profiles/marceline_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/mo_78x78.jpg":{"shortcut":"mo_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/mo_78x78.webp","low":"assets/content/characters/character-profiles/mo_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/mo_78x78.jpg","low":"assets/content/characters/character-profiles/mo_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/mojo_78x78.jpg":{"shortcut":"mojo_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/mojo_78x78.webp","low":"assets/content/characters/character-profiles/mojo_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/mojo_78x78.jpg","low":"assets/content/characters/character-profiles/mojo_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/nana_zanana_78x78.jpg":{"shortcut":"nana_zanana_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/nana_zanana_78x78.webp","low":"assets/content/characters/character-profiles/nana_zanana_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/nana_zanana_78x78.jpg","low":"assets/content/characters/character-profiles/nana_zanana_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/panda_78x78.jpg":{"shortcut":"panda_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/panda_78x78.webp","low":"assets/content/characters/character-profiles/panda_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/panda_78x78.jpg","low":"assets/content/characters/character-profiles/panda_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/richard_78x78.jpg":{"shortcut":"richard_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/richard_78x78.webp","low":"assets/content/characters/character-profiles/richard_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/richard_78x78.jpg","low":"assets/content/characters/character-profiles/richard_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/robin_78x78.jpg":{"shortcut":"robin_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/robin_78x78.webp","low":"assets/content/characters/character-profiles/robin_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/robin_78x78.jpg","low":"assets/content/characters/character-profiles/robin_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/starfire_78x78.jpg":{"shortcut":"starfire_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/starfire_78x78.webp","low":"assets/content/characters/character-profiles/starfire_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/starfire_78x78.jpg","low":"assets/content/characters/character-profiles/starfire_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/supergirl_78x78.jpg":{"shortcut":"supergirl_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/supergirl_78x78.webp","low":"assets/content/characters/character-profiles/supergirl_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/supergirl_78x78.jpg","low":"assets/content/characters/character-profiles/supergirl_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/tobias_78x78.jpg":{"shortcut":"tobias_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/tobias_78x78.webp","low":"assets/content/characters/character-profiles/tobias_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/tobias_78x78.jpg","low":"assets/content/characters/character-profiles/tobias_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/wonderwoman_78x78.jpg":{"shortcut":"wonderwoman_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/wonderwoman_78x78.webp","low":"assets/content/characters/character-profiles/wonderwoman_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/wonderwoman_78x78.jpg","low":"assets/content/characters/character-profiles/wonderwoman_78x78@0.5x.jpg"}},"assets/content/characters/character-profiles/xlr8_78x78.jpg":{"shortcut":"xlr8_78x78.jpg","webp":{"default":"assets/content/characters/character-profiles/xlr8_78x78.webp","low":"assets/content/characters/character-profiles/xlr8_78x78@0.5x.webp"},"standard":{"default":"assets/content/characters/character-profiles/xlr8_78x78.jpg","low":"assets/content/characters/character-profiles/xlr8_78x78@0.5x.jpg"}},"assets/content/characters/character-splashes/card_anais.png":{"shortcut":"card_anais.png","webp":{"default":"assets/content/characters/character-splashes/card_anais.webp","low":"assets/content/characters/character-splashes/card_anais@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_anais.png","low":"assets/content/characters/character-splashes/card_anais@0.5x.png"}},"assets/content/characters/character-splashes/card_apple.png":{"shortcut":"card_apple.png","webp":{"default":"assets/content/characters/character-splashes/card_apple.webp","low":"assets/content/characters/character-splashes/card_apple@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_apple.png","low":"assets/content/characters/character-splashes/card_apple@0.5x.png"}},"assets/content/characters/character-splashes/card_babygrizz.png":{"shortcut":"card_babygrizz.png","webp":{"default":"assets/content/characters/character-splashes/card_babygrizz.webp","low":"assets/content/characters/character-splashes/card_babygrizz@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_babygrizz.png","low":"assets/content/characters/character-splashes/card_babygrizz@0.5x.png"}},"assets/content/characters/character-splashes/card_babyice.png":{"shortcut":"card_babyice.png","webp":{"default":"assets/content/characters/character-splashes/card_babyice.webp","low":"assets/content/characters/character-splashes/card_babyice@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_babyice.png","low":"assets/content/characters/character-splashes/card_babyice@0.5x.png"}},"assets/content/characters/character-splashes/card_babypanda.png":{"shortcut":"card_babypanda.png","webp":{"default":"assets/content/characters/character-splashes/card_babypanda.webp","low":"assets/content/characters/character-splashes/card_babypanda@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_babypanda.png","low":"assets/content/characters/character-splashes/card_babypanda@0.5x.png"}},"assets/content/characters/character-splashes/card_badgerclops.png":{"shortcut":"card_badgerclops.png","webp":{"default":"assets/content/characters/character-splashes/card_badgerclops.webp","low":"assets/content/characters/character-splashes/card_badgerclops@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_badgerclops.png","low":"assets/content/characters/character-splashes/card_badgerclops@0.5x.png"}},"assets/content/characters/character-splashes/card_batgirl.png":{"shortcut":"card_batgirl.png","webp":{"default":"assets/content/characters/character-splashes/card_batgirl.webp","low":"assets/content/characters/character-splashes/card_batgirl@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_batgirl.png","low":"assets/content/characters/character-splashes/card_batgirl@0.5x.png"}},"assets/content/characters/character-splashes/card_beastboy.png":{"shortcut":"card_beastboy.png","webp":{"default":"assets/content/characters/character-splashes/card_beastboy.webp","low":"assets/content/characters/character-splashes/card_beastboy@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_beastboy.png","low":"assets/content/characters/character-splashes/card_beastboy@0.5x.png"}},"assets/content/characters/character-splashes/card_ben10.png":{"shortcut":"card_ben10.png","webp":{"default":"assets/content/characters/character-splashes/card_ben10.webp","low":"assets/content/characters/character-splashes/card_ben10@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_ben10.png","low":"assets/content/characters/character-splashes/card_ben10@0.5x.png"}},"assets/content/characters/character-splashes/card_blossom.png":{"shortcut":"card_blossom.png","webp":{"default":"assets/content/characters/character-splashes/card_blossom.webp","low":"assets/content/characters/character-splashes/card_blossom@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_blossom.png","low":"assets/content/characters/character-splashes/card_blossom@0.5x.png"}},"assets/content/characters/character-splashes/card_bmo.png":{"shortcut":"card_bmo.png","webp":{"default":"assets/content/characters/character-splashes/card_bmo.webp","low":"assets/content/characters/character-splashes/card_bmo@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_bmo.png","low":"assets/content/characters/character-splashes/card_bmo@0.5x.png"}},"assets/content/characters/character-splashes/card_bubblegum.png":{"shortcut":"card_bubblegum.png","webp":{"default":"assets/content/characters/character-splashes/card_bubblegum.webp","low":"assets/content/characters/character-splashes/card_bubblegum@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_bubblegum.png","low":"assets/content/characters/character-splashes/card_bubblegum@0.5x.png"}},"assets/content/characters/character-splashes/card_bubbles.png":{"shortcut":"card_bubbles.png","webp":{"default":"assets/content/characters/character-splashes/card_bubbles.webp","low":"assets/content/characters/character-splashes/card_bubbles@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_bubbles.png","low":"assets/content/characters/character-splashes/card_bubbles@0.5x.png"}},"assets/content/characters/character-splashes/card_buttercup.png":{"shortcut":"card_buttercup.png","webp":{"default":"assets/content/characters/character-splashes/card_buttercup.webp","low":"assets/content/characters/character-splashes/card_buttercup@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_buttercup.png","low":"assets/content/characters/character-splashes/card_buttercup@0.5x.png"}},"assets/content/characters/character-splashes/card_craig.png":{"shortcut":"card_craig.png","webp":{"default":"assets/content/characters/character-splashes/card_craig.webp","low":"assets/content/characters/character-splashes/card_craig@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_craig.png","low":"assets/content/characters/character-splashes/card_craig@0.5x.png"}},"assets/content/characters/character-splashes/card_cyborg.png":{"shortcut":"card_cyborg.png","webp":{"default":"assets/content/characters/character-splashes/card_cyborg.webp","low":"assets/content/characters/character-splashes/card_cyborg@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_cyborg.png","low":"assets/content/characters/character-splashes/card_cyborg@0.5x.png"}},"assets/content/characters/character-splashes/card_darwin.png":{"shortcut":"card_darwin.png","webp":{"default":"assets/content/characters/character-splashes/card_darwin.webp","low":"assets/content/characters/character-splashes/card_darwin@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_darwin.png","low":"assets/content/characters/character-splashes/card_darwin@0.5x.png"}},"assets/content/characters/character-splashes/card_elliott.png":{"shortcut":"card_elliott.png","webp":{"default":"assets/content/characters/character-splashes/card_elliott.webp","low":"assets/content/characters/character-splashes/card_elliott@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_elliott.png","low":"assets/content/characters/character-splashes/card_elliott@0.5x.png"}},"assets/content/characters/character-splashes/card_finn.png":{"shortcut":"card_finn.png","webp":{"default":"assets/content/characters/character-splashes/card_finn.webp","low":"assets/content/characters/character-splashes/card_finn@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_finn.png","low":"assets/content/characters/character-splashes/card_finn@0.5x.png"}},"assets/content/characters/character-splashes/card_fourarms.png":{"shortcut":"card_fourarms.png","webp":{"default":"assets/content/characters/character-splashes/card_fourarms.webp","low":"assets/content/characters/character-splashes/card_fourarms@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_fourarms.png","low":"assets/content/characters/character-splashes/card_fourarms@0.5x.png"}},"assets/content/characters/character-splashes/card_grizz.png":{"shortcut":"card_grizz.png","webp":{"default":"assets/content/characters/character-splashes/card_grizz.webp","low":"assets/content/characters/character-splashes/card_grizz@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_grizz.png","low":"assets/content/characters/character-splashes/card_grizz@0.5x.png"}},"assets/content/characters/character-splashes/card_gumball.png":{"shortcut":"card_gumball.png","webp":{"default":"assets/content/characters/character-splashes/card_gumball.webp","low":"assets/content/characters/character-splashes/card_gumball@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_gumball.png","low":"assets/content/characters/character-splashes/card_gumball@0.5x.png"}},"assets/content/characters/character-splashes/card_icebear.png":{"shortcut":"card_icebear.png","webp":{"default":"assets/content/characters/character-splashes/card_icebear.webp","low":"assets/content/characters/character-splashes/card_icebear@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_icebear.png","low":"assets/content/characters/character-splashes/card_icebear@0.5x.png"}},"assets/content/characters/character-splashes/card_jake.png":{"shortcut":"card_jake.png","webp":{"default":"assets/content/characters/character-splashes/card_jake.webp","low":"assets/content/characters/character-splashes/card_jake@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_jake.png","low":"assets/content/characters/character-splashes/card_jake@0.5x.png"}},"assets/content/characters/character-splashes/card_jessica.png":{"shortcut":"card_jessica.png","webp":{"default":"assets/content/characters/character-splashes/card_jessica.webp","low":"assets/content/characters/character-splashes/card_jessica@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_jessica.png","low":"assets/content/characters/character-splashes/card_jessica@0.5x.png"}},"assets/content/characters/character-splashes/card_jp.png":{"shortcut":"card_jp.png","webp":{"default":"assets/content/characters/character-splashes/card_jp.webp","low":"assets/content/characters/character-splashes/card_jp@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_jp.png","low":"assets/content/characters/character-splashes/card_jp@0.5x.png"}},"assets/content/characters/character-splashes/card_kelsey.png":{"shortcut":"card_kelsey.png","webp":{"default":"assets/content/characters/character-splashes/card_kelsey.webp","low":"assets/content/characters/character-splashes/card_kelsey@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_kelsey.png","low":"assets/content/characters/character-splashes/card_kelsey@0.5x.png"}},"assets/content/characters/character-splashes/card_maomao.png":{"shortcut":"card_maomao.png","webp":{"default":"assets/content/characters/character-splashes/card_maomao.webp","low":"assets/content/characters/character-splashes/card_maomao@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_maomao.png","low":"assets/content/characters/character-splashes/card_maomao@0.5x.png"}},"assets/content/characters/character-splashes/card_marceline.png":{"shortcut":"card_marceline.png","webp":{"default":"assets/content/characters/character-splashes/card_marceline.webp","low":"assets/content/characters/character-splashes/card_marceline@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_marceline.png","low":"assets/content/characters/character-splashes/card_marceline@0.5x.png"}},"assets/content/characters/character-splashes/card_mo.png":{"shortcut":"card_mo.png","webp":{"default":"assets/content/characters/character-splashes/card_mo.webp","low":"assets/content/characters/character-splashes/card_mo@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_mo.png","low":"assets/content/characters/character-splashes/card_mo@0.5x.png"}},"assets/content/characters/character-splashes/card_mojo.png":{"shortcut":"card_mojo.png","webp":{"default":"assets/content/characters/character-splashes/card_mojo.webp","low":"assets/content/characters/character-splashes/card_mojo@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_mojo.png","low":"assets/content/characters/character-splashes/card_mojo@0.5x.png"}},"assets/content/characters/character-splashes/card_nana_zanana.png":{"shortcut":"card_nana_zanana.png","webp":{"default":"assets/content/characters/character-splashes/card_nana_zanana.webp","low":"assets/content/characters/character-splashes/card_nana_zanana@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_nana_zanana.png","low":"assets/content/characters/character-splashes/card_nana_zanana@0.5x.png"}},"assets/content/characters/character-splashes/card_onion.png":{"shortcut":"card_onion.png","webp":{"default":"assets/content/characters/character-splashes/card_onion.webp","low":"assets/content/characters/character-splashes/card_onion@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_onion.png","low":"assets/content/characters/character-splashes/card_onion@0.5x.png"}},"assets/content/characters/character-splashes/card_panda.png":{"shortcut":"card_panda.png","webp":{"default":"assets/content/characters/character-splashes/card_panda.webp","low":"assets/content/characters/character-splashes/card_panda@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_panda.png","low":"assets/content/characters/character-splashes/card_panda@0.5x.png"}},"assets/content/characters/character-splashes/card_raven.png":{"shortcut":"card_raven.png","webp":{"default":"assets/content/characters/character-splashes/card_raven.webp","low":"assets/content/characters/character-splashes/card_raven@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_raven.png","low":"assets/content/characters/character-splashes/card_raven@0.5x.png"}},"assets/content/characters/character-splashes/card_richard.png":{"shortcut":"card_richard.png","webp":{"default":"assets/content/characters/character-splashes/card_richard.webp","low":"assets/content/characters/character-splashes/card_richard@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_richard.png","low":"assets/content/characters/character-splashes/card_richard@0.5x.png"}},"assets/content/characters/character-splashes/card_robin.png":{"shortcut":"card_robin.png","webp":{"default":"assets/content/characters/character-splashes/card_robin.webp","low":"assets/content/characters/character-splashes/card_robin@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_robin.png","low":"assets/content/characters/character-splashes/card_robin@0.5x.png"}},"assets/content/characters/character-splashes/card_starfire.png":{"shortcut":"card_starfire.png","webp":{"default":"assets/content/characters/character-splashes/card_starfire.webp","low":"assets/content/characters/character-splashes/card_starfire@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_starfire.png","low":"assets/content/characters/character-splashes/card_starfire@0.5x.png"}},"assets/content/characters/character-splashes/card_supergirl.png":{"shortcut":"card_supergirl.png","webp":{"default":"assets/content/characters/character-splashes/card_supergirl.webp","low":"assets/content/characters/character-splashes/card_supergirl@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_supergirl.png","low":"assets/content/characters/character-splashes/card_supergirl@0.5x.png"}},"assets/content/characters/character-splashes/card_tobias.png":{"shortcut":"card_tobias.png","webp":{"default":"assets/content/characters/character-splashes/card_tobias.webp","low":"assets/content/characters/character-splashes/card_tobias@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_tobias.png","low":"assets/content/characters/character-splashes/card_tobias@0.5x.png"}},"assets/content/characters/character-splashes/card_wonderwoman.png":{"shortcut":"card_wonderwoman.png","webp":{"default":"assets/content/characters/character-splashes/card_wonderwoman.webp","low":"assets/content/characters/character-splashes/card_wonderwoman@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_wonderwoman.png","low":"assets/content/characters/character-splashes/card_wonderwoman@0.5x.png"}},"assets/content/characters/character-splashes/card_xlr8.png":{"shortcut":"card_xlr8.png","webp":{"default":"assets/content/characters/character-splashes/card_xlr8.webp","low":"assets/content/characters/character-splashes/card_xlr8@0.5x.webp"},"standard":{"default":"assets/content/characters/character-splashes/card_xlr8.png","low":"assets/content/characters/character-splashes/card_xlr8@0.5x.png"}}},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/content/logos":{"image":{"flag-logos":{"tags":{"tps":true},"standard":{"low":"assets/content/logos/flag-logos/flag-logos@0.5x.json","default":"assets/content/logos/flag-logos/flag-logos.json"},"webp":{"low":"assets/content/logos/flag-logos/flag-logos@0.5x.webp.json","default":"assets/content/logos/flag-logos/flag-logos.webp.json"}},"assets/content/logos/show-logos/logo_appleonion.png":{"shortcut":"logo_appleonion.png","webp":{"default":"assets/content/logos/show-logos/logo_appleonion.webp","low":"assets/content/logos/show-logos/logo_appleonion@0.5x.webp"},"standard":{"default":"assets/content/logos/show-logos/logo_appleonion.png","low":"assets/content/logos/show-logos/logo_appleonion@0.5x.png"}},"assets/content/logos/show-logos/logo_at.png":{"shortcut":"logo_at.png","webp":{"default":"assets/content/logos/show-logos/logo_at.webp","low":"assets/content/logos/show-logos/logo_at@0.5x.webp"},"standard":{"default":"assets/content/logos/show-logos/logo_at.png","low":"assets/content/logos/show-logos/logo_at@0.5x.png"}},"assets/content/logos/show-logos/logo_awog.png":{"shortcut":"logo_awog.png","webp":{"default":"assets/content/logos/show-logos/logo_awog.webp","low":"assets/content/logos/show-logos/logo_awog@0.5x.webp"},"standard":{"default":"assets/content/logos/show-logos/logo_awog.png","low":"assets/content/logos/show-logos/logo_awog@0.5x.png"}},"assets/content/logos/show-logos/logo_b10.png":{"shortcut":"logo_b10.png","webp":{"default":"assets/content/logos/show-logos/logo_b10.webp","low":"assets/content/logos/show-logos/logo_b10@0.5x.webp"},"standard":{"default":"assets/content/logos/show-logos/logo_b10.png","low":"assets/content/logos/show-logos/logo_b10@0.5x.png"}},"assets/content/logos/show-logos/logo_craigofthecreek.png":{"shortcut":"logo_craigofthecreek.png","webp":{"default":"assets/content/logos/show-logos/logo_craigofthecreek.webp","low":"assets/content/logos/show-logos/logo_craigofthecreek@0.5x.webp"},"standard":{"default":"assets/content/logos/show-logos/logo_craigofthecreek.png","low":"assets/content/logos/show-logos/logo_craigofthecreek@0.5x.png"}},"assets/content/logos/show-logos/logo_dc.png":{"shortcut":"logo_dc.png","webp":{"default":"assets/content/logos/show-logos/logo_dc.webp","low":"assets/content/logos/show-logos/logo_dc@0.5x.webp"},"standard":{"default":"assets/content/logos/show-logos/logo_dc.png","low":"assets/content/logos/show-logos/logo_dc@0.5x.png"}},"assets/content/logos/show-logos/logo_efe.png":{"shortcut":"logo_efe.png","webp":{"default":"assets/content/logos/show-logos/logo_efe.webp","low":"assets/content/logos/show-logos/logo_efe@0.5x.webp"},"standard":{"default":"assets/content/logos/show-logos/logo_efe.png","low":"assets/content/logos/show-logos/logo_efe@0.5x.png"}},"assets/content/logos/show-logos/logo_mm.png":{"shortcut":"logo_mm.png","webp":{"default":"assets/content/logos/show-logos/logo_mm.webp","low":"assets/content/logos/show-logos/logo_mm@0.5x.webp"},"standard":{"default":"assets/content/logos/show-logos/logo_mm.png","low":"assets/content/logos/show-logos/logo_mm@0.5x.png"}},"assets/content/logos/show-logos/logo_mmhph.png":{"shortcut":"logo_mmhph.png","webp":{"default":"assets/content/logos/show-logos/logo_mmhph.webp","low":"assets/content/logos/show-logos/logo_mmhph@0.5x.webp"},"standard":{"default":"assets/content/logos/show-logos/logo_mmhph.png","low":"assets/content/logos/show-logos/logo_mmhph@0.5x.png"}},"assets/content/logos/show-logos/logo_nana.png":{"shortcut":"logo_nana.png","webp":{"default":"assets/content/logos/show-logos/logo_nana.webp","low":"assets/content/logos/show-logos/logo_nana@0.5x.webp"},"standard":{"default":"assets/content/logos/show-logos/logo_nana.png","low":"assets/content/logos/show-logos/logo_nana@0.5x.png"}},"assets/content/logos/show-logos/logo_ppg.png":{"shortcut":"logo_ppg.png","webp":{"default":"assets/content/logos/show-logos/logo_ppg.webp","low":"assets/content/logos/show-logos/logo_ppg@0.5x.webp"},"standard":{"default":"assets/content/logos/show-logos/logo_ppg.png","low":"assets/content/logos/show-logos/logo_ppg@0.5x.png"}},"assets/content/logos/show-logos/logo_rs.png":{"shortcut":"logo_rs.png","webp":{"default":"assets/content/logos/show-logos/logo_rs.webp","low":"assets/content/logos/show-logos/logo_rs@0.5x.webp"},"standard":{"default":"assets/content/logos/show-logos/logo_rs.png","low":"assets/content/logos/show-logos/logo_rs@0.5x.png"}},"assets/content/logos/show-logos/logo_ttg.png":{"shortcut":"logo_ttg.png","webp":{"default":"assets/content/logos/show-logos/logo_ttg.webp","low":"assets/content/logos/show-logos/logo_ttg@0.5x.webp"},"standard":{"default":"assets/content/logos/show-logos/logo_ttg.png","low":"assets/content/logos/show-logos/logo_ttg@0.5x.png"}},"assets/content/logos/show-logos/logo_wbb.png":{"shortcut":"logo_wbb.png","webp":{"default":"assets/content/logos/show-logos/logo_wbb.webp","low":"assets/content/logos/show-logos/logo_wbb@0.5x.webp"},"standard":{"default":"assets/content/logos/show-logos/logo_wbb.png","low":"assets/content/logos/show-logos/logo_wbb@0.5x.png"}},"assets/content/logos/show-logos/logo_wbb2.png":{"shortcut":"logo_wbb2.png","webp":{"default":"assets/content/logos/show-logos/logo_wbb2.webp","low":"assets/content/logos/show-logos/logo_wbb2@0.5x.webp"},"standard":{"default":"assets/content/logos/show-logos/logo_wbb2.png","low":"assets/content/logos/show-logos/logo_wbb2@0.5x.png"}}},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/content/logos/titles":{"image":{"assets/content/logos/titles/logo_ar.png":{"shortcut":"logo_ar.png","webp":{"default":"assets/content/logos/titles/logo_ar.webp","low":"assets/content/logos/titles/logo_ar@0.5x.webp"},"standard":{"default":"assets/content/logos/titles/logo_ar.png","low":"assets/content/logos/titles/logo_ar@0.5x.png"}},"assets/content/logos/titles/logo_ch.png":{"shortcut":"logo_ch.png","webp":{"default":"assets/content/logos/titles/logo_ch.webp","low":"assets/content/logos/titles/logo_ch@0.5x.webp"},"standard":{"default":"assets/content/logos/titles/logo_ch.png","low":"assets/content/logos/titles/logo_ch@0.5x.png"}},"assets/content/logos/titles/logo_en.png":{"shortcut":"logo_en.png","webp":{"default":"assets/content/logos/titles/logo_en.webp","low":"assets/content/logos/titles/logo_en@0.5x.webp"},"standard":{"default":"assets/content/logos/titles/logo_en.png","low":"assets/content/logos/titles/logo_en@0.5x.png"}},"assets/content/logos/titles/logo_es.png":{"shortcut":"logo_es.png","webp":{"default":"assets/content/logos/titles/logo_es.webp","low":"assets/content/logos/titles/logo_es@0.5x.webp"},"standard":{"default":"assets/content/logos/titles/logo_es.png","low":"assets/content/logos/titles/logo_es@0.5x.png"}},"assets/content/logos/titles/logo_es419.png":{"shortcut":"logo_es419.png","webp":{"default":"assets/content/logos/titles/logo_es419.webp","low":"assets/content/logos/titles/logo_es419@0.5x.webp"},"standard":{"default":"assets/content/logos/titles/logo_es419.png","low":"assets/content/logos/titles/logo_es419@0.5x.png"}},"assets/content/logos/titles/logo_hu.png":{"shortcut":"logo_hu.png","webp":{"default":"assets/content/logos/titles/logo_hu.webp","low":"assets/content/logos/titles/logo_hu@0.5x.webp"},"standard":{"default":"assets/content/logos/titles/logo_hu.png","low":"assets/content/logos/titles/logo_hu@0.5x.png"}},"assets/content/logos/titles/logo_jp.png":{"shortcut":"logo_jp.png","webp":{"default":"assets/content/logos/titles/logo_jp.webp","low":"assets/content/logos/titles/logo_jp@0.5x.webp"},"standard":{"default":"assets/content/logos/titles/logo_jp.png","low":"assets/content/logos/titles/logo_jp@0.5x.png"}},"assets/content/logos/titles/logo_pl.png":{"shortcut":"logo_pl.png","webp":{"default":"assets/content/logos/titles/logo_pl.webp","low":"assets/content/logos/titles/logo_pl@0.5x.webp"},"standard":{"default":"assets/content/logos/titles/logo_pl.png","low":"assets/content/logos/titles/logo_pl@0.5x.png"}},"assets/content/logos/titles/logo_pt.png":{"shortcut":"logo_pt.png","webp":{"default":"assets/content/logos/titles/logo_pt.webp","low":"assets/content/logos/titles/logo_pt@0.5x.webp"},"standard":{"default":"assets/content/logos/titles/logo_pt.png","low":"assets/content/logos/titles/logo_pt@0.5x.png"}},"assets/content/logos/titles/logo_ptbr.png":{"shortcut":"logo_ptbr.png","webp":{"default":"assets/content/logos/titles/logo_ptbr.webp","low":"assets/content/logos/titles/logo_ptbr@0.5x.webp"},"standard":{"default":"assets/content/logos/titles/logo_ptbr.png","low":"assets/content/logos/titles/logo_ptbr@0.5x.png"}},"assets/content/logos/titles/logo_ro.png":{"shortcut":"logo_ro.png","webp":{"default":"assets/content/logos/titles/logo_ro.webp","low":"assets/content/logos/titles/logo_ro@0.5x.webp"},"standard":{"default":"assets/content/logos/titles/logo_ro.png","low":"assets/content/logos/titles/logo_ro@0.5x.png"}},"assets/content/logos/titles/logo_ru.png":{"shortcut":"logo_ru.png","webp":{"default":"assets/content/logos/titles/logo_ru.webp","low":"assets/content/logos/titles/logo_ru@0.5x.webp"},"standard":{"default":"assets/content/logos/titles/logo_ru.png","low":"assets/content/logos/titles/logo_ru@0.5x.png"}},"assets/content/logos/titles/logo_tr.png":{"shortcut":"logo_tr.png","webp":{"default":"assets/content/logos/titles/logo_tr.webp","low":"assets/content/logos/titles/logo_tr@0.5x.webp"},"standard":{"default":"assets/content/logos/titles/logo_tr.png","low":"assets/content/logos/titles/logo_tr@0.5x.png"}}},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/content/stadiums":{"image":{},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/content/stadiums/core-assets":{"image":{"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_01.png":{"shortcut":"content/stadiums/core-assets/beach-stadium/bleacher/crowd_01.png","webp":{"default":"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_01.webp","low":"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_01@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_01.png","low":"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_01@0.5x.png"}},"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_02.png":{"shortcut":"content/stadiums/core-assets/beach-stadium/bleacher/crowd_02.png","webp":{"default":"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_02.webp","low":"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_02@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_02.png","low":"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_02@0.5x.png"}},"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_03.png":{"shortcut":"content/stadiums/core-assets/beach-stadium/bleacher/crowd_03.png","webp":{"default":"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_03.webp","low":"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_03@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_03.png","low":"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_03@0.5x.png"}},"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_04.png":{"shortcut":"content/stadiums/core-assets/beach-stadium/bleacher/crowd_04.png","webp":{"default":"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_04.webp","low":"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_04@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_04.png","low":"assets/content/stadiums/core-assets/beach-stadium/bleacher/crowd_04@0.5x.png"}},"assets/content/stadiums/core-assets/beach-stadium/front-crowd.png":{"shortcut":"content/stadiums/core-assets/beach-stadium/front-crowd.png","webp":{"default":"assets/content/stadiums/core-assets/beach-stadium/front-crowd.webp","low":"assets/content/stadiums/core-assets/beach-stadium/front-crowd@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/beach-stadium/front-crowd.png","low":"assets/content/stadiums/core-assets/beach-stadium/front-crowd@0.5x.png"}},"assets/content/stadiums/core-assets/beach-stadium/goal-texture-blue.png":{"shortcut":"content/stadiums/core-assets/beach-stadium/goal-texture-blue.png","webp":{"default":"assets/content/stadiums/core-assets/beach-stadium/goal-texture-blue.webp","low":"assets/content/stadiums/core-assets/beach-stadium/goal-texture-blue@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/beach-stadium/goal-texture-blue.png","low":"assets/content/stadiums/core-assets/beach-stadium/goal-texture-blue@0.5x.png"}},"assets/content/stadiums/core-assets/beach-stadium/goal-texture-red.png":{"shortcut":"content/stadiums/core-assets/beach-stadium/goal-texture-red.png","webp":{"default":"assets/content/stadiums/core-assets/beach-stadium/goal-texture-red.webp","low":"assets/content/stadiums/core-assets/beach-stadium/goal-texture-red@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/beach-stadium/goal-texture-red.png","low":"assets/content/stadiums/core-assets/beach-stadium/goal-texture-red@0.5x.png"}},"assets/content/stadiums/core-assets/beach-stadium/pitch-full.jpg":{"shortcut":"content/stadiums/core-assets/beach-stadium/pitch-full.jpg","webp":{"default":"assets/content/stadiums/core-assets/beach-stadium/pitch-full.webp","low":"assets/content/stadiums/core-assets/beach-stadium/pitch-full@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/beach-stadium/pitch-full.jpg","low":"assets/content/stadiums/core-assets/beach-stadium/pitch-full@0.5x.jpg"}},"assets/content/stadiums/core-assets/beach-stadium/run-off.jpg":{"shortcut":"content/stadiums/core-assets/beach-stadium/run-off.jpg","webp":{"default":"assets/content/stadiums/core-assets/beach-stadium/run-off.webp","low":"assets/content/stadiums/core-assets/beach-stadium/run-off@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/beach-stadium/run-off.jpg","low":"assets/content/stadiums/core-assets/beach-stadium/run-off@0.5x.jpg"}},"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_01.png":{"shortcut":"content/stadiums/core-assets/default-stadium/bleacher/crowd_01.png","webp":{"default":"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_01.webp","low":"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_01@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_01.png","low":"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_01@0.5x.png"}},"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_02.png":{"shortcut":"content/stadiums/core-assets/default-stadium/bleacher/crowd_02.png","webp":{"default":"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_02.webp","low":"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_02@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_02.png","low":"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_02@0.5x.png"}},"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_03.png":{"shortcut":"content/stadiums/core-assets/default-stadium/bleacher/crowd_03.png","webp":{"default":"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_03.webp","low":"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_03@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_03.png","low":"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_03@0.5x.png"}},"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_04.png":{"shortcut":"content/stadiums/core-assets/default-stadium/bleacher/crowd_04.png","webp":{"default":"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_04.webp","low":"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_04@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_04.png","low":"assets/content/stadiums/core-assets/default-stadium/bleacher/crowd_04@0.5x.png"}},"assets/content/stadiums/core-assets/default-stadium/front-crowd.png":{"shortcut":"content/stadiums/core-assets/default-stadium/front-crowd.png","webp":{"default":"assets/content/stadiums/core-assets/default-stadium/front-crowd.webp","low":"assets/content/stadiums/core-assets/default-stadium/front-crowd@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/default-stadium/front-crowd.png","low":"assets/content/stadiums/core-assets/default-stadium/front-crowd@0.5x.png"}},"assets/content/stadiums/core-assets/default-stadium/goal-texture-blue.png":{"shortcut":"content/stadiums/core-assets/default-stadium/goal-texture-blue.png","webp":{"default":"assets/content/stadiums/core-assets/default-stadium/goal-texture-blue.webp","low":"assets/content/stadiums/core-assets/default-stadium/goal-texture-blue@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/default-stadium/goal-texture-blue.png","low":"assets/content/stadiums/core-assets/default-stadium/goal-texture-blue@0.5x.png"}},"assets/content/stadiums/core-assets/default-stadium/goal-texture-red.png":{"shortcut":"content/stadiums/core-assets/default-stadium/goal-texture-red.png","webp":{"default":"assets/content/stadiums/core-assets/default-stadium/goal-texture-red.webp","low":"assets/content/stadiums/core-assets/default-stadium/goal-texture-red@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/default-stadium/goal-texture-red.png","low":"assets/content/stadiums/core-assets/default-stadium/goal-texture-red@0.5x.png"}},"assets/content/stadiums/core-assets/default-stadium/pitch-full.jpg":{"shortcut":"content/stadiums/core-assets/default-stadium/pitch-full.jpg","webp":{"default":"assets/content/stadiums/core-assets/default-stadium/pitch-full.webp","low":"assets/content/stadiums/core-assets/default-stadium/pitch-full@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/default-stadium/pitch-full.jpg","low":"assets/content/stadiums/core-assets/default-stadium/pitch-full@0.5x.jpg"}},"assets/content/stadiums/core-assets/default-stadium/run-off.jpg":{"shortcut":"content/stadiums/core-assets/default-stadium/run-off.jpg","webp":{"default":"assets/content/stadiums/core-assets/default-stadium/run-off.webp","low":"assets/content/stadiums/core-assets/default-stadium/run-off@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/default-stadium/run-off.jpg","low":"assets/content/stadiums/core-assets/default-stadium/run-off@0.5x.jpg"}},"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_01.png":{"shortcut":"content/stadiums/core-assets/oasis-stadium/bleacher/crowd_01.png","webp":{"default":"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_01.webp","low":"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_01@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_01.png","low":"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_01@0.5x.png"}},"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_02.png":{"shortcut":"content/stadiums/core-assets/oasis-stadium/bleacher/crowd_02.png","webp":{"default":"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_02.webp","low":"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_02@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_02.png","low":"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_02@0.5x.png"}},"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_03.png":{"shortcut":"content/stadiums/core-assets/oasis-stadium/bleacher/crowd_03.png","webp":{"default":"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_03.webp","low":"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_03@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_03.png","low":"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_03@0.5x.png"}},"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_04.png":{"shortcut":"content/stadiums/core-assets/oasis-stadium/bleacher/crowd_04.png","webp":{"default":"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_04.webp","low":"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_04@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_04.png","low":"assets/content/stadiums/core-assets/oasis-stadium/bleacher/crowd_04@0.5x.png"}},"assets/content/stadiums/core-assets/oasis-stadium/front-crowd.png":{"shortcut":"content/stadiums/core-assets/oasis-stadium/front-crowd.png","webp":{"default":"assets/content/stadiums/core-assets/oasis-stadium/front-crowd.webp","low":"assets/content/stadiums/core-assets/oasis-stadium/front-crowd@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/oasis-stadium/front-crowd.png","low":"assets/content/stadiums/core-assets/oasis-stadium/front-crowd@0.5x.png"}},"assets/content/stadiums/core-assets/oasis-stadium/goal-texture-blue.png":{"shortcut":"content/stadiums/core-assets/oasis-stadium/goal-texture-blue.png","webp":{"default":"assets/content/stadiums/core-assets/oasis-stadium/goal-texture-blue.webp","low":"assets/content/stadiums/core-assets/oasis-stadium/goal-texture-blue@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/oasis-stadium/goal-texture-blue.png","low":"assets/content/stadiums/core-assets/oasis-stadium/goal-texture-blue@0.5x.png"}},"assets/content/stadiums/core-assets/oasis-stadium/goal-texture-red.png":{"shortcut":"content/stadiums/core-assets/oasis-stadium/goal-texture-red.png","webp":{"default":"assets/content/stadiums/core-assets/oasis-stadium/goal-texture-red.webp","low":"assets/content/stadiums/core-assets/oasis-stadium/goal-texture-red@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/oasis-stadium/goal-texture-red.png","low":"assets/content/stadiums/core-assets/oasis-stadium/goal-texture-red@0.5x.png"}},"assets/content/stadiums/core-assets/oasis-stadium/pitch-full.jpg":{"shortcut":"content/stadiums/core-assets/oasis-stadium/pitch-full.jpg","webp":{"default":"assets/content/stadiums/core-assets/oasis-stadium/pitch-full.webp","low":"assets/content/stadiums/core-assets/oasis-stadium/pitch-full@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/oasis-stadium/pitch-full.jpg","low":"assets/content/stadiums/core-assets/oasis-stadium/pitch-full@0.5x.jpg"}},"assets/content/stadiums/core-assets/oasis-stadium/run-off.jpg":{"shortcut":"content/stadiums/core-assets/oasis-stadium/run-off.jpg","webp":{"default":"assets/content/stadiums/core-assets/oasis-stadium/run-off.webp","low":"assets/content/stadiums/core-assets/oasis-stadium/run-off@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/oasis-stadium/run-off.jpg","low":"assets/content/stadiums/core-assets/oasis-stadium/run-off@0.5x.jpg"}},"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_01.png":{"shortcut":"content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_01.png","webp":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_01.webp","low":"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_01@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_01.png","low":"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_01@0.5x.png"}},"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_02.png":{"shortcut":"content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_02.png","webp":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_02.webp","low":"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_02@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_02.png","low":"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_02@0.5x.png"}},"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_03.png":{"shortcut":"content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_03.png","webp":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_03.webp","low":"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_03@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_03.png","low":"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_03@0.5x.png"}},"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_04.png":{"shortcut":"content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_04.png","webp":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_04.webp","low":"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_04@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_04.png","low":"assets/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_04@0.5x.png"}},"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal1_01.png":{"shortcut":"petal1_01.png","webp":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal1_01.webp","low":"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal1_01@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal1_01.png","low":"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal1_01@0.5x.png"}},"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal2_01.png":{"shortcut":"petal2_01.png","webp":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal2_01.webp","low":"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal2_01@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal2_01.png","low":"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal2_01@0.5x.png"}},"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal3_01.png":{"shortcut":"petal3_01.png","webp":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal3_01.webp","low":"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal3_01@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal3_01.png","low":"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal3_01@0.5x.png"}},"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal4_01.png":{"shortcut":"petal4_01.png","webp":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal4_01.webp","low":"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal4_01@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal4_01.png","low":"assets/content/stadiums/core-assets/tokyo-stadium/decorations/petal4_01@0.5x.png"}},"assets/content/stadiums/core-assets/tokyo-stadium/front-crowd.png":{"shortcut":"content/stadiums/core-assets/tokyo-stadium/front-crowd.png","webp":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/front-crowd.webp","low":"assets/content/stadiums/core-assets/tokyo-stadium/front-crowd@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/front-crowd.png","low":"assets/content/stadiums/core-assets/tokyo-stadium/front-crowd@0.5x.png"}},"assets/content/stadiums/core-assets/tokyo-stadium/goal-texture-blue.png":{"shortcut":"content/stadiums/core-assets/tokyo-stadium/goal-texture-blue.png","webp":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/goal-texture-blue.webp","low":"assets/content/stadiums/core-assets/tokyo-stadium/goal-texture-blue@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/goal-texture-blue.png","low":"assets/content/stadiums/core-assets/tokyo-stadium/goal-texture-blue@0.5x.png"}},"assets/content/stadiums/core-assets/tokyo-stadium/goal-texture-red.png":{"shortcut":"content/stadiums/core-assets/tokyo-stadium/goal-texture-red.png","webp":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/goal-texture-red.webp","low":"assets/content/stadiums/core-assets/tokyo-stadium/goal-texture-red@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/goal-texture-red.png","low":"assets/content/stadiums/core-assets/tokyo-stadium/goal-texture-red@0.5x.png"}},"assets/content/stadiums/core-assets/tokyo-stadium/pitch-full.jpg":{"shortcut":"content/stadiums/core-assets/tokyo-stadium/pitch-full.jpg","webp":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/pitch-full.webp","low":"assets/content/stadiums/core-assets/tokyo-stadium/pitch-full@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/pitch-full.jpg","low":"assets/content/stadiums/core-assets/tokyo-stadium/pitch-full@0.5x.jpg"}},"assets/content/stadiums/core-assets/tokyo-stadium/run-off.jpg":{"shortcut":"content/stadiums/core-assets/tokyo-stadium/run-off.jpg","webp":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/run-off.webp","low":"assets/content/stadiums/core-assets/tokyo-stadium/run-off@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/tokyo-stadium/run-off.jpg","low":"assets/content/stadiums/core-assets/tokyo-stadium/run-off@0.5x.jpg"}},"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_01.png":{"shortcut":"content/stadiums/core-assets/urban-stadium/bleacher/crowd_01.png","webp":{"default":"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_01.webp","low":"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_01@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_01.png","low":"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_01@0.5x.png"}},"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_02.png":{"shortcut":"content/stadiums/core-assets/urban-stadium/bleacher/crowd_02.png","webp":{"default":"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_02.webp","low":"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_02@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_02.png","low":"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_02@0.5x.png"}},"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_03.png":{"shortcut":"content/stadiums/core-assets/urban-stadium/bleacher/crowd_03.png","webp":{"default":"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_03.webp","low":"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_03@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_03.png","low":"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_03@0.5x.png"}},"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_04.png":{"shortcut":"content/stadiums/core-assets/urban-stadium/bleacher/crowd_04.png","webp":{"default":"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_04.webp","low":"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_04@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_04.png","low":"assets/content/stadiums/core-assets/urban-stadium/bleacher/crowd_04@0.5x.png"}},"assets/content/stadiums/core-assets/urban-stadium/front-crowd.png":{"shortcut":"content/stadiums/core-assets/urban-stadium/front-crowd.png","webp":{"default":"assets/content/stadiums/core-assets/urban-stadium/front-crowd.webp","low":"assets/content/stadiums/core-assets/urban-stadium/front-crowd@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/urban-stadium/front-crowd.png","low":"assets/content/stadiums/core-assets/urban-stadium/front-crowd@0.5x.png"}},"assets/content/stadiums/core-assets/urban-stadium/goal-texture-blue.png":{"shortcut":"content/stadiums/core-assets/urban-stadium/goal-texture-blue.png","webp":{"default":"assets/content/stadiums/core-assets/urban-stadium/goal-texture-blue.webp","low":"assets/content/stadiums/core-assets/urban-stadium/goal-texture-blue@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/urban-stadium/goal-texture-blue.png","low":"assets/content/stadiums/core-assets/urban-stadium/goal-texture-blue@0.5x.png"}},"assets/content/stadiums/core-assets/urban-stadium/goal-texture-red.png":{"shortcut":"content/stadiums/core-assets/urban-stadium/goal-texture-red.png","webp":{"default":"assets/content/stadiums/core-assets/urban-stadium/goal-texture-red.webp","low":"assets/content/stadiums/core-assets/urban-stadium/goal-texture-red@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/urban-stadium/goal-texture-red.png","low":"assets/content/stadiums/core-assets/urban-stadium/goal-texture-red@0.5x.png"}},"assets/content/stadiums/core-assets/urban-stadium/pitch-full.jpg":{"shortcut":"content/stadiums/core-assets/urban-stadium/pitch-full.jpg","webp":{"default":"assets/content/stadiums/core-assets/urban-stadium/pitch-full.webp","low":"assets/content/stadiums/core-assets/urban-stadium/pitch-full@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/urban-stadium/pitch-full.jpg","low":"assets/content/stadiums/core-assets/urban-stadium/pitch-full@0.5x.jpg"}},"assets/content/stadiums/core-assets/urban-stadium/run-off.jpg":{"shortcut":"content/stadiums/core-assets/urban-stadium/run-off.jpg","webp":{"default":"assets/content/stadiums/core-assets/urban-stadium/run-off.webp","low":"assets/content/stadiums/core-assets/urban-stadium/run-off@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/urban-stadium/run-off.jpg","low":"assets/content/stadiums/core-assets/urban-stadium/run-off@0.5x.jpg"}},"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_01.png":{"shortcut":"content/stadiums/core-assets/winter-stadium/bleacher/crowd_01.png","webp":{"default":"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_01.webp","low":"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_01@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_01.png","low":"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_01@0.5x.png"}},"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_02.png":{"shortcut":"content/stadiums/core-assets/winter-stadium/bleacher/crowd_02.png","webp":{"default":"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_02.webp","low":"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_02@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_02.png","low":"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_02@0.5x.png"}},"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_03.png":{"shortcut":"content/stadiums/core-assets/winter-stadium/bleacher/crowd_03.png","webp":{"default":"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_03.webp","low":"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_03@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_03.png","low":"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_03@0.5x.png"}},"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_04.png":{"shortcut":"content/stadiums/core-assets/winter-stadium/bleacher/crowd_04.png","webp":{"default":"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_04.webp","low":"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_04@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_04.png","low":"assets/content/stadiums/core-assets/winter-stadium/bleacher/crowd_04@0.5x.png"}},"assets/content/stadiums/core-assets/winter-stadium/front-crowd.png":{"shortcut":"content/stadiums/core-assets/winter-stadium/front-crowd.png","webp":{"default":"assets/content/stadiums/core-assets/winter-stadium/front-crowd.webp","low":"assets/content/stadiums/core-assets/winter-stadium/front-crowd@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/winter-stadium/front-crowd.png","low":"assets/content/stadiums/core-assets/winter-stadium/front-crowd@0.5x.png"}},"assets/content/stadiums/core-assets/winter-stadium/goal-texture-blue.png":{"shortcut":"content/stadiums/core-assets/winter-stadium/goal-texture-blue.png","webp":{"default":"assets/content/stadiums/core-assets/winter-stadium/goal-texture-blue.webp","low":"assets/content/stadiums/core-assets/winter-stadium/goal-texture-blue@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/winter-stadium/goal-texture-blue.png","low":"assets/content/stadiums/core-assets/winter-stadium/goal-texture-blue@0.5x.png"}},"assets/content/stadiums/core-assets/winter-stadium/goal-texture-red.png":{"shortcut":"content/stadiums/core-assets/winter-stadium/goal-texture-red.png","webp":{"default":"assets/content/stadiums/core-assets/winter-stadium/goal-texture-red.webp","low":"assets/content/stadiums/core-assets/winter-stadium/goal-texture-red@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/winter-stadium/goal-texture-red.png","low":"assets/content/stadiums/core-assets/winter-stadium/goal-texture-red@0.5x.png"}},"assets/content/stadiums/core-assets/winter-stadium/pitch-full.jpg":{"shortcut":"content/stadiums/core-assets/winter-stadium/pitch-full.jpg","webp":{"default":"assets/content/stadiums/core-assets/winter-stadium/pitch-full.webp","low":"assets/content/stadiums/core-assets/winter-stadium/pitch-full@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/winter-stadium/pitch-full.jpg","low":"assets/content/stadiums/core-assets/winter-stadium/pitch-full@0.5x.jpg"}},"assets/content/stadiums/core-assets/winter-stadium/run-off.jpg":{"shortcut":"content/stadiums/core-assets/winter-stadium/run-off.jpg","webp":{"default":"assets/content/stadiums/core-assets/winter-stadium/run-off.webp","low":"assets/content/stadiums/core-assets/winter-stadium/run-off@0.5x.webp"},"standard":{"default":"assets/content/stadiums/core-assets/winter-stadium/run-off.jpg","low":"assets/content/stadiums/core-assets/winter-stadium/run-off@0.5x.jpg"}}},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/content/stadiums/stadium-artworks":{"image":{"assets/content/stadiums/stadium-artworks/background-beach.jpg":{"shortcut":"background-beach.jpg","webp":{"default":"assets/content/stadiums/stadium-artworks/background-beach.webp","low":"assets/content/stadiums/stadium-artworks/background-beach@0.5x.webp"},"standard":{"default":"assets/content/stadiums/stadium-artworks/background-beach.jpg","low":"assets/content/stadiums/stadium-artworks/background-beach@0.5x.jpg"}},"assets/content/stadiums/stadium-artworks/background-default.jpg":{"shortcut":"background-default.jpg","webp":{"default":"assets/content/stadiums/stadium-artworks/background-default.webp","low":"assets/content/stadiums/stadium-artworks/background-default@0.5x.webp"},"standard":{"default":"assets/content/stadiums/stadium-artworks/background-default.jpg","low":"assets/content/stadiums/stadium-artworks/background-default@0.5x.jpg"}},"assets/content/stadiums/stadium-artworks/background-oasis.jpg":{"shortcut":"background-oasis.jpg","webp":{"default":"assets/content/stadiums/stadium-artworks/background-oasis.webp","low":"assets/content/stadiums/stadium-artworks/background-oasis@0.5x.webp"},"standard":{"default":"assets/content/stadiums/stadium-artworks/background-oasis.jpg","low":"assets/content/stadiums/stadium-artworks/background-oasis@0.5x.jpg"}},"assets/content/stadiums/stadium-artworks/background-tokyo.jpg":{"shortcut":"background-tokyo.jpg","webp":{"default":"assets/content/stadiums/stadium-artworks/background-tokyo.webp","low":"assets/content/stadiums/stadium-artworks/background-tokyo@0.5x.webp"},"standard":{"default":"assets/content/stadiums/stadium-artworks/background-tokyo.jpg","low":"assets/content/stadiums/stadium-artworks/background-tokyo@0.5x.jpg"}},"assets/content/stadiums/stadium-artworks/background-urban.jpg":{"shortcut":"background-urban.jpg","webp":{"default":"assets/content/stadiums/stadium-artworks/background-urban.webp","low":"assets/content/stadiums/stadium-artworks/background-urban@0.5x.webp"},"standard":{"default":"assets/content/stadiums/stadium-artworks/background-urban.jpg","low":"assets/content/stadiums/stadium-artworks/background-urban@0.5x.jpg"}},"assets/content/stadiums/stadium-artworks/background-winter.jpg":{"shortcut":"background-winter.jpg","webp":{"default":"assets/content/stadiums/stadium-artworks/background-winter.webp","low":"assets/content/stadiums/stadium-artworks/background-winter@0.5x.webp"},"standard":{"default":"assets/content/stadiums/stadium-artworks/background-winter.jpg","low":"assets/content/stadiums/stadium-artworks/background-winter@0.5x.jpg"}}},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/content/stadiums/stadium-shared-decorations":{"image":{"fx":{"tags":{"tps":true},"standard":{"default":"assets/content/stadiums/stadium-shared-decorations/fx/fx.json","low":"assets/content/stadiums/stadium-shared-decorations/fx/fx@0.5x.json"},"webp":{"default":"assets/content/stadiums/stadium-shared-decorations/fx/fx.webp.json","low":"assets/content/stadiums/stadium-shared-decorations/fx/fx@0.5x.webp.json"}}},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/data":{"image":{},"fonts":{},"audio":{},"model":{},"json":{"assets/data/config.json":{"shortcut":"config.json","default":"assets/data/config.json"},"assets/data/strings.json":{"shortcut":"strings.json","default":"assets/data/strings.json"}},"atlas":{},"animate":{},"misc":{}},"assets/device":{"image":{"assets/device/banner-android.png":{"shortcut":"banner-android.png","webp":{"default":"assets/device/banner-android.webp","low":"assets/device/banner-android@0.5x.webp"},"standard":{"default":"assets/device/banner-android.png","low":"assets/device/banner-android@0.5x.png"}},"assets/device/banner-ios.png":{"shortcut":"banner-ios.png","webp":{"default":"assets/device/banner-ios.webp","low":"assets/device/banner-ios@0.5x.webp"},"standard":{"default":"assets/device/banner-ios.png","low":"assets/device/banner-ios@0.5x.png"}},"assets/device/fallback-image.png":{"shortcut":"fallback-image.png","webp":{"default":"assets/device/fallback-image.webp","low":"assets/device/fallback-image@0.5x.webp"},"standard":{"default":"assets/device/fallback-image.png","low":"assets/device/fallback-image@0.5x.png"}},"assets/device/phone-turn.jpg":{"shortcut":"phone-turn.jpg","webp":{"default":"assets/device/phone-turn.webp","low":"assets/device/phone-turn@0.5x.webp"},"standard":{"default":"assets/device/phone-turn.jpg","low":"assets/device/phone-turn@0.5x.jpg"}}},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/fonts":{"image":{},"fonts":{"assets/fonts/avenir":{"shortcut":"avenir","woff2":"assets/fonts/avenir.woff2","woff":"assets/fonts/avenir.woff","css":"fonts/avenir-fonts.css"},"assets/fonts/fredburger_headline":{"shortcut":"fredburger_headline","woff2":"assets/fonts/fredburger_headline.woff2","woff":"assets/fonts/fredburger_headline.woff","css":"fonts/fredburger_headline-fonts.css"},"assets/fonts/fredburger_regular":{"shortcut":"fredburger_regular","woff2":"assets/fonts/fredburger_regular.woff2","woff":"assets/fonts/fredburger_regular.woff","css":"fonts/fredburger_regular-fonts.css"},"assets/fonts/lubalin":{"shortcut":"lubalin","woff2":"assets/fonts/lubalin.woff2","woff":"assets/fonts/lubalin.woff","css":"fonts/lubalin-fonts.css"},"assets/fonts/sirichana":{"shortcut":"sirichana","woff2":"assets/fonts/sirichana.woff2","woff":"assets/fonts/sirichana.woff","css":"fonts/sirichana-fonts.css"}},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/mock-data":{"image":{},"fonts":{},"audio":{},"model":{},"json":{"assets/mock-data/fakedatabase.json":{"shortcut":"fakedatabase.json","default":"assets/mock-data/fakedatabase.json"}},"atlas":{},"animate":{},"misc":{}},"assets/spine":{"image":{"assets/spine/anais/Anais.png":{"shortcut":"Anais.png","webp":{"default":"assets/spine/anais/Anais.webp","low":"assets/spine/anais/Anais@0.5x.webp"},"standard":{"default":"assets/spine/anais/Anais.png","low":"assets/spine/anais/Anais@0.5x.png"}},"assets/spine/apple/Apple.png":{"shortcut":"Apple.png","webp":{"default":"assets/spine/apple/Apple.webp","low":"assets/spine/apple/Apple@0.5x.webp"},"standard":{"default":"assets/spine/apple/Apple.png","low":"assets/spine/apple/Apple@0.5x.png"}},"assets/spine/baby_grizz/Baby_Bear_Brown.png":{"shortcut":"Baby_Bear_Brown.png","webp":{"default":"assets/spine/baby_grizz/Baby_Bear_Brown.webp","low":"assets/spine/baby_grizz/Baby_Bear_Brown@0.5x.webp"},"standard":{"default":"assets/spine/baby_grizz/Baby_Bear_Brown.png","low":"assets/spine/baby_grizz/Baby_Bear_Brown@0.5x.png"}},"assets/spine/baby_ice_bear/Baby_Bear_White.png":{"shortcut":"Baby_Bear_White.png","webp":{"default":"assets/spine/baby_ice_bear/Baby_Bear_White.webp","low":"assets/spine/baby_ice_bear/Baby_Bear_White@0.5x.webp"},"standard":{"default":"assets/spine/baby_ice_bear/Baby_Bear_White.png","low":"assets/spine/baby_ice_bear/Baby_Bear_White@0.5x.png"}},"assets/spine/baby_panda/Baby_Bear_Panda.png":{"shortcut":"Baby_Bear_Panda.png","webp":{"default":"assets/spine/baby_panda/Baby_Bear_Panda.webp","low":"assets/spine/baby_panda/Baby_Bear_Panda@0.5x.webp"},"standard":{"default":"assets/spine/baby_panda/Baby_Bear_Panda.png","low":"assets/spine/baby_panda/Baby_Bear_Panda@0.5x.png"}},"assets/spine/badgerclops/Badgerclops.png":{"shortcut":"Badgerclops.png","webp":{"default":"assets/spine/badgerclops/Badgerclops.webp","low":"assets/spine/badgerclops/Badgerclops@0.5x.webp"},"standard":{"default":"assets/spine/badgerclops/Badgerclops.png","low":"assets/spine/badgerclops/Badgerclops@0.5x.png"}},"assets/spine/batgirl/Batgirl.png":{"shortcut":"Batgirl.png","webp":{"default":"assets/spine/batgirl/Batgirl.webp","low":"assets/spine/batgirl/Batgirl@0.5x.webp"},"standard":{"default":"assets/spine/batgirl/Batgirl.png","low":"assets/spine/batgirl/Batgirl@0.5x.png"}},"assets/spine/beastboy/BeastBoy.png":{"shortcut":"BeastBoy.png","webp":{"default":"assets/spine/beastboy/BeastBoy.webp","low":"assets/spine/beastboy/BeastBoy@0.5x.webp"},"standard":{"default":"assets/spine/beastboy/BeastBoy.png","low":"assets/spine/beastboy/BeastBoy@0.5x.png"}},"assets/spine/ben10/Ben_10.png":{"shortcut":"Ben_10.png","webp":{"default":"assets/spine/ben10/Ben_10.webp","low":"assets/spine/ben10/Ben_10@0.5x.webp"},"standard":{"default":"assets/spine/ben10/Ben_10.png","low":"assets/spine/ben10/Ben_10@0.5x.png"}},"assets/spine/blossom/Blossom.png":{"shortcut":"Blossom.png","webp":{"default":"assets/spine/blossom/Blossom.webp","low":"assets/spine/blossom/Blossom@0.5x.webp"},"standard":{"default":"assets/spine/blossom/Blossom.png","low":"assets/spine/blossom/Blossom@0.5x.png"}},"assets/spine/bmo/BMO.png":{"shortcut":"BMO.png","webp":{"default":"assets/spine/bmo/BMO.webp","low":"assets/spine/bmo/BMO@0.5x.webp"},"standard":{"default":"assets/spine/bmo/BMO.png","low":"assets/spine/bmo/BMO@0.5x.png"}},"assets/spine/bubbles/Bubbles.png":{"shortcut":"Bubbles.png","webp":{"default":"assets/spine/bubbles/Bubbles.webp","low":"assets/spine/bubbles/Bubbles@0.5x.webp"},"standard":{"default":"assets/spine/bubbles/Bubbles.png","low":"assets/spine/bubbles/Bubbles@0.5x.png"}},"assets/spine/buttercup/Buttercup.png":{"shortcut":"Buttercup.png","webp":{"default":"assets/spine/buttercup/Buttercup.webp","low":"assets/spine/buttercup/Buttercup@0.5x.webp"},"standard":{"default":"assets/spine/buttercup/Buttercup.png","low":"assets/spine/buttercup/Buttercup@0.5x.png"}},"assets/spine/craig/Craig.png":{"shortcut":"Craig.png","webp":{"default":"assets/spine/craig/Craig.webp","low":"assets/spine/craig/Craig@0.5x.webp"},"standard":{"default":"assets/spine/craig/Craig.png","low":"assets/spine/craig/Craig@0.5x.png"}},"assets/spine/cyborg/Cyborg.png":{"shortcut":"Cyborg.png","webp":{"default":"assets/spine/cyborg/Cyborg.webp","low":"assets/spine/cyborg/Cyborg@0.5x.webp"},"standard":{"default":"assets/spine/cyborg/Cyborg.png","low":"assets/spine/cyborg/Cyborg@0.5x.png"}},"assets/spine/darwin/Darwin.png":{"shortcut":"Darwin.png","webp":{"default":"assets/spine/darwin/Darwin.webp","low":"assets/spine/darwin/Darwin@0.5x.webp"},"standard":{"default":"assets/spine/darwin/Darwin.png","low":"assets/spine/darwin/Darwin@0.5x.png"}},"assets/spine/finn/Finn.png":{"shortcut":"Finn.png","webp":{"default":"assets/spine/finn/Finn.webp","low":"assets/spine/finn/Finn@0.5x.webp"},"standard":{"default":"assets/spine/finn/Finn.png","low":"assets/spine/finn/Finn@0.5x.png"}},"assets/spine/fourarms/FourArms.png":{"shortcut":"FourArms.png","webp":{"default":"assets/spine/fourarms/FourArms.webp","low":"assets/spine/fourarms/FourArms@0.5x.webp"},"standard":{"default":"assets/spine/fourarms/FourArms.png","low":"assets/spine/fourarms/FourArms@0.5x.png"}},"assets/spine/gumball/Gumball.png":{"shortcut":"Gumball.png","webp":{"default":"assets/spine/gumball/Gumball.webp","low":"assets/spine/gumball/Gumball@0.5x.webp"},"standard":{"default":"assets/spine/gumball/Gumball.png","low":"assets/spine/gumball/Gumball@0.5x.png"}},"assets/spine/jake/Jake.png":{"shortcut":"Jake.png","webp":{"default":"assets/spine/jake/Jake.webp","low":"assets/spine/jake/Jake@0.5x.webp"},"standard":{"default":"assets/spine/jake/Jake.png","low":"assets/spine/jake/Jake@0.5x.png"}},"assets/spine/jessica/Jessica_1.png":{"shortcut":"Jessica_1.png","webp":{"default":"assets/spine/jessica/Jessica_1.webp","low":"assets/spine/jessica/Jessica_1@0.5x.webp"},"standard":{"default":"assets/spine/jessica/Jessica_1.png","low":"assets/spine/jessica/Jessica_1@0.5x.png"}},"assets/spine/jp/JP.png":{"shortcut":"JP.png","webp":{"default":"assets/spine/jp/JP.webp","low":"assets/spine/jp/JP@0.5x.webp"},"standard":{"default":"assets/spine/jp/JP.png","low":"assets/spine/jp/JP@0.5x.png"}},"assets/spine/kelsey/Kelsey.png":{"shortcut":"Kelsey.png","webp":{"default":"assets/spine/kelsey/Kelsey.webp","low":"assets/spine/kelsey/Kelsey@0.5x.webp"},"standard":{"default":"assets/spine/kelsey/Kelsey.png","low":"assets/spine/kelsey/Kelsey@0.5x.png"}},"assets/spine/maomao/MaoMao.png":{"shortcut":"MaoMao.png","webp":{"default":"assets/spine/maomao/MaoMao.webp","low":"assets/spine/maomao/MaoMao@0.5x.webp"},"standard":{"default":"assets/spine/maomao/MaoMao.png","low":"assets/spine/maomao/MaoMao@0.5x.png"}},"assets/spine/marceline/Marceline.png":{"shortcut":"Marceline.png","webp":{"default":"assets/spine/marceline/Marceline.webp","low":"assets/spine/marceline/Marceline@0.5x.webp"},"standard":{"default":"assets/spine/marceline/Marceline.png","low":"assets/spine/marceline/Marceline@0.5x.png"}},"assets/spine/mojo/Mojo.png":{"shortcut":"Mojo.png","webp":{"default":"assets/spine/mojo/Mojo.webp","low":"assets/spine/mojo/Mojo@0.5x.webp"},"standard":{"default":"assets/spine/mojo/Mojo.png","low":"assets/spine/mojo/Mojo@0.5x.png"}},"assets/spine/nana_zanana/NanaZanana.png":{"shortcut":"NanaZanana.png","webp":{"default":"assets/spine/nana_zanana/NanaZanana.webp","low":"assets/spine/nana_zanana/NanaZanana@0.5x.webp"},"standard":{"default":"assets/spine/nana_zanana/NanaZanana.png","low":"assets/spine/nana_zanana/NanaZanana@0.5x.png"}},"assets/spine/onion/Onion.png":{"shortcut":"Onion.png","webp":{"default":"assets/spine/onion/Onion.webp","low":"assets/spine/onion/Onion@0.5x.webp"},"standard":{"default":"assets/spine/onion/Onion.png","low":"assets/spine/onion/Onion@0.5x.png"}},"assets/spine/princess_bubblegum/Princess_Bubblegum.png":{"shortcut":"Princess_Bubblegum.png","webp":{"default":"assets/spine/princess_bubblegum/Princess_Bubblegum.webp","low":"assets/spine/princess_bubblegum/Princess_Bubblegum@0.5x.webp"},"standard":{"default":"assets/spine/princess_bubblegum/Princess_Bubblegum.png","low":"assets/spine/princess_bubblegum/Princess_Bubblegum@0.5x.png"}},"assets/spine/raven/Raven.png":{"shortcut":"Raven.png","webp":{"default":"assets/spine/raven/Raven.webp","low":"assets/spine/raven/Raven@0.5x.webp"},"standard":{"default":"assets/spine/raven/Raven.png","low":"assets/spine/raven/Raven@0.5x.png"}},"assets/spine/richard/Richard.png":{"shortcut":"Richard.png","webp":{"default":"assets/spine/richard/Richard.webp","low":"assets/spine/richard/Richard@0.5x.webp"},"standard":{"default":"assets/spine/richard/Richard.png","low":"assets/spine/richard/Richard@0.5x.png"}},"assets/spine/robin/Robin.png":{"shortcut":"Robin.png","webp":{"default":"assets/spine/robin/Robin.webp","low":"assets/spine/robin/Robin@0.5x.webp"},"standard":{"default":"assets/spine/robin/Robin.png","low":"assets/spine/robin/Robin@0.5x.png"}},"assets/spine/starfire/Starfire.png":{"shortcut":"Starfire.png","webp":{"default":"assets/spine/starfire/Starfire.webp","low":"assets/spine/starfire/Starfire@0.5x.webp"},"standard":{"default":"assets/spine/starfire/Starfire.png","low":"assets/spine/starfire/Starfire@0.5x.png"}},"assets/spine/supergirl/Supergirl.png":{"shortcut":"Supergirl.png","webp":{"default":"assets/spine/supergirl/Supergirl.webp","low":"assets/spine/supergirl/Supergirl@0.5x.webp"},"standard":{"default":"assets/spine/supergirl/Supergirl.png","low":"assets/spine/supergirl/Supergirl@0.5x.png"}},"assets/spine/tobias/Tobias.png":{"shortcut":"Tobias.png","webp":{"default":"assets/spine/tobias/Tobias.webp","low":"assets/spine/tobias/Tobias@0.5x.webp"},"standard":{"default":"assets/spine/tobias/Tobias.png","low":"assets/spine/tobias/Tobias@0.5x.png"}},"assets/spine/wonderwoman/Wonderwoman.png":{"shortcut":"Wonderwoman.png","webp":{"default":"assets/spine/wonderwoman/Wonderwoman.webp","low":"assets/spine/wonderwoman/Wonderwoman@0.5x.webp"},"standard":{"default":"assets/spine/wonderwoman/Wonderwoman.png","low":"assets/spine/wonderwoman/Wonderwoman@0.5x.png"}},"assets/spine/xlr8/XLR8.png":{"shortcut":"XLR8.png","webp":{"default":"assets/spine/xlr8/XLR8.webp","low":"assets/spine/xlr8/XLR8@0.5x.webp"},"standard":{"default":"assets/spine/xlr8/XLR8.png","low":"assets/spine/xlr8/XLR8@0.5x.png"}}},"fonts":{},"audio":{},"model":{},"json":{"assets/spine/anais/Anais.json":{"shortcut":"Anais.json","default":"assets/spine/anais/Anais.json"},"assets/spine/apple/Apple.json":{"shortcut":"Apple.json","default":"assets/spine/apple/Apple.json"},"assets/spine/baby_grizz/Baby_Bear_Brown.json":{"shortcut":"Baby_Bear_Brown.json","default":"assets/spine/baby_grizz/Baby_Bear_Brown.json"},"assets/spine/baby_ice_bear/Baby_Bear_White.json":{"shortcut":"Baby_Bear_White.json","default":"assets/spine/baby_ice_bear/Baby_Bear_White.json"},"assets/spine/baby_panda/Baby_Bear_Panda.json":{"shortcut":"Baby_Bear_Panda.json","default":"assets/spine/baby_panda/Baby_Bear_Panda.json"},"assets/spine/badgerclops/Badgerclops.json":{"shortcut":"Badgerclops.json","default":"assets/spine/badgerclops/Badgerclops.json"},"assets/spine/batgirl/Batgirl.json":{"shortcut":"Batgirl.json","default":"assets/spine/batgirl/Batgirl.json"},"assets/spine/beastboy/BeastBoy.json":{"shortcut":"BeastBoy.json","default":"assets/spine/beastboy/BeastBoy.json"},"assets/spine/ben10/Ben_10.json":{"shortcut":"Ben_10.json","default":"assets/spine/ben10/Ben_10.json"},"assets/spine/blossom/Blossom.json":{"shortcut":"Blossom.json","default":"assets/spine/blossom/Blossom.json"},"assets/spine/bmo/BMO.json":{"shortcut":"BMO.json","default":"assets/spine/bmo/BMO.json"},"assets/spine/bubbles/Bubbles.json":{"shortcut":"Bubbles.json","default":"assets/spine/bubbles/Bubbles.json"},"assets/spine/buttercup/Buttercup.json":{"shortcut":"Buttercup.json","default":"assets/spine/buttercup/Buttercup.json"},"assets/spine/craig/Craig.json":{"shortcut":"Craig.json","default":"assets/spine/craig/Craig.json"},"assets/spine/cyborg/Cyborg.json":{"shortcut":"Cyborg.json","default":"assets/spine/cyborg/Cyborg.json"},"assets/spine/darwin/Darwin.json":{"shortcut":"Darwin.json","default":"assets/spine/darwin/Darwin.json"},"assets/spine/finn/Finn.json":{"shortcut":"Finn.json","default":"assets/spine/finn/Finn.json"},"assets/spine/fourarms/FourArms.json":{"shortcut":"FourArms.json","default":"assets/spine/fourarms/FourArms.json"},"assets/spine/gumball/Gumball.json":{"shortcut":"Gumball.json","default":"assets/spine/gumball/Gumball.json"},"assets/spine/jake/Jake.json":{"shortcut":"Jake.json","default":"assets/spine/jake/Jake.json"},"assets/spine/jessica/Jessica_1.json":{"shortcut":"Jessica_1.json","default":"assets/spine/jessica/Jessica_1.json"},"assets/spine/jp/JP.json":{"shortcut":"JP.json","default":"assets/spine/jp/JP.json"},"assets/spine/kelsey/Kelsey.json":{"shortcut":"Kelsey.json","default":"assets/spine/kelsey/Kelsey.json"},"assets/spine/maomao/MaoMao.json":{"shortcut":"MaoMao.json","default":"assets/spine/maomao/MaoMao.json"},"assets/spine/marceline/Marceline.json":{"shortcut":"Marceline.json","default":"assets/spine/marceline/Marceline.json"},"assets/spine/mojo/Mojo.json":{"shortcut":"Mojo.json","default":"assets/spine/mojo/Mojo.json"},"assets/spine/nana_zanana/NanaZanana.json":{"shortcut":"NanaZanana.json","default":"assets/spine/nana_zanana/NanaZanana.json"},"assets/spine/onion/Onion.json":{"shortcut":"Onion.json","default":"assets/spine/onion/Onion.json"},"assets/spine/princess_bubblegum/Princess_Bubblegum.json":{"shortcut":"Princess_Bubblegum.json","default":"assets/spine/princess_bubblegum/Princess_Bubblegum.json"},"assets/spine/raven/Raven.json":{"shortcut":"Raven.json","default":"assets/spine/raven/Raven.json"},"assets/spine/richard/Richard.json":{"shortcut":"Richard.json","default":"assets/spine/richard/Richard.json"},"assets/spine/robin/Robin.json":{"shortcut":"Robin.json","default":"assets/spine/robin/Robin.json"},"assets/spine/starfire/Starfire.json":{"shortcut":"Starfire.json","default":"assets/spine/starfire/Starfire.json"},"assets/spine/supergirl/Supergirl.json":{"shortcut":"Supergirl.json","default":"assets/spine/supergirl/Supergirl.json"},"assets/spine/tobias/Tobias.json":{"shortcut":"Tobias.json","default":"assets/spine/tobias/Tobias.json"},"assets/spine/wonderwoman/Wonderwoman.json":{"shortcut":"Wonderwoman.json","default":"assets/spine/wonderwoman/Wonderwoman.json"},"assets/spine/xlr8/XLR8.json":{"shortcut":"XLR8.json","default":"assets/spine/xlr8/XLR8.json"}},"atlas":{"assets/spine/anais/Anais.atlas":{"shortcut":"Anais.atlas","standard":{"default":"assets/spine/anais/Anais.atlas","low":"assets/spine/anais/Anais@0.5x.atlas"},"webp":{"default":"assets/spine/anais/Anais.webp.atlas","low":"assets/spine/anais/Anais@0.5x.webp.atlas"}},"assets/spine/apple/Apple.atlas":{"shortcut":"Apple.atlas","standard":{"default":"assets/spine/apple/Apple.atlas","low":"assets/spine/apple/Apple@0.5x.atlas"},"webp":{"default":"assets/spine/apple/Apple.webp.atlas","low":"assets/spine/apple/Apple@0.5x.webp.atlas"}},"assets/spine/baby_grizz/Baby_Bear_Brown.atlas":{"shortcut":"Baby_Bear_Brown.atlas","standard":{"default":"assets/spine/baby_grizz/Baby_Bear_Brown.atlas","low":"assets/spine/baby_grizz/Baby_Bear_Brown@0.5x.atlas"},"webp":{"default":"assets/spine/baby_grizz/Baby_Bear_Brown.webp.atlas","low":"assets/spine/baby_grizz/Baby_Bear_Brown@0.5x.webp.atlas"}},"assets/spine/baby_ice_bear/Baby_Bear_White.atlas":{"shortcut":"Baby_Bear_White.atlas","standard":{"default":"assets/spine/baby_ice_bear/Baby_Bear_White.atlas","low":"assets/spine/baby_ice_bear/Baby_Bear_White@0.5x.atlas"},"webp":{"default":"assets/spine/baby_ice_bear/Baby_Bear_White.webp.atlas","low":"assets/spine/baby_ice_bear/Baby_Bear_White@0.5x.webp.atlas"}},"assets/spine/baby_panda/Baby_Bear_Panda.atlas":{"shortcut":"Baby_Bear_Panda.atlas","standard":{"default":"assets/spine/baby_panda/Baby_Bear_Panda.atlas","low":"assets/spine/baby_panda/Baby_Bear_Panda@0.5x.atlas"},"webp":{"default":"assets/spine/baby_panda/Baby_Bear_Panda.webp.atlas","low":"assets/spine/baby_panda/Baby_Bear_Panda@0.5x.webp.atlas"}},"assets/spine/badgerclops/Badgerclops.atlas":{"shortcut":"Badgerclops.atlas","standard":{"default":"assets/spine/badgerclops/Badgerclops.atlas","low":"assets/spine/badgerclops/Badgerclops@0.5x.atlas"},"webp":{"default":"assets/spine/badgerclops/Badgerclops.webp.atlas","low":"assets/spine/badgerclops/Badgerclops@0.5x.webp.atlas"}},"assets/spine/batgirl/Batgirl.atlas":{"shortcut":"Batgirl.atlas","standard":{"default":"assets/spine/batgirl/Batgirl.atlas","low":"assets/spine/batgirl/Batgirl@0.5x.atlas"},"webp":{"default":"assets/spine/batgirl/Batgirl.webp.atlas","low":"assets/spine/batgirl/Batgirl@0.5x.webp.atlas"}},"assets/spine/beastboy/BeastBoy.atlas":{"shortcut":"BeastBoy.atlas","standard":{"default":"assets/spine/beastboy/BeastBoy.atlas","low":"assets/spine/beastboy/BeastBoy@0.5x.atlas"},"webp":{"default":"assets/spine/beastboy/BeastBoy.webp.atlas","low":"assets/spine/beastboy/BeastBoy@0.5x.webp.atlas"}},"assets/spine/ben10/Ben_10.atlas":{"shortcut":"Ben_10.atlas","standard":{"default":"assets/spine/ben10/Ben_10.atlas","low":"assets/spine/ben10/Ben_10@0.5x.atlas"},"webp":{"default":"assets/spine/ben10/Ben_10.webp.atlas","low":"assets/spine/ben10/Ben_10@0.5x.webp.atlas"}},"assets/spine/blossom/Blossom.atlas":{"shortcut":"Blossom.atlas","standard":{"default":"assets/spine/blossom/Blossom.atlas","low":"assets/spine/blossom/Blossom@0.5x.atlas"},"webp":{"default":"assets/spine/blossom/Blossom.webp.atlas","low":"assets/spine/blossom/Blossom@0.5x.webp.atlas"}},"assets/spine/bmo/BMO.atlas":{"shortcut":"BMO.atlas","standard":{"default":"assets/spine/bmo/BMO.atlas","low":"assets/spine/bmo/BMO@0.5x.atlas"},"webp":{"default":"assets/spine/bmo/BMO.webp.atlas","low":"assets/spine/bmo/BMO@0.5x.webp.atlas"}},"assets/spine/bubbles/Bubbles.atlas":{"shortcut":"Bubbles.atlas","standard":{"default":"assets/spine/bubbles/Bubbles.atlas","low":"assets/spine/bubbles/Bubbles@0.5x.atlas"},"webp":{"default":"assets/spine/bubbles/Bubbles.webp.atlas","low":"assets/spine/bubbles/Bubbles@0.5x.webp.atlas"}},"assets/spine/buttercup/Buttercup.atlas":{"shortcut":"Buttercup.atlas","standard":{"default":"assets/spine/buttercup/Buttercup.atlas","low":"assets/spine/buttercup/Buttercup@0.5x.atlas"},"webp":{"default":"assets/spine/buttercup/Buttercup.webp.atlas","low":"assets/spine/buttercup/Buttercup@0.5x.webp.atlas"}},"assets/spine/craig/Craig.atlas":{"shortcut":"Craig.atlas","standard":{"default":"assets/spine/craig/Craig.atlas","low":"assets/spine/craig/Craig@0.5x.atlas"},"webp":{"default":"assets/spine/craig/Craig.webp.atlas","low":"assets/spine/craig/Craig@0.5x.webp.atlas"}},"assets/spine/cyborg/Cyborg.atlas":{"shortcut":"Cyborg.atlas","standard":{"default":"assets/spine/cyborg/Cyborg.atlas","low":"assets/spine/cyborg/Cyborg@0.5x.atlas"},"webp":{"default":"assets/spine/cyborg/Cyborg.webp.atlas","low":"assets/spine/cyborg/Cyborg@0.5x.webp.atlas"}},"assets/spine/darwin/Darwin.atlas":{"shortcut":"Darwin.atlas","standard":{"default":"assets/spine/darwin/Darwin.atlas","low":"assets/spine/darwin/Darwin@0.5x.atlas"},"webp":{"default":"assets/spine/darwin/Darwin.webp.atlas","low":"assets/spine/darwin/Darwin@0.5x.webp.atlas"}},"assets/spine/finn/Finn.atlas":{"shortcut":"Finn.atlas","standard":{"default":"assets/spine/finn/Finn.atlas","low":"assets/spine/finn/Finn@0.5x.atlas"},"webp":{"default":"assets/spine/finn/Finn.webp.atlas","low":"assets/spine/finn/Finn@0.5x.webp.atlas"}},"assets/spine/fourarms/FourArms.atlas":{"shortcut":"FourArms.atlas","standard":{"default":"assets/spine/fourarms/FourArms.atlas","low":"assets/spine/fourarms/FourArms@0.5x.atlas"},"webp":{"default":"assets/spine/fourarms/FourArms.webp.atlas","low":"assets/spine/fourarms/FourArms@0.5x.webp.atlas"}},"assets/spine/gumball/Gumball.atlas":{"shortcut":"Gumball.atlas","standard":{"default":"assets/spine/gumball/Gumball.atlas","low":"assets/spine/gumball/Gumball@0.5x.atlas"},"webp":{"default":"assets/spine/gumball/Gumball.webp.atlas","low":"assets/spine/gumball/Gumball@0.5x.webp.atlas"}},"assets/spine/jake/Jake.atlas":{"shortcut":"Jake.atlas","standard":{"default":"assets/spine/jake/Jake.atlas","low":"assets/spine/jake/Jake@0.5x.atlas"},"webp":{"default":"assets/spine/jake/Jake.webp.atlas","low":"assets/spine/jake/Jake@0.5x.webp.atlas"}},"assets/spine/jessica/Jessica_1.atlas":{"shortcut":"Jessica_1.atlas","standard":{"default":"assets/spine/jessica/Jessica_1.atlas","low":"assets/spine/jessica/Jessica_1@0.5x.atlas"},"webp":{"default":"assets/spine/jessica/Jessica_1.webp.atlas","low":"assets/spine/jessica/Jessica_1@0.5x.webp.atlas"}},"assets/spine/jp/JP.atlas":{"shortcut":"JP.atlas","standard":{"default":"assets/spine/jp/JP.atlas","low":"assets/spine/jp/JP@0.5x.atlas"},"webp":{"default":"assets/spine/jp/JP.webp.atlas","low":"assets/spine/jp/JP@0.5x.webp.atlas"}},"assets/spine/kelsey/Kelsey.atlas":{"shortcut":"Kelsey.atlas","standard":{"default":"assets/spine/kelsey/Kelsey.atlas","low":"assets/spine/kelsey/Kelsey@0.5x.atlas"},"webp":{"default":"assets/spine/kelsey/Kelsey.webp.atlas","low":"assets/spine/kelsey/Kelsey@0.5x.webp.atlas"}},"assets/spine/maomao/MaoMao.atlas":{"shortcut":"MaoMao.atlas","standard":{"default":"assets/spine/maomao/MaoMao.atlas","low":"assets/spine/maomao/MaoMao@0.5x.atlas"},"webp":{"default":"assets/spine/maomao/MaoMao.webp.atlas","low":"assets/spine/maomao/MaoMao@0.5x.webp.atlas"}},"assets/spine/marceline/Marceline.atlas":{"shortcut":"Marceline.atlas","standard":{"default":"assets/spine/marceline/Marceline.atlas","low":"assets/spine/marceline/Marceline@0.5x.atlas"},"webp":{"default":"assets/spine/marceline/Marceline.webp.atlas","low":"assets/spine/marceline/Marceline@0.5x.webp.atlas"}},"assets/spine/mojo/Mojo.atlas":{"shortcut":"Mojo.atlas","standard":{"default":"assets/spine/mojo/Mojo.atlas","low":"assets/spine/mojo/Mojo@0.5x.atlas"},"webp":{"default":"assets/spine/mojo/Mojo.webp.atlas","low":"assets/spine/mojo/Mojo@0.5x.webp.atlas"}},"assets/spine/nana_zanana/NanaZanana.atlas":{"shortcut":"NanaZanana.atlas","standard":{"default":"assets/spine/nana_zanana/NanaZanana.atlas","low":"assets/spine/nana_zanana/NanaZanana@0.5x.atlas"},"webp":{"default":"assets/spine/nana_zanana/NanaZanana.webp.atlas","low":"assets/spine/nana_zanana/NanaZanana@0.5x.webp.atlas"}},"assets/spine/onion/Onion.atlas":{"shortcut":"Onion.atlas","standard":{"default":"assets/spine/onion/Onion.atlas","low":"assets/spine/onion/Onion@0.5x.atlas"},"webp":{"default":"assets/spine/onion/Onion.webp.atlas","low":"assets/spine/onion/Onion@0.5x.webp.atlas"}},"assets/spine/princess_bubblegum/Princess_Bubblegum.atlas":{"shortcut":"Princess_Bubblegum.atlas","standard":{"default":"assets/spine/princess_bubblegum/Princess_Bubblegum.atlas","low":"assets/spine/princess_bubblegum/Princess_Bubblegum@0.5x.atlas"},"webp":{"default":"assets/spine/princess_bubblegum/Princess_Bubblegum.webp.atlas","low":"assets/spine/princess_bubblegum/Princess_Bubblegum@0.5x.webp.atlas"}},"assets/spine/raven/Raven.atlas":{"shortcut":"Raven.atlas","standard":{"default":"assets/spine/raven/Raven.atlas","low":"assets/spine/raven/Raven@0.5x.atlas"},"webp":{"default":"assets/spine/raven/Raven.webp.atlas","low":"assets/spine/raven/Raven@0.5x.webp.atlas"}},"assets/spine/richard/Richard.atlas":{"shortcut":"Richard.atlas","standard":{"default":"assets/spine/richard/Richard.atlas","low":"assets/spine/richard/Richard@0.5x.atlas"},"webp":{"default":"assets/spine/richard/Richard.webp.atlas","low":"assets/spine/richard/Richard@0.5x.webp.atlas"}},"assets/spine/robin/Robin.atlas":{"shortcut":"Robin.atlas","standard":{"default":"assets/spine/robin/Robin.atlas","low":"assets/spine/robin/Robin@0.5x.atlas"},"webp":{"default":"assets/spine/robin/Robin.webp.atlas","low":"assets/spine/robin/Robin@0.5x.webp.atlas"}},"assets/spine/starfire/Starfire.atlas":{"shortcut":"Starfire.atlas","standard":{"default":"assets/spine/starfire/Starfire.atlas","low":"assets/spine/starfire/Starfire@0.5x.atlas"},"webp":{"default":"assets/spine/starfire/Starfire.webp.atlas","low":"assets/spine/starfire/Starfire@0.5x.webp.atlas"}},"assets/spine/supergirl/Supergirl.atlas":{"shortcut":"Supergirl.atlas","standard":{"default":"assets/spine/supergirl/Supergirl.atlas","low":"assets/spine/supergirl/Supergirl@0.5x.atlas"},"webp":{"default":"assets/spine/supergirl/Supergirl.webp.atlas","low":"assets/spine/supergirl/Supergirl@0.5x.webp.atlas"}},"assets/spine/tobias/Tobias.atlas":{"shortcut":"Tobias.atlas","standard":{"default":"assets/spine/tobias/Tobias.atlas","low":"assets/spine/tobias/Tobias@0.5x.atlas"},"webp":{"default":"assets/spine/tobias/Tobias.webp.atlas","low":"assets/spine/tobias/Tobias@0.5x.webp.atlas"}},"assets/spine/wonderwoman/Wonderwoman.atlas":{"shortcut":"Wonderwoman.atlas","standard":{"default":"assets/spine/wonderwoman/Wonderwoman.atlas","low":"assets/spine/wonderwoman/Wonderwoman@0.5x.atlas"},"webp":{"default":"assets/spine/wonderwoman/Wonderwoman.webp.atlas","low":"assets/spine/wonderwoman/Wonderwoman@0.5x.webp.atlas"}},"assets/spine/xlr8/XLR8.atlas":{"shortcut":"XLR8.atlas","standard":{"default":"assets/spine/xlr8/XLR8.atlas","low":"assets/spine/xlr8/XLR8@0.5x.atlas"},"webp":{"default":"assets/spine/xlr8/XLR8.webp.atlas","low":"assets/spine/xlr8/XLR8@0.5x.webp.atlas"}}},"animate":{},"misc":{}},"assets/theme/default":{"image":{"assets/theme/default/banners/pitch-banner.jpg":{"shortcut":"theme/default/banners/pitch-banner.jpg","webp":{"default":"assets/theme/default/banners/pitch-banner.webp","low":"assets/theme/default/banners/pitch-banner@0.5x.webp"},"standard":{"default":"assets/theme/default/banners/pitch-banner.jpg","low":"assets/theme/default/banners/pitch-banner@0.5x.jpg"}},"menu-ui":{"tags":{"tps":true},"standard":{"low":"assets/theme/default/menu-ui/menu-ui@0.5x.json","default":"assets/theme/default/menu-ui/menu-ui.json"},"webp":{"low":"assets/theme/default/menu-ui/menu-ui@0.5x.webp.json","default":"assets/theme/default/menu-ui/menu-ui.webp.json"}}},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}},"assets/theme/winter":{"image":{"assets/theme/winter/banners/pitch-banner.jpg":{"shortcut":"theme/winter/banners/pitch-banner.jpg","webp":{"default":"assets/theme/winter/banners/pitch-banner.webp","low":"assets/theme/winter/banners/pitch-banner@0.5x.webp"},"standard":{"default":"assets/theme/winter/banners/pitch-banner.jpg","low":"assets/theme/winter/banners/pitch-banner@0.5x.jpg"}},"menu-ui":{"tags":{"tps":true},"standard":{"default":"assets/theme/winter/menu-ui/menu-ui.json","low":"assets/theme/winter/menu-ui/menu-ui@0.5x.json"},"webp":{"default":"assets/theme/winter/menu-ui/menu-ui.webp.json","low":"assets/theme/winter/menu-ui/menu-ui@0.5x.webp.json"}},"assets/theme/winter/particles/snowParticle.png":{"shortcut":"snowParticle.png","webp":{"default":"assets/theme/winter/particles/snowParticle.webp","low":"assets/theme/winter/particles/snowParticle@0.5x.webp"},"standard":{"default":"assets/theme/winter/particles/snowParticle.png","low":"assets/theme/winter/particles/snowParticle@0.5x.png"}}},"fonts":{},"audio":{},"model":{},"json":{},"atlas":{},"animate":{},"misc":{}}}')},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(21),n(5),n(19),n(51);var r=n(0);function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))},o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.app=e,this.view=new r.Container}var e,n,o;return e=t,(n=[{key:"init",value:function(){return a(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case 1:case"end":return t.stop()}}),t)})))}},{key:"show",value:function(){return a(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case 1:case"end":return t.stop()}}),t)})))}},{key:"shown",value:function(){}},{key:"hide",value:function(){return a(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case 1:case"end":return t.stop()}}),t)})))}},{key:"hidden",value:function(){return a(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case 1:case"end":return t.stop()}}),t)})))}},{key:"resize",value:function(t,e){}}])&&i(e.prototype,n),o&&i(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(99);var i=Object.prototype.toString,a=n(674),o=function(t){return"__proto__"!==t&&"constructor"!==t&&"prototype"!==t},s=t.exports=function(t){for(var e=0,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(c(t)&&(t=r[e++]),t||(t={});e<r.length;e++)if(u(r[e])){for(var l=0,h=Object.keys(r[e]);l<h.length;l++){var d=h[l];o(d)&&(u(t[d])&&u(r[e][d])?s(t[d],r[e][d]):t[d]=r[e][d])}a(t,r[e])}return t};function u(t){return"function"==typeof t||"[object Object]"===i.call(t)}function c(t){return"object"===r(t)?null===t:"function"!=typeof t}},function(t,e,n){var r={};r[n(86)("toStringTag")]="z",t.exports="[object z]"===String(r)},function(t,e,n){var r=n(54),i=n(279),a=r["__core-js_shared__"]||i("__core-js_shared__",{});t.exports=a},function(t,e,n){var r=n(54),i=n(125);t.exports=function(t,e){try{i(r,t,e)}catch(n){r[t]=e}return e}},function(t,e,n){var r=n(54),i=n(98),a=r.document,o=i(a)&&i(a.createElement);t.exports=function(t){return o?a.createElement(t):{}}},function(t,e,n){var r=n(228),i=n(50);t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!String(Symbol())||!Symbol.sham&&r&&r<41}))},function(t,e,n){var r=n(278),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return i.call(t)}),t.exports=r.inspectSource},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(102),a=n(286),o=n(97),s=n(181),u=n(210),c=n(461),l=function(t,e){this.stopped=t,this.result=e};t.exports=function(t,e,n){var h,d,p,f,m,g,y,v=n&&n.that,b=!(!n||!n.AS_ENTRIES),_=!(!n||!n.IS_ITERATOR),w=!(!n||!n.INTERRUPTED),x=s(e,v,1+b+w),S=function(t){return h&&c(h),new l(!0,t)},T=function(t){return b?(i(t),w?x(t[0],t[1],S):x(t[0],t[1])):w?x(t,S):x(t)};if(_)h=t;else{if("function"!=typeof(d=u(t)))throw TypeError("Target is not iterable");if(a(d)){for(p=0,f=o(t.length);f>p;p++)if((m=T(t[p]))&&m instanceof l)return m;return new l(!1)}h=d.call(t)}for(g=h.next;!(y=g.call(h)).done;){try{m=T(y.value)}catch(t){throw c(h),t}if("object"==r(m)&&m&&m instanceof l)return m}return new l(!1)}},function(t,e,n){var r=n(86),i=n(209),a=r("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[a]===t)}},function(t,e,n){var r=n(178),i=n(54);t.exports="process"==r(i.process)},function(t,e,n){var r=n(98),i=n(236),a=n(86)("species");t.exports=function(t,e){var n;return i(t)&&("function"!=typeof(n=t.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},function(t,e,n){"use strict";var r=n(102);t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,n){"use strict";var r=n(50);function i(t,e){return RegExp(t,e)}e.UNSUPPORTED_Y=r((function(){var t=i("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),e.BROKEN_CARET=r((function(){var t=i("^r","gy");return t.lastIndex=2,null!=t.exec("str")}))},function(t,e,n){"use strict";var r=n(238),i=n(102),a=n(120),o=n(581),s=n(239);r("search",1,(function(t,e,n){return[function(e){var n=a(this),r=null==e?void 0:e[t];return void 0!==r?r.call(e,n):new RegExp(e)[t](String(n))},function(t){var r=n(e,t,this);if(r.done)return r.value;var a=i(t),u=String(this),c=a.lastIndex;o(c,0)||(a.lastIndex=0);var l=s(a,u);return o(a.lastIndex,c)||(a.lastIndex=c),null===l?-1:l.index}]}))},function(t,e,n){var r=n(98),i=n(178),a=n(86)("match");t.exports=function(t){var e;return r(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==i(t))}},function(t,e,n){"use strict";var r=n(294).charAt;t.exports=function(t,e,n){return e+(n?r(t,e).length:1)}},function(t,e,n){var r=n(144),i=n(120),a=function(t){return function(e,n){var a,o,s=String(i(e)),u=r(n),c=s.length;return u<0||u>=c?t?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===c||(o=s.charCodeAt(u+1))<56320||o>57343?t?s.charAt(u):a:t?s.slice(u,u+2):o-56320+(a-55296<<10)+65536}};t.exports={codeAt:a(!1),charAt:a(!0)}},function(t,e,n){"use strict";var r=n(41),i=n(468),a=n(193),o=n(192),s=n(164),u=n(125),c=n(118),l=n(86),h=n(152),d=n(209),p=n(469),f=p.IteratorPrototype,m=p.BUGGY_SAFARI_ITERATORS,g=l("iterator"),y=function(){return this};t.exports=function(t,e,n,l,p,v,b){i(n,e,l);var _,w,x,S=function(t){if(t===p&&k)return k;if(!m&&t in E)return E[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},T=e+" Iterator",M=!1,E=t.prototype,A=E[g]||E["@@iterator"]||p&&E[p],k=!m&&A||S(p),C="Array"==e&&E.entries||A;if(C&&(_=a(C.call(new t)),f!==Object.prototype&&_.next&&(h||a(_)===f||(o?o(_,f):"function"!=typeof _[g]&&u(_,g,y)),s(_,T,!0,!0),h&&(d[T]=y))),"values"==p&&A&&"values"!==A.name&&(M=!0,k=function(){return A.call(this)}),h&&!b||E[g]===k||u(E,g,k),d[e]=k,p)if(w={values:S("values"),keys:v?k:S("keys"),entries:S("entries")},b)for(x in w)(m||M||!(x in E))&&c(E,x,w[x]);else r({target:e,proto:!0,forced:m||M},w);return w}},function(t,e,n){var r=n(292);t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},function(t,e,n){var r=n(86)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[r]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,n){"use strict";var r=n(478),i=n(480);t.exports=r("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),i)},function(t,e,n){var r=n(105),i=n(54),a=n(207),o=n(240),s=n(111).f,u=n(179).f,c=n(292),l=n(289),h=n(290),d=n(118),p=n(50),f=n(137).enforce,m=n(208),g=n(86)("match"),y=i.RegExp,v=y.prototype,b=/a/g,_=/a/g,w=new y(b)!==b,x=h.UNSUPPORTED_Y;if(r&&a("RegExp",!w||x||p((function(){return _[g]=!1,y(b)!=b||y(_)==_||"/a/i"!=y(b,"i")})))){for(var S=function(t,e){var n,r=this instanceof S,i=c(t),a=void 0===e;if(!r&&i&&t.constructor===S&&a)return t;w?i&&!a&&(t=t.source):t instanceof S&&(a&&(e=l.call(t)),t=t.source),x&&(n=!!e&&e.indexOf("y")>-1)&&(e=e.replace(/y/g,""));var s=o(w?new y(t,e):y(t,e),r?this:v,S);x&&n&&(f(s).sticky=!0);return s},T=function(t){t in S||s(S,t,{configurable:!0,get:function(){return y[t]},set:function(e){y[t]=e}})},M=u(y),E=0;M.length>E;)T(M[E++]);v.constructor=S,S.prototype=v,d(i,"RegExp",S)}m("RegExp")},function(t,e,n){"use strict";n(5),n(34),n(15),n(145),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(84),Object.defineProperty(e,"__esModule",{value:!0}),e.mergeBounds=e.mergePrimitives=void 0;var r={positions:3,normals:3,weights:4,boneIndices:4,uvs:2,tangents:4};function i(t,e){for(var n=0;n<3;n++)t[n]=Math.min(t[n],e[n]);for(var r=2;r<6;r++)t[r]=Math.max(t[r],e[r]);return t}e.mergePrimitives=function(t){var e=0,n=0,a=[1/0,1/0,1/0,-1/0,-1/0,-1/0];if(t.forEach((function(t){e+=t.indices.length,n+=t.attributes.positions.length/r.positions,i(a,t.bounds)})),n>65535)throw new Error("[merge Primitives] cannot merge geometries, they exceed maximum index size of 65535");var o=new Uint16Array(e),s={};for(var u in t[0].attributes)s[u]=new Float32Array(n*r[u]);var c=0,l=0,h=0;return t.forEach((function(t){for(var e in t.attributes)for(var n=t.attributes[e],i=s[e],a=r[e],u=0;u<n.length;u++)i[u+h*a]=n[u];h+=t.attributes.positions.length/r.positions;for(var d=0;d<t.indices.length;d++)o[c++]=t.indices[d]+l;l+=t.attributes.positions.length/3})),{indices:o,attributes:s,bounds:a}},e.mergeBounds=i},function(t,e,n){"use strict";var r=n(113),i=n(191),a=n(97);t.exports=function(t){for(var e=r(this),n=a(e.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)e[s++]=t;return e}},function(t,e,n){"use strict";n(42),n(5),n(34),Object.defineProperty(e,"__esModule",{value:!0}),e.getBounds=void 0,e.getBounds=function(t,e){for(var n=[],r=0;r<e;r++)n[r]={min:1/0,max:-1/0};for(var i=0;i<t.length;i+=e)for(var a=0;a<e;a++){var o=t[i+a];o<n[a].min&&(n[a].min=o),o>n[a].max&&(n[a].max=o)}var s=n.map((function(t){return t.max-t.min}));return s.forEach((function(t,e){t>1e8&&(n[e].max=1,n[e].min=0,s[e]=1)})),{ranges:n,sizes:s}}},function(t,e,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(t,e,n){"use strict";n(15),n(5),n(496),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(145),n(630),n(497),n(84),Object.defineProperty(e,"__esModule",{value:!0}),e.getBuffer=void 0;var r={5122:Int16Array,5123:Uint16Array,5124:Int32Array,5125:Uint32Array,5126:Float32Array},i={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16};e.getBuffer=function(t,e){var n=t.accessors[e],a=t.bufferViews[n.bufferView],o=t.realBuffers[a.buffer],s=(a.byteOffset||0)+(n.byteOffset||0);if(n.byteStride)throw new Error("byteStride in buffer... not yet supported");var u=r[n.componentType];if(5125===n.componentType){for(var c=new Uint32Array(o,s,n.count*i[n.type]),l=0;l<c.length;l++)if(c[l]>65535)throw new Error("[gb-model-tools] Uint32 Array required for this model, its too big!");return new Uint16Array(c)}return new u(o,s,n.count*i[n.type])}},function(t,e,n){n(41)({target:"Math",stat:!0},{sign:n(501)})},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function(t){return/^nm$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"vm":"VM":n?"nm":"NM"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},i={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},a=function(t){return function(e,n,a,o){var s=r(e),u=i[t][r(e)];return 2===s&&(u=u[n?0:1]),u.replace(/%d/i,e)}},o=["","","","","","","","","","","",""];return t.defineLocale("ar",{months:o,monthsShort:o,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:a("s"),ss:a("s"),m:a("m"),mm:a("m"),h:a("h"),hh:a("h"),d:a("d"),dd:a("d"),M:a("M"),MM:a("M"),y:a("y"),yy:a("y")},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},n={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},r=function(t){return function(r,i,a,o){var s=e(r),u=n[t][e(r)];return 2===s&&(u=u[i?0:1]),u.replace(/%d/i,r)}},i=["","","","","","","","","","","",""];return t.defineLocale("ar-dz",{months:i,monthsShort:i,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:r("s"),ss:r("s"),m:r("m"),mm:r("m"),h:r("h"),hh:r("h"),d:r("d"),dd:r("d"),M:r("M"),MM:r("M"),y:r("y"),yy:r("y")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:0,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},n=function(t){return 0===t?0:1===t?1:2===t?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},r={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},i=function(t){return function(e,i,a,o){var s=n(e),u=r[t][n(e)];return 2===s&&(u=u[i?0:1]),u.replace(/%d/i,e)}},a=["","","","","","","","","","","",""];return t.defineLocale("ar-ly",{months:a,monthsShort:a,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"};return t.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"bir ne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function(t){return/^(gndz|axam)$/.test(t)},meridiem:function(t,e,n){return t<4?"gec":t<12?"shr":t<17?"gndz":"axam"},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function(t){if(0===t)return t+"-nc";var n=t%10;return t+(e[n]||e[t%100-n]||e[t>=100?100:null])},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";function e(t,e,n){return"m"===n?e?"":"":"h"===n?e?"":"":t+" "+function(t,e){var n=t.split("_");return e%10==1&&e%100!=11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}({ss:e?"__":"__",mm:e?"__":"__",hh:e?"__":"__",dd:"__",MM:"__",yy:"__"}[n],+t)}return t.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:e,mm:e,h:e,hh:e,d:"",dd:e,M:"",MM:e,y:"",yy:e},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t%10!=2&&t%10!=3||t%100==12||t%100==13?t+"-":t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",w:"",ww:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0===n?t+"-":n>10&&n<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("bn-bd",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e||""===e?t:""===e?t>=3?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<6?"":t<12?"":t<15?"":t<18?"":t<20?"":""},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("bo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShortRegex:/^(\d{1,2})/,monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||""===e&&t<5||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";function e(t,e,n){return t+" "+function(t,e){return 2===e?function(t){var e={m:"v",b:"v",d:"z"};return void 0===e[t.charAt(0)]?t:e[t.charAt(0)]+t.substring(1)}(t):t}({mm:"munutenn",MM:"miz",dd:"devezh"}[n],t)}var n=[/^gen/i,/^c[\']hwe/i,/^meu/i,/^ebr/i,/^mae/i,/^(mez|eve)/i,/^gou/i,/^eos/i,/^gwe/i,/^her/i,/^du/i,/^ker/i],r=/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu|gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,i=[/^Su/i,/^Lu/i,/^Me([^r]|$)/i,/^Mer/i,/^Ya/i,/^Gw/i,/^Sa/i];return t.defineLocale("br",{months:"Genver_Chwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_Chwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Mercher_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParse:i,fullWeekdaysParse:[/^sul/i,/^lun/i,/^meurzh/i,/^merc[\']her/i,/^yaou/i,/^gwener/i,/^sadorn/i],shortWeekdaysParse:[/^Sul/i,/^Lun/i,/^Meu/i,/^Mer/i,/^Yao/i,/^Gwe/i,/^Sad/i],minWeekdaysParse:i,monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(genver|c[\']hwevrer|meurzh|ebrel|mae|mezheven|gouere|eost|gwengolo|here|du|kerzu)/i,monthsShortStrictRegex:/^(gen|c[\']hwe|meu|ebr|mae|eve|gou|eos|gwe|her|du|ker)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY HH:mm",LLLL:"dddd, D [a viz] MMMM YYYY HH:mm"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warchoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dech da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:e,h:"un eur",hh:"%d eur",d:"un devezh",dd:e,M:"ur miz",MM:e,y:"ur bloaz",yy:function(t){switch(function t(e){return e>9?t(e%10):e}(t)){case 1:case 3:case 4:case 5:case 9:return t+" bloaz";default:return t+" vloaz"}}},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function(t){return t+(1===t?"a":"vet")},week:{dow:1,doy:4},meridiemParse:/a.m.|g.m./,isPM:function(t){return"g.m."===t},meridiem:function(t,e,n){return t<12?"a.m.":"g.m."}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";function e(t,e,n){var r=t+" ";switch(n){case"ss":return r+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi";case"m":return e?"jedna minuta":"jedne minute";case"mm":return r+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return r+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return r+=1===t?"dan":"dana";case"MM":return r+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return r+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}return t.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:!0,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function(){return"[avui a "+(1!==this.hours()?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(1!==this.hours()?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(1!==this.hours()?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(1!==this.hours()?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(1!==this.hours()?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(t,e){var n=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"";return"w"!==e&&"W"!==e||(n="a"),t+n},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),r=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],i=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i;function a(t){return t>1&&t<5&&1!=~~(t/10)}function o(t,e,n,r){var i=t+" ";switch(n){case"s":return e||r?"pr sekund":"pr sekundami";case"ss":return e||r?i+(a(t)?"sekundy":"sekund"):i+"sekundami";case"m":return e?"minuta":r?"minutu":"minutou";case"mm":return e||r?i+(a(t)?"minuty":"minut"):i+"minutami";case"h":return e?"hodina":r?"hodinu":"hodinou";case"hh":return e||r?i+(a(t)?"hodiny":"hodin"):i+"hodinami";case"d":return e||r?"den":"dnem";case"dd":return e||r?i+(a(t)?"dny":"dn"):i+"dny";case"M":return e||r?"msc":"mscem";case"MM":return e||r?i+(a(t)?"msce":"msc"):i+"msci";case"y":return e||r?"rok":"rokem";case"yy":return e||r?i+(a(t)?"roky":"let"):i+"lety"}}return t.defineLocale("cs",{months:e,monthsShort:n,monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:o,ss:o,m:o,mm:o,h:o,hh:o,d:o,dd:o,M:o,MM:o,y:o,yy:o},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(t){return t+(/$/i.exec(t)?"":/$/i.exec(t)?"":"")},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function(t){var e="";return t>20?e=40===t||50===t||60===t||80===t||100===t?"fed":"ain":t>0&&(e=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"][t]),t+e},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}return t.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}return t.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";function e(t,e,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[t+" Tage",t+" Tagen"],w:["eine Woche","einer Woche"],M:["ein Monat","einem Monat"],MM:[t+" Monate",t+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[t+" Jahre",t+" Jahren"]};return e?i[n][0]:i[n][1]}return t.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:e,mm:"%d Minuten",h:e,hh:"%d Stunden",d:e,dd:e,w:e,ww:"%d Wochen",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e=["","","","","","","","","","","",""],n=["","","","","","",""];return t.defineLocale("dv",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:7,doy:12}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(t,e){return t?"string"==typeof e&&/D/.test(e.substring(0,e.indexOf("MMMM")))?this._monthsGenitiveEl[t.month()]:this._monthsNominativeEl[t.month()]:this._monthsNominativeEl},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(t,e,n){return t>11?n?"":"":n?"":""},isPM:function(t){return""===(t+"").toLowerCase()[0]},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function(t,e){var n,r=this._calendarEl[t],i=e&&e.hours();return n=r,("undefined"!=typeof Function&&n instanceof Function||"[object Function]"===Object.prototype.toString.call(n))&&(r=r.apply(e)),r.replace("{}",i%12==1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:0,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("en-in",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("en-sg",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mart_apr_maj_jun_jul_ag_sept_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"[la] D[-an de] MMMM, YYYY",LLL:"[la] D[-an de] MMMM, YYYY HH:mm",LLLL:"dddd[n], [la] D[-an de] MMMM, YYYY HH:mm",llll:"ddd, [la] D[-an de] MMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function(t){return"p"===t.charAt(0).toLowerCase()},meridiem:function(t,e,n){return t>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd[n je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasintan] dddd[n je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"kelkaj sekundoj",ss:"%d sekundoj",m:"unu minuto",mm:"%d minutoj",h:"unu horo",hh:"%d horoj",d:"unu tago",dd:"%d tagoj",M:"unu monato",MM:"%d monatoj",y:"unu jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return t.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4},invalidDate:"Fecha invlida"})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return t.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return t.defineLocale("es-mx",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:4},invalidDate:"Fecha invlida"})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],i=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;return t.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",w:"una semana",ww:"%d semanas",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";function e(t,e,n,r){var i={s:["mne sekundi","mni sekund","paar sekundit"],ss:[t+"sekundi",t+"sekundit"],m:["he minuti","ks minut"],mm:[t+" minuti",t+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[t+" tunni",t+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[t+" kuu",t+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[t+" aasta",t+" aastat"]};return e?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}return t.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:"%d peva",M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:!0,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function(t){return/  /.test(t)},meridiem:function(t,e,n){return t<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[-]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",e[7],e[8],e[9]];function r(t,r,i,a){var o="";switch(i){case"s":return a?"muutaman sekunnin":"muutama sekunti";case"ss":o=a?"sekunnin":"sekuntia";break;case"m":return a?"minuutin":"minuutti";case"mm":o=a?"minuutin":"minuuttia";break;case"h":return a?"tunnin":"tunti";case"hh":o=a?"tunnin":"tuntia";break;case"d":return a?"pivn":"piv";case"dd":o=a?"pivn":"piv";break;case"M":return a?"kuukauden":"kuukausi";case"MM":o=a?"kuukauden":"kuukautta";break;case"y":return a?"vuoden":"vuosi";case"yy":o=a?"vuoden":"vuotta"}return o=function(t,r){return t<10?r?n[t]:e[t]:t}(t,a)+" "+o}return t.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("fil",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e=/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?|janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,n=[/^janv/i,/^fvr/i,/^mars/i,/^avr/i,/^mai/i,/^juin/i,/^juil/i,/^aot/i,/^sept/i,/^oct/i,/^nov/i,/^dc/i];return t.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsRegex:e,monthsShortRegex:e,monthsStrictRegex:/^(janvier|fvrier|mars|avril|mai|juin|juillet|aot|septembre|octobre|novembre|dcembre)/i,monthsShortStrictRegex:/(janv\.?|fvr\.?|mars|avr\.?|mai|juin|juil\.?|aot|sept\.?|oct\.?|nov\.?|dc\.?)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",w:"une semaine",ww:"%d semaines",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(t,e){switch(e){case"D":return t+(1===t?"er":"");default:case"M":case"Q":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function(t,e){switch(e){default:case"M":case"Q":case"D":case"DDD":case"d":return t+(1===t?"er":"e");case"w":case"W":return t+(1===t?"re":"e")}},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_");return t.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsParseExact:!0,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("ga",{months:["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Meitheamh","Iil","Lnasa","Men Fmhair","Deireadh Fmhair","Samhain","Nollaig"],monthsShort:["Ean","Feabh","Mrt","Aib","Beal","Meith","Iil","Ln","M.F.","D.F.","Samh","Noll"],monthsParseExact:!0,weekdays:["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Sathairn"],weekdaysShort:["Domh","Luan","Mirt","Cad","Dar","Aoine","Sath"],weekdaysMin:["Do","Lu","M","C","D","A","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn ag] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d monna",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("gd",{months:["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],monthsShort:["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],monthsParseExact:!0,weekdays:["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],weekdaysShort:["Did","Dil","Dim","Dic","Dia","Dih","Dis"],weekdaysMin:["D","Lu","M","Ci","Ar","Ha","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function(t){return t+(1===t?"d":t%10==2?"na":"mh")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoxe "+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[ma "+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(1!==this.hours()?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(1!==this.hours()?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(1!==this.hours()?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(t){return 0===t.indexOf("un")?"n"+t:"en "+t},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";function e(t,e,n,r){var i={s:[" "," "],ss:[t+" ",t+" "],m:[" "," "],mm:[t+" ",t+" "],h:[" "," "],hh:[t+" ",t+" "],d:[" "," "],dd:[t+" ",t+" "],M:[" "," "],MM:[t+" ",t+" "],y:[" "," "],yy:[t+" ",t+" "]};return r?i[n][0]:i[n][1]}return t.defineLocale("gom-deva",{months:{standalone:"___________".split("_"),format:"___________".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm []",LTS:"A h:mm:ss []",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm []",LLLL:"dddd, MMMM Do, YYYY, A h:mm []",llll:"ddd, D MMM YYYY, A h:mm []"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(t,e){switch(e){case"D":return t+"";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:0,doy:3},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>12?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<12?"":t<16?"":t<20?"":""}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";function e(t,e,n,r){var i={s:["thoddea sekondamni","thodde sekond"],ss:[t+" sekondamni",t+" sekond"],m:["eka mintan","ek minut"],mm:[t+" mintamni",t+" mintam"],h:["eka voran","ek vor"],hh:[t+" voramni",t+" voram"],d:["eka disan","ek dis"],dd:[t+" disamni",t+" dis"],M:["eka mhoinean","ek mhoino"],MM:[t+" mhoineamni",t+" mhoine"],y:["eka vorsan","ek voros"],yy:[t+" vorsamni",t+" vorsam"]};return r?i[n][0]:i[n][1]}return t.defineLocale("gom-latn",{months:{standalone:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),format:"Janerachea_Febrerachea_Marsachea_Abrilachea_Maiachea_Junachea_Julaiachea_Agostachea_Setembrachea_Otubrachea_Novembrachea_Dezembrachea".split("_"),isFormat:/MMMM(\s)+D[oD]?/},monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Aitar_Somar_Mongllar_Budhvar_Birestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Fuddlo] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fattlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function(t,e){switch(e){case"D":return t+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return t}},week:{dow:0,doy:3},meridiemParse:/rati|sokallim|donparam|sanje/,meridiemHour:function(t,e){return 12===t&&(t=0),"rati"===e?t<4?t:t+12:"sokallim"===e?t:"donparam"===e?t>12?t:t+12:"sanje"===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"rati":t<12?"sokallim":t<16?"donparam":t<20?"sanje":"rati"}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function(t){return 2===t?"":t+" "},d:"",dd:function(t){return 2===t?"":t+" "},M:"",MM:function(t){return 2===t?"":t+" "},y:"",yy:function(t){return 2===t?"":t%10==0&&10!==t?t+" ":t+" "}},meridiemParse:/"|"| | | ||/i,isPM:function(t){return/^("| |)$/.test(t)},meridiem:function(t,e,n){return t<5?" ":t<10?"":t<12?n?'"':" ":t<18?n?'"':" ":""}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=[/^/i,/^|/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^|/i,/^/i,/^|/i,/^|/i];return t.defineLocale("hi",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},monthsParse:r,longMonthsParse:r,shortMonthsParse:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],monthsRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsShortRegex:/^(|\.?|||\.?|?||\.?|?|?||\.?||\.?|||\.?||\.?|||\.?|||\.?)/i,monthsStrictRegex:/^(?||?|?|?|?|?|?|?|||?\.?||\.?||?||?)/i,monthsShortStrictRegex:/^(\.?|\.?|?|\.?|?|?|\.?|\.?|\.?|\.?|\.?|\.?)/i,calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";function e(t,e,n){var r=t+" ";switch(n){case"ss":return r+=1===t?"sekunda":2===t||3===t||4===t?"sekunde":"sekundi";case"m":return e?"jedna minuta":"jedne minute";case"mm":return r+=1===t?"minuta":2===t||3===t||4===t?"minute":"minuta";case"h":return e?"jedan sat":"jednog sata";case"hh":return r+=1===t?"sat":2===t||3===t||4===t?"sata":"sati";case"dd":return r+=1===t?"dan":"dana";case"MM":return r+=1===t?"mjesec":2===t||3===t||4===t?"mjeseca":"mjeseci";case"yy":return r+=1===t?"godina":2===t||3===t||4===t?"godine":"godina"}}return t.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"Do MMMM YYYY",LLL:"Do MMMM YYYY H:mm",LLLL:"dddd, Do MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:return"[prolu] [nedjelju] [u] LT";case 3:return"[prolu] [srijedu] [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:e,m:e,mm:e,h:e,hh:e,d:"dan",dd:e,M:"mjesec",MM:e,y:"godinu",yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");function n(t,e,n,r){var i=t;switch(n){case"s":return r||e?"nhny msodperc":"nhny msodperce";case"ss":return i+(r||e)?" msodperc":" msodperce";case"m":return"egy"+(r||e?" perc":" perce");case"mm":return i+(r||e?" perc":" perce");case"h":return"egy"+(r||e?" ra":" rja");case"hh":return i+(r||e?" ra":" rja");case"d":return"egy"+(r||e?" nap":" napja");case"dd":return i+(r||e?" nap":" napja");case"M":return"egy"+(r||e?" hnap":" hnapja");case"MM":return i+(r||e?" hnap":" hnapja");case"y":return"egy"+(r||e?" v":" ve");case"yy":return i+(r||e?" v":" ve")}return""}function r(t){return(t?"":"[mlt] ")+"["+e[this.day()]+"] LT[-kor]"}return t.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan._feb._mrc._pr._mj._jn._jl._aug._szept._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function(t){return"u"===t.charAt(1).toLowerCase()},meridiem:function(t,e,n){return t<12?!0===n?"de":"DE":!0===n?"du":"DU"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,ss:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function(){return"dddd [ ] LT"},lastWeek:function(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"DDD":case"w":case"W":case"DDDo":return 1===t?t+"-":t+"-";default:return t}},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"siang"===e?t>=11?t:t+12:"sore"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"siang":t<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";function e(t){return t%100==11||t%10!=1}function n(t,n,r,i){var a=t+" ";switch(r){case"s":return n||i?"nokkrar sekndur":"nokkrum sekndum";case"ss":return e(t)?a+(n||i?"sekndur":"sekndum"):a+"seknda";case"m":return n?"mnta":"mntu";case"mm":return e(t)?a+(n||i?"mntur":"mntum"):n?a+"mnta":a+"mntu";case"hh":return e(t)?a+(n||i?"klukkustundir":"klukkustundum"):a+"klukkustund";case"d":return n?"dagur":i?"dag":"degi";case"dd":return e(t)?n?a+"dagar":a+(i?"daga":"dgum"):n?a+"dagur":a+(i?"dag":"degi");case"M":return n?"mnuur":i?"mnu":"mnui";case"MM":return e(t)?n?a+"mnuir":a+(i?"mnui":"mnuum"):n?a+"mnuur":a+(i?"mnu":"mnui");case"y":return n||i?"r":"ri";case"yy":return e(t)?a+(n||i?"r":"rum"):a+(n||i?"r":"ri")}}return t.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,ss:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:function(){return"[Oggi a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextDay:function(){return"[Domani a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},nextWeek:function(){return"dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastDay:function(){return"[Ieri a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"},lastWeek:function(){switch(this.day()){case 0:return"[La scorsa] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT";default:return"[Lo scorso] dddd [a"+(this.hours()>1?"lle ":0===this.hours()?" ":"ll'")+"]LT"}},sameElse:"L"},relativeTime:{future:"tra %s",past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",w:"una settimana",ww:"%d settimane",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(t){return(/^[0-9].+$/.test(t)?"tra":"in")+" "+t},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("ja",{eras:[{since:"2019-05-01",offset:1,name:"",narrow:"",abbr:"R"},{since:"1989-01-08",until:"2019-04-30",offset:1,name:"",narrow:"",abbr:"H"},{since:"1926-12-25",until:"1989-01-07",offset:1,name:"",narrow:"",abbr:"S"},{since:"1912-07-30",until:"1926-12-24",offset:1,name:"",narrow:"",abbr:"T"},{since:"1873-01-01",until:"1912-07-29",offset:6,name:"",narrow:"",abbr:"M"},{since:"0001-01-01",until:"1873-12-31",offset:1,name:"",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"",narrow:"BC",abbr:"BC"}],eraYearOrdinalRegex:/(|\d+)/,eraYearOrdinalParse:function(t,e){return""===e[1]?1:parseInt(e[1]||t,10)},months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function(t){return t.week()!==this.week()?"[]dddd LT":"dddd LT"},lastDay:"[] LT",lastWeek:function(t){return this.week()!==t.week()?"[]dddd LT":"dddd LT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t,e){switch(e){case"y":return 1===t?"":t+"";case"d":case"D":case"DDD":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function(t,e){return 12===t&&(t=0),"enjing"===e?t:"siyang"===e?t>=11?t:t+12:"sonten"===e||"ndalu"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"enjing":t<15?"siyang":t<19?"sonten":"ndalu"},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("ka",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(t){return t.replace(/(|||||)(|)/,(function(t,e,n){return""===n?e+"":e+n+""}))},past:function(t){return/(||||)/.test(t)?t.replace(/(|)$/," ")://.test(t)?t.replace(/$/," "):t},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function(t){return 0===t?t:1===t?t+"-":t<20||t<=100&&t%20==0||t%100==0?"-"+t:t+"-"},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};return t.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function(t){return t+""},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},r=[" ","","","","","","","",""," "," "," "];return t.defineLocale("ku",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return//.test(t)},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]})).replace(//g,",")},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]})).replace(/,/g,"")},week:{dow:6,doy:12}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};return t.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";function e(t,e,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return e?i[n][0]:i[n][1]}function n(t){if(t=parseInt(t,10),isNaN(t))return!1;if(t<0)return!0;if(t<10)return 4<=t&&t<=7;if(t<100){var e=t%10;return n(0===e?t/10:e)}if(t<1e4){for(;t>=10;)t/=10;return n(t)}return n(t/=1e3)}return t.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:function(t){return n(t.substr(0,t.indexOf(" ")))?"a "+t:"an "+t},past:function(t){return n(t.substr(0,t.indexOf(" ")))?"viru "+t:"virun "+t},s:"e puer Sekonnen",ss:"%d Sekonnen",m:e,mm:"%d Minutten",h:e,hh:"%d Stonnen",d:e,dd:"%d Deeg",M:e,MM:"%d Mint",y:e,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function(t){return""+t}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"};function n(t,e,n,r){return e?i(n)[0]:r?i(n)[1]:i(n)[2]}function r(t){return t%10==0||t>10&&t<20}function i(t){return e[t].split("_")}function a(t,e,a,o){var s=t+" ";return 1===t?s+n(0,e,a[0],o):e?s+(r(t)?i(a)[1]:i(a)[0]):o?s+i(a)[1]:s+(r(t)?i(a)[1]:i(a)[2])}return t.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:function(t,e,n,r){return e?"kelios sekunds":r?"keli sekundi":"kelias sekundes"},ss:a,m:n,mm:a,h:n,hh:a,d:n,dd:a,M:n,MM:a,y:n,yy:a},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function(t){return t+"-oji"},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")};function n(t,e,n){return n?e%10==1&&e%100!=11?t[2]:t[3]:e%10==1&&e%100!=11?t[0]:t[1]}function r(t,r,i){return t+" "+n(e[i],t,r)}function i(t,r,i){return n(e[i],t,r)}return t.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:function(t,e){return e?"daas sekundes":"dam sekundm"},ss:r,m:i,mm:r,h:i,hh:r,d:i,dd:r,M:i,MM:r,y:i,yy:r},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,r){var i=e.words[r];return 1===r.length?n?i[0]:i[1]:t+" "+e.correctGrammaticalCase(t,i)}};return t.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mjesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function(t){var e=t%10,n=t%100;return 0===t?t+"-":0===n?t+"-":n>10&&n<20?t+"-":1===e?t+"-":2===e?t+"-":7===e||8===e?t+"-":t+"-"},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function(t,e){return 12===t&&(t=0),""===e&&t>=4||" "===e||""===e?t+12:t},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?" ":t<20?"":""}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";function e(t,e,n,r){switch(n){case"s":return e?" ":" ";case"ss":return t+(e?" ":" ");case"m":case"mm":return t+(e?" ":" ");case"h":case"hh":return t+(e?" ":" ");case"d":case"dd":return t+(e?" ":" ");case"M":case"MM":return t+(e?" ":" ");case"y":case"yy":return t+(e?" ":" ");default:return t}}return t.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+" ";default:return t}}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};function r(t,e,n,r){var i="";if(e)switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}else switch(n){case"s":i=" ";break;case"ss":i="%d ";break;case"m":i=" ";break;case"mm":i="%d ";break;case"h":i=" ";break;case"hh":i="%d ";break;case"d":i=" ";break;case"dd":i="%d ";break;case"M":i=" ";break;case"MM":i="%d ";break;case"y":i=" ";break;case"yy":i="%d "}return i.replace(/%d/i,t)}return t.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:r,ss:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e?t:""===e||""===e||""===e?t>=12?t:t+12:void 0},meridiem:function(t,e,n){return t>=0&&t<6?"":t<12?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function(t,e){return 12===t&&(t=0),"pagi"===e?t:"tengahari"===e?t>=11?t:t+12:"petang"===e||"malam"===e?t+12:void 0},meridiem:function(t,e,n){return t<11?"pagi":t<15?"tengahari":t<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",w:"en uke",ww:"%d uker",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<3?"":t<12?"":t<16?"":t<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;return t.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",w:"n week",ww:"%d weken",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],i=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;return t.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(t,r){return t?/-MMM-/.test(r)?n[t.month()]:e[t.month()]:e},monthsRegex:i,monthsShortRegex:i,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(t){return t+(1===t||8===t||t>=20?"ste":"de")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_apr._mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:!0,weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"su._m._ty._on._to._fr._lau.".split("_"),weekdaysMin:"su_m_ty_on_to_fr_la".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",w:"ei veke",ww:"%d veker",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("oc-lnc",{months:{standalone:"genir_febrir_mar_abril_mai_junh_julhet_agost_setembre_octbre_novembre_decembre".split("_"),format:"de genir_de febrir_de mar_d'abril_de mai_de junh_de julhet_d'agost_de setembre_d'octbre_de novembre_de decembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._mai_junh_julh._ago._set._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"dimenge_diluns_dimars_dimcres_dijus_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dm._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dm_dc_dj_dv_ds".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:"[ui a] LT",nextDay:"[deman a] LT",nextWeek:"dddd [a] LT",lastDay:"[ir a] LT",lastWeek:"dddd [passat a] LT",sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"unas segondas",ss:"%d segondas",m:"una minuta",mm:"%d minutas",h:"una ora",hh:"%d oras",d:"un jorn",dd:"%d jorns",M:"un mes",MM:"%d meses",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function(t,e){var n=1===t?"r":2===t?"n":3===t?"r":4===t?"t":"";return"w"!==e&&"W"!==e||(n="a"),t+n},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),r=[/^sty/i,/^lut/i,/^mar/i,/^kwi/i,/^maj/i,/^cze/i,/^lip/i,/^sie/i,/^wrz/i,/^pa/i,/^lis/i,/^gru/i];function i(t){return t%10<5&&t%10>1&&~~(t/10)%10!=1}function a(t,e,n){var r=t+" ";switch(n){case"ss":return r+(i(t)?"sekundy":"sekund");case"m":return e?"minuta":"minut";case"mm":return r+(i(t)?"minuty":"minut");case"h":return e?"godzina":"godzin";case"hh":return r+(i(t)?"godziny":"godzin");case"ww":return r+(i(t)?"tygodnie":"tygodni");case"MM":return r+(i(t)?"miesice":"miesicy");case"yy":return r+(i(t)?"lata":"lat")}}return t.defineLocale("pl",{months:function(t,r){return t?/D MMMM/.test(r)?n[t.month()]:e[t.month()]:e},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:a,m:a,mm:a,h:a,hh:a,d:"1 dzie",dd:"%d dni",w:"tydzie",ww:a,M:"miesic",MM:a,y:"rok",yy:a},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("pt",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",w:"uma semana",ww:"%d semanas",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("pt-br",{months:"janeiro_fevereiro_maro_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"domingo_segunda-feira_tera-feira_quarta-feira_quinta-feira_sexta-feira_sbado".split("_"),weekdaysShort:"dom_seg_ter_qua_qui_sex_sb".split("_"),weekdaysMin:"do_2_3_4_5_6_s".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",invalidDate:"Data invlida"})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";function e(t,e,n){var r=" ";return(t%100>=20||t>=100&&t%100==0)&&(r=" de "),t+r+{ss:"secunde",mm:"minute",hh:"ore",dd:"zile",ww:"sptmni",MM:"luni",yy:"ani"}[n]}return t.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._feb._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:e,m:"un minut",mm:e,h:"o or",hh:e,d:"o zi",dd:e,w:"o sptmn",ww:e,M:"o lun",MM:e,y:"un an",yy:e},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";function e(t,e,n){return"m"===n?e?"":"":t+" "+function(t,e){var n=t.split("_");return e%10==1&&e%100!=11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}({ss:e?"__":"__",mm:e?"__":"__",hh:"__",dd:"__",ww:"__",MM:"__",yy:"__"}[n],+t)}var n=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i];return t.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},lastWeek:function(t){if(t.week()===this.week())return 2===this.day()?"[] dddd, [] LT":"[] dddd, [] LT";switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:e,m:e,mm:e,h:"",hh:e,d:"",dd:e,w:"",ww:e,M:"",MM:e,y:"",yy:e},meridiemParse:/|||/i,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":return t+"-";case"D":return t+"-";case"w":case"W":return t+"-";default:return t}},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e=["","","","","","","","","","","",""],n=["","","","","","",""];return t.defineLocale("sd",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function(t){return t+" "},meridiemParse:/ | |.|../,isPM:function(t){return".."===t||" "===t},meridiem:function(t,e,n){return t>11?n?"..":" ":n?"..":" "}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");function r(t){return t>1&&t<5}function i(t,e,n,i){var a=t+" ";switch(n){case"s":return e||i?"pr seknd":"pr sekundami";case"ss":return e||i?a+(r(t)?"sekundy":"seknd"):a+"sekundami";case"m":return e?"minta":i?"mintu":"mintou";case"mm":return e||i?a+(r(t)?"minty":"mint"):a+"mintami";case"h":return e?"hodina":i?"hodinu":"hodinou";case"hh":return e||i?a+(r(t)?"hodiny":"hodn"):a+"hodinami";case"d":return e||i?"de":"dom";case"dd":return e||i?a+(r(t)?"dni":"dn"):a+"dami";case"M":return e||i?"mesiac":"mesiacom";case"MM":return e||i?a+(r(t)?"mesiace":"mesiacov"):a+"mesiacmi";case"y":return e||i?"rok":"rokom";case"yy":return e||i?a+(r(t)?"roky":"rokov"):a+"rokmi"}}return t.defineLocale("sk",{months:e,monthsShort:n,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,ss:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";function e(t,e,n,r){var i=t+" ";switch(n){case"s":return e||r?"nekaj sekund":"nekaj sekundami";case"ss":return i+=1===t?e?"sekundo":"sekundi":2===t?e||r?"sekundi":"sekundah":t<5?e||r?"sekunde":"sekundah":"sekund";case"m":return e?"ena minuta":"eno minuto";case"mm":return i+=1===t?e?"minuta":"minuto":2===t?e||r?"minuti":"minutama":t<5?e||r?"minute":"minutami":e||r?"minut":"minutami";case"h":return e?"ena ura":"eno uro";case"hh":return i+=1===t?e?"ura":"uro":2===t?e||r?"uri":"urama":t<5?e||r?"ure":"urami":e||r?"ur":"urami";case"d":return e||r?"en dan":"enim dnem";case"dd":return i+=1===t?e||r?"dan":"dnem":2===t?e||r?"dni":"dnevoma":e||r?"dni":"dnevi";case"M":return e||r?"en mesec":"enim mesecem";case"MM":return i+=1===t?e||r?"mesec":"mesecem":2===t?e||r?"meseca":"mesecema":t<5?e||r?"mesece":"meseci":e||r?"mesecev":"meseci";case"y":return e||r?"eno leto":"enim letom";case"yy":return i+=1===t?e||r?"leto":"letom":2===t?e||r?"leti":"letoma":t<5?e||r?"leta":"leti":e||r?"let":"leti"}}return t.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:!0,meridiemParse:/PD|MD/,isPM:function(t){return"M"===t.charAt(0)},meridiem:function(t,e,n){return t<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,r){var i=e.words[r];return 1===r.length?n?i[0]:i[1]:t+" "+e.correctGrammaticalCase(t,i)}};return t.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:!0,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){return["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"][this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"dan",dd:e.translate,M:"mesec",MM:e.translate,y:"godinu",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function(t,e){return 1===t?e[0]:t>=2&&t<=4?e[1]:e[2]},translate:function(t,n,r){var i=e.words[r];return 1===r.length?n?i[0]:i[1]:t+" "+e.correctGrammaticalCase(t,i)}};return t.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D. M. YYYY.",LL:"D. MMMM YYYY.",LLL:"D. MMMM YYYY. H:mm",LLLL:"dddd, D. MMMM YYYY. H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function(){return["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"][this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:e.translate,m:e.translate,mm:e.translate,h:e.translate,hh:e.translate,d:"",dd:e.translate,M:"",MM:e.translate,y:"",yy:e.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function(t,e,n){return t<11?"ekuseni":t<15?"emini":t<19?"entsambama":"ebusuku"},meridiemHour:function(t,e){return 12===t&&(t=0),"ekuseni"===e?t:"emini"===e?t>=11?t:t+12:"entsambama"===e||"ebusuku"===e?0===t?0:t+12:void 0},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(\:e|\:a)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?":e":1===e||2===e?":a":":e")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"hh:mm A",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"siku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return t.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t+""},preparse:function(t){return t.replace(/[]/g,(function(t){return n[t]}))},postformat:function(t){return t.replace(/\d/g,(function(t){return e[t]}))},meridiemParse:/|||||/,meridiem:function(t,e,n){return t<2?" ":t<6?" ":t<10?" ":t<14?" ":t<18?" ":t<22?" ":" "},meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<2?t:t+12:""===e||""===e||""===e&&t>=10?t:t+12},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=10?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<10?"":t<17?"":t<20?"":""},week:{dow:0,doy:6}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"segundu balun",ss:"segundu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"};return t.defineLocale("tg",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e?t<4?t:t+12:""===e?t:""===e?t>=11?t:t+12:""===e?t+12:void 0},meridiem:function(t,e,n){return t<4?"":t<11?"":t<16?"":t<19?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t){return t+(e[t]||e[t%10]||e[t>=100?100:null])},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:!0,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"'inji",5:"'inji",8:"'inji",70:"'inji",80:"'inji",2:"'nji",7:"'nji",20:"'nji",50:"'nji",3:"'nji",4:"'nji",100:"'nji",6:"'njy",9:"'unjy",10:"'unjy",30:"'unjy",60:"'ynjy",90:"'ynjy"};return t.defineLocale("tk",{months:"anwar_Fewral_Mart_Aprel_Ma_Iun_Iul_Awgust_Sentabr_Oktabr_Noabr_Dekabr".split("_"),monthsShort:"an_Few_Mar_Apr_Ma_In_Il_Awg_Sen_Okt_No_Dek".split("_"),weekdays:"ekenbe_Duenbe_Sienbe_arenbe_Penenbe_Anna_enbe".split("_"),weekdaysShort:"ek_Du_Si_ar_Pen_Ann_en".split("_"),weekdaysMin:"k_D_S_r_Pn_An_n".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn sagat] LT",nextDay:"[ertir sagat] LT",nextWeek:"[indiki] dddd [sagat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [sagat] LT",sameElse:"L"},relativeTime:{future:"%s so",past:"%s ",s:"birne sekunt",m:"bir minut",mm:"%d minut",h:"bir sagat",hh:"%d sagat",d:"bir gn",dd:"%d gn",M:"bir a",MM:"%d a",y:"bir yl",yy:"%d yl"},ordinal:function(t,n){switch(n){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'unjy";var r=t%10;return t+(e[r]||e[t%100-r]||e[t>=100?100:null])}},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_");function n(t,n,r,i){var a=function(t){var n=Math.floor(t%1e3/100),r=Math.floor(t%100/10),i=t%10,a="";return n>0&&(a+=e[n]+"vatlh"),r>0&&(a+=(""!==a?" ":"")+e[r]+"maH"),i>0&&(a+=(""!==a?" ":"")+e[i]),""===a?"pagh":a}(t);switch(r){case"ss":return a+" lup";case"mm":return a+" tup";case"hh":return a+" rep";case"dd":return a+" jaj";case"MM":return a+" jar";case"yy":return a+" DIS"}}return t.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:!0,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:function(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"leS":-1!==t.indexOf("jar")?e.slice(0,-3)+"waQ":-1!==t.indexOf("DIS")?e.slice(0,-3)+"nem":e+" pIq"},past:function(t){var e=t;return e=-1!==t.indexOf("jaj")?e.slice(0,-3)+"Hu":-1!==t.indexOf("jar")?e.slice(0,-3)+"wen":-1!==t.indexOf("DIS")?e.slice(0,-3)+"ben":e+" ret"},s:"puS lup",ss:n,m:"wa tup",mm:n,h:"wa rep",hh:n,d:"wa jaj",dd:n,M:"wa jar",MM:n,y:"wa DIS",yy:n},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};return t.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),meridiem:function(t,e,n){return t<12?n?"":"":n?"s":"S"},meridiemParse:/||s|S/,isPM:function(t){return"s"===t||"S"===t},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",w:"bir hafta",ww:"%d hafta",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(t,n){switch(n){case"d":case"D":case"Do":case"DD":return t;default:if(0===t)return t+"'nc";var r=t%10;return t+(e[r]||e[t%100-r]||e[t>=100?100:null])}},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";function e(t,e,n,r){var i={s:["viensas secunds","'iensas secunds"],ss:[t+" secunds",t+" secunds"],m:["'n mut","'iens mut"],mm:[t+" muts",t+" muts"],h:["'n ora","'iensa ora"],hh:[t+" oras",t+" oras"],d:["'n ziua","'iensa ziua"],dd:[t+" ziuas",t+" ziuas"],M:["'n mes","'iens mes"],MM:[t+" mesen",t+" mesen"],y:["'n ar","'iens ar"],yy:[t+" ars",t+" ars"]};return r||e?i[n][0]:i[n][1]}return t.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function(t){return"d'o"===t.toLowerCase()},meridiem:function(t,e,n){return t>11?n?"d'o":"D'O":n?"d'a":"D'A"},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:e,ss:e,m:e,mm:e,h:e,hh:e,d:e,dd:e,M:e,MM:e,y:e,yy:e},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function(t,e){return 12===t&&(t=0)," "===e||""===e||" "===e?t:" "===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var r=100*t+e;return r<600?" ":r<900?"":r<1130?" ":r<1230?"":r<1800?" ":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"-";case"w":case"W":return t+"-";default:return t}},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";function e(t,e,n){return"m"===n?e?"":"":"h"===n?e?"":"":t+" "+function(t,e){var n=t.split("_");return e%10==1&&e%100!=11?n[0]:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?n[1]:n[2]}({ss:e?"__":"__",mm:e?"__":"__",hh:e?"__":"__",dd:"__",MM:"__",yy:"__"}[n],+t)}function n(t){return function(){return t+""+(11===this.hours()?"":"")+"] LT"}}return t.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:function(t,e){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};return!0===t?n.nominative.slice(1,7).concat(n.nominative.slice(0,1)):t?n[/(\[[]\]) ?dddd/.test(e)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(e)?"genitive":"nominative"][t.day()]:n.nominative},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:n("[ "),nextDay:n("[ "),lastDay:n("[ "),nextWeek:n("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return n("[] dddd [").call(this);case 1:case 2:case 4:return n("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:e,m:e,mm:e,h:"",hh:e,d:"",dd:e,M:"",MM:e,y:"",yy:e},meridiemParse:/|||/,isPM:function(t){return/^(|)$/.test(t)},meridiem:function(t,e,n){return t<4?"":t<12?"":t<17?"":""},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function(t,e){switch(e){case"M":case"d":case"DDD":case"w":case"W":return t+"-";case"D":return t+"-";default:return t}},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";var e=["","","","","","","","","","","",""],n=["","","","","","",""];return t.defineLocale("ur",{months:e,monthsShort:e,weekdays:n,weekdaysShort:n,weekdaysMin:n,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function(t){return""===t},meridiem:function(t,e,n){return t<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(t){return t.replace(//g,",")},postformat:function(t){return t.replace(/,/g,"")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Thg 01_Thg 02_Thg 03_Thg 04_Thg 05_Thg 06_Thg 07_Thg 08_Thg 09_Thg 10_Thg 11_Thg 12".split("_"),monthsParseExact:!0,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(t){return/^ch$/i.test(t)},meridiem:function(t,e,n){return t<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun trc lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",w:"mt tun",ww:"%d tun",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(t){return t},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:!0,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1==~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e||""===e?t+12:t>=11?t:t+12},meridiem:function(t,e,n){var r=100*t+e;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:function(t){return t.week()!==this.week()?"[]dddLT":"[]dddLT"},lastDay:"[]LT",lastWeek:function(t){return this.week()!==t.week()?"[]dddLT":"[]dddLT"},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",w:"1 ",ww:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var r=100*t+e;return r<600?"":r<900?"":r<1200?"":1200===r?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("zh-mo",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"D/M/YYYY",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var r=100*t+e;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r,i,a,o;function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}o=function(t){"use strict";return t.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function(t,e){return 12===t&&(t=0),""===e||""===e||""===e?t:""===e?t>=11?t:t+12:""===e||""===e?t+12:void 0},meridiem:function(t,e,n){var r=100*t+e;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function(t,e){switch(e){case"d":case"D":case"DDD":return t+"";case"M":return t+"";case"w":case"W":return t+"";default:return t}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})},"object"===s(e)&&void 0!==t?o(n(3)):(i=[n(3)],void 0===(a="function"==typeof(r=o)?r.apply(e,i):r)||(t.exports=a))},function(t,e,n){var r;n(83),void 0===(r=function(t,e,n){var r=function(t){this.children=t||[]};r.prototype.add=function(t){return this.children.push(t),t},r.prototype.remove=function(t){var e=this.children.indexOf(t);return-1===e?null:(this.children.splice(e,1),t)},r.prototype.getIndex=function(t){return this.children.indexOf(t)},r.prototype.getItem=function(t){return this.children[t]},r.prototype.run=function(t,e){if(e)for(var n=0;n<this.children.length;n++)t.call(e,this.children[n]);else for(n=0;n<this.children.length;n++)t(this.children[n])},r.prototype.empty=function(){this.children.length=0},n.exports=r}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";var r=n(41),i=n(241);r({target:"String",proto:!0,forced:n(242)("blink")},{blink:function(){return i(this,"blink","","")}})},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return Lt}));n(15),n(5),n(20),n(19),n(21),n(595);var r=n(96),i=n(684),a=n(225),o=n(685),s=n(682),u=n(162),c=n(689),l=n(681),h=n(567),d=n(686),p=n(566),f=n(451),m=n(683),g=n(94),y=n(687),v=n(275),b=n(688),_=n(7),w=n(90),x=n(274),S=n(4),T=n(561),M=n(521),E=n(522),A=n(523),k=n(562),C=n(525),O=n(117),L=n(271),R=n(188),P=n(258),D=n(526),I=n(149),B=n(218),N=n(196),j=n(220),F=n(198),U=n(260),Y=n(261),G=n(200),H=n(527),z=n(221),V=n(187),W=n(186),X=n(272),K=n(263),q=n(553),Z=n(528),J=n(529),Q=n(530),$=n(554),tt=n(531),et=n(552),nt=n(563),rt=n(540),it=n(541),at=n(564),ot=n(542),st=n(450),ut=n(543),ct=n(544),lt=n(565),ht=n(559),dt=n(545),pt=n(546),ft=n(547),mt=n(1),gt=n(560),yt=n(548),vt=n(549),bt=n(550),_t=n(259),wt=n(8),xt=n(28),St=n(2),Tt=n(558);function Mt(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function Et(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){Mt(a,r,i,o,s,"next",t)}function s(t){Mt(a,r,i,o,s,"throw",t)}o(void 0)}))}}function At(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function kt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ct(t,e){return(Ct=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ot(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object(r.a)(i.a),delete a.a.iPhoneX,delete a.a.iPhone6,delete a.a.galaxyS5,x["assets/content/logos"].image["flag-logos"]={tags:{tps:!0},standard:{default:"assets/content/logos/flag-logos/flag-logos.json",low:"assets/content/logos/flag-logos/flag-logos.json"},webp:{default:"assets/content/logos/flag-logos/flag-logos.webp.json",low:"assets/content/logos/flag-logos/flag-logos.webp.json"}};var Lt=function(e){var n,r;function i(n){var r;return Ot(kt(r=e.call(this,n)||this),"width",1664),Ot(kt(r),"height",768),Ot(kt(r),"game",void 0),Ot(kt(r),"stats",void 0),Ot(kt(r),"stage",void 0),Ot(kt(r),"resources",void 0),Ot(kt(r),"resize",void 0),Ot(kt(r),"visibility",void 0),Ot(kt(r),"screens",void 0),Ot(kt(r),"preloader",void 0),Ot(kt(r),"controller",void 0),Ot(kt(r),"orientation",void 0),Ot(kt(r),"sound",void 0),Ot(kt(r),"geo",void 0),Ot(kt(r),"storage",void 0),Ot(kt(r),"language",void 0),Ot(kt(r),"ads",void 0),Ot(kt(r),"globalEvents",void 0),Ot(kt(r),"leaderboard",void 0),Ot(kt(r),"challenges",void 0),Ot(kt(r),"leagues",void 0),Ot(kt(r),"achievements",void 0),Ot(kt(r),"userStats",void 0),Ot(kt(r),"themes",void 0),Ot(kt(r),"background",void 0),Ot(kt(r),"analytics",void 0),Ot(kt(r),"characters",void 0),Ot(kt(r),"stadiums",void 0),Ot(kt(r),"kits",void 0),Ot(kt(r),"balls",void 0),Ot(kt(r),"overlays",void 0),Ot(kt(r),"keyboard",void 0),t.Ticker.system.maxFPS=60,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,Ct(n,r);var a,b,Mt,Lt=i.prototype;return Lt.run=function(){var t=Et(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.add(o.a,{overrideConfig:M.a}),this.resources=this.add(s.a,{name:"resource",manifest:x,imageFormatPreference:["standard"],version:"default"}),this.stage=this.add(u.a,{name:"stage"}),mt.Params.get("stats",!1)&&(this.stats=this.add(c.a,{name:"stats"})),this.visibility=this.add(l.a),this.resize=this.add(h.a,{resizeFunction:Object(d.a)(1024,768)}),window.cordova||(this.orientation=this.add(p.b,{imageUrl:"assets/device/phone-turn.jpg",backgroundColor:"#F5F0D1",orientation:p.a.LANDSCAPE})),this.screens=this.add(f.a,{name:"screens"}),this.preloader=this.add(m.a,{loaderScreenClass:tt.a}),this.controller=this.add(T.a),this.sound=this.add(I.a,{manifest:x}),this.storage=this.add(X.a),t.next=14,this.setSessionCountryAndRegion();case 14:this.language=this.add(Y.a),this.geo=this.add(_t.a,{countryCode:wt.a.cache.userCountry}),this.ads=this.add(P.a),this.globalEvents=this.add(U.a),this.leaderboard=this.add(G.b),this.challenges=this.add(j.b,{type:j.a.DAILY,maxEntities:3}),this.leagues=this.add(H.a),this.achievements=this.add(L.a),this.userStats=this.add(R.a),this.themes=this.add(K.a),this.analytics=this.add(D.a),this.characters=this.add(F.a),this.stadiums=this.add(V.a),this.kits=this.add(W.a),this.balls=this.add(N.a),this.background=this.add(B.a),this.overlays=this.add(z.a),g.a.desktop&&(this.keyboard=this.add(y.a)),Object(_.f)(this.controller),Object(_.i)(this.storage),Object(_.h)(this.stage.renderer),this._addScreens(),this.init(),w.a.init();case 38:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),Lt.setSessionCountryAndRegion=function(){var t=Et(regeneratorRuntime.mark((function t(){var e,n,r,i,a,o,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((e=mt.Params.get("country",!1))&&e.toUpperCase(),n=e||wt.a.cache.userCountry){t.next=9;break}return t.next=6,this.getGeoIPData();case 6:r=t.sent,n=r.country||"GB",this.storage.saveData("cache");case 9:if(wt.a.cache.userCountry=n,!(i=mt.Params.get("region",!1)||window.defaultRegion)){t.next=26;break}"string"==typeof i&&(i=parseInt(i)),t.t0=regeneratorRuntime.keys(xt.a.regions);case 16:if((t.t1=t.t0()).done){t.next=23;break}if(a=t.t1.value,xt.a.regions[a].REGION_ID!==i){t.next=21;break}return St.b.region=xt.a.regions[a],t.abrupt("break",23);case 21:t.next=16;break;case 23:St.b.region||(St.b.region=xt.a.regions.WE),t.next=39;break;case 26:if(!(o=xt.a.countries[n])){t.next=38;break}t.t2=regeneratorRuntime.keys(xt.a.regions);case 29:if((t.t3=t.t2()).done){t.next=36;break}if(s=t.t3.value,xt.a.regions[s].REGION_ID!==o.REGION){t.next=34;break}return St.b.region=xt.a.regions[s],t.abrupt("break",36);case 34:t.next=29;break;case 36:t.next=39;break;case 38:St.b.region=xt.a.regions.WE;case 39:case 40:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),Lt.getGeoIPData=function(){var t=Et(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=mt.Params.get("country",!1))){t.next=4;break}return t.abrupt("return",e);case 4:return t.prev=5,t.next=8,fetch("./api/get_geoip_data");case 8:return n=t.sent,t.next=11,n.json();case 11:return r=t.sent,t.abrupt("return",r);case 15:return t.prev=15,t.t0=t.catch(5),t.abrupt("return",{ip:"0.0.0.0",country:"GB"});case 19:case"end":return t.stop()}}),t,null,[[5,15]])})));return function(){return t.apply(this,arguments)}}(),Lt._addScreens=function(){mt.Params.get("spineDebug",!1)?this.screens.add(ut.a,{},"spineDebug"):(this.screens.add(rt.a,{},S.a.SCREEN_ID.LANGUAGE),this.screens.add(nt.a,{},S.a.SCREEN_ID.TITLE),this.screens.add(J.a,{},S.a.SCREEN_ID.CHALLENGES),this.screens.add(it.a,{},S.a.SCREEN_ID.LEADERBOARD),this.screens.add(Tt.a,{},S.a.SCREEN_ID.USER_STATS),this.screens.add(pt.a,{},S.a.SCREEN_ID.UNLOCKABLES),this.screens.add(Q.a,{},S.a.SCREEN_ID.CHARACTERS),this.screens.add(ct.a,{},S.a.SCREEN_ID.STADIUMS),this.screens.add(q.a,{},S.a.SCREEN_ID.BALLS),this.screens.add(gt.a,{},S.a.SCREEN_ID.KITS),this.screens.add(vt.a,{},S.a.SCREEN_ID.REWARDS),this.screens.add(bt.a,{},S.a.SCREEN_ID.INTERSTITIAL_REWARDS),this.screens.add(lt.a,{},S.a.SCREEN_ID.STATS),this.screens.add(at.a,{},S.a.SCREEN_ID.LEAGUES_ONBOARDING),this.screens.add($.a,{},S.a.SCREEN_ID.COUNTRY_SELECT),this.screens.add(ot.a,{},S.a.SCREEN_ID.LEAGUES),this.screens.add(Z.a,{},S.a.SCREEN_ID.CAPTAIN_SELECT),this.screens.add(st.a,{playerIndex:1},S.a.SCREEN_ID.PLAYER_SELECT),this.screens.add(st.a,{playerIndex:2},S.a.SCREEN_ID.PLAYER_SELECT_2),this.screens.add(yt.a,{},S.a.SCREEN_ID.KEEPER_SELECT),this.screens.add(ht.a,{},S.a.SCREEN_ID.TEAM_REVIEW),this.screens.add(dt.a,{},S.a.SCREEN_ID.TOURNAMENT),this.screens.add(et.a,{},S.a.SCREEN_ID.GAME),this.screens.overlay.add(v.a,{},S.a.OVERLAY_ID.EMPTY),this.screens.overlay.add(A.a,{},S.a.OVERLAY_ID.GDPR),this.screens.overlay.add(O.b,{},S.a.OVERLAY_ID.SETTINGS),this.screens.overlay.add(ft.a,{},S.a.OVERLAY_ID.LOCKED_POPUP),this.screens.overlay.add(k.a,{},S.a.OVERLAY_ID.PAUSE),this.screens.overlay.add(C.a,{},S.a.OVERLAY_ID.PROMOTING),this.screens.overlay.add(E.a,{},S.a.OVERLAY_ID.CONFIRMATION))},a=i,(b=[{key:"stageCenter",get:function(){return{x:.5*this.width,y:.5*this.height}}},{key:"stageLeft",get:function(){return.5*(this.width-this.resize.width)}},{key:"stageRight",get:function(){return.5*(this.width+this.resize.width)}},{key:"stageTop",get:function(){return.5*(this.height-this.resize.height)}},{key:"stageBottom",get:function(){return.5*(this.height+this.resize.height)}}])&&At(a.prototype,b),Mt&&At(a,Mt),Object.defineProperty(a,"prototype",{writable:!1}),i}(b.a)}).call(this,n(0))},function(t,e,n){(function(r){var i;n(38),n(106),n(51),n(92),n(5),n(107),n(114),n(216),void 0===(i=function(t,e,r){var i=n(0),a={trimTexture:function(t,e,n,r,i){e=e||0,n=n||0,r=r||0,i=i||0;var a=t._frame;a.x+=e,a.y+=r,a.width-=e+n,a.height-=r+i,t.frame=a,t._updateUvs()},getTexturesFromFrames:function(t){for(var e=[],n=0;n<t.length;n++){var r=new i.Texture.from(t[n]);r._updateUvs(),e.push(r)}return e},getTexturesFromImages:function(t){for(var e=[],n=0;n<t.length;n++)e.push(new i.Texture.from(t[n]));return e},getTexturesFromFramesWithPrefix:function(t,e,n,r){var a=[];null==n&&(n=0);for(var o=0;o<e;o++){var s=o+n,u=t.replace("%%",s<10?"0".concat(s):s);if(r)u=t.replace("%%",s);a.push(new i.Texture.from(u))}return a},formatTime:function(t){if(999999===t)return"00:00:00";var e=(t=t/.06)/60/1e3|0,n=(t-=60*e*1e3)/1e3|0,r=(t-=1e3*n)/10|0;return t-=10*r,"".concat((e<10?"0":"")+e,":").concat(n<10?"0":"").concat(n,":").concat(r<10?"0":"").concat(r)},formatTimeSeconds:function(t){if(999999===t)return"00:00";var e=(t=t/.06)/60/1e3|0,n=(t-=60*e*1e3)/1e3|0;return t-=1e3*n,"".concat((e<10?"0":"")+e,":").concat(n<10?"0":"").concat(n)},pad:function(t,e){var n="0000".concat(t);return n.substr(n.length-e)},shuffle:function(t){for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=t[e];t[e]=t[n],t[n]=r}return t},isInArray:function(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1},uniq:function(t,e){var n=[],r={};for(var i in t)r[t[i][e]]=t[i];for(i in r)n.push(r[i]);return n},formatScore:function(t){for(var e=t.toString().split(""),n="",r=e.length,i=r%3-1,a=0;a<r;a++)n+=e[a],(a-i)%3==0&&a!=r-1&&(n+=",");return n},formatNumber:function(t){if(ones=t%10,tens=Math.floor(t/10)%10,1==tens)return"".concat(t,"th");switch(ones){case 1:return"".concat(t,"st");case 2:return"".concat(t,"nd");case 3:return"".concat(t,"rd");default:return"".concat(t,"th")}},formatName:function(t){for(var e=t.split(" "),n=e.length-1;n>=0;n--)0!==e[n].length&&(wordArray=e[n].split(""),wordArray[0]=wordArray[0].toUpperCase(),e[n]=wordArray.join(""));return word=e.join(" "),word}};window.console||(window.console={log:function(t){}}),a.get_query=function(t){for(var e=location.href,n=e.substring(e.indexOf("?")+1).split("&"),r=0,i={};r<n.length;r++)n[r]=n[r].split("="),i[n[r][0]]=decodeURIComponent(n[r][1]);return!!i.hasOwnProperty(t)&&i[t]},a.toCamelCase=function(t){var e=t.trim();return e=(e=e.toLowerCase()).replace(/\s([a-z]|[A-Z])/,(function(t,e){return e.toUpperCase()}))},a.defaults=function(t,e){for(var n in t=t||{},e)n in t||(t[n]=e[n]);return t},a.fitText=a.resizeText=function(t,e,n,r){r=r||"w",t.scale.set(1),n&&(t.text=n);var i=0;(i="w"===r?e/t.width:e/t.height)>1&&(i=1),t.scale.set(i)},a.resizeMultipleTexts=function(t,e,n){for(var r=0;r<t.length;r++){(a=t[r]).scale.set(1)}var i=0;if(n)for(r=0;r<t.length;r++){(a=t[r]).text=n[r]}for(r=0;r<t.length;r++){var a;(a=t[r]).width>i&&(i=a.width)}var o=e/i;o>1&&(o=1);for(r=0;r<t.length;r++)t[r].scale.set(o)},r.exports=a}.call(e,n,e,t))||(t.exports=i)}).call(this,n(0))},function(t,e,n){"use strict";t.exports=function(t,e){if(t){e=e||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},r=n.parser[e.strictMode?"strict":"loose"].exec(t),i={},a=14;a--;)i[n.key[a]]=r[a]||"";return i[n.q.name]={},i[n.key[12]].replace(n.q.parser,(function(t,e,r){e&&(i[n.q.name][e]=r)})),i}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(38);function r(t){return!/^[a-zA-Z]:\\/.test(t)&&/^[a-zA-Z][a-zA-Z\d+\-.]*:/.test(t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(244);var r=n(36),i=n(170);function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.center=void 0!==e?e:new r.a,this.radius=void 0!==n?n:0}var e,n,i;return e=t,(n=[{key:"set",value:function(t,e){return this.center.copy(t),this.radius=e,this}},{key:"setFromPoints",value:function(t,e){var n=this.center;void 0!==e?n.copy(e):s.setFromPoints(t).getCenter(n);for(var r=0,i=0,a=t.length;i<a;i++)r=Math.max(r,n.distanceToSquared(t[i]));return this.radius=Math.sqrt(r),this}},{key:"clone",value:function(){return(new t).copy(this)}},{key:"copy",value:function(t){return this.center.copy(t.center),this.radius=t.radius,this}},{key:"empty",value:function(){return this.radius<=0}},{key:"containsPoint",value:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}},{key:"distanceToPoint",value:function(t){return t.distanceTo(this.center)-this.radius}},{key:"intersectsSphere",value:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}},{key:"intersectsBox",value:function(t){return t.intersectsSphere(this)}},{key:"intersectsPlane",value:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}},{key:"clampPoint",value:function(t,e){var n=this.center.distanceToSquared(t);return e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}},{key:"getBoundingBox",value:function(t){return t.set(this.center,this.center),t.expandByScalar(this.radius),t}},{key:"applyMatrix4",value:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}},{key:"translate",value:function(t){return this.center.add(t),this}},{key:"equals",value:function(t){return t.center.equals(this.center)&&t.radius===this.radius}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}(),s=new i.a},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35),n(145),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(c,t);var e,n,r,u=s(c);function c(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2*Math.PI,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Math.PI;a(this,c),(e=u.call(this)).type="SphereBufferGeometry",t=t||1,n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));var h,d,p=s+l,f=0,m=[],g=[],y=[],v=[],b=[];for(d=0;d<=r;d++){var _=[],w=d/r;for(h=0;h<=n;h++){var x=h/n,S=-t*Math.cos(i+x*o)*Math.sin(s+w*l),T=t*Math.cos(s+w*l),M=t*Math.sin(i+x*o)*Math.sin(s+w*l);y.push(S,T,M);var E=S*S+T*T+M*M;E>0&&(E=1/Math.sqrt(E)),v.push(S*E,T*E,M*E),b.push(x,1-w),_.push(f++)}m.push(_)}for(d=0;d<r;d++)for(h=0;h<n;h++){var A=m[d][h+1],k=m[d][h],C=m[d+1][h],O=m[d+1][h+1];(0!==d||s>0)&&g.push(A,k,O),(d!==r-1||p<Math.PI)&&g.push(k,C,O)}return e.addAttribute("aUv",b,2).addAttribute("aPosition",y,3).addAttribute("aNormal",v,3).interleave().addIndex(new Uint16Array(g)),e}return e=c,n&&i(e.prototype,n),r&&i(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(n(254).a)},function(t,e,n){var r=n(1).delay,i=(n(0),n(48).Const),a=n(47),o=n(189),s=(i.TEAM_STATE,function(t,e,n){this.game=n,this.left=e,this.keeper=t,e?(this.goal=n.goalLeft,this.team=n.teamRight,this.teamBad=n.teamLeft):(this.goal=n.goalRight,this.team=n.teamLeft,this.teamBad=n.teamRight,window.keeperm=this),this.keeperHome=this.goal.position.clone(),e?this.keeperHome.x=40:this.keeperHome.x-=40,this.keeper.signals.onBallRecieved.add(this.onRecievedBall,this),this.keeper.signals.onBallLost.add(this.onLostBall,this),this.closeDownDistance=300,this.active=!0});s.constructor=s,s.prototype.onRecievedBall=function(){var t=this;if(!this.keeper.hidden){if(this.left){var e=this.goal.position.x+270;this.keeper.movement.moveTo(e,this.keeper.position.y)}else{e=this.goal.position.x-270;this.keeper.movement.moveTo(e,this.keeper.position.y)}this.active=!1,r(1).then((function(){t.left?t.keeper.movement.direction.set(1,0):t.keeper.movement.direction.set(-1,0);var e=o(t.keeper,t.teamBad);t.keeper.kickOut(e.dx,e.dy),r(1).then((function(){t.keeper.movement.moveTo(t.keeperHome.x,t.keeperHome.y),t.active=!0}))}))}},s.prototype.show=function(){this.keeper.position.x=this.keeperHome.x,this.keeper.position.y=this.keeperHome.y,this.keeper.reset()},s.prototype.hide=function(){this.keeper.position.y=-1e3,this.keeper.reset()},s.prototype.win=function(){this.keeper.win()},s.prototype.lose=function(){this.keeper.lose()},s.prototype.update=function(){if(!this.keeper.hidden&&this.active){var t=this.game.ball,e=Math.abs(t.position.x-this.goal.position.x),n=Math.abs(t.position.y-this.goal.position.y);if(Math.sqrt(e*e+n*n)<220&&t.active&&this.keeper.dive(t),e<this.closeDownDistance&&n<200&&t.active)this.keeper.movement.follow(t);else{var r=this.goal.position.y;e<600&&(r=a.cap(t.position.y,this.goal.position.y-20,this.goal.position.y+20)),this.keeper.movement.moveTo(this.keeperHome.x,r)}var i=this.keeper;i.right?i.body.velocity.x<0&&i.body.position.x<this.goal.position.x-230&&(i.body.velocity.x*=0):i.body.velocity.x>0&&i.body.position.x>this.goal.position.x+230&&(i.body.velocity.x*=0)}},s.prototype.onLostBall=function(){},t.exports=s},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(5),n(19),n(21);var r=n(452),i=n(17),a=n(40),o=n(2);function s(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){var e,n;function c(e,n){var r,i,a,o,s=n.playerIndex;return r=t.call(this,e,{title:["STR_PLAYER_SELECT_TITLE",1===s?"(2)":"(3)"],enableBreadcrumb:!0,screenIdentifier:1===s?"first":"second"})||this,i=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(r),o=void 0,(a="playerIndex")in i?Object.defineProperty(i,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[a]=o,r.playerIndex=s,r}n=t,(e=c).prototype=Object.create(n.prototype),e.prototype.constructor=e,u(e,n);var l=c.prototype;return l.init=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.prototype.init.call(this),this.setPlayers(a.d.all()),this.onCardSelected.connect((function(t){n.selectPlayer(t),o.b.teamA[n.playerIndex]=t.data,i.default.playVo(t.data.superSound),n.app.controller.breadcrumbNext()}));case 3:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(t){s(a,r,i,o,u,"next",t)}function u(t){s(a,r,i,o,u,"throw",t)}o(void 0)}))});return function(){return n.apply(this,arguments)}}(),l.show=function(){var e=this;t.prototype.show.call(this),window.FASTPLAY&&setTimeout((function(){var t=r.a.apply(void 0,e.cards);e.selectPlayer(t),o.b.teamA[e.playerIndex]=t.data,i.default.playVo(t.data.superSound),e.app.controller.breadcrumbNext()}),300)},c}(n(172).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return E}));n(21),n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35),n(19),n(34);var r=n(0),i=n(148),a=n(567),o=n(162),s=(n(83),n(116)),u=n(275),c=n(222);function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var h=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._transitionMap={}}var e,n,r;return e=t,(n=[{key:"default",get:function(){return this._transitionMap.all?this._transitionMap.all.all:null},set:function(t){this.register(t,"all","all")}},{key:"register",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"all",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all",r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=this._transitionMap[e];i||(i=this._transitionMap[e]={}),i[n]=t,r&&this.register(t,n,e)}},{key:"get",value:function(t,e){var n=this,r=function(t,e){return n._transitionMap[t]?n._transitionMap[t][e]||n._transitionMap[t].all:null};return r(t,e)||r("all",e)||this.default}}])&&l(e.prototype,n),r&&l(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),d=n(52);function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var m=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p(this,t),this.autoManageContainers=!0,this.duration=e.duration||.75}var e,n,r;return e=t,(n=[{key:"hide",value:function(t,e){return new Promise((function(t){d.b.to(e.view,{duration:.4,alpha:0,onComplete:function(){t()}})}))}},{key:"show",value:function(t,e,n){return new Promise((function(t){n.view.alpha=0,d.b.to(n.view,{duration:.4,alpha:1,onComplete:function(){t()}})}))}}])&&f(e.prototype,n),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var y=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))},v=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.screens={},this.w=0,this.h=0,this.history=[],this._loaderActive=!1,this.options=n,this.app=e,this.view=(null==n?void 0:n.view)||new r.Container,this.transitionManager=new h,(null==n?void 0:n.defaultTransitionClass)?this.transitionManager.default=new n.defaultTransitionClass(n.defaultTransitionOptions):this.transitionManager.default=new m(n.defaultTransitionOptions),this.screens.empty={instance:new u.a(e),class:u.a,id:"empty"},this.groups={root:{}},this.visibleScreens=[]}var e,n,i;return e=t,(n=[{key:"add",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(this.screens[n])throw new Error("Screen id ".concat(n," has already been assigned"));var i={instance:null,class:t,options:e,id:n};r&&(i.instance=new t(this.app,i.options)),this.screens[n]=i}},{key:"back",value:function(){return y(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.history.length&&(e=this.history.pop(),this.goto(e));case 1:case"end":return t.stop()}}),t,this)})))}},{key:"goto",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return y(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.currentScreenId!==t||e.force){n.next=2;break}return n.abrupt("return");case 2:if(this.screens[t]){n.next=4;break}throw new Error("Screen id ".concat(t," does not exist"));case 4:if(this.nextScreenId=t,this.nextData=e,!this.transitionPromise){n.next=14;break}if(this.nextScreenId!==t){n.next=9;break}return n.abrupt("return");case 9:return n.next=11,this.transitionPromise;case 11:return n.abrupt("return");case 14:if(this.currentScreenId!==t){n.next=16;break}return n.abrupt("return");case 16:return this.transitionPromise=this.createTransitionPromise(this.nextData.data),n.next=19,this.transitionPromise;case 19:this.transitionPromise=null;case 20:case"end":return n.stop()}}),n,this)})))}},{key:"createTransitionPromise",value:function(t){var e=this;return new Promise((function(n){return y(e,void 0,void 0,regeneratorRuntime.mark((function e(){var r,i,a,o,u,l,h,d,p,f,m,g,y,v=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.view.interactiveChildren=!1,i=this.transitionManager.get(this.currentScreenId,this.nextScreenId),a=i.autoManageContainers,o=this.screens[this.currentScreenId],u=this.screens[this.nextScreenId],(l=!u.instance)&&(u.instance=new u.class(this.app,u.options)),h=Promise.resolve(),d=!1,u.instance.manifests&&(h=s.a.load(u.instance.manifests).then((function(){d=!0}))),i.resize&&i.resize(this.w,this.h),!o){e.next=20;break}if(this.history.push(this.currentScreenId),!o.instance.hide){e.next=16;break}return e.next=16,o.instance.hide();case 16:return e.next=18,i.hide(this.view,o.instance,u.instance);case 18:a&&this.view.removeChild(o.instance.view),o.instance.hidden&&o.instance.hidden();case 20:return this.loader||(p=(null===(r=this.options)||void 0===r?void 0:r.loaderScreenClass)||c.a,this.loader=new p(this.app),this.loader.resize(this.w,this.h)),g=setTimeout((function(){var t;d||(v.view.addChild(v.loader.view),v.loader.show(),null===(t=v.loader)||void 0===t||t.start(),v._loaderActive=!0,f=s.a.onLoadProgress.connect((function(t){return v.loader.updateProgress(t/100)})),m=s.a.onLoadComplete.connect((function(){var t;return null===(t=v.loader)||void 0===t?void 0:t.complete()})))}),1e3),e.next=24,h;case 24:if(!l||!u.instance.init){e.next=27;break}return e.next=27,u.instance.init();case 27:if(this.currentScreenId=u.id,!this._loaderActive){e.next=37;break}return f.disconnect(),m.disconnect(),e.next=33,this.loader.hide();case 33:this._loaderActive=!1,this.view.removeChild(this.loader.view),e.next=38;break;case 37:clearTimeout(g);case 38:if(!u.instance.prepare){e.next=41;break}return e.next=41,u.instance.prepare(t);case 41:if(u.instance.resize(this.w,this.h),!u.instance.show){e.next=45;break}return e.next=45,u.instance.show();case 45:return this.view.interactiveChildren=!0,this.visibleScreens.push(u),a&&this.view.addChild(u.instance.view),e.next=50,i.show(this.view,null==o?void 0:o.instance,u.instance);case 50:if(u.instance.shown&&u.instance.shown(),-1!==(y=this.visibleScreens.indexOf(o))&&this.visibleScreens.splice(y,1),this.currentScreenId===this.nextScreenId){e.next=56;break}return e.next=56,this.createTransitionPromise(this.nextData.data);case 56:n();case 57:case"end":return e.stop()}}),e,this)})))}))}},{key:"resize",value:function(t,e){this.w=t,this.h=e,this.screens[this.currentScreenId]&&this.screens[this.currentScreenId].instance.resize(t,e),this.loader&&this.loader.resize(t,e)}},{key:"update",value:function(t){for(var e=this.visibleScreens,n=0;n<e.length;n++)e[n].instance.update&&e[n].instance.update(t);this._loaderActive&&this.loader.update(t)}}])&&g(e.prototype,n),i&&g(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=T(t);if(e){var i=T(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S(this,n)}}function S(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var M=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))},E=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&w(t,e)}(u,t);var e,n,i,s=x(u);function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=s.call(this,t,e)).screens={},n.w=0,n.h=0,n.main=new v(t,e.main),n.overlay=new v(t,e.overlay),n.view=new r.Container,n.view.addChild(n.main.view),n.view.addChild(n.overlay.view),n.stack=[n.main,n.overlay],n}return e=u,(n=[{key:"prepare",value:function(){var t=this.app.get(a.a),e=this.app.get(o.a);t&&(t.onResize.connect(this.resize.bind(this)),this.resize(t.w,t.h)),e.mainContainer.addChild(this.view)}},{key:"add",value:function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];this.main.add(t,e,n,r)}},{key:"push",value:function(t){}},{key:"pop",value:function(){}},{key:"goto",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return M(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",this.main.goto(t,e));case 1:case"end":return n.stop()}}),n,this)})))}},{key:"resize",value:function(t,e){this.w=t,this.h=e,this.stack.forEach((function(n){n.resize(t,e)}))}},{key:"update",value:function(t){this.stack.forEach((function(e){e.update(t)}))}}])&&_(e.prototype,n),i&&_(e,i),Object.defineProperty(e,"prototype",{writable:!1}),u}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(99);function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[Math.floor(Math.random()*e.length)]}},,function(t,e,n){var r=n(105),i=n(50),a=n(280);t.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},function(t,e,n){var r=n(54);t.exports=r},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(281);t.exports=i&&!Symbol.sham&&"symbol"==r(Symbol.iterator)},function(t,e,n){var r=n(109),i=n(458),a=n(138),o=n(111);t.exports=function(t,e){for(var n=i(e),s=o.f,u=a.f,c=0;c<n.length;c++){var l=n[c];r(t,l)||s(t,l,u(e,l))}}},function(t,e,n){var r=n(153),i=n(179),a=n(284),o=n(102);t.exports=r("Reflect","ownKeys")||function(t){var e=i.f(o(t)),n=a.f;return n?e.concat(n(t)):e}},function(t,e,n){var r=n(109),i=n(131),a=n(232).indexOf,o=n(204);t.exports=function(t,e){var n,s=i(t),u=0,c=[];for(n in s)!r(o,n)&&r(s,n)&&c.push(n);for(;e.length>u;)r(s,n=e[u++])&&(~a(c,n)||c.push(n));return c}},function(t,e,n){var r=n(54);t.exports=r.Promise},function(t,e,n){var r=n(102);t.exports=function(t){var e=t.return;if(void 0!==e)return r(e.call(t)).value}},function(t,e,n){var r,i,a,o=n(54),s=n(50),u=n(181),c=n(463),l=n(280),h=n(464),d=n(287),p=o.location,f=o.setImmediate,m=o.clearImmediate,g=o.process,y=o.MessageChannel,v=o.Dispatch,b=0,_={},w=function(t){if(_.hasOwnProperty(t)){var e=_[t];delete _[t],e()}},x=function(t){return function(){w(t)}},S=function(t){w(t.data)},T=function(t){o.postMessage(t+"",p.protocol+"//"+p.host)};f&&m||(f=function(t){for(var e=[],n=1;arguments.length>n;)e.push(arguments[n++]);return _[++b]=function(){("function"==typeof t?t:Function(t)).apply(void 0,e)},r(b),b},m=function(t){delete _[t]},d?r=function(t){g.nextTick(x(t))}:v&&v.now?r=function(t){v.now(x(t))}:y&&!h?(a=(i=new y).port2,i.port1.onmessage=S,r=u(a.postMessage,a,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts&&p&&"file:"!==p.protocol&&!s(T)?(r=T,o.addEventListener("message",S,!1)):r="onreadystatechange"in l("script")?function(t){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),w(t)}}:function(t){setTimeout(x(t),0)}),t.exports={set:f,clear:m}},function(t,e,n){var r=n(153);t.exports=r("document","documentElement")},function(t,e,n){var r=n(229);t.exports=/(?:iphone|ipod|ipad).*applewebkit/i.test(r)},function(t,e,n){var r=n(102),i=n(98),a=n(466);t.exports=function(t,e){if(r(t),i(e)&&e.constructor===t)return e;var n=a.f(t);return(0,n.resolve)(e),n.promise}},function(t,e,n){"use strict";var r=n(165),i=function(t){var e,n;this.promise=new t((function(t,r){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=r})),this.resolve=r(e),this.reject=r(n)};t.exports.f=function(t){return new i(t)}},function(t,e,n){"use strict";var r=n(181),i=n(113),a=n(582),o=n(286),s=n(97),u=n(211),c=n(210);t.exports=function(t){var e,n,l,h,d,p,f=i(t),m="function"==typeof this?this:Array,g=arguments.length,y=g>1?arguments[1]:void 0,v=void 0!==y,b=c(f),_=0;if(v&&(y=r(y,g>2?arguments[2]:void 0,2)),null==b||m==Array&&o(b))for(n=new m(e=s(f.length));e>_;_++)p=v?y(f[_],_):f[_],u(n,_,p);else for(d=(h=b.call(f)).next,n=new m;!(l=d.call(h)).done;_++)p=v?a(h,y,[l.value,_],!0):l.value,u(n,_,p);return n.length=_,n}},function(t,e,n){"use strict";var r=n(469).IteratorPrototype,i=n(167),a=n(177),o=n(164),s=n(209),u=function(){return this};t.exports=function(t,e,n){var c=e+" Iterator";return t.prototype=i(r,{next:a(1,n)}),o(t,c,!1,!0),s[c]=u,t}},function(t,e,n){"use strict";var r,i,a,o=n(50),s=n(193),u=n(125),c=n(109),l=n(86),h=n(152),d=l("iterator"),p=!1;[].keys&&("next"in(a=[].keys())?(i=s(s(a)))!==Object.prototype&&(r=i):p=!0);var f=null==r||o((function(){var t={};return r[d].call(t)!==t}));f&&(r={}),h&&!f||c(r,d)||u(r,d,(function(){return this})),t.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:p}},function(t,e,n){var r=n(50);t.exports=!r((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,n){var r=n(105),i=n(111),a=n(102),o=n(213);t.exports=r?Object.defineProperties:function(t,e){a(t);for(var n,r=o(e),s=r.length,u=0;s>u;)i.f(t,n=r[u++],e[n]);return t}},function(t,e,n){var r=n(86);e.f=r},function(t,e,n){var r=n(455),i=n(109),a=n(472),o=n(111).f;t.exports=function(t){var e=r.Symbol||(r.Symbol={});i(e,t)||o(e,t,{value:a.f(t)})}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e){var n,r,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var u,c=[],l=!1,h=-1;function d(){l&&u&&(l=!1,u.length?c=u.concat(c):h=-1,c.length&&p())}function p(){if(!l){var t=s(d);l=!0;for(var e=c.length;e;){for(u=c,c=[];++h<e;)u&&u[h].run();h=-1,e=c.length}u=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];c.push(new f(t,e)),1!==c.length||l||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function a(){}function o(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,n,r,a){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new o(n,r||t,a),u=i?i+e:e;return t._events[u]?t._events[u].fn?t._events[u]=[t._events[u],s]:t._events[u].push(s):(t._events[u]=s,t._eventsCount++),t}function u(t,e){0==--t._eventsCount?t._events=new a:delete t._events[e]}function c(){this._events=new a,this._eventsCount=0}Object.create&&(a.prototype=Object.create(null),(new a).__proto__||(i=!1)),c.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},c.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,o=new Array(a);r<a;r++)o[r]=n[r].fn;return o},c.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},c.prototype.emit=function(t,e,n,r,a,o){var s=i?i+t:t;if(!this._events[s])return!1;var u,c,l=this._events[s],h=arguments.length;if(l.fn){switch(l.once&&this.removeListener(t,l.fn,void 0,!0),h){case 1:return l.fn.call(l.context),!0;case 2:return l.fn.call(l.context,e),!0;case 3:return l.fn.call(l.context,e,n),!0;case 4:return l.fn.call(l.context,e,n,r),!0;case 5:return l.fn.call(l.context,e,n,r,a),!0;case 6:return l.fn.call(l.context,e,n,r,a,o),!0}for(c=1,u=new Array(h-1);c<h;c++)u[c-1]=arguments[c];l.fn.apply(l.context,u)}else{var d,p=l.length;for(c=0;c<p;c++)switch(l[c].once&&this.removeListener(t,l[c].fn,void 0,!0),h){case 1:l[c].fn.call(l[c].context);break;case 2:l[c].fn.call(l[c].context,e);break;case 3:l[c].fn.call(l[c].context,e,n);break;case 4:l[c].fn.call(l[c].context,e,n,r);break;default:if(!u)for(d=1,u=new Array(h-1);d<h;d++)u[d-1]=arguments[d];l[c].fn.apply(l[c].context,u)}}return!0},c.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},c.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},c.prototype.removeListener=function(t,e,n,r){var a=i?i+t:t;if(!this._events[a])return this;if(!e)return u(this,a),this;var o=this._events[a];if(o.fn)o.fn!==e||r&&!o.once||n&&o.context!==n||u(this,a);else{for(var s=0,c=[],l=o.length;s<l;s++)(o[s].fn!==e||r&&!o[s].once||n&&o[s].context!==n)&&c.push(o[s]);c.length?this._events[a]=1===c.length?c[0]:c:u(this,a)}return this},c.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&u(this,e)):(this._events=new a,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=i,c.EventEmitter=c,t.exports=c},function(t,e,n){"use strict";function r(t,e,n){n=n||2;var r,s,u,c,l,p,f,g=e&&e.length,y=g?e[0]*n:t.length,v=i(t,0,y,n,!0),b=[];if(!v||v.next===v.prev)return b;if(g&&(v=function(t,e,n,r){var o,s,u,c,l,p=[];for(o=0,s=e.length;o<s;o++)u=e[o]*r,c=o<s-1?e[o+1]*r:t.length,(l=i(t,u,c,r,!1))===l.next&&(l.steiner=!0),p.push(m(l));for(p.sort(h),o=0;o<p.length;o++)n=a(n=d(p[o],n),n.next);return n}(t,e,v,n)),t.length>80*n){r=u=t[0],s=c=t[1];for(var _=n;_<y;_+=n)(l=t[_])<r&&(r=l),(p=t[_+1])<s&&(s=p),l>u&&(u=l),p>c&&(c=p);f=0!==(f=Math.max(u-r,c-s))?1/f:0}return o(v,b,n,r,s,f),b}function i(t,e,n,r,i){var a,o;if(i===k(t,e,n,r)>0)for(a=e;a<n;a+=r)o=M(a,t[a],t[a+1],o);else for(a=n-r;a>=e;a-=r)o=M(a,t[a],t[a+1],o);return o&&b(o,o.next)&&(E(o),o=o.next),o}function a(t,e){if(!t)return t;e||(e=t);var n,r=t;do{if(n=!1,r.steiner||!b(r,r.next)&&0!==v(r.prev,r,r.next))r=r.next;else{if(E(r),(r=e=r.prev)===r.next)break;n=!0}}while(n||r!==e);return e}function o(t,e,n,r,i,h,d){if(t){!d&&h&&function(t,e,n,r){var i=t;do{null===i.z&&(i.z=f(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,n,r,i,a,o,s,u,c=1;do{for(n=t,t=null,a=null,o=0;n;){for(o++,r=n,s=0,e=0;e<c&&(s++,r=r.nextZ);e++);for(u=c;s>0||u>0&&r;)0!==s&&(0===u||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,u--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;n=r}a.nextZ=null,c*=2}while(o>1)}(i)}(t,r,i,h);for(var p,m,g=t;t.prev!==t.next;)if(p=t.prev,m=t.next,h?u(t,r,i,h):s(t))e.push(p.i/n),e.push(t.i/n),e.push(m.i/n),E(t),t=m.next,g=m.next;else if((t=m)===g){d?1===d?o(t=c(a(t),e,n),e,n,r,i,h,2):2===d&&l(t,e,n,r,i,h):o(a(t),e,n,r,i,h,1);break}}}function s(t){var e=t.prev,n=t,r=t.next;if(v(e,n,r)>=0)return!1;for(var i=t.next.next;i!==t.prev;){if(g(e.x,e.y,n.x,n.y,r.x,r.y,i.x,i.y)&&v(i.prev,i,i.next)>=0)return!1;i=i.next}return!0}function u(t,e,n,r){var i=t.prev,a=t,o=t.next;if(v(i,a,o)>=0)return!1;for(var s=i.x<a.x?i.x<o.x?i.x:o.x:a.x<o.x?a.x:o.x,u=i.y<a.y?i.y<o.y?i.y:o.y:a.y<o.y?a.y:o.y,c=i.x>a.x?i.x>o.x?i.x:o.x:a.x>o.x?a.x:o.x,l=i.y>a.y?i.y>o.y?i.y:o.y:a.y>o.y?a.y:o.y,h=f(s,u,e,n,r),d=f(c,l,e,n,r),p=t.prevZ,m=t.nextZ;p&&p.z>=h&&m&&m.z<=d;){if(p!==t.prev&&p!==t.next&&g(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&v(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,m!==t.prev&&m!==t.next&&g(i.x,i.y,a.x,a.y,o.x,o.y,m.x,m.y)&&v(m.prev,m,m.next)>=0)return!1;m=m.nextZ}for(;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&g(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&&v(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;m&&m.z<=d;){if(m!==t.prev&&m!==t.next&&g(i.x,i.y,a.x,a.y,o.x,o.y,m.x,m.y)&&v(m.prev,m,m.next)>=0)return!1;m=m.nextZ}return!0}function c(t,e,n){var r=t;do{var i=r.prev,o=r.next.next;!b(i,o)&&_(i,r,r.next,o)&&S(i,o)&&S(o,i)&&(e.push(i.i/n),e.push(r.i/n),e.push(o.i/n),E(r),E(r.next),r=t=o),r=r.next}while(r!==t);return a(r)}function l(t,e,n,r,i,s){var u=t;do{for(var c=u.next.next;c!==u.prev;){if(u.i!==c.i&&y(u,c)){var l=T(u,c);return u=a(u,u.next),l=a(l,l.next),o(u,e,n,r,i,s),void o(l,e,n,r,i,s)}c=c.next}u=u.next}while(u!==t)}function h(t,e){return t.x-e.x}function d(t,e){var n=function(t,e){var n,r=e,i=t.x,a=t.y,o=-1/0;do{if(a<=r.y&&a>=r.next.y&&r.next.y!==r.y){var s=r.x+(a-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(s<=i&&s>o){if(o=s,s===i){if(a===r.y)return r;if(a===r.next.y)return r.next}n=r.x<r.next.x?r:r.next}}r=r.next}while(r!==e);if(!n)return null;if(i===o)return n;var u,c=n,l=n.x,h=n.y,d=1/0;r=n;do{i>=r.x&&r.x>=l&&i!==r.x&&g(a<h?i:o,a,l,h,a<h?o:i,a,r.x,r.y)&&(u=Math.abs(a-r.y)/(i-r.x),S(r,t)&&(u<d||u===d&&(r.x>n.x||r.x===n.x&&p(n,r)))&&(n=r,d=u)),r=r.next}while(r!==c);return n}(t,e);if(!n)return e;var r=T(n,t),i=a(n,n.next);return a(r,r.next),e===n?i:e}function p(t,e){return v(t.prev,t,e.prev)<0&&v(e.next,t,t.next)<0}function f(t,e,n,r,i){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*i)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-r)*i)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function m(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function g(t,e,n,r,i,a,o,s){return(i-o)*(e-s)-(t-o)*(a-s)>=0&&(t-o)*(r-s)-(n-o)*(e-s)>=0&&(n-o)*(a-s)-(i-o)*(r-s)>=0}function y(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&_(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&(S(t,e)&&S(e,t)&&function(t,e){var n=t,r=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do{n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==t);return r}(t,e)&&(v(t.prev,t,e.prev)||v(t,e.prev,e))||b(t,e)&&v(t.prev,t,t.next)>0&&v(e.prev,e,e.next)>0)}function v(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function b(t,e){return t.x===e.x&&t.y===e.y}function _(t,e,n,r){var i=x(v(t,e,n)),a=x(v(t,e,r)),o=x(v(n,r,t)),s=x(v(n,r,e));return i!==a&&o!==s||(!(0!==i||!w(t,n,e))||(!(0!==a||!w(t,r,e))||(!(0!==o||!w(n,t,r))||!(0!==s||!w(n,e,r)))))}function w(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function x(t){return t>0?1:t<0?-1:0}function S(t,e){return v(t.prev,t,t.next)<0?v(t,e,t.next)>=0&&v(t,t.prev,e)>=0:v(t,e,t.prev)<0||v(t,t.next,e)<0}function T(t,e){var n=new A(t.i,t.x,t.y),r=new A(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function M(t,e,n,r){var i=new A(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function E(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function A(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function k(t,e,n,r){for(var i=0,a=e,o=n-r;a<n;a+=r)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}n(127),t.exports=r,t.exports.default=r,r.deviation=function(t,e,n,r){var i=e&&e.length,a=i?e[0]*n:t.length,o=Math.abs(k(t,0,a,n));if(i)for(var s=0,u=e.length;s<u;s++){var c=e[s]*n,l=s<u-1?e[s+1]*n:t.length;o-=Math.abs(k(t,c,l,n))}var h=0;for(s=0;s<r.length;s+=3){var d=r[s]*n,p=r[s+1]*n,f=r[s+2]*n;h+=Math.abs((t[d]-t[f])*(t[p+1]-t[d+1])-(t[d]-t[p])*(t[f+1]-t[d+1]))}return 0===o&&0===h?0:Math.abs((h-o)/o)},r.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},r=0,i=0;i<t.length;i++){for(var a=0;a<t[i].length;a++)for(var o=0;o<e;o++)n.vertices.push(t[i][a][o]);i>0&&(r+=t[i-1].length,n.holes.push(r))}return n}},function(t,e,n){"use strict";var r=n(41),i=n(54),a=n(207),o=n(118),s=n(479),u=n(285),c=n(180),l=n(98),h=n(50),d=n(234),p=n(164),f=n(240);t.exports=function(t,e,n){var m=-1!==t.indexOf("Map"),g=-1!==t.indexOf("Weak"),y=m?"set":"add",v=i[t],b=v&&v.prototype,_=v,w={},x=function(t){var e=b[t];o(b,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!l(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!l(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(a(t,"function"!=typeof v||!(g||b.forEach&&!h((function(){(new v).entries().next()})))))_=n.getConstructor(e,t,m,y),s.REQUIRED=!0;else if(a(t,!0)){var S=new _,T=S[y](g?{}:-0,1)!=S,M=h((function(){S.has(1)})),E=d((function(t){new v(t)})),A=!g&&h((function(){for(var t=new v,e=5;e--;)t[y](e,e);return!t.has(-0)}));E||((_=e((function(e,n){c(e,_,t);var r=f(new v,e,_);return null!=n&&u(n,r[y],{that:r,AS_ENTRIES:m}),r}))).prototype=b,b.constructor=_),(M||A)&&(x("delete"),x("has"),m&&x("get")),(A||T)&&x(y),g&&b.clear&&delete b.clear}return w[t]=_,r({global:!0,forced:_!=v},w),p(_,t),g||n.setStrong(_,t,m),_}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(204),a=n(98),o=n(109),s=n(111).f,u=n(203),c=n(596),l=u("meta"),h=0,d=Object.isExtensible||function(){return!0},p=function(t){s(t,l,{value:{objectID:"O"+ ++h,weakData:{}}})},f=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!a(t))return"symbol"==r(t)?t:("string"==typeof t?"S":"P")+t;if(!o(t,l)){if(!d(t))return"F";if(!e)return"E";p(t)}return t[l].objectID},getWeakData:function(t,e){if(!o(t,l)){if(!d(t))return!0;if(!e)return!1;p(t)}return t[l].weakData},onFreeze:function(t){return c&&f.REQUIRED&&d(t)&&!o(t,l)&&p(t),t}};i[l]=!0},function(t,e,n){"use strict";var r=n(111).f,i=n(167),a=n(233),o=n(181),s=n(180),u=n(285),c=n(295),l=n(208),h=n(105),d=n(479).fastKey,p=n(137),f=p.set,m=p.getterFor;t.exports={getConstructor:function(t,e,n,c){var l=t((function(t,r){s(t,l,e),f(t,{type:e,index:i(null),first:void 0,last:void 0,size:0}),h||(t.size=0),null!=r&&u(r,t[c],{that:t,AS_ENTRIES:n})})),p=m(e),g=function(t,e,n){var r,i,a=p(t),o=y(t,e);return o?o.value=n:(a.last=o={index:i=d(e,!0),key:e,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),h?a.size++:t.size++,"F"!==i&&(a.index[i]=o)),t},y=function(t,e){var n,r=p(t),i=d(e);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==e)return n};return a(l.prototype,{clear:function(){for(var t=p(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,h?t.size=0:this.size=0},delete:function(t){var e=p(this),n=y(this,t);if(n){var r=n.next,i=n.previous;delete e.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),e.first==n&&(e.first=r),e.last==n&&(e.last=i),h?e.size--:this.size--}return!!n},forEach:function(t){for(var e,n=p(this),r=o(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(r(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!y(this,t)}}),a(l.prototype,n?{get:function(t){var e=y(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),h&&r(l.prototype,"size",{get:function(){return p(this).size}}),l},setStrong:function(t,e,n){var r=e+" Iterator",i=m(e),a=m(r);c(t,e,(function(t,e){f(this,{type:r,target:t,state:i(t),kind:e,last:void 0})}),(function(){for(var t=a(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(e)}}},function(t,e,n){"use strict";var r=n(105),i=n(50),a=n(213),o=n(284),s=n(231),u=n(113),c=n(206),l=Object.assign,h=Object.defineProperty;t.exports=!l||i((function(){if(r&&1!==l({b:1},l(h({},"a",{enumerable:!0,get:function(){h(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},n=Symbol();return t[n]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=l({},t)[n]||"abcdefghijklmnopqrst"!=a(l({},e)).join("")}))?function(t,e){for(var n=u(t),i=arguments.length,l=1,h=o.f,d=s.f;i>l;)for(var p,f=c(arguments[l++]),m=h?a(f).concat(h(f)):a(f),g=m.length,y=0;g>y;)p=m[y++],r&&!d.call(f,p)||(n[p]=f[p]);return n}:l},function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},function(t,e,n){"use strict";var r=n(54),i=n(105),a=n(482),o=n(125),s=n(233),u=n(50),c=n(180),l=n(144),h=n(97),d=n(484),p=n(609),f=n(193),m=n(192),g=n(179).f,y=n(111).f,v=n(301),b=n(164),_=n(137),w=_.get,x=_.set,S=r.ArrayBuffer,T=S,M=r.DataView,E=M&&M.prototype,A=Object.prototype,k=r.RangeError,C=p.pack,O=p.unpack,L=function(t){return[255&t]},R=function(t){return[255&t,t>>8&255]},P=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},D=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},I=function(t){return C(t,23,4)},B=function(t){return C(t,52,8)},N=function(t,e){y(t.prototype,e,{get:function(){return w(this)[e]}})},j=function(t,e,n,r){var i=d(n),a=w(t);if(i+e>a.byteLength)throw k("Wrong index");var o=w(a.buffer).bytes,s=i+a.byteOffset,u=o.slice(s,s+e);return r?u:u.reverse()},F=function(t,e,n,r,i,a){var o=d(n),s=w(t);if(o+e>s.byteLength)throw k("Wrong index");for(var u=w(s.buffer).bytes,c=o+s.byteOffset,l=r(+i),h=0;h<e;h++)u[c+h]=l[a?h:e-h-1]};if(a){if(!u((function(){S(1)}))||!u((function(){new S(-1)}))||u((function(){return new S,new S(1.5),new S(NaN),"ArrayBuffer"!=S.name}))){for(var U,Y=(T=function(t){return c(this,T),new S(d(t))}).prototype=S.prototype,G=g(S),H=0;G.length>H;)(U=G[H++])in T||o(T,U,S[U]);Y.constructor=T}m&&f(E)!==A&&m(E,A);var z=new M(new T(2)),V=E.setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||s(E,{setInt8:function(t,e){V.call(this,t,e<<24>>24)},setUint8:function(t,e){V.call(this,t,e<<24>>24)}},{unsafe:!0})}else T=function(t){c(this,T,"ArrayBuffer");var e=d(t);x(this,{bytes:v.call(new Array(e),0),byteLength:e}),i||(this.byteLength=e)},M=function(t,e,n){c(this,M,"DataView"),c(t,T,"DataView");var r=w(t).byteLength,a=l(e);if(a<0||a>r)throw k("Wrong offset");if(a+(n=void 0===n?r-a:h(n))>r)throw k("Wrong length");x(this,{buffer:t,byteLength:n,byteOffset:a}),i||(this.buffer=t,this.byteLength=n,this.byteOffset=a)},i&&(N(T,"byteLength"),N(M,"buffer"),N(M,"byteLength"),N(M,"byteOffset")),s(M.prototype,{getInt8:function(t){return j(this,1,t)[0]<<24>>24},getUint8:function(t){return j(this,1,t)[0]},getInt16:function(t){var e=j(this,2,t,arguments.length>1?arguments[1]:void 0);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=j(this,2,t,arguments.length>1?arguments[1]:void 0);return e[1]<<8|e[0]},getInt32:function(t){return D(j(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return D(j(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return O(j(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return O(j(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,e){F(this,1,t,L,e)},setUint8:function(t,e){F(this,1,t,L,e)},setInt16:function(t,e){F(this,2,t,R,e,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,e){F(this,2,t,R,e,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,e){F(this,4,t,P,e,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,e){F(this,4,t,P,e,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,e){F(this,4,t,I,e,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,e){F(this,8,t,B,e,arguments.length>2?arguments[2]:void 0)}});b(T,"ArrayBuffer"),b(M,"DataView"),t.exports={ArrayBuffer:T,DataView:M}},function(t,e,n){var r=n(144),i=n(97);t.exports=function(t){if(void 0===t)return 0;var e=r(t),n=i(e);if(e!==n)throw RangeError("Wrong length or index");return n}},function(t,e,n){var r=n(610);t.exports=function(t,e){var n=r(t);if(n%e)throw RangeError("Wrong offset");return n}},function(t,e,n){var r=n(165),i=n(113),a=n(206),o=n(97),s=function(t){return function(e,n,s,u){r(n);var c=i(e),l=a(c),h=o(c.length),d=t?h-1:0,p=t?-1:1;if(s<2)for(;;){if(d in l){u=l[d],d+=p;break}if(d+=p,t?d<0:h<=d)throw TypeError("Reduce of empty array with no initial value")}for(;t?d>=0:h>d;d+=p)d in l&&(u=n(u,l[d],d,c));return u}};t.exports={left:s(!1),right:s(!0)}},function(t,e,n){"use strict";n(15),n(5),n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(145),Object.defineProperty(e,"__esModule",{value:!0}),e.unpackArray=e.compressArray=void 0;var r=n(302);function i(t,e,n){var r=e.ranges[n],i=e.sizes[n];return(t-r.min)/i*65535}e.compressArray=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=r.getBounds(t,e),a=2*e+1+1,o=t.length/2+a;o+=o%1;for(var s=new Float32Array(o),u=new Uint16Array(s.buffer),c=0,l=0;l<t.length;l+=e)for(var h=0;h<e;h++)u[2*a+c]=i(t[c],n,h),c++;c=0,s[c++]=t.length,s[c++]=a-1-1;for(var d=0;d<e;d++)s[c++]=n.ranges[d].min,s[c++]=n.sizes[d];return u},e.unpackArray=function(t){var e=new Float32Array(t.buffer,0,2),n=0,r=e[n++],i=e[n++],a=[];e=new Float32Array(t.buffer,0,2+i);for(var o=0;o<i/2;o++)a[o]={min:e[n++],size:e[n++]};var s=a.length;n*=2;for(var u=0,c=new Float32Array(r),l=0;l<r;l+=s)for(var h=0;h<s;h++)c[u++]=t[n++]/65535*a[h].size+a[h].min;return c}},function(t,e,n){"use strict";n(15),n(5),n(145),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),Object.defineProperty(e,"__esModule",{value:!0}),e.unzipArray=e.zipArray=void 0;var r=n(617);e.zipArray=function(t){return r.deflate(t.buffer)},e.unzipArray=function(t){return new Uint16Array(r.inflate(t).buffer)}},function(t,e,n){"use strict";t.exports=function(t,e,n,r){for(var i=65535&t|0,a=t>>>16&65535|0,o=0;0!==n;){n-=o=n>2e3?2e3:n;do{a=a+(i=i+e[r++]|0)|0}while(--o);i%=65521,a%=65521}return i|a<<16|0}},function(t,e,n){"use strict";var r=function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var r=0;r<8;r++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}();t.exports=function(t,e,n,i){var a=r,o=i+n;t^=-1;for(var s=i;s<o;s++)t=t>>>8^a[255&(t^e[s])];return-1^t}},function(t,e,n){"use strict";var r=n(168),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(t){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(t){a=!1}for(var o=new r.Buf8(256),s=0;s<256;s++)o[s]=s>=252?6:s>=248?5:s>=240?4:s>=224?3:s>=192?2:1;function u(t,e){if(e<65534&&(t.subarray&&a||!t.subarray&&i))return String.fromCharCode.apply(null,r.shrinkBuf(t,e));for(var n="",o=0;o<e;o++)n+=String.fromCharCode(t[o]);return n}o[254]=o[254]=1,e.string2buf=function(t){var e,n,i,a,o,s=t.length,u=0;for(a=0;a<s;a++)55296==(64512&(n=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),u+=n<128?1:n<2048?2:n<65536?3:4;for(e=new r.Buf8(u),o=0,a=0;o<u;a++)55296==(64512&(n=t.charCodeAt(a)))&&a+1<s&&56320==(64512&(i=t.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?e[o++]=n:n<2048?(e[o++]=192|n>>>6,e[o++]=128|63&n):n<65536?(e[o++]=224|n>>>12,e[o++]=128|n>>>6&63,e[o++]=128|63&n):(e[o++]=240|n>>>18,e[o++]=128|n>>>12&63,e[o++]=128|n>>>6&63,e[o++]=128|63&n);return e},e.buf2binstring=function(t){return u(t,t.length)},e.binstring2buf=function(t){for(var e=new r.Buf8(t.length),n=0,i=e.length;n<i;n++)e[n]=t.charCodeAt(n);return e},e.buf2string=function(t,e){var n,r,i,a,s=e||t.length,c=new Array(2*s);for(r=0,n=0;n<s;)if((i=t[n++])<128)c[r++]=i;else if((a=o[i])>4)c[r++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&n<s;)i=i<<6|63&t[n++],a--;a>1?c[r++]=65533:i<65536?c[r++]=i:(i-=65536,c[r++]=55296|i>>10&1023,c[r++]=56320|1023&i)}return u(c,r)},e.utf8border=function(t,e){var n;for((e=e||t.length)>t.length&&(e=t.length),n=e-1;n>=0&&128==(192&t[n]);)n--;return n<0||0===n?e:n+o[t[n]]>e?n:e}},function(t,e,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(t,e,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(t,e,n){"use strict";n(15),n(5),n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),Object.defineProperty(e,"__esModule",{value:!0}),e.transformMat4=e.multiplyMat4=e.createMat4=void 0,e.createMat4=function(){return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},e.multiplyMat4=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=e[3],s=e[4],u=e[5],c=e[6],l=e[7],h=e[8],d=e[9],p=e[10],f=e[11],m=e[12],g=e[13],y=e[14],v=e[15],b=n[0],_=n[1],w=n[2],x=n[3];return t[0]=b*r+_*s+w*h+x*m,t[1]=b*i+_*u+w*d+x*g,t[2]=b*a+_*c+w*p+x*y,t[3]=b*o+_*l+w*f+x*v,b=n[4],_=n[5],w=n[6],x=n[7],t[4]=b*r+_*s+w*h+x*m,t[5]=b*i+_*u+w*d+x*g,t[6]=b*a+_*c+w*p+x*y,t[7]=b*o+_*l+w*f+x*v,b=n[8],_=n[9],w=n[10],x=n[11],t[8]=b*r+_*s+w*h+x*m,t[9]=b*i+_*u+w*d+x*g,t[10]=b*a+_*c+w*p+x*y,t[11]=b*o+_*l+w*f+x*v,b=n[12],_=n[13],w=n[14],x=n[15],t[12]=b*r+_*s+w*h+x*m,t[13]=b*i+_*u+w*d+x*g,t[14]=b*a+_*c+w*p+x*y,t[15]=b*o+_*l+w*f+x*v,t},e.transformMat4=function(t,e,n){var r=e[0],i=e[1],a=e[2],o=n[3]*r+n[7]*i+n[11]*a+n[15];return o=o||1,t[0]=(n[0]*r+n[4]*i+n[8]*a+n[12])/o,t[1]=(n[1]*r+n[5]*i+n[9]*a+n[13])/o,t[2]=(n[2]*r+n[6]*i+n[10]*a+n[14])/o,t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformPositions=void 0,e.transformPositions=function(t,e){for(var n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],u=e[6],c=e[7],l=e[8],h=e[9],d=e[10],p=e[11],f=e[12],m=e[13],g=e[14],y=e[15],v=0;v<t.length;v+=3){var b=t[v],_=t[v+1],w=t[v+2],x=a*b+c*_+p*w+y;x=x||1,t[v]=(n*b+o*_+l*w+f)/x,t[v+1]=(r*b+s*_+h*w+m)/x,t[v+2]=(i*b+u*_+d*w+g)/x}}},function(t,e,n){n(183)("Int16",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){n(183)("Uint32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){var r=n(120),i="["+n(499)+"]",a=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$"),s=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(a,"")),2&t&&(n=n.replace(o,"")),n}};t.exports={start:s(1),end:s(2),trim:s(3)}},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,n){n(41)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,n){"use strict";var r,i=n(41),a=n(138).f,o=n(97),s=n(296),u=n(120),c=n(297),l=n(152),h="".startsWith,d=Math.min,p=c("startsWith");i({target:"String",proto:!0,forced:!!(l||p||(r=a(String.prototype,"startsWith"),!r||r.writable))&&!p},{startsWith:function(t){var e=String(u(this));s(t);var n=o(d(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return h?h.call(e,r,n):e.slice(n,n+r.length)===r}})},function(t,e,n){var r=n(105),i=n(213),a=n(131),o=n(231).f,s=function(t){return function(e){for(var n,s=a(e),u=i(s),c=u.length,l=0,h=[];c>l;)n=u[l++],r&&!o.call(s,n)||h.push(t?[n,s[n]]:s[n]);return h}};t.exports={entries:s(!0),values:s(!1)}},function(t,e,n){var r=n(41),i=n(98),a=n(102),o=n(109),s=n(138),u=n(193);r({target:"Reflect",stat:!0},{get:function t(e,n){var r,c,l=arguments.length<3?e:arguments[2];return a(e)===l?e[n]:(r=s.f(e,n))?o(r,"value")?r.value:void 0===r.get?void 0:r.get.call(l):i(c=u(e))?t(c,n,l):void 0}})},function(t,e,n){var r;void 0===(r=function(t,e,r){var i=n(441),a=n(662),o=n(246),s=n(664),u=function(){this.staticItems=new s,this.kinimaticItems=new i,this.dynamicItems=new i,this.collisions=[],this.narrowPhase=new a,this.dt=1,this.collisionKeys={},this.DEBUG=!1};u.prototype.init=function(t){},u.prototype.preupdate=function(){},u.prototype.add=function(t){t.body&&(this.DEBUG&&(t._debugView||(t._debugView=t.body.getDebugView(),t._debugView.alpha=.5,t.view&&t.view.addChild(t._debugView))),t.body.type===o.STATIC?this.staticItems.add(t):t.body.type===o.KINIMATIC?this.kinimaticItems.add(t):t.body.type===o.DYNAMIC&&this.dynamicItems.add(t))},u.prototype.remove=function(t){t.body&&(t.body.type===o.STATIC?this.staticItems.remove(t):t.body.type===o.KINIMATIC?this.kinimaticItems.remove(t):t.body.type===o.DYNAMIC&&this.dynamicItems.remove(t))},u.prototype.update=function(){for(var t=this.getCollisions(),e=0;e<this.dynamicItems.children.length;e++)this.dynamicItems.children[e].body.update(this.dt);this.narrowPhase.hitTest(t)},u.prototype.postupdate=function(t){},u.prototype.reset=function(){this.staticItems.empty(),this.kinimaticItems.empty(),this.dynamicItems.empty(),this.collisions.length=0,this.narrowPhase.reset()},u.prototype.onCollision=function(t,e){},u.prototype.getKey=function(t,e){return(t<<12)+e},u.prototype.registerCollison=function(t,e){this.collisionKeys[this.getKey(t,e)]=!0,this.collisionKeys[this.getKey(e,t)]=!0},u.prototype.getCollisions=function(){this.collisions.length=0;var t=this.dynamicItems.children;this.sortAxisList(t);for(var e=0;e<t.length;e++)for(var n=t[e],r=n.body.position.x+n.body.shape.x+n.body.shape.width+5,i=e+1;i<t.length;i++){var a=t[i];if(r<=a.body.position.x+a.body.shape.x-5)break;var o=!0,s=this.getKey(a.type,n.type);this.collisionKeys[s]&&a.canCollide&&n.canCollide||(o=!1),o&&this.collisions.push(n,a)}for(e=0;e<this.dynamicItems.children.length;e++){var u=this.dynamicItems.children[e],c=this.staticItems.retrieveArea(u);for(i=0;i<c.length;i++){(l=c[i]).canCollide&&u.canCollide&&this.collisions.push(u,l)}}for(e=0;e<this.dynamicItems.children.length;e++)for(i=0;i<this.kinimaticItems.children.length;i++){u=this.dynamicItems.children[e];var l=this.kinimaticItems.children[i];o=!0,s=this.getKey(l.type,u.type);this.collisionKeys[s]&&u.canCollide&&l.canCollide||(o=!1),o&&(u.debug,this.collisions.push(u,l))}return this.collisions},u.prototype.sortAxisList=function(t){for(var e=1,n=t.length;e<n;e++){for(var r=t[e],i=e-1;i>=0;i--){var a=t[i];if(a.body.shape.x+a.body.position.x<=r.body.shape.x+r.body.position.x)break;t[i+1]=t[i]}t[i+1]=r}return t},u.prototype.castRay=function(t,e){},u.prototype.constrainToBounds=function(){for(var t=this.bounds,e=0;e<this.dynamicItems.children.length;e++){var n=this.dynamicItems.children[e].body;n.position.x+n.shape.x<t.x?n.position.x=t.x+n.shape.x:n.position.x+n.shape.x+n.shape.width>t.x+t.width&&(n.position.x=t.x+t.width-(n.shape.x+n.shape.width)),n.position.y+n.shape.y<t.y?n.position.y=t.y+n.shape.y:n.position.y+n.shape.y+n.shape.height>t.y+t.height&&(n.position.y=t.y+t.height-(n.shape.y+n.shape.height),this.dynamicItems.children[e].onGround=!0)}},u.prototype.setBounds=function(t){this.bounds.x=t.x,this.bounds.y=t.y,this.bounds.width=t.width,this.bounds.height=t.height},r.exports=u}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t,e,n){var r=function(t,e,n,r,i){this.object1=t,this.object2=e,this.penetration=n,this.projection=r,this.ignore=i||!1,this._key=null,this._tickId=null};r.prototype.getOtherObject=function(t){return t===this.object1?this.object2:this.object1},r.pool=[],n.exports=r}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){n(41)({target:"String",proto:!0},{repeat:n(508)})},function(t,e,n){"use strict";var r=n(144),i=n(120);t.exports=function(t){var e=String(i(this)),n="",a=r(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(n+=e);return n}},function(t,e,n){var r=n(50),i=n(86),a=n(152),o=i("iterator");t.exports=!r((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,n="";return t.pathname="c%20d",e.forEach((function(t,r){e.delete("b"),n+=r+t})),a&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[o]||"a"!==new URL("a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash||"a1c3"!==n||"x"!==new URL("http://x",void 0).host}))},function(t,e,n){"use strict";n(15);var r=n(41),i=n(153),a=n(509),o=n(118),s=n(233),u=n(164),c=n(468),l=n(137),h=n(180),d=n(109),p=n(181),f=n(205),m=n(102),g=n(98),y=n(167),v=n(177),b=n(670),_=n(210),w=n(86),x=i("fetch"),S=i("Headers"),T=w("iterator"),M=l.set,E=l.getterFor("URLSearchParams"),A=l.getterFor("URLSearchParamsIterator"),k=/\+/g,C=Array(4),O=function(t){return C[t-1]||(C[t-1]=RegExp("((?:%[\\da-f]{2}){"+t+"})","gi"))},L=function(t){try{return decodeURIComponent(t)}catch(e){return t}},R=function(t){var e=t.replace(k," "),n=4;try{return decodeURIComponent(e)}catch(t){for(;n;)e=e.replace(O(n--),L);return e}},P=/[!'()~]|%20/g,D={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},I=function(t){return D[t]},B=function(t){return encodeURIComponent(t).replace(P,I)},N=function(t,e){if(e)for(var n,r,i=e.split("&"),a=0;a<i.length;)(n=i[a++]).length&&(r=n.split("="),t.push({key:R(r.shift()),value:R(r.join("="))}))},j=function(t){this.entries.length=0,N(this.entries,t)},F=function(t,e){if(t<e)throw TypeError("Not enough arguments")},U=c((function(t,e){M(this,{type:"URLSearchParamsIterator",iterator:b(E(t).entries),kind:e})}),"Iterator",(function(){var t=A(this),e=t.kind,n=t.iterator.next(),r=n.value;return n.done||(n.value="keys"===e?r.key:"values"===e?r.value:[r.key,r.value]),n})),Y=function(){h(this,Y,"URLSearchParams");var t,e,n,r,i,a,o,s,u,c=arguments.length>0?arguments[0]:void 0,l=this,p=[];if(M(l,{type:"URLSearchParams",entries:p,updateURL:function(){},updateSearchParams:j}),void 0!==c)if(g(c))if("function"==typeof(t=_(c)))for(n=(e=t.call(c)).next;!(r=n.call(e)).done;){if((o=(a=(i=b(m(r.value))).next).call(i)).done||(s=a.call(i)).done||!a.call(i).done)throw TypeError("Expected sequence with length 2");p.push({key:o.value+"",value:s.value+""})}else for(u in c)d(c,u)&&p.push({key:u,value:c[u]+""});else N(p,"string"==typeof c?"?"===c.charAt(0)?c.slice(1):c:c+"")},G=Y.prototype;s(G,{append:function(t,e){F(arguments.length,2);var n=E(this);n.entries.push({key:t+"",value:e+""}),n.updateURL()},delete:function(t){F(arguments.length,1);for(var e=E(this),n=e.entries,r=t+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;e.updateURL()},get:function(t){F(arguments.length,1);for(var e=E(this).entries,n=t+"",r=0;r<e.length;r++)if(e[r].key===n)return e[r].value;return null},getAll:function(t){F(arguments.length,1);for(var e=E(this).entries,n=t+"",r=[],i=0;i<e.length;i++)e[i].key===n&&r.push(e[i].value);return r},has:function(t){F(arguments.length,1);for(var e=E(this).entries,n=t+"",r=0;r<e.length;)if(e[r++].key===n)return!0;return!1},set:function(t,e){F(arguments.length,1);for(var n,r=E(this),i=r.entries,a=!1,o=t+"",s=e+"",u=0;u<i.length;u++)(n=i[u]).key===o&&(a?i.splice(u--,1):(a=!0,n.value=s));a||i.push({key:o,value:s}),r.updateURL()},sort:function(){var t,e,n,r=E(this),i=r.entries,a=i.slice();for(i.length=0,n=0;n<a.length;n++){for(t=a[n],e=0;e<n;e++)if(i[e].key>t.key){i.splice(e,0,t);break}e===n&&i.push(t)}r.updateURL()},forEach:function(t){for(var e,n=E(this).entries,r=p(t,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((e=n[i++]).value,e.key,this)},keys:function(){return new U(this,"keys")},values:function(){return new U(this,"values")},entries:function(){return new U(this,"entries")}},{enumerable:!0}),o(G,T,G.entries),o(G,"toString",(function(){for(var t,e=E(this).entries,n=[],r=0;r<e.length;)t=e[r++],n.push(B(t.key)+"="+B(t.value));return n.join("&")}),{enumerable:!0}),u(Y,"URLSearchParams"),r({global:!0,forced:!a},{URLSearchParams:Y}),a||"function"!=typeof x||"function"!=typeof S||r({global:!0,enumerable:!0,forced:!0},{fetch:function(t){var e,n,r,i=[t];return arguments.length>1&&(g(e=arguments[1])&&(n=e.body,"URLSearchParams"===f(n)&&((r=e.headers?new S(e.headers):new S).has("content-type")||r.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),e=y(e,{body:v(0,String(n)),headers:v(0,r)}))),i.push(e)),x.apply(this,i)}}),t.exports={URLSearchParams:Y,getState:E}},function(t,e,n){"use strict";(function(t){n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(19),n(588),n(87);var r=n(512),i=n(513);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=setTimeout,s=void 0!==t?t:null;function u(t){return Boolean(t&&void 0!==t.length)}function c(){}function l(t){if(!(this instanceof l))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(t,this)}function h(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,l._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void p(e.promise,t)}d(e.promise,r)}else(1===t._state?d:p)(e.promise,t._value)}))):t._deferreds.push(e)}function d(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===a(e)||"function"==typeof e)){var n=e.then;if(e instanceof l)return t._state=3,t._value=e,void f(t);if("function"==typeof n)return void g((r=n,i=e,function(){r.apply(i,arguments)}),t)}t._state=1,t._value=e,f(t)}catch(e){p(t,e)}var r,i}function p(t,e){t._state=2,t._value=e,f(t)}function f(t){2===t._state&&0===t._deferreds.length&&l._immediateFn((function(){t._handled||l._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)h(t,t._deferreds[e]);t._deferreds=null}function m(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function g(t,e){var n=!1;try{t((function(t){n||(n=!0,d(e,t))}),(function(t){n||(n=!0,p(e,t))}))}catch(t){if(n)return;n=!0,p(e,t)}}l.prototype.catch=function(t){return this.then(null,t)},l.prototype.then=function(t,e){var n=new this.constructor(c);return h(this,new m(t,e,n)),n},l.prototype.finally=r.a,l.all=function(t){return new l((function(e,n){if(!u(t))return n(new TypeError("Promise.all accepts an array"));var r=Array.prototype.slice.call(t);if(0===r.length)return e([]);var i=r.length;function o(t,s){try{if(s&&("object"===a(s)||"function"==typeof s)){var u=s.then;if("function"==typeof u)return void u.call(s,(function(e){o(t,e)}),n)}r[t]=s,0==--i&&e(r)}catch(t){n(t)}}for(var s=0;s<r.length;s++)o(s,r[s])}))},l.allSettled=i.a,l.resolve=function(t){return t&&"object"===a(t)&&t.constructor===l?t:new l((function(e){e(t)}))},l.reject=function(t){return new l((function(e,n){n(t)}))},l.race=function(t){return new l((function(e,n){if(!u(t))return n(new TypeError("Promise.race accepts an array"));for(var r=0,i=t.length;r<i;r++)l.resolve(t[r]).then(e,n)}))},l._immediateFn="function"==typeof s&&function(t){s(t)}||function(t){o(t,0)},l._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console},e.a=l}).call(this,n(586).setImmediate)},function(t,e,n){"use strict";e.a=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}},function(t,e,n){"use strict";n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(87);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}e.a=function(t){return new this((function(e,n){if(!t||void 0===t.length)return n(new TypeError(r(t)+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var a=i.length;function o(t,n){if(n&&("object"===r(n)||"function"==typeof n)){var s=n.then;if("function"==typeof s)return void s.call(n,(function(e){o(t,e)}),(function(n){i[t]={status:"rejected",reason:n},0==--a&&e(i)}))}i[t]={status:"fulfilled",value:n},0==--a&&e(i)}for(var s=0;s<i.length;s++)o(s,i[s])}))}},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;function o(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,u=o(t),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))i.call(n,l)&&(u[l]=n[l]);if(r){s=r(n);for(var h=0;h<s.length;h++)a.call(n,s[h])&&(u[s[h]]=n[s[h]])}}return u}},function(t,e,n){var r,i,a;function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}a=function(){function t(t){var e=[];if(0===t.length)return"";if("string"!=typeof t[0])throw new TypeError("Url must be a string. Received "+t[0]);if(t[0].match(/^[^/:]+:\/*$/)&&t.length>1){var n=t.shift();t[0]=n+t[0]}t[0].match(/^file:\/\/\//)?t[0]=t[0].replace(/^([^/:]+):\/*/,"$1:///"):t[0]=t[0].replace(/^([^/:]+):\/*/,"$1://");for(var r=0;r<t.length;r++){var i=t[r];if("string"!=typeof i)throw new TypeError("Url must be a string. Received "+i);""!==i&&(r>0&&(i=i.replace(/^[\/]+/,"")),i=r<t.length-1?i.replace(/[\/]+$/,""):i.replace(/[\/]+$/,"/"),e.push(i))}var a=e.join("/"),o=(a=a.replace(/\/(\?|&|#[^!])/g,"$1")).split("?");return a=o.shift()+(o.length>0?"?":"")+o.join("&")}return function(){return t("object"===o(arguments[0])?arguments[0]:[].slice.call(arguments))}},t.exports?t.exports=a():void 0===(i="function"==typeof(r=a)?r.call(e,n,e,t):r)||(t.exports=i)},function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.dedupeGeometry=e.batchGeometry=e.flattenScene=e.transformUvs=e.transformPositions=e.mergeGBObjects=e.mergePrimitives=e.unpackGBObject=e.compressGBObject=e.objToGbParser=e.gltfToGbParser=void 0;var a=n(607);Object.defineProperty(e,"batchGeometry",{enumerable:!0,get:function(){return a.batchGeometry}});var o=n(615);Object.defineProperty(e,"compressGBObject",{enumerable:!0,get:function(){return o.compressGBObject}});var s=n(626);Object.defineProperty(e,"dedupeGeometry",{enumerable:!0,get:function(){return s.dedupeGeometry}});var u=n(627);Object.defineProperty(e,"flattenScene",{enumerable:!0,get:function(){return u.flattenScene}});var c=n(628);Object.defineProperty(e,"gltfToGbParser",{enumerable:!0,get:function(){return c.gltfToGbParser}});var l=n(639);Object.defineProperty(e,"objToGbParser",{enumerable:!0,get:function(){return l.objToGbParser}});var h=n(642);Object.defineProperty(e,"mergeGBObjects",{enumerable:!0,get:function(){return h.mergeGBObjects}});var d=n(300);Object.defineProperty(e,"mergePrimitives",{enumerable:!0,get:function(){return d.mergePrimitives}});var p=n(495);Object.defineProperty(e,"transformPositions",{enumerable:!0,get:function(){return p.transformPositions}});var f=n(643);Object.defineProperty(e,"transformUvs",{enumerable:!0,get:function(){return f.transformUvs}});var m=n(644);Object.defineProperty(e,"unpackGBObject",{enumerable:!0,get:function(){return m.unpackGBObject}}),i(n(647),e)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l})),n.d(e,"b",(function(){return p}));n(51),n(15),n(5),n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78);var r=n(0),i=n(93),a=n(36),o=n(101),s=n(448),u=n(268);function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l,h=new a.a(0,0,-1),d={0:0,1:0,2:0};!function(t){t[t.DIRECTIONAL=0]="DIRECTIONAL",t[t.POINT=1]="POINT",t[t.SPOTLIGHT=2]="SPOTLIGHT"}(l||(l={}));var p=function(){function t(e,n){var r,c;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._rotationMatrix=new i.a,this.entity=e,this.type=null!==(r=n.type)&&void 0!==r?r:l.DIRECTIONAL,this.lightId="".concat(this.type,"_").concat(d[this.type]++),this._color=new Float32Array(3),this._hexColor=0,this.dirty=!1,this.color=null!==(c=n.color)&&void 0!==c?c:16777215,this.intensity=void 0===n.intensity?1:n.intensity,this.output=new Float32Array(3),-1===e.groups.indexOf("_lights")&&e.groups.push("_lights"),this.direction=new a.a,this._dirtyTransformId=-1,this.distance=n.distance||500,this.position=new a.a(1,-400,1),this.limit=new Float32Array([0,0]),n.debug){var h=new s.a(1),p=new u.a({color:this.color,useLights:!1});n.debug=new o.a({geometry:h,material:p});var f=new o.a({geometry:h,material:p});n.debug.addChild(f),f.z=-1,f.scale.set(.5),e.addChild(n.debug)}this.radius=n.radius||Math.PI/4,void 0===n.softness?this.softness=.5:this.softness=n.softness}var e,n,p;return e=t,(n=[{key:"render",value:function(){if(this.entity.transform.worldID!==this._dirtyTransformId){this._dirtyTransformId=this.entity.transform.worldID;var t=this.direction,e=this.entity.transform.extractRotation(this._rotationMatrix);t.copy(h).applyMatrix4(e),this.entity.transform.extractPosition(this.position)}if(this.dirty){this.dirty=!1;var n=this.output,r=this._color,i=this.limit,a=this._intensity;n[0]=Math.pow(r[0]*a,2.2),n[1]=Math.pow(r[1]*a,2.2),n[2]=Math.pow(r[2]*a,2.2),i[0]=Math.cos((1-this.softness)*this.radius),i[1]=Math.cos(this.radius)}}},{key:"extractData",value:function(){return{distance:this.distance,color:this.color,type:this.type,intensity:this.intensity,softness:this.softness,radius:this.radius}}},{key:"init",value:function(t){for(var e in t)this[e]=t[e]}},{key:"radius",get:function(){return this._radius},set:function(t){this._radius=t,this.dirty=!0}},{key:"softness",get:function(){return this._softness},set:function(t){this._softness=t,this.dirty=!0}},{key:"color",get:function(){return this._hexColor},set:function(t){this._hexColor!==t&&(this._hexColor=t,r.utils.hex2rgb(t,this._color),this.dirty=!0)}},{key:"intensity",get:function(){return this._intensity},set:function(t){this._intensity!==t&&(this._intensity=t,this.dirty=!0)}}])&&c(e.prototype,n),p&&c(e,p),Object.defineProperty(e,"prototype",{writable:!1}),t}();p.DEFAULT_NAME="light"},function(t,e,n){(function(t){var r;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(51),n(38),n(92),n(106),function(a,o){"use strict";var s="model",u="name",c="type",l="vendor",h="version",d="mobile",p="tablet",f="smarttv",m=function(t){for(var e={},n=0;n<t.length;n++)e[t[n].toUpperCase()]=t[n];return e},g=function(t,e){return"string"===i(t)&&-1!==y(e).indexOf(y(t))},y=function(t){return t.toLowerCase()},v=function(t,e){if("string"===i(t))return t=t.replace(/^\s\s*/,"").replace(/\s\s*$/,""),"undefined"===i(e)?t:t.substring(0,255)},b=function(t,e){for(var n,r,a,o,s,u,c=0;c<e.length&&!s;){var l=e[c],h=e[c+1];for(n=r=0;n<l.length&&!s;)if(s=l[n++].exec(t))for(a=0;a<h.length;a++)u=s[++r],"object"===i(o=h[a])&&o.length>0?2===o.length?"function"==i(o[1])?this[o[0]]=o[1].call(this,u):this[o[0]]=o[1]:3===o.length?"function"!==i(o[1])||o[1].exec&&o[1].test?this[o[0]]=u?u.replace(o[1],o[2]):void 0:this[o[0]]=u?o[1].call(this,u,o[2]):void 0:4===o.length&&(this[o[0]]=u?o[3].call(this,u.replace(o[1],o[2])):void 0):this[o]=u||void 0;c+=2}},_=function(t,e){for(var n in e)if("object"===i(e[n])&&e[n].length>0){for(var r=0;r<e[n].length;r++)if(g(e[n][r],t))return"?"===n?void 0:n}else if(g(e[n],t))return"?"===n?void 0:n;return t},w={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},x={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[h,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[h,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,h],[/opios[\/ ]+([\w\.]+)/i],[h,[u,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[h,[u,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,h],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[h,[u,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[h,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[h,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[h,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[h,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[h,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure Browser"],h],[/\bfocus\/([\w\.]+)/i],[h,[u,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[h,[u,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[h,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[h,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[h,[u,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[h,[u,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[h,[u,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 Browser"],h],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],h],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,h],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,"Facebook"],h],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,h],[/\bgsa\/([\w\.]+) .*safari\//i],[h,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[h,[u,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,"Chrome WebView"],h],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[h,[u,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,h],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[h,[u,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[h,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[h,_,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,h],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],h],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[h,[u,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[u,h]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",y]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows (ce|mobile); ppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[["architecture",/ower/,"",y]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",y]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[s,[l,"Samsung"],[c,p]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[s,[l,"Samsung"],[c,d]],[/\((ip(?:hone|od)[\w ]*);/i],[s,[l,"Apple"],[c,d]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[s,[l,"Apple"],[c,p]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[s,[l,"Huawei"],[c,p]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[s,[l,"Huawei"],[c,d]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[s,/_/g," "],[l,"Xiaomi"],[c,d]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[s,/_/g," "],[l,"Xiaomi"],[c,p]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[s,[l,"OPPO"],[c,d]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[s,[l,"Vivo"],[c,d]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[s,[l,"Realme"],[c,d]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[s,[l,"Motorola"],[c,d]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[s,[l,"Motorola"],[c,p]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[s,[l,"LG"],[c,p]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[s,[l,"LG"],[c,d]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[s,[l,"Lenovo"],[c,p]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[s,/_/g," "],[l,"Nokia"],[c,d]],[/(pixel c)\b/i],[s,[l,"Google"],[c,p]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[s,[l,"Google"],[c,d]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[s,[l,"Sony"],[c,d]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[s,"Xperia Tablet"],[l,"Sony"],[c,p]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[s,[l,"OnePlus"],[c,d]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[s,[l,"Amazon"],[c,p]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[s,/(.+)/g,"Fire Phone $1"],[l,"Amazon"],[c,d]],[/(playbook);[-\w\),; ]+(rim)/i],[s,l,[c,p]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[s,[l,"BlackBerry"],[c,d]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[s,[l,"ASUS"],[c,p]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[s,[l,"ASUS"],[c,d]],[/(nexus 9)/i],[s,[l,"HTC"],[c,p]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[l,[s,/_/g," "],[c,d]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[s,[l,"Acer"],[c,p]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[s,[l,"Meizu"],[c,d]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[s,[l,"Sharp"],[c,d]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[l,s,[c,d]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[l,s,[c,p]],[/(surface duo)/i],[s,[l,"Microsoft"],[c,p]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[s,[l,"Fairphone"],[c,d]],[/(u304aa)/i],[s,[l,"AT&T"],[c,d]],[/\bsie-(\w*)/i],[s,[l,"Siemens"],[c,d]],[/\b(rct\w+) b/i],[s,[l,"RCA"],[c,p]],[/\b(venue[\d ]{2,7}) b/i],[s,[l,"Dell"],[c,p]],[/\b(q(?:mv|ta)\w+) b/i],[s,[l,"Verizon"],[c,p]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[s,[l,"Barnes & Noble"],[c,p]],[/\b(tm\d{3}\w+) b/i],[s,[l,"NuVision"],[c,p]],[/\b(k88) b/i],[s,[l,"ZTE"],[c,p]],[/\b(nx\d{3}j) b/i],[s,[l,"ZTE"],[c,d]],[/\b(gen\d{3}) b.+49h/i],[s,[l,"Swiss"],[c,d]],[/\b(zur\d{3}) b/i],[s,[l,"Swiss"],[c,p]],[/\b((zeki)?tb.*\b) b/i],[s,[l,"Zeki"],[c,p]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[l,"Dragon Touch"],s,[c,p]],[/\b(ns-?\w{0,9}) b/i],[s,[l,"Insignia"],[c,p]],[/\b((nxa|next)-?\w{0,9}) b/i],[s,[l,"NextBook"],[c,p]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[l,"Voice"],s,[c,d]],[/\b(lvtel\-)?(v1[12]) b/i],[[l,"LvTel"],s,[c,d]],[/\b(ph-1) /i],[s,[l,"Essential"],[c,d]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[s,[l,"Envizen"],[c,p]],[/\b(trio[-\w\. ]+) b/i],[s,[l,"MachSpeed"],[c,p]],[/\btu_(1491) b/i],[s,[l,"Rotor"],[c,p]],[/(shield[\w ]+) b/i],[s,[l,"Nvidia"],[c,p]],[/(sprint) (\w+)/i],[l,s,[c,d]],[/(kin\.[onetw]{3})/i],[[s,/\./g," "],[l,"Microsoft"],[c,d]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[s,[l,"Zebra"],[c,p]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[s,[l,"Zebra"],[c,d]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[l,s,[c,"console"]],[/droid.+; (shield) bui/i],[s,[l,"Nvidia"],[c,"console"]],[/(playstation [345portablevi]+)/i],[s,[l,"Sony"],[c,"console"]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[s,[l,"Microsoft"],[c,"console"]],[/smart-tv.+(samsung)/i],[l,[c,f]],[/hbbtv.+maple;(\d+)/i],[[s,/^/,"SmartTV"],[l,"Samsung"],[c,f]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[l,"LG"],[c,f]],[/(apple) ?tv/i],[l,[s,"Apple TV"],[c,f]],[/crkey/i],[[s,"Chromecast"],[l,"Google"],[c,f]],[/droid.+aft(\w)( bui|\))/i],[s,[l,"Amazon"],[c,f]],[/\(dtv[\);].+(aquos)/i],[s,[l,"Sharp"],[c,f]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[l,v],[s,v],[c,f]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[c,f]],[/((pebble))app/i],[l,s,[c,"wearable"]],[/droid.+; (glass) \d/i],[s,[l,"Google"],[c,"wearable"]],[/droid.+; (wt63?0{2,3})\)/i],[s,[l,"Zebra"],[c,"wearable"]],[/(quest( 2)?)/i],[s,[l,"Facebook"],[c,"wearable"]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[l,[c,"embedded"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[s,[c,d]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[s,[c,p]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[c,p]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[c,d]],[/(android[-\w\. ]{0,9});.+buil/i],[s,[l,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[h,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[h,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[u,h],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[h,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,h],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[h,_,w]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[h,_,w]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[h,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,"Mac OS"],[h,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[h,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,h],[/\(bb(10);/i],[h,[u,"BlackBerry"]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[h,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[h,[u,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[h,[u,"webOS"]],[/crkey\/([\d\.]+)/i],[h,[u,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[u,"Chromium OS"],h],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,h],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],h],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[u,h]]},S=function t(e,n){if("object"===i(e)&&(n=e,e=void 0),!(this instanceof t))return new t(e,n).getResult();var r=e||("undefined"!==i(a)&&a.navigator&&a.navigator.userAgent?a.navigator.userAgent:""),o=n?function(t,e){var n={};for(var r in t)e[r]&&e[r].length%2==0?n[r]=e[r].concat(t[r]):n[r]=t[r];return n}(x,n):x;return this.getBrowser=function(){var t,e={};return e[u]=void 0,e[h]=void 0,b.call(e,r,o.browser),e.major="string"===i(t=e.version)?t.replace(/[^\d\.]/g,"").split(".")[0]:void 0,e},this.getCPU=function(){var t={architecture:void 0};return b.call(t,r,o.cpu),t},this.getDevice=function(){var t={vendor:void 0,model:void 0,type:void 0};return b.call(t,r,o.device),t},this.getEngine=function(){var t={name:void 0,version:void 0};return b.call(t,r,o.engine),t},this.getOS=function(){var t={name:void 0,version:void 0};return b.call(t,r,o.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(t){return r="string"===i(t)&&t.length>255?v(t,255):t,this},this.setUA(r),this};S.VERSION="0.7.31",S.BROWSER=m([u,h,"major"]),S.CPU=m(["architecture"]),S.DEVICE=m([s,l,c,"console",d,f,p,"wearable","embedded"]),S.ENGINE=S.OS=m([u,h]),"undefined"!==i(e)?("undefined"!==i(t)&&t.exports&&(e=t.exports=S),e.UAParser=S):"function"===i(n(129))&&n(154)?void 0===(r=function(){return S}.call(e,n,e,t))||(t.exports=r):"undefined"!==i(a)&&(a.UAParser=S);var T="undefined"!==i(a)&&(a.jQuery||a.Zepto);if(T&&!T.ua){var M=new S;T.ua=M.getResult(),T.ua.get=function(){return M.getUA()},T.ua.set=function(t){M.setUA(t);var e=M.getResult();for(var n in e)T.ua[n]=e[n]}}}("object"===("undefined"==typeof window?"undefined":i(window))?window:this)}).call(this,n(136)(t))},function(t,e,n){(function(n){var r;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(){"use strict";var i=function(){this.init()};i.prototype={init:function(){var t=this||a;return t._counter=1e3,t._html5AudioPool=[],t.html5PoolSize=10,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.autoUnlock=!0,t._setup(),t},volume:function(t){var e=this||a;if(t=parseFloat(t),e.ctx||p(),void 0!==t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t,a.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),i=0;i<r.length;i++){var o=e._howls[n]._soundById(r[i]);o&&o._node&&(o._node.volume=o._volume*t)}return e}return e._volume},mute:function(t){var e=this||a;e.ctx||p(),e._muted=t,e.usingWebAudio&&e.masterGain.gain.setValueAtTime(t?0:e._volume,a.ctx.currentTime);for(var n=0;n<e._howls.length;n++)if(!e._howls[n]._webAudio)for(var r=e._howls[n]._getSoundIds(),i=0;i<r.length;i++){var o=e._howls[n]._soundById(r[i]);o&&o._node&&(o._node.muted=!!t||o._muted)}return e},stop:function(){for(var t=this||a,e=0;e<t._howls.length;e++)t._howls[e].stop();return t},unload:function(){for(var t=this||a,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&void 0!==t.ctx.close&&(t.ctx.close(),t.ctx=null,p()),t},codecs:function(t){return(this||a)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||a;if(t.state=t.ctx&&t.ctx.state||"suspended",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{(new Audio).muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||a,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var n=e.canPlayType("audio/mpeg;").replace(/^no$/,""),r=t._navigator?t._navigator.userAgent:"",i=r.match(/OPR\/([0-6].)/g),o=i&&parseInt(i[0].split("/")[1],10)<33,s=-1!==r.indexOf("Safari")&&-1===r.indexOf("Chrome"),u=r.match(/Version\/(.*?) /),c=s&&u&&parseInt(u[1],10)<15;return t._codecs={mp3:!(o||!n&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!n,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(e.canPlayType('audio/wav; codecs="1"')||e.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(e.canPlayType("audio/x-m4b;")||e.canPlayType("audio/m4b;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_unlockAudio:function(){var t=this||a;if(!t._audioUnlocked&&t.ctx){t._audioUnlocked=!1,t.autoUnlock=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var e=function e(n){for(;t._html5AudioPool.length<t.html5PoolSize;)try{var r=new Audio;r._unlocked=!0,t._releaseHtml5Audio(r)}catch(n){t.noAudio=!0;break}for(var i=0;i<t._howls.length;i++)if(!t._howls[i]._webAudio)for(var a=t._howls[i]._getSoundIds(),o=0;o<a.length;o++){var s=t._howls[i]._soundById(a[o]);s&&s._node&&!s._node._unlocked&&(s._node._unlocked=!0,s._node.load())}t._autoResume();var u=t.ctx.createBufferSource();u.buffer=t._scratchBuffer,u.connect(t.ctx.destination),void 0===u.start?u.noteOn(0):u.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),u.onended=function(){u.disconnect(0),t._audioUnlocked=!0,document.removeEventListener("touchstart",e,!0),document.removeEventListener("touchend",e,!0),document.removeEventListener("click",e,!0),document.removeEventListener("keydown",e,!0);for(var n=0;n<t._howls.length;n++)t._howls[n]._emit("unlock")}};return document.addEventListener("touchstart",e,!0),document.addEventListener("touchend",e,!0),document.addEventListener("click",e,!0),document.addEventListener("keydown",e,!0),t}},_obtainHtml5Audio:function(){var t=this||a;if(t._html5AudioPool.length)return t._html5AudioPool.pop();var e=(new Audio).play();return e&&"undefined"!=typeof Promise&&(e instanceof Promise||"function"==typeof e.then)&&e.catch((function(){})),new Audio},_releaseHtml5Audio:function(t){var e=this||a;return t._unlocked&&e._html5AudioPool.push(t),e},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&void 0!==t.ctx.suspend&&a.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var n=0;n<t._howls[e]._sounds.length;n++)if(!t._howls[e]._sounds[n]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout((function(){if(t.autoSuspend){t._suspendTimer=null,t.state="suspending";var e=function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())};t.ctx.suspend().then(e,e)}}),3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&void 0!==t.ctx.resume&&a.usingWebAudio)return"running"===t.state&&"interrupted"!==t.ctx.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state||"running"===t.state&&"interrupted"===t.ctx.state?(t.ctx.resume().then((function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")})),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var a=new i,o=function(t){t.src&&0!==t.src.length&&this.init(t)};o.prototype={init:function(t){var e=this;return a.ctx||p(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload&&"metadata"!==t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._xhr={method:t.xhr&&t.xhr.method?t.xhr.method:"GET",headers:t.xhr&&t.xhr.headers?t.xhr.headers:null,withCredentials:!(!t.xhr||!t.xhr.withCredentials)&&t.xhr.withCredentials},e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._playLock=!1,e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onplayerror=t.onplayerror?[{fn:t.onplayerror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onunlock=t.onunlock?[{fn:t.onunlock}]:[],e._onresume=[],e._webAudio=a.usingWebAudio&&!e._html5,void 0!==a.ctx&&a.ctx&&a.autoUnlock&&a._unlockAudio(),a._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&"none"!==e._preload&&e.load(),e},load:function(){var t=null;if(a.noAudio)this._emit("loaderror",null,"No audio support.");else{"string"==typeof this._src&&(this._src=[this._src]);for(var e=0;e<this._src.length;e++){var n,r;if(this._format&&this._format[e])n=this._format[e];else{if("string"!=typeof(r=this._src[e])){this._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(n=/^data:audio\/([^;,]+);/i.exec(r))||(n=/\.([^.]+)$/.exec(r.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n&&a.codecs(n)){t=this._src[e];break}}if(t)return this._src=t,this._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(this._html5=!0,this._webAudio=!1),new s(this),this._webAudio&&c(this),this;this._emit("loaderror",null,"No codec support for selected audio sources.")}},play:function(t,e){var n=this,r=null;if("number"==typeof t)r=t,t=null;else{if("string"==typeof t&&"loaded"===n._state&&!n._sprite[t])return null;if(void 0===t&&(t="__default",!n._playLock)){for(var i=0,o=0;o<n._sounds.length;o++)n._sounds[o]._paused&&!n._sounds[o]._ended&&(i++,r=n._sounds[o]._id);1===i?t=null:r=null}}var s=r?n._soundById(r):n._inactiveSound();if(!s)return null;if(r&&!t&&(t=s._sprite||"__default"),"loaded"!==n._state){s._sprite=t,s._ended=!1;var u=s._id;return n._queue.push({event:"play",action:function(){n.play(u)}}),u}if(r&&!s._paused)return e||n._loadQueue("play"),s._id;n._webAudio&&a._autoResume();var c=Math.max(0,s._seek>0?s._seek:n._sprite[t][0]/1e3),l=Math.max(0,(n._sprite[t][0]+n._sprite[t][1])/1e3-c),h=1e3*l/Math.abs(s._rate),d=n._sprite[t][0]/1e3,p=(n._sprite[t][0]+n._sprite[t][1])/1e3;s._sprite=t,s._ended=!1;var f=function(){s._paused=!1,s._seek=c,s._start=d,s._stop=p,s._loop=!(!s._loop&&!n._sprite[t][2])};if(!(c>=p)){var m=s._node;if(n._webAudio){var g=function(){n._playLock=!1,f(),n._refreshBuffer(s);var t=s._muted||n._muted?0:s._volume;m.gain.setValueAtTime(t,a.ctx.currentTime),s._playStart=a.ctx.currentTime,void 0===m.bufferSource.start?s._loop?m.bufferSource.noteGrainOn(0,c,86400):m.bufferSource.noteGrainOn(0,c,l):s._loop?m.bufferSource.start(0,c,86400):m.bufferSource.start(0,c,l),h!==1/0&&(n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),h)),e||setTimeout((function(){n._emit("play",s._id),n._loadQueue()}),0)};"running"===a.state&&"interrupted"!==a.ctx.state?g():(n._playLock=!0,n.once("resume",g),n._clearTimer(s._id))}else{var y=function(){m.currentTime=c,m.muted=s._muted||n._muted||a._muted||m.muted,m.volume=s._volume*a.volume(),m.playbackRate=s._rate;try{var r=m.play();if(r&&"undefined"!=typeof Promise&&(r instanceof Promise||"function"==typeof r.then)?(n._playLock=!0,f(),r.then((function(){n._playLock=!1,m._unlocked=!0,e?n._loadQueue():n._emit("play",s._id)})).catch((function(){n._playLock=!1,n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),s._ended=!0,s._paused=!0}))):e||(n._playLock=!1,f(),n._emit("play",s._id)),m.playbackRate=s._rate,m.paused)return void n._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");"__default"!==t||s._loop?n._endTimers[s._id]=setTimeout(n._ended.bind(n,s),h):(n._endTimers[s._id]=function(){n._ended(s),m.removeEventListener("ended",n._endTimers[s._id],!1)},m.addEventListener("ended",n._endTimers[s._id],!1))}catch(t){n._emit("playerror",s._id,t)}};"data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"===m.src&&(m.src=n._src,m.load());var v=window&&window.ejecta||!m.readyState&&a._navigator.isCocoonJS;if(m.readyState>=3||v)y();else{n._playLock=!0,n._state="loading";m.addEventListener(a._canPlayEvent,(function t(){n._state="loaded",y(),m.removeEventListener(a._canPlayEvent,t,!1)}),!1),n._clearTimer(s._id)}}return s._id}n._ended(s)},pause:function(t){var e=this;if("loaded"!==e._state||e._playLock)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var n=e._getSoundIds(t),r=0;r<n.length;r++){e._clearTimer(n[r]);var i=e._soundById(n[r]);if(i&&!i._paused&&(i._seek=e.seek(n[r]),i._rateSeek=0,i._paused=!0,e._stopFade(n[r]),i._node))if(e._webAudio){if(!i._node.bufferSource)continue;void 0===i._node.bufferSource.stop?i._node.bufferSource.noteOff(0):i._node.bufferSource.stop(0),e._cleanBuffer(i._node)}else isNaN(i._node.duration)&&i._node.duration!==1/0||i._node.pause();arguments[1]||e._emit("pause",i?i._id:null)}return e},stop:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"stop",action:function(){n.stop(t)}}),n;for(var r=n._getSoundIds(t),i=0;i<r.length;i++){n._clearTimer(r[i]);var a=n._soundById(r[i]);a&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,n._stopFade(r[i]),a._node&&(n._webAudio?a._node.bufferSource&&(void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),n._cleanBuffer(a._node)):isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause(),a._node.duration===1/0&&n._clearSound(a._node))),e||n._emit("stop",a._id))}return n},mute:function(t,e){var n=this;if("loaded"!==n._state||n._playLock)return n._queue.push({event:"mute",action:function(){n.mute(t,e)}}),n;if(void 0===e){if("boolean"!=typeof t)return n._muted;n._muted=t}for(var r=n._getSoundIds(e),i=0;i<r.length;i++){var o=n._soundById(r[i]);o&&(o._muted=t,o._interval&&n._stopFade(o._id),n._webAudio&&o._node?o._node.gain.setValueAtTime(t?0:o._volume,a.ctx.currentTime):o._node&&(o._node.muted=!!a._muted||t),n._emit("mute",o._id))}return n},volume:function(){var t,e,n,r=this,i=arguments;if(0===i.length)return r._volume;if(1===i.length||2===i.length&&void 0===i[1]){var o=r._getSoundIds(),s=o.indexOf(i[0]);s>=0?e=parseInt(i[0],10):t=parseFloat(i[0])}else i.length>=2&&(t=parseFloat(i[0]),e=parseInt(i[1],10));if(!(void 0!==t&&t>=0&&t<=1))return(n=e?r._soundById(e):r._sounds[0])?n._volume:0;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"volume",action:function(){r.volume.apply(r,i)}}),r;void 0===e&&(r._volume=t),e=r._getSoundIds(e);for(var u=0;u<e.length;u++)(n=r._soundById(e[u]))&&(n._volume=t,i[2]||r._stopFade(e[u]),r._webAudio&&n._node&&!n._muted?n._node.gain.setValueAtTime(t,a.ctx.currentTime):n._node&&!n._muted&&(n._node.volume=t*a.volume()),r._emit("volume",n._id));return r},fade:function(t,e,n,r){var i=this;if("loaded"!==i._state||i._playLock)return i._queue.push({event:"fade",action:function(){i.fade(t,e,n,r)}}),i;t=Math.min(Math.max(0,parseFloat(t)),1),e=Math.min(Math.max(0,parseFloat(e)),1),n=parseFloat(n),i.volume(t,r);for(var o=i._getSoundIds(r),s=0;s<o.length;s++){var u=i._soundById(o[s]);if(u){if(r||i._stopFade(o[s]),i._webAudio&&!u._muted){var c=a.ctx.currentTime,l=c+n/1e3;u._volume=t,u._node.gain.setValueAtTime(t,c),u._node.gain.linearRampToValueAtTime(e,l)}i._startFadeInterval(u,t,e,n,o[s],void 0===r)}}return i},_startFadeInterval:function(t,e,n,r,i,a){var o=this,s=e,u=n-e,c=Math.abs(u/.01),l=Math.max(4,c>0?r/c:r),h=Date.now();t._fadeTo=n,t._interval=setInterval((function(){var i=(Date.now()-h)/r;h=Date.now(),s+=u*i,s=Math.round(100*s)/100,s=u<0?Math.max(n,s):Math.min(n,s),o._webAudio?t._volume=s:o.volume(s,t._id,!0),a&&(o._volume=s),(n<e&&s<=n||n>e&&s>=n)&&(clearInterval(t._interval),t._interval=null,t._fadeTo=null,o.volume(n,t._id),o._emit("fade",t._id))}),l)},_stopFade:function(t){var e=this._soundById(t);return e&&e._interval&&(this._webAudio&&e._node.gain.cancelScheduledValues(a.ctx.currentTime),clearInterval(e._interval),e._interval=null,this.volume(e._fadeTo,t),e._fadeTo=null,this._emit("fade",t)),this},loop:function(){var t,e,n,r=this,i=arguments;if(0===i.length)return r._loop;if(1===i.length){if("boolean"!=typeof i[0])return!!(n=r._soundById(parseInt(i[0],10)))&&n._loop;t=i[0],r._loop=t}else 2===i.length&&(t=i[0],e=parseInt(i[1],10));for(var a=r._getSoundIds(e),o=0;o<a.length;o++)(n=r._soundById(a[o]))&&(n._loop=t,r._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=t,t&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop,r.playing(a[o])&&(r.pause(a[o],!0),r.play(a[o],!0)))));return r},rate:function(){var t,e,n,r=this,i=arguments;if(0===i.length)e=r._sounds[0]._id;else if(1===i.length){var o=r._getSoundIds(),s=o.indexOf(i[0]);s>=0?e=parseInt(i[0],10):t=parseFloat(i[0])}else 2===i.length&&(t=parseFloat(i[0]),e=parseInt(i[1],10));if("number"!=typeof t)return(n=r._soundById(e))?n._rate:r._rate;if("loaded"!==r._state||r._playLock)return r._queue.push({event:"rate",action:function(){r.rate.apply(r,i)}}),r;void 0===e&&(r._rate=t),e=r._getSoundIds(e);for(var u=0;u<e.length;u++)if(n=r._soundById(e[u])){r.playing(e[u])&&(n._rateSeek=r.seek(e[u]),n._playStart=r._webAudio?a.ctx.currentTime:n._playStart),n._rate=t,r._webAudio&&n._node&&n._node.bufferSource?n._node.bufferSource.playbackRate.setValueAtTime(t,a.ctx.currentTime):n._node&&(n._node.playbackRate=t);var c=r.seek(e[u]),l=(r._sprite[n._sprite][0]+r._sprite[n._sprite][1])/1e3-c,h=1e3*l/Math.abs(n._rate);!r._endTimers[e[u]]&&n._paused||(r._clearTimer(e[u]),r._endTimers[e[u]]=setTimeout(r._ended.bind(r,n),h)),r._emit("rate",n._id)}return r},seek:function(){var t,e,n=this,r=arguments;if(0===r.length)n._sounds.length&&(e=n._sounds[0]._id);else if(1===r.length){var i=n._getSoundIds(),o=i.indexOf(r[0]);o>=0?e=parseInt(r[0],10):n._sounds.length&&(e=n._sounds[0]._id,t=parseFloat(r[0]))}else 2===r.length&&(t=parseFloat(r[0]),e=parseInt(r[1],10));if(void 0===e)return 0;if("number"==typeof t&&("loaded"!==n._state||n._playLock))return n._queue.push({event:"seek",action:function(){n.seek.apply(n,r)}}),n;var s=n._soundById(e);if(s){if(!("number"==typeof t&&t>=0)){if(n._webAudio){var u=n.playing(e)?a.ctx.currentTime-s._playStart:0,c=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(c+u*Math.abs(s._rate))}return s._node.currentTime}var l=n.playing(e);l&&n.pause(e,!0),s._seek=t,s._ended=!1,n._clearTimer(e),n._webAudio||!s._node||isNaN(s._node.duration)||(s._node.currentTime=t);var h=function(){l&&n.play(e,!0),n._emit("seek",e)};if(l&&!n._webAudio){var d=function t(){n._playLock?setTimeout(t,0):h()};setTimeout(d,0)}else h()}return n},playing:function(t){if("number"==typeof t){var e=this._soundById(t);return!!e&&!e._paused}for(var n=0;n<this._sounds.length;n++)if(!this._sounds[n]._paused)return!0;return!1},duration:function(t){var e=this._duration,n=this._soundById(t);return n&&(e=this._sprite[n._sprite][1]/1e3),e},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,n=0;n<e.length;n++)e[n]._paused||t.stop(e[n]._id),t._webAudio||(t._clearSound(e[n]._node),e[n]._node.removeEventListener("error",e[n]._errorFn,!1),e[n]._node.removeEventListener(a._canPlayEvent,e[n]._loadFn,!1),e[n]._node.removeEventListener("ended",e[n]._endFn,!1),a._releaseHtml5Audio(e[n]._node)),delete e[n]._node,t._clearTimer(e[n]._id);var r=a._howls.indexOf(t);r>=0&&a._howls.splice(r,1);var i=!0;for(n=0;n<a._howls.length;n++)if(a._howls[n]._src===t._src||t._src.indexOf(a._howls[n]._src)>=0){i=!1;break}return u&&i&&delete u[t._src],a.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,n,r){var i=this["_on"+t];return"function"==typeof e&&i.push(r?{id:n,fn:e,once:r}:{id:n,fn:e}),this},off:function(t,e,n){var r=this["_on"+t],i=0;if("number"==typeof e&&(n=e,e=null),e||n)for(i=0;i<r.length;i++){var a=n===r[i].id;if(e===r[i].fn&&a||!e&&a){r.splice(i,1);break}}else if(t)this["_on"+t]=[];else{var o=Object.keys(this);for(i=0;i<o.length;i++)0===o[i].indexOf("_on")&&Array.isArray(this[o[i]])&&(this[o[i]]=[])}return this},once:function(t,e,n){return this.on(t,e,n,1),this},_emit:function(t,e,n){for(var r=this["_on"+t],i=r.length-1;i>=0;i--)r[i].id&&r[i].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,n)}.bind(this,r[i].fn),0),r[i].once&&this.off(t,r[i].fn,r[i].id));return this._loadQueue(t),this},_loadQueue:function(t){if(this._queue.length>0){var e=this._queue[0];e.event===t&&(this._queue.shift(),this._loadQueue()),t||e.action()}return this},_ended:function(t){var e=t._sprite;if(!this._webAudio&&t._node&&!t._node.paused&&!t._node.ended&&t._node.currentTime<t._stop)return setTimeout(this._ended.bind(this,t),100),this;var n=!(!t._loop&&!this._sprite[e][2]);if(this._emit("end",t._id),!this._webAudio&&n&&this.stop(t._id,!0).play(t._id),this._webAudio&&n){this._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=a.ctx.currentTime;var r=1e3*(t._stop-t._start)/Math.abs(t._rate);this._endTimers[t._id]=setTimeout(this._ended.bind(this,t),r)}return this._webAudio&&!n&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,this._clearTimer(t._id),this._cleanBuffer(t._node),a._autoSuspend()),this._webAudio||n||this.stop(t._id,!0),this},_clearTimer:function(t){if(this._endTimers[t]){if("function"!=typeof this._endTimers[t])clearTimeout(this._endTimers[t]);else{var e=this._soundById(t);e&&e._node&&e._node.removeEventListener("ended",this._endTimers[t],!1)}delete this._endTimers[t]}return this},_soundById:function(t){for(var e=0;e<this._sounds.length;e++)if(t===this._sounds[e]._id)return this._sounds[e];return null},_inactiveSound:function(){this._drain();for(var t=0;t<this._sounds.length;t++)if(this._sounds[t]._ended)return this._sounds[t].reset();return new s(this)},_drain:function(){var t=this._pool,e=0,n=0;if(!(this._sounds.length<t)){for(n=0;n<this._sounds.length;n++)this._sounds[n]._ended&&e++;for(n=this._sounds.length-1;n>=0;n--){if(e<=t)return;this._sounds[n]._ended&&(this._webAudio&&this._sounds[n]._node&&this._sounds[n]._node.disconnect(0),this._sounds.splice(n,1),e--)}}},_getSoundIds:function(t){if(void 0===t){for(var e=[],n=0;n<this._sounds.length;n++)e.push(this._sounds[n]._id);return e}return[t]},_refreshBuffer:function(t){return t._node.bufferSource=a.ctx.createBufferSource(),t._node.bufferSource.buffer=u[this._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop||0),t._node.bufferSource.playbackRate.setValueAtTime(t._rate,a.ctx.currentTime),this},_cleanBuffer:function(t){var e=a._navigator&&a._navigator.vendor.indexOf("Apple")>=0;if(a._scratchBuffer&&t.bufferSource&&(t.bufferSource.onended=null,t.bufferSource.disconnect(0),e))try{t.bufferSource.buffer=a._scratchBuffer}catch(t){}return t.bufferSource=null,this},_clearSound:function(t){/MSIE |Trident\//.test(a._navigator&&a._navigator.userAgent)||(t.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(t){this._parent=t,this.init()};s.prototype={init:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++a._counter,t._sounds.push(this),this.create(),this},create:function(){var t=this._parent,e=a._muted||this._muted||this._parent._muted?0:this._volume;return t._webAudio?(this._node=void 0===a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),this._node.gain.setValueAtTime(e,a.ctx.currentTime),this._node.paused=!0,this._node.connect(a.masterGain)):a.noAudio||(this._node=a._obtainHtml5Audio(),this._errorFn=this._errorListener.bind(this),this._node.addEventListener("error",this._errorFn,!1),this._loadFn=this._loadListener.bind(this),this._node.addEventListener(a._canPlayEvent,this._loadFn,!1),this._endFn=this._endListener.bind(this),this._node.addEventListener("ended",this._endFn,!1),this._node.src=t._src,this._node.preload=!0===t._preload?"auto":t._preload,this._node.volume=e*a.volume(),this._node.load()),this},reset:function(){var t=this._parent;return this._muted=t._muted,this._loop=t._loop,this._volume=t._volume,this._rate=t._rate,this._seek=0,this._rateSeek=0,this._paused=!0,this._ended=!0,this._sprite="__default",this._id=++a._counter,this},_errorListener:function(){this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorFn,!1)},_loadListener:function(){var t=this._parent;t._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue()),this._node.removeEventListener(a._canPlayEvent,this._loadFn,!1)},_endListener:function(){var t=this._parent;t._duration===1/0&&(t._duration=Math.ceil(10*this._node.duration)/10,t._sprite.__default[1]===1/0&&(t._sprite.__default[1]=1e3*t._duration),t._ended(this)),this._node.removeEventListener("ended",this._endFn,!1)}};var u={},c=function(t){var e=t._src;if(u[e])return t._duration=u[e].duration,void d(t);if(/^data:[^;]+;base64,/.test(e)){for(var n=atob(e.split(",")[1]),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);h(r.buffer,t)}else{var a=new XMLHttpRequest;a.open(t._xhr.method,e,!0),a.withCredentials=t._xhr.withCredentials,a.responseType="arraybuffer",t._xhr.headers&&Object.keys(t._xhr.headers).forEach((function(e){a.setRequestHeader(e,t._xhr.headers[e])})),a.onload=function(){var e=(a.status+"")[0];"0"===e||"2"===e||"3"===e?h(a.response,t):t._emit("loaderror",null,"Failed loading audio file with status: "+a.status+".")},a.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete u[e],t.load())},l(a)}},l=function(t){try{t.send()}catch(e){t.onerror()}},h=function(t,e){var n=function(){e._emit("loaderror",null,"Decoding audio data failed.")},r=function(t){t&&e._sounds.length>0?(u[e._src]=t,d(e,t)):n()};"undefined"!=typeof Promise&&1===a.ctx.decodeAudioData.length?a.ctx.decodeAudioData(t).then(r).catch(n):a.ctx.decodeAudioData(t,r,n)},d=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},p=function(){if(a.usingWebAudio){try{"undefined"!=typeof AudioContext?a.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?a.ctx=new webkitAudioContext:a.usingWebAudio=!1}catch(t){a.usingWebAudio=!1}a.ctx||(a.usingWebAudio=!1);var t=/iP(hone|od|ad)/.test(a._navigator&&a._navigator.platform),e=a._navigator&&a._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),n=e?parseInt(e[1],10):null;if(t&&n&&n<9){var r=/safari/.test(a._navigator&&a._navigator.userAgent.toLowerCase());a._navigator&&!r&&(a.usingWebAudio=!1)}a.usingWebAudio&&(a.masterGain=void 0===a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),a.masterGain.gain.setValueAtTime(a._muted?0:a._volume,a.ctx.currentTime),a.masterGain.connect(a.ctx.destination)),a._setup()}};void 0===(r=function(){return{Howler:a,Howl:o}}.apply(e,[]))||(t.exports=r),e.Howler=a,e.Howl=o,void 0!==n?(n.HowlerGlobal=i,n.Howler=a,n.Howl=o,n.Sound=s):"undefined"!=typeof window&&(window.HowlerGlobal=i,window.Howler=a,window.Howl=o,window.Sound=s)}(),function(){"use strict";var t;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){if(!this.ctx||!this.ctx.listener)return this;for(var e=this._howls.length-1;e>=0;e--)this._howls[e].stereo(t);return this},HowlerGlobal.prototype.pos=function(t,e,n){return this.ctx&&this.ctx.listener?(e="number"!=typeof e?this._pos[1]:e,n="number"!=typeof n?this._pos[2]:n,"number"!=typeof t?this._pos:(this._pos=[t,e,n],void 0!==this.ctx.listener.positionX?(this.ctx.listener.positionX.setTargetAtTime(this._pos[0],Howler.ctx.currentTime,.1),this.ctx.listener.positionY.setTargetAtTime(this._pos[1],Howler.ctx.currentTime,.1),this.ctx.listener.positionZ.setTargetAtTime(this._pos[2],Howler.ctx.currentTime,.1)):this.ctx.listener.setPosition(this._pos[0],this._pos[1],this._pos[2]),this)):this},HowlerGlobal.prototype.orientation=function(t,e,n,r,i,a){if(!this.ctx||!this.ctx.listener)return this;var o=this._orientation;return e="number"!=typeof e?o[1]:e,n="number"!=typeof n?o[2]:n,r="number"!=typeof r?o[3]:r,i="number"!=typeof i?o[4]:i,a="number"!=typeof a?o[5]:a,"number"!=typeof t?o:(this._orientation=[t,e,n,r,i,a],void 0!==this.ctx.listener.forwardX?(this.ctx.listener.forwardX.setTargetAtTime(t,Howler.ctx.currentTime,.1),this.ctx.listener.forwardY.setTargetAtTime(e,Howler.ctx.currentTime,.1),this.ctx.listener.forwardZ.setTargetAtTime(n,Howler.ctx.currentTime,.1),this.ctx.listener.upX.setTargetAtTime(r,Howler.ctx.currentTime,.1),this.ctx.listener.upY.setTargetAtTime(i,Howler.ctx.currentTime,.1),this.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):this.ctx.listener.setOrientation(t,e,n,r,i,a),this)},Howl.prototype.init=(t=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}),Howl.prototype.stereo=function(t,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"stereo",action:function(){r.stereo(t,n)}}),r;var i=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===n){if("number"!=typeof t)return r._stereo;r._stereo=t,r._pos=[t,0,0]}for(var a=r._getSoundIds(n),o=0;o<a.length;o++){var s=r._soundById(a[o]);if(s){if("number"!=typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||e(s,i),"spatial"===i?void 0!==s._panner.positionX?(s._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):s._panner.setPosition(t,0,0):s._panner.pan.setValueAtTime(t,Howler.ctx.currentTime)),r._emit("stereo",s._id)}}return r},Howl.prototype.pos=function(t,n,r,i){var a=this;if(!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"pos",action:function(){a.pos(t,n,r,i)}}),a;if(n="number"!=typeof n?0:n,r="number"!=typeof r?-.5:r,void 0===i){if("number"!=typeof t)return a._pos;a._pos=[t,n,r]}for(var o=a._getSoundIds(i),s=0;s<o.length;s++){var u=a._soundById(o[s]);if(u){if("number"!=typeof t)return u._pos;u._pos=[t,n,r],u._node&&(u._panner&&!u._panner.pan||e(u,"spatial"),void 0!==u._panner.positionX?(u._panner.positionX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setPosition(t,n,r)),a._emit("pos",u._id)}}return a},Howl.prototype.orientation=function(t,n,r,i){var a=this;if(!a._webAudio)return a;if("loaded"!==a._state)return a._queue.push({event:"orientation",action:function(){a.orientation(t,n,r,i)}}),a;if(n="number"!=typeof n?a._orientation[1]:n,r="number"!=typeof r?a._orientation[2]:r,void 0===i){if("number"!=typeof t)return a._orientation;a._orientation=[t,n,r]}for(var o=a._getSoundIds(i),s=0;s<o.length;s++){var u=a._soundById(o[s]);if(u){if("number"!=typeof t)return u._orientation;u._orientation=[t,n,r],u._node&&(u._panner||(u._pos||(u._pos=a._pos||[0,0,-.5]),e(u,"spatial")),void 0!==u._panner.orientationX?(u._panner.orientationX.setValueAtTime(t,Howler.ctx.currentTime),u._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),u._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):u._panner.setOrientation(t,n,r)),a._emit("orientation",u._id)}}return a},Howl.prototype.pannerAttr=function(){var t,n,r,a=this,o=arguments;if(!a._webAudio)return a;if(0===o.length)return a._pannerAttr;if(1===o.length){if("object"!==i(o[0]))return(r=a._soundById(parseInt(o[0],10)))?r._pannerAttr:a._pannerAttr;t=o[0],void 0===n&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),a._pannerAttr={coneInnerAngle:void 0!==t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:a._coneInnerAngle,coneOuterAngle:void 0!==t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:a._coneOuterAngle,coneOuterGain:void 0!==t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:a._coneOuterGain,distanceModel:void 0!==t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:a._distanceModel,maxDistance:void 0!==t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:a._maxDistance,refDistance:void 0!==t.pannerAttr.refDistance?t.pannerAttr.refDistance:a._refDistance,rolloffFactor:void 0!==t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:a._rolloffFactor,panningModel:void 0!==t.pannerAttr.panningModel?t.pannerAttr.panningModel:a._panningModel})}else 2===o.length&&(t=o[0],n=parseInt(o[1],10));for(var s=a._getSoundIds(n),u=0;u<s.length;u++)if(r=a._soundById(s[u])){var c=r._pannerAttr;c={coneInnerAngle:void 0!==t.coneInnerAngle?t.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:void 0!==t.coneOuterAngle?t.coneOuterAngle:c.coneOuterAngle,coneOuterGain:void 0!==t.coneOuterGain?t.coneOuterGain:c.coneOuterGain,distanceModel:void 0!==t.distanceModel?t.distanceModel:c.distanceModel,maxDistance:void 0!==t.maxDistance?t.maxDistance:c.maxDistance,refDistance:void 0!==t.refDistance?t.refDistance:c.refDistance,rolloffFactor:void 0!==t.rolloffFactor?t.rolloffFactor:c.rolloffFactor,panningModel:void 0!==t.panningModel?t.panningModel:c.panningModel};var l=r._panner;l?(l.coneInnerAngle=c.coneInnerAngle,l.coneOuterAngle=c.coneOuterAngle,l.coneOuterGain=c.coneOuterGain,l.distanceModel=c.distanceModel,l.maxDistance=c.maxDistance,l.refDistance=c.refDistance,l.rolloffFactor=c.rolloffFactor,l.panningModel=c.panningModel):(r._pos||(r._pos=a._pos||[0,0,-.5]),e(r,"spatial"))}return a},Sound.prototype.init=function(t){return function(){var e=this._parent;this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,t.call(this),this._stereo?e.stereo(this._stereo):this._pos&&e.pos(this._pos[0],this._pos[1],this._pos[2],this._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this._parent;return this._orientation=e._orientation,this._stereo=e._stereo,this._pos=e._pos,this._pannerAttr=e._pannerAttr,this._stereo?e.stereo(this._stereo):this._pos?e.pos(this._pos[0],this._pos[1],this._pos[2],this._id):this._panner&&(this._panner.disconnect(0),this._panner=void 0,e._refreshBuffer(this)),t.call(this)}}(Sound.prototype.reset);var e=function(t,e){"spatial"===(e=e||"spatial")?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.panningModel=t._pannerAttr.panningModel,void 0!==t._panner.positionX?(t._panner.positionX.setValueAtTime(t._pos[0],Howler.ctx.currentTime),t._panner.positionY.setValueAtTime(t._pos[1],Howler.ctx.currentTime),t._panner.positionZ.setValueAtTime(t._pos[2],Howler.ctx.currentTime)):t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),void 0!==t._panner.orientationX?(t._panner.orientationX.setValueAtTime(t._orientation[0],Howler.ctx.currentTime),t._panner.orientationY.setValueAtTime(t._orientation[1],Howler.ctx.currentTime),t._panner.orientationZ.setValueAtTime(t._orientation[2],Howler.ctx.currentTime)):t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.setValueAtTime(t._stereo,Howler.ctx.currentTime)),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id,!0)}}()}).call(this,n(202))},function(t,e,n){"use strict";var r="#?[".concat("a-f\\d","]{3}[").concat("a-f\\d","]?"),i="#?[".concat("a-f\\d","]{6}([").concat("a-f\\d","]{2})?"),a=new RegExp("[^#".concat("a-f\\d","]"),"gi"),o=new RegExp("^".concat(r,"$|^").concat(i,"$"),"i");t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("string"!=typeof t||a.test(t)||!o.test(t))throw new TypeError("Expected a valid hex string");var n=1;8===(t=t.replace(/^#/,"")).length&&(n=Number.parseInt(t.slice(6,8),16)/255,t=t.slice(0,6)),4===t.length&&(n=Number.parseInt(t.slice(3,4).repeat(2),16)/255,t=t.slice(0,3)),3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var r=Number.parseInt(t,16),i=r>>16,s=r>>8&255,u=255&r,c="number"==typeof e.alpha?e.alpha:n;if("array"===e.format)return[i,s,u,c];if("css"===e.format){var l=1===c?"":" / ".concat(Number((100*c).toFixed(2)),"%");return"rgb(".concat(i," ").concat(s," ").concat(u).concat(l,")")}return{red:i,green:s,blue:u,alpha:c}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={kindle:{match:"device:kindle",stage:{resolution:.5,useHalfFPS:!0},resource:{version:"low"}},aie:{match:"browser:ie",stage:{useHalfFPS:!0},resource:{version:"default"}},android8:{match:"os:version:8",stage:{useHalfFPS:!0,resolution:.7},resource:{version:"low"}},android7:{match:"os:version:7",stage:{resolution:.6,useHalfFPS:!0},resource:{version:"low"}},android6:{match:"os:version:6",stage:{resolution:.45,useHalfFPS:!0},resource:{version:"low"}},android5:{match:"os:version:5",stage:{resolution:.45,useHalfFPS:!0},resource:{version:"low"}},ie:{match:"browser:ie",stage:{useHalfFPS:!0,resolution:.75},resource:{version:"low"}},ios11:{match:"os:ios--os:version:11",stage:{resolution:.75,useHalfFPS:!0,resource:{version:"low"}}},ios12:{match:"os:ios--os:version:12",stage:{resolution:.75,useHalfFPS:!0,resource:{version:"low"}}},mobile:{match:"device:mobile",resolution:.85,resource:{version:"default"}}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n(21),n(27),n(5),n(19);var r=n(130),i=n(11),a=n(6),o=n(9),s=n(44),u=n(7),c=n(4);function l(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(t){var e,n;function r(e){var n;return p(h(n=t.call(this,e)||this),"app",void 0),p(h(n),"background",void 0),p(h(n),"message",void 0),p(h(n),"yesButton",void 0),p(h(n),"noButton",void 0),n.app=e,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,d(e,n);var f=r.prototype;return f.init=function(){var t,e=(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.background=new s.a({width:582,height:429,title:"STR_QUIT_TITLE"}),this.view.addChild(this.background),this.yesButton=new i.c({icon:"icon-tick.png",color:i.a.GREEN,width:115,height:115}),this.yesButton.position.set(-80,90),this.yesButton.onPress.add(this.onYesButtonPressed,this),this.background.content.addChild(this.yesButton),this.noButton=new i.c({icon:"icon-cross.png",color:i.a.PINK,width:115,height:115}),this.noButton.position.set(80,90),this.noButton.onPress.add(this.onNoButtonPressed,this),this.background.content.addChild(this.noButton),this.message=new o.a("Message",{fill:"#493008",fontSize:24,maxWidth:500}),this.message.anchor.set(.5),this.message.x=0,this.message.y=-30,this.background.content.addChild(this.message);case 15:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){l(a,r,i,o,s,"next",t)}function s(t){l(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}(),f.onYesButtonPressed=function(){this.app.controller.getCurrentScreenId()===c.a.SCREEN_ID.GAME?(this.app.controller.closeOverlay(),this.app.game.tutorialManager.onTutorialSkipped()):(u.c.dispatch(a.a,{type:a.b.GAME_TOURNAMENT_EXIT}),this.app.controller.goto(c.a.SCREEN_ID.TITLE))},f.show=function(){this.app.controller.getCurrentScreenId()===c.a.SCREEN_ID.GAME?(this.background.setTitle("STR_TITLE_SKIP"),this.message.setText("STR_TITLE_SKIP_MESSAGE")):(this.background.setTitle("STR_QUIT_TITLE"),this.message.setText("STR_AREYOUSURE"))},f.onNoButtonPressed=function(){this.app.controller.closeOverlay()},f.resize=function(e,n){t.prototype.resize.call(this,e,n),this.background.position.set(e/2,n/2)},r}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));n(21),n(27),n(184),n(5),n(34),n(19),n(99),n(23),n(88),n(126),n(139);var r=n(80),i=n(130),a=n(17),o=n(11),s=n(8),u=n(6),c=n(9),l=n(44),h=n(1),d=n(14),p=n(0),f=n(7);function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function g(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){w(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function y(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){y(a,r,i,o,s,"next",t)}function s(t){y(a,r,i,o,s,"throw",t)}o(void 0)}))}}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=function(t){var e,n;function i(e){var n;return w(b(n=t.call(this,e)||this),"app",void 0),w(b(n),"built",void 0),w(b(n),"checked",void 0),w(b(n),"background",void 0),w(b(n),"checkBoxContainer",void 0),w(b(n),"textsContainer",void 0),w(b(n),"checkBoxGlow",void 0),w(b(n),"glowBlurFilter",void 0),w(b(n),"checkBox",void 0),w(b(n),"confirmButton",void 0),n.app=e,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,_(e,n);var m=i.prototype;return m.init=function(){var t=v(regeneratorRuntime.mark((function t(){var e,n,i,a,h,d,m,y,v,b,_,w,x,S=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.background=new l.a({width:600,height:750,title:"STR_TOU_TITLE"}),this.view.addChild(this.background),this.textsContainer=new p.Container,this.background.content.addChild(this.textsContainer),this.checkBoxContainer=new p.Container,this.background.content.addChild(this.checkBoxContainer),this.glowBlurFilter=new p.filters.BlurFilter,this.checked=!1,e={fill:"#493008",fontSize:20,wordWrap:!0,wordWrapWidth:490,breakWords:!0,align:"ar"===s.a.settings.language?"right":"left"},n=new c.a("STR_TOU_TEXT1",g(g({},e),{},{fontStyle:"italic"})),i=new c.a("STR_TOU_TEXT2",e),a=new c.a("STR_TOU_TEXT3","pl"===s.a.settings.language?g(g({},e),{},{wordWrap:!1,maxWidth:485,fill:3902461}):g(g({},e),{},{fill:3902461})),h=new c.a("STR_TOU_TEXT4",g(g({},e),{},{fill:"#493008"})),d=new c.a("STR_TOU_TEXT5","pl"===s.a.settings.language?g(g({},e),{},{wordWrap:!1,maxWidth:485,fill:3902461}):g(g({},e),{},{fill:3902461})),m=new c.a("STR_TOU_TEXT6",g(g({},e),{},{fill:3902461})),a.interactive=!0,d.interactive=!0,m.interactive=!0,a.on("pointertap",(function(){return S.app.controller.openLink(r.b.translate("URL_AUDIENCE")||"")}),!0),d.on("pointertap",(function(){return S.app.controller.openLink(r.b.translate("URL_ADS")||"")}),!0),m.on("pointertap",(function(){return S.app.controller.openLink(r.b.translate("URL_PRIVACY")||"")}),!0),this.textsContainer.addChild(n),this.textsContainer.addChild(i),this.textsContainer.addChild(a),this.textsContainer.addChild(h),this.textsContainer.addChild(d),this.textsContainer.addChild(m),this.checkBoxGlow=p.Sprite.from("gdpr-glow.png"),this.checkBoxGlow.anchor.set(.5),this.checkBoxGlow.alpha=0,this.checkBoxGlow.defaultAlpha=.7,this.checkBoxContainer.addChild(this.checkBoxGlow),this.checkBoxGlow.filters=[this.glowBlurFilter],this.checkBox=p.Sprite.from("gdpr-unchecked.png"),this.checkBox.anchor.set(.5),this.checkBox.interactive=!0,this.checkBox.on("pointertap",this.checkBoxToggle.bind(this)),this.checkBoxContainer.addChild(this.checkBox),this.checkBoxContainer.position.set(-160,195),e.wordWrapWidth=320,e.fill="0x3b8bfd",(y=new c.a("STR_TOU_TEXT7",e)).anchor.set(0,.5),y.position.set(-85,195),y.interactive=!0,y.on("pointertap",(function(){return S.app.controller.openLink(r.b.translate("URL_TERMS")||"")}),!0),this.background.content.addChild(y),this.confirmButton=new o.c({text:"STR_CONTINUE",width:300,height:80}),this.confirmButton.position.set(0,300),this.confirmButton.disable(),this.confirmButton.onPress.add(this.onConfirmButtonPressed,this),this.background.content.addChild(this.confirmButton),v=[n,i,a,h,d,m],-250,-265,b=this.checkBoxContainer.y-this.checkBoxContainer.height/2+265,w=function(t){return t.x="ar"===s.a.settings.language?250-t.width:-250},x=function(){var t=v.reduce((function(t,e){return t+e.height}),0),e=.9*(b-t),n=Math.min(Math.max(5,e/(v.length-1)),35);v.forEach((function(t,e){w(t),t.y=e?v[e-1].y+v[e-1].height+(5===e?n/2:n):-265})),S.textsContainer.position.y=t>325?-7:0},(_=function(){var t="th"===s.a.settings.language?25:0;i.style.lineHeight=h.style.lineHeight=y.style.lineHeight=t})(),x(),this.built=!0,f.c.add(u.d,(function(){_(),x()}));case 63:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),m.show=function(){this.background.show(),this.checked&&this.checkBoxToggle(),d.c.killTweensOf(this.checkBoxGlow),this.checkBoxGlow.alpha=0,this.pulseCheckBox()},m.hide=function(){var t=v(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.background.hide(),this.app.controller.focus();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),m.pulseCheckBox=function(){Object(h.tween)(this.checkBoxGlow,1,{alpha:this.checkBoxGlow.defaultAlpha,ease:"Power1.easeInOut",yoyo:!0,repeat:-1}),Object(h.tween)(this.checkBoxGlow.scale,1,{x:1.1,y:1.1,ease:"Power1.easeInOut",yoyo:!0,repeat:-1})},m.checkBoxToggle=function(){a.default.playSfx("button_press"),this.checked=!this.checked,this.checkBox.texture=p.Texture.from(this.checked?"gdpr-checked.png":"gdpr-unchecked.png"),d.c.killTweensOf(this.checkBoxGlow),this.checkBoxGlow.alpha=0,Object(h.tween)(this.checkBoxContainer.scale,.4,{x:this.checked?1.05:1,y:this.checked?1.05:1,ease:"Power2.easeInOut"}),this.checked?this.confirmButton.enable():(this.confirmButton.disable(),this.pulseCheckBox())},m.onConfirmButtonPressed=function(){a.default.playSfx("button_press"),this.app.controller.closeOverlay(),s.a.cache.gdprAccepted=!0,this.app.storage.saveData("cache")},m.resize=function(e,n){t.prototype.resize.call(this,e,n),this.background.position.set(e/2,n/2)},i}(i.a)},function(t,e,n){var r=n(652),i=n(653),a=n(654),o=n(655),s=n(656),u=n(657),c=n(658);c.alea=r,c.xor128=i,c.xorwow=a,c.xorshift7=o,c.xor4096=s,c.tychei=u,t.exports=c},function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));n(21),n(27),n(5),n(19);var r=n(130),i=n(17),a=n(11),o=n(8),s=n(1),u=n(124),c=n(0),l=n(4),h=n(53),d=n(9),p=n(262);function f(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function m(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){f(a,r,i,o,s,"next",t)}function s(t){f(a,r,i,o,s,"throw",t)}o(void 0)}))}}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t){var e,n;function r(e){var n;return v(g(n=t.call(this,e)||this),"app",void 0),v(g(n),"bg",void 0),v(g(n),"contentMask",void 0),v(g(n),"bottomVignette",void 0),v(g(n),"trophy",void 0),v(g(n),"trophy2",void 0),v(g(n),"trophy3",void 0),v(g(n),"trophy4",void 0),v(g(n),"trophy5",void 0),v(g(n),"party",void 0),v(g(n),"wonMessage",void 0),v(g(n),"leagueText",void 0),v(g(n),"completedMessage",void 0),v(g(n),"completedMessage2",void 0),v(g(n),"continueButton",void 0),v(g(n),"tournamentButton",void 0),v(g(n),"unlockablesButton",void 0),v(g(n),"_showAllCompleted",void 0),v(g(n),"targetMaskScale",void 0),n.app=e,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,y(e,n);var f=r.prototype;return f.init=function(){var t=m(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.contentMask=new c.Sprite(c.Texture.WHITE),this.contentMask.anchor.set(.5),this.view.addChild(this.contentMask),this.view.mask=this.contentMask,this.bg=new p.a,this.view.addChild(this.bg),this.bottomVignette=c.Sprite.from("assets/base-app/backgrounds/pageantry-screen-lower-gradient-overlay.png"),this.bottomVignette.anchor.set(.5,1),this.view.addChild(this.bottomVignette),this.trophy4=new c.Sprite,this.trophy4.anchor.set(.5),this.view.addChild(this.trophy4),this.trophy5=new c.Sprite,this.trophy5.anchor.set(.5),this.view.addChild(this.trophy5),this.trophy2=new c.Sprite,this.trophy2.anchor.set(.5),this.view.addChild(this.trophy2),this.trophy3=new c.Sprite,this.trophy3.anchor.set(.5),this.view.addChild(this.trophy3),this.trophy=new c.Sprite,this.trophy.anchor.set(.5),this.view.addChild(this.trophy),e={fill:"white",fontSize:40,align:"center",dropShadow:!0,dropShadowDistance:3,dropShadowAlpha:.8,dropShadowAngle:Math.PI/2},this.wonMessage=new d.a("STR_LEAGUES_WON",e),this.wonMessage.anchor.set(.5),this.view.addChild(this.wonMessage),e={fill:"white",fontSize:76,align:"center",dropShadow:!0,dropShadowDistance:3,dropShadowAlpha:.8,dropShadowAngle:Math.PI/2},this.leagueText=new d.a("[LEAGUE]",e),this.leagueText.anchor.set(.5),this.view.addChild(this.leagueText),e={fill:"white",fontSize:50,align:"center",dropShadow:!0,dropShadowDistance:3,dropShadowAlpha:.8,dropShadowAngle:Math.PI/2},this.completedMessage=new d.a("STR_LEAGUES_COMPLETED",e),this.completedMessage.anchor.set(.5),this.view.addChild(this.completedMessage),e={fill:"white",fontSize:30,align:"center",dropShadow:!0,dropShadowDistance:3,dropShadowAlpha:.8,dropShadowAngle:Math.PI/2},this.completedMessage2=new d.a("STR_LEAGUES_COMPLETED2",e),this.completedMessage2.anchor.set(.5),this.view.addChild(this.completedMessage2),this.continueButton=new a.c({text:"STR_CONTINUE",width:300}),this.view.addChild(this.continueButton),this.tournamentButton=new a.c({text:"STR_TITLE_TOURNAMENT",width:300}),this.view.addChild(this.tournamentButton),this.unlockablesButton=new a.c({text:"STR_TITLE_UNLOCKABLES",color:a.a.GREEN,width:300}),this.view.addChild(this.unlockablesButton),this.party=new u.a(1136,800,1),this.continueButton.onPress.add(this.proceed.bind(this)),this.tournamentButton.onPress.add(m(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.tournamentButton.interactive=!1,n.unlockablesButton.interactive=!1,t.next=4,n.app.controller.closeOverlay();case 4:n.app.controller.goto(l.a.SCREEN_ID.COUNTRY_SELECT);case 5:case"end":return t.stop()}}),t)})))),this.unlockablesButton.onPress.add(m(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.tournamentButton.interactive=!1,n.unlockablesButton.interactive=!1,t.next=4,n.app.controller.closeOverlay();case 4:n.app.controller.goto(l.a.SCREEN_ID.UNLOCKABLES);case 5:case"end":return t.stop()}}),t)}))));case 50:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),f.show=function(){var t=m(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=o.a.misc.promotion,this.reset(),this.contentMask.scale.x=0,this.trophy.texture=c.Texture.from(e.leagueWon.trophy),this.trophy2.texture=c.Texture.from(e.leagueWon.trophy),this.trophy3.texture=c.Texture.from(e.leagueWon.trophy),this.trophy4.texture=c.Texture.from(e.leagueWon.trophy),this.trophy5.texture=c.Texture.from(e.leagueWon.trophy),this.leagueText.setText(e.leagueWon.leagueName),this._showAllCompleted=e.allCompleted,this.bg.animate(),Object(s.delay)(.15).then((function(){return n.contentMask.scale.x=n.targetMaskScale})),t.next=14,this.app.controller.flash();case 14:i.default.playSfx("character_unlock"),Object(s.tween)(this.trophy.scale,.5,{x:1.6,y:1.6,ease:"Back.easeOut",onComplete:function(){return i.default.playSfx("crowd_normal_3")}}),Object(s.tween)(this.wonMessage.scale,.5,{x:1,ease:"Back.easeOut",delay:.25}),Object(s.tween)(this.leagueText.scale,.5,{x:1,ease:"Back.easeOut",delay:.5}),Object(s.tween)(this.continueButton,.4,{alpha:1,ease:"Quad.easeOut",delay:1,onComplete:function(){return n.continueButton.interactive=!0}});case 19:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),f.proceed=function(){var t=m(regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.continueButton.interactive=!1,this._showAllCompleted?(e=h.d.completed(),n=e.length,this.trophy2.texture=c.Texture.from(e[n-2].trophy),this.trophy3.texture=c.Texture.from(e[n-3].trophy),this.trophy4.texture=c.Texture.from(e[n-4].trophy),this.trophy5.texture=c.Texture.from(e[n-5].trophy),Object(s.tween)(this.continueButton,.4,{alpha:0,ease:"Quad.easeOut"}),Object(s.tween)(this.wonMessage.scale,.5,{x:0,ease:"Back.easeIn",delay:.25}),Object(s.tween)(this.leagueText.scale,.5,{x:0,ease:"Back.easeIn",delay:.5}),this.view.addChild(this.party),this.party.alpha=0,Object(s.tween)(this.party,1,{alpha:1,delay:1}),Object(s.tween)(this.trophy2.scale,.5,{x:1.2,y:1.2,ease:"Back.easeOut",delay:1.1}),Object(s.tween)(this.trophy3.scale,.5,{x:1.2,y:1.2,ease:"Back.easeOut",delay:1.2}),Object(s.tween)(this.trophy4.scale,.5,{x:1.2,y:1.2,ease:"Back.easeOut",delay:1.2}),Object(s.tween)(this.trophy5.scale,.5,{x:1.2,y:1.2,ease:"Back.easeOut",delay:1.2}),Object(s.tween)(this.completedMessage.scale,.5,{x:1,ease:"Back.easeOut",delay:1.25}),Object(s.tween)(this.completedMessage2.scale,.5,{x:1,ease:"Back.easeOut",delay:1.5}),this.tournamentButton.alpha=0,this.unlockablesButton.alpha=0,this.tournamentButton.visible=!0,this.unlockablesButton.visible=!0,Object(s.tween)(this.tournamentButton,.4,{alpha:1,ease:"Quad.easeOut",delay:2,onComplete:function(){return r.tournamentButton.interactive=!0}}),Object(s.tween)(this.unlockablesButton,.4,{alpha:1,ease:"Quad.easeOut",delay:2,onComplete:function(){return r.unlockablesButton.interactive=!0}})):this.app.controller.closeOverlay();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),f.update=function(t){this.party&&this.party.update(this.view.position,t)},f.hide=function(){var t=m(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.view.removeChild(this.party),Object(s.tween)(this.contentMask.scale,.3,{x:0,ease:"Quad.easeOut",onComplete:function(){return e.bg.stop()}});case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),f.reset=function(){this.trophy.scale.set(0),this.trophy2.scale.set(0),this.trophy3.scale.set(0),this.trophy4.scale.set(0),this.trophy5.scale.set(0),this.wonMessage.scale.x=0,this.leagueText.scale.x=0,this.completedMessage.scale.x=0,this.completedMessage2.scale.x=0,this.continueButton.interactive=!1,this.tournamentButton.interactive=!1,this.unlockablesButton.interactive=!1,this.continueButton.alpha=0,this.tournamentButton.alpha=0,this.unlockablesButton.alpha=0,this.tournamentButton.visible=!1,this.unlockablesButton.visible=!1},f.resize=function(t,e){this.contentMask.width=t,this.contentMask.height=e,this.contentMask.position.set(t/2,e/2),this.targetMaskScale=this.contentMask.scale.x,this.bg.resize(t,e),this.bg.position.set(t/2,e/2),this.bottomVignette.width=t,this.bottomVignette.height=2*e,this.bottomVignette.position.set(t/2,e),this.trophy.position.set(t/2,e/2-160),this.trophy2.position.set(t/2+240,e/2-160),this.trophy3.position.set(t/2-240,e/2-160),this.trophy4.position.set(t/2+480,e/2-170),this.trophy5.position.set(t/2-480,e/2-170),this.wonMessage.position.set(t/2,e/2+90),this.leagueText.position.set(t/2,this.wonMessage.position.y+this.wonMessage.height/2+this.leagueText.height/2),this.completedMessage.position.set(t/2,e/2+130),this.completedMessage2.position.set(t/2,this.completedMessage.position.y+this.completedMessage.height/2+this.completedMessage2.height/2),this.continueButton.position.set(t/2,this.leagueText.position.y+this.leagueText.height/2+30+this.continueButton.height/2),this.tournamentButton.position.set(t/2-155,this.completedMessage2.position.y+this.completedMessage2.height/2+15+this.tournamentButton.height/2),this.unlockablesButton.position.set(t/2+155,this.completedMessage2.position.y+this.completedMessage2.height/2+15+this.unlockablesButton.height/2),this.party&&(this.party.w=t,this.party.h=e)},r}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));n(5),n(19),n(107),n(99),n(23),n(88),n(126),n(34),n(139),n(21);var r=n(94),i=n(248),a=n(8),o=n(6),s=n(28),u=n(2),c=n(7);function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function h(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){f(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function p(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){d(a,r,i,o,s,"next",t)}function s(t){d(a,r,i,o,s,"throw",t)}o(void 0)}))}}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(){function t(t){f(this,"app",void 0),f(this,"baseData",void 0),f(this,"acpInitSuccess",!1),f(this,"analyticsVersion",""),f(this,"acpCoreVersion",""),f(this,"tick",void 0),f(this,"appLoadingTime",void 0),f(this,"initialised",!1),f(this,"_timeStamp",void 0),this.app=t}var e=t.prototype;return e.init=function(){var t=p(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.cordova){t.next=7;break}return t.next=3,this.getACPCoreVersion();case 3:return t.next=5,this.getAnalyticsVersion();case 5:return t.next=7,this.initACPCore();case 7:this.initialised=!0,this._timeStamp=Date.now(),this.appLoadingTime=0,this.tick=0,this.initBaseData(),c.c.add(o.a,this.onAnalyticsEventDispatched.bind(this));case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.getAnalyticsVersion=function(){var t=p(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.analyticsVersion){t.next=2;break}return t.abrupt("return",Promise.resolve());case 2:if(window.ACPAnalytics){t.next=5;break}return t.abrupt("return",Promise.resolve());case 5:return t.abrupt("return",new Promise((function(t){window.ACPAnalytics.extensionVersion((function(n){e.analyticsVersion=n,t()}),(function(e){t()}))})));case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.getACPCoreVersion=function(){var t=p(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.acpCoreVersion){t.next=2;break}return t.abrupt("return",Promise.resolve());case 2:if(window.ACPCore){t.next=5;break}return t.abrupt("return",Promise.resolve());case 5:return t.abrupt("return",new Promise((function(t){window.ACPCore.extensionVersion((function(n){e.acpCoreVersion=n,t()}),(function(e){t()}))})));case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.initACPCore=function(){var t=p(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.ACPCore){t.next=3;break}return t.abrupt("return",Promise.resolve());case 3:return this.acpInitSuccess=!0,window.ACPCore.setLogLevel(window.ACPCore.ACPMobileLogLevelVerbose),t.abrupt("return",Promise.resolve());case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e.initBaseData=function(){window.gamelevel="nvs";for(var t,e,n={gametitle:"Toon Cup 2022",gamecategory:"arcade, football, sports, team",gamecharacter:"nvs",gamefeature:"nvs",gamemode:"nvs",franchise:"the amazing world of gumball",screenorientation:"landscape",englishname:"toon cup 2022|football games|cartoon network",presentationtemplate:r.a.desktop?"desktop":r.a.tablet?"tablet":"mobile"},i=document.getElementsByTagName("meta"),a=0;a<i.length;a++)"build-version"===i[a].getAttribute("name")&&(t=i[a].getAttribute("content")),"build-date"===i[a].getAttribute("name")&&(e=i[a].getAttribute("content"));if(window.cordova)n.subregion="nvs",n.brand="cartoon network",n.version="app|"+t+"|"+t+"|"+e,n.platform="app",r.a.android?n.appname="app|toon cup 2022|android":r.a.ios&&(n.appname="app|toon cup 2022|ios");else{window.dataLayer?(n.region=window.dataLayer.region,n.subregion=window.dataLayer.subregion?window.dataLayer.subregion:"nvs",n.country=window.dataLayer.country,n.brand=window.dataLayer.siteBrand,n.domain=window.dataLayer.domain):(n.region="emea",n.subregion="northern europe",n.country="united kingdom",n.brand="cartoon network",n.domain="web|tooncup.cartoonnetwork.co.uk");var o="web";r.a.android&&(o="android"),r.a.ios&&(o="ios"),n.version=o+"|"+t+"|"+e,n.platform="web"}this.baseData=n},e.lateInitBaseData=function(){var t,e,n,r,i,o;window.cordova&&(this.baseData.region=null!==(t=null===(e=u.b.region)||void 0===e?void 0:e.ANALYTICS)&&void 0!==t?t:"emea",this.baseData.country="app|"+(null!==(n=null===(r=a.a.cache.userCountry)||void 0===r?void 0:r.toLowerCase())&&void 0!==n?n:"uk")+"|"+(null!==(i=null===(o=s.a.country_codes[a.a.cache.userCountry])||void 0===o?void 0:o.toLowerCase())&&void 0!==i?i:"united kingdom"))},e.onAnalyticsEventDispatched=function(t){if(this.initialised){var e;if(t.type===o.b.APP_LOADED)e={gameloadduration:Math.round(this.appLoadingTime/1e3)},this.appLoadingTime=null;else if(t.type===o.b.APP_TIME_SPENT_INTERVAL){if(!window.cordova)return;e={gametimespent:t.data.timeSpent,gamelevel:"nvs"}}else e=h({interactionevent:1},i.a[t.type](t.data));this._sendData(t.type,e)}},e._sendData=function(t,e){for(var n in e=h(h({},this.baseData),e)){var r=e[n];"number"==typeof r&&(e[n]=r.toString())}if(window.ACPCore){if(!this.acpInitSuccess)return;window.ACPCore.trackAction(t,e,(function(){}),(function(t){}))}else{var i,a={type:"game",data:e};null===(i=window.turner_metadata)||void 0===i||i.trackAction.push(a)}},e.update=function(){if(this.initialised){var t=Date.now()-this._timeStamp;null!==this.appLoadingTime&&(this.appLoadingTime+=t),this.tick+=t,this.tick>=6e4&&(this.onAnalyticsEventDispatched({type:o.b.APP_TIME_SPENT_INTERVAL,data:{timeSpent:60}}),this.tick=0),this._timeStamp=Date.now()}},t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));n(21),n(5),n(34),n(19);var r=n(53),i=n(6),a=n(7),o=n(24);function s(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l=function(){function t(t){c(this,"app",void 0),c(this,"_activeLeague",void 0),c(this,"onProgress",new o.Signal),this.app=t}var e,n,l,h=t.prototype;return h.init=function(){var t,e=(t=regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.d.all().forEach((function(t){t.status||(t.status=r.b.INCOMPLETE),t.points||(t.points=0),t.status===r.b.IN_PROGRESS&&(e=t)})),e||(e=r.d.next()),this._activeLeague=e;case 3:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){s(a,r,i,o,u,"next",t)}function u(t){s(a,r,i,o,u,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}(),h.progress=function(t){void 0!==this._activeLeague.points&&(this._activeLeague.points+=t);var e=this.checkPromote();this.onProgress.emit(e),this.app.storage.saveData("leagues")},h.checkPromote=function(){if(this._activeLeague.points&&this._activeLeague.points>=this._activeLeague.targetPoints){this._activeLeague.points=this._activeLeague.targetPoints,this._activeLeague.status=r.b.COMPLETED;var t=this._activeLeague.reward,e=this._activeLeague,n=r.d.next();return a.c.dispatch(i.a,{type:e.analytics}),n&&(n.status=r.b.IN_PROGRESS),this._activeLeague=n,{leagueWon:e,reward:t,allCompleted:!n}}return null},e=t,(n=[{key:"activeLeague",get:function(){return this._activeLeague}}])&&u(e.prototype,n),l&&u(e,l),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(5),n(19),n(21);var r=n(452),i=n(17),a=n(40),o=n(2);function s(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){var e,n;function c(e){return t.call(this,e,{title:"STR_CAPTAIN_SELECT_TITLE",enableBreadcrumb:!0,screenIdentifier:"captain"})||this}n=t,(e=c).prototype=Object.create(n.prototype),e.prototype.constructor=e,u(e,n);var l=c.prototype;return l.init=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.prototype.init.call(this),this.setPlayers(a.d.captains()),this.onCardSelected.connect((function(t){n.selectPlayer(t),o.b.teamA[0]=t.data,i.default.playVo(t.data.superSound),n.app.controller.breadcrumbNext()}));case 3:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(t){s(a,r,i,o,u,"next",t)}function u(t){s(a,r,i,o,u,"throw",t)}o(void 0)}))});return function(){return n.apply(this,arguments)}}(),l.show=function(){var e=this;t.prototype.show.call(this),window.FASTPLAY&&setTimeout((function(){var t=r.a.apply(void 0,e.cards);e.selectPlayer(t),o.b.teamA[0]=t.data,i.default.playVo(t.data.superSound),e.app.controller.breadcrumbNext()}),300)},c}(n(172).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));n(21),n(27),n(5),n(34),n(19);var r=n(130),i=n(273),a=n(9),o=n(44),s=n(1),u=n(134),c=n(147),l=n(123),h=n(0);function d(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){var e,n;function r(e){var n;return m(p(n=t.call(this,e)||this),"app",void 0),m(p(n),"background",void 0),m(p(n),"challengesContent",void 0),m(p(n),"brief",void 0),m(p(n),"scrollCombo",void 0),m(p(n),"challengePanels",[]),n.app=e,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,f(e,n);var g=r.prototype;return g.init=function(){var t,e=(t=regeneratorRuntime.mark((function t(){var e,n,r,s,d,p,f,m,g=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.background=new o.a({width:1e3,height:720,title:"STR_TITLE_CHALLENGES"}),this.view.addChild(this.background),this.brief=new a.a("STR_CHALLENGES_BRIEF",{fill:"#000",fontSize:26,wordWrap:!0,wordWrapWidth:750,maxHeight:200,align:"center"}),this.brief.anchor.set(.5),this.brief.y=-210,this.background.content.addChild(this.brief),this.challengesContent=new h.Container,this.challengesContent.x=77,this.challengesContent.y=-150,this.background.content.addChild(this.challengesContent),this.app.challenges.challenges.forEach((function(t){var e=new i.a;e.setContent(t),g.challengesContent.addChild(e),g.challengePanels.push(e)})),(e=new h.Graphics).beginFill(16711680),e.drawRect(0,0,850,480),e.endFill(),e.x-=e.width/2,e.y-=e.height/2-60,this.background.content.addChild(e),this.challengesContent.mask=e,this.challengePanels.length>3&&((n=new h.Graphics).drawRect(0,0,850,480),n.x-=n.width/2,n.y-=n.height/2-60,n.alpha=0,n.hitArea=new h.Rectangle(0,0,850,480),this.background.content.addChild(n),r={target:n},s=new l.a(r),(d=h.Sprite.from("scroll-bar-bit.png")).anchor.set(0,.5),p=h.Sprite.from("scroll-bar.png"),(f=new u.a({draggerHeight:40,dragLength:253,bar:p,dragger:d})).position.set(438,-80),this.background.content.addChild(f),m=new c.a({scrollbar:f,trackpad:s,min:0,max:3410}),this.scrollCombo=m,this.scrollCombo.scrollbar.visible=!0);case 21:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){d(a,r,i,o,s,"next",t)}function s(t){d(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}(),g.refresh=function(){this.challengePanels.forEach((function(t){t.refresh()}))},g.update=function(t){this.scrollCombo&&(this.scrollCombo.update(),this.challengesContent.y=this.scrollCombo.value-160)},g.hide=function(){},g.show=function(){this.refresh(),this.resize(this.width,this.height),this.background.scale.set(0);var t=(this.height-this.app.overlays.header.height)/this.background.panelHeight;Object(s.tween)(this.background.scale,1,{x:t,y:t,ease:"Elastic.easeOut",delay:.2})},g.resize=function(e,n){var r=this;t.prototype.resize.call(this,e,n),this.background.position.set(e/2,n/2),this.challengePanels.forEach((function(t,e){t.position.set(-r.background.panelWidth/2,160*e)})),this.scrollCombo&&(this.scrollCombo.max=this.challengesContent.height-450,this.scrollCombo.trackpad.scrollMinY=-this.scrollCombo.max)},r}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));n(21),n(27),n(39),n(38),n(92),n(5),n(19);var r=n(80),i=n(17),a=n(40),o=n(49),s=n(8),u=n(6),c=n(9),l=n(265),h=n(1),d=n(124),p=n(0),f=n(7),m=n(4),g=n(199);function y(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(t){var e,n;function w(e){var n;return _(v(n=t.call(this,e,g.a.CHARACTERS)||this),"characterUnlockedText",void 0),_(v(n),"speedBar",void 0),_(v(n),"powerBar",void 0),_(v(n),"accuracyBar",void 0),_(v(n),"playerCardContainer",void 0),_(v(n),"shadow",void 0),_(v(n),"card",void 0),_(v(n),"party",void 0),n}n=t,(e=w).prototype=Object.create(n.prototype),e.prototype.constructor=e,b(e,n);var x=w.prototype;return x.init=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n,r,i,o,s,l,h,g=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t.prototype.init.call(this),n={fill:"black",fontSize:35,align:"center"},this.characterUnlockedText=new c.a("STR_UNLOCKABLES_CHARACTER_UNLOCKED",n),this.characterUnlockedText.anchor.set(.5),this.characterUnlockedText.position.set(0,295),this.background.content.addChild(this.characterUnlockedText),this.characterUnlockedText.visible=!1,this.speedBar=p.Sprite.from("bar-speed.png"),this.speedBar.position.x=-455,this.speedBar.position.y=-275,this.background.content.addChild(this.speedBar),r=0;r<10;r++)(i=p.Sprite.from("bar-speed-bit.png")).position.x=70+21*r,i.position.y=6,this.speedBar.addChild(i);for(this.powerBar=p.Sprite.from("bar-power.png"),this.powerBar.position.x=-145,this.powerBar.position.y=-275,this.background.content.addChild(this.powerBar),o=0;o<10;o++)(s=p.Sprite.from("bar-power-bit.png")).position.x=70+21*o,s.position.y=6,this.powerBar.addChild(s);for(this.accuracyBar=p.Sprite.from("bar-accuracy.png"),this.accuracyBar.position.x=163,this.accuracyBar.position.y=-275,this.background.content.addChild(this.accuracyBar),l=0;l<10;l++)(h=p.Sprite.from("bar-accuracy-bit.png")).position.x=70+21*l,h.position.y=6,this.accuracyBar.addChild(h);this.speedBar.visible=!1,this.powerBar.visible=!1,this.accuracyBar.visible=!1,this.contentContainer.position.y=5,this.unlockables=a.d.showable(),this.playerCardContainer=new p.Container,this.shadow=new p.Graphics,this.shadow.beginFill(0),this.shadow.interactive=!0,this.shadow.drawRect(0,0,500,500),this.party=new d.a(this.app.width,this.app.height,1),this.onUnlockableUnlocked.connect(this.characterUnlocked.bind(this)),this.onDataUpdated.connect(this.updateCharacterData.bind(this)),-1===u.g.indexOf(m.a.SCREEN_ID.CHARACTERS)?f.c.add(u.e,(function(t){t.type===u.f.SCREEN_ASSETS_LOADED&&t.screenId===m.a.SCREEN_ID.CHARACTERS&&(g.assetsLoaded=!0,g.background.hideSpinner(),g.active&&g.showContent())})):(this.assetsLoaded=!0,this.background.hideSpinner(!0));case 37:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(t){y(a,r,i,o,s,"next",t)}function s(t){y(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(){return n.apply(this,arguments)}}(),x.characterUnlocked=function(){var t=this,e=this.unlockables[this.currentIndex];this.app.characters.unlockCharacter(e.id);Object(h.tween)(this.gridOverlay,1,{alpha:0}),Object(h.tween)(this.costPanel,1,{alpha:0}),Object(h.tween)(this.infoText,1,{alpha:0}),Object(h.tween)(this.sliderBar,1,{alpha:0}),this.view.addChild(this.shadow),this.shadow.alpha=0,this.view.addChild(this.party),Object(h.tween)(this.shadow,1,{alpha:.5,delay:1}),this.playerCardContainer.children.length=0,this.view.addChild(this.playerCardContainer);var n=new l.a(this.app);n.updateData(e),this.card=n,this.playerCardContainer.addChild(n),n.position.y=2*-this.height,Object(h.tween)(n.position,1,{y:-50,ease:"Back.easeOut",delay:2}),Object(h.delay)(3).then((function(){i.default.playSfx("character_unlock"),n.shine(),n.fadeIn(2)}));var r=new c.a("STR_UNLOCKABLES_NEWCHARACTER",{fill:"white",fontSize:40,stroke:!0,strokeThickness:8,lineJoin:"round",letterSpacing:3});r.anchor.set(.5),r.position.set(0,300),r.alpha=0,this.playerCardContainer.addChild(r),Object(h.tween)(r,2,{alpha:1,delay:3}),this.party.alpha=0,Object(h.tween)(this.party,1,{alpha:1,delay:2}),Object(h.tween)(n.position,1,{y:2*-this.height,ease:"Back.easeIn",delay:7}),Object(h.tween)(r,1,{alpha:0,delay:7}),Object(h.tween)(this.party,1,{alpha:0,delay:7}),Object(h.tween)(this.shadow,1,{alpha:0,delay:7,onComplete:function(){t.card=null,t.view.removeChild(t.shadow),t.view.removeChild(t.playerCardContainer),t.view.removeChild(t.party),t.gridOverlay.alpha=1,t.costPanel.alpha=1,t.infoText.alpha=1,t.sliderBar.alpha=1,t.updateState()}})},x.update=function(e){t.prototype.update.call(this,e),this.party&&this.party.update(this.view.position,e),this.card&&this.card.update(e)},x.updateCharacterData=function(){var t=this.unlockables[this.currentIndex];this.refreshPosterTexture();for(var e=0;e<this.speedBar.children.length;e++){var n=this.speedBar.children[e];10*t.speed<e+1?n.visible=!1:n.visible=!0}for(var r=0;r<this.powerBar.children.length;r++){var i=this.powerBar.children[r];10*t.power<r+1?i.visible=!1:i.visible=!0}for(var a=0;a<this.accuracyBar.children.length;a++){var o=this.accuracyBar.children[a];10*t.skill<a+1?o.visible=!1:o.visible=!0}},x.refreshPosterTexture=function(){var t=this,e=this.unlockables[this.currentIndex];this.poster.texture=p.Texture.from("assets/content/characters/character-posters/"+e.poster),setTimeout((function(){return t.poster.scale.set((t.gridOverlay.texture.width-5)/t.poster.texture.width)}),100)},x.updateState=function(){t.prototype.updateState.call(this);var e=this.unlockables[this.currentIndex],n=o.a.coins>=m.a.UNLOCKABLES.PRICE;if(e.locked){if(this.characterUnlockedText.visible=!1,this.background.title.setText(r.b.translate("STR_UNLOCKABLES_UNLOCK")+("fr"===s.a.settings.language?" ":"")+": "+r.b.translate(e.name)+" ("+r.b.translate(e.brandName)+")"),n){var i=r.b.translate("STR_UNLOCKABLES_COMPLETE").split("\n");this.infoText.setText(i[1])}}else this.characterUnlockedText.visible=!0,this.background.title.setText(r.b.translate("STR_UNLOCKABLES_UNLOCKED")+("fr"===s.a.settings.language?" ":"")+": "+r.b.translate(e.name)+" ("+r.b.translate(e.brandName)+")");e.isNew?(this.showNotification(),e.isNew=!1,this.app.characters.save()):this.hideNotification()},x.show=function(){if(s.a.misc.forceShowCharacterId){for(var e=0;e<this.unlockables.length;e++)if(this.unlockables[e].id===s.a.misc.forceShowCharacterId){this.currentIndex=e;break}s.a.misc.forceShowCharacterId=null}this.view.removeChild(this.party),this.view.removeChild(this.shadow),this.playerCardContainer.children.length=0,t.prototype.show.call(this),this.assetsLoaded&&this.showContent()},x.showContent=function(){t.prototype.showContent.call(this),this.speedBar.visible=!0,this.powerBar.visible=!0,this.accuracyBar.visible=!0,this.updateState()},x.resize=function(e,n){t.prototype.resize.call(this,e,n),this.party&&(this.party.w=e,this.party.h=n),this.playerCardContainer.position.set(e/2,n/2),this.shadow.width=e,this.shadow.height=n},w}(g.b)},function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));n(21),n(27),n(5),n(19);var r=n(94),i=n(222),a=n(11),o=n(8),s=n(1),u=n(0),c=n(7);function l(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){l(a,r,i,o,s,"next",t)}function s(t){l(a,r,i,o,s,"throw",t)}o(void 0)}))}}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var m=function(t){var e,n;function i(){var e;f(d(e=t.call(this)||this),"cnLogo",void 0),f(d(e),"gameLogo",void 0),f(d(e),"loadingBar",void 0),f(d(e),"blackShade",void 0),f(d(e),"logo",void 0),f(d(e),"playButton",void 0),f(d(e),"loaded",void 0),f(d(e),"_setupReady",!1),f(d(e),"_w",void 0),f(d(e),"_h",void 0),e.loaded=!1,e.blackShade=new u.Sprite(u.Texture.WHITE),e.blackShade.tint=0,e.view.addChild(e.blackShade),e.cnLogo=u.Sprite.from("assets/preload/logo-cn.png"),e.cnLogo.anchor.set(.5),e.view.addChild(e.cnLogo),e.loadingBar=new u.Container,e.view.addChild(e.loadingBar);for(var n=[],r=1;r<=6;r++)n.push(u.Texture.from("assets/preload/bar-"+r+".png"));var i=new u.AnimatedSprite(n),a=u.Sprite.from("assets/preload/bar-top.png");return i.anchor.set(.5),a.anchor.set(.5),e.loadingBar.addChild(i),e.loadingBar.addChild(a),i.animationSpeed=.2,i.play(),e.bar.visible=!1,e.cnLogo.visible=!1,e.loadingBar.visible=!1,e}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,p(e,n);var l=i.prototype;return l.showIntro=function(){var t=h(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return null===(e=window.navigator.splashscreen)||void 0===e||e.hide(),n=u.Sprite.from("assets/preload/cn_intro.mp4"),(r=n.texture.baseTexture.resource.source).volume=o.a.settings.muted?0:1,n.anchor.set(.5),n.x=this._w/2,n.y=this._h/2,this.view.addChild(n),t.next=10,new Promise((function(t){r.addEventListener("ended",(function(){return t()}),!1)}));case 10:return t.next=12,Object(s.tween)(n,.5,{alpha:0,ease:"Quad.easeIn"});case 12:this.view.removeChild(n),!1,t.next=30;break;case 25:return t.next=27,Object(s.delay)(2);case 27:this.endSplash(),t.next=31;break;case 30:this.endSplash();case 31:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.endSplash=function(){var t=h(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this._setupReady||this.logo&&1===this.logo.alpha){t.next=3;break}return this._setupReady=!0,t.abrupt("return");case 3:if(!this.logo){t.next=8;break}return t.next=6,Object(s.tween)(this.logo,.5,{alpha:0,ease:"Quad.easeOut"});case 6:t.next=10;break;case 8:return t.next=10,Object(s.delay)(.1);case 10:c.a.startup();case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.showLoader=function(){var t=h(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.cnLogo.y=this._h/2-80,this.cnLogo.alpha=0,this.loadingBar.scale.x=1.8,this.loadingBar.scale.y=0,this.cnLogo.visible=this.loadingBar.visible=!0,t.next=7,Object(s.tween)(this.cnLogo,.5,{alpha:1,ease:"Quad.easeOut"});case 7:return t.next=9,Object(s.tween)(this.loadingBar.scale,1,{x:1,y:1,ease:"Elastic.easeOut"});case 9:Object(s.tween)(this.blackShade,.5,{alpha:0,ease:"Quad.easeOut"}),Object(s.delay)(8).then((function(){e.loaded}));case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.showPlayButton=function(){var t=h(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loaded=!0,t.next=3,Object(s.delay)(1.5);case 3:return t.next=5,Object(s.tween)(this.loadingBar.scale,.5,{x:1.5,y:0,ease:"Back.easeIn"});case 5:if(this.view.removeChild(this.loadingBar),Object(s.tween)(this.cnLogo.scale,.8,{x:1.3,y:1.3,ease:"Sine.easeOut"}),Object(s.tween)(this.cnLogo,.8,{y:this._h/2-200,ease:"Sine.easeOut"}),(e=u.Sprite.from("assets/preload/cn-games-logo.png")).anchor.set(.5),e.scale.set(.3),e.alpha=0,e.x=this._w/2,e.y=this._h/2-50,this.view.addChild(e),this.gameLogo=e,.3,Object(s.tween)(e,.5,{alpha:1,ease:"Sine.easeOut",delay:.3}),Object(s.tween)(e.scale,.5,{x:.4,y:.4,ease:"Sine.easeOut",delay:.3}),(n=new a.c({icon:"play-button.png",iconScale:1.8,noBackground:!0})).x=this._w/2,n.y=this._h/2+150,n.scale.set(1.8,0),n.onPress.addOnce((function(){if(r.a.android||r.a.ios){var t=document.querySelector("canvas");null!=t&&t.requestFullscreen?t.requestFullscreen():null!=t&&t.webkitRequestFullscreen?t.webkitRequestFullscreen():null!=t&&t.msRequestFullscreen&&t.msRequestFullscreen()}n.disable(),c.a.startup()})),this.view.addChild(n),this.playButton=n,!window.FASTPLAY){t.next=31;break}n.disable(),c.a.startup(),t.next=33;break;case 31:return t.next=33,Object(s.tween)(n.scale,1.1,{x:1,y:1,ease:"Elastic.easeOut",delay:.8});case 33:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.updateProgress=function(e){t.prototype.updateProgress.call(this,e)},l.shown=function(){var t=h(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:window.FASTPLAY?window.cordova?(this._setupReady=!0,c.a.startup()):this.showLoader():window.cordova?this.showIntro():this.showLoader();case 1:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.hide=function(){var e=h(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.prototype.hide.call(this);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l.resize=function(t,e){this._w=t,this._h=e,this.blackShade.width=t,this.blackShade.height=e,this.cnLogo.x=t/2,this.gameLogo&&(this.gameLogo.x=t/2,this.playButton.x=t/2),this.loadingBar.x=t/2,this.loadingBar.y=e/2+60},i}(i.a)},function(t,e,n){var r;void 0===(r=function(t,e,r){n(0);var i=function(){this.x=0,this.y=0,this.rotation=0,this.zoom=1,this.viewWidth=1130,this.viewHeight=640};i.prototype.update=function(){},i.prototype.resize=function(t,e){this.viewWidth=t,this.viewHeight=e},r.exports=i}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t,e,n){var r=function(){this._states={up:0,down:1},this._keyCodes={37:{label:"left",state:0,preventBubble:!0},38:{label:"up",state:0,preventBubble:!0},39:{label:"right",state:0,preventBubble:!0},40:{label:"down",state:0,preventBubble:!0},49:{label:"1",state:0,preventBubble:!0},50:{label:"2",state:0,preventBubble:!0},51:{label:"3",state:0,preventBubble:!0},52:{label:"4",state:0,preventBubble:!0},53:{label:"5",state:0,preventBubble:!0},54:{label:"6",state:0,preventBubble:!0},55:{label:"7",state:0,preventBubble:!0},56:{label:"8",state:0,preventBubble:!0},57:{label:"9",state:0,preventBubble:!0},97:{label:"numpad1",state:0,preventBubble:!0},98:{label:"numpad2",state:0,preventBubble:!0},99:{label:"numpad3",state:0,preventBubble:!0},100:{label:"numpad4",state:0,preventBubble:!0},101:{label:"numpad5",state:0,preventBubble:!0},102:{label:"numpad6",state:0,preventBubble:!0},103:{label:"numpad7",state:0,preventBubble:!0},104:{label:"numpad8",state:0,preventBubble:!0},105:{label:"numpad9",state:0,preventBubble:!0},13:{label:"enter",state:0,preventBubble:!0},32:{label:"space",state:0,preventBubble:!0},65:{label:"a",state:0,preventBubble:!0},68:{label:"d",state:0,preventBubble:!0},83:{label:"s",state:0,preventBubble:!0},87:{label:"w",state:0,preventBubble:!0},89:{label:"y",state:0,preventBubble:!0},90:{label:"z",state:0,preventBubble:!0},88:{label:"x",state:0,preventBubble:!0}},this.hash={},this.hashUp={},this.disabled=!1,this.start(),this.dirty=!1};r.prototype.start=function(){var t=this;this._onKeyDown=function(e){return t.processKeyDown(e)},this._onKeyUp=function(e){return t.processKeyUp(e)},window.addEventListener("keydown",this._onKeyDown,!1),window.addEventListener("keyup",this._onKeyUp,!1)},r.prototype.stop=function(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp)},r.prototype.processKeyDown=function(t){if(!0!==this.disabled){var e=t.keyCode;if(this.keyCode=e,this._keyCodes.hasOwnProperty(e)){var n=this._keyCodes[e];n.preventBubble&&t.preventDefault(),n.state!=this._states.down&&(n.state=this._states.down,this.dirty=!0,this.hash[n.label]&&this.hash[n.label](n))}}},r.prototype.processKeyUp=function(t){if(!0!==this.disabled){var e=t.keyCode;if(this.keyCode=null,this._keyCodes.hasOwnProperty(e)){var n=this._keyCodes[e];n.preventBubble&&t.preventDefault(),n.state!=this._states.up&&(n.state=this._states.up,this.dirty=!0,this.hashUp[n.label]&&this.hashUp[n.label](n))}}},r.prototype.isPressed=function(t){var e=this.getCodeFromLabel(t);return!!e&&this._keyCodes[e].state===this._states.down},r.prototype.getCodeFromLabel=function(t){for(var e in this._keyCodes)if(this._keyCodes[e].label===t)return e;return!1},r.prototype.onKeyPress=function(t,e){this.hash[t]=e},r.prototype.onKeyRelease=function(t,e){this.hashUp[t]=e},n.exports=r}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){(function(r){var i;void 0===(i=function(t,e,r){var i=n(0),a=(n(47),new i.Point),o=function(t){t=t||{},this.view=new i.Container,this.view.hitArea=new i.Rectangle(0,0,1e4,1e4),this.view.interactive=!0,this.dot=t.background||(new i.Graphics).beginFill(16711680,.4).drawCircle(0,0,70),this.view.addChild(this.dot),this.pad=t.stick||(new i.Graphics).beginFill(16711680).drawCircle(0,0,50),this.pad.interactive=!0,t.stick||(this.pad.hitArea=new i.Circle(0,0,60)),this.pad.alpha=.6,this.view.addChild(this.pad),this.range=30,this.pad.on("mousedown",this.down,this),this.view.on("mouseup",this.up,this),this.view.on("mouseupoutside",this.up,this),this.pad.on("touchstart",this.down,this),this.view.on("touchend",this.up,this),this.view.on("touchendoutside",this.up,this),this.delta=new i.Point};o.prototype.update=function(t){},o.prototype.down=function(t){this.view.hitArea=this.hit,this.moveId=t.data.identifier,this.isDown=!0;t.data.getLocalPosition(this.view,a);this.pad.alpha=1,this.view.on("mousemove",this.move,this),this.view.on("touchmove",this.move,this)},o.prototype.up=function(t){if(this.view.hitArea=null,this.moveId===t.data.identifier){this.moveId=99999999,this.isDown=!1;t.data.getLocalPosition(this.view,a);this.pad.x=0,this.pad.y=0,this.pad.alpha=.6,this.delta.x=0,this.delta.y=0,this.view.off("mousemove",this.move,this),this.view.off("touchmove",this.move,this)}},o.prototype.move=function(t){if(this.moveId===t.data.identifier){var e=t.data.getLocalPosition(this.view,a);this.pad.x=e.x,this.pad.y=e.y;var n=e.x,r=e.y,i=Math.sqrt(n*n+r*r);n/=i,r/=i,i>this.range&&(i=this.range),this.pad.x=n*i,this.pad.y=r*i,this.delta.x=n*i/30,this.delta.y=r*i/30}},r.exports=o}.call(e,n,e,t))||(t.exports=i)}).call(this,n(0))},function(t,e,n){(function(r){var i;void 0===(i=function(t,e,r){var i=n(45),a=n(0),o=function(t){a.Container.call(this),this.view=this,t&&this.addChild(t),this.onPress=new i,this.onDown=new i,this.onUp=new i,this.onHover=new i,this.onOut=new i,this.mousedown=this.touchstart=this.onDown.dispatch.bind(this,this),this.mouseup=this.touchend=this.onUp.dispatch.bind(this,this),this.click=this.tap=this.onPress.dispatch.bind(this,this),this.mouseover=this.onHover.dispatch.bind(this,this),this.touchendoutside=this.mouseupoutside=this.mouseout=this.onOut.dispatch.bind(this,this),this.onDown.add(this.down,this),this.onUp.add(this.up,this),this.onHover.add(this.hover,this),this.onOut.add(this.out,this),this._scale=new a.Point,this.enable()};(o.prototype=Object.create(a.Container.prototype)).constructor=o,o.prototype.setSize=function(t){switch(t){case"small":this.scale.set(.5);break;case"big":this.scale.set(2);break;default:this.scale.set(1)}},o.prototype.enable=function(){this.interactive=!0,this.buttonMode=!0},o.prototype.disable=function(){this.interactive=!1,this.buttonMode=!1},o.prototype.down=function(t,e){},o.prototype.up=function(t,e){},o.prototype.hover=function(t,e){},o.prototype.out=function(t,e){},o.prototype.show=function(){this.visible=!0,this.enable()},o.prototype.hide=function(){this.disable(),this.visible=!1},r.exports=o}.call(e,n,e,t))||(t.exports=i)}).call(this,n(0))},function(t,e,n){n(0);var r=n(12),i=(n(95),n(104),n(667),n(47),n(26).LegacyUtils),a=function(t){r.Object3D.call(this),this.owner=t,this.reticle=i.getMesh("player_marker_shoot.png",.5,1),this.add(this.reticle),this.reticle.scale.x*=1.5,this.reticle.scale.y*=1.5,this.reticle.scale.z*=1.5};(a.prototype=Object.create(r.Object3D.prototype)).setArrows=function(t){this.team=t},a.prototype.update=function(){},t.exports=a},function(t,e,n){(function(e){var r=n(1).delay,i=n(43),a=function(t){this.game=t,this.active=!1,this.ticker=new i,this.ticker.add(this.update,this,1)};a.prototype.run=function(t,n){i.game.stop(),this.ticker.start(),this.active=!0,this.result=n,this.player=t,0===n&&(t.chargeBar.showText("STR_SUPERSHOT_WEAK"),this.game.teamManagerLeft.canShoot=!1),1===n&&t.chargeBar.showText("STR_SUPERSHOT_PERFECT"),2===n&&(t.chargeBar.showText("STR_SUPERSHOT_MISS"),t.chargeBar.frame.texture=e.Texture.from("shoot-charge-frame-miss.png")),r(1).then(this.onFinish.bind(this))},a.prototype.update=function(){this.player.chargeBar.update()},a.prototype.onFinish=function(){this.active&&(this.game.active=!0,this.ticker.stop(),1===this.result?this.game.scripts.super.run(this.player):(this.game.teamManagerLeft.enableShoot(),this.game.tutorialCompleted||(this.player.view3d.animationLocked=!1,this.player.view3d.playSpineAnimation("Idle",!0),this.game.tutorialManager.skipButton.visible=!0),this.game.paused=!1,i.game.start()))},a.prototype.reset=function(){this.active=!1,this.ticker.stop()},t.exports=a}).call(this,n(0))},function(t,e,n){var r=n(43),i=n(17).default,a=function(t){this.game=t,this.active=!1};a.prototype.run=function(t){this.game.active=!1,this.active=!0,r.game.stop(),this.game.superMove.onFinish.addOnce(this.onFinish,this),this.game.superMove.scale.x=this.game.halfTimeSwapped?-1:1,this.game.superMove.show(t.data),this.game.vignette.alpha=0},a.prototype.onFinish=function(){this.active&&(r.game.start(),i.playSfx("big_kick"),this.game.active=!0,this.game.ball.rect.visible=!0)},a.prototype.reset=function(){this.game.active=!0,this.active=!1},t.exports=a},function(t,e,n){var r=n(48).Const.PLAYER_STATE,i={dx:0,dy:0,player:null};t.exports=function(t,e,n,a){for(var o,s=n.children,u=1/0,c=s[0],l=0,h=0,d=0;d<s.length;d++)if((o=s[d]).state!==r.FALL){var p=o.position.x-t.position.x,f=o.position.y-t.position.y,m=Math.sqrt(p*p+f*f)||1e-9;p/=m,f/=m,o===e&&(m-=100),m<u&&(l=p,h=f,c=o,u=m)}return i.dx=l,i.dy=h,i.player=c,i}},function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));n(21),n(27),n(5),n(19);var r=n(130),i=n(4),a=n(6),o=n(257),s=n(44),u=n(1),c=n(0),l=n(7);function h(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function d(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){h(a,r,i,o,s,"next",t)}function s(t){h(a,r,i,o,s,"throw",t)}o(void 0)}))}}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){var e,n;function r(e){var n;return m(p(n=t.call(this,e)||this),"app",void 0),m(p(n),"background",void 0),m(p(n),"icon",void 0),m(p(n),"languageSelector",void 0),n.app=e,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,f(e,n);var h=r.prototype;return h.init=function(){var t=d(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.background=new s.a({width:1080,height:700}),this.view.addChild(this.background),this.icon=c.Sprite.from("icon-language.png"),this.icon.tint=4796424,this.icon.anchor.set(.5),this.icon.scale.set(.7),this.background.addChild(this.icon),this.icon.y=55-this.background.panelHeight/2,this.languageSelector=new o.a(this.app,this.background.panelWidth,this.background.panelHeight),this.background.content.addChild(this.languageSelector),this.languageSelector.onConfirmed.connect(this.onConfirmed.bind(this));case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),h.onConfirmed=function(){var t=d(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.background.interactiveChildren=!1,t.next=3,this.languageSelector.hide();case 3:return t.next=5,Object(u.tween)(this.background.scale,.4,{x:0,ease:"Back.easeIn"});case 5:this.app.controller.goto(i.a.SCREEN_ID.TITLE),l.c.dispatch(a.a,{type:a.b.APP_STARTED}),l.c.dispatch(a.a,{type:a.b.APP_MAIN_MENU_LOADED});case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),h.show=function(){this.resize(this.width,this.height),this.background.scale.x=0,this.background.interactiveChildren=!1},h.shown=function(){var t=d(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(u.tween)(this.background.scale,.3,{x:this.width/this.height<1.5?.8:1,ease:"Back.easeOut"});case 2:return t.next=4,this.languageSelector.show();case 4:this.background.interactiveChildren=!0;case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),h.resize=function(e,n){t.prototype.resize.call(this,e,n),this.background.position.set(e/2,n/2),this.background.scale.set(e/n<1.5?.8:1)},r}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return E}));n(21),n(27),n(5),n(107),n(34),n(83),n(19),n(99),n(23),n(88),n(126),n(139);var r=n(80),i=n(130),a=n(82),o=n(8),s=n(6),u=n(200),c=n(28),l=n(9),h=n(135),d=n(44),p=n(1),f=n(134),m=n(147),g=n(123),y=n(2),v=n(0),b=n(7);function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function w(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function x(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){w(a,r,i,o,s,"next",t)}function s(t){w(a,r,i,o,s,"throw",t)}o(void 0)}))}}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E=function(t){var e,n;function i(e){var n;return M(S(n=t.call(this,e)||this),"app",void 0),M(S(n),"background",void 0),M(S(n),"board",void 0),M(S(n),"noInternetImage",void 0),M(S(n),"boardContent",void 0),M(S(n),"userCountry",void 0),M(S(n),"boardOuterWrapper",void 0),M(S(n),"scrollTextContainer",void 0),M(S(n),"boardCache",void 0),M(S(n),"_scrollTextData",void 0),M(S(n),"scrollTexts",void 0),M(S(n),"scrollingJumbotron",void 0),M(S(n),"screenData",void 0),M(S(n),"shineables",void 0),M(S(n),"topShade",void 0),M(S(n),"bottomShade",void 0),M(S(n),"scrollCombo",void 0),M(S(n),"scrollerOffset",void 0),n.app=e,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,T(e,n);var w=i.prototype;return w.init=function(){var t=x(regeneratorRuntime.mark((function t(){var e,n,r,i,o,u,c,p,y,_,w,x,S,T,M,E,A,k;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(e=this.app.globalEvents.event,n=e&&e.status===a.a.ACTIVE,this.background=new d.a({width:1e3,height:760,title:n?this.app.globalEvents.event.title:"STR_TITLE_LEADERBOARD",hasLoader:!0}),this.view.addChild(this.background),this.boardOuterWrapper=new v.Container,this.background.content.addChild(this.boardOuterWrapper),(r=v.Sprite.from("leaderboard-line.png")).anchor.x=.5,r.y=215,this.boardOuterWrapper.addChild(r),this.board=v.Sprite.from("board-today.png"),this.board.anchor.set(.5),this.board.y=40,this.boardOuterWrapper.addChild(this.board),-206,290,(i={fill:"#fff",fontSize:30}).maxWidth=200,this.scrollingJumbotron=new h.b({loop:-1}),this.background.content.addChild(this.scrollingJumbotron),this.scrollingJumbotron.scale.set(.7),this.scrollingJumbotron.y=-220,(o=new l.a(n?"STR_LEADERBOARD_TOURNAMENT":"STR_LEADERBOARD_TODAY",i)).anchor.set(.5),o.x=-290,o.y=-206,this.board.addChild(o),(o=new l.a(n?"STR_LEADERBOARD_TODAY":"STR_LEADERBOARD_WEEK",i)).anchor.set(.5),o.x=0,o.y=-206,this.board.addChild(o),(o=new l.a(n?"STR_LEADERBOARD_WEEK":"STR_LEADERBOARD_HALLOFFAME",i)).anchor.set(.5),o.x=290,o.y=-206,this.board.addChild(o),this.noInternetImage=v.Sprite.from("no-database.png"),this.noInternetImage.anchor.set(.5),this.noInternetImage.y=-22,this.noInternetImage.visible=!1,this.boardOuterWrapper.addChild(this.noInternetImage),230,80,(u=new v.Container).hitArea=new v.Rectangle(-115,-40,230,80),u.interactive=!0,u.buttonMode=!0,u.x=-290,u.y=-206,u.on("pointertap",this.changeBoard.bind(this,n?"tournament":"today")),this.board.addChild(u),(u=new v.Container).hitArea=new v.Rectangle(-115,-40,230,80),u.interactive=!0,u.buttonMode=!0,u.x=0,u.y=-206,u.on("pointertap",this.changeBoard.bind(this,n?"today":"this-week")),this.board.addChild(u),(u=new v.Container).hitArea=new v.Rectangle(-115,-40,230,80),u.interactive=!0,u.buttonMode=!0,u.x=290,u.y=-206,u.on("pointertap",this.changeBoard.bind(this,n?"this-week":"tournament")),this.board.addChild(u),this.boardContent=new v.Container,this.boardContent.x=-407,this.board.addChild(this.boardContent),(c=new v.Graphics).beginFill(16711680),c.drawRect(0,0,840,335),c.endFill(),c.x-=c.width/2,c.y-=c.height/2-5,this.board.addChild(c),this.boardContent.mask=c,(p=new v.Graphics).drawRect(0,0,840,335),p.x-=p.width/2,p.y-=p.height/2-5,p.alpha=0,p.hitArea=new v.Rectangle(0,0,840,335),this.board.addChild(p),y=new g.a({target:p}),_=v.Sprite.from("scrollbar-base.png"),w=v.Sprite.from("scrollbar-handle.png"),x=_.texture.height,225,_.anchor.set(.5,0),w.anchor.set(.5),(S=new f.a({draggerHeight:225,dragLength:x,bar:_,dragger:w})).scale.set(.6),S.position.set(this.background.panelWidth/2-50,180-this.background.panelHeight/2),this.board.addChild(S),T=new m.a({scrollbar:S,trackpad:y,min:0,max:3410}),this.scrollCombo=T,this.topShade=v.Sprite.from("shade.png"),this.bottomShade=v.Sprite.from("shade.png"),this.topShade.anchor.set(.5,0),this.bottomShade.anchor.set(.5,0),this.bottomShade.rotation=Math.PI,this.topShade.x=this.bottomShade.x=c.x+c.width/2,this.topShade.y=c.y,this.bottomShade.y=c.y+c.height,this.topShade.width=this.bottomShade.width=c.width-26,this.topShade.height=this.bottomShade.height=.1*c.height,this.topShade.alpha=this.bottomShade.alpha=0,this.board.addChild(this.topShade),this.board.addChild(this.bottomShade),(M=v.Sprite.from("backer-text.jpg")).anchor.set(.5),M.y=210,M.alpha=.1,this.board.addChild(M),this.scrollTextContainer=new v.Container,this.scrollTextContainer.x=-390,this.scrollTextContainer.y=190,this.board.addChild(this.scrollTextContainer),this.scrollTexts=[],i={fill:"#000",fontSize:36},E=0,A=0;A<2;A++)(k=new l.a("placeholder",i)).x=E,k.y=0,this.scrollTextContainer.addChild(k),this.scrollTexts.push(k),E+=k.width+10;(c=new v.Graphics).beginFill(16711680),c.drawRect(0,0,800,50),c.x=-10,c.endFill(),this.scrollTextContainer.addChild(c),this.scrollTextContainer.mask=c,this.boardCache={},b.c.add(s.d,this._refreshScrollText.bind(this));case 134:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),w.prepare=function(t){this.screenData=t},w.changeBoard=function(t){var e,n=this.app.globalEvents.event,r=t;n&&n.status===a.a.ACTIVE?"tournament"===t?(e=s.b.LEADERBOARD_TOURNAMENT_SELECTED,r="today"):"this-week"===t?(e=s.b.LEADERBOARD_THIS_WEEK_SELECTED,r="tournament"):(e=s.b.LEADERBOARD_TODAY_SELECTED,r="this-week"):"today"===t?e=s.b.LEADERBOARD_TODAY_SELECTED:"this-week"===t?e=s.b.LEADERBOARD_THIS_WEEK_SELECTED:"tournament"===t&&(e=s.b.LEADERBOARD_HALL_OF_FAME_SELECTED),this.board.texture=v.Texture.from("board-"+r+".png"),b.c.dispatch(s.a,{type:e}),this.updateBoard(t)},w.updateBoard=function(t){var e=u.a.DAILY;"this-week"===t?e=u.a.WEEKLY:"tournament"===t&&(e=u.a.TOURNAMENT),this.boardContent.children.length=0,this.userCountry=null,this.scrollTexts[0].visible=!1,this.scrollTexts[1].visible=!1,this.noInternetImage.visible=!1;var n,r=!1;this.boardCache[t]?r=!0:this.boardCache[t]=new v.Container,this.boardContent.addChild(this.boardCache[t]);var i=this.app.globalEvents.event,o=i&&i.status===a.a.ACTIVE;if("tournament"!==t||o){n=this.app.leaderboard[e];var s=0;this.scrollCombo.max=50*(n.length+1)-390;for(var c=0;c<n.length;c++)r||this.addEntry(n[c],c,t),s+=n[c].games;s=this.formatNumber(s),this.userCountry&&(this.scrollCombo.value=-this.userCountry.y);var l=["STR_LEADERBOARD_SCROLL"];"today"===t?(l.push("STR_LEADERBOARD_SCROLL_TODAY"),l.push(s.toString()+" |")):"this-week"===t?(l.push("STR_LEADERBOARD_SCROLL_WEEK"),l.push(s.toString()+" |")):"tournament"===t&&(l.push("STR_LEADERBOARD_SCROLL_TOURNAMENT1"),l.push(s.toString()+" |"),l.push("STR_LEADERBOARD_SCROLL_TOURNAMENT2"),l.push(this.app.globalEvents.getDays().toString()+" |")),this.updateScrollText(l)}else{n=this.app.leaderboard.hallOfFame,this.scrollCombo.max=247*n.length-310;for(var h=0;h<n.length;h++)r||this.addHallOfFame(n[n.length-h-1],h,t,0==h);this.updateScrollText(["STR_LEADERBOARD_SCROLL_HALLOFFAME"])}this.scrollCombo.trackpad.scrollMinY=-this.scrollCombo.max,this.scrollCombo.trackpad.speedY=0,this.scrollCombo.value=0},w.updateScrollText=function(t){this.scrollTexts[0].visible=!0,this.scrollTexts[1].visible=!0,this._scrollTextData="string"==typeof t?[t]:t,this._refreshScrollText()},w._refreshScrollText=function(){var t=[];this._scrollTextData.forEach((function(e){t.push(e),"ar"!==o.a.settings.language&&"no"!==o.a.settings.language||t.push(" ")})),this.scrollTexts[0].setText(t),this.scrollTexts[1].setText(t),this.scrollTexts[0].x=0,this.scrollTexts[1].x=this.scrollTexts[0].width+10},w.addHallOfFame=function(t,e,n,i){void 0===i&&(i=!1);var s={fill:"#000",fontSize:25,align:"center"},u=new v.Container;u.x=10,u.y=250*e+10,this.boardCache[n].addChild(u);var h=v.Sprite.from(e%2==0?"panel-summer-slam.png":"panel-winter-warriors.png");u.addChild(h),s.wordWrap=!0,s.wordWrapWidth=400,s.lineHeight=20;var d=new l.a(a.b[t.tournamentId].title,s);d.x=h.width/2-d.width/2,d.y=28-d.height/2,u.addChild(d),i&&this.shineItem(d);var p=function(t){return 107-t.height/2};s.wordWrapWidth=200,s.lineHeight=18;var f=v.Sprite.from("ar"===o.a.settings.language?"panel-third.png":"panel-first.png");f.x=20,f.y=70,u.addChild(f),(d=new l.a("STR_LEADERBOARD_HALLOFFAME_1ST",s)).x=f.width/2-d.width/2,d.y=6,f.addChild(d);var m=Object(c.c)("ar"===o.a.settings.language?t.third.countryId:t.first.countryId),g=v.Sprite.from(m.FLAG);g.scale.set(.6),g.x=f.width/2-g.width/2,g.y=36,f.addChild(g),s.fontSize=21,s.maxWidth=200,(d=new l.a(m.NAME+"_UPPERCASE",s)).x=f.width/2-d.width/2,d.y=p(d),f.addChild(d),s.fontSize=19;var y=new l.a(r.b.translate("STR_LEADERBOARD_POINTS")+" "+this.formatNumber("ar"===o.a.settings.language?t.third.points:t.first.points),s);y.x=f.width/2-y.width/2,y.y=128,f.addChild(y),s.fontSize=25;var b=v.Sprite.from("panel-second.png");b.x=f.x+f.width+40,b.y=70,u.addChild(b),(d=new l.a("STR_LEADERBOARD_HALLOFFAME_2ND",s)).x=b.width/2-d.width/2,d.y=6,b.addChild(d),m=Object(c.c)(t.second.countryId),(g=v.Sprite.from(m.FLAG)).scale.set(.6),g.x=b.width/2-g.width/2,g.y=36,b.addChild(g),s.fontSize=21,s.maxWidth=200,(d=new l.a(m.NAME+"_UPPERCASE",s)).x=b.width/2-d.width/2,d.y=p(d),b.addChild(d),s.fontSize=19,(y=new l.a(r.b.translate("STR_LEADERBOARD_POINTS")+" "+this.formatNumber(t.second.points),function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){M(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},s))).x=b.width/2-y.width/2,y.y=128,b.addChild(y),s.fontSize=25;var w=v.Sprite.from("ar"===o.a.settings.language?"panel-first.png":"panel-third.png");w.x=b.x+b.width+40,w.y=70,u.addChild(w),(d=new l.a("STR_LEADERBOARD_HALLOFFAME_3RD",s)).x=w.width/2-d.width/2,d.y=6,w.addChild(d),m=Object(c.c)("ar"===o.a.settings.language?t.first.countryId:t.third.countryId),(g=v.Sprite.from(m.FLAG)).scale.set(.6),g.x=w.width/2-g.width/2,g.y=36,w.addChild(g),s.fontSize=21,s.maxWidth=200,(d=new l.a(m.NAME+"_UPPERCASE",s)).x=w.width/2-d.width/2,d.y=p(d),w.addChild(d),s.fontSize=19,(y=new l.a(r.b.translate("STR_LEADERBOARD_POINTS")+" "+this.formatNumber("ar"===o.a.settings.language?t.first.points:t.third.points),s)).x=w.width/2-y.width/2,y.y=128,w.addChild(y)},w.addEntry=function(t,e,n){var r={fill:"#000",fontSize:20},i=new v.Container;i.y=50*e,this.boardCache[n].addChild(i);var a=e+1,o=v.Sprite.from("backer.jpg");o.alpha=e%2==0?.18:.08,y.b.countryID&&t.countryId===y.b.countryID.id&&(o.texture=v.Texture.from("backer-gold.jpg"),o.alpha=1,this.userCountry=i),i.addChild(o);var s=new l.a(a+".",r);s.x=60,s.y=10,i.addChild(s);var u=Object(c.c)(t.countryId),h=v.Sprite.from(u.FLAG);h.x=160,h.y=3,h.scale.set(.5),i.addChild(h),r.maxWidth=300,(s=new l.a(u.NAME+"_UPPERCASE",r)).x=270,s.y=21-s.height/2,i.addChild(s);var d,p=this.formatNumber(t.points);(s=new l.a(p,r)).x=680-s.width,s.y=10,i.addChild(s),d=0===t.previousRank||0===t.points?"stay":t.previousRank<e+1?"down":"up";var f=v.Sprite.from("chevron-"+d+".png");f.anchor.set(.5),f.alpha=.5,f.x=770,f.y=22,i.addChild(f)},w.formatNumber=function(t){if(t<("tr"===o.a.settings.language?1e5:1e3))return t.toString();t=t.toString();for(var e=Math.ceil(t.length/3)-1,n="",i=0;i<e;i++)n=r.b.translate("STR_SEPARATOR")+t.substr(-3)+n,t=t.substr(0,t.length-3);return n=t+n},w.update=function(t){if(this.background.update(t),this.shineables)for(var e=0;e<this.shineables.length;e++)try{for(var n=this.shineables[e],r=0;r<n.stars.length;r++)n.starCounts[r]+=.07*t,n.stars[r].alpha=Math.abs(Math.sin(n.starCounts[r])),n.stars[r].rotation+=.01*n.stars[r].scale.x*t}catch(t){this.shineables.splice(e,1),e--}for(var i=0;i<this.scrollTexts.length;i++){var a=this.scrollTexts[i];"ar"===o.a.settings.language?(a.x+=t,0===i&&a.x>1e3&&(a.x=this.scrollTexts[1].x-a.width-10),1===i&&a.x>1e3&&(a.x=this.scrollTexts[0].x-a.width-10)):(a.x-=t,0===i&&a.x+a.width<0&&(a.x=this.scrollTexts[1].x+this.scrollTexts[1].width+10),1===i&&a.x+a.width<0&&(a.x=this.scrollTexts[0].x+this.scrollTexts[0].width+10))}if(!this.background.loadSpinner.visible){this.scrollCombo.update(),this.boardContent.y=this.scrollCombo.value-160;this.boardContent.y<-180?this.topShade.alpha<.3&&(this.topShade.alpha+=.04,this.topShade.alpha=Math.min(this.topShade.alpha,.3)):this.topShade.alpha>0&&(this.topShade.alpha-=.04,this.topShade.alpha=Math.max(this.topShade.alpha,0)),this.boardContent.y>-this.scrollCombo.max-120?this.bottomShade.alpha<.3&&(this.bottomShade.alpha+=.04,this.bottomShade.alpha=Math.min(this.bottomShade.alpha,.3)):this.bottomShade.alpha>0&&(this.bottomShade.alpha-=.04,this.bottomShade.alpha=Math.max(this.bottomShade.alpha,0))}},w.show=function(){this.boardCache={},this.resize(this.width,this.height),this.background.scale.set(0);var t=this.app.globalEvents.event;if(t){var e,n=this.app.globalEvents.getDays();t.status===a.a.UPCOMING&&(e=[{type:h.a.SEQUENCE_TEXT,texts:[t.title,"STR_GLOBAL_EVENTS_STARTS_IN_"+n+"_DAY"+(n>1?"S":"")],duration:2.5},{type:h.a.SCROLLING_TEXT,texts:[t.title,"STR_GLOBAL_EVENTS_STARTS_IN_"+n+"_DAY"+(n>1?"S":"")],ballAnimation:!0}]),t.status===a.a.ACTIVE&&(e=[{type:h.a.SCROLLING_TEXT,texts:[t.title,"-","STR_GLOBAL_EVENTS_DAYS_LEFT",n]}]),this.scrollingJumbotron.setData(e),this.scrollingJumbotron.start()}this.background.hideContent(),this.scrollingJumbotron.visible=!!t},w.shown=function(){var t=x(regeneratorRuntime.mark((function t(){var e,n,r,i,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.app.globalEvents.event&&(null===(e=this.scrollingJumbotron)||void 0===e||e.start()),n=(this.height-this.app.overlays.header.height)/this.background.panelHeight,Object(p.tween)(this.background.scale,1,{x:n,y:n,ease:"Elastic.easeOut"}),t.next=5,this.app.leaderboard.fetchData();case 5:this.app.leaderboard.dataFetched?(r=this.app.globalEvents.event,i=r&&r.status===a.a.ACTIVE,this.screenData&&this.screenData.board?this.changeBoard(this.screenData.board):i?this.changeBoard("tournament"):this.changeBoard("today")):(s=["STR_NO_INTERNET"],"ar"!==o.a.settings.language&&"no"!==o.a.settings.language||s.push(" "),s.push("STR_NO_INTERNET"),"ar"!==o.a.settings.language&&"no"!==o.a.settings.language||s.push(" "),navigator.onLine&&(s="STR_SERVER_DOWN"),this.updateScrollText(s),this.noInternetImage.visible=!0),this.background.hideSpinner();case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),w.hide=function(){var t=x(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w.hidden=function(){var t;this.app.globalEvents.event&&(null===(t=this.scrollingJumbotron)||void 0===t||t.stop())},w.shineItem=function(t){t.stars=[],t.starCounts=[];for(var e=[],n=1;n<=5;n++)e.push(n*(t.height/5));p.Random.shuffle(e);for(var r=0;r<5;r++){var i=v.Sprite.from("flash-big-2.png");i.scale.set(.2+.3*Math.random()),i.anchor.set(.5),i.blendMode=v.BLEND_MODES.ADD,i.position.x=r*(t.width/5),i.position.y=e[r],t.addChild(i),t.stars.push(i),t.starCounts.push(1e3*Math.random())}this.shineables||(this.shineables=[]),this.shineables.push(t)},w.resize=function(e,n){t.prototype.resize.call(this,e,n),this.background.position.set(e/2,n/2),this.app.globalEvents.event?(this.boardOuterWrapper.position.y=50,this.background.panelHeight=760):(this.boardOuterWrapper.position.y=-3,this.background.panelHeight=680)},i}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));n(21),n(27),n(5),n(19);var r=n(130),i=n(17),a=n(11),o=n(8),s=n(6),u=n(9),c=n(44),l=n(1),h=n(2),d=n(0),p=n(7),f=n(4),m=n(53);function g(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function y(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){g(a,r,i,o,s,"next",t)}function s(t){g(a,r,i,o,s,"throw",t)}o(void 0)}))}}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(t){var e,n;function r(e){var n;return _(v(n=t.call(this,e)||this),"app",void 0),_(v(n),"background",void 0),_(v(n),"progressBar",void 0),_(v(n),"progressBarBg",void 0),_(v(n),"progressBarFill",void 0),_(v(n),"ringFx",void 0),_(v(n),"leagueText",void 0),_(v(n),"pointsText",void 0),_(v(n),"trophiesText",void 0),_(v(n),"pointsNumber",void 0),_(v(n),"trophiesNumber",void 0),_(v(n),"completedText",void 0),_(v(n),"completedText2",void 0),_(v(n),"separatorTop",void 0),_(v(n),"separatorBottom",void 0),_(v(n),"continueButton",void 0),_(v(n),"nextButton",void 0),_(v(n),"homeButton",void 0),_(v(n),"loadingWheel",void 0),_(v(n),"targetTrophy",void 0),_(v(n),"trophy1",void 0),_(v(n),"trophy2",void 0),_(v(n),"trophy3",void 0),_(v(n),"trophy4",void 0),_(v(n),"trophy5",void 0),_(v(n),"assetsLoaded",void 0),_(v(n),"active",void 0),n.app=e,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,b(e,n);var g=r.prototype;return g.init=function(){var t=y(regeneratorRuntime.mark((function t(){var e,n,r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.background=new c.a({width:1080,height:680,title:"STR_LEAGUES_TITLE",isLoading:!0}),this.view.addChild(this.background),e={fill:"0x0A0A08",fontSize:35,wordWrap:!0,wordWrapWidth:850,align:"center",breakWords:!0},this.leagueText=new u.a("placeholder",e),this.leagueText.anchor.set(.5),this.leagueText.position.y=-195,this.background.addChild(this.leagueText),this.progressBar=new d.Container,this.progressBar.position.y=-115,this.background.addChild(this.progressBar),this.progressBarBg=d.Sprite.from("tc-progression-bar-empty.png"),this.progressBarBg.scale.set(1.42),this.progressBarBg.anchor.set(.5),this.progressBar.addChild(this.progressBarBg),(n=new d.Sprite(d.Texture.WHITE)).anchor.set(.5),n.width=this.progressBarBg.width-14,n.height=this.progressBarBg.height,this.progressBar.addChild(n),this.progressBarFill=d.Sprite.from("tc-progression-bar-full.png"),this.progressBarFill.scale.set(1.42),this.progressBarFill.anchor.set(.5),this.progressBar.addChild(this.progressBarFill),this.progressBarFill.mask=n,e={fill:"white",fontSize:30,align:"center",dropShadow:!0,dropShadowDistance:3,dropShadowAlpha:.8,dropShadowAngle:Math.PI/2},this.pointsNumber=new u.a("X / Y",e),this.pointsNumber.anchor.y=.5,this.progressBar.addChild(this.pointsNumber),this.pointsText=new u.a("STR_LEAGUES_POINTS",e),this.pointsText.anchor.y=.5,this.pointsText.position.x=this.pointsNumber.width+15,this.pointsNumber.addChild(this.pointsText),this.pointsNumber.position.x=-(this.pointsNumber.width+this.pointsText.width+15)/2,this.ringFx=d.Sprite.from("coing-ring.png"),this.ringFx.tint=16777215,this.ringFx.anchor.set(.5),this.ringFx.x=this.progressBarBg.width/2-5,this.progressBar.addChild(this.ringFx),this.separatorTop=new d.Sprite(d.Texture.WHITE),this.separatorTop.anchor.set(.5),this.separatorTop.tint=5395525,this.separatorTop.width=625,this.separatorTop.height=3,this.separatorTop.position.y=-50,this.background.addChild(this.separatorTop),this.separatorBottom=new d.Sprite(d.Texture.WHITE),this.separatorBottom.anchor.set(.5),this.separatorBottom.tint=5395525,this.separatorBottom.width=625,this.separatorBottom.height=3,this.separatorBottom.position.y=205,this.background.addChild(this.separatorBottom),this.targetTrophy=d.Sprite.from("trophy-empty.png"),this.targetTrophy.scale.set(.6),this.targetTrophy.anchor.set(.5,1),this.targetTrophy.position.set(390,-40),this.background.addChild(this.targetTrophy),-370,190,this.trophy1=d.Sprite.from("trophy-empty.png"),this.trophy1.scale.set(.65),this.trophy1.anchor.set(.5,1),this.trophy1.position.set(-370,155),this.background.addChild(this.trophy1),this.trophy2=d.Sprite.from("trophy-empty.png"),this.trophy2.scale.set(.65),this.trophy2.anchor.set(.5,1),this.trophy2.position.set(-180,160),this.background.addChild(this.trophy2),this.trophy3=d.Sprite.from("trophy-empty.png"),this.trophy3.scale.set(.65),this.trophy3.anchor.set(.5,1),this.trophy3.position.set(10,155),this.background.addChild(this.trophy3),this.trophy4=d.Sprite.from("trophy-empty.png"),this.trophy4.scale.set(.65),this.trophy4.anchor.set(.5,1),this.trophy4.position.set(200,155),this.background.addChild(this.trophy4),this.trophy5=d.Sprite.from("trophy-empty.png"),this.trophy5.scale.set(.65),this.trophy5.anchor.set(.5,1),this.trophy5.position.set(390,155),this.background.addChild(this.trophy5),e={fill:"black",fontSize:23,wordWrap:!0,wordWrapWidth:850,align:"center",breakWords:!0},this.trophiesText=new u.a("STR_LEAGUES_TROPHIES_WON",e),this.trophiesText.anchor.y=.5,this.trophiesText.position.y=175,this.background.addChild(this.trophiesText),this.trophiesNumber=new u.a("(X / 3)",e),this.trophiesNumber.anchor.y=.5,this.trophiesNumber.position.x=this.trophiesText.width+15,this.trophiesText.addChild(this.trophiesNumber),this.trophiesText.position.x=-(this.trophiesText.width+this.trophiesNumber.width+15)/2,e={fill:"black",fontSize:40,wordWrap:!0,wordWrapWidth:850,align:"center",breakWords:!0},this.completedText=new u.a("STR_LEAGUES_COMPLETED",e),this.completedText.anchor.set(.5),this.completedText.position.y=-165,this.background.addChild(this.completedText),e={fill:"black",fontSize:25,wordWrap:!0,wordWrapWidth:850,align:"center",breakWords:!0},this.completedText2=new u.a("STR_LEAGUES_COMPLETED2",e),this.completedText2.anchor.set(.5),this.completedText2.position.y=-125,this.background.addChild(this.completedText2),this.nextButton=new a.c({text:"STR_NEXT",width:300,height:80}),this.nextButton.position.y=255,this.background.addChild(this.nextButton),this.continueButton=new a.c({text:"STR_CONTINUE",color:a.a.GREEN,width:300,height:80}),this.continueButton.position.y=255,this.continueButton.position.x=155,this.background.addChild(this.continueButton),this.homeButton=new a.c({text:"STR_HOME",width:300,height:80}),this.homeButton.position.y=255,this.homeButton.position.x=-155,this.background.addChild(this.homeButton),this.nextButton.onPress.add(this.proceed.bind(this)),this.continueButton.onPress.add((function(){return r.app.controller.goto(f.a.SCREEN_ID.TEAM_REVIEW)})),this.homeButton.onPress.add((function(){h.b.isContinue=!1,r.app.controller.goto(f.a.SCREEN_ID.TITLE)})),this.assetsLoaded=!1,this.active=!1,this.completedText.visible=!1,this.completedText2.visible=!1,this.progressBar.visible=!1,this.leagueText.visible=!1,this.targetTrophy.visible=!1,this.trophy1.visible=!1,this.trophy2.visible=!1,this.trophy3.visible=!1,this.trophy4.visible=!1,this.trophy5.visible=!1,this.trophiesText.visible=!1,this.trophiesNumber.visible=!1,this.separatorTop.visible=!1,this.separatorBottom.visible=!1,this.homeButton.visible=!1,this.continueButton.visible=!1,this.nextButton.visible=!1,this.app.leagues.onProgress.connect(this.progress.bind(this)),-1===s.g.indexOf(f.a.SCREEN_ID.LEAGUES)?p.c.add(s.e,(function(t){t.type===s.f.SCREEN_ASSETS_LOADED&&t.screenId===f.a.SCREEN_ID.LEAGUES&&r.onAssetsLoaded()})):this.onAssetsLoaded();case 139:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),g.progress=function(){var t=y(regeneratorRuntime.mark((function t(e){var n,r,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.homeButton.interactive=!1,this.continueButton.interactive=!1,n=e?e.leagueWon:this.app.leagues.activeLeague,r=e?0:-this.progressBarFill.width*(1-(n.points||0)/n.targetPoints),Object(l.tween)(this.progressBarFill.position,.5,{x:r,ease:"Quad.easeOut",delay:1,onComplete:function(){e&&(i.default.playSfx("sfx_reveal"),a.ringFx.visible=!0,a.ringFx.scale.set(0),a.ringFx.alpha=1,Object(l.tween)(a.ringFx.scale,.3,{x:5,y:5,z:5,ease:"Quad.easeOut"}),Object(l.tween)(a.ringFx,.3,{alpha:0,ease:"Quad.easeIn"}))}}),Object(l.delay)(1).then((function(){i.default.playSfx("sfx_banana_03"),a.pointsNumber.setText(n.points+" / "+n.targetPoints),a.pointsText.position.x=a.pointsNumber.width+15})),Object(l.delay)(2).then(y(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return o.a.misc.promotion=e,t.next=4,a.app.controller.gotoOverlay(f.a.OVERLAY_ID.PROMOTING);case 4:a.updateContent();case 5:a.homeButton.interactive=!0,a.continueButton.interactive=!0;case 7:case"end":return t.stop()}}),t)}))));case 7:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),g.proceed=function(){this.view.interactiveChildren=!1,this.app.controller.breadcrumbNext()},g.hide=function(){this.active=!1},g.show=function(){this.active=!0,this.assetsLoaded&&this.showContent(),window.FASTPLAY&&this.proceed()},g.onAssetsLoaded=function(){this.assetsLoaded=!0,this.background.hideSpinner(),this.targetTrophy.visible=!0,this.trophy1.visible=!0,this.trophy2.visible=!0,this.trophy3.visible=!0,this.trophy4.visible=!0,this.trophy5.visible=!0,this.trophiesText.visible=!0,this.trophiesNumber.visible=!0,this.separatorTop.visible=!0,this.separatorBottom.visible=!0,this.active&&this.showContent()},g.updateContent=function(){var t=this.app.leagues.activeLeague,e=h.b.isContinue;this.leagueText.visible=!!t,this.progressBar.visible=!!t,this.completedText.visible=!t,this.completedText2.visible=!t,this.ringFx.visible=!1,this.nextButton.visible=!e,this.homeButton.visible=e||!t,this.continueButton.visible=e&&!!t,this.homeButton.position.x=t?-155:0,t&&(this.leagueText.setText(t.leagueName),this.pointsNumber.setText(t.points+" / "+t.targetPoints),this.pointsText.position.x=this.pointsNumber.width+15,this.pointsNumber.position.x=-(this.pointsNumber.width+this.pointsText.width+15)/2,this.progressBarFill.position.x=-this.progressBarFill.width*(1-(t.points||0)/t.targetPoints));var n=m.d.available().length,r=m.d.completed().length;this.trophiesNumber.setText("( "+r+" / "+n+" )"),this.targetTrophy.texture=null!=t&&t.trophy?d.Texture.from(t.trophy):null;var i=m.d.withId(m.a.PRO),a=m.d.withId(m.a.ACE),o=m.d.withId(m.a.STAR),s=m.d.withId(m.a.EPIC),u=m.d.withId(m.a.ULTRA);this.trophy1.texture=d.Texture.from((null==i?void 0:i.status)===m.b.COMPLETED?null==i?void 0:i.trophy:null==i?void 0:i.lockedTrophy),this.trophy2.texture=d.Texture.from((null==a?void 0:a.status)===m.b.COMPLETED?null==a?void 0:a.trophy:null==a?void 0:a.lockedTrophy),this.trophy3.texture=d.Texture.from((null==o?void 0:o.status)===m.b.COMPLETED?null==o?void 0:o.trophy:null==o?void 0:o.lockedTrophy),this.trophy4.texture=d.Texture.from((null==s?void 0:s.status)===m.b.COMPLETED?null==s?void 0:s.trophy:null==s?void 0:s.lockedTrophy),this.trophy5.texture=d.Texture.from((null==u?void 0:u.status)===m.b.COMPLETED?null==u?void 0:u.trophy:null==u?void 0:u.lockedTrophy)},g.showContent=function(){this.view.interactiveChildren=!0,this.updateContent()},g.update=function(t){this.background.update(t)},g.resize=function(e,n){t.prototype.resize.call(this,e,n),this.background.position.set(e/2,n/2-(this.app.overlays.breadcrumb.visible?40:0)),this.background.scale.set((this.height-this.app.overlays.header.height/2-this.app.overlays.breadcrumb.height)/this.background.panelHeight)},r}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));n(21),n(15),n(5),n(20),n(22),n(668),n(510),n(19);var r=n(130),i=n(25),a=n(1),o=n(156),s=n(0),u=n(90),c=n(55),l=n(160),h=n(24);function d(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=["Idle","Run","Celebrate","Fallover","Tackle"],y=function(t){var e,n;function r(e){var n;return m(p(n=t.call(this,e)||this),"app",void 0),m(p(n),"background",void 0),m(p(n),"characterContainer",void 0),m(p(n),"positionContainer",void 0),m(p(n),"characters",void 0),m(p(n),"currentAnimation",void 0),m(p(n),"onAnimationChange",new h.Signal),m(p(n),"targetX",void 0),m(p(n),"targetY",void 0),m(p(n),"targetScale",void 0),m(p(n),"baseScale",void 0),m(p(n),"values",void 0),n.app=e,n.characters={},n.values={},n.currentAnimation=0,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,f(e,n);var y=r.prototype;return y.init=function(){var t,e=(t=regeneratorRuntime.mark((function t(){var e,n,r,a,h,d,p,f=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=new o.a,n=e.addFolder("Characters"),this.background=new s.Sprite(s.Texture.WHITE),this.background.alpha=.3,this.view.addChild(this.background),this.positionContainer=new s.Container,this.view.addChild(this.positionContainer),this.characterContainer=new s.Container,this.positionContainer.addChild(this.characterContainer),r=0,a=0,h=400,d=function(t){if(""===l.a.characters[t].spineRef)return"continue";var e=f.app.kits.getTeamColor(c.b.A);f.characters[t]=u.a.getSpineAnim2D(t,e),f.characterContainer.addChild(f.characters[t]),f.characters[t].x=400*r+h,f.characters[t].y=700*a+650,f.characters[t].state.setAnimation(0,g[f.currentAnimation],!0),f.onAnimationChange.connect((function(){f.characters[t].state.setAnimation(0,g[f.currentAnimation],!0).mixDuration=.2}));var o=i.c[t].scale;f.characters[t].scale.set(o),f.values[t]=o,n.add(f.values,t,.1,3,.001).onChange((function(){f.characters[t].scale.x=f.values[t],f.characters[t].scale.y=f.values[t]})),8==++r&&(r=0,a++)},t.t0=regeneratorRuntime.keys(l.a.characters);case 15:if((t.t1=t.t0()).done){t.next=22;break}if(p=t.t1.value,"continue"!==d(p)){t.next=20;break}return t.abrupt("continue",15);case 20:t.next=15;break;case 22:this.targetX=this.characterContainer.x=-h/2-this.characterContainer.width/2,this.targetY=this.characterContainer.y=-this.characterContainer.height/2,this.baseScale=this.targetScale=this.app.resize.width/(this.characterContainer.width+h),this.app.keyboard.bindKeyDown("c",(function(){f.currentAnimation++,f.currentAnimation%=g.length,f.onAnimationChange.emit()})),this.app.keyboard.bindKeyDown("z",(function(){return f.targetScale=Math.min(f.targetScale+.1,2*f.baseScale)}),{allowHold:!0,holdTime:.05}),this.app.keyboard.bindKeyDown("x",(function(){return f.targetScale=Math.max(f.targetScale-.1,.6*f.baseScale)}),{allowHold:!0,holdTime:.05}),this.app.keyboard.bindKeyDown("space",(function(){return f.exportValues()})),this.app.keyboard.bindKeyDown("w",(function(){return f.targetY=Math.min(0,f.targetY+100)}),{allowHold:!0,holdTime:.05}),this.app.keyboard.bindKeyDown("s",(function(){return f.targetY=Math.max(-f.characterContainer.height,f.targetY-100)}),{allowHold:!0,holdTime:.05}),this.app.keyboard.bindKeyDown("a",(function(){return f.targetX=Math.min(0,f.targetX+100)}),{allowHold:!0,holdTime:.05}),this.app.keyboard.bindKeyDown("d",(function(){return f.targetX=Math.max(-f.characterContainer.width,f.targetX-100)}),{allowHold:!0,holdTime:.05});case 33:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){d(a,r,i,o,s,"next",t)}function s(t){d(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}(),y.update=function(t){this.characterContainer.x=a.Maths.lerp(this.characterContainer.x,this.targetX,.4*t),this.characterContainer.y=a.Maths.lerp(this.characterContainer.y,this.targetY,.4*t);var e=a.Maths.lerp(this.positionContainer.scale.x,this.targetScale,.4);this.positionContainer.scale.set(e)},y.exportValues=function(){var t="";for(var e in this.values){t+=e+": "+this.values[e]+"\n"}var n=document.createElement("a"),r=new Blob([t],{type:"text/plain"});n.href=URL.createObjectURL(r),n.download="spine-scale-values.txt",n.click(),URL.revokeObjectURL(n.href)},y.resize=function(e,n){t.prototype.resize.call(this,e,n),this.background.width=e,this.background.height=n,this.positionContainer.x=e/2,this.positionContainer.y=n/2},r}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));n(21),n(27),n(39),n(38),n(92),n(5),n(19);var r=n(80),i=n(17),a=n(11),o=n(49),s=n(8),u=n(79),c=n(6),l=n(9),h=n(1),d=n(124),p=n(0),f=n(7),m=n(4),g=n(199);function y(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(t){var e,n;function w(e){var n;return _(v(n=t.call(this,e,g.a.STADIUMS)||this),"selectStadiumButton",void 0),_(v(n),"stadiumSelectedMessage",void 0),_(v(n),"stadiumCardContainer",void 0),_(v(n),"shadow",void 0),_(v(n),"party",void 0),_(v(n),"dummySprite",void 0),_(v(n),"dummyText",void 0),_(v(n),"width",void 0),_(v(n),"height",void 0),n}n=t,(e=w).prototype=Object.create(n.prototype),e.prototype.constructor=e,b(e,n);var x=w.prototype;return x.init=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n,r,i,o,s,h,g,y,v=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.prototype.init.call(this),this.selectStadiumButton=new a.c({color:a.a.PINK,text:"STR_UNLOCKABLES_SELECT_STADIUM",width:425}),this.selectStadiumButton.position.y=290,this.selectStadiumButton.onPress.add((function(){v.app.stadiums.selectStadium(v.unlockables[v.currentIndex].id,!0),v.updateSelectable()})),this.background.content.addChild(this.selectStadiumButton),this.selectStadiumButton.visible=!1,n={fill:"green",fontSize:36,align:"left"},r=new l.a("STR_UNLOCKABLES_STADIUM_SELECTED",n),(i=p.Sprite.from("tick.png")).anchor.set(0,.5),i.scale.set(.9),r.position.set(i.texture.width+10,-r.height/2),this.stadiumSelectedMessage=new p.Container,this.stadiumSelectedMessage.addChild(i),this.stadiumSelectedMessage.addChild(r),this.background.content.addChild(this.stadiumSelectedMessage),this.stadiumSelectedMessage.visible=!1,this.unlockables=u.c.showable(),(o=p.Sprite.from(p.Texture.WHITE)).anchor.set(.5),o.width=this.gridOverlay.texture.width,o.height=this.gridOverlay.texture.height-5,this.background.content.addChild(o),this.poster.mask=o,s=new p.Graphics,h=new d.a(this.app.width,this.app.height,1),g=new p.Sprite,y=new l.a("STR_UNLOCKABLES_NEWSTADIUM",{fill:"white",fontSize:40,stroke:!0,strokeThickness:8,lineJoin:"round",letterSpacing:3}),s.beginFill(0),s.drawRect(0,0,500,500),g.anchor.set(.5),g.position.set(this.width/2,this.height/2),y.anchor.set(.5),y.position.set(0,300),s.interactive=!0,this.shadow=s,this.party=h,this.dummySprite=g,this.dummyText=y,this.onUnlockableUnlocked.connect(this.stadiumUnlocked.bind(this)),this.onDataUpdated.connect(this.updatePoster.bind(this)),-1===c.g.indexOf(m.a.SCREEN_ID.STADIUMS)?f.c.add(c.e,(function(t){t.type===c.f.SCREEN_ASSETS_LOADED&&t.screenId===m.a.SCREEN_ID.STADIUMS&&(v.assetsLoaded=!0,v.background.hideSpinner(),v.active&&v.showContent())})):(this.assetsLoaded=!0,this.background.hideSpinner(!0));case 42:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(t){y(a,r,i,o,s,"next",t)}function s(t){y(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(){return n.apply(this,arguments)}}(),x.stadiumUnlocked=function(){var t=this,e=this.unlockables[this.currentIndex];this.app.stadiums.unlockStadium(e.id);var n=this.dummySprite,r=this.dummyText,a=this.party,o=this.shadow;n.texture=p.Texture.from("assets/content/stadiums/stadium-artworks/background-"+e.id+".jpg"),n.scale.set(this.poster.scale.x*this.background.scale.x),n.alpha=0,r.alpha=0,a.alpha=0,o.alpha=0,this.addCongratulationsElements(),Object(h.tween)(this.gridOverlay,1,{alpha:0}),Object(h.tween)(this.costPanel,1,{alpha:0}),Object(h.tween)(this.infoText,1,{alpha:0}),Object(h.tween)(this.sliderBar,1,{alpha:0}),Object(h.tween)(o,1,{alpha:.5}),Object(h.tween)(n,1,{alpha:1,onComplete:function(){return i.default.playSfx("character_unlock")}}),Object(h.tween)(r,2,{alpha:1,delay:1.2}),Object(h.tween)(a,1,{alpha:1,delay:1.2}),Object(h.tween)(r,1,{alpha:0,delay:4}),Object(h.tween)(a,1,{alpha:0,delay:4}),Object(h.tween)(o,1,{alpha:0,delay:4,onComplete:function(){t.removeCongratulationsElements(),t.gridOverlay.alpha=1,t.costPanel.alpha=1,t.infoText.alpha=1,t.sliderBar.alpha=1,t.updateState(),t.selectStadiumButton.interactive=!1,t.selectStadiumButton.alpha=0,Object(h.tween)(t.selectStadiumButton,1,{alpha:1,delay:.1,onComplete:function(){return t.selectStadiumButton.interactive=!0}})}})},x.update=function(e){t.prototype.update.call(this,e),this.party&&this.party.update(this.view.position,e)},x.updateState=function(){t.prototype.updateState.call(this);var e=this.unlockables[this.currentIndex],n=o.a.coins>=m.a.UNLOCKABLES.PRICE;if(this.stadiumSelectedMessage.visible=!1,this.selectStadiumButton.visible=!1,e.available&&!e.unlockedPanels)this.background.setTitle(e.name),this.updateSelectable();else if(e.available){if(e.available){var i=this.getUnlockedPanels();if(i.length===this.panels.length)this.background.setTitle(r.b.translate("STR_UNLOCKABLES_UNLOCKED")+("fr"===s.a.settings.language?" ":"")+": "+r.b.translate(e.name)),this.updateSelectable();else if(i.length!==this.panels.length&&(this.background.setTitle(r.b.translate("STR_UNLOCKABLES_UNLOCK")+("fr"===s.a.settings.language?" ":"")+": "+r.b.translate(e.name)),n)){var a=r.b.translate("STR_UNLOCKABLES_COMPLETE").split("\n");this.infoText.setText(a[0])}}}else this.background.setTitle(e.name),e.comingSoon?this.statusText.setText("STR_UNLOCKABLES_COMING_SOON"):this.statusText.setText("STR_UNLOCKABLES_UNAVAILABLE");e.isNew?(this.showNotification(),e.isNew=!1,this.app.stadiums.save()):this.hideNotification()},x.updatePoster=function(){var t=this.unlockables[this.currentIndex];this.poster.texture=p.Texture.from("assets/content/stadiums/stadium-artworks/background-"+t.id+".jpg"),this.poster.scale.set((this.gridOverlay.texture.width-5)/this.poster.texture.width)},x.updateSelectable=function(){this.unlockables[this.currentIndex].id===this.app.stadiums.activeStadium.id?(this.stadiumSelectedMessage.visible=!0,this.selectStadiumButton.visible=!1):(this.stadiumSelectedMessage.visible=!1,this.selectStadiumButton.visible=!0)},x.addCongratulationsElements=function(){this.view.addChild(this.shadow),this.view.addChild(this.dummySprite),this.view.addChild(this.party),this.view.addChild(this.dummyText)},x.removeCongratulationsElements=function(){this.view.removeChild(this.shadow),this.view.removeChild(this.dummySprite),this.view.removeChild(this.party),this.view.removeChild(this.dummyText)},x.show=function(){t.prototype.show.call(this),this.assetsLoaded&&this.showContent()},x.showContent=function(){t.prototype.showContent.call(this),this.updateState()},x.resize=function(e,n){t.prototype.resize.call(this,e,n),this.shadow.width=e,this.shadow.height=n,this.party.w=e,this.party.h=n,this.dummySprite.position.set(e/2,n/2),this.dummyText.position.set(e/2,n/2+285),this.stadiumSelectedMessage.position.set(-this.stadiumSelectedMessage.width/2,290)},w}(g.b)},function(t,e,n){"use strict";n.d(e,"a",(function(){return w}));n(21),n(27),n(51),n(5),n(19);var r=n(130),i=n(17),a=n(11),o=n(6),s=n(9),u=n(44),c=n(1),l=n(2),h=n(124),d=n(0),p=n(7),f=n(157),m=n(4),g=n(28);function y(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(t){var e,n;function r(e){var n;return _(v(n=t.call(this,e)||this),"app",void 0),_(v(n),"scaleRatio",void 0),_(v(n),"stage",void 0),_(v(n),"playButton",void 0),_(v(n),"itemContainer",void 0),_(v(n),"background",void 0),_(v(n),"trophy",void 0),_(v(n),"highlight",void 0),_(v(n),"blueBacker",void 0),_(v(n),"desaturateFilter",void 0),_(v(n),"party",void 0),_(v(n),"coinSplash",void 0),_(v(n),"coinAnimations",void 0),_(v(n),"stageInfo",void 0),_(v(n),"emptyFlag",void 0),_(v(n),"blackFlag",void 0),_(v(n),"winnerEmptyFlag",void 0),_(v(n),"blueBackerTick",void 0),_(v(n),"contentUpdated",void 0),n.app=e,n.scaleRatio=.75,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,b(e,n);var w=r.prototype;return w.init=function(){var t,e=(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.background=new u.a({width:965,height:700,title:"placeholder"}),this.view.addChild(this.background),this.trophy=d.Sprite.from("trophy-empty.png"),this.trophy.anchor.set(.5),this.trophy.y=-20,this.trophy.x=-4,this.coinAnimations={},this.contentUpdated=!1,this.desaturateFilter=new d.filters.ColorMatrixFilter,this.desaturateFilter.saturate(-.7),this.stageInfo={quarter:{id:"quarter",pos:[{x:-390,y:0},{x:-390,y:125},{x:-390,y:250},{x:-390,y:375},{x:390,y:0},{x:390,y:125},{x:390,y:250},{x:390,y:375}]},semi:{id:"semi",pos:[{x:-248,y:63},{x:-248,y:313},{x:248,y:63},{x:248,y:313}]},final:{id:"final",pos:[{x:-120,y:188},{x:120,y:188}]},winner:{id:"winner",pos:[{x:0,y:325}]}},this.emptyFlag={ID:"",FLAG:"flag_black.png"},this.blackFlag={ID:"",FLAG:"flag_black.png"},this.winnerEmptyFlag={ID:"",FLAG:"flag-winner-empty.png"},this.playButton=new a.c({color:a.a.GREEN,text:"STR_PLAY_BUTTON",width:300,height:80}),this.playButton.position.y=this.background.height/2-this.playButton.height/2-35,this.playButton.onPress.add(this.onPlayButtonPressed.bind(this)),this.background.content.addChild(this.playButton),this.itemContainer=new d.Container,this.itemContainer.position.set(0,-172),this.background.content.addChild(this.itemContainer),this.background.content.addChild(this.trophy),this.party=new h.a(this.width,this.height,1),this.coinSplash=new f.a(this.app);case 24:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){y(a,r,i,o,s,"next",t)}function s(t){y(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}(),w.setContent=function(){this.itemContainer.children.length=0,l.b.tournamentData.winner.length>0?this.stage=this.stageInfo.winner.id:l.b.tournamentData.final.length>0?this.stage=this.stageInfo.final.id:l.b.tournamentData.semi.length>0?this.stage=this.stageInfo.semi.id:l.b.tournamentData.quarter.length>0&&(this.stage=this.stageInfo.quarter.id);"winner"===this.stage?(this.trophy.texture=d.Texture.from("trophy-full.png"),this.view.addChild(this.party)):(this.trophy.texture=d.Texture.from("trophy-empty.png"),this.view.removeChild(this.party)),l.b.difficulty={quarter:0,semi:0,final:1}[this.stage],this.background.setTitle(g.a.tournament_screen.stages[this.stage]),this.arrangeItems(this.stage,!0)},w.chooseOpponent=function(){l.b.teamB=[],c.Random.shuffle(l.b.leftOverPlayers);for(var t=0;t<4;t++)l.b.teamB.push(l.b.leftOverPlayers.shift());var e=this.flattenArray(l.b.tournamentData[this.stage]),n=e.indexOf(l.b.countryID);l.b.opponentID=e[n%2==0?++n:--n]},w.chooseRivals=function(t,e){for(var n,r,i,a=[],o=[],s=l.b.tournamentData[t],u=0;u<s.length;u++)i=(r=(n=s[u]).indexOf(l.b.countryID))>-1?n[e?r:(r+1)%2]:n[Math.floor(2*Math.random())],a.push(i),2===a.length&&(o.push(a),a=[]);return o},w.updateRivals=function(t,e){t===this.stageInfo.final.id?l.b.tournamentData.winner=[e?l.b.countryID:l.b.tournamentData.final[Math.floor(2*Math.random())]]:t===this.stageInfo.semi.id?(l.b.tournamentData.final=this.flattenArray(this.chooseRivals(t,e)),e||this.updateRivals(this.stageInfo.final.id,!1)):t===this.stageInfo.quarter.id&&(l.b.tournamentData.semi=this.chooseRivals(t,e),e||this.updateRivals(this.stageInfo.semi.id,!1))},w.arrangeItems=function(t,e){t===this.stageInfo.winner.id?(this.placeItems(this.stageInfo.winner.id,[this.emptyFlag]),this.placeItems(t,l.b.tournamentData.winner),this.arrangeItems(this.stageInfo.final.id,!1)):t===this.stageInfo.final.id?(e?(this.placeItems(this.stageInfo.winner.id,[this.emptyFlag]),this.placeItems(this.stageInfo.final.id,[this.emptyFlag,this.emptyFlag]),this.placeItems(t,l.b.tournamentData.final)):this.placeItems(t,l.b.tournamentData.final),this.arrangeItems(this.stageInfo.semi.id,!1)):t===this.stageInfo.semi.id?(e?(this.placeItems(this.stageInfo.winner.id,[this.emptyFlag]),this.placeItems(this.stageInfo.final.id,[this.emptyFlag,this.emptyFlag]),this.placeItems(this.stageInfo.semi.id,[this.emptyFlag,this.emptyFlag,this.emptyFlag,this.emptyFlag]),this.placeItems(t,this.flattenArray(l.b.tournamentData.semi))):this.placeItems(t,this.flattenArray(l.b.tournamentData.semi)),this.arrangeItems(this.stageInfo.quarter.id,!1)):t===this.stageInfo.quarter.id&&(e&&(this.placeItems(this.stageInfo.winner.id,[this.emptyFlag]),this.placeItems(this.stageInfo.final.id,[this.emptyFlag,this.emptyFlag]),this.placeItems(this.stageInfo.semi.id,[this.emptyFlag,this.emptyFlag,this.emptyFlag,this.emptyFlag])),this.placeItems(t,this.flattenArray(l.b.tournamentData.quarter)))},w.placeItems=function(t,e){var n,r,i,a,o,u=[];l.b.tournamentData.winner.length>0?u=l.b.tournamentData.winner:l.b.tournamentData.final.length>0?u=l.b.tournamentData.final:l.b.tournamentData.semi.length>0&&(u=this.flattenArray(l.b.tournamentData.semi));for(var c=0;c<e.length;c++){i=this.stageInfo[t].pos[c],(n=e[c])===l.b.countryID&&t===this.stage&&"winner"!==t&&((o=d.Sprite.from("halo.png")).position.x=i.x,o.position.y=i.y,o.anchor.set(.5),this.highlight=o,this.itemContainer.addChild(o));var h=d.Sprite.from("backer-1.png");h.anchor.set(.5),h.blendMode=d.BLEND_MODES.MULTIPLY,h.alpha=.3,h.x=i.x,h.y=i.y;var p=d.Sprite.from("backer-2.png");if(p.anchor.set(.5),p.blendMode=d.BLEND_MODES.MULTIPLY,p.alpha=.5,h.addChild(p),"quarter"===t){var f="empty";"quarter"!==this.stage&&n===l.b.countryID&&(f="full");var m=d.Sprite.from("line-1-"+f+".png");m.anchor.set(0,.5),m.y=i.y,c%2==0?(m.y-=10,m.scale.y=-1):m.y+=10,c<=3?m.x=i.x+h.width/2:(m.x=i.x-h.width/2,m.scale.x=-1),this.itemContainer.addChild(m)}else if("semi"===t){var g="empty";"final"!==this.stage&&"winner"!==this.stage||n===l.b.countryID&&(g="full");var y=d.Sprite.from("line-2-"+g+".png");y.anchor.set(0,.5),y.y=i.y,c%2==0?(y.scale.y=-1,y.y+=27):y.y-=27,c<=1?(y.x=i.x+h.width/2,y.x-=1):(y.x=i.x-h.width/2,y.scale.x=-1),this.itemContainer.addChild(y)}else if("final"===t){var v="empty";"final"!==this.stage&&"winner"!==this.stage||n===l.b.countryID&&(v="full");var b=d.Sprite.from("line-3-"+v+".png");b.anchor.set(0,.5),b.y=i.y,b.width=50,b.x=0===c?i.x+h.width/2:i.x-h.width/2-b.width,this.itemContainer.addChild(b)}else if("winner"===t){var _="empty";"winner"===this.stage&&n===l.b.countryID&&(_="full");var w=d.Sprite.from("line-4-"+_+".png");w.anchor.set(.5,0),w.x=i.x,w.y=i.y-59-72,w.height=72,this.itemContainer.addChild(w)}this.itemContainer.addChild(h);var x=new s.a(n.NAME,{fill:"black",fontSize:18,wordWrap:!0,wordWrapWidth:100,align:"center",lineHeight:14,maxWidth:120});if(x.anchor.set(.5),x.x=i.x,x.y=i.y+34,this.itemContainer.addChild(x),"winner"===t&&"winner"!==this.stage&&(n=this.winnerEmptyFlag),r=d.Sprite.from(n.FLAG),"winner"===t&&"winner"!==this.stage||r.scale.set(this.scaleRatio),r.id=n.ID,n.NAME||"winner"===t||(r.alpha=.3,r.width=97.5,r.height=57),r.anchor.set(.5),r.x=i.x,r.y=i.y-15,n===l.b.countryID&&t===this.stage&&"winner"!==t){var S=d.Sprite.from("your-place-1.png");S.anchor.set(.5),S.x=i.x,S.y=i.y,this.itemContainer.addChild(S),this.blueBacker=S,this.blueBacker.alpha=.2,this.blueBackerTick=0}this.itemContainer.addChild(r),u.length>0&&u.indexOf(n)<0&&"winner"!==t&&((a=d.Sprite.from(this.blackFlag.FLAG)).anchor.set(.5),a.alpha=.85,r.addChild(a))}},w.flattenArray=function(t){for(var e=[],n=0;n<t.length;n++)e=e.concat(t[n]);return e},w.onPlayButtonPressed=function(){this.contentUpdated=!1,void 0===l.b.tournamentData.winner[0]?("quarter"===this.stage&&(p.c.dispatch(o.a,{type:o.b.TOURNAMENT_COUNTRY_SELECTED,data:{country_id:l.b.countryID.ID.toLowerCase()}}),p.c.dispatch(o.a,{type:o.b.PLAYER_SELECTED,data:{player_id:l.b.teamA[0].id,captain_selected:1}}),p.c.dispatch(o.a,{type:o.b.PLAYER_SELECTED,data:{player_id:l.b.teamA[1].id,player_2_selected:1}}),p.c.dispatch(o.a,{type:o.b.PLAYER_SELECTED,data:{player_id:l.b.teamA[2].id,player_3_selected:1}}),p.c.dispatch(o.a,{type:o.b.PLAYER_SELECTED,data:{player_id:l.b.teamA[3].id,keeper_selected:1}})),this.chooseOpponent(),this.app.controller.startGame()):(l.b.reset(),this.app.controller.goto(m.a.SCREEN_ID.TITLE))},w.update=function(t){this.highlight&&(this.highlight.rotation+=.01*t),this.blueBacker&&(this.blueBackerTick+=.1*t,this.blueBacker.alpha=.2+.4*Math.sin(this.blueBackerTick)+.4),this.party&&this.party.update(this.view.position,t)},w.show=function(){l.b.matchResult.goalsA>-1&&this.updateRivals(this.stage,l.b.matchResult.goalsA>l.b.matchResult.goalsB),void 0!==l.b.tournamentData.winner[0]&&this.playButton.setText(g.a.tournament_screen.endButton),this.setContent(),this.background.scale.set(0),this.playButton.scale.set(0);var t=(this.height-this.app.overlays.header.height)/this.background.panelHeight;Object(c.tween)(this.background.scale,1,{x:t,y:t,ease:"Elastic.easeOut",delay:.2}),Object(c.tween)(this.playButton.scale,1,{x:1,y:1,ease:"Elastic.easeOut",delay:.5}),this.contentUpdated=!0},w.shown=function(){"quarter"!==this.stage&&this.showCoinAnimation()},w.showCoinAnimation=function(){var t=this;this.coinAnimations[this.stage]||(this.coinAnimations[this.stage]=!0,Object(c.delay)(.3).then((function(){var e,n,r=75;"winner"===t.stage&&(r*=2),"winner"===t.stage?(e=t.background.position.x,n=t.background.position.y+150):(e=t.background.position.x+t.highlight.x,n=t.background.position.y+t.highlight.y-140),t.coinSplash.start(r,e,n),i.default.playSfx("sfx_getcoins")})))},w.resize=function(e,n){t.prototype.resize.call(this,e,n),this.background.position.set(e/2,n/2),this.party&&(this.party.w=e,this.party.h=n)},r}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));n(27),n(671);var r=n(130),i=n(11),a=n(25),o=n(6),s=n(9),u=n(44),c=n(1),l=n(2),h=n(14),d=n(0),p=n(7),f=n(4),m=n(28);function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t){var e,n;function r(e){var n;if(v(g(n=t.call(this,e)||this),"app",void 0),v(g(n),"background",void 0),v(g(n),"charactersButton",void 0),v(g(n),"stadiumsButton",void 0),v(g(n),"rewardsButton",void 0),v(g(n),"statsButton",void 0),v(g(n),"ballsButton",void 0),v(g(n),"kitsButton",void 0),v(g(n),"timeLockedText",void 0),v(g(n),"timeLockedTextClock",0),v(g(n),"buttons",void 0),n.app=e,n.background=new u.a({width:980,height:760,title:"STR_TITLE_UNLOCKABLES"}),n.view.addChild(n.background),window.cordova||c.Params.get("enableRewards",!1)){n.charactersButton=n.buildThirdButton(m.a.unlockables_screen.characters,"image-shop-characters.png"),n.statsButton=n.buildThirdButton(m.a.unlockables_screen.stats,"image-shop-stats.png"),n.rewardsButton=n.buildThirdButton(m.a.unlockables_screen.rewards,"image-shop-rewards.png");var r=n.rewardsButton.getChildAt(1);n.timeLockedText=new d.Text("0:00",{fill:"black",fontSize:20,align:"center"}),n.timeLockedText.anchor.set(0,1),n.timeLockedText.position.set(-r.width/2+5,r.height/2),r.addChild(n.timeLockedText);var i=new s.a("STR_AD",{fill:"white",fontSize:25,stroke:!1}),l=new d.Graphics,h=i.width+20+11,y=i.height+20;l.beginFill(15335555),l.drawRect(0,0,h,y),l.endFill(),i.position.set(10,10),l.position.set(r.width/2-(h-11),-r.height/2+25),l.addChild(i),r.addChild(l)}else n.charactersButton=n.buildHalfButton(m.a.unlockables_screen.characters,"image-shop-characters-wide.png"),n.statsButton=n.buildHalfButton(m.a.unlockables_screen.stats,"image-shop-stats-wide.png");return n.stadiumsButton=n.buildThirdButton(m.a.unlockables_screen.stadiums,"image-shop-stadiums.png"),n.ballsButton=n.buildThirdButton(m.a.unlockables_screen.balls,"image-shop-balls.png"),n.kitsButton=n.buildThirdButton(m.a.unlockables_screen.kits,"image-shop-kits.png"),n.buttons=[n.charactersButton,n.statsButton,n.stadiumsButton,n.ballsButton,n.kitsButton],n.rewardsButton&&(g(n),n.buttons.push(n.rewardsButton)),n.background.content.addChild(n.charactersButton),n.background.content.addChild(n.statsButton),n.rewardsButton&&n.background.content.addChild(n.rewardsButton),n.background.content.addChild(n.stadiumsButton),n.background.content.addChild(n.ballsButton),n.background.content.addChild(n.kitsButton),Object(a.m)()&&n.addExclamation(n.charactersButton),Object(a.l)()&&n.addExclamation(n.ballsButton),Object(a.n)()&&n.addExclamation(n.stadiumsButton),n.addExclamation(n.kitsButton),n.shineButton(n.kitsButton),n.charactersButton.onPress.add((function(){p.c.dispatch(o.a,{type:o.b.UNLOCKABLES_CHARACTERS_SCREEN_SELECTED}),n.app.controller.goto(f.a.SCREEN_ID.CHARACTERS)})),n.statsButton.onPress.add((function(){p.c.dispatch(o.a,{type:o.b.UNLOCKABLES_STATS_SCREEN_SELECTED}),n.app.controller.goto(f.a.SCREEN_ID.STATS)})),n.rewardsButton&&n.rewardsButton.onPress.add((function(){p.c.dispatch(o.a,{type:o.b.UNLOCKABLES_REWARDS_SCREEN_SELECTED}),n.app.controller.goto(f.a.SCREEN_ID.REWARDS)})),n.stadiumsButton.onPress.add((function(){p.c.dispatch(o.a,{type:o.b.UNLOCKABLES_STADIUMS_SCREEN_SELECTED}),n.app.controller.goto(f.a.SCREEN_ID.STADIUMS)})),n.ballsButton.onPress.add((function(){p.c.dispatch(o.a,{type:o.b.UNLOCKABLES_BALLS_SCREEN_SELECTED}),n.app.controller.goto(f.a.SCREEN_ID.BALLS)})),n.kitsButton.onPress.add((function(){p.c.dispatch(o.a,{type:o.b.UNLOCKABLES_KITS_SCREEN_SELECTED}),n.app.controller.goto(f.a.SCREEN_ID.KITS)})),n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,y(e,n);var b=r.prototype;return b.addExclamation=function(t){if(!t.notification){var e=d.Sprite.from("button-unlockables-notification.png");e.anchor.set(.5),e.scale.set(1.2),e.rotation=-.2,e.position.x=t.width/2-20,e.position.y=-20,t.addChild(e),Object(c.tween)(e.scale,.5,{x:1.6,y:1.6,ease:"Quad.easeInOut",repeat:-1,yoyo:!0}),Object(c.tween)(e,1,{rotation:.2,ease:"Quad.easeInOut",repeat:-1,yoyo:!0}),t.notification=e}},b.removeExclamation=function(t){t.notification&&(h.c.killTweensOf(t.notification.scale),Object(c.tween)(t.notification.scale,.4,{x:0,y:0,ease:"Back.easeIn"}),h.c.killTweensOf(t.notification),t.removeChild(t.notification),t.notification=null)},b.buildHalfButton=function(t,e){var n=d.Sprite.from("panel-shop-background-white-half.png"),r=new i.c({color:i.a.PINK,text:t,width:428,height:75}),a=d.Sprite.from(e);return a.anchor.set(.5),n.anchor.set(.5),n.y=-97,a.y=-137,r.addChildAt(a,0),r.addChildAt(n,0),r},b.buildThirdButton=function(t,e){var n=d.Sprite.from("panel-shop-background-white-third.png"),r=new i.c({color:i.a.PINK,text:t,width:262,height:75}),a=d.Sprite.from(e);return a.anchor.set(.5),n.anchor.set(.5),n.y=-97,a.y=-137,r.addChildAt(a,0),r.addChildAt(n,0),r},b.shineButton=function(t){t.stars=[],t.starCounts=[];for(var e=[],n=1;n<=3;n++)e.push(n*(t.height/3));c.Random.shuffle(e);for(var r=0;r<3;r++){var i=d.Sprite.from("flash-big-2.png");i.scale.set(.2+.3*Math.random()),i.anchor.set(.5),i.blendMode=d.BLEND_MODES.ADD,i.position.x=r*(t.width/3)-t.width/2,i.position.y=e[r]-t.height/2,t.addChild(i),t.stars.push(i),t.starCounts.push(1e3*Math.random())}},b.show=function(){this.charactersButton.notification&&!Object(a.m)()&&this.removeExclamation(this.charactersButton),this.stadiumsButton.notification&&!Object(a.n)()&&this.removeExclamation(this.stadiumsButton),this.ballsButton.notification&&!Object(a.l)()&&this.removeExclamation(this.ballsButton),this.rewardsButton&&this.refreshRewardButtonView(),this.resize(this.width,this.height),this.background.scale.set(0);var t=(this.height-this.app.overlays.header.height)/this.background.panelHeight;Object(c.tween)(this.background.scale,1,{x:t,y:t,ease:"Elastic.easeOut",delay:.2})},b.resize=function(e,n){t.prototype.resize.call(this,e,n),this.background.position.set(e/2,n/2);this.rewardsButton?(this.charactersButton.position.set(-310,-16),this.statsButton.position.set(0,-16),this.rewardsButton.position.set(310,-16),this.stadiumsButton.position.set(-310,289),this.ballsButton.position.set(0,289),this.kitsButton.position.set(310,289)):(this.charactersButton.position.set(-230,-16),this.statsButton.position.set(230,-16),this.stadiumsButton.position.set(-310,289),this.ballsButton.position.set(0,289),this.kitsButton.position.set(310,289))},b.refreshRewardButtonView=function(){var t=!0,e=Date.now()-l.b.timeAtAdReward<3e5;!this.app.ads.canPlayInterstitial()&&!c.Params.get("enableRewards",!1)||e||(t=!1);var n=this.rewardsButton.getChildAt(1);t?(this.removeExclamation(this.rewardsButton),n.texture=d.Texture.from("image-shop-rewards-disabled.png"),this.rewardsButton.setColor(i.a.GREY),this.rewardsButton.disable()):(n.texture=d.Texture.from("image-shop-rewards.png"),this.addExclamation(this.rewardsButton),this.rewardsButton.setColor(i.a.PINK),this.rewardsButton.enable()),this.timeLockedText.visible=e},b.update=function(t){if(this.rewardsButton&&this.timeLockedText.visible&&(this.timeLockedTextClock+=t,this.timeLockedTextClock>1)){var e=3e5-(Date.now()-l.b.timeAtAdReward),n=new Date(e);e<0?this.refreshRewardButtonView():this.timeLockedText.text=String(n.getMinutes())+":"+String(n.getSeconds()).padStart(2,"0"),this.timeLockedTextClock=0}for(var r=0;r<this.buttons.length;r++){var i=this.buttons[r];if(i.stars)for(var a=0;a<i.stars.length;a++)i.starCounts[a]+=.07*t,i.stars[a].alpha=Math.abs(Math.sin(i.starCounts[a])),i.stars[a].rotation+=.01*i.stars[a].scale.x*t}},r}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));n(21),n(27),n(5),n(19);var r=n(130),i=n(11),a=n(4),o=n(9),s=n(44);function u(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){u(a,r,i,o,s,"next",t)}function s(t){u(a,r,i,o,s,"throw",t)}o(void 0)}))}}function l(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p=function(t){var e,n;function r(e){var n;return d(l(n=t.call(this,e)||this),"app",void 0),d(l(n),"background",void 0),n.app=e,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,h(e,n);var u=r.prototype;return u.init=function(){var t=c(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.background=new s.a({width:680,height:450,title:"STR_PLAYER_LOCKED_TITLE"}),this.view.addChild(this.background),(e=new o.a("STR_PLAYER_LOCKED_TEXT",{fill:"#493008",fontSize:32,wordWrap:!0,wordWrapWidth:400,align:"center",breakWords:!0})).anchor.set(.5),e.y=-20,this.background.content.addChild(e),(n=new i.c({text:"STR_TITLE_UNLOCKABLES",width:325})).y=120,n.onPress.add(this.gotoUnlockables,this),this.background.content.addChild(n);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.gotoUnlockables=function(){var t=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.app.controller.closeOverlay();case 2:this.app.controller.goto(a.a.SCREEN_ID.CHARACTERS);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.show=function(){var t=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u.hide=function(){var t=c(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u.resize=function(e,n){t.prototype.resize.call(this,e,n),this.background.x=e/2,this.background.y=n/2},r}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));n(5),n(19),n(21);var r=n(452),i=n(17),a=n(40),o=n(2);function s(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var c=function(t){var e,n;function c(e){return t.call(this,e,{title:"STR_KEEPER_SELECT_TITLE",enableBreadcrumb:!0,screenIdentifier:"keeper"})||this}n=t,(e=c).prototype=Object.create(n.prototype),e.prototype.constructor=e,u(e,n);var l=c.prototype;return l.init=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.prototype.init.call(this),this.setPlayers(a.d.keepers()),this.onCardSelected.connect((function(t){n.selectPlayer(t),o.b.teamA[3]=t.data,i.default.playVo(t.data.superSound),n.app.controller.breadcrumbNext()}));case 3:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(t){s(a,r,i,o,u,"next",t)}function u(t){s(a,r,i,o,u,"throw",t)}o(void 0)}))});return function(){return n.apply(this,arguments)}}(),l.show=function(){var e=this;t.prototype.show.call(this),window.FASTPLAY&&setTimeout((function(){var t=r.a.apply(void 0,e.cards);e.selectPlayer(t),o.b.teamA[3]=t.data,i.default.playVo(t.data.superSound),e.app.controller.breadcrumbNext()}),300)},c}(n(172).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n(5),n(19),n(21);var r=n(2);function i(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var o=function(t){var e,n;function o(e){return t.call(this,e)||this}n=t,(e=o).prototype=Object.create(n.prototype),e.prototype.constructor=e,a(e,n);var s=o.prototype;return s.setup=function(){t.prototype.setup.call(this),this.initButtons("Continue")},s.confirmPressed=function(){var e,n=(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r.b.timeAtAdReward=Date.now(),t.prototype.confirmPressed.call(this);case 2:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function s(t){i(o,r,a,s,u,"next",t)}function u(t){i(o,r,a,s,u,"throw",t)}s(void 0)}))});return function(){return n.apply(this,arguments)}}(),s.gotoNextScene=function(){this.app.controller.goBack(),this.app.overlays.header.unlock()},o}(n(269).a)},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",(function(){return i}));var i=function(t){var e,n;function i(e){var n,r,i,a;return n=t.call(this,e)||this,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),a=void 0,(i="nextSceneId")in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,r(e,n);var a=i.prototype;return a.setup=function(){t.prototype.setup.call(this),this.initButtons("ConfirmCancel")},a.prepare=function(t){t&&(this.nextSceneId=t.nextScene)},a.gotoNextScene=function(){this.nextSceneId&&this.app.controller.goto(this.nextSceneId)},i}(n(269).a)},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return o}));n(21),n(5),n(19),n(128),n(132);var r=n(85),i=n(96),a=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))},o={test:function(t){var e=Object(r.extname)(t);return e.includes(".atlas")&&e.indexOf("~")<0},load:function(e){return a(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,a,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=window.PIXI_SPINE||t.spine,n.next=3,fetch(e);case 3:return a=n.sent,n.next=6,a.text();case 6:return o=n.sent,n.abrupt("return",new Promise((function(t){var n=new i.core.TextureAtlas(o,s(Object(r.dirname)(e)),(function(){t(n)}))})));case 8:case"end":return n.stop()}}),n)})))}};function s(t){return t&&t.lastIndexOf("/")!==t.length-1&&(t+="/"),function(e,n){var r=t+e;Object(i.c)(r).then((function(t){n(t.baseTexture)}))}}}).call(this,n(0))},function(t,e,n){"use strict";n.d(e,"a",(function(){return Lo}));n(5),n(19),n(21);var r=n(130),i=n(11),a=n(49),o=n(1),s=(n(27),n(15),n(22),n(20),n(42),n(94)),u=n(17),c=n(8),l=n(37),h=n(6),d=n(46),p=n(117),f=(n(34),n(14)),m=n(0),g=n(7);function y(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){y(a,r,i,o,s,"next",t)}function s(t){y(a,r,i,o,s,"throw",t)}o(void 0)}))}}function b(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x=function(t){var e,n;function r(){var e;w(b(e=t.call(this)||this),"arrowContainer",void 0),w(b(e),"arrows",void 0),e.arrowContainer=new m.Container,e.addChild(e.arrowContainer),e.arrows=[];for(var n=0,r=0;r<6;r++){var i=m.Sprite.from("icon-right.png");i.blendMode=m.BLEND_MODES.ADD,i.anchor.set(0,1),i.scale.set(1.8),e.arrowContainer.addChild(i),e.arrows.push(i),i.x=n,n+=65}return e.arrowContainer.x=-e.arrowContainer.width/2,e.hide(!0),e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,_(e,n);var i=r.prototype;return i.show=function(){var t=v(regeneratorRuntime.mark((function t(e){var n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),this.scale.x=g.d.halfTimeSwapped?-1:1,!e){t.next=6;break}return this.arrows.forEach((function(t){return t.alpha=.5})),this.visible=!0,t.abrupt("return");case 6:this.arrows.forEach((function(t,e){t.alpha=0,Object(o.tween)(t,.7,{alpha:.5,delay:.12*e,ease:"Quad.easeInOut",repeat:-1,yoyo:!0})})),this.visible=!0,Object(o.delay)(7).then((function(){return n.hide()}));case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),i.hide=function(){var t=v(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),!e){t.next=5;break}this.arrows.forEach((function(t){f.c.killTweensOf(t),t.alpha=0})),t.next=9;break;case 5:return n=[],this.arrows.forEach((function(t){f.c.killTweensOf(t),n.push(Object(o.tween)(t,.15,{alpha:0,ease:"Quad.easeOut"}))})),t.next=9,Promise.all(n);case 9:this.visible=!1;case 10:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r}(m.Container),S=n(156),T=n(201),M=n.n(T),E=n(43),A=n.n(E),k=n(100),C=n.n(k),O=n(55),L=n(158),R=n(24),P=n(157),D=n(2);function I(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var B=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.teamA={lastScored:0,goalScorePercentage:.5,speedMod:1,aggressiveness:0,tackleChance:1,turnMultiplier:1},this.teamB={lastScored:0,goalScorePercentage:.5,speedMod:.95,aggressiveness:20,tackleChance:.5,turnMultiplier:1},this.human=this.teamA,this.ai=this.teamB,this.eb=0}var e,n,r;return e=t,(n=[{key:"update",value:function(){var t=this.game.goalsA-this.game.goalsB,e=this.game.getMatchType(),n=1,r=0;"semi"===e?(n=2,r=-70):"final"===e&&(n=4,r=-140),this.ai.goalScorePercentage=.25*n,this.ai.turnMultiplier=1,this.ai.aggressiveness=0+r,this.ai.tackleChance=.75,this.ai.speedMod=1,t<=-1?(this.ai.goalScorePercentage=.15,this.ai.turnMultiplier=4):t>=1&&(this.ai.goalScorePercentage=.375*n),t<=-3?(this.ai.aggressiveness=200,this.ai.speedMod=.9,this.ai.tackleChance=.3,this.ai.goalScorePercentage=.1):t>=3&&(this.ai.aggressiveness=-50+r,this.ai.speedMod=1.3,this.ai.tackleChance=1,this.ai.goalScorePercentage=1),this.human.speedMod=1,this.eb++,this.eb>3600&&(t>0?this.human.speedMod=.9:t<0&&(this.human.speedMod=1.1))}}])&&I(e.prototype,n),r&&I(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),N=(n(23),n(29),n(30),n(33),n(35),n(532)),j=n.n(N),F=n(266),U=n.n(F),Y=n(267),G=n.n(Y);function H(t){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function V(t,e){return(V=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function W(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=K(t);if(e){var i=K(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return X(this,n)}}function X(t,e){if(e&&("object"===H(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var q=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&V(t,e)}(a,t);var e,n,r,i=W(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).game=t,e.padding=(U.a.instance.isMobile,0),e.idleZoom=1,e.zoom=e.idleZoom,e.zoomWait=0,e.lockToFrame=!0,e.easeX=0,e.easeY=0,e.mobileMode=!1,e.spring=new G.a,e.canShake=!0,e}return e=a,(n=[{key:"reset",value:function(){this.x=this.easeX=this.viewWidth/2}},{key:"shake",value:function(t,e){this.canShake&&(t=t||Math.random()*Math.PI*2,e=e||20,this.spring.dx=Math.sin(t)*e,this.spring.dy=Math.cos(t)*e)}},{key:"update",value:function(){this.spring.update();var t=this.game.ball,e=t.position.x,n=t.position.y;this.viewWidth,this.viewHeight,this.easeX+=.1*(e-this.x),this.easeY+=.1*(n-this.y),this.x=this.easeX+this.spring.x,this.y=this.easeY+this.spring.y}},{key:"resize",value:function(t,e){this.viewWidth=t,this.viewHeight=e}}])&&z(e.prototype,n),r&&z(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(j.a),Z=(n(38),n(47)),J=n.n(Z),Q=n(12);function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function tt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function et(t,e){return(et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=it(t);if(e){var i=it(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return rt(this,n)}}function rt(t,e){if(e&&("object"===$(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function it(t){return(it=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var at=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&et(t,e)}(a,t);var e,n,r,i=nt(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this,40,4,100,1500)).game=t,e.padding=(U.a.instance.isMobile,0),e.idleZoom=1,e.targetZoom=1,e.zoom=e.idleZoom,e.zoomWait=0,e.lockToFrame=!0,e.easeX=0,e.easeY=0,e.easeZ=0,e.mobileMode=!1,e.spring=new G.a,e.canShake=!0,e.focusMode=!1,e.celebrateMode=!1,e.endMode=!1,e.rock=0,e.tick=0,e.currentId=0,e}return e=a,(n=[{key:"reset",value:function(){this.x=this.easeX=this.viewWidth/2,this.endMode=!1,this.celebrateMode=!1}},{key:"shake",value:function(t,e){this.canShake&&(t=t||Math.random()*Math.PI*2,e=e||20,this.spring.dx=Math.sin(t)*e,this.spring.dy=Math.cos(t)*e)}},{key:"update",value:function(){this.spring.update();var t=this.game.ball;this.celebrateMode?t=this.game.ball.lastOwner||this.game.ball:this.endMode&&(this.tick>100&&(this.currentId++,this.tick=0),t=this.game.ball.lastOwner||this.game.ball);var e=t.position.x;e<200?e=200:e>1400&&(e=1400);var n=t.position.y;(this.celebrateMode||this.endMode)&&(n+=100),n<150?n=150:n>800&&(n=800);var r=e,i=n-400,a=500-J.a.map(n,150,800,150,0);this.focusMode?(a=300,this.targetZoom=1.4,this.shake(null,(this.zoom-1)/.2),this.easeZ+=.1*(a-this.easeZ)):(this.targetZoom=1,this.easeZ+=.3*(a-this.easeZ)),this.easeX+=.2*(r-this.easeX),this.easeY+=.2*(i-this.easeY),this.position.x=isNaN(this.easeX)?0:this.easeX,this.position.y=isNaN(this.easeY)?0:this.easeY,this.position.z=isNaN(this.easeZ)?0:this.easeZ;var o=this.position.z-0,s=this.position.y-(isNaN(n)?0:n),u=this.position.x-(isNaN(e)?0:e),c=Math.atan2(-s,o),l=Math.atan2(-o,u)+Math.PI/2;if(this.rotation.x+=J.a.smallestAngle(this.rotation.x,c),this.rotation.y+=J.a.smallestAngle(this.rotation.y,l),window.test=this.rotation.x,isNaN(this.spring.x)||(this.position.x+=this.spring.x),isNaN(this.spring.y)||(this.position.z+=this.spring.y),this.celebrateMode){this.rotation.z=.15*Math.sin(.6*this.rock),this.rock+=.1;var h=1.5+.2*Math.sin(.5*this.rock);this.zoom+=.1*(h-this.zoom)}else this.rotation.z*=.9,this.zoom+=.01*(this.targetZoom-this.zoom);this.updateProjectionMatrix()}}])&&tt(e.prototype,n),r&&tt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(Q.PerspectiveCamera),ot=n(48),st=n(533),ut=n.n(st);function ct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var lt=function(){function t(t){ct(this,"game",void 0),ct(this,"keyboard",void 0),ct(this,"keyIsDown",!1),ct(this,"enabled",!0),ct(this,"dPad",void 0),ct(this,"lockSpace",!1),ct(this,"lockLeft",!1),ct(this,"lockRight",!1),ct(this,"lockUp",!1),ct(this,"lockDown",!1),this.game=t,this.keyboard=new ut.a,this.dPad=new m.Point,this.keyboard.onKeyPress("space",this.onSpacePressed.bind(this)),this.keyboard.onKeyRelease("space",this.onSpaceReleased.bind(this)),o.Params.get("matchSkipButtonsEnabled",!1)&&(this.keyboard.onKeyRelease("z",this.onWinButtonPressed.bind(this)),this.keyboard.onKeyRelease("x",this.onLoseButtonPressed.bind(this)))}var e=t.prototype;return e.reset=function(){this.keyIsDown=!1,window.focus()},e.update=function(){this.game.paused&&(this.keyIsDown=!1);var t=0,e=0,n=this.game.teamManagerLeft;if(this.keyboard.isPressed("left")||this.keyboard.isPressed("a")?t=-1:(this.keyboard.isPressed("right")||this.keyboard.isPressed("d"))&&(t=1),this.keyboard.isPressed("up")||this.keyboard.isPressed("w")?e=-1:(this.keyboard.isPressed("down")||this.keyboard.isPressed("s"))&&(e=1),-1===t&&this.lockLeft&&(t=0),1===t&&this.lockRight&&(t=0),-1===e&&this.lockUp&&(e=0),1===e&&this.lockDown&&(e=0),0===t&&0===e)n.stopActivePlayer();else{var r=Math.sqrt(t*t+e*e)||1e-9;t/=r,e/=r,n.moveActivePlayerInDirection(t,-e)}},e.onWinButtonPressed=function(){this.game.paused||this.game.active&&this.game.forcePlayerWin()},e.onLoseButtonPressed=function(){this.game.paused||this.game.active&&this.game.forcePlayerLose()},e.onSpacePressed=function(){this.game.paused||this.game.teamManagerLeft.actionBegin()},e.onSpaceReleased=function(){this.game.paused||this.game.teamManagerLeft.actionEnd()},e.resize=function(t,e){},t}(),ht=n(534),dt=n.n(ht),pt=n(535),ft=n.n(pt);function mt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gt(t,e){return(gt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var vt=new m.Point,bt=function(t){var e,n;function r(e){var n;return e=e||{},yt(mt(n=t.call(this)||this),"sprite",void 0),yt(mt(n),"actionFrame",void 0),yt(mt(n),"downFrame",void 0),n.sprite=m.Sprite.from(e.downFrame),n.sprite.anchor.set(.5),n.addChild(n.sprite),n.interactiveChildren=!1,n.view.hitArea=new m.Circle(0,0,80),n.actionFrame=new m.Sprite,n.actionFrame.anchor.set(.5),n.addChild(n.actionFrame),n.downFrame=m.Sprite.from(e.downFrame),n.downFrame.anchor.set(.5),n.downFrame.alpha=0,n.addChild(n.downFrame),n.isDown=!1,n.onDown.add((function(){n.isDown=!0,n.sprite.texture=m.Texture.from(e.downFrame)})),n.onUp.add((function(){n.isDown=!1,n.sprite.texture=m.Texture.from(e.upFrame)})),n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,gt(e,n);var i=r.prototype;return i.setActionFrame=function(t){this.actionFrame.texture=m.Texture.from(t)},i.addCallbacks=function(t,e,n){this.onDown.add(t,n),this.onUp.add(e,n)},r}(ft.a),_t=function(){function t(t){var e=this;yt(this,"game",void 0),yt(this,"view",void 0),yt(this,"swipeRegion",void 0),yt(this,"mockTrackpad",void 0),yt(this,"directionArrow",void 0),yt(this,"crossIcon",void 0),yt(this,"hint",void 0),yt(this,"hand",void 0),yt(this,"glow",void 0),yt(this,"blur",void 0),yt(this,"analogueStick",void 0),yt(this,"movementPointer",void 0),yt(this,"buttonOne",void 0),yt(this,"buttonPointer",void 0),yt(this,"isSwipe",void 0),yt(this,"lockSpace",void 0),yt(this,"lockLeft",void 0),yt(this,"lockRight",void 0),yt(this,"lockUp",void 0),yt(this,"lockDown",void 0),yt(this,"direction",void 0),yt(this,"isOnboarding",void 0),yt(this,"analogueStickId",void 0),yt(this,"touchPoint",void 0),yt(this,"hintShown",void 0),yt(this,"idleTicker",void 0),yt(this,"hintActive",void 0),yt(this,"trackpadDown",void 0),yt(this,"actionDown",void 0),yt(this,"resetCounter",void 0),yt(this,"w",void 0),yt(this,"h",void 0),this.game=t,this.view=t.view,this.view.interactive=!0,this.view.buttonMode=!0;var n=m.Sprite.from("joystick-back.png");n.anchor.set(.5);var r=m.Sprite.from("joystick.png");r.anchor.set(.5);var i={background:n,stick:r};this.analogueStick=new dt.a(i),this.analogueStick.view.scale.set(1.5),this.movementPointer=m.Sprite.from("pointer2.png"),this.movementPointer.anchor.set(.5),this.movementPointer.scale.set(1/this.analogueStick.view.scale.x),this.movementPointer.y=20,this.movementPointer.alpha=0,this.analogueStick.view.addChild(this.movementPointer),this.buttonOne=new bt({downFrame:"touch-button-hit.png",upFrame:"touch-button.png"}),this.buttonOne.view.scale.set(1.5),this.buttonOne.setActionFrame("touch-button.png"),this.buttonOne.addCallbacks((function(){e.lockSpace||(e.actionDown=!0,e.game.teamManagerLeft.actionBegin())}),(function(){e.lockSpace||(e.game.teamManagerLeft.actionEnd(),e.actionDown=!1,e.isSwipe&&e.direction.set(0))}),this),this.buttonPointer=m.Sprite.from("pointer2.png"),this.buttonPointer.anchor.set(.5),this.buttonPointer.scale.set(1/this.buttonOne.view.scale.x),this.buttonPointer.y=20,this.buttonPointer.alpha=0,this.buttonOne.view.addChild(this.buttonPointer),this.idleTicker=null,this.hintShown=!1,this.hintActive=!1,this.isOnboarding=!1,this.trackpadDown=!1,this.actionDown=!1,this.view.interactive=!0,this.touchPoint=new m.Point,this.swipeRegion=new m.Sprite(m.Texture.WHITE),this.swipeRegion.alpha=0,this.swipeRegion.interactive=!0,this.view.addChild(this.swipeRegion),this.mockTrackpad=m.Sprite.from("swipe-trackpad.png"),this.mockTrackpad.anchor.set(.5),this.mockTrackpad.scale.set(.8),this.mockTrackpad.alpha=0,this.view.addChild(this.mockTrackpad),this.directionArrow=m.Sprite.from("swipe-arrow.png"),this.directionArrow.anchor.set(.5,.4),this.directionArrow.scale.set(.4),this.directionArrow.alpha=0,this.mockTrackpad.addChild(this.directionArrow),this.crossIcon=m.Sprite.from("icon-cross.png"),this.crossIcon.anchor.set(.5),this.crossIcon.scale.set(3.2),this.crossIcon.alpha=0,this.mockTrackpad.addChild(this.crossIcon),this.hint=new m.Container,this.hint.scale.set(1.5),this.view.addChild(this.hint),this.hint.visible=!1,this.glow=m.Sprite.from("touch-button-hit.png"),this.glow.anchor.set(.5),this.hint.addChild(this.glow),this.hand=m.Sprite.from("pointer2.png"),this.hand.anchor.set(.42,.1),this.hand.scale.set(1.5),this.hint.addChild(this.hand),this.blur=new m.filters.BlurFilter,this.blur.blurY=0,this.direction=new m.Point,this.swipeRegion.on("pointerdown",this.onTrackpadStart,this),this.swipeRegion.on("pointermove",this.onTrackpadMove,this),this.swipeRegion.on("pointerup",this.onTrackpadEnd,this),this.swipeRegion.on("pointercancel",this.onTrackpadEnd,this),this.view.addChild(this.analogueStick.view),this.view.addChild(this.buttonOne.view),this.view.on("touchstart",this.moveAnalogueStick,this),this.view.on("touchend",this.resetAnalogueStick,this),this.resetCounter=0,this.refreshMode()}var e=t.prototype;return e.refreshMode=function(){this.isSwipe=o.Params.get("swipeController",c.a.settings.controls===p.a.SWIPE),this.isSwipe&&this.direction.set(0)},e.hide=function(){var t=this;this.analogueStick.view.visible&&Object(o.tween)(this.analogueStick.view,.2,{alpha:0,onComplete:function(){return t.analogueStick.view.visible=!1}}),this.buttonOne.visible&&Object(o.tween)(this.buttonOne,.2,{alpha:0,onComplete:function(){return t.buttonOne.visible=!1}}),this.mockTrackpad.visible&&Object(o.tween)(this.mockTrackpad,.2,{alpha:0,onComplete:function(){t.mockTrackpad.visible=!1,t.swipeRegion.visible=!1}})},e.show=function(){this.buttonOne.visible=!0,Object(o.tween)(this.buttonOne,.2,{alpha:1}),this.mockTrackpad.visible=this.isSwipe,this.swipeRegion.visible=this.isSwipe,this.analogueStick.view.visible=!this.isSwipe,this.isSwipe?(Object(o.tween)(this.mockTrackpad,.2,{alpha:0}),this.hintShown||(this.idleTicker=500)):Object(o.tween)(this.analogueStick.view,.2,{alpha:1})},e.disable=function(){this.view.interactive=!1},e.enable=function(){this.view.interactive=!0},e.update=function(t){this.analogueStick.update();var e=this.game.teamManagerLeft,n=new m.Point;if(this.isSwipe)n.x=this.direction.x,n.y=-this.direction.y;else{var r=this.analogueStick.delta;(r.x>0&&this.lockRight||r.x<0&&this.lockLeft)&&(r.x=0),(r.y<0&&this.lockUp||r.y>0&&this.lockDown)&&(r.y=0),n.x=r.x,n.y=-r.y}e.moveActivePlayerInDirection(n.x,n.y),this.resetCounter>0&&(this.resetCounter--,0===this.resetCounter&&this.analogueStick.view.position.set(200,this.h-200)),this.idleTicker&&this.idleTicker>0&&(this.idleTicker-=t,this.idleTicker<=0&&(this.idleTicker=null,this.game.tutorialCompleted&&this.showHint()))},e.resize=function(t,e){this.w=t,this.h=e,this.analogueStick.view.position.set(200,e-200),this.buttonOne.view.position.set(t-200,e-200),this.swipeRegion.width=2*t/3,this.swipeRegion.height=e,this.mockTrackpad.position.set(200,e-200),this.hint.position.set(200,e-(this.isOnboarding?400:200))},e.resetAnalogueStick=function(t){t.data.identifier===this.analogueStickId&&(this.analogueStick.up.call(this.analogueStick,t),this.resetCounter=60)},e.moveAnalogueStick=function(t){this.resetCounter=-1,this.movementPointer.alpha=0;var e=t.data.getLocalPosition(this.view,vt);e.x<this.w/2&&(this.analogueStickId=t.data.identifier,this.analogueStick.view.position.x=e.x||0,this.analogueStick.view.position.y=e.y||0,this.analogueStick.pad._events.touchstart.fn.call(this.analogueStick,t))},e.showHint=function(t){var e=this;if(void 0===t&&(t=!0),t){if(this.hintActive)return;this.hintActive=!0}this.hintActive&&(this.hint.alpha=0,this.hint.visible=!0,this.glow.scale.set(0),this.hand.alpha=.5,this.hand.y=-15,Object(o.tween)(this.hint,.3,{alpha:1,ease:"Quad.easeOut",delay:.2,onComplete:function(){Object(o.tween)(e.hand,.2,{alpha:1,ease:"Quad.easeOut",delay:.2}),Object(o.tween)(e.hand,.2,{y:0,ease:"Quad.easeOut",delay:.2}),Object(o.tween)(e.glow.scale,.2,{x:1,y:1,ease:"Quad.easeOut",delay:.2,onComplete:function(){Object(o.tween)(e.hint,.3,{x:500,ease:"Quad.easeInOut",onComplete:function(){Object(o.tween)(e.hand,.2,{alpha:.5,ease:"Quad.easeOut",delay:.2}),Object(o.tween)(e.hand,.2,{y:-15,ease:"Quad.easeOut",delay:.2}),Object(o.tween)(e.glow.scale,.2,{x:0,y:0,ease:"Quad.easeOut",onComplete:function(){Object(o.tween)(e.hand,.2,{alpha:1,ease:"Quad.easeOut",delay:.2}),Object(o.tween)(e.hand,.2,{y:0,ease:"Quad.easeOut",delay:.2}),Object(o.tween)(e.glow.scale,.2,{x:1,y:1,ease:"Quad.easeOut",delay:.2,onComplete:function(){Object(o.tween)(e.hint,.3,{x:200,ease:"Quad.easeInOut",onComplete:function(){Object(o.tween)(e.hand,.2,{alpha:.5,ease:"Quad.easeOut",delay:.2}),Object(o.tween)(e.hand,.2,{y:-15,ease:"Quad.easeOut",delay:.2}),Object(o.tween)(e.glow.scale,.2,{x:0,y:0,ease:"Quad.easeOut",onComplete:function(){Object(o.tween)(e.hint,.3,{alpha:0,ease:"Quad.easeOut",onComplete:e.showHint.bind(e,!1)})}})}})}})}})}})}})}}))},e.hideHint=function(){var t=this;this.hintActive=!1,f.c.killTweensOf(this.hint),Object(o.tween)(this.hint,.3,{alpha:0,ease:"Quad.easeOut"}).then((function(){f.c.killTweensOf(t.hand),f.c.killTweensOf(t.glow.scale)}))},e.onboarding=function(t,e){var n=this;if(void 0===t&&(t=!1),void 0===e&&(e=!1),!e){if(this.isOnboarding)return;this.isOnboarding=!0}this.isOnboarding&&(f.c.killTweensOf(this.hint),this.hint.alpha=0,this.hint.y=this.h-400,this.hint.x=t?500:200,this.hint.visible=!0,this.glow.scale.set(0),this.hand.alpha=.5,this.hand.y=-15,Object(o.tween)(this.hint,.3,{alpha:1,ease:"Quad.easeOut",delay:.2,onComplete:function(){Object(o.tween)(n.hand,.2,{alpha:1,ease:"Quad.easeOut",delay:.2}),Object(o.tween)(n.hand,.2,{y:0,ease:"Quad.easeOut",delay:.2}),Object(o.tween)(n.glow.scale,.2,{x:1,y:1,ease:"Quad.easeOut",delay:.2,onComplete:function(){Object(o.tween)(n.hint,.3,{x:t?200:500,ease:"Quad.easeInOut",onComplete:function(){Object(o.tween)(n.hand,.2,{alpha:.5,ease:"Quad.easeOut",delay:.2}),Object(o.tween)(n.hand,.2,{y:-15,ease:"Quad.easeOut",delay:.2}),Object(o.tween)(n.glow.scale,.2,{x:0,y:0,ease:"Quad.easeOut",onComplete:n.onboarding.bind(n,t,!0)})}})}})}}))},e.stopOnboarding=function(){var t=this;this.isOnboarding=!1,f.c.killTweensOf(this.hint),f.c.killTweensOf(this.hand),f.c.killTweensOf(this.glow.scale),Object(o.tween)(this.hint,.3,{alpha:0,ease:"Quad.easeOut",onComplete:function(){return t.hint.y=t.h-200}})},e.resetTrackpad=function(){this.direction.set(0),this.trackpadDown=this.actionDown=!1},e.onTrackpadStart=function(t){!this.trackpadDown&&this.game.active&&(this.trackpadDown=!0,this.touchPoint=t.data.global.clone())},e.onTrackpadMove=function(t){if(this.trackpadDown){var e=t.data.global.x-this.touchPoint.x,n=t.data.global.y-this.touchPoint.y,r=Math.atan2(n,e)+o.Maths.PI_HALF,i=new m.Point(Math.min(Math.abs(e)/100,1),Math.min(Math.abs(n)/100,1)),a=1*Math.sin(r)*i.x,s=1*-Math.cos(r)*i.y;(a>0&&this.lockRight||a<0&&this.lockLeft)&&(a=0),(s<0&&this.lockUp||s>0&&this.lockDown)&&(s=0),this.direction.x=a,this.direction.y=s}},e.onTrackpadEnd=function(t){var e=this;if(this.trackpadDown){this.trackpadDown=!1;var n=t.data.global.x-this.touchPoint.x,r=t.data.global.y-this.touchPoint.y;if(f.c.killTweensOf(this.direction),f.c.killTweensOf(this.mockTrackpad),f.c.killTweensOf(this.crossIcon),f.c.killTweensOf(this.directionArrow),this.crossIcon.alpha=0,this.directionArrow.alpha=0,Math.abs(n)<10&&Math.abs(r)<10)return this.direction.set(0),void(this.lockLeft&&this.lockRight&&this.lockUp&&this.lockDown||(Object(o.tween)(this.mockTrackpad,.2,{alpha:.5}),Object(o.tween)(this.crossIcon,.2,{alpha:1,ease:"Quad.easeOut",onComplete:function(){Object(o.tween)(e.crossIcon,.3,{alpha:0,delay:.3}),Object(o.tween)(e.mockTrackpad,.2,{alpha:0,delay:.2})}})));this.idleTicker&&(this.idleTicker=null,this.hintShown=!0),this.hintActive&&this.hideHint();var i=Math.atan2(r,n)+o.Maths.PI_HALF;i=Math.round(i/(o.Maths.PI_QUART/4))*(o.Maths.PI_QUART/4);var a=1*Math.sin(i),s=1*-Math.cos(i),u=!1;this.game.tutorialCompleted||0!==i&&i!==Math.PI||(u=!0),(a>0&&this.lockRight||a<0&&this.lockLeft)&&(a=0,u=!0),(s<0&&this.lockUp||s>0&&this.lockDown)&&(s=0,i=a>0?o.Maths.PI_HALF:3*o.Maths.PI_HALF),u||(Object(o.tween)(this.mockTrackpad,.2,{alpha:.5}),this.directionArrow.rotation=i,Object(o.tween)(this.directionArrow,.2,{alpha:1,ease:"Quad.easeOut",onComplete:function(){Object(o.tween)(e.directionArrow,.3,{alpha:0,delay:.3}),Object(o.tween)(e.mockTrackpad,.2,{alpha:0,delay:.2})}})),this.direction.x=a,this.direction.y=s}},t}(),wt=(n(51),n(4)),xt=n(110),St=n(123);function Tt(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function Mt(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){Tt(a,r,i,o,s,"next",t)}function s(t){Tt(a,r,i,o,s,"throw",t)}o(void 0)}))}}function Et(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function At(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kt(t,e){return(kt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ct(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Ot=function(t){var e,n;function r(){var e;return Ct(At(e=t.call(this)||this),"nextButton",void 0),Ct(At(e),"previousButton",void 0),Ct(At(e),"trackpad",void 0),Ct(At(e),"container",void 0),Ct(At(e),"bg",void 0),Ct(At(e),"balls",void 0),Ct(At(e),"ballHolders",void 0),Ct(At(e),"ballsContainer",void 0),Ct(At(e),"centerHolder",void 0),Ct(At(e),"contentMask",void 0),Ct(At(e),"ringBg",void 0),Ct(At(e),"ring",void 0),Ct(At(e),"initialSelectedIndex",void 0),Ct(At(e),"offset",void 0),Ct(At(e),"_displayedBallId",void 0),Ct(At(e),"isTweening",void 0),Ct(At(e),"isSelected",void 0),Ct(At(e),"isActive",void 0),Ct(At(e),"timer",void 0),Ct(At(e),"onBallSelected",void 0),Ct(At(e),"onBallPickerHidden",void 0),e.container=new m.Container,e.bg=m.Sprite.from("panel-black-belt.png"),e.ringBg=m.Sprite.from("graphic-blue-container.png"),e.ring=m.Sprite.from("graphic-green-ring.png"),e.bg.anchor.set(.5),e.ringBg.anchor.set(.5),e.ring.anchor.set(.5,.65),e.bg.position.y=28,e.ring.position.y=18,e.setupBallHolders(),e.previousButton=new i.c({icon:"button-arrows-rounded-previous.png",noBackground:!0,iconScale:1.8,anchorX:0,anchorY:.5}),e.previousButton.onPress.add(e.previousBall.bind(At(e))),e.addChildAt(e.previousButton,0),e.nextButton=new i.c({icon:"button-arrows-rounded-next.png",noBackground:!0,iconScale:1.8,anchorX:1,anchorY:.5}),e.nextButton.onPress.add(e.nextBall.bind(At(e))),e.addChildAt(e.nextButton,0),e.previousButton.position.x=-e.bg.texture.width/2,e.nextButton.position.x=e.bg.texture.width/2,e.contentMask=new m.Graphics,e.contentMask.beginFill(0),e.contentMask.drawRect(-410,-98,820,139),e.ballsContainer.mask=e.contentMask,e.bg.addChild(e.contentMask),e.container.addChild(e.bg),e.container.addChild(e.ringBg),e.container.addChild(e.ballsContainer),e.container.addChild(e.previousButton),e.container.addChild(e.nextButton),e.container.addChild(e.ring),e.addChild(e.container),e.trackpad=new St.a({target:At(e)}),e.trackpad.snapTo=!0,e.trackpad.scrollMax=1/0,e.trackpad.capMovement=!1,e.trackpad.size=wt.a.BALL_PICKER.BALL_WIDTH+wt.a.BALL_PICKER.BALL_SPACING,e.trackpad.maxSlots=1/0,e.trackpad.spring.springiness=.01,e.offset=0,e.isTweening=!1,e.isActive=!1,e.onBallSelected=new R.Signal,e.onBallPickerHidden=new R.Signal,e.container.scale.set(0),e.nextButton.alpha=0,e.previousButton.alpha=0,e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,kt(e,n);var a,s,c,l=r.prototype;return l.setupBallHolders=function(){var t=this;this.ballHolders=[],this.ballsContainer=new m.Container;for(var e=function(e){var n=m.Sprite.from("shadow-ball.png"),r=new m.Sprite,i=m.Sprite.from("icon-lock-white.png");n.anchor.set(.5),r.anchor.set(.5),i.anchor.set(.5),r.scale.set(.6),n.addChild(r),n.addChild(i),t.ballsContainer.addChild(n),n.sprite=r,n.lock=i,n.on("pointerup",(function(){t.onBallDown(n)})),n.interactive=!0,n.buttonMode=!0,t.ballHolders.push(n)},n=0;n<7;n++)e();this.ballsContainer.position.x=wt.a.BALL_PICKER.CONTAINER_OFFSET},l.reset=function(){var t=this;this.balls=[],this.isTweening=!1,this.isSelected=!1,this.trackpad.unlock(),this.trackpad.onUp(),this.offset=0,this.trackpad.setSlot(0,!0);var e=[].concat(xt.c.unlocked(),xt.c.locked()),n=xt.c.selected().id;e.forEach((function(e,r){t.balls.push({id:e.id,texture:e.splash,locked:e.locked}),e.id===n&&(t.initialSelectedIndex=r)})),this.centerHolder||(this.centerHolder=this.ballHolders[Math.round(this.ballHolders.length/2)-1],this._displayedBallId=this.balls[this.initialSelectedIndex].id),this.visible=!0,this.nextButton.interactive=!1,this.previousButton.interactive=!1,this.ballsContainer.interactiveChildren=!1,this.container.scale.set(0),this.container.alpha=1,this.bg.scale.x=.15,this.nextButton.position.x=120,this.previousButton.position.x=-120,this.nextButton.alpha=0,this.previousButton.alpha=0,this.resetTimer()},l.resetTimer=function(){this.timer=150},l.onBallDown=function(t){if(!this.trackpad.didMove&&!this.isTweening)if(this.updateTransform(),t.position.x<10&&t.position.x>-10||!1){if(t.ballData.locked)return u.default.playSfx("button_deselect"),f.c.killTweensOf(t.sprite),t.sprite.x=-3,void Object(o.tween)(t.sprite,.08,{x:3,ease:"none",repeat:5,yoyo:!0,onComplete:function(){return t.sprite.position.x=0}});u.default.playSfx("button_press"),this.selectBall()}else this.moveTo(t.ballData.id)},l.moveTo=function(){var t=Mt(regeneratorRuntime.mark((function t(e,n){var r=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===n&&(n=!1),t.abrupt("return",new Promise((function(t){e===r.centerHolder.ballData.id&&t();var i=r.balls.map((function(t){return t.id})).indexOf(e),a=r.balls.map((function(t){return t.id})).indexOf(r.centerHolder.ballData.id),s=a-i;Math.abs(s)>r.balls.length/2&&(s=a-i-r.balls.length);var u=s*(wt.a.BALL_PICKER.BALL_WIDTH+wt.a.BALL_PICKER.BALL_SPACING);if(n)return r.offset+=u,void t();r.isTweening=!0,Object(o.tween)(r,.3,{offset:r.offset+u,onComplete:function(){r.isTweening=!1,t()}})})));case 2:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),l.selectBall=function(){var t=Mt(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.isSelected){t.next=2;break}return t.abrupt("return");case 2:if(this.isSelected=!0,this.nextButton.interactive=!1,this.previousButton.interactive=!1,this.ballsContainer.interactiveChildren=!1,this.trackpad.lock(),!this.centerHolder.ballData.locked){t.next=10;break}return t.next=10,this.moveTo(this.displayedBallId);case 10:this.animate(!0);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),l.animate=function(t){var e=this;if(void 0===t&&(t=!1),!t){if(this.isActive)return;this.isActive=!0,this.reset()}var n=t?.6:.3;Object(o.tween)(this.bg.scale,.5,{x:t?.15:1,y:1,ease:"Power1.easeInOut",delay:t?0:n,onComplete:function(){t||(e.nextButton.interactive=!0,e.previousButton.interactive=!0,e.ballsContainer.interactiveChildren=!0)}}),Object(o.tween)(this.nextButton.position,.5,{x:t?120:this.bg.texture.width/2,ease:"Power1.easeInOut",delay:t?0:n}),Object(o.tween)(this.nextButton,.4,{alpha:t?0:1,delay:t?0:n+.1}),Object(o.tween)(this.previousButton.position,.5,{x:t?-120:-this.bg.texture.width/2,ease:"Power1.easeInOut",delay:t?0:n}),Object(o.tween)(this.previousButton,.4,{alpha:t?0:1,delay:t?0:n+.1}),Object(o.tween)(this.container.scale,.4,{x:t?2.5:1,y:t?2.5:1,ease:"Power1.easeIn",delay:t?n:0}),t&&Object(o.tween)(this.container,.4,{alpha:0,ease:"Power1.easeIn",delay:n,onComplete:function(){e.isActive=!1,e.visible=!1,e.onBallPickerHidden.emit()}})},l.previousBall=function(){for(var t=0;t<this.ballHolders.length;t++){var e=this.ballHolders[t];if(e.position.x<10&&e.position.x>-10)return void(this.ballHolders[t-1]?this.onBallDown(this.ballHolders[t-1]):this.onBallDown(this.ballHolders[this.ballHolders.length-1]))}},l.nextBall=function(){for(var t=0;t<this.ballHolders.length;t++){var e=this.ballHolders[t];if(e.position.x<10&&e.position.x>-10)return void(this.ballHolders[t+1]?this.onBallDown(this.ballHolders[t+1]):this.onBallDown(this.ballHolders[0]))}},l.updateTimer=function(t){if(this.balls){this.trackpad.update(),this.trackpad.dragging&&this.resetTimer();for(var e=wt.a.BALL_PICKER.BALL_WIDTH+wt.a.BALL_PICKER.BALL_SPACING,n=this.ballHolders.length*e,r=0;r<this.ballHolders.length;r++){var i=this.ballHolders[r];i.position.x=r*e+this.trackpad.value+this.offset;var a=Math.floor((i.position.x+e/2)/n);if(a*=this.ballHolders.length,a*=-1,(a+=r+this.initialSelectedIndex-3)!=i.id){i.id=a;var o=a%this.balls.length;o<0&&(o+=this.balls.length),i.ballData=this.balls[o],i.sprite.texture=m.Texture.from(i.ballData.texture),i.lock.visible=i.ballData.locked}i.position.x%=n,i.position.x<0&&(i.position.x+=n),i.position.x-=3*e;var s=2*(i.position.x/n-.5),u=1-2*Math.abs(1-Math.abs(s));u=Math.min(Math.max(u,.75),1),u*=1.35,i.scale.set(u),i.scale.x>1.013&&this.centerHolder!==i&&!this.isSelected&&(this.centerHolder=i,i.ballData.locked||(this._displayedBallId=i.ballData.id,this.onBallSelected.emit(this.displayedBallId)))}}this.ballsContainer.interactiveChildren&&(this.timer-=t,this.timer<=0&&this.selectBall())},a=r,(s=[{key:"displayedBallId",get:function(){return this._displayedBallId}}])&&Et(a.prototype,s),c&&Et(a,c),Object.defineProperty(a,"prototype",{writable:!1}),r}(m.Container),Lt=(n(39),n(107),n(9)),Rt=n(103),Pt=n.n(Rt),Dt=n(28),It=(n(184),n(45)),Bt=n.n(It);function Nt(t){return(Nt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ft(t,e){return(Ft=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ut(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Gt(t);if(e){var i=Gt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Yt(this,n)}}function Yt(t,e){if(e&&("object"===Nt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Gt(t){return(Gt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ht=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ft(t,e)}(a,t);var e,n,r,i=Ut(a);function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,"YAY",{font:"26px chunkfiveroman",fill:"#eaff32",dropShadow:!0})).anchor.set(.5),t.count=0,t.multiplierColors=["#eaff32","#ffd300","#ff70df","#00ebff"],t.onFinish=new Bt.a,t}return e=a,(n=[{key:"setup",value:function(t,e,n,r){this.x=t,this.y=e,this.speed=5,this.alpha=1,this.count=0,this.scale.x=this.scale.y=0,Object(o.tween)(this.scale,.5,{x:1+.2*(r-1),y:1+.2*(r-1),ease:"Elastic.easeOut"}),this.style.fill=this.multiplierColors[(r-1)%4],this.text=n+(r>1?"x".concat(r):"")}},{key:"updateTransform",value:function(){this.updateTransform(),this.speed*=.95*A.a.instance.deltaTime,this.position.y-=this.speed*A.a.instance.deltaTime,this.count+=A.a.instance.deltaTime,this.count>20&&(this.alpha*=.95*A.a.instance.deltaTime),this.alpha<.3&&this.onFinish.dispatch(this)}}])&&jt(e.prototype,n),r&&jt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(m.Text),zt=n(80);function Vt(t){return(Vt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xt(t,e){return(Xt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Zt(t);if(e){var i=Zt(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qt(this,n)}}function qt(t,e){if(e&&("object"===Vt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Zt(t){return(Zt=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Jt=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xt(t,e)}(a,t);var e,n,r,i=Kt(a);function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).game=t;var n={fill:"white",font:"108px ".concat(zt.a.defaultEntry.fontName),stroke:!0,strokeThickness:30,lineJoin:"round",align:"center",dropShadow:!1};return e.message=new m.Text(Dt.a.game_screen.goal,n),e.message.anchor.set(.5),e.addChild(e.message),e}return e=a,n&&Wt(e.prototype,n),r&&Wt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(m.Container);function Qt(t){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function te(t,e){return(te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ee(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=re(t);if(e){var i=re(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ne(this,n)}}function ne(t,e){if(e&&("object"===Qt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function re(t){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ie=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&te(t,e)}(a,t);var e,n,r,i=ee(a);function a(t,e){var n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this)).y=250,n.game=t;var r=m.Sprite.from("power_up_bar_top.png");r.width=t.w,r.anchor.set(.5),r.y=-r.height/2+2,r.x=-r.width,n.addChild(r);var s=m.Sprite.from("power_up_bar_bottom.png");s.width=t.w,s.anchor.set(.5),s.y=s.height/2-2,s.x=s.width,n.addChild(s),Object(o.tween)(r.position,.2,{x:0,delay:0,ease:"Quad.easeOut"}),Object(o.tween)(s.position,.2,{x:0,delay:.1,ease:"Quad.easeOut"});var u={fill:"white",fontSize:80,stroke:!0,strokeThickness:8,lineJoin:"round",letterSpacing:3,padding:20},l=(e=e||{}).name||"POWER UP";e.color&&(u.fill=e.color);var h=new Lt.a(l.toLocaleUpperCase("tr"===c.a.settings.language?"TR":"en-US"),u);h.anchor.set(.5),h.position.set(0,0),h.alpha=0,n.addChild(h),Object(o.tween)(h,.2,{alpha:1,delay:.2+.1});return Object(o.tween)(r.position,.2,{x:r.width,delay:1.6,ease:"Quad.easeIn"}),Object(o.tween)(s.position,.2,{x:-s.width,delay:.1+1.6,ease:"Quad.easeIn",onComplete:function(){return n.visible=!1}}),Object(o.tween)(h,.2,{alpha:0,delay:1.6}),n}return e=a,(n=[{key:"updateTransform",value:function(){this.containerUpdateTransform()}}])&&$t(e.prototype,n),r&&$t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(m.Container),ae=function(t,e,n,r){var i={fill:e||"#493008",fontSize:n||36,stroke:!1,strokeThickness:8,lineJoin:"round"};return r&&(i.dropShadow=!0,i.dropShadowAlpha=.5,i.dropShadowAngle=Math.PI/2,i.dropShadowDistance=5),new Lt.a(t,i)},oe=function(t){return new Lt.a(t,{fill:"white",align:"center",fontSize:26,stroke:!0,strokeThickness:8,lineJoin:"round"})};function se(t){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ue(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ce(t,e){return(ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function le(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=de(t);if(e){var i=de(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return he(this,n)}}function he(t,e){if(e&&("object"===se(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function de(t){return(de=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var pe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ce(t,e)}(a,t);var e,n,r,i=le(a);function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).game=t,e.bg=m.Sprite.from("".concat(ASSET_URL,"img/ui/panel-various-paused-bg.png")),e.bg.anchor.set(.5,.5),e.addChild(e.bg);var n=D.b.countryID,r=D.b.opponentID;e.flag=new m.Sprite.from(n.FLAG),e.flag.anchor.set(.5,.5),e.flag.position.set(-100,-60),e.addChild(e.flag),e.flag2=new m.Sprite.from(r.FLAG),e.flag2.anchor.set(.5,.5),e.flag2.position.set(100,-60),e.addChild(e.flag2);"30px ".concat(zt.a.defaultEntry.fontName);return e.title=oe(n.NAME),e.title.anchor.set(.5,0),e.title.scale.set(.65),e.title.position.set(-100,e.flag.position.y+e.flag.height/2+10),e.addChild(e.title),e.title2=oe(r.NAME),e.title2.anchor.set(.5,0),e.title2.scale.set(.65),e.title2.position.set(100,e.flag.position.y+e.flag.height/2+10),e.addChild(e.title2),e.labelScore=ae("".concat(e.game.goalsA)),e.labelScore.anchor.set(.5,.5),e.labelScore.position.set(-100,65),e.labelScore.scale.set(1.2),e.addChild(e.labelScore),e.labelVs=ae("-"),e.labelVs.anchor.set(.5,.5),e.labelVs.position.set(0,65),e.addChild(e.labelVs),e.labelScore2=ae("".concat(e.game.goalsB)),e.labelScore2.anchor.set(.5,.5),e.labelScore2.position.set(100,65),e.labelScore2.scale.set(1.2),e.addChild(e.labelScore2),e}return e=a,n&&ue(e.prototype,n),r&&ue(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(m.Container);function fe(t){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function me(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ge(t,e){return(ge=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ye(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=be(t);if(e){var i=be(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ve(this,n)}}function ve(t,e){if(e&&("object"===fe(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function be(t){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var _e=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ge(t,e)}(a,t);var e,n,r,i=ye(a);function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).game=t,e.blinkingArrowsContainer=new m.Container,e.blinkingArrows=[];for(var n=-75,r=0;r<4;r++){var o=m.Sprite.from("icon-right.png");o.anchor.set(.5),o.scale.set(1.8),e.blinkingArrowsContainer.addChild(o),e.blinkingArrows.push(o),o.x=n,n+=50}return e.addChild(e.blinkingArrowsContainer),e.text=new Lt.a("STR_HUD_SHOOT_THIS_WAY",{fill:"#FFFFFF",fontSize:85,stroke:"#000",strokeThickness:4,lineJoin:"round"}),e.text.anchor.set(.5),e.text.y=120,e.addChild(e.text),e}return e=a,(n=[{key:"startArrowBlink",value:function(){this.blinkingArrowsContainer.scale.x=this.game.halfTimeSwapped?-1:1,this.blinkingArrows.forEach((function(t){Object(o.tween)(t,.15,{tint:255,ease:"steps(1)",yoyo:!0,repeat:-1})}))}},{key:"stopArrowBlink",value:function(){this.blinkingArrows.forEach((function(t){f.c.killTweensOf(t)}))}}])&&me(e.prototype,n),r&&me(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(m.Container);function we(t){return(we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Se(t,e){return(Se=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Te(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ae(t);if(e){var i=Ae(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Me(this,n)}}function Me(t,e){if(e&&("object"===we(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ee(t)}function Ee(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ae(t){return(Ae=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ke=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Se(t,e)}(a,t);var e,n,r,i=Te(a);function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),e=i.call(this),m.Container.call(Ee(e)),e.game=t,e.bg=m.Sprite.from("".concat(ASSET_URL,"img/ui/panel-various-paused-bg.png")),e.bg.anchor.set(.5,.5),e.addChild(e.bg);var n=D.b.countryID,r=D.b.opponentID;e.title=ae(window.translations.STR_KICK_OFF),e.title.anchor.set(.5,.5),e.title.position.y=-e.bg.height/2-e.title.height+20,e.addChild(e.title),e.flag=new m.Sprite.from(n.FLAG),e.flag.anchor.set(.5,.5),e.flag.scale.set(.75),e.flag.position.set(-100,-35),e.addChild(e.flag),e.flag2=new m.Sprite.from(r.FLAG),e.flag2.anchor.set(.5,.5),e.flag2.scale.set(.75),e.flag2.position.set(100,-35),e.addChild(e.flag2);var o={fill:"white",font:"20px ".concat(zt.a.defaultEntry.fontName),stroke:!0,strokeThickness:8,lineJoin:"round",align:"center"};return e.labelCountry=new m.Text(Dt.a.countries[n.ID].NAME,o),e.labelCountry.anchor.set(.5,.5),e.labelCountry.position.set(-100,35),e.addChild(e.labelCountry),e.labelVs=new m.Text("vs",o),e.labelVs.anchor.set(.5,.5),e.labelVs.position.set(0,35),e.addChild(e.labelVs),e.labelCountry2=new m.Text(Dt.a.countries[r.ID].NAME,o),e.labelCountry2.anchor.set(.5,.5),e.labelCountry2.position.set(100,35),e.addChild(e.labelCountry2),e}return e=a,n&&xe(e.prototype,n),r&&xe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(m.Container);n(444);function Ce(t){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Le(t,e){return(Le=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Re(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=De(t);if(e){var i=De(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pe(this,n)}}function Pe(t,e){if(e&&("object"===Ce(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function De(t){return(De=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ie=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Le(t,e)}(a,t);var e,n,r,i=Re(a);function a(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).game=t;try{e.referee=new m.AnimatedSprite(D.b.refereeTextures)}catch(t){e.game.app.geo.resetToDefaultReferee(),e.referee=new m.AnimatedSprite(D.b.refereeTextures)}return e.referee.anchor.set(.5,0),e.referee.position.set(30,0),e.referee.animationSpeed=.07,e.addChild(e.referee),e.referee.play(),t.scripts.start.left||(e.referee.scale.x=-1,e.referee.position.x=-70),e}return e=a,n&&Oe(e.prototype,n),r&&Oe(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(m.Container);function Be(t){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ne(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function je(t,e){return(je=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fe(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ye(t);if(e){var i=Ye(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ue(this,n)}}function Ue(t,e){if(e&&("object"===Be(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ye(t){return(Ye=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ge=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&je(t,e)}(a,t);var e,n,r,i=Fe(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).game=t,e.message=null,e}return e=a,(n=[{key:"show",value:function(t,e){this.onAnimComplete(this),t===wt.a.MESSAGE_ID.VS?(this.message=new ke(this.game),this.animToBottom()):t===wt.a.MESSAGE_ID.WHISTLE?(this.message=new Ie(this.game),this.animFromBottom(e)):t===wt.a.MESSAGE_ID.GOAL?(this.message=new Jt(this.game),this.animToBottom()):t===wt.a.MESSAGE_ID.SCORE?(this.message=new pe(this.game),this.animToBottom()):t===wt.a.MESSAGE_ID.POWERUP?(this.message=new ie(this.game,e),f.c.killTweensOf(this.message),f.c.killTweensOf(this.message.scale)):t===wt.a.MESSAGE_ID.SHOOT_DIRECTION&&(this.message=new _e(this.game),this.animFromBottom(e)),null!==this.message&&this.addChild(this.message)}},{key:"reset",value:function(){this.onAnimComplete(this)}},{key:"animToBottom",value:function(){f.c.killTweensOf(this.message),f.c.killTweensOf(this.message.scale),this.message.alpha=0,this.message.scale.set(2),Object(o.tween)(this.message,.2,{alpha:1}),Object(o.tween)(this.message.scale,.5,{x:1,y:1})}},{key:"animFromBottom",value:function(t){this.message.startArrowBlink&&this.message.startArrowBlink(),f.c.killTweensOf(this.message.position),this.message.position.y=this.game.pitchHeight/2,t&&(this.message.position.x=t.x,this.message.scale.x=t.sx),Object(o.tween)(this.message.position,.5,{y:this.game.pitchHeight/2-this.message.height}),Object(o.tween)(this.message.position,.5,{y:this.game.pitchHeight/2,delay:2,onComplete:this.onAnimComplete.bind(this)})}},{key:"onAnimComplete",value:function(){null!==this.message&&(this.message.stopArrowBlink&&this.message.stopArrowBlink(),this.removeChild(this.message),f.c.killTweensOf(this.message),f.c.killTweensOf(this.message.position),f.c.killTweensOf(this.message.scale),this.message=null)}}])&&Ne(e.prototype,n),r&&Ne(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(m.Container),He=n(124);function ze(t){return(ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ve(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function We(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xe(t,e){return(Xe=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ke(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Je(t);if(e){var i=Je(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qe(this,n)}}function qe(t,e){if(e&&("object"===ze(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ze(t)}function Ze(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Je(t){return(Je=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Qe=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xe(t,e)}(u,t);var e,n,r,i,a,s=Ke(u);function u(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=s.call(this)).game=t,e.scorePanel=new m.Container,e.addChild(e.scorePanel);for(var n=[],r=1;r<=5;r++)n.push(m.Texture.from("jumbotron-".concat(r,".png")));e.showTextures=n;for(var i=[],a=n.length-1;a>=0;a--)i.push(n[a]);e.hideTextures=i,e.goldenGoalTexture=[m.Texture.from("jumbotron-extra-time.png")];var o=new m.AnimatedSprite(n);o.animationSpeed=.2,o.loop=!1,o.anchor.set(.5,0),e.hudAnim=o,e.scorePanel.addChild(o),e.anims={},n=[];for(var l=1;l<=5;l++)n.push(m.Texture.from("jumbotron_goal_0".concat(l,".png")));e.anims.goal=n,n=[];for(var h=1;h<=10;h++)h<10&&(h="0".concat(h)),n.push(m.Texture.from("jumbotron_match_win_".concat(h,".png")));e.anims.win=n,n=[];for(var d=1;d<=7;d++)n.push(m.Texture.from("jumbotron_trophy_win_0".concat(d,".png")));e.anims.trophy=n,e.hudBigContent=new m.Container,e.scorePanel.addChild(e.hudBigContent);var p=m.Sprite.from("assets/content/logos/titles/logo_".concat(Dt.a.logos[c.a.settings.language]||"en",".png"));p.anchor.set(.5),p.y=55,p.scale.set(.22),e.logo=p,e.hudBigContent.addChild(p),n=[m.Texture.from("jumbotron-lines-01.png"),m.Texture.from("jumbotron-lines-02.png")];var f=new m.AnimatedSprite(n);f.anchor.set(.5),f.animationSpeed=.1,f.play(),f.alpha=.3,f.y=180,e.hudBigContent.addChild(f);var g={fill:"#f9d840",fontSize:70,stroke:"#000",strokeThickness:4,lineJoin:"round",letterSpacing:10};e.bigScoreA=new Lt.a("0",g),e.bigScoreA.anchor.set(.5),e.bigScoreA.x=-130,e.bigScoreA.y=75,e.hudBigContent.addChild(e.bigScoreA),e.bigScoreB=new Lt.a("0",g),e.bigScoreB.anchor.set(.5),e.bigScoreB.x=130,e.bigScoreB.y=75,e.hudBigContent.addChild(e.bigScoreB),g.fontSize=100,g.maxWidth=670,e.bigGoalText=new Lt.a("STR_TUTORIAL_GOAL",g),e.bigGoalText.anchor.set(.5),e.bigGoalText.y=220,e.bigGoalText.visible=!1,e.hudBigContent.addChild(e.bigGoalText),g.fontSize=68,g.align="center",e.bigWinText=new Lt.a("STR_HUD_WIN",g),e.bigWinText.anchor.set(.5),e.bigWinText.y=175,e.bigWinText.visible=!1,e.hudBigContent.addChild(e.bigWinText),e.bigText=new Lt.a("STR_HUD_HALF_TIME",{fill:"#f9d840",fontSize:95,stroke:"#000",strokeThickness:4,lineJoin:"round",letterSpacing:10,maxWidth:650}),e.bigText.anchor.set(.5),e.bigText.y=220,e.bigText.visible=!1,e.hudBigContent.addChild(e.bigText),e.mediumText=new Lt.a("STR_HUD_SWITCHING_SIDES",{fill:"#f9d840",fontSize:65,stroke:"#000",strokeThickness:4,lineJoin:"round",maxWidth:620}),e.mediumText.anchor.set(.5),e.mediumText.y=220,e.mediumText.visible=!1,e.hudBigContent.addChild(e.mediumText),e.blinkingArrowsContainer=new m.Container,e.blinkingArrows=[];for(var y=-75,v=0;v<4;v++){var b=m.Sprite.from("icon-right.png");b.anchor.set(.5),b.scale.set(1.4),e.blinkingArrowsContainer.addChild(b),e.blinkingArrows.push(b),b.x=y,y+=50}return e.blinkingArrowsContainer.y=185,e.blinkingArrowsContainer.scale.x=-1,e.blinkingArrowsContainer.visible=!1,e.hudBigContent.addChild(e.blinkingArrowsContainer),g.fontSize=36,g.letterSpacing=2,e.bigPointsText=new Lt.a("England: +25 points!",g),e.bigPointsText.anchor.set(.5),e.bigPointsText.y=275,e.bigPointsText.visible=!1,e.hudBigContent.addChild(e.bigPointsText),g.fontSize=40,g.letterSpacing=2,e.bigTimeText=new Lt.a("00:00",g),e.bigTimeText.anchor.set(.5),e.bigTimeText.y=120,e.hudBigContent.addChild(e.bigTimeText),e.hudBigAnim=new m.AnimatedSprite(n),e.hudBigAnim.animationSpeed=.08,e.hudBigAnim.loop=!1,e.hudBigAnim.anchor.set(.5),e.hudBigAnim.y=235,e.hudBigContent.addChild(e.hudBigAnim),e.hudContent=new m.Container,e.scorePanel.addChild(e.hudContent),e.score=new Lt.a("0 - 0",{fill:"#f9d840",fontSize:50,stroke:"#000",strokeThickness:4,lineJoin:"round"}),e.score.anchor.set(.5,.5),e.score.y=40,e.hudContent.addChild(e.score),e.time=new Lt.a("00:00",{fill:"#ff3838",fontSize:24,stroke:!1,strokeThickness:8,letterSpacing:0,lineJoin:"round",maxWidth:250}),e.time.position.set(0,95),e.time.anchor.x=.5,e.hudContent.addChild(e.time),e.detailPool=new Pt.a(Ht),e.message=new Ge(e.game),e.addChild(e.message),e.party=new He.a(null,null,1),e.party.visible=!1,e.pos=new m.Point,window.showGoal=e.showBigScreen.bind(Ze(e),"goal"),window.showWin=e.showBigScreen.bind(Ze(e),"win"),window.showLose=e.showBigScreen.bind(Ze(e),"lose"),window.hideScreen=e.hideBigScreen.bind(Ze(e)),window.hud=Ze(e),e.flashTimer=0,e}return e=u,(n=[{key:"show",value:(i=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.y=-100,this.visible=!0,t.next=4,Object(o.tween)(this,.5,{y:0,ease:"Quad.easeOut"});case 4:case"end":return t.stop()}}),t,this)})),a=function(){var t=this,e=arguments;return new Promise((function(n,r){var a=i.apply(t,e);function o(t){Ve(a,n,r,o,s,"next",t)}function s(t){Ve(a,n,r,o,s,"throw",t)}o(void 0)}))},function(){return a.apply(this,arguments)})},{key:"startArrowBlink",value:function(){this.blinkingArrows.forEach((function(t){Object(o.tween)(t,.15,{tint:255,ease:"steps(1)",yoyo:!0,repeat:-1})}))}},{key:"stopArrowBlink",value:function(){this.blinkingArrows.forEach((function(t){f.c.killTweensOf(t)}))}},{key:"setData",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(t&&e){if(this.hudContent.removeChild(this.flag),this.hudContent.removeChild(this.flag2),this.hudBigContent.removeChild(this.flagBig),this.hudBigContent.removeChild(this.flagBig2),this.hudContent.removeChild(this.abv),this.hudContent.removeChild(this.abv2),this.hudBigContent.removeChild(this.nameBig),this.hudBigContent.removeChild(this.nameBig2),n)this.flag=new m.Sprite.from(t.FLAG),this.flag.anchor.set(.5),this.flag.scale.set(.5),this.flag.position.set(-160,36),this.hudContent.addChild(this.flag),this.flag2=new m.Sprite.from(e.FLAG),this.flag2.anchor.set(.5),this.flag2.scale.set(.5),this.flag2.position.set(160,36),this.hudContent.addChild(this.flag2),this.flagBig=new m.Sprite.from(t.FLAG),this.flagBig.anchor.set(.5),this.flagBig.position.set(-270,76),this.hudBigContent.addChild(this.flagBig),this.flagBig2=new m.Sprite.from(e.FLAG),this.flagBig2.anchor.set(.5),this.flagBig2.position.set(270,76),this.hudBigContent.addChild(this.flagBig2);else{var r={fill:"white",fontSize:30,align:"center",dropShadow:!0,dropShadowDistance:3,dropShadowAlpha:.8,dropShadowAngle:Math.PI/2,maxWidth:80};this.abv=new Lt.a(t.abbreviation,r),this.abv.anchor.set(.5),this.abv.position.set(-160,36),this.hudContent.addChild(this.abv),this.abv2=new Lt.a(e.abbreviation,r),this.abv2.anchor.set(.5),this.abv2.position.set(160,36),this.hudContent.addChild(this.abv2),r={fill:"white",fontSize:40,align:"center",dropShadow:!0,dropShadowDistance:3,dropShadowAlpha:.8,dropShadowAngle:Math.PI/2,wordWrap:!0,wordWrapWidth:180,maxWidth:180,maxHeight:100,lineHeight:35},this.nameBig=new Lt.a(t.name,r),this.nameBig.anchor.set(.5),this.nameBig.position.set(-270,76),this.hudBigContent.addChild(this.nameBig),this.nameBig2=new Lt.a(e.name,r),this.nameBig2.anchor.set(.5),this.nameBig2.position.set(270,76),this.hudBigContent.addChild(this.nameBig2)}var i="assets/content/logos/titles/logo_".concat(Dt.a.logos[c.a.settings.language]||"en",".png");"es"===c.a.settings.language&&(i="assets/content/logos/titles/logo_es.png"),this.logo.texture=m.Texture.from(i)}}},{key:"reset",value:function(){this.message.reset(),this.game.teamManagerLeft.team.run((function(t){t.offScreenIcon.visible=!0})),this.party.visible=!1,this.hudContent.visible=!0,this.hudBigContent.visible=!1,this.hudAnim.textures=this.showTextures,this.hudAnim.gotoAndStop(0),this.time.visible=!0}},{key:"update",value:function(t){var e="".concat(this.game.goalsA,"       ").concat(this.game.goalsB);this.score.text=e;var n=this.game.goalsA;this.bigScoreA.text=n.toString();var r=this.game.goalsB;if(this.bigScoreB.text=r.toString(),this.pos.x=this.game.world.view3d.camera.position.x,this.party.update(this.pos,t),this.game.goldenGoal)this.time.setText("STR_GAME_GOLDEN_GOAL"),this.time.visible=!0,this.hudAnim.textures=this.goldenGoalTexture,this.hudAnim.gotoAndStop(0);else{this.hudAnim.textures===this.goldenGoalTexture&&(this.hudAnim.textures=this.showTextures,this.hudAnim.gotoAndStop(0));var i=this.game.timer.getSecondsLeft();this.time.text=this.formatTime(Math.floor(i)+(this.game.halfTimeSwapped?0:this.game.timer.getDuration()))}this.bigTimeText.text=this.formatTime(Math.floor(this.game.timer.getSecondsLeft())),this.game.timer.getSecondsLeft()<31&&!this.game.goldenGoal&&(this.flashTimer+=t,this.flashTimer>=30&&(this.flashTimer=0,this.time.visible=!this.time.visible))}},{key:"formatTime",value:function(t){var e=Math.max(Math.floor(t/60),0),n=Math.max(t%60,0);return"".concat((e<10?"0":"")+e,":").concat(n<10?"0":"").concat(n)}},{key:"showBigScreen",value:function(t){this.game.teamManagerLeft.team.run((function(t){t.offScreenIcon.visible=!1})),this.hudContent.visible=!1,this.hudAnim.textures=this.showTextures,this.hudAnim.gotoAndPlay(0),this.hudAnim.onComplete=this.showBigScreenContent.bind(this,t)}},{key:"hideBigScreen",value:function(){var t=this;this.hudBigContent.visible=!1,this.hudAnim.textures=this.hideTextures,this.hudAnim.gotoAndPlay(0),this.hudAnim.onComplete=function(){t.hudContent.visible=!0,t.game.teamManagerLeft.team.run((function(t){t.offScreenIcon.visible=!0}))}}},{key:"showBigScreenContent",value:function(t){var e=this;if(this.hudBigContent.visible=!0,this.bigWinText.visible=!1,this.bigGoalText.visible=!1,this.bigTimeText.visible=!1,this.bigPointsText.visible=!1,this.blinkingArrowsContainer.visible=!1,this.bigText.visible=!1,this.mediumText.visible=!1,this.bigWinText.y=175,"goal"===t?(this.bigTimeText.visible=!0,this.logo.y=55,this.bigPointsText.visible=!1):(this.logo.y=75,this.bigTimeText.visible=!1),"lose"===t)this.bigTimeText.visible=!1,this.bigWinText.setText("STR_HUD_LOSE"),this.bigWinText.visible=!0,this.bigPointsText.setText("STR_HUD_LOSE2"),this.bigPointsText.visible=!0;else if("kickoff"===t){var n="[MESSAGE]";D.b.gameMode===D.a.TOURNAMENT?n=D.b.tournamentData.final.length>0?"STR_TOURNAMENT_FINALS":D.b.tournamentData.semi.length>0?"STR_TOURNAMENT_SEMI2":"STR_TOURNAMENT_QUARTERS2":D.b.gameMode===D.a.LEAGUES&&(n=this.game.app.leagues.activeLeague.leagueName),this.bigWinText.setText([n,"\n","STR_HUD_KICKOFF"]),this.bigWinText.y=200,this.bigWinText.visible=!0}else"halftime"===t?(this.bigText.setText("STR_HUD_HALF_TIME"),this.bigText.y=180,this.bigText.visible=!0,this.mediumText.setText("STR_HUD_SWITCHING_SIDES"),this.mediumText.y=265,this.mediumText.visible=!0):"shootthisway"===t&&(this.startArrowBlink(),this.mediumText.setText("STR_HUD_SHOOT_THIS_WAY"),this.mediumText.y=275,this.mediumText.visible=!0,this.blinkingArrowsContainer.visible=!0);this.anims[t]?(this.bigGoalText.visible=!1,this.hudBigAnim.visible=!0,this.hudBigAnim.textures=this.anims[t],this.hudBigAnim.gotoAndStop(0),this.hudBigAnim.gotoAndPlay(0),this.hudBigAnim.onComplete=function(){e.hudBigAnim.visible=!1,"goal"===t?e.bigGoalText.visible=!0:"win"===t&&(e.bigWinText.visible=!0,D.b.tournamentData.final.length>0?e.bigWinText.setText("STR_HUD_WINCUP"):e.bigWinText.setText("STR_HUD_WIN"),D.b.gameMode===D.a.TOURNAMENT&&e.game.points?(e.bigPointsText.setText(["".concat(D.b.countryID.NAME,"_UPPERCASE"),": +".concat(e.game.points," "),"STR_HUD_POINTS"]),e.bigPointsText.visible=!0):(e.bigPointsText.setText(["+".concat(e.game.points," "),"STR_HUD_POINTS"]),e.bigPointsText.visible=!0))}):this.hudBigAnim.visible=!1}},{key:"resize",value:function(t,e){this.message.x=t/2,this.message.y=e/2,this.party.w=t,this.party.h=e,this.scorePanel.position.y=0,this.scorePanel.position.x=t/2}}])&&We(e.prototype,n),r&&We(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(m.Container),$e=n(26);function tn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function en(t,e){return(en=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rn=function(t){var e,n;function r(){var e;nn(tn(e=t.call(this)||this),"mesh",void 0),nn(tn(e),"tick",void 0),nn(tn(e),"opos",void 0);var n=m.Texture.from("tutorial-arrow.png");return e.mesh=new Q.Mesh(new Q.PlaneGeometry(100,100),new Q.MeshBasicMaterial({map:new Q.Texture,transparent:!0})),n.updateUvs(),$e.LegacyUtils.setUvs(e.mesh,n),e.mesh.rotation.x=Math.PI/2,e.mesh.rotation.z=-Math.PI/2,e.mesh.material.opacity=0,e.add(e.mesh),e.tick=0,e.opos=new Q.Vector3,e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,en(e,n);var i=r.prototype;return i.place=function(t,e){void 0===e&&(e=100),this.opos.copy(t),this.opos.z+=e},i.show=function(){Object(o.tween)(this.mesh.material,.3,{opacity:1})},i.hide=function(){Object(o.tween)(this.mesh.material,.3,{opacity:0})},i.update=function(t){this.tick+=.1*t,this.position.x=this.opos.x+5*Math.sin(this.tick),this.position.y=this.opos.y,this.position.z=this.opos.z},r}(Q.Object3D),an=(n(106),n(87),n(121),n(104)),on=n.n(an),sn=n(95),un=n.n(sn);n(114),n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78);function cn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ln=["attribute float alpha;","uniform float tick;","uniform float power;","void main() {","    float pos = alpha + tick;","    pos = mod(pos, 1.0);","    vec4 mvPosition = modelViewMatrix * vec4( position * pos, 1.0 );","    gl_PointSize = (1.0-pos) * 28.0 * power* 3.0;","    gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),hn=["uniform vec3 color;","uniform sampler2D circle;","void main() {","    gl_FragColor = texture2D(circle, gl_PointCoord);","}"].join("\n"),dn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.item=e,this.ratio=0;for(var n=new Q.SphereBufferGeometry(100,16,8),r=new Float32Array(n.attributes.position.count),i=0;i<r.length;i++)r[i]=Math.random();n.addAttribute("alpha",new Q.BufferAttribute(r,1)),this.geometry=n;var a=$e.LegacyUtils.getTexture("assets/base-game/fx/particles/dot.png"),o={color:{type:"c",value:new Q.Color(65280)},tick:{type:"f",value:0},power:{type:"f",value:0},circle:{type:"t",value:a}},s=new Q.ShaderMaterial({uniforms:o,vertexShader:ln,fragmentShader:hn,transparent:!0,depthTest:!1});s.blending=Q.AdditiveBlending;var u=new Q.Points(n,s);e.view3d.add(u),this.cloud=u,this.ring=$e.LegacyUtils.getMesh("powerupGet.png"),this.ring.material.blending=Q.AdditiveBlending,e.view3d.add(this.ring),this.ring.rotation.x=-Math.PI/2,this.ring.position.x=0,this.ring.position.y=0,this.ratio=99,this.tick=0,this.setRatio(0)}var e,n,r;return e=t,(n=[{key:"setRatio",value:function(t){t!==this.ratio&&(t>1&&(t=1),this.ratio=t,this.tick+=.008+.004*t,this.ring.visible=this.cloud.visible=0!==t,this.ring.material.opacity=J.a.map(t,0,1,0,10),this.ring.scale.x=this.ring.scale.y=1-t-.1,this.cloud.material.uniforms.tick.value=-this.tick,this.cloud.material.uniforms.power.value=Math.sin(t*Math.PI))}},{key:"update",value:function(t){this.cloud.rotation.x+=.015*t,this.cloud.rotation.y+=.015*t}}])&&cn(e.prototype,n),r&&cn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();n(497);function pn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var fn=["attribute float alpha;","varying float vAlpha;","void main() {","    vAlpha = alpha;","    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","    gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),mn=["uniform vec3 color;","uniform float uAlpha;","uniform sampler2D circle;","varying float vAlpha;","void main() {","    gl_FragColor = vec4(color, vAlpha * uAlpha);","}"].join("\n"),gn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.item=e,this.trailLength=40,this.top=14,this.bottom=-14;var n=new Q.BufferGeometry,r=new Float32Array(3*this.trailLength);this.realVerticies=new Float32Array(3*this.trailLength);for(var i=new Float32Array(this.trailLength),a=new Uint32Array(this.trailLength),o=0;o<a.length;o++)a[o]=o;for(var s=0;s<i.length;s+=2){var u=s/2/this.trailLength;i[s]=u,i[s+1]=u}for(var c=0;c<r.length;c+=3){var l=c/3,h=l%2,d=Math.floor(l/2);r[c]=30*h,r[c+1]=30*d,r[c+2]=0}n.setIndex(new Q.BufferAttribute(a,1)),n.addAttribute("position",new Q.BufferAttribute(r,3)),n.addAttribute("alpha",new Q.BufferAttribute(i,1)),this.geometry=n;var p={color:{type:"c",value:new Q.Color(16730352)},uAlpha:{type:"f",value:1}},f=new Q.ShaderMaterial({uniforms:p,vertexShader:fn,fragmentShader:mn,transparent:!0});f.side=Q.DoubleSide,f.blending=Q.AdditiveBlending,f.depthTest=!1;var m=new Q.Mesh(n,f);m.drawMode=Q.TriangleStripDrawMode,this.cloud=m,this.view=m,this.pos=0}var e,n,r;return e=t,(n=[{key:"update",value:function(){this.pos+=3,this.pos%=this.trailLength/2;var t=this.cloud.geometry.getAttribute("position"),e=2*this.pos,n=2*this.pos+1,r=this.realVerticies,i=this.item.view3d.position;r[3*e]=i.x,r[3*e+1]=i.y+this.top,r[3*e+2]=i.z,r[3*n]=i.x,r[3*n+1]=i.y+this.bottom,r[3*n+2]=i.z;for(var a=0;a<t.array.length;a+=3){var o=a+3*(2*this.pos+2);o%=r.length,t.array[a+0]=r[o+0]-i.x,t.array[a+1]=r[o+1]-i.y,t.array[a+2]=r[o+2]}this.view.position.x=this.item.position.x,this.view.position.y=this.item.position.y,t.needsUpdate=!0;var s=J.a.cap(J.a.map(this.item.body.velocity.length(),5,20,0,1),0,1),u=this.cloud.material.uniforms.uAlpha.value;s<u?u+=.2*(s-u):u=s,this.cloud.visible=u>.1,this.cloud.material.uniforms.uAlpha.value=u,this.view.material.needsUpdate=!0}}])&&pn(e.prototype,n),r&&pn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function yn(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return vn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vn(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function vn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bn(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function _n(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){bn(a,r,i,o,s,"next",t)}function s(t){bn(a,r,i,o,s,"throw",t)}o(void 0)}))}}function wn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function xn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sn(t,e){return(Sn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Tn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Mn=function(){return!0},En=function(t){var e,n;function r(e){var n,r=e.balls.activeBall.id,i=on.a.CrashBody.fromRect(-10,-10,20,20);return i.maxSpeed=1e4,i.maxSpeedY=1e4,i.bounce=.8,i.friction=.99,Tn(xn(n=t.call(this,0,0,null,i)||this),"view",void 0),Tn(xn(n),"perfect",void 0),Tn(xn(n),"owner",void 0),Tn(xn(n),"app",void 0),Tn(xn(n),"view3d",void 0),Tn(xn(n),"container",void 0),Tn(xn(n),"balls",void 0),Tn(xn(n),"activeBall",void 0),Tn(xn(n),"baseBall",void 0),Tn(xn(n),"snowBall",void 0),Tn(xn(n),"shootPosition",void 0),Tn(xn(n),"ballMatrix",void 0),Tn(xn(n),"activeBallMatrix",void 0),Tn(xn(n),"shadow",void 0),Tn(xn(n),"quaternion",void 0),Tn(xn(n),"quaternion2",void 0),Tn(xn(n),"chargeEffect",void 0),Tn(xn(n),"trailEffect",void 0),Tn(xn(n),"rect",void 0),Tn(xn(n),"trailFrames",void 0),Tn(xn(n),"flashFx",void 0),Tn(xn(n),"_name",void 0),Tn(xn(n),"tick",void 0),Tn(xn(n),"count",void 0),Tn(xn(n),"groups",void 0),Tn(xn(n),"shot",void 0),Tn(xn(n),"active",void 0),Tn(xn(n),"type",void 0),Tn(xn(n),"pickedUp",void 0),Tn(xn(n),"target",void 0),Tn(xn(n),"lastOwner",void 0),Tn(xn(n),"activeBallId",void 0),Tn(xn(n),"activeBallModel",void 0),Tn(xn(n),"ballMaterial",void 0),Tn(xn(n),"remoteBall",void 0),Tn(xn(n),"initialised",void 0),n.app=e,n.activeBallId=r,n.shootPosition=new m.Point,n.view=new m.Container,n.container=new Q.Object3D,n.view3d=new Q.Object3D,n.view3d.add(n.container),n.balls={},n.initialised=!1,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Sn(e,n);var i,a,o,s=r.prototype;return s.init=function(){var t=_n(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.initialised){t.next=2;break}return t.abrupt("return");case 2:return this.initialised=!0,t.next=5,this.initBalls();case 5:this.activeBallMatrix=new Q.Matrix4,this.body.position=this.position,this.body.position.z=0,this.body.velocity.z=0,this.groups=["Ball"],this._name="ball",this.shot=!1,this.active=!1,this.perfect=!1,this.type=99,this.pickedUp=!1,this.owner=null,this.target=null,this.lastOwner=null,this.shadow=$e.LegacyUtils.getMesh("assets/base-game/fx/misc/game-ball-shadow.png",.5,.5),this.shadow.renderOrder=999,this.shadow.scale.x=this.shadow.scale.y=this.shadow.scale.z=.1,this.shadow.position.z=-6,this.quaternion=new Q.Quaternion,this.quaternion2=new Q.Quaternion,this.chargeEffect=new dn(this),this.trailEffect=new gn(this),this.rect=m.Sprite.from("ball_trail_00003.png"),this.rect.visible=!1,this.trailFrames=$e.LegacyUtils.getTexturesFromFramesWithPrefix("ball_trail_000%%.png",15),this.tick=0,this.rect.blendMode=m.BLEND_MODES.ADD,this.rect.scale.set(2),this.rect.anchor.x=.5,this.rect.anchor.y=.75,this.count=0,this.flashFx=new m.AnimatedSprite($e.LegacyUtils.getTexturesFromFrames(["pickup_00000.png","pickup_00001.png","pickup_00002.png","pickup_00003.png","pickup_00004.png","pickup_00005.png","pickup_00006.png"])),this.flashFx.animationSpeed=.2,this.flashFx.loop=!1,this.flashFx.visible=!1,this.flashFx.onComplete=function(){e.flashFx.visible=!1},this.flashFx.anchor.set(.5),this.flashFx.alpha=.4,this.flashFx.position.y=-15,this.view.addChild(this.flashFx);case 45:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.initBalls=function(){var t=_n(regeneratorRuntime.mark((function t(){var e,n,r,i,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.activeBallId=this.app.balls.activeBall.id,e=xt.a[this.activeBallId],n=new Q.OBJLoader,r=this.getBallMaterial(e),this.activeBallModel=e.model,(i=[]).push(new Promise((function(t){n.load("assets/base-3d/"+e.model.replace(".gb",".obj"),(function(n){a.cleanupGroup(n),a.baseBall=n,a.baseBall.rotation.x=Math.PI/2,a.baseBall.traverse((function(t){t instanceof Q.Mesh&&(t.material=r)})),a.baseBall.scale.x=a.baseBall.scale.y=a.baseBall.scale.z=e.scale,a.balls.base=a.baseBall,a.activeBall=a.balls.base,a.container.add(a.activeBall),t()}),Mn,Mn)}))),i.push(new Promise((function(t){n.load("assets/base-3d/ball-snowball.obj",(function(e){a.snowBall=e,a.snowBall.rotation.x=Math.PI/2,a.snowBall.scale.x=a.snowBall.scale.y=a.snowBall.scale.z=4,a.balls.snow=a.snowBall,t()}),Mn,Mn)}))),t.next=10,Promise.all(i);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.cleanupGroup=function(t){for(var e,n=yn(t.children.slice(0));!(e=n()).done;){var r=e.value;r instanceof Q.Mesh&&(r.geometry.attributes.position.count||t.remove(r))}},s.setBall=function(t,e){var n=this;if(void 0===e&&(e=!1),this.initialised&&this.activeBallId!==t){e&&(this.flashFx.visible=!0,this.flashFx.gotoAndPlay(0)),this.activeBallId=t;var r=xt.a[this.activeBallId],i=this.getBallMaterial(r);if(r.model!==this.activeBallModel)(new Q.OBJLoader).load("assets/base-3d/"+r.model.replace(".gb",".obj"),(function(t){n.baseBall=t,n.baseBall.rotation.x=Math.PI/2,n.baseBall.traverse((function(t){t instanceof Q.Mesh&&(t.material=i)})),n.baseBall.scale.x=n.baseBall.scale.y=n.baseBall.scale.z=r.scale,n.balls.base=n.baseBall,n.container.remove(n.activeBall),n.activeBall=n.balls.base,n.container.add(n.activeBall)}),Mn,Mn);else this.balls.base.traverse((function(t){t instanceof Q.Mesh&&(t.material=i)}))}},s.getBallMaterial=function(t){var e=$e.LegacyUtils.getTexture("assets/content/balls/ball-textures/"+t.texture);return e.wrapS=e.wrapT=Q.RepeatWrapping,e.needsUpdate=!0,this.ballMaterial||(this.ballMaterial=new Q.MeshPhongMaterial),this.ballMaterial.map=e,this.ballMaterial.side=Q.DoubleSide,this.ballMaterial},s.addedToWorld=function(){this.world.view3d.scene.add(this.shadow),this.world.view3d.scene.add(this.trailEffect.view),this.world.overlay.addChild(this.rect)},s.removedFromWorld=function(){this.world.view3d.scene.remove(this.shadow),this.world.view3d.scene.remove(this.trailEffect.view),this.world.overlay.removeChild(this.rect)},s.setActive=function(t){this.active=t,this.type=t?0:99},s.reset=function(){this.view3d.visible=!1,this.body.position.z=500,this.setBall(this.app.balls.activeBall.id)},s.swapBall=function(t){this.container.remove(this.activeBall),this.activeBall=this.balls[t],this.container.add(this.activeBall)},s.released=function(){this.pickedUp=!1,this.owner=null},s.pickUp=function(t){this.body.friction=.99,this.pickedUp=!0,this.lastOwner=this.owner=t,this.target=null,this.body.velocity.set(0),this.chargeEffect.setRatio(0),u.default.playSfx("ball_pickup")},s.shoot=function(t,e,n){var r;this.perfect=n,this.shot=!0,this.body.velocity.y=e,this.body.velocity.x=t,this.shootPosition.x=this.position.x,this.shootPosition.y=this.position.y,n?(this.body.velocity.y*=1.5,this.body.velocity.x*=1.5,u.default.playSfx("croudHappy")):(Math.random()<.3&&u.default.playSfx("croudHappy"),u.default.playSfx("ballkick_shoot_hard")),this.remoteBall?this.body.velocity.z=0:this.body.velocity.z=13,this.chargeEffect.setRatio(0),null===(r=this.owner)||void 0===r||r.view3d.playKickReleaseAnimation()},s.pass=function(t,e,n,r){var i,a;this.body.friction=.99,this.shot=!1,this.body.velocity.x=t*n,this.body.velocity.y=e*n,this.body.velocity.z=r||0,u.default.playSfx("ballkick_pass"),null!==(i=this.owner)&&void 0!==i&&null!==(a=i.view3d)&&void 0!==a&&a.playFillerSpineAnimation&&this.owner.view3d.playFillerSpineAnimation("Kick")},s.passTo=function(t){var e,n;if(this.owner!==t){this.body.friction=.99,this.target=t;var r=t.position.x-this.position.x,i=t.position.y-this.position.y,a=Math.sqrt(r*r+i*i);0!==a&&(r/=a,i/=a);this.body.velocity.x=15*r,this.body.velocity.y=15*i,this.body.velocity.z=1,u.default.playSfx("ballkick_pass"),null!==(e=this.owner)&&void 0!==e&&null!==(n=e.view3d)&&void 0!==n&&n.playFillerSpineAnimation&&this.owner.view3d.playFillerSpineAnimation("Kick"),g.d.tutorialCompleted&&!this.owner.isTeamA&&g.c.dispatch(d.a,{type:d.b.BALL_PASSED})}},s.update=function(t){if(this.initialised){var e=this.body;e.velocity.z-=.6,e.position.z+=e.velocity.z,e.position.z<0&&(e.position.z=0,e.velocity.z*=-.6,this.rect.visible=!1),this.owner&&(this.rect.visible=!1);var n=this.body.velocity.length();if(this.target){var r=this.target,i=r.body.position.x-this.body.position.x,a=r.body.position.y-this.body.position.y,o=Math.sqrt(i*i+a*a);0!==o&&(i/=o,a/=o),this.body.velocity.x=i*n,this.body.velocity.y=a*n}else this.remoteBall&&this.shot&&(this.count+=.1,this.body.velocity.y=Math.sin(this.count)*(n/2));if(this.view3d.position.x=this.position.x,this.view3d.position.y=this.position.y,this.view3d.position.z=.5*this.position.z+10,this.owner){var s=this.owner.body.velocity.x,u=this.owner.body.velocity.y,c=Math.sqrt(s*s+u*u);this.activeBall.rotation.x+=.1*c,this.container.rotation.z=Math.atan2(u,s)+Math.PI/2}else if(this.activeBall){var l=this.body.velocity.x,h=this.body.velocity.y,d=Math.sqrt(l*l+h*h);this.container.rotation.z=Math.atan2(h,l)+Math.PI/2,this.activeBall.rotation.x+=.05*d}this.shadow.position.x=this.view3d.position.x,this.shadow.position.y=this.view3d.position.y+2;var p=J.a.map(this.view3d.position.z,80,0,0,2);p=Math.max(p,.4),this.shadow.material.alphaTest=0,this.shadow.material.opacity=.7*p,this.shadow.scale.x=this.shadow.scale.y=this.shadow.scale.z=.09*p;var f=J.a.cap(J.a.map(n,4,12,1,.2),.3,1);if(this.view3d.scale.z+=.1*(f-this.view3d.scale.z),this.chargeEffect.update(t),this.trailEffect.update(),this.rect.visible){var m=this.world.view3d.toScreenPosition(this);this.rect.position.x=m.x,this.rect.position.y=m.y,this.tick+=.5,this.rect.texture=this.trailFrames[(0|this.tick)%this.trailFrames.length],this.owner?this.rect.rotation=-Math.atan2(this.owner.body.velocity.y,this.owner.body.velocity.x)-Math.PI/2:this.rect.rotation=-Math.atan2(this.body.velocity.y,this.body.velocity.x)-Math.PI/2}}},s.onCollideBegin=function(t){this.target=null;var e=t.getOtherObject(this);this.body.friction=.99,e.net?(this.body.velocity.x*=.15,this.body.velocity.y*=.15):e.wall&&u.default.playSfx("ballkick_post")},i=r,(a=[{key:"name",get:function(){return this._name}}])&&wn(i.prototype,a),o&&wn(i,o),Object.defineProperty(i,"prototype",{writable:!1}),r}(un.a);function An(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function kn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cn(t,e){return(Cn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function On(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n(666);var Ln=function(t){var e,n;function r(e,n){var r;void 0===n&&(n=!1);var i=new an.CrashBody.fromRect(0,-100,100,200);i.type=an.CrashBody.STATIC,i.solid=!1,On(kn(r=t.call(this,100,100,o,i)||this),"app",void 0),On(kn(r),"lastTimeGoal",void 0),On(kn(r),"currentTimeGoal",void 0),On(kn(r),"groups",void 0),On(kn(r),"type",void 0),On(kn(r),"left",void 0),On(kn(r),"canScore",void 0),On(kn(r),"view3d",void 0),On(kn(r),"activeStadiumId",void 0),On(kn(r),"goal",void 0),On(kn(r),"isOpponentGoal",void 0),On(kn(r),"onGoalScored",void 0),r.app=e,r.isOpponentGoal=n,r.lastTimeGoal=0,r.currentTimeGoal=0;var a=r.app.stadiums.activeStadium.id;r.activeStadiumId=a;var o=i.getDebugView();return o.alpha=.5,r.body.position=r.position,r.groups=["Goal"],r.type=1,r.left=!1,r.onGoalScored=new R.Signal,r.view3d=new Q.Object3D,r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Cn(e,n);var i=r.prototype;return i.init=function(){var t,e=(t=regeneratorRuntime.mark((function t(){var e,n,r,i=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=$e.LegacyUtils.getTexture("assets/content/stadiums/core-assets/"+this.activeStadiumId+"-stadium/goal-texture-"+(this.isOpponentGoal?"red":"blue")+".png")).wrapS=Q.ClampToEdgeWrapping,e.wrapT=Q.ClampToEdgeWrapping,e.minFilter=Q.LinearFilter,e.maxFilter=Q.LinearFilter,(n=new Q.MeshBasicMaterial({map:e})).side=Q.DoubleSide,n.transparent=!0,n.alphaTest=.8,this.enableGoal(),r=new Q.OBJLoader,t.next=13,new Promise((function(t){r.load("assets/base-3d/goal.obj",(function(e){e.rotation.x=Math.PI/2,e.traverse((function(t){t instanceof Q.Mesh&&(t.material=n,t.material.needsUpdate=!0)})),i.view3d.add(e),e.position.y=-95,e.position.x=85,i.isOpponentGoal&&(e.rotation.y=Math.PI,e.position.x=15,e.position.y=95),e.scale.x=e.scale.y=e.scale.z=.53,i.goal=e,t()}),(function(){}),(function(){}))}));case 13:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){An(a,r,i,o,s,"next",t)}function s(t){An(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}(),i.setOpponentGoal=function(t){this.isOpponentGoal=t,this.refreshStadium()},i.refreshStadium=function(){if(this.goal){this.activeStadiumId=this.app.stadiums.activeStadium.id;var t=$e.LegacyUtils.getTexture("assets/content/stadiums/core-assets/"+this.activeStadiumId+"-stadium/goal-texture-"+(this.isOpponentGoal?"red":"blue")+".png");t.wrapS=Q.ClampToEdgeWrapping,t.wrapT=Q.ClampToEdgeWrapping,t.minFilter=Q.LinearFilter,t.maxFilter=Q.LinearFilter;var e=new Q.MeshBasicMaterial({map:t});e.side=Q.DoubleSide,e.transparent=!0,e.alphaTest=.8,this.goal.traverse((function(t){t instanceof Q.Mesh&&(t.material=e,t.material.needsUpdate=!0)}))}},i.addedToWorld=function(){},i.reset=function(){},i.update=function(){this.view3d.position.x=this.position.x,this.view3d.position.y=this.position.y,this.currentTimeGoal=Date.now()},i.enableGoal=function(){this.canScore=!0},i.disableGoal=function(){this.canScore=!1},i.onCollideBegin=function(t){"ball"===t.getOtherObject(this).name&&this.canScore&&(t.ignore=!0,this.currentTimeGoal-this.lastTimeGoal>1e3&&(this.lastTimeGoal=Date.now(),this.onGoalScored.emit(this)))},r}(un.a);function Rn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Pn=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.item=e,this.ball=null,e.signals.onBallRecieved=new Bt.a(this),e.signals.onBallLost=new Bt.a(this),e.signals.onBallShot=new Bt.a(this),this.easeX=.1,this.offset=new m.Point,this.offset.z=0,this.speedRange=35}var e,n,r;return e=t,(n=[{key:"pickupBall",value:function(t){this.ball=t,t.pickUp(this.item),this.item.signals.onBallRecieved.dispatch(this.item)}},{key:"update",value:function(){if(this.ball){var t=this.item.body.velocity.x/3;t*=40,t=J.a.cap(t,-this.speedRange,this.speedRange),this.ball.position.x+=(this.item.position.x+this.offset.x+t-this.ball.position.x)*this.easeX,this.item.body.velocity.y>0?this.ball.position.y+=.5*(this.item.position.y+0-this.ball.position.y):this.ball.position.y+=.5*(this.item.position.y-10-this.ball.position.y),this.ball.position.z=this.offset.z,this.ball.body.velocity.z=0}}},{key:"releaseBall",value:function(){this.ball.released(),this.ball=null,this.item.signals.onBallLost.dispatch(this.item)}},{key:"passTo",value:function(t){this.ball&&(this.ball.passTo(t),this.releaseBall())}},{key:"pass",value:function(t,e,n,r){this.ball&&(this.ball.pass(t,e,n,r),this.releaseBall())}}])&&Rn(e.prototype,n),r&&Rn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Dn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var In=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.item=e,this.direction=new on.a.Vector(1,0),this.targetDirection=new on.a.Vector(1,0),this.targetPosition=new on.a.Vector(1,0),e.signals.onArrive=new Bt.a(this),e.signals.onMoveTo=new Bt.a(this),this.callback=null,this.scope=null,this.active=!0,this.turnMultiplier=1,this.accel=1,this.lookingForTarget=!1}var e,n,r;return e=t,(n=[{key:"update",value:function(){if(this.lookingForTarget){this.target&&(this.targetPosition.x=this.target.position.x,this.targetPosition.y=this.target.position.y);var t=this.targetPosition.x-this.item.position.x,e=this.targetPosition.y-this.item.position.y,n=Math.sqrt(t*t+e*e);0!==n&&(t/=n,e/=n),n>10?this.moveInDirection(t,e):(this.callback&&(this.callback.call(this.scope),this.callback=null),this.stop())}}},{key:"follow",value:function(t,e){this.target=t,this.lookingForTarget=!0}},{key:"moveTo",value:function(t,e){this.target=null,this.callback=null,this.lookingForTarget=!0,this.targetPosition.x=t,this.targetPosition.y=e}},{key:"then",value:function(t,e){this.callback=t,this.scope=e}},{key:"moveInDirection",value:function(t,e){if(this.targetDirection.x=t,this.targetDirection.y=e,this.item.auto){var n=Math.atan2(this.direction.y,this.direction.x),r=Math.atan2(e,t);n+=J.a.smallestAngle(n,r)*this.turnMultiplier,this.direction.x=Math.cos(n),this.direction.y=Math.sin(n)}else this.direction.x=t,this.direction.y=e;isNaN(this.direction.x)&&(this.direction.x=0),isNaN(this.direction.y)&&(this.direction.y=0),Math.abs(this.direction.x)===1/0&&(this.direction.x=0),Math.abs(this.direction.y)===1/0&&(this.direction.y=0),this.item.body.acceleration.x=.6*this.direction.x*this.accel,this.item.body.acceleration.y=.6*this.direction.y*this.accel}},{key:"stop",value:function(){this.target=null,this.lookingForTarget=!1,this.item.body.acceleration.x=1e-4,this.item.body.acceleration.y=0,this.item.body.velocity.x=.001,this.item.body.velocity.y=0}}])&&Dn(e.prototype,n),r&&Dn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Bn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Nn(t,e){return(Nn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Fn=function(t){var e,n;function r(e){var n,r=new on.a.CrashBody.fromRect(-20,-20,40,40),i=r.getDebugView();return jn(Bn(n=t.call(this,100,100,i,r)||this),"right",void 0),jn(Bn(n),"diveTarget",void 0),jn(Bn(n),"diving",void 0),jn(Bn(n),"ballSkills",void 0),jn(Bn(n),"balanceData",void 0),jn(Bn(n),"movement",void 0),jn(Bn(n),"hidden",void 0),n.type=1,n.active=!0,n.groups=["GoalKeeper"],n.name="keeper",n.body.position=n.position,n.body.setMaxSpeed(2.5),n.right=e,n.ballSkills=new Pn(Bn(n)),n.ballSkills.speedRange=1,n.ballSkills.offset.x=e?-24:24,n.ballSkills.offset.z=0,n.movement=new In(Bn(n)),n.diveTarget=null,n.diving=!1,n.balanceData=null,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Nn(e,n);var i=r.prototype;return i.initView=function(){},i.setData=function(t,e,n){},i.show=function(){this.hidden=!1},i.hide=function(){this.hidden=!0},i.dive=function(t){if(!this.diving){this.diveTarget=t,this.diving=!0,this.body.friction=.9;var e=t.position.x-this.body.position.x,n=t.position.y-this.body.position.y,r=Math.sqrt(e*e+n*n)||1e-9;e/=r,n/=r,this.body.velocity.x=15*e,this.body.velocity.y=15*n,this.body.acceleration.x=0,this.body.acceleration.y=0,this.body.setMaxSpeed(20)}},i.reset=function(){},i.update=function(){if(this.diving){var t=this.body.velocity.length();if(this.diveTarget){var e=this.diveTarget.position.x-this.body.position.x,n=this.diveTarget.position.y-this.body.position.y,r=Math.sqrt(e*e+n*n)||1e-9;e/=r,n/=r,this.body.velocity.x=e*t,this.body.velocity.y=n*t}t<2&&(this.diving=!1,this.body.friction=.9,this.body.setMaxSpeed(2.5))}else this.movement.update();this.ballSkills.update()},i.kickOut=function(t,e){this.ballSkills.pass(t,e,10,20)},i.onCollideBegin=function(t){if(!this.hidden){var e=t.getOtherObject(this);if("ball"===e.name){var n=e;if(n.shot){var r=n.shootPosition.x-this.body.position.x,i=n.shootPosition.y-this.body.position.y,a=Math.sqrt(r*r+i*i);n.perfect&&a>300&&(n.perfect=!1)}if(n.perfect&&n.shot||n.shot&&n.remoteBall&&this.right)return void(t.ignore=!0);var o=n.body.velocity.length();o>15?(n.body.velocity.x*=-1,n.body.velocity.y=J.a.randomSign()*J.a.random(3,8),n.body.velocity.setLength(.5*o)):(t.ignore=!0,n.owner&&n.owner.ballSkills.releaseBall(),this.ballSkills.pickupBall(n),this.diveTarget=null,this.diving=!1)}else"player"===e.name&&(e.state===ot.Const.PLAYER_STATE.KICK_CHARGE&&e.shootRelease(this,!0),t.ignore=!0)}},r}(un.a),Un=(n(305),n(40)),Yn=n(90),Gn=n(536),Hn=n.n(Gn);n(442);function zn(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vn(t,e){return(Vn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Wn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Xn=function(t){var e,n;function r(e){var n;return Wn(zn(n=t.call(this)||this),"owner",void 0),Wn(zn(n),"spin",void 0),Wn(zn(n),"chargeArrow",void 0),Wn(zn(n),"flashing",void 0),Wn(zn(n),"flashCounter",void 0),Wn(zn(n),"blinkCounter",void 0),Wn(zn(n),"blinkTimer",void 0),Wn(zn(n),"team",void 0),Wn(zn(n),"reticle",void 0),Wn(zn(n),"reticle2",void 0),Wn(zn(n),"reticleArrow",void 0),Wn(zn(n),"reticleArrowBall",void 0),Wn(zn(n),"reticleOrigX",void 0),Wn(zn(n),"reticleOrigZ",void 0),n.owner=e,n.spin=new Q.Object3D,n.chargeArrow=$e.LegacyUtils.getMesh("player_marker_shoot.png",.5,1),n.chargeArrow.material.alphaTest=.8,n.chargeArrow.position.y+=30,n.chargeArrow.position.x+=25,n.spin.add(n.chargeArrow),n.add(n.spin),n.flashing=!1,n.flashCounter=0,n.blinkCounter=0,n.blinkTimer=0,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Vn(e,n);var i=r.prototype;return i.setArrows=function(t){this.team=t},i.blink=function(){this.blinkTimer=120},i.reset=function(){this.spin.rotation.z=(g.d.halfTimeSwapped?-1:1)*Math.PI/2,this.owner.movement.direction.x=g.d.halfTimeSwapped?-1:1,this.owner.movement.direction.y=0},i.setData=function(){if(!this.owner.isTeamA){this.reticle=$e.LegacyUtils.getMesh("player_marker_ring_blue.png",.35,.4),this.reticle2=$e.LegacyUtils.getMesh("player_marker_ring_blue_light.png",.35,.4),this.reticleArrow=$e.LegacyUtils.getMesh("player_marker_ring_arrow_yellow.png",.35,.4),this.reticleArrowBall=$e.LegacyUtils.getMesh("player_marker_ring_arrow_blue_light.png",.35,.4),this.spin.children.length=0,this.spin.add(this.reticle),this.spin.add(this.reticle2),this.spin.add(this.reticleArrow),this.spin.add(this.reticleArrowBall),this.reticle.material.alphaTest=.8;this.reticle.scale.x*=1.5,this.reticle.scale.y*=1.5,this.reticle.scale.z*=1.5,this.reticleOrigX=this.reticle.position.x,this.reticleOrigZ=this.reticle.position.z,this.reticle.position.x=-20,this.reticle.position.z=55,this.reticle2.scale.x*=1.5,this.reticle2.scale.y*=1.5,this.reticle2.scale.z*=1.5,this.reticle2.visible=!1,this.reticleArrow.scale.x*=1.5,this.reticleArrow.scale.y*=1.5,this.reticleArrow.scale.z*=1.5,this.reticleArrow.visible=!1,this.reticleArrowBall.scale.x*=1.5,this.reticleArrowBall.scale.y*=1.5,this.reticleArrowBall.scale.z*=1.5,this.reticleArrowBall.visible=!1}},i.update=function(){var t;this.visible&&(this.reticle&&(g.d.active&&(this.reticle.position.x=this.reticleOrigX,this.reticle.position.z=this.reticleOrigZ),this.owner.ballSkills.ball?(this.reticleArrowBall.visible=!0,this.reticleArrow.visible=!1,this.reticle.visible=!1):this.owner.auto?!g.d.ball.owner&&g.d.ball.active?(this.reticleArrowBall.visible=!1,this.reticleArrow.visible=!1,this.reticle.visible=!1):!g.d.ball.owner||g.d.ball.owner&&g.d.ball.owner.isTeamA===this.owner.isTeamA?(this.reticleArrowBall.visible=!1,this.reticleArrow.visible=!1,this.reticle.visible=!0):(this.reticleArrowBall.visible=!1,this.reticleArrow.visible=!1,this.reticle.visible=!1):(this.reticleArrowBall.visible=!0,this.reticleArrow.visible=!1,this.reticle.visible=!1)),this.owner.state===ot.Const.PLAYER_STATE.KICK_CHARGE?(t=this.owner.shootAngle,this.spin.rotation.z+=.2*J.a.smallestAngle(this.spin.rotation.z,t)):0===this.owner.movement.direction.y&&0===this.owner.movement.direction.x||(t=Math.atan2(this.owner.movement.direction.y,this.owner.movement.direction.x),t+=Math.PI/2,this.spin.rotation.z+=.2*J.a.smallestAngle(this.spin.rotation.z,t)),this.reticle&&(this.flashing?(this.flashCounter+=.5,this.reticle2.visible=!0,this.reticle2.material.opacity=.6+.4*Math.sin(this.flashCounter)):(this.flashCounter=1.7,this.reticle2.visible=!1),this.blinkTimer>0&&!this.owner.auto&&!this.owner.ballSkills.ball?(this.blinkCounter++,this.blinkTimer--,this.blinkCounter>=5&&(this.blinkCounter=0,this.spin.visible=!this.spin.visible)):(this.blinkTimer=0,this.spin.visible=!0)))},i.show=function(){this.visible=!0,this.flashing=!1,this.flashCounter=0,this.blinkCounter=0,this.blinkTimer=0},i.hide=function(){this.visible=!1,this.flashing=!1,this.flashCounter=0,this.blinkCounter=0,this.blinkTimer=0},r}(Q.Object3D);function Kn(t){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function qn(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function Zn(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){qn(a,r,i,o,s,"next",t)}function s(t){qn(a,r,i,o,s,"throw",t)}o(void 0)}))}}function Jn(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Qn(t,e){return(Qn=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $n(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=er(t);if(e){var i=er(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return tr(this,n)}}function tr(t,e){if(e&&("object"===Kn(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function er(t){return(er=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var nr=ot.Const.PLAYER_STATE,rr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Qn(t,e)}(s,t);var e,n,r,i,a,o=$n(s);function s(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),(e=o.call(this)).player=t,e.scaleContainer=new L.Object3D,e.flipContainer=new L.Object3D,e.flipContainer.rotation.x=.6-Math.PI,e.add(e.scaleContainer),e.scaleContainer.add(e.flipContainer),e.reticle=new Xn(t),e.reticle.position.y=13,e.reticle.position.z=-10,e.add(e.reticle),e.chargeArrow=new Hn.a(t),e}return e=s,(n=[{key:"setData",value:(a=Zn(regeneratorRuntime.mark((function t(e,n){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.player.data=e,this.reticle.setData(e),this.scaleContainer.scale.x=this.scaleContainer.scale.y=this.scaleContainer.scale.z=.16*e.scale,t.t0=e.size,t.next=t.t0===Un.b.SMALL?6:t.t0===Un.b.STANDARD?8:t.t0===Un.b.LARGE?10:12;break;case 6:return r=.7,t.abrupt("break",12);case 8:return r=1,t.abrupt("break",12);case 10:return r=1.35,t.abrupt("break",12);case 12:return this.reticle.scale.x=this.reticle.scale.y=this.reticle.scale.z=.25*r,this.tackleAnimationSpeed=e.tackleAnimationSpeed||1,t.next=16,this.setupSpine(e.id,n);case 16:case"end":return t.stop()}}),t,this)}))),function(t,e){return a.apply(this,arguments)})},{key:"setupSpine",value:(i=Zn(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.skeletonMesh&&(this.flipContainer.remove(this.skeletonMesh),this.skeletonMesh.dispose(),this.skeletonMesh=null),t.next=3,Yn.a.getSpineAnim3D(e,n);case 3:this.skeletonMesh=t.sent,this.skeletonMesh.state.setAnimation(0,"Idle",!0),this.flipContainer.add(this.skeletonMesh);case 6:case"end":return t.stop()}}),t,this)}))),function(t,e){return i.apply(this,arguments)})},{key:"playSpineAnimation",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.skeletonMesh&&!this.animationLocked&&(this.currentAnimName===t&&this.currentAnimLoop===e||(this.currentAnimName||this.skeletonMesh.state.setEmptyAnimation(0,0),this.currentAnimName=t,this.currentAnimLoop=e,this.spineTrack=this.skeletonMesh.state.setAnimation(0,t,e),this.spineTrack.timeScale=n,this.spineTrack.mixDuration=.2))}},{key:"playFillerSpineAnimation",value:function(t){var e=this;if(this.skeletonMesh){var n=this.skeletonMesh.state.setAnimation(0,t,!1);n.mixDuration=.1,n.animationEnd=.35,n.timeScale=2.2,n.listener={complete:function(t){e.currentAnimLoop&&e.currentAnimName&&(e.spineTrack=e.skeletonMesh.state.setAnimation(0,e.currentAnimName,!0),e.spineTrack.mixDuration=.15)}}}}},{key:"playKickChargeAnimation",value:function(t){this.skeletonMesh&&"Kick"!==this.currentAnimName&&(this.currentAnimName="Kick",this.currentAnimLoop=!1,this.skeletonMesh.state.setEmptyAnimation(0,.1),this.spineTrack=this.skeletonMesh.state.addAnimation(0,"Kick",!1,0),this.spineTrack.mixDuration=1.5,this.spineTrack.animationEnd=0,this.animationLocked=void 0!==t&&t)}},{key:"playKickReleaseAnimation",value:function(){var t=this;this.skeletonMesh&&"Kick"===this.currentAnimName&&(this.spineTrack=this.skeletonMesh.state.setAnimation(0,"Kick",!1),this.spineTrack.listener={complete:function(e){t.animationLocked=!1}})}},{key:"stopSpineAnimation",value:function(){this.skeletonMesh&&(this.skeletonMesh.state.setEmptyAnimation(0,0),this.currentAnimName=null,this.spineTrack=null)}},{key:"hideReticle",value:function(){this.reticle.visible=!1}},{key:"showReticle",value:function(){this.reticle.visible=!0}},{key:"hide",value:function(){this.skeletonMesh&&(this.skeletonMesh.visible=!1)}},{key:"show",value:function(){this.skeletonMesh&&(this.skeletonMesh.visible=!0)}},{key:"update",value:function(){if(this.spineTrack&&(this.spineTrack.timeScale=this.player.world.game.speed*("Tackle"===this.currentAnimName?this.tackleAnimationSpeed:1)*(this.player.speedBoosted?2:1)),this.skeletonMesh&&this.skeletonMesh.update(1/60),this.chargeArrow.update(),this.player.state===nr.KICK_CHARGE)this.playKickChargeAnimation();else{if(this.player.state===nr.FREEZE)return void this.stopSpineAnimation();this.player.state===nr.FALL?(this.animationLocked=!1,this.playSpineAnimation("Fallover",!1)):this.player.state===nr.TACKLE?this.playSpineAnimation("Tackle",!1,this.tackleAnimationSpeed):this.player.state===nr.WIN?this.playSpineAnimation("Celebrate",!0):this.player.state===nr.LOSE?this.playSpineAnimation("Fallover",!1):this.player.body.velocity.length()>1?this.playSpineAnimation("Run",!0):this.playSpineAnimation("Idle",!0)}this.count++;var t,e=Math.abs(this.player.body.velocity.x)<.01?0:this.player.body.velocity.x;switch(Math.sign(e)){case 0:t=this.player===this.player.world.game.teamManagerLeft.activePlayer?this.flipContainer.scale.x:this.player.world.game.ball.position.x<this.player.position.x?-1:1;break;case 1:t=1;break;case-1:t=-1}this.player.state!==nr.FALL&&this.player.state!==nr.FREEZE||(t=this.flipContainer.scale.x),this.player.state===nr.KICK_CHARGE&&(t=this.player.world.game.halfTimeSwapped?-1:1),this.flipContainer.scale.x=t}}])&&Jn(e.prototype,n),r&&Jn(e,r),Object.defineProperty(e,"prototype",{writable:!1}),s}(L.Object3D);function ir(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function ar(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function or(t,e){return(or=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ur=n(1).delay,cr=ot.Const.PLAYER_STATE,lr=function(t){var e,n;function r(e){var n;return sr(ar(n=t.call(this,e)||this),"data",void 0),sr(ar(n),"kitColor",void 0),sr(ar(n),"view3d",void 0),sr(ar(n),"state",void 0),sr(ar(n),"team",void 0),n.view3d=n.initView(),n.state=cr.IDLE,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,or(e,n);var i=r.prototype;return i.initView=function(){var t=new rr(this);return t.reticle.position.y=-10,t.reticle.position.z=-15,t.hideReticle(),t},i.setData=function(){var t,e=(t=regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.team=e,this.data=n,this.kitColor=r,this.hide(),t.next=6,this.view3d.setData(n,r);case 6:this.show();case 7:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){ir(a,r,i,o,s,"next",t)}function s(t){ir(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(t,n,r){return e.apply(this,arguments)}}(),i.show=function(){t.prototype.show.call(this),this.view3d.show()},i.hide=function(){t.prototype.hide.call(this),this.view3d.hide()},i.win=function(){this.setState(cr.WIN)},i.lose=function(){this.setState(cr.LOSE)},i.reset=function(){this.setState(cr.IDLE)},i.update=function(){t.prototype.update.call(this),this.view3d.update(),this.view3d.position.x=this.position.x,this.view3d.position.y=this.position.y},i.dive=function(e){var n=this;this.diving||(t.prototype.dive.call(this,e),e.owner&&(!e.owner.isTeamA&&this.team==O.b.A||(u.default.playSfx("slide"),this.setState(cr.TACKLE),ur(.6).then((function(){n.state==cr.TACKLE&&n.setState(cr.IDLE)})))))},i.setState=function(t){this.state!==t&&(this.state=t)},i.kickOut=function(e,n){t.prototype.kickOut.call(this,e,n),this.view3d.playKickChargeAnimation(!0),this.view3d.playKickReleaseAnimation()},r}(Fn),hr=(n(507),n(79));function dr(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function pr(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function fr(t,e){return(fr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function mr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var gr=function(t){var e,n;function r(e){var n,r=e.stadiums.activeStadium.id,i=m.Sprite.from("assets/content/stadiums/core-assets/"+r+"-stadium/pitch-full.jpg");mr(pr(n=t.call(this,0,0,i)||this),"logoMesh",void 0),mr(pr(n),"boardMesh",void 0),mr(pr(n),"crowdMesh",void 0),mr(pr(n),"frontCrowdMesh",void 0),mr(pr(n),"runoffMeshLeft",void 0),mr(pr(n),"runoffMeshRight",void 0),mr(pr(n),"banner1",void 0),mr(pr(n),"banner2",void 0),mr(pr(n),"banner3",void 0),mr(pr(n),"crowdAnimTextures",void 0),mr(pr(n),"app",void 0),mr(pr(n),"activeStadiumId",void 0),mr(pr(n),"groups",void 0),mr(pr(n),"tick",void 0),n.app=e,n.activeStadiumId=r;var a=new Q.PlaneGeometry(1800,1100),o=$e.LegacyUtils.getTexture("assets/content/stadiums/core-assets/"+r+"-stadium/pitch-full.jpg"),s=new Q.MeshBasicMaterial({map:o});s.side=Q.DoubleSide,s.polygonOffset=!0,s.polygonOffsetFactor=40,n.view3d=new Q.Mesh(a,s),n.view3d.position.x=800,n.view3d.position.y=450;for(var u,c=new m.Container,l=0;l<8;l++)(u=m.Sprite.from("assets/theme/"+e.themes.activeTheme.manifest+"/banners/pitch-banner.jpg")).width=320,u.height=50,u.x=305*l,c.addChild(u);o=$e.LegacyUtils.getPixiTexture(c),(s=new Q.MeshBasicMaterial({map:o})).side=Q.DoubleSide,s.transparent=!0;var h=new Q.PlaneGeometry(c.width,u.height);n.boardMesh=new Q.Mesh(h,s),n.view3d.add(n.boardMesh),n.boardMesh.rotation.x=Math.PI/2-.8,n.boardMesh.position.z=25,n.boardMesh.position.y=500,n.addCrowd(),n.addRunoff(),n.frontCrowd(),n.groups=["Pitch"],(o=$e.LegacyUtils.getTexture("assets/content/banners/pitch-circle-banner.png")).needsUpdate=!0,(s=new Q.MeshBasicMaterial({map:o})).side=Q.DoubleSide,s.transparent=!0,s.opacity=.75;var d=new Q.PlaneGeometry(336,336);return n.logoMesh=new Q.Mesh(d,s),n.logoMesh=n.logoMesh,n.logoMesh.position.z=-5,n.view3d.add(n.logoMesh),n.tick=0,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,fr(e,n);var i=r.prototype;return i.refreshStadium=function(){this.activeStadiumId=this.app.stadiums.activeStadium.id;var t=$e.LegacyUtils.getTexture("assets/content/stadiums/core-assets/"+this.activeStadiumId+"-stadium/pitch-full.jpg");this.view3d.material.map=t,(t=$e.LegacyUtils.getTexture("assets/content/stadiums/core-assets/"+this.activeStadiumId+"-stadium/run-off.jpg")).repeat.set(1,3),t.wrapS=t.wrapT=Q.RepeatWrapping,this.runoffMeshLeft.material.map=t,this.runoffMeshRight.material.map=t,this.setCrowdAnimTextures(),t=this.crowdAnimTextures[0],this.crowdMesh.material.map=t,(t=$e.LegacyUtils.getTexture("assets/content/stadiums/core-assets/"+this.activeStadiumId+"-stadium/front-crowd.png")).repeat.set(4,1),t.wrapS=t.wrapT=Q.RepeatWrapping,this.frontCrowdMesh.material.map=t,this.tick=0},i.loadBanners=function(){if(D.b.banner1&&!this.banner1){this.banner1=D.b.banner1;var t=new Q.Texture;t.image=this.banner1.texture.baseTexture.resource.source,this.logoMesh.material.map=t,this.logoMesh.material.map.needsUpdate=!0,this.logoMesh.material.needsUpdate=!0}if(D.b.banner2&&!this.banner2){this.banner2=D.b.banner2,D.b.banner3&&(this.banner3=D.b.banner3);for(var e,n=new m.Container,r=0;r<8;r++)(e=this.banner3&&r%2==0?new m.Sprite(this.banner3.texture):new m.Sprite(this.banner2.texture)).x=305*r,n.addChild(e);var i=$e.LegacyUtils.getPixiTexture(n);this.boardMesh.material.map=i,this.boardMesh.material.map.needsUpdate=!0,this.boardMesh.material.needsUpdate=!0}},i.showLogo=function(){this.logoMesh.visible=!0,this.logoMesh.material.opacity=.4},i.hideLogo=function(){var t,e=(t=regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(o.tween)(this.logoMesh.material,.3,{opacity:0,onComplete:function(){return e.logoMesh.visible=!1},delay:0});case 2:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){dr(a,r,i,o,s,"next",t)}function s(t){dr(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}(),i.addCrowd=function(){this.setCrowdAnimTextures();var t=this.crowdAnimTextures[0],e=new Q.MeshBasicMaterial({map:t});e.side=Q.DoubleSide;var n=new Q.PlaneGeometry(2400,-500);this.crowdMesh=new Q.Mesh(n,e),this.view3d.add(this.crowdMesh),this.crowdMesh.rotation.x=-Math.PI/2-1.2,this.crowdMesh.position.z=75,this.crowdMesh.position.y=800,this.crowdMesh.scale.z=-1},i.setCrowdAnimTextures=function(){this.crowdAnimTextures=[];for(var t=this.app.stadiums.activeStadium.id,e=hr.a[t].bleacherFrames,n=0;n<e;n++){var r=$e.LegacyUtils.getTexture("assets/content/stadiums/core-assets/"+this.activeStadiumId+"-stadium/bleacher/crowd_"+(n+1<10?"0":"")+(n+1)+".png");r.repeat.set(3,.8),r.wrapS=r.wrapT=Q.RepeatWrapping,this.crowdAnimTextures.push(r)}},i.addRunoff=function(){var t=$e.LegacyUtils.getTexture("assets/content/stadiums/core-assets/"+this.activeStadiumId+"-stadium/run-off.jpg");t.repeat.set(1,3),t.wrapS=t.wrapT=Q.RepeatWrapping;var e=new Q.MeshBasicMaterial({map:t});e.side=Q.DoubleSide,e.polygonOffset=!0,e.polygonOffsetFactor=40;var n=new Q.PlaneGeometry(400,1400);this.runoffMeshLeft=new Q.Mesh(n,e),this.runoffMeshRight=new Q.Mesh(n,e),this.view3d.add(this.runoffMeshLeft),this.runoffMeshLeft.position.x=-1100,this.runoffMeshLeft.position.y=250,this.view3d.add(this.runoffMeshRight),this.runoffMeshRight.scale.x=-1,this.runoffMeshRight.position.x=1100,this.runoffMeshRight.position.y=250},i.frontCrowd=function(){var t=$e.LegacyUtils.getTexture("assets/content/stadiums/core-assets/"+this.activeStadiumId+"-stadium/front-crowd.png");t.repeat.set(4,1),t.wrapS=t.wrapT=Q.RepeatWrapping;var e=new Q.MeshBasicMaterial({map:t});e.side=Q.DoubleSide,e.transparent=!0;var n=new Q.PlaneGeometry(1600,112);this.frontCrowdMesh=new Q.Mesh(n,e),this.view3d.add(this.frontCrowdMesh),this.frontCrowdMesh.position.z=106,this.frontCrowdMesh.position.y=-586,this.frontCrowdMesh.rotation.x=1},i.reset=function(){},i.update=function(){this.tick+=.2*A.a.instance.deltaTime,this.crowdMesh.material.map=this.crowdAnimTextures[this.tick%this.crowdAnimTextures.length|0]},r}(un.a),yr=n(264);function vr(t){return(vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function br(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _r(t,e){return(_r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function wr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Sr(t);if(e){var i=Sr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xr(this,n)}}function xr(t,e){if(e&&("object"===vr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Sr(t){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Tr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_r(t,e)}(a,t);var e,n,r,i=wr(a);function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).circle=(new m.Graphics).beginFill(16711680).drawCircle(0,0,30),t.icon=new m.Sprite,t.icon.anchor.set(.5),t.icon.mask=t.circle,t.ring=new m.Sprite.from("offscreen_marker_ring_blue.png"),t.ring.anchor.set(.5),t.ring.position.y=2,t.addChild(t.circle),t.addChild(t.icon),t.addChild(t.ring),t}return e=a,(n=[{key:"setData",value:function(t,e){this.cacheAsBitmap=!1,this.icon.texture=m.Texture.from(t.icon),this.cacheAsBitmap=!0}},{key:"hide",value:function(t){this.hidden=!0,this.alpha=0}},{key:"show",value:function(t){this.hidden=!1}},{key:"update",value:function(t){if(!this.hidden){var e=t.x,n=t.y-50,r=!0,i=g.d.w,a=g.d.h;e<30||e>i-30?(e=J.a.cap(e,30,i-30),r=!1):(n<30||n>a-30)&&(n=J.a.cap(n,30,a-30),r=!1),r?(this.alpha-=.1,this.alpha<0&&(this.alpha=0)):(this.alpha+=.1,this.alpha>1&&(this.alpha=1)),this.position.x=e,this.position.y=n}}}])&&br(e.prototype,n),r&&br(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(m.Container);function Mr(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function Er(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ar(t,e){return(Ar=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function kr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Cr=ot.Const.PLAYER_STATE,Or=function(t){var e,n;function r(e){var n,r=new on.a.CrashBody.fromRect(-10,-10,20,20),i=(new m.Graphics).beginFill(16711680).drawRect(-20,-20,40,40);return kr(Er(n=t.call(this,400,50,i,r)||this),"ball",void 0),kr(Er(n),"currentTouchingPlayer",void 0),kr(Er(n),"ballSkills",void 0),kr(Er(n),"chargeBar",void 0),kr(Er(n),"movement",void 0),kr(Er(n),"shootTarget",void 0),kr(Er(n),"powerup",void 0),kr(Er(n),"balanceData",void 0),kr(Er(n),"data",void 0),kr(Er(n),"kitColor",void 0),kr(Er(n),"view3d",void 0),kr(Er(n),"startPosition",void 0),kr(Er(n),"randomDir",void 0),kr(Er(n),"shootDirection",void 0),kr(Er(n),"speedBoost",void 0),kr(Er(n),"shotPower",void 0),kr(Er(n),"tacklePower",void 0),kr(Er(n),"_tick",void 0),kr(Er(n),"type",void 0),kr(Er(n),"state",void 0),kr(Er(n),"tackleWait",void 0),kr(Er(n),"fallWait",void 0),kr(Er(n),"chaseWait",void 0),kr(Er(n),"passWait",void 0),kr(Er(n),"shotWait",void 0),kr(Er(n),"turnCount",void 0),kr(Er(n),"canTackleCount",void 0),kr(Er(n),"shootAngle",void 0),kr(Er(n),"shootOffsetAngle",void 0),kr(Er(n),"tackleSize",void 0),kr(Er(n),"normalSize",void 0),kr(Er(n),"bananaSize",void 0),kr(Er(n),"actualSpeed",void 0),kr(Er(n),"randomDirCount",void 0),kr(Er(n),"count",void 0),kr(Er(n),"touchingBall",void 0),kr(Er(n),"didModifyShootAngle",void 0),kr(Er(n),"canBeTackled",void 0),kr(Er(n),"overwriteStopWalk",void 0),kr(Er(n),"movingTo",void 0),kr(Er(n),"shootReleaseTriggered",void 0),kr(Er(n),"forceSuperShot",void 0),kr(Er(n),"speedBoosted",void 0),kr(Er(n),"helpTackle",void 0),kr(Er(n),"DEBUG",void 0),kr(Er(n),"auto",void 0),kr(Er(n),"name",void 0),kr(Er(n),"shootArrow",void 0),kr(Er(n),"offScreenIcon",void 0),kr(Er(n),"shotBegin",void 0),kr(Er(n),"shotEnd",void 0),kr(Er(n),"shotSuccess",void 0),kr(Er(n),"isTeamA",void 0),n.isTeamA=e,n.isTeamA&&(i.tint=65280),n.view3d=new rr(Er(n)),n.speedBoost=1,n.shotPower=1,n.tacklePower=1,n._tick=1e3*Math.random(),n.type=1,n.currentTouchingPlayer=null,n.touchingBall=!1,n.ball=g.d.ball,n.body.position=n.position,n.name="player",n.groups=["Player"],n.state=Cr.IDLE,n.startPosition=new on.a.Vector,n.ballSkills=new Pn(Er(n)),n.movement=new In(Er(n)),n.chargeBar=new yr.a,n.offScreenIcon=new Tr,n.DEBUG=!1,n.auto=!0,n.shootTarget=null,n.tackleWait=0,n.fallWait=0,n.chaseWait=0,n.passWait=0,n.shotWait=0,n.turnCount=0,n.canTackleCount=0,n.shootArrow=(new m.Graphics).beginFill(16776960).drawRect(0,-5,100,10).drawCircle(0,0,20),n.view.addChild(n.shootArrow),n.randomDir=new m.Point(0,0),n.shootDirection=new m.Point(1,0),n.shootAngle=0,n.shootOffsetAngle=0,n.didModifyShootAngle=!1,n.powerup=null,n.speedBoosted=!1,n.canBeTackled=!0,n.overwriteStopWalk=!1,n.balanceData=null,n.helpTackle=!0,n.tackleSize=30,n.normalSize=20,n.bananaSize=70,n.actualSpeed=3,n.shotBegin=new R.Signal,n.shotEnd=new R.Signal,n.shotSuccess=new R.Signal,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Ar(e,n);var i=r.prototype;return i.fallOver=function(t){void 0===t&&(t=!1),u.default.sfxChannel.stop(),u.default.playSfx("tackle_hit_deck"),this.body.acceleration.x=0,this.body.acceleration.y=0,this.fallWait=0,this.setState(Cr.FALL),this.ballSkills.ball&&!t&&this.ballSkills.releaseBall()},i.freeze=function(){this.body.acceleration.x=0,this.body.acceleration.y=0,this.setState(Cr.FREEZE),this.view3d.reticle.hide()},i.hidePlayerView=function(){this.view3d.hide()},i.showPlayerView=function(){this.view3d.show()},i.reset=function(t){void 0===t&&(t=!1),this.view3d.animationLocked=!1,this.view3d.reticle.show(),this.setState(Cr.EMPTY),t||this.endPowerup(),this.movement.stop(),this.ballSkills.ball&&this.ballSkills.releaseBall()},i.setData=function(){var t,e=(t=regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.data=n,this.kitColor=r,this.hidePlayerView(),this.offScreenIcon.hide(),t.next=6,this.view3d.setData(n,r);case 6:this.showPlayerView(),this.offScreenIcon.show(),this.data.power>=.7||!g.d.tutorialCompleted?this.chargeBar.setSize(2):this.data.power>=.4?this.chargeBar.setSize(1):this.chargeBar.setSize(0),this.offScreenIcon.setData(n,r);case 10:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){Mr(a,r,i,o,s,"next",t)}function s(t){Mr(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(t,n,r){return e.apply(this,arguments)}}(),i.setTeam=function(t){for(var e=[],n=0;n<t.children.length;n++){var r=t.children[n];r!==this&&e.push(r)}this.view3d.reticle.setArrows(e)},i.setState=function(t){if(this.state!==t&&(this.state!==Cr.HIDE||t===Cr.SHOW)){if(this.state===Cr.KICK_CHARGE&&(this.world.view3d.camera.focusMode=!1),this.canCollide=t!==Cr.FALL,t===Cr.FREEZE&&(this.canCollide=!1),!this.powerup||!this.powerup.bananas){var e=this.normalSize;t!==Cr.TACKLE||this.auto||(e=this.tackleSize),this.body.shape.x=-e/2,this.body.shape.y=-e/2,this.body.shape.width=e,this.body.shape.height=e}t===Cr.KICK_CHARGE?this.world.view3d.camera.focusMode=!0:t===Cr.TACKLE?(this.tackleWait=0,this.body.friction=.9,this.actualSpeed=20):this.body.friction=.94,this.state=t,this.overwriteStopWalk=!1,this.state===Cr.HIDE&&(this.hidePlayerView(),this.movement.stop(),this.overwriteStopWalk=!0,this.offScreenIcon.hide()),this.state===Cr.SHOW&&(this.view3d.show(),this.overwriteStopWalk=!1,this.movement.update(),this.offScreenIcon.show()),this.state!==Cr.WIN&&this.state!==Cr.LOSE||(this.movement.stop(),this.view3d.reticle.hide()),this.state===Cr.FIRE&&(this.randomDirCount=1e4),this.state!==Cr.LOSE&&this.state!==Cr.WIN&&this.state!==Cr.TACKLE&&this.state!==Cr.FALL&&this.state!==Cr.KICK_CHARGE&&this.state!==Cr.FREEZE&&this.state!==Cr.FIRE&&this.state!==Cr.STOP||(this.overwriteStopWalk=!0)}},i.moveToRandomDir=function(){this.randomDirCount++,this.randomDirCount>50&&(this.randomDir.x=2*Math.random()-1,this.randomDir.y=2*Math.random()-1,this.randomDirCount=0),this.movement.moveInDirection(this.randomDir.x,this.randomDir.y)},i.setPowerUp=function(t){var e;if(this.setState(Cr.EMPTY),t.isCoin)return Pt.a.get(t).reset(this),void(this.isTeamA||g.c.dispatch(d.a,{type:d.b.ITEM_PICKED_UP,data:{coinBag:!0}}));"Freeze"===t.name&&"Snowball"===(null===(e=this.powerup)||void 0===e?void 0:e.id)&&this.powerup.stopSnowman(),this.endPowerup(),this.powerup=Pt.a.get(t),this.powerup.reset(this),this.isTeamA||g.c.dispatch(d.a,{type:d.b.ITEM_PICKED_UP,data:{powerup:this.powerup.id}})},i.endPowerup=function(){this.powerup&&(this.powerup.stop(),Pt.a.return(this.powerup),this.powerup=null)},i.update=function(t){this.count+=.3;var e=.25*this.data.speed+.9;if(this.speedBoosted?this.actualSpeed=4*this.balanceData.speedMod*e:this.actualSpeed=3*this.balanceData.speedMod*e,this.view3d.position.x=this.position.x,this.view3d.position.y=this.position.y,this.view3d.update(),this.powerup&&(this.powerup.update(),this.powerup.dead&&this.endPowerup()),this.canTackleCount++,this.view3d.reticle.chargeArrow.visible=!1,this.ballSkills.update(),this.view3d.reticle.update(),this.state===Cr.KICK_CHARGE?this.chargeBar.show():this.chargeBar.hide(),this.state===Cr.RUN)this.movement.update();else if(this.state===Cr.TACKLE){this.actualSpeed=20,this.body.velocity.length()<2&&(this.tackleWait++,this.tackleWait>20&&(this.setState(Cr.IDLE),this.stop()))}else if(this.state===Cr.FALL)this.view.scale.set(.5),this.fallWait++,this.body.velocity.x*=.8,this.body.velocity.y*=.8,this.fallWait>140&&(this.view.scale.set(1),this.setState(Cr.IDLE),this.stop());else if(this.state===Cr.FREEZE)this.view.scale.set(.5),this.body.velocity.x*=.8,this.body.velocity.y*=.8;else if(this.state===Cr.FIRE)this.moveToRandomDir();else if(this.state===Cr.KICK_CHARGE){if(!this.ballSkills.ball)return void this.setState(Cr.IDLE);this.chargeBar.show(),this.view3d.reticle.chargeArrow.visible=!0;var n=Math.atan2(this.shootDirection.y,this.shootDirection.x);n+=this.shootOffsetAngle,this.didModifyShootAngle=!1,this.shootAngle=n+Math.PI/2;var r,i=this.data.power<.25?1.1:.9;if(this.speedBoosted&&(i*=1.5),o.Params.get("debugChargeBar",!1)){this.world.view3d.camera.focusMode=!1,this.shotWait+=.7/10*i,r=this.shotWait/75,r*=r;var a=this.chargeBar.min,s=this.chargeBar.max;this.chargeBar.bar2.tint=r>a&&r<s?16711680:r<a?65280:255}else this.shotWait+=.4*i*t,r=this.shotWait/75,r*=r;this.body.velocity.x*=.8,this.body.velocity.y*=.8,this.chargeBar.setRatio(r),this.ballSkills.ball.chargeEffect.setRatio(r),this.shotWait>75&&this.shootRelease(this.shootTarget)}this.movingTo&&(this.actualSpeed*=1.1),this.body.setMaxSpeed(this.actualSpeed);var u=this.world.view3d.toScreenPosition(this);this.chargeBar.position.x=u.x,this.chargeBar.position.y=u.y+40,this.isTeamA||this.offScreenIcon.update(u);var c=this.world.game.ball;this.touchingBall&&!this.ballSkills.ball&&c.body.velocity.z<15&&c.body.position.z<10&&(this.touchingBall=!1,this.ballSkills.pickupBall(c))},i.addedToWorld=function(){this.world.overlay.addChild(this.chargeBar),this.isTeamA||this.world.overlay.addChild(this.offScreenIcon)},i.removedFromWorld=function(){this.world.overlay.removeChild(this.chargeBar),this.isTeamA||this.world.overlay.removeChild(this.offScreenIcon)},i.chaseDown=function(t){if(this.auto&&this.state!==Cr.TACKLE&&this.state!==Cr.FALL&&this.state!==Cr.FREEZE&&this.state!==Cr.FIRE){this.movingTo=!1,this.alpha=Math.random(),this.movement.follow(t);var e=t.position.x-this.position.x,n=t.position.y-this.position.y,r=Math.sqrt(e*e+n*n);if(0===r&&(r=1e-9),e/=r,n/=r,t.owner&&t.owner!==this&&r<100&&(this.chaseWait+=A.a.game.speed,this.chaseWait>70+this.balanceData.aggressiveness||t.owner.canTackleCount>0&&t.owner.body.velocity.length()<2)){var i=Math.atan2(n,e);this.balanceData.tackleChance<Math.random()&&(i=Math.atan2(this.body.velocity.y,this.body.velocity.x)),this.slideTackle(Math.cos(i),Math.sin(i)),this.chaseWait=-80}}},i.chargeGoal=function(){this.auto&&this.moveInDirection(-1,0)},i.shootBegin=function(t){if(this.ballSkills.ball&&this.ballSkills.ball.active){u.default.playSfx("croudHappy"),this.world.game.active=!1,this.shotWait=0,this.world.game.speed=.01;var e=this.world.game.vignette;e.width=this.world.game.w+500,e.scale.y=e.scale.x,this.shootTarget=t,this.movement.target=null,this.body.acceleration.x=1e-4,this.body.acceleration.y=0;var n=t.position.x-this.position.x,r=t.position.y-this.position.y,i=Math.sqrt(n*n+r*r)||1e-9;n/=i,r/=i,this.shootDirection.x=n,this.shootDirection.y=r,this.shootDirection.visible=!0,this.setState(Cr.KICK_CHARGE),this.shootReleaseTriggered=!1,this.shotBegin.emit()}},i.shootRelease=function(t,e){if(void 0===e&&(e=!1),this.shotEnd.emit(),this.state!==Cr.TACKLE&&!this.shootReleaseTriggered){this.world.game.speed=1,this.passWait=0;var n=15;if(this.ballSkills.ball&&this.ballSkills.ball.active){var r;if(this.setState(Cr.KICK),t)if(this.auto){var i=0;i=this.position.x<t.position.x?0:Math.PI,i+=J.a.random(-.3,.3),(r=Math.random()<this.balanceData.goalScorePercentage)&&u.default.playSfx("big_kick"),this.ballSkills.ball.shoot(Math.cos(i)*n,Math.sin(i)*n,r)}else{this.shootReleaseTriggered=!0,this.world.game.stats.onShoot(this.data.id),u.default.sfxChannel.stop(),this.signals.onBallShot.dispatch();var a=Math.atan2(this.shootDirection.y,this.shootDirection.x);a+=this.shootOffsetAngle,this.ballSkills.ball.remoteBall||(this.shootDirection.x=Math.cos(a),this.shootDirection.y=Math.sin(a));var o=this.shotWait/75;o*=o;var s=this.chargeBar.min,c=this.chargeBar.max;if(r=!1,!e&&o>s&&o<c){var l=this.position.x-this.shootTarget.position.x,h=this.position.y-this.shootTarget.position.y;Math.sqrt(l*l+h*h);this.ballSkills.ball.remoteBall||(r=!0),this.world.game.scripts.shoot.run(this,1),g.c.dispatch(d.a,{type:d.b.SHOT_PERFECTED})}else if(!e&&o<s){this.world.game.scripts.shoot.run(this,0),Math.random()>=.2&&(n/=2),g.c.dispatch(d.a,{type:d.b.SHOT_MISSED})}else this.world.game.scripts.shoot.run(this,2),n/=2,this.fallOver(!0),g.c.dispatch(d.a,{type:d.b.SHOT_MISSED});this.ballSkills.ball.remoteBall&&(this.ballSkills.ball.body.friction=1),(!this.forceSuperShot||this.forceSuperShot&&r)&&(this.shotSuccess.emit(),this.ballSkills.ball.shoot(this.shootDirection.x*n,this.shootDirection.y*n,r))}!this.forceSuperShot||this.forceSuperShot&&r?this.ballSkills.releaseBall():this.forceSuperShot&&!r&&this.ballSkills.ball.chargeEffect.setRatio(0)}}},i.slideTackle=function(t,e){if(!this.overwriteStopWalk){if(u.default.playSfx("slide"),this.setState(Cr.TACKLE),this.chaseWait=-80,this.auto)this.world.game.active=!0,this.world.game.stats.onOpponentTackle();else{if(t=this.body.velocity.x,e=this.body.velocity.y,this.world.game.teamManagerRight.activePlayer&&this.world.game.teamManagerRight.activePlayer.ballSkills.ball){var n=this.world.game.teamManagerRight.activePlayer,r=t-(n.position.x-this.position.x),i=e-(n.position.y-this.position.y),a=this.data.skill;g.d.tutorialCompleted||(a=1),t-=r*a,e-=i*a}var o=Math.sqrt(t*t+e*e)||1e-9;t/=o,e/=o,this.world.game.stats.onTackle()}this.movement.direction.x=t,this.movement.direction.y=e;var s=15;!this.auto&&this.data.skill>=.5&&(s+=5*this.data.skill),this.body.velocity.x=t*s,this.body.velocity.y=e*s,this.body.acceleration.x=0,this.body.acceleration.y=0,this.currentTouchingPlayer&&this.runTackle(this.currentTouchingPlayer)}},i.moveTo=function(t,e){this.overwriteStopWalk||(this.setState(Cr.RUN),this.auto&&this.movement.moveTo(t,e))},i.moveInDirection=function(t,e){this.state===Cr.KICK_CHARGE&&(this.didModifyShootAngle=!0,this.shootOffsetAngle+=.02*(.4*e-this.shootOffsetAngle)),this.overwriteStopWalk||this.movement.moveInDirection(t,e)},i.show=function(){this.setState(Cr.SHOW)},i.hide=function(){this.setState(Cr.HIDE)},i.win=function(){this.setState(Cr.WIN)},i.lose=function(){this.setState(Cr.LOSE)},i.stop=function(){this.overwriteStopWalk||(this.setState(Cr.EMPTY),this.movement.stop())},i.forceStop=function(){this.setState(Cr.STOP),this.movement.stop(),this.view3d.reticle.hide()},i.setBananaHitbox=function(){var t=this.bananaSize;this.body.shape.x=-t/2,this.body.shape.y=-t/2,this.body.shape.width=t,this.body.shape.height=t},i.onCollideBegin=function(t){var e=t.getOtherObject(this);if(this.state!==Cr.FIRE)if("ball"===e.name)t.ignore=!0,e.body.velocity.z<15&&e.body.position.z<20?(this.canTackleCount=-50,this.passWait=-150*Math.random(),this.onBallCollide(e)):this.touchingBall=!0;else if("player"===e.name&&(t.ignore=!0,e.isTeamA!==this.isTeamA))if(this.currentTouchingPlayer=e,e.isShrink){e.freeze(),u.default.playSfx("squash"),e.view3d.scaleContainer.scale.x=.16*.9,e.view3d.scaleContainer.scale.y=.032,e.view3d.scaleContainer.scale.z=.032;for(var n=0;n<e.stars.length;n++)e.stars[n].visible=!0;e.ballSkills.ball&&e.ballSkills.releaseBall()}else if(this.powerup&&this.powerup.bananas){if(this.powerup.bananaCount<=0)return;this.powerup.splatPlayer(e),e.fallOver(),this.world.view3d.camera.shake();var r=Math.ceil(5*Math.random());u.default.playSfx("sfx_banana_0"+r),this.isTeamA||g.c.dispatch(d.a,{type:d.b.ACTION_TRIGGERED_ON_OPPONENT,data:{powerupAction:!0,powerup:"Banana"}})}else this.state===Cr.TACKLE&&(e.ballSkills.ball&&e.ballSkills.ball.onFire?(this.ball.fireBall.setPlayerOnFire(this),this.setState(Cr.FIRE)):this.ball.onSnow&&this.ball.isTeamA!==this.isTeamA?(this.ball.snowBall.snowmanPlayer(this),this.setState(Cr.FREEZE)):this.runTackle(e))},i.runTackle=function(t){this.body.velocity.length()>4&&(this.tackleWait=1e3,t.canBeTackled?(t.ballSkills.ball&&(t.ballSkills.releaseBall(),this.ballSkills.pickupBall(this.world.game.ball),!this.auto&&g.d.tutorialCompleted&&g.c.dispatch(d.a,{type:d.b.BALL_SNATCHED})),t.fallOver(),g.d.tutorialCompleted&&(this.auto?this.world.game.stats.onOpponentTackleSuccess(this.data.id):(this.world.game.stats.onTackleSuccess(this.data.id),g.c.dispatch(d.a,{type:d.b.ACTION_TRIGGERED_ON_OPPONENT,data:{tackle:!0}})))):this.fallOver(),this.world.view3d.camera.shake())},i.onCollideEnd=function(t){var e=t.getOtherObject(this);"ball"===e.name?this.touchingBall=!1:"player"===e.name&&e.isTeamA!==this.isTeamA&&(this.world.game.speed=1,this.currentTouchingPlayer=null)},i.onBallCollide=function(t){if(this.state!==Cr.FALL&&this.state!==Cr.FREEZE&&this.state!==Cr.FIRE)return t.onFire&&t.isTeamA!==this.isTeamA?(t.fireBall.setPlayerOnFire(this),void this.setState(Cr.FIRE)):t.onSnow&&t.isTeamA!==this.isTeamA?(t.snowBall.snowmanPlayer(this),this.setState(Cr.FREEZE),void(this.isTeamA&&g.c.dispatch(d.a,{type:d.b.ACTION_TRIGGERED_ON_OPPONENT,data:{powerupAction:!0,powerup:"Snowball"}}))):void(t.owner||(t.onFire&&t.fireBall.addFireTrail(this),this.ballSkills.pickupBall(t)))},r}(un.a);function Lr(t){return(Lr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Pr(t,e){return(Pr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Dr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Br(t);if(e){var i=Br(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ir(this,n)}}function Ir(t,e){if(e&&("object"===Lr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Br(t){return(Br=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Nr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Pr(t,e)}(a,t);var e,n,r,i=Dr(a);function a(t,e,n,r){var o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var s=new on.a.CrashBody.fromRect(0,0,n,r);s.type=on.a.CrashBody.STATIC;var u=s.getDebugView();return(o=i.call(this,t,e,u,s)).body.position=o.position,o.groups=["Wall"],o}return e=a,(n=[{key:"reset",value:function(){}},{key:"update",value:function(){}}])&&Rr(e.prototype,n),r&&Rr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(un.a),jr=n(449),Fr=n.n(jr),Ur=n(188);function Yr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Gr(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Hr=function(){function t(t){Gr(this,"userStats",void 0),Gr(this,"_tackleTotal",void 0),Gr(this,"_tackleSuccess",void 0),Gr(this,"_shootTotal",void 0),Gr(this,"_goalsScored",void 0),Gr(this,"_goalsConceded",void 0),Gr(this,"_passTotal",void 0),Gr(this,"_passSuccess",void 0),Gr(this,"_opponentTackle",void 0),Gr(this,"_opponentTackleSuccess",void 0),Gr(this,"_possession",void 0),this.reset(),this.userStats=t.get(Ur.a)}var e,n,r,i=t.prototype;return i.reset=function(){this._tackleTotal=0,this._tackleSuccess=0,this._shootTotal=0,this._goalsScored=0,this._goalsConceded=0,this._passTotal=0,this._passSuccess=0,this._opponentTackle=0,this._opponentTackleSuccess=0,this._possession=0},i.onTackle=function(){this._tackleTotal++,this.userStats.incrementValue(l.d.TOTAL_TACKLES,1)},i.onTackleSuccess=function(t){this._tackleSuccess++,this.userStats.incrementValue(l.d.TOTAL_SUCCESSFUL_TACKLES,1),this.userStats.incrementCharacterDataValue(t,l.d.TOTAL_SUCCESSFUL_TACKLES,1)},i.onShoot=function(t){this._shootTotal++,this.userStats.incrementValue(l.d.TOTAL_SHOTS,1),this.userStats.incrementCharacterDataValue(t,l.d.TOTAL_SHOTS,1)},i.onGoalScored=function(t){this._goalsScored++,this.userStats.incrementValue(l.d.TOTAL_GOALS_SCORED,1),this.userStats.incrementCharacterDataValue(t,l.d.TOTAL_GOALS_SCORED,1)},i.onGoalConceded=function(t){this._goalsConceded++,this.userStats.incrementValue(l.d.TOTAL_GOALS_CONCEDED,1)},i.onPass=function(){this._passTotal++,this.userStats.incrementValue(l.d.TOTAL_PASSES,1)},i.onPassSuccess=function(t){this._passSuccess++,this.userStats.incrementValue(l.d.TOTAL_SUCCESSFUL_PASSES,1),this.userStats.incrementCharacterDataValue(t,l.d.TOTAL_SUCCESSFUL_PASSES,1)},i.onOpponentTackle=function(){this._opponentTackle++,this.userStats.incrementValue(l.d.TOTAL_OPPONENT_TACKLES,1)},i.onOpponentTackleSuccess=function(t){this._opponentTackleSuccess++,this.userStats.incrementValue(l.d.TOTAL_SUCCESSFUL_OPPONENT_TACKLES,1)},i.incrementPossession=function(t){this._possession+=t,this.userStats.incrementValue(l.d.TOTAL_POSSESSION,t)},e=t,(n=[{key:"tackleTotal",get:function(){return this._tackleTotal}},{key:"tackleSuccess",get:function(){return this._tackleSuccess}},{key:"shootTotal",get:function(){return this._shootTotal}},{key:"goalsScored",get:function(){return this._goalsScored}},{key:"goalsConceded",get:function(){return this._goalsConceded}},{key:"passTotal",get:function(){return this._passTotal}},{key:"passSuccess",get:function(){return this._passSuccess}},{key:"opponentTackle",get:function(){return this._opponentTackle}},{key:"opponentTackleSuccess",get:function(){return this._opponentTackleSuccess}},{key:"possession",get:function(){return this._possession}}])&&Yr(e.prototype,n),r&&Yr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function zr(t){return(zr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vr(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Wr(t,e){return(Wr=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xr(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=qr(t);if(e){var i=qr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Kr(this,n)}}function Kr(t,e){if(e&&("object"===zr(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function qr(t){return(qr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Zr=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Wr(t,e)}(a,t);var e,n,r,i=Xr(a);function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var e=new m.Container,n=new on.a.CrashBody.fromRect(-20,-20,40,40);(t=i.call(this,0,0,e,n)).type=4,t.timer=0,t.tick=100*Math.random(),t.onDead=new Bt.a,t.onPickedup=new Bt.a,n.position=t.position,t.height=300;var r=$e.LegacyUtils.getMesh("pickup-box.png");return t.view3d=r,r.scale.x=r.scale.y=r.scale.z=.2,r.rotation.x=window.test-Math.PI,t.powerup=null,t.groups=["pickup"],t.shadow=$e.LegacyUtils.getMesh("assets/base-game/fx/misc/game-ball-shadow.png",.5,.5),t.shadow.position.z=10,r.material.depthTest=!1,t.shadow.scale.x=t.shadow.scale.y=t.shadow.scale.z=.1,t.shadow.position.z=-6,t.pickupEffect=m.Sprite.from("pickup_00000.png"),t.pickupEffect.anchor.set(.5),t.pickupEffect.blendMode=m.BLEND_MODES.ADD,t.pickupFrames=$e.LegacyUtils.getTexturesFromFramesWithPrefix("pickup_000%%.png",6),t.frameTick=0,t.pickedUp=!1,t}return e=a,(n=[{key:"setType",value:function(t){this.powerup&&this.view.removeChild(this.powerup.icon),this.powerup=t,this.view3d.position.x=this.position.x,this.view3d.position.y=this.position.y}},{key:"addedToWorld",value:function(){this.world.view3d.scene.add(this.shadow),this.world.overlay.addChild(this.pickupEffect)}},{key:"removedFromWorld",value:function(){this.world.view3d.scene.remove(this.shadow),this.world.overlay.removeChild(this.pickupEffect)}},{key:"reset",value:function(t){this.view3d.visible=!0,this.height=300,this.powerup=t,this.landed=!1,this.view3d.position.z=300,this.canCollide=!0,this.pickupEffect.visible=!1,this.shadow.visible=!0,this.pickedUp=!1,null!=t&&t.customIcon?($e.LegacyUtils.setUvs(this.view3d,m.Texture.from(t.customIcon),.5,.85),this.view3d.scale.x=this.view3d.scale.y=this.view3d.scale.z=.2):($e.LegacyUtils.setUvs(this.view3d,m.Texture.from("pickup-box.png"),.5,.85),this.view3d.scale.x=this.view3d.scale.y=this.view3d.scale.z=.2),this.shadow.scale.x=this.shadow.scale.y=this.shadow.scale.z=0,Object(o.tween)(this.view3d.position,1.5,{z:2,ease:"Bounce.easeOut"}),Object(o.tween)(this.shadow.scale,1.5,{x:.32,y:.32,z:.32,ease:"Bounce.easeOut"})}},{key:"update",value:function(t){if(this.timer+=t,this.timer>=1e4&&this.destroy(),this.view3d.position.x=this.position.x,this.view3d.position.y=this.position.y,this.shadow.position.x=this.view3d.position.x,this.shadow.position.y=this.view3d.position.y-5,this.view3d.rotation.x=window.test-Math.PI,this.tick+=.1*t,this.view3d.rotation.z=.1*Math.sin(1.6*this.tick),this.view3d.scale.x=.2+.01*Math.sin(this.tick),this.view3d.scale.y=.2+.01*Math.cos(this.tick),this.pickedUp){var e=this.world.view3d.toScreenPosition(this);if(this.pickupEffect.position.x=e.x,this.pickupEffect.position.y=e.y,this.frameTick>this.pickupFrames.length||this.powerup.noAnimation)this.destroy();else{var n=this.pickupFrames[0|Math.round(this.frameTick)];this.pickupEffect.texture=n,this.frameTick+=.4*t}}}},{key:"activate",value:function(){this.onPickedup.dispatch(this)}},{key:"onCollideBegin",value:function(t){var e=t.getOtherObject(this);if(t.ignore=!0,"player"===e.name){if(this.powerup.onlyPlayer&&e.isTeamA)return;if(this.powerup.onlyPlayer&&!e.isTeamA&&this.world.game.teamManagerLeft.activePlayer!==e)return;if(!e.isTeamA&&this.world.game.teamManagerLeft.activePlayer!==e)return;if(e.isTeamA&&this.world.game.teamManagerRight.activePlayer!==e)return;if(e.isTeamA&&!e.ballSkills.ball)return;var n=this.world.view3d.toScreenPosition(this);u.default.playSfx("croudHappy");var r=n.x,i=n.y-50,a=!1;(r<30||r>1106||i<30||i>715)&&(a=!0),a||(this.pickedUp=!0,this.canCollide=!1,this.view3d.visible=!1,this.shadow.visible=!1,this.frameTick=0,this.pickupEffect.visible=!0,e.setPowerUp(this.powerup),e.isTeamA||this.world.game.teamManagerLeft.activePlayer!==e||this.powerup.noMessage||this.world.game.hud.message.show("POWERUP",{name:this.powerup.displayName}))}}}])&&Vr(e.prototype,n),r&&Vr(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(un.a),Jr=n(185),Qr=n.n(Jr);function $r(t){return($r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function ti(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ei(t,e){return(ei=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ni(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ai(t);if(e){var i=ai(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ri(this,n)}}function ri(t,e){if(e&&("object"===$r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ii(t)}function ii(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ai(t){return(ai=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var oi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ei(t,e)}(a,t);var e,n,r,i=ni(a);function a(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).view3d=new Q.Object3D,t.view3d.position.y=-40,t.view3d.rotation.x=window.test-Math.PI,t.bananaSplatAnim=new m.AnimatedSprite($e.LegacyUtils.getTexturesFromFrames(["banana_splat_01.png","banana_splat_02.png","banana_splat_03.png","banana_splat_04.png","banana_splat_05.png"])),t.bananaSplatAnim.animationSpeed=.15,t.bananaSplatAnim.loop=!1,t.bananaSplatAnim.onComplete=function(){this.bananaSplatAnimMesh.visible=!1}.bind(ii(t)),t.bananaFlyingAnim=new m.AnimatedSprite($e.LegacyUtils.getTexturesFromFrames(["banana_peel_01.png","banana_peel_02.png","banana_peel_03.png","banana_peel_04.png","banana_peel_01.png","banana_peel_02.png","banana_peel_03.png","banana_peel_04.png","banana_peel_01.png","banana_peel_02.png","banana_peel_03.png","banana_peel_04.png","banana_peel_01.png","banana_peel_02.png","banana_peel_03.png","banana_peel_04.png"])),t.bananaFlyingAnim.animationSpeed=.4,t.bananaFlyingAnim.loop=!1,t.bananaFlyingAnim.onComplete=function(){this.bananaFlyingAnimMesh.visible=!1}.bind(ii(t)),t.bananaPuddle=$e.LegacyUtils.getMesh("banana_splat.png",0,0),t.bananaPuddle.position.y=-140,t.bananaPuddle.position.x=8,t.bananaPuddle.position.z=160,t.bananaPuddle.rotation.x=40,t.view3d.add(t.bananaPuddle),t.target=null,t.vfxContainer=new Q.Object3D,t.vfxContainer.position.x=160,t.vfxContainer.position.y=135,t.vfxContainer.position.z=-180,t.view3d.add(t.vfxContainer),t.bananaSplatAnimMesh=new $e.LegacyUtils.getMesh,t.bananaSplatAnimMesh.visible=!1,t.bananaFlyingAnimMesh=new $e.LegacyUtils.getMesh,t.bananaFlyingAnimMesh.visible=!1,t.vfxContainer.add(t.bananaSplatAnimMesh),t.vfxContainer.add(t.bananaFlyingAnimMesh),t.originalPositionX=t.bananaFlyingAnimMesh.position.x,t.originalPositionY=t.bananaFlyingAnimMesh.position.y,t.view3d.scale.x=t.view3d.scale.y=t.view3d.scale.z=.25,t}return e=a,(n=[{key:"reset",value:function(t){var e=this;this.target=t,this.target.bananaPowerup=this.banana,this.view3d.position.x=0,this.bananaSplatAnim.gotoAndPlay(0),this.bananaFlyingAnim.gotoAndPlay(0),$e.LegacyUtils.setUvs(this.bananaSplatAnimMesh,this.bananaSplatAnim.texture),$e.LegacyUtils.setUvs(this.bananaFlyingAnimMesh,this.bananaFlyingAnim.texture),this.bananaSplatAnimMesh.visible=!0,this.bananaFlyingAnimMesh.visible=!0,f.c.killTweensOf(this.bananaFlyingAnimMesh.rotation),f.c.killTweensOf(this.bananaFlyingAnimMesh.material),f.c.killTweensOf(this.bananaFlyingAnimMesh.position),f.c.killTweensOf(this.bananaFlyingAnimMesh.scale),f.c.killTweensOf(this.bananaPuddle.scale),f.c.killTweensOf(this.bananaPuddle.material),this.bananaFlyingAnimMesh.rotation.z=0,this.bananaFlyingAnimMesh.material.opacity=1,this.bananaFlyingAnimMesh.scale.x=.6,this.bananaFlyingAnimMesh.scale.y=.6,this.bananaPuddle.scale.x=this.bananaPuddle.scale.y=this.bananaPuddle.scale.z=0,this.bananaPuddle.material.opacity=1;var n=1e3*Math.random()*(Math.random()>.5?-1:1),r=-200*Math.random()-700;Object(o.tween)(this.bananaFlyingAnimMesh.rotation,1.5,{z:4*Math.PI,ease:"Quad.easeOut"}),Object(o.tween)(this.bananaFlyingAnimMesh.material,2,{opacity:0}),Object(o.tween)(this.bananaFlyingAnimMesh.position,1.5,{x:n,ease:"Quad.easeOut"}),Object(o.tween)(this.bananaFlyingAnimMesh.position,1.5,{y:r,ease:"back.out(2.5)"}),Object(o.tween)(this.bananaFlyingAnimMesh.scale,1.5,{x:6,y:6,ease:"Quad.easeOut"}),Object(o.tween)(this.bananaPuddle.scale,.6,{x:1.8,y:1.8,z:1.8,ease:"Quad.easeOut"}),Object(o.tween)(this.bananaPuddle.material,.6,{opacity:0,ease:"Quad.easeOut",delay:1,onComplete:function(){e.remove(),e.banana.bananaCount<=0&&e.banana.stop()}})}},{key:"remove",value:function(){this.target.bananaPowerup=null,this.target.view3d.remove(this.view3d),Qr.a.wait(this.returnToPool)}},{key:"complete",value:function(){this.target.reset(!0)}},{key:"update",value:function(){$e.LegacyUtils.setUvs(this.bananaSplatAnimMesh,this.bananaSplatAnim.texture),$e.LegacyUtils.setUvs(this.bananaFlyingAnimMesh,this.bananaFlyingAnim.texture),this.view3d.rotation.x=window.test-Math.PI}}])&&ti(e.prototype,n),r&&ti(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(un.a);function si(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var ui=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id="Banana",this.item=null,this.timer=new C.a(10,A.a.game),this.timer.onComplete.add(this.stop,this),this.tick=0,this.bananas=[],this.bananaSplats=[],this.bananaCount=0;this.bananaAnimTextures=$e.LegacyUtils.getTexturesFromFrames(["banana_peel_01.png","banana_peel_02.png","banana_peel_03.png","banana_peel_04.png"]);for(var e=0;e<3;e++){var n=new Q.Object3D;n.position.x=0,n.position.y=0,n.position.z=0,n.rotation.x=window.test-Math.PI,n.scale.x=n.scale.y=n.scale.z=.11,n.tick=2*Math.PI/3*e;var r=$e.LegacyUtils.getMesh("banana_peel_shadow.png",.5,.5);r.material.opacity=.5,r.geometry.translate(0,0,20),n.add(r);var i=$e.LegacyUtils.getMesh("banana_peel_01.png",.5,.5);n.add(i),n.anim=i,this.bananas.push(n)}this.bananaCount=3}var e,n,r;return e=t,(n=[{key:"reset",value:function(t){this.item=t,this.item.canBeTackled=!1,this.item.setBananaHitbox(),this.dead=!1,this.timer.start();for(var e=0;e<this.bananas.length;e++)t.view3d.add(this.bananas[e]);this.bananaCount=this.bananas.length}},{key:"update",value:function(){this.tick+=.2;for(var t=0;t<this.bananas.length;t++){var e=this.bananas[t];e.tick+=.06,e.position.x=35*Math.sin(e.tick),e.position.y=35*Math.cos(e.tick),$e.LegacyUtils.setUvs(e.anim,this.bananaAnimTextures[this.tick%this.bananaAnimTextures.length|0],.5,.5)}for(t=0;t<this.bananaSplats.length;t++)this.bananaSplats[t].update()}},{key:"stop",value:function(){if(this.dead=!0,!(this.bananaCount<=0)){for(var t=0;t<this.bananaCount;t++)this.item.view3d.remove(this.bananas[t]);this.item.canBeTackled=!0}}},{key:"splatPlayer",value:function(t){this.item.view3d.remove(this.bananas[this.bananaCount-1]),this.bananaCount--,this.bananaCount<=0&&(this.item.canBeTackled=!0);var e=Pt.a.get(oi);e.banana=this,e.reset(t),t.view3d.add(e.view3d),this.bananaSplats.push(e)}}])&&si(e.prototype,n),r&&si(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ci(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}ui.id="Banana",ui.displayName="STR_POWERUP_BANANA";var li=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.item=null}var e,n,r;return e=t,(n=[{key:"reset",value:function(t){var e=g.d.world.view3d.toScreenPosition(t);g.d.animateCoin(e,15)}},{key:"update",value:function(){}},{key:"stop",value:function(){}}])&&ci(e.prototype,n),r&&ci(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function hi(t){return(hi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function di(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function fi(t,e,n){return e&&pi(t.prototype,e),n&&pi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function mi(t,e){return(mi=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=vi(t);if(e){var i=vi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yi(this,n)}}function yi(t,e){if(e&&("object"===hi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function vi(t){return(vi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}li.customIcon="pickup-coin.png",li.noMessage=!0,li.onlyPlayer=!0,li.isCoin=!0,window.iceblocks=[];var bi,_i=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mi(t,e)}(n,t);var e=gi(n);function n(){var t;di(this,n),(t=e.call(this)).view3d=new Q.Object3D,t.view3d.position.y=-40,t.view3d.rotation.x=window.test-Math.PI,t.mistAnim=new m.AnimatedSprite($e.LegacyUtils.getTexturesFromFrames(["ice_mist_01.png","ice_mist_02.png","ice_mist_03.png","ice_mist_04.png","ice_mist_05.png","ice_mist_06.png","ice_mist_07.png","ice_mist_08.png","ice_mist_09.png"])),t.mistAnim.animationSpeed=.2,t.mistAnim.loop=!1,t.mistAnim.onComplete=function(){t.animMesh.visible=!1};var r=$e.LegacyUtils.getMesh("ice_block_top.png",0,0);return r.scale.x=r.scale.z=.5,r.scale.y=.6,r.material.opacity=.8,t.view3d.add(r),r.position.y=-70,t.ice=r,t.life=0,t.target=null,t.mistContainer=new Q.Object3D,t.view3d.add(t.mistContainer),t.animMesh=new $e.LegacyUtils.getMesh,t.mistContainer.add(t.animMesh),t.mistContainer.scale.x=t.mistContainer.scale.y=t.mistContainer.scale.z=.3,t}return fi(n,[{key:"reset",value:function(t){this.target=t,this.target.freezePowerup=this.freeze,this.life=0,this.view3d.position.x=0,window.iceblocks.push(this),window.iceblock=this,this.ice.position.x=0,this.mistAnim.gotoAndStop(0),this.mistAnim.gotoAndPlay(0),$e.LegacyUtils.setUvs(this.animMesh,this.mistAnim.texture),this.animMesh.visible=!0,this.shaking=!1}},{key:"shake",value:function(){this.shaking=!0}},{key:"remove",value:function(){this.target.freezePowerup=null,this.target.view3d.remove(this.view3d),Qr.a.wait(this.returnToPool)}},{key:"update",value:function(){if($e.LegacyUtils.setUvs(this.animMesh,this.mistAnim.texture),this.shaking){this.ice.position.x=2*Math.random()*2-2,this.ice.position.z=2*Math.random()*2-2}this.view3d.rotation.x=window.test-Math.PI}}]),n}(un.a),wi=function(){function t(){di(this,t),this.id="Freeze",this.item=null,this.iceBlocks=[],this.shakeTimer=new C.a(3,A.a.game),this.shakeTimer.onComplete.add(this.shake,this),this.doneTimer=new C.a(2,A.a.game),this.doneTimer.onComplete.add(this.complete,this)}return fi(t,[{key:"reset",value:function(t){this.completed=!1,this.shakeTimer=new C.a(3,A.a.game),this.shakeTimer.onComplete.add(this.shake,this),this.doneTimer=new C.a(2,A.a.game),this.doneTimer.onComplete.add(this.complete,this),this.iceBlocks.length=0,(t.isTeamA?t.world.game.teamLeft:t.world.game.teamRight).run((function(t){if(t.ballSkills.ball){var e=Math.random()*Math.PI*2;t.ballSkills.pass(Math.sin(e),Math.cos(e),5,10)}t.freezePowerup&&t.freezePowerup.stop(),t.freeze();var n=Pt.a.get(_i);n.freeze=this,n.reset(t),t.view3d.add(n.view3d),this.iceBlocks.push(n)}),this),this.shakeTimer.start(),u.default.playSfx("sfx_freeze")}},{key:"shake",value:function(){for(var t=0;t<this.iceBlocks.length;t++){this.iceBlocks[t].shake()}this.doneTimer.start()}},{key:"update",value:function(){for(var t=0;t<this.iceBlocks.length;t++)this.iceBlocks[t].update()}},{key:"stop",value:function(){if(!this.completed){this.completed=!0,this.shakeTimer.stop(),this.doneTimer.stop();for(var t=0;t<this.iceBlocks.length;t++){var e=this.iceBlocks[t];e.remove(),e.target.reset(!0)}}}},{key:"complete",value:function(){if(!this.completed){this.completed=!0;for(var t=0;t<this.iceBlocks.length;t++){var e=this.iceBlocks[t];e.remove(),e.target.reset()}}}}]),t}();function xi(t){return(xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Si(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ti(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Mi(t,e,n){return e&&Ti(t.prototype,e),n&&Ti(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ei(t,e){return(Ei=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ai(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ci(t);if(e){var i=Ci(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ki(this,n)}}function ki(t,e){if(e&&("object"===xi(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ci(t){return(Ci=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}wi.id="Freeze",wi.displayName="STR_POWERUP_FREEZE";var Oi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ei(t,e)}(n,t);var e=Ai(n);function n(){var t;Si(this,n),(t=e.call(this)).view3d=new Q.Object3D;var r=$e.LegacyUtils.getMesh("lightning_03.png",.5,0);return t.view3d.scale.x=t.view3d.scale.y=t.view3d.scale.z=.22,t.light=r,r.material.blending=Q.AdditiveBlending,t.view3d.add(r),t.view3d.rotation.x=-Math.PI/2,t.tick=0,bi||(bi=$e.LegacyUtils.getTexturesFromFrames(["lightning_01.png","lightning_02.png","lightning_03.png","lightning_04.png"])),t.life=0,t.target=null,t}return Mi(n,[{key:"reset",value:function(t){this.target=t,this.life=0,this.position.x=t.position.x,this.position.y=t.position.y+30}},{key:"update",value:function(){this.view3d.position.x=this.position.x,this.view3d.position.y=this.position.y,this.tick+=.5,$e.LegacyUtils.setUvs(this.light,bi[this.tick%bi.length|0],.5,0),this.target.view3d.rotation.y=J.a.random(-.3,.3),this.life++,this.life>100&&(this.destroy(),this.target.view3d.rotation.y=0)}}]),n}(un.a),Li=function(){function t(){Si(this,t),this.id="Lightning",this.item=null,this.timer=new C.a(10,A.a.game),this.timer.onComplete.add(this.stop,this),this.dead=!1}return Mi(t,[{key:"reset",value:function(t){var e=t.isTeamA?t.world.game.teamLeft:t.world.game.teamRight;g.a.flash(),e.run((function(t){if(t.ballSkills.ball){var e=Math.random()*Math.PI*2;t.ballSkills.pass(Math.sin(e),Math.cos(e),5,10)}t.fallOver(),t.fallWait=-30;var n=Pt.a.get(Oi);n.reset(t),t.world.add(n)}),this),u.default.playSfx("electro_cute")}},{key:"update",value:function(){}},{key:"stop",value:function(){}}]),t}();function Ri(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Li.id="Lightning",Li.displayName="STR_POWERUP_LIGHTNING";var Pi=null,Di=function(){function t(){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id="Shield",this.item=null,this.timer=new C.a(8,A.a.game),this.timer.onComplete.add(this.stop,this),!Pi){Pi=[];for(var e=0;e<40;e++){var n=e;n<10&&(n="0".concat(n));var r=m.Texture.from("assets/base-game/fx/powerups/raw/shield_".concat(n,".png")),i=new Q.Texture;i.image=r.baseTexture.resource.source,i.needsUpdate=!0,Pi.push(i)}}var a=new Q.SphereGeometry(8,32,32),o=Pi[0],s=new Q.MeshBasicMaterial({map:o});s.side=Q.DoubleSide,s.blending=Q.AdditiveBlending,s.transparent=!0,s.alphaTest=.25;var u=new Q.Mesh(a,s);this.shieldView=new Q.Object3D,this.ball=u,this.count=0,this.dead=!1;var c=m.Texture.from("assets/base-game/fx/powerups/raw/shield_bubble.png"),l=new Q.Texture;l.image=c.baseTexture.resource.source,l.needsUpdate=!0,(s=new Q.MeshBasicMaterial({map:l})).side=Q.DoubleSide,s.blending=Q.AdditiveBlending,s.transparent=!0,s.depthTest=!1,s.opacity=.5,a=new Q.PlaneGeometry(24,24);var h=new Q.Mesh(a,s);h.rotation.x=window.test-Math.PI,this.outline=h,this.shieldView.add(u),this.shieldView.add(this.outline)}var e,n,r;return e=t,(n=[{key:"reset",value:function(t){var e;switch(this.item=t,this.dead=!1,this.timer.start(),this.item.canBeTackled=!1,this.item.view3d.add(this.shieldView),this.item.data.size){case Un.b.SMALL:this.shieldView.position.y=40,e=5;break;case Un.b.STANDARD:this.shieldView.position.y=50,e=6;break;case Un.b.LARGE:this.shieldView.position.y=60,e=8}this.shieldView.scale.x=this.shieldView.scale.y=this.shieldView.scale.z=e}},{key:"update",value:function(){this.ball.rotation.y+=.02,this.ball.rotation.x+=.02,this.count+=1,this.ball.material.map=Pi[(0|this.count)%Pi.length],this.ball.material.opacity=.2+.5*(Math.sin(.1*this.count)+1)*.6,this.ball.material.needsUpdate=!0}},{key:"stop",value:function(t){this.item.canBeTackled=!0,this.dead=!0,this.item.view3d.remove(this.shieldView)}}])&&Ri(e.prototype,n),r&&Ri(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ii(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Di.id="Shield",Di.displayName="STR_POWERUP_SHIELD";var Bi=ot.Const.PLAYER_STATE,Ni=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id="Shrinkatron",this.item=null,this.timer=new C.a(5,A.a.game),this.timer.onComplete.add(this.stop,this),this.stars=[],this.starsPerPlayer=3,this.count=0}var e,n,r;return e=t,(n=[{key:"reset",value:function(t){this.item=t,this.dead=!1,this.timer.start(),(t.isTeamA?t.world.game.teamLeft:t.world.game.teamRight).run((function(t){t.isShrink=!0,t.originalScale=t.view3d.scaleContainer.scale.x,t.view3d.scaleContainer.scale.x=t.view3d.scaleContainer.scale.y=t.view3d.scaleContainer.scale.z=.08,t.stars=[];for(var e=0;e<this.starsPerPlayer;e++){var n=$e.LegacyUtils.getMesh("dizzy_star.png",.5,.5);n.visible=!1,n.scale.x=n.scale.y=n.scale.z=.05,n.position.z=10,t.view3d.add(n),t.stars.push(n),this.stars.push(n)}if(t.ballSkills.ball){var r=Math.random()*Math.PI*2;t.ballSkills.pass(Math.sin(r),Math.cos(r),5,10)}}),this),(t.isTeamA?t.world.game.teamRight:t.world.game.teamLeft).run((function(t){t.canBeTackled=!1}),this),u.default.playSfx("sfx_shrink")}},{key:"update",value:function(){this.count+=.1;for(var t=0;t<this.stars.length;t++){var e=this.stars[t];if(e.visible){var n=2*Math.PI/this.starsPerPlayer;e.rotation.x=window.test-Math.PI,e.rotation.y+=.1,e.position.x=15*Math.sin(this.count+n*t),e.position.y=10*Math.cos(this.count+n*t)+25}}}},{key:"stop",value:function(){this.dead||(this.dead=!0,(this.item.isTeamA?this.item.world.game.teamLeft:this.item.world.game.teamRight).run((function(t){for(var e=0;e<t.stars.length;e++)t.view3d.remove(t.stars[e]);t.isShrink=!1,t.view3d.reticle.show(),t.view3d.scaleContainer.scale.x=t.view3d.scaleContainer.scale.y=t.view3d.scaleContainer.scale.z=t.originalScale,t.state===Bi.FREEZE&&t.setState(Bi.IDLE)}),this),(this.item.isTeamA?this.item.world.game.teamRight:this.item.world.game.teamLeft).run((function(t){t.canBeTackled=!0}),this))}}])&&Ii(e.prototype,n),r&&Ii(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ji(t){return(ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Fi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Ui(t,e){return(Ui=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Yi(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=zi(t);if(e){var i=zi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Gi(this,n)}}function Gi(t,e){if(e&&("object"===ji(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Hi(t)}function Hi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zi(t){return(zi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Ni.id="Shrinkatron",Ni.displayName="STR_POWERUP_SHRINKATRON";var Vi=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ui(t,e)}(a,t);var e,n,r,i=Yi(a);function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).view3d=new Q.Object3D,t.view3d.position.y=-40,t.view3d.rotation.x=window.test-Math.PI,t.mistAnim=new m.AnimatedSprite($e.LegacyUtils.getTexturesFromFrames(["ice_mist_01.png","ice_mist_02.png","ice_mist_03.png","ice_mist_04.png","ice_mist_05.png","ice_mist_06.png","ice_mist_07.png","ice_mist_08.png","ice_mist_09.png"])),t.mistAnim.animationSpeed=.2,t.mistAnim.loop=!1,t.mistAnim.onComplete=function(){t.mistAnimMesh.visible=!1,t.isEnding&&t.remove()},t.powderAnim=new m.AnimatedSprite($e.LegacyUtils.getTexturesFromFrames(["smoke_01.png","smoke_02.png","smoke_03.png","smoke_04.png","smoke_05.png","smoke_06.png","smoke_07.png","smoke_08.png","smoke_09.png","smoke_10.png","smoke_11.png","smoke_12.png","smoke_13.png","smoke_14.png","smoke_15.png","smoke_16.png"])),t.powderAnim.animationSpeed=.25,t.powderAnim.loop=!1,t.powderAnim.onComplete=function(){t.powderAnimMesh.visible=!1,t.isEnding&&t.remove()};var e=$e.LegacyUtils.getMesh("banana_peel_shadow.png",0,0),n=$e.LegacyUtils.getMesh("snowman_01.png",0,0),r=$e.LegacyUtils.getMesh("snowman_02.png",0,0),o=$e.LegacyUtils.getMesh("snowman_03.png",0,0);return t.snowmanContainer=new Q.Object3D,t.snowmanContainer.add(e),t.snowmanContainer.add(n),t.snowmanContainer.add(r),t.snowmanContainer.add(o),t.view3d.add(t.snowmanContainer),e.position.y=-25,e.position.x=8,e.position.z=-10,e.material.opacity=.4,n.position.y=-150,n.position.x=0,n.position.z=-11,r.position.y=-265,r.position.x=0,r.position.z=-12,o.position.y=-353,o.position.x=-45,o.position.z=-13,t.target=null,t.isEnding=!1,t.vfxContainer=new Q.Object3D,t.vfxContainer.position.x=160,t.vfxContainer.position.y=135,t.vfxContainer.position.z=-180,t.view3d.add(t.vfxContainer),t.view3d.scale.x=t.view3d.scale.y=t.view3d.scale.z=.2,t.mistAnimMesh=new $e.LegacyUtils.getMesh,t.mistAnimMesh.visible=!1,t.powderAnimMesh=new $e.LegacyUtils.getMesh,t.vfxContainer.add(t.mistAnimMesh),t.vfxContainer.add(t.powderAnimMesh),t.shakeTimer=new C.a(2,A.a.game),t.shakeTimer.onComplete.add(t.shake,Hi(t)),t.shakingTimer=new C.a(1.5,A.a.game),t.shakingTimer.onComplete.add(t.complete,Hi(t)),t}return e=a,(n=[{key:"reset",value:function(t){this.target=t,this.target.snowballPowerup=this.snowball,this.target.hidePlayerView(),this.snowmanContainer.visible=!0,this.view3d.position.x=0,this.powderAnim.gotoAndPlay(0),$e.LegacyUtils.setUvs(this.mistAnimMesh,this.mistAnim.texture),$e.LegacyUtils.setUvs(this.powderAnimMesh,this.powderAnim.texture),this.powderAnimMesh.visible=!0,this.shaking=!1,this.isEnding=!1,this.shakeTimer.start(),u.default.playSfx("sfx_snowball")}},{key:"stop",value:function(){this.target.showPlayerView(),this.snowmanContainer.visible=!1,this.shakeTimer.stop(),this.shakingTimer.stop()}},{key:"remove",value:function(){this.target.snowballPowerup=null,this.target.view3d.remove(this.view3d),Qr.a.wait(this.returnToPool)}},{key:"shake",value:function(){this.shaking=!0,this.shakingTimer.start()}},{key:"complete",value:function(){this.target.showPlayerView(),this.snowmanContainer.visible=!1,this.isEnding=!0,this.powderAnim.gotoAndPlay(0),this.powderAnimMesh.visible=!0,this.target.reset(!0),u.default.playSfx("tackle_hit_deck")}},{key:"update",value:function(){$e.LegacyUtils.setUvs(this.mistAnimMesh,this.mistAnim.texture),$e.LegacyUtils.setUvs(this.powderAnimMesh,this.powderAnim.texture),this.shaking&&(this.snowmanContainer.position.x=10*Math.random()*2-10,this.snowmanContainer.position.z=10*Math.random()*2-10),this.view3d.rotation.x=window.test-Math.PI}}])&&Fi(e.prototype,n),r&&Fi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(un.a);function Wi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Xi=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id="Snowball",this.item=null,this.snowmans=[],this.timer=new C.a(6,A.a.game),this.timer.onComplete.add(this.stop,this)}var e,n,r;return e=t,(n=[{key:"reset",value:function(t){var e=this;this.item=t,(t.isTeamA?t.world.game.teamLeft:t.world.game.teamRight).run((function(t){if(t.snowballPowerup&&t.snowballPowerup.stop(),t.ballSkills.ball){var n=Math.random()*Math.PI*2;t.ballSkills.pass(Math.sin(n),Math.cos(n),5,10),e.snowmanPlayer(t)}}));var n=this.item.world.game.ball;n.isTeamA=t.isTeamA,n.onSnow=!0,n.snowBall=this,n.swapBall("snow"),this.timer.start()}},{key:"snowmanPlayer",value:function(t){t.freeze();var e=Pt.a.get(Vi);e.snowball=this,e.reset(t),t.view3d.add(e.view3d),this.snowmans.push(e)}},{key:"update",value:function(){for(var t=0;t<this.snowmans.length;t++)this.snowmans[t].update()}},{key:"stopSnowman",value:function(){for(var t=0;t<this.snowmans.length;t++)this.snowmans[t].stop()}},{key:"stop",value:function(){var t=this.item.world.game.ball;t.onSnow=!1,t.swapBall("base")}}])&&Wi(e.prototype,n),r&&Wi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ki(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Xi.id="Snowball",Xi.displayName="STR_POWERUP_SNOWBALL";var qi=["attribute float alpha;","attribute float random;","uniform float tick;","uniform float power;","varying float valpha;","void main() {","    vec3 pos = position;","    pos.z = alpha * 250.0 * mix(0.5, 1.0, random);","    float scaleOff = mix(0.5, 1.0, random);","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","    valpha = 1.0-(alpha * 3.0);","    gl_PointSize = (40.0 + (103.0 * (alpha * 3.0) ) )* 2.0 * scaleOff;","    gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),Zi=["uniform vec3 ucolor;","uniform sampler2D circle;","varying float valpha;","void main() {","    vec4 color = texture2D(circle, gl_PointCoord);","    gl_FragColor = vec4(color.rgb, color.a * valpha * 0.5);","}"].join("\n"),Ji=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.ratio=0,this.totalDust=20;var e=[];this.count=0,this.targetCount=0;for(var n=0;n<this.totalDust;n++)e.push(140*Math.random(),0,0);var r=new Float32Array(e),i=new Q.BufferGeometry;i.addAttribute("position",new Q.BufferAttribute(r,3));for(var a=new Float32Array(i.attributes.position.count),o=0;o<a.length;o++)a[o]=0;for(var s=new Float32Array(i.attributes.position.count),u=0;u<s.length;u++)s[u]=Math.random();i.addAttribute("alpha",new Q.BufferAttribute(a,1)),i.addAttribute("random",new Q.BufferAttribute(s,1)),this.geometry=i;var c=$e.LegacyUtils.getTexture("assets/base-game/fx/particles/smoke-mixed.png"),l={ucolor:{type:"c",value:new Q.Color(0)},tick:{type:"f",value:0},power:{type:"f",value:0},circle:{type:"t",value:c}},h=new Q.ShaderMaterial({uniforms:l,vertexShader:qi,fragmentShader:Zi,transparent:!0,depthTest:!1}),d=new Q.Points(i,h);d.frustumCulled=!1,this.cloud=d,this.ratio=99,this.tick=0}var e,n,r;return e=t,(n=[{key:"update",value:function(t){var e=this.cloud.geometry.getAttribute("position"),n=this.cloud.geometry.getAttribute("alpha"),r=e.array,i=n.array;this.count+=.5,this.count%=this.totalDust,this.targetCount;var a=t.body.velocity.length();if(!(this.count%1)&&a>3){var o=t.position.x;t.body.velocity.x>0?o-=20:o+=20,r[3*this.count]=o+10*(Math.random()-.5),r[3*this.count+1]=t.position.y,i[this.count]=0}for(var s=0;s<this.totalDust;s++)i[s]+=.01;e.needsUpdate=!0,n.needsUpdate=!0}}])&&Ki(e.prototype,n),r&&Ki(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Qi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var $i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id="SpeedBoost",this.item=null,this.timer=new C.a(10,A.a.game),this.timer.onComplete.add(this.stop,this),this.trailEffect=new Ji,this.dead=!1}var e,n,r;return e=t,(n=[{key:"reset",value:function(t){this.trailEffect.item=t,this.item=t,this.dead=!1,this.timer.start(),this.item.speedBoosted=!0,this.item.body.setMaxSpeed(4),t.world.view3d.scene.add(this.trailEffect.cloud)}},{key:"update",value:function(){this.trailEffect.update(this.item)}},{key:"stop",value:function(){this.item.speedBoosted=!1,this.dead=!0,this.item.body.setMaxSpeed(3),this.item.world.view3d.scene.remove(this.trailEffect.cloud)}}])&&Qi(e.prototype,n),r&&Qi(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function ta(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}$i.id="SpeedBoost",$i.displayName="STR_POWERUP_SPEEDBOOST";var ea=function(){function t(e){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.forcePromotePowerups=[],this.count=0,this.pool=new Pt.a(Zr),this.activePowerups=[],this.maxPowerups=4,this.powerups=[{class:$i,weight:1},{class:Di,weight:1},{class:Li,weight:1},{class:wi,weight:1},{class:Ni,weight:1},{class:Xi,weight:1},{class:ui,weight:1}];var r=o.Params.get("powerup",!1);"SpeedBoost"===r&&(this.debug=$i),"Lightning"===r&&(this.debug=Li),"Freeze"===r&&(this.debug=wi),"Shrinkatron"===r&&(this.debug=Ni),"Shield"===r&&(this.debug=Di),"Snowball"===r&&(this.debug=Xi),"Banana"===r&&(this.debug=ui),this.paused=!1,this.firstRun=!0,this.firstRunCount=0,this.powerupTime=10,this.powerupStates={},this.world=null,un.a.call(this,400,50,null,null),this.powerups.forEach((function(t){-1===a.a.encounteredPowerup.indexOf(t.class.id)&&n.forcePromotePowerups.push(t.class)}))}var e,n,r;return e=t,(n=[{key:"pause",value:function(){this.paused=!0}},{key:"resume",value:function(){this.paused=!1}},{key:"clear",value:function(){this.powerupTime=o.Params.get("powerupDebug",c.a.debug.rapidPowerups)?2:10,this.count=0;var t=this.world.groups.pickup;t&&t.run((function(t){t.destroy()}))}},{key:"update",value:function(t){if(!this.paused&&this.game.active&&this.game.tutorialCompleted&&this.game.timer.isOn&&(this.count+=t/60,this.count>=this.powerupTime)){var e=this.world.groups.pickup;e?e.children.length<this.maxPowerups&&0===this.activePowerups.length&&this.addPickup():this.addPickup()}}},{key:"encounterPowerup",value:function(t){-1===a.a.encounteredPowerup.indexOf(t.id)&&a.a.encounteredPowerup.push(t.id),g.b.saveData("encounteredPowerup")}},{key:"addPickup",value:function(){this.count=0;var t=Pt.a.getObject(Zr);if(t.timer=0,t.position.x=J.a.random(400,1200),t.position.y=J.a.random(250,650),Math.random()<=.4)t.reset(li);else{var e;if(this.debug)e=this.debug;else if(0!==this.forcePromotePowerups.length)e=this.forcePromotePowerups.shift(),this.encounterPowerup(e);else{var n=this.powerups.reduce((function(t,e){return t+e.weight}),0),r=Math.random()*n,i=0;this.powerups.forEach((function(t){i+=t.weight,r<=i&&!e&&(e=t.class,t.weight/=2)}))}this.powerups.forEach((function(t){t.class!==e&&t.weight<1&&(t.weight*=2)})),t.reset(e)}this.world.add(t)}},{key:"onPickupActivate",value:function(t){t=t||this.cachePickup}},{key:"reset",value:function(t){for(var e=0;e<this.pickups.length;e++){var n=this.pickups[e];this.game.world.remove(n),Pt.a.returnObject(n)}this.powerups=t.powerups,this.paused=!1}}])&&ta(e.prototype,n),r&&ta(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function na(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ra=function(){function t(t){na(this,"game",void 0),na(this,"active",void 0),na(this,"waitForPoints",void 0),this.game=t,this.active=!1}var e=t.prototype;return e.showPoints=function(){var t=this;D.b.gameMode===D.a.TOURNAMENT&&D.b.scoreKey&&!this.game.points&&this.waitForPoints>0?Object(o.delay)(.5).then((function(){t.waitForPoints--,t.showPoints()})):(this.game.hud.showBigScreen("win"),D.b.gameMode===D.a.TOURNAMENT&&Object(o.delay)(4).then((function(){return t.onFadeOut()})))},e.run=function(t){var e=this;if(this.waitForPoints=10,this.active=!0,s.a.desktop||this.game.controller.hide(),t===ot.Const.END_STATE.HALFTIME)return this.game.active=!1,this.game.teamManagerLeft.stop(),this.game.teamManagerRight.stop(),this.game.ball.setActive(!1),this.game.world.view3d.camera.endMode=!0,void Object(o.delay)(.25).then((function(){u.default.playSfx("whistle_full_time"),e.game.hud.message.show(wt.a.MESSAGE_ID.WHISTLE),e.game.hud.showBigScreen("halftime"),Object(o.tween)(e.game.black,.3,{delay:3,alpha:1,ease:"Sine.easeOut",onComplete:function(){e.game.hud.reset(),e.game.world.view3d.camera.endMode=!1,Object(o.tween)(e.game.black,.8,{alpha:0,ease:"Sine.easeOut"});var t=e.game.ball;t.body.velocity.x=0,t.body.velocity.y=0,t.body.position.x=.5*e.game.pitchWidth,t.body.position.y=.5*e.game.pitchHeight,e.game.world.view3d.camera.celebrateMode=!1,e.game.timer.reset(),e.game.activateHalfTimeSwap(),e.game.powerupManager.clear(),e.game.active=!0;var n=e.game.ball.lastOwner&&e.game.ball.lastOwner.isTeamA;e.game.scripts.start.run(!1,!n,null,!0)}})}));t===ot.Const.END_STATE.LOSE?(this.game.teamManagerLeft.sad(),this.game.teamManagerRight.happy(),Object(o.delay)(2).then((function(){e.game.hud.showBigScreen("lose"),Object(o.delay)(4).then((function(){return e.onFadeOut()}))}))):t===ot.Const.END_STATE.WIN&&(this.game.teamManagerLeft.happy(),this.game.teamManagerRight.sad(),g.a.flash(),this.game.hud.party.visible=!0,this.game.world.view3d.camera.shake(30),Object(o.delay)(2).then((function(){e.showPoints()}))),D.b.matchResult.goalsA=this.game.goalsA,D.b.matchResult.goalsB=this.game.goalsB,this.game.world.view3d.camera.endMode=!0,this.game.ball.body.velocity.x*=.1,this.game.ball.body.velocity.y*=.1,this.game.ball.setActive(!1),this.game.hud.message.show(wt.a.MESSAGE_ID.WHISTLE),Object(o.delay)(.5).then((function(){e.active&&u.default.playSfx("whistle_full_time")})),D.b.gameMode!==D.a.TOURNAMENT&&Object(o.delay)(4).then((function(){e.active&&e.game.gameover()}))},e.onFadeOut=function(){this.game.hud.party.visible=!1,this.game.world.view3d.camera.endMode=!1,this.active&&this.game.gameover()},e.reset=function(){this.active=!1},t}();function ia(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var aa=function(){function t(t){ia(this,"game",void 0),ia(this,"isOpponentGoal",void 0),ia(this,"active",void 0),this.game=t,this.isOpponentGoal=!1,this.active=!1}var e=t.prototype;return e.run=function(t){var e=this;this.game.active=!1,this.active=!0,this.isOpponentGoal=t,g.a.flash(),this.game.hud.party.visible=!0,this.game.world.view3d.camera.shake(30),this.game.world.view3d.camera.celebrateMode=!0,t?(this.game.teamManagerLeft.happy(),this.game.teamManagerRight.sad()):(this.game.teamManagerRight.happy(),this.game.teamManagerLeft.sad()),g.a.overlays.header.coinBar.hide(),this.game.hud.showBigScreen("goal"),this.game.timer.stop(),this.game.ball.setActive(!1),Object(o.tween)(this.game.black,.8,{delay:5,alpha:1,ease:"Sine.easeOut",onComplete:function(){return e.onFadeOut()}})},e.onFadeOut=function(){this.game.hud.reset(),Object(o.tween)(this.game.black,.8,{alpha:0,ease:"Sine.easeOut"});var t=this.game.ball;t.body.velocity.x=0,t.body.velocity.y=0,t.body.position.x=.5*this.game.pitchWidth,t.body.position.y=.5*this.game.pitchHeight,this.game.world.view3d.camera.celebrateMode=!1,this.active&&(this.game.active=!0,this.game.scripts.start.run(!1,!this.isOpponentGoal))},e.update=function(){},e.reset=function(){this.active=!1},t}(),oa=n(537),sa=n.n(oa);function ua(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function ca(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var la=function(){function t(t){ca(this,"game",void 0),ca(this,"active",void 0),ca(this,"firstRun",void 0),ca(this,"runID",void 0),ca(this,"left",void 0),this.game=t,this.active=!1,this.firstRun=!0,this.runID=0}var e=t.prototype;return e.run=function(t,e,n,r){var i=this;if(void 0===r&&(r=!1),!this.active){this.game.active=!1,this.active=!0,this.runID++,this.left=e;var a=this.game.ball;a.setActive(!1),a.body.velocity.x=0,a.body.velocity.y=0,a.body.position.x=.5*this.game.pitchWidth,a.body.position.y=.5*this.game.pitchHeight,a.body.position.z=500,this.game.teamLeft.run((function(t){t.view3d.reticle.reticle.position.x=-20,t.view3d.reticle.reticle.position.z=55})),t&&this.firstRun?(g.c.dispatch(h.a,{type:h.b.GAME_MATCH_STARTED,data:{match_type:this.game.getMatchType()}}),s.a.desktop||this.game.controller.hide(),this.game.ballPicker.onBallPickerHidden.connect((function(){i.game.ballPicker.onBallPickerHidden.disconnectAll(),i.game.ballPicker.displayedBallId!==i.game.app.balls.activeBall.id&&i.game.app.balls.selectBall(i.game.ballPicker.displayedBallId,!0),i.go()})),Object(o.delay)(.5).then((function(){i.game.ballPicker.animate()})),e?(this.game.teamManagerLeft.resetPositions(!0),this.game.teamManagerRight.resetPositions(!1)):(this.game.teamManagerLeft.resetPositions(!1),this.game.teamManagerRight.resetPositions(!0))):(r?(this.game.teamManagerLeft.swapPosition(),this.game.teamManagerRight.swapPosition()):e?(this.game.teamManagerLeft.resetPositions(!0,!0),this.game.teamManagerRight.resetPositions(!1,!0)):(this.game.teamManagerLeft.resetPositions(!1,!0),this.game.teamManagerRight.resetPositions(!0,!0)),this.go(n,r))}},e.go=function(){var t,e=(t=regeneratorRuntime.mark((function t(e,n){var r,i,a,c,l=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),void 0===n&&(n=!1),r=!1,i=0===this.game.goalsA&&0===this.game.goalsB&&!this.game.halfTimeSwapped,this.game.controller.direction&&this.game.controller.direction.set(0),(n||n||i)&&g.a.overlays.header.coinBar.hide(),!n){t.next=15;break}return t.next=9,Object(o.delay)(5);case 9:return this.game.hud.showBigScreen("shootthisway"),t.next=12,Object(o.delay)(2);case 12:this.game.hud.stopArrowBlink(),r=!0,this.game.teamManagerLeft.enableShoot();case 15:a=0,i&&(a+=.5,Object(o.delay)(a).then((function(){return l.game.hud.showBigScreen("kickoff")})),a+=1,r=!0),a+=1,c=this.runID,Object(o.delay)(a).then((function(){l.game.hud.hudBigContent.visible&&l.game.hud.hideBigScreen(),l.active&&c===l.runID&&(l.game.hud.message.show(wt.a.MESSAGE_ID.WHISTLE),Object(o.delay)(.3).then((function(){return u.default.playSfx("whistle_full_time")})))})),a+=1,Object(o.delay)(a).then((function(){g.a.overlays.header.coinBar.show(),l.active&&c===l.runID&&(l.game.ball.setActive(!0),l.game.pitch.hideLogo().then((function(){r&&l.game.shootDirectionArrows.show()})),l.left?l.game.teamManagerLeft.go():l.game.teamManagerRight.go(),e&&l.game.hud.message.show("POWERUP",{name:"STR_GAME_RESTART"}),l.active=!1,l.game.active=!0,s.a.desktop||l.game.controller.show())})),this.firstRun=!1;case 23:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){ua(a,r,i,o,s,"next",t)}function s(t){ua(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(t,n){return e.apply(this,arguments)}}(),e.reset=function(){this.active=!1,this.firstRun=!0},t}(),ha=n(538),da=n.n(ha);n(443);function pa(t){return(pa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function fa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ma(t,e,n){return e&&fa(t.prototype,e),n&&fa(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function ga(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ya(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&va(t,e)}function va(t,e){return(va=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ba(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=wa(t);if(e){var i=wa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _a(this,n)}}function _a(t,e){if(e&&("object"===pa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function wa(t){return(wa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xa=["super-shot-bg-smear-1.png","super-shot-bg-dot-1.png","super-shot-bg-dot-2.png","super-shot-bg-dot-3.png","super-shot-bg-dot-4.png","super-shot-bg-dot-5.png","super-shot-bg-dot-6.png"],Sa=function(t){ya(n,t);var e=ba(n);function n(){var t;ga(this,n);var r=Math.round(6*Math.random());return(t=e.call(this,m.Texture.from(xa[r]))).anchor.set(.5),t.scaleOffset=1+Math.random(),t.z=-50*Math.random()-50,t.rotation=0,t.home=new m.Point,t}return ma(n)}(m.Sprite),Ta=function(t){ya(n,t);var e=ba(n);function n(t,r,i){var a;ga(this,n),(a=e.call(this)).particals=[],a.particalPool=new Pt.a(Sa),a.max=80,a.overallScale=i||1,s.a.mobile&&(a.max=60),a.count=0,a.pos=0;for(var o=0;o<a.max;o++){var u=a.particalPool.getObject();u.home.x=-1136*Math.random(),u.position.y=u.home.y=110640*Math.random(),u.speed=new m.Point(5+10*Math.random(),0),u.speed.x*=-5,a.particals.push(u),a.addChild(u)}return a.w=t||1136,a.h=r||740,a.focalLength=150,a}return ma(n,[{key:"update",value:function(t,e){if(this.visible)for(var n=0;n<this.particals.length;n++){var r=this.particals[n],i=(this.focalLength,this.focalLength,r.z);i=this.focalLength/(this.focalLength+r.z);r.scale.x=r.scale.y=.5*i*r.scaleOffset*this.overallScale,r.home.x+=r.speed.x*e,r.home.y+=r.speed.y*e,r.position.y=(r.home.y-t.y)*i*.5,r.position.x=(r.home.x-t.x)*i*.5;r.position.x+=300*e;var a=this.w+600;r.position.x%=a,r.position.x<0&&(r.position.x+=a),r.position.x-=300*e,r.position.y%=this.h,r.position.y<0&&(r.position.y+=this.h)}}},{key:"resize",value:function(t){}}]),n}(m.Container);function Ma(t){return(Ma="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ea(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function Aa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ka(t,e){return(ka=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ca(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=La(t);if(e){var i=La(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Oa(this,n)}}function Oa(t,e){if(e&&("object"===Ma(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function La(t){return(La=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ra=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ka(t,e)}(c,t);var e,n,r,i,a,s=Ca(c);function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=s.call(this)).app=t,e.onFinish=new Bt.a,e.bg=new m.Graphics,e.bg.beginFill(64767),e.bg.drawRect(0,0,1136,852),e.addChild(e.bg),e.tear1=m.Sprite.from("super-shot-bg-tear-1.png"),e.tear1.anchor.set(.5),e.addChild(e.tear1),e.tear2=m.Sprite.from("super-shot-bg-tear-2.png"),e.tear2.anchor.set(.5),e.tear2.x=2e3,e.addChild(e.tear2),e.rushBackground=new Ta,e.addChild(e.rushBackground),e.visible=!1,e.pos=new m.Point,e.top=m.Sprite.from("super-shot-bg-border-2.png"),e.top.height=20,e.top.anchor.set(.5,0),e.addChild(e.top),e.bottom=m.Sprite.from("super-shot-bg-border-1.png"),e.bottom.height=20,e.bottom.anchor.set(.5,1),e.addChild(e.bottom),e}return e=c,(n=[{key:"show",value:(i=regeneratorRuntime.mark((function t(e){var n,r,i,a=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.item&&(this.removeChild(this.item),this.item.destroy()),n=this.app.kits.getTeamColor(O.b.A),t.next=4,Yn.a.getSpineAnim2D(e.id,n,!0);case 4:this.item=t.sent,this.addChildAt(this.item,4),(r=this.item.state.setAnimation(0,"Kick",!1)).timeScale=.25,r.animationEnd=0,this.resize(this.w,this.h),i=this.item.scale.x,this.item.y=this.h/2-50+(e.offsetSupershotY||0),this.item.scale.set(3*i),g.a.flash(.5),Object(o.delay)(.25).then((function(){a.visible=!0,u.default.playSfx(e.superSound),Object(o.delay)(.8).then((function(){return a.item.state.setAnimation(0,"Kick",!1).timeScale=.3})),Object(o.tween)(a.item.scale,2/1.5,{x:i,y:i,ease:"Quad.easeOut"}),Object(o.tween)(a.item,2,{x:a.w+1.5*a.item.width,onComplete:function(){a.onFinish.dispatch(),a.visible=!1},ease:"Power3.easeIn"})}));case 18:case"end":return t.stop()}}),t,this)})),a=function(){var t=this,e=arguments;return new Promise((function(n,r){var a=i.apply(t,e);function o(t){Ea(a,n,r,o,s,"next",t)}function s(t){Ea(a,n,r,o,s,"throw",t)}o(void 0)}))},function(t){return a.apply(this,arguments)})},{key:"update",value:function(t){this.rushBackground.update(this.pos,t),this.tear1.x-=60*t,this.tear1.x<-1e3&&(this.tear1.x=this.w+1e3),this.tear2.x-=60,this.tear2.x<-1e3&&(this.tear2.x=this.w+1e3)}},{key:"resize",value:function(t,e){this.w=t,this.h=e,this.x=-1===this.scale.x?t:0,this.bg.width=t,this.bg.height=e,this.bg.y=-e/2,this.top.width=t,this.top.x=t/2,this.top.y=-e/2,this.bottom.x=t/2,this.bottom.width=t,this.bottom.y=e/2,this.tear1.height=e-40,this.tear1.scale.x=this.tear1.scale.y,this.tear2.height=e-40,this.tear2.scale.x=this.tear2.scale.y,this.rushBackground.w=t,this.rushBackground.h=e,this.item&&(this.item.x=-this.item.width/2,this.item.height=e-40,this.item.scale.x=this.item.scale.y),this.y=e/2}}])&&Aa(e.prototype,n),r&&Aa(e,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(m.Container),Pa=n(539),Da=n.n(Pa),Ia=n(224),Ba=n.n(Ia),Na=n(189),ja=n.n(Na);function Fa(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function Ua(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ya=ot.Const.TEAM_STATE,Ga=ot.Const.PLAYER_STATE,Ha={};Ha[Ya.ATTACKING]="attack",Ha[Ya.TUTORIAL_PASS]="t-attack",Ha[Ya.TUTORIAL_IDLE]="t-idle",Ha[Ya.DEFENDING]="defending",Ha[Ya.ATTACK_IDLE]="attack_idle",Ha[Ya.KICK_OFF]="kickoff",Ha[Ya.DEFEND_IDLE]="defend_idle",Ha[Ya.SCORED]="scored",Ha[Ya.LOST]="lost";var za=function(){function t(e,n,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.game=e,this.team=n,this.teamBad=r,this.enableShoot(),this.enablePass(),this.enableTackle(),this.enableSignal(),this.state=Ya.DEFENDING,this.human=!1,this.blockMove=!1,this.goal=null,this.firstGo=!1,this.constrainPlayer=!1,this.team.children[0].DEBUG=!0,this.team.run((function(t){var n=this;t.balanceManager=e,t.signals.onBallRecieved.add(this.onPlayerRecievedBall,this),t.signals.onBallLost.add(this.onPlayerLostBall,this),t.signals.onBallShot.add((function(){n.lastShotCharacterId=t.data.id}))}),this),this.teamBad.run((function(t){t.signals.onBallRecieved.add(this.onPlayerBadRecievedBall,this),t.signals.onBallLost.add(this.onPlayerBadLostBall,this)}),this),this.game.keeperLeft.signals.onBallRecieved.add(this.onKeeperRecievedBall,this),this.game.keeperRight.signals.onBallRecieved.add(this.onKeeperRecievedBall,this),this.game.keeperLeft.signals.onBallLost.add(this.onKeeperLostBall,this),this.game.keeperRight.signals.onBallLost.add(this.onKeeperLostBall,this),this.debug=new m.Text("HI MUM"),this.signCount=0}var e,n,r,i,a;return e=t,(n=[{key:"setSide",value:function(t){this.left!==t&&(this.left=t,t?(this.team.children[0].startPosition.set(300,100),this.team.children[1].startPosition.set(200,300),this.team.children[2].startPosition.set(100,400),this.goal=this.game.goalRight,this.oppositionKeeper=this.game.keeperRight,this.friendlyKeeper=this.game.keeperLeft,this.balanceData=this.game.balanceManager.teamA):(this.team.children[0].startPosition.set(700,100),this.team.children[1].startPosition.set(600,300),this.team.children[2].startPosition.set(500,400),this.goal=this.game.goalLeft,this.oppositionKeeper=this.game.keeperLeft,this.friendlyKeeper=this.game.keeperRight,this.balanceData=this.game.balanceManager.teamB),this.oppositionKeeper.balanceData=this.balanceData,this.team.children[0].balanceData=this.balanceData,this.team.children[1].balanceData=this.balanceData,this.team.children[2].balanceData=this.balanceData)}},{key:"show",value:function(t,e,n){this.team.children[t].show(),this.resetPlayerAt(this.team.children[t],e,n)}},{key:"hide",value:function(t,e,n){this.team.children[t].hide(),this.resetPlayerAt(this.team.children[t],e,n)}},{key:"hideAll",value:function(t){for(var e=0;e<this.team.children.length;e++)this.team.children[e].hide(),this.resetPlayerAt(this.team.children[e],50,50)}},{key:"showAll",value:function(t){for(var e=0;e<this.team.children.length;e++)this.team.children[e].show()}},{key:"setTeam",value:(i=regeneratorRuntime.mark((function t(e,n,r){var i,a,s,u,c,l,h,d=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i=[],a=0;a<this.team.children.length;a++)s=this.team.children[a],i.push(s.setData(e,n[a],r));return this.human&&o.Params.get("reticleDebug",!1)&&(u=new S.a,c=u.addFolder("Reticle"),l=u.addFolder("Flip"),h={rotX:this.team.children[0].view3d.reticle.rotation.x,rotY:this.team.children[0].view3d.reticle.rotation.y,rotZ:this.team.children[0].view3d.reticle.rotation.z,posX:this.team.children[0].view3d.reticle.reticle.position.x,posY:this.team.children[0].view3d.reticle.reticle.position.y,posZ:this.team.children[0].view3d.reticle.reticle.position.z,flipRotX:this.team.children[0].view3d.flipContainer.rotation.x},c.add(h,"rotX").min(0).max(o.Maths.PI_DOUBLE).step(.01).onChange((function(){d.team.children[0].view3d.reticle.rotation.x=h.rotX,d.team.children[1].view3d.reticle.rotation.x=h.rotX,d.team.children[2].view3d.reticle.rotation.x=h.rotX})),c.add(h,"rotY").min(0).max(o.Maths.PI_DOUBLE).step(.01).onChange((function(){d.team.children[0].view3d.reticle.rotation.y=h.rotY,d.team.children[1].view3d.reticle.rotation.y=h.rotY,d.team.children[2].view3d.reticle.rotation.y=h.rotY})),c.add(h,"rotZ").min(0).max(o.Maths.PI_DOUBLE).step(.01).onChange((function(){d.team.children[0].view3d.reticle.rotation.z=h.rotZ,d.team.children[1].view3d.reticle.rotation.z=h.rotZ,d.team.children[2].view3d.reticle.rotation.z=h.rotZ})),c.add(h,"posX").min(-100).max(100).step(.1).onChange((function(){d.team.children[0].view3d.reticle.position.x=h.posX,d.team.children[1].view3d.reticle.position.x=h.posX,d.team.children[2].view3d.reticle.position.x=h.posX})),c.add(h,"posY").min(-100).max(100).step(.1).onChange((function(){d.team.children[0].view3d.reticle.position.y=h.posY,d.team.children[1].view3d.reticle.position.y=h.posY,d.team.children[2].view3d.reticle.position.y=h.posY})),c.add(h,"posZ").min(-100).max(100).step(.1).onChange((function(){d.team.children[0].view3d.reticle.position.z=h.posZ,d.team.children[1].view3d.reticle.position.z=h.posZ,d.team.children[2].view3d.reticle.position.z=h.posZ})),l.add(h,"flipRotX").min(0).max(o.Maths.PI_DOUBLE).step(.01).onChange((function(){d.team.children[0].view3d.flipContainer.rotation.x=h.flipRotX,d.team.children[1].view3d.flipContainer.rotation.x=h.flipRotX,d.team.children[2].view3d.flipContainer.rotation.x=h.flipRotX}))),t.abrupt("return",Promise.all(i));case 4:case"end":return t.stop()}}),t,this)})),a=function(){var t=this,e=arguments;return new Promise((function(n,r){var a=i.apply(t,e);function o(t){Fa(a,n,r,o,s,"next",t)}function s(t){Fa(a,n,r,o,s,"throw",t)}o(void 0)}))},function(t,e,n){return a.apply(this,arguments)})},{key:"swapPosition",value:function(){var t=this.team.children;this.setState(Ya.KICK_OFF),this.setPlayer(null),t[0].reset(),t[1].reset(),t[2].reset(),this.resetPlayerAt(t[1],.8,.4),this.resetPlayerAt(t[2],.8,.6),this.resetPlayerAt(t[0],.8,.5),this.movePlayerTo(t[1],.2,.4),this.movePlayerTo(t[2],.2,.6),this.movePlayerTo(t[0],.45,.5),this.actionResolved=!0}},{key:"resetPositions",value:function(t,e){var n=this.team.children;this.setState(Ya.KICK_OFF),this.setPlayer(null),this.friendlyKeeper.reset(),t?e?(this.resetPlayerAt(n[1],.2,.4),this.resetPlayerAt(n[2],.2,.6),this.resetPlayerAt(n[0],.45,.5)):(n[0].reset(),n[1].reset(),n[2].reset(),n[0].position.set(800,50),n[1].position.set(800,50),n[2].position.set(800,50),this.movePlayerTo(n[1],.2,.4),this.movePlayerTo(n[2],.2,.6),this.movePlayerTo(n[0],.45,.5)):e?(this.resetPlayerAt(n[1],.15,.4),this.resetPlayerAt(n[2],.15,.6),this.resetPlayerAt(n[0],.38,.5)):(n[0].reset(),n[1].reset(),n[2].reset(),n[0].position.set(800,50),n[1].position.set(800,50),n[2].position.set(800,50),this.movePlayerTo(n[1],.15,.4),this.movePlayerTo(n[2],.15,.6),this.movePlayerTo(n[0],.38,.5))}},{key:"go",value:function(){this.firstGo=!0,this.setState(Ya.DEFENDING),this.team.children[2].movement.direction.x=1,this.team.children[2].movement.direction.y=0,this.human&&this.team.children[0].view3d.reticle.reset()}},{key:"happy",value:function(){this.setState(Ya.SCORED)}},{key:"sad",value:function(){this.setState(Ya.LOST)}},{key:"stop",value:function(){this.setState(Ya.STOPPED)}},{key:"stopActivePlayer",value:function(){this.activePlayer&&this.human&&this.activePlayer.stop()}},{key:"moveActivePlayerInDirection",value:function(t,e){this.activePlayer&&this.human&&(this.blockMove?this.activePlayer.moveInDirection(0,0):this.constrainPlayer?this.ConstrainActivePlayerInDirection(t,e):this.activePlayer.moveInDirection(t,e))}},{key:"ConstrainActivePlayerInDirection",value:function(t,e){if(this.activePlayer&&this.human){var n=this.activePlayer.position.x/this.game.pitchWidth,r=this.activePlayer.position.y/this.game.pitchHeight;(n<.4&&1!==t||n>.6&&-1!==t)&&(t=-t),(r<.4&&1!==e||r>.6&&-1!==e)&&(e=-e),this.activePlayer.moveInDirection(t,e)}}},{key:"setPlayer",value:function(t,e){this.activePlayer!==t&&(this.activePlayer&&(this.activePlayer.stop(),this.activePlayer.auto=!0),this.activePlayer=t,t&&this.human&&(t.auto=!1,t.stop(),!t.ballSkills.ball&&e&&t.view3d.reticle.blink()))}},{key:"setState",value:function(t){this.state!==t&&(this.debug.text="state ".concat(Ha[t]),this.makeDecision=!0,t===Ya.SCORED?(this.team.run((function(t){t.win()})),this.friendlyKeeper.win()):t===Ya.LOST?(this.team.run((function(t){t.lose()})),this.friendlyKeeper.lose()):t===Ya.STOPPED&&this.team.run((function(t){t.forceStop()})),t===Ya.ATTACKING||t===Ya.DEFENDING?this.oppositionKeeper.active=!0:this.oppositionKeeper.active=!1,this.state=t)}},{key:"actionBegin",value:function(){var t=this;if(this.actionResolved&&(this.shoot=!1,this.tackle=!1,this.pass=!1,this.didPass=!1,this.passByPlayer=null,this.activePlayer))if(this.game.ball.owner===this.activePlayer){if(this.game.ball.remoteBall&&this.game.ball.isTeamA===this.activePlayer.isTeamA)return this.actionResolved=!1,this.activePlayer.shootBegin(this.goal),this.activePlayer.shootRelease(this.goal),void(this.actionResolved=!0);this.timer=setTimeout((function(){t.canShoot&&t.game.ball.owner===t.activePlayer&&(t.actionResolved=!1,t.shoot=!0,u.default.playSfx("power_up_charge"),t.checkLessThan(t.game.ball.position.x,.4)&&(!t.game.halfTimeSwapped&&-1===t.activePlayer.view3d.flipContainer.scale.x||t.game.halfTimeSwapped&&1===t.activePlayer.view3d.flipContainer.scale.x)&&t.game.hud.message.show(wt.a.MESSAGE_ID.SHOOT_DIRECTION),t.activePlayer.shootBegin(t.goal))}),250)}else{this.actionResolved=!1,this.tackle=!0;var e=ja()(this.activePlayer,this.teamBad);this.canTackle&&this.activePlayer.slideTackle(e.dx,e.dy,10),this.actionResolved=!0}}},{key:"passControl",value:function(){var t;if(null!==(t=this.activePlayer.ballSkills.ball)&&void 0!==t&&t.active){var e=ja()(this.activePlayer,this.team);e.player&&e.player.state!==ot.Const.PLAYER_STATE.HIDE?this.activePlayer.ballSkills.passTo(e.player):this.activePlayer.ballSkills.pass(e.dx,e.dy,10),this.game.stats.onPass(),this.passByPlayer=this.activePlayer,this.didPass=!0}}},{key:"actionEnd",value:function(){clearTimeout(this.timer),this.activePlayer&&(this.shoot&&this.canShoot?(this.activePlayer.shootRelease(this.goal),this.actionResolved=!0):this.shoot||this.tackle||!this.canPass||(this.passControl(),this.actionResolved=!0),this.shoot=!1,this.tackle=!1,this.pass=!1)}},{key:"actionOneShootBegin",value:function(){this.canShoot&&this.activePlayer.shootBegin(this.goal)}},{key:"actionOneShootEnd",value:function(){this.canShoot&&this.activePlayer.shootRelease(this.goal)}},{key:"actionTwoPassTackleBegin",value:function(){if(this.canPass&&((t=ja()(this.activePlayer,this.team)).player&&t.player.state!==ot.Const.PLAYER_STATE.HIDE?this.activePlayer.ballSkills.passTo(t.player):this.activePlayer.ballSkills.pass(t.dx,t.dy,10)),this.canTackle&&(!this.activePlayer||!this.activePlayer.ball)){var t=ja()(this.activePlayer,this.teamBad);this.activePlayer.slideTackle(t.dx,t.dy,10)}}},{key:"checkMoreThan",value:function(t,e){return this.left?t>this.game.pitchWidth*e:t<this.game.pitchWidth*(1-e)}},{key:"checkLessThan",value:function(t,e){return this.left?t<this.game.pitchWidth*e:t>this.game.pitchWidth*(1-e)}},{key:"update",value:function(){var t=this.game.pitchWidth,e=(this.game.pitchHeight,this.team),n=this.team.getIndex(this.activePlayer),r=this.activePlayer,i=e.getItem((n+1)%3),a=e.getItem((n+2)%3);if(this.state===Ya.DEFENDING){this.makeDecision&&(this.makeDecision=!1);var o=this.team.getItem(0),s=this.team.getItem(1),u=this.team.getItem(2);this.checkMoreThan(this.game.ball.position.x,.4)?(this.movePlayerTo(o,.5,.5),this.movePlayerTo(s,.3,.6),this.movePlayerTo(u,.2,.4)):this.checkMoreThan(this.game.ball.position.x,.5)?(this.movePlayerTo(o,.8,.5),this.movePlayerTo(s,.5,.6),this.movePlayerTo(u,.3,.4)):(this.movePlayerTo(o,.8,.5),this.movePlayerTo(s,.7,.4),this.movePlayerTo(u,.5,.4)),(y=Ba()(this.game.ball,this.team)).player.movement.turnMultiplier=.2*this.balanceData.turnMultiplier,y.player.chaseDown(this.game.ball);var c=Da()(this.game.ball,this.activePlayer,this.team,this.left);this.setPlayer(c.player,!0)}else if(this.state===Ya.TUTORIAL_IDLE);else if(this.state===Ya.TUTORIAL_TACKLE)this.human||(this.team.getItem(1).moveTo(r.position.x,r.position.y),this.team.getItem(1).moveTo(this.game.ball.position.x,this.game.ball.position.y),this.team.getItem(1).chaseDown(this.game.ball));else if(this.state===Ya.ATTACKING){var l=this.team.getItem(0),h=this.team.getItem(1),d=this.team.getItem(2);if(this.human){var p,f;this.checkLessThan(this.game.ball.position.x,.3)?(this.movePlayerTo(l,.5,.4),this.movePlayerTo(d,.2,.75),this.movePlayerTo(h,.2,.25)):(this.left?(p=Math.max(r.position.x,.8*t),f=r.position.x-200):(p=Math.min(r.position.x,.2*t),f=r.position.x+200),r.position.y<450?a.moveTo(p,r.position.y+160+100):a.moveTo(p,r.position.y-160-50),i.moveTo(f,r.position.y+160))}else{if(a.moveTo(r.position.x,r.position.y-160-100),i.moveTo(r.position.x+(this.left?-200:200),r.position.y+160),this.signCount+=.02,this.movePlayerTo(r,.81,.5+.1*Math.sin(this.signCount)),r.passWait++,r.ballSkills.ball){var m=Ba()(this.game.ball,this.teamBad);r.passWait>30&&this.agro<.4&&m.len<100&&this.passToPlayer(a)}if(this.left?a.position.x>r.position.x&&i.position.x>r.position.x&&r.position.x<500&&(r.passWait=0):a.position.x<r.position.x&&i.position.x<r.position.x&&r.position.x>500&&(r.passWait=0),this.checkMoreThan(r.position.x,.8)){var g=this.game.pitchHeight;r.position.y>.25*g&&r.position.y<.75*g?r.shootRelease(this.goal):this.passToPlayer(a)}else r.passWait>90?this.passToPlayer(Math.random()>.5?a:i):r.passWait>40&&a.position.x<this.activePlayer.position.x&&this.passToPlayer(a);var y;this.game.ball.owner||((y=Ba()(this.game.ball,this.team)).player.movement.turnMultiplier=.2*this.balanceData.turnMultiplier,y.player.chaseDown(this.game.ball))}}else if(this.state===Ya.DEFEND_IDLE){var v=this.team.getItem(0),b=this.team.getItem(1),_=this.team.getItem(2);this.movePlayerTo(v,.2,.5),this.movePlayerTo(b,.3,.3),this.movePlayerTo(_,.6,.4)}else if(this.state===Ya.ATTACK_IDLE){var w=this.team.getItem(0),x=this.team.getItem(1),S=this.team.getItem(2);this.movePlayerTo(w,.4,.5),this.movePlayerTo(x,.6,.3),this.movePlayerTo(S,.6,.2)}if(this.human&&(this.team.run((function(t){t.view3d.reticle.flashing=!1}),this),r&&r.ballSkills.ball)){var T=ja()(this.activePlayer,this.team);T.player&&T.player.state!==ot.Const.PLAYER_STATE.HIDE&&(T.player.view3d.reticle.flashing=!0)}}},{key:"passToPlayer",value:function(t){this.canPass&&t!==this.activePlayer&&t.state!==Ga.FALL&&this.activePlayer.ballSkills.passTo(t)}},{key:"resetPlayerAtByIndex",value:function(t,e,n){this.left?(this.team.children[t].position.x=this.game.pitchWidth*e,this.team.children[t].position.y=this.game.pitchHeight*n):(this.team.children[t].position.x=this.game.pitchWidth*(1-e),this.team.children[t].position.y=this.game.pitchHeight*(1-n)),this.team.children[t].reset()}},{key:"resetPlayerAt",value:function(t,e,n){this.left?(t.position.x=this.game.pitchWidth*e,t.position.y=this.game.pitchHeight*n):(t.position.x=this.game.pitchWidth*(1-e),t.position.y=this.game.pitchHeight*(1-n)),t.reset()}},{key:"movePlayerTo",value:function(t,e,n){t.movement.turnMultiplier=1,t.movingTo=!1,t.ballSkills.ball||(t.movingTo=!0),this.left?t.moveTo(this.game.pitchWidth*e,this.game.pitchHeight*n):t.moveTo(this.game.pitchWidth*(1-e),this.game.pitchHeight*(1-n))}},{key:"onPlayerRecievedBall",value:function(t){var e=this;if(this.game.timer.isOn||(this.game.timer.start(!0),this.game.powerupManager.resume()),(this.state!==Ya.TUTORIAL_IDLE||this.activePlayer!==t)&&this.state!==Ya.TUTORIAL_IDLE){if(Math.random()>.5||this.firstGo){if(!this.human){var n=this.team,r=n.getIndex(t),i=n.getItem((r+1)%3),a=n.getItem((r+2)%3),s=Math.random();s>.25&&(s>.75?this.firstGo?Object(o.delay)(.15,(function(){return e.passToPlayer(i)})):this.passToPlayer(i):this.firstGo?Object(o.delay)(.15,(function(){return e.passToPlayer(a)})):this.passToPlayer(a))}this.firstGo=!1}this.agro=Math.random(),this.setPlayer(t),this.setState(Ya.ATTACKING),this.didPass&&this.game.stats.onPassSuccess(this.passByPlayer.data.id)}}},{key:"onPlayerLostBall",value:function(t){if(this.didPass=!1,this.passByPlayer=null,this.state!==Ya.TUTORIAL_IDLE){var e=.5*this.game.pitchWidth;this.left?this.game.ball.position.x<e&&this.setState(Ya.DEFENDING):this.game.ball.position.x>e&&this.setState(Ya.DEFENDING);for(var n=0;n<this.team.children.length;n++)this.team.children[n].chaseWait=0}}},{key:"percentFromGoal",value:function(t){return this.left&&(t=1-t),this.game.pitchWidth*t}},{key:"onPlayerBadRecievedBall",value:function(t){this.didPass=!1,this.passByPlayer=null;var e=Ba()(this.game.ball,this.team);this.setPlayer(e.player,!0),this.state!==Ya.TUTORIAL_IDLE&&this.setState(Ya.DEFENDING)}},{key:"onPlayerBadLostBall",value:function(t){this.state,Ya.TUTORIAL_IDLE}},{key:"onKeeperRecievedBall",value:function(t){this.didPass=!1,this.passByPlayer=null,t===this.oppositionKeeper?this.setState(Ya.ATTACK_IDLE):this.setState(Ya.DEFEND_IDLE)}},{key:"onKeeperLostBall",value:function(t){this.setState(Ya.DEFENDING)}},{key:"enableShoot",value:function(){this.canShoot=!0}},{key:"disableShoot",value:function(){this.canShoot=!1,this.activePlayer&&this.activePlayer.ballSkills.ball&&(this.activePlayer.state===ot.Const.PLAYER_STATE.KICK_CHARGE&&this.activePlayer.view3d.playSpineAnimation("Idle",!0),this.activePlayer.ballSkills.ball.chargeEffect.setRatio(0),this.activePlayer.chargeBar.hide(),this.activePlayer.world.game.speed=1,u.default.sfxChannel.stop("power_up_charge"))}},{key:"enablePass",value:function(){this.canPass=!0}},{key:"disablePass",value:function(){this.canPass=!1}},{key:"enableTackle",value:function(){this.canTackle=!0}},{key:"disableTackle",value:function(){this.canTackle=!1}},{key:"enableSignal",value:function(){this.listenSignal=!0}},{key:"disableSignal",value:function(){this.listenSignal=!1}}])&&Ua(e.prototype,n),r&&Ua(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Va(t){return(Va="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Wa(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Xa(t,e){return(Xa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ka(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Za(t);if(e){var i=Za(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qa(this,n)}}function qa(t,e){if(e&&("object"===Va(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Za(t){return(Za=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ja=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xa(t,e)}(a,t);var e,n,r,i=Ka(a);function a(){var t;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this)).tick=0,t.movementTick=0,t.movementStep=0,t.mobile=!s.a.desktop,t.keyboard=new m.Container;if(!t.mobile){var e=m.Sprite.from("keyboard-left.png");e.anchor.set(.5),e.position.x=-70,e.position.y=70,t.keyboard.addChild(e),t.keyboard.left=e,t.keyboard.left.enabledTexture=e.texture,t.keyboard.left.disabledTexture=m.Texture.from("keyboard-left-grey.png");var n=m.Sprite.from("keyboard-up.png");n.anchor.set(.5),n.position.x=0,t.keyboard.addChild(n),t.keyboard.up=n,t.keyboard.up.enabledTexture=n.texture,t.keyboard.up.disabledTexture=m.Texture.from("keyboard-up-grey.png");var r=m.Sprite.from("keyboard-right.png");r.anchor.set(.5),r.position.x=70,r.position.y=70,t.keyboard.addChild(r),t.keyboard.right=r,t.keyboard.right.enabledTexture=r.texture,t.keyboard.right.disabledTexture=m.Texture.from("keyboard-right-grey.png");var o=m.Sprite.from("keyboard-down.png");o.anchor.set(.5),o.position.x=0,o.position.y=70,t.keyboard.addChild(o),t.keyboard.down=o,t.keyboard.down.enabledTexture=o.texture,t.keyboard.down.disabledTexture=m.Texture.from("keyboard-down-grey.png");var u=m.Sprite.from("spacebar.png");u.anchor.set(.5),u.position.x=120,u.position.y=70,t.addChild(u),t.space=u,t.space.enabledTexture=u.texture,t.space.disabledTexture=m.Texture.from("spacebar-grey.png");var c=m.Sprite.from("spacebar-hit.png");c.anchor.set(.5),u.addChild(c),c.alpha=0}for(var l=0;l<t.keyboard.children.length;l++){var h=t.keyboard.children[l],d=m.Sprite.from("arrow-key-hit.png");d.anchor.set(.5),h.addChild(d),d.alpha=0}if(t.addChild(t.keyboard),t.keyboard.position.x=-120,t.mobile){t.pad=m.Sprite.from("joystick-back.png"),t.pad.scale.set(.7),t.pad.anchor.set(.5,.5),t.pad.position.set(0,0);var p=m.Sprite.from("joystick.png");p.anchor.set(.5),t.pad.icon=p,t.pad.addChild(p),t.oneTouchButton=m.Sprite.from("touch-button.png"),t.oneTouchButton.scale.set(.7),t.oneTouchButton.anchor.set(.5,.5),t.oneTouchButton.position.set(40,0);var f=m.Sprite.from("touch-button-hit.png");p.anchor.set(.5),t.oneTouchButton.addChild(f)}return t.hideKeyBoard(),t.hideSpace(),t}return e=a,(n=[{key:"show",value:function(){this.alpha=1}},{key:"hide",value:function(){this.alpha=0}},{key:"showKeyBoard",value:function(){this.keyboard.alpha=1}},{key:"hideKeyBoard",value:function(){this.keyboard.alpha=0}},{key:"showSpace",value:function(){this.mobile?this.oneTouchButton.alpha=1:this.space.alpha=1}},{key:"hideSpace",value:function(){this.mobile?this.oneTouchButton.alpha=0:this.space.alpha=0}},{key:"update",value:function(t){if(this.mobile){this.tick+=.05;var e=g.d.controller;if(this.pad.icon.position.x=20*Math.sin(this.tick),this.highlightSpace&&!e.buttonOne.isDown?(e.buttonOne.downFrame.alpha=Math.abs(Math.sin(this.tick)),e.buttonPointer.alpha=1,e.buttonPointer.position.y=20+20*Math.abs(Math.sin(1.8+this.tick))):(e.buttonOne.downFrame.alpha=0,e.buttonPointer.alpha=0),this.highlightRight||this.highlightLeft||this.highlightMovement){if(!e.analogueStick.isDown)if(this.movementTick+=.03,0===this.movementStep)this.movementTick>1&&(this.movementTick=1),e.movementPointer.alpha=this.movementTick,1===this.movementTick&&(this.movementTick=0,this.movementStep++);else if(1===this.movementStep){var n=40;this.highlightMobileLeft&&(n*=-1),e.movementPointer.alpha=1,e.movementPointer.position.x=this.movementTick*n,e.analogueStick.pad.position.x=this.movementTick*n,this.movementTick>1.5&&(this.movementTick=0,this.movementStep=0,e.movementPointer.position.x=0,e.analogueStick.pad.position.x=0,e.movementPointer.alpha=0)}}else e.movementPointer.alpha=0}else{var r,i,a,o,s;this.tick+=.05,this.disableLeft?this.keyboard.left.texture=this.keyboard.left.disabledTexture:this.keyboard.left.texture=this.keyboard.left.enabledTexture,this.disableRight?this.keyboard.right.texture=this.keyboard.right.disabledTexture:this.keyboard.right.texture=this.keyboard.right.enabledTexture,this.disableUp?this.keyboard.up.texture=this.keyboard.up.disabledTexture:this.keyboard.up.texture=this.keyboard.up.enabledTexture,this.disableDown?this.keyboard.down.texture=this.keyboard.down.disabledTexture:this.keyboard.down.texture=this.keyboard.down.enabledTexture,this.disableSpace?this.space.texture=this.space.disabledTexture:this.space.texture=this.space.enabledTexture,null!==(r=t.keyboard)&&void 0!==r&&r.isPressed("space")&&!t.lockSpace?this.space.children[0].alpha=1:this.highlightSpace?this.space.children[0].alpha=Math.abs(Math.sin(this.tick)):this.space.children[0].alpha=0,null!==(i=t.keyboard)&&void 0!==i&&i.isPressed("left")&&!t.lockLeft?this.keyboard.left.children[0].alpha=1:this.highlightLeft?this.keyboard.left.children[0].alpha=Math.abs(Math.sin(this.tick)):this.keyboard.left.children[0].alpha=0,null!==(a=t.keyboard)&&void 0!==a&&a.isPressed("up")&&!t.lockUp?this.keyboard.up.children[0].alpha=1:this.keyboard.up.children[0].alpha=0,null!==(o=t.keyboard)&&void 0!==o&&o.isPressed("right")&&!t.lockRight?this.keyboard.right.children[0].alpha=1:this.highlightRight?this.keyboard.right.children[0].alpha=Math.abs(Math.sin(this.tick)):this.keyboard.right.children[0].alpha=0,null!==(s=t.keyboard)&&void 0!==s&&s.isPressed("down")&&!t.lockDown?this.keyboard.down.children[0].alpha=1:this.keyboard.down.children[0].alpha=0}}}])&&Wa(e.prototype,n),r&&Wa(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(m.Container);function Qa(t){return(Qa="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function to(t,e){return(to=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function eo(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=ro(t);if(e){var i=ro(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return no(this,n)}}function no(t,e){if(e&&("object"===Qa(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function ro(t){return(ro=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var io=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&to(t,e)}(a,t);var e,n,r,i=eo(a);function a(t,e){var n;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(n=i.call(this)).w=t,n.h=e,s.a.desktop)n.data=["STR_TUTORIAL_PICKUPBALL","STR_TUTORIAL_PASS","STR_TUTORIAL_IATACKLE","STR_TUTORIAL_HUMANTACKLE","STR_TUTORIAL_RUN","STR_TUTORIAL_HUMANSHOOT","STR_TUTORIAL_KICK_CHARGE","STR_TUTORIAL_GOAL"];else{var r=c.a.settings.controls===p.a.SWIPE||o.Params.get("swipeController",!1);n.data=[r?"STR_MOBILE_TUTORIAL_SWIPE":"STR_TUTORIAL_PICKUPBALL","STR_MOBILE_TUTORIAL_PASS","STR_TUTORIAL_IATACKLE","STR_MOBILE_TUTORIAL_HUMANTACKLE","STR_TUTORIAL_RUN","STR_MOBILE_TUTORIAL_HUMANSHOOT","STR_MOBILE_TUTORIAL_KICK_CHARGE","STR_TUTORIAL_GOAL"]}return n.current=0,n.last=n.data.length-1,n.bg=new m.Sprite.from("dialogue.png"),n.bg.anchor.y=1,n.addChild(n.bg),n.controllerView=new Ja,n.controllerView.position.x=n.w/2-n.controllerView.width/2,n.controllerView.position.y=n.bg.position.y-n.controllerView.height-20,n.addChild(n.controllerView),n.text=new ae(""),n.text.maxWidth=950,n.text.anchor.set(.5),n.text.position.x=n.w/2,n.text.position.y=40,n.addChild(n.text),n.hide(!0),n}return e=a,(n=[{key:"resize",value:function(t,e){this.bg.position.y=e-10,this.bg.position.x=t/2-this.bg.width/2,this.text.position.x=t/2,this.text.position.y=this.bg.position.y-this.bg.height/2,this.controllerView.position.x=t/2,this.controllerView.position.y=this.bg.position.y-this.bg.height-this.controllerView.height+20}},{key:"prev",value:function(){this.current--,this.updateStep()}},{key:"next",value:function(){this.current!==this.last&&(this.current++,this.updateStep())}},{key:"final",value:function(){this.current=this.last,this.updateStep()}},{key:"setStep",value:function(t){this.current=t,this.updateStep()}},{key:"updateStep",value:function(){this.text.setText(this.data[this.current])}},{key:"update",value:function(t){this.controllerView.update(t)}},{key:"empty",value:function(){this.text.text=""}},{key:"showKeyBoard",value:function(){this.controllerView.showKeyBoard()}},{key:"hideKeyBoard",value:function(){this.controllerView.hideKeyBoard()}},{key:"showSpace",value:function(){this.controllerView.showSpace()}},{key:"hideSpace",value:function(){this.controllerView.hideSpace()}},{key:"show",value:function(){Object(o.tween)(this.position,.3,{y:0,ease:"Quad.easeOut"})}},{key:"hide",value:function(t){Object(o.tween)(this.position,t?.001:.3,{y:this.bg.height+this.controllerView.height+50,ease:"Quad.easeIn"})}},{key:"reset",value:function(){this.current=0,this.hideSpace(),this.hideKeyBoard(),this.hide(!0)}}])&&$a(e.prototype,n),r&&$a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(m.Container);function ao(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oo(t,e){return(oo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function so(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var uo=ot.Const.TEAM_STATE,co=0,lo=1,ho=2,po=3,fo=4,mo=function(t){var e,n;function r(e){var n;return so(ao(n=t.call(this)||this),"game",void 0),so(ao(n),"currentStep",void 0),so(ao(n),"skipped",void 0),so(ao(n),"shotCount",void 0),so(ao(n),"limitX",void 0),so(ao(n),"skipButton",void 0),so(ao(n),"controller",void 0),so(ao(n),"instruction",void 0),so(ao(n),"activeShoot",void 0),so(ao(n),"activeRelease",void 0),so(ao(n),"_onGoalScored",void 0),so(ao(n),"_onBallRecievedHUMANTACKLE",void 0),so(ao(n),"_onBallRecievedPass",void 0),so(ao(n),"_onBallRecievedB",void 0),so(ao(n),"_onPickUp",void 0),n.currentStep=0,n.shotCount=0,n.game=e,n.controller=e.controller,n.skipButton=new i.c({text:"STR_TITLE_SKIP",width:350,height:80}),n.skipButton.onPress.add((function(){n.game.teamLeft.children.forEach((function(t){t.shotBegin.disconnectAll(),t.shotEnd.disconnectAll(),t.shotSuccess.disconnectAll()})),g.a.gotoOverlay(wt.a.OVERLAY_ID.CONFIRMATION)})),n.addChild(n.skipButton),n.skipButton.visible=!1,n.instruction=new io(e.app.resize.width,e.app.resize.height),n.addChild(n.instruction),n.activeShoot=!1,n.activeRelease=!1,n._onGoalScored=n.onGoalScored.bind(ao(n)),n._onBallRecievedHUMANTACKLE=n.onBallRecievedHUMANTACKLE.bind(ao(n)),n._onBallRecievedPass=n.onBallRecievedPass.bind(ao(n)),n._onBallRecievedB=n.onBallRecievedB.bind(ao(n)),n._onPickUp=n.onPickup.bind(ao(n)),n.visible=!1,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,oo(e,n);var a=r.prototype;return a.start=function(){var t=this;this.skipped=!1,this.reset(),this.game.resetHalfTimeSwap(),this.instruction.reset(),this.currentStep=0,this.shotCount=0,this.activeShoot=!1,this.activeRelease=!1,this.skipButton.visible=!1,this.updateStep(),this.instruction.updateStep(),this.visible=!0,Object(o.delay)(1).then((function(){t.skipped||t.instruction.show()})),Object(o.delay)(4).then((function(){t.skipped||(t.skipButton.visible=!0)})),g.c.dispatch(h.a,{type:h.b.TUTORIAL_STARTED})},a.next=function(){this.skipped||(this.currentStep++,this.updateStep())},a.prev=function(){this.skipped||(this.currentStep--,this.updateStep())},a.updateStep=function(){var t=this;g.c.dispatch(h.a,{type:h.b.TUTORIAL_STEP_ADVANCED,data:{step:this.currentStep}});var e=this.game.controller,n=e.isSwipe;switch(this.currentStep){case co:this.skipButton.visible=!1,this.game.powerupManager.pause(),this.game.arrow.show(),this.game.pitch.hideLogo(),this.game.keeperManagerRight.hide(),this.game.keeperRight.hide(),this.game.keeperLeft.hide(),this.game.controller.lockRight=!1,this.game.controller.lockLeft=!0,this.game.controller.lockUp=!0,this.game.controller.lockDown=!0,this.game.goalLeft.disableGoal(),this.game.goalRight.disableGoal(),this.game.teamManagerLeft.hideAll(),this.game.teamManagerLeft.setState(uo.TUTORIAL_IDLE),this.game.teamManagerLeft.show(0,.35,.5),this.game.teamManagerLeft.setPlayer(this.game.teamManagerLeft.team[0]),this.game.teamManagerLeft.go(),this.game.teamManagerLeft.disableTackle(),this.game.teamManagerLeft.disableShoot(),this.game.teamManagerLeft.team.children[0].signals.onBallRecieved.addOnce(this._onPickUp),this.game.arrow.opos.x=this.game.teamManagerLeft.team.children[0].position.x+(this.game.ball.position.x-this.game.teamManagerLeft.team.children[0].position.x)/2,this.game.arrow.opos.y=this.game.ball.position.y,this.game.arrow.opos.z=this.game.ball.position.z+120,this.instruction.controllerView.highlightRight=!0,this.instruction.controllerView.highlightLeft=!1,this.instruction.controllerView.highlightSpace=!1,this.instruction.controllerView.disableLeft=!0,this.instruction.controllerView.disableRight=!1,this.instruction.controllerView.disableUp=!0,this.instruction.controllerView.disableDown=!0,this.instruction.controllerView.disableSpace=!0,this.instruction.showKeyBoard(),this.instruction.showSpace(),s.a.desktop||e.show(),n&&e.onboarding(),this.game.ball.setActive(!0),this.game.teamManagerRight.hideAll(),this.game.teamManagerRight.setState(uo.TUTORIAL_IDLE);break;case lo:n&&(e.stopOnboarding(),e.direction=new m.Point(0)),this.instruction.controllerView.highlightRight=!1,this.instruction.controllerView.highlightSpace=!0,this.game.controller.lockRight=!0,this.game.teamManagerLeft.setState(uo.TUTORIAL_IDLE),this.game.teamManagerLeft.show(2,.62,.64),this.game.teamManagerLeft.show(1,.72,.5),this.game.teamManagerLeft.team.children[2].movement.direction.x=1,this.game.teamManagerLeft.team.children[2].movement.direction.y=-1,this.game.arrow.hide(),Object(o.delay)(.1).then((function(){t.skipped||(t.game.arrow.opos.x=t.game.teamManagerLeft.team.children[1].position.x+(t.game.teamManagerLeft.team.children[0].position.x-t.game.teamManagerLeft.team.children[1].position.x)/2,t.game.arrow.opos.y=t.game.ball.position.y,t.game.arrow.opos.z=t.game.ball.position.z+120)})),this.game.teamManagerRight.show(1,.4,.5),this.instruction.controllerView.disableLeft=!0,this.instruction.controllerView.disableRight=!0,this.instruction.controllerView.disableUp=!0,this.instruction.controllerView.disableDown=!0,this.instruction.controllerView.disableSpace=!1,this.game.teamManagerLeft.team.children[2].signals.onBallRecieved.addOnce((function(){t.game.teamManagerLeft.setPlayer(t.game.teamManagerLeft.team.children[2]),t.game.teamManagerLeft.team.children[0].moveTo(.5*t.game.pitchWidth,.3*t.game.pitchHeight)})),this.game.teamManagerLeft.team.children[1].signals.onBallRecieved.addOnce(this._onBallRecievedPass);break;case ho:Object(o.delay)(1.3).then((function(){t.skipped||t.game.teamManagerLeft.team.children[2].stop()})),this.game.teamManagerLeft.setPlayer(this.game.teamManagerLeft.team.children[1]),this.instruction.controllerView.highlightSpace=!1,this.game.controller.lockSpace=!0,this.game.teamManagerLeft.disablePass(),this.game.teamManagerRight.disablePass(),this.game.teamManagerRight.setState(uo.TUTORIAL_TACKLE),this.instruction.controllerView.disableLeft=!0,this.instruction.controllerView.disableRight=!0,this.instruction.controllerView.disableUp=!0,this.instruction.controllerView.disableDown=!0,this.instruction.controllerView.disableSpace=!0,this.game.teamManagerRight.team.children[1].signals.onBallRecieved.addOnce(this._onBallRecievedB);break;case po:this.game.teamManagerLeft.setState(uo.TUTORIAL_IDLE),this.game.teamManagerRight.setState(uo.TUTORIAL_IDLE),this.game.teamManagerLeft.enableTackle(),this.game.teamManagerLeft.team.children[0].moveTo(.5*this.game.pitchWidth,.7*this.game.pitchHeight),Object(o.delay)(1).then((function(){t.skipped||t.game.teamManagerRight.team.children[1].moveTo(.46*t.game.pitchWidth,.5*t.game.pitchHeight)})),Object(o.delay)(1).then((function(){t.skipped||(n&&e.onboarding(!0),t.instruction.next())})),this.instruction.controllerView.highlightLeft=!1,this.instruction.controllerView.highlightSpace=!0,this.instruction.controllerView.highlightMovement=!0,this.instruction.controllerView.highlightMobileLeft=!0,this.instruction.controllerView.disableLeft=!1,this.instruction.controllerView.disableRight=!1,this.instruction.controllerView.disableUp=!0,this.instruction.controllerView.disableDown=!0,this.instruction.controllerView.disableSpace=!1,this.game.controller.lockSpace=!1,this.game.controller.lockLeft=!1,this.game.controller.lockUp=!0,this.game.controller.lockDown=!0,this.game.controller.lockRight=!1,this.game.teamManagerLeft.team.children[1].signals.onBallRecieved.addOnce(this._onBallRecievedHUMANTACKLE);break;case fo:Object(o.delay)(.1).then((function(){t.skipped||(t.game.arrow.show(),t.game.arrow.opos.x=t.game.teamManagerLeft.team.children[1].position.x+200,t.game.arrow.opos.y=t.game.ball.position.y,t.game.arrow.opos.z=t.game.ball.position.z+120)})),n&&(e.resetTrackpad(),e.stopOnboarding(),e.onboarding()),this.game.teamLeft.children.forEach((function(e){e.shotBegin.connect((function(){t.skipButton.visible=!1})),e.shotSuccess.connect((function(){t.instruction.hide()}))})),this.instruction.controllerView.highlightLeft=!1,this.instruction.controllerView.highlightSpace=!1,this.instruction.controllerView.highlightRight=!0,this.instruction.controllerView.highlightMovement=!1,this.instruction.controllerView.highlightMobileLeft=!1,this.instruction.controllerView.disableLeft=!0,this.instruction.controllerView.disableRight=!1,this.instruction.controllerView.disableUp=!0,this.instruction.controllerView.disableDown=!0,this.instruction.controllerView.disableSpace=!0,this.game.controller.lockSpace=!0,this.game.controller.lockLeft=!0,this.game.controller.lockUp=!0,this.game.controller.lockDown=!0,this.game.controller.lockRight=!1,this.game.goalRight.onGoalScored.connect(this._onGoalScored)}},a.onPickup=function(){this.game.teamManagerLeft.constrainPlayer=!1,this.game.arrow.hide(),this.next(),this.instruction.next()},a.onBallRecievedB=function(){this.next()},a.onBallRecievedPass=function(){this.next(),this.game.arrow.hide(),this.instruction.next()},a.onBallRecievedHUMANTACKLE=function(){this.instruction.next(),this.next()},a.onGoalScored=function(){var t=this;this.game.teamLeft.children.forEach((function(t){t.shotBegin.disconnectAll(),t.shotEnd.disconnectAll(),t.shotSuccess.disconnectAll()})),this.instruction.show(),this.game.goalRight.onGoalScored.disconnect(this._onGoalScored),this.skipButton.visible=!1,this.instruction.controllerView.highlightSpace=!1,g.c.dispatch(h.a,{type:h.b.TUTORIAL_ENDED}),this.instruction.final(),this.game.arrow.hide(),Object(o.delay)(5).then((function(){t.skipped||t.instruction.hide()})),Object(o.delay)(5.6).then((function(){t.skipped||(t.game.tutorialCompleted=!0,t.game.app.storage.saveData("cache"),t.game.reset(),t.game.start(),t.game.pitch.showLogo())}))},a.onTutorialSkipped=function(){this.skipped=!0,g.c.dispatch(h.a,{type:h.b.TUTORIAL_SKIPPED}),this.skipButton.visible=!1;var t=this.game.controller;t.isSwipe&&t.stopOnboarding(),Object(o.tween)(this.game.black,.8,{alpha:1,ease:"Sine.easeOut",onComplete:this.onTutorialSkippedFadeOut.bind(this)}),this.game.arrow.hide(),this.instruction.hide()},a.onTutorialSkippedFadeOut=function(){this.game.pitch.showLogo(),Object(o.tween)(this.game.black,.8,{alpha:0,ease:"Sine.easeOut"}),this.reset(),this.removeChild(this.instruction),this.game.tutorialCompleted=!0,this.game.app.storage.saveData("cache"),this.game.reset(),this.game.start()},a.update=function(t){this.instruction.update(this.controller);var e=this.game.controller,n=e.isSwipe;if(this.currentStep===po){var r=this.game.teamManagerLeft.activePlayer;if(!r)return;r.position.x<this.game.pitchWidth/2&&(this.instruction.controllerView.highlightLeft=!1,n&&e.stopOnboarding()),this.limitX&&(r.position.x>this.game.pitchWidth/2+this.limitX&&(r.position.x=this.game.pitchWidth/2+this.limitX,n&&e.direction.x>0&&e.resetTrackpad()),r.position.x<this.game.pitchWidth/2-this.limitX&&(r.position.x=this.game.pitchWidth/2-this.limitX,n&&e.direction.x<0&&e.resetTrackpad())),r.position.y<300&&(r.position.y=300),r.position.y>800&&(r.position.y=800)}else if(this.currentStep===fo){var i=this.game.teamManagerLeft.activePlayer;if(!i)return;i.position.x/this.game.pitchWidth>.8&&!this.activeShoot?(this.instruction.next(),this.activeShoot=!0,this.game.goalRight.enableGoal(),n&&(e.stopOnboarding(),e.resetTrackpad()),this.instruction.controllerView.highlightLeft=!1,this.instruction.controllerView.highlightSpace=!0,this.instruction.controllerView.highlightRight=!1,this.game.controller.lockSpace=!1,this.game.controller.lockLeft=!0,this.game.controller.lockUp=!0,this.game.controller.lockDown=!0,this.game.controller.lockRight=!0,this.instruction.controllerView.disableLeft=!0,this.instruction.controllerView.disableRight=!0,this.instruction.controllerView.disableUp=!0,this.instruction.controllerView.disableDown=!0,this.instruction.controllerView.disableSpace=!1,this.game.teamManagerLeft.enableShoot(),i.forceSuperShot=!0):this.activeShoot&&i.state===ot.Const.PLAYER_STATE.KICK_CHARGE&&!this.activeRelease?(this.activeRelease=!0,this.instruction.setStep(6),this.shotCount++,this.shotCount>8&&(i.forceSuperShot=!1)):this.activeShoot&&i.state===ot.Const.PLAYER_STATE.KICK_CHARGE&&this.activeRelease||this.activeShoot&&i.state!==ot.Const.PLAYER_STATE.KICK_CHARGE&&this.activeRelease&&(this.activeRelease=!1,i.ballSkills.ball&&this.shotCount<2?this.instruction.setStep(5):(this.instruction.hideKeyBoard(),this.instruction.hideSpace()))}},a.reset=function(){this.game.teamManagerLeft.team.children[0].signals.onBallRecieved.remove(this._onPickUp),this.game.teamManagerLeft.team.children[1].signals.onBallRecieved.remove(this._onBallRecievedPass),this.game.teamManagerRight.team.children[1].signals.onBallRecieved.remove(this._onBallRecievedB),this.game.teamManagerLeft.team.children[1].signals.onBallRecieved.remove(this._onBallRecievedHUMANTACKLE),this.game.goalRight.onGoalScored.disconnect(this._onGoalScored),this.currentStep=0,this.addChild(this.instruction)},a.resize=function(t,e){this.limitX=t/5,this.instruction.resize(t,e),this.skipButton.position.set(t/2,g.a.overlays.header.leftButton.y)},r}(m.Container);n(83);function go(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yo(t,e){return(yo=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function vo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var bo=new m.Point,_o=function(t){var e,n;function r(e){var n;vo(go(n=t.call(this)||this),"scene",void 0),vo(go(n),"camera",void 0),vo(go(n),"threeRenderer",void 0),vo(go(n),"w",void 0),vo(go(n),"h",void 0),vo(go(n),"layers",void 0),vo(go(n),"activeItemsContainer",void 0),vo(go(n),"renderTexture",void 0),vo(go(n),"renderTarget",void 0);var r=new Q.Scene,i=e.camera3d||new Q.PerspectiveCamera(40,4,1,3e3);return i.position.z=800,n.scene=r,n.camera=i,n.camera.position.x=0,n.camera.position.y=0,n.w=-1,n.h=-1,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,yo(e,n);var i=r.prototype;return i._render=function(t){t.batch.flush(),t.reset(),this.camera.update(),this.threeRenderer||(this.threeRenderer=new Q.WebGLRenderer({context:t.gl}),this.threeRenderer.setSize(800,600),this.threeRenderer.autoClear=!1,this.threeRenderer.autoClearColor=!1),this.threeRenderer.resetGLState(),this.threeRenderer.render(this.scene,this.camera),t.reset(),t.batch.flush()},i.init=function(t){},i.preupdate=function(t){},i.update=function(){},i.postupdate=function(t){},i.add=function(t){t.view3d&&this.scene.add(t.view3d)},i.remove=function(t){t.view3d&&this.scene.remove(t.view3d)},i.clear=function(){for(var t in this.layers)this.layers[t].removeChildren()},i.addLayer=function(t){this.layers[t]=new m.Container,this.activeItemsContainer.addChild(this.layers[t])},i.bringToFront=function(t){var e=this.layers[t.view.layer],n=e.children.indexOf(t.view);-1!=n&&(e.children.splice(n,1),e.children.push(t.view))},i.toScreenPosition=function(t){return $e.LegacyUtils.toScreenPosition(t.view3d,this.w,this.h,this.camera,bo)},i.resize=function(t,e){this.w===t&&this.h===e||(this.w=t,this.h=e,this.camera.aspect=t/e,this.camera.updateProjectionMatrix())},r}(m.Container);function wo(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function xo(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){wo(a,r,i,o,s,"next",t)}function s(t){wo(a,r,i,o,s,"throw",t)}o(void 0)}))}}function So(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function To(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}A.a.game=new A.a;var Mo=function(){function t(t){var e=this;To(this,"app",void 0),To(this,"balanceManager",void 0),To(this,"teamManagerLeft",void 0),To(this,"teamManagerRight",void 0),To(this,"keeperManagerLeft",void 0),To(this,"keeperManagerRight",void 0),To(this,"powerupManager",void 0),To(this,"tutorialManager",void 0),To(this,"controller",void 0),To(this,"timer",void 0),To(this,"goldenGoalTimeCounter",void 0),To(this,"view",void 0),To(this,"shootDirectionArrows",void 0),To(this,"black",void 0),To(this,"vignette",void 0),To(this,"world",void 0),To(this,"particleSystem",void 0),To(this,"arrow",void 0),To(this,"hud",void 0),To(this,"ballPicker",void 0),To(this,"lighting3d",void 0),To(this,"pitch",void 0),To(this,"ball",void 0),To(this,"goalLeft",void 0),To(this,"goalRight",void 0),To(this,"keeperLeft",void 0),To(this,"keeperRight",void 0),To(this,"teamLeft",void 0),To(this,"teamRight",void 0),To(this,"superMove",void 0),To(this,"coinSplash",void 0),To(this,"challengeCoinSplash",void 0),To(this,"hasInit",void 0),To(this,"contentLoaded",void 0),To(this,"isGameover",void 0),To(this,"goldenGoal",void 0),To(this,"paused",void 0),To(this,"score",void 0),To(this,"points",void 0),To(this,"counter",void 0),To(this,"speed",void 0),To(this,"endState",void 0),To(this,"goalsA",void 0),To(this,"goalsB",void 0),To(this,"pitchWidth",void 0),To(this,"pitchHeight",void 0),To(this,"stats",void 0),To(this,"scripts",void 0),To(this,"halfTimeSwapped",void 0),To(this,"_boundInit",!1),To(this,"isBlurring",void 0),To(this,"_active",void 0),To(this,"w",void 0),To(this,"h",void 0),To(this,"onGameover",void 0),this.app=t,this.onGameover=new R.Signal,this.hasInit=!1,this.contentLoaded=!1,this.isGameover=!1,this.paused=!0,this.score=0,this.counter=0,this.view=new m.Container,this.world=new M.a.World,this.halfTimeSwapped=!1,A.a.game.start();var n={camera:new q(this),camera3d:new at(this)};this.stats=new Hr(this.app),this.world.install(new M.a.CrashWorld,"crash"),this.world.install(new M.a.PixiView(n),"view"),this.world.install(new _o(n),"view3d"),this.app.visibility.onVisibilityChange.connect((function(t){t||e.tutorialCompleted&&e.active&&e.app.controller.pauseGame()})),Object(g.g)(this)}var e,n,r,i=t.prototype;return i.init=function(){var t=xo(regeneratorRuntime.mark((function t(){var e,n,r,i,a,u,l,h,d,p,f,g,y,v=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.hasInit){t.next=2;break}return t.abrupt("return");case 2:return e=[],this.arrow=new rn,this.world.overlay=new m.Container,this.world.view3d.scene.add(this.arrow),this.view.addChild((new m.Graphics).beginFill(1044480).drawRect(0,0,2,2)),this.view.addChild(this.world.view3d),this.world.crash.registerCollison(0,1),this.world.crash.registerCollison(1,1),this.world.crash.registerCollison(1,4),this.lighting3d=new L.Object3D,n=new L.AmbientLight(10397865),(r=new L.DirectionalLight(16186107,.6)).position.set(0,0,1e4),this.lighting3d.add(n),this.lighting3d.add(r),this.world.view3d.scene.add(this.lighting3d),this.world.game=this,this.balanceManager=new B(this),this.pitch=new gr(this.app),this.world.add(this.pitch),this.goalLeft=new Ln(this.app),this.goalRight=new Ln(this.app,!0),e.push(this.goalLeft.init()),e.push(this.goalRight.init()),this.keeperLeft=new lr(!1),this.keeperRight=new lr(!0),this.ball=new En(this.app),e.push(this.ball.init()),this.teamLeft=new M.a.Group([new Or(!1),new Or(!1),new Or(!1)]),this.teamRight=new M.a.Group([new Or(!0),new Or(!0),new Or(!0)]),this.teamLeft.run((function(t){return t.setTeam(v.teamLeft)})),this.teamRight.run((function(t){return t.setTeam(v.teamRight)})),o.Params.get("ballDebug",!1)&&(i=new S.a,(a=i.addFolder("Ball")).add(this.ball.view3d.position,"x").min(-15).max(15).step(),a.add(this.ball.view3d.position,"y").min(-15).max(15).step(),a.add(this.ball.view3d.position,"z").min(-15).max(15).step()),o.Params.get("spineDebug",!1)&&(u=new S.a,l=[],this.teamLeft.run((function(t){l.push(t.view3d)})),h=u.addFolder(D.b.teamA[0].id),d=u.addFolder(D.b.teamA[1].id),p=u.addFolder(D.b.teamA[2].id),f={char1:1,char2:1,char3:1},.16,h.add(f,"char1").min(.1).max(3).step(.01).onChange((function(){l[0].scaleContainer.scale.x=.16*f.char1,l[0].scaleContainer.scale.y=.16*f.char1,l[0].scaleContainer.scale.z=.16*f.char1})),d.add(f,"char2").min(.1).max(3).step(.01).onChange((function(){l[1].scaleContainer.scale.x=.16*f.char2,l[1].scaleContainer.scale.y=.16*f.char2,l[1].scaleContainer.scale.z=.16*f.char2})),p.add(f,"char3").min(.1).max(3).step(.01).onChange((function(){l[2].scaleContainer.scale.x=.16*f.char3,l[2].scaleContainer.scale.y=.16*f.char3,l[2].scaleContainer.scale.z=.16*f.char3}))),this.world.addGroup(this.teamLeft),this.world.addGroup(this.teamRight),this.speed=1,this.endState=0,this.setPositions(),this.teamManagerLeft=new za(this,this.teamLeft,this.teamRight),this.teamManagerLeft.setSide(!0),this.teamManagerLeft.human=!0,this.teamManagerRight=new za(this,this.teamRight,this.teamLeft),this.teamManagerRight.setSide(!1),this.keeperManagerRight=new Fr.a(this.keeperRight,!1,this),this.keeperManagerLeft=new Fr.a(this.keeperLeft,!0,this),this.powerupManager=new ea(this),this.black=(new m.Graphics).beginFill(0).drawRect(0,0,100,100),this.goalLeft.onGoalScored.connect(this.onGoalScored.bind(this)),this.goalRight.onGoalScored.connect(this.onGoalScored.bind(this)),this.scripts={start:new la(this),goal:new aa(this),super:new da.a(this),end:new ra(this),shoot:new sa.a(this)},this.hud=new Qe(this),this.world.view.interactiveChildren=!1,this.ballPicker=new Ot,this.ballPicker.onBallSelected.connect((function(t){return v.ball.setBall(t)})),this.shootDirectionArrows=new x,this.view.addChild(this.world.overlay),this.view.addChild(this.hud.party),this.view.addChild(this.hud),this.view.addChild(this.shootDirectionArrows),this.view.addChild(this.ballPicker),this.view.addChild(this.ball.view),this.view.addChild(this.black),this.superMove=new Ra(this.app),g=c.a.debug.quickGame?10:ot.Const.GAME.TIME,this.timer=new C.a(o.Params.get("gameDuration",g),A.a.game),this.timer.onComplete.add(this.onTimeUp,this),this.active=!1,this.goldenGoalTimeCounter=0,this.black.alpha=0,this.goalsA=0,this.goalsB=0,this.teamManagerRight.debug.position.x=400,this.view.addChild(this.superMove),this.vignette=m.Sprite.from("assets/base-game/fx/overlays/vignette.png"),this.vignette.anchor.set(.5),this.view.addChild(this.vignette),this.vignette.blendMode=m.BLEND_MODES.SCREEN,y=s.a.desktop&&!o.Params.get("swipeController",!1)?lt:_t,this.controller=new y(this),this.goldenGoal=!1,this.tutorialManager=new mo(this),this.view.addChild(this.tutorialManager),this.coinSplash=new P.a(this.app),this.challengeCoinSplash=new P.a(this.app),t.next=89,Promise.all(e);case 89:this.world.add(this.goalLeft),this.world.add(this.goalRight),this.world.add(this.keeperRight),this.world.add(this.keeperLeft),this.world.add(this.ball),this.world.add(this.powerupManager),this.hasInit=!0,this.resize(this.w,this.h),this.view.addChild(this.app.achievements.container);case 98:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.activateHalfTimeSwap=function(){this.halfTimeSwapped=!0,this.teamManagerLeft.setSide(!1),this.teamManagerRight.setSide(!0),this.goalLeft.setOpponentGoal(!0),this.goalRight.setOpponentGoal(!1);var t=this.app.kits.getTeamColor(O.b.B);this.keeperLeft.setData(O.b.B,D.b.teamB[3],t);var e=this.app.kits.getTeamColor(O.b.A);this.keeperRight.setData(O.b.A,D.b.teamA[3],e)},i.resetHalfTimeSwap=function(){this.halfTimeSwapped=!1,this.teamManagerLeft.setSide(!0),this.teamManagerRight.setSide(!1),this.goalLeft.setOpponentGoal(!1),this.goalRight.setOpponentGoal(!0);var t=this.app.kits.getTeamColor(O.b.A);this.keeperLeft.setData(O.b.A,D.b.teamA[3],t);var e=this.app.kits.getTeamColor(O.b.B);this.keeperRight.setData(O.b.B,D.b.teamB[3],e)},i.refreshStadiumDecoration=function(){var t=this.app.stadiums.activeDecoration;this.particleSystem&&this.world.view3d.scene.remove(this.particleSystem),t&&(this.particleSystem=t,this.world.view3d.scene.add(this.particleSystem))},i.setPositions=function(){this.pitchWidth=1600,this.pitchHeight=900,this.pitch.view.width=1600,this.pitch.view.height=900,this.setBounds(new m.Rectangle(0,0,1600,900)),this.ball.position.x=800,this.ball.position.y=450,this.ball.body.velocity.set(0),this.goalLeft.position.x=-100,this.goalLeft.left=!0,this.goalLeft.position.y=450,this.goalRight.position.x=1600,this.goalRight.position.y=450,this.keeperRight.position.x=1570,this.keeperRight.position.y=450,this.keeperLeft.position.x=30,this.keeperLeft.position.y=450,this.teamLeft.run((function(t){t.position.x=800,t.position.y=0}),this),this.teamRight.run((function(t){t.position.x=800,t.position.y=0}),this)},i.getMatchType=function(){var t=D.b.tournamentData.final.length>0,e=D.b.tournamentData.semi.length>0,n="quarter";return t?n="final":e?n="semi":D.b.gameMode===D.a.LEAGUES&&(n="leagues"),n},i.animateCoin=function(t,e){var n=this;u.default.playSfx("sfx_getcoins");for(var r=t.x,i=t.y,a=0;a<e;a++)Object(o.delay)(.1*a).then((function(){return n._animateCoin(r,i,1)}))},i._animateCoin=function(t,e,n){var r=this,i=m.Sprite.from("coin.png");this.app.overlays.header.addChild(i),i.anchor.set(.5),i.position.x=t,i.position.y=e,Object(o.delay)(.25).then((function(){return r.app.controller.updateCoins(n)})),Object(o.tween)(i.position,.8,{x:this.app.overlays.header.coinBar.x,y:44,ease:"Quad.easeOut",onComplete:function(){if(Math.random()>.1){var t=m.Sprite.from("coing-ring.png");t.anchor.set(.5),t.position.x=i.position.x,t.position.y=i.position.y,r.app.overlays.header.addChild(t),Object(o.tween)(t.scale,.8,{x:1.5,y:1.5,onComplete:function(){r.app.overlays.header.removeChild(t)}}),Object(o.tween)(t,.8,{alpha:0})}r.app.overlays.header.removeChild(i)}})},i.onGoalScored=function(t){var e=this;if(this.teamManagerLeft.canShoot){if(this.powerupManager.clear(),this.powerupManager.pause(),this.ball.perfect=!1,this.world.view.camera.shake(),u.default.playSfx("crowd_goal_3"),t.isOpponentGoal){this.stats.onGoalScored(this.teamManagerLeft.lastShotCharacterId);var n={x:this.w/2,y:220};this.tutorialCompleted&&Object(o.delay)(2).then((function(){e.coinSplash.start(15,n.x,n.y,!0),u.default.playSfx("goal_coins")})),this.goalsA++,this.tutorialCompleted&&g.c.dispatch(d.a,{type:d.b.GOAL_SCORED,data:{characterId:this.teamManagerLeft.lastShotCharacterId,time:this.timer.getSeconds()}})}else this.stats.onGoalConceded(this.teamManagerRight.lastShotCharacterId),this.goalsB++;this.goldenGoal?this.finish():this.scripts.goal.run(t.isOpponentGoal)}},i.rewardCoins=function(t){this.challengeCoinSplash.start(t,400,150),u.default.playSfx("goal_coins")},i.reset=function(){this.vignette.alpha=0,this.tutorialCompleted?this.hud.scorePanel.alpha=1:this.hud.scorePanel.alpha=0,this.stats.reset(),this.keeperLeft.ballSkills.ball&&this.keeperLeft.ballSkills.releaseBall(),this.keeperRight.ballSkills.ball&&this.keeperRight.ballSkills.releaseBall(),this.setPositions(),this.isGameover=!1,this.goldenGoal=!1,this.scripts.start.reset(),this.scripts.goal.reset(),this.scripts.super.reset(),this.scripts.end.reset(),this.scripts.shoot.reset(),this.powerupManager.clear(),this.resetHalfTimeSwap(),this.teamManagerLeft.resetPositions(!0,!1),this.teamManagerLeft.showAll(),this.teamManagerRight.resetPositions(!1,!1),this.teamManagerRight.showAll(),this.keeperManagerLeft.show(),this.keeperManagerRight.show(),this.keeperLeft.show(),this.keeperRight.show(),this.powerupManager.clear(),this.powerupManager.pause(),this.goalLeft.enableGoal(),this.goalRight.enableGoal(),this.teamManagerLeft.constrainPlayer=!1,this.teamManagerLeft.enablePass(),this.teamManagerLeft.enableTackle(),this.teamManagerLeft.enableShoot(),this.controller.refreshMode&&this.controller.refreshMode(),this.controller.lockRight=!1,this.controller.lockLeft=!1,this.controller.lockUp=!1,this.controller.lockDown=!1,this.controller.lockSpace=!1,this.controller.movementPointer&&(this.controller.movementPointer.alpha=0),this.controller.buttonPointer&&(this.controller.buttonPointer.alpha=0),this.controller.stopOnboarding&&this.controller.stopOnboarding(),this.controller.hideHint&&this.controller.stopOnboarding(),this.counter=0,this.score=0,this.goalsA=0,this.goalsB=0,this.hud.reset(),this.ball.reset(),this.world.view3d.camera.endMode=!1,this.timer.reset(),this.goldenGoalTimeCounter=0},i.setup=function(){var t=xo(regeneratorRuntime.mark((function t(){var e,n,r,i,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.a.debug.quickGame?10:ot.Const.GAME.TIME,this.timer.setDuration(o.Params.get("gameDuration",n),A.a.game),this.reset(),this.controller.hide&&this.controller.hide(),this.ball.view3d.visible=!1,this.hud.visible=!1,this.teamLeft.run((function(t){t.view3d.visible=!1,t.view3d.reticle.hide()})),this.teamRight.run((function(t){t.view3d.visible=!1,t.view3d.reticle.hide()})),null===(e=this.world.groups.pickup)||void 0===e||e.run((function(t){t.view3d.visible=t.shadow.visible=!1})),this.goalLeft.refreshStadium(),this.goalRight.refreshStadium(),this.pitch.refreshStadium(),this.pitch.loadBanners(),this.refreshStadiumDecoration(),this.tutorialCompleted&&this.pitch.showLogo(),r=[],i=this.app.kits.getTeamColor(O.b.A),r.push(this.teamManagerLeft.setTeam(O.b.A,D.b.teamA,i)),this.keeperLeft.setData(O.b.A,D.b.teamA[3],i),a=this.app.kits.getTeamColor(O.b.B),r.push(this.teamManagerRight.setTeam(O.b.B,D.b.teamB,a)),this.keeperRight.setData(O.b.B,D.b.teamB[3],a),D.b.gameMode===D.a.TOURNAMENT?this.hud.setData(D.b.countryID,D.b.opponentID,!0):D.b.gameMode===D.a.LEAGUES&&this.hud.setData({name:"STR_SUPERSQUAD_YOU",abbreviation:"STR_SUPERSQUAD_YOU_ABV"},D.b.superSquad),t.next=25,Promise.all(r);case 25:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.start=function(){var t=xo(regeneratorRuntime.mark((function t(){var e,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:D.b.gameMode===D.a.TOURNAMENT&&this.app.leaderboard.retrieveSessionKey(D.b.countryID.ID,D.b.opponentID.ID),D.b.savedGame&&(this.goalsA=D.b.savedGame.goalsA,this.goalsB=D.b.savedGame.goalsB,this.timer.count=D.b.savedGame.gameTime,D.b.savedGame.halfTimeSwapped&&this.activateHalfTimeSwap()),this.tutorialCompleted?(e=!0,n=!0,r=!1,D.b.savedGame&&(e=!1,r=!0,D.b.savedGame.lastOwner&&D.b.savedGame.lastOwner.isTeamA&&(n=!1)),this.scripts.start.run(e,n,r),D.b.savedGame=null,this.hud.scorePanel.alpha=1):(this.tutorialManager.resize(this.w,this.h),this.tutorialManager.start(),this.hud.scorePanel.alpha=0),this.ball.view3d.visible=!0,this.hud.show(),this.teamLeft.run((function(t){t.view3d.visible=!0,t.view3d.reticle.show()})),this.teamRight.run((function(t){t.view3d.visible=!0,t.view3d.reticle.show()})),o.Params.get("hideOpponent",!1)&&this.teamManagerRight.hideAll(),this.resume();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.pause=function(){this.paused||(this.paused=!0,this.view.interactive=!1,A.a.game.stop())},i.resume=function(){this.paused&&(this.paused=!1,this.view.interactive=!0,A.a.game.start())},i.update=function(t){this.superMove.update(t),this.particleSystem&&this.particleSystem.update(t),!this.paused&&A.a.game.active&&(this.tutorialCompleted||this.tutorialManager.update(t),this.goldenGoal&&(this.goldenGoalTimeCounter+=t),A.a.game.speed+=.3*(.8*this.speed-A.a.game.speed),this.counter+=t,this.world.crash.dt=A.a.game.speed,this.world.update(t),this.teamManagerLeft.activePlayer&&this.teamManagerLeft.activePlayer.ballSkills.ball&&this.stats.incrementPossession(t/60),this.world.view3d.camera.focusMode?(this.vignette.alpha+=.05*(1-this.vignette.alpha)*t,this.vignette.scale.x-=.005*t,this.vignette.scale.y-=.005*t):this.vignette.alpha+=.1*(0-this.vignette.alpha)*t,this.balanceManager.update(),this.arrow.update(t),this.controller.update(t),this.keeperManagerRight.update(),this.keeperManagerLeft.update(),this.teamManagerLeft.update(),this.teamManagerRight.update(),this.hud.update(t),this.ballPicker.updateTimer(t))},i.onTimeUp=function(){this.tutorialCompleted&&(this.halfTimeSwapped?this.goalsA===this.goalsB?(this.goldenGoal||this.hud.message.show("POWERUP",{name:"STR_GAME_GOLDEN_GOAL2",color:"#fcca2e"}),this.goldenGoal=!0):(this.finish(),this.teamManagerLeft.disableShoot()):(this.teamManagerLeft.disableShoot(),this.scripts.end.run(ot.Const.END_STATE.HALFTIME)))},i.getResultMultiplier=function(){var t=this.goalsA-this.goalsB<=0,e=D.b.tournamentData.final.length>0,n=D.b.tournamentData.semi.length>0,r=1,i=5;e?r=4:!e&&n&&(r=2.5),t?i=1.5:this.goldenGoal&&(i=3);var a=i+(this.goalsA-this.goalsB);return a*=r,a=Math.round(a)},i.forcePlayerWin=function(){this.goalsA=this.goalsB+1,this.finish()},i.forcePlayerLose=function(){this.goalsB=this.goalsA+1,this.finish()},i.finish=function(){this.active=!1,this.goldenGoal=!1,this.points=0,this.app.userStats.incrementValue(l.d.TOTAL_MATCHES_PLAYED,1),D.b.gameMode===D.a.TOURNAMENT?this.app.userStats.incrementValue(l.d.TOURNAMENT_MATCHES_PLAYED,1):D.b.gameMode===D.a.LEAGUES&&this.app.userStats.incrementValue(l.d.LEAGUE_MATCHES_PLAYED,1);var t={match_type:this.getMatchType(),score:this.goalsA+" - "+this.goalsB,gameTime:Math.round((this.timer.count+this.goldenGoalTimeCounter)/60),tackleTotal:this.stats.tackleTotal,tackleSuccess:this.stats.tackleSuccess,shootTotal:this.stats.shootTotal,passTotal:this.stats.passTotal,passSuccess:this.stats.passSuccess,opponentTackle:this.stats.opponentTackle,opponentTackleSuccess:this.stats.opponentTackleSuccess,possession:Math.round(this.stats.possession)};if(this.goalsA>this.goalsB){this.endState=ot.Const.END_STATE.WIN;var e=D.b.teamA.map((function(t){return t.id}));D.b.gameMode===D.a.TOURNAMENT?this.app.userStats.incrementValue(l.d.TOURNAMENT_MATCHES_WON,1):D.b.gameMode===D.a.LEAGUES&&this.app.userStats.incrementValue(l.d.LEAGUE_MATCHES_WON,1),g.c.dispatch(d.a,{type:d.b.MATCH_WON,data:{team:e}}),g.c.dispatch(h.a,{type:h.b.GAME_MATCH_WON,data:t}),"final"===this.getMatchType()&&(g.c.dispatch(d.a,{type:d.b.TOURNAMENT_WON,data:{team:e}}),g.c.dispatch(h.a,{type:h.b.GAME_TOURNAMENT_WON}),D.b.gameMode===D.a.TOURNAMENT&&this.app.userStats.incrementValue(l.d.TOURNAMENT_COMPETITIONS_WON,1))}else this.goalsA===this.goalsB?(this.endState=ot.Const.END_STATE.DRAW,D.b.gameMode===D.a.TOURNAMENT?this.app.userStats.incrementValue(l.d.TOURNAMENT_MATCHES_DRAWN,1):D.b.gameMode===D.a.LEAGUES&&this.app.userStats.incrementValue(l.d.LEAGUE_MATCHES_DRAWN,1)):(this.endState=ot.Const.END_STATE.LOSE,D.b.gameMode===D.a.TOURNAMENT?this.app.userStats.incrementValue(l.d.TOURNAMENT_MATCHES_LOST,1):D.b.gameMode===D.a.LEAGUES&&this.app.userStats.incrementValue(l.d.LEAGUE_MATCHES_LOST,1),g.c.dispatch(h.a,{type:h.b.GAME_MATCH_LOST,data:t}));if(g.c.dispatch(d.a,{type:d.b.MATCH_ENDED,data:{state:this.endState,team:D.b.teamA.map((function(t){return t.id}))}}),D.b.gameMode===D.a.TOURNAMENT){var n=this.getResultMultiplier();this.app.leaderboard.uploadPoints(n),this.app.userStats.incrementCountryDataValue(D.b.countryID.ID,l.d.TOURNAMENT_POINTS_SENT_TO_LEADERBOARD,n)}D.b.gameMode===D.a.LEAGUES&&(this.points=o.Params.get("leaguesDebug",c.a.debug.instantPromotion)?1e3:15+5*(this.goalsA-this.goalsB)),this.scripts.end.run(this.endState)},i.gameover=function(){		this.isGameover||(this.isGameover=!0,this.onGameover.emit(),this.app.challenges.onGameEnd.emit())},i.setBounds=function(t){if(!this._boundInit){this._boundInit=!0;var e=new Nr(t.x-100,0,100,t.height/2-100),n=new Nr(t.x-100,t.height/2+100,100,t.height/2-100),r=new Nr(t.x-200+20,-100,100,t.height+200);r.net=!0;var i=new Nr(t.x+t.width,0,100,t.height/2-100),a=new Nr(t.x+t.width,t.height/2+100,100,t.height/2+100),o=new Nr(t.x+t.width+100-20,-100,100,t.height+200);o.net=!0;var s=new Nr(t.x-100,t.y-100,t.width+200,100),u=new Nr(t.x-100,t.y+t.height,t.width+200,100);this.world.add(e),this.world.add(n),this.world.add(r),this.world.add(i),this.world.add(a),this.world.add(o),this.world.add(s),this.world.add(u)}},i.resize=function(t,e){this.w=t,this.h=e,this.hasInit&&(this.hud.resize(t,e),this.ballPicker.position.set(t/2,3*e/4-25),this.controller.resize(t,e),this.world.view3d.resize(t,e),this.black.scale.set(t/100,e/100),this.ball.view.position.set(t/2,e/2),this.shootDirectionArrows.position.set(t/2,e-25),this.tutorialCompleted||this.tutorialManager.resize(t,e),this.vignette.position.set(t/2,e/2),this.superMove.resize(t,e))},e=t,(n=[{key:"active",get:function(){return this._active},set:function(t){this._active=t,t?this.app.overlays.header.enable():this.app.overlays.header.disable()}},{key:"tutorialCompleted",get:function(){return c.a.cache.tutorialCompleted&&c.a.settings.controls===p.a.CLASSIC||c.a.cache.swipeTutorialCompleted&&c.a.settings.controls===p.a.SWIPE},set:function(t){c.a.settings.controls===p.a.CLASSIC&&(c.a.cache.tutorialCompleted=t),c.a.settings.controls===p.a.SWIPE&&(c.a.cache.swipeTutorialCompleted=t)}}])&&So(e.prototype,n),r&&So(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Eo(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function Ao(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){Eo(a,r,i,o,s,"next",t)}function s(t){Eo(a,r,i,o,s,"throw",t)}o(void 0)}))}}function ko(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Co(t,e){return(Co=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Oo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Lo=function(t){var e,n;function r(e){var n;return Oo(ko(n=t.call(this,e)||this),"app",void 0),Oo(ko(n),"game",void 0),Oo(ko(n),"continueButton",void 0),Oo(ko(n),"coreAssetsLoaded",void 0),Oo(ko(n),"characterAssetsLoaded",void 0),Oo(ko(n),"firstRun",void 0),n.app=e,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Co(e,n);var s=r.prototype;return s.init=function(){var t=Ao(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.game=new Mo(this.app),this.game.onGameover.connect(this.onGameover.bind(this)),this.view.addChild(this.game.view),this.app.game=this.game,this.continueButton=new i.c({color:i.a.GREEN,text:"STR_CONTINUE",width:300}),this.continueButton.onPress.add(this.onContinueButtonPressed,this),this.continueButton.visible=!1,this.view.addChild(this.continueButton),t.next=10,this.game.init();case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.show=function(){var t=Ao(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.continueButton.visible=!1,t.next=3,this.game.setup();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.quit=function(){this.app.controller.exitGame()},s.onGameover=function(){D.b.gameMode===D.a.TOURNAMENT?this.onTournamentMatchEnd():(D.b.isContinue=!1,this.continueButton.visible=!0,this.continueButton.alpha=0,Object(o.tween)(this.continueButton,.4,{alpha:1}))},s.onTournamentMatchEnd=function(){var t=Ao(regeneratorRuntime.mark((function t(){var e,n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=D.b.matchResult.goalsA-D.b.matchResult.goalsB,n=e<=0,r=D.b.tournamentData.final.length>0,n?this.app.controller.exitGame(a.a.coins>=50?wt.a.SCREEN_ID.UNLOCKABLES:wt.a.SCREEN_ID.LEADERBOARD):(i=null,r?(D.b.tournamentData.winner=[D.b.countryID],i=wt.a.SCREEN_ID.TEAM_REVIEW):i=wt.a.SCREEN_ID.TOURNAMENT,this.app.ads.canPlayInterstitial()||o.Params.get("enableRewards",!1)?this.app.controller.exitGame(wt.a.SCREEN_ID.INTERSTITIAL_REWARDS,{data:{nextScene:i}}):this.app.controller.exitGame(i));case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.onContinueButtonPressed=function(){var t=Ao(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return D.b.isContinue=!0,t.next=3,this.app.controller.exitGame(wt.a.SCREEN_ID.LEAGUES);case 3:e=D.b.matchResult.goalsA-D.b.matchResult.goalsB,e<=0||this.app.leagues.progress(this.game.points);case 6:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),s.shown=function(){var t=Ao(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s.hide=function(){this.game.pause()},s.hidden=function(){this.game.pause()},s.onOverlayShow=function(){this.game.pause()},s.onOverlayHide=function(){this.game.isGameover||this.game.resume()},s.update=function(t){this.game.update(t)},s.resize=function(e,n){t.prototype.resize.call(this,e,n),this.game.resize(e,n),this.continueButton.x=e/2,this.continueButton.y=n/2+300},r}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return ye}));n(21),n(5),n(34),n(19);var r=n(130),i=n(110),a=n(6),o=(n(27),n(11)),s=n(116),u=(n(23),n(29),n(30),n(15),n(22),n(20),n(33),n(35),n(39),n(174));function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=[],h=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.groups={},(null==n?void 0:n.groups)&&this.initGroups(n.groups)}var e,n,r;return e=t,(n=[{key:"entityAddedToScene",value:function(t){for(var e=0;e<t.groups.length;e++){var n=t.groups[e],r=this.groups[n];r||(r=this.groups[n]=new u.a),r.add(t)}}},{key:"entityRemovedFromScene",value:function(t){for(var e=0;e<t.groups.length;e++){var n=t.groups[e];this.groups[n].remove(t)}}},{key:"initGroups",value:function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.groups[n];r||(r=this.groups[n]=new u.a)}}},{key:"find",value:function(t,e){var n=this.groups;if(e){if(n[e])for(var r=n[e].children,i=0;i<r.length;i++)if(r[i].name===t)return r[i]}else for(var a=this.scene.allEntities.children,o=0;o<a.length;o++)if(a[o].name===t)return a[o];return null}},{key:"findAll",value:function(t,e){var n=this.groups;if(!n[e])return null;var r=n[e].children;l.length=0;for(var i=0;i<r.length;i++)r[i].name===t&&l.push(r[i]);return l}},{key:"reset",value:function(){var t=this.groups;for(var e in t)t[e].empty()}},{key:"empty",value:function(){this.reset()}}])&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();h.DEFAULT_NAME="group";n(83);var d=n(143),p=n(24);function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var m=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.signals={}}var e,n,r;return e=t,(n=[{key:"register",value:function(){for(var t=0;t<arguments.length;t++){var e=t<0||arguments.length<=t?void 0:arguments[t];this.signals[e]||(this.signals[e]=new p.Signal)}}},{key:"resetSignals",value:function(){for(var t in this.signals)this.signals[t].disconnectAll()}}])&&f(e.prototype,n),r&&f(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),g=n(253);function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var b=function(){function t(){var e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y(this,t),this.timeScale=1,this.fps=60,this.maxDeltaTime=50,this._deltaTime=0,this._frameTime=0,this.timeScale=null!==(e=r.timeScale)&&void 0!==e?e:1,this.fps=null!==(n=r.fps)&&void 0!==n?n:60,this._lastTime=performance.now(),this._frameDuration=1e3/this.fps}var e,n,r;return e=t,(n=[{key:"nextUpdate",value:function(){var t=performance.now();this._deltaTime=Math.min(t-this._lastTime,this.maxDeltaTime),this._frameTime=this._deltaTime/this._frameDuration,this._lastTime=t}},{key:"deltaTime",get:function(){return this._deltaTime*this.timeScale}},{key:"unscaledDeltaTime",get:function(){return this._deltaTime}},{key:"frameTime",get:function(){return this._frameTime*this.timeScale}},{key:"unscaledFrameTime",get:function(){return this._frameTime}}])&&v(e.prototype,n),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),_=n(252);function w(t){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function x(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=A(t);if(e){var i=A(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return E(this,n)}}function E(t,e){if(e&&("object"===w(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function A(t){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var k=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T(t,e)}(a,t);var e,n,r,i=M(a);function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return x(this,a),(t=i.call(this)).time=new b,t._width=100,t._height=100,t._entitiesToRemove=[],t._entitiesToAdd=[],t.allEntities=new u.a,t._onUpdateEntities=new d.a("run",1),t._onRenderEntities=new d.a("run",2),t.onResize=new d.a("resize",2),t.onEntityAddedToScene=new d.a("entityAddedToScene",1),t.onEntityRemovedFromScene=new d.a("entityRemovedFromScene",1),t.onPreupdate=new d.a("preupdate",1),t.onPostupdate=new d.a("postupdate",1),t.onPrerender=new d.a("prerender",1),t.onPostrender=new d.a("postrender",1),t.onEmpty=new d.a("empty",1),t._system=new _.a,t._system.name="system",t.addToScene(t._system),t.paused=!1,t._updateAndRender=void 0===e.updateAndRender||e.updateAndRender,t.signals=t._system.signals,t._runners=[t.onResize,t.onEntityAddedToScene,t.onEntityRemovedFromScene,t.onPreupdate,t.onPostupdate,t.onPrerender,t.onPostrender,t.onEmpty],t}return e=a,(n=[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}},{key:"addSystem",value:function(t,e,n){if(n=n||Object(g.a)(t),this._system.getComponent(t))throw new Error("[Scene] ".concat(n," system already exists"));var r=this._system.addComponent(t,e,n);return this._runners.forEach((function(t){return t.add(r)})),r.scene=this,r}},{key:"getSystem",value:function(t){return this._system.getComponent(t)}},{key:"addToScene",value:function(t){if(t._gc){var e=this._entitiesToRemove.indexOf(t);this._entitiesToRemove.splice(e,1),t._gc=!1}if(t.scene){if(t.scene===this)return;this._removeEntity(t)}t.scene=this,this.allEntities.add(t),t.runners.addedToScene.run(this),this.onEntityAddedToScene.run(t),this._entitiesToAdd.push(t)}},{key:"removeFromScene",value:function(t){!t._gc&&t.scene&&(t._gc=!0,this._entitiesToRemove.push(t))}},{key:"renderStart",value:function(){this._updateAndRender&&this.update(),this.onPrerender.run(this.time),this._onRenderEntities.run(this.time)}},{key:"renderFinish",value:function(){this.onPostrender.run(this.time)}},{key:"update",value:function(){this.paused||(this.time.nextUpdate(),this._addEntities(),this._removeEntities(),this.onPreupdate.run(this.time),this._removeEntities(),this._onUpdateEntities.run(this.time),this._removeEntities(),this.onPostupdate.run(this.time))}},{key:"empty",value:function(){var t=this;this._removeEntities(),this.onEmpty.run();for(var e=0;e<this.allEntities.children.length;e++){var n=this.allEntities.children[e];n.runners.removedFromScene.run(this),n.scene=null,n._gc=!1}this.allEntities.empty(),this._rootContainer&&this._rootContainer.empty(),this._onUpdateEntities.removeAll(),this._onRenderEntities.removeAll(),this.onResize.removeAll(),this.onEntityAddedToScene.removeAll(),this.onEntityRemovedFromScene.removeAll(),this.onPreupdate.removeAll(),this.onPostupdate.removeAll(),this.onPrerender.removeAll(),this.onPostrender.removeAll(),this.onEmpty.removeAll(),this._entitiesToAdd.length=0,this._entitiesToRemove.length=0,this.addToScene(this._system),this._system._components.forEach((function(e){t._runners.forEach((function(t){return t.add(e)}))}))}},{key:"resize",value:function(t,e){this._width=t,this._height=e,this.onResize.run(t,e)}},{key:"_addEntities",value:function(){if(this._entitiesToAdd.length){for(var t=0;t<this._entitiesToAdd.length;t++){var e=this._entitiesToAdd[t].runners;e.update.empty||this._onUpdateEntities.add(e.update),e.render.empty||this._onRenderEntities.add(e.render),e.start.run()}this._entitiesToAdd.length=0}}},{key:"_removeEntities",value:function(){var t=this._entitiesToRemove;if(t.length){for(var e=0;e<t.length;e++){var n=t[e];this._removeEntity(n)}t.length=0}}},{key:"_removeEntity",value:function(t){var e=t.runners;this.onEntityRemovedFromScene.run(t),e.removedFromScene.run(this),this.allEntities.remove(t),e.update.empty||this._onUpdateEntities.remove(e.update),e.render.empty||this._onRenderEntities.remove(e.render),t.scene=null,t._gc=!1}}])&&S(e.prototype,n),r&&S(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(m),C=n(101),O=n(217);function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var R=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.entity=e,this.root=new C.a}var e,n,r;return e=t,(n=[{key:"addedToScene",value:function(){this.entity.scene.addToScene(this.root)}},{key:"reset",value:function(){this.root.container.empty()}},{key:"entityAddedToScene",value:function(t){var e=t.getComponent(O.a);if(e)for(var n=e.children,r=0;r<n.length;r++)this.entity.scene.addToScene(n[r])}},{key:"entityRemovedFromScene",value:function(t){var e=t.getComponent(O.a);if(e)for(var n=e.children,r=0;r<n.length;r++)this.entity.scene.removeFromScene(n[r])}}])&&L(e.prototype,n),r&&L(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function P(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}R.DEFAULT_NAME="container";var D=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.dynamics=0,this.free=0,this._tick=0,this._toUpdate=[],this._updateCount=0}var e,n,r;return e=t,(n=[{key:"render",value:function(){this._tick++,this.dynamics=0;for(var t=0;t<this._updateCount;t++)this._updateTransform(this._toUpdate[t]);this._updateCount=0}},{key:"_updateWorld",value:function(t,e){var n;e&&(this._tick++,(null===(n=t.parent)||void 0===n?void 0:n.transform)&&this._updateWorld(t.parent,!0));var r=t.transform;if(this._tick!==r.rTick){r.rTick=this._tick;var i=t.parent;t._worldActive&&(r.custom||(this._updateLocal(r),this.dynamics++),(null==i?void 0:i.transform)?this._updateWithParent(r,i.transform):r.worldTransform.copy(r.localTransform))}}},{key:"_updateLocal",value:function(t){var e=t.quat;if(t.rotationDirty){t.rotationDirty=!1;var n=t.rotation.x,r=t.rotation.y,i=t.rotation.z,a=Math.cos(n/2),o=Math.cos(r/2),s=Math.cos(i/2),u=Math.sin(n/2),c=Math.sin(r/2),l=Math.sin(i/2);e.x=u*o*s+a*c*l,e.y=a*c*s-u*o*l,e.z=a*o*l+u*c*s,e.w=a*o*s-u*c*l}var h=e.x,d=e.y,p=e.z,f=e.w,m=h+h,g=d+d,y=p+p,v=h*m,b=h*g,_=h*y,w=d*g,x=d*y,S=p*y,T=f*m,M=f*g,E=f*y,A=t.localTransform.elements,k=t.scale._x,C=t.scale._y,O=t.scale._z;A[0]=(1-(w+S))*k,A[1]=(b+E)*k,A[2]=(_-M)*k,A[4]=(b-E)*C,A[5]=(1-(v+S))*C,A[6]=(x+T)*C,A[8]=(_+M)*O,A[9]=(x-T)*O,A[10]=(1-(v+w))*O,A[12]=t.position._x,A[13]=t.position._y,A[14]=t.position._z,t.currentLocalID=t.localID,t.parentID=-1,t.worldID++}},{key:"_updateWithParent",value:function(t,e){var n=t.worldTransform.elements,r=e.worldTransform.elements,i=t.localTransform.elements;if(0===t.currentLocalID)n[0]=r[0],n[1]=r[1],n[2]=r[2],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[12]=r[12],n[13]=r[13],n[14]=r[14],this.free++;else{var a=r[0],o=r[1],s=r[2],u=r[4],c=r[5],l=r[6],h=r[8],d=r[9],p=r[10],f=r[12],m=r[13],g=r[14],y=i[0],v=i[1],b=i[2];n[0]=y*a+v*u+b*h,n[1]=y*o+v*c+b*d,n[2]=y*s+v*l+b*p,y=i[4],v=i[5],b=i[6],n[4]=y*a+v*u+b*h,n[5]=y*o+v*c+b*d,n[6]=y*s+v*l+b*p,y=i[8],v=i[9],b=i[10],n[8]=y*a+v*u+b*h,n[9]=y*o+v*c+b*d,n[10]=y*s+v*l+b*p,y=i[12],v=i[13],b=i[14],n[12]=y*a+v*u+b*h+f,n[13]=y*o+v*c+b*d+m,n[14]=y*s+v*l+b*p+g}t.parentID=e.worldID,t.worldID++}},{key:"_updateTransform",value:function(t){this._updateWorld(t);for(var e=t.container.children,n=e.length,r=0;r<n;r++)this._updateTransform(e[r])}}])&&P(e.prototype,n),r&&P(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();D.DEFAULT_NAME="transform";n(119),n(38),n(88);var I=n(0),B=[0,0,0,0],N=n(36),j=n(93),F=n(555),U=new I.Transform,Y=new j.a,G=new j.a;function H(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var z=new N.a,V=new N.a,W=function(){function t(e,n){var r,i,a,o;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._view3dSystem=n.view3d;var s=n.view3d.renderer;this.fullscreen=null===(r=n.fullscreen)||void 0===r||r,this.width=null!==(i=n.width)&&void 0!==i?i:this.fullscreen?s.width:100,this.height=null!==(a=n.height)&&void 0!==a?a:this.fullscreen?s.height:100,this.cameraUniforms=new I.UniformGroup({uProjectionMatrix:new j.a,uViewMatrix:new j.a,uEyePosition:new N.a(0,1,0),uResolution:[1,1],uProjectionViewMatrix:new j.a},!0),this._view3dSystem.globalUniforms.uniforms.camera=this.cameraUniforms,this.camera=null!==(o=n.camera)&&void 0!==o?o:new F.a}var e,n,r;return e=t,(n=[{key:"updateCamera",value:function(t){var e=t.camera,n=this._view3dSystem.renderer,r=this.cameraUniforms.uniforms,i=r.uResolution,a=n.renderTexture.current;a?(e.updateProjection(a.width,a.height),i[0]=a.width*a.resolution,i[1]=a.height*a.resolution):(e.updateProjection(n.width,n.height),i[0]=n.width*n.resolution,i[1]=n.height*n.resolution),r.uProjectionMatrix.copy(e.projection),this.fullscreen||function(t,e,n,r,i){r.decompose(U),U.rotation*=-1,U._localID++,U.updateLocalTransform(),r=U.localTransform;var a=i.width/i.resolution,o=i.height/i.resolution,s=r.tx/a*2-1,u=1-r.ty/o*2,c=Y.identity();c.elements[12]=s,c.elements[13]=u;var l=G.identity(),h=t/a,d=e/o;l.elements[0]=r.a*h,l.elements[1]=r.b*d,l.elements[4]=r.c*h,l.elements[5]=r.d*d,n.multiply(l);var p=n.elements;p[0]+=s*p[3],p[4]+=s*p[7],p[8]+=s*p[11],p[12]+=s*p[15],p[1]+=u*p[3],p[5]+=u*p[7],p[9]+=u*p[11],p[13]+=u*p[15]}(this.width,this.height,r.uProjectionMatrix,this._view3dSystem.container.worldTransform,n),r.uEyePosition.copy(e.position),r.uViewMatrix.copy(e.view),r.uProjectionViewMatrix.copy(e.viewProjection),this.cameraUniforms.update()}},{key:"setCamera",value:function(t){this.camera=t,t.scene||this.scene.addChild(t)}},{key:"map2dFrom3d",value:function(t,e){V.x=e.x,V.y=e.y,V.z=e.z,z.project(V,this.camera.camera.view),z.project(z,this.camera.camera.projection);var n=this._view3dSystem.renderer.renderTexture.current,r=this.width,i=this.height;n&&(r=n.width,i=n.height);var a=.5*r,o=.5*i;return t.x=z.x*a+a,t.y=-z.y*o+o,t}},{key:"resize",value:function(t,e){if(this.fullscreen){if(this.width===t&&this.height===e)return;this.width=t,this.height=e}}}])&&H(e.prototype,n),r&&H(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function X(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}W.DEFAULT_NAME="camera";var K=[],q=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,(n=[{key:"cull",value:function(t,e){for(var n=e.camera.frustum,r=0,i=0;i<t.length;i++){var a=t[i].view3d;a.frustumCull&&n.intersectsSphere(a.getBoundingSphere())&&(K[r++]=t[i])}return K.length=r,K}}])&&X(e.prototype,n),r&&X(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();q.DEFAULT_NAME="culling";n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(244);function Z(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var J=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.x=e||0,this.y=n||0}var e,n,r;return e=t,(n=[{key:"width",get:function(){return this.x},set:function(t){this.x=t}},{key:"height",get:function(){return this.y},set:function(t){this.y=t}},{key:"set",value:function(t,e){return this.x=t,this.y=e,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}},{key:"multiply",value:function(t){return this.x*=t.x,this.y*=t.y,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this}},{key:"divide",value:function(t){return this.x/=t.x,this.y/=t.y,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"applyMatrix3",value:function(t){var e=this.x,n=this.y,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6],this.y=r[1]*e+r[4]*n+r[7],this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}},{key:"clampScalar",value:function(t,e){return Q.set(t,t),$.set(e,e),this.clamp(Q,$)}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"cross",value:function(t){return this.x*t.y-this.y*t.x}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"angle",value:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t}},{key:"distanceTo",value:function(t){return Math.sqrt(this.distanceToSquared(t))}},{key:"distanceToSquared",value:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n}},{key:"manhattanDistanceTo",value:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y}},{key:"fromArray",value:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this}},{key:"toArray",value:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t}},{key:"rotateAround",value:function(t,e){var n=Math.cos(e),r=Math.sin(e),i=this.x-t.x,a=this.y-t.y;return this.x=i*n-a*r+t.x,this.y=i*r+a*n+t.y,this}}])&&Z(e.prototype,n),r&&Z(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),Q=new J,$=new J;function tt(t,e,n){t.x=e[n+0],t.y=e[n+1],t.z=e[n+2]}function et(t,e,n){t.x=e[n+0],t.y=e[n+1]}function nt(t,e,n,r){t.x=e,t.y=n,t.z=r}function rt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var it=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.fogUniforms=new I.UniformGroup({uFogColor:new Float32Array([1,0,0]),uFogDensity:.1,uFogNear:20,uFogFar:50},!0),n.view3d.globalUniforms.uniforms.fog=this.fogUniforms,this.setData(n.fog)}var e,n,r;return e=t,(n=[{key:"setData",value:function(t){var e,n,r,i;t&&(this.color=null!==(e=t.color)&&void 0!==e?e:0,this.density=null!==(n=t.density)&&void 0!==n?n:.01,this.near=null!==(r=t.near)&&void 0!==r?r:20,this.far=null!==(i=t.far)&&void 0!==i?i:50)}},{key:"color",get:function(){return this._hexFogColor},set:function(t){this._hexFogColor=t;var e=this.fogUniforms.uniforms;I.utils.hex2rgb(t,e.uFogColor)}},{key:"density",get:function(){return this.fogUniforms.uniforms.uFogDensity},set:function(t){var e=this.fogUniforms.uniforms;this.fogUniforms.update(),e.uFogDensity=t}},{key:"near",get:function(){return this.fogUniforms.uniforms.uFogNear},set:function(t){var e=this.fogUniforms.uniforms;this.fogUniforms.update(),e.uFogNear=t}},{key:"far",get:function(){var t=this.fogUniforms.uniforms;return this.fogUniforms.update(),t.uFogFar},set:function(t){var e=this.fogUniforms.uniforms;this.fogUniforms.update(),e.uFogFar=t}}])&&rt(e.prototype,n),r&&rt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function at(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}it.DEFAULT_NAME="fog";var ot=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._view3dSystem=n.view3d,this._lastMaterial=null,n.view3d.renderer.context.gl.getExtension("OES_standard_derivatives")}var e,n,r;return e=t,(n=[{key:"flush",value:function(){this._lastMaterial=null}},{key:"renderEntity",value:function(t,e){var n=this._view3dSystem,r=t.view3d,i=r._geometry,a=r._material,o=n.renderer,s=i.castToBaseGeometry(),u=a.uniforms;if(this._lastMaterial!==a){a.tangents&&!s.getAttribute("aTangent")&&function(t){if(!t.getAttribute("aTangent")){var e=t.getIndex().data,n=t.getBuffer("aPosition").data,r=t.getBuffer("aNormal").data,i=t.getBuffer("aUv").data;if(!(e&&r&&i&&n))throw new Error("gb-tools cannot compute tangents, missing one or more required attributs (uvs, positions, normals, indicies");var a=n.length/3,o=new Float32Array(4*a);t.addAttribute("aTangent",o);for(var s=[],u=[],c=0;c<a;c++)s[c]=new N.a,u[c]=new N.a;var l=new N.a,h=new N.a,d=new N.a,p=new J,f=new J,m=new J,g=new N.a,y=new N.a,v=t.groups||[];0===v.length&&(v=[{start:0,count:e.length}]);for(var b=0,_=v.length;b<_;++b)for(var w=v[b],x=w.start,S=x,T=x+w.count;S<T;S+=3)F(e[S+0],e[S+1],e[S+2]);for(var M,E,A,k=new N.a,C=new N.a,O=new N.a,L=new N.a,R=0,P=v.length;R<P;++R)for(var D=v[R],I=D.start,B=I,j=I+D.count;B<j;B+=3)U(e[B+0]),U(e[B+1]),U(e[B+2])}function F(t,e,r){tt(l,n,3*t),tt(h,n,3*e),tt(d,n,3*r),et(p,i,2*t),et(f,i,2*e),et(m,i,2*r);var a=h.x-l.x,o=d.x-l.x,c=h.y-l.y,v=d.y-l.y,b=h.z-l.z,_=d.z-l.z,w=f.x-p.x,x=m.x-p.x,S=f.y-p.y,T=m.y-p.y,M=1/(w*T-x*S);nt(g,(T*a-S*o)*M,(T*c-S*v)*M,(T*b-S*_)*M),nt(y,(w*o-x*a)*M,(w*v-x*c)*M,(w*_-x*b)*M),s[t].add(g),s[e].add(g),s[r].add(g),u[t].add(y),u[e].add(y),u[r].add(y)}function U(t){tt(O,r,3*t),L.copy(O),E=s[t],k.copy(E),k.sub(O.multiplyScalar(O.dot(E))),k.normalize(),C.crossVectors(L,E),A=C.dot(u[t]),M=A<0?-1:1,o[4*t]=k.x,o[4*t+1]=k.y,o[4*t+2]=k.z,o[4*t+3]=M}}(s),u.globals3d=n.globalUniforms;var c=n.lights.lightSig;if(a.needsUpdate||a.lightSig!==c){if(a.needsUpdate=!1,a.build){var l={sig:c,lights:e.lights};a.build(l,!!this.scene.getSystem(it),2===o.context.webGLVersion)}a.lightSig=c}var h=u.uDiffuseMap||u.uNormalMap;if(u.uMapFrame&&h){var d=h.baseTexture,p=h.frame,f=u.uMapFrame;f.x=p.x/d.width,f.y=p.y/d.height,f.width=p.width/d.width,f.height=p.height/d.height}o.shader.bind(a,null),this._lastMaterial=a}var m=o.CONTEXT_UID,g=a.program.glPrograms[m].uniformData;if(g.uModelMatrix){var y=g.uModelMatrix.location;o.gl.uniformMatrix4fv(y,!1,t.transform.worldTransform.elements)}if(g.uNormalMatrix){t.transform.worldID!==r.transformDirty&&(r.transformDirty=t.transform.worldID,function(t,e){var n=e.elements,r=n[0],i=n[1],a=n[2],o=n[4],s=n[5],u=n[6],c=n[8],l=n[9],h=n[10],d=r*s-i*o,p=r*u-a*o,f=i*u-a*s,m=d*h-p*l+f*c;m=1/m;var g=t.elements;g[0]=(s*h-u*l)*m,g[1]=(u*c-o*h)*m,g[2]=(o*l-s*c)*m,g[3]=(a*l-i*h)*m,g[4]=(r*h-a*c)*m,g[5]=(i*c-r*l)*m,g[6]=f*m,g[7]=-p*m,g[8]=d*m}(r._cachedNormal,t.transform.worldTransform));var v=g.uNormalMatrix.location;o.gl.uniformMatrix3fv(v,!1,r._cachedNormal.elements),u.uNormalMatrix=r._cachedNormal}if(t.skinned)if(g.uBoneMatrices){var b=g.uBoneMatrices.location;o.gl.uniformMatrix4fv(b,!1,t.skinned.bones)}else if(g.uBoneTexture){var _=t.skinned.boneTexture,w=o.texture.boundTextures.length-1;o.gl.uniform1i(g.uBoneTexture.location,w),o.texture.bind(_,w);var x=g.uBoneTextureSize.location;o.gl.uniform1f(x,_.frame.width)}o.state.set(r.state),o.geometry.bind(s),o.geometry.draw(r.draw,i.size,i.start,i.instanceCount)}}])&&at(e.prototype,n),r&&at(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();ot.DEFAULT_NAME="EntityRenderer";n(99),n(51),n(169),n(127),n(87),n(121);var st=n(197),ut=n(159);function ct(t){return function(t){if(Array.isArray(t))return lt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return lt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return lt(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function lt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var pt=function(t,e){var n=t.view3d,r=e.view3d,i=n._geometry,a=r._geometry,o=i.castToBaseGeometry(),s=a.castToBaseGeometry();return n.orderBias-r.orderBias||n.state.data-r.state.data||n._material.program.id-r._material.program.id||n._material.id-r._material.id||o.id-s.id},ft=function(t,e){var n=t.getComponent(ut.a),r=e.getComponent(ut.a);return n.orderBias-r.orderBias||n.zdist-r.zdist},mt=function(){function t(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];ht(this,t),this.opaqueRenderables=[],this.transparentRenderables=[],this._tick=0,this.changedEntities=[],this._changedEntityCount=0,this._allowInstancing=r,this.renderIndex=n,this.id=e,this.onPreRender=new p.Signal,this.onPostRender=new p.Signal,this.visible=!0}var e,n,r;return e=t,(n=[{key:"update",value:function(t){this._tick++;for(var e=!1,n=0;n<this._changedEntityCount;n++){var r=this.changedEntities[n],i=r.view3d;if(!r._gc&&r.scene){var a=i._state.blend?this.transparentRenderables:this.opaqueRenderables;if(i.group!==a){if(i.group){var o=i.group.indexOf(r);-1!==o&&i.group.splice(o,1)}i.group=a,a.push(r),a!==this.transparentRenderables&&(e=!0)}}}e&&this.opaqueRenderables.sort(pt),this._updateZDist(this.transparentRenderables,t),this.transparentRenderables.sort(ft),this._changedEntityCount=0}},{key:"getAll",value:function(t){var e,n;return t||(t=[]),(e=t).push.apply(e,ct(this.opaqueRenderables)),(n=t).push.apply(n,ct(this.transparentRenderables)),t}},{key:"add",value:function(t){t.view3d.layer=this,this._onChange(t)}},{key:"remove",value:function(t){var e=t.getComponent(ut.a),n=e.group;if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}e.onChange=st.a,e.group=null,e.layer=null,e.id=null;var i=this.changedEntities.indexOf(t);i>=0&&(this.changedEntities.splice(i,1),this._changedEntityCount--)}},{key:"empty",value:function(){this.opaqueRenderables.forEach((function(t){t.view3d.onChange=st.a,t.view3d.group=null,t.view3d.layer=null,t.view3d.id=null,t.view3d.instanced=!1})),this.transparentRenderables.forEach((function(t){t.view3d.onChange=st.a,t.view3d.group=null,t.view3d.layer=null,t.view3d.id=null,t.view3d.instanced=!1})),this.opaqueRenderables.length=0,this.transparentRenderables.length=0,this.changedEntities.length=0,this._changedEntityCount=0}},{key:"_updateZDist",value:function(t,e){for(var n=e.camera.forward,r=e.camera.position,i=r.x,a=r.y,o=r.z,s=n.x,u=n.y,c=n.z,l=0;l<t.length;l++){var h=t[l],d=h.transform.worldTransform.elements;h.view3d.zdist=-((d[12]-i)*s+(d[13]-a)*u+(d[14]-o)*c)}}},{key:"_onChange",value:function(t){var e=t.view3d;this._allowInstancing||(t.getComponent(ut.a).material.instancing=!1),e.tick!==this._tick&&(e.tick=this._tick,this.changedEntities[this._changedEntityCount++]=t)}}])&&dt(e.prototype,n),r&&dt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function gt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var yt=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.signals={preRender:new p.Signal,postRender:new p.Signal},this.layers={},this._renderList=[]}var e,n,r;return e=t,(n=[{key:"update",value:function(){var t=this.scene.view3d.camera;if(t)for(var e in this.layers)this.layers[e].update(t)}},{key:"getAll",value:function(){return this.layers}},{key:"getOrderedArray",value:function(){return this._renderList}},{key:"getLayerFromEntity",value:function(t){var e=t.getComponent(ut.a);return(null==e?void 0:e.layer)||this.layers[null==e?void 0:e.layerId]}},{key:"addLayer",value:function(t){if(this.getLayer(t))return null;var e=this.scene.view3d.allowInstancing,n=Object.keys(this.layers).length;return this.layers[t]=this.layers[t]||new mt(t,n,e),this.orderLayers(this.getAll()),this.layers[t]}},{key:"removeLayer",value:function(t,e,n){var r=this.layers[t];if(!r||"default"===t)return null;var i=n||"default";this.entitiesToLayer(r.opaqueRenderables,i,e),this.entitiesToLayer(r.transparentRenderables,i,e);for(var a=0;a<this._renderList.length;a++){var o=this._renderList[a];o.renderIndex>r.renderIndex&&o.renderIndex--}return this.orderLayers(this.getAll()),r.empty(),delete this.layers[t],this.layers[i]}},{key:"getLayer",value:function(t){return this.layers[t]}},{key:"entitiesToLayer",value:function(t,e,n){var r=this.layers[e],i=function(t){var i=t.view3d;i&&(i.layer.remove(t),n||(i.layerId=e,r.add(t)))};if(Array.isArray(t))for(var a=0;a<t.length;a++)i(t[a]);else i(t)}},{key:"renderLayers",value:function(t){var e=this._renderList;this.signals.preRender.emit(this._renderList,t);for(var n=0;n<e.length;n++){var r=e[n];r.onPreRender.emit(r,t);var i=this.scene.view3d;r.visible&&(i.renderGroup(r.opaqueRenderables,t),i.renderGroup(r.transparentRenderables,t)),r.onPostRender.emit(r,t)}this.signals.postRender.emit(this._renderList,t)}},{key:"setLayerIndex",value:function(t,e){var n=Object.keys(this.layers).length;if(e<=0||e>=n)throw new Error("The index ".concat(e," supplied is out of bounds ").concat(n));this._renderList.splice(this._renderList.indexOf(t),1),this._renderList.splice(e,0,t);for(var r=0;r<this._renderList.length;r++)this._renderList[r].renderIndex=r}},{key:"orderLayers",value:function(t){return this._renderList=Object.values(t),this._renderList.sort((function(t,e){return t.renderIndex-e.renderIndex})),this._renderList}}])&&gt(e.prototype,n),r&&gt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();yt.DEFAULT_NAME="layer";n(114),n(42);function vt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _t=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16777215,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;vt(this,t),this._color=new Float32Array(3),this._hexColor=0,this.color=e,this._intensity=n,this.output=new Float32Array(3),this.dirty=!0}var e,n,r;return e=t,(n=[{key:"update",value:function(){if(this.dirty){this.dirty=!1;var t=this.output,e=this._color,n=this._intensity;t[0]=Math.pow(e[0]*n,2.2),t[1]=Math.pow(e[1]*n,2.2),t[2]=Math.pow(e[2]*n,2.2)}}},{key:"color",get:function(){return this._hexColor},set:function(t){this._hexColor!==t&&(this._hexColor=t,I.utils.hex2rgb(t,this._color),this.dirty=!0)}},{key:"intensity",get:function(){return this._intensity},set:function(t){this._intensity!==t&&(this._intensity=t,this.dirty=!0)}}])&&bt(e.prototype,n),r&&bt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),wt=n(517);function xt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var St=0,Tt=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._uid=St++,this.lightsDirtyTick=0,this._lightsDirtyTick=-1,this.lightEntities=[],this.freezeLights=!1,this.ambientLight=new _t(16777215,.5),this.lightUniforms=new I.UniformGroup({uGlobalAmbient:this.ambientLight.output},!0),n.view3d.globalUniforms.uniforms.lights=this.lightUniforms}var e,n,r;return e=t,(n=[{key:"renderBegin",value:function(){this.ambientLight.update(),this.lightUniforms.update();var t=this.lightEntities;if(!this.freezeLights&&this._lightsDirtyTick!==this.lightsDirtyTick){t.sort((function(t,e){return t.light.type-e.light.type||t.UID-e.UID})),this.lightSig=t.map((function(t){return t.light.type})).join("-")+this._uid,this._lightsDirtyTick=this.lightsDirtyTick;var e=this.lightUniforms.uniforms;t.forEach((function(t){var n=t.light,r=n.lightId;e["uLightColor".concat(r)]=n.output,e["uLightDirection".concat(r)]=n.direction,1===n.type&&(e["uLightPosition".concat(r)]=n.position,e["uLightDistance".concat(r)]||Object.defineProperty(e,"uLightDistance".concat(r),{enumerable:!0,get:function(){return n.distance}})),2===n.type&&(e["uLightPosition".concat(r)]=n.position,e["uLightDistance".concat(r)]=n.distance,e["uLimit".concat(r)]=n.limit)}))}}},{key:"start",value:function(){this.scene.group.initGroups(["_lights"])}},{key:"entityAddedToScene",value:function(t){t.getComponent(wt.b)&&(this.lightEntities.push(t),this.lightsDirtyTick++)}},{key:"entityRemovedFromScene",value:function(t){if(t.getComponent(wt.b)){var e=this.lightEntities.indexOf(t);-1!==e&&(this.lightEntities.splice(e,1),this.lightsDirtyTick++)}}},{key:"empty",value:function(){this.lightEntities.length=0}}])&&xt(e.prototype,n),r&&xt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();Tt.DEFAULT_NAME="lights";var Mt=n(142),Et=!1;function At(){Et||(Et=!0,I.uniformParsers.unshift({test:function(t,e){return"vec4"===t.type&&e instanceof Mt.a},code:function(t){return"\n            v = uv.".concat(t,";\n\n            gl.uniform4f(ud.").concat(t,".location, v.normal.x, v.normal.y, v.normal.z, v.constant);\n        ")}}),I.uniformParsers.push({test:function(t,e){return e.elements&&16===e.elements.length},code:function(t){return"\n        gl.uniformMatrix4fv(ud.".concat(t,".location, false, uv.").concat(t,".elements);\n        ")},codeUbo:function(t){return"\n            var ".concat(t,"_matrix = uv.").concat(t,".elements;\n\n            for(var i = 0; i < 16; i++)\n            {\n                data[offset + i] = ").concat(t,"_matrix[i];\n            }\n    ")}}),I.uniformParsers.push({test:function(t,e){return e.elements&&9===e.elements.length},code:function(t){return"\n        gl.uniformMatrix3fv(ud.".concat(t,".location, false, uv.").concat(t,".elements);\n        ")}}),I.uniformParsers.push({test:function(t,e){return"vec3"===t.type&&1===t.size&&void 0!==e.x},code:function(t){return"\n        cv = ud.".concat(t,".value;\n        v = uv.").concat(t,";\n\n        if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.z)\n        {\n            cv[0] = v.x;\n            cv[1] = v.y;\n            cv[2] = v.z;\n            gl.uniform3f(ud.").concat(t,".location, v.x, v.y, v.z);\n        }\n        ")}}),I.uniformParsers.push({test:function(t,e){return"vec3"===t.type&&void 0!==e.r&&void 0!==e.g&&void 0!==e.b},code:function(t){return"\n        cv = ud.".concat(t,".value;\n        v = uv.").concat(t,";\n\n        if(cv[0] !== v.r || cv[1] !== v.g || cv[2] !== v.b)\n        {\n            cv[0] = v.r;\n            cv[1] = v.g;\n            cv[2] = v.b;\n            gl.uniform3f(ud.").concat(t,".location, v.r, v.g, v.b);\n        }\n        ")}}))}function kt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Ct=function(){function t(e,n){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._flip=!1,this._renderer=n.view3d.renderer;var i=this._renderer.gl;this._renderer.state.map[4]=this._renderer.state.setFrontFace=function(t){i.frontFace(i[r._flip!==t?"CW":"CCW"])}}var e,n,r;return e=t,(n=[{key:"flip",get:function(){return this._flip},set:function(t){if(this._flip!==t){this._flip=t;var e=this._renderer,n=!!(16&e.state.stateId);e.state.setFrontFace(n)}}}])&&kt(e.prototype,n),r&&kt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Ot(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Ct.DEFAULT_NAME="winding",At();var Lt={culling:!1},Rt=[null],Pt=function(){function t(e,n){var r,i,a;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.visible=!0,At(),n=Object.assign(Object.assign({},Lt),n),this.entity=e,this._clearColor=null!==(r=n.clearColor)&&void 0!==r?r:B,this._clear=null!==(i=n.clear)&&void 0!==i&&i,this.globalUniforms=new I.UniformGroup({},!1),this.onRenderBegin=new I.Runner("renderBegin"),this.onPreDrawScene=new I.Runner("preDrawScene"),this.onRenderFinish=new I.Runner("renderFinish"),this.stage=null!==(a=n.stage)&&void 0!==a?a:new I.Container,this.container=new I.Container,this.stage.addChild(this.container),this.container._render=this._renderChildren.bind(this),this.container.filterArea=new I.Rectangle(0,0,1e5,1e5),this.renderer=n.renderer,void 0===n.instancing){var o=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);n.instancing=!o}this.allowInstancing=this.renderer.geometry.hasInstance&&n.instancing,this.winding=this.addSubSystem(Ct),this.layers=this.addSubSystem(yt),this.cameraSystem=this.addSubSystem(W,n),this.lights=this.addSubSystem(Tt),this.entityRenderer=this.addSubSystem(ot),this.culling=n.culling?this.addSubSystem(q):null,this.fog=n.fogOptions?this.addSubSystem(it,{fog:n.fogOptions}):null}var e,n,r;return e=t,(n=[{key:"addSubSystem",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.entity.scene.addSystem(t,Object.assign(Object.assign({},e),{view3d:this}));return this.onRenderBegin.add(n),this.onPreDrawScene.add(n),this.onRenderFinish.add(n),n}},{key:"setCamera",value:function(t){this.cameraSystem.setCamera(t)}},{key:"camera",get:function(){return this.cameraSystem.camera}},{key:"drawScene",value:function(t,e,n,r,i,a){var o=t.camera,s=this.renderer,u=s.renderTexture.current;e&&s.renderTexture.bind(e),(null!=i?i:this._clear)&&s.renderTexture.clear(null!=a?a:this._clearColor),this.winding.flip=o.view.determinant()<0,this.entityRenderer.flush(),this.cameraSystem.updateCamera(t),this._currentRenderSession={renderer:s,lights:this.lights.lightEntities,camera:t,ignoreList:r,renderList:n},this.layers.renderLayers(this._currentRenderSession),s.renderTexture.bind(u),this.winding.flip=!1}},{key:"renderGroup",value:function(t,e){var n,r;Array.isArray(t)||(Rt[0]=t,t=Rt),(null===(n=e.renderList)||void 0===n?void 0:n.length)>0&&(t=t.filter((function(t){return-1!==e.renderList.indexOf(t)}))),(null===(r=e.ignoreList)||void 0===r?void 0:r.length)>0&&(t=t.filter((function(t){return-1===e.ignoreList.indexOf(t)}))),this.culling&&(t=this.culling.cull(t,e.camera));for(var i=this.entityRenderer,a=0;a<t.length;a++){var o=t[a],s=o.view3d;o._worldActive&&s.renderable&&(s.renderCustom?s.renderCustom(e):i.renderEntity(o,e))}}},{key:"addedToScene",value:function(t){this.camera.scene||t.addChild(this.camera)}},{key:"entityAddedToScene",value:function(t){var e=t;if(e.view3d){var n=e.view3d.layerId;(this.layers.getLayer(n)||this.layers.addLayer(n)).add(e)}}},{key:"entityRemovedFromScene",value:function(t){var e=t;if(e.view3d){var n=e.view3d.layerId;this.layers.getLayer(n).remove(e)}}},{key:"empty",value:function(){var t=this.layers.getAll();for(var e in t)t[e].empty()}},{key:"_renderChildren",value:function(t){this.visible&&(this.scene.renderStart(),t.batch.flush(),this.onRenderBegin.emit(this),this.layers.update(),this.onPreDrawScene.emit(this),this.drawScene(this.camera,this.renderTexture,null,null,this._clear,this._clearColor),t.gl.clear(t.gl.DEPTH_BUFFER_BIT),this.onRenderFinish.emit(this),this.scene.renderFinish())}}])&&Ot(e.prototype,n),r&&Ot(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}();function Dt(t){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function It(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bt(t,e){return(Bt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Nt(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Ft(t);if(e){var i=Ft(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jt(this,n)}}function jt(t,e){if(e&&("object"===Dt(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Ft(t){return(Ft=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Pt.DEFAULT_NAME="view3d";var Ut=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Bt(t,e)}(a,t);var e,n,r,i=Nt(a);function a(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(e=i.call(this)).register("onGameover"),e.register("onGameComplete"),e.group=e.addSystem(h),e.transform=e.addSystem(D),e.container=e.addSystem(R),e.view3d=e.addSystem(Pt,t),e.groups=e.group.groups,e}return e=a,(n=[{key:"addChild",value:function(){for(var t=0;t<arguments.length;t++){var e=t<0||arguments.length<=t?void 0:arguments[t];this.container.root.addChild(e)}}},{key:"removeChild",value:function(){for(var t=0;t<arguments.length;t++){var e=t<0||arguments.length<=t?void 0:arguments[t];this.container.root.removeChild(e)}}}])&&It(e.prototype,n),r&&It(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(k),Yt=n(557),Gt=n(268),Ht=n(7);function zt(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function Vt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wt(t,e){return(Wt=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var Kt=function(t){var e,n;function r(){var e;Xt(Vt(e=t.call(this)||this),"scene",void 0),Xt(Vt(e),"ball",void 0),Xt(Vt(e),"activeBallId",void 0),Xt(Vt(e),"cache",void 0),e.cache={},e.scene=new Ut({stage:Vt(e),renderer:Ht.e,clear:!1});var n=new Yt.a({type:wt.a.DIRECTIONAL,intensity:1,color:16186107});n.rx=Math.PI/4,n.ry=-.1,e.scene.addChild(n);var r=I.RenderTexture.create({width:220,height:220,scaleMode:I.SCALE_MODES.LINEAR,resolution:1});e.scene.view3d.renderTexture=r;var i=I.Sprite.from(r);return i.anchor.set(.5),e.addChild(i),e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Wt(e,n);var i=r.prototype;return i.show=function(){var t,e=(t=regeneratorRuntime.mark((function t(e){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.id,r=e.model,i=e.texture,e.scale,n!==this.activeBallId){t.next=3;break}return t.abrupt("return");case 3:this.ball&&this.scene.removeChild(this.ball),this.cache[n]||(this.cache[n]=new C.a({geometry:s.a.getAsset("assets/base-3d/"+r).geometries[0][0],material:new Gt.a({diffuseMap:I.Texture.from("assets/content/balls/ball-textures/"+i),gloss:.7})})),this.ball=this.cache[n],this.ball.rz=Math.PI,this.ball.ry=0,this.ball.rx=0,this.scene.addChild(this.ball),this.activeBallId=n;case 11:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){zt(a,r,i,o,s,"next",t)}function s(t){zt(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(t){return e.apply(this,arguments)}}(),i.update=function(t){this.ball&&(this.ball.rx-=.025*t,this.ball.ry+=.01*t,this.ball.rz+=.005*t)},r}(I.Container),qt=n(9),Zt=n(44),Jt=n(1);function Qt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function $t(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function te(t,e){return(te=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ee(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ne=function(t){var e,n;function r(){var e;ee($t(e=t.call(this)||this),"darkShade",void 0),ee($t(e),"background",void 0),ee($t(e),"ball",void 0),ee($t(e),"pricePanel",void 0),ee($t(e),"message",void 0),ee($t(e),"confirmButton",void 0),ee($t(e),"cancelButton",void 0),ee($t(e),"doneButton",void 0),ee($t(e),"_active",void 0),ee($t(e),"state",void 0),ee($t(e),"ballId",void 0),ee($t(e),"onActionButtonPressed",void 0),e.darkShade=new I.Sprite(I.Texture.WHITE),e.darkShade.tint=0,e.darkShade.baseAlpha=.8,e.darkShade.anchor.set(.5),e.addChild(e.darkShade),e.background=new Zt.a({width:940,height:470,title:"STR_UNLOCKABLES_BUY_BALL"}),e.addChild(e.background);var n=I.Sprite.from("panel-popup-white.png"),r=I.Sprite.from("panel-football-pitch-thumbnail.png");n.anchor.set(.5),r.anchor.set(.5),n.position.y=40,r.position.x=-262,n.addChild(r),e.background.addChild(n),e.ball=new Kt,r.addChild(e.ball),e.pricePanel=I.Sprite.from("graphic-ball-cost.png");var i=new I.Text("150",{fill:"0x724D05",fontSize:30,fontFamily:"lubalin",align:"left"});return i.anchor.set(0,.5),i.position.set(60,e.pricePanel.texture.height/2-3),e.pricePanel.position.set(-n.texture.width/2,-n.texture.height/2),e.pricePanel.scale.set(1.2),e.pricePanel.addChild(i),e.pricePanel.price=i,n.addChild(e.pricePanel),e.message=new qt.a("placeholder",{fill:"0x493008",fontSize:30,align:"center"}),e.message.anchor.set(.5),e.message.position.set(120,-65),n.addChild(e.message),e.confirmButton=new o.c({color:o.a.GREEN,icon:"icon-tick.png"}),e.confirmButton.position.set(53,35),e.confirmButton.onPress.add(e.confirmPressed,$t(e)),n.addChild(e.confirmButton),e.cancelButton=new o.c({color:o.a.PINK,icon:"icon-cross.png"}),e.cancelButton.position.set(183,35),e.cancelButton.onPress.add(e.cancelPressed,$t(e)),n.addChild(e.cancelButton),e.doneButton=new o.c({color:o.a.PINK,text:"STR_UNLOCKABLES_DONE",width:300}),e.doneButton.position.set(120,35),e.doneButton.onPress.add(e.cancelPressed,$t(e)),n.addChild(e.doneButton),e.reset(),e.onActionButtonPressed=new p.Signal,e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,te(e,n);var i,a,s,u=r.prototype;return u.confirmPressed=function(){this.interactiveChildren=!1,"buyable"===this.state?this.onActionButtonPressed.emit("unlock",this.ballId):"selectable"===this.state&&this.onActionButtonPressed.emit("select",this.ballId),this.animate(!0)},u.cancelPressed=function(){this.interactiveChildren=!1,this.animate(!0)},u.show=function(t,e){this._active=!0,this.ball.show(e),this.confirmButton.visible=!0,this.cancelButton.visible=!0,this.doneButton.visible="nocoins"===t,this.pricePanel.visible="buyable"===t,"buyable"===t?(this.pricePanel.price.text=e.price,this.background.title.setText("STR_UNLOCKABLES_BUY_BALL"),this.message.setText("STR_UNLOCKABLES_BUY_THIS_BALL")):"nocoins"===t?(this.confirmButton.visible=!1,this.cancelButton.visible=!1,this.pricePanel.price.text=e.price,this.message.setText("STR_UNLOCKABLES_NEED_MORE_COINS")):"selectable"===t&&(this.background.title.setText("STR_UNLOCKABLES_SELECT_BALL"),this.message.setText("STR_UNLOCKABLES_SELECT_THIS_BALL")),this.state=t,this.ballId=e.id,this.animate()},u.reset=function(){this.darkShade.alpha=0,this.darkShade.interactive=!1,this.background.scale.set(0),this.background.visible=!1,this._active=!1},u.animate=function(t){var e=this;void 0===t&&(t=!1),t||(this.darkShade.visible=!0,this.darkShade.interactive=!0,this.background.visible=!0,this.background.scale.set(0)),Object(Jt.tween)(this.darkShade,.4,{alpha:t?0:this.darkShade.baseAlpha,onComplete:function(){t?(e.darkShade.interactive=!1,e.darkShade.visible=!1):e.interactiveChildren=!0}}),Object(Jt.tween)(this.background.scale,t?.2:1,{x:t?0:1,y:t?0:1,ease:t?"Linear.easeOut":"Elastic.easeOut",onComplete:function(){t&&(e.background.visible=!1,e._active=!1)}})},i=r,(a=[{key:"active",get:function(){return this._active}}])&&Qt(i.prototype,a),s&&Qt(i,s),Object.defineProperty(i,"prototype",{writable:!1}),r}(I.Container),re=(n(107),n(80)),ie=n(49),ae=n(8),oe=n(196),se=n(14);function ue(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ce(t,e){return(ce=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function le(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var he=function(t){var e,n;function r(e){var n;le(ue(n=t.call(this)||this),"ballData",void 0),le(ue(n),"state",void 0),le(ue(n),"card",void 0),le(ue(n),"bg",void 0),le(ue(n),"ball",void 0),le(ue(n),"border",void 0),le(ue(n),"actionButton",void 0),le(ue(n),"selectedText",void 0),le(ue(n),"pricePanel",void 0),le(ue(n),"comingSoonBanner",void 0),le(ue(n),"darkOverlay",void 0),le(ue(n),"lock",void 0),le(ue(n),"notification",void 0),le(ue(n),"onActionButtonPressed",void 0),n.buttonMode=!0,n.ballData=e,n.card=I.Sprite.from("panel-football-holder-white.png"),n.bg=I.Sprite.from("panel-football-pitch-thumbnail.png"),n.ball=I.Sprite.from(e.splash),n.border=I.Sprite.from("graphic-green-selected-stroke.png");var r=I.Sprite.from("tick.png"),i=I.Sprite.from("ball-shadow.png");i.anchor.set(.5),i.position.y=68,i.alpha=.5,n.bg.addChild(i),n.bg.addChild(n.ball),n.ball.position.y=5,n.border.addChild(r),n.bg.anchor.set(.5),n.ball.anchor.set(.5),n.border.anchor.set(.5),r.anchor.set(.5),n.bg.scale.set(.84),r.scale.set(.65),n.bg.position.set(n.card.texture.width/2,115),n.border.position.set(n.card.texture.width/2,115),r.position.set(-n.bg.width/2+15,-n.bg.height/2+15),n.lock=I.Sprite.from("graphic-lock-icon.png"),n.lock.anchor.set(.5),n.lock.scale.set(.95),n.lock.position.set(n.card.texture.width/2,n.card.texture.height/2-30),n.pricePanel=I.Sprite.from("graphic-ball-cost.png");var s=new qt.a(n.ballData.price.toString(),{fill:"0x724D05",fontSize:30,align:"left"});s.anchor.set(0,.5),s.position.set(60,n.pricePanel.texture.height/2-3),n.pricePanel.addChild(s),n.pricePanel.price=s,n.comingSoonBanner=I.Sprite.from("label-coming-soon.png");var u=new qt.a("STR_UNLOCKABLES_COMING_SOON",{fill:"white",fontSize:20,wordWrap:!0,wordWrapWidth:245,align:"center",breakWords:!0});return u.anchor.set(.5),n.comingSoonBanner.position.set(n.card.texture.width/2,30),u.y=-2,n.comingSoonBanner.addChild(u),n.darkOverlay=I.Sprite.from("overlay-ball-unavailable.png"),n.darkOverlay.anchor.set(.5),n.darkOverlay.position.set(n.card.texture.width/2,115),n.selectedText=new qt.a("STR_UNLOCKABLES_SELECTED",{fill:"0x00A81C",fontSize:28,align:"left",maxWidth:160}),n.selectedText.anchor.set(.5),n.selectedText.position.set(n.card.texture.width/2,248),n.actionButton=new o.c({color:o.a.GREEN,text:"x",format:{fontSize:30},height:65,width:205}),n.actionButton.position.set(n.card.texture.width/2,250),n.actionButton.onPress.add(n.buttonPressed,ue(n)),n.addChild(n.card),n.addChild(n.bg),n.addChild(n.border),n.addChild(n.pricePanel),n.addChild(n.selectedText),n.addChild(n.actionButton),n.addChild(n.darkOverlay),n.addChild(n.comingSoonBanner),n.addChild(n.lock),n.onActionButtonPressed=new p.Signal,Ht.c.add(a.d,n.updateState.bind(ue(n))),n.notification=I.Sprite.from("button-unlockables-notification.png"),n.notification.anchor.set(.5),n.notification.scale.set(1.2),n.notification.rotation=-.2,n.notification.position.x=n.bg.width+10,n.notification.position.y=s.y,n.notification.visible=!1,n.addChild(n.notification),n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,ce(e,n);var i=r.prototype;return i.showNotification=function(){this.notification&&(this.notification.visible=!0,Object(Jt.tween)(this.notification.scale,.5,{x:1.6,y:1.6,ease:"Quad.easeInOut",repeat:-1,yoyo:!0}),Object(Jt.tween)(this.notification,1,{rotation:.2,ease:"Quad.easeInOut",repeat:-1,yoyo:!0}))},i.hideNotification=function(){this.notification&&(se.c.killTweensOf(this.notification.scale),se.c.killTweensOf(this.notification),this.notification.visible=!1)},i.buttonPressed=function(){this.onActionButtonPressed.emit(this.state,this.ballData)},i.updateState=function(){var t=ie.a.coins>=this.ballData.price;this.pricePanel.visible=!1,this.darkOverlay.visible=!1,this.comingSoonBanner.visible=!1,this.lock.visible=!1,this.ballData.isNew?(this.showNotification(),this.ballData.isNew=!1,Ht.a.app.get(oe.a).save()):this.hideNotification(),this.ballData.locked?(this.actionButton.visible=!0,this.selectedText.visible=!1,this.border.visible=!1,this.actionButton.setText(re.b.translate("STR_UNLOCKABLES_UNLOCK").toLocaleUpperCase("tr"===ae.a.settings.language?"TR":"en-US")),this.ballData.comingSoon?this.ballData.comingSoon&&(this.state="comingsoon",this.comingSoonBanner.visible=!0,this.lock.visible=!0,this.actionButton.interactive=!1,this.actionButton.setColor(o.a.GREY)):(this.state=t?"buyable":"nocoins",this.pricePanel.visible=!0,this.actionButton.interactive=!0,this.actionButton.setColor(o.a.GREEN))):this.ballData.selected?(this.state="selected",this.selectedText.visible=!0,this.border.visible=!0,this.actionButton.visible=!1):(this.state="selectable",this.selectedText.visible=!1,this.border.visible=!1,this.actionButton.interactive=!0,this.actionButton.setColor(o.a.PINK),this.actionButton.visible=!0,this.actionButton.setText("STR_UNLOCKABLES_SELECT"))},i.updateData=function(){this.ball.texture=I.Texture.from(this.ballData.splash),this.pricePanel.price.setText(this.ballData.price.toString())},i.setData=function(t){this.ballData=t,this.updateData(),this.updateState()},r}(I.Container),de=n(4);function pe(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function fe(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function me(t,e){return(me=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ge(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var ye=function(t){var e,n;function r(e){var n;return ge(fe(n=t.call(this,e)||this),"app",void 0),ge(fe(n),"background",void 0),ge(fe(n),"balls",void 0),ge(fe(n),"cardsContainer",void 0),ge(fe(n),"ballCards",void 0),ge(fe(n),"popup",void 0),ge(fe(n),"width",void 0),ge(fe(n),"height",void 0),ge(fe(n),"setIndex",void 0),ge(fe(n),"maxSet",void 0),ge(fe(n),"cardsPerSet",void 0),ge(fe(n),"assetsLoaded",void 0),ge(fe(n),"active",void 0),n.app=e,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,me(e,n);var o=r.prototype;return o.init=function(){var t,e=(t=regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.balls=i.c.showableByPrice(),this.ballCards=[],this.cardsPerSet=8,this.maxSet=Math.ceil(this.balls.length/this.cardsPerSet),this.balls.forEach((function(t,n){t.selected&&(e.setIndex=Math.floor(n/8))})),this.background=new Zt.a({width:980,height:760,title:"STR_TITLE_BALLS",isLoading:!0,hasArrows:!0}),this.view.addChild(this.background),this.background.onNext.connect(this.nextSet.bind(this)),this.background.onPrevious.connect(this.previousSet.bind(this)),this.cardsContainer=new I.Container,this.background.content.addChild(this.cardsContainer),this.setIndex===this.maxSet&&this.background.hideNextArrow(!0),0===this.setIndex&&this.background.hidePreviousArrow(!0),this.assetsLoaded=!1,this.active=!1,this.popup=new ne,this.view.addChild(this.popup),this.popup.onActionButtonPressed.connect((function(t,n){"unlock"===t?e.app.balls.unlockBall(n):"select"===t&&e.app.balls.selectBall(n,!0),e.balls=i.c.showableByPrice(),e.updateCards()})),-1===a.g.indexOf(de.a.SCREEN_ID.BALLS)?Ht.c.add(a.e,(function(t){t.type===a.f.SCREEN_ASSETS_LOADED&&t.screenId===de.a.SCREEN_ID.BALLS&&e.onResourcesLoadComplete()})):(this.assetsLoaded=!0,this.background.hideSpinner(!0),this.setupCards());case 19:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){pe(a,r,i,o,s,"next",t)}function s(t){pe(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}(),o.onResourcesLoadComplete=function(){this.assetsLoaded||(this.assetsLoaded=!0,this.background.hideSpinner(),this.setupCards(),this.active&&this.showContent())},o.setupCards=function(){for(var t=this,e=0;e<this.cardsPerSet;e++){var n=this.balls[this.setIndex*this.cardsPerSet+e],r=!1;n||(n=this.balls[0],r=!0);var i=new he(n);i.updateState(),i.onActionButtonPressed.connect((function(e,n){t.popup.active||t.popup.show(e,n)})),this.ballCards.push(i),this.cardsContainer.addChild(i);i.position.set(e*(i.bg.texture.width+-5)%(4*(i.bg.texture.width+-5))+2,Math.floor(e/4)*i.bg.texture.height+65*Math.floor(e/4)),r&&(i.visible=!1),Ht.c.add(a.d,i.updateData.bind(i))}},o.updateCards=function(){for(var t=0;t<this.cardsPerSet;t++){var e=this.balls[this.setIndex*this.cardsPerSet+t];e?(this.ballCards[t].setData(e),this.ballCards[t].visible=!0):this.ballCards[t].visible=!1}this.setIndex!==this.maxSet-1?this.background.showNextArrow():this.background.hideNextArrow(),0!==this.setIndex?this.background.showPreviousArrow():this.background.hidePreviousArrow()},o.nextSet=function(){this.setIndex++,this.updateCards()},o.previousSet=function(){this.setIndex--,this.updateCards()},o.hide=function(){this.active=!1,this.popup.reset()},o.show=function(){this.active=!0,this.background.scale.set(0);var t=(this.height-this.app.overlays.header.height)/this.background.panelHeight;Object(Jt.tween)(this.background.scale,1,{x:t,y:t,ease:"Elastic.easeOut",delay:.2}),this.assetsLoaded&&this.showContent()},o.showContent=function(){var t=this;this.cardsContainer.visible=!0,this.balls.forEach((function(e,n){e.selected&&(t.setIndex=Math.floor(n/8))})),this.updateCards(),this.resize(this.width,this.height)},o.update=function(t){this.popup.ball.update(t),this.background.update(t)},o.resize=function(t,e){this.width=t,this.height=e,this.background.position.set(t/2,e/2),this.cardsContainer.position.set(24-this.background.panelWidth/2,-260),this.popup.position.set(t/2,e/2),this.popup.darkShade.width=t,this.popup.darkShade.height=e},r}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return rt}));n(21),n(27),n(5),n(19);var r=n(94),i=n(130),a=(n(23),n(29),n(30),n(15),n(22),n(20),n(33),n(35),n(17)),o=n(1),s=n(0);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var i=f(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(u,t);var e,n,r,i=h(u);function u(t,e,n,r,a){var o;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(o=i.call(this)).isOnlyIcon=!0,o.scaleVal=void 0!==a?a:null,o.pressSound="button_press",o.rollSound="button_roll",t&&(o.background=new s.Sprite.from(t),o.background.anchor.set(.5),o.addChild(o.background),o.isOnlyIcon=!1),o.normalTexture=t,o.downTexture=e||o.normalTexture,o.hoverTexture=n||o.normalTexture,r&&(o.icon=new s.Sprite.from(r),o.icon.anchor.set(.5),o.addChild(o.icon)),o.onDown.add(o._onDown,p(o)),o.onUp.add(o._onUp,p(o)),o.onHover.add(o._onHover,p(o)),o.onOut.add(o._onMouseOut,p(o)),o.onEnabled.add(o._onEnabled,p(o)),o.onDisabled.add(o._onDisabled,p(o)),o._soundDirty=!0,o}return e=u,(n=[{key:"_onDown",value:function(){this.isOnlyIcon||(this.background.texture=s.Texture.from(this.downTexture))}},{key:"_onHover",value:function(){this.isOnlyIcon||(this._soundDirty&&(this._soundDirty=!1,a.default.playSfx(this.rollSound)),this.background.texture=s.Texture.from(this.hoverTexture),null!==this.scaleVal&&Object(o.tween)(this.scale,.3,{x:this.scaleVal,y:this.scaleVal,ease:"Linear.None"}))}},{key:"_onMouseOut",value:function(){this.isOnlyIcon||(this._soundDirty||TweenLite.delayedCall(.4,function(){this._soundDirty=!0}.bind(this)),this.background.texture=s.Texture.from(this.normalTexture),null!==this.scaleVal&&Object(o.tween)(this.scale,.3,{x:this.defaultScale,y:this.defaultScale,ease:"Linear.None"}))}},{key:"_onUp",value:function(){this.isOnlyIcon||(this.pressSound&&a.default.playSfx(this.pressSound),this.background.texture=s.Texture.from(this.normalTexture))}},{key:"_onEnabled",value:function(){this.enable()}},{key:"_onDisabled",value:function(){this.disable()}},{key:"setIcon",value:function(t){this.icon.texture=s.Texture.from(t)}},{key:"setBackground",value:function(t,e,n){this.background?this.background.texture=s.Texture.from(t):(this.background=new s.Sprite.from(t),this.background.anchor.set(.5),this.addChild(this.background),this.isOnlyIcon=!1),this.normalTexture=t,this.downTexture=e||this.normalTexture,this.hoverTexture=n||this.normalTexture}},{key:"setSize",value:function(t){this.defaultScale=t,this.overScale=1.1*t}},{key:"fromFrames",value:function(t,e,n,r){return new u(s.Texture.from(t),s.Texture.from(e),s.Texture.from(n),r?s.Texture.from(r):null)}}])&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(n(256).a),g=(n(99),n(88),n(126),n(34),n(139),n(80),n(9));n(504);var y=n(45),v=n.n(y);function b(t){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function w(){return(w="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=x(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function x(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=E(t)););return t}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=E(t);if(e){var i=E(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return M(this,n)}}function M(t,e){if(e&&("object"===b(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function E(t){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var A=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&S(t,e)}(o,t);var e,n,r,i=T(o);function o(t,e,n,r,a,s,u){var c;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(c=i.call(this,t,e,n,r)).iconTexture=r,c.iconTextureSelected,void 0!==a&&(c.iconTextureSelected=a),c.selected=!0===s,c.enabled=c.enabledInit=!1!==u,c.onSelected=new v.a,c.onHover2=new v.a,c.onMouseOut=new v.a,c.toggleIcon(c.selected),c.setEnabled(c.enabled),c}return e=o,(n=[{key:"setEnabled",value:function(t){this.enabled=!1!==t,this.enabled?this._onEnabled():this._onDisabled()}},{key:"toggleIcon",value:function(t){var e=!0===t;this.iconTextureSelected&&(this.icon.texture=s.Texture.from(e?this.iconTextureSelected:this.iconTexture))}},{key:"_onDown",value:function(){this.selected=!this.selected,this.onSelected.dispatch(this),this.toggleIcon(this.selected),this.silent||a.default.playSfx("button_press"),w(E(o.prototype),"_onDown",this).call(this)}},{key:"select",value:function(){this.selected=!0,this.toggleIcon(this.selected)}},{key:"unselect",value:function(){this.selected=!1,this.toggleIcon(this.selected)}},{key:"_onHover",value:function(){this.toggleIcon(!0),this._soundDirty=!0,a.default.playSfx("button_roll"),this.onHover2.dispatch(this)}},{key:"_onMouseOut",value:function(){this.onMouseOut.dispatch(this),this.toggleIcon(this.selected),w(E(o.prototype),"_onMouseOut",this).call(this)}}])&&_(e.prototype,n),r&&_(e,r),Object.defineProperty(e,"prototype",{writable:!1}),o}(m);function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function C(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function O(){return(O="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=L(t,e);if(r){var i=Object.getOwnPropertyDescriptor(r,e);return i.get?i.get.call(arguments.length<3?t:n):i.value}}).apply(this,arguments)}function L(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=I(t)););return t}function R(t,e){return(R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function P(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=I(t);if(e){var i=I(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return D(this,n)}}function D(t,e){if(e&&("object"===k(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function I(t){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var B=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&R(t,e)}(a,t);var e,n,r,i=P(a);function a(t,e,n,r,o,s,u,c,l){var h;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(h=i.call(this,t,e,n,r,o,c,l)).borderTexture=s,h.borderTextureSelected=u||h.borderTexture,h}return e=a,(n=[{key:"toggleIcon",value:function(t){O(I(a.prototype),"toggleIcon",this).call(this),!0===t?Object(o.tween)(this.scale,.3,{x:1.1,y:1.1,ease:"Linear.None"}):Object(o.tween)(this.scale,.3,{x:1,y:1,ease:"Linear.None"})}}])&&C(e.prototype,n),r&&C(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(A);var N=function(t){return new B("country-backer-1.png",null,null,t,null,"transparent-pixel.png","flag-white-border.png")};n(83);function j(t){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Y(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=z(t);if(e){var i=z(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return G(this,n)}}function G(t,e){if(e&&("object"===j(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return H(t)}function H(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z(t){return(z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var V=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&U(t,e)}(a,t);var e,n,r,i=Y(a);function a(t,e,n){var r;for(var o in function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a),(r=i.call(this)).buttonList=t,r.maxSelected=e,r.autoLock=!0===n,r.onUpdate=new v.a,r.selectedList=[],r.buttonList){var s=r.buttonList[o];s.selected&&r.selectedList.length<e&&r.selectedList.push(s),s.onSelected.add(r.updateButtons,H(r))}return r}return e=a,(n=[{key:"setLock",value:function(t){for(var e in this.buttonList){var n=this.buttonList[e];!1===t&&!0===n.enabledInit?n.enable():!1===n.selected&&n.disable()}}},{key:"reset",value:function(){for(var t in this.buttonList){var e=this.buttonList[t];!0===e.selected&&e._onDown()}}},{key:"updateButtons",value:function(t){if(t.selected)this.selectedList.length>=this.maxSelected&&this.selectedList.shift()._onDown(),this.selectedList.push(t);else{var e=this.selectedList.indexOf(t);e>-1&&this.selectedList.splice(e,1)}this.autoLock&&this.setLock(this.selectedList.length>=this.maxSelected),this.onUpdate.dispatch(this.selectedList.length>=this.maxSelected,t)}}])&&F(e.prototype,n),r&&F(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(s.Container),W=n(8),X=n(6),K=n(44),q=n(2),Z=n(7),J=n(4),Q=n(28);function $(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function tt(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function et(t,e){return(et=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var rt=function(t){var e,n;function i(e){var n;return nt(tt(n=t.call(this,e)||this),"app",void 0),nt(tt(n),"countryGroup",void 0),nt(tt(n),"buttonList",void 0),nt(tt(n),"currentButton",void 0),nt(tt(n),"regionTitle",void 0),nt(tt(n),"flagsContainer",void 0),nt(tt(n),"flagsMaskContainer",void 0),nt(tt(n),"mapContainer",void 0),nt(tt(n),"background",void 0),nt(tt(n),"flagsMask",void 0),nt(tt(n),"bgc",void 0),nt(tt(n),"flagsFilter",void 0),nt(tt(n),"tween",void 0),nt(tt(n),"hoverDebounce",void 0),nt(tt(n),"currentTime",void 0),nt(tt(n),"countries",void 0),nt(tt(n),"assetsLoaded",void 0),nt(tt(n),"active",void 0),n.app=e,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,et(e,n);var a=i.prototype;return a.init=function(){var t,e=(t=regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.background=new K.a({width:960,height:675,title:"STR_COUNTRY_SELECT_TITLE",isLoading:!0,hasArrows:!0}),this.view.addChild(this.background),this.background.onNext.connect(this.nextRegion.bind(this)),this.background.onPrevious.connect(this.prevRegion.bind(this)),this.regionTitle=new g.a("placeholder",{fill:"#493008",fontSize:36,stroke:!1,strokeThickness:8,lineJoin:"round"}),this.regionTitle.anchor.set(.5),this.regionTitle.position.set(0,-190),this.flagsMaskContainer=new s.Container,e=new s.Graphics,this.background.content.addChild(e),e.beginFill(16711680),e.drawRect(-this.background.panelWidth/2+20,-this.background.panelHeight/2+20,this.background.panelWidth-40,this.background.panelHeight-40),e.endFill(),this.flagsMask=e,this.background.content.addChild(this.flagsMaskContainer),this.flagsFilter=new s.filters.BlurFilter,this.flagsFilter.blurY=0,this.flagsFilter.blurX=10,this.flagsContainer=new s.Container,this.flagsMaskContainer.addChild(this.flagsContainer),this.flagsMaskContainer.mask=e,this.mapContainer=new s.Container,this.mapContainer.x=340,this.mapContainer.y=-195,this.background.content.addChild(this.mapContainer),this.assetsLoaded=!1,this.active=!1,this.background.content.addChild(this.regionTitle),this.buttonList=[],this.hoverDebounce=0,-1===X.g.indexOf(J.a.SCREEN_ID.COUNTRY_SELECT)?Z.c.add(X.e,(function(t){t.type===X.f.SCREEN_ASSETS_LOADED&&t.screenId===J.a.SCREEN_ID.COUNTRY_SELECT&&n.onAssetsLoaded()})):this.onAssetsLoaded();case 31:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){$(a,r,i,o,s,"next",t)}function s(t){$(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}(),a.prevRegion=function(){var t=this;if(!this.tween){var e,n,i;for(var a in Q.a.regions){if((i=Q.a.regions[a]).REGION_ID===q.b.region.REGION_ID){if(e){q.b.region=e;break}n=!0}e=i}n&&(q.b.region=i),!r.a.mobile&&!r.a.ie&&(this.flagsContainer.filters=[this.flagsFilter]);var s=this.flagsContainer.position.x;this.tween=Object(o.tween)(this.flagsContainer.position,.25,{x:s+1e3,onComplete:function(){t.updateCountries(),t.flagsContainer.x=s-1e3,Object(o.tween)(t.flagsContainer.position,.25,{x:s,ease:"Quad.easeOut",onComplete:function(){t.tween=null,t.flagsContainer.filters=[]}})}}),Object(o.tween)(this.regionTitle,.25,{alpha:0,onComplete:function(){Object(o.tween)(t.regionTitle,.25,{alpha:1})}})}},a.nextRegion=function(){var t=this;if(!this.tween){var e=!1,n=!1;for(var i in Q.a.regions){var a=Q.a.regions[i];if(n||(n=a),e){q.b.region=a,e=!1;break}a.REGION_ID===q.b.region.REGION_ID&&(e=!0)}e&&(q.b.region=n),!r.a.mobile&&!r.a.ie&&(this.flagsContainer.filters=[this.flagsFilter]);var s=this.flagsContainer.position.x;this.tween=Object(o.tween)(this.flagsContainer.position,.25,{x:s-1e3,onComplete:function(){t.updateCountries(),t.flagsContainer.x=s+1e3,Object(o.tween)(t.flagsContainer.position,.25,{x:s,ease:"Quad.easeOut",onComplete:function(){t.tween=null,t.flagsContainer.filters=[]}})}}),Object(o.tween)(this.regionTitle,.25,{alpha:0,onComplete:function(){Object(o.tween)(t.regionTitle,.25,{alpha:1})}})}},a.updateCountries=function(){this.flagsContainer.children.length=0,this.countries=Object(Q.b)(q.b.region.REGION_ID),this.buttonList.length=0;for(var t=0;t<this.mapContainer.children.length;t++){var e=this.mapContainer.children[t];e.REGION_ID===q.b.region.REGION_ID?(e.scale.set(1.2),e.tint=12747008,e.alpha=1):(e.scale.set(1),e.tint=16777215,e.alpha=1)}for(var n,r,i=0,a=0,o=6,u=0,c=0;c<this.countries.length;c++){n=this.countries[c],(r=N(n.FLAG)).silent=!0,r.icon.scale.set(.65),r.icon.y-=27,r.background.alpha=.3;var l=s.Sprite.from("country-backer-2.png");l.anchor.set(.5),r.background.addChild(l);var h={fill:"black",fontSize:20,wordWrap:!0,wordWrapWidth:130,align:"center",maxWidth:130};"vi"===W.a.settings.language&&(h.maxHeight=60,h.maxWidth=150,h.wordWrapWidth=150);var d=new g.a(n.NAME,h);d.anchor.set(.5),d.position.set(0,30),r.addChild(d),r.onHover2.add(this.onCountryButtonHover,this),r.onPress.add(this.onCountryButtonPressed,this),r.onMouseOut.add(this.onCountryButtonMouseOut,this),this.buttonList.push(r),u=0,a=0,o=5;var p=r.background.texture.width;if((c-u)%o==0&&0!==c&&i++,c>9&&this.countries.length<15||c>4&&this.countries.length<10&&this.countries.length>1)a=(5-this.countries.length%5)*(p+J.a.COUNTRY_SELECT.MARGIN)/2;r.position.x=(p+J.a.COUNTRY_SELECT.MARGIN)*(c%o)+a,r.position.y=(120+J.a.COUNTRY_SELECT.MARGIN)*i,1===this.countries.length&&(r.position.x=2*(p+J.a.COUNTRY_SELECT.MARGIN),r.position.y=-140),r.id=n.ID,this.flagsContainer.addChild(r)}this.bgc=new s.Graphics,this.bgc.beginFill(4095*Math.random()),this.bgc.drawRect(0,0,this.flagsContainer.width,this.flagsContainer.height),this.flagsContainer.position.set(r.width/2-422.5-J.a.COUNTRY_SELECT.MARGIN/2,-this.flagsContainer.height/2+r.height/2-J.a.COUNTRY_SELECT.MARGIN/2),this.flagsContainer.position.y+=80,this.countryGroup=new V(this.buttonList,1),this.regionTitle.setText(q.b.region.NAME)},a.onCountryButtonPressed=function(t){var e=Q.a.countries[t.id||this.currentButton.id];q.b.countryID=e,this.app.controller.breadcrumbNext()},a.onCountryButtonHover=function(t){this.currentButton===t&&this.onCountryButtonPressed(t),r.a.mobile&&(this.currentButton=t),this.hoverDebounce++},a.onCountryButtonMouseOut=function(){this.hoverDebounce=0},a.hide=function(){this.active=!1},a.show=function(){this.active=!0,this.assetsLoaded&&this.showContent(),window.FASTPLAY&&this.onCountryButtonPressed(this.buttonList[0])},a.onAssetsLoaded=function(){for(var t in this.assetsLoaded=!0,this.background.hideSpinner(!0),this.background.showNextArrow(),this.background.showPreviousArrow(),Q.a.regions){var e=Q.a.regions[t],n=s.Sprite.from(e.MAP);n.anchor.set(.5),n.position.set(e.MAP_X,e.MAP_Y),n.REGION_ID=e.REGION_ID,this.mapContainer.addChild(n)}this.active&&this.showContent()},a.showContent=function(){this.view.interactiveChildren=!0,q.b.region||(q.b.region=Q.a.regions.WE),this.updateCountries(),this.currentButton=null},a.update=function(t){this.background.update(t)},a.resize=function(e,n){t.prototype.resize.call(this,e,n),this.background.position.set(e/2,n/2-40),this.background.scale.set((this.height-this.app.overlays.header.height/2-this.app.overlays.breadcrumb.height)/this.background.panelHeight)},i}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return N}));n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35);var r=n(101),i=(n(305),n(93)),a=n(255),o=n(142),s=n(36);function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){function t(e,n,r,i){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.isVector4=!0,this.x=e||0,this.y=n||0,this.z=r||0,this.w=void 0!==i?i:1}var e,n,r;return e=t,(n=[{key:"set",value:function(t,e,n,r){return this.x=t,this.y=e,this.z=n,this.w=r,this}},{key:"setScalar",value:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}},{key:"setX",value:function(t){return this.x=t,this}},{key:"setY",value:function(t){return this.y=t,this}},{key:"setZ",value:function(t){return this.z=t,this}},{key:"setW",value:function(t){return this.w=t,this}},{key:"clone",value:function(){return new t(this.x,this.y,this.z,this.w)}},{key:"copy",value:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}},{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this}},{key:"addScalar",value:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}},{key:"addVectors",value:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}},{key:"addScaledVector",value:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}},{key:"sub",value:function(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this}},{key:"subScalar",value:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}},{key:"subVectors",value:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}},{key:"multiplyScalar",value:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}},{key:"applyMatrix4",value:function(t){var e=this.x,n=this.y,r=this.z,i=this.w,a=t.elements;return this.x=a[0]*e+a[4]*n+a[8]*r+a[12]*i,this.y=a[1]*e+a[5]*n+a[9]*r+a[13]*i,this.z=a[2]*e+a[6]*n+a[10]*r+a[14]*i,this.w=a[3]*e+a[7]*n+a[11]*r+a[15]*i,this}},{key:"divideScalar",value:function(t){return this.multiplyScalar(1/t)}},{key:"setAxisAngleFromQuaternion",value:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}},{key:"setAxisAngleFromRotationMatrix",value:function(t){var e,n,r,i,a=t.elements,o=a[0],s=a[4],u=a[8],c=a[1],l=a[5],h=a[9],d=a[2],p=a[6],f=a[10];if(Math.abs(s-c)<.01&&Math.abs(u-d)<.01&&Math.abs(h-p)<.01){if(Math.abs(s+c)<.1&&Math.abs(u+d)<.1&&Math.abs(h+p)<.1&&Math.abs(o+l+f-3)<.1)return this.set(1,0,0,0),this;e=Math.PI;var m=(o+1)/2,g=(l+1)/2,y=(f+1)/2,v=(s+c)/4,b=(u+d)/4,_=(h+p)/4;return m>g&&m>y?m<.01?(n=0,r=.707106781,i=.707106781):(r=v/(n=Math.sqrt(m)),i=b/n):g>y?g<.01?(n=.707106781,r=0,i=.707106781):(n=v/(r=Math.sqrt(g)),i=_/r):y<.01?(n=.707106781,r=.707106781,i=0):(n=b/(i=Math.sqrt(y)),r=_/i),this.set(n,r,i,e),this}var w=Math.sqrt((p-h)*(p-h)+(u-d)*(u-d)+(c-s)*(c-s));return Math.abs(w)<.001&&(w=1),this.x=(p-h)/w,this.y=(u-d)/w,this.z=(c-s)/w,this.w=Math.acos((o+l+f-1)/2),this}},{key:"min",value:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}},{key:"max",value:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}},{key:"clamp",value:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}},{key:"clampScalar",value:function(t,e){return l.set(t,t,t,t),h.set(e,e,e,e),this.clamp(l,h)}},{key:"clampLength",value:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))}},{key:"floor",value:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}},{key:"ceil",value:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}},{key:"round",value:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}},{key:"roundToZero",value:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}},{key:"negate",value:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}},{key:"lengthSq",value:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}},{key:"length",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}},{key:"manhattanLength",value:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}},{key:"normalize",value:function(){return this.divideScalar(this.length()||1)}},{key:"setLength",value:function(t){return this.normalize().multiplyScalar(t)}},{key:"lerp",value:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}},{key:"lerpVectors",value:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)}},{key:"equals",value:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}},{key:"fromArray",value:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}},{key:"toArray",value:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}}])&&u(e.prototype,n),r&&u(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),l=new c,h=new c,d=n(448),p=(n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(0)),f="\nuniform vec3 uColor;\nvarying vec3 vNormal;\n\nvoid main()\n{\n    gl_FragColor = vec4(uColor, 1.);\n}\n",m="\nattribute vec3 aPosition;\nattribute vec3 aNormal;\n\nvarying vec3 vNormal;\n\nuniform mat4 uModelMatrix;\nuniform mat4 uViewMatrix;\nuniform mat4 uProjectionMatrix;\n\nvoid main() {\n\n    gl_Position = uProjectionMatrix * uViewMatrix * uModelMatrix * vec4(aPosition, 1.);\n\n    vNormal = aNormal;\n}\n";function g(t){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=x(t);if(e){var i=x(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w(this,n)}}function w(t,e){if(e&&("object"===g(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function x(t){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var S=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b(t,e)}(a,t);var e,n,r,i=_(a);function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16711680;y(this,a);var n=p.UniformGroup.from({uColor:p.utils.hex2rgb(e,new Float32Array(3))});return(t=i.call(this,p.Program.from(m,f,"color"),n))._color=e,t}return e=a,(n=[{key:"color",get:function(){return this._color},set:function(t){this._color=null!=t?t:16711680,this.uniforms.color=p.utils.hex2rgb(t,this.uniforms.color)}}])&&v(e.prototype,n),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(p.Shader);function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function M(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var E,A=new i.a,k=new o.a;!function(t){t[t.PERSPECTIVE=0]="PERSPECTIVE",t[t.ORTHOGRAPHIC=1]="ORTHOGRAPHIC",t[t.CUSTOM=2]="CUSTOM"}(E||(E={}));var C=function(){function t(e){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};T(this,t),this.zoom=1,this.entity=e,this.width=0,this.height=0,this.fov=o.fov||Math.PI/180*60,this.near=o.near||.1,this.far=o.far||1e3,this.zoom=null!==(n=o.zoom)&&void 0!==n?n:1,this.projection=new i.a,this.view=new i.a,this.viewProjection=new i.a,this.forward=new s.a,this.position=new s.a,this.mode=o.mode||0,this.lookAtTarget=o.lookAtTarget,this.custom=o.custom||!1,this.orthographicSize=o.orthographicSize||170,this.dirty=0,o.debug&&(o.debug=new r.a({geometry:new d.a(2),material:new S(16711680)}),e.addChild(o.debug)),this.clippingPlane=null,this.clipBias=0,this.frustum=new a.a}var e,n,o;return e=t,(n=[{key:"update",value:function(){this.lookAtTarget&&this.entity.transform.lookAt(this.lookAtTarget)}},{key:"updateProjection",value:function(t,e){if(this.width=t,this.height=e,this._updateView(),this.mode===E.PERSPECTIVE)this.projection.makePerspective(this.fov/this.zoom,t/e,this.near,this.far);else if(this.mode===E.ORTHOGRAPHIC){var n=e/t,r=this.zoom*this.orthographicSize;this.projection.makeOrthographic(-r,r,-r*n,r*n,this.near,this.far)}this.clippingPlane&&this.addClippingPlane(this.clippingPlane),this.viewProjection.multiplyMatrices(this.projection,this.view),this.frustum.setFromMatrix(this.viewProjection),this.dirty++}},{key:"addClippingPlane",value:function(t){var e=k.copy(t),n=this.projection;e.applyMatrix4(this.view);var r=new c,i=new c;r.set(e.normal.x,e.normal.y,e.normal.z,e.constant);var a=n.elements;i.x=(Math.sign(r.x)+a[8])/a[0],i.y=(Math.sign(r.y)+a[9])/a[5],i.z=-1,i.w=(1+a[10])/a[14],r.multiplyScalar(2/r.dot(i)),a[2]=r.x,a[6]=r.y,a[10]=r.z+1-this.clipBias,a[14]=r.w}},{key:"copy",value:function(t){this.width=t.width,this.height=t.height,this.fov=t.fov,this.near=t.near,this.far=t.far,this.mode=t.mode,this.orthographicSize=t.orthographicSize,this.projection.copy(t.projection),this.view.copy(t.view),this.forward.copy(t.forward),this.position.copy(t.position)}},{key:"_updateView",value:function(){var t=this.forward;if(this.custom){A.getInverse(this.view);var e=A.elements;t.x=e[8],t.y=e[9],t.z=e[10],t.setLength(-1),this.position.x=e[12],this.position.y=e[13],this.position.z=e[14]}else{var n=this.entity.transform.worldTransform,r=n.elements;t.x=r[8],t.y=r[9],t.z=r[10],t.setLength(-1),this.view.getInverse(n),this.position.x=r[12],this.position.y=r[13],this.position.z=r[14]}}}])&&M(e.prototype,n),o&&M(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();function O(t){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function L(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function R(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P(t,e){return(P=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function D(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=B(t);if(e){var i=B(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I(this,n)}}function I(t,e){if(e&&("object"===O(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function B(t){return(B=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}C.DEFAULT_NAME="camera";var N=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P(t,e)}(a,t);var e,n,r,i=D(a);function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return R(this,a),(t=i.call(this)).camera=t.addComponent(C,e),t.position.z=10,t}return e=a,n&&L(e.prototype,n),r&&L(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(87),n(39),n(121),n(38),n(33),n(35),n(88),n(51);var r=n(0),i=n(270),a={uniformData:{id:-1}},o={vertex:{header:"\n            varying float vFogDepth;\n        ",end:"\n            vFogDepth = length(worldCameraPosition.xyz);\n        "},fragment:{header:"\n            varying float vFogDepth;\n            uniform float uFogNear;\n            uniform float uFogFar;\n            uniform vec3 uFogColor;\n        ",end:"\n            float fogFactor = smoothstep( uFogNear, uFogFar, vFogDepth );\n            finalColor.rgb = mix(finalColor.rgb, uFogColor * diffuseColor.a, fogFactor);\n        "}},s={fragment:{header:"\n            // gamma conversion functions..\n            vec3 gammaCorrectInput(vec3 color) {\n                return pow(color, vec3(2.2));\n            }\n            \n            float gammaCorrectInput(float color) {\n                return pow(color, 2.2);\n            }\n            \n            vec4 gammaCorrectInput(vec4 color) {\n                return vec4(pow(color.rgb, vec3(2.2)), color.a);\n            }\n            \n            vec3 gammaCorrectOutput(vec3 color) {\n                color += vec3(0.0000001);\n                return pow(color, vec3(0.45));\n            }\n            \n            vec4 texture2DSRGB(sampler2D tex, vec2 uv) {\n                vec4 rgba = texture2D(tex, uv);\n                rgba.rgb = gammaCorrectInput(rgba.rgb);\n                return rgba;\n            }\n            \n            vec4 textureCubeSRGB(samplerCube tex, vec3 uvw) {\n                vec4 rgba = textureCube(tex, uvw);\n                rgba.rgb = gammaCorrectInput(rgba.rgb);\n                return rgba;\n            }\n\n            vec4 textureCubeSRGB(samplerCube tex, vec3 uvw, float lod) {\n                vec4 rgba = textureCube(tex, uvw, lod);\n                rgba.rgb = gammaCorrectInput(rgba.rgb);\n                return rgba;\n            }\n        "}};function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return function(t){if(Array.isArray(t))return l(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return l(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function h(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y={name:"standard",vertex:"\nattribute vec3 aPosition;\nattribute vec3 aNormal;\n    \nuniform mat4 uProjectionMatrix;\nuniform mat4 uViewMatrix;\n\nvarying vec3 vWorldNormal;\nvarying vec4 vWorldPosition;\n\nvoid main() {\n\n    mat4 projectionMatrix = uProjectionMatrix;\n    vec4 worldPosition = vec4(aPosition, 1.0);\n    vec3 worldNormal = aNormal;\n    mat4 modelMatrix;\n    \n    // sets the properties above and then   \n    // transform them above locally\n    {{TRANSFORM}}\n    \n    worldPosition = modelMatrix * worldPosition;\n    \n    vec4 worldCameraPosition = uViewMatrix * worldPosition;\n    \n    // add any plugins to do shader fun\n    {{MAIN}}\n\n    // add the lighting inputs\n    {{LIGHTING}}\n    \n    vWorldPosition = worldPosition;\n    vWorldNormal = normalize(worldNormal);\n    gl_Position = projectionMatrix * worldCameraPosition; \n    \n    /// add and final tweaks you want\n    {{END}}\n}\n",fragment:"\nuniform vec4 uDiffuseColor;\nuniform vec3 uEyePosition;\n\nvarying vec4 vWorldPosition;\nvarying vec3 vWorldNormal;\nuniform vec3 uSpecularColor;\n\nvoid main() {\n\n    vec2 uv;\n    \n    vec3 worldPosition = vWorldPosition.xyz;\n    vec3 eyePosition = uEyePosition;\n    vec3 eyeToSurfaceDir = normalize(worldPosition - eyePosition);\n    \n    // key variables, idea is to override what makes these..\n    vec3 worldNormal;\n\n    float specular = 0.;\n    float gloss = 0.;\n\n    vec3 emissiveColor = vec3(0.);\n    vec3 reflectionColor = vec3(1.);\n    vec4 diffuseColor = uDiffuseColor;\n    float alphaColor = 1.;\n\n    // calculated by the lighting model..\n    vec3 specularColor = vec3(0.);\n    vec3 lightingColor = vec3(0.);\n    \n    \n    vec4 finalColor;\n    \n    {{MATERIAL}}\n\n    {{MAIN}}\n    \n    finalColor.rgb = (diffuseColor.rgb * lightingColor * reflectionColor) + specularColor + emissiveColor;  \n    \n    finalColor.a = 1.;\n    finalColor *= alphaColor;\n\n    {{END}}\n\n    finalColor.rgb = gammaCorrectOutput(finalColor.rgb);\n\n    gl_FragColor = finalColor;\n}"},v=0,b=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(m,t);var e,n,u,l=f(m);function m(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h(this,m),(e=l.call(this,a,n)).id=v++,e._config=t,e}return e=m,(n=[{key:"build",value:function(t,e,n){var a,u=this._config;this._built||e&&u.extensions.push(o),this._built=!0;var l=[u.modelMatrix,u.normalMatrix,u.uv,u.normal,u.diffuse,u.alpha,u.specular,u.emissive,u.reflection,u.lights(t.lights),s].concat(c(null!==(a=u.extensions)&&void 0!==a?a:[])).filter((function(t){return!!t})),h=Object(i.a)(n,y,l),d=h.vertex,p=h.fragment;this.program=r.Program.from(d,p)}}])&&d(e.prototype,n),u&&d(e,u),Object.defineProperty(e,"prototype",{writable:!1}),m}(r.Shader);b.MAX_BONES=20,b.FAST_NORMALS=!1,b.PREFER_TEXTURE=!0},function(t,e,n){"use strict";n.d(e,"a",(function(){return J}));n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35),n(39),n(119);var r=n(101),i=(n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(88),n(34),n(127),n(0)),a=n(93),o=n(255),s=n(170),u=n(36),c=n(195),l=n(174);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=y(t);if(e){var i=y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return g(this,n)}}function g(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&f(t,e)}(a,t);var e,n,r,i=m(a);function a(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d(this,a),(e=i.call(this,t)).toRender=new l.a(n.render),e.toIgnore=new l.a(n.ignore),e._toRenderList=[],e._ignoreNeedsUpdate=!0,e._toIgnoreList=[],e._renderNeedsUpdate=!0,e}return e=a,(n=[{key:"addedToScene",value:function(t){t.onEntityAddedToScene.add(this),t.onEntityRemovedFromScene.add(this)}},{key:"removedFromScene",value:function(t){t.onEntityAddedToScene.add(this),t.onEntityRemovedFromScene.add(this)}},{key:"entityAddedToScene",value:function(t){t.view3d&&(this._renderNeedsUpdate=!0,this._ignoreNeedsUpdate=!0)}},{key:"entityRemovedFromScene",value:function(t){t.view3d&&(this._renderNeedsUpdate=!0,this._ignoreNeedsUpdate=!0)}},{key:"add",value:function(t){this.toRender.add(t),this._renderNeedsUpdate=!0}},{key:"ignore",value:function(t){this.toIgnore.add(t),this._ignoreNeedsUpdate=!0}},{key:"_getFlatList",value:function(t){var e={},n=[];return t.run((function(t){e[t.UID]||(e[t.UID]=t,t.view3d&&n.push(t),t.container.traverse((function(t){e[t.UID]||(e[t.UID]=t,t.view3d&&n.push(t))})))})),n}},{key:"toRenderList",get:function(){return this.entity.scene&&!this._renderNeedsUpdate||(this._toRenderList=this._getFlatList(this.toRender),this._renderNeedsUpdate=!1),this._toRenderList}},{key:"toIgnoreList",get:function(){return this.entity.scene&&!this._ignoreNeedsUpdate||(this._toIgnoreList=this._getFlatList(this.toIgnore),this._ignoreNeedsUpdate=!1),this._toIgnoreList}}])&&p(e.prototype,n),r&&p(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(c.a);v.DEFAULT_NAME="renderGroup";var b=n(703),_=n(706),w=n(704),x=n(705),S=n(707),T=n(270),M=n(556);function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function A(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function k(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=R(t);if(e){var i=R(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return L(this,n)}}function L(t,e){if(e&&("object"===E(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var P,D,I,B,N,j={name:"shadow",vertex:"\n\n\nattribute vec3 aPosition;\n\nuniform mat4 uShadowProjectionView;\nvarying float vDepth;\n\nvoid main() {\n\n    vec4 worldPosition = vec4(aPosition, 1.0);\n    mat4 modelMatrix;\n\n    {{TRANSFORM}}\n\n    {{MAIN}}\n\n    gl_Position = uShadowProjectionView * uModelMatrix * worldPosition;\n    \n    vDepth = ((gl_Position.z/gl_Position.w)  * 0.5 + 0.5);\n\n    {{END}}\n}\n",fragment:"\nvarying float vDepth;\n\nvoid main()\n{\n    vec2 uv;\n    float alphaColor = 1.;\n\n    {{MATERIAL}}\n\n    {{MAIN}}\n\n    {{END}}\n    \n    gl_FragColor = vec4(vDepth, 1., 1., 1.);\n}\n"},F=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C(t,e)}(s,t);var e,n,r,o=O(s);function s(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k(this,s);var n=[b.a];e.skinned&&n.push(Object(_.a)(M.a.MAX_BONES)),e.alphaMap&&n.push(w.a,x.a,S.a);var r=Object(T.a)(!1,j,n),u=r.vertex,c=r.fragment,l=i.UniformGroup.from({uModelMatrix:new a.a,uAlphaTest:.5,uAlphaMap:null!==(t=e.alphaMap)&&void 0!==t?t:i.Texture.WHITE});return o.call(this,i.Program.from(u,c),l)}return e=s,n&&A(e.prototype,n),r&&A(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}(i.Shader);function U(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var Y=function(t,e){var n=t.view3d,r=e.view3d,i=n._geometry,a=r._geometry;i.castToBaseGeometry(),a.castToBaseGeometry();return n.orderBias-r.orderBias||n.shadowMaterial&&r.shadowMaterial?0:n.shadowMaterial?-1:0},G=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._bounds=new s.a,P||(P=new u.a(0,1,0),D=new u.a(0,0,0),I=new u.a,B=new u.a,N=new a.a),this.entity=e,this._shadowRenderGroup=e.addComponent(v),this.frequency=1,this._light=n.light;var r=n.size||1024,o=new i.BaseTexture(null,{width:r,height:r,type:i.TYPES.HALF_FLOAT,wrapMode:i.WRAP_MODES.CLAMP,mipmap:i.MIPMAP_MODES.OFF});this._shadowMap=new i.Texture(o),this._shadowFramebuffer=new i.Framebuffer(r,r).addColorTexture(0,o).enableDepth(),this._debugSprite=new i.Sprite(this._shadowMap),this._debugSprite.scale.set(.25),this._shadowMaterial=new F,this._shadowMaterialSkinned=new F({skinned:!0}),this._shadowState=new i.State,this._shadowState.depthTest=!0,this._shadowState.culling=!1,this._shadowState.blend=!1,this.bias=void 0===n.bias?.001:n.bias,this.poissonSpread=void 0===n.poissonSpread?2e3:n.poissonSpread;var c=this._light.light.lightId,l={};l["uShadowProjectionView".concat(c)]=new a.a,l["uShadowMap".concat(c)]=this._shadowMap,l["uShadowParams".concat(c)]=new Float32Array(2),this._shadowUniforms=new i.UniformGroup(l,!1),this.refreshRate=1,this._shadowProjectionMatrix=new a.a}var e,n,r;return e=t,(n=[{key:"addedToScene",value:function(t){var e=this._light.light.lightId,n=t.view3d;n.lights.lightUniforms.uniforms["shadow".concat(e)]=this._shadowUniforms,n.onPreDrawScene.add(this)}},{key:"removedFromScene",value:function(t){t.view3d.onPreDrawScene.remove(this)}},{key:"preDrawScene",value:function(){var t=this;if(!(this.frequency++%this.refreshRate)){var e=this._shadowRenderGroup.toRenderList;if(this._shadowRenderGroup.toIgnoreList.length>0&&(e=e.filter((function(e){return-1===t._shadowRenderGroup.toIgnoreList.indexOf(e)}))),this._light.scene&&e.length){var n=this.entity.scene.view3d,r=this._light.light.lightId,i=n.renderer,a=I.copy(this._light.light.direction),s=N;if(2===this._light.light.type){var u=this._light.transform.extractPosition(B);a.add(u),s.lookAtMove(u,a,P)}else s.lookAtMove(D,a,P);if(0===this._light.light.type){var c=this._bounds;c.makeEmpty(),e.forEach((function(t){c.expandBySphere(t.view3d.getBoundingSphere())})),c.applyMatrix4(s),this._shadowProjectionMatrix.makeOrthographic(c.min.x,c.max.x,c.min.y,c.max.y,-c.max.z,-c.min.z)}else this._shadowProjectionMatrix.makePerspective(2*this._light.light.radius,1,.1,this._light.light.distance);var l=this._shadowUniforms.uniforms,h=l["uShadowProjectionView".concat(r)];if(l["uShadowParams".concat(r)][0]=this.bias,l["uShadowParams".concat(r)][1]=this.poissonSpread,h.multiplyMatrices(this._shadowProjectionMatrix,s),2===this._light.light.type){var d=new o.a;d.setFromMatrix(h),e=e.filter((function(t){var e=t.view3d;return d.intersectsSphere(e.getBoundingSphere())}))}this._shadowUniforms.update();var p=i.framebuffer.current;i.framebuffer.bind(this._shadowFramebuffer),i.framebuffer.clear(1e4,0,0,1),i.state.set(this._shadowState),e.sort(Y),e.forEach((function(e){if(e.scene){var n=e.view3d,r=n.geometry,a=null,o=null;n.shadowMaterial?(a=e.view3d.shadowMaterial,e.skinned&&(a.uniforms.bones=e.skinned.bones)):e.skinned?(a=t._shadowMaterialSkinned).uniforms.uBoneMatrices=e.skinned.bones:a=t._shadowMaterial,(o=a.uniforms).uModelMatrix=e.transform.worldTransform,o.uShadowProjectionView=h,i.shader.bind(a,!1);var s=r.castToBaseGeometry();i.geometry.bind(s),i.geometry.draw(n.draw,r.size,r.start,r.instanceCount)}})),i.framebuffer.bind(p)}}}},{key:"add",value:function(t){this._shadowRenderGroup.add(t)}},{key:"ignore",value:function(t){this._shadowRenderGroup.ignore(t)}}])&&U(e.prototype,n),r&&U(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}(),H=n(517);function z(t){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function V(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function W(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function K(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=Z(t);if(e){var i=Z(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return q(this,n)}}function q(t,e){if(e&&("object"===z(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Z(t){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var J=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&X(t,e)}(a,t);var e,n,r,i=K(a);function a(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return V(this,a),(t=i.call(this)).light=t.addComponent(H.b,e),t.name=e.name,e.castShadow&&t._addShadowCaster(e.shadowOptions),t}return e=a,(n=[{key:"_addShadowCaster",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.shadow||(this.shadow=this.addComponent(G,Object.assign(Object.assign({},t),{light:this})))}},{key:"intensity",get:function(){return this.light.intensity},set:function(t){this.light.intensity=t}},{key:"distance",get:function(){return this.light.distance},set:function(t){this.light.distance=t}},{key:"color",get:function(){return this.light.color},set:function(t){this.light.color=t}},{key:"softness",get:function(){return this.light.softness},set:function(t){this.light.softness=t}}])&&W(e.prototype,n),r&&W(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return U}));n(21),n(27),n(5),n(107),n(83),n(19);var r=n(80),i=n(130),a=n(8),o=n(28),s=n(9),u=n(44),c=n(37),l=n(0);function h(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var f=function(t){var e,n;function i(e,n,r){var i;return p(h(i=t.call(this)||this),"userStats",void 0),p(h(i),"vPadding",15),p(h(i),"titleBar",void 0),p(h(i),"content",void 0),i.userStats=e,i.initBaseView(n,r),i}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,d(e,n);var o=i.prototype;return o.initBaseView=function(t,e){this.titleBar=l.Sprite.from(t),this.addChild(this.titleBar),this.content=new l.Container,this.content.position.set(this.titleBar.x,this.titleBar.y+this.titleBar.height),this.addChild(this.content);var n={fill:"#000",fontSize:25,align:"center",wordWrap:!0,wordWrapWidth:400,lineHeight:20},r=new s.a(e,n);r.x=this.titleBar.width/2-r.width/2,r.y=28-r.height/2,this.addChild(r),this.initContentView(),this.initPanelBg()},o.initContentView=function(){},o.initPanelBg=function(){var t=l.TilingSprite.from("panel-tile-middle.png",{width:this.titleBar.width,height:this.content.height+2*this.vPadding});t.position.set(this.titleBar.x,this.titleBar.y+this.titleBar.height),this.addChildAt(t,0);var e=l.Sprite.from("panel-tile-bottom.png");e.position.set(t.x,t.y+t.height-1),this.addChildAt(e,0)},o.formatNumber=function(t){if(t<("tr"===a.a.settings.language?1e5:1e3))return t.toString();t=t.toString();for(var e=Math.ceil(t.length/3)-1,n="",i=0;i<e;i++)n=r.b.translate("STR_SEPARATOR")+t.substr(-3)+n,t=t.substr(0,t.length-3);return n=t+n},i}(l.Container);function m(t,e){return(m=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g={fill:"#000",fontSize:22,align:"center",wordWrap:!1,wordWrapWidth:300,lineHeight:22},y={fill:"#000",fontSize:56,fontWeight:"bold",align:"center",wordWrap:!1},v=function(t){var e,n;function r(e){var n,r,i,a;return n=t.call(this,e,"panel-tile-top-orange.png","STR_USER_STATS_GENERAL")||this,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),a=void 0,(i="userStats")in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,m(e,n);var i=r.prototype;return i.initContentView=function(){t.prototype.initContentView.call(this);var e=86+this.vPadding,n=this.userStats.getValue(c.d.TOTAL_COINS_EARNED),r=this.factoryItemSubView("user-stat-item-2x-gold.png","STR_USER_STATS_COINS_EARNED",n,"coin.png");r.position.set(this.titleBar.width/2-185,e),this.content.addChild(r);var i=this.userStats.getValue(c.d.CHALLENGES_COMPLETED),a=this.factoryItemSubView("user-stat-item-2x-silver.png","STR_USER_STATS_CHALLENGES_COMPLETED",i,"icon-star.png");a.position.set(185+this.titleBar.width/2,e),this.content.addChild(a)},i.factoryItemSubView=function(t,e,n,r){void 0===r&&(r=null);var i=l.Sprite.from(t);i.anchor.set(.5);var a,o=new l.Container;i.addChild(o),r&&((a=l.Sprite.from(r)).anchor.set(0,.5),o.addChild(a));var u=a?a.width+20:0,c=new l.Text(n.toString(),y);c.anchor.set(0,.5),c.x=u,o.addChild(c),o.x-=o.width/2,o.y=-10;var h=new s.a(e,g);return h.anchor.set(.5),h.x=0,h.y=i.height/2-h.height/2-25,i.addChild(h),i},r}(f);function b(t,e){return(b=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _={fill:"#000",fontSize:22,align:"center",wordWrap:!1,wordWrapWidth:300,lineHeight:22},w={fill:"#000",fontSize:64,fontWeight:"bold",align:"center",wordWrap:!1},x=function(t){var e,n;function r(e){var n,r,i,a;return n=t.call(this,e,"panel-tile-top-blue.png","STR_USER_STATS_MATCHES")||this,r=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(n),a=void 0,(i="userStats")in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,b(e,n);var i=r.prototype;return i.initContentView=function(){t.prototype.initContentView.call(this);var e=86+this.vPadding,n=e+158+this.vPadding,r=this.userStats.getValue(c.d.LEAGUE_MATCHES_WON)+this.userStats.getValue(c.d.TOURNAMENT_MATCHES_WON),i=this.factoryItemSubView("user-stat-item-3x-gold.png","STR_USER_STATS_WINS",r);i.position.set(this.titleBar.width/2-255,e),this.content.addChild(i);var a=this.userStats.getValue(c.d.LEAGUE_MATCHES_DRAWN)+this.userStats.getValue(c.d.TOURNAMENT_MATCHES_DRAWN),o=this.factoryItemSubView("user-stat-item-3x-silver.png","STR_USER_STATS_DRAWS",a);o.position.set(0+this.titleBar.width/2,e),this.content.addChild(o);var s=this.userStats.getValue(c.d.LEAGUE_MATCHES_LOST)+this.userStats.getValue(c.d.TOURNAMENT_MATCHES_LOST),u=this.factoryItemSubView("user-stat-item-3x-bronze.png","STR_USER_STATS_LOSSES",s);u.position.set(255+this.titleBar.width/2,e),this.content.addChild(u);var l=this.userStats.getValue(c.d.TOTAL_SUCCESSFUL_TACKLES),h=this.factoryItemSubView("user-stat-item-3x-blue.png","STR_USER_STATS_SUCCESSFUL_TACKLES",l);h.position.set(this.titleBar.width/2-255,n),this.content.addChild(h);var d=this.userStats.getValue(c.d.TOTAL_SUCCESSFUL_PASSES),p=this.factoryItemSubView("user-stat-item-3x-blue.png","STR_USER_STATS_SUCCESSFUL_PASSES",d);p.position.set(0+this.titleBar.width/2,n),this.content.addChild(p);var f=this.userStats.getValue(c.d.TOTAL_GOALS_SCORED),m=this.factoryItemSubView("user-stat-item-3x-blue.png","STR_USER_STATS_GOALS",f);m.position.set(255+this.titleBar.width/2,n),this.content.addChild(m)},i.factoryItemSubView=function(t,e,n,r){void 0===r&&(r=null);var i=l.Sprite.from(t);i.anchor.set(.5);var a,o=new l.Container;i.addChild(o),r&&((a=l.Sprite.from(r)).anchor.set(0,.5),o.addChild(a));var u=a?a.width+20:0,c=new l.Text(n.toString(),w);c.anchor.set(0,.5),c.x=u,o.addChild(c),o.x-=o.width/2,o.y=-10;var h=new s.a(e,_);return h.anchor.set(.5),h.x=0,h.y=i.height/2-h.height/2-25,i.addChild(h),i},r}(f),S=(n(99),n(39),n(25));function T(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M(t,e){return(M=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function E(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var A={fill:"#203b74",fontSize:28,align:"center",wordWrap:!0,wordWrapWidth:150,lineHeight:28},k={fill:"#fff",fontSize:24,align:"center"},C=function(t){var e,n;function r(e){var n;return E(T(n=t.call(this,e,"panel-tile-top-purple.png","STR_USER_STATS_PLAYERS")||this),"userStats",void 0),E(T(n),"characterData",void 0),n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,M(e,n);var i=r.prototype;return i.getCharacterWithHighestVal=function(t){var e=null;if(Object.keys(this.characterData).length>0){var n=0;for(var r in this.characterData){var i=this.characterData[r];i.hasOwnProperty(t)&&i[t]>n&&(n=i[t],null===e&&(e={id:null,value:0}),e.id=r,e.value=i[t])}}return e},i.genView=function(t,e){var n,r=this.getCharacterWithHighestVal(e);if(r)try{n=this.factoryItemSubView("user-stat-item-2x-blue.png",t,r.value,S.c[r.id].profile,S.c[r.id].name)}catch(e){n=this.factoryNullItemSubView("user-stat-item-2x-blue.png",t)}else n=this.factoryNullItemSubView("user-stat-item-2x-blue.png",t);return n},i.initContentView=function(){t.prototype.initContentView.call(this),this.characterData=this.userStats.getValue(c.d.DATA_BY_CHARACTER);var e=86+this.vPadding,n=e+158+this.vPadding,r=null;(r=this.genView("STR_USER_MOST_GOALS",c.d.TOTAL_GOALS_SCORED)).position.set(this.titleBar.width/2-185,e),this.content.addChild(r),(r=this.genView("STR_USER_MOST_SUCCESSFUL_TACKLES",c.d.TOTAL_SUCCESSFUL_TACKLES)).position.set(185+this.titleBar.width/2,e),this.content.addChild(r),(r=this.genView("STR_USER_MOST_SHOTS",c.d.TOTAL_SHOTS)).position.set(this.titleBar.width/2-185,n),this.content.addChild(r),(r=this.genView("STR_USER_MOST_SUCCESSFUL_PASSES",c.d.TOTAL_SUCCESSFUL_PASSES)).position.set(185+this.titleBar.width/2,n),this.content.addChild(r)},i.factoryItemSubView=function(t,e,n,r,i){var a=l.Sprite.from(t);a.anchor.set(.5);var o=l.Sprite.from(r);o.anchor.set(.5),o.position.set(80,-18),o.scale.set(.43),a.addChild(o);var u=new s.a(e,A);u.anchor.set(.5),u.position.set(-75,-15),a.addChild(u);var c=new s.a(i,k);return c.anchor.set(.5),c.y=a.height/2-c.height/2-7,a.addChild(c),a},i.factoryNullItemSubView=function(t,e){var n=l.Sprite.from(t);n.anchor.set(.5);var r=new s.a(e,A);r.anchor.set(.5),r.position.set(0,-15),n.addChild(r);var i=new s.a("-",k);return i.anchor.set(.5),i.y=n.height/2-i.height/2-7,n.addChild(i),n},r}(f),O=n(1),L=n(134),R=n(147),P=n(123),D=n(2);function I(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function B(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){I(a,r,i,o,s,"next",t)}function s(t){I(a,r,i,o,s,"throw",t)}o(void 0)}))}}function N(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function F(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var U=function(t){var e,n;function i(e){var n;return F(N(n=t.call(this,e)||this),"app",void 0),F(N(n),"background",void 0),F(N(n),"board",void 0),F(N(n),"boardContent",void 0),F(N(n),"userCountry",void 0),F(N(n),"boardOuterWrapper",void 0),F(N(n),"boardCache",void 0),F(N(n),"screenData",void 0),F(N(n),"shineables",void 0),F(N(n),"topShade",void 0),F(N(n),"bottomShade",void 0),F(N(n),"scrollerOffset",void 0),F(N(n),"scrollCombo",void 0),F(N(n),"itemSpacing",10),F(N(n),"innerWidth",840),F(N(n),"innerHeight",475),F(N(n),"innerMarginY",25),F(N(n),"innerOffsetY",2),n.app=e,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,j(e,n);var c=i.prototype;return c.init=function(){var t=B(regeneratorRuntime.mark((function t(){var e,n,r,i,a,o,s,c,h,d,p,f,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.background=new u.a({width:1e3,height:760,title:"STR_TITLE_USER_STATS",hasLoader:!0}),this.view.addChild(this.background),this.boardOuterWrapper=new l.Container,this.background.content.addChild(this.boardOuterWrapper),this.board=new l.Sprite,this.board.anchor.set(.5),this.board.y=40,this.boardOuterWrapper.addChild(this.board),this.boardContent=new l.Container,this.boardContent.x=-407,this.board.addChild(this.boardContent),e=this.innerWidth,n=this.innerHeight,r=this.innerOffsetY,(i=new l.Graphics).beginFill(16711680),i.drawRect(0,0,e,n),i.endFill(),i.x-=i.width/2,i.y-=i.height/2+r,this.board.addChild(i),this.boardContent.mask=i,(a=new l.Graphics).drawRect(0,0,e,n),a.x-=a.width/2,a.y-=a.height/2+r,a.alpha=0,a.hitArea=new l.Rectangle(0,0,e,n),this.board.addChild(a),o=new P.a({target:a}),s=l.Sprite.from("scrollbar-base.png"),c=l.Sprite.from("scrollbar-handle.png"),h=s.texture.height,225,s.anchor.set(.5,0),c.anchor.set(.5),(d=new L.a({draggerHeight:225,dragLength:h,bar:s,dragger:c})).scale.set(.6),d.position.set(this.background.panelWidth/2-50,160-this.background.panelHeight/2),this.board.addChild(d),p=new R.a({scrollbar:d,trackpad:o,min:0,max:1e3}),this.scrollCombo=p,this.topShade=l.Sprite.from("shade.png"),this.bottomShade=l.Sprite.from("shade.png"),this.topShade.anchor.set(.5,0),this.bottomShade.anchor.set(.5,0),this.bottomShade.rotation=Math.PI,this.topShade.x=this.bottomShade.x=i.x+i.width/2,this.topShade.y=i.y,this.bottomShade.y=i.y+i.height,this.topShade.width=this.bottomShade.width=i.width-46,this.topShade.height=this.bottomShade.height=.1*i.height,this.topShade.alpha=this.bottomShade.alpha=0,this.board.addChild(this.topShade),this.board.addChild(this.bottomShade),(f=l.Sprite.from("board-user-stats-min.png")).anchor.set(.5),f.y=-this.innerHeight/2,this.board.addChild(f),(m=l.Sprite.from("board-user-stats-min.png")).anchor.set(.5),m.y=this.innerHeight/2,this.board.addChild(m),this.boardCache=null;case 64:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.prepare=function(t){this.screenData=t},c.addView=function(t){t.x=10,t.y=this.boardContent.height+(this.boardCache.children.length>0?this.itemSpacing:0),this.boardCache.addChild(t)},c.addEntry=function(t,e,n){void 0===n&&(n=0);var r={fill:"#000",fontSize:20},i=new l.Container;i.y=n,this.boardCache.addChild(i);var a=e+1,u=l.Sprite.from("backer.jpg");u.alpha=e%2==0?.18:.08,D.b.countryID&&t.countryId===D.b.countryID.id&&(u.texture=l.Texture.from("backer-gold.jpg"),u.alpha=1,this.userCountry=i),i.addChild(u);var c=new s.a(a+".",r);c.x=60,c.y=10,i.addChild(c);var h=Object(o.c)(t.countryId),d=l.Sprite.from(h.FLAG);d.x=160,d.y=3,d.scale.set(.5),i.addChild(d),r.maxWidth=300,(c=new s.a(h.NAME+"_UPPERCASE",r)).x=270,c.y=21-c.height/2,i.addChild(c);var p,f=this.formatNumber(t.points);(c=new s.a(f,r)).x=680-c.width,c.y=10,i.addChild(c),p=0===t.previousRank||0===t.points?"stay":t.previousRank<e+1?"down":"up";var m=l.Sprite.from("chevron-"+p+".png");m.anchor.set(.5),m.alpha=.5,m.x=770,m.y=22,i.addChild(m)},c.formatNumber=function(t){if(t<("tr"===a.a.settings.language?1e5:1e3))return t.toString();t=t.toString();for(var e=Math.ceil(t.length/3)-1,n="",i=0;i<e;i++)n=r.b.translate("STR_SEPARATOR")+t.substr(-3)+n,t=t.substr(0,t.length-3);return n=t+n},c.update=function(t){if(this.background.update(t),this.shineables)for(var e=0;e<this.shineables.length;e++)try{for(var n=this.shineables[e],r=0;r<n.stars.length;r++)n.starCounts[r]+=.07*t,n.stars[r].alpha=Math.abs(Math.sin(n.starCounts[r])),n.stars[r].rotation+=.01*n.stars[r].scale.x*t}catch(t){this.shineables.splice(e,1),e--}if(!this.background.loadSpinner.visible){this.scrollCombo.update(),this.boardContent.y=this.innerMarginY+(this.scrollCombo.value-this.innerHeight/2);this.boardContent.y<-260?this.topShade.alpha<.3&&(this.topShade.alpha+=.04,this.topShade.alpha=Math.min(this.topShade.alpha,.3)):this.topShade.alpha>0&&(this.topShade.alpha-=.04,this.topShade.alpha=Math.max(this.topShade.alpha,0)),this.boardContent.y>-this.scrollCombo.max-120?this.bottomShade.alpha<.3&&(this.bottomShade.alpha+=.04,this.bottomShade.alpha=Math.min(this.bottomShade.alpha,.3)):this.bottomShade.alpha>0&&(this.bottomShade.alpha-=.04,this.bottomShade.alpha=Math.max(this.bottomShade.alpha,0))}},c.show=function(){this.boardCache=null,this.resize(this.width,this.height),this.background.scale.set(0),this.background.hideContent()},c.shown=function(){var t=B(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=(this.height-this.app.overlays.header.height)/this.background.panelHeight,Object(O.tween)(this.background.scale,1,{x:e,y:e,ease:"Elastic.easeOut"}),this.boardContent.children.length=0,this.userCountry=null,n=!1,this.boardCache?n=!0:this.boardCache=new l.Container,this.boardContent.addChild(this.boardCache),n||(this.addView(new v(this.app.userStats)),this.addView(new x(this.app.userStats)),this.addView(new C(this.app.userStats))),this.scrollCombo.max=this.innerMarginY+this.boardContent.height+this.itemSpacing-this.innerHeight,this.scrollCombo.trackpad.scrollMinY=-this.scrollCombo.max,this.scrollCombo.trackpad.speedY=0,this.scrollCombo.value=0,this.background.hideSpinner();case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.hide=function(){var t=B(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c.hidden=function(){},c.shineItem=function(t){t.stars=[],t.starCounts=[];for(var e=[],n=1;n<=5;n++)e.push(n*(t.height/5));O.Random.shuffle(e);for(var r=0;r<5;r++){var i=l.Sprite.from("flash-big-2.png");i.scale.set(.2+.3*Math.random()),i.anchor.set(.5),i.blendMode=l.BLEND_MODES.ADD,i.position.x=r*(t.width/5),i.position.y=e[r],t.addChild(i),t.stars.push(i),t.starCounts.push(1e3*Math.random())}this.shineables||(this.shineables=[]),this.shineables.push(t)},c.resize=function(e,n){t.prototype.resize.call(this,e,n),this.background.position.set(e/2,n/2),this.boardOuterWrapper.position.y=-3,this.background.panelHeight=680},i}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return G}));n(21),n(27),n(5),n(34),n(39),n(128),n(132),n(83),n(87),n(19);var r=n(80),i=n(130),a=n(17),o=n(11),s=n(40),u=n(79),c=n(6),l=n(186),h=n(187),d=(n(88),n(25)),p=n(108),f=n(0),m=n(44);function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function y(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _=function(t){var e,n;function r(e){var n;b(y(n=t.call(this)||this),"app",void 0),b(y(n),"background",void 0),b(y(n),"itemThumb",void 0),b(y(n),"items",void 0),b(y(n),"currentIndex",void 0),b(y(n),"_initialItemId",void 0),n.app=e,n.background=new m.a({width:650,height:380,title:"STR_TITLE_KITS",hasArrows:!0}),n.addChild(n.background),n.background.onNext.connect(n.nextItem.bind(y(n))),n.background.onPrevious.connect(n.previousItem.bind(y(n)));var r=new f.Sprite.from("assets/base-app/overlays/kit-picker-bg.png");return r.width=n.background.panelWidth-28,r.height=n.background.panelHeight-120,r.anchor.set(.5),r.y=37,n.background.addChild(r),n.itemThumb=new f.Sprite.from("assets/base-app/overlays/kit-picker-item.png"),n.itemThumb.tint=0,n.itemThumb.anchor.set(.5),r.addChild(n.itemThumb),n.background.scale.set(.5),n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,v(e,n);var i,a,o,s=r.prototype;return s.reset=function(){var t=this,e=this.app.kits.activePlayerKit.id;this._initialItemId=e,this.items=p.b.unlocked().filter((function(t){return t.selectable})),this.items.length<=1?this.visible=!1:(this.visible=!0,this.items.forEach((function(n,r){n.id===e&&(t.currentIndex=r)})),this.refreshTexture())},s.previousItem=function(){this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.items.length-1),this.refreshTexture(),this.app.kits.selectKit(this.items[this.currentIndex].id,!0,!0)},s.nextItem=function(){this.currentIndex++,this.currentIndex===this.items.length&&(this.currentIndex=0),this.refreshTexture(),this.app.kits.selectKit(this.items[this.currentIndex].id,!0,!0)},s.refreshTexture=function(){var t=d.s.selected(),e=this.items[this.currentIndex],n=e.color.hasOwnProperty(t.id)?t.id:"default",r=e.color[n];this.itemThumb.tint=r},i=r,(a=[{key:"initialItemId",get:function(){return this._initialItemId}}])&&g(i.prototype,a),o&&g(i,o),Object.defineProperty(i,"prototype",{writable:!1}),r}(f.Container),w=n(9);function x(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E=function(t){var e,n;function r(e){var n;M(S(n=t.call(this)||this),"app",void 0),M(S(n),"background",void 0),M(S(n),"stadiumThumb",void 0),M(S(n),"stadiums",void 0),M(S(n),"currentIndex",void 0),M(S(n),"_initialStadiumId",void 0),n.app=e,n.background=new m.a({width:650,height:380,title:"STR_TITLE_STADIUMS",hasArrows:!0}),n.addChild(n.background),n.background.onNext.connect(n.nextStadium.bind(S(n))),n.background.onPrevious.connect(n.previousStadium.bind(S(n)));var r=new f.Sprite(f.Texture.WHITE);return r.tint=16711680,r.width=n.background.panelWidth-28,r.height=n.background.panelHeight-120,r.y=35,r.anchor.set(.5),n.background.content.addChild(r),n.stadiumThumb=new f.Sprite,n.stadiumThumb.anchor.set(.5),n.stadiumThumb.position.y=r.y,n.stadiumThumb.mask=r,n.background.content.addChild(n.stadiumThumb),n.background.scale.set(.5),n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,T(e,n);var i,a,o,s=r.prototype;return s.reset=function(){var t=this,e=this.app.stadiums.activeStadium.id;this._initialStadiumId=e,this.stadiums=u.c.unlocked().filter((function(t){return t.available})),this.stadiums.length<=1?this.visible=!1:(this.visible=!0,this.stadiums.forEach((function(n,r){n.id===e&&(t.currentIndex=r)})),this.refreshTexture())},s.previousStadium=function(){this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.stadiums.length-1),this.refreshTexture(),this.app.stadiums.selectStadium(this.stadiums[this.currentIndex].id,!0,!0)},s.nextStadium=function(){this.currentIndex++,this.currentIndex===this.stadiums.length&&(this.currentIndex=0),this.refreshTexture(),this.app.stadiums.selectStadium(this.stadiums[this.currentIndex].id,!0,!0)},s.refreshTexture=function(){this.stadiumThumb.texture=f.Texture.from("assets/content/stadiums/stadium-artworks/background-"+this.stadiums[this.currentIndex].id+".jpg"),this.stadiumThumb.scale.set((this.background.panelWidth-28)/this.stadiumThumb.texture.width)},i=r,(a=[{key:"initialStadiumId",get:function(){return this._initialStadiumId}}])&&x(i.prototype,a),o&&x(i,o),Object.defineProperty(i,"prototype",{writable:!1}),r}(f.Container),A=n(1),k=n(2),C=n(124),O=n(7),L=n(90),R=n(55),P=n(157),D=n(4),I=n(247),B=n(28);function N(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function j(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){N(a,r,i,o,s,"next",t)}function s(t){N(a,r,i,o,s,"throw",t)}o(void 0)}))}}function F(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function U(t,e){return(U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var G=function(t){var e,n;function i(e){var n;return Y(F(n=t.call(this,e)||this),"app",void 0),Y(F(n),"title",void 0),Y(F(n),"winnerTitle",void 0),Y(F(n),"stage",void 0),Y(F(n),"shadows",void 0),Y(F(n),"captain",void 0),Y(F(n),"firstTeamMember",void 0),Y(F(n),"secondTeamMember",void 0),Y(F(n),"keeper",void 0),Y(F(n),"memberTargetScales",void 0),Y(F(n),"playButton",void 0),Y(F(n),"winnerFlagContainer",void 0),Y(F(n),"winnerContainer",void 0),Y(F(n),"coinSplash",void 0),Y(F(n),"party",void 0),Y(F(n),"winnerFlag",void 0),Y(F(n),"trophyLight",void 0),Y(F(n),"trophyLight2",void 0),Y(F(n),"loadSpinner",void 0),Y(F(n),"continueButton",void 0),Y(F(n),"stadiumPicker",void 0),Y(F(n),"kitPicker",void 0),Y(F(n),"tick",void 0),Y(F(n),"w",void 0),Y(F(n),"h",void 0),Y(F(n),"offsetX",void 0),Y(F(n),"offsetY",void 0),Y(F(n),"rand",void 0),Y(F(n),"stop",void 0),Y(F(n),"assetsLoaded",void 0),Y(F(n),"active",void 0),n.app=e,n}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,U(e,n);var d=i.prototype;return d.init=function(){var t=j(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e={fill:"#ffffff",fontSize:36,lineJoin:"round",dropShadow:!0,dropShadowAlpha:.35,dropShadowAngle:Math.PI/2,dropShadowDistance:5,dropShadowBlur:5},this.title=new w.a("STR_REVIEW_TITLE",e),this.title.anchor.set(.5),this.view.addChild(this.title),this.winnerTitle=new w.a("STR_TOURNAMENT_WINNER",e),this.winnerTitle.anchor.set(.5),this.view.addChild(this.winnerTitle),this.winnerFlagContainer=new f.Container,this.view.addChild(this.winnerFlagContainer),this.stage=f.Sprite.from("stage.png"),this.stage.anchor.set(.5,1),this.view.addChild(this.stage),this.tick=0,this.rand={c:A.Random.range(-.6,.6),f:A.Random.range(-.6,.6),s:A.Random.range(-.6,.6)},this.playButton=new o.c({color:o.a.GREEN,icon:"icon-play.png",iconScale:.8,width:120,height:120}),this.playButton.onPress.add((function(){if(a.default.playSfx("button_press"),Object(A.tween)(n.playButton.scale,.3,{x:.7,y:.7,ease:"Expo.easeOut"}),Object(A.tween)(n.playButton,.4,{alpha:0,ease:"Expo.easeOut"}),k.b.gameMode===k.a.TOURNAMENT){for(var t in k.b.leftOverPlayers=[],s.a){var e=s.a[t];-1!==k.b.teamA.indexOf(e)||e.locked||e.geoLocked||k.b.leftOverPlayers.push(e)}n.app.controller.gotoWithAds(D.a.SCREEN_ID.TOURNAMENT)}else if(k.b.gameMode===k.a.LEAGUES){var r=Object(I.a)();k.b.superSquad=r,k.b.teamB=[s.d.withId(r.members.first),s.d.withId(r.members.second),s.d.withId(r.members.third),s.d.withId(r.members.fourth)],O.c.dispatch(c.a,{type:c.b.PLAYER_SELECTED,data:{player_id:k.b.teamA[0].id,captain_selected:1}}),O.c.dispatch(c.a,{type:c.b.PLAYER_SELECTED,data:{player_id:k.b.teamA[1].id,player_2_selected:1}}),O.c.dispatch(c.a,{type:c.b.PLAYER_SELECTED,data:{player_id:k.b.teamA[2].id,player_3_selected:1}}),O.c.dispatch(c.a,{type:c.b.PLAYER_SELECTED,data:{player_id:k.b.teamA[3].id,keeper_selected:1}}),n.app.controller.startGame()}})),this.view.addChild(this.playButton),this.winnerContainer=new f.Container,this.view.addChild(this.winnerContainer),this.view.addChild(this.winnerTitle),this.stadiumPicker=new E(this.app),this.view.addChild(this.stadiumPicker),this.stadiumPicker.alpha=0,this.kitPicker=new _(this.app),this.view.addChild(this.kitPicker),this.kitPicker.alpha=0,this.coinSplash=new P.a(this.app),this.party=new C.a(1136,800,1),this.loadSpinner=f.Sprite.from("loading-wheel.png"),this.loadSpinner.anchor.set(.5),this.loadSpinner.scale.set(2),this.view.addChild(this.loadSpinner),this.assetsLoaded=!0,this.active=!1,O.c.add(l.b,(function(t){t.type===l.c.SET&&n.refreshCharactersColor()})),O.c.add(h.b,(function(t){t.type===h.c.SET&&(n.refreshCharactersColor(),n.kitPicker.refreshTexture())})),-1===c.g.indexOf(D.a.SCREEN_ID.STATS)?O.c.add(c.e,(function(t){t.type===c.f.SCREEN_ASSETS_LOADED&&t.screenId===D.a.SCREEN_ID.STATS&&n.onAssetsLoaded()})):this.onAssetsLoaded();case 37:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),d.update=function(t){if(this.loadSpinner.visible&&(this.loadSpinner.rotation+=.1*t),this.tick+=.1*t,this.winnerFlag){for(var e=0;e<this.winnerFlag.geometry.points.length;e++){this.winnerFlag.geometry.points[e].y=this.winnerFlag.texture.height/2+.5*Math.sin(this.tick+e)}this.trophyLight.rotation-=.01*t,this.trophyLight2.rotation+=.01*t,this.party&&this.party.update(this.view.position,t)}},d.hide=function(){this.active=!1,k.b.tournamentData.winner.length=0,this.stop=!0,this.app.stadiums.activeStadium.id!==this.stadiumPicker.initialStadiumId&&O.c.dispatch(c.a,{type:c.b.UNLOCKABLES_STADIUM_SELECTED,data:{stadiumId:this.app.stadiums.activeStadium.id}}),this.app.kits.activePlayerKit.id!==this.kitPicker.initialItemId&&O.c.dispatch(c.a,{type:c.b.UNLOCKABLES_KIT_SELECTED,data:{kitId:this.app.kits.activePlayerKit.id}})},d.showWinner=function(){var t=j(regeneratorRuntime.mark((function t(){var e,n,i,s,u,c,l,h,d,p,m,g,y,v=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.stadiumPicker.visible=!1,this.kitPicker.visible=!1,this.setCharacters(),this.title.scale.set(0),this.captain.scale.set(0),this.firstTeamMember.scale.set(0),this.secondTeamMember.scale.set(0),this.keeper.scale.set(0),this.playButton.visible=!1,1,Object(A.tween)(this.captain.scale,1,{x:1*this.memberTargetScales[0],y:1*this.memberTargetScales[0],ease:"Elastic.easeOut",delay:.2}),Object(A.tween)(this.firstTeamMember.scale,1,{x:1*this.memberTargetScales[1],y:1*this.memberTargetScales[1],ease:"Elastic.easeOut",delay:.2}),Object(A.tween)(this.secondTeamMember.scale,1,{x:1*this.memberTargetScales[2],y:1*this.memberTargetScales[2],ease:"Elastic.easeOut",delay:.2}),Object(A.tween)(this.keeper.scale,1,{x:1*this.memberTargetScales[3],y:1*this.memberTargetScales[3],ease:"Elastic.easeOut",delay:.2}),e=k.b.tournamentData.winner[0],n=f.Texture.from(e.FLAG),i=[],20,s=n.width/20,u=0;u<20;u++)i.push(new f.Point(u*s,n.height/2));for(this.winnerFlag=new f.SimpleRope(n,i),"SA"===e.ID||"TR"===e.ID?this.winnerFlag.alpha=0:this.winnerFlag.alpha=.5,(c=A.Params.get("flagAlpha",!1))&&(this.winnerFlag.alpha=c/100),this.updateWinnerFlag(),l=0;l<this.winnerFlagContainer.children.length;l++)this.winnerFlagContainer.removeChild(this.winnerFlagContainer.children[l]);this.winnerFlagContainer.addChild(this.winnerFlag),this.winnerContainer.removeChildren(),h=r.b.translate(e.NAME+"_UPPERCASE"),h+="+56 ",h+=r.b.translate("STR_HUD_POINTS"),(d=new w.a(h,{fill:"#FFFFFF",fontSize:36,stroke:!1,strokeThickness:8,lineJoin:"round",dropShadow:!0,dropShadowAlpha:.35,dropShadowAngle:Math.PI/2,dropShadowDistance:5,dropShadowBlur:5})).y=-265,d.anchor.set(.5),this.winnerContainer.addChild(d),(p=new f.Container).x=130,p.y=-65,this.winnerContainer.addChild(p),(m=f.Sprite.from("celebrate-light.png")).blendMode=1,m.anchor.set(.5),m.position.set(76),m.scale.set(.5),m.alpha=.5,p.addChild(m),this.trophyLight=m,g=f.Sprite.from("celebrate-trophy.png"),p.addChild(g),(m=f.Sprite.from("celebrate-light.png")).blendMode=1,m.anchor.set(.5),m.position.set(76),m.alpha=.5,p.addChild(m),this.trophyLight2=m,(y=f.Sprite.from("celebrate-flare.png")).anchor.set(.5),y.position.set(76),y.blendMode=1,p.addChild(y),Object(A.delay)(.3).then((function(){var t=v.width/2+60,e=v.height/2+40;v.coinSplash.start(100,t,e),a.default.playSfx("sfx_getcoins")})),this.view.addChild(this.party),this.continueButton=new o.c({color:o.a.GREEN,text:"STR_CONTINUE",width:350}),this.continueButton.position.x=this.width/2,this.continueButton.position.y=this.height/2+300,this.continueButton.onPress.add(this.onContinueButtonPressed,this),this.view.addChild(this.continueButton),this.winnerContainer.visible=!0,this.winnerFlagContainer.visible=!0,this.winnerTitle.visible=!0,this.resize(this.width,this.height);case 72:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),d.onContinueButtonPressed=function(){k.b.reset(),this.app.controller.goto(D.a.SCREEN_ID.UNLOCKABLES)},d.updateWinnerFlag=function(){this.winnerFlag.width=this.width,this.winnerFlag.scale.y=this.winnerFlag.scale.x,this.winnerFlag.height<this.height&&(this.winnerFlag.height=this.height+180,this.winnerFlag.scale.x=this.winnerFlag.scale.y),this.winnerFlag.x=this.width/2-this.winnerFlag.width/2,this.winnerFlag.y=this.height/2-this.winnerFlag.height/2},d.show=function(){if(this.active=!0,this.stop=!1,this.winnerFlag&&(this.view.removeChild(this.winnerFlag),this.winnerFlag=null),this.continueButton&&(this.view.removeChild(this.continueButton),this.continueButton=null),A.Params.get("winTournament",!1)||k.b.tournamentData.winner.length>0)return A.Params.get("winTournament",!1)&&(k.b.tournamentData.winner=[B.a.countries.GB]),void this.showWinner();this.winnerContainer.visible=!1,this.winnerFlagContainer.visible=!1,this.winnerTitle.visible=!1,this.view.removeChild(this.party),this.assetsLoaded&&this.showContent(),window.FASTPLAY&&this.playButton.onPress.dispatch(this.playButton)},d.onAssetsLoaded=function(){this.assetsLoaded=!0,this.loadSpinner.visible=!1,this.active&&this.showContent()},d.showContent=function(){var t=j(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.buildTeam(),this.stadiumPicker.reset(),this.stadiumPicker.alpha=0,Object(A.tween)(this.stadiumPicker,.4,{alpha:1,ease:"Linear.easeOut",delay:.5}),this.kitPicker.reset(),this.kitPicker.alpha=0,Object(A.tween)(this.kitPicker,.4,{alpha:1,ease:"Linear.easeOut",delay:.5}),this.setCharacters(),1,this.captain.scale.set(0),this.firstTeamMember.scale.set(0),this.secondTeamMember.scale.set(0),this.keeper.scale.set(0),this.title.scale.set(0),this.playButton.scale.set(0),this.playButton.alpha=1,this.playButton.visible=!0,Object(A.tween)(this.captain.scale,1,{x:1*this.memberTargetScales[0],y:1*this.memberTargetScales[0],ease:"Elastic.easeOut",delay:.2}),Object(A.tween)(this.firstTeamMember.scale,1,{x:1*this.memberTargetScales[1],y:1*this.memberTargetScales[1],ease:"Elastic.easeOut",delay:.2}),Object(A.tween)(this.secondTeamMember.scale,1,{x:1*this.memberTargetScales[2],y:1*this.memberTargetScales[2],ease:"Elastic.easeOut",delay:.2}),Object(A.tween)(this.keeper.scale,1,{x:1*this.memberTargetScales[3],y:1*this.memberTargetScales[3],ease:"Elastic.easeOut",delay:.2}),Object(A.tween)(this.title.scale,1,{x:1,y:1,ease:"Elastic.easeOut",delay:.2}),Object(A.tween)(this.playButton.scale,1,{x:1,y:1,ease:"Elastic.easeOut",delay:.3}),this.resize(this.width,this.height);case 24:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),d.refreshCharactersColor=function(){var t=[this.captain,this.firstTeamMember,this.secondTeamMember,this.keeper],e=u.c.selected(),n=this.app.kits.activePlayerKit,r=n.color.hasOwnProperty(e.id)?e.id:"default",i=n.color[r],a=f.utils.hex2rgb(i),o={r:a[0],g:a[1],b:a[2],a:1};t.forEach((function(t){for(var e in t.skeleton.slots){var n=t.skeleton.slots[e];n.data.name.includes("tint")&&(n.color=o)}}))},d.setCharacters=function(){this.firstTeamMember&&(this.view.removeChild(this.firstTeamMember),this.firstTeamMember.destroy()),this.secondTeamMember&&(this.view.removeChild(this.secondTeamMember),this.secondTeamMember.destroy()),this.captain&&(this.view.removeChild(this.captain),this.captain.destroy()),this.keeper&&(this.view.removeChild(this.keeper),this.keeper.destroy()),this.memberTargetScales=[];var t=this.app.kits.getTeamColor(R.b.A);this.captain=L.a.getSpineAnim2D(k.b.teamA[0].id,t,!0),this.firstTeamMember=L.a.getSpineAnim2D(k.b.teamA[1].id,t,!0),this.secondTeamMember=L.a.getSpineAnim2D(k.b.teamA[2].id,t,!0),this.keeper=L.a.getSpineAnim2D(k.b.teamA[3].id,t,!0);this.memberTargetScales.push(.75*k.b.teamA[0].scale),this.memberTargetScales.push(.75*k.b.teamA[1].scale),this.memberTargetScales.push(.75*k.b.teamA[2].scale),this.memberTargetScales.push(.75*k.b.teamA[3].scale),this.view.addChildAt(this.captain,3),this.view.addChildAt(this.firstTeamMember,3),this.view.addChildAt(this.secondTeamMember,3),this.view.addChildAt(this.keeper,3),this.animateCharacter(this.captain),this.animateCharacter(this.firstTeamMember),this.animateCharacter(this.secondTeamMember),this.animateCharacter(this.keeper)},d.animateCharacter=function(t,e){var n=this;if(void 0===e&&(e=null),k.b.teamA[0]){var r,i=t===this.captain&&("wonderwoman"===k.b.teamA[0].id||"fourarms"===k.b.teamA[0].id)||t===this.firstTeamMember&&("wonderwoman"===k.b.teamA[1].id||"fourarms"===k.b.teamA[1].id)||t===this.secondTeamMember&&("wonderwoman"===k.b.teamA[2].id||"fourarms"===k.b.teamA[2].id)||t===this.keeper&&("wonderwoman"===k.b.teamA[3].id||"fourarms"===k.b.teamA[3].id);r=i||Math.random()>.25||null===e?"Idle":"Celebrate";var a=t.state.setAnimation(0,r,!1);"Celebrate"===e&&(a.mixDuration=.4),a.listener={complete:function(){return n.animateCharacter(t,r)}}}},d.buildTeam=function(){k.b.tournamentData.quarter=[],k.b.tournamentData.semi=[],k.b.tournamentData.final=[],k.b.tournamentData.winner=[],k.b.matchResult.goalsA=k.b.matchResult.goalsB=-1;var t=[];for(var e in s.a)s.a[e].locked||s.a[e].geoLocked||t.push(s.a[e]);for(var n=0;n<k.b.teamA.length;n++){var r=t.indexOf(k.b.teamA[n]);-1!==r&&t.splice(r,1)}A.Random.shuffle(t),k.b.teamB=t.slice(0,4);var i=[];for(var a in B.a.countries){var o=B.a.countries[a];k.b.countryID!==o&&i.push(o)}if(A.Random.shuffle(i),i=i.slice(0,7),k.b.gameMode===k.a.TOURNAMENT){i.push(k.b.countryID),A.Random.shuffle(i);for(var u=[],c=0;c<i.length;c+=2)u.push(i.slice(c,c+2));k.b.tournamentData.quarter=u.slice()}else k.b.opponentID=i[0]},d.resize=function(e,n){t.prototype.resize.call(this,e,n),this.title.position.y=D.a.MARGIN.TITLE_TOP,this.title.position.x=e/2,this.winnerTitle.position.y=D.a.MARGIN.TITLE_TOP,this.winnerTitle.position.x=e/2,this.winnerFlag&&this.updateWinnerFlag(),this.stage.position.x=e/2,this.stage.position.y=n,this.playButton.position.x=e/2,this.playButton.position.y=n-this.app.overlays.breadcrumb.height-(this.app.overlays.breadcrumb.visible?15+this.playButton.height/2:50),this.winnerContainer.position.x=e/2,this.winnerContainer.position.y=n/2,this.continueButton&&(this.continueButton.position.x=e/2,this.continueButton.position.y=n/2+300),this.loadSpinner&&this.loadSpinner.position.set(e/2,n/2),this.positionCharacters();this.stadiumPicker.position.set(30+.5*this.stadiumPicker.width,n-(this.app.overlays.breadcrumb.visible?this.app.overlays.breadcrumb.height:0)-this.stadiumPicker.height/2),this.kitPicker.position.set(e-.5*this.kitPicker.width-30,n-(this.app.overlays.breadcrumb.visible?this.app.overlays.breadcrumb.height:0)-this.kitPicker.height/2),this.party&&(this.party.w=e,this.party.h=n)},d.positionCharacters=function(){if(this.firstTeamMember){var t=this.width/2,e=this.stage.y-this.stage.height+90,n=this.stage.y-this.stage.height+50;this.captain.position.x=t-99,this.captain.position.y=e,this.firstTeamMember.position.x=t+99,this.firstTeamMember.position.y=e,this.secondTeamMember.position.x=t-300,this.secondTeamMember.position.y=n,this.keeper.position.x=t+300,this.keeper.position.y=n}},i}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return R}));n(21),n(5),n(34),n(19);var r=n(130),i=n(108),a=n(6),o=(n(27),n(11)),s=n(9),u=n(44),c=n(1),l=n(0),h=n(24);function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function f(t,e){return(f=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function m(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var g=function(t){var e,n;function r(e){var n;m(p(n=t.call(this)||this),"app",void 0),m(p(n),"darkShade",void 0),m(p(n),"background",void 0),m(p(n),"itemThumb",void 0),m(p(n),"pricePanel",void 0),m(p(n),"message",void 0),m(p(n),"confirmButton",void 0),m(p(n),"cancelButton",void 0),m(p(n),"doneButton",void 0),m(p(n),"_active",void 0),m(p(n),"state",void 0),m(p(n),"kitId",void 0),m(p(n),"onActionButtonPressed",void 0),n.app=e,n.darkShade=new l.Sprite(l.Texture.WHITE),n.darkShade.tint=0,n.darkShade.baseAlpha=.8,n.darkShade.anchor.set(.5),n.addChild(n.darkShade),n.background=new u.a({width:940,height:470,title:"STR_UNLOCKABLES_BUY_KIT"}),n.addChild(n.background);var r=l.Sprite.from("panel-popup-white.png");r.anchor.set(.5),r.position.y=40,n.itemThumb=l.Sprite.from("item-kit.png"),n.itemThumb.anchor.set(.5),n.itemThumb.scale.set(1.21),n.itemThumb.position.x=-250,r.addChild(n.itemThumb),n.background.addChild(r),n.pricePanel=l.Sprite.from("graphic-ball-cost.png");var i=new l.Text("150",{fill:"0x724D05",fontSize:30,fontFamily:"lubalin",align:"left"});return i.anchor.set(0,.5),i.position.set(60,n.pricePanel.texture.height/2-3),n.pricePanel.position.set(-r.texture.width/2,-r.texture.height/2),n.pricePanel.scale.set(1.2),n.pricePanel.addChild(i),n.pricePanel.price=i,r.addChild(n.pricePanel),n.message=new s.a("placeholder",{fill:"0x493008",fontSize:30,align:"center"}),n.message.anchor.set(.5),n.message.position.set(120,-65),r.addChild(n.message),n.confirmButton=new o.c({color:o.a.GREEN,icon:"icon-tick.png"}),n.confirmButton.position.set(53,35),n.confirmButton.onPress.add(n.confirmPressed,p(n)),r.addChild(n.confirmButton),n.cancelButton=new o.c({color:o.a.PINK,icon:"icon-cross.png"}),n.cancelButton.position.set(183,35),n.cancelButton.onPress.add(n.cancelPressed,p(n)),r.addChild(n.cancelButton),n.doneButton=new o.c({color:o.a.PINK,text:"STR_UNLOCKABLES_DONE",width:300}),n.doneButton.position.set(120,35),n.doneButton.onPress.add(n.cancelPressed,p(n)),r.addChild(n.doneButton),n.reset(),n.onActionButtonPressed=new h.Signal,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,f(e,n);var i,a,g,y=r.prototype;return y.confirmPressed=function(){this.interactiveChildren=!1,"buyable"===this.state?this.onActionButtonPressed.emit("unlock",this.kitId):"selectable"===this.state&&this.onActionButtonPressed.emit("select",this.kitId),this.animate(!0)},y.cancelPressed=function(){this.interactiveChildren=!1,this.animate(!0)},y.show=function(t,e){this._active=!0,this.itemThumb.tint=e.color.default,this.confirmButton.visible=!0,this.cancelButton.visible=!0,this.doneButton.visible="nocoins"===t,this.pricePanel.visible="buyable"===t,"buyable"===t?(this.pricePanel.price.text=this.app.kits.getKitCost(),this.background.title.setText("STR_UNLOCKABLES_BUY_KIT"),this.message.setText("STR_UNLOCKABLES_BUY_THIS_KIT")):"nocoins"===t?(this.confirmButton.visible=!1,this.cancelButton.visible=!1,this.pricePanel.price.text=this.app.kits.getKitCost(),this.message.setText("STR_UNLOCKABLES_NEED_MORE_COINS")):"selectable"===t&&(this.background.title.setText("STR_UNLOCKABLES_SELECT_KIT"),this.message.setText("STR_UNLOCKABLES_SELECT_THIS_KIT")),this.state=t,this.kitId=e.id,this.animate()},y.reset=function(){this.darkShade.alpha=0,this.darkShade.interactive=!1,this.background.scale.set(0),this.background.visible=!1,this._active=!1},y.animate=function(t){var e=this;void 0===t&&(t=!1),t||(this.darkShade.visible=!0,this.darkShade.interactive=!0,this.background.visible=!0,this.background.scale.set(0)),Object(c.tween)(this.darkShade,.4,{alpha:t?0:this.darkShade.baseAlpha,onComplete:function(){t?(e.darkShade.interactive=!1,e.darkShade.visible=!1):e.interactiveChildren=!0}}),Object(c.tween)(this.background.scale,t?.2:1,{x:t?0:1,y:t?0:1,ease:t?"Linear.easeOut":"Elastic.easeOut",onComplete:function(){t&&(e.background.visible=!1,e._active=!1)}})},i=r,(a=[{key:"active",get:function(){return this._active}}])&&d(i.prototype,a),g&&d(i,g),Object.defineProperty(i,"prototype",{writable:!1}),r}(l.Container),y=(n(107),n(80)),v=n(49),b=n(8),_=n(196),w=n(14),x=n(7);function S(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function M(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var E=function(t){var e,n;function r(e,n){var r;M(S(r=t.call(this)||this),"app",void 0),M(S(r),"itemData",void 0),M(S(r),"state",void 0),M(S(r),"card",void 0),M(S(r),"itemThumb",void 0),M(S(r),"border",void 0),M(S(r),"actionButton",void 0),M(S(r),"selectedText",void 0),M(S(r),"pricePanel",void 0),M(S(r),"darkOverlay",void 0),M(S(r),"lock",void 0),M(S(r),"notification",void 0),M(S(r),"onActionButtonPressed",void 0),r.app=e,r.buttonMode=!0,r.itemData=n,r.card=l.Sprite.from("panel-football-holder-white.png"),r.itemThumb=l.Sprite.from("item-kit.png"),r.itemThumb.tint=n.color.default,r.itemThumb.width=190,r.itemThumb.height=190,r.itemThumb.anchor.set(.5),r.itemThumb.position.set(r.card.texture.width/2,115),r.card.addChild(r.itemThumb),r.border=l.Sprite.from("graphic-green-selected-stroke.png"),r.border.anchor.set(.5),r.border.position.set(r.card.texture.width/2,115);var i=l.Sprite.from("tick.png");i.scale.set(.65),i.anchor.set(.5),i.position.set(-r.itemThumb.width/2,-r.itemThumb.height/2),r.border.addChild(i),r.lock=l.Sprite.from("graphic-lock-icon.png"),r.lock.anchor.set(.5),r.lock.scale.set(.95),r.lock.position.set(r.card.texture.width/2,r.card.texture.height/2-30),r.pricePanel=l.Sprite.from("graphic-ball-cost.png");var u=new s.a(r.app.kits.getKitCost().toString(),{fill:"0x724D05",fontSize:30,align:"left"});return u.anchor.set(0,.5),u.position.set(60,r.pricePanel.texture.height/2-3),r.pricePanel.addChild(u),r.pricePanel.price=u,r.darkOverlay=l.Sprite.from("overlay-ball-unavailable.png"),r.darkOverlay.anchor.set(.5),r.darkOverlay.position.set(r.card.texture.width/2,115),r.selectedText=new s.a("STR_UNLOCKABLES_SELECTED",{fill:"0x00A81C",fontSize:28,align:"left",maxWidth:160}),r.selectedText.anchor.set(.5),r.selectedText.position.set(r.card.texture.width/2,248),r.actionButton=new o.c({color:o.a.GREEN,text:"x",format:{fontSize:30},height:65,width:205}),r.actionButton.position.set(r.card.texture.width/2,250),r.actionButton.onPress.add(r.buttonPressed,S(r)),r.addChild(r.card),r.addChild(r.border),r.addChild(r.pricePanel),r.addChild(r.selectedText),r.addChild(r.actionButton),r.addChild(r.darkOverlay),r.addChild(r.lock),r.onActionButtonPressed=new h.Signal,x.c.add(a.d,r.updateState.bind(S(r))),r.notification=l.Sprite.from("button-unlockables-notification.png"),r.notification.anchor.set(.5),r.notification.scale.set(1.2),r.notification.rotation=-.2,r.notification.position.x=r.itemThumb.width,r.notification.position.y=u.y,r.notification.visible=!1,r.addChild(r.notification),r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,T(e,n);var i=r.prototype;return i.showNotification=function(){this.notification&&(this.notification.visible=!0,Object(c.tween)(this.notification.scale,.5,{x:1.6,y:1.6,ease:"Quad.easeInOut",repeat:-1,yoyo:!0}),Object(c.tween)(this.notification,1,{rotation:.2,ease:"Quad.easeInOut",repeat:-1,yoyo:!0}))},i.hideNotification=function(){this.notification&&(w.c.killTweensOf(this.notification.scale),w.c.killTweensOf(this.notification),this.notification.visible=!1)},i.buttonPressed=function(){this.onActionButtonPressed.emit(this.state,this.itemData)},i.updateState=function(){var t=v.a.coins>=this.app.kits.getKitCost();this.pricePanel.visible=!1,this.darkOverlay.visible=!1,this.lock.visible=!1,this.itemData.isNew?(this.showNotification(),this.itemData.isNew=!1,x.a.app.get(_.a).save()):this.hideNotification(),this.itemData.locked?(this.actionButton.visible=!0,this.selectedText.visible=!1,this.border.visible=!1,this.actionButton.setText(y.b.translate("STR_UNLOCKABLES_UNLOCK").toLocaleUpperCase("tr"===b.a.settings.language?"TR":"en-US")),this.itemData.comingSoon?this.itemData.comingSoon&&(this.state="comingsoon",this.lock.visible=!0,this.actionButton.interactive=!1,this.actionButton.setColor(o.a.GREY)):(this.state=t?"buyable":"nocoins",this.pricePanel.visible=!0,this.actionButton.interactive=!0,this.actionButton.setColor(o.a.GREEN))):this.itemData.selected?(this.state="selected",this.selectedText.visible=!0,this.border.visible=!0,this.actionButton.visible=!1):(this.state="selectable",this.selectedText.visible=!1,this.border.visible=!1,this.actionButton.interactive=!0,this.actionButton.setColor(o.a.PINK),this.actionButton.visible=!0,this.actionButton.setText("STR_UNLOCKABLES_SELECT"))},i.updateData=function(){this.itemThumb.tint=this.itemData.color.default,this.pricePanel.price.setText(this.app.kits.getKitCost().toString())},i.setData=function(t){this.itemData=t,this.updateData(),this.updateState()},r}(l.Container),A=n(4);function k(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function C(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function O(t,e){return(O=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function L(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var R=function(t){var e,n;function r(e){var n;return L(C(n=t.call(this,e)||this),"app",void 0),L(C(n),"background",void 0),L(C(n),"kits",void 0),L(C(n),"cardsContainer",void 0),L(C(n),"kitCards",void 0),L(C(n),"popup",void 0),L(C(n),"width",void 0),L(C(n),"height",void 0),L(C(n),"setIndex",void 0),L(C(n),"maxSet",void 0),L(C(n),"cardsPerSet",void 0),L(C(n),"assetsLoaded",void 0),L(C(n),"active",void 0),n.app=e,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,O(e,n);var o=r.prototype;return o.init=function(){var t,e=(t=regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.kits=i.b.showable(),this.kitCards=[],this.cardsPerSet=8,this.maxSet=Math.ceil(this.kits.length/this.cardsPerSet),this.kits.forEach((function(t,n){t.selected&&(e.setIndex=Math.floor(n/8))})),this.background=new u.a({width:980,height:760,title:"STR_TITLE_KITS",isLoading:!0,hasArrows:!0}),this.view.addChild(this.background),this.background.onNext.connect(this.nextSet.bind(this)),this.background.onPrevious.connect(this.previousSet.bind(this)),this.cardsContainer=new l.Container,this.background.content.addChild(this.cardsContainer),this.setIndex===this.maxSet&&this.background.hideNextArrow(!0),0===this.setIndex&&this.background.hidePreviousArrow(!0),this.assetsLoaded=!1,this.active=!1,this.popup=new g(this.app),this.view.addChild(this.popup),this.popup.onActionButtonPressed.connect((function(t,n){"unlock"===t?e.app.kits.unlockKit(n):"select"===t&&e.app.kits.selectKit(n,!0),e.kits=i.b.showable(),e.updateCards()})),-1===a.g.indexOf(A.a.SCREEN_ID.KITS)?x.c.add(a.e,(function(t){t.type===a.f.SCREEN_ASSETS_LOADED&&t.screenId===A.a.SCREEN_ID.KITS&&e.onResourcesLoadComplete()})):(this.assetsLoaded=!0,this.background.hideSpinner(!0),this.setupCards());case 19:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){k(a,r,i,o,s,"next",t)}function s(t){k(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}(),o.onResourcesLoadComplete=function(){this.assetsLoaded||(this.assetsLoaded=!0,this.background.hideSpinner(),this.setupCards(),this.active&&this.showContent())},o.setupCards=function(){for(var t=this,e=0;e<this.cardsPerSet;e++){var n=this.kits[this.setIndex*this.cardsPerSet+e],r=!1;n||(n=this.kits[0],r=!0);var i=new E(this.app,n);i.updateState(),i.onActionButtonPressed.connect((function(e,n){t.popup.active||t.popup.show(e,n)})),this.kitCards.push(i),this.cardsContainer.addChild(i);i.position.set(e*(i.itemThumb.width+40)%(4*(i.itemThumb.width+40))+2,Math.floor(e/4)*i.itemThumb.height+110*Math.floor(e/4)),r&&(i.visible=!1),x.c.add(a.d,i.updateData.bind(i))}},o.updateCards=function(){for(var t=0;t<this.cardsPerSet;t++){var e=this.kits[this.setIndex*this.cardsPerSet+t];e?(this.kitCards[t].setData(e),this.kitCards[t].visible=!0):this.kitCards[t].visible=!1}this.setIndex!==this.maxSet-1?this.background.showNextArrow():this.background.hideNextArrow(),0!==this.setIndex?this.background.showPreviousArrow():this.background.hidePreviousArrow()},o.nextSet=function(){this.setIndex++,this.updateCards()},o.previousSet=function(){this.setIndex--,this.updateCards()},o.hide=function(){this.active=!1,this.popup.reset()},o.show=function(){this.active=!0,this.background.scale.set(0);var t=(this.height-this.app.overlays.header.height)/this.background.panelHeight;Object(c.tween)(this.background.scale,1,{x:t,y:t,ease:"Elastic.easeOut",delay:.2}),this.assetsLoaded&&this.showContent()},o.showContent=function(){var t=this;this.cardsContainer.visible=!0,this.kits.forEach((function(e,n){e.selected&&(t.setIndex=Math.floor(n/8))})),this.updateCards(),this.resize(this.width,this.height)},o.update=function(t){this.background.update(t)},o.resize=function(t,e){this.width=t,this.height=e,this.background.position.set(t/2,e/2),this.cardsContainer.position.set(24-this.background.panelWidth/2,-260),this.popup.position.set(t/2,e/2),this.popup.darkShade.width=t,this.popup.darkShade.height=e},r}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return F}));n(21),n(51),n(15),n(5),n(19),n(22),n(20),n(83);var r=n(682),i=n(451),a=n(683),o=n(708);n(23),n(29),n(30),n(87),n(39),n(121),n(38),n(291),n(92),n(140),n(166);function s(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var l=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._params=this._getParams()}var e,n,r;return e=t,(n=[{key:"get",value:function(t){return this._params.has(t)?this._params.get(t):null}},{key:"getAll",value:function(){return this._params}},{key:"_getParams",value:function(){var t,e=location.search,n=e.slice(e.indexOf("?")+1).split("&"),r=new Map,i=s(n);try{for(i.s();!(t=i.n()).done;){var a=t.value.split("="),o=a[0],u=a[1];void 0!==u&&("true"!==u&&"false"!==u||(u="true"===u),"string"==typeof u?r.set(o,u.match(/^[-.0-9]+$/)?parseFloat(u):u):r.set(o,u))}}catch(t){i.e(t)}finally{i.f()}return r}}])&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),t}()),h=n(148),d=n(17),p=n(2),f=n(7),m=n(4),g=n(25),y=n(8),v=n(37),b=n(6),_=n(271),w=n(258),x=n(149),S=n(218),T=n(259),M=n(260),E=n(186),A=n(261),k=n(221),C=n(187),O=n(272),L=n(263),R=n(188),P=n(1);function D(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function I(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){D(a,r,i,o,s,"next",t)}function s(t){D(a,r,i,o,s,"throw",t)}o(void 0)}))}}function B(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function N(t,e){return(N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var F=function(t){var e,n;function s(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return j(B(e=t.call.apply(t,[this].concat(r))||this),"resources",void 0),j(B(e),"storage",void 0),j(B(e),"userStats",void 0),j(B(e),"screens",void 0),j(B(e),"background",void 0),j(B(e),"overlays",void 0),j(B(e),"screenStack",void 0),j(B(e),"currentScreenId",void 0),j(B(e),"isOverlayActive",void 0),j(B(e),"tick",0),j(B(e),"_timeStamp",void 0),e}n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,N(e,n);var u=s.prototype;return u.init=function(){this._timeStamp=Date.now(),this.screenStack=[],this.isOverlayActive=!1,this.resources=this.app.get(r.a),this.storage=this.app.get(O.a),this.screens=this.app.get(i.a),this.userStats=this.app.get(R.a),this.background=this.app.get(S.a),this.overlays=this.app.get(k.a)},u.start=function(){var t=I(regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!P.Params.get("spineDebug",!1)){t.next=5;break}return t.next=3,this.resources.load("assets/spine");case 3:return this.screens.goto("spineDebug"),t.abrupt("return");case 5:return this.app.get(M.a).setup(),t.next=8,this.resources.load("assets/content/stadiums/stadium-shared-decorations","assets/content/stadiums/stadium-artworks");case 8:return this.app.get(S.a).setup(),this.app.get(C.a).setup(),this.app.get(E.a).setup(),t.next=13,this.resources.load("assets/data","assets/base-app","assets/theme/"+this.app.get(L.a).activeTheme.manifest,"assets/content/logos/titles","assets/fonts");case 13:this.app.get(w.a).setup(),this.app.get(T.a).setup(),this.app.get(A.a).setup(),this.app.get(_.a).setup(),this.app.get(R.a).setup(),this.app.get(k.a).setup(),e=this.app.get(a.a)._loaderScreen,this.app.get(x.a).hasSetUp?(window.cordova?e.endSplash():e.showPlayButton(),this.startBackgroundLoading()):this.app.get(x.a).onSoundSetUp.connect(I(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.app.get(x.a).onSoundSetUp.disconnectAll(),!window.cordova){t.next=6;break}return t.next=4,e.endSplash();case 4:t.next=7;break;case 6:e.showPlayButton();case 7:n.startBackgroundLoading();case 8:case"end":return t.stop()}}),t)}))));case 21:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.startBackgroundLoading=function(){var t=I(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f.c.dispatch(b.a,{type:b.b.APP_LOADED}),f.c.add(b.e,(function(t){return b.g.push(t.screenId)})),f.c.dispatch(b.e,{type:b.f.SCREEN_ASSETS_LOADED,screenId:m.a.SCREEN_ID.STADIUMS}),f.c.dispatch(b.e,{type:b.f.SCREEN_ASSETS_LOADED,screenId:m.a.SCREEN_ID.KITS}),f.c.dispatch(b.e,{type:b.f.SCREEN_ASSETS_LOADED,screenId:m.a.SCREEN_ID.REWARDS}),window.cordova||this.overlays.showSpinner(),t.next=8,Object(o.a)(5);case 8:return t.next=10,Promise.all([this.resources.load("assets/base-game"),this.resources.load("assets/content/characters").then((function(){return f.c.dispatch(b.e,{type:b.f.SCREEN_ASSETS_LOADED,screenId:m.a.SCREEN_ID.CHARACTERS})})),this.resources.load("assets/content/balls","assets/base-3d").then((function(){return f.c.dispatch(b.e,{type:b.f.SCREEN_ASSETS_LOADED,screenId:m.a.SCREEN_ID.BALLS})})),this.resources.load("assets/content/logos","assets/content/banners","assets/content/stadiums","assets/spine").then((function(){f.c.dispatch(b.e,{type:b.f.SCREEN_ASSETS_LOADED,screenId:m.a.SCREEN_ID.COUNTRY_SELECT}),f.c.dispatch(b.e,{type:b.f.SCREEN_ASSETS_LOADED,screenId:m.a.SCREEN_ID.LEAGUES}),f.c.dispatch(b.e,{type:b.f.SCREEN_ASSETS_LOADED,screenId:m.a.SCREEN_ID.STATS})}))]);case 10:window.cordova||this.overlays.hideSpinner();case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.startup=function(){var t=I(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=P.Params.get("selectLanguage",!1)||window.cordova&&!y.a.cache.languageInitialised,n=l.get("screen")||(e?m.a.SCREEN_ID.LANGUAGE:m.a.SCREEN_ID.TITLE),this.background.intro(),this.goto(n),window.cordova||P.Params.get("selectLanguage",!1)||(f.c.dispatch(b.a,{type:b.b.APP_STARTED}),f.c.dispatch(b.a,{type:b.b.APP_MAIN_MENU_LOADED}));case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.flash=function(){var t=I(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=.3),void 0===n&&(n=0),t.next=4,Object(P.delay)(n);case 4:return t.next=6,this.overlays.flash(e);case 6:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),u.blur=function(){var t=I(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.background.blur(10,.4),this.overlays.blur(10,.4),this.overlays.darken(.3,.4);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.focus=function(){var t=I(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.background.blur(0,.4),this.overlays.blur(0,.4),this.overlays.darken(0,.4);case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.goto=function(){var t=I(regeneratorRuntime.mark((function t(e,n,r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:void 0===n&&(n=!1);try{this.overlays.header.lock(),this.overlays.breadcrumb.lock()}catch(t){}if(e===m.a.SCREEN_ID.TITLE?(this.screenStack=[],this.background.focus()):(this.currentScreenId&&!n&&this.addScreenToStack(this.currentScreenId),this.background.unfocus()),!this.isOverlayActive){t.next=8;break}return this.focus(),t.next=7,this.screens.overlay.goto(m.a.OVERLAY_ID.EMPTY);case 7:this.isOverlayActive=!1;case 8:this.handleBreadcrumb(e);try{this.overlays.header.updateElements(e)}catch(t){}return this.app.get(x.a).handleBGM(e),this.currentScreenId=e,t.next=14,this.screens.goto(e,r);case 14:try{this.overlays.header.unlock(),this.overlays.breadcrumb.unlock()}catch(t){}case 15:case"end":return t.stop()}}),t,this)})));return function(e,n,r){return t.apply(this,arguments)}}(),u.gotoWithAds=function(){var t=I(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.overlays.header.lock(),this.overlays.breadcrumb.lock(),this.currentScreenId&&this.addScreenToStack(this.currentScreenId),this.background.unfocus(),this.overlays.blur(10,.5),this.overlays.darken(.5,.5),t.next=8,this.overlays.adBanner.show();case 8:return this.overlays.adBanner.hide(),this.overlays.blur(0,.5),this.overlays.darken(0,.5),this.handleBreadcrumb(e),this.overlays.header.updateElements(e),this.currentScreenId=e,t.next=16,this.screens.goto(e);case 16:this.overlays.header.unlock(),this.overlays.breadcrumb.unlock();case 18:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.gotoViaRewardAds=function(){var t=I(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.screens.goto(m.a.SCREEN_ID.INTERSTITIAL_REWARDS,{data:{nextScene:e}});case 1:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.gotoOverlay=function(){var t=I(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.overlays.header.lock(),this.overlays.breadcrumb.lock(),this.overlays.breadcrumb.hide(),this.blur(),this.overlays.header.updateElements(e),this.app.get(x.a).handleBGM(e),this.isOverlayActive=!0,t.next=9,this.screens.overlay.goto(e);case 9:this.overlays.header.unlock(),this.overlays.breadcrumb.unlock();case 11:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.closeOverlay=function(){var t=I(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===e&&(e=!1),this.isOverlayActive){t.next=3;break}return t.abrupt("return");case 3:return this.overlays.header.lock(),this.overlays.breadcrumb.lock(),e||this.focus(),this.handleBreadcrumb(this.currentScreenId),this.overlays.header.updateElements(this.currentScreenId,!0),this.app.get(x.a).handleBGM(this.currentScreenId),this.isOverlayActive=!1,t.next=12,this.screens.overlay.goto(m.a.OVERLAY_ID.EMPTY);case 12:this.overlays.header.unlock(),this.overlays.breadcrumb.unlock();case 14:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.goBack=function(){var t=I(regeneratorRuntime.mark((function t(){var e,n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.currentScreenId!==m.a.SCREEN_ID.TOURNAMENT||this.screenStack[this.screenStack.length-1]!==m.a.SCREEN_ID.GAME&&this.screenStack[this.screenStack.length-1]!==m.a.SCREEN_ID.INTERSTITIAL_REWARDS){t.next=5;break}return this.gotoOverlay(m.a.OVERLAY_ID.CONFIRMATION),t.abrupt("return");case 5:if(this.currentScreenId!==m.a.SCREEN_ID.INTERSTITIAL_REWARDS||this.screenStack[this.screenStack.length-1]!==m.a.SCREEN_ID.GAME){t.next=9;break}return t.next=8,this.goto(m.a.SCREEN_ID.TOURNAMENT);case 8:return t.abrupt("return");case 9:return e=this.screenStack.pop(),n=(e===m.a.SCREEN_ID.LEAGUES||e===m.a.SCREEN_ID.TEAM_REVIEW)&&p.b.isContinue,r=this.currentScreenId!==m.a.SCREEN_ID.CHARACTERS,i=this.currentScreenId!==m.a.SCREEN_ID.TOURNAMENT,-1!==g.a.indexOf(e)&&!n&&r&&i&&this.overlays.breadcrumb.previous(!0),t.next=16,this.goto(e,!0);case 16:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.startGame=function(){var t=I(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.screenStack=[],this.overlays.header.updateElements("EMPTY"),this.overlays.header.lock(),this.overlays.breadcrumb.hide(),t.next=6,this.blur();case 6:return t.next=8,this.overlays.pageantry.play();case 8:return this.background.darken(1,0),this.focus(),t.next=12,this.screens.goto(m.a.SCREEN_ID.GAME);case 12:return this.app.get(x.a).handleBGM(m.a.SCREEN_ID.GAME),t.next=15,this.overlays.pageantry.hide();case 15:f.d.start(),this.overlays.header.updateElements(m.a.SCREEN_ID.GAME),this.overlays.header.unlock(),this.currentScreenId=m.a.SCREEN_ID.GAME;case 19:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.pauseGame=function(){var t=I(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.currentScreenId===m.a.SCREEN_ID.GAME&&f.d.active&&!f.d.paused){t.next=2;break}return t.abrupt("return");case 2:this.gotoOverlay(m.a.OVERLAY_ID.PAUSE),f.d.pause();case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.resumeGame=function(){var t=I(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.closeOverlay();case 2:f.d.resume();case 3:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.exitGame=function(){var t=I(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return void 0===e&&(e=m.a.SCREEN_ID.TITLE),this.overlays.header.enable(),this.overlays.header.updateElements("EMPTY"),this.overlays.header.lock(),this.screens.overlay.goto(m.a.OVERLAY_ID.EMPTY),this.isOverlayActive=!1,t.next=8,this.overlays.darken(1);case 8:return t.next=10,this.goto(e,!1,n);case 10:this.focus();case 11:case"end":return t.stop()}}),t,this)})));return function(e,n){return t.apply(this,arguments)}}(),u.handleBreadcrumb=function(){var t=I(regeneratorRuntime.mark((function t(e){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(e===m.a.SCREEN_ID.LEAGUES||e===m.a.SCREEN_ID.TEAM_REVIEW)&&p.b.isContinue,r=e===m.a.SCREEN_ID.TEAM_REVIEW&&1===p.b.tournamentData.winner.length,-1===g.a.indexOf(e)||n||r){t.next=7;break}return t.next=5,this.overlays.breadcrumb.show(e);case 5:t.next=9;break;case 7:return t.next=9,this.overlays.breadcrumb.hide();case 9:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),u.breadcrumbNext=function(){var t=I(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.overlays.breadcrumb.next();case 2:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.addScreenToStack=function(t){var e=this.screenStack.indexOf(t);-1===e?this.screenStack.push(t):this.screenStack.splice(e+1,this.screenStack.length-e)},u.updateCoins=function(t,e){void 0===e&&(e=!1),g.d.coins+=t,this.overlays.header.coinBar.updateCoins(e),this.userStats.incrementValue(t>0?v.d.TOTAL_COINS_EARNED:v.d.TOTAL_COINS_SPENT,Math.abs(t),!1)},u.toggleMute=function(){this.mute(!d.default.systemMuted)},u.mute=function(t){void 0===t&&(t=!0),d.default.systemMute(t),y.a.settings.muted=t,this.storage.saveData("settings")},u.setControlsMode=function(t){y.a.settings.controls=t,this.storage.saveData("settings")},u.getCurrentScreenId=function(){return this.currentScreenId},u.openLink=function(t,e){void 0===e&&(e=!1);var n=e?"_blank":"_system";window.cordova?window.cordova.InAppBrowser.open(t,n,"location=no"):window.open(t,n)},u.update=function(){var t=Date.now()-this._timeStamp;this.tick+=t,this.tick>=3e3&&(this.tick=0,this.updateCoinStorageVals()),this._timeStamp=Date.now()},u.updateCoinStorageVals=function(){if(g.d.coins!=this.storage.getNumber("coins")){this.storage.saveData("coins");var t=this.userStats.getValue(v.d.HIGHEST_COINS_HELD);g.d.coins>t&&this.userStats.setValue(v.d.HIGHEST_COINS_HELD,g.d.coins),this.userStats.save()}},s}(h.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return L}));n(21),n(5),n(34),n(27),n(19);var r=n(130),i=n(11),a=n(8),o=n(6),s=n(273),u=n(94),c=n(117),l=n(1),h=n(264),d=n(0),p=n(90),f=n(9);function m(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t){var e,n;function r(){var e;v(g(e=t.call(this)||this),"line",void 0),v(g(e),"movementKey",void 0),v(g(e),"movementPointer",void 0),v(g(e),"tackleKey",void 0),v(g(e),"tacklePointer",void 0),v(g(e),"tackleKeyIcon",void 0),v(g(e),"specialShotKey",void 0),v(g(e),"specialShotPointer",void 0),v(g(e),"chargeBar",void 0),v(g(e),"movementLabel",void 0),v(g(e),"tackleLabel",void 0),v(g(e),"specialShotLabel",void 0),v(g(e),"movementAnim",void 0),v(g(e),"tackleAnim",void 0),v(g(e),"shortPassAnim",void 0),v(g(e),"specialShotAnim",void 0),v(g(e),"ratio",void 0),v(g(e),"count",void 0),v(g(e),"step",void 0),v(g(e),"tick",void 0),v(g(e),"movementStep",void 0),v(g(e),"tackleStep",void 0),v(g(e),"tackleTick",void 0),v(g(e),"specialShotStep",void 0),v(g(e),"specialShotTick",void 0),v(g(e),"hasNextButton",void 0),v(g(e),"mobile",void 0),e.mobile=!u.a.desktop;var n,r;if((n=d.Sprite.from("panel-1.png")).anchor.x=.5,n.scale.set(.9),n.position.set(-280,-180),e.addChild(n),(n=d.Sprite.from("panel-2.png")).anchor.x=.5,n.scale.set(.9),n.position.set(0,-180),e.addChild(n),(n=d.Sprite.from("panel-1.png")).anchor.x=.5,n.scale.set(.9),n.position.set(280,-180),e.addChild(n),r={fill:"#493008",fontSize:18,upperCase:!0,maxWidth:200},e.movementLabel=new f.a("STR_INSTRUCTIONS_MOVEMENT",r),e.movementLabel.anchor.set(.5),e.movementLabel.position.set(-275,-137),e.addChild(e.movementLabel),r.maxWidth=250,e.tackleLabel=new f.a(["STR_INSTRUCTIONS_TACKLE","no"===a.a.settings.language?"/":" / ","STR_INSTRUCTIONS_PASS"],r),e.tackleLabel.anchor.set(.5),e.tackleLabel.position.set(0,-137),e.addChild(e.tackleLabel),r.maxWidth=200,e.specialShotLabel=new f.a("STR_INSTRUCTIONS_POWERSHOT",r),e.specialShotLabel.anchor.set(.5),e.specialShotLabel.position.set(275,-137),e.addChild(e.specialShotLabel),e.line=new d.Graphics,e.line.lineStyle(4,4796424).moveTo(0,0).lineTo(40,-82),e.line.x=-15,e.line.y=-10,e.mobile&&(e.line.y+=20),e.addChild(e.line),e.movementKey=d.Sprite.from(e.mobile?"joystick-back.png":"arrow-keys.png"),e.movementKey.anchor.set(.5,.5),e.movementKey.position.set(-280,80),e.movementKey.scale.set(.7),e.addChild(e.movementKey),e.mobile){e.movementPointer=d.Sprite.from("pointer2.png"),e.movementPointer.anchor.set(.5),e.movementPointer.alpha=0,e.addChild(e.movementPointer);var i=d.Sprite.from("joystick.png");i.anchor.set(.5),e.movementKey.icon=i,e.movementKey.addChild(i);var o=d.Sprite.from("touch-button-hit.png");o.anchor.set(.5),o.scale.set(.6),o.x=-5,o.y=-30,o.alpha=.5,e.movementPointer.tap=o,e.movementPointer.addChild(o)}if(e.tackleKey=d.Sprite.from(e.mobile?"touch-button.png":"spacebar.png"),e.tackleKey.scale.set(.75),e.tackleKey.anchor.set(.5,.5),e.tackleKey.position.set(0,e.mobile?90:110),e.addChild(e.tackleKey),e.mobile){var s=d.Sprite.from("touch-button-hit.png");s.anchor.set(.5),e.tackleKey.addChild(s),e.tackleKeyIcon=s,e.tackleKeyIcon.visible=!1,e.tacklePointer=d.Sprite.from("pointer2.png"),e.tacklePointer.anchor.set(.5),e.tacklePointer.position.set(0,150),e.tacklePointer.alpha=0,e.addChild(e.tacklePointer)}if(r={fill:"black",fontSize:20,align:"center"},e.specialShotKey=d.Sprite.from(e.mobile?"touch-button.png":"spacebar.png"),e.specialShotKey.scale.set(.75),e.specialShotKey.anchor.set(.5,.5),e.specialShotKey.position.set(285,e.mobile?90:110),e.addChild(e.specialShotKey),e.mobile){var c=d.Sprite.from("touch-button-hit.png");c.anchor.set(.5),e.specialShotKey.icon=c,e.specialShotKey.icon.visible=!1,e.specialShotKey.addChild(c),e.specialShotKey.y+=15,e.specialShotPointer=d.Sprite.from("pointer2.png"),e.specialShotPointer.anchor.set(.5),e.specialShotPointer.position.set(285,150),e.specialShotPointer.alpha=0,e.addChild(e.specialShotPointer)}return e.buildCharacters(),e.chargeBar=new h.a,e.ratio=0,e.chargeBar.setSize(1),e.addChild(e.chargeBar),e.chargeBar.scale.set(.9),e.chargeBar.show(),e.chargeBar.position.set(280,30),e.count=0,e.step=0,e.tick=0,e.movementStep=0,e.tackleStep=0,e.tackleTick=0,e.specialShotStep=0,e.specialShotTick=0,e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,y(e,n);var i=r.prototype;return i.buildCharacters=function(){var t,e=(t=regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.movementAnim=p.a.getSpineAnim2D("finn",void 0),this.movementAnim.scale.set(.22),this.movementAnim.position.set(-275,10),this.mobile||this.movementAnim.state.setAnimation(0,"Run",!0),this.addChild(this.movementAnim),this.tackleAnim=p.a.getSpineAnim2D("finn",void 0),this.tackleAnim.scale.set(.22),this.tackleAnim.position.set(-70,10),this.mobile||this.tackleAnim.state.setAnimation(0,"Tackle",!0),this.addChild(this.tackleAnim),this.shortPassAnim=p.a.getSpineAnim2D("finn",void 0),this.shortPassAnim.scale.set(.22),this.shortPassAnim.position.set(70,10),this.mobile||this.shortPassAnim.state.setAnimation(0,"Kick",!0),this.addChild(this.shortPassAnim),this.specialShotAnim=p.a.getSpineAnim2D("finn",void 0),this.specialShotAnim.scale.set(.22),this.specialShotAnim.position.set(275,10),this.specialShotAnim.state.setAnimation(0,"Idle",!0),this.addChild(this.specialShotAnim);case 22:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){m(a,r,i,o,s,"next",t)}function s(t){m(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(){return e.apply(this,arguments)}}(),i.refresh=function(){var t,e=l.Params.get("swipeController",a.a.settings.controls===c.a.SWIPE);null===(t=this.movementPointer)||void 0===t||t.position.set(e?-340:-280,120),this.movementKey.visible=!e,this.movementPointer&&(this.movementPointer.tap.visible=e)},i.update=function(t){if(this.containerUpdateTransform(),this.mobile){var e=a.a.settings.controls===c.a.SWIPE||l.Params.get("swipeController",!1);if(this.tick+=.03*t,0===this.movementStep){if(this.tick>1&&(this.tick=1),this.movementPointer.alpha=this.tick,e){this.movementPointer.y=145-this.tick/1*25;var n=.6*Math.max((this.tick-.6)/.4,0);this.movementPointer.tap.scale.set(n)}1===this.tick&&(this.tick=0,this.movementStep++,this.movementAnim.state.setAnimation(0,"Run",!0).mixDuration=.7)}else if(1===this.movementStep){var r=e?200:40;this.movementPointer.position.x=(e?-340:-280)+this.tick*r,e||(this.movementKey.icon.position.x=this.tick*r),this.tick>(e?.6:1.5)&&(this.tick=0,this.movementStep=0,this.movementPointer.position.x=e?-340:-280,e||(this.movementKey.icon.position.x=0),this.movementAnim.state.setAnimation(0,"Idle",!0).mixDuration=.5,this.movementPointer.alpha=0)}if(this.tackleTick+=.03*t,0===this.tackleStep)this.tackleTick>1&&(this.tackleTick=1),this.tacklePointer.alpha=this.tackleTick,1===this.tackleTick&&(this.tackleTick=0,this.tackleStep++);else if(1===this.tackleStep){this.tacklePointer.position.y=150-40*this.tackleTick,this.tackleTick>.8&&(this.tackleTick=0,this.tackleStep++,this.tackleKeyIcon.visible=!0,this.tackleAnim.state.setAnimation(0,"Tackle",!1).mixDuration=.2,this.shortPassAnim.state.setAnimation(0,"Kick",!1).mixDuration=.2)}else 2===this.tackleStep&&this.tackleTick>1.5&&(this.tackleTick=0,this.tackleStep=0,this.tackleKeyIcon.visible=!1,this.tackleAnim.state.setAnimation(0,"Idle",!0).mixDuration=.2,this.shortPassAnim.state.setAnimation(0,"Idle",!0).mixDuration=.2,this.tacklePointer.position.y=150,this.tacklePointer.alpha=0)}if(this.mobile)if(0===this.step)this.ratio+=.03*t,this.ratio>1&&(this.ratio=1),this.specialShotPointer.position.y=160,this.specialShotPointer.alpha=this.ratio,1===this.ratio&&(this.ratio=0,this.step++);else if(1===this.step){this.ratio+=.03*t;if(this.specialShotPointer.position.y=160-40*this.ratio,this.ratio>.8){this.ratio=0,this.step++;var i=this.specialShotAnim.state.setAnimation(0,"Kick",!0);i.mixDuration=1.5,i.animationEnd=0}}else 2===this.step?(this.ratio+=.01*t,this.chargeBar.setRatio(this.ratio),this.specialShotKey.texture=d.Texture.from(this.mobile?"touch-button.png":"spacebar-hit.png"),this.specialShotKey.icon.visible=!0,this.ratio>.75&&(this.step=3,this.count=0,this.specialShotAnim.state.setAnimation(0,"Kick",!1),this.specialShotKey.texture=d.Texture.from(this.mobile?"touch-button.png":"spacebar.png"),this.specialShotKey.icon.visible=!1,this.specialShotPointer.alpha=0)):3===this.step&&(this.count+=t,this.count>30&&(this.step=0,this.ratio=0,this.specialShotAnim.state.setAnimation(0,"Idle",!0).mixDuration=.5,this.specialShotPointer.position.y=160,this.specialShotPointer.alpha=0));else if(0===this.step){if(0===this.ratio){var o,s=null===(o=this.specialShotAnim)||void 0===o?void 0:o.state.setAnimation(0,"Kick",!0);s&&(s.mixDuration=1.5,s.animationEnd=0)}this.ratio+=.01*t,this.chargeBar.setRatio(this.ratio),this.specialShotKey.texture=d.Texture.from("spacebar-hit.png"),this.ratio>.75&&(this.step=1,this.count=0,this.specialShotAnim.state.setAnimation(0,"Kick",!1),this.specialShotKey.texture=d.Texture.from("spacebar.png"))}else 1===this.step&&(this.count+=t,this.count>30&&(this.step=0,this.ratio=0,this.specialShotAnim.state.setAnimation(0,"Idle",!0)))},r}(d.Container),_=n(44),w=n(134),x=n(147),S=n(123),T=n(2),M=n(7);function E(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function A(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){E(a,r,i,o,s,"next",t)}function s(t){E(a,r,i,o,s,"throw",t)}o(void 0)}))}}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var L=function(t){var e,n;function r(e){var n;return O(k(n=t.call(this,e)||this),"app",void 0),O(k(n),"background",void 0),O(k(n),"mainContainer",void 0),O(k(n),"helpButton",void 0),O(k(n),"resumeButton",void 0),O(k(n),"homeButton",void 0),O(k(n),"soundButton",void 0),O(k(n),"challengesContainer",void 0),O(k(n),"challengesContent",void 0),O(k(n),"scrollCombo",void 0),O(k(n),"challengePanels",[]),O(k(n),"instructionsContainer",void 0),O(k(n),"instructionCards",void 0),O(k(n),"tutorialButton",void 0),O(k(n),"backButton",void 0),O(k(n),"quitContainer",void 0),O(k(n),"quitText",void 0),O(k(n),"yesButton",void 0),O(k(n),"noButton",void 0),n.app=e,n}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,C(e,n);var u=r.prototype;return u.init=function(){var t=A(regeneratorRuntime.mark((function t(){var e,n,r,a,o,u,c,l,h=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.background=new _.a({width:978,height:604,title:"STR_PAUSE_TITLE"}),this.view.addChild(this.background),this.mainContainer=new d.Container,this.instructionsContainer=new d.Container,this.quitContainer=new d.Container,this.background.content.addChild(this.mainContainer),this.background.content.addChild(this.instructionsContainer),this.background.content.addChild(this.quitContainer),this.homeButton=new i.c({icon:"icon-home.png",iconScale:1.8,width:100,height:100}),this.homeButton.position.set(-370,-110),this.homeButton.onPress.add(this.onHomeButtonPressed,this),this.mainContainer.addChild(this.homeButton),this.soundButton=new i.c({icon:"icon-soundon.png",width:100,height:100}),this.soundButton.position.set(-370,15),this.soundButton.onPress.add(this.toggleSound,this),this.mainContainer.addChild(this.soundButton),this.helpButton=new i.c({icon:"icon-help.png",iconScale:1.5,width:100,height:100}),this.helpButton.position.set(-370,140),this.helpButton.onPress.add(this.onHelpButtonPressed,this),this.mainContainer.addChild(this.helpButton),this.resumeButton=new i.c({color:i.a.GREEN,icon:"icon-play.png",width:110,height:110}),this.resumeButton.position.set(0,280),this.resumeButton.onPress.add(this.onResumeButtonPressed,this),this.mainContainer.addChild(this.resumeButton),this.challengesContainer=new d.Container,this.mainContainer.addChild(this.challengesContainer),this.challengesContent=new d.Container,this.challengesContainer.addChild(this.challengesContent),this.app.challenges.challenges.forEach((function(t){var e=new s.a;e.setContent(t),h.challengesContent.addChild(e),h.challengePanels.push(e)})),this.challengesContent.x=-this.challengesContent.width/2,this.challengesContent.y=-200,(e=new d.Graphics).beginFill(16711680),e.drawRect(0,0,this.challengesContent.width+20,500),e.endFill(),e.x-=e.width/2,e.y-=e.height/2-30,this.challengesContainer.addChild(e),this.challengesContent.mask=e,this.challengePanels.forEach((function(t,e){return t.position.set(0,160*e)})),this.challengesContainer.scale.set(.82),this.challengesContainer.position.set(70,-5),this.challengePanels.length>3&&((n=new d.Graphics).drawRect(0,0,850,480),n.x-=n.width/2,n.y-=n.height/2-60,n.alpha=0,n.hitArea=new d.Rectangle(0,0,850,480),this.challengesContainer.addChild(n),r={target:n},a=new S.a(r),253,40,(o=d.Sprite.from("scroll-bar-bit.png")).anchor.set(0,.5),u=d.Sprite.from("scroll-bar.png"),(c=new w.a({draggerHeight:40,dragLength:253,bar:u,dragger:o})).position.set(438,-80),this.challengesContainer.addChild(c),l=new x.a({scrollbar:c,trackpad:a,min:0,max:3410}),this.scrollCombo=l,this.scrollCombo.scrollbar.visible=!0),this.instructionCards=new b,this.instructionsContainer.addChild(this.instructionCards),this.tutorialButton=new i.c({color:i.a.GREEN,text:"STR_PLAYTUTORIAL",width:400,height:80}),this.tutorialButton.y=225,this.tutorialButton.onPress.add(this.onTutorialButtonPressed,this),this.instructionsContainer.addChild(this.tutorialButton),this.backButton=new i.c({icon:"icon-back.png"}),this.backButton.position.set(-430,-220),this.backButton.onPress.add(this.onBackButtonPressed,this),this.instructionsContainer.addChild(this.backButton),this.quitText=new f.a("STR_QUIT_TITLE",{fontSize:50}),this.quitText.anchor.set(.5),this.quitText.position.set(0,-80),this.quitContainer.addChild(this.quitText),this.yesButton=new i.c({icon:"icon-tick.png",color:i.a.GREEN,width:150,height:150}),this.yesButton.position.set(-150,100),this.yesButton.onPress.add(this.onYesButtonPressed,this),this.quitContainer.addChild(this.yesButton),this.noButton=new i.c({icon:"icon-cross.png",color:i.a.PINK,width:150,height:150}),this.noButton.position.set(150,100),this.noButton.onPress.add(this.onNoButtonPressed,this),this.quitContainer.addChild(this.noButton);case 66:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.refresh=function(){this.updateSoundButtons(),this.challengePanels.forEach((function(t){t.refresh()}))},u.show=function(){this.mainContainer.alpha=1,this.mainContainer.scale.set(1),this.resumeButton.scale.set(1),this.mainContainer.visible=!0,this.quitContainer.visible=!1,this.instructionsContainer.visible=!1,this.refresh(),this.updateSoundButtons(),this.resize(this.width,this.height)},u.toggleSound=function(){this.app.controller.toggleMute(),this.updateSoundButtons()},u.updateSoundButtons=function(){var t=a.a.settings.muted?"icon-soundoff.png":"icon-soundon.png";this.soundButton.setIcon(t)},u.update=function(t){this.instructionsContainer.visible&&this.instructionCards.update(t),this.scrollCombo&&(this.scrollCombo.update(),this.challengesContent.y=this.scrollCombo.value-160)},u.onHelpButtonPressed=function(){var t=A(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return M.c.dispatch(o.a,{type:o.b.MENU_HELP_SELECTED}),this.view.interactiveChildren=!1,t.next=4,Object(l.tween)(this.resumeButton.scale,.3,{x:0,y:0,ease:"Back.easeIn"});case 4:return Object(l.tween)(this.mainContainer.scale,.3,{x:.8,y:.8,ease:"Quad.easeIn"}),this.background.swapTitle("STR_INSTRUCTIONS_TITLE"),t.next=8,Object(l.tween)(this.mainContainer,.3,{alpha:0,ease:"Quad.easeOut"});case 8:return this.mainContainer.visible=!1,this.instructionsContainer.alpha=0,this.instructionsContainer.scale.set(.8),this.instructionCards.refresh(),M.d.tutorialCompleted?this.tutorialButton.enable():this.tutorialButton.disable(),this.tutorialButton.scale.set(0),this.backButton.scale.set(0),this.instructionsContainer.visible=!0,Object(l.tween)(this.instructionsContainer.scale,.3,{x:1,y:1,ease:"Back.easeOut"}),t.next=19,Object(l.tween)(this.instructionsContainer,.3,{alpha:1,ease:"Quad.easeOut"});case 19:Object(l.tween)(this.tutorialButton.scale,.3,{x:1,y:1,ease:"Back.easeOut"}),Object(l.tween)(this.backButton.scale,.3,{x:1,y:1,ease:"Back.easeOut"}),this.view.interactiveChildren=!0;case 22:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.onBackButtonPressed=function(){var t=A(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.view.interactiveChildren=!1,Object(l.tween)(this.backButton.scale,.3,{x:0,y:0,ease:"Back.easeIn"}),t.next=4,Object(l.tween)(this.tutorialButton.scale,.3,{x:0,y:0,ease:"Back.easeIn"});case 4:return Object(l.tween)(this.instructionsContainer.scale,.3,{x:.8,y:.8,ease:"Quad.easeIn"}),this.background.swapTitle("STR_PAUSE_TITLE"),t.next=8,Object(l.tween)(this.instructionsContainer,.3,{alpha:0,ease:"Quad.easeOut"});case 8:return this.instructionsContainer.visible=!1,this.mainContainer.alpha=0,this.mainContainer.scale.set(.8),this.resumeButton.scale.set(0),this.mainContainer.visible=!0,Object(l.tween)(this.mainContainer.scale,.3,{x:1,y:1,ease:"Back.easeOut"}),t.next=16,Object(l.tween)(this.mainContainer,.3,{alpha:1,ease:"Quad.easeOut"});case 16:Object(l.tween)(this.resumeButton.scale,.3,{x:1,y:1,ease:"Back.easeOut"}),this.view.interactiveChildren=!0;case 18:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.onResumeButtonPressed=function(){this.app.controller.resumeGame()},u.onHomeButtonPressed=function(){var t=A(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.view.interactiveChildren=!1,t.next=3,Object(l.tween)(this.resumeButton.scale,.3,{x:0,y:0,ease:"Back.easeIn"});case 3:return Object(l.tween)(this.mainContainer.scale,.3,{x:.8,y:.8,ease:"Quad.easeIn"}),t.next=6,Object(l.tween)(this.mainContainer,.3,{alpha:0,ease:"Quad.easeOut"});case 6:return this.mainContainer.visible=!1,this.quitContainer.alpha=0,this.quitContainer.scale.set(.8),this.quitContainer.visible=!0,Object(l.tween)(this.quitContainer.scale,.3,{x:1,y:1,ease:"Back.easeOut"}),t.next=13,Object(l.tween)(this.quitContainer,.3,{alpha:1,ease:"Quad.easeOut"});case 13:this.view.interactiveChildren=!0;case 14:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.onTutorialButtonPressed=function(){var t=A(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.app.game.ball.lastOwner,this.app.game.scripts.start.active&&(e={isTeamA:!this.app.game.scripts.start.left}),T.b.savedGame={gameTime:this.app.game.timer.count,goalsA:this.app.game.goalsA,goalsB:this.app.game.goalsB,lastOwner:e,halfTimeSwapped:this.app.game.halfTimeSwapped},this.app.controller.closeOverlay(!0),t.next=6,this.app.controller.overlays.darken(1);case 6:M.d.tutorialCompleted=!1,this.app.game.reset(),this.app.game.start(),this.app.controller.overlays.darken(0);case 10:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.onYesButtonPressed=function(){var t=A(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:T.b.isContinue=!1,e={match_type:this.app.game.getMatchType(),score:this.app.game.goalsA+" - "+this.app.game.goalsB,gameTime:Math.round(this.app.game.timer.count/60)||"0",tackleTotal:this.app.game.stats.tackleTotal||"0",tackleSuccess:this.app.game.stats.tackleSuccess||"0",shootTotal:this.app.game.stats.shootTotal||"0",passTotal:this.app.game.stats.passTotal||"0",passSuccess:this.app.game.stats.passSuccess||"0",opponentTackle:this.app.game.stats.opponentTackle||"0",opponentTackleSuccess:this.app.game.stats.opponentTackleSuccess||"0",possession:Math.round(this.app.game.stats.possession)||"0"},M.c.dispatch(o.a,{type:o.b.GAME_MATCH_EXITED,data:e}),T.b.gameMode===T.a.TOURNAMENT&&M.c.dispatch(o.a,{type:o.b.GAME_TOURNAMENT_EXIT}),T.b.reset(),M.d.tutorialCompleted||this.app.game.tutorialManager.reset(),this.app.challenges.onGameEnd.emit(),this.app.controller.exitGame();case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.onNoButtonPressed=function(){var t=A(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.view.interactiveChildren=!1,Object(l.tween)(this.quitContainer.scale,.3,{x:.8,y:.8,ease:"Quad.easeIn"}),t.next=4,Object(l.tween)(this.quitContainer,.3,{alpha:0,ease:"Quad.easeOut"});case 4:return this.quitContainer.visible=!1,this.mainContainer.alpha=0,this.mainContainer.scale.set(.8),this.mainContainer.visible=!0,Object(l.tween)(this.mainContainer.scale,.3,{x:1,y:1,ease:"Back.easeOut"}),t.next=11,Object(l.tween)(this.mainContainer,.3,{alpha:1,ease:"Quad.easeOut"});case 11:Object(l.tween)(this.resumeButton.scale,.3,{x:1,y:1,ease:"Back.easeOut"}),this.view.interactiveChildren=!0;case 13:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.resize=function(e,n){t.prototype.resize.call(this,e,n),this.background.position.set(e/2,n/2),this.scrollCombo&&(this.scrollCombo.max=this.challengesContent.height-450,this.scrollCombo.trackpad.scrollMinY=-this.scrollCombo.max)},r}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return L}));n(21),n(27),n(5),n(19);var r=n(80),i=n(94),a=n(130),o=n(11),s=n(25),u=n(82),c=n(8),l=n(6),h=(n(107),n(4)),d=n(0),p=n(7);function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,g(t,e)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(t){function e(){var e;return y(f(e=t.call(this)||this),"background",void 0),y(f(e),"count",void 0),e.background=d.Sprite.from("notify-dot-red.png"),e.background.anchor.set(.5),e.background.scale.set(1.2),e.addChild(e.background),e.count=new d.Text("x",{fill:"#fff",fontSize:30,fontFamily:"lubalin",letterSpacing:3,padding:10}),e.count.anchor.set(.5),e.count.y=-3,e.addChild(e.count),e}return m(e,t),e.prototype.setValue=function(t){0!==t?(this.visible=!0,this.count.text=t.toString()):this.visible=!1},e}(d.Container),b=function(t){function e(){var e;return y(f(e=t.call(this)||this),"button",void 0),y(f(e),"notification",void 0),e.button=new o.c({color:o.a.SPECIAL,icon:"icon-star.png",text:"STR_TITLE_CHALLENGES",width:280,format:{fontSize:32,dropShadow:!0,dropShadowDistance:4,dropShadowAlpha:.3,dropShadowBlur:5,dropShadowAngle:Math.PI/2}}),e.button.onPress.add((function(){p.a.goto(h.a.SCREEN_ID.CHALLENGES),p.c.dispatch(l.a,{type:l.b.MENU_CHALLENGES_SELECTED})})),e.addChild(e.button),e.notification=new v,e.button.addChild(e.notification),e.notification.x=e.button.width/2,e.notification.y=-e.button.height/2+5,e}return m(e,t),e}(d.Container),_=n(9),w=n(135),x=n(1),S=n(14),T=n(2),M=n(28);function E(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function A(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){E(a,r,i,o,s,"next",t)}function s(t){E(a,r,i,o,s,"throw",t)}o(void 0)}))}}function k(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function C(t,e){return(C=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function O(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var L=function(t){var e,n;function a(e){var n;return O(k(n=t.call(this,e)||this),"app",void 0),O(k(n),"logo",void 0),O(k(n),"ball",void 0),O(k(n),"ballShadow",void 0),O(k(n),"characters",void 0),O(k(n),"rightCharacterColumn",void 0),O(k(n),"leftCharacterColumn",void 0),O(k(n),"appBanner",void 0),O(k(n),"appBannerAnim",void 0),O(k(n),"tournamentBanner",void 0),O(k(n),"_coreContent",void 0),O(k(n),"leaguesButton",void 0),O(k(n),"tournamentButton",void 0),O(k(n),"leaderboardButton",void 0),O(k(n),"unlockablesButton",void 0),O(k(n),"userStatsButton",void 0),O(k(n),"challengesBar",void 0),O(k(n),"gdprButton",void 0),O(k(n),"label",void 0),O(k(n),"characterBlurFilter",void 0),O(k(n),"gdprPopup",void 0),O(k(n),"scrollingJumbotron",void 0),O(k(n),"appBannerBg",void 0),O(k(n),"appBannerMargin",7),O(k(n),"_w",void 0),O(k(n),"_h",void 0),O(k(n),"tick",void 0),O(k(n),"currentLogoLanguage",void 0),n.app=e,n.tick=0,n}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,C(e,n);var f=a.prototype;return f.init=function(){var t=A(regeneratorRuntime.mark((function t(){var e,n,i,a,f,m,g,y=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.currentLogoLanguage=M.a.logos[x.Params.get("language",!1)||c.a.settings.language]||"en",this.logo=d.Sprite.from("assets/content/logos/titles/logo_"+this.currentLogoLanguage+".png"),this.logo.anchor.set(.5),p.c.add(l.d,this.onLanguageChange.bind(this)),this.buildCharacters(),this._coreContent=new d.Container,this.view.addChild(this._coreContent),e=d.Sprite.from("buttonicon-globe-button.png"),n=d.Sprite.from("buttonicon-trophy-button.png"),i=d.Sprite.from("buttonicon-border.png"),a=d.Sprite.from("buttonicon-border.png"),.5,.8,e.anchor.set(.5),n.anchor.set(.5),i.anchor.set(.5),a.anchor.set(.5),e.scale.set(.8),n.scale.set(.8),i.scale.set(.4),a.scale.set(.4),f={dropShadow:!0,dropShadowDistance:4,dropShadowAlpha:.3,dropShadowBlur:5,dropShadowAngle:Math.PI/2},this.tournamentButton=new o.c({text:M.a.title_screen.tournament,color:o.a.GREEN,size:o.b.LARGE,width:360,format:f}),this.tournamentButton.onPress.add(this.onTournamentButtonPressed,this),this._coreContent.addChild(this.tournamentButton),e.x=i.x=-this.tournamentButton.width/2-15,this.tournamentButton.addChild(e),this.tournamentButton.addChildAt(i,0),this.leaguesButton=new o.c({text:M.a.title_screen.leagues,color:o.a.PINK,size:o.b.LARGE,width:360,format:f}),this.leaguesButton.onPress.add(this.onToonLeaguesPressed,this),this._coreContent.addChild(this.leaguesButton),n.x=a.x=this.leaguesButton.width/2+15,this.leaguesButton.addChild(n),this.leaguesButton.addChildAt(a,0),this.leaderboardButton=new o.c({icon:h.a.BUTTON_ICON.LEADERBOARD,iconScale:.9,spacing:10,text:M.a.title_screen.leaderboard,width:330,format:f}),this.leaderboardButton.onPress.add(this.onLeaderboardButtonPressed,this),this._coreContent.addChild(this.leaderboardButton),!x.Params.get("leaguesNotification",!1)&&c.a.cache.leaguesOnboardingComplete||this.addLeaguesNotification(),!1,this.unlockablesButton=new o.c({icon:h.a.BUTTON_ICON.LOCK,iconScale:1.2,spacing:1,text:M.a.title_screen.unlockables,width:330,format:f}),this.unlockablesButton.onPress.add(this.onUnlockablesButtonPressed,this),this._coreContent.addChild(this.unlockablesButton),(x.Params.get("unlockablesNotification",!1)||Object(s.o)())&&this.addUnlockablesNotification(),m=this.app.globalEvents.event,this.scrollingJumbotron=new w.b({loop:-1,entryAnimation:m&&m.status===u.a.UPCOMING}),this.scrollingJumbotron.scale.set(.9),this._coreContent.addChild(this.scrollingJumbotron),this._coreContent.addChild(this.logo),this.ball=d.Sprite.from("logo_ball.png"),this.ball.anchor.set(.5),this.ball.position.set(-40,-25),this.ballShadow=d.Sprite.from("logo_ball_shadow.png"),this.ballShadow.anchor.set(.5),1.05,this.ball.scale.set(1.05),this.ballShadow.scale.set(1.05),this.ballShadow.x=this.ball.x,this.ballShadow.y=this.ball.y,this.logo.addChild(this.ball),this.logo.addChild(this.ballShadow),this.ball.visible=this.ballShadow.visible="en"===this.currentLogoLanguage,this.challengesBar=new b,this.view.addChild(this.challengesBar),(x.Params.get("gdpr",!1)||window.cordova)&&(g={fill:"white",fontSize:20,stroke:!1,strokeThickness:8,lineJoin:"round"},this.gdprButton=new _.a("STR_SETTINGS_PRIVACYPOLICY",g),this.gdprButton.interactive=!0,this.gdprButton.on("pointertap",(function(){var t=r.b.translate("URL_PRIVACY")||"";y.app.controller.openLink(t,!0)})),this.gdprButton.alpha=.8,this.view.addChild(this.gdprButton)),this.initAppBanner(),!1;case 68:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),f.initAppBanner=function(){var t=this;if(!(this.app.storage.getBoolean("hideBanner")||i.a.desktop||!window.iosStore&&!window.androidStore)){this.appBannerAnim=new d.Container,this.appBanner=new d.Container;var e="assets/device/banner-"+(i.a.android?"android.png":"ios.png"),n=d.Sprite.from(e),r=new _.a("STR_MOBILE_WEB_BANNER",{fill:"white",fontSize:34,stroke:!0,strokeThickness:8,lineJoin:"round",wordWrap:!0,wordWrapWidth:200,align:"center",maxWidth:210});r.scale.set(.65),r.anchor.set(0,.5),n.texture.baseTexture.once("loaded",(function(){n.scale.set(.65),t.appBanner.addChild(n),n.position.x=t.appBannerMargin,n.position.y=t.appBannerMargin,r.position.x=n.position.x+n.width+t.appBannerMargin,r.position.y=n.position.y+n.height/2,t.appBanner.addChild(r),t.appBannerAnim.addChild(t.appBanner),t.view.addChild(t.appBannerAnim);var e=n.width+t.appBannerMargin+r.width+2*t.appBannerMargin+5,i=n.height+2*t.appBannerMargin;t.appBannerBg=new d.Graphics,t.appBannerBg.beginFill(16777215),t.appBannerBg.drawRoundedRect(0,0,e,i,15),t.appBannerBg.endFill(),t.appBannerBg.interactive=!0,t.appBannerBg.on("pointertap",t.appBannerClick.bind(t)),t.appBannerBg.alpha=.8,t.appBanner.addChildAt(t.appBannerBg,0),t.appBanner.x=t._w-(t.appBannerBg.width+t.appBannerMargin),t.appBanner.y=t._h-(t.appBannerBg.height+t.appBannerMargin),t.appBannerAnim.y=t.appBanner.height+2*t.appBannerMargin,Object(x.tween)(t.appBannerAnim.position,.4,{y:0,delay:1,ease:"Sine.easeOut"})}))}},f.initTournamentEndBanner=function(){var t=this.app.globalEvents.event,e=this.app.globalEvents.mostRecentFinishedEvent,n=this.app.storage.getItem("tournamentEndBannerVisitedForId");if(!(null!=t||n==e.id)){this.tournamentBanner=new d.Container,this.view.addChild(this.tournamentBanner);var r=new _.a(e.title,{fill:"white",fontSize:34,stroke:!0,strokeThickness:8,lineJoin:"round",align:"center"});r.position.set(0,0),r.anchor.set(.5,1);var i=new _.a("STR_WINNER_ANNOUNCED",{fill:"black",fontSize:32,stroke:"#ffffff",strokeThickness:8,lineJoin:"round",align:"center"});i.position.set(0,0),i.anchor.set(.5,0);var a=Math.max(r.width,i.width)+40,o=r.height+i.height+15,s=new d.Graphics;s.lineStyle(6,16777215,1),s.beginFill(16777215,.6),s.drawRoundedRect(-a/2,-o/2,a,o,15),s.endFill(),s.interactive=!0,s.buttonMode=!0,s.on("pointertap",this.tournamentEndBannerClick.bind(this)),this.tournamentBanner.addChild(s),this.tournamentBanner.addChild(r),this.tournamentBanner.addChild(i)}},f.tournamentEndBannerClick=function(){this.app.storage.setItem("tournamentEndBannerVisitedForId",this.app.globalEvents.mostRecentFinishedEvent.id),this.disableButtons(),p.c.dispatch(l.a,{type:l.b.MENU_LEADERBOARD_SELECTED}),this.app.controller.goto(h.a.SCREEN_ID.LEADERBOARD,!1,{data:{board:"tournament"}}),this.tournamentBanner.destroy(),this.tournamentBanner=null},f.buildCharacters=function(){var t=A(regeneratorRuntime.mark((function t(){var e,n,r,i,a,o,s,u,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(this.characterBlurFilter=new d.filters.BlurFilter,this.leftCharacterColumn=new d.Container,this.rightCharacterColumn=new d.Container,this.characters=[],.55,e=[4,5,6],n=0;n<e.length;n++)r=d.Sprite.from("character"+e[n]+".png"),i=0,a=0,0===n?(i=60,a=20):1===n?(i=120,a=165):2===n&&(i=160,a=370),r.anchor.x=0,r.y=a,r.origX=i,r.origY=a,r.startTick=1e3*n,r.scale.set(.55),this.rightCharacterColumn.addChild(r),this.characters.push(r);for(this.view.addChild(this.rightCharacterColumn),e=[1,2,3],o=0;o<e.length;o++)s=d.Sprite.from("character"+e[o]+".png"),u=0,c=0,0===o?(u=-70,c=-50):1===o?(u=-90,c=120):2===o&&(u=-30,c=390),s.x=-s.width,c+=80,s.y=c,s.anchor.x=0,s.origX=u,s.origY=c,s.startTick=2e3+1e3*o,s.scale.set(.55),this.leftCharacterColumn.addChild(s),this.characters.push(s);this.view.addChild(this.leftCharacterColumn);case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),f.addUnlockablesNotification=function(){var t=d.Sprite.from("button-unlockables-notification.png");t.anchor.set(.5),t.scale.set(1.2),t.rotation=-.2,t.position.set(155,-25),this.unlockablesButton.addChild(t),Object(x.tween)(t.scale,.5,{x:1.6,y:1.6,ease:"Quad.easeInOut",repeat:-1,yoyo:!0}),Object(x.tween)(t,1,{rotation:.2,ease:"Quad.easeInOut",repeat:-1,yoyo:!0}),this.unlockablesButton.notification=t},f.removeUnlockablesNotification=function(){this.unlockablesButton.notification&&(S.c.killTweensOf(this.unlockablesButton.notification.scale),Object(x.tween)(this.unlockablesButton.notification.scale,.4,{x:0,y:0,ease:"Back.easeIn"}),S.c.killTweensOf(this.unlockablesButton.notification),this.unlockablesButton.removeChild(this.unlockablesButton.notification),this.unlockablesButton.notification=null)},f.addLeaguesNotification=function(){var t=d.Sprite.from("button-unlockables-notification.png");t.anchor.set(.5),t.scale.set(1.2),t.rotation=-.2,t.position.x=240,this.leaguesButton.addChild(t),Object(x.tween)(t.scale,.5,{x:1.6,y:1.6,ease:"Quad.easeInOut",repeat:-1,yoyo:!0}),Object(x.tween)(t,1,{rotation:.2,ease:"Quad.easeInOut",repeat:-1,yoyo:!0}),this.leaguesButton.notification=t},f.removeLeaguesNotification=function(){this.leaguesButton.notification&&(S.c.killTweensOf(this.leaguesButton.notification.scale),Object(x.tween)(this.leaguesButton.notification.scale,.4,{x:0,y:0,ease:"Back.easeIn"}),S.c.killTweensOf(this.leaguesButton.notification),this.leaguesButton.removeChild(this.leaguesButton.notification),this.leaguesButton.notification=null)},f.appBannerClick=function(){this.app.storage.setItem("hideBanner",!0),this.hideAppBanner();var t=i.a.android?window.androidStore:window.iosStore;this.app.controller.openLink(t)},f.hideAppBanner=function(){this.view.removeChild(this.appBannerAnim)},f.onToonLeaguesPressed=function(){this.disableButtons(),p.c.dispatch(l.a,{type:l.b.MENU_TOON_LEAGUES_SELECTED}),T.b.gameMode=T.a.LEAGUES,c.a.cache.leaguesOnboardingComplete?this.app.controller.gotoWithAds(h.a.SCREEN_ID.LEAGUES):this.app.controller.goto(h.a.SCREEN_ID.LEAGUES_ONBOARDING)},f.onTournamentButtonPressed=function(){this.disableButtons(),p.c.dispatch(l.a,{type:l.b.MENU_TOURNAMENT_SELECTED}),T.b.gameMode=T.a.TOURNAMENT,this.app.controller.gotoWithAds(h.a.SCREEN_ID.COUNTRY_SELECT)},f.onLeaderboardButtonPressed=function(){this.disableButtons(),p.c.dispatch(l.a,{type:l.b.MENU_LEADERBOARD_SELECTED}),this.app.controller.goto(h.a.SCREEN_ID.LEADERBOARD)},f.onUnlockablesButtonPressed=function(){this.disableButtons(),p.c.dispatch(l.a,{type:l.b.MENU_UNLOCKABLES_SELECTED}),this.app.controller.goto(h.a.SCREEN_ID.UNLOCKABLES)},f.onUserStatsButtonPressed=function(){this.disableButtons(),p.c.dispatch(l.a,{type:l.b.USER_STATS_SELECTED}),this.app.controller.goto(h.a.SCREEN_ID.USER_STATS)},f.onLanguageChange=function(){var t=A(regeneratorRuntime.mark((function t(e){var n,r,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=M.a.logos[c.a.settings.language]||"en",this.currentLogoLanguage!==n){t.next=3;break}return t.abrupt("return");case 3:return r="assets/content/logos/titles/logo_"+n+".png",this.currentLogoLanguage=n,i="ru"===n?1.2:.9,S.c.killTweensOf(this.logo.scale),t.next=9,Object(x.tween)(this.logo.scale,.4,{x:0,y:0,ease:"Linear.easeOut"});case 9:this.logo.texture=d.Texture.from(r),this.ball.visible=this.ballShadow.visible="en"===n,Object(x.tween)(this.logo.scale,1,{x:i,y:i,ease:"Elastic.easeOut",delay:.2});case 12:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),f.enableButtons=function(){this.leaguesButton.interactive=!0,this.tournamentButton.interactive=!0,this.leaderboardButton.interactive=!0,this.unlockablesButton.interactive=!0,this.userStatsButton&&(this.userStatsButton.interactive=!0)},f.disableButtons=function(){this.leaguesButton.interactive=!1,this.tournamentButton.interactive=!1,this.leaderboardButton.interactive=!1,this.unlockablesButton.interactive=!1,this.userStatsButton&&(this.userStatsButton.interactive=!1)},f.hide=function(){this.appBannerAnim&&this.view.removeChild(this.appBannerAnim),Object(x.tween)(this.leftCharacterColumn,.4,{alpha:0,ease:"Sine.easeOut"}),Object(x.tween)(this.rightCharacterColumn,.4,{alpha:0,ease:"Sine.easeOut"})},f.hidden=function(){var t;null===(t=this.scrollingJumbotron)||void 0===t||t.stop()},f.show=function(){var t=this;this.leaguesButton.notification&&c.a.cache.leaguesOnboardingComplete&&this.removeLeaguesNotification(),this.unlockablesButton.notification&&!Object(s.o)()&&this.removeUnlockablesNotification(),this.challengesBar.notification.setValue(this.app.challenges.challengesRemaining()),T.b.countryID=null,this.disableButtons(),this.logo.scale.set(0),this.leaguesButton.scale.set(0),this.tournamentButton.scale.set(0),this.leaderboardButton.scale.set(0),this.unlockablesButton.scale.set(0),this.userStatsButton&&this.userStatsButton.scale.set(0);var e="ru"===this.currentLogoLanguage?1.2:.9;Object(x.tween)(this.logo.scale,1,{x:e,y:e,ease:"Elastic.easeOut",delay:.2}).then((function(){return t.enableButtons()})),Object(x.tween)(this.leaguesButton.scale,1,{x:1,y:1,ease:"Elastic.easeOut",delay:.4}),Object(x.tween)(this.tournamentButton.scale,1,{x:1,y:1,ease:"Elastic.easeOut",delay:.4}),Object(x.tween)(this.leaderboardButton.scale,1,{x:1,y:1,ease:"Elastic.easeOut",delay:.4}),Object(x.tween)(this.unlockablesButton.scale,1,{x:1,y:1,ease:"Elastic.easeOut",delay:.4}),this.userStatsButton&&Object(x.tween)(this.userStatsButton.scale,1,{x:1,y:1,ease:"Elastic.easeOut",delay:.4}),this.tournamentBanner&&(S.c.killTweensOf(this.tournamentBanner.scale),this.tournamentBanner.scale.set(0),Object(x.tween)(this.tournamentBanner.scale,1,{x:1,y:1,ease:"Elastic.easeOut",delay:.6,onComplete:function(){Object(x.tween)(t.tournamentBanner.scale,1.5,{x:1.08,y:1.08,ease:"Sine.easeInOut",repeat:-1,yoyo:!0})}})),this.leftCharacterColumn.alpha=this.rightCharacterColumn.alpha=1;for(var n=function(e){var n=t.rightCharacterColumn.children[e];!i.a.mobile&&!i.a.ie&&(n.filters=[t.characterBlurFilter]),n.x=0,Object(x.tween)(n.position,.2,{x:n.origX-n.width,ease:"Quad.easeOut",delay:.6+.2*e,onComplete:function(){return n.filters=[]}})},r=0;r<this.rightCharacterColumn.children.length;r++)n(r);for(var a=function(e){var n=t.leftCharacterColumn.children[e];!i.a.mobile&&!i.a.ie&&(n.filters=[t.characterBlurFilter]),n.x=-n.width,Object(x.tween)(n.position,.2,{x:n.origX,ease:"Quad.easeOut",delay:.7+.2*e,onComplete:function(){return n.filters=[]}})},o=0;o<this.leftCharacterColumn.children.length;o++)a(o);this.initJumbotron(),this.resize(this._w,this._h)},f.initJumbotron=function(){var t=this.app.globalEvents.event;if(t){var e,n=this.app.globalEvents.getDays();if(t.status===u.a.UPCOMING){var i=[t.title,"STR_GLOBAL_EVENTS_STARTS_IN_"+n+"_DAY"+(n>1?"S":"")];e=[{type:w.a.SEQUENCE_TEXT,texts:i,duration:2.5},{type:w.a.SCROLLING_TEXT,texts:i,ballAnimation:!0}]}t.status===u.a.ACTIVE&&(e=[{type:w.a.SCROLLING_TEXT,texts:["STR_GLOBAL_EVENTS_LIVE_EVENT",t.title],ballAnimation:!0},{type:w.a.SCROLLING_TEXT,texts:["STR_GLOBAL_EVENTS_PLAY_PROMPT"]},{type:w.a.SEQUENCE_TEXT,texts:[r.b.translate("STR_GLOBAL_EVENTS_DAYS_LEFT")+" "+n],duration:4}]),this.scrollingJumbotron.setData(e),this.scrollingJumbotron.start()}this.scrollingJumbotron.visible=!!t},f.shown=function(){var t=this;window.FASTPLAY?this.onToonLeaguesPressed():x.Params.get("settings",!1)?this.app.controller.gotoOverlay(h.a.OVERLAY_ID.SETTINGS):(x.Params.get("gdpr",!1)||window.cordova&&!c.a.cache.gdprAccepted)&&Object(x.delay)(.2).then((function(){return t.app.controller.gotoOverlay(h.a.OVERLAY_ID.GDPR)}))},f.update=function(t){this.ball&&(this.ball.rotation+=.02*t);if(this.tick+=.08*t,!x.Params.get("noHomeMove",!1))for(var e=0;e<this.characters.length;e++){var n=this.characters[e];n.y=n.origY+18*Math.sin(n.startTick+this.tick)}},f.resize=function(t,e){this.logo.y=(this.tournamentBanner?-60:this.app.globalEvents.event?-25:45)-150;var n=this.app.globalEvents.event?40:0;if(this.tournamentButton.position.set(-this.tournamentButton.width/2-5,180+n),this.leaguesButton.position.set(this.leaguesButton.width/2+5,180+n),this.userStatsButton){this.leaderboardButton.position.set(0-this.leaderboardButton.width/2-175,this.tournamentButton.y+this.tournamentButton.height/2+this.leaderboardButton.height/2+10),this.unlockablesButton.position.set(0,this.leaderboardButton.y),this.userStatsButton.position.set(0+this.leaderboardButton.width/2+175,this.leaderboardButton.y)}else this.leaderboardButton.position.set(-this.leaderboardButton.width/2-5,this.tournamentButton.y+this.tournamentButton.height/2+this.leaderboardButton.height/2+10),this.unlockablesButton.position.set(this.unlockablesButton.width/2+5,this.leaguesButton.y+this.leaguesButton.height/2+this.unlockablesButton.height/2+10);var r=this.app.overlays.header.rightButton;if(this.challengesBar.position.x=r.x-r.width/2-this.challengesBar.width/2-20,this.challengesBar.position.y=r.y+5,this.leftCharacterColumn.y=e/2-330,this.rightCharacterColumn.x=t,this.rightCharacterColumn.y=e/2-330,this.appBanner&&this.appBannerBg&&(this.appBanner.x=t-(this.appBannerBg.width+this.appBannerMargin),this.appBanner.y=e-(this.appBannerBg.height+this.appBannerMargin)),this.tournamentBanner&&(this.tournamentBanner.x=t/2,this.tournamentBanner.y=e/2+40),this.label&&this.label.position.set(t/2,150),this.gdprButton){this.gdprButton.x=15,this.gdprButton.y=e-this.gdprButton.height-15}this.gdprPopup&&this.gdprPopup.resize(t,e),this.app.globalEvents.event&&(this.scrollingJumbotron.y=90),this._coreContent.scale.set(t/e<1.5?.8:.9),this._coreContent.x=t/2,this._coreContent.y=e/2,this._w=t,this._h=e},a}(a.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));n(21),n(27),n(133),n(5),n(19);var r=n(9),i=n(1),a=n(0),o=n(4),s=n(8),u=(n(34),n(130)),c=n(11),l=n(44);function h(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function d(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function g(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function y(t,e){return(y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function v(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var b=function(t){var e,n;function u(e){var n;return v(g(n=t.call(this,e)||this),"stars",void 0),v(g(n),"starCounts",void 0),n.stars=[],n.starCounts=[],n}n=t,(e=u).prototype=Object.create(n.prototype),e.prototype.constructor=e,y(e,n);var c=u.prototype;return c.init=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n,i,u,c,l,h,d,p,f,m,g,y,v,b,_=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new a.Container,i=a.Sprite.from("toonleagues-podium-background.png"),u=a.Sprite.from("toonchampscup.png"),c=a.Sprite.from("toonelitecup.png"),l=a.Sprite.from("toonprocup.png"),h=a.Sprite.from("epic_trophy.png"),d=a.Sprite.from("ultra_trophy.png"),p={fill:"white",fontSize:22,align:"center",stroke:4858376,strokeThickness:5},f=new r.a("STR_LEAGUES_STAR_LEAGUE",p),m=new r.a("STR_LEAGUES_ACE_LEAGUE",p),g=new r.a("STR_LEAGUES_PRO_LEAGUE",p),y=new r.a("STR_LEAGUES_EPIC_LEAGUE",p),v=new r.a("STR_LEAGUES_ULTRA_LEAGUE",p),f.anchor.set(.5),m.anchor.set(.5),g.anchor.set(.5),y.anchor.set(.5),v.anchor.set(.5),i.anchor.set(.5),u.anchor.set(.5,1),c.anchor.set(.5,1),l.anchor.set(.5,1),h.anchor.set(.5,1),d.anchor.set(.5,1),this.shineAt(u),this.shineAt(c),this.shineAt(l),this.shineAt(h),this.shineAt(d),u.scale.set(.45),c.scale.set(.45),l.scale.set(.45),h.scale.set(.41),d.scale.set(.41),d.position.set(-60,-72),h.position.set(85,-24),u.position.set(-220,31),c.position.set(250,90),l.position.set(-50,164),v.scale.set(1),y.scale.set(1),f.scale.set(1),m.scale.set(1),g.scale.set(1),v.position.set(d.x,d.y+10),y.position.set(h.x,h.y+15),f.position.set(u.x,u.y+13),m.position.set(c.x,c.y+15),g.position.set(l.x,l.y+10),n.addChild(i),n.addChild(h),n.addChild(d),n.addChild(u),n.addChild(c),n.addChild(l),n.addChild(y),n.addChild(v),n.addChild(f),n.addChild(m),n.addChild(g),b=[{content:n,message:"STR_LEAGUES_ONBOARDING_MESSAGE"}],t.prototype.init.call(this,"STR_LEAGUES_ONBOARDING",b),this.onCompleted=function(){s.a.cache.leaguesOnboardingComplete=!0,_.app.storage.saveData("cache"),_.app.controller.gotoWithAds(o.a.SCREEN_ID.LEAGUES)};case 66:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(t){m(a,r,i,o,s,"next",t)}function s(t){m(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(){return n.apply(this,arguments)}}(),c._createBanner=function(){var t=new r.a("STR_LEAGUES_ONBOARDING_BANNER",{fill:16777215,fontSize:38}),e=(new a.Graphics).lineStyle(5,16777215).beginFill(14297476).drawRoundedRect(0,0,t.width+45,t.height+20,12);t.anchor.set(.5),t.x=e.width/2,t.y=e.height/2-5,e.addChild(t),e.x=-490,e.y=-255,this.background.content.addChild(e)},c.shineAt=function(t){for(var e=[],n=1;n<=10;n++)e.push(-25*n);i.Random.shuffle(e);for(var r=0;r<10;r++){var o=a.Sprite.from("flash-big-2.png");o.scale.set(.1+.4*Math.random()),o.anchor.set(.5),o.blendMode=a.BLEND_MODES.ADD,o.position.x=25*r-t.width/2.5,o.position.y=e[r],t.addChild(o),this.stars.push(o),this.starCounts.push(1e3*Math.random())}},c.update=function(t){if(this.stars)for(var e=0;e<this.stars.length;e++)this.starCounts[e]+=.07*t,this.stars[e].alpha=Number(Math.abs(Math.sin(this.starCounts[e]))),this.stars[e].rotation+=.01*this.stars[e].scale.x*t},u}(function(t){var e,n;function a(e){var n;return f(d(n=t.call(this,e)||this),"app",void 0),f(d(n),"background",void 0),f(d(n),"image",void 0),f(d(n),"message",void 0),f(d(n),"proceedButton",void 0),f(d(n),"onCompleted",void 0),f(d(n),"step",void 0),f(d(n),"_data",void 0),f(d(n),"_w",void 0),f(d(n),"_h",void 0),n.app=e,n}n=t,(e=a).prototype=Object.create(n.prototype),e.prototype.constructor=e,p(e,n);var o=a.prototype;return o.init=function(){var t,e=(t=regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this._data=n,this.background=new l.a({width:1e3,height:750,title:e,hasArrows:!0}),this.view.addChild(this.background),this.background.content.addChild(this._data[0].content),this.message=new r.a(this._data[0].message,{fill:"black",fontSize:23,wordWrap:!0,wordWrapWidth:850,align:"center",breakWords:!0}),this.message.anchor.set(.5),this.background.content.addChild(this.message),this.proceedButton=new c.c({text:"STR_NEXT",color:c.a.PINK,width:250,height:80}),this.background.content.addChild(this.proceedButton),this.background.onNext.connect(this.next.bind(this)),this.background.onPrevious.connect(this.previous.bind(this)),this.proceedButton.onPress.add(this.proceed.bind(this)),this.step=0,this.background.hidePreviousArrow();case 14:case"end":return t.stop()}}),t,this)})),function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){h(a,r,i,o,s,"next",t)}function s(t){h(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(t,n){return e.apply(this,arguments)}}(),o.next=function(){this.step++,this.updateStep(),this.step===this._data.length-1&&this.background.hideNextArrow(),this.background.showPreviousArrow()},o.previous=function(){this.step--,this.updateStep(),0===this.step&&this.background.hidePreviousArrow(),this.background.showNextArrow()},o.updateStep=function(){this.message.setText(this._data[this.step].message),this.step===this._data.length-1&&this.proceedButton.setText("STR_CONTINUE")},o.proceed=function(){this.step<this._data.length-1?this.next():this.onCompleted()},o.show=function(){this.resize(this.width,this.height),this.background.scale.set(0);var t=(this.height-this.app.overlays.header.height)/this.background.panelHeight;Object(i.tween)(this.background.scale,1,{x:t,y:t,ease:"Elastic.easeOut",delay:.2}),this._data.length>1?this.background.showNextArrow():this.background.hideNextArrow()},o.shown=function(){},o.resize=function(e,n){var r=this;t.prototype.resize.call(this,e,n),this.background.position.set(e/2,n/2),this._data.forEach((function(t){t.content.scale.set(1);var e=(r.background.panelWidth-28)/t.content.width;t.content.scale.set(e),t.content.y=t.content.height/2-r.background.panelHeight/2+88}));this.message.y=this._data[0].content.y+this._data[0].content.height/2+this.message.height/2+15,this.proceedButton.y=this.message.y+this.message.height/2+this.proceedButton.height/2+15},a}(u.a))},function(t,e,n){"use strict";n.d(e,"a",(function(){return S}));n(21),n(5),n(34),n(19);var r=n(11),i=n(40),a=n(6),o=n(219),s=(n(27),n(107),n(49)),u=n(198),c=n(1),l=n(0),h=n(7),d=n(24),p=n(4),f=n(9);function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var v=function(t){var e,n;function i(){var e;y(m(e=t.call(this)||this),"currentCharacterData",void 0),y(m(e),"bg",void 0),y(m(e),"statBarContainers",void 0),y(m(e),"centerX",void 0),y(m(e),"onStatUpgraded",void 0),e.bg=l.Sprite.from("panel-black-background.png"),e.bg.anchor.set(0,.5),e.addChild(e.bg),e.statBarContainers={},e.buildStatBars(u.b.SPEED,"graphic-upgrade-speed.png","STR_UNLOCKABLES_SPEED"),e.buildStatBars(u.b.POWER,"graphic-upgrade-power.png","STR_UNLOCKABLES_POWER"),e.buildStatBars(u.b.SKILL,"graphic-upgrade-accuracy.png","STR_UNLOCKABLES_ACCURACY");var n=-135;for(var r in e.statBarContainers){e.statBarContainers[r].position.set(225,n),n+=150}return e.alpha=0,e.visible=!1,e.onStatUpgraded=new d.Signal,e}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,g(e,n);var o=i.prototype;return o.buildStatBars=function(t,e,n){var i=this,a=new l.Container,o=new f.a(n,{fill:"white",fontSize:30,stroke:!0,strokeThickness:8,lineJoin:"round"}),s=l.Sprite.from(e),u=new f.a("150",{fill:"0x724D05",fontSize:30,align:"left"}),c=new r.c({color:r.a.GREEN,text:"STR_UNLOCKABLES_UPGRADE",format:{fontSize:30},height:76,width:230}),h=l.Sprite.from("graphic-upgrade-cost.png");c.onPress.add(function(t){var e=t;return function(){return i.upgrade(e)}}(t)),o.anchor.y=.5,s.anchor.set(0,.5),u.anchor.set(0,.5),h.anchor.set(0,.5),o.y=5-s.texture.height,c.x=h.texture.width+85,c.y=-2,u.position.set(h.texture.width/2-17,-3),h.x=s.texture.width+15,h.addChild(u),h.addChild(c),a.addChild(o),a.addChild(s),a.addChild(h),this.bg.addChild(a),h.button=c,h.price=u,a.upgradeBar=h,this.statBarContainers[t]=a},o.upgrade=function(t){this.onStatUpgraded.emit(t),this.updateState()},o.updateState=function(){for(var t in this.statBarContainers){var e=this.statBarContainers[t].upgradeBar;if(1===this.currentCharacterData[t]&&e.price.visible&&(e.button.interactive=!1,e.button.setColor(r.a.BEIGE),e.button.setText("STR_UNLOCKABLES_MAXED"),e.button.alpha=.8,e.price.visible=!1,e.texture=l.Texture.from("tick.png")),1!==this.currentCharacterData[t]){e.price.visible||(e.button.setText("STR_UNLOCKABLES_UPGRADE"),e.texture=l.Texture.from("graphic-upgrade-cost.png"),e.price.visible=!0),e.price.setText((p.a.UNLOCKABLES.PRICE*(10*this.currentCharacterData[t]+1)).toString());var n=s.a.coins>=parseInt(e.price.text);e.button.alpha=1,n?(e.button.setColor(r.a.GREEN),e.button.interactive=!0):(e.button.setColor(r.a.GREY),e.button.interactive=!1)}}},o.show=function(t){h.c.dispatch(a.a,{type:a.b.UNLOCKABLES_CHARACTER_SELECTED_FOR_UPGRADE,data:{characterId:t.id}}),this.currentCharacterData=t,this.visible=!0,this.updateState(),Object(c.tween)(this,.5,{alpha:1,ease:"Power1.easeOut"}),Object(c.tween)(this.position,.5,{x:this.centerX-340,ease:"Power1.easeOut"})},o.hide=function(){var t=this;Object(c.tween)(this,.5,{alpha:0,ease:"Power1.easeOut",onComplete:function(){return t.visible=!1}}),Object(c.tween)(this.position,.5,{x:this.centerX-400,ease:"Power1.easeOut"})},o.reset=function(){this.position.x=this.centerX-400,this.alpha=0},o.resize=function(t,e){this.centerX=t/2},i}(l.Container);function b(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function _(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function x(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var S=function(t){var e,n;function s(e){var n;return x(_(n=t.call(this,e,{title:"STR_UNLOCKABLES_SELECT_CHARACTER",cardConfig:{cta:o.a.UPGRADE},backgroundLoading:!0})||this),"doneButton",void 0),x(_(n),"statsupgradeCard",void 0),n}n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,w(e,n);var u=s.prototype;return u.init=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.prototype.init.call(this),this.setPlayers(i.d.unlocked()),this.statsupgradeCard=new v,this.view.addChildAt(this.statsupgradeCard,0),this.doneButton=new r.c({color:r.a.PINK,text:"STR_UNLOCKABLES_DONE",height:75,width:270}),this.doneButton.onPress.add((function(){n.view.interactiveChildren=!1,n.hideStatsUpgradeCard()})),this.view.addChild(this.doneButton),this.doneButton.alpha=0,this.doneButton.visible=!1,this.statsupgradeCard.onStatUpgraded.connect((function(t){n.app.characters.upgrade(n.selectedCard.data.id,t),n.selectedCard.updateStats()})),this.onCardSelected.connect((function(t){return n.selectPlayer(t)})),this.cards.forEach((function(t){return t.onUpdated.connect((function(t){return n.updateCardCtaText(t)}))})),-1===a.g.indexOf(p.a.SCREEN_ID.STATS)?h.c.add(a.e,(function(t){t.type===a.f.SCREEN_ASSETS_LOADED&&t.screenId===p.a.SCREEN_ID.STATS&&n.onAssetsLoaded()})):this.onAssetsLoaded();case 13:case"end":return e.stop()}}),e,this)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(t){b(a,r,i,o,s,"next",t)}function s(t){b(a,r,i,o,s,"throw",t)}o(void 0)}))});return function(){return n.apply(this,arguments)}}(),u.selectPlayer=function(t){var e=this;this.selectedCard=t,this.cardsContainer.interactiveChildren=!1,this.trackpad.locked=!0,this.doneButton.alpha=0,this.doneButton.visible=!0,this.previousButton&&(this.previousButton.visible=!1,this.nextButton.visible=!1),this.cards.forEach((function(e){e!==t&&Object(c.tween)(e,.2,{alpha:0,ease:"Power1.easeOut",onComplete:function(){return e.visible=!1}})})),Object(c.tween)(t.ctaElement,.2,{alpha:0,ease:"Power1.easeOut"}),Object(c.tween)(this.cardsContainer.position,.5,{x:this.cardsContainer.originalX-340,ease:"Power1.easeOut",delay:.5,onComplete:function(){e.statsupgradeCard.show(t.data),e.view.interactiveChildren=!0}}),Object(c.tween)(this.doneButton,.2,{alpha:1,ease:"Power1.easeOut",delay:.8})},u.hideStatsUpgradeCard=function(){var t=this;this.statsupgradeCard.hide(),this.updateCardCtaText(this.selectedCard),Object(c.tween)(this.cardsContainer.position,.5,{x:this.cardsContainer.originalX,ease:"Power1.easeOut",delay:.3}),Object(c.tween)(this.doneButton,.2,{alpha:0,ease:"Power1.easeOut",onComplete:function(){t.doneButton.visible=!1}}),this.cards.forEach((function(e){e.visible=!0,e!==t.selectedCard&&Object(c.tween)(e,.2,{alpha:1,ease:"Power1.easeIn",delay:.5})})),Object(c.tween)(this.selectedCard.ctaElement,.2,{alpha:1,ease:"Power1.easeOut",delay:.5,onComplete:function(){t.cardsContainer.interactiveChildren=!0,t.view.interactiveChildren=!0,t.trackpad.locked=!1,t.trackpad.onUp(),t.previousButton&&(t.previousButton.visible=!0,t.nextButton.visible=!0)}})},u.updateCardCtaText=function(t){1===t.data.speed&&1===t.data.power&&1===t.data.skill?t.ctaElement.setText("STR_UNLOCKABLES_MAXED"):t.ctaElement.setText("STR_UNLOCKABLES_UPGRADE")},u.reset=function(){this.cardsContainer.position.x=this.cardsContainer.originalX,this.doneButton.alpha=0,this.view.interactiveChildren=!0,this.cardsContainer.interactiveChildren=!0,this.trackpad.locked=!1,this.trackpad.onUp(),this.charactersData.forEach((function(t){return t.selected=!1})),this.cards.forEach((function(t){t.visible=!0,t.alpha=1})),this.selectedCard&&(this.selectedCard.ctaElement.alpha=1),this.previousButton&&(this.previousButton.visible=!0,this.nextButton.visible=!0),this.statsupgradeCard.reset()},u.show=function(){this.charactersData=i.d.unlocked(),t.prototype.show.call(this),this.previousButton&&(this.nextButton.alpha=0,this.previousButton.alpha=0),this.assetsLoaded&&this.showContent()},u.onAssetsLoaded=function(){t.prototype.onAssetsLoaded.call(this),this.active&&this.showContent()},u.showContent=function(){this.reset(),t.prototype.showContent.call(this),this.previousButton&&this.assetsLoaded&&(Object(c.tween)(this.nextButton,.3,{alpha:1,ease:"Power1.easeOut"}),Object(c.tween)(this.previousButton,.3,{alpha:1,ease:"Power1.easeOut"}))},u.resize=function(e,n){t.prototype.resize.call(this,e,n),this.statsupgradeCard.resize(e,n),this.statsupgradeCard.position.y=this.cardsContainer.y+.01*this.cardsContainer.height,this.doneButton.position.set(e/2,n/2+this.statsupgradeCard.height/2+60)},s}(n(172).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return p}));n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35);var r,i=n(148),a=n(567),o=n(162);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=d(t);if(e){var i=d(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return h(this,n)}}function h(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function d(t){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}!function(t){t.LANDSCAPE="landscape",t.PORTRAIT="portrait",t.NONE="none"}(r||(r={}));var p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c(t,e)}(h,t);var e,n,i,s=l(h);function h(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(n=s.call(this,t,e)).orientation=(null==e?void 0:e.orientation)||r.NONE,n}return e=h,(n=[{key:"init",value:function(){if(this.orientation!==r.NONE){this._rotateImage=document.createElement("div"),this._rotateImage.id="rotateImage",this._rotateImage.style.position="absolute",this._rotateImage.style.left="0px",this._rotateImage.style.top="0px",this._rotateImage.style.width="100%",this._rotateImage.style.height="100%",this._rotateImage.style.marginLeft="auto",this._rotateImage.style.marginRight="".concat(0,"auto"),this._rotateImage.style.overflow="visible",this._rotateImage.style.display="none",this._rotateImage.style.zIndex="1000",this._rotateImage.style.backgroundImage=this.options.imageUrl?"url(".concat(this.options.imageUrl,")"):"",this._rotateImage.style.backgroundColor=this.options.backgroundColor||"#000000",this._rotateImage.style.backgroundPosition="50% 50%",this._rotateImage.style.backgroundRepeat="no-repeat",this._rotateImage.style.backgroundSize="100% auto",document.body.appendChild(this._rotateImage),this._canvas=this.app.get(o.a).canvas;var t=this.app.get(a.a);t.onResize.connect(this._toggleRotate.bind(this)),this._toggleRotate(t.width,t.height)}}},{key:"_toggleRotate",value:function(t,e){var n=this.orientation===r.LANDSCAPE?e>=t:t>=e;this._canvas.style.display=n?"none":"block",this._rotateImage.style.display=n?"block":"none",this.isCorrectOrientation=!n}}])&&u(e.prototype,n),i&&u(e,i),Object.defineProperty(e,"prototype",{writable:!1}),h}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35);var r=n(24),i=n(148);n(87),n(39),n(121),n(38),n(140),n(51);function a(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var s=new Map;var u=n(94),c=n(162);function l(t,e){return{rendererWidth:t,rendererHeight:e,canvasWidth:t,canvasHeight:e}}function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function p(t,e){return(p=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=g(t);if(e){var i=g(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return m(this,n)}}function m(t,e){if(e&&("object"===h(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function g(t){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&p(t,e)}(h,t);var e,n,i,o=f(h);function h(t,e){var n,i;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),(n=o.call(this,t,e)).onResize=new r.Signal,n._w=0,n._h=0,n.autoResize=null===(i=e.autoResize)||void 0===i||i,n.resizeFunction=(null==e?void 0:e.resizeFunction)||l,n}return e=h,(n=[{key:"prepare",value:function(){var t=this;this.autoResize&&(window.addEventListener("resize",(function(){!function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,n=arguments.length>2?arguments[2]:void 0;if(!s.has(t)){var r,i=function(){for(var i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];if(s.get(t).args=o,!r){var c=function(){r=null;var e=s.get(t).args;n?t.call.apply(t,[n].concat(a(e))):t.apply(void 0,a(e))};0===e?c():r=setTimeout(c,e)}};s.set(t,{throttledFunction:i,args:null})}return s.get(t).throttledFunction}(t.resize,u.a.desktop?0:100,t)(window.innerWidth,window.innerHeight)})),this.resize(window.innerWidth,window.innerHeight))}},{key:"resolution",get:function(){return this.app.get(c.a).renderer.resolution},set:function(t){var e=this.app.get(c.a).renderer;e.resolution=t,e.plugins.interaction.resolution=t,this.resize(this._w,this._h,!0)}},{key:"resize",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this.app.get(c.a).renderer,i=this.resizeFunction(t,e);if(n||this._w!==i.rendererWidth||this._h!==i.rendererHeight){this._w=i.rendererWidth,this._h=i.rendererHeight;var a=this.app.get(c.a).canvas;a.style.width="".concat(i.canvasWidth,"px"),a.style.height="".concat(i.canvasHeight,"px"),window.scrollTo(0,0),r.resize(this.w,this.h),this.onResize.emit(this.w,this.h)}}},{key:"w",get:function(){return this._w}},{key:"h",get:function(){return this._h}},{key:"width",get:function(){return this._w}},{key:"height",get:function(){return this._h}}])&&d(e.prototype,n),i&&d(e,i),Object.defineProperty(e,"prototype",{writable:!1}),h}(i.a)},,,,,,function(t,e,n){var r=n(54),i=n(282),a=r.WeakMap;t.exports="function"==typeof a&&/native code/.test(i(a))},function(t,e,n){"use strict";var r=n(277),i=n(205);t.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},function(t,e,n){var r=n(98);t.exports=function(t){if(!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype");return t}},function(t,e,n){var r,i,a,o,s,u,c,l,h=n(54),d=n(138).f,p=n(462).set,f=n(464),m=n(577),g=n(287),y=h.MutationObserver||h.WebKitMutationObserver,v=h.document,b=h.process,_=h.Promise,w=d(h,"queueMicrotask"),x=w&&w.value;x||(r=function(){var t,e;for(g&&(t=b.domain)&&t.exit();i;){e=i.fn,i=i.next;try{e()}catch(t){throw i?o():a=void 0,t}}a=void 0,t&&t.enter()},f||g||m||!y||!v?_&&_.resolve?((c=_.resolve(void 0)).constructor=_,l=c.then,o=function(){l.call(c,r)}):o=g?function(){b.nextTick(r)}:function(){p.call(h,r)}:(s=!0,u=v.createTextNode(""),new y(r).observe(u,{characterData:!0}),o=function(){u.data=s=!s})),t.exports=x||function(t){var e={fn:t,next:void 0};a&&(a.next=e),i||(i=e,o()),a=e}},function(t,e,n){var r=n(229);t.exports=/web0s(?!.*chrome)/i.test(r)},function(t,e,n){var r=n(54);t.exports=function(t,e){var n=r.console;n&&n.error&&(1===arguments.length?n.error(t):n.error(t,e))}},function(t,e){t.exports=function(t){try{return{error:!1,value:t()}}catch(t){return{error:!0,value:t}}}},function(t,e){function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports="object"==("undefined"==typeof window?"undefined":n(window))},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}},function(t,e,n){var r=n(102),i=n(461);t.exports=function(t,e,n,a){try{return a?e(r(n)[0],n[1]):e(n)}catch(e){throw i(t),e}}},function(t,e,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=n(131),a=n(179).f,o={}.toString,s="object"==("undefined"==typeof window?"undefined":r(window))&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return s&&"[object Window]"==o.call(t)?function(t){try{return a(t)}catch(t){return s.slice()}}(t):a(i(t))}},function(t,e,n){"use strict";var r=n(122).forEach,i=n(235)("forEach");t.exports=i?[].forEach:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,n){var r=n(41),i=n(50),a=Math.imul;r({target:"Math",stat:!0,forced:i((function(){return-5!=a(4294967295,5)||2!=a.length}))},{imul:function(t,e){var n=+t,r=+e,i=65535&n,a=65535&r;return 0|i*a+((65535&n>>>16)*a+i*(65535&r>>>16)<<16>>>0)}})},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,i=Function.prototype.apply;function a(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(587),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(202))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,i,a,o,s,u=1,c={},l=!1,h=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){f(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((a=new MessageChannel).port1.onmessage=function(t){f(t.data)},r=function(t){a.port2.postMessage(t)}):h&&"onreadystatechange"in h.createElement("script")?(i=h.documentElement,r=function(t){var e=h.createElement("script");e.onreadystatechange=function(){f(t),e.onreadystatechange=null,i.removeChild(e),e=null},i.appendChild(e)}):r=function(t){setTimeout(f,0,t)}:(o="setImmediate$"+Math.random()+"$",s=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(o)&&f(+e.data.slice(o.length))},t.addEventListener?t.addEventListener("message",s,!1):t.attachEvent("onmessage",s),r=function(e){t.postMessage(o+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var i={callback:t,args:e};return c[u]=i,r(u),u++},d.clearImmediate=p}function p(t){delete c[t]}function f(t){if(l)setTimeout(f,0,t);else{var e=c[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{p(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(202),n(475))},function(t,e,n){"use strict";var r=n(41),i=n(152),a=n(460),o=n(50),s=n(153),u=n(182),c=n(465),l=n(118);if(r({target:"Promise",proto:!0,real:!0,forced:!!a&&o((function(){a.prototype.finally.call({then:function(){}},(function(){}))}))},{finally:function(t){var e=u(this,s("Promise")),n="function"==typeof t;return this.then(n?function(n){return c(e,t()).then((function(){return n}))}:t,n?function(n){return c(e,t()).then((function(){throw n}))}:t)}}),!i&&"function"==typeof a){var h=s("Promise").prototype.finally;a.prototype.finally!==h&&l(a.prototype,"finally",h,{unsafe:!0})}},function(t,e,n){(function(t,r){var i;function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(o){var s="object"==a(e)&&e&&!e.nodeType&&e,u="object"==a(t)&&t&&!t.nodeType&&t,c="object"==(void 0===r?"undefined":a(r))&&r;c.global!==c&&c.window!==c&&c.self!==c||(o=c);var l,h,d=2147483647,p=/^xn--/,f=/[^\x20-\x7E]/,m=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},y=Math.floor,v=String.fromCharCode;function b(t){throw RangeError(g[t])}function _(t,e){for(var n=t.length,r=[];n--;)r[n]=e(t[n]);return r}function w(t,e){var n=t.split("@"),r="";return n.length>1&&(r=n[0]+"@",t=n[1]),r+_((t=t.replace(m,".")).split("."),e).join(".")}function x(t){for(var e,n,r=[],i=0,a=t.length;i<a;)(e=t.charCodeAt(i++))>=55296&&e<=56319&&i<a?56320==(64512&(n=t.charCodeAt(i++)))?r.push(((1023&e)<<10)+(1023&n)+65536):(r.push(e),i--):r.push(e);return r}function S(t){return _(t,(function(t){var e="";return t>65535&&(e+=v((t-=65536)>>>10&1023|55296),t=56320|1023&t),e+=v(t)})).join("")}function T(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function M(t,e,n){var r=0;for(t=n?y(t/700):t>>1,t+=y(t/e);t>455;r+=36)t=y(t/35);return y(r+36*t/(t+38))}function E(t){var e,n,r,i,a,o,s,u,c,l,h,p=[],f=t.length,m=0,g=128,v=72;for((n=t.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)t.charCodeAt(r)>=128&&b("not-basic"),p.push(t.charCodeAt(r));for(i=n>0?n+1:0;i<f;){for(a=m,o=1,s=36;i>=f&&b("invalid-input"),((u=(h=t.charCodeAt(i++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||u>y((d-m)/o))&&b("overflow"),m+=u*o,!(u<(c=s<=v?1:s>=v+26?26:s-v));s+=36)o>y(d/(l=36-c))&&b("overflow"),o*=l;v=M(m-a,e=p.length+1,0==a),y(m/e)>d-g&&b("overflow"),g+=y(m/e),m%=e,p.splice(m++,0,g)}return S(p)}function A(t){var e,n,r,i,a,o,s,u,c,l,h,p,f,m,g,_=[];for(p=(t=x(t)).length,e=128,n=0,a=72,o=0;o<p;++o)(h=t[o])<128&&_.push(v(h));for(r=i=_.length,i&&_.push("-");r<p;){for(s=d,o=0;o<p;++o)(h=t[o])>=e&&h<s&&(s=h);for(s-e>y((d-n)/(f=r+1))&&b("overflow"),n+=(s-e)*f,e=s,o=0;o<p;++o)if((h=t[o])<e&&++n>d&&b("overflow"),h==e){for(u=n,c=36;!(u<(l=c<=a?1:c>=a+26?26:c-a));c+=36)g=u-l,m=36-l,_.push(v(T(l+g%m,0))),u=y(g/m);_.push(v(T(u,0))),a=M(n,f,r==i),n=0,++r}++n,++e}return _.join("")}if(l={version:"1.3.2",ucs2:{decode:x,encode:S},decode:E,encode:A,toASCII:function(t){return w(t,(function(t){return f.test(t)?"xn--"+A(t):t}))},toUnicode:function(t){return w(t,(function(t){return p.test(t)?E(t.slice(4).toLowerCase()):t}))}},"object"==a(n(154))&&n(154))void 0===(i=function(){return l}.call(e,n,e,t))||(t.exports=i);else if(s&&u)if(t.exports==s)u.exports=l;else for(h in l)l.hasOwnProperty(h)&&(s[h]=l[h]);else o.punycode=l}(this)}).call(this,n(136)(t),n(202))},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"===r(t)&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e,n){"use strict";e.decode=e.parse=n(592),e.encode=e.stringify=n(593)},function(t,e,n){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,a){e=e||"&",n=n||"=";var o={};if("string"!=typeof t||0===t.length)return o;var s=/\+/g;t=t.split(e);var u=1e3;a&&"number"==typeof a.maxKeys&&(u=a.maxKeys);var c=t.length;u>0&&c>u&&(c=u);for(var l=0;l<c;++l){var h,d,p,f,m=t[l].replace(s,"%20"),g=m.indexOf(n);g>=0?(h=m.substr(0,g),d=m.substr(g+1)):(h=m,d=""),p=decodeURIComponent(h),f=decodeURIComponent(d),r(o,p)?i(o[p])?o[p].push(f):o[p]=[o[p],f]:o[p]=f}return o};var i=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i=function(t){switch(r(t)){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,u){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"===r(t)?o(s(t),(function(r){var s=encodeURIComponent(i(r))+n;return a(t[r])?o(t[r],(function(t){return s+encodeURIComponent(i(t))})).join(e):s+encodeURIComponent(i(t[r]))})).join(e):u?encodeURIComponent(i(u))+n+encodeURIComponent(i(t)):""};var a=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function o(t,e){if(t.map)return t.map(e);for(var n=[],r=0;r<t.length;r++)n.push(e(t[r],r));return n}var s=Object.keys||function(t){var e=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.push(n);return e}},function(t,e,n){"use strict";var r=n(165),i=n(98),a=[].slice,o={},s=function(t,e,n){if(!(e in o)){for(var r=[],i=0;i<e;i++)r[i]="a["+i+"]";o[e]=Function("C,a","return new C("+r.join(",")+")")}return o[e](t,n)};t.exports=Function.bind||function(t){var e=r(this),n=a.call(arguments,1),o=function(){var r=n.concat(a.call(arguments));return this instanceof o?s(e,r.length,r):e.apply(t,r)};return i(e.prototype)&&(o.prototype=e.prototype),o}},function(t,e,n){(function(t){var e,n,r,i=this&&this.__extends||(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,n)},function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});!function(t){!function(t){var e,n,r,a=function(){function t(t,e,n){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.timelineIds=[];for(var r=0;r<e.length;r++)this.timelineIds[e[r].getPropertyId()]=!0;this.duration=n}return t.prototype.hasTimeline=function(t){return 1==this.timelineIds[t]},t.prototype.apply=function(t,e,n,r,i,a,o,s){if(null==t)throw new Error("skeleton cannot be null.");r&&0!=this.duration&&(n%=this.duration,e>0&&(e%=this.duration));for(var u=this.timelines,c=0,l=u.length;c<l;c++)u[c].apply(t,e,n,i,a,o,s)},t.binarySearch=function(t,e,n){void 0===n&&(n=1);var r=0,i=t.length/n-2;if(0==i)return n;for(var a=i>>>1;;){if(t[(a+1)*n]<=e?r=a+1:i=a,r==i)return(r+1)*n;a=r+i>>>1}},t.linearSearch=function(t,e,n){for(var r=0,i=t.length-n;r<=i;r+=n)if(t[r]>e)return r;return-1},t}();t.Animation=a,function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"}(e=t.MixBlend||(t.MixBlend={})),function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"}(n=t.MixDirection||(t.MixDirection={})),function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"}(r=t.TimelineType||(t.TimelineType={}));var o=function(){function e(n){if(n<=0)throw new Error("frameCount must be > 0: "+n);this.curves=t.Utils.newFloatArray((n-1)*e.BEZIER_SIZE)}return e.prototype.getFrameCount=function(){return this.curves.length/e.BEZIER_SIZE+1},e.prototype.setLinear=function(t){this.curves[t*e.BEZIER_SIZE]=e.LINEAR},e.prototype.setStepped=function(t){this.curves[t*e.BEZIER_SIZE]=e.STEPPED},e.prototype.getCurveType=function(t){var n=t*e.BEZIER_SIZE;if(n==this.curves.length)return e.LINEAR;var r=this.curves[n];return r==e.LINEAR?e.LINEAR:r==e.STEPPED?e.STEPPED:e.BEZIER},e.prototype.setCurve=function(t,n,r,i,a){var o=.03*(2*-n+i),s=.03*(2*-r+a),u=.006*(3*(n-i)+1),c=.006*(3*(r-a)+1),l=2*o+u,h=2*s+c,d=.3*n+o+.16666667*u,p=.3*r+s+.16666667*c,f=t*e.BEZIER_SIZE,m=this.curves;m[f++]=e.BEZIER;for(var g=d,y=p,v=f+e.BEZIER_SIZE-1;f<v;f+=2)m[f]=g,m[f+1]=y,d+=l,p+=h,l+=u,h+=c,g+=d,y+=p},e.prototype.getCurvePercent=function(n,r){r=t.MathUtils.clamp(r,0,1);var i=this.curves,a=n*e.BEZIER_SIZE,o=i[a];if(o==e.LINEAR)return r;if(o==e.STEPPED)return 0;for(var s=0,u=++a,c=a+e.BEZIER_SIZE-1;a<c;a+=2)if((s=i[a])>=r){var l=void 0,h=void 0;return a==u?(l=0,h=0):(l=i[a-2],h=i[a-1]),h+(i[a+1]-h)*(r-l)/(s-l)}var d=i[a-1];return d+(1-d)*(r-s)/(1-s)},e.LINEAR=0,e.STEPPED=1,e.BEZIER=2,e.BEZIER_SIZE=19,e}();t.CurveTimeline=o;var s=function(n){function o(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e<<1),r}return i(o,n),o.prototype.getPropertyId=function(){return(r.rotate<<24)+this.boneIndex},o.prototype.setFrame=function(t,e,n){t<<=1,this.frames[t]=e,this.frames[t+o.ROTATION]=n},o.prototype.apply=function(t,n,r,i,s,u,c){var l=this.frames,h=t.bones[this.boneIndex];if(h.active)if(r<l[0])switch(u){case e.setup:return void(h.rotation=h.data.rotation);case e.first:var d=h.data.rotation-h.rotation;h.rotation+=(d-360*(16384-(16384.499999999996-d/360|0)))*s}else if(r>=l[l.length-o.ENTRIES]){var p=l[l.length+o.PREV_ROTATION];switch(u){case e.setup:h.rotation=h.data.rotation+p*s;break;case e.first:case e.replace:p+=h.data.rotation-h.rotation,p-=360*(16384-(16384.499999999996-p/360|0));case e.add:h.rotation+=p*s}}else{var f=a.binarySearch(l,r,o.ENTRIES),m=l[f+o.PREV_ROTATION],g=l[f],y=this.getCurvePercent((f>>1)-1,1-(r-g)/(l[f+o.PREV_TIME]-g)),v=l[f+o.ROTATION]-m;switch(v=m+(v-360*(16384-(16384.499999999996-v/360|0)))*y,u){case e.setup:h.rotation=h.data.rotation+(v-360*(16384-(16384.499999999996-v/360|0)))*s;break;case e.first:case e.replace:v+=h.data.rotation-h.rotation;case e.add:h.rotation+=(v-360*(16384-(16384.499999999996-v/360|0)))*s}}},o.ENTRIES=2,o.PREV_TIME=-2,o.PREV_ROTATION=-1,o.ROTATION=1,o}(o);t.RotateTimeline=s;var u=function(n){function o(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e*o.ENTRIES),r}return i(o,n),o.prototype.getPropertyId=function(){return(r.translate<<24)+this.boneIndex},o.prototype.setFrame=function(t,e,n,r){t*=o.ENTRIES,this.frames[t]=e,this.frames[t+o.X]=n,this.frames[t+o.Y]=r},o.prototype.apply=function(t,n,r,i,s,u,c){var l=this.frames,h=t.bones[this.boneIndex];if(h.active)if(r<l[0])switch(u){case e.setup:return h.x=h.data.x,void(h.y=h.data.y);case e.first:h.x+=(h.data.x-h.x)*s,h.y+=(h.data.y-h.y)*s}else{var d=0,p=0;if(r>=l[l.length-o.ENTRIES])d=l[l.length+o.PREV_X],p=l[l.length+o.PREV_Y];else{var f=a.binarySearch(l,r,o.ENTRIES);d=l[f+o.PREV_X],p=l[f+o.PREV_Y];var m=l[f],g=this.getCurvePercent(f/o.ENTRIES-1,1-(r-m)/(l[f+o.PREV_TIME]-m));d+=(l[f+o.X]-d)*g,p+=(l[f+o.Y]-p)*g}switch(u){case e.setup:h.x=h.data.x+d*s,h.y=h.data.y+p*s;break;case e.first:case e.replace:h.x+=(h.data.x+d-h.x)*s,h.y+=(h.data.y+p-h.y)*s;break;case e.add:h.x+=d*s,h.y+=p*s}}},o.ENTRIES=3,o.PREV_TIME=-3,o.PREV_X=-2,o.PREV_Y=-1,o.X=1,o.Y=2,o}(o);t.TranslateTimeline=u;var c=function(o){function s(t){return o.call(this,t)||this}return i(s,o),s.prototype.getPropertyId=function(){return(r.scale<<24)+this.boneIndex},s.prototype.apply=function(r,i,o,u,c,l,h){var d=this.frames,p=r.bones[this.boneIndex];if(p.active)if(o<d[0])switch(l){case e.setup:return p.scaleX=p.data.scaleX,void(p.scaleY=p.data.scaleY);case e.first:p.scaleX+=(p.data.scaleX-p.scaleX)*c,p.scaleY+=(p.data.scaleY-p.scaleY)*c}else{var f=0,m=0;if(o>=d[d.length-s.ENTRIES])f=d[d.length+s.PREV_X]*p.data.scaleX,m=d[d.length+s.PREV_Y]*p.data.scaleY;else{var g=a.binarySearch(d,o,s.ENTRIES);f=d[g+s.PREV_X],m=d[g+s.PREV_Y];var y=d[g],v=this.getCurvePercent(g/s.ENTRIES-1,1-(o-y)/(d[g+s.PREV_TIME]-y));f=(f+(d[g+s.X]-f)*v)*p.data.scaleX,m=(m+(d[g+s.Y]-m)*v)*p.data.scaleY}if(1==c)l==e.add?(p.scaleX+=f-p.data.scaleX,p.scaleY+=m-p.data.scaleY):(p.scaleX=f,p.scaleY=m);else{var b=0,_=0;if(h==n.mixOut)switch(l){case e.setup:b=p.data.scaleX,_=p.data.scaleY,p.scaleX=b+(Math.abs(f)*t.MathUtils.signum(b)-b)*c,p.scaleY=_+(Math.abs(m)*t.MathUtils.signum(_)-_)*c;break;case e.first:case e.replace:b=p.scaleX,_=p.scaleY,p.scaleX=b+(Math.abs(f)*t.MathUtils.signum(b)-b)*c,p.scaleY=_+(Math.abs(m)*t.MathUtils.signum(_)-_)*c;break;case e.add:b=p.scaleX,_=p.scaleY,p.scaleX=b+(Math.abs(f)*t.MathUtils.signum(b)-p.data.scaleX)*c,p.scaleY=_+(Math.abs(m)*t.MathUtils.signum(_)-p.data.scaleY)*c}else switch(l){case e.setup:b=Math.abs(p.data.scaleX)*t.MathUtils.signum(f),_=Math.abs(p.data.scaleY)*t.MathUtils.signum(m),p.scaleX=b+(f-b)*c,p.scaleY=_+(m-_)*c;break;case e.first:case e.replace:b=Math.abs(p.scaleX)*t.MathUtils.signum(f),_=Math.abs(p.scaleY)*t.MathUtils.signum(m),p.scaleX=b+(f-b)*c,p.scaleY=_+(m-_)*c;break;case e.add:b=t.MathUtils.signum(f),_=t.MathUtils.signum(m),p.scaleX=Math.abs(p.scaleX)*b+(f-Math.abs(p.data.scaleX)*b)*c,p.scaleY=Math.abs(p.scaleY)*_+(m-Math.abs(p.data.scaleY)*_)*c}}}},s}(u);t.ScaleTimeline=c;var l=function(t){function n(e){return t.call(this,e)||this}return i(n,t),n.prototype.getPropertyId=function(){return(r.shear<<24)+this.boneIndex},n.prototype.apply=function(t,r,i,o,s,u,c){var l=this.frames,h=t.bones[this.boneIndex];if(h.active)if(i<l[0])switch(u){case e.setup:return h.shearX=h.data.shearX,void(h.shearY=h.data.shearY);case e.first:h.shearX+=(h.data.shearX-h.shearX)*s,h.shearY+=(h.data.shearY-h.shearY)*s}else{var d=0,p=0;if(i>=l[l.length-n.ENTRIES])d=l[l.length+n.PREV_X],p=l[l.length+n.PREV_Y];else{var f=a.binarySearch(l,i,n.ENTRIES);d=l[f+n.PREV_X],p=l[f+n.PREV_Y];var m=l[f],g=this.getCurvePercent(f/n.ENTRIES-1,1-(i-m)/(l[f+n.PREV_TIME]-m));d+=(l[f+n.X]-d)*g,p+=(l[f+n.Y]-p)*g}switch(u){case e.setup:h.shearX=h.data.shearX+d*s,h.shearY=h.data.shearY+p*s;break;case e.first:case e.replace:h.shearX+=(h.data.shearX+d-h.shearX)*s,h.shearY+=(h.data.shearY+p-h.shearY)*s;break;case e.add:h.shearX+=d*s,h.shearY+=p*s}}},n}(u);t.ShearTimeline=l;var h=function(n){function o(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e*o.ENTRIES),r}return i(o,n),o.prototype.getPropertyId=function(){return(r.color<<24)+this.slotIndex},o.prototype.setFrame=function(t,e,n,r,i,a){t*=o.ENTRIES,this.frames[t]=e,this.frames[t+o.R]=n,this.frames[t+o.G]=r,this.frames[t+o.B]=i,this.frames[t+o.A]=a},o.prototype.apply=function(t,n,r,i,s,u,c){var l=t.slots[this.slotIndex];if(l.bone.active){var h=this.frames;if(r<h[0])switch(u){case e.setup:return void l.color.setFromColor(l.data.color);case e.first:var d=l.color,p=l.data.color;d.add((p.r-d.r)*s,(p.g-d.g)*s,(p.b-d.b)*s,(p.a-d.a)*s)}else{var f=0,m=0,g=0,y=0;if(r>=h[h.length-o.ENTRIES]){var v=h.length;f=h[v+o.PREV_R],m=h[v+o.PREV_G],g=h[v+o.PREV_B],y=h[v+o.PREV_A]}else{var b=a.binarySearch(h,r,o.ENTRIES);f=h[b+o.PREV_R],m=h[b+o.PREV_G],g=h[b+o.PREV_B],y=h[b+o.PREV_A];var _=h[b],w=this.getCurvePercent(b/o.ENTRIES-1,1-(r-_)/(h[b+o.PREV_TIME]-_));f+=(h[b+o.R]-f)*w,m+=(h[b+o.G]-m)*w,g+=(h[b+o.B]-g)*w,y+=(h[b+o.A]-y)*w}if(1==s)l.color.set(f,m,g,y);else{d=l.color;u==e.setup&&d.setFromColor(l.data.color),d.add((f-d.r)*s,(m-d.g)*s,(g-d.b)*s,(y-d.a)*s)}}}},o.ENTRIES=5,o.PREV_TIME=-5,o.PREV_R=-4,o.PREV_G=-3,o.PREV_B=-2,o.PREV_A=-1,o.R=1,o.G=2,o.B=3,o.A=4,o}(o);t.ColorTimeline=h;var d=function(n){function o(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e*o.ENTRIES),r}return i(o,n),o.prototype.getPropertyId=function(){return(r.twoColor<<24)+this.slotIndex},o.prototype.setFrame=function(t,e,n,r,i,a,s,u,c){t*=o.ENTRIES,this.frames[t]=e,this.frames[t+o.R]=n,this.frames[t+o.G]=r,this.frames[t+o.B]=i,this.frames[t+o.A]=a,this.frames[t+o.R2]=s,this.frames[t+o.G2]=u,this.frames[t+o.B2]=c},o.prototype.apply=function(t,n,r,i,s,u,c){var l=t.slots[this.slotIndex];if(l.bone.active){var h=this.frames;if(r<h[0])switch(u){case e.setup:return l.color.setFromColor(l.data.color),void l.darkColor.setFromColor(l.data.darkColor);case e.first:var d=l.color,p=l.darkColor,f=l.data.color,m=l.data.darkColor;d.add((f.r-d.r)*s,(f.g-d.g)*s,(f.b-d.b)*s,(f.a-d.a)*s),p.add((m.r-p.r)*s,(m.g-p.g)*s,(m.b-p.b)*s,0)}else{var g=0,y=0,v=0,b=0,_=0,w=0,x=0;if(r>=h[h.length-o.ENTRIES]){var S=h.length;g=h[S+o.PREV_R],y=h[S+o.PREV_G],v=h[S+o.PREV_B],b=h[S+o.PREV_A],_=h[S+o.PREV_R2],w=h[S+o.PREV_G2],x=h[S+o.PREV_B2]}else{var T=a.binarySearch(h,r,o.ENTRIES);g=h[T+o.PREV_R],y=h[T+o.PREV_G],v=h[T+o.PREV_B],b=h[T+o.PREV_A],_=h[T+o.PREV_R2],w=h[T+o.PREV_G2],x=h[T+o.PREV_B2];var M=h[T],E=this.getCurvePercent(T/o.ENTRIES-1,1-(r-M)/(h[T+o.PREV_TIME]-M));g+=(h[T+o.R]-g)*E,y+=(h[T+o.G]-y)*E,v+=(h[T+o.B]-v)*E,b+=(h[T+o.A]-b)*E,_+=(h[T+o.R2]-_)*E,w+=(h[T+o.G2]-w)*E,x+=(h[T+o.B2]-x)*E}if(1==s)l.color.set(g,y,v,b),l.darkColor.set(_,w,x,1);else{d=l.color,p=l.darkColor;u==e.setup&&(d.setFromColor(l.data.color),p.setFromColor(l.data.darkColor)),d.add((g-d.r)*s,(y-d.g)*s,(v-d.b)*s,(b-d.a)*s),p.add((_-p.r)*s,(w-p.g)*s,(x-p.b)*s,0)}}}},o.ENTRIES=8,o.PREV_TIME=-8,o.PREV_R=-7,o.PREV_G=-6,o.PREV_B=-5,o.PREV_A=-4,o.PREV_R2=-3,o.PREV_G2=-2,o.PREV_B2=-1,o.R=1,o.G=2,o.B=3,o.A=4,o.R2=5,o.G2=6,o.B2=7,o}(o);t.TwoColorTimeline=d;var p=function(){function i(e){this.frames=t.Utils.newFloatArray(e),this.attachmentNames=new Array(e)}return i.prototype.getPropertyId=function(){return(r.attachment<<24)+this.slotIndex},i.prototype.getFrameCount=function(){return this.frames.length},i.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n},i.prototype.apply=function(t,r,i,o,s,u,c){var l=t.slots[this.slotIndex];if(l.bone.active)if(c!=n.mixOut){var h=this.frames;if(i<h[0])u!=e.setup&&u!=e.first||this.setAttachment(t,l,l.data.attachmentName);else{var d=0;d=i>=h[h.length-1]?h.length-1:a.binarySearch(h,i,1)-1;var p=this.attachmentNames[d];t.slots[this.slotIndex].setAttachment(null==p?null:t.getAttachment(this.slotIndex,p))}}else u==e.setup&&this.setAttachment(t,l,l.data.attachmentName)},i.prototype.setAttachment=function(t,e,n){e.attachment=null==n?null:t.getAttachment(this.slotIndex,n)},i}();t.AttachmentTimeline=p;var f=null,m=function(n){function o(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e),r.frameVertices=new Array(e),null==f&&(f=t.Utils.newFloatArray(64)),r}return i(o,n),o.prototype.getPropertyId=function(){return(r.deform<<27)+ +this.attachment.id+this.slotIndex},o.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.frameVertices[t]=n},o.prototype.apply=function(n,r,i,o,s,u,c){var l=n.slots[this.slotIndex];if(l.bone.active){var h=l.getAttachment();if(h instanceof t.VertexAttachment&&h.deformAttachment==this.attachment){var d=l.deform;0==d.length&&(u=e.setup);var p=this.frameVertices,f=p[0].length,m=this.frames;if(i<m[0]){var g=h;switch(u){case e.setup:return void(d.length=0);case e.first:if(1==s){d.length=0;break}var y=t.Utils.setArraySize(d,f);if(null==g.bones)for(var v=g.vertices,b=0;b<f;b++)y[b]+=(v[b]-y[b])*s;else{s=1-s;for(b=0;b<f;b++)y[b]*=s}}}else{var _=t.Utils.setArraySize(d,f);if(i>=m[m.length-1]){var w=p[m.length-1];if(1==s)if(u==e.add)if(null==(g=h).bones){v=g.vertices;for(var x=0;x<f;x++)_[x]+=w[x]-v[x]}else for(var S=0;S<f;S++)_[S]+=w[S];else t.Utils.arrayCopy(w,0,_,0,f);else switch(u){case e.setup:var T=h;if(null==T.bones){v=T.vertices;for(var M=0;M<f;M++){var E=v[M];_[M]=E+(w[M]-E)*s}}else for(var A=0;A<f;A++)_[A]=w[A]*s;break;case e.first:case e.replace:for(var k=0;k<f;k++)_[k]+=(w[k]-_[k])*s;break;case e.add:if(null==(g=h).bones){v=g.vertices;for(var C=0;C<f;C++)_[C]+=(w[C]-v[C])*s}else for(var O=0;O<f;O++)_[O]+=w[O]*s}}else{var L=a.binarySearch(m,i),R=p[L-1],P=p[L],D=m[L],I=this.getCurvePercent(L-1,1-(i-D)/(m[L-1]-D));if(1==s)if(u==e.add)if(null==(g=h).bones){v=g.vertices;for(var B=0;B<f;B++){var N=R[B];_[B]+=N+(P[B]-N)*I-v[B]}}else for(var j=0;j<f;j++){N=R[j];_[j]+=N+(P[j]-N)*I}else for(var F=0;F<f;F++){N=R[F];_[F]=N+(P[F]-N)*I}else switch(u){case e.setup:var U=h;if(null==U.bones){v=U.vertices;for(var Y=0;Y<f;Y++){N=R[Y],E=v[Y];_[Y]=E+(N+(P[Y]-N)*I-E)*s}}else for(var G=0;G<f;G++){N=R[G];_[G]=(N+(P[G]-N)*I)*s}break;case e.first:case e.replace:for(var H=0;H<f;H++){N=R[H];_[H]+=(N+(P[H]-N)*I-_[H])*s}break;case e.add:if(null==(g=h).bones){v=g.vertices;for(var z=0;z<f;z++){N=R[z];_[z]+=(N+(P[z]-N)*I-v[z])*s}}else for(var V=0;V<f;V++){N=R[V];_[V]+=(N+(P[V]-N)*I)*s}}}}}}},o}(o);t.DeformTimeline=m;var g=function(){function e(e){this.frames=t.Utils.newFloatArray(e),this.events=new Array(e)}return e.prototype.getPropertyId=function(){return r.event<<24},e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},e.prototype.apply=function(t,e,n,r,i,o,s){if(null!=r){var u=this.frames,c=this.frames.length;if(e>n)this.apply(t,e,Number.MAX_VALUE,r,i,o,s),e=-1;else if(e>=u[c-1])return;if(!(n<u[0])){var l=0;if(e<u[0])l=0;else for(var h=u[l=a.binarySearch(u,e)];l>0&&u[l-1]==h;)l--;for(;l<c&&n>=u[l];l++)r.push(this.events[l])}}},e}();t.EventTimeline=g;var y=function(){function i(e){this.frames=t.Utils.newFloatArray(e),this.drawOrders=new Array(e)}return i.prototype.getPropertyId=function(){return r.drawOrder<<24},i.prototype.getFrameCount=function(){return this.frames.length},i.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n},i.prototype.apply=function(r,i,o,s,u,c,l){var h=r.drawOrder,d=r.slots;if(l!=n.mixOut||c!=e.setup){var p=this.frames;if(o<p[0])c!=e.setup&&c!=e.first||t.Utils.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);else{var f=0;f=o>=p[p.length-1]?p.length-1:a.binarySearch(p,o)-1;var m=this.drawOrders[f];if(null==m)t.Utils.arrayCopy(d,0,h,0,d.length);else for(var g=0,y=m.length;g<y;g++)h[g]=d[m[g]]}}else t.Utils.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length)},i}();t.DrawOrderTimeline=y;var v=function(o){function s(e){var n=o.call(this,e)||this;return n.frames=t.Utils.newFloatArray(e*s.ENTRIES),n}return i(s,o),s.prototype.getPropertyId=function(){return(r.ikConstraint<<24)+this.ikConstraintIndex},s.prototype.setFrame=function(t,e,n,r,i,a,o){t*=s.ENTRIES,this.frames[t]=e,this.frames[t+s.MIX]=n,this.frames[t+s.SOFTNESS]=r,this.frames[t+s.BEND_DIRECTION]=i,this.frames[t+s.COMPRESS]=a?1:0,this.frames[t+s.STRETCH]=o?1:0},s.prototype.apply=function(t,r,i,o,u,c,l){var h=this.frames,d=t.ikConstraints[this.ikConstraintIndex];if(d.active)if(i<h[0])switch(c){case e.setup:return d.mix=d.data.mix,d.softness=d.data.softness,d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,void(d.stretch=d.data.stretch);case e.first:d.mix+=(d.data.mix-d.mix)*u,d.softness+=(d.data.softness-d.softness)*u,d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch}else if(i>=h[h.length-s.ENTRIES])c==e.setup?(d.mix=d.data.mix+(h[h.length+s.PREV_MIX]-d.data.mix)*u,d.softness=d.data.softness+(h[h.length+s.PREV_SOFTNESS]-d.data.softness)*u,l==n.mixOut?(d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch):(d.bendDirection=h[h.length+s.PREV_BEND_DIRECTION],d.compress=0!=h[h.length+s.PREV_COMPRESS],d.stretch=0!=h[h.length+s.PREV_STRETCH])):(d.mix+=(h[h.length+s.PREV_MIX]-d.mix)*u,d.softness+=(h[h.length+s.PREV_SOFTNESS]-d.softness)*u,l==n.mixIn&&(d.bendDirection=h[h.length+s.PREV_BEND_DIRECTION],d.compress=0!=h[h.length+s.PREV_COMPRESS],d.stretch=0!=h[h.length+s.PREV_STRETCH]));else{var p=a.binarySearch(h,i,s.ENTRIES),f=h[p+s.PREV_MIX],m=h[p+s.PREV_SOFTNESS],g=h[p],y=this.getCurvePercent(p/s.ENTRIES-1,1-(i-g)/(h[p+s.PREV_TIME]-g));c==e.setup?(d.mix=d.data.mix+(f+(h[p+s.MIX]-f)*y-d.data.mix)*u,d.softness=d.data.softness+(m+(h[p+s.SOFTNESS]-m)*y-d.data.softness)*u,l==n.mixOut?(d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch):(d.bendDirection=h[p+s.PREV_BEND_DIRECTION],d.compress=0!=h[p+s.PREV_COMPRESS],d.stretch=0!=h[p+s.PREV_STRETCH])):(d.mix+=(f+(h[p+s.MIX]-f)*y-d.mix)*u,d.softness+=(m+(h[p+s.SOFTNESS]-m)*y-d.softness)*u,l==n.mixIn&&(d.bendDirection=h[p+s.PREV_BEND_DIRECTION],d.compress=0!=h[p+s.PREV_COMPRESS],d.stretch=0!=h[p+s.PREV_STRETCH]))}},s.ENTRIES=6,s.PREV_TIME=-6,s.PREV_MIX=-5,s.PREV_SOFTNESS=-4,s.PREV_BEND_DIRECTION=-3,s.PREV_COMPRESS=-2,s.PREV_STRETCH=-1,s.MIX=1,s.SOFTNESS=2,s.BEND_DIRECTION=3,s.COMPRESS=4,s.STRETCH=5,s}(o);t.IkConstraintTimeline=v;var b=function(n){function o(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e*o.ENTRIES),r}return i(o,n),o.prototype.getPropertyId=function(){return(r.transformConstraint<<24)+this.transformConstraintIndex},o.prototype.setFrame=function(t,e,n,r,i,a){t*=o.ENTRIES,this.frames[t]=e,this.frames[t+o.ROTATE]=n,this.frames[t+o.TRANSLATE]=r,this.frames[t+o.SCALE]=i,this.frames[t+o.SHEAR]=a},o.prototype.apply=function(t,n,r,i,s,u,c){var l=this.frames,h=t.transformConstraints[this.transformConstraintIndex];if(h.active)if(r<l[0]){var d=h.data;switch(u){case e.setup:return h.rotateMix=d.rotateMix,h.translateMix=d.translateMix,h.scaleMix=d.scaleMix,void(h.shearMix=d.shearMix);case e.first:h.rotateMix+=(d.rotateMix-h.rotateMix)*s,h.translateMix+=(d.translateMix-h.translateMix)*s,h.scaleMix+=(d.scaleMix-h.scaleMix)*s,h.shearMix+=(d.shearMix-h.shearMix)*s}}else{var p=0,f=0,m=0,g=0;if(r>=l[l.length-o.ENTRIES]){var y=l.length;p=l[y+o.PREV_ROTATE],f=l[y+o.PREV_TRANSLATE],m=l[y+o.PREV_SCALE],g=l[y+o.PREV_SHEAR]}else{var v=a.binarySearch(l,r,o.ENTRIES);p=l[v+o.PREV_ROTATE],f=l[v+o.PREV_TRANSLATE],m=l[v+o.PREV_SCALE],g=l[v+o.PREV_SHEAR];var b=l[v],_=this.getCurvePercent(v/o.ENTRIES-1,1-(r-b)/(l[v+o.PREV_TIME]-b));p+=(l[v+o.ROTATE]-p)*_,f+=(l[v+o.TRANSLATE]-f)*_,m+=(l[v+o.SCALE]-m)*_,g+=(l[v+o.SHEAR]-g)*_}if(u==e.setup){d=h.data;h.rotateMix=d.rotateMix+(p-d.rotateMix)*s,h.translateMix=d.translateMix+(f-d.translateMix)*s,h.scaleMix=d.scaleMix+(m-d.scaleMix)*s,h.shearMix=d.shearMix+(g-d.shearMix)*s}else h.rotateMix+=(p-h.rotateMix)*s,h.translateMix+=(f-h.translateMix)*s,h.scaleMix+=(m-h.scaleMix)*s,h.shearMix+=(g-h.shearMix)*s}},o.ENTRIES=5,o.PREV_TIME=-5,o.PREV_ROTATE=-4,o.PREV_TRANSLATE=-3,o.PREV_SCALE=-2,o.PREV_SHEAR=-1,o.ROTATE=1,o.TRANSLATE=2,o.SCALE=3,o.SHEAR=4,o}(o);t.TransformConstraintTimeline=b;var _=function(n){function o(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e*o.ENTRIES),r}return i(o,n),o.prototype.getPropertyId=function(){return(r.pathConstraintPosition<<24)+this.pathConstraintIndex},o.prototype.setFrame=function(t,e,n){t*=o.ENTRIES,this.frames[t]=e,this.frames[t+o.VALUE]=n},o.prototype.apply=function(t,n,r,i,s,u,c){var l=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(r<l[0])switch(u){case e.setup:return void(h.position=h.data.position);case e.first:h.position+=(h.data.position-h.position)*s}else{var d=0;if(r>=l[l.length-o.ENTRIES])d=l[l.length+o.PREV_VALUE];else{var p=a.binarySearch(l,r,o.ENTRIES);d=l[p+o.PREV_VALUE];var f=l[p],m=this.getCurvePercent(p/o.ENTRIES-1,1-(r-f)/(l[p+o.PREV_TIME]-f));d+=(l[p+o.VALUE]-d)*m}u==e.setup?h.position=h.data.position+(d-h.data.position)*s:h.position+=(d-h.position)*s}},o.ENTRIES=2,o.PREV_TIME=-2,o.PREV_VALUE=-1,o.VALUE=1,o}(o);t.PathConstraintPositionTimeline=_;var w=function(t){function n(e){return t.call(this,e)||this}return i(n,t),n.prototype.getPropertyId=function(){return(r.pathConstraintSpacing<<24)+this.pathConstraintIndex},n.prototype.apply=function(t,r,i,o,s,u,c){var l=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(i<l[0])switch(u){case e.setup:return void(h.spacing=h.data.spacing);case e.first:h.spacing+=(h.data.spacing-h.spacing)*s}else{var d=0;if(i>=l[l.length-n.ENTRIES])d=l[l.length+n.PREV_VALUE];else{var p=a.binarySearch(l,i,n.ENTRIES);d=l[p+n.PREV_VALUE];var f=l[p],m=this.getCurvePercent(p/n.ENTRIES-1,1-(i-f)/(l[p+n.PREV_TIME]-f));d+=(l[p+n.VALUE]-d)*m}u==e.setup?h.spacing=h.data.spacing+(d-h.data.spacing)*s:h.spacing+=(d-h.spacing)*s}},n}(_);t.PathConstraintSpacingTimeline=w;var x=function(n){function o(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e*o.ENTRIES),r}return i(o,n),o.prototype.getPropertyId=function(){return(r.pathConstraintMix<<24)+this.pathConstraintIndex},o.prototype.setFrame=function(t,e,n,r){t*=o.ENTRIES,this.frames[t]=e,this.frames[t+o.ROTATE]=n,this.frames[t+o.TRANSLATE]=r},o.prototype.apply=function(t,n,r,i,s,u,c){var l=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(r<l[0])switch(u){case e.setup:return h.rotateMix=h.data.rotateMix,void(h.translateMix=h.data.translateMix);case e.first:h.rotateMix+=(h.data.rotateMix-h.rotateMix)*s,h.translateMix+=(h.data.translateMix-h.translateMix)*s}else{var d=0,p=0;if(r>=l[l.length-o.ENTRIES])d=l[l.length+o.PREV_ROTATE],p=l[l.length+o.PREV_TRANSLATE];else{var f=a.binarySearch(l,r,o.ENTRIES);d=l[f+o.PREV_ROTATE],p=l[f+o.PREV_TRANSLATE];var m=l[f],g=this.getCurvePercent(f/o.ENTRIES-1,1-(r-m)/(l[f+o.PREV_TIME]-m));d+=(l[f+o.ROTATE]-d)*g,p+=(l[f+o.TRANSLATE]-p)*g}u==e.setup?(h.rotateMix=h.data.rotateMix+(d-h.data.rotateMix)*s,h.translateMix=h.data.translateMix+(p-h.data.translateMix)*s):(h.rotateMix+=(d-h.rotateMix)*s,h.translateMix+=(p-h.translateMix)*s)}},o.ENTRIES=3,o.PREV_TIME=-3,o.PREV_ROTATE=-2,o.PREV_TRANSLATE=-1,o.ROTATE=1,o.TRANSLATE=2,o}(o);t.PathConstraintMixTimeline=x}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new i(this),this.propertyIDs=new t.IntSet,this.animationsChanged=!1,this.trackEntryPool=new t.Pool((function(){return new n})),this.data=e}return e.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,n=0,r=e.length;n<r;n++){var i=e[n];if(null!=i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var a=t*i.timeScale;if(i.delay>0){if(i.delay-=a,i.delay>0)continue;a=-i.delay,i.delay=0}var o=i.next;if(null!=o){var s=i.trackLast-o.delay;if(s>=0){for(o.delay=0,o.trackTime+=0==i.timeScale?0:(s/i.timeScale+t)*o.timeScale,i.trackTime+=a,this.setCurrent(n,o,!0);null!=o.mixingFrom;)o.mixTime+=t,o=o.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&null==i.mixingFrom){e[n]=null,this.queue.end(i),this.disposeNext(i);continue}if(null!=i.mixingFrom&&this.updateMixingFrom(i,t)){var u=i.mixingFrom;for(i.mixingFrom=null,null!=u&&(u.mixingTo=null);null!=u;)this.queue.end(u),u=u.mixingFrom}i.trackTime+=a}}this.queue.drain()},e.prototype.updateMixingFrom=function(t,e){var n=t.mixingFrom;if(null==n)return!0;var r=this.updateMixingFrom(n,e);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=n.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=n.mixingFrom,null!=n.mixingFrom&&(n.mixingFrom.mixingTo=t),t.interruptAlpha=n.interruptAlpha,this.queue.end(n)),r):(n.trackTime+=e*n.timeScale,t.mixTime+=e,!1)},e.prototype.apply=function(n){if(null==n)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,i=this.tracks,a=!1,o=0,s=i.length;o<s;o++){var u=i[o];if(!(null==u||u.delay>0)){a=!0;var c=0==o?t.MixBlend.first:u.mixBlend,l=u.alpha;null!=u.mixingFrom?l*=this.applyMixingFrom(u,n,c):u.trackTime>=u.trackEnd&&null==u.next&&(l=0);var h=u.animationLast,d=u.getAnimationTime(),p=u.animation.timelines.length,f=u.animation.timelines;if(0==o&&1==l||c==t.MixBlend.add)for(var m=0;m<p;m++){t.Utils.webkit602BugfixHelper(l,c);var g=f[m];g instanceof t.AttachmentTimeline?this.applyAttachmentTimeline(g,n,d,c,!0):g.apply(n,h,d,r,l,c,t.MixDirection.mixIn)}else{var y=u.timelineMode,v=0==u.timelinesRotation.length;v&&t.Utils.setArraySize(u.timelinesRotation,p<<1,null);var b=u.timelinesRotation;for(m=0;m<p;m++){var _=f[m],w=y[m]==e.SUBSEQUENT?c:t.MixBlend.setup;_ instanceof t.RotateTimeline?this.applyRotateTimeline(_,n,d,l,w,b,m<<1,v):_ instanceof t.AttachmentTimeline?this.applyAttachmentTimeline(_,n,d,c,!0):(t.Utils.webkit602BugfixHelper(l,c),_.apply(n,h,d,r,l,w,t.MixDirection.mixIn))}}this.queueEvents(u,d),r.length=0,u.nextAnimationLast=d,u.nextTrackLast=u.trackTime}}for(var x=this.unkeyedState+e.SETUP,S=n.slots,T=0,M=n.slots.length;T<M;T++){var E=S[T];if(E.attachmentState==x){var A=E.data.attachmentName;E.attachment=null==A?null:n.getAttachment(E.data.index,A)}}return this.unkeyedState+=2,this.queue.drain(),a},e.prototype.applyMixingFrom=function(n,r,i){var a=n.mixingFrom;null!=a.mixingFrom&&this.applyMixingFrom(a,r,i);var o=0;0==n.mixDuration?(o=1,i==t.MixBlend.first&&(i=t.MixBlend.setup)):((o=n.mixTime/n.mixDuration)>1&&(o=1),i!=t.MixBlend.first&&(i=a.mixBlend));var s=o<a.eventThreshold?this.events:null,u=o<a.attachmentThreshold,c=o<a.drawOrderThreshold,l=a.animationLast,h=a.getAnimationTime(),d=a.animation.timelines.length,p=a.animation.timelines,f=a.alpha*n.interruptAlpha,m=f*(1-o);if(i==t.MixBlend.add)for(var g=0;g<d;g++)p[g].apply(r,l,h,s,m,i,t.MixDirection.mixOut);else{var y=a.timelineMode,v=a.timelineHoldMix,b=0==a.timelinesRotation.length;b&&t.Utils.setArraySize(a.timelinesRotation,d<<1,null);var _=a.timelinesRotation;a.totalAlpha=0;for(g=0;g<d;g++){var w=p[g],x=t.MixDirection.mixOut,S=void 0,T=0;switch(y[g]){case e.SUBSEQUENT:if(!c&&w instanceof t.DrawOrderTimeline)continue;S=i,T=m;break;case e.FIRST:S=t.MixBlend.setup,T=m;break;case e.HOLD_SUBSEQUENT:S=i,T=f;break;case e.HOLD_FIRST:S=t.MixBlend.setup,T=f;break;default:S=t.MixBlend.setup;var M=v[g];T=f*Math.max(0,1-M.mixTime/M.mixDuration)}a.totalAlpha+=T,w instanceof t.RotateTimeline?this.applyRotateTimeline(w,r,h,T,S,_,g<<1,b):w instanceof t.AttachmentTimeline?this.applyAttachmentTimeline(w,r,h,S,u):(t.Utils.webkit602BugfixHelper(T,i),c&&w instanceof t.DrawOrderTimeline&&S==t.MixBlend.setup&&(x=t.MixDirection.mixIn),w.apply(r,l,h,s,T,S,x))}}return n.mixDuration>0&&this.queueEvents(a,h),this.events.length=0,a.nextAnimationLast=h,a.nextTrackLast=a.trackTime,o},e.prototype.applyAttachmentTimeline=function(n,r,i,a,o){var s=r.slots[n.slotIndex];if(s.bone.active){var u,c=n.frames;if(i<c[0])a!=t.MixBlend.setup&&a!=t.MixBlend.first||this.setAttachment(r,s,s.data.attachmentName,o);else u=i>=c[c.length-1]?c.length-1:t.Animation.binarySearch(c,i)-1,this.setAttachment(r,s,n.attachmentNames[u],o);s.attachmentState<=this.unkeyedState&&(s.attachmentState=this.unkeyedState+e.SETUP)}},e.prototype.setAttachment=function(t,n,r,i){n.attachment=null==r?null:t.getAttachment(n.data.index,r),i&&(n.attachmentState=this.unkeyedState+e.CURRENT)},e.prototype.applyRotateTimeline=function(e,n,r,i,a,o,s,u){if(u&&(o[s]=0),1!=i){var c=e,l=c.frames,h=n.bones[c.boneIndex];if(h.active){var d=0,p=0;if(r<l[0])switch(a){case t.MixBlend.setup:h.rotation=h.data.rotation;default:return;case t.MixBlend.first:d=h.rotation,p=h.data.rotation}else if(d=a==t.MixBlend.setup?h.data.rotation:h.rotation,r>=l[l.length-t.RotateTimeline.ENTRIES])p=h.data.rotation+l[l.length+t.RotateTimeline.PREV_ROTATION];else{var f=t.Animation.binarySearch(l,r,t.RotateTimeline.ENTRIES),m=l[f+t.RotateTimeline.PREV_ROTATION],g=l[f],y=c.getCurvePercent((f>>1)-1,1-(r-g)/(l[f+t.RotateTimeline.PREV_TIME]-g));p=l[f+t.RotateTimeline.ROTATION]-m,p=m+(p-=360*(16384-(16384.499999999996-p/360|0)))*y+h.data.rotation,p-=360*(16384-(16384.499999999996-p/360|0))}var v=0,b=p-d;if(0==(b-=360*(16384-(16384.499999999996-b/360|0))))v=o[s];else{var _=0,w=0;u?(_=0,w=b):(_=o[s],w=o[s+1]);var x=b>0,S=_>=0;t.MathUtils.signum(w)!=t.MathUtils.signum(b)&&Math.abs(w)<=90&&(Math.abs(_)>180&&(_+=360*t.MathUtils.signum(_)),S=x),v=b+_-_%360,S!=x&&(v+=360*t.MathUtils.signum(_)),o[s]=v}o[s+1]=b,d+=v*i,h.rotation=d-360*(16384-(16384.499999999996-d/360|0))}}else e.apply(n,0,r,null,1,a,t.MixDirection.mixIn)},e.prototype.queueEvents=function(t,e){for(var n=t.animationStart,r=t.animationEnd,i=r-n,a=t.trackLast%i,o=this.events,s=0,u=o.length;s<u;s++){var c=o[s];if(c.time<a)break;c.time>r||this.queue.event(t,c)}for((t.loop?0==i||a>t.trackTime%i:e>=r&&t.animationLast<r)&&this.queue.complete(t);s<u;s++){o[s].time<n||this.queue.event(t,o[s])}},e.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},e.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var n=e;;){var r=n.mixingFrom;if(null==r)break;this.queue.end(r),n.mixingFrom=null,n.mixingTo=null,n=r}this.tracks[e.trackIndex]=null,this.queue.drain()}}},e.prototype.setCurrent=function(t,e,n){var r=this.expandToIndex(t);this.tracks[t]=e,null!=r&&(n&&this.queue.interrupt(r),e.mixingFrom=r,r.mixingTo=e,e.mixTime=0,null!=r.mixingFrom&&r.mixDuration>0&&(e.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(e)},e.prototype.setAnimation=function(t,e,n){var r=this.data.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,r,n)},e.prototype.setAnimationWith=function(t,e,n){if(null==e)throw new Error("animation cannot be null.");var r=!0,i=this.expandToIndex(t);null!=i&&(-1==i.nextTrackLast?(this.tracks[t]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,r=!1):this.disposeNext(i));var a=this.trackEntry(t,e,n,i);return this.setCurrent(t,a,r),this.queue.drain(),a},e.prototype.addAnimation=function(t,e,n,r){var i=this.data.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,i,n,r)},e.prototype.addAnimationWith=function(t,e,n,r){if(null==e)throw new Error("animation cannot be null.");var i=this.expandToIndex(t);if(null!=i)for(;null!=i.next;)i=i.next;var a=this.trackEntry(t,e,n,i);if(null==i)this.setCurrent(t,a,!0),this.queue.drain();else if(i.next=a,r<=0){var o=i.animationEnd-i.animationStart;0!=o?(i.loop?r+=o*(1+(i.trackTime/o|0)):r+=Math.max(o,i.trackTime),r-=this.data.getMix(i.animation,e)):r=i.trackTime}return a.delay=r,a},e.prototype.setEmptyAnimation=function(t,n){var r=this.setAnimationWith(t,e.emptyAnimation,!1);return r.mixDuration=n,r.trackEnd=n,r},e.prototype.addEmptyAnimation=function(t,n,r){r<=0&&(r-=n);var i=this.addAnimationWith(t,e.emptyAnimation,!1,r);return i.mixDuration=n,i.trackEnd=n,i},e.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n];null!=i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},e.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(t.Utils.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},e.prototype.trackEntry=function(e,n,r,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=n,a.loop=r,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=n.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=null==i?0:this.data.getMix(i.animation,n),a.mixBlend=t.MixBlend.replace,a},e.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},e.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,n=this.tracks.length;e<n;e++){var r=this.tracks[e];if(null!=r){for(;null!=r.mixingFrom;)r=r.mixingFrom;do{null!=r.mixingFrom&&r.mixBlend==t.MixBlend.add||this.computeHold(r),r=r.mixingTo}while(null!=r)}}},e.prototype.computeHold=function(n){var r=n.mixingTo,i=n.animation.timelines,a=n.animation.timelines.length,o=t.Utils.setArraySize(n.timelineMode,a);n.timelineHoldMix.length=0;var s=t.Utils.setArraySize(n.timelineHoldMix,a),u=this.propertyIDs;if(null!=r&&r.holdPrevious)for(var c=0;c<a;c++)o[c]=u.add(i[c].getPropertyId())?e.HOLD_FIRST:e.HOLD_SUBSEQUENT;else t:for(c=0;c<a;c++){var l=i[c],h=l.getPropertyId();if(u.add(h))if(null==r||l instanceof t.AttachmentTimeline||l instanceof t.DrawOrderTimeline||l instanceof t.EventTimeline||!r.animation.hasTimeline(h))o[c]=e.FIRST;else{for(var d=r.mixingTo;null!=d;d=d.mixingTo)if(!d.animation.hasTimeline(h)){if(n.mixDuration>0){o[c]=e.HOLD_MIX,s[c]=d;continue t}break}o[c]=e.HOLD_FIRST}else o[c]=e.SUBSEQUENT}},e.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},e.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},e.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)},e.prototype.clearListeners=function(){this.listeners.length=0},e.prototype.clearListenerNotifications=function(){this.queue.clear()},e.prototype.setAnimationByName=function(t,n,r){e.deprecatedWarning1||(e.deprecatedWarning1=!0),this.setAnimation(t,n,r)},e.prototype.addAnimationByName=function(t,n,r,i){e.deprecatedWarning2||(e.deprecatedWarning2=!0),this.addAnimation(t,n,r,i)},e.prototype.hasAnimation=function(t){return null!==this.data.skeletonData.findAnimation(t)},e.prototype.hasAnimationByName=function(t){return e.deprecatedWarning3||(e.deprecatedWarning3=!0),this.hasAnimation(t)},e.emptyAnimation=new t.Animation("<empty>",[],0),e.SUBSEQUENT=0,e.FIRST=1,e.HOLD_SUBSEQUENT=2,e.HOLD_FIRST=3,e.HOLD_MIX=4,e.SETUP=1,e.CURRENT=2,e.deprecatedWarning1=!1,e.deprecatedWarning2=!1,e.deprecatedWarning3=!1,e}();t.AnimationState=e;var n=function(){function e(){this.mixBlend=t.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return e.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},e.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},e.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},e.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},e.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},Object.defineProperty(e.prototype,"time",{get:function(){return e.deprecatedWarning1||(e.deprecatedWarning1=!0),this.trackTime},set:function(t){e.deprecatedWarning1||(e.deprecatedWarning1=!0),this.trackTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"endTime",{get:function(){return e.deprecatedWarning2||(e.deprecatedWarning2=!0),this.trackTime},set:function(t){e.deprecatedWarning2||(e.deprecatedWarning2=!0),this.trackTime=t},enumerable:!1,configurable:!0}),e.prototype.loopsCount=function(){return Math.floor(this.trackTime/this.trackEnd)},e.deprecatedWarning1=!1,e.deprecatedWarning2=!1,e}();t.TrackEntry=n;var r,i=function(){function e(t){this.objects=[],this.drainDisabled=!1,this.animState=t}return e.prototype.start=function(t){this.objects.push(r.start),this.objects.push(t),this.animState.animationsChanged=!0},e.prototype.interrupt=function(t){this.objects.push(r.interrupt),this.objects.push(t)},e.prototype.end=function(t){this.objects.push(r.end),this.objects.push(t),this.animState.animationsChanged=!0},e.prototype.dispose=function(t){this.objects.push(r.dispose),this.objects.push(t)},e.prototype.complete=function(t){this.objects.push(r.complete),this.objects.push(t)},e.prototype.event=function(t,e){this.objects.push(r.event),this.objects.push(t),this.objects.push(e)},e.prototype.deprecateStuff=function(){return e.deprecatedWarning1||(e.deprecatedWarning1=!0),!0},e.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var e=this.objects,n=this.animState.listeners,i=0;i<e.length;i+=2){var a=e[i],o=e[i+1];switch(a){case r.start:null!=o.listener&&o.listener.start&&o.listener.start(o);for(var s=0;s<n.length;s++)n[s].start&&n[s].start(o);o.onStart&&this.deprecateStuff()&&o.onStart(o.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(o.trackIndex);break;case r.interrupt:null!=o.listener&&o.listener.interrupt&&o.listener.interrupt(o);for(s=0;s<n.length;s++)n[s].interrupt&&n[s].interrupt(o);break;case r.end:null!=o.listener&&o.listener.end&&o.listener.end(o);for(s=0;s<n.length;s++)n[s].end&&n[s].end(o);o.onEnd&&this.deprecateStuff()&&o.onEnd(o.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(o.trackIndex);case r.dispose:null!=o.listener&&o.listener.dispose&&o.listener.dispose(o);for(s=0;s<n.length;s++)n[s].dispose&&n[s].dispose(o);this.animState.trackEntryPool.free(o);break;case r.complete:null!=o.listener&&o.listener.complete&&o.listener.complete(o);for(s=0;s<n.length;s++)n[s].complete&&n[s].complete(o);var u=t.MathUtils.toInt(o.loopsCount());o.onComplete&&this.deprecateStuff()&&o.onComplete(o.trackIndex,u),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(o.trackIndex,u);break;case r.event:var c=e[2+i++];null!=o.listener&&o.listener.event&&o.listener.event(o,c);for(s=0;s<n.length;s++)n[s].event&&n[s].event(o,c);o.onEvent&&this.deprecateStuff()&&o.onEvent(o.trackIndex,c),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(o.trackIndex,c)}}this.clear(),this.drainDisabled=!1}},e.prototype.clear=function(){this.objects.length=0},e.deprecatedWarning1=!1,e}();t.EventQueue=i,function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"}(r=t.EventType||(t.EventType={}));var a=function(){function t(){}return t.prototype.start=function(t){},t.prototype.interrupt=function(t){},t.prototype.end=function(t){},t.prototype.dispose=function(t){},t.prototype.complete=function(t){},t.prototype.event=function(t,e){},t}();t.AnimationStateAdapter=a}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function t(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return t.prototype.setMix=function(t,e,n){var r=this.skeletonData.findAnimation(t);if(null==r)throw new Error("Animation not found: "+t);var i=this.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);this.setMixWith(r,i,n)},t.prototype.setMixByName=function(e,n,r){t.deprecatedWarning1||(t.deprecatedWarning1=!0),this.setMix(e,n,r)},t.prototype.setMixWith=function(t,e,n){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var r=t.name+"."+e.name;this.animationToMixTime[r]=n},t.prototype.getMix=function(t,e){var n=t.name+"."+e.name,r=this.animationToMixTime[n];return void 0===r?this.defaultMix:r},t.deprecatedWarning1=!1,t}();t.AnimationStateData=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(t){this.atlas=t}return e.prototype.newRegionAttachment=function(e,n,r){var i=this.atlas.findRegion(r);if(null==i)throw new Error("Region not found in atlas: "+r+" (region attachment: "+n+")");var a=new t.RegionAttachment(n);return a.region=i,a},e.prototype.newMeshAttachment=function(e,n,r){var i=this.atlas.findRegion(r);if(null==i)throw new Error("Region not found in atlas: "+r+" (mesh attachment: "+n+")");var a=new t.MeshAttachment(n);return a.region=i,a},e.prototype.newBoundingBoxAttachment=function(e,n){return new t.BoundingBoxAttachment(n)},e.prototype.newPathAttachment=function(e,n){return new t.PathAttachment(n)},e.prototype.newPointAttachment=function(e,n){return new t.PointAttachment(n)},e.prototype.newClippingAttachment=function(e,n){return new t.ClippingAttachment(n)},e}();t.AtlasAttachmentLoader=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){!function(t){t[t.Normal=0]="Normal",t[t.Additive=1]="Additive",t[t.Multiply=2]="Multiply",t[t.Screen=3]="Screen"}(t.BlendMode||(t.BlendMode={}))}(t.core||(t.core={}))}(r||(r={})),function(e){!function(e){var n=function(){function n(e,n,r){if(this.matrix=new t.Matrix,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=n,this.parent=r,this.setToSetupPose()}return Object.defineProperty(n.prototype,"worldX",{get:function(){return this.matrix.tx},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"worldY",{get:function(){return this.matrix.ty},enumerable:!1,configurable:!0}),n.prototype.isActive=function(){return this.active},n.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},n.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},n.prototype.updateWorldTransformWith=function(t,r,i,a,o,s,u){this.ax=t,this.ay=r,this.arotation=i,this.ascaleX=a,this.ascaleY=o,this.ashearX=s,this.ashearY=u,this.appliedValid=!0;var c=this.parent,l=this.matrix,h=this.skeleton.scaleX,d=n.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(null==c){var p=this.skeleton,f=i+90+u;return l.a=e.MathUtils.cosDeg(i+s)*a*h,l.c=e.MathUtils.cosDeg(f)*o*h,l.b=e.MathUtils.sinDeg(i+s)*a*d,l.d=e.MathUtils.sinDeg(f)*o*d,l.tx=t*h+p.x,void(l.ty=r*d+p.y)}var m=c.matrix.a,g=c.matrix.c,y=c.matrix.b,v=c.matrix.d;switch(l.tx=m*t+g*r+c.matrix.tx,l.ty=y*t+v*r+c.matrix.ty,this.data.transformMode){case e.TransformMode.Normal:f=i+90+u;var b=e.MathUtils.cosDeg(i+s)*a,_=e.MathUtils.cosDeg(f)*o,w=e.MathUtils.sinDeg(i+s)*a,x=e.MathUtils.sinDeg(f)*o;return l.a=m*b+g*w,l.c=m*_+g*x,l.b=y*b+v*w,void(l.d=y*_+v*x);case e.TransformMode.OnlyTranslation:f=i+90+u;l.a=e.MathUtils.cosDeg(i+s)*a,l.c=e.MathUtils.cosDeg(f)*o,l.b=e.MathUtils.sinDeg(i+s)*a,l.d=e.MathUtils.sinDeg(f)*o;break;case e.TransformMode.NoRotationOrReflection:var S=0;(E=m*m+y*y)>1e-4?(E=Math.abs(m*v-g*y)/E,m/=this.skeleton.scaleX,g=(y/=this.skeleton.scaleY)*E,v=m*E,S=Math.atan2(y,m)*e.MathUtils.radDeg):(m=0,y=0,S=90-Math.atan2(v,g)*e.MathUtils.radDeg);var T=i+s-S,M=i+u-S+90;b=e.MathUtils.cosDeg(T)*a,_=e.MathUtils.cosDeg(M)*o,w=e.MathUtils.sinDeg(T)*a,x=e.MathUtils.sinDeg(M)*o;l.a=m*b-g*w,l.c=m*_-g*x,l.b=y*b+v*w,l.d=y*_+v*x;break;case e.TransformMode.NoScale:case e.TransformMode.NoScaleOrReflection:var E,A=e.MathUtils.cosDeg(i),k=e.MathUtils.sinDeg(i),C=(m*A+g*k)/h,O=(y*A+v*k)/d;(E=Math.sqrt(C*C+O*O))>1e-5&&(E=1/E),C*=E,O*=E,E=Math.sqrt(C*C+O*O),this.data.transformMode==e.TransformMode.NoScale&&m*v-g*y<0!=(n.yDown?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(E=-E);var L=Math.PI/2+Math.atan2(O,C),R=Math.cos(L)*E,P=Math.sin(L)*E;b=e.MathUtils.cosDeg(s)*a,_=e.MathUtils.cosDeg(90+u)*o,w=e.MathUtils.sinDeg(s)*a,x=e.MathUtils.sinDeg(90+u)*o;l.a=C*b+R*w,l.c=C*_+R*x,l.b=O*b+P*w,l.d=O*_+P*x}l.a*=h,l.c*=h,l.b*=d,l.d*=d},n.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},n.prototype.getWorldRotationX=function(){return Math.atan2(this.matrix.b,this.matrix.a)*e.MathUtils.radDeg},n.prototype.getWorldRotationY=function(){return Math.atan2(this.matrix.d,this.matrix.c)*e.MathUtils.radDeg},n.prototype.getWorldScaleX=function(){var t=this.matrix;return Math.sqrt(t.a*t.a+t.c*t.c)},n.prototype.getWorldScaleY=function(){var t=this.matrix;return Math.sqrt(t.b*t.b+t.d*t.d)},n.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var t=this.parent,n=this.matrix;if(null==t)return this.ax=n.tx,this.ay=n.ty,this.arotation=Math.atan2(n.b,n.a)*e.MathUtils.radDeg,this.ascaleX=Math.sqrt(n.a*n.a+n.b*n.b),this.ascaleY=Math.sqrt(n.c*n.c+n.d*n.d),this.ashearX=0,void(this.ashearY=Math.atan2(n.a*n.c+n.b*n.d,n.a*n.d-n.b*n.c)*e.MathUtils.radDeg);var r=t.matrix,i=1/(r.a*r.d-r.b*r.c),a=n.tx-r.tx,o=n.ty-r.ty;this.ax=a*r.d*i-o*r.c*i,this.ay=o*r.a*i-a*r.b*i;var s=i*r.d,u=i*r.a,c=i*r.c,l=i*r.b,h=s*n.a-c*n.b,d=s*n.c-c*n.d,p=u*n.b-l*n.a,f=u*n.d-l*n.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(h*h+p*p),this.ascaleX>1e-4){var m=h*f-d*p;this.ascaleY=m/this.ascaleX,this.ashearY=Math.atan2(h*d+p*f,m)*e.MathUtils.radDeg,this.arotation=Math.atan2(p,h)*e.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(d*d+f*f),this.ashearY=0,this.arotation=90-Math.atan2(f,d)*e.MathUtils.radDeg},n.prototype.worldToLocal=function(t){var e=this.matrix,n=e.a,r=e.c,i=e.b,a=e.d,o=1/(n*a-r*i),s=t.x-e.tx,u=t.y-e.ty;return t.x=s*a*o-u*r*o,t.y=u*n*o-s*i*o,t},n.prototype.localToWorld=function(t){var e=this.matrix,n=t.x,r=t.y;return t.x=n*e.a+r*e.c+e.tx,t.y=n*e.b+r*e.d+e.ty,t},n.prototype.worldToLocalRotation=function(t){var n=e.MathUtils.sinDeg(t),r=e.MathUtils.cosDeg(t),i=this.matrix;return Math.atan2(i.a*n-i.b*r,i.d*r-i.c*n)*e.MathUtils.radDeg},n.prototype.localToWorldRotation=function(t){var n=e.MathUtils.sinDeg(t),r=e.MathUtils.cosDeg(t),i=this.matrix;return Math.atan2(r*i.b+n*i.d,r*i.a+n*i.c)*e.MathUtils.radDeg},n.prototype.rotateWorld=function(t){var n=this.matrix,r=n.a,i=n.c,a=n.b,o=n.d,s=e.MathUtils.cosDeg(t),u=e.MathUtils.sinDeg(t);n.a=s*r-u*a,n.c=s*i-u*o,n.b=u*r+s*a,n.d=u*i+s*o,this.appliedValid=!1},n.yDown=!1,n}();e.Bone=n}(e.core||(e.core={}))}(r||(r={})),function(t){!function(t){var e,n=function(n,r,i){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=e.Normal,this.skinRequired=!1,this.color=new t.Color,n<0)throw new Error("index must be >= 0.");if(null==r)throw new Error("name cannot be null.");this.index=n,this.name=r,this.parent=i};t.BoneData=n,function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(e=t.TransformMode||(t.TransformMode={}))}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(t,e,n){this.name=t,this.order=e,this.skinRequired=n};t.ConstraintData=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e};t.Event=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(t){this.name=t};t.EventData=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}return e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}},e.prototype.apply1=function(e,n,r,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var u=e.parent.matrix,c=u.a,l=u.c,h=u.b,d=u.d,p=-e.ashearX-e.arotation,f=0,m=0;switch(e.data.transformMode){case t.TransformMode.OnlyTranslation:f=n-e.worldX,m=r-e.worldY;break;case t.TransformMode.NoRotationOrReflection:var g=Math.abs(c*d-l*h)/(c*c+h*h),y=c/e.skeleton.scaleX,v=h/e.skeleton.scaleY;l=-v*g*e.skeleton.scaleX,d=y*g*e.skeleton.scaleY,p+=Math.atan2(v,y)*t.MathUtils.radDeg;default:var b=n-u.tx,_=r-u.ty,w=c*d-l*h;f=(b*d-_*l)/w-e.ax,m=(_*c-b*h)/w-e.ay}p+=Math.atan2(m,f)*t.MathUtils.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var x=e.ascaleX,S=e.ascaleY;if(i||a){switch(e.data.transformMode){case t.TransformMode.NoScale:case t.TransformMode.NoScaleOrReflection:f=n-e.worldX,m=r-e.worldY}var T=e.data.length*x,M=Math.sqrt(f*f+m*m);if(i&&M<T||a&&M>T&&T>1e-4)x*=g=(M/T-1)*s+1,o&&(S*=g)}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,x,S,e.ashearX,e.ashearY)},e.prototype.apply2=function(e,n,r,i,a,o,s,u){if(0!=u){e.appliedValid||e.updateAppliedTransform(),n.appliedValid||n.updateAppliedTransform();var c=e.ax,l=e.ay,h=e.ascaleX,d=h,p=e.ascaleY,f=n.ascaleX,m=e.matrix,g=0,y=0,v=0;h<0?(h=-h,g=180,v=-1):(g=0,v=1),p<0&&(p=-p,v=-v),f<0?(f=-f,y=180):y=0;var b=n.ax,_=0,w=0,x=0,S=m.a,T=m.c,M=m.b,E=m.d,A=Math.abs(h-p)<=1e-4;A?(w=S*b+T*(_=n.ay)+m.tx,x=M*b+E*_+m.ty):(_=0,w=S*b+m.tx,x=M*b+m.ty);var k=e.parent.matrix;S=k.a,T=k.c,M=k.b;var C,O,L=1/(S*(E=k.d)-T*M),R=w-k.tx,P=x-k.ty,D=(R*E-P*T)*L-c,I=(P*S-R*M)*L-l,B=Math.sqrt(D*D+I*I),N=n.data.length*f;if(B<1e-4)return this.apply1(e,r,i,!1,o,!1,u),void n.updateWorldTransformWith(b,_,0,n.ascaleX,n.ascaleY,n.ashearX,n.ashearY);var j=((R=r-k.tx)*E-(P=i-k.ty)*T)*L-c,F=(P*S-R*M)*L-l,U=j*j+F*F;if(0!=s){s*=h*(f+1)/2;var Y=Math.sqrt(U),G=Y-B-N*h+s;if(G>0){var H=Math.min(1,G/(2*s))-1;U=(j-=(H=(G-s*(1-H*H))/Y)*j)*j+(F-=H*F)*F}}t:if(A){var z=(U-B*B-(N*=h)*N)/(2*B*N);z<-1?z=-1:z>1&&(z=1,o&&(d*=(Math.sqrt(U)/(B+N)-1)*u+1)),O=Math.acos(z)*a,S=B+N*z,T=N*Math.sin(O),C=Math.atan2(F*S-j*T,j*S+F*T)}else{var V=(S=h*N)*S,W=(T=p*N)*T,X=Math.atan2(F,j),K=-2*W*B,q=W-V;if((E=K*K-4*q*(M=W*B*B+V*U-V*W))>=0){var Z=Math.sqrt(E);K<0&&(Z=-Z);var J=(Z=-(K+Z)/2)/q,Q=M/Z,$=Math.abs(J)<Math.abs(Q)?J:Q;if($*$<=U){P=Math.sqrt(U-$*$)*a,C=X-Math.atan2(P,$),O=Math.atan2(P/p,($-B)/h);break t}}var tt=t.MathUtils.PI,et=B-S,nt=et*et,rt=0,it=0,at=B+S,ot=at*at,st=0;(M=-S*B/(V-W))>=-1&&M<=1&&(M=Math.acos(M),(E=(R=S*Math.cos(M)+B)*R+(P=T*Math.sin(M))*P)<nt&&(tt=M,nt=E,et=R,rt=P),E>ot&&(it=M,ot=E,at=R,st=P)),U<=(nt+ot)/2?(C=X-Math.atan2(rt*a,et),O=tt*a):(C=X-Math.atan2(st*a,at),O=it*a)}var ut=Math.atan2(_,b)*v,ct=e.arotation;(C=(C-ut)*t.MathUtils.radDeg+g-ct)>180?C-=360:C<-180&&(C+=360),e.updateWorldTransformWith(c,l,ct+C*u,d,e.ascaleY,0,0),ct=n.arotation,(O=((O+ut)*t.MathUtils.radDeg-n.ashearX)*v+y-ct)>180?O-=360:O<-180&&(O+=360),n.updateWorldTransformWith(b,_,ct+O*u,n.ascaleX,n.ascaleY,n.ashearX,n.ashearY)}else n.updateWorldTransform()},e}();t.IkConstraint=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(t){function e(e){var n=t.call(this,e,0,!1)||this;return n.bones=new Array,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return i(e,t),e}(t.ConstraintData);t.IkConstraintData=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0,r=t.bones.length;n<r;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}return e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var n=this.target.getAttachment();if(n instanceof t.PathAttachment){var r=this.rotateMix,i=this.translateMix,a=r>0;if(i>0||a){var o=this.data,s=o.spacingMode,u=s==t.SpacingMode.Length,c=o.rotateMode,l=c==t.RotateMode.Tangent,h=c==t.RotateMode.ChainScale,d=this.bones.length,p=l?d:d+1,f=this.bones,m=t.Utils.setArraySize(this.spaces,p),g=null,y=this.spacing;if(h||u){h&&(g=t.Utils.setArraySize(this.lengths,d));for(var v=0,b=p-1;v<b;){var _=(O=f[v]).data.length;if(_<e.epsilon)h&&(g[v]=0),m[++v]=0;else{var w=_*O.matrix.a,x=_*O.matrix.b,S=Math.sqrt(w*w+x*x);h&&(g[v]=S),m[++v]=(u?_+y:y)*S/_}}}else for(v=1;v<p;v++)m[v]=y;var T=this.computeWorldPositions(n,p,l,o.positionMode==t.PositionMode.Percent,s==t.SpacingMode.Percent),M=T[0],E=T[1],A=o.offsetRotation,k=!1;if(0==A)k=c==t.RotateMode.Chain;else k=!1,A*=(C=this.target.bone.matrix).a*C.d-C.b*C.c>0?t.MathUtils.degRad:-t.MathUtils.degRad;v=0;for(var C=3;v<d;v++,C+=3){var O,L=(O=f[v]).matrix;L.tx+=(M-L.tx)*i,L.ty+=(E-L.ty)*i;var R=(w=T[C])-M,P=(x=T[C+1])-E;if(h){var D=g[v];if(0!=D){var I=(Math.sqrt(R*R+P*P)/D-1)*r+1;L.a*=I,L.b*=I}}if(M=w,E=x,a){var B=L.a,N=L.c,j=L.b,F=L.d,U=0,Y=0,G=0;if(U=l?T[C-1]:0==m[v+1]?T[C+2]:Math.atan2(P,R),U-=Math.atan2(j,B),k){Y=Math.cos(U),G=Math.sin(U);var H=O.data.length;M+=(H*(Y*B-G*j)-R)*r,E+=(H*(G*B+Y*j)-P)*r}else U+=A;U>t.MathUtils.PI?U-=t.MathUtils.PI2:U<-t.MathUtils.PI&&(U+=t.MathUtils.PI2),U*=r,Y=Math.cos(U),G=Math.sin(U),L.a=Y*B-G*j,L.c=Y*N-G*F,L.b=G*B+Y*j,L.d=G*N+Y*F}O.appliedValid=!1}}}},e.prototype.computeWorldPositions=function(n,r,i,a,o){var s=this.target,u=this.position,c=this.spaces,l=t.Utils.setArraySize(this.positions,3*r+2),h=null,d=n.closed,p=n.worldVerticesLength,f=p/6,m=e.NONE;if(!n.constantSpeed){var g=n.lengths,y=g[f-=d?1:2];if(a&&(u*=y),o)for(var v=0;v<r;v++)c[v]*=y;h=t.Utils.setArraySize(this.world,8);v=0;for(var b=0,_=0;v<r;v++,b+=3){var w=u+=V=c[v];if(d)(w%=y)<0&&(w+=y),_=0;else{if(w<0){m!=e.BEFORE&&(m=e.BEFORE,n.computeWorldVertices(s,2,4,h,0,2)),this.addBeforePosition(w,h,0,l,b);continue}if(w>y){m!=e.AFTER&&(m=e.AFTER,n.computeWorldVertices(s,p-6,4,h,0,2)),this.addAfterPosition(w-y,h,0,l,b);continue}}for(;;_++){var x=g[_];if(!(w>x)){if(0==_)w/=x;else w=(w-(q=g[_-1]))/(x-q);break}}_!=m&&(m=_,d&&_==f?(n.computeWorldVertices(s,p-4,4,h,0,2),n.computeWorldVertices(s,0,4,h,4,2)):n.computeWorldVertices(s,6*_+2,8,h,0,2)),this.addCurvePosition(w,h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],l,b,i||v>0&&0==V)}return l}d?(p+=2,h=t.Utils.setArraySize(this.world,p),n.computeWorldVertices(s,2,p-4,h,0,2),n.computeWorldVertices(s,0,2,h,p-4,2),h[p-2]=h[0],h[p-1]=h[1]):(f--,p-=4,h=t.Utils.setArraySize(this.world,p),n.computeWorldVertices(s,2,p,h,0,2));for(var S=t.Utils.setArraySize(this.curves,f),T=0,M=h[0],E=h[1],A=0,k=0,C=0,O=0,L=0,R=0,P=0,D=0,I=0,B=0,N=0,j=0,F=0,U=0,Y=(v=0,2);v<f;v++,Y+=6)A=h[Y],k=h[Y+1],C=h[Y+2],O=h[Y+3],N=2*(P=.1875*(M-2*A+C))+(I=.09375*(3*(A-C)-M+(L=h[Y+4]))),j=2*(D=.1875*(E-2*k+O))+(B=.09375*(3*(k-O)-E+(R=h[Y+5]))),F=.75*(A-M)+P+.16666667*I,U=.75*(k-E)+D+.16666667*B,T+=Math.sqrt(F*F+U*U),F+=N,U+=j,N+=I,j+=B,T+=Math.sqrt(F*F+U*U),F+=N,U+=j,T+=Math.sqrt(F*F+U*U),F+=N+I,U+=j+B,T+=Math.sqrt(F*F+U*U),S[v]=T,M=L,E=R;if(a&&(u*=T),o)for(v=0;v<r;v++)c[v]*=T;for(var G=this.segments,H=0,z=(v=0,b=0,_=0,0);v<r;v++,b+=3){var V;w=u+=V=c[v];if(d)(w%=T)<0&&(w+=T),_=0;else{if(w<0){this.addBeforePosition(w,h,0,l,b);continue}if(w>T){this.addAfterPosition(w-T,h,p-4,l,b);continue}}for(;;_++){var W=S[_];if(!(w>W)){if(0==_)w/=W;else w=(w-(q=S[_-1]))/(W-q);break}}if(_!=m){m=_;var X=6*_;for(M=h[X],E=h[X+1],A=h[X+2],k=h[X+3],C=h[X+4],O=h[X+5],N=2*(P=.03*(M-2*A+C))+(I=.006*(3*(A-C)-M+(L=h[X+6]))),j=2*(D=.03*(E-2*k+O))+(B=.006*(3*(k-O)-E+(R=h[X+7]))),F=.3*(A-M)+P+.16666667*I,U=.3*(k-E)+D+.16666667*B,H=Math.sqrt(F*F+U*U),G[0]=H,X=1;X<8;X++)F+=N,U+=j,N+=I,j+=B,H+=Math.sqrt(F*F+U*U),G[X]=H;F+=N,U+=j,H+=Math.sqrt(F*F+U*U),G[8]=H,F+=N+I,U+=j+B,H+=Math.sqrt(F*F+U*U),G[9]=H,z=0}for(w*=H;;z++){var K=G[z];if(!(w>K)){var q;if(0==z)w/=K;else w=z+(w-(q=G[z-1]))/(K-q);break}}this.addCurvePosition(.1*w,M,E,A,k,C,O,L,R,l,b,i||v>0&&0==V)}return l},e.prototype.addBeforePosition=function(t,e,n,r,i){var a=e[n],o=e[n+1],s=e[n+2]-a,u=e[n+3]-o,c=Math.atan2(u,s);r[i]=a+t*Math.cos(c),r[i+1]=o+t*Math.sin(c),r[i+2]=c},e.prototype.addAfterPosition=function(t,e,n,r,i){var a=e[n+2],o=e[n+3],s=a-e[n],u=o-e[n+1],c=Math.atan2(u,s);r[i]=a+t*Math.cos(c),r[i+1]=o+t*Math.sin(c),r[i+2]=c},e.prototype.addCurvePosition=function(t,e,n,r,i,a,o,s,u,c,l,h){(0==t||isNaN(t))&&(t=1e-4);var d=t*t,p=d*t,f=1-t,m=f*f,g=m*f,y=f*t,v=3*y,b=f*v,_=v*t,w=e*g+r*b+a*_+s*p,x=n*g+i*b+o*_+u*p;c[l]=w,c[l+1]=x,h&&(c[l+2]=Math.atan2(x-(n*m+i*y*2+o*d),w-(e*m+r*y*2+a*d)))},e.NONE=-1,e.BEFORE=-2,e.AFTER=-3,e.epsilon=1e-5,e}();t.PathConstraint=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(t){function e(e){var n=t.call(this,e,0,!1)||this;return n.bones=new Array,n}return i(e,t),e}(t.ConstraintData);t.PathConstraintData=e,function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"}(t.PositionMode||(t.PositionMode={})),function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"}(t.SpacingMode||(t.SpacingMode={})),function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"}(t.RotateMode||(t.RotateMode={}))}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var r=e.bones[n],i=void 0;if(null==r.parent)i=new t.Bone(r,this,null);else{var a=this.bones[r.parent.index];i=new t.Bone(r,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(n=0;n<e.slots.length;n++){var o=e.slots[n],s=(i=this.bones[o.boneData.index],new t.Slot(o,i));this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(n=0;n<e.ikConstraints.length;n++){var u=e.ikConstraints[n];this.ikConstraints.push(new t.IkConstraint(u,this))}this.transformConstraints=new Array;for(n=0;n<e.transformConstraints.length;n++){var c=e.transformConstraints[n];this.transformConstraints.push(new t.TransformConstraint(c,this))}this.pathConstraints=new Array;for(n=0;n<e.pathConstraints.length;n++){var l=e.pathConstraints[n];this.pathConstraints.push(new t.PathConstraint(l,this))}this.color=new t.Color(1,1,1,1),this.updateCache()}return e.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,n=t.length;e<n;e++){(i=t[e]).sorted=i.data.skinRequired,i.active=!i.sorted}if(null!=this.skin){var r=this.skin.bones;for(e=0,n=this.skin.bones.length;e<n;e++){var i=this.bones[r[e].index];do{i.sorted=!1,i.active=!0,i=i.parent}while(null!=i)}}var a=this.ikConstraints,o=this.transformConstraints,s=this.pathConstraints,u=a.length,c=o.length,l=s.length,h=u+c+l;t:for(e=0;e<h;e++){for(var d=0;d<u;d++){if((p=a[d]).data.order==e){this.sortIkConstraint(p);continue t}}for(d=0;d<c;d++){if((p=o[d]).data.order==e){this.sortTransformConstraint(p);continue t}}for(d=0;d<l;d++){var p;if((p=s[d]).data.order==e){this.sortPathConstraint(p);continue t}}}for(e=0,n=t.length;e<n;e++)this.sortBone(t[e])},e.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||null!=this.skin&&t.Utils.contains(this.skin.constraints,e.data,!0)),e.active){var n=e.target;this.sortBone(n);var r=e.bones,i=r[0];if(this.sortBone(i),r.length>1){var a=r[r.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),r[r.length-1].sorted=!0}},e.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||null!=this.skin&&t.Utils.contains(this.skin.constraints,e.data,!0)),e.active){var n=e.target,r=n.data.index,i=n.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,r,i),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,r,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],r,i);var s=n.getAttachment();s instanceof t.PathAttachment&&this.sortPathConstraintAttachmentWith(s,i);var u=e.bones,c=u.length;for(a=0;a<c;a++)this.sortBone(u[a]);this._updateCache.push(e);for(a=0;a<c;a++)this.sortReset(u[a].children);for(a=0;a<c;a++)u[a].sorted=!0}},e.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||null!=this.skin&&t.Utils.contains(this.skin.constraints,e.data,!0)),e.active){this.sortBone(e.target);var n=e.bones,r=n.length;if(e.data.local)for(var i=0;i<r;i++){var a=n[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(i=0;i<r;i++)this.sortBone(n[i]);this._updateCache.push(e);for(var o=0;o<r;o++)this.sortReset(n[o].children);for(o=0;o<r;o++)n[o].sorted=!0}},e.prototype.sortPathConstraintAttachment=function(t,e,n){var r=t.attachments[e];if(r)for(var i in r)this.sortPathConstraintAttachmentWith(r[i],n)},e.prototype.sortPathConstraintAttachmentWith=function(e,n){if(e instanceof t.PathAttachment){var r=e.bones;if(null==r)this.sortBone(n);else for(var i=this.bones,a=0;a<r.length;)for(var o=r[a++],s=a+o;a<s;a++){var u=r[a];this.sortBone(i[u])}}},e.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},e.prototype.sortReset=function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];r.active&&(r.sorted&&this.sortReset(r.children),r.sorted=!1)}},e.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,n=t.length;e<n;e++){var r=t[e];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY,r.appliedValid=!0}var i=this._updateCache;for(e=0,n=i.length;e<n;e++)i[e].update()},e.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},e.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].setToSetupPose();var r=this.ikConstraints;for(e=0,n=r.length;e<n;e++){(s=r[e]).mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch}var i=this.transformConstraints;for(e=0,n=i.length;e<n;e++){var a=(s=i[e]).data;s.rotateMix=a.rotateMix,s.translateMix=a.translateMix,s.scaleMix=a.scaleMix,s.shearMix=a.shearMix}var o=this.pathConstraints;for(e=0,n=o.length;e<n;e++){var s;a=(s=o[e]).data;s.position=a.position,s.spacing=a.spacing,s.rotateMix=a.rotateMix,s.translateMix=a.translateMix}},e.prototype.setSlotsToSetupPose=function(){var e=this.slots;t.Utils.arrayCopy(e,0,this.drawOrder,0,e.length);for(var n=0,r=e.length;n<r;n++)e[n].setToSetupPose()},e.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},e.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++)if(e[n].data.name==t)return n;return-1},e.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++)if(e[n].data.name==t)return n;return-1},e.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},e.prototype.setSkin=function(t){if(t!=this.skin){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,r=e.length;n<r;n++){var i=e[n],a=i.data.attachmentName;if(null!=a){var o=t.getAttachment(n,a);null!=o&&i.setAttachment(o)}}this.skin=t,this.updateCache()}},e.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},e.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(t,e);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},e.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var n=this.slots,r=0,i=n.length;r<i;r++){var a=n[r];if(a.data.name==t){var o=null;if(null!=e&&null==(o=this.getAttachment(r,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void a.setAttachment(o)}}throw new Error("Slot not found: "+t)},e.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.getBounds=function(e,n,r){if(void 0===r&&(r=new Array(2)),null==e)throw new Error("offset cannot be null.");if(null==n)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY,c=0,l=i.length;c<l;c++){var h=i[c];if(h.bone.active){var d=0,p=null,f=h.getAttachment();if(f instanceof t.RegionAttachment)d=8,p=t.Utils.setArraySize(r,d,0),f.computeWorldVertices(h.bone,p,0,2);else if(f instanceof t.MeshAttachment){var m=f;d=m.worldVerticesLength,p=t.Utils.setArraySize(r,d,0),m.computeWorldVertices(h,0,d,p,0,2)}if(null!=p)for(var g=0,y=p.length;g<y;g+=2){var v=p[g],b=p[g+1];a=Math.min(a,v),o=Math.min(o,b),s=Math.max(s,v),u=Math.max(u,b)}}}e.set(a,o),n.set(s-a,u-o)},e.prototype.update=function(t){this.time+=t},Object.defineProperty(e.prototype,"flipX",{get:function(){return-1==this.scaleX},set:function(t){e.deprecatedWarning1||(e.deprecatedWarning1=!0),this.scaleX=t?1:-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flipY",{get:function(){return-1==this.scaleY},set:function(t){e.deprecatedWarning1||(e.deprecatedWarning1=!0),this.scaleY=t?1:-1},enumerable:!1,configurable:!0}),e.deprecatedWarning1=!1,e}();t.Skeleton=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return e.prototype.readSkeletonData=function(r){var i=this.scale,a=new t.SkeletonData;a.name="";var o=new n(r);if(a.hash=o.readString(),a.version=o.readString(),"3.8.75"===a.version);a.x=o.readFloat(),a.y=o.readFloat(),a.width=o.readFloat(),a.height=o.readFloat();var s=o.readBoolean();s&&(a.fps=o.readFloat(),a.imagesPath=o.readString(),a.audioPath=o.readString());var u=0;u=o.readInt(!0);for(var c=0;c<u;c++)o.strings.push(o.readString());u=o.readInt(!0);for(c=0;c<u;c++){var l=o.readString(),h=0==c?null:a.bones[o.readInt(!0)];(f=new t.BoneData(c,l,h)).rotation=o.readFloat(),f.x=o.readFloat()*i,f.y=o.readFloat()*i,f.scaleX=o.readFloat(),f.scaleY=o.readFloat(),f.shearX=o.readFloat(),f.shearY=o.readFloat(),f.length=o.readFloat()*i,f.transformMode=e.TransformModeValues[o.readInt(!0)],f.skinRequired=o.readBoolean(),s&&t.Color.rgba8888ToColor(f.color,o.readInt32()),a.bones.push(f)}u=o.readInt(!0);for(c=0;c<u;c++){var d=o.readString(),p=a.bones[o.readInt(!0)],f=new t.SlotData(c,d,p);t.Color.rgba8888ToColor(f.color,o.readInt32());var m=o.readInt32();-1!=m&&t.Color.rgb888ToColor(f.darkColor=new t.Color,m),f.attachmentName=o.readStringRef(),f.blendMode=e.BlendModeValues[o.readInt(!0)],a.slots.push(f)}u=o.readInt(!0);c=0;for(var g=void 0;c<u;c++){(f=new t.IkConstraintData(o.readString())).order=o.readInt(!0),f.skinRequired=o.readBoolean(),g=o.readInt(!0);for(var y=0;y<g;y++)f.bones.push(a.bones[o.readInt(!0)]);f.target=a.bones[o.readInt(!0)],f.mix=o.readFloat(),f.softness=o.readFloat()*i,f.bendDirection=o.readByte(),f.compress=o.readBoolean(),f.stretch=o.readBoolean(),f.uniform=o.readBoolean(),a.ikConstraints.push(f)}u=o.readInt(!0);for(c=0,g=void 0;c<u;c++){(f=new t.TransformConstraintData(o.readString())).order=o.readInt(!0),f.skinRequired=o.readBoolean(),g=o.readInt(!0);for(y=0;y<g;y++)f.bones.push(a.bones[o.readInt(!0)]);f.target=a.bones[o.readInt(!0)],f.local=o.readBoolean(),f.relative=o.readBoolean(),f.offsetRotation=o.readFloat(),f.offsetX=o.readFloat()*i,f.offsetY=o.readFloat()*i,f.offsetScaleX=o.readFloat(),f.offsetScaleY=o.readFloat(),f.offsetShearY=o.readFloat(),f.rotateMix=o.readFloat(),f.translateMix=o.readFloat(),f.scaleMix=o.readFloat(),f.shearMix=o.readFloat(),a.transformConstraints.push(f)}u=o.readInt(!0);for(c=0,g=void 0;c<u;c++){(f=new t.PathConstraintData(o.readString())).order=o.readInt(!0),f.skinRequired=o.readBoolean(),g=o.readInt(!0);for(y=0;y<g;y++)f.bones.push(a.bones[o.readInt(!0)]);f.target=a.slots[o.readInt(!0)],f.positionMode=e.PositionModeValues[o.readInt(!0)],f.spacingMode=e.SpacingModeValues[o.readInt(!0)],f.rotateMode=e.RotateModeValues[o.readInt(!0)],f.offsetRotation=o.readFloat(),f.position=o.readFloat(),f.positionMode==t.PositionMode.Fixed&&(f.position*=i),f.spacing=o.readFloat(),f.spacingMode!=t.SpacingMode.Length&&f.spacingMode!=t.SpacingMode.Fixed||(f.spacing*=i),f.rotateMix=o.readFloat(),f.translateMix=o.readFloat(),a.pathConstraints.push(f)}var v=this.readSkin(o,a,!0,s);null!=v&&(a.defaultSkin=v,a.skins.push(v));c=a.skins.length;for(t.Utils.setArraySize(a.skins,u=c+o.readInt(!0));c<u;c++)a.skins[c]=this.readSkin(o,a,!1,s);u=this.linkedMeshes.length;for(c=0;c<u;c++){var b=this.linkedMeshes[c],_=null==b.skin?a.defaultSkin:a.findSkin(b.skin);if(null==_)throw new Error("Skin not found: "+b.skin);var w=_.getAttachment(b.slotIndex,b.parent);if(null==w)throw new Error("Parent mesh not found: "+b.parent);b.mesh.deformAttachment=b.inheritDeform?w:b.mesh,b.mesh.setParentMesh(w)}this.linkedMeshes.length=0,u=o.readInt(!0);for(c=0;c<u;c++){(f=new t.EventData(o.readStringRef())).intValue=o.readInt(!1),f.floatValue=o.readFloat(),f.stringValue=o.readString(),f.audioPath=o.readString(),null!=f.audioPath&&(f.volume=o.readFloat(),f.balance=o.readFloat()),a.events.push(f)}u=o.readInt(!0);for(c=0;c<u;c++)a.animations.push(this.readAnimation(o,o.readString(),a));return a},e.prototype.readSkin=function(e,n,r,i){var a=null,o=0;if(r){if(0==(o=e.readInt(!0)))return null;a=new t.Skin("default")}else{(a=new t.Skin(e.readStringRef())).bones.length=e.readInt(!0);for(var s=0,u=a.bones.length;s<u;s++)a.bones[s]=n.bones[e.readInt(!0)];for(s=0,u=e.readInt(!0);s<u;s++)a.constraints.push(n.ikConstraints[e.readInt(!0)]);for(s=0,u=e.readInt(!0);s<u;s++)a.constraints.push(n.transformConstraints[e.readInt(!0)]);for(s=0,u=e.readInt(!0);s<u;s++)a.constraints.push(n.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(s=0;s<o;s++)for(var c=e.readInt(!0),l=0,h=e.readInt(!0);l<h;l++){var d=e.readStringRef(),p=this.readAttachment(e,n,a,c,d,i);null!=p&&a.setAttachment(c,d,p)}return a},e.prototype.readAttachment=function(n,i,a,o,s,u){var c=this.scale,l=n.readStringRef();null==l&&(l=s);var h=n.readByte();switch(e.AttachmentTypeValues[h]){case t.AttachmentType.Region:var d=n.readStringRef(),p=n.readFloat(),f=n.readFloat(),m=n.readFloat(),g=n.readFloat(),y=n.readFloat(),v=n.readFloat(),b=n.readFloat(),_=n.readInt32();null==d&&(d=l);var w=this.attachmentLoader.newRegionAttachment(a,l,d);return null==w?null:(w.path=d,w.x=f*c,w.y=m*c,w.scaleX=g,w.scaleY=y,w.rotation=p,w.width=v*c,w.height=b*c,t.Color.rgba8888ToColor(w.color,_),w);case t.AttachmentType.BoundingBox:var x=n.readInt(!0),S=this.readVertices(n,x),T=(_=u?n.readInt32():0,this.attachmentLoader.newBoundingBoxAttachment(a,l));return null==T?null:(T.worldVerticesLength=x<<1,T.vertices=S.vertices,T.bones=S.bones,u&&t.Color.rgba8888ToColor(T.color,_),T);case t.AttachmentType.Mesh:d=n.readStringRef(),_=n.readInt32(),x=n.readInt(!0);var M=this.readFloatArray(n,x<<1,1),E=this.readShortArray(n),A=(S=this.readVertices(n,x),n.readInt(!0)),k=null;v=0,b=0;return u&&(k=this.readShortArray(n),v=n.readFloat(),b=n.readFloat()),null==d&&(d=l),null==(C=this.attachmentLoader.newMeshAttachment(a,l,d))?null:(C.path=d,t.Color.rgba8888ToColor(C.color,_),C.bones=S.bones,C.vertices=S.vertices,C.worldVerticesLength=x<<1,C.triangles=E,C.regionUVs=new Float32Array(M),C.hullLength=A<<1,u&&(C.edges=k,C.width=v*c,C.height=b*c),C);case t.AttachmentType.LinkedMesh:d=n.readStringRef(),_=n.readInt32();var C,O=n.readStringRef(),L=n.readStringRef(),R=n.readBoolean();v=0,b=0;return u&&(v=n.readFloat(),b=n.readFloat()),null==d&&(d=l),null==(C=this.attachmentLoader.newMeshAttachment(a,l,d))?null:(C.path=d,t.Color.rgba8888ToColor(C.color,_),u&&(C.width=v*c,C.height=b*c),this.linkedMeshes.push(new r(C,O,o,L,R)),C);case t.AttachmentType.Path:for(var P=n.readBoolean(),D=n.readBoolean(),I=(x=n.readInt(!0),S=this.readVertices(n,x),t.Utils.newArray(x/3,0)),B=0,N=I.length;B<N;B++)I[B]=n.readFloat()*c;_=u?n.readInt32():0;return null==(d=this.attachmentLoader.newPathAttachment(a,l))?null:(d.closed=P,d.constantSpeed=D,d.worldVerticesLength=x<<1,d.vertices=S.vertices,d.bones=S.bones,d.lengths=I,u&&t.Color.rgba8888ToColor(d.color,_),d);case t.AttachmentType.Point:p=n.readFloat(),f=n.readFloat(),m=n.readFloat(),_=u?n.readInt32():0;var j=this.attachmentLoader.newPointAttachment(a,l);return null==j?null:(j.x=f*c,j.y=m*c,j.rotation=p,u&&t.Color.rgba8888ToColor(j.color,_),j);case t.AttachmentType.Clipping:var F=n.readInt(!0),U=(x=n.readInt(!0),S=this.readVertices(n,x),_=u?n.readInt32():0,this.attachmentLoader.newClippingAttachment(a,l));return null==U?null:(U.endSlot=i.slots[F],U.worldVerticesLength=x<<1,U.vertices=S.vertices,U.bones=S.bones,u&&t.Color.rgba8888ToColor(U.color,_),U)}return null},e.prototype.readVertices=function(e,n){var r=n<<1,a=new i,o=this.scale;if(!e.readBoolean())return a.vertices=this.readFloatArray(e,r,o),a;for(var s=new Array,u=new Array,c=0;c<n;c++){var l=e.readInt(!0);u.push(l);for(var h=0;h<l;h++)u.push(e.readInt(!0)),s.push(e.readFloat()*o),s.push(e.readFloat()*o),s.push(e.readFloat())}return a.vertices=t.Utils.toFloatArray(s),a.bones=u,a},e.prototype.readFloatArray=function(t,e,n){var r=new Array(e);if(1==n)for(var i=0;i<e;i++)r[i]=t.readFloat();else for(i=0;i<e;i++)r[i]=t.readFloat()*n;return r},e.prototype.readShortArray=function(t){for(var e=t.readInt(!0),n=new Array(e),r=0;r<e;r++)n[r]=t.readShort();return n},e.prototype.readAnimation=function(n,r,i){for(var a=new Array,o=this.scale,s=0,u=new t.Color,c=new t.Color,l=0,h=n.readInt(!0);l<h;l++)for(var d=n.readInt(!0),p=0,f=n.readInt(!0);p<f;p++){var m=n.readByte(),g=n.readInt(!0);switch(m){case e.SLOT_ATTACHMENT:(_=new t.AttachmentTimeline(g)).slotIndex=d;for(var y=0;y<g;y++)_.setFrame(y,n.readFloat(),n.readStringRef());a.push(_),s=Math.max(s,_.frames[g-1]);break;case e.SLOT_COLOR:(_=new t.ColorTimeline(g)).slotIndex=d;for(y=0;y<g;y++){var v=n.readFloat();t.Color.rgba8888ToColor(u,n.readInt32()),_.setFrame(y,v,u.r,u.g,u.b,u.a),y<g-1&&this.readCurve(n,y,_)}a.push(_),s=Math.max(s,_.frames[(g-1)*t.ColorTimeline.ENTRIES]);break;case e.SLOT_TWO_COLOR:(_=new t.TwoColorTimeline(g)).slotIndex=d;for(y=0;y<g;y++){v=n.readFloat();t.Color.rgba8888ToColor(u,n.readInt32()),t.Color.rgb888ToColor(c,n.readInt32()),_.setFrame(y,v,u.r,u.g,u.b,u.a,c.r,c.g,c.b),y<g-1&&this.readCurve(n,y,_)}a.push(_),s=Math.max(s,_.frames[(g-1)*t.TwoColorTimeline.ENTRIES])}}for(l=0,h=n.readInt(!0);l<h;l++){var b=n.readInt(!0);for(p=0,f=n.readInt(!0);p<f;p++){m=n.readByte(),g=n.readInt(!0);switch(m){case e.BONE_ROTATE:(_=new t.RotateTimeline(g)).boneIndex=b;for(y=0;y<g;y++)_.setFrame(y,n.readFloat(),n.readFloat()),y<g-1&&this.readCurve(n,y,_);a.push(_),s=Math.max(s,_.frames[(g-1)*t.RotateTimeline.ENTRIES]);break;case e.BONE_TRANSLATE:case e.BONE_SCALE:case e.BONE_SHEAR:var _=void 0,w=1;m==e.BONE_SCALE?_=new t.ScaleTimeline(g):m==e.BONE_SHEAR?_=new t.ShearTimeline(g):(_=new t.TranslateTimeline(g),w=o),_.boneIndex=b;for(y=0;y<g;y++)_.setFrame(y,n.readFloat(),n.readFloat()*w,n.readFloat()*w),y<g-1&&this.readCurve(n,y,_);a.push(_),s=Math.max(s,_.frames[(g-1)*t.TranslateTimeline.ENTRIES])}}}for(l=0,h=n.readInt(!0);l<h;l++){var x=n.readInt(!0);g=n.readInt(!0);(_=new t.IkConstraintTimeline(g)).ikConstraintIndex=x;for(y=0;y<g;y++)_.setFrame(y,n.readFloat(),n.readFloat(),n.readFloat()*o,n.readByte(),n.readBoolean(),n.readBoolean()),y<g-1&&this.readCurve(n,y,_);a.push(_),s=Math.max(s,_.frames[(g-1)*t.IkConstraintTimeline.ENTRIES])}for(l=0,h=n.readInt(!0);l<h;l++){x=n.readInt(!0),g=n.readInt(!0);(_=new t.TransformConstraintTimeline(g)).transformConstraintIndex=x;for(y=0;y<g;y++)_.setFrame(y,n.readFloat(),n.readFloat(),n.readFloat(),n.readFloat(),n.readFloat()),y<g-1&&this.readCurve(n,y,_);a.push(_),s=Math.max(s,_.frames[(g-1)*t.TransformConstraintTimeline.ENTRIES])}for(l=0,h=n.readInt(!0);l<h;l++){x=n.readInt(!0);var S=i.pathConstraints[x];for(p=0,f=n.readInt(!0);p<f;p++){m=n.readByte(),g=n.readInt(!0);switch(m){case e.PATH_POSITION:case e.PATH_SPACING:_=void 0,w=1;m==e.PATH_SPACING?(_=new t.PathConstraintSpacingTimeline(g),S.spacingMode!=t.SpacingMode.Length&&S.spacingMode!=t.SpacingMode.Fixed||(w=o)):(_=new t.PathConstraintPositionTimeline(g),S.positionMode==t.PositionMode.Fixed&&(w=o)),_.pathConstraintIndex=x;for(y=0;y<g;y++)_.setFrame(y,n.readFloat(),n.readFloat()*w),y<g-1&&this.readCurve(n,y,_);a.push(_),s=Math.max(s,_.frames[(g-1)*t.PathConstraintPositionTimeline.ENTRIES]);break;case e.PATH_MIX:(_=new t.PathConstraintMixTimeline(g)).pathConstraintIndex=x;for(y=0;y<g;y++)_.setFrame(y,n.readFloat(),n.readFloat(),n.readFloat()),y<g-1&&this.readCurve(n,y,_);a.push(_),s=Math.max(s,_.frames[(g-1)*t.PathConstraintMixTimeline.ENTRIES])}}}for(l=0,h=n.readInt(!0);l<h;l++){var T=i.skins[n.readInt(!0)];for(p=0,f=n.readInt(!0);p<f;p++){d=n.readInt(!0);for(var M=0,E=n.readInt(!0);M<E;M++){var A=T.getAttachment(d,n.readStringRef()),k=null!=A.bones,C=A.vertices,O=k?C.length/3*2:C.length;g=n.readInt(!0);(_=new t.DeformTimeline(g)).slotIndex=d,_.attachment=A;for(y=0;y<g;y++){v=n.readFloat();var L=void 0,R=n.readInt(!0);if(0==R)L=k?t.Utils.newFloatArray(O):C;else{L=t.Utils.newFloatArray(O);var P=n.readInt(!0);if(R+=P,1==o)for(var D=P;D<R;D++)L[D]=n.readFloat();else for(D=P;D<R;D++)L[D]=n.readFloat()*o;if(!k){D=0;for(var I=L.length;D<I;D++)L[D]+=C[D]}}_.setFrame(y,v,L),y<g-1&&this.readCurve(n,y,_)}a.push(_),s=Math.max(s,_.frames[g-1])}}}var B=n.readInt(!0);if(B>0){_=new t.DrawOrderTimeline(B);var N=i.slots.length;for(l=0;l<B;l++){v=n.readFloat();var j=n.readInt(!0),F=t.Utils.newArray(N,0);for(p=N-1;p>=0;p--)F[p]=-1;var U=t.Utils.newArray(N-j,0),Y=0,G=0;for(p=0;p<j;p++){for(d=n.readInt(!0);Y!=d;)U[G++]=Y++;F[Y+n.readInt(!0)]=Y++}for(;Y<N;)U[G++]=Y++;for(p=N-1;p>=0;p--)-1==F[p]&&(F[p]=U[--G]);_.setFrame(l,v,F)}a.push(_),s=Math.max(s,_.frames[B-1])}var H=n.readInt(!0);if(H>0){for(_=new t.EventTimeline(H),l=0;l<H;l++){v=n.readFloat();var z=i.events[n.readInt(!0)],V=new t.Event(v,z);V.intValue=n.readInt(!1),V.floatValue=n.readFloat(),V.stringValue=n.readBoolean()?n.readString():z.stringValue,null!=V.data.audioPath&&(V.volume=n.readFloat(),V.balance=n.readFloat()),_.setFrame(l,V)}a.push(_),s=Math.max(s,_.frames[H-1])}return new t.Animation(r,a,s)},e.prototype.readCurve=function(t,n,r){switch(t.readByte()){case e.CURVE_STEPPED:r.setStepped(n);break;case e.CURVE_BEZIER:this.setCurve(r,n,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat())}},e.prototype.setCurve=function(t,e,n,r,i,a){t.setCurve(e,n,r,i,a)},e.AttachmentTypeValues=[0,1,2,3,4,5,6],e.TransformModeValues=[t.TransformMode.Normal,t.TransformMode.OnlyTranslation,t.TransformMode.NoRotationOrReflection,t.TransformMode.NoScale,t.TransformMode.NoScaleOrReflection],e.PositionModeValues=[t.PositionMode.Fixed,t.PositionMode.Percent],e.SpacingModeValues=[t.SpacingMode.Length,t.SpacingMode.Fixed,t.SpacingMode.Percent],e.RotateModeValues=[t.RotateMode.Tangent,t.RotateMode.Chain,t.RotateMode.ChainScale],e.BlendModeValues=[t.BlendMode.Normal,t.BlendMode.Additive,t.BlendMode.Multiply,t.BlendMode.Screen],e.BONE_ROTATE=0,e.BONE_TRANSLATE=1,e.BONE_SCALE=2,e.BONE_SHEAR=3,e.SLOT_ATTACHMENT=0,e.SLOT_COLOR=1,e.SLOT_TWO_COLOR=2,e.PATH_POSITION=0,e.PATH_SPACING=1,e.PATH_MIX=2,e.CURVE_LINEAR=0,e.CURVE_STEPPED=1,e.CURVE_BEZIER=2,e}();t.SkeletonBinary=e;var n=function(){function t(t,e,n,r){void 0===e&&(e=new Array),void 0===n&&(n=0),void 0===r&&(r=new DataView(t.buffer)),this.strings=e,this.index=n,this.buffer=r}return t.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},t.prototype.readShort=function(){var t=this.buffer.getInt16(this.index);return this.index+=2,t},t.prototype.readInt32=function(){var t=this.buffer.getInt32(this.index);return this.index+=4,t},t.prototype.readInt=function(t){var e=this.readByte(),n=127&e;return 0!=(128&e)&&(n|=(127&(e=this.readByte()))<<7,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<14,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<21,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<28)))),t?n:n>>>1^-(1&n)},t.prototype.readStringRef=function(){var t=this.readInt(!0);return 0==t?null:this.strings[t-1]},t.prototype.readString=function(){var t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;for(var e="",n=0;n<t;){var r=this.readByte();switch(r>>4){case 12:case 13:e+=String.fromCharCode((31&r)<<6|63&this.readByte()),n+=2;break;case 14:e+=String.fromCharCode((15&r)<<12|(63&this.readByte())<<6|63&this.readByte()),n+=3;break;default:e+=String.fromCharCode(r),n++}}return e},t.prototype.readFloat=function(){var t=this.buffer.getFloat32(this.index);return this.index+=4,t},t.prototype.readBoolean=function(){return 0!=this.readByte()},t}(),r=function(t,e,n,r,i){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=r,this.inheritDeform=i},i=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.bones=t,this.vertices=e}}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new t.Pool((function(){return t.Utils.newFloatArray(16)}))}return e.prototype.update=function(e,n){if(null==e)throw new Error("skeleton cannot be null.");var r=this.boundingBoxes,i=this.polygons,a=this.polygonPool,o=e.slots,s=o.length;r.length=0,a.freeAll(i),i.length=0;for(var u=0;u<s;u++){var c=o[u];if(c.bone.active){var l=c.getAttachment();if(l instanceof t.BoundingBoxAttachment){var h=l;r.push(h);var d=a.obtain();d.length!=h.worldVerticesLength&&(d=t.Utils.newFloatArray(h.worldVerticesLength)),i.push(d),h.computeWorldVertices(c,0,h.worldVerticesLength,d,0,2)}}}n?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},e.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,i=this.polygons,a=0,o=i.length;a<o;a++)for(var s=i[a],u=s,c=0,l=s.length;c<l;c+=2){var h=u[c],d=u[c+1];t=Math.min(t,h),e=Math.min(e,d),n=Math.max(n,h),r=Math.max(r,d)}this.minX=t,this.minY=e,this.maxX=n,this.maxY=r},e.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},e.prototype.aabbIntersectsSegment=function(t,e,n,r){var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY;if(t<=i&&n<=i||e<=a&&r<=a||t>=o&&n>=o||e>=s&&r>=s)return!1;var u=(r-e)/(n-t),c=u*(i-t)+e;if(c>a&&c<s)return!0;if((c=u*(o-t)+e)>a&&c<s)return!0;var l=(a-e)/u+t;return l>i&&l<o||(l=(s-e)/u+t)>i&&l<o},e.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},e.prototype.containsPoint=function(t,e){for(var n=this.polygons,r=0,i=n.length;r<i;r++)if(this.containsPointPolygon(n[r],t,e))return this.boundingBoxes[r];return null},e.prototype.containsPointPolygon=function(t,e,n){for(var r=t,i=t.length,a=i-2,o=!1,s=0;s<i;s+=2){var u=r[s+1],c=r[a+1];if(u<n&&c>=n||c<n&&u>=n){var l=r[s];l+(n-u)/(c-u)*(r[a]-l)<e&&(o=!o)}a=s}return o},e.prototype.intersectsSegment=function(t,e,n,r){for(var i=this.polygons,a=0,o=i.length;a<o;a++)if(this.intersectsSegmentPolygon(i[a],t,e,n,r))return this.boundingBoxes[a];return null},e.prototype.intersectsSegmentPolygon=function(t,e,n,r,i){for(var a=t,o=t.length,s=e-r,u=n-i,c=e*i-n*r,l=a[o-2],h=a[o-1],d=0;d<o;d+=2){var p=a[d],f=a[d+1],m=l*f-h*p,g=l-p,y=h-f,v=s*y-u*g,b=(c*g-s*m)/v;if((b>=l&&b<=p||b>=p&&b<=l)&&(b>=e&&b<=r||b>=r&&b<=e)){var _=(c*y-u*m)/v;if((_>=h&&_<=f||_>=f&&_<=h)&&(_>=n&&_<=i||_>=i&&_<=n))return!0}l=p,h=f}return!1},e.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},e.prototype.getWidth=function(){return this.maxX-this.minX},e.prototype.getHeight=function(){return this.maxY-this.minY},e}();t.SkeletonBounds=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(){this.triangulator=new t.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}return e.prototype.clipStart=function(n,r){if(null!=this.clipAttachment)return 0;this.clipAttachment=r;var i=r.worldVerticesLength,a=t.Utils.setArraySize(this.clippingPolygon,i);r.computeWorldVertices(n,0,i,a,0,2);var o=this.clippingPolygon;e.makeClockwise(o);for(var s=this.clippingPolygons=this.triangulator.decompose(o,this.triangulator.triangulate(o)),u=0,c=s.length;u<c;u++){var l=s[u];e.makeClockwise(l),l.push(l[0]),l.push(l[1])}return s.length},e.prototype.clipEndWithSlot=function(t){null!=this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()},e.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},e.prototype.isClipping=function(){return null!=this.clipAttachment},e.prototype.clipTriangles=function(e,n,r,i,a,o,s,u){var c=this.clipOutput,l=this.clippedVertices,h=this.clippedTriangles,d=this.clippingPolygons,p=this.clippingPolygons.length,f=u?12:8,m=0;l.length=0,h.length=0;t:for(var g=0;g<i;g+=3)for(var y=r[g]<<1,v=e[y],b=e[y+1],_=a[y],w=a[y+1],x=e[y=r[g+1]<<1],S=e[y+1],T=a[y],M=a[y+1],E=e[y=r[g+2]<<1],A=e[y+1],k=a[y],C=a[y+1],O=0;O<p;O++){var L=l.length;if(!this.clip(v,b,x,S,E,A,d[O],c)){(U=t.Utils.setArraySize(l,L+3*f))[L]=v,U[L+1]=b,U[L+2]=o.r,U[L+3]=o.g,U[L+4]=o.b,U[L+5]=o.a,u?(U[L+6]=_,U[L+7]=w,U[L+8]=s.r,U[L+9]=s.g,U[L+10]=s.b,U[L+11]=s.a,U[L+12]=x,U[L+13]=S,U[L+14]=o.r,U[L+15]=o.g,U[L+16]=o.b,U[L+17]=o.a,U[L+18]=T,U[L+19]=M,U[L+20]=s.r,U[L+21]=s.g,U[L+22]=s.b,U[L+23]=s.a,U[L+24]=E,U[L+25]=A,U[L+26]=o.r,U[L+27]=o.g,U[L+28]=o.b,U[L+29]=o.a,U[L+30]=k,U[L+31]=C,U[L+32]=s.r,U[L+33]=s.g,U[L+34]=s.b,U[L+35]=s.a):(U[L+6]=_,U[L+7]=w,U[L+8]=x,U[L+9]=S,U[L+10]=o.r,U[L+11]=o.g,U[L+12]=o.b,U[L+13]=o.a,U[L+14]=T,U[L+15]=M,U[L+16]=E,U[L+17]=A,U[L+18]=o.r,U[L+19]=o.g,U[L+20]=o.b,U[L+21]=o.a,U[L+22]=k,U[L+23]=C),L=h.length,(q=t.Utils.setArraySize(h,L+3))[L]=m,q[L+1]=m+1,q[L+2]=m+2,m+=3;continue t}var R=c.length;if(0!=R){for(var P=S-A,D=E-x,I=v-E,B=A-b,N=1/(P*I+D*(b-A)),j=R>>1,F=this.clipOutput,U=t.Utils.setArraySize(l,L+j*f),Y=0;Y<R;Y+=2){var G=F[Y],H=F[Y+1];U[L]=G,U[L+1]=H,U[L+2]=o.r,U[L+3]=o.g,U[L+4]=o.b,U[L+5]=o.a;var z=G-E,V=H-A,W=(P*z+D*V)*N,X=(B*z+I*V)*N,K=1-W-X;U[L+6]=_*W+T*X+k*K,U[L+7]=w*W+M*X+C*K,u&&(U[L+8]=s.r,U[L+9]=s.g,U[L+10]=s.b,U[L+11]=s.a),L+=f}L=h.length;var q=t.Utils.setArraySize(h,L+3*(j-2));j--;for(Y=1;Y<j;Y++)q[L]=m,q[L+1]=m+Y,q[L+2]=m+Y+1,L+=3;m+=j+1}}},e.prototype.clip=function(t,e,n,r,i,a,o,s){var u=s,c=!1,l=null;o.length%4>=2?(l=s,s=this.scratch):l=this.scratch,l.length=0,l.push(t),l.push(e),l.push(n),l.push(r),l.push(i),l.push(a),l.push(t),l.push(e),s.length=0;for(var h=o,d=o.length-4,p=0;;p+=2){for(var f=h[p],m=h[p+1],g=h[p+2],y=h[p+3],v=f-g,b=m-y,_=l,w=l.length-2,x=s.length,S=0;S<w;S+=2){var T=_[S],M=_[S+1],E=_[S+2],A=_[S+3],k=v*(A-y)-b*(E-g)>0;if(v*(M-y)-b*(T-g)>0){if(k){s.push(E),s.push(A);continue}var C=((L=E-T)*(m-M)-(O=A-M)*(f-T))/(O*(g-f)-L*(y-m));s.push(f+(g-f)*C),s.push(m+(y-m)*C)}else if(k){var O,L;C=((L=E-T)*(m-M)-(O=A-M)*(f-T))/(O*(g-f)-L*(y-m));s.push(f+(g-f)*C),s.push(m+(y-m)*C),s.push(E),s.push(A)}c=!0}if(x==s.length)return u.length=0,!0;if(s.push(s[0]),s.push(s[1]),p==d)break;var R=s;(s=l).length=0,l=R}if(u!=s){u.length=0;p=0;for(var P=s.length-2;p<P;p++)u[p]=s[p]}else u.length=u.length-2;return c},e.makeClockwise=function(t){for(var e=t,n=t.length,r=e[n-2]*e[1]-e[0]*e[n-1],i=0,a=0,o=0,s=0,u=n-3;s<u;s+=2)i=e[s],a=e[s+1],o=e[s+2],r+=i*e[s+3]-o*a;if(!(r<0)){s=0;var c=n-2;for(u=n>>1;s<u;s+=2){var l=e[s],h=e[s+1],d=c-s;e[s]=e[d],e[s+1]=e[d+1],e[d]=l,e[d+1]=h}}},e}();t.SkeletonClipping=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},t.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},t}();t.SkeletonData=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){t.FAIL_ON_NON_EXISTING_SKIN=!1;var e=function(){function e(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return e.prototype.readSkeletonData=function(n){var r=this.scale,i=new t.SkeletonData,a="string"==typeof n?JSON.parse(n):n,o=a.skeleton;if(null!=o){if(i.hash=o.hash,i.version=o.spine,"3.8"!==i.version.substr(0,3))o.spine;if("3.8.75"===i.version);i.x=o.x,i.y=o.y,i.width=o.width,i.height=o.height,i.fps=o.fps,i.imagesPath=o.images}if(a.bones)for(var s=0;s<a.bones.length;s++){var u=a.bones[s],c=null,l=this.getValue(u,"parent",null);if(null!=l&&null==(c=i.findBone(l)))throw new Error("Parent bone not found: "+l);(f=new t.BoneData(i.bones.length,u.name,c)).length=this.getValue(u,"length",0)*r,f.x=this.getValue(u,"x",0)*r,f.y=this.getValue(u,"y",0)*r,f.rotation=this.getValue(u,"rotation",0),f.scaleX=this.getValue(u,"scaleX",1),f.scaleY=this.getValue(u,"scaleY",1),f.shearX=this.getValue(u,"shearX",0),f.shearY=this.getValue(u,"shearY",0),f.transformMode=e.transformModeFromString(this.getValue(u,"transform","normal")),f.skinRequired=this.getValue(u,"skin",!1),i.bones.push(f)}if(a.slots)for(s=0;s<a.slots.length;s++){var h=(E=a.slots[s]).name,d=E.bone,p=i.findBone(d);if(null==p)throw new Error("Slot bone not found: "+d);var f=new t.SlotData(i.slots.length,h,p),m=this.getValue(E,"color",null);null!=m&&f.color.setFromString(m);var g=this.getValue(E,"dark",null);null!=g&&(f.darkColor=new t.Color(1,1,1,1),f.darkColor.setFromString(g)),f.attachmentName=this.getValue(E,"attachment",null),f.blendMode=e.blendModeFromString(this.getValue(E,"blend","normal")),i.slots.push(f)}if(a.ik)for(s=0;s<a.ik.length;s++){var y=a.ik[s];(f=new t.IkConstraintData(y.name)).order=this.getValue(y,"order",0),f.skinRequired=this.getValue(y,"skin",!1);for(var v=0;v<y.bones.length;v++){d=y.bones[v];if(null==(S=i.findBone(d)))throw new Error("IK bone not found: "+d);f.bones.push(S)}var b=y.target;if(f.target=i.findBone(b),null==f.target)throw new Error("IK target bone not found: "+b);f.mix=this.getValue(y,"mix",1),f.softness=this.getValue(y,"softness",0)*r,f.bendDirection=this.getValue(y,"bendPositive",!0)?1:-1,f.compress=this.getValue(y,"compress",!1),f.stretch=this.getValue(y,"stretch",!1),f.uniform=this.getValue(y,"uniform",!1),i.ikConstraints.push(f)}if(a.transform)for(s=0;s<a.transform.length;s++){y=a.transform[s];(f=new t.TransformConstraintData(y.name)).order=this.getValue(y,"order",0),f.skinRequired=this.getValue(y,"skin",!1);for(v=0;v<y.bones.length;v++){d=y.bones[v];if(null==(S=i.findBone(d)))throw new Error("Transform constraint bone not found: "+d);f.bones.push(S)}b=y.target;if(f.target=i.findBone(b),null==f.target)throw new Error("Transform constraint target bone not found: "+b);f.local=this.getValue(y,"local",!1),f.relative=this.getValue(y,"relative",!1),f.offsetRotation=this.getValue(y,"rotation",0),f.offsetX=this.getValue(y,"x",0)*r,f.offsetY=this.getValue(y,"y",0)*r,f.offsetScaleX=this.getValue(y,"scaleX",0),f.offsetScaleY=this.getValue(y,"scaleY",0),f.offsetShearY=this.getValue(y,"shearY",0),f.rotateMix=this.getValue(y,"rotateMix",1),f.translateMix=this.getValue(y,"translateMix",1),f.scaleMix=this.getValue(y,"scaleMix",1),f.shearMix=this.getValue(y,"shearMix",1),i.transformConstraints.push(f)}if(a.path)for(s=0;s<a.path.length;s++){y=a.path[s];(f=new t.PathConstraintData(y.name)).order=this.getValue(y,"order",0),f.skinRequired=this.getValue(y,"skin",!1);for(v=0;v<y.bones.length;v++){d=y.bones[v];if(null==(S=i.findBone(d)))throw new Error("Transform constraint bone not found: "+d);f.bones.push(S)}b=y.target;if(f.target=i.findSlot(b),null==f.target)throw new Error("Path target slot not found: "+b);f.positionMode=e.positionModeFromString(this.getValue(y,"positionMode","percent")),f.spacingMode=e.spacingModeFromString(this.getValue(y,"spacingMode","length")),f.rotateMode=e.rotateModeFromString(this.getValue(y,"rotateMode","tangent")),f.offsetRotation=this.getValue(y,"rotation",0),f.position=this.getValue(y,"position",0),f.positionMode==t.PositionMode.Fixed&&(f.position*=r),f.spacing=this.getValue(y,"spacing",0),f.spacingMode!=t.SpacingMode.Length&&f.spacingMode!=t.SpacingMode.Fixed||(f.spacing*=r),f.rotateMix=this.getValue(y,"rotateMix",1),f.translateMix=this.getValue(y,"translateMix",1),i.pathConstraints.push(f)}if(a.skins)for(s=0;s<a.skins.length;s++){var _=a.skins[s],w=new t.Skin(_.name);if(_.bones)for(var x=0;x<_.bones.length;x++){var S;if(null==(S=i.findBone(_.bones[x])))throw new Error("Skin bone not found: "+_.bones[s]);w.bones.push(S)}if(_.ik)for(x=0;x<_.ik.length;x++){if(null==(T=i.findIkConstraint(_.ik[x])))throw new Error("Skin IK constraint not found: "+_.ik[s]);w.constraints.push(T)}if(_.transform)for(x=0;x<_.transform.length;x++){if(null==(T=i.findTransformConstraint(_.transform[x])))throw new Error("Skin transform constraint not found: "+_.transform[s]);w.constraints.push(T)}if(_.path)for(x=0;x<_.path.length;x++){var T;if(null==(T=i.findPathConstraint(_.path[x])))throw new Error("Skin path constraint not found: "+_.path[s]);w.constraints.push(T)}for(var h in _.attachments){var M=i.findSlot(h);if(null==M)throw new Error("Slot not found: "+h);var E=_.attachments[h];for(var A in E){var k=this.readAttachment(E[A],w,M.index,A,i);null!=k&&w.setAttachment(M.index,A,k)}}i.skins.push(w),"default"==w.name&&(i.defaultSkin=w)}s=0;for(var C=this.linkedMeshes.length;s<C;s++){var O=this.linkedMeshes[s];if(null==(w=null==O.skin?i.defaultSkin:i.findSkin(O.skin)))throw new Error("Skin not found: "+O.skin);var L=w.getAttachment(O.slotIndex,O.parent);if(null==L)throw new Error("Parent mesh not found: "+O.parent);O.mesh.deformAttachment=O.inheritDeform?L:O.mesh,O.mesh.setParentMesh(L)}if(this.linkedMeshes.length=0,a.events)for(var R in a.events){var P=a.events[R];(f=new t.EventData(R)).intValue=this.getValue(P,"int",0),f.floatValue=this.getValue(P,"float",0),f.stringValue=this.getValue(P,"string",""),f.audioPath=this.getValue(P,"audio",null),null!=f.audioPath&&(f.volume=this.getValue(P,"volume",1),f.balance=this.getValue(P,"balance",0)),i.events.push(f)}if(a.animations)for(var D in a.animations){var I=a.animations[D];this.readAnimation(I,D,i)}return i},e.prototype.readAttachment=function(e,r,i,a,o){var s=this.scale;switch(a=this.getValue(e,"name",a),this.getValue(e,"type","region")){case"region":var u=this.getValue(e,"path",a),c=this.attachmentLoader.newRegionAttachment(r,a,u);return null==c?null:(c.path=u,c.x=this.getValue(e,"x",0)*s,c.y=this.getValue(e,"y",0)*s,c.scaleX=this.getValue(e,"scaleX",1),c.scaleY=this.getValue(e,"scaleY",1),c.rotation=this.getValue(e,"rotation",0),c.width=e.width*s,c.height=e.height*s,null!=(w=this.getValue(e,"color",null))&&c.color.setFromString(w),c);case"boundingbox":var l=this.attachmentLoader.newBoundingBoxAttachment(r,a);return null==l?null:(this.readVertices(e,l,e.vertexCount<<1),null!=(w=this.getValue(e,"color",null))&&l.color.setFromString(w),l);case"mesh":case"linkedmesh":u=this.getValue(e,"path",a);var h=this.attachmentLoader.newMeshAttachment(r,a,u);if(null==h)return null;h.path=u,null!=(w=this.getValue(e,"color",null))&&h.color.setFromString(w),h.width=this.getValue(e,"width",0)*s,h.height=this.getValue(e,"height",0)*s;var d=this.getValue(e,"parent",null);if(null!=d)return this.linkedMeshes.push(new n(h,this.getValue(e,"skin",null),i,d,this.getValue(e,"deform",!0))),h;var p=e.uvs;return this.readVertices(e,h,p.length),h.triangles=e.triangles,h.regionUVs=new Float32Array(p),h.edges=this.getValue(e,"edges",null),h.hullLength=2*this.getValue(e,"hull",0),h;case"path":if(null==(u=this.attachmentLoader.newPathAttachment(r,a)))return null;u.closed=this.getValue(e,"closed",!1),u.constantSpeed=this.getValue(e,"constantSpeed",!0);var f=e.vertexCount;this.readVertices(e,u,f<<1);for(var m=t.Utils.newArray(f/3,0),g=0;g<e.lengths.length;g++)m[g]=e.lengths[g]*s;return u.lengths=m,null!=(w=this.getValue(e,"color",null))&&u.color.setFromString(w),u;case"point":var y=this.attachmentLoader.newPointAttachment(r,a);return null==y?null:(y.x=this.getValue(e,"x",0)*s,y.y=this.getValue(e,"y",0)*s,y.rotation=this.getValue(e,"rotation",0),null!=(w=this.getValue(e,"color",null))&&y.color.setFromString(w),y);case"clipping":var v=this.attachmentLoader.newClippingAttachment(r,a);if(null==v)return null;var b=this.getValue(e,"end",null);if(null!=b){var _=o.findSlot(b);if(null==_)throw new Error("Clipping end slot not found: "+b);v.endSlot=_}var w;f=e.vertexCount;return this.readVertices(e,v,f<<1),null!=(w=this.getValue(e,"color",null))&&v.color.setFromString(w),v}return null},e.prototype.readVertices=function(e,n,r){var i=this.scale;n.worldVerticesLength=r;var a=e.vertices;if(r!=a.length){var o=new Array,s=new Array;for(h=0,d=a.length;h<d;){var u=a[h++];s.push(u);for(var c=h+4*u;h<c;h+=4)s.push(a[h]),o.push(a[h+1]*i),o.push(a[h+2]*i),o.push(a[h+3])}n.bones=s,n.vertices=t.Utils.toFloatArray(o)}else{var l=t.Utils.toFloatArray(a);if(1!=i)for(var h=0,d=a.length;h<d;h++)l[h]*=i;n.vertices=l}},e.prototype.readAnimation=function(e,n,r){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var u=e.slots[s];if(-1==(Z=r.findSlotIndex(s)))throw new Error("Slot not found: "+s);for(var c in u){var l=u[c];if("attachment"==c){(_=new t.AttachmentTimeline(l.length)).slotIndex=Z;for(var h=0,d=0;d<l.length;d++){var p=l[d];_.setFrame(h++,this.getValue(p,"time",0),p.name)}a.push(_),o=Math.max(o,_.frames[_.getFrameCount()-1])}else if("color"==c){(_=new t.ColorTimeline(l.length)).slotIndex=Z;for(h=0,d=0;d<l.length;d++){p=l[d];var f=new t.Color;f.setFromString(p.color||"ffffffff"),_.setFrame(h,this.getValue(p,"time",0),f.r,f.g,f.b,f.a),this.readCurve(p,_,h),h++}a.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*t.ColorTimeline.ENTRIES])}else{if("twoColor"!=c)throw new Error("Invalid timeline type for a slot: "+c+" ("+s+")");(_=new t.TwoColorTimeline(l.length)).slotIndex=Z;for(h=0,d=0;d<l.length;d++){p=l[d];var m=new t.Color,g=new t.Color;m.setFromString(p.light),g.setFromString(p.dark),_.setFrame(h,this.getValue(p,"time",0),m.r,m.g,m.b,m.a,g.r,g.g,g.b),this.readCurve(p,_,h),h++}a.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*t.TwoColorTimeline.ENTRIES])}}}if(e.bones)for(var y in e.bones){var v=e.bones[y],b=r.findBoneIndex(y);if(-1==b)throw new Error("Bone not found: "+y);for(var c in v){l=v[c];if("rotate"===c){(_=new t.RotateTimeline(l.length)).boneIndex=b;for(h=0,d=0;d<l.length;d++){p=l[d];_.setFrame(h,this.getValue(p,"time",0),this.getValue(p,"angle",0)),this.readCurve(p,_,h),h++}a.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*t.RotateTimeline.ENTRIES])}else{if("translate"!==c&&"scale"!==c&&"shear"!==c)throw new Error("Invalid timeline type for a bone: "+c+" ("+y+")");var _=null,w=1,x=0;"scale"===c?(_=new t.ScaleTimeline(l.length),x=1):"shear"===c?_=new t.ShearTimeline(l.length):(_=new t.TranslateTimeline(l.length),w=i),_.boneIndex=b;for(h=0,d=0;d<l.length;d++){p=l[d];var S=this.getValue(p,"x",x),T=this.getValue(p,"y",x);_.setFrame(h,this.getValue(p,"time",0),S*w,T*w),this.readCurve(p,_,h),h++}a.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*t.TranslateTimeline.ENTRIES])}}}if(e.ik)for(var M in e.ik){var E=e.ik[M],A=r.findIkConstraint(M);(_=new t.IkConstraintTimeline(E.length)).ikConstraintIndex=r.ikConstraints.indexOf(A);for(h=0,d=0;d<E.length;d++){p=E[d];_.setFrame(h,this.getValue(p,"time",0),this.getValue(p,"mix",1),this.getValue(p,"softness",0)*i,this.getValue(p,"bendPositive",!0)?1:-1,this.getValue(p,"compress",!1),this.getValue(p,"stretch",!1)),this.readCurve(p,_,h),h++}a.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*t.IkConstraintTimeline.ENTRIES])}if(e.transform)for(var M in e.transform){E=e.transform[M],A=r.findTransformConstraint(M);(_=new t.TransformConstraintTimeline(E.length)).transformConstraintIndex=r.transformConstraints.indexOf(A);for(h=0,d=0;d<E.length;d++){p=E[d];_.setFrame(h,this.getValue(p,"time",0),this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1),this.getValue(p,"scaleMix",1),this.getValue(p,"shearMix",1)),this.readCurve(p,_,h),h++}a.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*t.TransformConstraintTimeline.ENTRIES])}if(e.path)for(var M in e.path){E=e.path[M];var k=r.findPathConstraintIndex(M);if(-1==k)throw new Error("Path constraint not found: "+M);var C=r.pathConstraints[k];for(var c in E){l=E[c];if("position"===c||"spacing"===c){_=null,w=1;"spacing"===c?(_=new t.PathConstraintSpacingTimeline(l.length),C.spacingMode!=t.SpacingMode.Length&&C.spacingMode!=t.SpacingMode.Fixed||(w=i)):(_=new t.PathConstraintPositionTimeline(l.length),C.positionMode==t.PositionMode.Fixed&&(w=i)),_.pathConstraintIndex=k;for(h=0,d=0;d<l.length;d++){p=l[d];_.setFrame(h,this.getValue(p,"time",0),this.getValue(p,c,0)*w),this.readCurve(p,_,h),h++}a.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*t.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===c){(_=new t.PathConstraintMixTimeline(l.length)).pathConstraintIndex=k;for(h=0,d=0;d<l.length;d++){p=l[d];_.setFrame(h,this.getValue(p,"time",0),this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1)),this.readCurve(p,_,h),h++}a.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*t.PathConstraintMixTimeline.ENTRIES])}}}if(e.deform)for(var O in e.deform){var L=e.deform[O],R=r.findSkin(O);if(null!=R)for(var s in L){u=L[s];if(-1==(Z=r.findSlotIndex(s)))throw new Error("Slot not found: "+u.name);for(var c in u){l=u[c];var P=R.getAttachment(Z,c);if(null==P)throw new Error("Deform attachment not found: "+l.name);var D=null!=P.bones,I=P.vertices,B=D?I.length/3*2:I.length;(_=new t.DeformTimeline(l.length)).slotIndex=Z,_.attachment=P;h=0;for(var N=0;N<l.length;N++){p=l[N];var j=void 0,F=this.getValue(p,"vertices",null);if(null==F)j=D?t.Utils.newFloatArray(B):I;else{j=t.Utils.newFloatArray(B);var U=this.getValue(p,"offset",0);if(t.Utils.arrayCopy(F,0,j,U,F.length),1!=i)for(var Y=(d=U)+F.length;d<Y;d++)j[d]*=i;if(!D)for(d=0;d<B;d++)j[d]+=I[d]}_.setFrame(h,this.getValue(p,"time",0),j),this.readCurve(p,_,h),h++}a.push(_),o=Math.max(o,_.frames[_.getFrameCount()-1])}}else if(t.FAIL_ON_NON_EXISTING_SKIN)throw new Error("Skin not found: "+O)}var G=e.drawOrder;if(null==G&&(G=e.draworder),null!=G){_=new t.DrawOrderTimeline(G.length);var H=r.slots.length;for(h=0,N=0;N<G.length;N++){var z=G[N],V=null,W=this.getValue(z,"offsets",null);if(null!=W){V=t.Utils.newArray(H,-1);var X=t.Utils.newArray(H-W.length,0),K=0,q=0;for(d=0;d<W.length;d++){var Z,J=W[d];if(-1==(Z=r.findSlotIndex(J.slot)))throw new Error("Slot not found: "+J.slot);for(;K!=Z;)X[q++]=K++;V[K+J.offset]=K++}for(;K<H;)X[q++]=K++;for(d=H-1;d>=0;d--)-1==V[d]&&(V[d]=X[--q])}_.setFrame(h++,this.getValue(z,"time",0),V)}a.push(_),o=Math.max(o,_.frames[_.getFrameCount()-1])}if(e.events){for(_=new t.EventTimeline(e.events.length),h=0,d=0;d<e.events.length;d++){var Q=e.events[d],$=r.findEvent(Q.name);if(null==$)throw new Error("Event not found: "+Q.name);var tt=new t.Event(t.Utils.toSinglePrecision(this.getValue(Q,"time",0)),$);tt.intValue=this.getValue(Q,"int",$.intValue),tt.floatValue=this.getValue(Q,"float",$.floatValue),tt.stringValue=this.getValue(Q,"string",$.stringValue),null!=tt.data.audioPath&&(tt.volume=this.getValue(Q,"volume",1),tt.balance=this.getValue(Q,"balance",0)),_.setFrame(h++,tt)}a.push(_),o=Math.max(o,_.frames[_.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");r.animations.push(new t.Animation(n,a,o))},e.prototype.readCurve=function(t,e,n){if(t.hasOwnProperty("curve"))if("stepped"===t.curve)e.setStepped(n);else{var r=t.curve;e.setCurve(n,r,this.getValue(t,"c2",0),this.getValue(t,"c3",1),this.getValue(t,"c4",1))}},e.prototype.getValue=function(t,e,n){return void 0!==t[e]?t[e]:n},e.blendModeFromString=function(e){if("normal"==(e=e.toLowerCase()))return t.BlendMode.Normal;if("additive"==e)return t.BlendMode.Additive;if("multiply"==e)return t.BlendMode.Multiply;if("screen"==e)return t.BlendMode.Screen;throw new Error("Unknown blend mode: "+e)},e.positionModeFromString=function(e){if("fixed"==(e=e.toLowerCase()))return t.PositionMode.Fixed;if("percent"==e)return t.PositionMode.Percent;throw new Error("Unknown position mode: "+e)},e.spacingModeFromString=function(e){if("length"==(e=e.toLowerCase()))return t.SpacingMode.Length;if("fixed"==e)return t.SpacingMode.Fixed;if("percent"==e)return t.SpacingMode.Percent;throw new Error("Unknown position mode: "+e)},e.rotateModeFromString=function(e){if("tangent"==(e=e.toLowerCase()))return t.RotateMode.Tangent;if("chain"==e)return t.RotateMode.Chain;if("chainscale"==e)return t.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+e)},e.transformModeFromString=function(e){if("normal"==(e=e.toLowerCase()))return t.TransformMode.Normal;if("onlytranslation"==e)return t.TransformMode.OnlyTranslation;if("norotationorreflection"==e)return t.TransformMode.NoRotationOrReflection;if("noscale"==e)return t.TransformMode.NoScale;if("noscaleorreflection"==e)return t.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},e}();t.SkeletonJson=e;var n=function(t,e,n,r,i){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=r,this.inheritDeform=i}}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(t,e,n){this.slotIndex=t,this.name=e,this.attachment=n};t.SkinEntry=e;var n=function(){function n(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==t)throw new Error("name cannot be null.");this.name=t}return n.prototype.setAttachment=function(t,e,n){if(null==n)throw new Error("attachment cannot be null.");var r=this.attachments;t>=r.length&&(r.length=t+1),r[t]||(r[t]={}),r[t][e]=n},n.prototype.addSkin=function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==n){r=!0;break}r||this.bones.push(n)}for(e=0;e<t.constraints.length;e++){var a=t.constraints[e];for(r=!1,i=0;i<this.constraints.length;i++)if(this.constraints[i]==a){r=!0;break}r||this.constraints.push(a)}var o=t.getAttachments();for(e=0;e<o.length;e++){var s=o[e];this.setAttachment(s.slotIndex,s.name,s.attachment)}},n.prototype.copySkin=function(e){for(var n=0;n<e.bones.length;n++){for(var r=e.bones[n],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==r){i=!0;break}i||this.bones.push(r)}for(n=0;n<e.constraints.length;n++){var o=e.constraints[n];for(i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}var s=e.getAttachments();for(n=0;n<s.length;n++){var u=s[n];null!=u.attachment&&(u.attachment instanceof t.MeshAttachment?(u.attachment=u.attachment.newLinkedMesh(),this.setAttachment(u.slotIndex,u.name,u.attachment)):(u.attachment=u.attachment.copy(),this.setAttachment(u.slotIndex,u.name,u.attachment)))}},n.prototype.getAttachment=function(t,e){var n=this.attachments[t];return n?n[e]:null},n.prototype.removeAttachment=function(t,e){var n=this.attachments[t];n&&(n[e]=null)},n.prototype.getAttachments=function(){for(var t=new Array,n=0;n<this.attachments.length;n++){var r=this.attachments[n];if(r)for(var i in r){var a=r[i];a&&t.push(new e(n,i,a))}}return t},n.prototype.getAttachmentsForSlot=function(t,n){var r=this.attachments[t];if(r)for(var i in r){var a=r[i];a&&n.push(new e(t,i,a))}},n.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},n.prototype.attachAll=function(t,e){for(var n=0,r=0;r<t.slots.length;r++){var i=t.slots[r],a=i.getAttachment();if(a&&n<e.attachments.length){var o=e.attachments[n];for(var s in o){if(a==o[s]){var u=this.getAttachment(n,s);null!=u&&i.setAttachment(u);break}}}n++}},n}();t.Skin=n}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(e,n){if(this.deform=new Array,null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("bone cannot be null.");this.data=e,this.bone=n,this.color=new t.Color,this.darkColor=null==e.darkColor?null:new t.Color,this.setToSetupPose(),this.blendMode=this.data.blendMode}return e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},e.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},e.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},e}();t.Slot=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(e,n,r){if(this.color=new t.Color(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(null==n)throw new Error("name cannot be null.");if(null==r)throw new Error("boneData cannot be null.");this.index=e,this.name=n,this.boneData=r};t.SlotData=e}(t.core||(t.core={}))}(r||(r={})),function(e){!function(e){var n,r,i=function(){function t(t){this._image=t}return t.prototype.getImage=function(){return this._image},t.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return n.Nearest;case"linear":return n.Linear;case"mipmap":return n.MipMap;case"mipmapnearestnearest":return n.MipMapNearestNearest;case"mipmaplinearnearest":return n.MipMapLinearNearest;case"mipmapnearestlinear":return n.MipMapNearestLinear;case"mipmaplinearlinear":return n.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},t.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return r.MirroredRepeat;case"clamptoedge":return r.ClampToEdge;case"repeat":return r.Repeat;default:throw new Error("Unknown texture wrap "+t)}},t}();e.Texture=i,function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"}(n=e.TextureFilter||(e.TextureFilter={})),function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"}(r=e.TextureWrap||(e.TextureWrap={}));var a=function(){function e(){this.size=null}return Object.defineProperty(e.prototype,"width",{get:function(){var e=this.texture;return"3"==t.VERSION[0]?e.crop.width:e.trim?e.trim.width:e.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){var e=this.texture;return"3"==t.VERSION[0]?e.crop.height:e.trim?e.trim.height:e.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"u",{get:function(){return this.texture._uvs.x0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"v",{get:function(){return this.texture._uvs.y0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"u2",{get:function(){return this.texture._uvs.x2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"v2",{get:function(){return this.texture._uvs.y2},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetX",{get:function(){var t=this.texture;return t.trim?t.trim.x:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsetY",{get:function(){return this.spineOffsetY},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pixiOffsetY",{get:function(){var t=this.texture;return t.trim?t.trim.y:0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"spineOffsetY",{get:function(){var t=this.texture;return this.originalHeight-this.height-(t.trim?t.trim.y:0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"originalWidth",{get:function(){var e=this.texture;return"3"==t.VERSION[0]?e.trim?e.trim.width:e.crop.width:e.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"originalHeight",{get:function(){var e=this.texture;return"3"==t.VERSION[0]?e.trim?e.trim.height:e.crop.height:e.orig.height},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"x",{get:function(){return this.texture.frame.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.texture.frame.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return 0!==this.texture.rotate},enumerable:!1,configurable:!0}),e}();e.TextureRegion=a}(e.core||(e.core={}))}(r||(r={})),function(e){!function(e){var n=function(){function n(t,e,n){this.pages=new Array,this.regions=new Array,t&&this.addSpineAtlas(t,e,n)}return n.prototype.addTexture=function(t,n){for(var r=this.pages,i=null,s=0;s<r.length;s++)if(r[s].baseTexture===n.baseTexture){i=r[s];break}if(null===i){(i=new a).name="texturePage";var u=n.baseTexture;i.width=u.realWidth,i.height=u.realHeight,i.baseTexture=u,i.minFilter=i.magFilter=e.TextureFilter.Nearest,i.uWrap=e.TextureWrap.ClampToEdge,i.vWrap=e.TextureWrap.ClampToEdge,r.push(i)}var c=new o;return c.name=t,c.page=i,c.texture=n,c.index=-1,this.regions.push(c),c},n.prototype.addTextureHash=function(t,e){for(var n in t)t.hasOwnProperty(n)&&this.addTexture(e&&-1!==n.indexOf(".")?n.substr(0,n.lastIndexOf(".")):n,t[n])},n.prototype.addSpineAtlas=function(t,e,n){return this.load(t,e,n)},n.prototype.load=function(n,i,s){var u=this;if(null==i)throw new Error("textureLoader cannot be null.");var c=new r(n),l=new Array(4),h=null;!function n(){for(;;){var r=c.readLine();if(null==r)return s&&s(u);if(0==(r=r.trim()).length)h=null;else{if(!h){(h=new a).name=r,2==c.readTuple(l)&&(h.width=parseInt(l[0]),h.height=parseInt(l[1]),c.readTuple(l)),c.readTuple(l),h.minFilter=e.Texture.filterFromString(l[0]),h.magFilter=e.Texture.filterFromString(l[1]);var d=c.readValue();h.uWrap=e.TextureWrap.ClampToEdge,h.vWrap=e.TextureWrap.ClampToEdge,"x"==d?h.uWrap=e.TextureWrap.Repeat:"y"==d?h.vWrap=e.TextureWrap.Repeat:"xy"==d&&(h.uWrap=h.vWrap=e.TextureWrap.Repeat),i(r,(function(t){if(null===t)return u.pages.splice(u.pages.indexOf(h),1),s&&s(null);h.baseTexture=t,t.valid||t.setSize(h.width,h.height),u.pages.push(h),h.setFilters(),h.width&&h.height||(h.width=t.realWidth,h.height=t.realHeight,!h.width||h.height),n()})),u.pages.push(h);break}var p=new o;p.name=r,p.page=h;var f=c.readValue(),m=0;m="true"==f.toLocaleLowerCase()?6:"false"==f.toLocaleLowerCase()?0:(720-parseFloat(f))%360/45,c.readTuple(l);var g=parseInt(l[0]),y=parseInt(l[1]);c.readTuple(l);var v=parseInt(l[0]),b=parseInt(l[1]),_=h.baseTexture.resolution;g/=_,y/=_,v/=_,b/=_;var w=m%4!=0,x=new t.Rectangle(g,y,w?b:v,w?v:b);4==c.readTuple(l)&&4==c.readTuple(l)&&c.readTuple(l);var S=parseInt(l[0])/_,T=parseInt(l[1])/_;c.readTuple(l);var M=parseInt(l[0])/_,E=parseInt(l[1])/_,A=new t.Rectangle(0,0,S,T),k=new t.Rectangle(M,T-b-E,v,b);if("3"!=t.VERSION[0])p.texture=new t.Texture(p.page.baseTexture,x,A,k,m);else{var C=new t.Rectangle(g,y,v,b),O=C.clone();k.width=S,k.height=T,p.texture=new t.Texture(p.page.baseTexture,C,O,k,m)}p.index=parseInt(c.readValue()),p.texture.updateUvs(),u.regions.push(p)}}}()},n.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},n.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].baseTexture.dispose()},n}();e.TextureAtlas=n;var r=function(){function t(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},t.prototype.readTuple=function(t){var e=this.readLine(),n=e.indexOf(":");if(-1==n)throw new Error("Invalid line: "+e);for(var r=0,i=n+1;r<3;r++){var a=e.indexOf(",",i);if(-1==a)break;t[r]=e.substr(i,a-i).trim(),i=a+1}return t[r]=e.substring(i).trim(),r+1},t}(),a=function(){function n(){}return n.prototype.setFilters=function(){var n=this.baseTexture,r=this.minFilter;r==e.TextureFilter.Linear?n.scaleMode=t.SCALE_MODES.LINEAR:this.minFilter==e.TextureFilter.Nearest?n.scaleMode=t.SCALE_MODES.NEAREST:(n.mipmap=t.MIPMAP_MODES.POW2,r==e.TextureFilter.MipMapNearestNearest?n.scaleMode=t.SCALE_MODES.NEAREST:n.scaleMode=t.SCALE_MODES.LINEAR)},n}();e.TextureAtlasPage=a;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(e.TextureRegion);e.TextureAtlasRegion=o}(e.core||(e.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(e,n){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new t.Vector2,this.active=!1,null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var r=0;r<e.bones.length;r++)this.bones.push(n.findBone(e.bones[r].name));this.target=n.findBone(e.target.name)}return e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},e.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,n=this.translateMix,r=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,u=o.c,c=o.b,l=o.d,h=s*l-u*c>0?t.MathUtils.degRad:-t.MathUtils.degRad,d=this.data.offsetRotation*h,p=this.data.offsetShearY*h,f=this.bones,m=0,g=f.length;m<g;m++){var y=f[m],v=!1,b=y.matrix;if(0!=e){var _=b.a,w=b.c,x=b.b,S=b.d;(C=Math.atan2(c,s)-Math.atan2(x,_)+d)>t.MathUtils.PI?C-=t.MathUtils.PI2:C<-t.MathUtils.PI&&(C+=t.MathUtils.PI2),C*=e;var T=Math.cos(C),M=Math.sin(C);b.a=T*_-M*x,b.c=T*w-M*S,b.b=M*_+T*x,b.d=M*w+T*S,v=!0}if(0!=n){var E=this.temp;a.localToWorld(E.set(this.data.offsetX,this.data.offsetY)),b.tx+=(E.x-b.tx)*n,b.ty+=(E.y-b.ty)*n,v=!0}if(r>0){var A=Math.sqrt(b.a*b.a+b.b*b.b),k=Math.sqrt(s*s+c*c);A>1e-5&&(A=(A+(k-A+this.data.offsetScaleX)*r)/A),b.a*=A,b.b*=A,A=Math.sqrt(b.c*b.c+b.d*b.d),k=Math.sqrt(u*u+l*l),A>1e-5&&(A=(A+(k-A+this.data.offsetScaleY)*r)/A),b.c*=A,b.d*=A,v=!0}if(i>0){w=b.c,S=b.d;var C,O=Math.atan2(S,w);(C=Math.atan2(l,u)-Math.atan2(c,s)-(O-Math.atan2(b.b,b.a)))>t.MathUtils.PI?C-=t.MathUtils.PI2:C<-t.MathUtils.PI&&(C+=t.MathUtils.PI2),C=O+(C+p)*i;A=Math.sqrt(w*w+S*S);b.c=Math.cos(C)*A,b.d=Math.sin(C)*A,v=!0}v&&(y.appliedValid=!1)}},e.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,n=this.translateMix,r=this.scaleMix,i=this.shearMix,a=this.target,o=a.matrix,s=o.a,u=o.c,c=o.b,l=o.d,h=s*l-u*c>0?t.MathUtils.degRad:-t.MathUtils.degRad,d=this.data.offsetRotation*h,p=this.data.offsetShearY*h,f=this.bones,m=0,g=f.length;m<g;m++){var y=f[m],v=!1,b=y.matrix;if(0!=e){var _=b.a,w=b.c,x=b.b,S=b.d;(k=Math.atan2(c,s)+d)>t.MathUtils.PI?k-=t.MathUtils.PI2:k<-t.MathUtils.PI&&(k+=t.MathUtils.PI2),k*=e;var T=Math.cos(k),M=Math.sin(k);b.a=T*_-M*x,b.c=T*w-M*S,b.b=M*_+T*x,b.d=M*w+T*S,v=!0}if(0!=n){var E=this.temp;a.localToWorld(E.set(this.data.offsetX,this.data.offsetY)),b.tx+=E.x*n,b.ty+=E.y*n,v=!0}if(r>0){var A=(Math.sqrt(s*s+c*c)-1+this.data.offsetScaleX)*r+1;b.a*=A,b.b*=A,A=(Math.sqrt(u*u+l*l)-1+this.data.offsetScaleY)*r+1,b.c*=A,b.d*=A,v=!0}if(i>0){var k;(k=Math.atan2(l,u)-Math.atan2(c,s))>t.MathUtils.PI?k-=t.MathUtils.PI2:k<-t.MathUtils.PI&&(k+=t.MathUtils.PI2);w=b.c,S=b.d;k=Math.atan2(S,w)+(k-t.MathUtils.PI/2+p)*i;A=Math.sqrt(w*w+S*S);b.c=Math.cos(k)*A,b.d=Math.sin(k)*A,v=!0}v&&(y.appliedValid=!1)}},e.prototype.applyAbsoluteLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var a=this.bones,o=0,s=a.length;o<s;o++){var u=a[o];u.appliedValid||u.updateAppliedTransform();var c=u.arotation;if(0!=t){var l=i.arotation-c+this.data.offsetRotation;c+=(l-=360*(16384-(16384.499999999996-l/360|0)))*t}var h=u.ax,d=u.ay;0!=e&&(h+=(i.ax-h+this.data.offsetX)*e,d+=(i.ay-d+this.data.offsetY)*e);var p=u.ascaleX,f=u.ascaleY;n>0&&(p>1e-5&&(p=(p+(i.ascaleX-p+this.data.offsetScaleX)*n)/p),f>1e-5&&(f=(f+(i.ascaleY-f+this.data.offsetScaleY)*n)/f));var m=u.ashearY;if(r>0){l=i.ashearY-m+this.data.offsetShearY;l-=360*(16384-(16384.499999999996-l/360|0)),u.shearY+=l*r}u.updateWorldTransformWith(h,d,c,p,f,u.ashearX,m)}},e.prototype.applyRelativeLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var a=this.bones,o=0,s=a.length;o<s;o++){var u=a[o];u.appliedValid||u.updateAppliedTransform();var c=u.arotation;0!=t&&(c+=(i.arotation+this.data.offsetRotation)*t);var l=u.ax,h=u.ay;0!=e&&(l+=(i.ax+this.data.offsetX)*e,h+=(i.ay+this.data.offsetY)*e);var d=u.ascaleX,p=u.ascaleY;n>0&&(d>1e-5&&(d*=(i.ascaleX-1+this.data.offsetScaleX)*n+1),p>1e-5&&(p*=(i.ascaleY-1+this.data.offsetScaleY)*n+1));var f=u.ashearY;r>0&&(f+=(i.ashearY+this.data.offsetShearY)*r),u.updateWorldTransformWith(l,h,c,d,p,u.ashearX,f)}},e}();t.TransformConstraint=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(t){function e(e){var n=t.call(this,e,0,!1)||this;return n.bones=new Array,n.rotateMix=0,n.translateMix=0,n.scaleMix=0,n.shearMix=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return i(e,t),e}(t.ConstraintData);t.TransformConstraintData=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new t.Pool((function(){return new Array})),this.polygonIndicesPool=new t.Pool((function(){return new Array}))}return e.prototype.triangulate=function(t){var n=t,r=t.length>>1,i=this.indicesArray;i.length=0;for(var a=0;a<r;a++)i[a]=a;var o=this.isConcaveArray;o.length=0;a=0;for(var s=r;a<s;++a)o[a]=e.isConcave(a,r,n,i);var u=this.triangles;for(u.length=0;r>3;){for(var c=r-1,l=(a=0,1);;){t:if(!o[a]){for(var h=i[c]<<1,d=i[a]<<1,p=i[l]<<1,f=n[h],m=n[h+1],g=n[d],y=n[d+1],v=n[p],b=n[p+1],_=(l+1)%r;_!=c;_=(_+1)%r)if(o[_]){var w=i[_]<<1,x=n[w],S=n[w+1];if(e.positiveArea(v,b,f,m,x,S)&&e.positiveArea(f,m,g,y,x,S)&&e.positiveArea(g,y,v,b,x,S))break t}break}if(0==l){do{if(!o[a])break;a--}while(a>0);break}c=a,a=l,l=(l+1)%r}u.push(i[(r+a-1)%r]),u.push(i[a]),u.push(i[(a+1)%r]),i.splice(a,1),o.splice(a,1);var T=(--r+a-1)%r,M=a==r?0:a;o[T]=e.isConcave(T,r,n,i),o[M]=e.isConcave(M,r,n,i)}return 3==r&&(u.push(i[2]),u.push(i[0]),u.push(i[1])),u},e.prototype.decompose=function(t,n){var r=t,i=this.convexPolygons;this.polygonPool.freeAll(i),i.length=0;var a=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(a),a.length=0;var o=this.polygonIndicesPool.obtain();o.length=0;var s=this.polygonPool.obtain();s.length=0;for(var u=-1,c=0,l=0,h=n.length;l<h;l+=3){var d=n[l]<<1,p=n[l+1]<<1,f=n[l+2]<<1,m=r[d],g=r[d+1],y=r[p],v=r[p+1],b=r[f],_=r[f+1],w=!1;if(u==d){var x=s.length-4,S=e.winding(s[x],s[x+1],s[x+2],s[x+3],b,_),T=e.winding(b,_,s[0],s[1],s[2],s[3]);S==c&&T==c&&(s.push(b),s.push(_),o.push(f),w=!0)}w||(s.length>0?(i.push(s),a.push(o)):(this.polygonPool.free(s),this.polygonIndicesPool.free(o)),(s=this.polygonPool.obtain()).length=0,s.push(m),s.push(g),s.push(y),s.push(v),s.push(b),s.push(_),(o=this.polygonIndicesPool.obtain()).length=0,o.push(d),o.push(p),o.push(f),c=e.winding(m,g,y,v,b,_),u=d)}s.length>0&&(i.push(s),a.push(o));for(l=0,h=i.length;l<h;l++)if(0!=(o=a[l]).length)for(var M=o[0],E=o[o.length-1],A=(s=i[l])[x=s.length-4],k=s[x+1],C=s[x+2],O=s[x+3],L=s[0],R=s[1],P=s[2],D=s[3],I=e.winding(A,k,C,O,L,R),B=0;B<h;B++)if(B!=l){var N=a[B];if(3==N.length){var j=N[0],F=N[1],U=N[2],Y=i[B];b=Y[Y.length-2],_=Y[Y.length-1];if(j==M&&F==E){S=e.winding(A,k,C,O,b,_),T=e.winding(b,_,L,R,P,D);S==I&&T==I&&(Y.length=0,N.length=0,s.push(b),s.push(_),o.push(U),A=C,k=O,C=b,O=_,B=0)}}}for(l=i.length-1;l>=0;l--)0==(s=i[l]).length&&(i.splice(l,1),this.polygonPool.free(s),o=a[l],a.splice(l,1),this.polygonIndicesPool.free(o));return i},e.isConcave=function(t,e,n,r){var i=r[(e+t-1)%e]<<1,a=r[t]<<1,o=r[(t+1)%e]<<1;return!this.positiveArea(n[i],n[i+1],n[a],n[a+1],n[o],n[o+1])},e.positiveArea=function(t,e,n,r,i,a){return t*(a-r)+n*(e-a)+i*(r-e)>=0},e.winding=function(t,e,n,r,i,a){var o=n-t,s=r-e;return i*s-a*o+o*e-t*s>=0?1:-1},e}();t.Triangulator=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function t(){this.array=new Array}return t.prototype.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},t.prototype.contains=function(t){return null!=this.array[0|t]},t.prototype.remove=function(t){this.array[0|t]=void 0},t.prototype.clear=function(){this.array.length=0},t}();t.IntSet=e;var n=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.r=t,this.g=e,this.b=n,this.a=r}return t.prototype.set=function(t,e,n,r){return this.r=t,this.g=e,this.b=n,this.a=r,this.clamp(),this},t.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},t.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},t.prototype.add=function(t,e,n,r){return this.r+=t,this.g+=e,this.b+=n,this.a+=r,this.clamp(),this},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.rgba8888ToColor=function(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255},t.rgb888ToColor=function(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}();t.Color=n;var r=function(){function t(){}return t.clamp=function(t,e,n){return t<e?e:t>n?n:t},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(t){return t>0?1:t<0?-1:0},t.toInt=function(t){return t>0?Math.floor(t):Math.ceil(t)},t.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},t.randomTriangular=function(e,n){return t.randomTriangularWith(e,n,.5*(e+n))},t.randomTriangularWith=function(t,e,n){var r=Math.random(),i=e-t;return r<=(n-t)/i?t+Math.sqrt(r*i*(n-t)):e-Math.sqrt((1-r)*i*(e-n))},t.PI=3.1415927,t.PI2=2*t.PI,t.radiansToDegrees=180/t.PI,t.radDeg=t.radiansToDegrees,t.degreesToRadians=t.PI/180,t.degRad=t.degreesToRadians,t}();t.MathUtils=r;var a=function(){function t(){}return t.prototype.apply=function(t,e,n){return t+(e-t)*this.applyInternal(n)},t}();t.Interpolation=a;var o=function(t){function e(e){var n=t.call(this)||this;return n.power=2,n.power=e,n}return i(e,t),e.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1},e}(a);t.Pow=o;var s=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1},e}(o);t.PowOut=s;var u=function(){function t(){}return t.arrayCopy=function(t,e,n,r,i){for(var a=e,o=r;a<e+i;a++,o++)n[o]=t[a]},t.setArraySize=function(t,e,n){void 0===n&&(n=0);var r=t.length;if(r==e)return t;if(t.length=e,r<e)for(var i=r;i<e;i++)t[i]=n;return t},t.ensureArrayCapacity=function(e,n,r){return void 0===r&&(r=0),e.length>=n?e:t.setArraySize(e,n,r)},t.newArray=function(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=e;return n},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var n=new Array(e),r=0;r<n.length;r++)n[r]=0;return n},t.newShortArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var n=new Array(e),r=0;r<n.length;r++)n[r]=0;return n},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.toSinglePrecision=function(e){return t.SUPPORTS_TYPED_ARRAYS?Math.fround(e):e},t.webkit602BugfixHelper=function(t,e){},t.contains=function(t,e,n){void 0===n&&(n=!0);for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1},t.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,t}();t.Utils=u;var c=function(){function t(){}return t.logBones=function(t){for(var e=0;e<t.bones.length;e++)t.bones[e].matrix},t}();t.DebugUtils=c;var l=function(){function t(t){this.items=new Array,this.instantiator=t}return t.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},t.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},t.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)this.free(t[e])},t.prototype.clear=function(){this.items.length=0},t}();t.Pool=l;var h=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},t.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},t}();t.Vector2=h;var d=function(){function t(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return t.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},t}();t.TimeKeeper=d;var p=function(){function t(t){void 0===t&&(t=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}return t.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},t.prototype.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},t.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0},t}();t.WindowedMean=p}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(t){if(null==t)throw new Error("name cannot be null.");this.name=t};t.Attachment=e;var n=function(e){function n(t){var r=e.call(this,t)||this;return r.id=(65535&n.nextID++)<<11,r.worldVerticesLength=0,r.deformAttachment=r,r}return i(n,e),n.prototype.computeWorldVerticesOld=function(t,e){this.computeWorldVertices(t,0,this.worldVerticesLength,e,0,2)},n.prototype.computeWorldVertices=function(t,e,n,r,i,a){n=i+(n>>1)*a;var o=t.bone.skeleton,s=t.deform,u=this.vertices,c=this.bones;if(null!=c){for(var l=0,h=0,d=0;d<e;d+=2){l+=(g=c[l])+1,h+=g}var p=o.bones;if(0==s.length)for(k=i,T=3*h;k<n;k+=a){var f=0,m=0,g=c[l++];for(g+=l;l<g;l++,T+=3){_=p[c[l]].matrix,C=u[T],O=u[T+1];var y=u[T+2];f+=(C*_.a+O*_.c+_.tx)*y,m+=(C*_.b+O*_.d+_.ty)*y}r[k]=f,r[k+1]=m}else for(var v=s,b=(k=i,T=3*h,h<<1);k<n;k+=a){f=0,m=0,g=c[l++];for(g+=l;l<g;l++,T+=3,b+=2){_=p[c[l]].matrix,C=u[T]+v[b],O=u[T+1]+v[b+1],y=u[T+2];f+=(C*_.a+O*_.c+_.tx)*y,m+=(C*_.b+O*_.d+_.ty)*y}r[k]=f,r[k+1]=m}}else{s.length>0&&(u=s);for(var _,w=(_=t.bone.matrix).tx,x=_.ty,S=_.a,T=_.c,M=_.b,E=_.d,A=e,k=i;k<n;A+=2,k+=a){var C=u[A],O=u[A+1];r[k]=C*S+O*T+w,r[k+1]=C*M+O*E+x}}},n.prototype.copyTo=function(e){null!=this.bones?(e.bones=new Array(this.bones.length),t.Utils.arrayCopy(this.bones,0,e.bones,0,this.bones.length)):e.bones=null,null!=this.vertices?(e.vertices=t.Utils.newFloatArray(this.vertices.length),t.Utils.arrayCopy(this.vertices,0,e.vertices,0,this.vertices.length)):e.vertices=null,e.worldVerticesLength=this.worldVerticesLength,e.deformAttachment=this.deformAttachment},n.nextID=0,n}(e);t.VertexAttachment=n}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){!function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"}(t.AttachmentType||(t.AttachmentType={}))}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(e){function n(n){var r=e.call(this,n)||this;return r.color=new t.Color(1,1,1,1),r}return i(n,e),n.prototype.copy=function(){var t=new n(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t},n}(t.VertexAttachment);t.BoundingBoxAttachment=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(e){function n(n){var r=e.call(this,n)||this;return r.color=new t.Color(.2275,.2275,.8078,1),r}return i(n,e),n.prototype.copy=function(){var t=new n(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t},n}(t.VertexAttachment);t.ClippingAttachment=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(e){function n(n){var r=e.call(this,n)||this;return r.color=new t.Color(1,1,1,1),r.tempColor=new t.Color(0,0,0,0),r}return i(n,e),n.prototype.getParentMesh=function(){return this.parentMesh},n.prototype.setParentMesh=function(t){this.parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},n.prototype.copy=function(){if(null!=this.parentMesh)return this.newLinkedMesh();var e=new n(this.name);return e.region=this.region,e.path=this.path,e.color.setFromColor(this.color),this.copyTo(e),e.regionUVs=new Float32Array(this.regionUVs.length),t.Utils.arrayCopy(this.regionUVs,0,e.regionUVs,0,this.regionUVs.length),e.uvs=new Array(this.uvs.length),t.Utils.arrayCopy(this.uvs,0,e.uvs,0,this.uvs.length),e.triangles=new Array(this.triangles.length),t.Utils.arrayCopy(this.triangles,0,e.triangles,0,this.triangles.length),e.hullLength=this.hullLength,null!=this.edges&&(e.edges=new Array(this.edges.length),t.Utils.arrayCopy(this.edges,0,e.edges,0,this.edges.length)),e.width=this.width,e.height=this.height,e},n.prototype.newLinkedMesh=function(){var t=new n(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(null!=this.parentMesh?this.parentMesh:this),t},n}(t.VertexAttachment);t.MeshAttachment=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(e){function n(n){var r=e.call(this,n)||this;return r.closed=!1,r.constantSpeed=!1,r.color=new t.Color(1,1,1,1),r}return i(n,e),n.prototype.copy=function(){var e=new n(this.name);return this.copyTo(e),e.lengths=new Array(this.lengths.length),t.Utils.arrayCopy(this.lengths,0,e.lengths,0,this.lengths.length),e.closed=closed,e.constantSpeed=this.constantSpeed,e.color.setFromColor(this.color),e},n}(t.VertexAttachment);t.PathAttachment=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(e){function n(n){var r=e.call(this,n)||this;return r.color=new t.Color(.38,.94,0,1),r}return i(n,e),n.prototype.computeWorldPosition=function(t,e){var n=t.matrix;return e.x=this.x*n.a+this.y*n.c+t.worldX,e.y=this.x*n.b+this.y*n.d+t.worldY,e},n.prototype.computeWorldRotation=function(e){var n=e.matrix,r=t.MathUtils.cosDeg(this.rotation),i=t.MathUtils.sinDeg(this.rotation),a=r*n.a+i*n.c,o=r*n.b+i*n.d;return Math.atan2(o,a)*t.MathUtils.radDeg},n.prototype.copy=function(){var t=new n(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t},n}(t.VertexAttachment);t.PointAttachment=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(e){function n(n){var r=e.call(this,n)||this;return r.x=0,r.y=0,r.scaleX=1,r.scaleY=1,r.rotation=0,r.width=0,r.height=0,r.color=new t.Color(1,1,1,1),r.offset=t.Utils.newFloatArray(8),r.uvs=t.Utils.newFloatArray(8),r.tempColor=new t.Color(1,1,1,1),r}return i(n,e),n.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*t,i=-this.height/2*this.scaleY+this.region.offsetY*e,a=r+this.region.width*t,o=i+this.region.height*e,s=this.rotation*Math.PI/180,u=Math.cos(s),c=Math.sin(s),l=r*u+this.x,h=r*c,d=i*u+this.y,p=i*c,f=a*u+this.x,m=a*c,g=o*u+this.y,y=o*c,v=this.offset;v[n.OX1]=l-p,v[n.OY1]=d+h,v[n.OX2]=l-y,v[n.OY2]=g+h,v[n.OX3]=f-y,v[n.OY3]=g+m,v[n.OX4]=f-p,v[n.OY4]=d+m},n.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},n.prototype.computeWorldVertices=function(t,e,r,i){var a=this.offset,o=t.matrix,s=o.tx,u=o.ty,c=o.a,l=o.c,h=o.b,d=o.d,p=0,f=0;p=a[n.OX1],f=a[n.OY1],e[r]=p*c+f*l+s,e[r+1]=p*h+f*d+u,r+=i,p=a[n.OX2],f=a[n.OY2],e[r]=p*c+f*l+s,e[r+1]=p*h+f*d+u,r+=i,p=a[n.OX3],f=a[n.OY3],e[r]=p*c+f*l+s,e[r+1]=p*h+f*d+u,r+=i,p=a[n.OX4],f=a[n.OY4],e[r]=p*c+f*l+s,e[r+1]=p*h+f*d+u},n.prototype.copy=function(){var e=new n(this.name);return e.region=this.region,e.rendererObject=this.rendererObject,e.path=this.path,e.x=this.x,e.y=this.y,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.rotation=this.rotation,e.width=this.width,e.height=this.height,t.Utils.arrayCopy(this.uvs,0,e.uvs,0,8),t.Utils.arrayCopy(this.offset,0,e.offset,0,8),e.color.setFromColor(this.color),e},n.OX1=0,n.OY1=1,n.OX2=2,n.OY2=3,n.OX3=4,n.OY3=5,n.OX4=6,n.OY4=7,n.X1=0,n.Y1=1,n.C1R=2,n.C1G=3,n.C1B=4,n.C1A=5,n.U1=6,n.V1=7,n.X2=8,n.Y2=9,n.C2R=10,n.C2G=11,n.C2B=12,n.C2A=13,n.U2=14,n.V2=15,n.X3=16,n.Y3=17,n.C3R=18,n.C3G=19,n.C3B=20,n.C3A=21,n.U3=22,n.V3=23,n.X4=24,n.Y4=25,n.C4R=26,n.C4G=27,n.C4B=28,n.C4A=29,n.U4=30,n.V4=31,n}(t.Attachment);t.RegionAttachment=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}return e.prototype.begin=function(t){},e.prototype.transform=function(e,n,r,i){e.x+=t.MathUtils.randomTriangular(-this.jitterX,this.jitterY),e.y+=t.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},e.prototype.end=function(){},e}();t.JitterEffect=e}(t.core||(t.core={}))}(r||(r={})),function(t){!function(t){var e=function(){function e(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}return e.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},e.prototype.transform=function(n,r,i,a){var o=this.angle*t.MathUtils.degreesToRadians,s=n.x-this.worldX,u=n.y-this.worldY,c=Math.sqrt(s*s+u*u);if(c<this.radius){var l=e.interpolation.apply(0,o,(this.radius-c)/this.radius),h=Math.cos(l),d=Math.sin(l);n.x=h*s-d*u+this.worldX,n.y=d*s+h*u+this.worldY}},e.prototype.end=function(){},e.interpolation=new t.PowOut(2),e}();t.SwirlEffect=e}(t.core||(t.core={}))}(r||(r={})),Math.fround||(Math.fround=Math.fround=(n=new Float32Array(1),function(t){return n[0]=t,n[0]})),function(e){e.core.Bone.yDown=!0;var n=[0,0,0],r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.region=null,e.attachment=null,e}return i(e,t),e}(t.Sprite);e.SpineSprite=r;var a=t.GraphicsGeometry.prototype;if(!a.invalidate){var o=[];a.invalidate=function(){var t=this.graphicsData;o.push(0),this.graphicsData=o,this.clear(),this.graphicsData=t}}var s=function(t){function e(e,n,r,i,a){var o=t.call(this,e,n,r,i,a)||this;return o.region=null,o.attachment=null,o}return i(e,t),e}(t.SimpleMesh);e.SpineMesh=s;var u=function(a){function o(t){var n=a.call(this)||this;if(!t)throw new Error("The spineData param is required.");if("string"==typeof t)throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');n.spineData=t,n.skeleton=new e.core.Skeleton(t),n.skeleton.updateWorldTransform(),n.stateData=new e.core.AnimationStateData(t),n.state=new e.core.AnimationState(n.stateData),n.slotContainers=[],n.tempClipContainers=[];for(var r=0,i=n.skeleton.slots.length;r<i;r++){var o=n.skeleton.slots[r],s=o.getAttachment(),u=n.newContainer();if(n.slotContainers.push(u),n.addChild(u),n.tempClipContainers.push(null),s instanceof e.core.RegionAttachment){var c=s.region.name,l=n.createSprite(o,s,c);o.currentSprite=l,o.currentSpriteName=c,u.addChild(l)}else if(s instanceof e.core.MeshAttachment){var h=n.createMesh(o,s);o.currentMesh=h,o.currentMeshId=s.id,u.addChild(h)}else{if(!(s instanceof e.core.ClippingAttachment))continue;n.createGraphics(o,s),u.addChild(o.clippingContainer),u.addChild(o.currentGraphics)}}return n.tintRgb=new Float32Array([1,1,1]),n.autoUpdate=!0,n.visible=!0,n}return i(o,a),Object.defineProperty(o.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,this.updateTransform=e?o.prototype.autoUpdateTransform:t.Container.prototype.updateTransform)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"visible",{get:function(){return this._visible},set:function(t){t!==this._visible&&(this._visible=t,t&&(this.lastTime=0))},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"tint",{get:function(){return t.utils.rgb2hex(this.tintRgb)},set:function(e){this.tintRgb=t.utils.hex2rgb(e,this.tintRgb)},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"delayLimit",{get:function(){return(void 0!==this.localDelayLimit?this.localDelayLimit:o.globalDelayLimit)||Number.MAX_VALUE},enumerable:!1,configurable:!0}),o.prototype.update=function(r){var i=this.delayLimit;if(r>i&&(r=i),this.state.update(r),this.state.apply(this.skeleton),this.skeleton){this.skeleton.updateWorldTransform();var a=this.skeleton.slots,o=this.color,s=null,u=null;o?(s=o.light,u=o.dark):s=this.tintRgb;for(var c=0,l=a.length;c<l;c++){var h=(k=a[c]).getAttachment(),d=this.slotContainers[c];if(h){var p=null,f=h.color;if(h instanceof e.core.RegionAttachment){var m=h.region;if(m){k.currentMesh&&(k.currentMesh.visible=!1,k.currentMesh=null,k.currentMeshId=void 0,k.currentMeshName=void 0);var g=m;if(k.currentSpriteName&&k.currentSpriteName===g.name)k.currentSpriteName!==g.name||k.hackRegion||this.setSpriteRegion(h,k.currentSprite,m);else{var y=g.name;if(k.currentSprite&&(k.currentSprite.visible=!1),k.sprites=k.sprites||{},void 0!==k.sprites[y])k.sprites[y].visible=!0;else{var v=this.createSprite(k,h,y);d.addChild(v)}k.currentSprite=k.sprites[y],k.currentSpriteName=y}}(b=d.transform).setFromMatrix(k.bone.matrix),k.currentSprite.color?p=k.currentSprite.color:(n[0]=s[0]*k.color.r*f.r,n[1]=s[1]*k.color.g*f.g,n[2]=s[2]*k.color.b*f.b,k.currentSprite.tint=t.utils.rgb2hex(n)),k.currentSprite.blendMode=k.blendMode}else{if(!(h instanceof e.core.MeshAttachment)){if(h instanceof e.core.ClippingAttachment){k.currentGraphics||(this.createGraphics(k,h),d.addChild(k.clippingContainer),d.addChild(k.currentGraphics)),this.updateGraphics(k,h),d.alpha=1,d.visible=!0;continue}d.visible=!1;continue}var b;k.currentSprite&&(k.currentSprite.visible=!1,k.currentSprite=null,k.currentSpriteName=void 0,(b=new t.Transform)._parentID=-1,b._worldID=d.transform._worldID,d.transform=b);if(!k.currentMeshId||k.currentMeshId!==h.id){var _=h.id;if(k.currentMesh&&(k.currentMesh.visible=!1),k.meshes=k.meshes||{},void 0!==k.meshes[_])k.meshes[_].visible=!0;else{var w=this.createMesh(k,h);d.addChild(w)}k.currentMesh=k.meshes[_],k.currentMeshName=h.name,k.currentMeshId=_}h.computeWorldVerticesOld(k,k.currentMesh.vertices),k.currentMesh.color?p=k.currentMesh.color:(n[0]=s[0]*k.color.r*f.r,n[1]=s[1]*k.color.g*f.g,n[2]=s[2]*k.color.b*f.b,k.currentMesh.tint=t.utils.rgb2hex(n)),k.currentMesh.blendMode=k.blendMode}if(d.visible=!0,p){var x=k.color.r*f.r,S=k.color.g*f.g,T=k.color.b*f.b;p.setLight(s[0]*x+u[0]*(1-x),s[1]*S+u[1]*(1-S),s[2]*T+u[2]*(1-T)),k.darkColor?(x=k.darkColor.r,S=k.darkColor.g,T=k.darkColor.b):(x=0,S=0,T=0),p.setDark(s[0]*x+u[0]*(1-x),s[1]*S+u[1]*(1-S),s[2]*T+u[2]*(1-T))}d.alpha=k.color.a}else d.visible=!1}var M=this.skeleton.drawOrder,E=null,A=null;for(c=0,l=M.length;c<l;c++){var k=a[M[c].data.index];d=this.slotContainers[M[c].data.index];if(A||null!==d.parent&&d.parent!==this&&(d.parent.removeChild(d),d.parent=this),k.currentGraphics&&k.getAttachment())A=k.clippingContainer,E=k.getAttachment(),A.children.length=0,this.children[c]=d,E.endSlot==k.data&&(E.endSlot=null);else if(A){var C=this.tempClipContainers[c];C||((C=this.tempClipContainers[c]=this.newContainer()).visible=!1),this.children[c]=C,d.parent=null,A.addChild(d),E.endSlot==k.data&&(A.renderable=!0,A=null,E=null)}else this.children[c]=d}}},o.prototype.setSpriteRegion=function(t,n,r){n.attachment===t&&n.region===r||(n.region=r,n.attachment=t,n.texture=r.texture,n.rotation=t.rotation*e.core.MathUtils.degRad,n.position.x=t.x,n.position.y=t.y,n.alpha=t.color.a,r.size?(n.scale.x=r.size.width/r.originalWidth,n.scale.y=-r.size.height/r.originalHeight):(n.scale.x=t.scaleX*t.width/r.originalWidth,n.scale.y=-t.scaleY*t.height/r.originalHeight))},o.prototype.setMeshRegion=function(t,e,n){e.attachment===t&&e.region===n||(e.region=n,e.attachment=t,e.texture=n.texture,n.texture.updateUvs(),e.uvBuffer.update(t.regionUVs))},o.prototype.autoUpdateTransform=function(){if(o.globalAutoUpdate){this.lastTime=this.lastTime||Date.now();var e=.001*(Date.now()-this.lastTime);this.lastTime=Date.now(),this.update(e)}else this.lastTime=0;t.Container.prototype.updateTransform.call(this)},o.prototype.createSprite=function(t,e,n){var r=e.region;t.hackAttachment===e&&(r=t.hackRegion);var i=r.texture,a=this.newSprite(i);return a.anchor.set(.5),this.setSpriteRegion(e,a,e.region),t.sprites=t.sprites||{},t.sprites[n]=a,a},o.prototype.createMesh=function(e,n){var r=n.region;e.hackAttachment===n&&(r=e.hackRegion,e.hackAttachment=null,e.hackRegion=null);var i=this.newMesh(r.texture,new Float32Array(n.regionUVs.length),n.regionUVs,new Uint16Array(n.triangles),t.DRAW_MODES.TRIANGLES);return void 0!==i._canvasPadding&&(i._canvasPadding=1.5),i.alpha=n.color.a,i.region=n.region,this.setMeshRegion(n,i,r),e.meshes=e.meshes||{},e.meshes[n.id]=i,i},o.prototype.createGraphics=function(e,n){var r=this.newGraphics(),i=new t.Polygon([]);return r.clear(),r.beginFill(16777215,1),r.drawPolygon(i),r.renderable=!1,e.currentGraphics=r,e.clippingContainer=this.newContainer(),e.clippingContainer.mask=e.currentGraphics,r},o.prototype.updateGraphics=function(t,e){var n=t.currentGraphics.geometry,r=n.graphicsData[0].shape.points,i=e.worldVerticesLength;r.length=i,e.computeWorldVertices(t,0,i,r,0,2),n.invalidate()},o.prototype.hackTextureBySlotIndex=function(t,n,r){void 0===n&&(n=null),void 0===r&&(r=null);var i=this.skeleton.slots[t];if(!i)return!1;var a=i.getAttachment(),o=a.region;return n?((o=new e.core.TextureRegion).texture=n,o.size=r,i.hackRegion=o,i.hackAttachment=a):(i.hackRegion=null,i.hackAttachment=null),i.currentSprite&&i.currentSprite.region!=o?(this.setSpriteRegion(a,i.currentSprite,o),i.currentSprite.region=o):i.currentMesh&&i.currentMesh.region!=o&&this.setMeshRegion(a,i.currentMesh,o),!0},o.prototype.hackTextureBySlotName=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null);var r=this.skeleton.findSlotIndex(t);return-1!=r&&this.hackTextureBySlotIndex(r,e,n)},o.prototype.hackTextureAttachment=function(t,n,r,i){void 0===i&&(i=null);var a=this.skeleton.findSlotIndex(t),o=this.skeleton.getAttachmentByName(t,n);o.region.texture=r;var s=this.skeleton.slots[a];if(!s)return!1;var u=s.getAttachment();if(n===u.name){var c=o.region;return r?((c=new e.core.TextureRegion).texture=r,c.size=i,s.hackRegion=c,s.hackAttachment=u):(s.hackRegion=null,s.hackAttachment=null),s.currentSprite&&s.currentSprite.region!=c?(this.setSpriteRegion(u,s.currentSprite,c),s.currentSprite.region=c):s.currentMesh&&s.currentMesh.region!=c&&this.setMeshRegion(u,s.currentMesh,c),!0}return!1},o.prototype.newContainer=function(){return new t.Container},o.prototype.newSprite=function(t){return new r(t)},o.prototype.newGraphics=function(){return new t.Graphics},o.prototype.newMesh=function(t,e,n,r,i){return new s(t,e,n,r,i)},o.prototype.transformHack=function(){return 1},o.prototype.hackAttachmentGroups=function(t,e,n){if(t){for(var r=[],i=[],a=0,o=this.skeleton.slots.length;a<o;a++){var s=this.skeleton.slots[a],u=s.currentSpriteName||s.currentMeshName||"",c=s.currentSprite||s.currentMesh;u.endsWith(t)?(c.parentGroup=e,i.push(c)):n&&c&&(c.parentGroup=n,r.push(c))}return[r,i]}},o.prototype.destroy=function(t){for(var e=0,n=this.skeleton.slots.length;e<n;e++){var r=this.skeleton.slots[e];for(var i in r.meshes)r.meshes[i].destroy(t);for(var o in r.meshes=null,r.sprites)r.sprites[o].destroy(t);r.sprites=null}for(e=0,n=this.slotContainers.length;e<n;e++)this.slotContainers[e].destroy(t);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,a.prototype.destroy.call(this,t)},o.globalAutoUpdate=!0,o.globalDelayLimit=0,o.clippingPolygon=[],o}(t.Container);e.Spine=u}(r||(r={})),function(e){t.spine=e;var n=t.Texture.prototype;n._updateUvs||(n._updateUvs=n.updateUvs)}(r||(r={})),function(e){t.LoaderResource.setExtensionXhrType("skel",t.LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var n=function(){function n(){}return n.use=function(n,a){if(!n.data)return a();var o=function(e){return e.type===t.LoaderResource.TYPE.JSON}(n)&&n.data.bones,s=function(e){return e.xhrType===t.LoaderResource.XHR_RESPONSE_TYPE.BUFFER}(n)&&("skel"===n.extension||n.metadata.spineMetadata);if(!o&&!s)return a();var u=null,c=n.data;o?u=new e.core.SkeletonJson(null):(u=new e.core.SkeletonBinary(null),n.data instanceof ArrayBuffer&&(c=new Uint8Array(n.data)));var l=n.metadata||{},h=l?n.metadata.spineSkeletonScale:null;h&&(u.scale=h);var d=l?n.metadata.spineAtlas:null;if(!1===d)return a();if(d&&d.pages)return u.attachmentLoader=new e.core.AtlasAttachmentLoader(d),n.spineData=u.readSkeletonData(c),n.spineAtlas=d,a();var p=l.spineAtlasSuffix||".atlas",f=n.url,m=f.indexOf("?");m>0&&(f=f.substr(0,m)),f=f.substr(0,f.lastIndexOf("."))+p,n.metadata&&n.metadata.spineAtlasFile&&(f=n.metadata.spineAtlasFile),f=f.replace(this.baseUrl,"");var g={crossOrigin:n.crossOrigin,xhrType:t.LoaderResource.XHR_RESPONSE_TYPE.TEXT,metadata:l.spineMetadata||null,parentResource:n},y={crossOrigin:n.crossOrigin,metadata:l.imageMetadata||null,parentResource:n},v=n.url.substr(0,n.url.lastIndexOf("/")+1);v=v.replace(this.baseUrl,"");var b=l.imageNamePrefix||n.name+"_atlas_page_",_=l.images?i(l.images):l.image?i({default:l.image}):l.imageLoader?l.imageLoader(this,b,v,y):r(this,b,v,y),w=function(t){new e.core.TextureAtlas(t,_,(function(t){t&&(u.attachmentLoader=new e.core.AtlasAttachmentLoader(t),n.spineData=u.readSkeletonData(c),n.spineAtlas=t),a()}))};n.metadata&&n.metadata.atlasRawData?w(n.metadata.atlasRawData):this.add(n.name+"_atlas",f,g,(function(t){t.error?a():w(t.data)}))},n}();function r(t,e,n,r){return n&&n.lastIndexOf("/")!==n.length-1&&(n+="/"),function(i,a){var o=e+i,s=n+i,u=t.resources[o];if(u){var c=function(){a(u.texture.baseTexture)};u.texture?c():u.onAfterMiddleware.add(c)}else t.add(o,s,r,(function(t){t.error?a(null):a(t.texture.baseTexture)}))}}function i(t){return function(e,n){var r=t[e]||t.default;r&&r.baseTexture?n(r.baseTexture):n(r)}}e.AtlasParser=n,e.imageLoaderAdapter=r,e.syncImageLoaderAdapter=function(e,n){return e&&e.lastIndexOf("/")!==e.length-1&&(e+="/"),function(e,r){r(t.BaseTexture.from(e,n))}},e.staticImageLoader=i,t.Loader&&t.Loader.registerPlugin(n)}(r||(r={}))}).call(this,n(0))},function(t,e,n){var r=n(50);t.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35),Object.defineProperty(e,"__esModule",{value:!0}),e.CollectorArray=void 0;var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(c,t);var e,n,r,u=s(c);function c(){var t;return i(this,c),(t=u.apply(this,arguments)).result=[],t}return e=c,(n=[{key:"handleResult",value:function(t){return this.result.push(t),!0}},{key:"getResult",value:function(){return this.result}},{key:"reset",value:function(){this.result.length=0}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(n(215).Collector);e.CollectorArray=l},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35),Object.defineProperty(e,"__esModule",{value:!0}),e.CollectorLast=void 0;var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(c,t);var e,n,r,u=s(c);function c(){return i(this,c),u.apply(this,arguments)}return e=c,(n=[{key:"handleResult",value:function(t){return this.result=t,!0}},{key:"getResult",value:function(){return this.result}},{key:"reset",value:function(){delete this.result}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(n(215).Collector);e.CollectorLast=l},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35),Object.defineProperty(e,"__esModule",{value:!0}),e.CollectorUntil0=void 0;var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(c,t);var e,n,r,u=s(c);function c(){var t;return i(this,c),(t=u.apply(this,arguments)).result=!1,t}return e=c,(n=[{key:"handleResult",value:function(t){return this.result=t,this.result}},{key:"getResult",value:function(){return this.result}},{key:"reset",value:function(){this.result=!1}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(n(215).Collector);e.CollectorUntil0=l},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35),Object.defineProperty(e,"__esModule",{value:!0}),e.CollectorWhile0=void 0;var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(c,t);var e,n,r,u=s(c);function c(){var t;return i(this,c),(t=u.apply(this,arguments)).result=!1,t}return e=c,(n=[{key:"handleResult",value:function(t){return this.result=t,!this.result}},{key:"getResult",value:function(){return this.result}},{key:"reset",value:function(){this.result=!1}}])&&a(e.prototype,n),r&&a(e,r),Object.defineProperty(e,"prototype",{writable:!1}),c}(n(215).Collector);e.CollectorWhile0=l},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.Signal=void 0;var i=n(602),a=n(604),o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.head=new a.SignalLink,this.hasNewLinks=!1,this.emitDepth=0}var e,n,o;return e=t,(n=[{key:"connect",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this.head.insert(t,e);return this.emitDepth>0&&(this.hasNewLinks=!0,n.newLink=!0),new i.SignalConnectionImpl(n)}},{key:"disconnect",value:function(t){for(var e=this.head.next;e!==this.head;e=e.next)if(e.callback===t)return e.unlink(),!0;return!1}},{key:"disconnectAll",value:function(){for(;this.head.next!==this.head;)this.head.next.unlink()}},{key:"emit",value:function(){this.emitDepth++;for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];for(var r=this.head.next;r!==this.head;r=r.next)r.isEnabled()&&r.callback&&r.callback.apply(null,e);this.emitDepth--,this.unsetNewLink()}},{key:"emitCollecting",value:function(t,e){this.emitDepth++;for(var n=this.head.next;n!==this.head;n=n.next)if(n.isEnabled()&&n.callback){var r=n.callback.apply(null,e);if(!t.handleResult(r))break}this.emitDepth--,this.unsetNewLink()}},{key:"unsetNewLink",value:function(){if(this.hasNewLinks&&0===this.emitDepth){for(var t=this.head.next;t!==this.head;t=t.next)t.newLink=!1;this.hasNewLinks=!1}}}])&&r(e.prototype,n),o&&r(e,o),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.Signal=o},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(603),Object.defineProperty(e,"__esModule",{value:!0}),e.SignalConnectionImpl=void 0;var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.link=e}var e,n,i;return e=t,(n=[{key:"disconnect",value:function(){return null!==this.link&&(this.link.unlink(),this.link=null,!0)}},{key:"enabled",get:function(){return null!==this.link&&this.link.isEnabled()},set:function(t){this.link&&this.link.setEnabled(t)}}])&&r(e.prototype,n),i&&r(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.SignalConnectionImpl=i},function(t,e,n){"use strict";var r=n(41),i=n(241);r({target:"String",proto:!0,forced:n(242)("link")},{link:function(t){return i(this,"a","href",t)}})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.SignalLink=void 0;var a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r(this,t),this.enabled=!0,this.newLink=!1,this.callback=null,this.prev=null!=e?e:this,this.next=null!=n?n:this,this.order=i}var e,n,a;return e=t,(n=[{key:"isEnabled",value:function(){return this.enabled&&!this.newLink}},{key:"setEnabled",value:function(t){this.enabled=t}},{key:"unlink",value:function(){this.callback=null,this.next.prev=this.prev,this.prev.next=this.next}},{key:"insert",value:function(e,n){for(var r=this.prev;r!==this&&!(r.order<=n);)r=r.prev;var i=new t(r,r.next,n);return i.callback=e,r.next=i,i.next.prev=i,i}}])&&i(e.prototype,n),a&&i(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.SignalLink=a},function(t,e,n){"use strict";function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(87),n(39),n(121),n(38),Object.defineProperty(e,"__esModule",{value:!0}),e.SignalConnections=void 0;var o=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.list=[]}var e,n,i;return e=t,(n=[{key:"add",value:function(t){this.list.push(t)}},{key:"disconnectAll",value:function(){var t,e=r(this.list);try{for(e.s();!(t=e.n()).done;)t.value.disconnect()}catch(t){e.e(t)}finally{e.f()}this.list=[]}}])&&a(e.prototype,n),i&&a(e,i),Object.defineProperty(e,"prototype",{writable:!1}),t}();e.SignalConnections=o},function(t,e,n){var r=n(113),i=Math.floor,a="".replace,o=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,s=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,n,u,c,l){var h=n+t.length,d=u.length,p=s;return void 0!==c&&(c=r(c),p=o),a.call(l,p,(function(r,a){var o;switch(a.charAt(0)){case"$":return"$";case"&":return t;case"`":return e.slice(0,n);case"'":return e.slice(h);case"<":o=c[a.slice(1,-1)];break;default:var s=+a;if(0===s)return r;if(s>d){var l=i(s/10);return 0===l?r:l<=d?void 0===u[l-1]?a.charAt(1):u[l-1]+a.charAt(1):r}o=u[s-1]}return void 0===o?"":o}))}},function(t,e,n){"use strict";n(15),n(140),n(5),n(22),n(20),n(34),n(88),n(51),n(42),n(114),Object.defineProperty(e,"__esModule",{value:!0}),e.batchGeometry=void 0;var r=n(300),i={positions:3,normals:3,weights:4,boneIndices:4,uvs:2,tangents:4};e.batchGeometry=function(t){var e=t.geometry,n=new Map;e.forEach((function(t){t.primitives.forEach((function(t){var e=function(t){var e=[];for(var n in i)t.attributes[n]&&e.push(n);return e.join("|")}(t),r=n.get(e)||[];r.push(t),n.set(e,r)}))}));var a=[];n.forEach((function(t,e){var n=function(t,e){var n=[],r={indexSize:0,size:0,primitives:[],sigMap:e};return n.push(r),t.forEach((function(t){if(!t.indices)throw new Error("can only merge geometry with indices for now..");var i=t.attributes.positions.length/3;r.indexSize+i>65535&&(r={indexSize:0,size:0,primitives:[],sigMap:e},n.push(r)),r.indexSize+=i,r.size+=t.indices.length,r.primitives.push(t)})),n}(t,e).filter((function(t){return t.primitives.length>1}));a=a.concat(n)}));var o=[];a.forEach((function(t){var n,i,a,s=(i=0,a=(n=t).primitives.map((function(t){var e={bounds:t.bounds,start:i,size:t.indices.length,material:t.material,geometry:-1};return i+=t.indices.length,e})),{primitive:r.mergePrimitives(n.primitives),primitives:n.primitives,frags:a});o.push(s.primitive),e.forEach((function(t){t.primitives.forEach((function(e,n){var r=s.primitives.indexOf(e);-1!==r&&(s.frags[r].geometry=o.length-1,t.primitives[n]=s.frags[r])}))}))})),t.geometryBatch=o}},function(t,e,n){var r=n(54),i=n(50),a=n(234),o=n(89).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,u=r.Int8Array;t.exports=!o||!i((function(){u(1)}))||!i((function(){new u(-1)}))||!a((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||i((function(){return 1!==new u(new s(2),1,void 0).length}))},function(t,e){var n=Math.abs,r=Math.pow,i=Math.floor,a=Math.log,o=Math.LN2;t.exports={pack:function(t,e,s){var u,c,l,h=new Array(s),d=8*s-e-1,p=(1<<d)-1,f=p>>1,m=23===e?r(2,-24)-r(2,-77):0,g=t<0||0===t&&1/t<0?1:0,y=0;for((t=n(t))!=t||t===1/0?(c=t!=t?1:0,u=p):(u=i(a(t)/o),t*(l=r(2,-u))<1&&(u--,l*=2),(t+=u+f>=1?m/l:m*r(2,1-f))*l>=2&&(u++,l/=2),u+f>=p?(c=0,u=p):u+f>=1?(c=(t*l-1)*r(2,e),u+=f):(c=t*r(2,f-1)*r(2,e),u=0));e>=8;h[y++]=255&c,c/=256,e-=8);for(u=u<<e|c,d+=e;d>0;h[y++]=255&u,u/=256,d-=8);return h[--y]|=128*g,h},unpack:function(t,e){var n,i=t.length,a=8*i-e-1,o=(1<<a)-1,s=o>>1,u=a-7,c=i-1,l=t[c--],h=127&l;for(l>>=7;u>0;h=256*h+t[c],c--,u-=8);for(n=h&(1<<-u)-1,h>>=-u,u+=e;u>0;n=256*n+t[c],c--,u-=8);if(0===h)h=1-s;else{if(h===o)return n?NaN:l?-1/0:1/0;n+=r(2,e),h-=s}return(l?-1:1)*n*r(2,h-e)}}},function(t,e,n){var r=n(144);t.exports=function(t){var e=r(t);if(e<0)throw RangeError("The argument can't be less than 0");return e}},function(t,e,n){var r=n(113),i=n(97),a=n(210),o=n(286),s=n(181),u=n(89).aTypedArrayConstructor;t.exports=function(t){var e,n,c,l,h,d,p=r(t),f=arguments.length,m=f>1?arguments[1]:void 0,g=void 0!==m,y=a(p);if(null!=y&&!o(y))for(d=(h=y.call(p)).next,p=[];!(l=d.call(h)).done;)p.push(l.value);for(g&&f>2&&(m=s(m,arguments[2],2)),n=i(p.length),c=new(u(this))(n),e=0;n>e;e++)c[e]=g?m(p[e],e):p[e];return c}},function(t,e,n){"use strict";var r=n(113),i=n(191),a=n(97),o=Math.min;t.exports=[].copyWithin||function(t,e){var n=r(this),s=a(n.length),u=i(t,s),c=i(e,s),l=arguments.length>2?arguments[2]:void 0,h=o((void 0===l?s:i(l,s))-c,s-u),d=1;for(c<u&&u<c+h&&(d=-1,c+=h-1,u+=h-1);h-- >0;)c in n?n[u]=n[c]:delete n[u],u+=d,c+=d;return n}},function(t,e,n){var r=n(89).aTypedArrayConstructor,i=n(182);t.exports=function(t,e){for(var n=i(t,t.constructor),a=0,o=e.length,s=new(r(n))(o);o>a;)s[a]=e[a++];return s}},function(t,e,n){"use strict";var r=n(131),i=n(144),a=n(97),o=n(235),s=Math.min,u=[].lastIndexOf,c=!!u&&1/[1].lastIndexOf(1,-0)<0,l=o("lastIndexOf"),h=c||!l;t.exports=h?function(t){if(c)return u.apply(this,arguments)||0;var e=r(this),n=a(e.length),o=n-1;for(arguments.length>1&&(o=s(o,i(arguments[1]))),o<0&&(o=n+o);o>=0;o--)if(o in e&&e[o]===t)return o||0;return-1}:u},function(t,e,n){"use strict";n(5),n(34),n(15),n(20),n(87),n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(616),n(145),n(243),Object.defineProperty(e,"__esModule",{value:!0}),e.compressGBObject=void 0;var r=n(487),i=n(488);e.compressGBObject=function(t){var e,n,a,o,s,u=[],c={s:3,t:3,r:4,w:1};null===(e=t.animations)||void 0===e||e.forEach((function(t){t.data.forEach((function(t){for(var e in c)t[e]&&(u.push({compress:!0,size:1,buffer:t[e].times}),t[e].times=u.length-1,u.push({compress:!0,size:c[e],buffer:t[e].values}),t[e].values=u.length-1)}))}));var l={positions:3,normals:3,weights:4,boneIndices:4,uvs:2,indices:1,tangents:4},h={positions:!0,normals:!0,weights:!0,boneIndices:!0,uvs:!0,tangents:!0};function d(t){for(var e in l)t.attributes[e]&&(u.push({compress:h[e],size:l[e],buffer:t.attributes[e]}),t.attributes[e]=u.length-1);t.indices&&(u.push({compress:!0,size:1,buffer:t.indices}),t.indices=u.length-1),t.targets&&t.targets.forEach((function(t){for(var e in l)t[e]&&(u.push({compress:h[e],size:l[e],buffer:t[e]}),t[e]=u.length-1)}))}return null===(n=t.geometryBatch)||void 0===n||n.forEach((function(t){d(t)})),null===(a=t.geometry)||void 0===a||a.forEach((function(t){t.primitives.forEach((function(t){t.attributes&&d(t)}))})),null===(o=t.nodes)||void 0===o||o.forEach((function(t){t.inverseBindMatrix&&(t.inverseBindMatrix?(u.push({compress:!1,size:1,buffer:t.inverseBindMatrix}),t.inverseBindMatrix=u.length-1):t.inverseBindMatrix=-1),t.transform&&(t.transform?(u.push({compress:!1,size:1,buffer:t.transform}),t.transform=u.length-1):t.transform=-1)})),null===(s=t.skins)||void 0===s||s.forEach((function(t){t.bindMatrix?(u.push({compress:!1,size:1,buffer:t.bindMatrix}),t.bindMatrix=u.length-1):t.bindMatrix=-1})),function(t,e){var n={UINT16:0,FLOAT32:1,STRING:2,FLOAT32_COMPRESSED:3,UINT16_COMPRESSED:4},a=JSON.stringify(t),o=2*a.length+4+4;o%4&&(o+=o%4);e.forEach((function(t){var e=t.buffer.slice(0);t.compress&&(e instanceof Float32Array?t.compressed=r.compressArray(e,t.size||1):t.compressed=e,t.compressed=i.zipArray(t.compressed))}));var s=e.reduce((function(t,e){if(t+=8,e.compressed){var n=e.compressed.buffer.byteLength;t+=n+(4-n%4)}else t+=e.buffer.buffer.byteLength;return t}),o);s+=4-s%4;var u=new ArrayBuffer(s),c=new Float32Array(u),l=new Uint16Array(u),h=new Uint8Array(u),d=0;c[d++]=a.length,c[d++]=n.STRING;for(var p=a.length,f=0;f<p;f++)l[2*d]=a.charCodeAt(f),d+=.5;d%1!=0&&(d+=.5);return e.forEach((function(t){var e=t.buffer;if(e instanceof Uint16Array)if(t.compressed){c[d++]=t.compressed.length,c[d++]=n.UINT16_COMPRESSED;for(var r=t.compressed,i=0;i<r.length;i++)h[4*d]=r[i],d+=.25;d+=1-d%1}else{c[d++]=e.length,c[d++]=n.UINT16;for(var a=0;a<e.length;a++)l[2*d]=e[a],d+=.5;d+=d%1}else if(e instanceof Float32Array)if(t.compressed){c[d++]=t.compressed.length,c[d++]=n.FLOAT32_COMPRESSED;for(var o=t.compressed,s=0;s<o.length;s++)h[4*d]=o[s],d+=.25;d+=1-d%1}else{c[d++]=e.length,c[d++]=n.FLOAT32;for(var u=0;u<e.length;u++)c[d++]=e[u]}})),u}(t,u)}},function(t,e,n){"use strict";var r=n(41),i=n(54),a=n(483),o=n(208),s=a.ArrayBuffer;r({global:!0,forced:i.ArrayBuffer!==s},{ArrayBuffer:s}),o("ArrayBuffer")},function(t,e,n){"use strict";var r={};(0,n(168).assign)(r,n(618),n(621),n(493)),t.exports=r},function(t,e,n){"use strict";var r=n(619),i=n(168),a=n(491),o=n(303),s=n(492),u=Object.prototype.toString;function c(t){if(!(this instanceof c))return new c(t);this.options=i.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=r.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(0!==n)throw new Error(o[n]);if(e.header&&r.deflateSetHeader(this.strm,e.header),e.dictionary){var l;if(l="string"==typeof e.dictionary?a.string2buf(e.dictionary):"[object ArrayBuffer]"===u.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,0!==(n=r.deflateSetDictionary(this.strm,l)))throw new Error(o[n]);this._dict_set=!0}}function l(t,e){var n=new c(e);if(n.push(t,!0),n.err)throw n.msg||o[n.err];return n.result}c.prototype.push=function(t,e){var n,o,s=this.strm,c=this.options.chunkSize;if(this.ended)return!1;o=e===~~e?e:!0===e?4:0,"string"==typeof t?s.input=a.string2buf(t):"[object ArrayBuffer]"===u.call(t)?s.input=new Uint8Array(t):s.input=t,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new i.Buf8(c),s.next_out=0,s.avail_out=c),1!==(n=r.deflate(s,o))&&0!==n)return this.onEnd(n),this.ended=!0,!1;0!==s.avail_out&&(0!==s.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(a.buf2binstring(i.shrinkBuf(s.output,s.next_out))):this.onData(i.shrinkBuf(s.output,s.next_out)))}while((s.avail_in>0||0===s.avail_out)&&1!==n);return 4===o?(n=r.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==o||(this.onEnd(0),s.avail_out=0,!0)},c.prototype.onData=function(t){this.chunks.push(t)},c.prototype.onEnd=function(t){0===t&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Deflate=c,e.deflate=l,e.deflateRaw=function(t,e){return(e=e||{}).raw=!0,l(t,e)},e.gzip=function(t,e){return(e=e||{}).gzip=!0,l(t,e)}},function(t,e,n){"use strict";var r,i=n(168),a=n(620),o=n(489),s=n(490),u=n(303);function c(t,e){return t.msg=u[e],e}function l(t){return(t<<1)-(t>4?9:0)}function h(t){for(var e=t.length;--e>=0;)t[e]=0}function d(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(i.arraySet(t.output,e.pending_buf,e.pending_out,n,t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))}function p(t,e){a._tr_flush_block(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,d(t.strm)}function f(t,e){t.pending_buf[t.pending++]=e}function m(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e}function g(t,e){var n,r,i=t.max_chain_length,a=t.strstart,o=t.prev_length,s=t.nice_match,u=t.strstart>t.w_size-262?t.strstart-(t.w_size-262):0,c=t.window,l=t.w_mask,h=t.prev,d=t.strstart+258,p=c[a+o-1],f=c[a+o];t.prev_length>=t.good_match&&(i>>=2),s>t.lookahead&&(s=t.lookahead);do{if(c[(n=e)+o]===f&&c[n+o-1]===p&&c[n]===c[a]&&c[++n]===c[a+1]){a+=2,n++;do{}while(c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&c[++a]===c[++n]&&a<d);if(r=258-(d-a),a=d-258,r>o){if(t.match_start=e,o=r,r>=s)break;p=c[a+o-1],f=c[a+o]}}}while((e=h[e&l])>u&&0!=--i);return o<=t.lookahead?o:t.lookahead}function y(t){var e,n,r,a,u,c,l,h,d,p,f=t.w_size;do{if(a=t.window_size-t.lookahead-t.strstart,t.strstart>=f+(f-262)){i.arraySet(t.window,t.window,f,f,0),t.match_start-=f,t.strstart-=f,t.block_start-=f,e=n=t.hash_size;do{r=t.head[--e],t.head[e]=r>=f?r-f:0}while(--n);e=n=f;do{r=t.prev[--e],t.prev[e]=r>=f?r-f:0}while(--n);a+=f}if(0===t.strm.avail_in)break;if(c=t.strm,l=t.window,h=t.strstart+t.lookahead,d=a,p=void 0,(p=c.avail_in)>d&&(p=d),n=0===p?0:(c.avail_in-=p,i.arraySet(l,c.input,c.next_in,p,h),1===c.state.wrap?c.adler=o(c.adler,l,p,h):2===c.state.wrap&&(c.adler=s(c.adler,l,p,h)),c.next_in+=p,c.total_in+=p,p),t.lookahead+=n,t.lookahead+t.insert>=3)for(u=t.strstart-t.insert,t.ins_h=t.window[u],t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+1])&t.hash_mask;t.insert&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[u+3-1])&t.hash_mask,t.prev[u&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=u,u++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<262&&0!==t.strm.avail_in)}function v(t,e){for(var n,r;;){if(t.lookahead<262){if(y(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-262&&(t.match_length=g(t,n)),t.match_length>=3)if(r=a._tr_tally(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!=--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+1])&t.hash_mask;else r=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(r&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}function b(t,e){for(var n,r,i;;){if(t.lookahead<262){if(y(t),t.lookahead<262&&0===e)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-262&&(t.match_length=g(t,n),t.match_length<=5&&(1===t.strategy||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){i=t.strstart+t.lookahead-3,r=a._tr_tally(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=i&&(t.ins_h=(t.ins_h<<t.hash_shift^t.window[t.strstart+3-1])&t.hash_mask,n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!=--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,r&&(p(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((r=a._tr_tally(t,0,t.window[t.strstart-1]))&&p(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(r=a._tr_tally(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}function _(t,e,n,r,i){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=r,this.func=i}function w(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(1146),this.dyn_dtree=new i.Buf16(122),this.bl_tree=new i.Buf16(78),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(16),this.heap=new i.Buf16(573),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(573),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function x(t){var e;return t&&t.state?(t.total_in=t.total_out=0,t.data_type=2,(e=t.state).pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:113,t.adler=2===e.wrap?0:1,e.last_flush=0,a._tr_init(e),0):c(t,-2)}function S(t){var e,n=x(t);return 0===n&&((e=t.state).window_size=2*e.w_size,h(e.head),e.max_lazy_match=r[e.level].max_lazy,e.good_match=r[e.level].good_length,e.nice_match=r[e.level].nice_length,e.max_chain_length=r[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n}function T(t,e,n,r,a,o){if(!t)return-2;var s=1;if(-1===e&&(e=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),a<1||a>9||8!==n||r<8||r>15||e<0||e>9||o<0||o>4)return c(t,-2);8===r&&(r=9);var u=new w;return t.state=u,u.strm=t,u.wrap=s,u.gzhead=null,u.w_bits=r,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=a+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+3-1)/3),u.window=new i.Buf8(2*u.w_size),u.head=new i.Buf16(u.hash_size),u.prev=new i.Buf16(u.w_size),u.lit_bufsize=1<<a+6,u.pending_buf_size=4*u.lit_bufsize,u.pending_buf=new i.Buf8(u.pending_buf_size),u.d_buf=1*u.lit_bufsize,u.l_buf=3*u.lit_bufsize,u.level=e,u.strategy=o,u.method=n,S(t)}r=[new _(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(y(t),0===t.lookahead&&0===e)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var r=t.block_start+n;if((0===t.strstart||t.strstart>=r)&&(t.lookahead=t.strstart-r,t.strstart=r,p(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-262&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(p(t,!1),t.strm.avail_out),1)})),new _(4,4,8,4,v),new _(4,5,16,8,v),new _(4,6,32,32,v),new _(4,4,16,16,b),new _(8,16,32,32,b),new _(8,16,128,128,b),new _(8,32,128,256,b),new _(32,128,258,1024,b),new _(32,258,258,4096,b)],e.deflateInit=function(t,e){return T(t,e,8,15,8,0)},e.deflateInit2=T,e.deflateReset=S,e.deflateResetKeep=x,e.deflateSetHeader=function(t,e){return t&&t.state?2!==t.state.wrap?-2:(t.state.gzhead=e,0):-2},e.deflate=function(t,e){var n,i,o,u;if(!t||!t.state||e>5||e<0)return t?c(t,-2):-2;if(i=t.state,!t.output||!t.input&&0!==t.avail_in||666===i.status&&4!==e)return c(t,0===t.avail_out?-5:-2);if(i.strm=t,n=i.last_flush,i.last_flush=e,42===i.status)if(2===i.wrap)t.adler=0,f(i,31),f(i,139),f(i,8),i.gzhead?(f(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),f(i,255&i.gzhead.time),f(i,i.gzhead.time>>8&255),f(i,i.gzhead.time>>16&255),f(i,i.gzhead.time>>24&255),f(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),f(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(f(i,255&i.gzhead.extra.length),f(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(t.adler=s(t.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(f(i,0),f(i,0),f(i,0),f(i,0),f(i,0),f(i,9===i.level?2:i.strategy>=2||i.level<2?4:0),f(i,3),i.status=113);else{var g=8+(i.w_bits-8<<4)<<8;g|=(i.strategy>=2||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(g|=32),g+=31-g%31,i.status=113,m(i,g),0!==i.strstart&&(m(i,t.adler>>>16),m(i,65535&t.adler)),t.adler=1}if(69===i.status)if(i.gzhead.extra){for(o=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),d(t),o=i.pending,i.pending!==i.pending_buf_size));)f(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),d(t),o=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,f(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),0===u&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){o=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),d(t),o=i.pending,i.pending===i.pending_buf_size)){u=1;break}u=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,f(i,u)}while(0!==u);i.gzhead.hcrc&&i.pending>o&&(t.adler=s(t.adler,i.pending_buf,i.pending-o,o)),0===u&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&d(t),i.pending+2<=i.pending_buf_size&&(f(i,255&t.adler),f(i,t.adler>>8&255),t.adler=0,i.status=113)):i.status=113),0!==i.pending){if(d(t),0===t.avail_out)return i.last_flush=-1,0}else if(0===t.avail_in&&l(e)<=l(n)&&4!==e)return c(t,-5);if(666===i.status&&0!==t.avail_in)return c(t,-5);if(0!==t.avail_in||0!==i.lookahead||0!==e&&666!==i.status){var v=2===i.strategy?function(t,e){for(var n;;){if(0===t.lookahead&&(y(t),0===t.lookahead)){if(0===e)return 1;break}if(t.match_length=0,n=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}(i,e):3===i.strategy?function(t,e){for(var n,r,i,o,s=t.window;;){if(t.lookahead<=258){if(y(t),t.lookahead<=258&&0===e)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(r=s[i=t.strstart-1])===s[++i]&&r===s[++i]&&r===s[++i]){o=t.strstart+258;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);t.match_length=258-(o-i),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=a._tr_tally(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=a._tr_tally(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(p(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,4===e?(p(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(p(t,!1),0===t.strm.avail_out)?1:2}(i,e):r[i.level].func(i,e);if(3!==v&&4!==v||(i.status=666),1===v||3===v)return 0===t.avail_out&&(i.last_flush=-1),0;if(2===v&&(1===e?a._tr_align(i):5!==e&&(a._tr_stored_block(i,0,0,!1),3===e&&(h(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),d(t),0===t.avail_out))return i.last_flush=-1,0}return 4!==e?0:i.wrap<=0?1:(2===i.wrap?(f(i,255&t.adler),f(i,t.adler>>8&255),f(i,t.adler>>16&255),f(i,t.adler>>24&255),f(i,255&t.total_in),f(i,t.total_in>>8&255),f(i,t.total_in>>16&255),f(i,t.total_in>>24&255)):(m(i,t.adler>>>16),m(i,65535&t.adler)),d(t),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?0:1)},e.deflateEnd=function(t){var e;return t&&t.state?42!==(e=t.state.status)&&69!==e&&73!==e&&91!==e&&103!==e&&113!==e&&666!==e?c(t,-2):(t.state=null,113===e?c(t,-3):0):-2},e.deflateSetDictionary=function(t,e){var n,r,a,s,u,c,l,d,p=e.length;if(!t||!t.state)return-2;if(2===(s=(n=t.state).wrap)||1===s&&42!==n.status||n.lookahead)return-2;for(1===s&&(t.adler=o(t.adler,e,p,0)),n.wrap=0,p>=n.w_size&&(0===s&&(h(n.head),n.strstart=0,n.block_start=0,n.insert=0),d=new i.Buf8(n.w_size),i.arraySet(d,e,p-n.w_size,n.w_size,0),e=d,p=n.w_size),u=t.avail_in,c=t.next_in,l=t.input,t.avail_in=p,t.next_in=0,t.input=e,y(n);n.lookahead>=3;){r=n.strstart,a=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+3-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--a);n.strstart=r,n.lookahead=2,y(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,t.next_in=c,t.input=l,t.avail_in=u,n.wrap=s,0},e.deflateInfo="pako deflate (from Nodeca project)"},function(t,e,n){"use strict";var r=n(168);function i(t){for(var e=t.length;--e>=0;)t[e]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],u=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],c=new Array(576);i(c);var l=new Array(60);i(l);var h=new Array(512);i(h);var d=new Array(256);i(d);var p=new Array(29);i(p);var f,m,g,y=new Array(30);function v(t,e,n,r,i){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=t&&t.length}function b(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}function _(t){return t<256?h[t]:h[256+(t>>>7)]}function w(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255}function x(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,w(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)}function S(t,e,n){x(t,n[2*e],n[2*e+1])}function T(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1}function M(t,e,n){var r,i,a=new Array(16),o=0;for(r=1;r<=15;r++)a[r]=o=o+n[r-1]<<1;for(i=0;i<=e;i++){var s=t[2*i+1];0!==s&&(t[2*i]=T(a[s]++,s))}}function E(t){var e;for(e=0;e<286;e++)t.dyn_ltree[2*e]=0;for(e=0;e<30;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0}function A(t){t.bi_valid>8?w(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0}function k(t,e,n,r){var i=2*e,a=2*n;return t[i]<t[a]||t[i]===t[a]&&r[e]<=r[n]}function C(t,e,n){for(var r=t.heap[n],i=n<<1;i<=t.heap_len&&(i<t.heap_len&&k(e,t.heap[i+1],t.heap[i],t.depth)&&i++,!k(e,r,t.heap[i],t.depth));)t.heap[n]=t.heap[i],n=i,i<<=1;t.heap[n]=r}function O(t,e,n){var r,i,s,u,c=0;if(0!==t.last_lit)do{r=t.pending_buf[t.d_buf+2*c]<<8|t.pending_buf[t.d_buf+2*c+1],i=t.pending_buf[t.l_buf+c],c++,0===r?S(t,i,e):(S(t,(s=d[i])+256+1,e),0!==(u=a[s])&&x(t,i-=p[s],u),S(t,s=_(--r),n),0!==(u=o[s])&&x(t,r-=y[s],u))}while(c<t.last_lit);S(t,256,e)}function L(t,e){var n,r,i,a=e.dyn_tree,o=e.stat_desc.static_tree,s=e.stat_desc.has_stree,u=e.stat_desc.elems,c=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<u;n++)0!==a[2*n]?(t.heap[++t.heap_len]=c=n,t.depth[n]=0):a[2*n+1]=0;for(;t.heap_len<2;)a[2*(i=t.heap[++t.heap_len]=c<2?++c:0)]=1,t.depth[i]=0,t.opt_len--,s&&(t.static_len-=o[2*i+1]);for(e.max_code=c,n=t.heap_len>>1;n>=1;n--)C(t,a,n);i=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],C(t,a,1),r=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=r,a[2*i]=a[2*n]+a[2*r],t.depth[i]=(t.depth[n]>=t.depth[r]?t.depth[n]:t.depth[r])+1,a[2*n+1]=a[2*r+1]=i,t.heap[1]=i++,C(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,r,i,a,o,s,u=e.dyn_tree,c=e.max_code,l=e.stat_desc.static_tree,h=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,p=e.stat_desc.extra_base,f=e.stat_desc.max_length,m=0;for(a=0;a<=15;a++)t.bl_count[a]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(a=u[2*u[2*(r=t.heap[n])+1]+1]+1)>f&&(a=f,m++),u[2*r+1]=a,r>c||(t.bl_count[a]++,o=0,r>=p&&(o=d[r-p]),s=u[2*r],t.opt_len+=s*(a+o),h&&(t.static_len+=s*(l[2*r+1]+o)));if(0!==m){do{for(a=f-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[f]--,m-=2}while(m>0);for(a=f;0!==a;a--)for(r=t.bl_count[a];0!==r;)(i=t.heap[--n])>c||(u[2*i+1]!==a&&(t.opt_len+=(a-u[2*i+1])*u[2*i],u[2*i+1]=a),r--)}}(t,e),M(a,c,t.bl_count)}function R(t,e,n){var r,i,a=-1,o=e[1],s=0,u=7,c=4;for(0===o&&(u=138,c=3),e[2*(n+1)+1]=65535,r=0;r<=n;r++)i=o,o=e[2*(r+1)+1],++s<u&&i===o||(s<c?t.bl_tree[2*i]+=s:0!==i?(i!==a&&t.bl_tree[2*i]++,t.bl_tree[32]++):s<=10?t.bl_tree[34]++:t.bl_tree[36]++,s=0,a=i,0===o?(u=138,c=3):i===o?(u=6,c=3):(u=7,c=4))}function P(t,e,n){var r,i,a=-1,o=e[1],s=0,u=7,c=4;for(0===o&&(u=138,c=3),r=0;r<=n;r++)if(i=o,o=e[2*(r+1)+1],!(++s<u&&i===o)){if(s<c)do{S(t,i,t.bl_tree)}while(0!=--s);else 0!==i?(i!==a&&(S(t,i,t.bl_tree),s--),S(t,16,t.bl_tree),x(t,s-3,2)):s<=10?(S(t,17,t.bl_tree),x(t,s-3,3)):(S(t,18,t.bl_tree),x(t,s-11,7));s=0,a=i,0===o?(u=138,c=3):i===o?(u=6,c=3):(u=7,c=4)}}i(y);var D=!1;function I(t,e,n,i){x(t,0+(i?1:0),3),function(t,e,n,i){A(t),i&&(w(t,n),w(t,~n)),r.arraySet(t.pending_buf,t.window,e,n,t.pending),t.pending+=n}(t,e,n,!0)}e._tr_init=function(t){D||(!function(){var t,e,n,r,i,u=new Array(16);for(n=0,r=0;r<28;r++)for(p[r]=n,t=0;t<1<<a[r];t++)d[n++]=r;for(d[n-1]=r,i=0,r=0;r<16;r++)for(y[r]=i,t=0;t<1<<o[r];t++)h[i++]=r;for(i>>=7;r<30;r++)for(y[r]=i<<7,t=0;t<1<<o[r]-7;t++)h[256+i++]=r;for(e=0;e<=15;e++)u[e]=0;for(t=0;t<=143;)c[2*t+1]=8,t++,u[8]++;for(;t<=255;)c[2*t+1]=9,t++,u[9]++;for(;t<=279;)c[2*t+1]=7,t++,u[7]++;for(;t<=287;)c[2*t+1]=8,t++,u[8]++;for(M(c,287,u),t=0;t<30;t++)l[2*t+1]=5,l[2*t]=T(t,5);f=new v(c,a,257,286,15),m=new v(l,o,0,30,15),g=new v(new Array(0),s,0,19,7)}(),D=!0),t.l_desc=new b(t.dyn_ltree,f),t.d_desc=new b(t.dyn_dtree,m),t.bl_desc=new b(t.bl_tree,g),t.bi_buf=0,t.bi_valid=0,E(t)},e._tr_stored_block=I,e._tr_flush_block=function(t,e,n,r){var i,a,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<256;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),L(t,t.l_desc),L(t,t.d_desc),o=function(t){var e;for(R(t,t.dyn_ltree,t.l_desc.max_code),R(t,t.dyn_dtree,t.d_desc.max_code),L(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*u[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),i=t.opt_len+3+7>>>3,(a=t.static_len+3+7>>>3)<=i&&(i=a)):i=a=n+5,n+4<=i&&-1!==e?I(t,e,n,r):4===t.strategy||a===i?(x(t,2+(r?1:0),3),O(t,c,l)):(x(t,4+(r?1:0),3),function(t,e,n,r){var i;for(x(t,e-257,5),x(t,n-1,5),x(t,r-4,4),i=0;i<r;i++)x(t,t.bl_tree[2*u[i]+1],3);P(t,t.dyn_ltree,e-1),P(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),O(t,t.dyn_ltree,t.dyn_dtree)),E(t),r&&A(t)},e._tr_tally=function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(d[n]+256+1)]++,t.dyn_dtree[2*_(e)]++),t.last_lit===t.lit_bufsize-1},e._tr_align=function(t){x(t,2,3),S(t,256,c),function(t){16===t.bi_valid?(w(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},function(t,e,n){"use strict";var r=n(622),i=n(168),a=n(491),o=n(493),s=n(303),u=n(492),c=n(625),l=Object.prototype.toString;function h(t){if(!(this instanceof h))return new h(t);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0==(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=r.inflateInit2(this.strm,e.windowBits);if(n!==o.Z_OK)throw new Error(s[n]);if(this.header=new c,r.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"==typeof e.dictionary?e.dictionary=a.string2buf(e.dictionary):"[object ArrayBuffer]"===l.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=r.inflateSetDictionary(this.strm,e.dictionary))!==o.Z_OK))throw new Error(s[n])}function d(t,e){var n=new h(e);if(n.push(t,!0),n.err)throw n.msg||s[n.err];return n.result}h.prototype.push=function(t,e){var n,s,u,c,h,d=this.strm,p=this.options.chunkSize,f=this.options.dictionary,m=!1;if(this.ended)return!1;s=e===~~e?e:!0===e?o.Z_FINISH:o.Z_NO_FLUSH,"string"==typeof t?d.input=a.binstring2buf(t):"[object ArrayBuffer]"===l.call(t)?d.input=new Uint8Array(t):d.input=t,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(p),d.next_out=0,d.avail_out=p),(n=r.inflate(d,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&f&&(n=r.inflateSetDictionary(this.strm,f)),n===o.Z_BUF_ERROR&&!0===m&&(n=o.Z_OK,m=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),this.ended=!0,!1;d.next_out&&(0!==d.avail_out&&n!==o.Z_STREAM_END&&(0!==d.avail_in||s!==o.Z_FINISH&&s!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(u=a.utf8border(d.output,d.next_out),c=d.next_out-u,h=a.buf2string(d.output,u),d.next_out=c,d.avail_out=p-c,c&&i.arraySet(d.output,d.output,u,c,0),this.onData(h)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(m=!0)}while((d.avail_in>0||0===d.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(s=o.Z_FINISH),s===o.Z_FINISH?(n=r.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):s!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),d.avail_out=0,!0)},h.prototype.onData=function(t){this.chunks.push(t)},h.prototype.onEnd=function(t){t===o.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},e.Inflate=h,e.inflate=d,e.inflateRaw=function(t,e){return(e=e||{}).raw=!0,d(t,e)},e.ungzip=d},function(t,e,n){"use strict";var r=n(168),i=n(489),a=n(490),o=n(623),s=n(624);function u(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)}function c(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new r.Buf16(320),this.work=new r.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function l(t){var e;return t&&t.state?(e=t.state,t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new r.Buf32(852),e.distcode=e.distdyn=new r.Buf32(592),e.sane=1,e.back=-1,0):-2}function h(t){var e;return t&&t.state?((e=t.state).wsize=0,e.whave=0,e.wnext=0,l(t)):-2}function d(t,e){var n,r;return t&&t.state?(r=t.state,e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?-2:(null!==r.window&&r.wbits!==e&&(r.window=null),r.wrap=n,r.wbits=e,h(t))):-2}function p(t,e){var n,r;return t?(r=new c,t.state=r,r.window=null,0!==(n=d(t,e))&&(t.state=null),n):-2}var f,m,g=!0;function y(t){if(g){var e;for(f=new r.Buf32(512),m=new r.Buf32(32),e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(s(1,t.lens,0,288,f,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;s(2,t.lens,0,32,m,0,t.work,{bits:5}),g=!1}t.lencode=f,t.lenbits=9,t.distcode=m,t.distbits=5}function v(t,e,n,i){var a,o=t.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new r.Buf8(o.wsize)),i>=o.wsize?(r.arraySet(o.window,e,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((a=o.wsize-o.wnext)>i&&(a=i),r.arraySet(o.window,e,n-i,a,o.wnext),(i-=a)?(r.arraySet(o.window,e,n-i,i,0),o.wnext=i,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}e.inflateReset=h,e.inflateReset2=d,e.inflateResetKeep=l,e.inflateInit=function(t){return p(t,15)},e.inflateInit2=p,e.inflate=function(t,e){var n,c,l,h,d,p,f,m,g,b,_,w,x,S,T,M,E,A,k,C,O,L,R,P,D=0,I=new r.Buf8(4),B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return-2;12===(n=t.state).mode&&(n.mode=13),d=t.next_out,l=t.output,f=t.avail_out,h=t.next_in,c=t.input,p=t.avail_in,m=n.hold,g=n.bits,b=p,_=f,L=0;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;g<16;){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}if(2&n.wrap&&35615===m){n.check=0,I[0]=255&m,I[1]=m>>>8&255,n.check=a(n.check,I,2,0),m=0,g=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){t.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){t.msg="unknown compression method",n.mode=30;break}if(g-=4,O=8+(15&(m>>>=4)),0===n.wbits)n.wbits=O;else if(O>n.wbits){t.msg="invalid window size",n.mode=30;break}n.dmax=1<<O,t.adler=n.check=1,n.mode=512&m?10:12,m=0,g=0;break;case 2:for(;g<16;){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}if(n.flags=m,8!=(255&n.flags)){t.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(I[0]=255&m,I[1]=m>>>8&255,n.check=a(n.check,I,2,0)),m=0,g=0,n.mode=3;case 3:for(;g<32;){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}n.head&&(n.head.time=m),512&n.flags&&(I[0]=255&m,I[1]=m>>>8&255,I[2]=m>>>16&255,I[3]=m>>>24&255,n.check=a(n.check,I,4,0)),m=0,g=0,n.mode=4;case 4:for(;g<16;){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(I[0]=255&m,I[1]=m>>>8&255,n.check=a(n.check,I,2,0)),m=0,g=0,n.mode=5;case 5:if(1024&n.flags){for(;g<16;){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(I[0]=255&m,I[1]=m>>>8&255,n.check=a(n.check,I,2,0)),m=0,g=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((w=n.length)>p&&(w=p),w&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),r.arraySet(n.head.extra,c,h,w,O)),512&n.flags&&(n.check=a(n.check,c,w,h)),p-=w,h+=w,n.length-=w),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break t;w=0;do{O=c[h+w++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O))}while(O&&w<p);if(512&n.flags&&(n.check=a(n.check,c,w,h)),p-=w,h+=w,O)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break t;w=0;do{O=c[h+w++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O))}while(O&&w<p);if(512&n.flags&&(n.check=a(n.check,c,w,h)),p-=w,h+=w,O)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;g<16;){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}if(m!==(65535&n.check)){t.msg="header crc mismatch",n.mode=30;break}m=0,g=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=12;break;case 10:for(;g<32;){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}t.adler=n.check=u(m),m=0,g=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=d,t.avail_out=f,t.next_in=h,t.avail_in=p,n.hold=m,n.bits=g,2;t.adler=n.check=1,n.mode=12;case 12:if(5===e||6===e)break t;case 13:if(n.last){m>>>=7&g,g-=7&g,n.mode=27;break}for(;g<3;){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}switch(n.last=1&m,g-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(y(n),n.mode=20,6===e){m>>>=2,g-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=30}m>>>=2,g-=2;break;case 14:for(m>>>=7&g,g-=7&g;g<32;){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}if((65535&m)!=(m>>>16^65535)){t.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,m=0,g=0,n.mode=15,6===e)break t;case 15:n.mode=16;case 16:if(w=n.length){if(w>p&&(w=p),w>f&&(w=f),0===w)break t;r.arraySet(l,c,h,w,d),p-=w,h+=w,f-=w,d+=w,n.length-=w;break}n.mode=12;break;case 17:for(;g<14;){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}if(n.nlen=257+(31&m),m>>>=5,g-=5,n.ndist=1+(31&m),m>>>=5,g-=5,n.ncode=4+(15&m),m>>>=4,g-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;g<3;){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}n.lens[B[n.have++]]=7&m,m>>>=3,g-=3}for(;n.have<19;)n.lens[B[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,R={bits:n.lenbits},L=s(0,n.lens,0,19,n.lencode,0,n.work,R),n.lenbits=R.bits,L){t.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;M=(D=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,E=65535&D,!((T=D>>>24)<=g);){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}if(E<16)m>>>=T,g-=T,n.lens[n.have++]=E;else{if(16===E){for(P=T+2;g<P;){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}if(m>>>=T,g-=T,0===n.have){t.msg="invalid bit length repeat",n.mode=30;break}O=n.lens[n.have-1],w=3+(3&m),m>>>=2,g-=2}else if(17===E){for(P=T+3;g<P;){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}g-=T,O=0,w=3+(7&(m>>>=T)),m>>>=3,g-=3}else{for(P=T+7;g<P;){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}g-=T,O=0,w=11+(127&(m>>>=T)),m>>>=7,g-=7}if(n.have+w>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=30;break}for(;w--;)n.lens[n.have++]=O}}if(30===n.mode)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,R={bits:n.lenbits},L=s(1,n.lens,0,n.nlen,n.lencode,0,n.work,R),n.lenbits=R.bits,L){t.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,R={bits:n.distbits},L=s(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,R),n.distbits=R.bits,L){t.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===e)break t;case 20:n.mode=21;case 21:if(p>=6&&f>=258){t.next_out=d,t.avail_out=f,t.next_in=h,t.avail_in=p,n.hold=m,n.bits=g,o(t,_),d=t.next_out,l=t.output,f=t.avail_out,h=t.next_in,c=t.input,p=t.avail_in,m=n.hold,g=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;M=(D=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,E=65535&D,!((T=D>>>24)<=g);){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}if(M&&0==(240&M)){for(A=T,k=M,C=E;M=(D=n.lencode[C+((m&(1<<A+k)-1)>>A)])>>>16&255,E=65535&D,!(A+(T=D>>>24)<=g);){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}m>>>=A,g-=A,n.back+=A}if(m>>>=T,g-=T,n.back+=T,n.length=E,0===M){n.mode=26;break}if(32&M){n.back=-1,n.mode=12;break}if(64&M){t.msg="invalid literal/length code",n.mode=30;break}n.extra=15&M,n.mode=22;case 22:if(n.extra){for(P=n.extra;g<P;){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;M=(D=n.distcode[m&(1<<n.distbits)-1])>>>16&255,E=65535&D,!((T=D>>>24)<=g);){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}if(0==(240&M)){for(A=T,k=M,C=E;M=(D=n.distcode[C+((m&(1<<A+k)-1)>>A)])>>>16&255,E=65535&D,!(A+(T=D>>>24)<=g);){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}m>>>=A,g-=A,n.back+=A}if(m>>>=T,g-=T,n.back+=T,64&M){t.msg="invalid distance code",n.mode=30;break}n.offset=E,n.extra=15&M,n.mode=24;case 24:if(n.extra){for(P=n.extra;g<P;){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===f)break t;if(w=_-f,n.offset>w){if((w=n.offset-w)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=30;break}w>n.wnext?(w-=n.wnext,x=n.wsize-w):x=n.wnext-w,w>n.length&&(w=n.length),S=n.window}else S=l,x=d-n.offset,w=n.length;w>f&&(w=f),f-=w,n.length-=w;do{l[d++]=S[x++]}while(--w);0===n.length&&(n.mode=21);break;case 26:if(0===f)break t;l[d++]=n.length,f--,n.mode=21;break;case 27:if(n.wrap){for(;g<32;){if(0===p)break t;p--,m|=c[h++]<<g,g+=8}if(_-=f,t.total_out+=_,n.total+=_,_&&(t.adler=n.check=n.flags?a(n.check,l,_,d-_):i(n.check,l,_,d-_)),_=f,(n.flags?m:u(m))!==n.check){t.msg="incorrect data check",n.mode=30;break}m=0,g=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;g<32;){if(0===p)break t;p--,m+=c[h++]<<g,g+=8}if(m!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=30;break}m=0,g=0}n.mode=29;case 29:L=1;break t;case 30:L=-3;break t;case 31:return-4;case 32:default:return-2}return t.next_out=d,t.avail_out=f,t.next_in=h,t.avail_in=p,n.hold=m,n.bits=g,(n.wsize||_!==t.avail_out&&n.mode<30&&(n.mode<27||4!==e))&&v(t,t.output,t.next_out,_-t.avail_out)?(n.mode=31,-4):(b-=t.avail_in,_-=t.avail_out,t.total_in+=b,t.total_out+=_,n.total+=_,n.wrap&&_&&(t.adler=n.check=n.flags?a(n.check,l,_,t.next_out-_):i(n.check,l,_,t.next_out-_)),t.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0===b&&0===_||4===e)&&0===L&&(L=-5),L)},e.inflateEnd=function(t){if(!t||!t.state)return-2;var e=t.state;return e.window&&(e.window=null),t.state=null,0},e.inflateGetHeader=function(t,e){var n;return t&&t.state?0==(2&(n=t.state).wrap)?-2:(n.head=e,e.done=!1,0):-2},e.inflateSetDictionary=function(t,e){var n,r=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?-2:11===n.mode&&i(1,e,r,0)!==n.check?-3:v(t,e,r,r)?(n.mode=31,-4):(n.havedict=1,0):-2},e.inflateInfo="pako inflate (from Nodeca project)"},function(t,e,n){"use strict";t.exports=function(t,e){var n,r,i,a,o,s,u,c,l,h,d,p,f,m,g,y,v,b,_,w,x,S,T,M,E;n=t.state,r=t.next_in,M=t.input,i=r+(t.avail_in-5),a=t.next_out,E=t.output,o=a-(e-t.avail_out),s=a+(t.avail_out-257),u=n.dmax,c=n.wsize,l=n.whave,h=n.wnext,d=n.window,p=n.hold,f=n.bits,m=n.lencode,g=n.distcode,y=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;t:do{f<15&&(p+=M[r++]<<f,f+=8,p+=M[r++]<<f,f+=8),b=m[p&y];e:for(;;){if(p>>>=_=b>>>24,f-=_,0===(_=b>>>16&255))E[a++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=m[(65535&b)+(p&(1<<_)-1)];continue e}if(32&_){n.mode=12;break t}t.msg="invalid literal/length code",n.mode=30;break t}w=65535&b,(_&=15)&&(f<_&&(p+=M[r++]<<f,f+=8),w+=p&(1<<_)-1,p>>>=_,f-=_),f<15&&(p+=M[r++]<<f,f+=8,p+=M[r++]<<f,f+=8),b=g[p&v];n:for(;;){if(p>>>=_=b>>>24,f-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=g[(65535&b)+(p&(1<<_)-1)];continue n}t.msg="invalid distance code",n.mode=30;break t}if(x=65535&b,f<(_&=15)&&(p+=M[r++]<<f,(f+=8)<_&&(p+=M[r++]<<f,f+=8)),(x+=p&(1<<_)-1)>u){t.msg="invalid distance too far back",n.mode=30;break t}if(p>>>=_,f-=_,x>(_=a-o)){if((_=x-_)>l&&n.sane){t.msg="invalid distance too far back",n.mode=30;break t}if(S=0,T=d,0===h){if(S+=c-_,_<w){w-=_;do{E[a++]=d[S++]}while(--_);S=a-x,T=E}}else if(h<_){if(S+=c+h-_,(_-=h)<w){w-=_;do{E[a++]=d[S++]}while(--_);if(S=0,h<w){w-=_=h;do{E[a++]=d[S++]}while(--_);S=a-x,T=E}}}else if(S+=h-_,_<w){w-=_;do{E[a++]=d[S++]}while(--_);S=a-x,T=E}for(;w>2;)E[a++]=T[S++],E[a++]=T[S++],E[a++]=T[S++],w-=3;w&&(E[a++]=T[S++],w>1&&(E[a++]=T[S++]))}else{S=a-x;do{E[a++]=E[S++],E[a++]=E[S++],E[a++]=E[S++],w-=3}while(w>2);w&&(E[a++]=E[S++],w>1&&(E[a++]=E[S++]))}break}}break}}while(r<i&&a<s);r-=w=f>>3,p&=(1<<(f-=w<<3))-1,t.next_in=r,t.next_out=a,t.avail_in=r<i?i-r+5:5-(r-i),t.avail_out=a<s?s-a+257:257-(a-s),n.hold=p,n.bits=f}},function(t,e,n){"use strict";var r=n(168),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(t,e,n,u,c,l,h,d){var p,f,m,g,y,v,b,_,w,x=d.bits,S=0,T=0,M=0,E=0,A=0,k=0,C=0,O=0,L=0,R=0,P=null,D=0,I=new r.Buf16(16),B=new r.Buf16(16),N=null,j=0;for(S=0;S<=15;S++)I[S]=0;for(T=0;T<u;T++)I[e[n+T]]++;for(A=x,E=15;E>=1&&0===I[E];E--);if(A>E&&(A=E),0===E)return c[l++]=20971520,c[l++]=20971520,d.bits=1,0;for(M=1;M<E&&0===I[M];M++);for(A<M&&(A=M),O=1,S=1;S<=15;S++)if(O<<=1,(O-=I[S])<0)return-1;if(O>0&&(0===t||1!==E))return-1;for(B[1]=0,S=1;S<15;S++)B[S+1]=B[S]+I[S];for(T=0;T<u;T++)0!==e[n+T]&&(h[B[e[n+T]]++]=T);if(0===t?(P=N=h,v=19):1===t?(P=i,D-=257,N=a,j-=257,v=256):(P=o,N=s,v=-1),R=0,T=0,S=M,y=l,k=A,C=0,m=-1,g=(L=1<<A)-1,1===t&&L>852||2===t&&L>592)return 1;for(;;){b=S-C,h[T]<v?(_=0,w=h[T]):h[T]>v?(_=N[j+h[T]],w=P[D+h[T]]):(_=96,w=0),p=1<<S-C,M=f=1<<k;do{c[y+(R>>C)+(f-=p)]=b<<24|_<<16|w|0}while(0!==f);for(p=1<<S-1;R&p;)p>>=1;if(0!==p?(R&=p-1,R+=p):R=0,T++,0==--I[S]){if(S===E)break;S=e[n+h[T]]}if(S>A&&(R&g)!==m){for(0===C&&(C=A),y+=M,O=1<<(k=S-C);k+C<E&&!((O-=I[k+C])<=0);)k++,O<<=1;if(L+=1<<k,1===t&&L>852||2===t&&L>592)return 1;c[m=R&g]=A<<24|k<<16|y-l|0}}return 0!==R&&(c[y+R]=S-C<<24|64<<16|0),d.bits=A,0}},function(t,e,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(t,e,n){"use strict";function r(t,e){if(t===e)return!0;if(!t||!e||t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(t[n]!==e[n])return!1;return!0}function i(t,e){if(t.primitives.length!==e.primitives.length)return!1;for(var n=!0,i=0;i<t.primitives.length;i++){var a=t.primitives[0],o=e.primitives[0];for(var s in a){if(!r(a[s],o[s])){n=!1;break}}if(!n)break}return n}n(15),n(140),n(5),n(22),n(20),n(51),n(39),n(42),n(88),n(34),Object.defineProperty(e,"__esModule",{value:!0}),e.dedupeGeometry=void 0,e.dedupeGeometry=function(t){for(var e=new Map,n=t.geometry,r=t.nodes,a=[],o=0;o<n.length;o++){var s=n[o];if(void 0===e[o]){e[o]=o;for(var u=o+1;u<n.length;u++){i(s,n[u])&&(e[u]=e[o],a.push(u))}}}var c=-1,l={},h=n.map((function(t,e){return e})).map((function(t){return e[t]})).map((function(t){return l[t]||(l[t]=!0,c++),c}));t.geometry=n.filter((function(t,e){return-1===a.indexOf(e)})),r.forEach((function(t){t.geometry&&(t.geometry=h[t.geometry])})),a.length}},function(t,e,n){"use strict";n(42),n(119),n(87),n(5),n(34),n(51),n(39),Object.defineProperty(e,"__esModule",{value:!0}),e.flattenScene=void 0;var r=n(494),i=n(300),a=n(495);e.flattenScene=function(t){var e=r.createMat4(),n=[];!function t(e,n,i,a,o){var s,u,c=null!==(s=e.transform)&&void 0!==s?s:r.createMat4(),l=r.multiplyMat4(r.createMat4(),c,n);void 0!==e.geometry&&i.geometry[e.geometry].primitives.forEach((function(t){o.push({primitive:t,transform:l})}));for(var h=0;h<e.children.length;h++)t(i.nodes[e.children[h]],l,i,"".concat(a,":").concat(null!==(u=e.name)&&void 0!==u?u:"scene"),o)}(t.scenes[0],e,t,"scene",n);var o=n.map((function(t){var e=t.primitive,n=Object.assign({},e),r=e.attributes.positions.slice();return a.transformPositions(r,t.transform),n.attributes.positions=r,n})),s=i.mergePrimitives(o);t.geometry=[{name:"merged",primitives:[s]}],t.nodes=[{name:"root",children:[],transform:r.createMat4(),type:"model",geometry:0}]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.gltfToGbParser=void 0;var r=n(629),i=n(631),a=n(632),o=n(634),s=n(635),u=n(636),c=n(637),l=n(638);e.gltfToGbParser=function(t,e){var n={};return t.realBuffers=e,s.processMeshes(t,n),u.processNodes(t,n),c.processScenes(t,n),r.processAnimations(t,n),l.processSkins(t,n),a.processLights(t,n),i.processCameras(t,n),o.processMaterials(t,n),n}},function(t,e,n){"use strict";n(42),n(5),n(34),Object.defineProperty(e,"__esModule",{value:!0}),e.processAnimations=void 0;var r=n(304),i={rotation:"r",translation:"t",scale:"s",weights:"w"};e.processAnimations=function(t,e){t.animations?e.animations=t.animations.map((function(e){var n={data:[],duration:0},a={};return e.channels.forEach((function(o){var s=e.samplers[o.sampler],u=r.getBuffer(t,s.input),c=r.getBuffer(t,s.output),l=a[o.target.node];l||(l=a[o.target.node]={id:o.target.node,duration:u[u.length-1]},n.data.push(l)),n.duration=Math.max(n.duration,l.duration),l[i[o.target.path]]={times:u,values:c}})),n})):e.animations=[]}},function(t,e,n){n(183)("Int32",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){"use strict";n(42),Object.defineProperty(e,"__esModule",{value:!0}),e.processCameras=void 0,e.processCameras=function(t,e){t.cameras?e.cameras=t.cameras.map((function(t){if("perspective"===t.type){var e=t.perspective;return{fov:e.yfov,near:e.znear,far:e.zfar,aspectRatio:e.aspectRatio,mode:0}}throw new Error("only perspective camera supported right now!")})):e.cameras=[]}},function(t,e,n){"use strict";n(42),n(39),Object.defineProperty(e,"__esModule",{value:!0}),e.processLights=void 0;var r=n(633),i={directional:0,point:1,spot:2};e.processLights=function(t,e){t.extensions&&t.extensions.KHR_lights_punctual&&t.extensions.KHR_lights_punctual.lights&&(e.lights=t.extensions.KHR_lights_punctual.lights.map((function(t){return{name:t.name,color:r.rgb2hex(t.color),intensity:t.intensity,type:i[t.type]}})))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rgb2hex=void 0,e.rgb2hex=function(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}},function(t,e,n){"use strict";n(119),n(39),n(42),Object.defineProperty(e,"__esModule",{value:!0}),e.processMaterials=e.processMaterial=e.rgb2hex=void 0;var r={BLEND:0};function i(t){if(t)return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}e.rgb2hex=i;var a={baseColorFactor:[1,1,1,1],metallicFactor:1,roughnessFactor:1};function o(t){var e,n,o,s,u,c,l,h=Object.assign(Object.assign({},a),t.pbrMetallicRoughness);return{name:t.name,state:{culling:null===(e=!t.doubleSided)||void 0===e||e,blendMode:null!==(n=r[t.alphaMode])&&void 0!==n?n:20},standard:{alpha:h.baseColorFactor[3],color:i(h.baseColorFactor),diffuseMap:null===(o=h.baseColorTexture)||void 0===o?void 0:o.index,normalMap:null===(s=t.normalTexture)||void 0===s?void 0:s.index,emissiveColor:i(t.emissiveFactor),emissiveMap:null===(u=t.emissiveTexture)||void 0===u?void 0:u.index,occlusionMap:null===(c=t.occlusionTexture)||void 0===c?void 0:c.index},pbr:{metallic:h.metallicFactor,roughness:h.roughnessFactor,metallicRoughnessMap:null===(l=h.metallicRoughnessTexture)||void 0===l?void 0:l.index}}}e.processMaterial=o,e.processMaterials=function(t,e){var n,r;e.textures=null===(n=t.textures)||void 0===n?void 0:n.map((function(e,n){return{uri:t.images[e.source].uri}})),e.materials=null===(r=t.materials)||void 0===r?void 0:r.map((function(t){return o(t)}))}},function(t,e,n){"use strict";n(42),n(39),Object.defineProperty(e,"__esModule",{value:!0}),e.processMeshes=void 0;var r=n(302),i=n(304),a={POSITION:"positions",NORMAL:"normals",TEXCOORD_0:"uvs",TEXCOORD:"uvs",JOINTS_0:"boneIndices",JOINTS:"boneIndices",WEIGHTS_0:"weights",WEIGHTS:"weights",TANGENT:"tangents"};e.processMeshes=function(t,e){e.geometry=t.meshes.map((function(e){var n={name:e.name,primitives:e.primitives.map((function(e){return function(t,e){var n={bounds:[0,0,0,0,0,0],attributes:{}};for(var o in n.material=e.material||0,void 0!==e.indices&&(n.indices=i.getBuffer(t,e.indices,!0)),e.attributes)a[o]&&(n.attributes[a[o]]=i.getBuffer(t,e.attributes[o]));if(n.attributes.positions){var s=r.getBounds(n.attributes.positions,3).ranges;n.bounds[0]=s[0].min,n.bounds[1]=s[1].min,n.bounds[2]=s[2].min,n.bounds[3]=s[0].max,n.bounds[4]=s[1].max,n.bounds[5]=s[2].max}return e.targets&&(n.targets=e.targets.map((function(e){var n={};for(var r in e)n[a[r]]=i.getBuffer(t,e[r]);return n}))),n}(t,e)}))};return e.weights&&(n.weights=e.weights),n}))}},function(t,e,n){"use strict";n(15),n(5),n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(42),n(39),Object.defineProperty(e,"__esModule",{value:!0}),e.processNodes=void 0,e.processNodes=function(t,e){e.nodes=t.nodes.map((function(t){var e=t.children||[],n=function(t){if(t.matrix&&16===t.matrix.length)return new Float32Array(t.matrix);var e=t.scale||[1,1,1],n=t.translation||[0,0,0],r=t.rotation||[0,0,0,1],i=r[0],a=r[1],o=r[2],s=r[3],u=i+i,c=a+a,l=o+o,h=i*u,d=i*c,p=i*l,f=a*c,m=a*l,g=o*l,y=s*u,v=s*c,b=s*l,_=new Float32Array(16),w=e[0],x=e[1],S=e[2];return _[0]=(1-(f+g))*w,_[1]=(d+b)*w,_[2]=(p-v)*w,_[4]=(d-b)*x,_[5]=(1-(h+g))*x,_[6]=(m+y)*x,_[8]=(p+v)*S,_[9]=(m-y)*S,_[10]=(1-(h+f))*S,_[12]=n[0],_[13]=n[1],_[14]=n[2],_}(t),r={name:t.name||"node",children:e,transform:n};return void 0!==t.camera&&(r.type="camera",r.camera=t.camera),void 0!==t.mesh&&(r.type="model",r.geometry=t.mesh),t.extensions&&t.extensions.KHR_lights_punctual&&(r.type="light",r.light=t.extensions.KHR_lights_punctual.light),void 0!==t.skin&&(r.skin=t.skin),r}))}},function(t,e,n){"use strict";n(42),n(39),Object.defineProperty(e,"__esModule",{value:!0}),e.processScenes=void 0,e.processScenes=function(t,e){e.scenes=t.scenes.map((function(t){return{children:t.nodes,name:t.name}}))}},function(t,e,n){"use strict";n(42),n(15),n(5),n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),Object.defineProperty(e,"__esModule",{value:!0}),e.processSkins=void 0;var r=n(304);e.processSkins=function(t,e){t.skins?e.skins=t.skins.map((function(n){var i=r.getBuffer(t,n.inverseBindMatrices);return{joints:n.joints.map((function(t,n){var r=e.nodes[t];r.type="bone",r.inverseBindMatrix=new Float32Array(16);for(var a=0;a<16;a++)r.inverseBindMatrix[a]=i[16*n+a];return t})),bindMatrix:n.bindMatrix||new Float32Array(16)}})):e.skins=[]}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.objToGbParser=void 0;var r=n(302),i=n(640);e.objToGbParser=function(t,e){var n={},a=i.parseObj(t),o=r.getBounds(a.position,3);return n.geometry=[{name:e,primitives:[{bounds:[o.ranges[0].min,o.ranges[1].min,o.ranges[2].min,o.ranges[0].max,o.ranges[1].max,o.ranges[2].max],indices:a.indices,attributes:{positions:a.position,normals:a.normals,uvs:a.uv}}]}],n}},function(t,e,n){"use strict";function r(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=[],r=0;r<t.length;r++)for(var i=0;i<e;i++)n[r*e+i]=t[r][i];return new Float32Array(n)}n(15),n(5),n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(107),n(51),n(145),n(38),n(92),n(216),Object.defineProperty(e,"__esModule",{value:!0}),e.parseObj=void 0,e.parseObj=function(t){var e,n,i=t.split("\n"),a=[],o=[],s=[],u=[],c=[],l=[],h=[],d=0,p=/v( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,f=/vn( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,m=/vt( +[\d|\.|\+|\-|e|E]+)( +[\d|\.|\+|\-|e|E]+)/,g=/f( +-?\d+)( +-?\d+)( +-?\d+)( +-?\d+)?/,y=/f( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+))?/,v=/f( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))( +(-?\d+)\/(-?\d+)\/(-?\d+))?/,b=/f( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))( +(-?\d+)\/\/(-?\d+))?/;function _(t){var e=parseInt(t);return 3*(e>=0?e-1:e+u.length/3)}function w(t){var e=parseInt(t);return 3*(e>=0?e-1:e+c.length/3)}function x(t){var e=parseInt(t);return 2*(e>=0?e-1:e+l.length/2)}function S(t,e,n){a.push([u[t],u[t+1],u[t+2]]),a.push([u[e],u[e+1],u[e+2]]),a.push([u[n],u[n+1],u[n+2]]),h.push(3*d+0),h.push(3*d+1),h.push(3*d+2),d++}function T(t,e,n){o.push([l[t],l[t+1]]),o.push([l[e],l[e+1]]),o.push([l[n],l[n+1]])}function M(t,e,n){s.push([c[t],c[t+1],c[t+2]]),s.push([c[e],c[e+1],c[e+2]]),s.push([c[n],c[n+1],c[n+2]])}function E(t,e,n,r,i,a,o,s,u,c,l,h){var d,p=_(t),f=_(e),m=_(n);void 0===r?S(p,f,m):(S(p,f,d=_(r)),S(f,m,d)),void 0!==i&&(p=x(i),f=x(a),m=x(o),void 0===r?T(p,f,m):(T(p,f,d=x(s)),T(f,m,d))),void 0!==u&&(p=w(u),f=w(c),m=w(l),void 0===r?M(p,f,m):(M(p,f,d=w(h)),M(f,m,d)))}for(var A=0;A<i.length;A++){var k=i[A];0!==(k=k.trim()).length&&"#"!==k.charAt(0)&&(null!==(e=p.exec(k))?u.push(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])):null!==(e=f.exec(k))?c.push(parseFloat(e[1]),parseFloat(e[2]),parseFloat(e[3])):null!==(e=m.exec(k))?l.push(parseFloat(e[1]),1-parseFloat(e[2])):null!==(e=g.exec(k))?E(e[1],e[2],e[3],e[4]):null!==(e=y.exec(k))?E(e[2],e[5],e[8],e[11],e[3],e[6],e[9],e[12]):null!==(e=v.exec(k))?E(e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15],e[4],e[8],e[12],e[16]):null!==(e=b.exec(k))&&E(e[2],e[5],e[8],e[11],void 0,void 0,void 0,void 0,e[3],e[6],e[9],e[12]))}return function(t){for(var e=[],n=0;n<t.indices.length;n++){var r=t.indices[n],i=t.positions[r],a=t.normals[r],o=t.coords[r];e.push(i.concat(a).concat(o).toString())}for(var s=[],u=[],c=[],l=[],h={},d={},p=0,f=0;f<e.length;f++){var m=e[f];h[m]?l.push(d[m]):(h[m]=m,s.push(t.positions[f]),u.push(t.normals[f]),c.push(t.coords[f]),l.push(p),d[m]=p,p++)}t.positions=s,t.normals=u,t.coords=c,t.indices=l}(n={positions:a,coords:o,normals:s,indices:h}),{uv:r(n.coords,2),position:r(n.positions,3),normals:r(n.normals,3),indices:new Uint16Array(n.indices)}}},function(t,e,n){var r=n(50),i=n(499);t.exports=function(t){return r((function(){return!!i[t]()||""!=""[t]()||i[t].name!==t}))}},function(t,e,n){"use strict";n(5),n(34),n(87),n(119),n(39),n(42),Object.defineProperty(e,"__esModule",{value:!0}),e.mergeGBObjects=void 0,e.mergeGBObjects=function(t){var e={},n=0,r=0;return t.forEach((function(t){var i,a;t.geometry&&(e.geometry?t.geometry.forEach((function(t){e.geometry.push(t)})):e.geometry=t.geometry.slice()),t.nodes&&(e.nodes||(e.nodes=[]),t.nodes.forEach((function(t){var i=Object.assign({name:t.name},t);void 0!==i.geometry&&(i.geometry+=n),i.children=t.children.map((function(t){return t+r})),e.nodes.push(i)}))),t.scenes&&(e.scenes||(e.scenes=[]),t.scenes.forEach((function(t){var n=Object.assign({},t);n.children=t.children.map((function(t){return t+r})),e.scenes.push(n)}))),n+=(null===(i=t.geometry)||void 0===i?void 0:i.length)||0,r+=(null===(a=t.nodes)||void 0===a?void 0:a.length)||0})),e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.transformUvs=void 0,e.transformUvs=function(t,e){for(var n=e.x,r=e.y,i=e.w,a=e.h,o=0;o<t.length;o+=2)t[o]=t[o]*i+n,t[o+1]=t[o+1]*a+r}},function(t,e,n){"use strict";n(5),n(34),n(133),n(15),n(20),n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(243),n(87),n(145),Object.defineProperty(e,"__esModule",{value:!0}),e.unpackGBObject=void 0;var r=n(494),i=n(487),a=n(645),o=n(488);e.unpackGBObject=function(t){var e,n,s,u,c,l=function(t){var e={UINT16:0,FLOAT32:1,STRING:2,FLOAT32_COMPRESSED:3,UINT16_COMPRESSED:4},n=0,r=new Float32Array(t),s=r[n++];n++,(n+=s/2)%1&&(n+=.5);var u=a.unpackGBMeta(t),c=[];for(;n<r.length-1;){var l=r[n++],h=r[n++];if(h===e.FLOAT32)c.push(new Float32Array(t,4*n,l)),n+=l;else if(h===e.FLOAT32_COMPRESSED||h===e.UINT16_COMPRESSED){var d=new Uint8Array(t,4*n,l),p=o.unzipArray(d.slice(0)),f=new Uint16Array(p.buffer);if(h===e.FLOAT32_COMPRESSED){var m=i.unpackArray(f);c.push(m)}else c.push(f);n+=l/4,n+=1-n%1}else{if(h!==e.UINT16)throw new Error("not supported buffer,".concat(h));c.push(new Uint16Array(t,4*n,l)),(n+=l/2)%1&&(n+=.5)}}return{gbObject:u,buffers:c}}(t),h=l.gbObject,d=l.buffers,p={s:3,t:3,w:1,r:4},f={positions:3,normals:3,weights:4,boneIndices:4,uvs:2,tangents:4};return null===(e=h.geometryBatch)||void 0===e||e.forEach((function(t){for(var e in void 0!==t.indices&&(t.indices=d[Number(t.indices)]),f)void 0!==t.attributes[e]&&(t.attributes[e]=d[t.attributes[e]])})),null===(n=h.geometry)||void 0===n||n.forEach((function(t){t.primitives.forEach((function(t){if(t.attributes)for(var e in void 0!==t.indices&&(t.indices=d[Number(t.indices)]),f)void 0!==t.attributes[e]&&(t.attributes[e]=d[t.attributes[e]]);t.targets&&t.targets.forEach((function(t){for(var e in f)void 0!==t[e]&&(t[e]=d[t[e]])}))}))})),null===(s=h.animations)||void 0===s||s.forEach((function(t){t.data.forEach((function(t){for(var e in p)t[e]&&(t[e].times=d[t[e].times],t[e].values=d[t[e].values])}))})),null===(u=h.nodes)||void 0===u||u.forEach((function(t){var e=Number(t.bindMatrix);t.bindMatrix=-1===e?r.createMat4():d[e],e=Number(t.inverseBindMatrix),t.inverseBindMatrix=d[e],e=Number(t.transform),t.transform=-1===e?r.createMat4():d[e]})),null===(c=h.skins)||void 0===c||c.forEach((function(t){var e=Number(t.bindMatrix);t.bindMatrix=-1===e?r.createMat4():d[e]})),h}},function(t,e,n){"use strict";n(15),n(5),n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(145),n(646),Object.defineProperty(e,"__esModule",{value:!0}),e.unpackGBMeta=void 0,e.unpackGBMeta=function(t){var e=0,n=new Float32Array(t)[e++];e++;var r=new Uint16Array(t,4*e,n),i=new Int8Array(t,4*e,2*n);(e+=n/2)%1&&(e+=.5);var a=null;try{a=new TextDecoder("utf-16").decode(i,{})}catch(t){try{a=String.fromCharCode.apply(null,r)}catch(t){throw new Error("[Unpack GB model] meta data is too large, possible - we have large base64 textures or animation")}}return JSON.parse(a)}},function(t,e,n){n(183)("Int8",(function(t){return function(e,n,r){return t(this,e,n,r)}}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0})},function(t,e,n){var r=n(41),i=Math.hypot,a=Math.abs,o=Math.sqrt;r({target:"Math",stat:!0,forced:!!i&&i(1/0,NaN)!==1/0},{hypot:function(t,e){for(var n,r,i=0,s=0,u=arguments.length,c=0;s<u;)c<(n=a(arguments[s++]))?(i=i*(r=c/n)*r+1,c=n):i+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*o(i)}})},function(t,e,n){"use strict";var r,i=n(41),a=n(138).f,o=n(97),s=n(296),u=n(120),c=n(297),l=n(152),h="".endsWith,d=Math.min,p=c("endsWith");i({target:"String",proto:!0,forced:!!(l||p||(r=a(String.prototype,"endsWith"),!r||r.writable))&&!p},{endsWith:function(t){var e=String(u(this));s(t);var n=arguments.length>1?arguments[1]:void 0,r=o(e.length),i=void 0===n?r:d(o(n),r),a=String(t);return h?h.call(e,a,i):e.slice(i-a.length,i)===a}})},function(t,e,n){"use strict";var r=n(41),i=n(122).findIndex,a=n(214),o=!0;"findIndex"in[]&&Array(1).findIndex((function(){o=!1})),r({target:"Array",proto:!0,forced:o},{findIndex:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}}),a("findIndex")},function(t,e,n){var r={"./af":306,"./af.js":306,"./ar":307,"./ar-dz":308,"./ar-dz.js":308,"./ar-kw":309,"./ar-kw.js":309,"./ar-ly":310,"./ar-ly.js":310,"./ar-ma":311,"./ar-ma.js":311,"./ar-sa":312,"./ar-sa.js":312,"./ar-tn":313,"./ar-tn.js":313,"./ar.js":307,"./az":314,"./az.js":314,"./be":315,"./be.js":315,"./bg":316,"./bg.js":316,"./bm":317,"./bm.js":317,"./bn":318,"./bn-bd":319,"./bn-bd.js":319,"./bn.js":318,"./bo":320,"./bo.js":320,"./br":321,"./br.js":321,"./bs":322,"./bs.js":322,"./ca":323,"./ca.js":323,"./cs":324,"./cs.js":324,"./cv":325,"./cv.js":325,"./cy":326,"./cy.js":326,"./da":327,"./da.js":327,"./de":328,"./de-at":329,"./de-at.js":329,"./de-ch":330,"./de-ch.js":330,"./de.js":328,"./dv":331,"./dv.js":331,"./el":332,"./el.js":332,"./en-au":333,"./en-au.js":333,"./en-ca":334,"./en-ca.js":334,"./en-gb":335,"./en-gb.js":335,"./en-ie":336,"./en-ie.js":336,"./en-il":337,"./en-il.js":337,"./en-in":338,"./en-in.js":338,"./en-nz":339,"./en-nz.js":339,"./en-sg":340,"./en-sg.js":340,"./eo":341,"./eo.js":341,"./es":342,"./es-do":343,"./es-do.js":343,"./es-mx":344,"./es-mx.js":344,"./es-us":345,"./es-us.js":345,"./es.js":342,"./et":346,"./et.js":346,"./eu":347,"./eu.js":347,"./fa":348,"./fa.js":348,"./fi":349,"./fi.js":349,"./fil":350,"./fil.js":350,"./fo":351,"./fo.js":351,"./fr":352,"./fr-ca":353,"./fr-ca.js":353,"./fr-ch":354,"./fr-ch.js":354,"./fr.js":352,"./fy":355,"./fy.js":355,"./ga":356,"./ga.js":356,"./gd":357,"./gd.js":357,"./gl":358,"./gl.js":358,"./gom-deva":359,"./gom-deva.js":359,"./gom-latn":360,"./gom-latn.js":360,"./gu":361,"./gu.js":361,"./he":362,"./he.js":362,"./hi":363,"./hi.js":363,"./hr":364,"./hr.js":364,"./hu":365,"./hu.js":365,"./hy-am":366,"./hy-am.js":366,"./id":367,"./id.js":367,"./is":368,"./is.js":368,"./it":369,"./it-ch":370,"./it-ch.js":370,"./it.js":369,"./ja":371,"./ja.js":371,"./jv":372,"./jv.js":372,"./ka":373,"./ka.js":373,"./kk":374,"./kk.js":374,"./km":375,"./km.js":375,"./kn":376,"./kn.js":376,"./ko":377,"./ko.js":377,"./ku":378,"./ku.js":378,"./ky":379,"./ky.js":379,"./lb":380,"./lb.js":380,"./lo":381,"./lo.js":381,"./lt":382,"./lt.js":382,"./lv":383,"./lv.js":383,"./me":384,"./me.js":384,"./mi":385,"./mi.js":385,"./mk":386,"./mk.js":386,"./ml":387,"./ml.js":387,"./mn":388,"./mn.js":388,"./mr":389,"./mr.js":389,"./ms":390,"./ms-my":391,"./ms-my.js":391,"./ms.js":390,"./mt":392,"./mt.js":392,"./my":393,"./my.js":393,"./nb":394,"./nb.js":394,"./ne":395,"./ne.js":395,"./nl":396,"./nl-be":397,"./nl-be.js":397,"./nl.js":396,"./nn":398,"./nn.js":398,"./oc-lnc":399,"./oc-lnc.js":399,"./pa-in":400,"./pa-in.js":400,"./pl":401,"./pl.js":401,"./pt":402,"./pt-br":403,"./pt-br.js":403,"./pt.js":402,"./ro":404,"./ro.js":404,"./ru":405,"./ru.js":405,"./sd":406,"./sd.js":406,"./se":407,"./se.js":407,"./si":408,"./si.js":408,"./sk":409,"./sk.js":409,"./sl":410,"./sl.js":410,"./sq":411,"./sq.js":411,"./sr":412,"./sr-cyrl":413,"./sr-cyrl.js":413,"./sr.js":412,"./ss":414,"./ss.js":414,"./sv":415,"./sv.js":415,"./sw":416,"./sw.js":416,"./ta":417,"./ta.js":417,"./te":418,"./te.js":418,"./tet":419,"./tet.js":419,"./tg":420,"./tg.js":420,"./th":421,"./th.js":421,"./tk":422,"./tk.js":422,"./tl-ph":423,"./tl-ph.js":423,"./tlh":424,"./tlh.js":424,"./tr":425,"./tr.js":425,"./tzl":426,"./tzl.js":426,"./tzm":427,"./tzm-latn":428,"./tzm-latn.js":428,"./tzm.js":427,"./ug-cn":429,"./ug-cn.js":429,"./uk":430,"./uk.js":430,"./ur":431,"./ur.js":431,"./uz":432,"./uz-latn":433,"./uz-latn.js":433,"./uz.js":432,"./vi":434,"./vi.js":434,"./x-pseudo":435,"./x-pseudo.js":435,"./yo":436,"./yo.js":436,"./zh-cn":437,"./zh-cn.js":437,"./zh-hk":438,"./zh-hk.js":438,"./zh-mo":439,"./zh-mo.js":439,"./zh-tw":440,"./zh-tw.js":440};function i(t){var e=a(t);return n(e)}function a(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}i.keys=function(){return Object.keys(r)},i.resolve=a,t.exports=i,i.id=651},function(t,e,n){(function(t){var r;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,a,o){function s(t){var e,n=this,r=(e=4022871197,function(t){t=String(t);for(var n=0;n<t.length;n++){var r=.02519603282416938*(e+=t.charCodeAt(n));r-=e=r>>>0,e=(r*=e)>>>0,e+=4294967296*(r-=e)}return 2.3283064365386963e-10*(e>>>0)});n.next=function(){var t=2091639*n.s0+2.3283064365386963e-10*n.c;return n.s0=n.s1,n.s1=n.s2,n.s2=t-(n.c=0|t)},n.c=1,n.s0=r(" "),n.s1=r(" "),n.s2=r(" "),n.s0-=r(t),n.s0<0&&(n.s0+=1),n.s1-=r(t),n.s1<0&&(n.s1+=1),n.s2-=r(t),n.s2<0&&(n.s2+=1),r=null}function u(t,e){return e.c=t.c,e.s0=t.s0,e.s1=t.s1,e.s2=t.s2,e}function c(t,e){var n=new s(t),r=e&&e.state,a=n.next;return a.int32=function(){return 4294967296*n.next()|0},a.double=function(){return a()+11102230246251565e-32*(2097152*a()|0)},a.quick=a,r&&("object"==i(r)&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=c:n(129)&&n(154)?void 0===(r=function(){return c}.call(e,n,e,a))||(a.exports=r):this.alea=c}(0,"object"==i(t)&&t,n(129))}).call(this,n(136)(t))},function(t,e,n){(function(t){var r;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,a,o){function s(t){var e=this,n="";e.x=0,e.y=0,e.z=0,e.w=0,e.next=function(){var t=e.x^e.x<<11;return e.x=e.y,e.y=e.z,e.z=e.w,e.w^=e.w>>>19^t^t>>>8},t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),e.next()}function u(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e}function c(t,e){var n=new s(t),r=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,r&&("object"==i(r)&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=c:n(129)&&n(154)?void 0===(r=function(){return c}.call(e,n,e,a))||(a.exports=r):this.xor128=c}(0,"object"==i(t)&&t,n(129))}).call(this,n(136)(t))},function(t,e,n){(function(t){var r;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,a,o){function s(t){var e=this,n="";e.next=function(){var t=e.x^e.x>>>2;return e.x=e.y,e.y=e.z,e.z=e.w,e.w=e.v,(e.d=e.d+362437|0)+(e.v=e.v^e.v<<4^t^t<<1)|0},e.x=0,e.y=0,e.z=0,e.w=0,e.v=0,t===(0|t)?e.x=t:n+=t;for(var r=0;r<n.length+64;r++)e.x^=0|n.charCodeAt(r),r==n.length&&(e.d=e.x<<10^e.x>>>4),e.next()}function u(t,e){return e.x=t.x,e.y=t.y,e.z=t.z,e.w=t.w,e.v=t.v,e.d=t.d,e}function c(t,e){var n=new s(t),r=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,r&&("object"==i(r)&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=c:n(129)&&n(154)?void 0===(r=function(){return c}.call(e,n,e,a))||(a.exports=r):this.xorwow=c}(0,"object"==i(t)&&t,n(129))}).call(this,n(136)(t))},function(t,e,n){(function(t){var r;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,i,a){function o(t){var e=this;e.next=function(){var t,n,r=e.x,i=e.i;return t=r[i],n=(t^=t>>>7)^t<<24,n^=(t=r[i+1&7])^t>>>10,n^=(t=r[i+3&7])^t>>>3,n^=(t=r[i+4&7])^t<<7,t=r[i+7&7],n^=(t^=t<<13)^t<<9,r[i]=n,e.i=i+1&7,n},function(t,e){var n,r=[];if(e===(0|e))r[0]=e;else for(e=""+e,n=0;n<e.length;++n)r[7&n]=r[7&n]<<15^e.charCodeAt(n)+r[n+1&7]<<13;for(;r.length<8;)r.push(0);for(n=0;n<8&&0===r[n];++n);for(8==n?r[7]=-1:r[n],t.x=r,t.i=0,n=256;n>0;--n)t.next()}(e,t)}function s(t,e){return e.x=t.x.slice(),e.i=t.i,e}function u(t,e){null==t&&(t=+new Date);var n=new o(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&(r.x&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n(129)&&n(154)?void 0===(r=function(){return u}.call(e,n,e,i))||(i.exports=r):this.xorshift7=u}(0,"object"==i(t)&&t,n(129))}).call(this,n(136)(t))},function(t,e,n){(function(t){var r;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,i,a){function o(t){var e=this;e.next=function(){var t,n,r=e.w,i=e.X,a=e.i;return e.w=r=r+1640531527|0,n=i[a+34&127],t=i[a=a+1&127],n^=n<<13,t^=t<<17,n^=n>>>15,t^=t>>>12,n=i[a]=n^t,e.i=a,n+(r^r>>>16)|0},function(t,e){var n,r,i,a,o,s=[],u=128;for(e===(0|e)?(r=e,e=null):(e+="\0",r=0,u=Math.max(u,e.length)),i=0,a=-32;a<u;++a)e&&(r^=e.charCodeAt((a+32)%e.length)),0===a&&(o=r),r^=r<<10,r^=r>>>15,r^=r<<4,r^=r>>>13,a>=0&&(o=o+1640531527|0,i=0==(n=s[127&a]^=r+o)?i+1:0);for(i>=128&&(s[127&(e&&e.length||0)]=-1),i=127,a=512;a>0;--a)r=s[i+34&127],n=s[i=i+1&127],r^=r<<13,n^=n<<17,r^=r>>>15,n^=n>>>12,s[i]=r^n;t.w=o,t.X=s,t.i=i}(e,t)}function s(t,e){return e.i=t.i,e.w=t.w,e.X=t.X.slice(),e}function u(t,e){null==t&&(t=+new Date);var n=new o(t),r=e&&e.state,i=function(){return(n.next()>>>0)/4294967296};return i.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},i.int32=n.next,i.quick=i,r&&(r.X&&s(r,n),i.state=function(){return s(n,{})}),i}i&&i.exports?i.exports=u:n(129)&&n(154)?void 0===(r=function(){return u}.call(e,n,e,i))||(i.exports=r):this.xor4096=u}(0,"object"==i(t)&&t,n(129))}).call(this,n(136)(t))},function(t,e,n){(function(t){var r;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t,a,o){function s(t){var e=this,n="";e.next=function(){var t=e.b,n=e.c,r=e.d,i=e.a;return t=t<<25^t>>>7^n,n=n-r|0,r=r<<24^r>>>8^i,i=i-t|0,e.b=t=t<<20^t>>>12^n,e.c=n=n-r|0,e.d=r<<16^n>>>16^i,e.a=i-t|0},e.a=0,e.b=0,e.c=-1640531527,e.d=1367130551,t===Math.floor(t)?(e.a=t/4294967296|0,e.b=0|t):n+=t;for(var r=0;r<n.length+20;r++)e.b^=0|n.charCodeAt(r),e.next()}function u(t,e){return e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e}function c(t,e){var n=new s(t),r=e&&e.state,a=function(){return(n.next()>>>0)/4294967296};return a.double=function(){do{var t=((n.next()>>>11)+(n.next()>>>0)/4294967296)/(1<<21)}while(0===t);return t},a.int32=n.next,a.quick=a,r&&("object"==i(r)&&u(r,n),a.state=function(){return u(n,{})}),a}a&&a.exports?a.exports=c:n(129)&&n(154)?void 0===(r=function(){return c}.call(e,n,e,a))||(a.exports=r):this.tychei=c}(0,"object"==i(t)&&t,n(129))}).call(this,n(136)(t))},function(t,e,n){(function(t){var r;function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(a,o,s){var u,c=s.pow(256,6),l=s.pow(2,52),h=2*l;function d(t,e,n){var r=[],d=m(function t(e,n){var r,a=[],o=i(e);if(n&&"object"==o)for(r in e)try{a.push(t(e[r],n-1))}catch(t){}return a.length?a:"string"==o?e:e+"\0"}((e=1==e?{entropy:!0}:e||{}).entropy?[t,g(o)]:null==t?function(){try{var t;return u&&(t=u.randomBytes)?t=t(256):(t=new Uint8Array(256),(a.crypto||a.msCrypto).getRandomValues(t)),g(t)}catch(t){var e=a.navigator,n=e&&e.plugins;return[+new Date,a,n,a.screen,g(o)]}}():t,3),r),y=new p(r),v=function(){for(var t=y.g(6),e=c,n=0;t<l;)t=256*(t+n),e*=256,n=y.g(1);for(;t>=h;)t/=2,e/=2,n>>>=1;return(t+n)/e};return v.int32=function(){return 0|y.g(4)},v.quick=function(){return y.g(4)/4294967296},v.double=v,m(g(y.S),o),(e.pass||n||function(t,e,n,r){return r&&(r.S&&f(r,y),t.state=function(){return f(y,{})}),n?(s.random=t,e):t})(v,d,"global"in e?e.global:this==s,e.state)}function p(t){var e,n=t.length,r=this,i=0,a=r.i=r.j=0,o=r.S=[];for(n||(t=[n++]);i<256;)o[i]=i++;for(i=0;i<256;i++)o[i]=o[a=255&a+t[i%n]+(e=o[i])],o[a]=e;(r.g=function(t){for(var e,n=0,i=r.i,a=r.j,o=r.S;t--;)e=o[i=255&i+1],n=256*n+o[255&(o[i]=o[a=255&a+e])+(o[a]=e)];return r.i=i,r.j=a,n})(256)}function f(t,e){return e.i=t.i,e.j=t.j,e.S=t.S.slice(),e}function m(t,e){for(var n,r=t+"",i=0;i<r.length;)e[255&i]=255&(n^=19*e[255&i])+r.charCodeAt(i++);return g(e)}function g(t){return String.fromCharCode.apply(0,t)}if(m(s.random(),o),"object"==i(t)&&t.exports){t.exports=d;try{u=n(659)}catch(t){}}else void 0===(r=function(){return d}.call(e,n,e,t))||(t.exports=r)}("undefined"!=typeof self?self:this,[],Math)}).call(this,n(136)(t))},function(t,e){},function(t,e,n){var r;n(83),n(194),n(5),n(39),void 0===(r=function(t,e,r){n(0);var i=n(441),a=n(43),o=function(){this.allItems=new i,this.updateItems=new i,this.groups={},this.itemsToRemove=[],this.systems=[]};o.constructor=o,o.prototype.install=function(t,e){this.systems.push(t),t.init(this),this[e]=t},o.prototype.addGroup=function(t){for(var e=0;e<t.children.length;e++)this.add(t.children[e])},o.prototype.initGroups=function(t){for(var e=0;e<t.length;e++){var n=t[e],r=this.groups[n];r||(r=this.groups[n]=new i)}},o.prototype.add=function(t){if(t._gc){var e=this.itemsToRemove.indexOf(t);this.itemsToRemove.splice(e,1),t._gc=!1}t.world&&this.removeItem(t),t.world=this;for(var n=0;n<this.systems.length;n++)this.systems[n].add(t);this.allItems.add(t);for(n=0;n<t.groups.length;n++){var r=t.groups[n],a=this.groups[r];a||(a=this.groups[r]=new i),a.add(t)}t.update&&this.updateItems.add(t),t.addedToWorld&&t.addedToWorld(this)},o.prototype.remove=function(t){!t._gc&&t.world&&(t._gc=!0,this.itemsToRemove.push(t))},o.prototype.update=function(t){var e=Math.round(t/a.game.speed);e>2&&(e=2);for(var n=0;n<e;n++){this.removeItems();for(var r=0;r<this.systems.length;r++)this.systems[r].preupdate();var i=this.updateItems.children;for(r=0;r<i.length;r++)i[r].update(t);for(r=0;r<this.systems.length;r++)this.systems[r].update(t);for(r=0;r<this.systems.length;r++)this.systems[r].postupdate()}},o.prototype.removeItems=function(){this.itemsToRemove.length;for(var t=0;t<this.itemsToRemove.length;t++){var e=this.itemsToRemove[t];this.removeItem(e)}this.itemsToRemove.length=0},o.prototype.removeItem=function(t){t._gc=!1;for(var e=0;e<this.systems.length;e++)this.systems[e].remove(t);t.update&&this.updateItems.remove(t),t.removedFromWorld&&t.removedFromWorld(this),t.world=null,this.allItems.remove(t);for(e=0;e<t.groups.length;e++){var n=t.groups[e];this.groups[n].remove(t)}},o.prototype.clear=function(){for(var t=0;t<this.systems.length;t++)this.systems[t].clear();this.allItems.empty(),this.updateItems.empty(),this.groups={},this.removeItems(),this.collisionHash={}},o.prototype.find=function(t,e){if(!this.groups[t])return null;for(var n=this.groups[t].children,r=0;r<n.length;r++)if(n[r].meta.name===e)return n[r]};var s=[];o.prototype.findAll=function(t,e){if(!this.groups[t])return null;var n=this.groups[t].children;s.length=0;for(var r=0;r<n.length;r++)n[r].meta.name===e&&s.push(n[r]);return s},r.exports=o}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){(function(r){var i;n(83),void 0===(i=function(t,e,r){var i=n(0);i.DisplayObject.prototype.layer="default";var a=function(t){i.Container.call(this),this.innerContainer=new i.Container,this.activeItemsContainer=new i.Container,this.addChild(this.innerContainer),this.innerContainer.addChild(this.activeItemsContainer),this.filterArea=new i.Rectangle(0,0,1e6,1e6),this.layers={},this.camera=t.camera||{x:0,y:0,zoom:1},this.addLayer("back"),this.addLayer("default"),this.addLayer("front")};(a.prototype=Object.create(i.Container.prototype)).init=function(t){},a.prototype.preupdate=function(t){},a.prototype.update=function(){this.camera.update();var t=this.camera.zoom;this.scale.set(t),this.position.x=this.camera.viewWidth/2-this.camera.viewWidth/2*t,this.position.y=this.camera.viewHeight/2-this.camera.viewHeight/2*t,this.innerContainer.x=-this.camera.x+this.camera.viewWidth/2,this.innerContainer.y=-this.camera.y+this.camera.viewHeight/2},a.prototype.postupdate=function(t){},a.prototype.add=function(t){if(t.view){var e=t.view,n=this.layers[e.layer];e.parent=n,n.children.push(t.view)}},a.prototype.remove=function(t){if(t.view){var e=t.view,n=this.layers[e.layer],r=n.children.indexOf(e);-1!=r&&(e.parent=null,n.children.splice(r,1))}},a.prototype.clear=function(){for(var t in this.layers)this.layers[t].removeChildren()},a.prototype.addLayer=function(t){this.layers[t]=new i.Container,this.activeItemsContainer.addChild(this.layers[t])},a.prototype.bringToFront=function(t){var e=this.layers[t.view.layer],n=e.children.indexOf(t.view);-1!=n&&(e.children.splice(n,1),e.children.push(t.view))},r.exports=a}.call(e,n,e,t))||(t.exports=i)}).call(this,n(0))},function(t,e,n){var r;n(83),n(133),void 0===(r=function(t,e,r){n(0);var i=n(245),a=n(506),o=n(246),s=(n(663),function(){this.collisions={},this.pool=[],this.tickId=0,this.currentCollisions=[],this.collisionDatas=[]});s.prototype.hitTest=function(t){this.tickId++;for(var e=0;e<2;e++)for(var n=0;n<t.length;n+=2){var r=this.hitTestAABBAABB(t[n],t[n+1]);r&&r.object1.body.solid&&r.object2.body.solid&&this.solve(r)}for(n=0;n<this.currentCollisions.length;n++){var i=this.currentCollisions[n];i._tickId!==this.tickId&&(this.endCollision(i),this.currentCollisions.splice(n,1),n--)}},s.prototype.hitTestAABBAABB=function(t,e){var n=t.body,r=e.body,a=n.shape,o=r.shape,s=a.x+t.position.x,u=a.y+t.position.y,c=o.x+e.position.x,l=o.y+e.position.y,h=u+a.height-l,d=l+o.height-u,p=s+a.width-c,f=c+o.width-s,m=999999;if(p<m&&(m=p),f<m&&(m=f),h<m&&(m=h),d<m&&(m=d),m>0){var g=new i;m==p?(g.x=-1,g.y=0):m==f?(g.x=1,g.y=0):m==h?(g.x=0,g.y=-1):m==d&&(g.x=0,g.y=1);var y=-m,v=this.startCollision(t,e,y,g);if(!v.ignore)return v}return null},s.prototype.solve=function(t){var e=t.object1,n=t.object2,r=t.projection,i=t.penetration;if(n.body.type===o.DYNAMIC){e.position.x-=r.x*i*.5,e.position.y-=r.y*i*.5,n.position.x+=r.x*i*.5,n.position.y+=r.y*i*.5;var a=e.body.velocity.x-n.body.velocity.x,s=e.body.velocity.y-n.body.velocity.y;0!==r.x?a*r.x<=0&&(e.body.velocity.x-=.5*a,n.body.velocity.x+=.5*a):s*r.y<=0&&(e.body.velocity.y-=.5*s,n.body.velocity.y+=.5*s)}else{e.position.x-=r.x*i,e.position.y-=r.y*i;a=e.body.velocity.x-n.body.velocity.x,s=e.body.velocity.y-n.body.velocity.y;0!==r.x?a*r.x<=0&&(e.body.velocity.x*=-e.body.bounce):s*r.y<=0&&(e.body.velocity.y*=-e.body.bounce)}},s.prototype.startCollision=function(t,e,n,r){var i;i=t.UID>e.UID?(e.UID<<12)+t.UID:(t.UID<<12)+e.UID;var o=this.collisions[i];return o?(o.penetration=n,o.projection=r,o._tickId=this.tickId,o.ignore||(-1===r.y?t.body.velocity.y>=0&&(t.body.currentSurface=e,t.onGround=!0):1===r.y&&e.body.velocity.y>=0&&(e.body.currentSurface=t,e.onGround=!0)),o):((o=this.pool.pop())?(o.object1=t,o.object2=e,o.penetration=n,o.projection=r,o.ignore=!1):o=new a(t,e,n,r,!1),o._key=i,o._tickId=this.tickId,r.y===-1*t.body.flip?(t.body.currentSurface=e,t.onGround=!0):r.y===Number(e.body.flip)&&(e.body.currentSurface=t,e.onGround=!0),t.onCollideBegin&&t.onCollideBegin(o),e.onCollideBegin&&e.onCollideBegin(o),this.collisions[i]=o,this.currentCollisions.push(o),o)},s.prototype.endCollision=function(t){var e=t._key,n=this.collisions[e];return n&&(this.pool.push(n),this.collisions[e]=null),t.object1.world&&(t.object1.onCollideEnd&&t.object1.onCollideEnd(n),t.object2.onCollideEnd&&t.object2.onCollideEnd(n)),n},s.prototype.reset=function(){this.collisions={},this.tickId=0,this.currentCollisions=[]},r.exports=s}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t,e,r){var a=n(246),o=function(){};o.solve=function(t,e){for(i=0;i<t.length;i++){var n=t[i],r=n.object1,o=n.object2,s=n.projection,u=n.penetration;if(o.body.type===a.DYNAMIC){r.position.x-=s.x*u*.5,r.position.y-=s.y*u*.5,o.position.x+=s.x*u*.5,o.position.y+=s.y*u*.5;var c=r.body.velocity.x-o.body.velocity.x,l=r.body.velocity.y-o.body.velocity.y;0!==s.x?c*s.x<=0&&(r.body.velocity.x-=.5*c,o.body.velocity.x+=.5*c):l*s.y<=0&&(r.body.velocity.y-=.5*l,o.body.velocity.y+=.5*l)}else{r.position.x-=s.x*u,r.position.y-=s.y*u;c=r.body.velocity.x-o.body.velocity.x,l=r.body.velocity.y-o.body.velocity.y;0!==s.x?c*s.x<=0&&(r.body.velocity.x-=c):(l*s.y<=0&&(r.body.velocity.y-=l),r.body.position.x+=o.body.velocity.x)}}},o.solve3=function(t){var e=t.object1,n=t.object2,r=t.projection,i=t.penetration;if(n.body.type===a.DYNAMIC){e.position.x-=r.x*i*.5,e.position.y-=r.y*i*.5,n.position.x+=r.x*i*.5,n.position.y+=r.y*i*.5;var o=e.body.velocity.x-n.body.velocity.x,s=e.body.velocity.y-n.body.velocity.y;0!==r.x?o*r.x<=0&&(e.body.velocity.x-=.5*o,n.body.velocity.x+=.5*o):s*r.y<=0&&(e.body.velocity.y-=.5*s,n.body.velocity.y+=.5*s)}else{e.position.x-=r.x*i,e.position.y-=r.y*i;o=e.body.velocity.x-n.body.velocity.x,s=e.body.velocity.y-n.body.velocity.y;0!==r.x?o*r.x<=0&&(e.body.velocity.x-=o):(s*r.y<=0&&(e.body.velocity.y-=s),e.body.position.x+=n.body.velocity.x)}},o.solve2=function(t,e){for(i=0;i<t.length;i++){var n=t[i],r=n.object1,o=n.object2,s=n.object2,u=n.projection,c=n.penetration,l=r.body,h=s.body,d=l.shape,p=h.shape,f=d.x+r.position.x,m=d.y+r.position.y,g=p.x+s.position.x,y=p.y+s.position.y,v=m+d.height-y,b=y+p.height-m,_=f+d.width-g,w=g+p.width-f,x=999999;if(s.passthrough,_<x&&(x=_),w<x&&(x=w),v<x&&(x=v),b<x&&(x=b),x>0)if(x==_?(u.x=-1,u.y=0):x==w?(u.x=1,u.y=0):x==v?(u.x=0,u.y=-1):x==b&&(u.x=0,u.y=1),c=-x,o.body.type===a.DYNAMIC){r.position.x-=u.x*c*.5,r.position.y-=u.y*c*.5,o.position.x+=u.x*c*.5,o.position.y+=u.y*c*.5;var S=r.body.velocity.x-o.body.velocity.x,T=r.body.velocity.y-o.body.velocity.y;0!==u.x?S*u.x<=0&&(r.body.velocity.x-=.5*S,o.body.velocity.x+=.5*S):T*u.y<=0&&(r.body.velocity.y-=.5*T,o.body.velocity.y+=.5*T)}else{r.position.x-=u.x*c,r.position.y-=u.y*c;S=r.body.velocity.x-o.body.velocity.x,T=r.body.velocity.y-o.body.velocity.y;0!==u.x?S*u.x<=0&&(r.body.velocity.x-=S):(T*u.y<=0&&(r.body.velocity.y-=T),r.body.position.x+=o.body.velocity.x)}}},r.exports=o}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;n(51),n(83),void 0===(r=function(t,e,r){n(45);var i=0,a=function(t,e,n){this.hash=[],this.width=300,this.height=300,this.size=96,this.buildHash(),this.cache={}};a.prototype.buildHash=function(){for(var t=this.width*this.height,e=0;e<t;e++)this.hash[e]=[];this.cache={}},a.prototype.add=function(t){this.cache={};var e,n,r=t.body.shape,i=(t.position.x+r.x)/this.size|0,a=(t.position.y+r.y)/this.size|0,o=(t.position.x+r.x+r.width)/this.size|0,s=(t.position.y+r.y+r.height)/this.size|0;for(n=a;n<=s;n++)for(e=i;e<=o;e++){var u=n*this.width+e;this.hash[u]&&this.hash[u].push(t)}},a.prototype.retrieve=function(t){var e=t.position.x/this.size|0,n=t.position.y/this.size|0,r=this.cache["".concat(e,":").concat(n)];return r||(r=[],r=this.addSquare(e-1,n-1,r),r=this.addSquare(e,n-1,r),r=this.addSquare(e+1,n-1,r),r=this.addSquare(e-1,n,r),r=this.addSquare(e,n,r),r=this.addSquare(e+1,n,r),r=this.addSquare(e,n+1,r),r=this.addSquare(e,n+1,r),r=this.addSquare(e+1,n+1,r),r=this.removeDuplicates(r),this.cache["".concat(e,":").concat(n)]=r),r},a.prototype.addSquare=function(t,e,n){var r=e*this.width+t;return this.hash[r]&&(n=n.concat(this.hash[r])),n};var o=[];a.prototype.retrieveArea=function(t){var e,n,r=t.body.shape,a=(t.position.x+r.x)/this.size|0,s=(t.position.y+r.y)/this.size|0,u=(t.position.x+r.x+r.width)/this.size|0,c=(t.position.y+r.y+r.height)/this.size|0,l=o;o.length=0;var h=i++,d=0;for(n=s;n<=c;n++)for(e=a;e<=u;e++){var p=n*this.width+e,f=this.hash[p];if(f)for(var m=0;m<f.length;m++){var g=f[m];g._TICK!==h&&(g._TICK=h,l[d++]=g)}}return l},a.prototype.removeDuplicates=function(t){for(var e={},n=[],r=t.length,i=0,a=0;a<r;a++){var o=t[a];1!==e[o.UID]&&(e[o.UID]=1,n[i++]=o)}return n},a.prototype.remove=function(t){var e,n,r=t.body.shape,i=(t.position.x+r.x)/this.size|0,a=(t.position.y+r.y)/this.size|0,o=(t.position.x+r.x+r.width)/this.size|0,s=(t.position.y+r.y+r.height)/this.size|0;for(n=a;n<=s;n++)for(e=i;e<=o;e++){var u=n*this.width+e;if(u>0){var c=this.hash[u].indexOf(t);-1!==c&&this.hash[u].splice(c,1)}this.cache={}}},a.prototype.empty=function(){this.buildHash()},r.exports=a}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){var r;void 0===(r=function(t,e,r){n(0);var i=n(245),a=function(){};a.hitTestItemGroup=function(t,e,n,r){for(var i=e.children,o=0;o<i.length;o++)a.hitTestAABBAABB(t,i[o],n,r)},a.hitTestItemItem=function(t,e,n,r){a.hitTestAABBAABB(t,e,n,r)},a.hitTestGroup=function(t,e,n){for(var r=t.children,i=0;i<r.length-1;i++)for(var o=i+1;o<r.length;o++)a.hitTestAABBAABB(r[i],r[o],e,n)},a.hitTestGroupGroup=function(t,e,n,r){for(var i=t.children,o=e.children,s=0;s<i.length;s++)for(var u=0;u<o.length;u++)a.hitTestAABBAABB(i[s],o[u],n,r);a.hitTestAABBAABB(item,i[s],n,r)},a.hitTestAABBAABB=function(t,e,n,r){var a=t.body,o=e.body,s=a.shape,u=o.shape,c=s.x+t.position.x,l=s.y+t.position.y,h=u.x+e.position.x,d=u.y+e.position.y,p=l+s.height-d,f=d+u.height-l,m=c+s.width-h,g=h+u.width-c,y=999999;if(m<y&&(y=m),g<y&&(y=g),p<y&&(y=p),f<y&&(y=f),y>=0){var v=new i;y==m?(v.x=-1,v.y=0):y==g?(v.x=1,v.y=0):y==p?(v.x=0,v.y=-1):y==f&&(v.x=0,v.y=1),n&&n(t,e,-y,v)}else r&&r(t,e)},r.exports=a}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";n.r(e);n(38),n(92),n(216),n(39),n(15),n(5),n(84),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78);var r=n(12);r.OBJLoader=function(t){this.manager=void 0!==t?t:r.DefaultLoadingManager,this.materials=null},r.OBJLoader.prototype={constructor:r.OBJLoader,load:function(t,e,n,i){var a=this,o=new r.XHRLoader(a.manager);o.setPath(this.path),o.load(t,(function(t){e(a.parse(t))}),n,i)},setPath:function(t){this.path=t},setMaterials:function(t){this.materials=t},parse:function(t){var e,n=[],i=!1,a=[],o=[],s=[];function u(t){e={name:t,geometry:{vertices:[],normals:[],uvs:[]},material:{name:"",smooth:!0}},n.push(e)}function c(t){var e=parseInt(t);return 3*(e>=0?e-1:e+a.length/3)}function l(t){var e=parseInt(t);return 3*(e>=0?e-1:e+o.length/3)}function h(t){var e=parseInt(t);return 2*(e>=0?e-1:e+s.length/2)}function d(t,n,r){e.geometry.vertices.push(a[t],a[t+1],a[t+2],a[n],a[n+1],a[n+2],a[r],a[r+1],a[r+2])}function p(t,n,r){e.geometry.normals.push(o[t],o[t+1],o[t+2],o[n],o[n+1],o[n+2],o[r],o[r+1],o[r+2])}function f(t,n,r){e.geometry.uvs.push(s[t],s[t+1],s[n],s[n+1],s[r],s[r+1])}function m(t,e,n,r,i,a,o,s,u,m,g,y){var v,b=c(t),_=c(e),w=c(n);void 0===r?d(b,_,w):(d(b,_,v=c(r)),d(_,w,v)),void 0!==i&&(b=h(i),_=h(a),w=h(o),void 0===r?f(b,_,w):(f(b,_,v=h(s)),f(_,w,v))),void 0!==u&&(b=l(u),_=l(m),w=l(g),void 0===r?p(b,_,w):(p(b,_,v=l(y)),p(_,w,v)))}u("");for(var g=/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,y=/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,v=/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,b=/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,_=/^f\s+((-?\d+)\/(-?\d+))\s+((-?\d+)\/(-?\d+))\s+((-?\d+)\/(-?\d+))(?:\s+((-?\d+)\/(-?\d+)))?/,w=/^f\s+((-?\d+)\/(-?\d+)\/(-?\d+))\s+((-?\d+)\/(-?\d+)\/(-?\d+))\s+((-?\d+)\/(-?\d+)\/(-?\d+))(?:\s+((-?\d+)\/(-?\d+)\/(-?\d+)))?/,x=/^f\s+((-?\d+)\/\/(-?\d+))\s+((-?\d+)\/\/(-?\d+))\s+((-?\d+)\/\/(-?\d+))(?:\s+((-?\d+)\/\/(-?\d+)))?/,S=/^[og]\s*(.+)?/,T=/^s\s+(\d+|on|off)/,M=t.split("\n"),E=0;E<M.length;E++){var A,k=M[E];if(0!==(k=k.trim()).length&&"#"!==k.charAt(0))if(null!==(A=g.exec(k)))a.push(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3]));else if(null!==(A=y.exec(k)))o.push(parseFloat(A[1]),parseFloat(A[2]),parseFloat(A[3]));else if(null!==(A=v.exec(k)))s.push(parseFloat(A[1]),parseFloat(A[2]));else if(null!==(A=b.exec(k)))m(A[1],A[2],A[3],A[4]);else if(null!==(A=_.exec(k)))m(A[2],A[5],A[8],A[11],A[3],A[6],A[9],A[12]);else if(null!==(A=w.exec(k)))m(A[2],A[6],A[10],A[14],A[3],A[7],A[11],A[15],A[4],A[8],A[12],A[16]);else if(null!==(A=x.exec(k)))m(A[2],A[5],A[8],A[11],void 0,void 0,void 0,void 0,A[3],A[6],A[9],A[12]);else if(null!==(A=S.exec(k))){var C=A[0].substr(1).trim();!1===i?(i=!0,e.name=C):u(C)}else if(/^usemtl /.test(k))e.material.name=k.substring(7).trim();else if(/^mtllib /.test(k));else{if(null===(A=T.exec(k)))throw new Error("Unexpected line: "+k);e.material.smooth="1"===A[1]||"on"===A[1]}}for(var O=new r.Group,L=(E=0,n.length);E<L;E++){var R,P=(e=n[E]).geometry,D=new r.BufferGeometry;D.addAttribute("position",new r.BufferAttribute(new Float32Array(P.vertices),3)),P.normals.length>0?D.addAttribute("normal",new r.BufferAttribute(new Float32Array(P.normals),3)):D.computeVertexNormals(),P.uvs.length>0&&D.addAttribute("uv",new r.BufferAttribute(new Float32Array(P.uvs),2)),null!==this.materials&&(R=this.materials.create(e.material.name)),R||((R=new r.MeshPhongMaterial).name=e.material.name),R.shading=e.material.smooth?r.SmoothShading:r.FlatShading;var I=new r.Mesh(D,R);I.name=e.name,O.add(I)}return O}}},function(t,e,n){var r;void 0===(r=function(t,e,r){n(0);var i=function(){this.animations={},this.rules={},this.texture=null,this.nextAnimation=null,this.currentAnimation=null};i.prototype.register=function(t,e){e.id=t,e.currentFrame=0,e.speed=e.speed||.4,this.animations[t]=e},i.prototype.play=function(t,e){var n=this.animations[t];n!==this.currentAnimation&&(n.currentFrame=0,this.currentAnimation=n,e?(this.nextAnimation=this.animations[e],this.nextAnimation.currentFrame=0):this.nextAnimation=null)},i.prototype.update=function(t){t=t||1;var e=this.currentAnimation,n=Math.floor(e.currentFrame);e&&(e.loop?n%=e.frames.length:n>e.frames.length-1&&(n=e.frames.length-1,this.nextAnimation&&(this.currentAnimation=this.nextAnimation,this.nextAnimation=null)),e.currentFrame+=e.speed*t,this.texture=e.frames[n])},r.exports=i}.call(e,n,e,t))||(t.exports=r)},function(t,e,n){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}n(22);var i,a=n(41),o=n(105),s=n(509),u=n(54),c=n(471),l=n(118),h=n(180),d=n(109),p=n(481),f=n(467),m=n(294).codeAt,g=n(669),y=n(164),v=n(510),b=n(137),_=u.URL,w=v.URLSearchParams,x=v.getState,S=b.set,T=b.getterFor("URL"),M=Math.floor,E=Math.pow,A=/[A-Za-z]/,k=/[\d+-.A-Za-z]/,C=/\d/,O=/^(0x|0X)/,L=/^[0-7]+$/,R=/^\d+$/,P=/^[\dA-Fa-f]+$/,D=/[\0\t\n\r #%/:?@[\\]]/,I=/[\0\t\n\r #/:?@[\\]]/,B=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,N=/[\t\n\r]/g,j=function(t,e){var n,r,i;if("["==e.charAt(0)){if("]"!=e.charAt(e.length-1))return"Invalid host";if(!(n=U(e.slice(1,-1))))return"Invalid host";t.host=n}else if(K(t)){if(e=g(e),D.test(e))return"Invalid host";if(null===(n=F(e)))return"Invalid host";t.host=n}else{if(I.test(e))return"Invalid host";for(n="",r=f(e),i=0;i<r.length;i++)n+=W(r[i],G);t.host=n}},F=function(t){var e,n,r,i,a,o,s,u=t.split(".");if(u.length&&""==u[u.length-1]&&u.pop(),(e=u.length)>4)return t;for(n=[],r=0;r<e;r++){if(""==(i=u[r]))return t;if(a=10,i.length>1&&"0"==i.charAt(0)&&(a=O.test(i)?16:8,i=i.slice(8==a?1:2)),""===i)o=0;else{if(!(10==a?R:8==a?L:P).test(i))return t;o=parseInt(i,a)}n.push(o)}for(r=0;r<e;r++)if(o=n[r],r==e-1){if(o>=E(256,5-e))return null}else if(o>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*E(256,3-r);return s},U=function(t){var e,n,r,i,a,o,s,u=[0,0,0,0,0,0,0,0],c=0,l=null,h=0,d=function(){return t.charAt(h)};if(":"==d()){if(":"!=t.charAt(1))return;h+=2,l=++c}for(;d();){if(8==c)return;if(":"!=d()){for(e=n=0;n<4&&P.test(d());)e=16*e+parseInt(d(),16),h++,n++;if("."==d()){if(0==n)return;if(h-=n,c>6)return;for(r=0;d();){if(i=null,r>0){if(!("."==d()&&r<4))return;h++}if(!C.test(d()))return;for(;C.test(d());){if(a=parseInt(d(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;h++}u[c]=256*u[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;u[c++]=e}else{if(null!==l)return;h++,l=++c}}if(null!==l)for(o=c-l,c=7;0!=c&&o>0;)s=u[c],u[c--]=u[l+o-1],u[l+--o]=s;else if(8!=c)return;return u},Y=function(t){var e,n,i,a;if("number"==typeof t){for(e=[],n=0;n<4;n++)e.unshift(t%256),t=M(t/256);return e.join(".")}if("object"==r(t)){for(e="",i=function(t){for(var e=null,n=1,r=null,i=0,a=0;a<8;a++)0!==t[a]?(i>n&&(e=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(e=r,n=i),e}(t),n=0;n<8;n++)a&&0===t[n]||(a&&(a=!1),i===n?(e+=n?":":"::",a=!0):(e+=t[n].toString(16),n<7&&(e+=":")));return"["+e+"]"}return t},G={},H=p({},G,{" ":1,'"':1,"<":1,">":1,"`":1}),z=p({},H,{"#":1,"?":1,"{":1,"}":1}),V=p({},z,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),W=function(t,e){var n=m(t,0);return n>32&&n<127&&!d(e,t)?t:encodeURIComponent(t)},X={ftp:21,file:null,http:80,https:443,ws:80,wss:443},K=function(t){return d(X,t.scheme)},q=function(t){return""!=t.username||""!=t.password},Z=function(t){return!t.host||t.cannotBeABaseURL||"file"==t.scheme},J=function(t,e){var n;return 2==t.length&&A.test(t.charAt(0))&&(":"==(n=t.charAt(1))||!e&&"|"==n)},Q=function(t){var e;return t.length>1&&J(t.slice(0,2))&&(2==t.length||"/"===(e=t.charAt(2))||"\\"===e||"?"===e||"#"===e)},$=function(t){var e=t.path,n=e.length;!n||"file"==t.scheme&&1==n&&J(e[0],!0)||e.pop()},tt=function(t){return"."===t||"%2e"===t.toLowerCase()},et={},nt={},rt={},it={},at={},ot={},st={},ut={},ct={},lt={},ht={},dt={},pt={},ft={},mt={},gt={},yt={},vt={},bt={},_t={},wt={},xt=function(t,e,n,r){var a,o,s,u,c,l=n||et,h=0,p="",m=!1,g=!1,y=!1;for(n||(t.scheme="",t.username="",t.password="",t.host=null,t.port=null,t.path=[],t.query=null,t.fragment=null,t.cannotBeABaseURL=!1,e=e.replace(B,"")),e=e.replace(N,""),a=f(e);h<=a.length;){switch(o=a[h],l){case et:if(!o||!A.test(o)){if(n)return"Invalid scheme";l=rt;continue}p+=o.toLowerCase(),l=nt;break;case nt:if(o&&(k.test(o)||"+"==o||"-"==o||"."==o))p+=o.toLowerCase();else{if(":"!=o){if(n)return"Invalid scheme";p="",l=rt,h=0;continue}if(n&&(K(t)!=d(X,p)||"file"==p&&(q(t)||null!==t.port)||"file"==t.scheme&&!t.host))return;if(t.scheme=p,n)return void(K(t)&&X[t.scheme]==t.port&&(t.port=null));p="","file"==t.scheme?l=ft:K(t)&&r&&r.scheme==t.scheme?l=it:K(t)?l=ut:"/"==a[h+1]?(l=at,h++):(t.cannotBeABaseURL=!0,t.path.push(""),l=bt)}break;case rt:if(!r||r.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(r.cannotBeABaseURL&&"#"==o){t.scheme=r.scheme,t.path=r.path.slice(),t.query=r.query,t.fragment="",t.cannotBeABaseURL=!0,l=wt;break}l="file"==r.scheme?ft:ot;continue;case it:if("/"!=o||"/"!=a[h+1]){l=ot;continue}l=ct,h++;break;case at:if("/"==o){l=lt;break}l=vt;continue;case ot:if(t.scheme=r.scheme,o==i)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query;else if("/"==o||"\\"==o&&K(t))l=st;else if("?"==o)t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query="",l=_t;else{if("#"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.path.pop(),l=vt;continue}t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,t.path=r.path.slice(),t.query=r.query,t.fragment="",l=wt}break;case st:if(!K(t)||"/"!=o&&"\\"!=o){if("/"!=o){t.username=r.username,t.password=r.password,t.host=r.host,t.port=r.port,l=vt;continue}l=lt}else l=ct;break;case ut:if(l=ct,"/"!=o||"/"!=p.charAt(h+1))continue;h++;break;case ct:if("/"!=o&&"\\"!=o){l=lt;continue}break;case lt:if("@"==o){m&&(p="%40"+p),m=!0,s=f(p);for(var v=0;v<s.length;v++){var b=s[v];if(":"!=b||y){var _=W(b,V);y?t.password+=_:t.username+=_}else y=!0}p=""}else if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&K(t)){if(m&&""==p)return"Invalid authority";h-=f(p).length+1,p="",l=ht}else p+=o;break;case ht:case dt:if(n&&"file"==t.scheme){l=gt;continue}if(":"!=o||g){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&K(t)){if(K(t)&&""==p)return"Invalid host";if(n&&""==p&&(q(t)||null!==t.port))return;if(u=j(t,p))return u;if(p="",l=yt,n)return;continue}"["==o?g=!0:"]"==o&&(g=!1),p+=o}else{if(""==p)return"Invalid host";if(u=j(t,p))return u;if(p="",l=pt,n==dt)return}break;case pt:if(!C.test(o)){if(o==i||"/"==o||"?"==o||"#"==o||"\\"==o&&K(t)||n){if(""!=p){var w=parseInt(p,10);if(w>65535)return"Invalid port";t.port=K(t)&&w===X[t.scheme]?null:w,p=""}if(n)return;l=yt;continue}return"Invalid port"}p+=o;break;case ft:if(t.scheme="file","/"==o||"\\"==o)l=mt;else{if(!r||"file"!=r.scheme){l=vt;continue}if(o==i)t.host=r.host,t.path=r.path.slice(),t.query=r.query;else if("?"==o)t.host=r.host,t.path=r.path.slice(),t.query="",l=_t;else{if("#"!=o){Q(a.slice(h).join(""))||(t.host=r.host,t.path=r.path.slice(),$(t)),l=vt;continue}t.host=r.host,t.path=r.path.slice(),t.query=r.query,t.fragment="",l=wt}}break;case mt:if("/"==o||"\\"==o){l=gt;break}r&&"file"==r.scheme&&!Q(a.slice(h).join(""))&&(J(r.path[0],!0)?t.path.push(r.path[0]):t.host=r.host),l=vt;continue;case gt:if(o==i||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&J(p))l=vt;else if(""==p){if(t.host="",n)return;l=yt}else{if(u=j(t,p))return u;if("localhost"==t.host&&(t.host=""),n)return;p="",l=yt}continue}p+=o;break;case yt:if(K(t)){if(l=vt,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=i&&(l=vt,"/"!=o))continue}else t.fragment="",l=wt;else t.query="",l=_t;break;case vt:if(o==i||"/"==o||"\\"==o&&K(t)||!n&&("?"==o||"#"==o)){if(".."===(c=(c=p).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?($(t),"/"==o||"\\"==o&&K(t)||t.path.push("")):tt(p)?"/"==o||"\\"==o&&K(t)||t.path.push(""):("file"==t.scheme&&!t.path.length&&J(p)&&(t.host&&(t.host=""),p=p.charAt(0)+":"),t.path.push(p)),p="","file"==t.scheme&&(o==i||"?"==o||"#"==o))for(;t.path.length>1&&""===t.path[0];)t.path.shift();"?"==o?(t.query="",l=_t):"#"==o&&(t.fragment="",l=wt)}else p+=W(o,z);break;case bt:"?"==o?(t.query="",l=_t):"#"==o?(t.fragment="",l=wt):o!=i&&(t.path[0]+=W(o,G));break;case _t:n||"#"!=o?o!=i&&("'"==o&&K(t)?t.query+="%27":t.query+="#"==o?"%23":W(o,G)):(t.fragment="",l=wt);break;case wt:o!=i&&(t.fragment+=W(o,H))}h++}},St=function(t){var e,n,r=h(this,St,"URL"),i=arguments.length>1?arguments[1]:void 0,a=String(t),s=S(r,{type:"URL"});if(void 0!==i)if(i instanceof St)e=T(i);else if(n=xt(e={},String(i)))throw TypeError(n);if(n=xt(s,a,null,e))throw TypeError(n);var u=s.searchParams=new w,c=x(u);c.updateSearchParams(s.query),c.updateURL=function(){s.query=String(u)||null},o||(r.href=Mt.call(r),r.origin=Et.call(r),r.protocol=At.call(r),r.username=kt.call(r),r.password=Ct.call(r),r.host=Ot.call(r),r.hostname=Lt.call(r),r.port=Rt.call(r),r.pathname=Pt.call(r),r.search=Dt.call(r),r.searchParams=It.call(r),r.hash=Bt.call(r))},Tt=St.prototype,Mt=function(){var t=T(this),e=t.scheme,n=t.username,r=t.password,i=t.host,a=t.port,o=t.path,s=t.query,u=t.fragment,c=e+":";return null!==i?(c+="//",q(t)&&(c+=n+(r?":"+r:"")+"@"),c+=Y(i),null!==a&&(c+=":"+a)):"file"==e&&(c+="//"),c+=t.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(c+="?"+s),null!==u&&(c+="#"+u),c},Et=function(){var t=T(this),e=t.scheme,n=t.port;if("blob"==e)try{return new St(e.path[0]).origin}catch(t){return"null"}return"file"!=e&&K(t)?e+"://"+Y(t.host)+(null!==n?":"+n:""):"null"},At=function(){return T(this).scheme+":"},kt=function(){return T(this).username},Ct=function(){return T(this).password},Ot=function(){var t=T(this),e=t.host,n=t.port;return null===e?"":null===n?Y(e):Y(e)+":"+n},Lt=function(){var t=T(this).host;return null===t?"":Y(t)},Rt=function(){var t=T(this).port;return null===t?"":String(t)},Pt=function(){var t=T(this),e=t.path;return t.cannotBeABaseURL?e[0]:e.length?"/"+e.join("/"):""},Dt=function(){var t=T(this).query;return t?"?"+t:""},It=function(){return T(this).searchParams},Bt=function(){var t=T(this).fragment;return t?"#"+t:""},Nt=function(t,e){return{get:t,set:e,configurable:!0,enumerable:!0}};if(o&&c(Tt,{href:Nt(Mt,(function(t){var e=T(this),n=String(t),r=xt(e,n);if(r)throw TypeError(r);x(e.searchParams).updateSearchParams(e.query)})),origin:Nt(Et),protocol:Nt(At,(function(t){var e=T(this);xt(e,String(t)+":",et)})),username:Nt(kt,(function(t){var e=T(this),n=f(String(t));if(!Z(e)){e.username="";for(var r=0;r<n.length;r++)e.username+=W(n[r],V)}})),password:Nt(Ct,(function(t){var e=T(this),n=f(String(t));if(!Z(e)){e.password="";for(var r=0;r<n.length;r++)e.password+=W(n[r],V)}})),host:Nt(Ot,(function(t){var e=T(this);e.cannotBeABaseURL||xt(e,String(t),ht)})),hostname:Nt(Lt,(function(t){var e=T(this);e.cannotBeABaseURL||xt(e,String(t),dt)})),port:Nt(Rt,(function(t){var e=T(this);Z(e)||(""==(t=String(t))?e.port=null:xt(e,t,pt))})),pathname:Nt(Pt,(function(t){var e=T(this);e.cannotBeABaseURL||(e.path=[],xt(e,t+"",yt))})),search:Nt(Dt,(function(t){var e=T(this);""==(t=String(t))?e.query=null:("?"==t.charAt(0)&&(t=t.slice(1)),e.query="",xt(e,t,_t)),x(e.searchParams).updateSearchParams(e.query)})),searchParams:Nt(It),hash:Nt(Bt,(function(t){var e=T(this);""!=(t=String(t))?("#"==t.charAt(0)&&(t=t.slice(1)),e.fragment="",xt(e,t,wt)):e.fragment=null}))}),l(Tt,"toJSON",(function(){return Mt.call(this)}),{enumerable:!0}),l(Tt,"toString",(function(){return Mt.call(this)}),{enumerable:!0}),_){var jt=_.createObjectURL,Ft=_.revokeObjectURL;jt&&l(St,"createObjectURL",(function(t){return jt.apply(_,arguments)})),Ft&&l(St,"revokeObjectURL",(function(t){return Ft.apply(_,arguments)}))}y(St,"URL"),a({global:!0,forced:!s,sham:!o},{URL:St})},function(t,e,n){"use strict";var r=/[^\0-\u007E]/,i=/[.\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",o=Math.floor,s=String.fromCharCode,u=function(t){return t+22+75*(t<26)},c=function(t,e,n){var r=0;for(t=n?o(t/700):t>>1,t+=o(t/e);t>455;r+=36)t=o(t/35);return o(r+36*t/(t+38))},l=function(t){var e,n,r=[],i=(t=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=t.charCodeAt(n++);56320==(64512&a)?e.push(((1023&i)<<10)+(1023&a)+65536):(e.push(i),n--)}else e.push(i)}return e}(t)).length,l=128,h=0,d=72;for(e=0;e<t.length;e++)(n=t[e])<128&&r.push(s(n));var p=r.length,f=p;for(p&&r.push("-");f<i;){var m=2147483647;for(e=0;e<t.length;e++)(n=t[e])>=l&&n<m&&(m=n);var g=f+1;if(m-l>o((2147483647-h)/g))throw RangeError(a);for(h+=(m-l)*g,l=m,e=0;e<t.length;e++){if((n=t[e])<l&&++h>2147483647)throw RangeError(a);if(n==l){for(var y=h,v=36;;v+=36){var b=v<=d?1:v>=d+26?26:v-d;if(y<b)break;var _=y-b,w=36-b;r.push(s(u(b+_%w))),y=o(_/w)}r.push(s(u(y))),d=c(h,g,f==p),h=0,++f}}++h,++l}return r.join("")};t.exports=function(t){var e,n,a=[],o=t.toLowerCase().replace(i,".").split(".");for(e=0;e<o.length;e++)n=o[e],a.push(r.test(n)?"xn--"+l(n):n);return a.join(".")}},function(t,e,n){var r=n(102),i=n(210);t.exports=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return r(e.call(t))}},function(t,e,n){"use strict";var r=n(41),i=n(672).start;r({target:"String",proto:!0,forced:n(673)},{padStart:function(t){return i(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,n){var r=n(97),i=n(508),a=n(120),o=Math.ceil,s=function(t){return function(e,n,s){var u,c,l=String(a(e)),h=l.length,d=void 0===s?" ":String(s),p=r(n);return p<=h||""==d?l:(u=p-h,(c=i.call(d,o(u/d.length))).length>u&&(c=c.slice(0,u)),t?l+c:c+l)}};t.exports={start:s(!1),end:s(!0)}},function(t,e,n){var r=n(229);t.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},function(t,e,n){"use strict";function r(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(t,e)}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,a=function(){};return{s:a,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return s=t.done,t},e:function(t){u=!0,o=t},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw o}}}}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(87),n(39),n(121),n(38);var a=Object.prototype.toString,o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols;function u(t){return"function"==typeof t||"[object Object]"===a.call(t)||Array.isArray(t)}t.exports=function(t){if(!u(t))throw new TypeError("expected the first argument to be an object");for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];if(0===n.length||"function"!=typeof Symbol||"function"!=typeof s)return t;for(var a=0,c=n;a<c.length;a++){var l,h=c[a],d=s(h),p=r(d);try{for(p.s();!(l=p.n()).done;){var f=l.value;o.call(h,f)&&(t[f]=h[f])}}catch(t){p.e(t)}finally{p.f()}}return t}},function(t,e,n){var r=n(41),i=n(503).entries;r({target:"Object",stat:!0},{entries:function(t){return i(t)}})},function(t,e,n){"use strict";n.r(e),function(t){n(39),n(38),n(106),n(133),n(83),n(15),n(5),n(243),n(56),n(57),n(58),n(59),n(60),n(61),n(62),n(63),n(64),n(65),n(66),n(67),n(68),n(69),n(70),n(71),n(72),n(73),n(74),n(75),n(76),n(77),n(78),n(99),n(19),n(216),n(92),n(84),n(496),n(677),n(20),n(145),n(42);var e,r,i,a=(e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,n)},function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)});!function(t){var e,n,r,i=function(){function t(t,e,n){if(null==t)throw new Error("name cannot be null.");if(null==e)throw new Error("timelines cannot be null.");this.name=t,this.timelines=e,this.timelineIds=[];for(var r=0;r<e.length;r++)this.timelineIds[e[r].getPropertyId()]=!0;this.duration=n}return t.prototype.hasTimeline=function(t){return 1==this.timelineIds[t]},t.prototype.apply=function(t,e,n,r,i,a,o,s){if(null==t)throw new Error("skeleton cannot be null.");r&&0!=this.duration&&(n%=this.duration,e>0&&(e%=this.duration));for(var u=this.timelines,c=0,l=u.length;c<l;c++)u[c].apply(t,e,n,i,a,o,s)},t.binarySearch=function(t,e,n){void 0===n&&(n=1);var r=0,i=t.length/n-2;if(0==i)return n;for(var a=i>>>1;;){if(t[(a+1)*n]<=e?r=a+1:i=a,r==i)return(r+1)*n;a=r+i>>>1}},t.linearSearch=function(t,e,n){for(var r=0,i=t.length-n;r<=i;r+=n)if(t[r]>e)return r;return-1},t}();t.Animation=i,function(t){t[t.setup=0]="setup",t[t.first=1]="first",t[t.replace=2]="replace",t[t.add=3]="add"}(e=t.MixBlend||(t.MixBlend={})),function(t){t[t.mixIn=0]="mixIn",t[t.mixOut=1]="mixOut"}(n=t.MixDirection||(t.MixDirection={})),function(t){t[t.rotate=0]="rotate",t[t.translate=1]="translate",t[t.scale=2]="scale",t[t.shear=3]="shear",t[t.attachment=4]="attachment",t[t.color=5]="color",t[t.deform=6]="deform",t[t.event=7]="event",t[t.drawOrder=8]="drawOrder",t[t.ikConstraint=9]="ikConstraint",t[t.transformConstraint=10]="transformConstraint",t[t.pathConstraintPosition=11]="pathConstraintPosition",t[t.pathConstraintSpacing=12]="pathConstraintSpacing",t[t.pathConstraintMix=13]="pathConstraintMix",t[t.twoColor=14]="twoColor"}(r=t.TimelineType||(t.TimelineType={}));var o=function(){function e(n){if(n<=0)throw new Error("frameCount must be > 0: "+n);this.curves=t.Utils.newFloatArray((n-1)*e.BEZIER_SIZE)}return e.prototype.getFrameCount=function(){return this.curves.length/e.BEZIER_SIZE+1},e.prototype.setLinear=function(t){this.curves[t*e.BEZIER_SIZE]=e.LINEAR},e.prototype.setStepped=function(t){this.curves[t*e.BEZIER_SIZE]=e.STEPPED},e.prototype.getCurveType=function(t){var n=t*e.BEZIER_SIZE;if(n==this.curves.length)return e.LINEAR;var r=this.curves[n];return r==e.LINEAR?e.LINEAR:r==e.STEPPED?e.STEPPED:e.BEZIER},e.prototype.setCurve=function(t,n,r,i,a){var o=.03*(2*-n+i),s=.03*(2*-r+a),u=.006*(3*(n-i)+1),c=.006*(3*(r-a)+1),l=2*o+u,h=2*s+c,d=.3*n+o+.16666667*u,p=.3*r+s+.16666667*c,f=t*e.BEZIER_SIZE,m=this.curves;m[f++]=e.BEZIER;for(var g=d,y=p,v=f+e.BEZIER_SIZE-1;f<v;f+=2)m[f]=g,m[f+1]=y,d+=l,p+=h,l+=u,h+=c,g+=d,y+=p},e.prototype.getCurvePercent=function(n,r){r=t.MathUtils.clamp(r,0,1);var i=this.curves,a=n*e.BEZIER_SIZE,o=i[a];if(o==e.LINEAR)return r;if(o==e.STEPPED)return 0;for(var s=0,u=++a,c=a+e.BEZIER_SIZE-1;a<c;a+=2)if((s=i[a])>=r){var l=void 0,h=void 0;return a==u?(l=0,h=0):(l=i[a-2],h=i[a-1]),h+(i[a+1]-h)*(r-l)/(s-l)}var d=i[a-1];return d+(1-d)*(r-s)/(1-s)},e.LINEAR=0,e.STEPPED=1,e.BEZIER=2,e.BEZIER_SIZE=19,e}();t.CurveTimeline=o;var s=function(n){function o(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e<<1),r}return a(o,n),o.prototype.getPropertyId=function(){return(r.rotate<<24)+this.boneIndex},o.prototype.setFrame=function(t,e,n){t<<=1,this.frames[t]=e,this.frames[t+o.ROTATION]=n},o.prototype.apply=function(t,n,r,a,s,u,c){var l=this.frames,h=t.bones[this.boneIndex];if(h.active)if(r<l[0])switch(u){case e.setup:return void(h.rotation=h.data.rotation);case e.first:var d=h.data.rotation-h.rotation;h.rotation+=(d-360*(16384-(16384.499999999996-d/360|0)))*s}else if(r>=l[l.length-o.ENTRIES]){var p=l[l.length+o.PREV_ROTATION];switch(u){case e.setup:h.rotation=h.data.rotation+p*s;break;case e.first:case e.replace:p+=h.data.rotation-h.rotation,p-=360*(16384-(16384.499999999996-p/360|0));case e.add:h.rotation+=p*s}}else{var f=i.binarySearch(l,r,o.ENTRIES),m=l[f+o.PREV_ROTATION],g=l[f],y=this.getCurvePercent((f>>1)-1,1-(r-g)/(l[f+o.PREV_TIME]-g)),v=l[f+o.ROTATION]-m;switch(v=m+(v-360*(16384-(16384.499999999996-v/360|0)))*y,u){case e.setup:h.rotation=h.data.rotation+(v-360*(16384-(16384.499999999996-v/360|0)))*s;break;case e.first:case e.replace:v+=h.data.rotation-h.rotation;case e.add:h.rotation+=(v-360*(16384-(16384.499999999996-v/360|0)))*s}}},o.ENTRIES=2,o.PREV_TIME=-2,o.PREV_ROTATION=-1,o.ROTATION=1,o}(o);t.RotateTimeline=s;var u=function(n){function o(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e*o.ENTRIES),r}return a(o,n),o.prototype.getPropertyId=function(){return(r.translate<<24)+this.boneIndex},o.prototype.setFrame=function(t,e,n,r){t*=o.ENTRIES,this.frames[t]=e,this.frames[t+o.X]=n,this.frames[t+o.Y]=r},o.prototype.apply=function(t,n,r,a,s,u,c){var l=this.frames,h=t.bones[this.boneIndex];if(h.active)if(r<l[0])switch(u){case e.setup:return h.x=h.data.x,void(h.y=h.data.y);case e.first:h.x+=(h.data.x-h.x)*s,h.y+=(h.data.y-h.y)*s}else{var d=0,p=0;if(r>=l[l.length-o.ENTRIES])d=l[l.length+o.PREV_X],p=l[l.length+o.PREV_Y];else{var f=i.binarySearch(l,r,o.ENTRIES);d=l[f+o.PREV_X],p=l[f+o.PREV_Y];var m=l[f],g=this.getCurvePercent(f/o.ENTRIES-1,1-(r-m)/(l[f+o.PREV_TIME]-m));d+=(l[f+o.X]-d)*g,p+=(l[f+o.Y]-p)*g}switch(u){case e.setup:h.x=h.data.x+d*s,h.y=h.data.y+p*s;break;case e.first:case e.replace:h.x+=(h.data.x+d-h.x)*s,h.y+=(h.data.y+p-h.y)*s;break;case e.add:h.x+=d*s,h.y+=p*s}}},o.ENTRIES=3,o.PREV_TIME=-3,o.PREV_X=-2,o.PREV_Y=-1,o.X=1,o.Y=2,o}(o);t.TranslateTimeline=u;var c=function(o){function s(t){return o.call(this,t)||this}return a(s,o),s.prototype.getPropertyId=function(){return(r.scale<<24)+this.boneIndex},s.prototype.apply=function(r,a,o,u,c,l,h){var d=this.frames,p=r.bones[this.boneIndex];if(p.active)if(o<d[0])switch(l){case e.setup:return p.scaleX=p.data.scaleX,void(p.scaleY=p.data.scaleY);case e.first:p.scaleX+=(p.data.scaleX-p.scaleX)*c,p.scaleY+=(p.data.scaleY-p.scaleY)*c}else{var f=0,m=0;if(o>=d[d.length-s.ENTRIES])f=d[d.length+s.PREV_X]*p.data.scaleX,m=d[d.length+s.PREV_Y]*p.data.scaleY;else{var g=i.binarySearch(d,o,s.ENTRIES);f=d[g+s.PREV_X],m=d[g+s.PREV_Y];var y=d[g],v=this.getCurvePercent(g/s.ENTRIES-1,1-(o-y)/(d[g+s.PREV_TIME]-y));f=(f+(d[g+s.X]-f)*v)*p.data.scaleX,m=(m+(d[g+s.Y]-m)*v)*p.data.scaleY}if(1==c)l==e.add?(p.scaleX+=f-p.data.scaleX,p.scaleY+=m-p.data.scaleY):(p.scaleX=f,p.scaleY=m);else{var b=0,_=0;if(h==n.mixOut)switch(l){case e.setup:b=p.data.scaleX,_=p.data.scaleY,p.scaleX=b+(Math.abs(f)*t.MathUtils.signum(b)-b)*c,p.scaleY=_+(Math.abs(m)*t.MathUtils.signum(_)-_)*c;break;case e.first:case e.replace:b=p.scaleX,_=p.scaleY,p.scaleX=b+(Math.abs(f)*t.MathUtils.signum(b)-b)*c,p.scaleY=_+(Math.abs(m)*t.MathUtils.signum(_)-_)*c;break;case e.add:b=p.scaleX,_=p.scaleY,p.scaleX=b+(Math.abs(f)*t.MathUtils.signum(b)-p.data.scaleX)*c,p.scaleY=_+(Math.abs(m)*t.MathUtils.signum(_)-p.data.scaleY)*c}else switch(l){case e.setup:b=Math.abs(p.data.scaleX)*t.MathUtils.signum(f),_=Math.abs(p.data.scaleY)*t.MathUtils.signum(m),p.scaleX=b+(f-b)*c,p.scaleY=_+(m-_)*c;break;case e.first:case e.replace:b=Math.abs(p.scaleX)*t.MathUtils.signum(f),_=Math.abs(p.scaleY)*t.MathUtils.signum(m),p.scaleX=b+(f-b)*c,p.scaleY=_+(m-_)*c;break;case e.add:b=t.MathUtils.signum(f),_=t.MathUtils.signum(m),p.scaleX=Math.abs(p.scaleX)*b+(f-Math.abs(p.data.scaleX)*b)*c,p.scaleY=Math.abs(p.scaleY)*_+(m-Math.abs(p.data.scaleY)*_)*c}}}},s}(u);t.ScaleTimeline=c;var l=function(t){function n(e){return t.call(this,e)||this}return a(n,t),n.prototype.getPropertyId=function(){return(r.shear<<24)+this.boneIndex},n.prototype.apply=function(t,r,a,o,s,u,c){var l=this.frames,h=t.bones[this.boneIndex];if(h.active)if(a<l[0])switch(u){case e.setup:return h.shearX=h.data.shearX,void(h.shearY=h.data.shearY);case e.first:h.shearX+=(h.data.shearX-h.shearX)*s,h.shearY+=(h.data.shearY-h.shearY)*s}else{var d=0,p=0;if(a>=l[l.length-n.ENTRIES])d=l[l.length+n.PREV_X],p=l[l.length+n.PREV_Y];else{var f=i.binarySearch(l,a,n.ENTRIES);d=l[f+n.PREV_X],p=l[f+n.PREV_Y];var m=l[f],g=this.getCurvePercent(f/n.ENTRIES-1,1-(a-m)/(l[f+n.PREV_TIME]-m));d+=(l[f+n.X]-d)*g,p+=(l[f+n.Y]-p)*g}switch(u){case e.setup:h.shearX=h.data.shearX+d*s,h.shearY=h.data.shearY+p*s;break;case e.first:case e.replace:h.shearX+=(h.data.shearX+d-h.shearX)*s,h.shearY+=(h.data.shearY+p-h.shearY)*s;break;case e.add:h.shearX+=d*s,h.shearY+=p*s}}},n}(u);t.ShearTimeline=l;var h=function(n){function o(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e*o.ENTRIES),r}return a(o,n),o.prototype.getPropertyId=function(){return(r.color<<24)+this.slotIndex},o.prototype.setFrame=function(t,e,n,r,i,a){t*=o.ENTRIES,this.frames[t]=e,this.frames[t+o.R]=n,this.frames[t+o.G]=r,this.frames[t+o.B]=i,this.frames[t+o.A]=a},o.prototype.apply=function(t,n,r,a,s,u,c){var l=t.slots[this.slotIndex];if(l.bone.active){var h=this.frames;if(r<h[0])switch(u){case e.setup:return void l.color.setFromColor(l.data.color);case e.first:var d=l.color,p=l.data.color;d.add((p.r-d.r)*s,(p.g-d.g)*s,(p.b-d.b)*s,(p.a-d.a)*s)}else{var f=0,m=0,g=0,y=0;if(r>=h[h.length-o.ENTRIES]){var v=h.length;f=h[v+o.PREV_R],m=h[v+o.PREV_G],g=h[v+o.PREV_B],y=h[v+o.PREV_A]}else{var b=i.binarySearch(h,r,o.ENTRIES);f=h[b+o.PREV_R],m=h[b+o.PREV_G],g=h[b+o.PREV_B],y=h[b+o.PREV_A];var _=h[b],w=this.getCurvePercent(b/o.ENTRIES-1,1-(r-_)/(h[b+o.PREV_TIME]-_));f+=(h[b+o.R]-f)*w,m+=(h[b+o.G]-m)*w,g+=(h[b+o.B]-g)*w,y+=(h[b+o.A]-y)*w}if(1==s)l.color.set(f,m,g,y);else{d=l.color;u==e.setup&&d.setFromColor(l.data.color),d.add((f-d.r)*s,(m-d.g)*s,(g-d.b)*s,(y-d.a)*s)}}}},o.ENTRIES=5,o.PREV_TIME=-5,o.PREV_R=-4,o.PREV_G=-3,o.PREV_B=-2,o.PREV_A=-1,o.R=1,o.G=2,o.B=3,o.A=4,o}(o);t.ColorTimeline=h;var d=function(n){function o(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e*o.ENTRIES),r}return a(o,n),o.prototype.getPropertyId=function(){return(r.twoColor<<24)+this.slotIndex},o.prototype.setFrame=function(t,e,n,r,i,a,s,u,c){t*=o.ENTRIES,this.frames[t]=e,this.frames[t+o.R]=n,this.frames[t+o.G]=r,this.frames[t+o.B]=i,this.frames[t+o.A]=a,this.frames[t+o.R2]=s,this.frames[t+o.G2]=u,this.frames[t+o.B2]=c},o.prototype.apply=function(t,n,r,a,s,u,c){var l=t.slots[this.slotIndex];if(l.bone.active){var h=this.frames;if(r<h[0])switch(u){case e.setup:return l.color.setFromColor(l.data.color),void l.darkColor.setFromColor(l.data.darkColor);case e.first:var d=l.color,p=l.darkColor,f=l.data.color,m=l.data.darkColor;d.add((f.r-d.r)*s,(f.g-d.g)*s,(f.b-d.b)*s,(f.a-d.a)*s),p.add((m.r-p.r)*s,(m.g-p.g)*s,(m.b-p.b)*s,0)}else{var g=0,y=0,v=0,b=0,_=0,w=0,x=0;if(r>=h[h.length-o.ENTRIES]){var S=h.length;g=h[S+o.PREV_R],y=h[S+o.PREV_G],v=h[S+o.PREV_B],b=h[S+o.PREV_A],_=h[S+o.PREV_R2],w=h[S+o.PREV_G2],x=h[S+o.PREV_B2]}else{var T=i.binarySearch(h,r,o.ENTRIES);g=h[T+o.PREV_R],y=h[T+o.PREV_G],v=h[T+o.PREV_B],b=h[T+o.PREV_A],_=h[T+o.PREV_R2],w=h[T+o.PREV_G2],x=h[T+o.PREV_B2];var M=h[T],E=this.getCurvePercent(T/o.ENTRIES-1,1-(r-M)/(h[T+o.PREV_TIME]-M));g+=(h[T+o.R]-g)*E,y+=(h[T+o.G]-y)*E,v+=(h[T+o.B]-v)*E,b+=(h[T+o.A]-b)*E,_+=(h[T+o.R2]-_)*E,w+=(h[T+o.G2]-w)*E,x+=(h[T+o.B2]-x)*E}if(1==s)l.color.set(g,y,v,b),l.darkColor.set(_,w,x,1);else{d=l.color,p=l.darkColor;u==e.setup&&(d.setFromColor(l.data.color),p.setFromColor(l.data.darkColor)),d.add((g-d.r)*s,(y-d.g)*s,(v-d.b)*s,(b-d.a)*s),p.add((_-p.r)*s,(w-p.g)*s,(x-p.b)*s,0)}}}},o.ENTRIES=8,o.PREV_TIME=-8,o.PREV_R=-7,o.PREV_G=-6,o.PREV_B=-5,o.PREV_A=-4,o.PREV_R2=-3,o.PREV_G2=-2,o.PREV_B2=-1,o.R=1,o.G=2,o.B=3,o.A=4,o.R2=5,o.G2=6,o.B2=7,o}(o);t.TwoColorTimeline=d;var p=function(){function a(e){this.frames=t.Utils.newFloatArray(e),this.attachmentNames=new Array(e)}return a.prototype.getPropertyId=function(){return(r.attachment<<24)+this.slotIndex},a.prototype.getFrameCount=function(){return this.frames.length},a.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.attachmentNames[t]=n},a.prototype.apply=function(t,r,a,o,s,u,c){var l=t.slots[this.slotIndex];if(l.bone.active)if(c!=n.mixOut){var h=this.frames;if(a<h[0])u!=e.setup&&u!=e.first||this.setAttachment(t,l,l.data.attachmentName);else{var d=0;d=a>=h[h.length-1]?h.length-1:i.binarySearch(h,a,1)-1;var p=this.attachmentNames[d];t.slots[this.slotIndex].setAttachment(null==p?null:t.getAttachment(this.slotIndex,p))}}else u==e.setup&&this.setAttachment(t,l,l.data.attachmentName)},a.prototype.setAttachment=function(t,e,n){e.attachment=null==n?null:t.getAttachment(this.slotIndex,n)},a}();t.AttachmentTimeline=p;var f=null,m=function(n){function o(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e),r.frameVertices=new Array(e),null==f&&(f=t.Utils.newFloatArray(64)),r}return a(o,n),o.prototype.getPropertyId=function(){return(r.deform<<27)+ +this.attachment.id+this.slotIndex},o.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.frameVertices[t]=n},o.prototype.apply=function(n,r,a,o,s,u,c){var l=n.slots[this.slotIndex];if(l.bone.active){var h=l.getAttachment();if(h instanceof t.VertexAttachment&&h.deformAttachment==this.attachment){var d=l.deform;0==d.length&&(u=e.setup);var p=this.frameVertices,f=p[0].length,m=this.frames;if(a<m[0]){var g=h;switch(u){case e.setup:return void(d.length=0);case e.first:if(1==s){d.length=0;break}var y=t.Utils.setArraySize(d,f);if(null==g.bones)for(var v=g.vertices,b=0;b<f;b++)y[b]+=(v[b]-y[b])*s;else{s=1-s;for(b=0;b<f;b++)y[b]*=s}}}else{var _=t.Utils.setArraySize(d,f);if(a>=m[m.length-1]){var w=p[m.length-1];if(1==s)if(u==e.add)if(null==(g=h).bones){v=g.vertices;for(var x=0;x<f;x++)_[x]+=w[x]-v[x]}else for(var S=0;S<f;S++)_[S]+=w[S];else t.Utils.arrayCopy(w,0,_,0,f);else switch(u){case e.setup:var T=h;if(null==T.bones){v=T.vertices;for(var M=0;M<f;M++){var E=v[M];_[M]=E+(w[M]-E)*s}}else for(var A=0;A<f;A++)_[A]=w[A]*s;break;case e.first:case e.replace:for(var k=0;k<f;k++)_[k]+=(w[k]-_[k])*s;break;case e.add:if(null==(g=h).bones){v=g.vertices;for(var C=0;C<f;C++)_[C]+=(w[C]-v[C])*s}else for(var O=0;O<f;O++)_[O]+=w[O]*s}}else{var L=i.binarySearch(m,a),R=p[L-1],P=p[L],D=m[L],I=this.getCurvePercent(L-1,1-(a-D)/(m[L-1]-D));if(1==s)if(u==e.add)if(null==(g=h).bones){v=g.vertices;for(var B=0;B<f;B++){var N=R[B];_[B]+=N+(P[B]-N)*I-v[B]}}else for(var j=0;j<f;j++){N=R[j];_[j]+=N+(P[j]-N)*I}else for(var F=0;F<f;F++){N=R[F];_[F]=N+(P[F]-N)*I}else switch(u){case e.setup:var U=h;if(null==U.bones){v=U.vertices;for(var Y=0;Y<f;Y++){N=R[Y],E=v[Y];_[Y]=E+(N+(P[Y]-N)*I-E)*s}}else for(var G=0;G<f;G++){N=R[G];_[G]=(N+(P[G]-N)*I)*s}break;case e.first:case e.replace:for(var H=0;H<f;H++){N=R[H];_[H]+=(N+(P[H]-N)*I-_[H])*s}break;case e.add:if(null==(g=h).bones){v=g.vertices;for(var z=0;z<f;z++){N=R[z];_[z]+=(N+(P[z]-N)*I-v[z])*s}}else for(var V=0;V<f;V++){N=R[V];_[V]+=(N+(P[V]-N)*I)*s}}}}}}},o}(o);t.DeformTimeline=m;var g=function(){function e(e){this.frames=t.Utils.newFloatArray(e),this.events=new Array(e)}return e.prototype.getPropertyId=function(){return r.event<<24},e.prototype.getFrameCount=function(){return this.frames.length},e.prototype.setFrame=function(t,e){this.frames[t]=e.time,this.events[t]=e},e.prototype.apply=function(t,e,n,r,a,o,s){if(null!=r){var u=this.frames,c=this.frames.length;if(e>n)this.apply(t,e,Number.MAX_VALUE,r,a,o,s),e=-1;else if(e>=u[c-1])return;if(!(n<u[0])){var l=0;if(e<u[0])l=0;else for(var h=u[l=i.binarySearch(u,e)];l>0&&u[l-1]==h;)l--;for(;l<c&&n>=u[l];l++)r.push(this.events[l])}}},e}();t.EventTimeline=g;var y=function(){function a(e){this.frames=t.Utils.newFloatArray(e),this.drawOrders=new Array(e)}return a.prototype.getPropertyId=function(){return r.drawOrder<<24},a.prototype.getFrameCount=function(){return this.frames.length},a.prototype.setFrame=function(t,e,n){this.frames[t]=e,this.drawOrders[t]=n},a.prototype.apply=function(r,a,o,s,u,c,l){var h=r.drawOrder,d=r.slots;if(l!=n.mixOut){var p=this.frames;if(o<p[0])c!=e.setup&&c!=e.first||t.Utils.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length);else{var f=0;f=o>=p[p.length-1]?p.length-1:i.binarySearch(p,o)-1;var m=this.drawOrders[f];if(null==m)t.Utils.arrayCopy(d,0,h,0,d.length);else for(var g=0,y=m.length;g<y;g++)h[g]=d[m[g]]}}else c==e.setup&&t.Utils.arrayCopy(r.slots,0,r.drawOrder,0,r.slots.length)},a}();t.DrawOrderTimeline=y;var v=function(o){function s(e){var n=o.call(this,e)||this;return n.frames=t.Utils.newFloatArray(e*s.ENTRIES),n}return a(s,o),s.prototype.getPropertyId=function(){return(r.ikConstraint<<24)+this.ikConstraintIndex},s.prototype.setFrame=function(t,e,n,r,i,a,o){t*=s.ENTRIES,this.frames[t]=e,this.frames[t+s.MIX]=n,this.frames[t+s.SOFTNESS]=r,this.frames[t+s.BEND_DIRECTION]=i,this.frames[t+s.COMPRESS]=a?1:0,this.frames[t+s.STRETCH]=o?1:0},s.prototype.apply=function(t,r,a,o,u,c,l){var h=this.frames,d=t.ikConstraints[this.ikConstraintIndex];if(d.active)if(a<h[0])switch(c){case e.setup:return d.mix=d.data.mix,d.softness=d.data.softness,d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,void(d.stretch=d.data.stretch);case e.first:d.mix+=(d.data.mix-d.mix)*u,d.softness+=(d.data.softness-d.softness)*u,d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch}else if(a>=h[h.length-s.ENTRIES])c==e.setup?(d.mix=d.data.mix+(h[h.length+s.PREV_MIX]-d.data.mix)*u,d.softness=d.data.softness+(h[h.length+s.PREV_SOFTNESS]-d.data.softness)*u,l==n.mixOut?(d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch):(d.bendDirection=h[h.length+s.PREV_BEND_DIRECTION],d.compress=0!=h[h.length+s.PREV_COMPRESS],d.stretch=0!=h[h.length+s.PREV_STRETCH])):(d.mix+=(h[h.length+s.PREV_MIX]-d.mix)*u,d.softness+=(h[h.length+s.PREV_SOFTNESS]-d.softness)*u,l==n.mixIn&&(d.bendDirection=h[h.length+s.PREV_BEND_DIRECTION],d.compress=0!=h[h.length+s.PREV_COMPRESS],d.stretch=0!=h[h.length+s.PREV_STRETCH]));else{var p=i.binarySearch(h,a,s.ENTRIES),f=h[p+s.PREV_MIX],m=h[p+s.PREV_SOFTNESS],g=h[p],y=this.getCurvePercent(p/s.ENTRIES-1,1-(a-g)/(h[p+s.PREV_TIME]-g));c==e.setup?(d.mix=d.data.mix+(f+(h[p+s.MIX]-f)*y-d.data.mix)*u,d.softness=d.data.softness+(m+(h[p+s.SOFTNESS]-m)*y-d.data.softness)*u,l==n.mixOut?(d.bendDirection=d.data.bendDirection,d.compress=d.data.compress,d.stretch=d.data.stretch):(d.bendDirection=h[p+s.PREV_BEND_DIRECTION],d.compress=0!=h[p+s.PREV_COMPRESS],d.stretch=0!=h[p+s.PREV_STRETCH])):(d.mix+=(f+(h[p+s.MIX]-f)*y-d.mix)*u,d.softness+=(m+(h[p+s.SOFTNESS]-m)*y-d.softness)*u,l==n.mixIn&&(d.bendDirection=h[p+s.PREV_BEND_DIRECTION],d.compress=0!=h[p+s.PREV_COMPRESS],d.stretch=0!=h[p+s.PREV_STRETCH]))}},s.ENTRIES=6,s.PREV_TIME=-6,s.PREV_MIX=-5,s.PREV_SOFTNESS=-4,s.PREV_BEND_DIRECTION=-3,s.PREV_COMPRESS=-2,s.PREV_STRETCH=-1,s.MIX=1,s.SOFTNESS=2,s.BEND_DIRECTION=3,s.COMPRESS=4,s.STRETCH=5,s}(o);t.IkConstraintTimeline=v;var b=function(n){function o(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e*o.ENTRIES),r}return a(o,n),o.prototype.getPropertyId=function(){return(r.transformConstraint<<24)+this.transformConstraintIndex},o.prototype.setFrame=function(t,e,n,r,i,a){t*=o.ENTRIES,this.frames[t]=e,this.frames[t+o.ROTATE]=n,this.frames[t+o.TRANSLATE]=r,this.frames[t+o.SCALE]=i,this.frames[t+o.SHEAR]=a},o.prototype.apply=function(t,n,r,a,s,u,c){var l=this.frames,h=t.transformConstraints[this.transformConstraintIndex];if(h.active)if(r<l[0]){var d=h.data;switch(u){case e.setup:return h.rotateMix=d.rotateMix,h.translateMix=d.translateMix,h.scaleMix=d.scaleMix,void(h.shearMix=d.shearMix);case e.first:h.rotateMix+=(d.rotateMix-h.rotateMix)*s,h.translateMix+=(d.translateMix-h.translateMix)*s,h.scaleMix+=(d.scaleMix-h.scaleMix)*s,h.shearMix+=(d.shearMix-h.shearMix)*s}}else{var p=0,f=0,m=0,g=0;if(r>=l[l.length-o.ENTRIES]){var y=l.length;p=l[y+o.PREV_ROTATE],f=l[y+o.PREV_TRANSLATE],m=l[y+o.PREV_SCALE],g=l[y+o.PREV_SHEAR]}else{var v=i.binarySearch(l,r,o.ENTRIES);p=l[v+o.PREV_ROTATE],f=l[v+o.PREV_TRANSLATE],m=l[v+o.PREV_SCALE],g=l[v+o.PREV_SHEAR];var b=l[v],_=this.getCurvePercent(v/o.ENTRIES-1,1-(r-b)/(l[v+o.PREV_TIME]-b));p+=(l[v+o.ROTATE]-p)*_,f+=(l[v+o.TRANSLATE]-f)*_,m+=(l[v+o.SCALE]-m)*_,g+=(l[v+o.SHEAR]-g)*_}if(u==e.setup){d=h.data;h.rotateMix=d.rotateMix+(p-d.rotateMix)*s,h.translateMix=d.translateMix+(f-d.translateMix)*s,h.scaleMix=d.scaleMix+(m-d.scaleMix)*s,h.shearMix=d.shearMix+(g-d.shearMix)*s}else h.rotateMix+=(p-h.rotateMix)*s,h.translateMix+=(f-h.translateMix)*s,h.scaleMix+=(m-h.scaleMix)*s,h.shearMix+=(g-h.shearMix)*s}},o.ENTRIES=5,o.PREV_TIME=-5,o.PREV_ROTATE=-4,o.PREV_TRANSLATE=-3,o.PREV_SCALE=-2,o.PREV_SHEAR=-1,o.ROTATE=1,o.TRANSLATE=2,o.SCALE=3,o.SHEAR=4,o}(o);t.TransformConstraintTimeline=b;var _=function(n){function o(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e*o.ENTRIES),r}return a(o,n),o.prototype.getPropertyId=function(){return(r.pathConstraintPosition<<24)+this.pathConstraintIndex},o.prototype.setFrame=function(t,e,n){t*=o.ENTRIES,this.frames[t]=e,this.frames[t+o.VALUE]=n},o.prototype.apply=function(t,n,r,a,s,u,c){var l=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(r<l[0])switch(u){case e.setup:return void(h.position=h.data.position);case e.first:h.position+=(h.data.position-h.position)*s}else{var d=0;if(r>=l[l.length-o.ENTRIES])d=l[l.length+o.PREV_VALUE];else{var p=i.binarySearch(l,r,o.ENTRIES);d=l[p+o.PREV_VALUE];var f=l[p],m=this.getCurvePercent(p/o.ENTRIES-1,1-(r-f)/(l[p+o.PREV_TIME]-f));d+=(l[p+o.VALUE]-d)*m}u==e.setup?h.position=h.data.position+(d-h.data.position)*s:h.position+=(d-h.position)*s}},o.ENTRIES=2,o.PREV_TIME=-2,o.PREV_VALUE=-1,o.VALUE=1,o}(o);t.PathConstraintPositionTimeline=_;var w=function(t){function n(e){return t.call(this,e)||this}return a(n,t),n.prototype.getPropertyId=function(){return(r.pathConstraintSpacing<<24)+this.pathConstraintIndex},n.prototype.apply=function(t,r,a,o,s,u,c){var l=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(a<l[0])switch(u){case e.setup:return void(h.spacing=h.data.spacing);case e.first:h.spacing+=(h.data.spacing-h.spacing)*s}else{var d=0;if(a>=l[l.length-n.ENTRIES])d=l[l.length+n.PREV_VALUE];else{var p=i.binarySearch(l,a,n.ENTRIES);d=l[p+n.PREV_VALUE];var f=l[p],m=this.getCurvePercent(p/n.ENTRIES-1,1-(a-f)/(l[p+n.PREV_TIME]-f));d+=(l[p+n.VALUE]-d)*m}u==e.setup?h.spacing=h.data.spacing+(d-h.data.spacing)*s:h.spacing+=(d-h.spacing)*s}},n}(_);t.PathConstraintSpacingTimeline=w;var x=function(n){function o(e){var r=n.call(this,e)||this;return r.frames=t.Utils.newFloatArray(e*o.ENTRIES),r}return a(o,n),o.prototype.getPropertyId=function(){return(r.pathConstraintMix<<24)+this.pathConstraintIndex},o.prototype.setFrame=function(t,e,n,r){t*=o.ENTRIES,this.frames[t]=e,this.frames[t+o.ROTATE]=n,this.frames[t+o.TRANSLATE]=r},o.prototype.apply=function(t,n,r,a,s,u,c){var l=this.frames,h=t.pathConstraints[this.pathConstraintIndex];if(h.active)if(r<l[0])switch(u){case e.setup:return h.rotateMix=h.data.rotateMix,void(h.translateMix=h.data.translateMix);case e.first:h.rotateMix+=(h.data.rotateMix-h.rotateMix)*s,h.translateMix+=(h.data.translateMix-h.translateMix)*s}else{var d=0,p=0;if(r>=l[l.length-o.ENTRIES])d=l[l.length+o.PREV_ROTATE],p=l[l.length+o.PREV_TRANSLATE];else{var f=i.binarySearch(l,r,o.ENTRIES);d=l[f+o.PREV_ROTATE],p=l[f+o.PREV_TRANSLATE];var m=l[f],g=this.getCurvePercent(f/o.ENTRIES-1,1-(r-m)/(l[f+o.PREV_TIME]-m));d+=(l[f+o.ROTATE]-d)*g,p+=(l[f+o.TRANSLATE]-p)*g}u==e.setup?(h.rotateMix=h.data.rotateMix+(d-h.data.rotateMix)*s,h.translateMix=h.data.translateMix+(p-h.data.translateMix)*s):(h.rotateMix+=(d-h.rotateMix)*s,h.translateMix+=(p-h.translateMix)*s)}},o.ENTRIES=3,o.PREV_TIME=-3,o.PREV_ROTATE=-2,o.PREV_TRANSLATE=-1,o.ROTATE=1,o.TRANSLATE=2,o}(o);t.PathConstraintMixTimeline=x}(i||(i={})),function(t){var e=function(){function e(e){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new i(this),this.propertyIDs=new t.IntSet,this.animationsChanged=!1,this.trackEntryPool=new t.Pool((function(){return new n})),this.data=e}return e.prototype.update=function(t){t*=this.timeScale;for(var e=this.tracks,n=0,r=e.length;n<r;n++){var i=e[n];if(null!=i){i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;var a=t*i.timeScale;if(i.delay>0){if(i.delay-=a,i.delay>0)continue;a=-i.delay,i.delay=0}var o=i.next;if(null!=o){var s=i.trackLast-o.delay;if(s>=0){for(o.delay=0,o.trackTime+=0==i.timeScale?0:(s/i.timeScale+t)*o.timeScale,i.trackTime+=a,this.setCurrent(n,o,!0);null!=o.mixingFrom;)o.mixTime+=t,o=o.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&null==i.mixingFrom){e[n]=null,this.queue.end(i),this.disposeNext(i);continue}if(null!=i.mixingFrom&&this.updateMixingFrom(i,t)){var u=i.mixingFrom;for(i.mixingFrom=null,null!=u&&(u.mixingTo=null);null!=u;)this.queue.end(u),u=u.mixingFrom}i.trackTime+=a}}this.queue.drain()},e.prototype.updateMixingFrom=function(t,e){var n=t.mixingFrom;if(null==n)return!0;var r=this.updateMixingFrom(n,e);return n.animationLast=n.nextAnimationLast,n.trackLast=n.nextTrackLast,t.mixTime>0&&t.mixTime>=t.mixDuration?(0!=n.totalAlpha&&0!=t.mixDuration||(t.mixingFrom=n.mixingFrom,null!=n.mixingFrom&&(n.mixingFrom.mixingTo=t),t.interruptAlpha=n.interruptAlpha,this.queue.end(n)),r):(n.trackTime+=e*n.timeScale,t.mixTime+=e,!1)},e.prototype.apply=function(n){if(null==n)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();for(var r=this.events,i=this.tracks,a=!1,o=0,s=i.length;o<s;o++){var u=i[o];if(!(null==u||u.delay>0)){a=!0;var c=0==o?t.MixBlend.first:u.mixBlend,l=u.alpha;null!=u.mixingFrom?l*=this.applyMixingFrom(u,n,c):u.trackTime>=u.trackEnd&&null==u.next&&(l=0);var h=u.animationLast,d=u.getAnimationTime(),p=u.animation.timelines.length,f=u.animation.timelines;if(0==o&&1==l||c==t.MixBlend.add)for(var m=0;m<p;m++){t.Utils.webkit602BugfixHelper(l,c);var g=f[m];g instanceof t.AttachmentTimeline?this.applyAttachmentTimeline(g,n,d,c,!0):g.apply(n,h,d,r,l,c,t.MixDirection.mixIn)}else{var y=u.timelineMode,v=0==u.timelinesRotation.length;v&&t.Utils.setArraySize(u.timelinesRotation,p<<1,null);var b=u.timelinesRotation;for(m=0;m<p;m++){var _=f[m],w=y[m]==e.SUBSEQUENT?c:t.MixBlend.setup;_ instanceof t.RotateTimeline?this.applyRotateTimeline(_,n,d,l,w,b,m<<1,v):_ instanceof t.AttachmentTimeline?this.applyAttachmentTimeline(_,n,d,c,!0):(t.Utils.webkit602BugfixHelper(l,c),_.apply(n,h,d,r,l,w,t.MixDirection.mixIn))}}this.queueEvents(u,d),r.length=0,u.nextAnimationLast=d,u.nextTrackLast=u.trackTime}}for(var x=this.unkeyedState+e.SETUP,S=n.slots,T=0,M=n.slots.length;T<M;T++){var E=S[T];if(E.attachmentState==x){var A=E.data.attachmentName;E.attachment=null==A?null:n.getAttachment(E.data.index,A)}}return this.unkeyedState+=2,this.queue.drain(),a},e.prototype.applyMixingFrom=function(n,r,i){var a=n.mixingFrom;null!=a.mixingFrom&&this.applyMixingFrom(a,r,i);var o=0;0==n.mixDuration?(o=1,i==t.MixBlend.first&&(i=t.MixBlend.setup)):((o=n.mixTime/n.mixDuration)>1&&(o=1),i!=t.MixBlend.first&&(i=a.mixBlend));var s=o<a.eventThreshold?this.events:null,u=o<a.attachmentThreshold,c=o<a.drawOrderThreshold,l=a.animationLast,h=a.getAnimationTime(),d=a.animation.timelines.length,p=a.animation.timelines,f=a.alpha*n.interruptAlpha,m=f*(1-o);if(i==t.MixBlend.add)for(var g=0;g<d;g++)p[g].apply(r,l,h,s,m,i,t.MixDirection.mixOut);else{var y=a.timelineMode,v=a.timelineHoldMix,b=0==a.timelinesRotation.length;b&&t.Utils.setArraySize(a.timelinesRotation,d<<1,null);var _=a.timelinesRotation;a.totalAlpha=0;for(g=0;g<d;g++){var w=p[g],x=t.MixDirection.mixOut,S=void 0,T=0;switch(y[g]){case e.SUBSEQUENT:if(!c&&w instanceof t.DrawOrderTimeline)continue;S=i,T=m;break;case e.FIRST:S=t.MixBlend.setup,T=m;break;case e.HOLD_SUBSEQUENT:S=i,T=f;break;case e.HOLD_FIRST:S=t.MixBlend.setup,T=f;break;default:S=t.MixBlend.setup;var M=v[g];T=f*Math.max(0,1-M.mixTime/M.mixDuration)}a.totalAlpha+=T,w instanceof t.RotateTimeline?this.applyRotateTimeline(w,r,h,T,S,_,g<<1,b):w instanceof t.AttachmentTimeline?this.applyAttachmentTimeline(w,r,h,S,u):(t.Utils.webkit602BugfixHelper(T,i),c&&w instanceof t.DrawOrderTimeline&&S==t.MixBlend.setup&&(x=t.MixDirection.mixIn),w.apply(r,l,h,s,T,S,x))}}return n.mixDuration>0&&this.queueEvents(a,h),this.events.length=0,a.nextAnimationLast=h,a.nextTrackLast=a.trackTime,o},e.prototype.applyAttachmentTimeline=function(n,r,i,a,o){var s=r.slots[n.slotIndex];if(s.bone.active){var u,c=n.frames;if(i<c[0])a!=t.MixBlend.setup&&a!=t.MixBlend.first||this.setAttachment(r,s,s.data.attachmentName,o);else u=i>=c[c.length-1]?c.length-1:t.Animation.binarySearch(c,i)-1,this.setAttachment(r,s,n.attachmentNames[u],o);s.attachmentState<=this.unkeyedState&&(s.attachmentState=this.unkeyedState+e.SETUP)}},e.prototype.setAttachment=function(t,n,r,i){n.attachment=null==r?null:t.getAttachment(n.data.index,r),i&&(n.attachmentState=this.unkeyedState+e.CURRENT)},e.prototype.applyRotateTimeline=function(e,n,r,i,a,o,s,u){if(u&&(o[s]=0),1!=i){var c=e,l=c.frames,h=n.bones[c.boneIndex];if(h.active){var d=0,p=0;if(r<l[0])switch(a){case t.MixBlend.setup:h.rotation=h.data.rotation;default:return;case t.MixBlend.first:d=h.rotation,p=h.data.rotation}else if(d=a==t.MixBlend.setup?h.data.rotation:h.rotation,r>=l[l.length-t.RotateTimeline.ENTRIES])p=h.data.rotation+l[l.length+t.RotateTimeline.PREV_ROTATION];else{var f=t.Animation.binarySearch(l,r,t.RotateTimeline.ENTRIES),m=l[f+t.RotateTimeline.PREV_ROTATION],g=l[f],y=c.getCurvePercent((f>>1)-1,1-(r-g)/(l[f+t.RotateTimeline.PREV_TIME]-g));p=l[f+t.RotateTimeline.ROTATION]-m,p=m+(p-=360*(16384-(16384.499999999996-p/360|0)))*y+h.data.rotation,p-=360*(16384-(16384.499999999996-p/360|0))}var v=0,b=p-d;if(0==(b-=360*(16384-(16384.499999999996-b/360|0))))v=o[s];else{var _=0,w=0;u?(_=0,w=b):(_=o[s],w=o[s+1]);var x=b>0,S=_>=0;t.MathUtils.signum(w)!=t.MathUtils.signum(b)&&Math.abs(w)<=90&&(Math.abs(_)>180&&(_+=360*t.MathUtils.signum(_)),S=x),v=b+_-_%360,S!=x&&(v+=360*t.MathUtils.signum(_)),o[s]=v}o[s+1]=b,d+=v*i,h.rotation=d-360*(16384-(16384.499999999996-d/360|0))}}else e.apply(n,0,r,null,1,a,t.MixDirection.mixIn)},e.prototype.queueEvents=function(t,e){for(var n=t.animationStart,r=t.animationEnd,i=r-n,a=t.trackLast%i,o=this.events,s=0,u=o.length;s<u;s++){var c=o[s];if(c.time<a)break;c.time>r||this.queue.event(t,c)}for((t.loop?0==i||a>t.trackTime%i:e>=r&&t.animationLast<r)&&this.queue.complete(t);s<u;s++){o[s].time<n||this.queue.event(t,o[s])}},e.prototype.clearTracks=function(){var t=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var e=0,n=this.tracks.length;e<n;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=t,this.queue.drain()},e.prototype.clearTrack=function(t){if(!(t>=this.tracks.length)){var e=this.tracks[t];if(null!=e){this.queue.end(e),this.disposeNext(e);for(var n=e;;){var r=n.mixingFrom;if(null==r)break;this.queue.end(r),n.mixingFrom=null,n.mixingTo=null,n=r}this.tracks[e.trackIndex]=null,this.queue.drain()}}},e.prototype.setCurrent=function(t,e,n){var r=this.expandToIndex(t);this.tracks[t]=e,null!=r&&(n&&this.queue.interrupt(r),e.mixingFrom=r,r.mixingTo=e,e.mixTime=0,null!=r.mixingFrom&&r.mixDuration>0&&(e.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(e)},e.prototype.setAnimation=function(t,e,n){var r=this.data.skeletonData.findAnimation(e);if(null==r)throw new Error("Animation not found: "+e);return this.setAnimationWith(t,r,n)},e.prototype.setAnimationWith=function(t,e,n){if(null==e)throw new Error("animation cannot be null.");var r=!0,i=this.expandToIndex(t);null!=i&&(-1==i.nextTrackLast?(this.tracks[t]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,r=!1):this.disposeNext(i));var a=this.trackEntry(t,e,n,i);return this.setCurrent(t,a,r),this.queue.drain(),a},e.prototype.addAnimation=function(t,e,n,r){var i=this.data.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);return this.addAnimationWith(t,i,n,r)},e.prototype.addAnimationWith=function(t,e,n,r){if(null==e)throw new Error("animation cannot be null.");var i=this.expandToIndex(t);if(null!=i)for(;null!=i.next;)i=i.next;var a=this.trackEntry(t,e,n,i);if(null==i)this.setCurrent(t,a,!0),this.queue.drain();else if(i.next=a,r<=0){var o=i.animationEnd-i.animationStart;0!=o?(i.loop?r+=o*(1+(i.trackTime/o|0)):r+=Math.max(o,i.trackTime),r-=this.data.getMix(i.animation,e)):r=i.trackTime}return a.delay=r,a},e.prototype.setEmptyAnimation=function(t,n){var r=this.setAnimationWith(t,e.emptyAnimation,!1);return r.mixDuration=n,r.trackEnd=n,r},e.prototype.addEmptyAnimation=function(t,n,r){r<=0&&(r-=n);var i=this.addAnimationWith(t,e.emptyAnimation,!1,r);return i.mixDuration=n,i.trackEnd=n,i},e.prototype.setEmptyAnimations=function(t){var e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(var n=0,r=this.tracks.length;n<r;n++){var i=this.tracks[n];null!=i&&this.setEmptyAnimation(i.trackIndex,t)}this.queue.drainDisabled=e,this.queue.drain()},e.prototype.expandToIndex=function(e){return e<this.tracks.length?this.tracks[e]:(t.Utils.ensureArrayCapacity(this.tracks,e+1,null),this.tracks.length=e+1,null)},e.prototype.trackEntry=function(e,n,r,i){var a=this.trackEntryPool.obtain();return a.trackIndex=e,a.animation=n,a.loop=r,a.holdPrevious=!1,a.eventThreshold=0,a.attachmentThreshold=0,a.drawOrderThreshold=0,a.animationStart=0,a.animationEnd=n.duration,a.animationLast=-1,a.nextAnimationLast=-1,a.delay=0,a.trackTime=0,a.trackLast=-1,a.nextTrackLast=-1,a.trackEnd=Number.MAX_VALUE,a.timeScale=1,a.alpha=1,a.interruptAlpha=1,a.mixTime=0,a.mixDuration=null==i?0:this.data.getMix(i.animation,n),a.mixBlend=t.MixBlend.replace,a},e.prototype.disposeNext=function(t){for(var e=t.next;null!=e;)this.queue.dispose(e),e=e.next;t.next=null},e.prototype._animationsChanged=function(){this.animationsChanged=!1,this.propertyIDs.clear();for(var e=0,n=this.tracks.length;e<n;e++){var r=this.tracks[e];if(null!=r){for(;null!=r.mixingFrom;)r=r.mixingFrom;do{null!=r.mixingFrom&&r.mixBlend==t.MixBlend.add||this.computeHold(r),r=r.mixingTo}while(null!=r)}}},e.prototype.computeHold=function(n){var r=n.mixingTo,i=n.animation.timelines,a=n.animation.timelines.length,o=t.Utils.setArraySize(n.timelineMode,a);n.timelineHoldMix.length=0;var s=t.Utils.setArraySize(n.timelineHoldMix,a),u=this.propertyIDs;if(null!=r&&r.holdPrevious)for(var c=0;c<a;c++)o[c]=u.add(i[c].getPropertyId())?e.HOLD_FIRST:e.HOLD_SUBSEQUENT;else t:for(c=0;c<a;c++){var l=i[c],h=l.getPropertyId();if(u.add(h))if(null==r||l instanceof t.AttachmentTimeline||l instanceof t.DrawOrderTimeline||l instanceof t.EventTimeline||!r.animation.hasTimeline(h))o[c]=e.FIRST;else{for(var d=r.mixingTo;null!=d;d=d.mixingTo)if(!d.animation.hasTimeline(h)){if(n.mixDuration>0){o[c]=e.HOLD_MIX,s[c]=d;continue t}break}o[c]=e.HOLD_FIRST}else o[c]=e.SUBSEQUENT}},e.prototype.getCurrent=function(t){return t>=this.tracks.length?null:this.tracks[t]},e.prototype.addListener=function(t){if(null==t)throw new Error("listener cannot be null.");this.listeners.push(t)},e.prototype.removeListener=function(t){var e=this.listeners.indexOf(t);e>=0&&this.listeners.splice(e,1)},e.prototype.clearListeners=function(){this.listeners.length=0},e.prototype.clearListenerNotifications=function(){this.queue.clear()},e.emptyAnimation=new t.Animation("<empty>",[],0),e.SUBSEQUENT=0,e.FIRST=1,e.HOLD_SUBSEQUENT=2,e.HOLD_FIRST=3,e.HOLD_MIX=4,e.SETUP=1,e.CURRENT=2,e}();t.AnimationState=e;var n=function(){function e(){this.mixBlend=t.MixBlend.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}return e.prototype.reset=function(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0},e.prototype.getAnimationTime=function(){if(this.loop){var t=this.animationEnd-this.animationStart;return 0==t?this.animationStart:this.trackTime%t+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)},e.prototype.setAnimationLast=function(t){this.animationLast=t,this.nextAnimationLast=t},e.prototype.isComplete=function(){return this.trackTime>=this.animationEnd-this.animationStart},e.prototype.resetRotationDirections=function(){this.timelinesRotation.length=0},e}();t.TrackEntry=n;var r,i=function(){function t(t){this.objects=[],this.drainDisabled=!1,this.animState=t}return t.prototype.start=function(t){this.objects.push(r.start),this.objects.push(t),this.animState.animationsChanged=!0},t.prototype.interrupt=function(t){this.objects.push(r.interrupt),this.objects.push(t)},t.prototype.end=function(t){this.objects.push(r.end),this.objects.push(t),this.animState.animationsChanged=!0},t.prototype.dispose=function(t){this.objects.push(r.dispose),this.objects.push(t)},t.prototype.complete=function(t){this.objects.push(r.complete),this.objects.push(t)},t.prototype.event=function(t,e){this.objects.push(r.event),this.objects.push(t),this.objects.push(e)},t.prototype.drain=function(){if(!this.drainDisabled){this.drainDisabled=!0;for(var t=this.objects,e=this.animState.listeners,n=0;n<t.length;n+=2){var i=t[n],a=t[n+1];switch(i){case r.start:null!=a.listener&&a.listener.start&&a.listener.start(a);for(var o=0;o<e.length;o++)e[o].start&&e[o].start(a);break;case r.interrupt:null!=a.listener&&a.listener.interrupt&&a.listener.interrupt(a);for(o=0;o<e.length;o++)e[o].interrupt&&e[o].interrupt(a);break;case r.end:null!=a.listener&&a.listener.end&&a.listener.end(a);for(o=0;o<e.length;o++)e[o].end&&e[o].end(a);case r.dispose:null!=a.listener&&a.listener.dispose&&a.listener.dispose(a);for(o=0;o<e.length;o++)e[o].dispose&&e[o].dispose(a);this.animState.trackEntryPool.free(a);break;case r.complete:null!=a.listener&&a.listener.complete&&a.listener.complete(a);for(o=0;o<e.length;o++)e[o].complete&&e[o].complete(a);break;case r.event:var s=t[2+n++];null!=a.listener&&a.listener.event&&a.listener.event(a,s);for(o=0;o<e.length;o++)e[o].event&&e[o].event(a,s)}}this.clear(),this.drainDisabled=!1}},t.prototype.clear=function(){this.objects.length=0},t}();t.EventQueue=i,function(t){t[t.start=0]="start",t[t.interrupt=1]="interrupt",t[t.end=2]="end",t[t.dispose=3]="dispose",t[t.complete=4]="complete",t[t.event=5]="event"}(r=t.EventType||(t.EventType={}));var a=function(){function t(){}return t.prototype.start=function(t){},t.prototype.interrupt=function(t){},t.prototype.end=function(t){},t.prototype.dispose=function(t){},t.prototype.complete=function(t){},t.prototype.event=function(t,e){},t}();t.AnimationStateAdapter=a}(i||(i={})),function(t){var e=function(){function t(t){if(this.animationToMixTime={},this.defaultMix=0,null==t)throw new Error("skeletonData cannot be null.");this.skeletonData=t}return t.prototype.setMix=function(t,e,n){var r=this.skeletonData.findAnimation(t);if(null==r)throw new Error("Animation not found: "+t);var i=this.skeletonData.findAnimation(e);if(null==i)throw new Error("Animation not found: "+e);this.setMixWith(r,i,n)},t.prototype.setMixWith=function(t,e,n){if(null==t)throw new Error("from cannot be null.");if(null==e)throw new Error("to cannot be null.");var r=t.name+"."+e.name;this.animationToMixTime[r]=n},t.prototype.getMix=function(t,e){var n=t.name+"."+e.name,r=this.animationToMixTime[n];return void 0===r?this.defaultMix:r},t}();t.AnimationStateData=e}(i||(i={})),function(t){var e=function(){function e(t,e){void 0===e&&(e=""),this.assets={},this.errors={},this.toLoad=0,this.loaded=0,this.rawDataUris={},this.textureLoader=t,this.pathPrefix=e}return e.prototype.downloadText=function(t,e,n){var r=new XMLHttpRequest;r.overrideMimeType("text/html"),this.rawDataUris[t]&&(t=this.rawDataUris[t]),r.open("GET",t,!0),r.onload=function(){200==r.status?e(r.responseText):n(r.status,r.responseText)},r.onerror=function(){n(r.status,r.responseText)},r.send()},e.prototype.downloadBinary=function(t,e,n){var r=new XMLHttpRequest;this.rawDataUris[t]&&(t=this.rawDataUris[t]),r.open("GET",t,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status?e(new Uint8Array(r.response)):n(r.status,r.responseText)},r.onerror=function(){n(r.status,r.responseText)},r.send()},e.prototype.setRawDataURI=function(t,e){this.rawDataUris[this.pathPrefix+t]=e},e.prototype.loadBinary=function(t,e,n){var r=this;void 0===e&&(e=null),void 0===n&&(n=null),t=this.pathPrefix+t,this.toLoad++,this.downloadBinary(t,(function(n){r.assets[t]=n,e&&e(t,n),r.toLoad--,r.loaded++}),(function(e,i){r.errors[t]="Couldn't load binary "+t+": status "+status+", "+i,n&&n(t,"Couldn't load binary "+t+": status "+status+", "+i),r.toLoad--,r.loaded++}))},e.prototype.loadText=function(t,e,n){var r=this;void 0===e&&(e=null),void 0===n&&(n=null),t=this.pathPrefix+t,this.toLoad++,this.downloadText(t,(function(n){r.assets[t]=n,e&&e(t,n),r.toLoad--,r.loaded++}),(function(e,i){r.errors[t]="Couldn't load text "+t+": status "+status+", "+i,n&&n(t,"Couldn't load text "+t+": status "+status+", "+i),r.toLoad--,r.loaded++}))},e.prototype.loadTexture=function(t,e,n){var r=this;void 0===e&&(e=null),void 0===n&&(n=null);var i=t=this.pathPrefix+t;this.toLoad++;var a=new Image;a.crossOrigin="anonymous",a.onload=function(n){var o=r.textureLoader(a);r.assets[i]=o,r.toLoad--,r.loaded++,e&&e(t,a)},a.onerror=function(e){r.errors[t]="Couldn't load image "+t,r.toLoad--,r.loaded++,n&&n(t,"Couldn't load image "+t)},this.rawDataUris[t]&&(t=this.rawDataUris[t]),a.src=t},e.prototype.loadTextureAtlas=function(e,n,r){var i=this;void 0===n&&(n=null),void 0===r&&(r=null);var a=e.lastIndexOf("/")>=0?e.substring(0,e.lastIndexOf("/")):"";e=this.pathPrefix+e,this.toLoad++,this.downloadText(e,(function(o){var s={count:0},u=new Array;try{new t.TextureAtlas(o,(function(e){u.push(""==a?e:a+"/"+e);var n=document.createElement("img");return n.width=16,n.height=16,new t.FakeTexture(n)}))}catch(t){var c=t;return i.errors[e]="Couldn't load texture atlas "+e+": "+c.message,r&&r(e,"Couldn't load texture atlas "+e+": "+c.message),i.toLoad--,void i.loaded++}for(var l=function(c){var l=!1;i.loadTexture(c,(function(c,h){if(s.count++,s.count==u.length)if(l)i.errors[e]="Couldn't load texture atlas page "+c+"} of atlas "+e,r&&r(e,"Couldn't load texture atlas page "+c+" of atlas "+e),i.toLoad--,i.loaded++;else try{var d=new t.TextureAtlas(o,(function(t){return i.get(""==a?t:a+"/"+t)}));i.assets[e]=d,n&&n(e,d),i.toLoad--,i.loaded++}catch(t){var p=t;i.errors[e]="Couldn't load texture atlas "+e+": "+p.message,r&&r(e,"Couldn't load texture atlas "+e+": "+p.message),i.toLoad--,i.loaded++}}),(function(t,n){l=!0,s.count++,s.count==u.length&&(i.errors[e]="Couldn't load texture atlas page "+t+"} of atlas "+e,r&&r(e,"Couldn't load texture atlas page "+t+" of atlas "+e),i.toLoad--,i.loaded++)}))},h=0,d=u;h<d.length;h++){l(d[h])}}),(function(t,n){i.errors[e]="Couldn't load texture atlas "+e+": status "+status+", "+n,r&&r(e,"Couldn't load texture atlas "+e+": status "+status+", "+n),i.toLoad--,i.loaded++}))},e.prototype.get=function(t){return t=this.pathPrefix+t,this.assets[t]},e.prototype.remove=function(t){t=this.pathPrefix+t;var e=this.assets[t];e.dispose&&e.dispose(),this.assets[t]=null},e.prototype.removeAll=function(){for(var t in this.assets){var e=this.assets[t];e.dispose&&e.dispose()}this.assets={}},e.prototype.isLoadingComplete=function(){return 0==this.toLoad},e.prototype.getToLoad=function(){return this.toLoad},e.prototype.getLoaded=function(){return this.loaded},e.prototype.dispose=function(){this.removeAll()},e.prototype.hasErrors=function(){return Object.keys(this.errors).length>0},e.prototype.getErrors=function(){return this.errors},e}();t.AssetManager=e}(i||(i={})),function(t){var e=function(){function e(t){this.atlas=t}return e.prototype.newRegionAttachment=function(e,n,r){var i=this.atlas.findRegion(r);if(null==i)throw new Error("Region not found in atlas: "+r+" (region attachment: "+n+")");i.renderObject=i;var a=new t.RegionAttachment(n);return a.setRegion(i),a},e.prototype.newMeshAttachment=function(e,n,r){var i=this.atlas.findRegion(r);if(null==i)throw new Error("Region not found in atlas: "+r+" (mesh attachment: "+n+")");i.renderObject=i;var a=new t.MeshAttachment(n);return a.region=i,a},e.prototype.newBoundingBoxAttachment=function(e,n){return new t.BoundingBoxAttachment(n)},e.prototype.newPathAttachment=function(e,n){return new t.PathAttachment(n)},e.prototype.newPointAttachment=function(e,n){return new t.PointAttachment(n)},e.prototype.newClippingAttachment=function(e,n){return new t.ClippingAttachment(n)},e}();t.AtlasAttachmentLoader=e}(i||(i={})),function(t){!function(t){t[t.Normal=0]="Normal",t[t.Additive=1]="Additive",t[t.Multiply=2]="Multiply",t[t.Screen=3]="Screen"}(t.BlendMode||(t.BlendMode={}))}(i||(i={})),function(t){var e=function(){function e(t,e,n){if(this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.a=0,this.b=0,this.c=0,this.d=0,this.worldY=0,this.worldX=0,this.sorted=!1,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.skeleton=e,this.parent=n,this.setToSetupPose()}return e.prototype.isActive=function(){return this.active},e.prototype.update=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransform=function(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)},e.prototype.updateWorldTransformWith=function(e,n,r,i,a,o,s){this.ax=e,this.ay=n,this.arotation=r,this.ascaleX=i,this.ascaleY=a,this.ashearX=o,this.ashearY=s,this.appliedValid=!0;var u=this.parent;if(null==u){var c=this.skeleton,l=r+90+s,h=c.scaleX,d=c.scaleY;return this.a=t.MathUtils.cosDeg(r+o)*i*h,this.b=t.MathUtils.cosDeg(l)*a*h,this.c=t.MathUtils.sinDeg(r+o)*i*d,this.d=t.MathUtils.sinDeg(l)*a*d,this.worldX=e*h+c.x,void(this.worldY=n*d+c.y)}var p=u.a,f=u.b,m=u.c,g=u.d;switch(this.worldX=p*e+f*n+u.worldX,this.worldY=m*e+g*n+u.worldY,this.data.transformMode){case t.TransformMode.Normal:l=r+90+s;var y=t.MathUtils.cosDeg(r+o)*i,v=t.MathUtils.cosDeg(l)*a,b=t.MathUtils.sinDeg(r+o)*i,_=t.MathUtils.sinDeg(l)*a;return this.a=p*y+f*b,this.b=p*v+f*_,this.c=m*y+g*b,void(this.d=m*v+g*_);case t.TransformMode.OnlyTranslation:l=r+90+s;this.a=t.MathUtils.cosDeg(r+o)*i,this.b=t.MathUtils.cosDeg(l)*a,this.c=t.MathUtils.sinDeg(r+o)*i,this.d=t.MathUtils.sinDeg(l)*a;break;case t.TransformMode.NoRotationOrReflection:var w=0;(T=p*p+m*m)>1e-4?(T=Math.abs(p*g-f*m)/T,p/=this.skeleton.scaleX,f=(m/=this.skeleton.scaleY)*T,g=p*T,w=Math.atan2(m,p)*t.MathUtils.radDeg):(p=0,m=0,w=90-Math.atan2(g,f)*t.MathUtils.radDeg);var x=r+o-w,S=r+s-w+90;y=t.MathUtils.cosDeg(x)*i,v=t.MathUtils.cosDeg(S)*a,b=t.MathUtils.sinDeg(x)*i,_=t.MathUtils.sinDeg(S)*a;this.a=p*y-f*b,this.b=p*v-f*_,this.c=m*y+g*b,this.d=m*v+g*_;break;case t.TransformMode.NoScale:case t.TransformMode.NoScaleOrReflection:var T,M=t.MathUtils.cosDeg(r),E=t.MathUtils.sinDeg(r),A=(p*M+f*E)/this.skeleton.scaleX,k=(m*M+g*E)/this.skeleton.scaleY;(T=Math.sqrt(A*A+k*k))>1e-5&&(T=1/T),A*=T,k*=T,T=Math.sqrt(A*A+k*k),this.data.transformMode==t.TransformMode.NoScale&&p*g-f*m<0!=(this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(T=-T);var C=Math.PI/2+Math.atan2(k,A),O=Math.cos(C)*T,L=Math.sin(C)*T;y=t.MathUtils.cosDeg(o)*i,v=t.MathUtils.cosDeg(90+s)*a,b=t.MathUtils.sinDeg(o)*i,_=t.MathUtils.sinDeg(90+s)*a;this.a=A*y+O*b,this.b=A*v+O*_,this.c=k*y+L*b,this.d=k*v+L*_}this.a*=this.skeleton.scaleX,this.b*=this.skeleton.scaleX,this.c*=this.skeleton.scaleY,this.d*=this.skeleton.scaleY},e.prototype.setToSetupPose=function(){var t=this.data;this.x=t.x,this.y=t.y,this.rotation=t.rotation,this.scaleX=t.scaleX,this.scaleY=t.scaleY,this.shearX=t.shearX,this.shearY=t.shearY},e.prototype.getWorldRotationX=function(){return Math.atan2(this.c,this.a)*t.MathUtils.radDeg},e.prototype.getWorldRotationY=function(){return Math.atan2(this.d,this.b)*t.MathUtils.radDeg},e.prototype.getWorldScaleX=function(){return Math.sqrt(this.a*this.a+this.c*this.c)},e.prototype.getWorldScaleY=function(){return Math.sqrt(this.b*this.b+this.d*this.d)},e.prototype.updateAppliedTransform=function(){this.appliedValid=!0;var e=this.parent;if(null==e)return this.ax=this.worldX,this.ay=this.worldY,this.arotation=Math.atan2(this.c,this.a)*t.MathUtils.radDeg,this.ascaleX=Math.sqrt(this.a*this.a+this.c*this.c),this.ascaleY=Math.sqrt(this.b*this.b+this.d*this.d),this.ashearX=0,void(this.ashearY=Math.atan2(this.a*this.b+this.c*this.d,this.a*this.d-this.b*this.c)*t.MathUtils.radDeg);var n=e.a,r=e.b,i=e.c,a=e.d,o=1/(n*a-r*i),s=this.worldX-e.worldX,u=this.worldY-e.worldY;this.ax=s*a*o-u*r*o,this.ay=u*n*o-s*i*o;var c=o*a,l=o*n,h=o*r,d=o*i,p=c*this.a-h*this.c,f=c*this.b-h*this.d,m=l*this.c-d*this.a,g=l*this.d-d*this.b;if(this.ashearX=0,this.ascaleX=Math.sqrt(p*p+m*m),this.ascaleX>1e-4){var y=p*g-f*m;this.ascaleY=y/this.ascaleX,this.ashearY=Math.atan2(p*f+m*g,y)*t.MathUtils.radDeg,this.arotation=Math.atan2(m,p)*t.MathUtils.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(f*f+g*g),this.ashearY=0,this.arotation=90-Math.atan2(g,f)*t.MathUtils.radDeg},e.prototype.worldToLocal=function(t){var e=this.a,n=this.b,r=this.c,i=this.d,a=1/(e*i-n*r),o=t.x-this.worldX,s=t.y-this.worldY;return t.x=o*i*a-s*n*a,t.y=s*e*a-o*r*a,t},e.prototype.localToWorld=function(t){var e=t.x,n=t.y;return t.x=e*this.a+n*this.b+this.worldX,t.y=e*this.c+n*this.d+this.worldY,t},e.prototype.worldToLocalRotation=function(e){var n=t.MathUtils.sinDeg(e),r=t.MathUtils.cosDeg(e);return Math.atan2(this.a*n-this.c*r,this.d*r-this.b*n)*t.MathUtils.radDeg+this.rotation-this.shearX},e.prototype.localToWorldRotation=function(e){e-=this.rotation-this.shearX;var n=t.MathUtils.sinDeg(e),r=t.MathUtils.cosDeg(e);return Math.atan2(r*this.c+n*this.d,r*this.a+n*this.b)*t.MathUtils.radDeg},e.prototype.rotateWorld=function(e){var n=this.a,r=this.b,i=this.c,a=this.d,o=t.MathUtils.cosDeg(e),s=t.MathUtils.sinDeg(e);this.a=o*n-s*i,this.b=o*r-s*a,this.c=s*n+o*i,this.d=s*r+o*a,this.appliedValid=!1},e}();t.Bone=e}(i||(i={})),function(t){var e,n=function(n,r,i){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=e.Normal,this.skinRequired=!1,this.color=new t.Color,n<0)throw new Error("index must be >= 0.");if(null==r)throw new Error("name cannot be null.");this.index=n,this.name=r,this.parent=i};t.BoneData=n,function(t){t[t.Normal=0]="Normal",t[t.OnlyTranslation=1]="OnlyTranslation",t[t.NoRotationOrReflection=2]="NoRotationOrReflection",t[t.NoScale=3]="NoScale",t[t.NoScaleOrReflection=4]="NoScaleOrReflection"}(e=t.TransformMode||(t.TransformMode={}))}(i||(i={})),function(t){var e=function(t,e,n){this.name=t,this.order=e,this.skinRequired=n};t.ConstraintData=e}(i||(i={})),function(t){var e=function(t,e){if(null==e)throw new Error("data cannot be null.");this.time=t,this.data=e};t.Event=e}(i||(i={})),function(t){var e=function(t){this.name=t};t.EventData=e}(i||(i={})),function(t){var e=function(){function e(t,e){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.mix=t.mix,this.softness=t.softness,this.bendDirection=t.bendDirection,this.compress=t.compress,this.stretch=t.stretch,this.bones=new Array;for(var n=0;n<t.bones.length;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findBone(t.target.name)}return e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var t=this.target,e=this.bones;switch(e.length){case 1:this.apply1(e[0],t.worldX,t.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(e[0],e[1],t.worldX,t.worldY,this.bendDirection,this.stretch,this.softness,this.mix)}},e.prototype.apply1=function(e,n,r,i,a,o,s){e.appliedValid||e.updateAppliedTransform();var u=e.parent,c=u.a,l=u.b,h=u.c,d=u.d,p=-e.ashearX-e.arotation,f=0,m=0;switch(e.data.transformMode){case t.TransformMode.OnlyTranslation:f=n-e.worldX,m=r-e.worldY;break;case t.TransformMode.NoRotationOrReflection:var g=Math.abs(c*d-l*h)/(c*c+h*h),y=c/e.skeleton.scaleX,v=h/e.skeleton.scaleY;l=-v*g*e.skeleton.scaleX,d=y*g*e.skeleton.scaleY,p+=Math.atan2(v,y)*t.MathUtils.radDeg;default:var b=n-u.worldX,_=r-u.worldY,w=c*d-l*h;f=(b*d-_*l)/w-e.ax,m=(_*c-b*h)/w-e.ay}p+=Math.atan2(m,f)*t.MathUtils.radDeg,e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);var x=e.ascaleX,S=e.ascaleY;if(i||a){switch(e.data.transformMode){case t.TransformMode.NoScale:case t.TransformMode.NoScaleOrReflection:f=n-e.worldX,m=r-e.worldY}var T=e.data.length*x,M=Math.sqrt(f*f+m*m);if(i&&M<T||a&&M>T&&T>1e-4)x*=g=(M/T-1)*s+1,o&&(S*=g)}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*s,x,S,e.ashearX,e.ashearY)},e.prototype.apply2=function(e,n,r,i,a,o,s,u){if(0!=u){e.appliedValid||e.updateAppliedTransform(),n.appliedValid||n.updateAppliedTransform();var c=e.ax,l=e.ay,h=e.ascaleX,d=h,p=e.ascaleY,f=n.ascaleX,m=0,g=0,y=0;h<0?(h=-h,m=180,y=-1):(m=0,y=1),p<0&&(p=-p,y=-y),f<0?(f=-f,g=180):g=0;var v=n.ax,b=0,_=0,w=0,x=e.a,S=e.b,T=e.c,M=e.d,E=Math.abs(h-p)<=1e-4;E?(_=x*v+S*(b=n.ay)+e.worldX,w=T*v+M*b+e.worldY):(b=0,_=x*v+e.worldX,w=T*v+e.worldY);var A=e.parent;x=A.a,S=A.b,T=A.c;var k,C,O=1/(x*(M=A.d)-S*T),L=_-A.worldX,R=w-A.worldY,P=(L*M-R*S)*O-c,D=(R*x-L*T)*O-l,I=Math.sqrt(P*P+D*D),B=n.data.length*f;if(I<1e-4)return this.apply1(e,r,i,!1,o,!1,u),void n.updateWorldTransformWith(v,b,0,n.ascaleX,n.ascaleY,n.ashearX,n.ashearY);var N=((L=r-A.worldX)*M-(R=i-A.worldY)*S)*O-c,j=(R*x-L*T)*O-l,F=N*N+j*j;if(0!=s){s*=h*(f+1)/2;var U=Math.sqrt(F),Y=U-I-B*h+s;if(Y>0){var G=Math.min(1,Y/(2*s))-1;F=(N-=(G=(Y-s*(1-G*G))/U)*N)*N+(j-=G*j)*j}}t:if(E){var H=(F-I*I-(B*=h)*B)/(2*I*B);H<-1?H=-1:H>1&&(H=1,o&&(d*=(Math.sqrt(F)/(I+B)-1)*u+1)),C=Math.acos(H)*a,x=I+B*H,S=B*Math.sin(C),k=Math.atan2(j*x-N*S,N*x+j*S)}else{var z=(x=h*B)*x,V=(S=p*B)*S,W=Math.atan2(j,N),X=-2*V*I,K=V-z;if((M=X*X-4*K*(T=V*I*I+z*F-z*V))>=0){var q=Math.sqrt(M);X<0&&(q=-q);var Z=(q=-(X+q)/2)/K,J=T/q,Q=Math.abs(Z)<Math.abs(J)?Z:J;if(Q*Q<=F){R=Math.sqrt(F-Q*Q)*a,k=W-Math.atan2(R,Q),C=Math.atan2(R/p,(Q-I)/h);break t}}var $=t.MathUtils.PI,tt=I-x,et=tt*tt,nt=0,rt=0,it=I+x,at=it*it,ot=0;(T=-x*I/(z-V))>=-1&&T<=1&&(T=Math.acos(T),(M=(L=x*Math.cos(T)+I)*L+(R=S*Math.sin(T))*R)<et&&($=T,et=M,tt=L,nt=R),M>at&&(rt=T,at=M,it=L,ot=R)),F<=(et+at)/2?(k=W-Math.atan2(nt*a,tt),C=$*a):(k=W-Math.atan2(ot*a,it),C=rt*a)}var st=Math.atan2(b,v)*y,ut=e.arotation;(k=(k-st)*t.MathUtils.radDeg+m-ut)>180?k-=360:k<-180&&(k+=360),e.updateWorldTransformWith(c,l,ut+k*u,d,e.ascaleY,0,0),ut=n.arotation,(C=((C+st)*t.MathUtils.radDeg-n.ashearX)*y+g-ut)>180?C-=360:C<-180&&(C+=360),n.updateWorldTransformWith(v,b,ut+C*u,n.ascaleX,n.ascaleY,n.ashearX,n.ashearY)}else n.updateWorldTransform()},e}();t.IkConstraint=e}(i||(i={})),function(t){var e=function(t){function e(e){var n=t.call(this,e,0,!1)||this;return n.bones=new Array,n.bendDirection=1,n.compress=!1,n.stretch=!1,n.uniform=!1,n.mix=1,n.softness=0,n}return a(e,t),e}(t.ConstraintData);t.IkConstraintData=e}(i||(i={})),function(t){var e=function(){function e(t,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,null==t)throw new Error("data cannot be null.");if(null==e)throw new Error("skeleton cannot be null.");this.data=t,this.bones=new Array;for(var n=0,r=t.bones.length;n<r;n++)this.bones.push(e.findBone(t.bones[n].name));this.target=e.findSlot(t.target.name),this.position=t.position,this.spacing=t.spacing,this.rotateMix=t.rotateMix,this.translateMix=t.translateMix}return e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){var n=this.target.getAttachment();if(n instanceof t.PathAttachment){var r=this.rotateMix,i=this.translateMix,a=r>0;if(i>0||a){var o=this.data,s=o.spacingMode==t.SpacingMode.Percent,u=o.rotateMode,c=u==t.RotateMode.Tangent,l=u==t.RotateMode.ChainScale,h=this.bones.length,d=c?h:h+1,p=this.bones,f=t.Utils.setArraySize(this.spaces,d),m=null,g=this.spacing;if(l||!s){l&&(m=t.Utils.setArraySize(this.lengths,h));for(var y=o.spacingMode==t.SpacingMode.Length,v=0,b=d-1;v<b;){var _=(L=p[v]).data.length;if(_<e.epsilon)l&&(m[v]=0),f[++v]=0;else if(s){if(l){var w=_*L.a,x=_*L.c,S=Math.sqrt(w*w+x*x);m[v]=S}f[++v]=g}else{w=_*L.a,x=_*L.c;var T=Math.sqrt(w*w+x*x);l&&(m[v]=T),f[++v]=(y?_+g:g)*T/_}}}else for(v=1;v<d;v++)f[v]=g;var M=this.computeWorldPositions(n,d,c,o.positionMode==t.PositionMode.Percent,s),E=M[0],A=M[1],k=o.offsetRotation,C=!1;if(0==k)C=u==t.RotateMode.Chain;else C=!1,k*=(O=this.target.bone).a*O.d-O.b*O.c>0?t.MathUtils.degRad:-t.MathUtils.degRad;v=0;for(var O=3;v<h;v++,O+=3){var L;(L=p[v]).worldX+=(E-L.worldX)*i,L.worldY+=(A-L.worldY)*i;var R=(w=M[O])-E,P=(x=M[O+1])-A;if(l){var D=m[v];if(0!=D){var I=(Math.sqrt(R*R+P*P)/D-1)*r+1;L.a*=I,L.c*=I}}if(E=w,A=x,a){var B=L.a,N=L.b,j=L.c,F=L.d,U=0,Y=0,G=0;if(U=c?M[O-1]:0==f[v+1]?M[O+2]:Math.atan2(P,R),U-=Math.atan2(j,B),C){Y=Math.cos(U),G=Math.sin(U);var H=L.data.length;E+=(H*(Y*B-G*j)-R)*r,A+=(H*(G*B+Y*j)-P)*r}else U+=k;U>t.MathUtils.PI?U-=t.MathUtils.PI2:U<-t.MathUtils.PI&&(U+=t.MathUtils.PI2),U*=r,Y=Math.cos(U),G=Math.sin(U),L.a=Y*B-G*j,L.b=Y*N-G*F,L.c=G*B+Y*j,L.d=G*N+Y*F}L.appliedValid=!1}}}},e.prototype.computeWorldPositions=function(n,r,i,a,o){var s=this.target,u=this.position,c=this.spaces,l=t.Utils.setArraySize(this.positions,3*r+2),h=null,d=n.closed,p=n.worldVerticesLength,f=p/6,m=e.NONE;if(!n.constantSpeed){var g=n.lengths,y=g[f-=d?1:2];if(a&&(u*=y),o)for(var v=1;v<r;v++)c[v]*=y;h=t.Utils.setArraySize(this.world,8);v=0;for(var b=0,_=0;v<r;v++,b+=3){var w=u+=V=c[v];if(d)(w%=y)<0&&(w+=y),_=0;else{if(w<0){m!=e.BEFORE&&(m=e.BEFORE,n.computeWorldVertices(s,2,4,h,0,2)),this.addBeforePosition(w,h,0,l,b);continue}if(w>y){m!=e.AFTER&&(m=e.AFTER,n.computeWorldVertices(s,p-6,4,h,0,2)),this.addAfterPosition(w-y,h,0,l,b);continue}}for(;;_++){var x=g[_];if(!(w>x)){if(0==_)w/=x;else w=(w-(q=g[_-1]))/(x-q);break}}_!=m&&(m=_,d&&_==f?(n.computeWorldVertices(s,p-4,4,h,0,2),n.computeWorldVertices(s,0,4,h,4,2)):n.computeWorldVertices(s,6*_+2,8,h,0,2)),this.addCurvePosition(w,h[0],h[1],h[2],h[3],h[4],h[5],h[6],h[7],l,b,i||v>0&&0==V)}return l}d?(p+=2,h=t.Utils.setArraySize(this.world,p),n.computeWorldVertices(s,2,p-4,h,0,2),n.computeWorldVertices(s,0,2,h,p-4,2),h[p-2]=h[0],h[p-1]=h[1]):(f--,p-=4,h=t.Utils.setArraySize(this.world,p),n.computeWorldVertices(s,2,p,h,0,2));for(var S=t.Utils.setArraySize(this.curves,f),T=0,M=h[0],E=h[1],A=0,k=0,C=0,O=0,L=0,R=0,P=0,D=0,I=0,B=0,N=0,j=0,F=0,U=0,Y=(v=0,2);v<f;v++,Y+=6)A=h[Y],k=h[Y+1],C=h[Y+2],O=h[Y+3],N=2*(P=.1875*(M-2*A+C))+(I=.09375*(3*(A-C)-M+(L=h[Y+4]))),j=2*(D=.1875*(E-2*k+O))+(B=.09375*(3*(k-O)-E+(R=h[Y+5]))),F=.75*(A-M)+P+.16666667*I,U=.75*(k-E)+D+.16666667*B,T+=Math.sqrt(F*F+U*U),F+=N,U+=j,N+=I,j+=B,T+=Math.sqrt(F*F+U*U),F+=N,U+=j,T+=Math.sqrt(F*F+U*U),F+=N+I,U+=j+B,T+=Math.sqrt(F*F+U*U),S[v]=T,M=L,E=R;if(u*=a?T:T/n.lengths[f-1],o)for(v=1;v<r;v++)c[v]*=T;for(var G=this.segments,H=0,z=(v=0,b=0,_=0,0);v<r;v++,b+=3){var V;w=u+=V=c[v];if(d)(w%=T)<0&&(w+=T),_=0;else{if(w<0){this.addBeforePosition(w,h,0,l,b);continue}if(w>T){this.addAfterPosition(w-T,h,p-4,l,b);continue}}for(;;_++){var W=S[_];if(!(w>W)){if(0==_)w/=W;else w=(w-(q=S[_-1]))/(W-q);break}}if(_!=m){m=_;var X=6*_;for(M=h[X],E=h[X+1],A=h[X+2],k=h[X+3],C=h[X+4],O=h[X+5],N=2*(P=.03*(M-2*A+C))+(I=.006*(3*(A-C)-M+(L=h[X+6]))),j=2*(D=.03*(E-2*k+O))+(B=.006*(3*(k-O)-E+(R=h[X+7]))),F=.3*(A-M)+P+.16666667*I,U=.3*(k-E)+D+.16666667*B,H=Math.sqrt(F*F+U*U),G[0]=H,X=1;X<8;X++)F+=N,U+=j,N+=I,j+=B,H+=Math.sqrt(F*F+U*U),G[X]=H;F+=N,U+=j,H+=Math.sqrt(F*F+U*U),G[8]=H,F+=N+I,U+=j+B,H+=Math.sqrt(F*F+U*U),G[9]=H,z=0}for(w*=H;;z++){var K=G[z];if(!(w>K)){var q;if(0==z)w/=K;else w=z+(w-(q=G[z-1]))/(K-q);break}}this.addCurvePosition(.1*w,M,E,A,k,C,O,L,R,l,b,i||v>0&&0==V)}return l},e.prototype.addBeforePosition=function(t,e,n,r,i){var a=e[n],o=e[n+1],s=e[n+2]-a,u=e[n+3]-o,c=Math.atan2(u,s);r[i]=a+t*Math.cos(c),r[i+1]=o+t*Math.sin(c),r[i+2]=c},e.prototype.addAfterPosition=function(t,e,n,r,i){var a=e[n+2],o=e[n+3],s=a-e[n],u=o-e[n+1],c=Math.atan2(u,s);r[i]=a+t*Math.cos(c),r[i+1]=o+t*Math.sin(c),r[i+2]=c},e.prototype.addCurvePosition=function(t,e,n,r,i,a,o,s,u,c,l,h){if(0==t||isNaN(t))return c[l]=e,c[l+1]=n,void(c[l+2]=Math.atan2(i-n,r-e));var d=t*t,p=d*t,f=1-t,m=f*f,g=m*f,y=f*t,v=3*y,b=f*v,_=v*t,w=e*g+r*b+a*_+s*p,x=n*g+i*b+o*_+u*p;c[l]=w,c[l+1]=x,h&&(c[l+2]=t<.001?Math.atan2(i-n,r-e):Math.atan2(x-(n*m+i*y*2+o*d),w-(e*m+r*y*2+a*d)))},e.NONE=-1,e.BEFORE=-2,e.AFTER=-3,e.epsilon=1e-5,e}();t.PathConstraint=e}(i||(i={})),function(t){var e=function(t){function e(e){var n=t.call(this,e,0,!1)||this;return n.bones=new Array,n}return a(e,t),e}(t.ConstraintData);t.PathConstraintData=e,function(t){t[t.Fixed=0]="Fixed",t[t.Percent=1]="Percent"}(t.PositionMode||(t.PositionMode={})),function(t){t[t.Length=0]="Length",t[t.Fixed=1]="Fixed",t[t.Percent=2]="Percent"}(t.SpacingMode||(t.SpacingMode={})),function(t){t[t.Tangent=0]="Tangent",t[t.Chain=1]="Chain",t[t.ChainScale=2]="ChainScale"}(t.RotateMode||(t.RotateMode={}))}(i||(i={})),function(t){var e=function(){function t(t){this.toLoad=new Array,this.assets={},this.clientId=t}return t.prototype.loaded=function(){var t=0;for(var e in this.assets)t++;return t},t}(),n=function(){function t(t){void 0===t&&(t=""),this.clientAssets={},this.queuedAssets={},this.rawAssets={},this.errors={},this.pathPrefix=t}return t.prototype.queueAsset=function(t,n,r){var i=this.clientAssets[t];return null==i&&(i=new e(t),this.clientAssets[t]=i),null!==n&&(i.textureLoader=n),i.toLoad.push(r),this.queuedAssets[r]!==r&&(this.queuedAssets[r]=r,!0)},t.prototype.loadText=function(t,e){var n=this;if(e=this.pathPrefix+e,this.queueAsset(t,null,e)){var r=new XMLHttpRequest;r.overrideMimeType("text/html"),r.onreadystatechange=function(){r.readyState==XMLHttpRequest.DONE&&(r.status>=200&&r.status<300?n.rawAssets[e]=r.responseText:n.errors[e]="Couldn't load text "+e+": status "+r.status+", "+r.responseText)},r.open("GET",e,!0),r.send()}},t.prototype.loadJson=function(t,e){var n=this;if(e=this.pathPrefix+e,this.queueAsset(t,null,e)){var r=new XMLHttpRequest;r.overrideMimeType("text/html"),r.onreadystatechange=function(){r.readyState==XMLHttpRequest.DONE&&(r.status>=200&&r.status<300?n.rawAssets[e]=JSON.parse(r.responseText):n.errors[e]="Couldn't load text "+e+": status "+r.status+", "+r.responseText)},r.open("GET",e,!0),r.send()}},t.prototype.loadTexture=function(t,e,n){var r=this;if(n=this.pathPrefix+n,this.queueAsset(t,e,n))if(!!("undefined"==typeof window||"undefined"==typeof navigator||!window.document)&&"undefined"!=typeof importScripts){fetch(n,{mode:"cors"}).then((function(t){return t.ok||(r.errors[n]="Couldn't load image "+n),t.blob()})).then((function(t){return createImageBitmap(t,{premultiplyAlpha:"none",colorSpaceConversion:"none"})})).then((function(t){r.rawAssets[n]=t}))}else{var i=new Image;i.crossOrigin="anonymous",i.onload=function(t){r.rawAssets[n]=i},i.onerror=function(t){r.errors[n]="Couldn't load image "+n},i.src=n}},t.prototype.get=function(t,e){e=this.pathPrefix+e;var n=this.clientAssets[t];return null==n||n.assets[e]},t.prototype.updateClientAssets=function(t){for(var e=!!("undefined"==typeof window||"undefined"==typeof navigator||!window.document)&&"undefined"!=typeof importScripts,n=0;n<t.toLoad.length;n++){var r=t.toLoad[n],i=t.assets[r];if(null==i){var a=this.rawAssets[r];if(null==a)continue;e?a instanceof ImageBitmap?t.assets[r]=t.textureLoader(a):t.assets[r]=a:a instanceof HTMLImageElement?t.assets[r]=t.textureLoader(a):t.assets[r]=a}}},t.prototype.isLoadingComplete=function(t){var e=this.clientAssets[t];return null==e||(this.updateClientAssets(e),e.toLoad.length==e.loaded())},t.prototype.dispose=function(){},t.prototype.hasErrors=function(){return Object.keys(this.errors).length>0},t.prototype.getErrors=function(){return this.errors},t}();t.SharedAssetManager=n}(i||(i={})),function(t){var e=function(){function e(e){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,null==e)throw new Error("data cannot be null.");this.data=e,this.bones=new Array;for(var n=0;n<e.bones.length;n++){var r=e.bones[n],i=void 0;if(null==r.parent)i=new t.Bone(r,this,null);else{var a=this.bones[r.parent.index];i=new t.Bone(r,this,a),a.children.push(i)}this.bones.push(i)}this.slots=new Array,this.drawOrder=new Array;for(n=0;n<e.slots.length;n++){var o=e.slots[n],s=(i=this.bones[o.boneData.index],new t.Slot(o,i));this.slots.push(s),this.drawOrder.push(s)}this.ikConstraints=new Array;for(n=0;n<e.ikConstraints.length;n++){var u=e.ikConstraints[n];this.ikConstraints.push(new t.IkConstraint(u,this))}this.transformConstraints=new Array;for(n=0;n<e.transformConstraints.length;n++){var c=e.transformConstraints[n];this.transformConstraints.push(new t.TransformConstraint(c,this))}this.pathConstraints=new Array;for(n=0;n<e.pathConstraints.length;n++){var l=e.pathConstraints[n];this.pathConstraints.push(new t.PathConstraint(l,this))}this.color=new t.Color(1,1,1,1),this.updateCache()}return e.prototype.updateCache=function(){this._updateCache.length=0,this.updateCacheReset.length=0;for(var t=this.bones,e=0,n=t.length;e<n;e++){(i=t[e]).sorted=i.data.skinRequired,i.active=!i.sorted}if(null!=this.skin){var r=this.skin.bones;for(e=0,n=this.skin.bones.length;e<n;e++){var i=this.bones[r[e].index];do{i.sorted=!1,i.active=!0,i=i.parent}while(null!=i)}}var a=this.ikConstraints,o=this.transformConstraints,s=this.pathConstraints,u=a.length,c=o.length,l=s.length,h=u+c+l;t:for(e=0;e<h;e++){for(var d=0;d<u;d++){if((p=a[d]).data.order==e){this.sortIkConstraint(p);continue t}}for(d=0;d<c;d++){if((p=o[d]).data.order==e){this.sortTransformConstraint(p);continue t}}for(d=0;d<l;d++){var p;if((p=s[d]).data.order==e){this.sortPathConstraint(p);continue t}}}for(e=0,n=t.length;e<n;e++)this.sortBone(t[e])},e.prototype.sortIkConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||null!=this.skin&&t.Utils.contains(this.skin.constraints,e.data,!0)),e.active){var n=e.target;this.sortBone(n);var r=e.bones,i=r[0];if(this.sortBone(i),r.length>1){var a=r[r.length-1];this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}this._updateCache.push(e),this.sortReset(i.children),r[r.length-1].sorted=!0}},e.prototype.sortPathConstraint=function(e){if(e.active=e.target.bone.isActive()&&(!e.data.skinRequired||null!=this.skin&&t.Utils.contains(this.skin.constraints,e.data,!0)),e.active){var n=e.target,r=n.data.index,i=n.bone;null!=this.skin&&this.sortPathConstraintAttachment(this.skin,r,i),null!=this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,r,i);for(var a=0,o=this.data.skins.length;a<o;a++)this.sortPathConstraintAttachment(this.data.skins[a],r,i);var s=n.getAttachment();s instanceof t.PathAttachment&&this.sortPathConstraintAttachmentWith(s,i);var u=e.bones,c=u.length;for(a=0;a<c;a++)this.sortBone(u[a]);this._updateCache.push(e);for(a=0;a<c;a++)this.sortReset(u[a].children);for(a=0;a<c;a++)u[a].sorted=!0}},e.prototype.sortTransformConstraint=function(e){if(e.active=e.target.isActive()&&(!e.data.skinRequired||null!=this.skin&&t.Utils.contains(this.skin.constraints,e.data,!0)),e.active){this.sortBone(e.target);var n=e.bones,r=n.length;if(e.data.local)for(var i=0;i<r;i++){var a=n[i];this.sortBone(a.parent),this._updateCache.indexOf(a)>-1||this.updateCacheReset.push(a)}else for(i=0;i<r;i++)this.sortBone(n[i]);this._updateCache.push(e);for(var o=0;o<r;o++)this.sortReset(n[o].children);for(o=0;o<r;o++)n[o].sorted=!0}},e.prototype.sortPathConstraintAttachment=function(t,e,n){var r=t.attachments[e];if(r)for(var i in r)this.sortPathConstraintAttachmentWith(r[i],n)},e.prototype.sortPathConstraintAttachmentWith=function(e,n){if(e instanceof t.PathAttachment){var r=e.bones;if(null==r)this.sortBone(n);else for(var i=this.bones,a=0;a<r.length;)for(var o=r[a++],s=a+o;a<s;a++){var u=r[a];this.sortBone(i[u])}}},e.prototype.sortBone=function(t){if(!t.sorted){var e=t.parent;null!=e&&this.sortBone(e),t.sorted=!0,this._updateCache.push(t)}},e.prototype.sortReset=function(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];r.active&&(r.sorted&&this.sortReset(r.children),r.sorted=!1)}},e.prototype.updateWorldTransform=function(){for(var t=this.updateCacheReset,e=0,n=t.length;e<n;e++){var r=t[e];r.ax=r.x,r.ay=r.y,r.arotation=r.rotation,r.ascaleX=r.scaleX,r.ascaleY=r.scaleY,r.ashearX=r.shearX,r.ashearY=r.shearY,r.appliedValid=!0}var i=this._updateCache;for(e=0,n=i.length;e<n;e++)i[e].update()},e.prototype.setToSetupPose=function(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()},e.prototype.setBonesToSetupPose=function(){for(var t=this.bones,e=0,n=t.length;e<n;e++)t[e].setToSetupPose();var r=this.ikConstraints;for(e=0,n=r.length;e<n;e++){(s=r[e]).mix=s.data.mix,s.softness=s.data.softness,s.bendDirection=s.data.bendDirection,s.compress=s.data.compress,s.stretch=s.data.stretch}var i=this.transformConstraints;for(e=0,n=i.length;e<n;e++){var a=(s=i[e]).data;s.rotateMix=a.rotateMix,s.translateMix=a.translateMix,s.scaleMix=a.scaleMix,s.shearMix=a.shearMix}var o=this.pathConstraints;for(e=0,n=o.length;e<n;e++){var s;a=(s=o[e]).data;s.position=a.position,s.spacing=a.spacing,s.rotateMix=a.rotateMix,s.translateMix=a.translateMix}},e.prototype.setSlotsToSetupPose=function(){var e=this.slots;t.Utils.arrayCopy(e,0,this.drawOrder,0,e.length);for(var n=0,r=e.length;n<r;n++)e[n].setToSetupPose()},e.prototype.getRootBone=function(){return 0==this.bones.length?null:this.bones[0]},e.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++)if(e[n].data.name==t)return n;return-1},e.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++)if(e[n].data.name==t)return n;return-1},e.prototype.setSkinByName=function(t){var e=this.data.findSkin(t);if(null==e)throw new Error("Skin not found: "+t);this.setSkin(e)},e.prototype.setSkin=function(t){if(t!=this.skin){if(null!=t)if(null!=this.skin)t.attachAll(this,this.skin);else for(var e=this.slots,n=0,r=e.length;n<r;n++){var i=e[n],a=i.data.attachmentName;if(null!=a){var o=t.getAttachment(n,a);null!=o&&i.setAttachment(o)}}this.skin=t,this.updateCache()}},e.prototype.getAttachmentByName=function(t,e){return this.getAttachment(this.data.findSlotIndex(t),e)},e.prototype.getAttachment=function(t,e){if(null==e)throw new Error("attachmentName cannot be null.");if(null!=this.skin){var n=this.skin.getAttachment(t,e);if(null!=n)return n}return null!=this.data.defaultSkin?this.data.defaultSkin.getAttachment(t,e):null},e.prototype.setAttachment=function(t,e){if(null==t)throw new Error("slotName cannot be null.");for(var n=this.slots,r=0,i=n.length;r<i;r++){var a=n[r];if(a.data.name==t){var o=null;if(null!=e&&null==(o=this.getAttachment(r,e)))throw new Error("Attachment not found: "+e+", for slot: "+t);return void a.setAttachment(o)}}throw new Error("Slot not found: "+t)},e.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.data.name==t)return i}return null},e.prototype.getBounds=function(e,n,r){if(void 0===r&&(r=new Array(2)),null==e)throw new Error("offset cannot be null.");if(null==n)throw new Error("size cannot be null.");for(var i=this.drawOrder,a=Number.POSITIVE_INFINITY,o=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY,u=Number.NEGATIVE_INFINITY,c=0,l=i.length;c<l;c++){var h=i[c];if(h.bone.active){var d=0,p=null,f=h.getAttachment();if(f instanceof t.RegionAttachment)d=8,p=t.Utils.setArraySize(r,d,0),f.computeWorldVertices(h.bone,p,0,2);else if(f instanceof t.MeshAttachment){var m=f;d=m.worldVerticesLength,p=t.Utils.setArraySize(r,d,0),m.computeWorldVertices(h,0,d,p,0,2)}if(null!=p)for(var g=0,y=p.length;g<y;g+=2){var v=p[g],b=p[g+1];a=Math.min(a,v),o=Math.min(o,b),s=Math.max(s,v),u=Math.max(u,b)}}}e.set(a,o),n.set(s-a,u-o)},e.prototype.update=function(t){this.time+=t},e}();t.Skeleton=e}(i||(i={})),function(t){var e=function(){function e(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return e.prototype.readSkeletonData=function(r){var i=this.scale,a=new t.SkeletonData;a.name="";var o=new n(r);if(a.hash=o.readString(),a.version=o.readString(),"3.8.75"==a.version)throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");a.x=o.readFloat(),a.y=o.readFloat(),a.width=o.readFloat(),a.height=o.readFloat();var s=o.readBoolean();s&&(a.fps=o.readFloat(),a.imagesPath=o.readString(),a.audioPath=o.readString());var u=0;u=o.readInt(!0);for(var c=0;c<u;c++)o.strings.push(o.readString());u=o.readInt(!0);for(c=0;c<u;c++){var l=o.readString(),h=0==c?null:a.bones[o.readInt(!0)];(f=new t.BoneData(c,l,h)).rotation=o.readFloat(),f.x=o.readFloat()*i,f.y=o.readFloat()*i,f.scaleX=o.readFloat(),f.scaleY=o.readFloat(),f.shearX=o.readFloat(),f.shearY=o.readFloat(),f.length=o.readFloat()*i,f.transformMode=e.TransformModeValues[o.readInt(!0)],f.skinRequired=o.readBoolean(),s&&t.Color.rgba8888ToColor(f.color,o.readInt32()),a.bones.push(f)}u=o.readInt(!0);for(c=0;c<u;c++){var d=o.readString(),p=a.bones[o.readInt(!0)],f=new t.SlotData(c,d,p);t.Color.rgba8888ToColor(f.color,o.readInt32());var m=o.readInt32();-1!=m&&t.Color.rgb888ToColor(f.darkColor=new t.Color,m),f.attachmentName=o.readStringRef(),f.blendMode=e.BlendModeValues[o.readInt(!0)],a.slots.push(f)}u=o.readInt(!0);c=0;for(var g=void 0;c<u;c++){(f=new t.IkConstraintData(o.readString())).order=o.readInt(!0),f.skinRequired=o.readBoolean(),g=o.readInt(!0);for(var y=0;y<g;y++)f.bones.push(a.bones[o.readInt(!0)]);f.target=a.bones[o.readInt(!0)],f.mix=o.readFloat(),f.softness=o.readFloat()*i,f.bendDirection=o.readByte(),f.compress=o.readBoolean(),f.stretch=o.readBoolean(),f.uniform=o.readBoolean(),a.ikConstraints.push(f)}u=o.readInt(!0);for(c=0,g=void 0;c<u;c++){(f=new t.TransformConstraintData(o.readString())).order=o.readInt(!0),f.skinRequired=o.readBoolean(),g=o.readInt(!0);for(y=0;y<g;y++)f.bones.push(a.bones[o.readInt(!0)]);f.target=a.bones[o.readInt(!0)],f.local=o.readBoolean(),f.relative=o.readBoolean(),f.offsetRotation=o.readFloat(),f.offsetX=o.readFloat()*i,f.offsetY=o.readFloat()*i,f.offsetScaleX=o.readFloat(),f.offsetScaleY=o.readFloat(),f.offsetShearY=o.readFloat(),f.rotateMix=o.readFloat(),f.translateMix=o.readFloat(),f.scaleMix=o.readFloat(),f.shearMix=o.readFloat(),a.transformConstraints.push(f)}u=o.readInt(!0);for(c=0,g=void 0;c<u;c++){(f=new t.PathConstraintData(o.readString())).order=o.readInt(!0),f.skinRequired=o.readBoolean(),g=o.readInt(!0);for(y=0;y<g;y++)f.bones.push(a.bones[o.readInt(!0)]);f.target=a.slots[o.readInt(!0)],f.positionMode=e.PositionModeValues[o.readInt(!0)],f.spacingMode=e.SpacingModeValues[o.readInt(!0)],f.rotateMode=e.RotateModeValues[o.readInt(!0)],f.offsetRotation=o.readFloat(),f.position=o.readFloat(),f.positionMode==t.PositionMode.Fixed&&(f.position*=i),f.spacing=o.readFloat(),f.spacingMode!=t.SpacingMode.Length&&f.spacingMode!=t.SpacingMode.Fixed||(f.spacing*=i),f.rotateMix=o.readFloat(),f.translateMix=o.readFloat(),a.pathConstraints.push(f)}var v=this.readSkin(o,a,!0,s);null!=v&&(a.defaultSkin=v,a.skins.push(v));c=a.skins.length;for(t.Utils.setArraySize(a.skins,u=c+o.readInt(!0));c<u;c++)a.skins[c]=this.readSkin(o,a,!1,s);u=this.linkedMeshes.length;for(c=0;c<u;c++){var b=this.linkedMeshes[c],_=null==b.skin?a.defaultSkin:a.findSkin(b.skin);if(null==_)throw new Error("Skin not found: "+b.skin);var w=_.getAttachment(b.slotIndex,b.parent);if(null==w)throw new Error("Parent mesh not found: "+b.parent);b.mesh.deformAttachment=b.inheritDeform?w:b.mesh,b.mesh.setParentMesh(w),b.mesh.updateUVs()}this.linkedMeshes.length=0,u=o.readInt(!0);for(c=0;c<u;c++){(f=new t.EventData(o.readStringRef())).intValue=o.readInt(!1),f.floatValue=o.readFloat(),f.stringValue=o.readString(),f.audioPath=o.readString(),null!=f.audioPath&&(f.volume=o.readFloat(),f.balance=o.readFloat()),a.events.push(f)}u=o.readInt(!0);for(c=0;c<u;c++)a.animations.push(this.readAnimation(o,o.readString(),a));return a},e.prototype.readSkin=function(e,n,r,i){var a=null,o=0;if(r){if(0==(o=e.readInt(!0)))return null;a=new t.Skin("default")}else{(a=new t.Skin(e.readStringRef())).bones.length=e.readInt(!0);for(var s=0,u=a.bones.length;s<u;s++)a.bones[s]=n.bones[e.readInt(!0)];for(s=0,u=e.readInt(!0);s<u;s++)a.constraints.push(n.ikConstraints[e.readInt(!0)]);for(s=0,u=e.readInt(!0);s<u;s++)a.constraints.push(n.transformConstraints[e.readInt(!0)]);for(s=0,u=e.readInt(!0);s<u;s++)a.constraints.push(n.pathConstraints[e.readInt(!0)]);o=e.readInt(!0)}for(s=0;s<o;s++)for(var c=e.readInt(!0),l=0,h=e.readInt(!0);l<h;l++){var d=e.readStringRef(),p=this.readAttachment(e,n,a,c,d,i);null!=p&&a.setAttachment(c,d,p)}return a},e.prototype.readAttachment=function(n,i,a,o,s,u){var c=this.scale,l=n.readStringRef();null==l&&(l=s);var h=n.readByte();switch(e.AttachmentTypeValues[h]){case t.AttachmentType.Region:var d=n.readStringRef(),p=n.readFloat(),f=n.readFloat(),m=n.readFloat(),g=n.readFloat(),y=n.readFloat(),v=n.readFloat(),b=n.readFloat(),_=n.readInt32();null==d&&(d=l);var w=this.attachmentLoader.newRegionAttachment(a,l,d);return null==w?null:(w.path=d,w.x=f*c,w.y=m*c,w.scaleX=g,w.scaleY=y,w.rotation=p,w.width=v*c,w.height=b*c,t.Color.rgba8888ToColor(w.color,_),w.updateOffset(),w);case t.AttachmentType.BoundingBox:var x=n.readInt(!0),S=this.readVertices(n,x),T=(_=u?n.readInt32():0,this.attachmentLoader.newBoundingBoxAttachment(a,l));return null==T?null:(T.worldVerticesLength=x<<1,T.vertices=S.vertices,T.bones=S.bones,u&&t.Color.rgba8888ToColor(T.color,_),T);case t.AttachmentType.Mesh:d=n.readStringRef(),_=n.readInt32(),x=n.readInt(!0);var M=this.readFloatArray(n,x<<1,1),E=this.readShortArray(n),A=(S=this.readVertices(n,x),n.readInt(!0)),k=null;v=0,b=0;return u&&(k=this.readShortArray(n),v=n.readFloat(),b=n.readFloat()),null==d&&(d=l),null==(C=this.attachmentLoader.newMeshAttachment(a,l,d))?null:(C.path=d,t.Color.rgba8888ToColor(C.color,_),C.bones=S.bones,C.vertices=S.vertices,C.worldVerticesLength=x<<1,C.triangles=E,C.regionUVs=M,C.updateUVs(),C.hullLength=A<<1,u&&(C.edges=k,C.width=v*c,C.height=b*c),C);case t.AttachmentType.LinkedMesh:d=n.readStringRef(),_=n.readInt32();var C,O=n.readStringRef(),L=n.readStringRef(),R=n.readBoolean();v=0,b=0;return u&&(v=n.readFloat(),b=n.readFloat()),null==d&&(d=l),null==(C=this.attachmentLoader.newMeshAttachment(a,l,d))?null:(C.path=d,t.Color.rgba8888ToColor(C.color,_),u&&(C.width=v*c,C.height=b*c),this.linkedMeshes.push(new r(C,O,o,L,R)),C);case t.AttachmentType.Path:for(var P=n.readBoolean(),D=n.readBoolean(),I=(x=n.readInt(!0),S=this.readVertices(n,x),t.Utils.newArray(x/3,0)),B=0,N=I.length;B<N;B++)I[B]=n.readFloat()*c;_=u?n.readInt32():0;return null==(d=this.attachmentLoader.newPathAttachment(a,l))?null:(d.closed=P,d.constantSpeed=D,d.worldVerticesLength=x<<1,d.vertices=S.vertices,d.bones=S.bones,d.lengths=I,u&&t.Color.rgba8888ToColor(d.color,_),d);case t.AttachmentType.Point:p=n.readFloat(),f=n.readFloat(),m=n.readFloat(),_=u?n.readInt32():0;var j=this.attachmentLoader.newPointAttachment(a,l);return null==j?null:(j.x=f*c,j.y=m*c,j.rotation=p,u&&t.Color.rgba8888ToColor(j.color,_),j);case t.AttachmentType.Clipping:var F=n.readInt(!0),U=(x=n.readInt(!0),S=this.readVertices(n,x),_=u?n.readInt32():0,this.attachmentLoader.newClippingAttachment(a,l));return null==U?null:(U.endSlot=i.slots[F],U.worldVerticesLength=x<<1,U.vertices=S.vertices,U.bones=S.bones,u&&t.Color.rgba8888ToColor(U.color,_),U)}return null},e.prototype.readVertices=function(e,n){var r=n<<1,a=new i,o=this.scale;if(!e.readBoolean())return a.vertices=this.readFloatArray(e,r,o),a;for(var s=new Array,u=new Array,c=0;c<n;c++){var l=e.readInt(!0);u.push(l);for(var h=0;h<l;h++)u.push(e.readInt(!0)),s.push(e.readFloat()*o),s.push(e.readFloat()*o),s.push(e.readFloat())}return a.vertices=t.Utils.toFloatArray(s),a.bones=u,a},e.prototype.readFloatArray=function(t,e,n){var r=new Array(e);if(1==n)for(var i=0;i<e;i++)r[i]=t.readFloat();else for(i=0;i<e;i++)r[i]=t.readFloat()*n;return r},e.prototype.readShortArray=function(t){for(var e=t.readInt(!0),n=new Array(e),r=0;r<e;r++)n[r]=t.readShort();return n},e.prototype.readAnimation=function(n,r,i){for(var a=new Array,o=this.scale,s=0,u=new t.Color,c=new t.Color,l=0,h=n.readInt(!0);l<h;l++)for(var d=n.readInt(!0),p=0,f=n.readInt(!0);p<f;p++){var m=n.readByte(),g=n.readInt(!0);switch(m){case e.SLOT_ATTACHMENT:(_=new t.AttachmentTimeline(g)).slotIndex=d;for(var y=0;y<g;y++)_.setFrame(y,n.readFloat(),n.readStringRef());a.push(_),s=Math.max(s,_.frames[g-1]);break;case e.SLOT_COLOR:(_=new t.ColorTimeline(g)).slotIndex=d;for(y=0;y<g;y++){var v=n.readFloat();t.Color.rgba8888ToColor(u,n.readInt32()),_.setFrame(y,v,u.r,u.g,u.b,u.a),y<g-1&&this.readCurve(n,y,_)}a.push(_),s=Math.max(s,_.frames[(g-1)*t.ColorTimeline.ENTRIES]);break;case e.SLOT_TWO_COLOR:(_=new t.TwoColorTimeline(g)).slotIndex=d;for(y=0;y<g;y++){v=n.readFloat();t.Color.rgba8888ToColor(u,n.readInt32()),t.Color.rgb888ToColor(c,n.readInt32()),_.setFrame(y,v,u.r,u.g,u.b,u.a,c.r,c.g,c.b),y<g-1&&this.readCurve(n,y,_)}a.push(_),s=Math.max(s,_.frames[(g-1)*t.TwoColorTimeline.ENTRIES])}}for(l=0,h=n.readInt(!0);l<h;l++){var b=n.readInt(!0);for(p=0,f=n.readInt(!0);p<f;p++){m=n.readByte(),g=n.readInt(!0);switch(m){case e.BONE_ROTATE:(_=new t.RotateTimeline(g)).boneIndex=b;for(y=0;y<g;y++)_.setFrame(y,n.readFloat(),n.readFloat()),y<g-1&&this.readCurve(n,y,_);a.push(_),s=Math.max(s,_.frames[(g-1)*t.RotateTimeline.ENTRIES]);break;case e.BONE_TRANSLATE:case e.BONE_SCALE:case e.BONE_SHEAR:var _=void 0,w=1;m==e.BONE_SCALE?_=new t.ScaleTimeline(g):m==e.BONE_SHEAR?_=new t.ShearTimeline(g):(_=new t.TranslateTimeline(g),w=o),_.boneIndex=b;for(y=0;y<g;y++)_.setFrame(y,n.readFloat(),n.readFloat()*w,n.readFloat()*w),y<g-1&&this.readCurve(n,y,_);a.push(_),s=Math.max(s,_.frames[(g-1)*t.TranslateTimeline.ENTRIES])}}}for(l=0,h=n.readInt(!0);l<h;l++){var x=n.readInt(!0);g=n.readInt(!0);(_=new t.IkConstraintTimeline(g)).ikConstraintIndex=x;for(y=0;y<g;y++)_.setFrame(y,n.readFloat(),n.readFloat(),n.readFloat()*o,n.readByte(),n.readBoolean(),n.readBoolean()),y<g-1&&this.readCurve(n,y,_);a.push(_),s=Math.max(s,_.frames[(g-1)*t.IkConstraintTimeline.ENTRIES])}for(l=0,h=n.readInt(!0);l<h;l++){x=n.readInt(!0),g=n.readInt(!0);(_=new t.TransformConstraintTimeline(g)).transformConstraintIndex=x;for(y=0;y<g;y++)_.setFrame(y,n.readFloat(),n.readFloat(),n.readFloat(),n.readFloat(),n.readFloat()),y<g-1&&this.readCurve(n,y,_);a.push(_),s=Math.max(s,_.frames[(g-1)*t.TransformConstraintTimeline.ENTRIES])}for(l=0,h=n.readInt(!0);l<h;l++){x=n.readInt(!0);var S=i.pathConstraints[x];for(p=0,f=n.readInt(!0);p<f;p++){m=n.readByte(),g=n.readInt(!0);switch(m){case e.PATH_POSITION:case e.PATH_SPACING:_=void 0,w=1;m==e.PATH_SPACING?(_=new t.PathConstraintSpacingTimeline(g),S.spacingMode!=t.SpacingMode.Length&&S.spacingMode!=t.SpacingMode.Fixed||(w=o)):(_=new t.PathConstraintPositionTimeline(g),S.positionMode==t.PositionMode.Fixed&&(w=o)),_.pathConstraintIndex=x;for(y=0;y<g;y++)_.setFrame(y,n.readFloat(),n.readFloat()*w),y<g-1&&this.readCurve(n,y,_);a.push(_),s=Math.max(s,_.frames[(g-1)*t.PathConstraintPositionTimeline.ENTRIES]);break;case e.PATH_MIX:(_=new t.PathConstraintMixTimeline(g)).pathConstraintIndex=x;for(y=0;y<g;y++)_.setFrame(y,n.readFloat(),n.readFloat(),n.readFloat()),y<g-1&&this.readCurve(n,y,_);a.push(_),s=Math.max(s,_.frames[(g-1)*t.PathConstraintMixTimeline.ENTRIES])}}}for(l=0,h=n.readInt(!0);l<h;l++){var T=i.skins[n.readInt(!0)];for(p=0,f=n.readInt(!0);p<f;p++){d=n.readInt(!0);for(var M=0,E=n.readInt(!0);M<E;M++){var A=T.getAttachment(d,n.readStringRef()),k=null!=A.bones,C=A.vertices,O=k?C.length/3*2:C.length;g=n.readInt(!0);(_=new t.DeformTimeline(g)).slotIndex=d,_.attachment=A;for(y=0;y<g;y++){v=n.readFloat();var L=void 0,R=n.readInt(!0);if(0==R)L=k?t.Utils.newFloatArray(O):C;else{L=t.Utils.newFloatArray(O);var P=n.readInt(!0);if(R+=P,1==o)for(var D=P;D<R;D++)L[D]=n.readFloat();else for(D=P;D<R;D++)L[D]=n.readFloat()*o;if(!k){D=0;for(var I=L.length;D<I;D++)L[D]+=C[D]}}_.setFrame(y,v,L),y<g-1&&this.readCurve(n,y,_)}a.push(_),s=Math.max(s,_.frames[g-1])}}}var B=n.readInt(!0);if(B>0){_=new t.DrawOrderTimeline(B);var N=i.slots.length;for(l=0;l<B;l++){v=n.readFloat();var j=n.readInt(!0),F=t.Utils.newArray(N,0);for(p=N-1;p>=0;p--)F[p]=-1;var U=t.Utils.newArray(N-j,0),Y=0,G=0;for(p=0;p<j;p++){for(d=n.readInt(!0);Y!=d;)U[G++]=Y++;F[Y+n.readInt(!0)]=Y++}for(;Y<N;)U[G++]=Y++;for(p=N-1;p>=0;p--)-1==F[p]&&(F[p]=U[--G]);_.setFrame(l,v,F)}a.push(_),s=Math.max(s,_.frames[B-1])}var H=n.readInt(!0);if(H>0){for(_=new t.EventTimeline(H),l=0;l<H;l++){v=n.readFloat();var z=i.events[n.readInt(!0)],V=new t.Event(v,z);V.intValue=n.readInt(!1),V.floatValue=n.readFloat(),V.stringValue=n.readBoolean()?n.readString():z.stringValue,null!=V.data.audioPath&&(V.volume=n.readFloat(),V.balance=n.readFloat()),_.setFrame(l,V)}a.push(_),s=Math.max(s,_.frames[H-1])}return new t.Animation(r,a,s)},e.prototype.readCurve=function(t,n,r){switch(t.readByte()){case e.CURVE_STEPPED:r.setStepped(n);break;case e.CURVE_BEZIER:this.setCurve(r,n,t.readFloat(),t.readFloat(),t.readFloat(),t.readFloat())}},e.prototype.setCurve=function(t,e,n,r,i,a){t.setCurve(e,n,r,i,a)},e.AttachmentTypeValues=[0,1,2,3,4,5,6],e.TransformModeValues=[t.TransformMode.Normal,t.TransformMode.OnlyTranslation,t.TransformMode.NoRotationOrReflection,t.TransformMode.NoScale,t.TransformMode.NoScaleOrReflection],e.PositionModeValues=[t.PositionMode.Fixed,t.PositionMode.Percent],e.SpacingModeValues=[t.SpacingMode.Length,t.SpacingMode.Fixed,t.SpacingMode.Percent],e.RotateModeValues=[t.RotateMode.Tangent,t.RotateMode.Chain,t.RotateMode.ChainScale],e.BlendModeValues=[t.BlendMode.Normal,t.BlendMode.Additive,t.BlendMode.Multiply,t.BlendMode.Screen],e.BONE_ROTATE=0,e.BONE_TRANSLATE=1,e.BONE_SCALE=2,e.BONE_SHEAR=3,e.SLOT_ATTACHMENT=0,e.SLOT_COLOR=1,e.SLOT_TWO_COLOR=2,e.PATH_POSITION=0,e.PATH_SPACING=1,e.PATH_MIX=2,e.CURVE_LINEAR=0,e.CURVE_STEPPED=1,e.CURVE_BEZIER=2,e}();t.SkeletonBinary=e;var n=function(){function t(t,e,n,r){void 0===e&&(e=new Array),void 0===n&&(n=0),void 0===r&&(r=new DataView(t.buffer)),this.strings=e,this.index=n,this.buffer=r}return t.prototype.readByte=function(){return this.buffer.getInt8(this.index++)},t.prototype.readShort=function(){var t=this.buffer.getInt16(this.index);return this.index+=2,t},t.prototype.readInt32=function(){var t=this.buffer.getInt32(this.index);return this.index+=4,t},t.prototype.readInt=function(t){var e=this.readByte(),n=127&e;return 0!=(128&e)&&(n|=(127&(e=this.readByte()))<<7,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<14,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<21,0!=(128&e)&&(n|=(127&(e=this.readByte()))<<28)))),t?n:n>>>1^-(1&n)},t.prototype.readStringRef=function(){var t=this.readInt(!0);return 0==t?null:this.strings[t-1]},t.prototype.readString=function(){var t=this.readInt(!0);switch(t){case 0:return null;case 1:return""}t--;for(var e="",n=0;n<t;){var r=this.readByte();switch(r>>4){case 12:case 13:e+=String.fromCharCode((31&r)<<6|63&this.readByte()),n+=2;break;case 14:e+=String.fromCharCode((15&r)<<12|(63&this.readByte())<<6|63&this.readByte()),n+=3;break;default:e+=String.fromCharCode(r),n++}}return e},t.prototype.readFloat=function(){var t=this.buffer.getFloat32(this.index);return this.index+=4,t},t.prototype.readBoolean=function(){return 0!=this.readByte()},t}(),r=function(t,e,n,r,i){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=r,this.inheritDeform=i},i=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.bones=t,this.vertices=e}}(i||(i={})),function(t){var e=function(){function e(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new t.Pool((function(){return t.Utils.newFloatArray(16)}))}return e.prototype.update=function(e,n){if(null==e)throw new Error("skeleton cannot be null.");var r=this.boundingBoxes,i=this.polygons,a=this.polygonPool,o=e.slots,s=o.length;r.length=0,a.freeAll(i),i.length=0;for(var u=0;u<s;u++){var c=o[u];if(c.bone.active){var l=c.getAttachment();if(l instanceof t.BoundingBoxAttachment){var h=l;r.push(h);var d=a.obtain();d.length!=h.worldVerticesLength&&(d=t.Utils.newFloatArray(h.worldVerticesLength)),i.push(d),h.computeWorldVertices(c,0,h.worldVerticesLength,d,0,2)}}}n?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)},e.prototype.aabbCompute=function(){for(var t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,i=this.polygons,a=0,o=i.length;a<o;a++)for(var s=i[a],u=s,c=0,l=s.length;c<l;c+=2){var h=u[c],d=u[c+1];t=Math.min(t,h),e=Math.min(e,d),n=Math.max(n,h),r=Math.max(r,d)}this.minX=t,this.minY=e,this.maxX=n,this.maxY=r},e.prototype.aabbContainsPoint=function(t,e){return t>=this.minX&&t<=this.maxX&&e>=this.minY&&e<=this.maxY},e.prototype.aabbIntersectsSegment=function(t,e,n,r){var i=this.minX,a=this.minY,o=this.maxX,s=this.maxY;if(t<=i&&n<=i||e<=a&&r<=a||t>=o&&n>=o||e>=s&&r>=s)return!1;var u=(r-e)/(n-t),c=u*(i-t)+e;if(c>a&&c<s)return!0;if((c=u*(o-t)+e)>a&&c<s)return!0;var l=(a-e)/u+t;return l>i&&l<o||(l=(s-e)/u+t)>i&&l<o},e.prototype.aabbIntersectsSkeleton=function(t){return this.minX<t.maxX&&this.maxX>t.minX&&this.minY<t.maxY&&this.maxY>t.minY},e.prototype.containsPoint=function(t,e){for(var n=this.polygons,r=0,i=n.length;r<i;r++)if(this.containsPointPolygon(n[r],t,e))return this.boundingBoxes[r];return null},e.prototype.containsPointPolygon=function(t,e,n){for(var r=t,i=t.length,a=i-2,o=!1,s=0;s<i;s+=2){var u=r[s+1],c=r[a+1];if(u<n&&c>=n||c<n&&u>=n){var l=r[s];l+(n-u)/(c-u)*(r[a]-l)<e&&(o=!o)}a=s}return o},e.prototype.intersectsSegment=function(t,e,n,r){for(var i=this.polygons,a=0,o=i.length;a<o;a++)if(this.intersectsSegmentPolygon(i[a],t,e,n,r))return this.boundingBoxes[a];return null},e.prototype.intersectsSegmentPolygon=function(t,e,n,r,i){for(var a=t,o=t.length,s=e-r,u=n-i,c=e*i-n*r,l=a[o-2],h=a[o-1],d=0;d<o;d+=2){var p=a[d],f=a[d+1],m=l*f-h*p,g=l-p,y=h-f,v=s*y-u*g,b=(c*g-s*m)/v;if((b>=l&&b<=p||b>=p&&b<=l)&&(b>=e&&b<=r||b>=r&&b<=e)){var _=(c*y-u*m)/v;if((_>=h&&_<=f||_>=f&&_<=h)&&(_>=n&&_<=i||_>=i&&_<=n))return!0}l=p,h=f}return!1},e.prototype.getPolygon=function(t){if(null==t)throw new Error("boundingBox cannot be null.");var e=this.boundingBoxes.indexOf(t);return-1==e?null:this.polygons[e]},e.prototype.getWidth=function(){return this.maxX-this.minX},e.prototype.getHeight=function(){return this.maxY-this.minY},e}();t.SkeletonBounds=e}(i||(i={})),function(t){var e=function(){function e(){this.triangulator=new t.Triangulator,this.clippingPolygon=new Array,this.clipOutput=new Array,this.clippedVertices=new Array,this.clippedTriangles=new Array,this.scratch=new Array}return e.prototype.clipStart=function(n,r){if(null!=this.clipAttachment)return 0;this.clipAttachment=r;var i=r.worldVerticesLength,a=t.Utils.setArraySize(this.clippingPolygon,i);r.computeWorldVertices(n,0,i,a,0,2);var o=this.clippingPolygon;e.makeClockwise(o);for(var s=this.clippingPolygons=this.triangulator.decompose(o,this.triangulator.triangulate(o)),u=0,c=s.length;u<c;u++){var l=s[u];e.makeClockwise(l),l.push(l[0]),l.push(l[1])}return s.length},e.prototype.clipEndWithSlot=function(t){null!=this.clipAttachment&&this.clipAttachment.endSlot==t.data&&this.clipEnd()},e.prototype.clipEnd=function(){null!=this.clipAttachment&&(this.clipAttachment=null,this.clippingPolygons=null,this.clippedVertices.length=0,this.clippedTriangles.length=0,this.clippingPolygon.length=0)},e.prototype.isClipping=function(){return null!=this.clipAttachment},e.prototype.clipTriangles=function(e,n,r,i,a,o,s,u){var c=this.clipOutput,l=this.clippedVertices,h=this.clippedTriangles,d=this.clippingPolygons,p=this.clippingPolygons.length,f=u?12:8,m=0;l.length=0,h.length=0;t:for(var g=0;g<i;g+=3)for(var y=r[g]<<1,v=e[y],b=e[y+1],_=a[y],w=a[y+1],x=e[y=r[g+1]<<1],S=e[y+1],T=a[y],M=a[y+1],E=e[y=r[g+2]<<1],A=e[y+1],k=a[y],C=a[y+1],O=0;O<p;O++){var L=l.length;if(!this.clip(v,b,x,S,E,A,d[O],c)){(U=t.Utils.setArraySize(l,L+3*f))[L]=v,U[L+1]=b,U[L+2]=o.r,U[L+3]=o.g,U[L+4]=o.b,U[L+5]=o.a,u?(U[L+6]=_,U[L+7]=w,U[L+8]=s.r,U[L+9]=s.g,U[L+10]=s.b,U[L+11]=s.a,U[L+12]=x,U[L+13]=S,U[L+14]=o.r,U[L+15]=o.g,U[L+16]=o.b,U[L+17]=o.a,U[L+18]=T,U[L+19]=M,U[L+20]=s.r,U[L+21]=s.g,U[L+22]=s.b,U[L+23]=s.a,U[L+24]=E,U[L+25]=A,U[L+26]=o.r,U[L+27]=o.g,U[L+28]=o.b,U[L+29]=o.a,U[L+30]=k,U[L+31]=C,U[L+32]=s.r,U[L+33]=s.g,U[L+34]=s.b,U[L+35]=s.a):(U[L+6]=_,U[L+7]=w,U[L+8]=x,U[L+9]=S,U[L+10]=o.r,U[L+11]=o.g,U[L+12]=o.b,U[L+13]=o.a,U[L+14]=T,U[L+15]=M,U[L+16]=E,U[L+17]=A,U[L+18]=o.r,U[L+19]=o.g,U[L+20]=o.b,U[L+21]=o.a,U[L+22]=k,U[L+23]=C),L=h.length,(q=t.Utils.setArraySize(h,L+3))[L]=m,q[L+1]=m+1,q[L+2]=m+2,m+=3;continue t}var R=c.length;if(0!=R){for(var P=S-A,D=E-x,I=v-E,B=A-b,N=1/(P*I+D*(b-A)),j=R>>1,F=this.clipOutput,U=t.Utils.setArraySize(l,L+j*f),Y=0;Y<R;Y+=2){var G=F[Y],H=F[Y+1];U[L]=G,U[L+1]=H,U[L+2]=o.r,U[L+3]=o.g,U[L+4]=o.b,U[L+5]=o.a;var z=G-E,V=H-A,W=(P*z+D*V)*N,X=(B*z+I*V)*N,K=1-W-X;U[L+6]=_*W+T*X+k*K,U[L+7]=w*W+M*X+C*K,u&&(U[L+8]=s.r,U[L+9]=s.g,U[L+10]=s.b,U[L+11]=s.a),L+=f}L=h.length;var q=t.Utils.setArraySize(h,L+3*(j-2));j--;for(Y=1;Y<j;Y++)q[L]=m,q[L+1]=m+Y,q[L+2]=m+Y+1,L+=3;m+=j+1}}},e.prototype.clip=function(t,e,n,r,i,a,o,s){var u=s,c=!1,l=null;o.length%4>=2?(l=s,s=this.scratch):l=this.scratch,l.length=0,l.push(t),l.push(e),l.push(n),l.push(r),l.push(i),l.push(a),l.push(t),l.push(e),s.length=0;for(var h=o,d=o.length-4,p=0;;p+=2){for(var f=h[p],m=h[p+1],g=h[p+2],y=h[p+3],v=f-g,b=m-y,_=l,w=l.length-2,x=s.length,S=0;S<w;S+=2){var T=_[S],M=_[S+1],E=_[S+2],A=_[S+3],k=v*(A-y)-b*(E-g)>0;if(v*(M-y)-b*(T-g)>0){if(k){s.push(E),s.push(A);continue}var C=(L=A-M)*(g-f)-(R=E-T)*(y-m);if(Math.abs(C)>1e-6){var O=(R*(m-M)-L*(f-T))/C;s.push(f+(g-f)*O),s.push(m+(y-m)*O)}else s.push(f),s.push(m)}else if(k){var L,R;C=(L=A-M)*(g-f)-(R=E-T)*(y-m);if(Math.abs(C)>1e-6){O=(R*(m-M)-L*(f-T))/C;s.push(f+(g-f)*O),s.push(m+(y-m)*O)}else s.push(f),s.push(m);s.push(E),s.push(A)}c=!0}if(x==s.length)return u.length=0,!0;if(s.push(s[0]),s.push(s[1]),p==d)break;var P=s;(s=l).length=0,l=P}if(u!=s){u.length=0;p=0;for(var D=s.length-2;p<D;p++)u[p]=s[p]}else u.length=u.length-2;return c},e.makeClockwise=function(t){for(var e=t,n=t.length,r=e[n-2]*e[1]-e[0]*e[n-1],i=0,a=0,o=0,s=0,u=n-3;s<u;s+=2)i=e[s],a=e[s+1],o=e[s+2],r+=i*e[s+3]-o*a;if(!(r<0)){s=0;var c=n-2;for(u=n>>1;s<u;s+=2){var l=e[s],h=e[s+1],d=c-s;e[s]=e[d],e[s+1]=e[d+1],e[d]=l,e[d+1]=h}}},e}();t.SkeletonClipping=e}(i||(i={})),function(t){var e=function(){function t(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}return t.prototype.findBone=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findBoneIndex=function(t){if(null==t)throw new Error("boneName cannot be null.");for(var e=this.bones,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},t.prototype.findSlot=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findSlotIndex=function(t){if(null==t)throw new Error("slotName cannot be null.");for(var e=this.slots,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},t.prototype.findSkin=function(t){if(null==t)throw new Error("skinName cannot be null.");for(var e=this.skins,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findEvent=function(t){if(null==t)throw new Error("eventDataName cannot be null.");for(var e=this.events,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findAnimation=function(t){if(null==t)throw new Error("animationName cannot be null.");for(var e=this.animations,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findIkConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.ikConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findTransformConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.transformConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findPathConstraint=function(t){if(null==t)throw new Error("constraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++){var i=e[n];if(i.name==t)return i}return null},t.prototype.findPathConstraintIndex=function(t){if(null==t)throw new Error("pathConstraintName cannot be null.");for(var e=this.pathConstraints,n=0,r=e.length;n<r;n++)if(e[n].name==t)return n;return-1},t}();t.SkeletonData=e}(i||(i={})),function(t){var e=function(){function e(t){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=t}return e.prototype.readSkeletonData=function(n){var r=this.scale,i=new t.SkeletonData,a="string"==typeof n?JSON.parse(n):n,o=a.skeleton;if(null!=o){if(i.hash=o.hash,i.version=o.spine,"3.8.75"==i.version)throw new Error("Unsupported skeleton data, please export with a newer version of Spine.");i.x=o.x,i.y=o.y,i.width=o.width,i.height=o.height,i.fps=o.fps,i.imagesPath=o.images}if(a.bones)for(var s=0;s<a.bones.length;s++){var u=a.bones[s],c=null,l=this.getValue(u,"parent",null);if(null!=l&&null==(c=i.findBone(l)))throw new Error("Parent bone not found: "+l);(f=new t.BoneData(i.bones.length,u.name,c)).length=this.getValue(u,"length",0)*r,f.x=this.getValue(u,"x",0)*r,f.y=this.getValue(u,"y",0)*r,f.rotation=this.getValue(u,"rotation",0),f.scaleX=this.getValue(u,"scaleX",1),f.scaleY=this.getValue(u,"scaleY",1),f.shearX=this.getValue(u,"shearX",0),f.shearY=this.getValue(u,"shearY",0),f.transformMode=e.transformModeFromString(this.getValue(u,"transform","normal")),f.skinRequired=this.getValue(u,"skin",!1),i.bones.push(f)}if(a.slots)for(s=0;s<a.slots.length;s++){var h=(E=a.slots[s]).name,d=E.bone,p=i.findBone(d);if(null==p)throw new Error("Slot bone not found: "+d);var f=new t.SlotData(i.slots.length,h,p),m=this.getValue(E,"color",null);null!=m&&f.color.setFromString(m);var g=this.getValue(E,"dark",null);null!=g&&(f.darkColor=new t.Color(1,1,1,1),f.darkColor.setFromString(g)),f.attachmentName=this.getValue(E,"attachment",null),f.blendMode=e.blendModeFromString(this.getValue(E,"blend","normal")),i.slots.push(f)}if(a.ik)for(s=0;s<a.ik.length;s++){var y=a.ik[s];(f=new t.IkConstraintData(y.name)).order=this.getValue(y,"order",0),f.skinRequired=this.getValue(y,"skin",!1);for(var v=0;v<y.bones.length;v++){d=y.bones[v];if(null==(S=i.findBone(d)))throw new Error("IK bone not found: "+d);f.bones.push(S)}var b=y.target;if(f.target=i.findBone(b),null==f.target)throw new Error("IK target bone not found: "+b);f.mix=this.getValue(y,"mix",1),f.softness=this.getValue(y,"softness",0)*r,f.bendDirection=this.getValue(y,"bendPositive",!0)?1:-1,f.compress=this.getValue(y,"compress",!1),f.stretch=this.getValue(y,"stretch",!1),f.uniform=this.getValue(y,"uniform",!1),i.ikConstraints.push(f)}if(a.transform)for(s=0;s<a.transform.length;s++){y=a.transform[s];(f=new t.TransformConstraintData(y.name)).order=this.getValue(y,"order",0),f.skinRequired=this.getValue(y,"skin",!1);for(v=0;v<y.bones.length;v++){d=y.bones[v];if(null==(S=i.findBone(d)))throw new Error("Transform constraint bone not found: "+d);f.bones.push(S)}b=y.target;if(f.target=i.findBone(b),null==f.target)throw new Error("Transform constraint target bone not found: "+b);f.local=this.getValue(y,"local",!1),f.relative=this.getValue(y,"relative",!1),f.offsetRotation=this.getValue(y,"rotation",0),f.offsetX=this.getValue(y,"x",0)*r,f.offsetY=this.getValue(y,"y",0)*r,f.offsetScaleX=this.getValue(y,"scaleX",0),f.offsetScaleY=this.getValue(y,"scaleY",0),f.offsetShearY=this.getValue(y,"shearY",0),f.rotateMix=this.getValue(y,"rotateMix",1),f.translateMix=this.getValue(y,"translateMix",1),f.scaleMix=this.getValue(y,"scaleMix",1),f.shearMix=this.getValue(y,"shearMix",1),i.transformConstraints.push(f)}if(a.path)for(s=0;s<a.path.length;s++){y=a.path[s];(f=new t.PathConstraintData(y.name)).order=this.getValue(y,"order",0),f.skinRequired=this.getValue(y,"skin",!1);for(v=0;v<y.bones.length;v++){d=y.bones[v];if(null==(S=i.findBone(d)))throw new Error("Transform constraint bone not found: "+d);f.bones.push(S)}b=y.target;if(f.target=i.findSlot(b),null==f.target)throw new Error("Path target slot not found: "+b);f.positionMode=e.positionModeFromString(this.getValue(y,"positionMode","percent")),f.spacingMode=e.spacingModeFromString(this.getValue(y,"spacingMode","length")),f.rotateMode=e.rotateModeFromString(this.getValue(y,"rotateMode","tangent")),f.offsetRotation=this.getValue(y,"rotation",0),f.position=this.getValue(y,"position",0),f.positionMode==t.PositionMode.Fixed&&(f.position*=r),f.spacing=this.getValue(y,"spacing",0),f.spacingMode!=t.SpacingMode.Length&&f.spacingMode!=t.SpacingMode.Fixed||(f.spacing*=r),f.rotateMix=this.getValue(y,"rotateMix",1),f.translateMix=this.getValue(y,"translateMix",1),i.pathConstraints.push(f)}if(a.skins)for(s=0;s<a.skins.length;s++){var _=a.skins[s],w=new t.Skin(_.name);if(_.bones)for(var x=0;x<_.bones.length;x++){var S;if(null==(S=i.findBone(_.bones[x])))throw new Error("Skin bone not found: "+_.bones[s]);w.bones.push(S)}if(_.ik)for(x=0;x<_.ik.length;x++){if(null==(T=i.findIkConstraint(_.ik[x])))throw new Error("Skin IK constraint not found: "+_.ik[s]);w.constraints.push(T)}if(_.transform)for(x=0;x<_.transform.length;x++){if(null==(T=i.findTransformConstraint(_.transform[x])))throw new Error("Skin transform constraint not found: "+_.transform[s]);w.constraints.push(T)}if(_.path)for(x=0;x<_.path.length;x++){var T;if(null==(T=i.findPathConstraint(_.path[x])))throw new Error("Skin path constraint not found: "+_.path[s]);w.constraints.push(T)}for(var h in _.attachments){var M=i.findSlot(h);if(null==M)throw new Error("Slot not found: "+h);var E=_.attachments[h];for(var A in E){var k=this.readAttachment(E[A],w,M.index,A,i);null!=k&&w.setAttachment(M.index,A,k)}}i.skins.push(w),"default"==w.name&&(i.defaultSkin=w)}s=0;for(var C=this.linkedMeshes.length;s<C;s++){var O=this.linkedMeshes[s];if(null==(w=null==O.skin?i.defaultSkin:i.findSkin(O.skin)))throw new Error("Skin not found: "+O.skin);var L=w.getAttachment(O.slotIndex,O.parent);if(null==L)throw new Error("Parent mesh not found: "+O.parent);O.mesh.deformAttachment=O.inheritDeform?L:O.mesh,O.mesh.setParentMesh(L),O.mesh.updateUVs()}if(this.linkedMeshes.length=0,a.events)for(var R in a.events){var P=a.events[R];(f=new t.EventData(R)).intValue=this.getValue(P,"int",0),f.floatValue=this.getValue(P,"float",0),f.stringValue=this.getValue(P,"string",""),f.audioPath=this.getValue(P,"audio",null),null!=f.audioPath&&(f.volume=this.getValue(P,"volume",1),f.balance=this.getValue(P,"balance",0)),i.events.push(f)}if(a.animations)for(var D in a.animations){var I=a.animations[D];this.readAnimation(I,D,i)}return i},e.prototype.readAttachment=function(e,r,i,a,o){var s=this.scale;switch(a=this.getValue(e,"name",a),this.getValue(e,"type","region")){case"region":var u=this.getValue(e,"path",a),c=this.attachmentLoader.newRegionAttachment(r,a,u);return null==c?null:(c.path=u,c.x=this.getValue(e,"x",0)*s,c.y=this.getValue(e,"y",0)*s,c.scaleX=this.getValue(e,"scaleX",1),c.scaleY=this.getValue(e,"scaleY",1),c.rotation=this.getValue(e,"rotation",0),c.width=e.width*s,c.height=e.height*s,null!=(w=this.getValue(e,"color",null))&&c.color.setFromString(w),c.updateOffset(),c);case"boundingbox":var l=this.attachmentLoader.newBoundingBoxAttachment(r,a);return null==l?null:(this.readVertices(e,l,e.vertexCount<<1),null!=(w=this.getValue(e,"color",null))&&l.color.setFromString(w),l);case"mesh":case"linkedmesh":u=this.getValue(e,"path",a);var h=this.attachmentLoader.newMeshAttachment(r,a,u);if(null==h)return null;h.path=u,null!=(w=this.getValue(e,"color",null))&&h.color.setFromString(w),h.width=this.getValue(e,"width",0)*s,h.height=this.getValue(e,"height",0)*s;var d=this.getValue(e,"parent",null);if(null!=d)return this.linkedMeshes.push(new n(h,this.getValue(e,"skin",null),i,d,this.getValue(e,"deform",!0))),h;var p=e.uvs;return this.readVertices(e,h,p.length),h.triangles=e.triangles,h.regionUVs=p,h.updateUVs(),h.edges=this.getValue(e,"edges",null),h.hullLength=2*this.getValue(e,"hull",0),h;case"path":if(null==(u=this.attachmentLoader.newPathAttachment(r,a)))return null;u.closed=this.getValue(e,"closed",!1),u.constantSpeed=this.getValue(e,"constantSpeed",!0);var f=e.vertexCount;this.readVertices(e,u,f<<1);for(var m=t.Utils.newArray(f/3,0),g=0;g<e.lengths.length;g++)m[g]=e.lengths[g]*s;return u.lengths=m,null!=(w=this.getValue(e,"color",null))&&u.color.setFromString(w),u;case"point":var y=this.attachmentLoader.newPointAttachment(r,a);return null==y?null:(y.x=this.getValue(e,"x",0)*s,y.y=this.getValue(e,"y",0)*s,y.rotation=this.getValue(e,"rotation",0),null!=(w=this.getValue(e,"color",null))&&y.color.setFromString(w),y);case"clipping":var v=this.attachmentLoader.newClippingAttachment(r,a);if(null==v)return null;var b=this.getValue(e,"end",null);if(null!=b){var _=o.findSlot(b);if(null==_)throw new Error("Clipping end slot not found: "+b);v.endSlot=_}var w;f=e.vertexCount;return this.readVertices(e,v,f<<1),null!=(w=this.getValue(e,"color",null))&&v.color.setFromString(w),v}return null},e.prototype.readVertices=function(e,n,r){var i=this.scale;n.worldVerticesLength=r;var a=e.vertices;if(r!=a.length){var o=new Array,s=new Array;for(h=0,d=a.length;h<d;){var u=a[h++];s.push(u);for(var c=h+4*u;h<c;h+=4)s.push(a[h]),o.push(a[h+1]*i),o.push(a[h+2]*i),o.push(a[h+3])}n.bones=s,n.vertices=t.Utils.toFloatArray(o)}else{var l=t.Utils.toFloatArray(a);if(1!=i)for(var h=0,d=a.length;h<d;h++)l[h]*=i;n.vertices=l}},e.prototype.readAnimation=function(e,n,r){var i=this.scale,a=new Array,o=0;if(e.slots)for(var s in e.slots){var u=e.slots[s];if(-1==(Z=r.findSlotIndex(s)))throw new Error("Slot not found: "+s);for(var c in u){var l=u[c];if("attachment"==c){(_=new t.AttachmentTimeline(l.length)).slotIndex=Z;for(var h=0,d=0;d<l.length;d++){var p=l[d];_.setFrame(h++,this.getValue(p,"time",0),p.name)}a.push(_),o=Math.max(o,_.frames[_.getFrameCount()-1])}else if("color"==c){(_=new t.ColorTimeline(l.length)).slotIndex=Z;for(h=0,d=0;d<l.length;d++){p=l[d];var f=new t.Color;f.setFromString(p.color),_.setFrame(h,this.getValue(p,"time",0),f.r,f.g,f.b,f.a),this.readCurve(p,_,h),h++}a.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*t.ColorTimeline.ENTRIES])}else{if("twoColor"!=c)throw new Error("Invalid timeline type for a slot: "+c+" ("+s+")");(_=new t.TwoColorTimeline(l.length)).slotIndex=Z;for(h=0,d=0;d<l.length;d++){p=l[d];var m=new t.Color,g=new t.Color;m.setFromString(p.light),g.setFromString(p.dark),_.setFrame(h,this.getValue(p,"time",0),m.r,m.g,m.b,m.a,g.r,g.g,g.b),this.readCurve(p,_,h),h++}a.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*t.TwoColorTimeline.ENTRIES])}}}if(e.bones)for(var y in e.bones){var v=e.bones[y],b=r.findBoneIndex(y);if(-1==b)throw new Error("Bone not found: "+y);for(var c in v){l=v[c];if("rotate"===c){(_=new t.RotateTimeline(l.length)).boneIndex=b;for(h=0,d=0;d<l.length;d++){p=l[d];_.setFrame(h,this.getValue(p,"time",0),this.getValue(p,"angle",0)),this.readCurve(p,_,h),h++}a.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*t.RotateTimeline.ENTRIES])}else{if("translate"!==c&&"scale"!==c&&"shear"!==c)throw new Error("Invalid timeline type for a bone: "+c+" ("+y+")");var _=null,w=1,x=0;"scale"===c?(_=new t.ScaleTimeline(l.length),x=1):"shear"===c?_=new t.ShearTimeline(l.length):(_=new t.TranslateTimeline(l.length),w=i),_.boneIndex=b;for(h=0,d=0;d<l.length;d++){p=l[d];var S=this.getValue(p,"x",x),T=this.getValue(p,"y",x);_.setFrame(h,this.getValue(p,"time",0),S*w,T*w),this.readCurve(p,_,h),h++}a.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*t.TranslateTimeline.ENTRIES])}}}if(e.ik)for(var M in e.ik){var E=e.ik[M],A=r.findIkConstraint(M);(_=new t.IkConstraintTimeline(E.length)).ikConstraintIndex=r.ikConstraints.indexOf(A);for(h=0,d=0;d<E.length;d++){p=E[d];_.setFrame(h,this.getValue(p,"time",0),this.getValue(p,"mix",1),this.getValue(p,"softness",0)*i,this.getValue(p,"bendPositive",!0)?1:-1,this.getValue(p,"compress",!1),this.getValue(p,"stretch",!1)),this.readCurve(p,_,h),h++}a.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*t.IkConstraintTimeline.ENTRIES])}if(e.transform)for(var M in e.transform){E=e.transform[M],A=r.findTransformConstraint(M);(_=new t.TransformConstraintTimeline(E.length)).transformConstraintIndex=r.transformConstraints.indexOf(A);for(h=0,d=0;d<E.length;d++){p=E[d];_.setFrame(h,this.getValue(p,"time",0),this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1),this.getValue(p,"scaleMix",1),this.getValue(p,"shearMix",1)),this.readCurve(p,_,h),h++}a.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*t.TransformConstraintTimeline.ENTRIES])}if(e.path)for(var M in e.path){E=e.path[M];var k=r.findPathConstraintIndex(M);if(-1==k)throw new Error("Path constraint not found: "+M);var C=r.pathConstraints[k];for(var c in E){l=E[c];if("position"===c||"spacing"===c){_=null,w=1;"spacing"===c?(_=new t.PathConstraintSpacingTimeline(l.length),C.spacingMode!=t.SpacingMode.Length&&C.spacingMode!=t.SpacingMode.Fixed||(w=i)):(_=new t.PathConstraintPositionTimeline(l.length),C.positionMode==t.PositionMode.Fixed&&(w=i)),_.pathConstraintIndex=k;for(h=0,d=0;d<l.length;d++){p=l[d];_.setFrame(h,this.getValue(p,"time",0),this.getValue(p,c,0)*w),this.readCurve(p,_,h),h++}a.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*t.PathConstraintPositionTimeline.ENTRIES])}else if("mix"===c){(_=new t.PathConstraintMixTimeline(l.length)).pathConstraintIndex=k;for(h=0,d=0;d<l.length;d++){p=l[d];_.setFrame(h,this.getValue(p,"time",0),this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1)),this.readCurve(p,_,h),h++}a.push(_),o=Math.max(o,_.frames[(_.getFrameCount()-1)*t.PathConstraintMixTimeline.ENTRIES])}}}if(e.deform)for(var O in e.deform){var L=e.deform[O],R=r.findSkin(O);if(null==R)throw new Error("Skin not found: "+O);for(var s in L){u=L[s];if(-1==(Z=r.findSlotIndex(s)))throw new Error("Slot not found: "+u.name);for(var c in u){l=u[c];var P=R.getAttachment(Z,c);if(null==P)throw new Error("Deform attachment not found: "+l.name);var D=null!=P.bones,I=P.vertices,B=D?I.length/3*2:I.length;(_=new t.DeformTimeline(l.length)).slotIndex=Z,_.attachment=P;h=0;for(var N=0;N<l.length;N++){p=l[N];var j=void 0,F=this.getValue(p,"vertices",null);if(null==F)j=D?t.Utils.newFloatArray(B):I;else{j=t.Utils.newFloatArray(B);var U=this.getValue(p,"offset",0);if(t.Utils.arrayCopy(F,0,j,U,F.length),1!=i)for(var Y=(d=U)+F.length;d<Y;d++)j[d]*=i;if(!D)for(d=0;d<B;d++)j[d]+=I[d]}_.setFrame(h,this.getValue(p,"time",0),j),this.readCurve(p,_,h),h++}a.push(_),o=Math.max(o,_.frames[_.getFrameCount()-1])}}}var G=e.drawOrder;if(null==G&&(G=e.draworder),null!=G){_=new t.DrawOrderTimeline(G.length);var H=r.slots.length;for(h=0,N=0;N<G.length;N++){var z=G[N],V=null,W=this.getValue(z,"offsets",null);if(null!=W){V=t.Utils.newArray(H,-1);var X=t.Utils.newArray(H-W.length,0),K=0,q=0;for(d=0;d<W.length;d++){var Z,J=W[d];if(-1==(Z=r.findSlotIndex(J.slot)))throw new Error("Slot not found: "+J.slot);for(;K!=Z;)X[q++]=K++;V[K+J.offset]=K++}for(;K<H;)X[q++]=K++;for(d=H-1;d>=0;d--)-1==V[d]&&(V[d]=X[--q])}_.setFrame(h++,this.getValue(z,"time",0),V)}a.push(_),o=Math.max(o,_.frames[_.getFrameCount()-1])}if(e.events){for(_=new t.EventTimeline(e.events.length),h=0,d=0;d<e.events.length;d++){var Q=e.events[d],$=r.findEvent(Q.name);if(null==$)throw new Error("Event not found: "+Q.name);var tt=new t.Event(t.Utils.toSinglePrecision(this.getValue(Q,"time",0)),$);tt.intValue=this.getValue(Q,"int",$.intValue),tt.floatValue=this.getValue(Q,"float",$.floatValue),tt.stringValue=this.getValue(Q,"string",$.stringValue),null!=tt.data.audioPath&&(tt.volume=this.getValue(Q,"volume",1),tt.balance=this.getValue(Q,"balance",0)),_.setFrame(h++,tt)}a.push(_),o=Math.max(o,_.frames[_.getFrameCount()-1])}if(isNaN(o))throw new Error("Error while parsing animation, duration is NaN");r.animations.push(new t.Animation(n,a,o))},e.prototype.readCurve=function(t,e,n){if(t.hasOwnProperty("curve"))if("stepped"==t.curve)e.setStepped(n);else{var r=t.curve;e.setCurve(n,r,this.getValue(t,"c2",0),this.getValue(t,"c3",1),this.getValue(t,"c4",1))}},e.prototype.getValue=function(t,e,n){return void 0!==t[e]?t[e]:n},e.blendModeFromString=function(e){if("normal"==(e=e.toLowerCase()))return t.BlendMode.Normal;if("additive"==e)return t.BlendMode.Additive;if("multiply"==e)return t.BlendMode.Multiply;if("screen"==e)return t.BlendMode.Screen;throw new Error("Unknown blend mode: "+e)},e.positionModeFromString=function(e){if("fixed"==(e=e.toLowerCase()))return t.PositionMode.Fixed;if("percent"==e)return t.PositionMode.Percent;throw new Error("Unknown position mode: "+e)},e.spacingModeFromString=function(e){if("length"==(e=e.toLowerCase()))return t.SpacingMode.Length;if("fixed"==e)return t.SpacingMode.Fixed;if("percent"==e)return t.SpacingMode.Percent;throw new Error("Unknown position mode: "+e)},e.rotateModeFromString=function(e){if("tangent"==(e=e.toLowerCase()))return t.RotateMode.Tangent;if("chain"==e)return t.RotateMode.Chain;if("chainscale"==e)return t.RotateMode.ChainScale;throw new Error("Unknown rotate mode: "+e)},e.transformModeFromString=function(e){if("normal"==(e=e.toLowerCase()))return t.TransformMode.Normal;if("onlytranslation"==e)return t.TransformMode.OnlyTranslation;if("norotationorreflection"==e)return t.TransformMode.NoRotationOrReflection;if("noscale"==e)return t.TransformMode.NoScale;if("noscaleorreflection"==e)return t.TransformMode.NoScaleOrReflection;throw new Error("Unknown transform mode: "+e)},e}();t.SkeletonJson=e;var n=function(t,e,n,r,i){this.mesh=t,this.skin=e,this.slotIndex=n,this.parent=r,this.inheritDeform=i}}(i||(i={})),function(t){var e=function(t,e,n){this.slotIndex=t,this.name=e,this.attachment=n};t.SkinEntry=e;var n=function(){function n(t){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,null==t)throw new Error("name cannot be null.");this.name=t}return n.prototype.setAttachment=function(t,e,n){if(null==n)throw new Error("attachment cannot be null.");var r=this.attachments;t>=r.length&&(r.length=t+1),r[t]||(r[t]={}),r[t][e]=n},n.prototype.addSkin=function(t){for(var e=0;e<t.bones.length;e++){for(var n=t.bones[e],r=!1,i=0;i<this.bones.length;i++)if(this.bones[i]==n){r=!0;break}r||this.bones.push(n)}for(e=0;e<t.constraints.length;e++){var a=t.constraints[e];for(r=!1,i=0;i<this.constraints.length;i++)if(this.constraints[i]==a){r=!0;break}r||this.constraints.push(a)}var o=t.getAttachments();for(e=0;e<o.length;e++){var s=o[e];this.setAttachment(s.slotIndex,s.name,s.attachment)}},n.prototype.copySkin=function(e){for(var n=0;n<e.bones.length;n++){for(var r=e.bones[n],i=!1,a=0;a<this.bones.length;a++)if(this.bones[a]==r){i=!0;break}i||this.bones.push(r)}for(n=0;n<e.constraints.length;n++){var o=e.constraints[n];for(i=!1,a=0;a<this.constraints.length;a++)if(this.constraints[a]==o){i=!0;break}i||this.constraints.push(o)}var s=e.getAttachments();for(n=0;n<s.length;n++){var u=s[n];null!=u.attachment&&(u.attachment instanceof t.MeshAttachment?(u.attachment=u.attachment.newLinkedMesh(),this.setAttachment(u.slotIndex,u.name,u.attachment)):(u.attachment=u.attachment.copy(),this.setAttachment(u.slotIndex,u.name,u.attachment)))}},n.prototype.getAttachment=function(t,e){var n=this.attachments[t];return n?n[e]:null},n.prototype.removeAttachment=function(t,e){var n=this.attachments[t];n&&(n[e]=null)},n.prototype.getAttachments=function(){for(var t=new Array,n=0;n<this.attachments.length;n++){var r=this.attachments[n];if(r)for(var i in r){var a=r[i];a&&t.push(new e(n,i,a))}}return t},n.prototype.getAttachmentsForSlot=function(t,n){var r=this.attachments[t];if(r)for(var i in r){var a=r[i];a&&n.push(new e(t,i,a))}},n.prototype.clear=function(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0},n.prototype.attachAll=function(t,e){for(var n=0,r=0;r<t.slots.length;r++){var i=t.slots[r],a=i.getAttachment();if(a&&n<e.attachments.length){var o=e.attachments[n];for(var s in o){if(a==o[s]){var u=this.getAttachment(n,s);null!=u&&i.setAttachment(u);break}}}n++}},n}();t.Skin=n}(i||(i={})),function(t){var e=function(){function e(e,n){if(this.deform=new Array,null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("bone cannot be null.");this.data=e,this.bone=n,this.color=new t.Color,this.darkColor=null==e.darkColor?null:new t.Color,this.setToSetupPose()}return e.prototype.getSkeleton=function(){return this.bone.skeleton},e.prototype.getAttachment=function(){return this.attachment},e.prototype.setAttachment=function(t){this.attachment!=t&&(this.attachment=t,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)},e.prototype.setAttachmentTime=function(t){this.attachmentTime=this.bone.skeleton.time-t},e.prototype.getAttachmentTime=function(){return this.bone.skeleton.time-this.attachmentTime},e.prototype.setToSetupPose=function(){this.color.setFromColor(this.data.color),null!=this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),null==this.data.attachmentName?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))},e}();t.Slot=e}(i||(i={})),function(t){var e=function(e,n,r){if(this.color=new t.Color(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(null==n)throw new Error("name cannot be null.");if(null==r)throw new Error("boneData cannot be null.");this.index=e,this.name=n,this.boneData=r};t.SlotData=e}(i||(i={})),function(t){var e,n,r=function(){function t(t){this._image=t}return t.prototype.getImage=function(){return this._image},t.filterFromString=function(t){switch(t.toLowerCase()){case"nearest":return e.Nearest;case"linear":return e.Linear;case"mipmap":return e.MipMap;case"mipmapnearestnearest":return e.MipMapNearestNearest;case"mipmaplinearnearest":return e.MipMapLinearNearest;case"mipmapnearestlinear":return e.MipMapNearestLinear;case"mipmaplinearlinear":return e.MipMapLinearLinear;default:throw new Error("Unknown texture filter "+t)}},t.wrapFromString=function(t){switch(t.toLowerCase()){case"mirroredtepeat":return n.MirroredRepeat;case"clamptoedge":return n.ClampToEdge;case"repeat":return n.Repeat;default:throw new Error("Unknown texture wrap "+t)}},t}();t.Texture=r,function(t){t[t.Nearest=9728]="Nearest",t[t.Linear=9729]="Linear",t[t.MipMap=9987]="MipMap",t[t.MipMapNearestNearest=9984]="MipMapNearestNearest",t[t.MipMapLinearNearest=9985]="MipMapLinearNearest",t[t.MipMapNearestLinear=9986]="MipMapNearestLinear",t[t.MipMapLinearLinear=9987]="MipMapLinearLinear"}(e=t.TextureFilter||(t.TextureFilter={})),function(t){t[t.MirroredRepeat=33648]="MirroredRepeat",t[t.ClampToEdge=33071]="ClampToEdge",t[t.Repeat=10497]="Repeat"}(n=t.TextureWrap||(t.TextureWrap={}));var i=function(){this.u=0,this.v=0,this.u2=0,this.v2=0,this.width=0,this.height=0,this.rotate=!1,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0};t.TextureRegion=i;var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e.prototype.setFilters=function(t,e){},e.prototype.setWraps=function(t,e){},e.prototype.dispose=function(){},e}(r);t.FakeTexture=o}(i||(i={})),function(t){var e=function(){function e(t,e){this.pages=new Array,this.regions=new Array,this.load(t,e)}return e.prototype.load=function(e,a){if(null==a)throw new Error("textureLoader cannot be null.");for(var o=new n(e),s=new Array(4),u=null;;){var c=o.readLine();if(null==c)break;if(0==(c=c.trim()).length)u=null;else if(u){var l=new i;l.name=c,l.page=u;var h=o.readValue();"true"==h.toLocaleLowerCase()?l.degrees=90:"false"==h.toLocaleLowerCase()?l.degrees=0:l.degrees=parseFloat(h),l.rotate=90==l.degrees,o.readTuple(s);var d=parseInt(s[0]),p=parseInt(s[1]);o.readTuple(s);var f=parseInt(s[0]),m=parseInt(s[1]);l.u=d/u.width,l.v=p/u.height,l.rotate?(l.u2=(d+m)/u.width,l.v2=(p+f)/u.height):(l.u2=(d+f)/u.width,l.v2=(p+m)/u.height),l.x=d,l.y=p,l.width=Math.abs(f),l.height=Math.abs(m),4==o.readTuple(s)&&4==o.readTuple(s)&&o.readTuple(s),l.originalWidth=parseInt(s[0]),l.originalHeight=parseInt(s[1]),o.readTuple(s),l.offsetX=parseInt(s[0]),l.offsetY=parseInt(s[1]),l.index=parseInt(o.readValue()),l.texture=u.texture,this.regions.push(l)}else{(u=new r).name=c,2==o.readTuple(s)&&(u.width=parseInt(s[0]),u.height=parseInt(s[1]),o.readTuple(s)),o.readTuple(s),u.minFilter=t.Texture.filterFromString(s[0]),u.magFilter=t.Texture.filterFromString(s[1]);var g=o.readValue();u.uWrap=t.TextureWrap.ClampToEdge,u.vWrap=t.TextureWrap.ClampToEdge,"x"==g?u.uWrap=t.TextureWrap.Repeat:"y"==g?u.vWrap=t.TextureWrap.Repeat:"xy"==g&&(u.uWrap=u.vWrap=t.TextureWrap.Repeat),u.texture=a(c),u.texture.setFilters(u.minFilter,u.magFilter),u.texture.setWraps(u.uWrap,u.vWrap),u.width=u.texture.getImage().width,u.height=u.texture.getImage().height,this.pages.push(u)}}},e.prototype.findRegion=function(t){for(var e=0;e<this.regions.length;e++)if(this.regions[e].name==t)return this.regions[e];return null},e.prototype.dispose=function(){for(var t=0;t<this.pages.length;t++)this.pages[t].texture.dispose()},e}();t.TextureAtlas=e;var n=function(){function t(t){this.index=0,this.lines=t.split(/\r\n|\r|\n/)}return t.prototype.readLine=function(){return this.index>=this.lines.length?null:this.lines[this.index++]},t.prototype.readValue=function(){var t=this.readLine(),e=t.indexOf(":");if(-1==e)throw new Error("Invalid line: "+t);return t.substring(e+1).trim()},t.prototype.readTuple=function(t){var e=this.readLine(),n=e.indexOf(":");if(-1==n)throw new Error("Invalid line: "+e);for(var r=0,i=n+1;r<3;r++){var a=e.indexOf(",",i);if(-1==a)break;t[r]=e.substr(i,a-i).trim(),i=a+1}return t[r]=e.substring(i).trim(),r+1},t}(),r=function(){};t.TextureAtlasPage=r;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return a(e,t),e}(t.TextureRegion);t.TextureAtlasRegion=i}(i||(i={})),function(t){var e=function(){function e(e,n){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new t.Vector2,this.active=!1,null==e)throw new Error("data cannot be null.");if(null==n)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(var r=0;r<e.bones.length;r++)this.bones.push(n.findBone(e.bones[r].name));this.target=n.findBone(e.target.name)}return e.prototype.isActive=function(){return this.active},e.prototype.apply=function(){this.update()},e.prototype.update=function(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()},e.prototype.applyAbsoluteWorld=function(){for(var e=this.rotateMix,n=this.translateMix,r=this.scaleMix,i=this.shearMix,a=this.target,o=a.a,s=a.b,u=a.c,c=a.d,l=o*c-s*u>0?t.MathUtils.degRad:-t.MathUtils.degRad,h=this.data.offsetRotation*l,d=this.data.offsetShearY*l,p=this.bones,f=0,m=p.length;f<m;f++){var g=p[f],y=!1;if(0!=e){var v=g.a,b=g.b,_=g.c,w=g.d;(A=Math.atan2(u,o)-Math.atan2(_,v)+h)>t.MathUtils.PI?A-=t.MathUtils.PI2:A<-t.MathUtils.PI&&(A+=t.MathUtils.PI2),A*=e;var x=Math.cos(A),S=Math.sin(A);g.a=x*v-S*_,g.b=x*b-S*w,g.c=S*v+x*_,g.d=S*b+x*w,y=!0}if(0!=n){var T=this.temp;a.localToWorld(T.set(this.data.offsetX,this.data.offsetY)),g.worldX+=(T.x-g.worldX)*n,g.worldY+=(T.y-g.worldY)*n,y=!0}if(r>0){var M=Math.sqrt(g.a*g.a+g.c*g.c),E=Math.sqrt(o*o+u*u);M>1e-5&&(M=(M+(E-M+this.data.offsetScaleX)*r)/M),g.a*=M,g.c*=M,M=Math.sqrt(g.b*g.b+g.d*g.d),E=Math.sqrt(s*s+c*c),M>1e-5&&(M=(M+(E-M+this.data.offsetScaleY)*r)/M),g.b*=M,g.d*=M,y=!0}if(i>0){b=g.b,w=g.d;var A,k=Math.atan2(w,b);(A=Math.atan2(c,s)-Math.atan2(u,o)-(k-Math.atan2(g.c,g.a)))>t.MathUtils.PI?A-=t.MathUtils.PI2:A<-t.MathUtils.PI&&(A+=t.MathUtils.PI2),A=k+(A+d)*i;M=Math.sqrt(b*b+w*w);g.b=Math.cos(A)*M,g.d=Math.sin(A)*M,y=!0}y&&(g.appliedValid=!1)}},e.prototype.applyRelativeWorld=function(){for(var e=this.rotateMix,n=this.translateMix,r=this.scaleMix,i=this.shearMix,a=this.target,o=a.a,s=a.b,u=a.c,c=a.d,l=o*c-s*u>0?t.MathUtils.degRad:-t.MathUtils.degRad,h=this.data.offsetRotation*l,d=this.data.offsetShearY*l,p=this.bones,f=0,m=p.length;f<m;f++){var g=p[f],y=!1;if(0!=e){var v=g.a,b=g.b,_=g.c,w=g.d;(E=Math.atan2(u,o)+h)>t.MathUtils.PI?E-=t.MathUtils.PI2:E<-t.MathUtils.PI&&(E+=t.MathUtils.PI2),E*=e;var x=Math.cos(E),S=Math.sin(E);g.a=x*v-S*_,g.b=x*b-S*w,g.c=S*v+x*_,g.d=S*b+x*w,y=!0}if(0!=n){var T=this.temp;a.localToWorld(T.set(this.data.offsetX,this.data.offsetY)),g.worldX+=T.x*n,g.worldY+=T.y*n,y=!0}if(r>0){var M=(Math.sqrt(o*o+u*u)-1+this.data.offsetScaleX)*r+1;g.a*=M,g.c*=M,M=(Math.sqrt(s*s+c*c)-1+this.data.offsetScaleY)*r+1,g.b*=M,g.d*=M,y=!0}if(i>0){var E;(E=Math.atan2(c,s)-Math.atan2(u,o))>t.MathUtils.PI?E-=t.MathUtils.PI2:E<-t.MathUtils.PI&&(E+=t.MathUtils.PI2);b=g.b,w=g.d;E=Math.atan2(w,b)+(E-t.MathUtils.PI/2+d)*i;M=Math.sqrt(b*b+w*w);g.b=Math.cos(E)*M,g.d=Math.sin(E)*M,y=!0}y&&(g.appliedValid=!1)}},e.prototype.applyAbsoluteLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var a=this.bones,o=0,s=a.length;o<s;o++){var u=a[o];u.appliedValid||u.updateAppliedTransform();var c=u.arotation;if(0!=t){var l=i.arotation-c+this.data.offsetRotation;c+=(l-=360*(16384-(16384.499999999996-l/360|0)))*t}var h=u.ax,d=u.ay;0!=e&&(h+=(i.ax-h+this.data.offsetX)*e,d+=(i.ay-d+this.data.offsetY)*e);var p=u.ascaleX,f=u.ascaleY;0!=n&&(p>1e-5&&(p=(p+(i.ascaleX-p+this.data.offsetScaleX)*n)/p),f>1e-5&&(f=(f+(i.ascaleY-f+this.data.offsetScaleY)*n)/f));var m=u.ashearY;if(0!=r){l=i.ashearY-m+this.data.offsetShearY;l-=360*(16384-(16384.499999999996-l/360|0)),u.shearY+=l*r}u.updateWorldTransformWith(h,d,c,p,f,u.ashearX,m)}},e.prototype.applyRelativeLocal=function(){var t=this.rotateMix,e=this.translateMix,n=this.scaleMix,r=this.shearMix,i=this.target;i.appliedValid||i.updateAppliedTransform();for(var a=this.bones,o=0,s=a.length;o<s;o++){var u=a[o];u.appliedValid||u.updateAppliedTransform();var c=u.arotation;0!=t&&(c+=(i.arotation+this.data.offsetRotation)*t);var l=u.ax,h=u.ay;0!=e&&(l+=(i.ax+this.data.offsetX)*e,h+=(i.ay+this.data.offsetY)*e);var d=u.ascaleX,p=u.ascaleY;0!=n&&(d>1e-5&&(d*=(i.ascaleX-1+this.data.offsetScaleX)*n+1),p>1e-5&&(p*=(i.ascaleY-1+this.data.offsetScaleY)*n+1));var f=u.ashearY;0!=r&&(f+=(i.ashearY+this.data.offsetShearY)*r),u.updateWorldTransformWith(l,h,c,d,p,u.ashearX,f)}},e}();t.TransformConstraint=e}(i||(i={})),function(t){var e=function(t){function e(e){var n=t.call(this,e,0,!1)||this;return n.bones=new Array,n.rotateMix=0,n.translateMix=0,n.scaleMix=0,n.shearMix=0,n.offsetRotation=0,n.offsetX=0,n.offsetY=0,n.offsetScaleX=0,n.offsetScaleY=0,n.offsetShearY=0,n.relative=!1,n.local=!1,n}return a(e,t),e}(t.ConstraintData);t.TransformConstraintData=e}(i||(i={})),function(t){var e=function(){function e(){this.convexPolygons=new Array,this.convexPolygonsIndices=new Array,this.indicesArray=new Array,this.isConcaveArray=new Array,this.triangles=new Array,this.polygonPool=new t.Pool((function(){return new Array})),this.polygonIndicesPool=new t.Pool((function(){return new Array}))}return e.prototype.triangulate=function(t){var n=t,r=t.length>>1,i=this.indicesArray;i.length=0;for(var a=0;a<r;a++)i[a]=a;var o=this.isConcaveArray;o.length=0;a=0;for(var s=r;a<s;++a)o[a]=e.isConcave(a,r,n,i);var u=this.triangles;for(u.length=0;r>3;){for(var c=r-1,l=(a=0,1);;){t:if(!o[a]){for(var h=i[c]<<1,d=i[a]<<1,p=i[l]<<1,f=n[h],m=n[h+1],g=n[d],y=n[d+1],v=n[p],b=n[p+1],_=(l+1)%r;_!=c;_=(_+1)%r)if(o[_]){var w=i[_]<<1,x=n[w],S=n[w+1];if(e.positiveArea(v,b,f,m,x,S)&&e.positiveArea(f,m,g,y,x,S)&&e.positiveArea(g,y,v,b,x,S))break t}break}if(0==l){do{if(!o[a])break;a--}while(a>0);break}c=a,a=l,l=(l+1)%r}u.push(i[(r+a-1)%r]),u.push(i[a]),u.push(i[(a+1)%r]),i.splice(a,1),o.splice(a,1);var T=(--r+a-1)%r,M=a==r?0:a;o[T]=e.isConcave(T,r,n,i),o[M]=e.isConcave(M,r,n,i)}return 3==r&&(u.push(i[2]),u.push(i[0]),u.push(i[1])),u},e.prototype.decompose=function(t,n){var r=t,i=this.convexPolygons;this.polygonPool.freeAll(i),i.length=0;var a=this.convexPolygonsIndices;this.polygonIndicesPool.freeAll(a),a.length=0;var o=this.polygonIndicesPool.obtain();o.length=0;var s=this.polygonPool.obtain();s.length=0;for(var u=-1,c=0,l=0,h=n.length;l<h;l+=3){var d=n[l]<<1,p=n[l+1]<<1,f=n[l+2]<<1,m=r[d],g=r[d+1],y=r[p],v=r[p+1],b=r[f],_=r[f+1],w=!1;if(u==d){var x=s.length-4,S=e.winding(s[x],s[x+1],s[x+2],s[x+3],b,_),T=e.winding(b,_,s[0],s[1],s[2],s[3]);S==c&&T==c&&(s.push(b),s.push(_),o.push(f),w=!0)}w||(s.length>0?(i.push(s),a.push(o)):(this.polygonPool.free(s),this.polygonIndicesPool.free(o)),(s=this.polygonPool.obtain()).length=0,s.push(m),s.push(g),s.push(y),s.push(v),s.push(b),s.push(_),(o=this.polygonIndicesPool.obtain()).length=0,o.push(d),o.push(p),o.push(f),c=e.winding(m,g,y,v,b,_),u=d)}s.length>0&&(i.push(s),a.push(o));for(l=0,h=i.length;l<h;l++)if(0!=(o=a[l]).length)for(var M=o[0],E=o[o.length-1],A=(s=i[l])[x=s.length-4],k=s[x+1],C=s[x+2],O=s[x+3],L=s[0],R=s[1],P=s[2],D=s[3],I=e.winding(A,k,C,O,L,R),B=0;B<h;B++)if(B!=l){var N=a[B];if(3==N.length){var j=N[0],F=N[1],U=N[2],Y=i[B];b=Y[Y.length-2],_=Y[Y.length-1];if(j==M&&F==E){S=e.winding(A,k,C,O,b,_),T=e.winding(b,_,L,R,P,D);S==I&&T==I&&(Y.length=0,N.length=0,s.push(b),s.push(_),o.push(U),A=C,k=O,C=b,O=_,B=0)}}}for(l=i.length-1;l>=0;l--)0==(s=i[l]).length&&(i.splice(l,1),this.polygonPool.free(s),o=a[l],a.splice(l,1),this.polygonIndicesPool.free(o));return i},e.isConcave=function(t,e,n,r){var i=r[(e+t-1)%e]<<1,a=r[t]<<1,o=r[(t+1)%e]<<1;return!this.positiveArea(n[i],n[i+1],n[a],n[a+1],n[o],n[o+1])},e.positiveArea=function(t,e,n,r,i,a){return t*(a-r)+n*(e-a)+i*(r-e)>=0},e.winding=function(t,e,n,r,i,a){var o=n-t,s=r-e;return i*s-a*o+o*e-t*s>=0?1:-1},e}();t.Triangulator=e}(i||(i={})),function(t){var e=function(){function t(){this.array=new Array}return t.prototype.add=function(t){var e=this.contains(t);return this.array[0|t]=0|t,!e},t.prototype.contains=function(t){return null!=this.array[0|t]},t.prototype.remove=function(t){this.array[0|t]=void 0},t.prototype.clear=function(){this.array.length=0},t}();t.IntSet=e;var n=function(){function t(t,e,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===r&&(r=0),this.r=t,this.g=e,this.b=n,this.a=r}return t.prototype.set=function(t,e,n,r){return this.r=t,this.g=e,this.b=n,this.a=r,this.clamp(),this},t.prototype.setFromColor=function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this.a=t.a,this},t.prototype.setFromString=function(t){return t="#"==t.charAt(0)?t.substr(1):t,this.r=parseInt(t.substr(0,2),16)/255,this.g=parseInt(t.substr(2,2),16)/255,this.b=parseInt(t.substr(4,2),16)/255,this.a=(8!=t.length?255:parseInt(t.substr(6,2),16))/255,this},t.prototype.add=function(t,e,n,r){return this.r+=t,this.g+=e,this.b+=n,this.a+=r,this.clamp(),this},t.prototype.clamp=function(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this},t.rgba8888ToColor=function(t,e){t.r=((4278190080&e)>>>24)/255,t.g=((16711680&e)>>>16)/255,t.b=((65280&e)>>>8)/255,t.a=(255&e)/255},t.rgb888ToColor=function(t,e){t.r=((16711680&e)>>>16)/255,t.g=((65280&e)>>>8)/255,t.b=(255&e)/255},t.WHITE=new t(1,1,1,1),t.RED=new t(1,0,0,1),t.GREEN=new t(0,1,0,1),t.BLUE=new t(0,0,1,1),t.MAGENTA=new t(1,0,1,1),t}();t.Color=n;var r=function(){function t(){}return t.clamp=function(t,e,n){return t<e?e:t>n?n:t},t.cosDeg=function(e){return Math.cos(e*t.degRad)},t.sinDeg=function(e){return Math.sin(e*t.degRad)},t.signum=function(t){return t>0?1:t<0?-1:0},t.toInt=function(t){return t>0?Math.floor(t):Math.ceil(t)},t.cbrt=function(t){var e=Math.pow(Math.abs(t),1/3);return t<0?-e:e},t.randomTriangular=function(e,n){return t.randomTriangularWith(e,n,.5*(e+n))},t.randomTriangularWith=function(t,e,n){var r=Math.random(),i=e-t;return r<=(n-t)/i?t+Math.sqrt(r*i*(n-t)):e-Math.sqrt((1-r)*i*(e-n))},t.PI=3.1415927,t.PI2=2*t.PI,t.radiansToDegrees=180/t.PI,t.radDeg=t.radiansToDegrees,t.degreesToRadians=t.PI/180,t.degRad=t.degreesToRadians,t}();t.MathUtils=r;var i=function(){function t(){}return t.prototype.apply=function(t,e,n){return t+(e-t)*this.applyInternal(n)},t}();t.Interpolation=i;var o=function(t){function e(e){var n=t.call(this)||this;return n.power=2,n.power=e,n}return a(e,t),e.prototype.applyInternal=function(t){return t<=.5?Math.pow(2*t,this.power)/2:Math.pow(2*(t-1),this.power)/(this.power%2==0?-2:2)+1},e}(i);t.Pow=o;var s=function(t){function e(e){return t.call(this,e)||this}return a(e,t),e.prototype.applyInternal=function(t){return Math.pow(t-1,this.power)*(this.power%2==0?-1:1)+1},e}(o);t.PowOut=s;var u=function(){function t(){}return t.arrayCopy=function(t,e,n,r,i){for(var a=e,o=r;a<e+i;a++,o++)n[o]=t[a]},t.setArraySize=function(t,e,n){void 0===n&&(n=0);var r=t.length;if(r==e)return t;if(t.length=e,r<e)for(var i=r;i<e;i++)t[i]=n;return t},t.ensureArrayCapacity=function(e,n,r){return void 0===r&&(r=0),e.length>=n?e:t.setArraySize(e,n,r)},t.newArray=function(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=e;return n},t.newFloatArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Float32Array(e);for(var n=new Array(e),r=0;r<n.length;r++)n[r]=0;return n},t.newShortArray=function(e){if(t.SUPPORTS_TYPED_ARRAYS)return new Int16Array(e);for(var n=new Array(e),r=0;r<n.length;r++)n[r]=0;return n},t.toFloatArray=function(e){return t.SUPPORTS_TYPED_ARRAYS?new Float32Array(e):e},t.toSinglePrecision=function(e){return t.SUPPORTS_TYPED_ARRAYS?Math.fround(e):e},t.webkit602BugfixHelper=function(t,e){},t.contains=function(t,e,n){void 0===n&&(n=!0);for(var r=0;r<t.length;r++)if(t[r]==e)return!0;return!1},t.SUPPORTS_TYPED_ARRAYS="undefined"!=typeof Float32Array,t}();t.Utils=u;var c=function(){function t(){}return t.logBones=function(t){for(var e=0;e<t.bones.length;e++)t.bones[e]},t}();t.DebugUtils=c;var l=function(){function t(t){this.items=new Array,this.instantiator=t}return t.prototype.obtain=function(){return this.items.length>0?this.items.pop():this.instantiator()},t.prototype.free=function(t){t.reset&&t.reset(),this.items.push(t)},t.prototype.freeAll=function(t){for(var e=0;e<t.length;e++)this.free(t[e])},t.prototype.clear=function(){this.items.length=0},t}();t.Pool=l;var h=function(){function t(t,e){void 0===t&&(t=0),void 0===e&&(e=0),this.x=t,this.y=e}return t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.length=function(){var t=this.x,e=this.y;return Math.sqrt(t*t+e*e)},t.prototype.normalize=function(){var t=this.length();return 0!=t&&(this.x/=t,this.y/=t),this},t}();t.Vector2=h;var d=function(){function t(){this.maxDelta=.064,this.framesPerSecond=0,this.delta=0,this.totalTime=0,this.lastTime=Date.now()/1e3,this.frameCount=0,this.frameTime=0}return t.prototype.update=function(){var t=Date.now()/1e3;this.delta=t-this.lastTime,this.frameTime+=this.delta,this.totalTime+=this.delta,this.delta>this.maxDelta&&(this.delta=this.maxDelta),this.lastTime=t,this.frameCount++,this.frameTime>1&&(this.framesPerSecond=this.frameCount/this.frameTime,this.frameTime=0,this.frameCount=0)},t}();t.TimeKeeper=d;var p=function(){function t(t){void 0===t&&(t=32),this.addedValues=0,this.lastValue=0,this.mean=0,this.dirty=!0,this.values=new Array(t)}return t.prototype.hasEnoughData=function(){return this.addedValues>=this.values.length},t.prototype.addValue=function(t){this.addedValues<this.values.length&&this.addedValues++,this.values[this.lastValue++]=t,this.lastValue>this.values.length-1&&(this.lastValue=0),this.dirty=!0},t.prototype.getMean=function(){if(this.hasEnoughData()){if(this.dirty){for(var t=0,e=0;e<this.values.length;e++)t+=this.values[e];this.mean=t/this.values.length,this.dirty=!1}return this.mean}return 0},t}();t.WindowedMean=p}(i||(i={})),Math.fround||(Math.fround=(r=new Float32Array(1),function(t){return r[0]=t,r[0]})),function(t){var e=function(t){if(null==t)throw new Error("name cannot be null.");this.name=t};t.Attachment=e;var n=function(e){function n(t){var r=e.call(this,t)||this;return r.id=(65535&n.nextID++)<<11,r.worldVerticesLength=0,r.deformAttachment=r,r}return a(n,e),n.prototype.computeWorldVertices=function(t,e,n,r,i,a){n=i+(n>>1)*a;var o=t.bone.skeleton,s=t.deform,u=this.vertices,c=this.bones;if(null!=c){for(var l=0,h=0,d=0;d<e;d+=2){l+=(g=c[l])+1,h+=g}var p=o.bones;if(0==s.length)for(k=i,T=3*h;k<n;k+=a){var f=0,m=0,g=c[l++];for(g+=l;l<g;l++,T+=3){_=p[c[l]],C=u[T],O=u[T+1];var y=u[T+2];f+=(C*_.a+O*_.b+_.worldX)*y,m+=(C*_.c+O*_.d+_.worldY)*y}r[k]=f,r[k+1]=m}else for(var v=s,b=(k=i,T=3*h,h<<1);k<n;k+=a){f=0,m=0,g=c[l++];for(g+=l;l<g;l++,T+=3,b+=2){_=p[c[l]],C=u[T]+v[b],O=u[T+1]+v[b+1],y=u[T+2];f+=(C*_.a+O*_.b+_.worldX)*y,m+=(C*_.c+O*_.d+_.worldY)*y}r[k]=f,r[k+1]=m}}else{s.length>0&&(u=s);for(var _,w=(_=t.bone).worldX,x=_.worldY,S=_.a,T=_.b,M=_.c,E=_.d,A=e,k=i;k<n;A+=2,k+=a){var C=u[A],O=u[A+1];r[k]=C*S+O*T+w,r[k+1]=C*M+O*E+x}}},n.prototype.copyTo=function(e){null!=this.bones?(e.bones=new Array(this.bones.length),t.Utils.arrayCopy(this.bones,0,e.bones,0,this.bones.length)):e.bones=null,null!=this.vertices?(e.vertices=t.Utils.newFloatArray(this.vertices.length),t.Utils.arrayCopy(this.vertices,0,e.vertices,0,this.vertices.length)):e.vertices=null,e.worldVerticesLength=this.worldVerticesLength,e.deformAttachment=this.deformAttachment},n.nextID=0,n}(e);t.VertexAttachment=n}(i||(i={})),function(t){!function(t){t[t.Region=0]="Region",t[t.BoundingBox=1]="BoundingBox",t[t.Mesh=2]="Mesh",t[t.LinkedMesh=3]="LinkedMesh",t[t.Path=4]="Path",t[t.Point=5]="Point",t[t.Clipping=6]="Clipping"}(t.AttachmentType||(t.AttachmentType={}))}(i||(i={})),function(t){var e=function(e){function n(n){var r=e.call(this,n)||this;return r.color=new t.Color(1,1,1,1),r}return a(n,e),n.prototype.copy=function(){var t=new n(this.name);return this.copyTo(t),t.color.setFromColor(this.color),t},n}(t.VertexAttachment);t.BoundingBoxAttachment=e}(i||(i={})),function(t){var e=function(e){function n(n){var r=e.call(this,n)||this;return r.color=new t.Color(.2275,.2275,.8078,1),r}return a(n,e),n.prototype.copy=function(){var t=new n(this.name);return this.copyTo(t),t.endSlot=this.endSlot,t.color.setFromColor(this.color),t},n}(t.VertexAttachment);t.ClippingAttachment=e}(i||(i={})),function(t){var e=function(e){function n(n){var r=e.call(this,n)||this;return r.color=new t.Color(1,1,1,1),r.tempColor=new t.Color(0,0,0,0),r}return a(n,e),n.prototype.updateUVs=function(){var e=this.regionUVs;null!=this.uvs&&this.uvs.length==e.length||(this.uvs=t.Utils.newFloatArray(e.length));var n=this.uvs,r=this.uvs.length,i=this.region.u,a=this.region.v,o=0,s=0;if(this.region instanceof t.TextureAtlasRegion){var u=this.region,c=u.texture.getImage().width,l=u.texture.getImage().height;switch(u.degrees){case 90:i-=(u.originalHeight-u.offsetY-u.height)/c,a-=(u.originalWidth-u.offsetX-u.width)/l,o=u.originalHeight/c,s=u.originalWidth/l;for(var h=0;h<r;h+=2)n[h]=i+e[h+1]*o,n[h+1]=a+(1-e[h])*s;return;case 180:i-=(u.originalWidth-u.offsetX-u.width)/c,a-=u.offsetY/l,o=u.originalWidth/c,s=u.originalHeight/l;for(h=0;h<r;h+=2)n[h]=i+(1-e[h])*o,n[h+1]=a+(1-e[h+1])*s;return;case 270:i-=u.offsetY/c,a-=u.offsetX/l,o=u.originalHeight/c,s=u.originalWidth/l;for(h=0;h<r;h+=2)n[h]=i+(1-e[h+1])*o,n[h+1]=a+e[h]*s;return}i-=u.offsetX/c,a-=(u.originalHeight-u.offsetY-u.height)/l,o=u.originalWidth/c,s=u.originalHeight/l}else null==this.region?(i=a=0,o=s=1):(o=this.region.u2-i,s=this.region.v2-a);for(h=0;h<r;h+=2)n[h]=i+e[h]*o,n[h+1]=a+e[h+1]*s},n.prototype.getParentMesh=function(){return this.parentMesh},n.prototype.setParentMesh=function(t){this.parentMesh=t,null!=t&&(this.bones=t.bones,this.vertices=t.vertices,this.worldVerticesLength=t.worldVerticesLength,this.regionUVs=t.regionUVs,this.triangles=t.triangles,this.hullLength=t.hullLength,this.worldVerticesLength=t.worldVerticesLength)},n.prototype.copy=function(){if(null!=this.parentMesh)return this.newLinkedMesh();var e=new n(this.name);return e.region=this.region,e.path=this.path,e.color.setFromColor(this.color),this.copyTo(e),e.regionUVs=new Array(this.regionUVs.length),t.Utils.arrayCopy(this.regionUVs,0,e.regionUVs,0,this.regionUVs.length),e.uvs=new Array(this.uvs.length),t.Utils.arrayCopy(this.uvs,0,e.uvs,0,this.uvs.length),e.triangles=new Array(this.triangles.length),t.Utils.arrayCopy(this.triangles,0,e.triangles,0,this.triangles.length),e.hullLength=this.hullLength,null!=this.edges&&(e.edges=new Array(this.edges.length),t.Utils.arrayCopy(this.edges,0,e.edges,0,this.edges.length)),e.width=this.width,e.height=this.height,e},n.prototype.newLinkedMesh=function(){var t=new n(this.name);return t.region=this.region,t.path=this.path,t.color.setFromColor(this.color),t.deformAttachment=this.deformAttachment,t.setParentMesh(null!=this.parentMesh?this.parentMesh:this),t.updateUVs(),t},n}(t.VertexAttachment);t.MeshAttachment=e}(i||(i={})),function(t){var e=function(e){function n(n){var r=e.call(this,n)||this;return r.closed=!1,r.constantSpeed=!1,r.color=new t.Color(1,1,1,1),r}return a(n,e),n.prototype.copy=function(){var e=new n(this.name);return this.copyTo(e),e.lengths=new Array(this.lengths.length),t.Utils.arrayCopy(this.lengths,0,e.lengths,0,this.lengths.length),e.closed=closed,e.constantSpeed=this.constantSpeed,e.color.setFromColor(this.color),e},n}(t.VertexAttachment);t.PathAttachment=e}(i||(i={})),function(t){var e=function(e){function n(n){var r=e.call(this,n)||this;return r.color=new t.Color(.38,.94,0,1),r}return a(n,e),n.prototype.computeWorldPosition=function(t,e){return e.x=this.x*t.a+this.y*t.b+t.worldX,e.y=this.x*t.c+this.y*t.d+t.worldY,e},n.prototype.computeWorldRotation=function(e){var n=t.MathUtils.cosDeg(this.rotation),r=t.MathUtils.sinDeg(this.rotation),i=n*e.a+r*e.b,a=n*e.c+r*e.d;return Math.atan2(a,i)*t.MathUtils.radDeg},n.prototype.copy=function(){var t=new n(this.name);return t.x=this.x,t.y=this.y,t.rotation=this.rotation,t.color.setFromColor(this.color),t},n}(t.VertexAttachment);t.PointAttachment=e}(i||(i={})),function(t){var e=function(e){function n(n){var r=e.call(this,n)||this;return r.x=0,r.y=0,r.scaleX=1,r.scaleY=1,r.rotation=0,r.width=0,r.height=0,r.color=new t.Color(1,1,1,1),r.offset=t.Utils.newFloatArray(8),r.uvs=t.Utils.newFloatArray(8),r.tempColor=new t.Color(1,1,1,1),r}return a(n,e),n.prototype.updateOffset=function(){var t=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*t,i=-this.height/2*this.scaleY+this.region.offsetY*e,a=r+this.region.width*t,o=i+this.region.height*e,s=this.rotation*Math.PI/180,u=Math.cos(s),c=Math.sin(s),l=r*u+this.x,h=r*c,d=i*u+this.y,p=i*c,f=a*u+this.x,m=a*c,g=o*u+this.y,y=o*c,v=this.offset;v[n.OX1]=l-p,v[n.OY1]=d+h,v[n.OX2]=l-y,v[n.OY2]=g+h,v[n.OX3]=f-y,v[n.OY3]=g+m,v[n.OX4]=f-p,v[n.OY4]=d+m},n.prototype.setRegion=function(t){this.region=t;var e=this.uvs;t.rotate?(e[2]=t.u,e[3]=t.v2,e[4]=t.u,e[5]=t.v,e[6]=t.u2,e[7]=t.v,e[0]=t.u2,e[1]=t.v2):(e[0]=t.u,e[1]=t.v2,e[2]=t.u,e[3]=t.v,e[4]=t.u2,e[5]=t.v,e[6]=t.u2,e[7]=t.v2)},n.prototype.computeWorldVertices=function(t,e,r,i){var a=this.offset,o=t.worldX,s=t.worldY,u=t.a,c=t.b,l=t.c,h=t.d,d=0,p=0;d=a[n.OX1],p=a[n.OY1],e[r]=d*u+p*c+o,e[r+1]=d*l+p*h+s,r+=i,d=a[n.OX2],p=a[n.OY2],e[r]=d*u+p*c+o,e[r+1]=d*l+p*h+s,r+=i,d=a[n.OX3],p=a[n.OY3],e[r]=d*u+p*c+o,e[r+1]=d*l+p*h+s,r+=i,d=a[n.OX4],p=a[n.OY4],e[r]=d*u+p*c+o,e[r+1]=d*l+p*h+s},n.prototype.copy=function(){var e=new n(this.name);return e.region=this.region,e.rendererObject=this.rendererObject,e.path=this.path,e.x=this.x,e.y=this.y,e.scaleX=this.scaleX,e.scaleY=this.scaleY,e.rotation=this.rotation,e.width=this.width,e.height=this.height,t.Utils.arrayCopy(this.uvs,0,e.uvs,0,8),t.Utils.arrayCopy(this.offset,0,e.offset,0,8),e.color.setFromColor(this.color),e},n.OX1=0,n.OY1=1,n.OX2=2,n.OY2=3,n.OX3=4,n.OY3=5,n.OX4=6,n.OY4=7,n.X1=0,n.Y1=1,n.C1R=2,n.C1G=3,n.C1B=4,n.C1A=5,n.U1=6,n.V1=7,n.X2=8,n.Y2=9,n.C2R=10,n.C2G=11,n.C2B=12,n.C2A=13,n.U2=14,n.V2=15,n.X3=16,n.Y3=17,n.C3R=18,n.C3G=19,n.C3B=20,n.C3A=21,n.U3=22,n.V3=23,n.X4=24,n.Y4=25,n.C4R=26,n.C4G=27,n.C4B=28,n.C4A=29,n.U4=30,n.V4=31,n}(t.Attachment);t.RegionAttachment=e}(i||(i={})),function(t){var e=function(){function e(t,e){this.jitterX=0,this.jitterY=0,this.jitterX=t,this.jitterY=e}return e.prototype.begin=function(t){},e.prototype.transform=function(e,n,r,i){e.x+=t.MathUtils.randomTriangular(-this.jitterX,this.jitterY),e.y+=t.MathUtils.randomTriangular(-this.jitterX,this.jitterY)},e.prototype.end=function(){},e}();t.JitterEffect=e}(i||(i={})),function(t){var e=function(){function e(t){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=t}return e.prototype.begin=function(t){this.worldX=t.x+this.centerX,this.worldY=t.y+this.centerY},e.prototype.transform=function(n,r,i,a){var o=this.angle*t.MathUtils.degreesToRadians,s=n.x-this.worldX,u=n.y-this.worldY,c=Math.sqrt(s*s+u*u);if(c<this.radius){var l=e.interpolation.apply(0,o,(this.radius-c)/this.radius),h=Math.cos(l),d=Math.sin(l);n.x=h*s-d*u+this.worldX,n.y=d*s+h*u+this.worldY}},e.prototype.end=function(){},e.interpolation=new t.PowOut(2),e}();t.SwirlEffect=e}(i||(i={})),function(t){!function(e){var n=function(t){function n(n){return void 0===n&&(n=""),t.call(this,(function(t){return new e.ThreeJsTexture(t)}),n)||this}return a(n,t),n}(t.AssetManager);e.AssetManager=n}(t.threejs||(t.threejs={}))}(i||(i={})),function(e){!function(e){var n=function(n){function r(i,a){void 0===i&&(i=10920),void 0===a&&(a=function(t){});var o=n.call(this)||this;if(o.verticesLength=0,o.indicesLength=0,i>10920)throw new Error("Can't have more than 10920 triangles per batch: "+i);var s=o.vertices=new Float32Array(i*r.VERTEX_SIZE),u=o.indices=new Uint16Array(3*i),c=new t.BufferGeometry,l=o.vertexBuffer=new t.InterleavedBuffer(s,r.VERTEX_SIZE);return l.usage=WebGLRenderingContext.DYNAMIC_DRAW,c.addAttribute("position",new t.InterleavedBufferAttribute(l,3,0,!1)),c.addAttribute("color",new t.InterleavedBufferAttribute(l,4,3,!1)),c.addAttribute("uv",new t.InterleavedBufferAttribute(l,2,7,!1)),c.setIndex(new t.BufferAttribute(u,1)),c.getIndex().usage=WebGLRenderingContext.DYNAMIC_DRAW,c.drawRange.start=0,c.drawRange.count=0,o.geometry=c,o.material=new e.SkeletonMeshMaterial(a),o}return a(r,n),r.prototype.dispose=function(){if(this.geometry.dispose(),this.material instanceof t.Material)this.material.dispose();else if(this.material)for(var e=0;e<this.material.length;e++){var n=this.material[e];n instanceof t.Material&&n.dispose()}},r.prototype.clear=function(){var t=this.geometry;t.drawRange.start=0,t.drawRange.count=0,this.material.uniforms.map.value=null},r.prototype.begin=function(){this.verticesLength=0,this.indicesLength=0},r.prototype.canBatch=function(t,e){return!(this.indicesLength+e>=this.indices.byteLength/2)&&!(this.verticesLength+t>=this.vertices.byteLength/2)},r.prototype.batch=function(t,e,n,i,a){void 0===a&&(a=0);for(var o=this.verticesLength/r.VERTEX_SIZE,s=this.vertices,u=this.verticesLength,c=0;c<e;)s[u++]=t[c++],s[u++]=t[c++],s[u++]=a,s[u++]=t[c++],s[u++]=t[c++],s[u++]=t[c++],s[u++]=t[c++],s[u++]=t[c++],s[u++]=t[c++];this.verticesLength=u;var l=this.indices;for(u=this.indicesLength,c=0;c<i;u++,c++)l[u]=n[c]+o;this.indicesLength+=i},r.prototype.end=function(){this.vertexBuffer.needsUpdate=this.verticesLength>0,this.vertexBuffer.updateRange.offset=0,this.vertexBuffer.updateRange.count=this.verticesLength;var t=this.geometry;t.getIndex().needsUpdate=this.indicesLength>0,t.getIndex().updateRange.offset=0,t.getIndex().updateRange.count=this.indicesLength,t.drawRange.start=0,t.drawRange.count=this.indicesLength},r.VERTEX_SIZE=9,r}(t.Mesh);e.MeshBatcher=n}(e.threejs||(e.threejs={}))}(i||(i={})),function(e){!function(n){var r=function(e){function n(n){var r={uniforms:{map:{type:"t",value:null}},vertexShader:"\n\t\t\t\tattribute vec4 color;\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tvarying vec4 vColor;\n\t\t\t\tvoid main() {\n\t\t\t\t\tvUv = uv;\n\t\t\t\t\tvColor = color;\n\t\t\t\t\tgl_Position = projectionMatrix*modelViewMatrix*vec4(position,1.0);\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\t\t\t\tuniform sampler2D map;\n\t\t\t\tvarying vec2 vUv;\n\t\t\t\tvarying vec4 vColor;\n\t\t\t\tvoid main(void) {\n\t\t\t\t\tgl_FragColor = texture2D(map, vUv)*vColor;\n\t\t\t\t}\n\t\t\t",side:t.DoubleSide,transparent:!0,alphaTest:.5};return n(r),e.call(this,r)||this}return a(n,e),n}(t.ShaderMaterial);n.SkeletonMeshMaterial=r;var i=function(t){function r(n,r){void 0===r&&(r=function(t){});var i=t.call(this)||this;i.tempPos=new e.Vector2,i.tempUv=new e.Vector2,i.tempLight=new e.Color,i.tempDark=new e.Color,i.zOffset=.1,i.batches=new Array,i.nextBatchIndex=0,i.clipper=new e.SkeletonClipping,i.vertices=e.Utils.newFloatArray(1024),i.tempColor=new e.Color,i.materialCustomizer=r,i.skeleton=new e.Skeleton(n);var a=new e.AnimationStateData(n);return i.state=new e.AnimationState(a),i}return a(r,t),r.prototype.update=function(t){var e=this.state,n=this.skeleton;e.update(t),e.apply(n),n.updateWorldTransform(),this.updateGeometry()},r.prototype.dispose=function(){for(var t=0;t<this.batches.length;t++)this.batches[t].dispose()},r.prototype.clearBatches=function(){for(var t=0;t<this.batches.length;t++)this.batches[t].clear(),this.batches[t].visible=!1;this.nextBatchIndex=0},r.prototype.nextBatch=function(){if(this.batches.length==this.nextBatchIndex){var t=new n.MeshBatcher(10920,this.materialCustomizer);this.add(t),this.batches.push(t)}var e=this.batches[this.nextBatchIndex++];return e.visible=!0,e},r.prototype.updateGeometry=function(){this.clearBatches();var t=this.tempPos,n=this.tempUv,i=this.tempLight,a=this.tempDark,o=this.clipper,s=this.vertices,u=null,c=null,l=this.skeleton.drawOrder,h=this.nextBatch();h.begin();for(var d=0,p=this.zOffset,f=0,m=l.length;f<m;f++){var g=o.isClipping()?2:r.VERTEX_SIZE,y=l[f];if(y.bone.active){var v=y.getAttachment(),b=null,_=null,w=0;if(v instanceof e.RegionAttachment){var x=v;b=x.color,s=this.vertices,w=4*g,x.computeWorldVertices(y.bone,s,0,g),u=r.QUAD_TRIANGLES,c=x.uvs,_=x.region.renderObject.texture}else{if(!(v instanceof e.MeshAttachment)){if(v instanceof e.ClippingAttachment){var S=v;o.clipStart(y,S);continue}continue}var T=v;b=T.color,s=this.vertices,(w=(T.worldVerticesLength>>1)*g)>s.length&&(s=this.vertices=e.Utils.newFloatArray(w)),T.computeWorldVertices(y,0,T.worldVerticesLength,s,0,g),u=T.triangles,c=T.uvs,_=T.region.renderObject.texture}if(null!=_){var M=y.bone.skeleton.color,E=y.color,A=M.a*E.a*b.a,k=this.tempColor;k.set(M.r*E.r*b.r,M.g*E.g*b.g,M.b*E.b*b.b,A);var C=void 0,O=void 0,L=void 0,R=void 0;if(o.isClipping()){o.clipTriangles(s,w,u,u.length,c,k,null,!1);var P=o.clippedVertices,D=o.clippedTriangles;if(null!=this.vertexEffect)for(var I=this.vertexEffect,B=P,N=0,j=P.length;N<j;N+=g)t.x=B[N],t.y=B[N+1],i.setFromColor(k),a.set(0,0,0,0),n.x=B[N+6],n.y=B[N+7],I.transform(t,n,i,a),B[N]=t.x,B[N+1]=t.y,B[N+2]=i.r,B[N+3]=i.g,B[N+4]=i.b,B[N+5]=i.a,B[N+6]=n.x,B[N+7]=n.y;C=P,O=P.length,L=D,R=D.length}else{B=s;if(null!=this.vertexEffect){I=this.vertexEffect,N=0;for(var F=0,U=w;N<U;N+=g,F+=2)t.x=B[N],t.y=B[N+1],i.setFromColor(k),a.set(0,0,0,0),n.x=c[F],n.y=c[F+1],I.transform(t,n,i,a),B[N]=t.x,B[N+1]=t.y,B[N+2]=i.r,B[N+3]=i.g,B[N+4]=i.b,B[N+5]=i.a,B[N+6]=n.x,B[N+7]=n.y}else{N=2,F=0;for(var Y=w;N<Y;N+=g,F+=2)B[N]=k.r,B[N+1]=k.g,B[N+2]=k.b,B[N+3]=k.a,B[N+4]=c[F],B[N+5]=c[F+1]}C=s,O=w,L=u,R=u.length}if(0==O||0==R)continue;h.canBatch(O,R)||(h.end(),(h=this.nextBatch()).begin());var G=h.material;null==G.uniforms.map.value&&(G.uniforms.map.value=_.texture),G.uniforms.map.value!=_.texture&&(h.end(),(h=this.nextBatch()).begin(),(G=h.material).uniforms.map.value=_.texture),G.needsUpdate=!0,h.batch(C,O,L,R,d),d+=p}o.clipEndWithSlot(y)}}o.clipEnd(),h.end()},r.QUAD_TRIANGLES=[0,1,2,2,3,0],r.VERTEX_SIZE=8,r}(t.Object3D);n.SkeletonMesh=i}(e.threejs||(e.threejs={}))}(i||(i={})),function(e){!function(n){var r=function(n){function r(e){var r=n.call(this,e)||this;return r.texture=new t.Texture(e),r.texture.flipY=!1,r.texture.needsUpdate=!0,r}return a(r,n),r.prototype.setFilters=function(t,e){this.texture.minFilter=r.toThreeJsTextureFilter(t),this.texture.magFilter=r.toThreeJsTextureFilter(e)},r.prototype.setWraps=function(t,e){this.texture.wrapS=r.toThreeJsTextureWrap(t),this.texture.wrapT=r.toThreeJsTextureWrap(e)},r.prototype.dispose=function(){this.texture.dispose()},r.toThreeJsTextureFilter=function(n){if(n===e.TextureFilter.Linear)return t.LinearFilter;if(n===e.TextureFilter.MipMap)return t.LinearMipMapLinearFilter;if(n===e.TextureFilter.MipMapLinearNearest)return t.LinearMipMapNearestFilter;if(n===e.TextureFilter.MipMapNearestLinear)return t.NearestMipMapLinearFilter;if(n===e.TextureFilter.MipMapNearestNearest)return t.NearestMipMapNearestFilter;if(n===e.TextureFilter.Nearest)return t.NearestFilter;throw new Error("Unknown texture filter: "+n)},r.toThreeJsTextureWrap=function(n){if(n===e.TextureWrap.ClampToEdge)return t.ClampToEdgeWrapping;if(n===e.TextureWrap.MirroredRepeat)return t.MirroredRepeatWrapping;if(n===e.TextureWrap.Repeat)return t.RepeatWrapping;throw new Error("Unknown texture wrap: "+n)},r}(e.Texture);n.ThreeJsTexture=r}(e.threejs||(e.threejs={}))}(i||(i={})),window.THREE_SPINE=i}.call(this,n(12))},function(t,e,n){n(41)({target:"Math",stat:!0},{fround:n(678)})},function(t,e,n){var r=n(501),i=Math.abs,a=Math.pow,o=a(2,-52),s=a(2,-23),u=a(2,127)*(2-s),c=a(2,-126);t.exports=Math.fround||function(t){var e,n,a=i(t),l=r(t);return a<c?l*(a/c/s+1/o-1/o)*c*s:(n=(e=(1+s/o)*a)-(e-a))>u||n!=n?l*(1/0):l*n}},function(t,e,n){"use strict";n.r(e);n(21),n(5),n(19);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i="undefined"!=typeof globalThis&&globalThis||"undefined"!=typeof self&&self||void 0!==i&&i,a="URLSearchParams"in i,o="Symbol"in i&&"iterator"in Symbol,s="FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch(t){return!1}}(),u="FormData"in i,c="ArrayBuffer"in i;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],h=ArrayBuffer.isView||function(t){return t&&l.indexOf(Object.prototype.toString.call(t))>-1};function d(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(t)||""===t)throw new TypeError('Invalid character in header field name: "'+t+'"');return t.toLowerCase()}function p(t){return"string"!=typeof t&&(t=String(t)),t}function f(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return o&&(e[Symbol.iterator]=function(){return e}),e}function m(t){this.map={},t instanceof m?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(t){this.append(t[0],t[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function g(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function y(t){return new Promise((function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function v(t){var e=new FileReader,n=y(e);return e.readAsArrayBuffer(t),n}function b(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(t){var e;this.bodyUsed=this.bodyUsed,this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:s&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:u&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:a&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():c&&s&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=b(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(t)||h(t))?this._bodyArrayBuffer=b(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},s&&(this.blob=function(){var t=g(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var t=g(this);return t||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(v)}),this.text=function(){var t,e,n,r=g(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,n=y(e),e.readAsText(t),n;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},u&&(this.formData=function(){return this.text().then(S)}),this.json=function(){return this.text().then(JSON.parse)},this}m.prototype.append=function(t,e){t=d(t),e=p(e);var n=this.map[t];this.map[t]=n?n+", "+e:e},m.prototype.delete=function(t){delete this.map[d(t)]},m.prototype.get=function(t){return t=d(t),this.has(t)?this.map[t]:null},m.prototype.has=function(t){return this.map.hasOwnProperty(d(t))},m.prototype.set=function(t,e){this.map[d(t)]=p(e)},m.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},m.prototype.keys=function(){var t=[];return this.forEach((function(e,n){t.push(n)})),f(t)},m.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),f(t)},m.prototype.entries=function(){var t=[];return this.forEach((function(e,n){t.push([n,e])})),f(t)},o&&(m.prototype[Symbol.iterator]=m.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function x(t,e){if(!(this instanceof x))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var n,r,i=(e=e||{}).body;if(t instanceof x){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new m(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,i||null==t._bodyInit||(i=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new m(e.headers)),this.method=(n=e.method||this.method||"GET",r=n.toUpperCase(),w.indexOf(r)>-1?r:n),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(i),!("GET"!==this.method&&"HEAD"!==this.method||"no-store"!==e.cache&&"no-cache"!==e.cache)){var a=/([?&])_=[^&]*/;if(a.test(this.url))this.url=this.url.replace(a,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function S(t){var e=new FormData;return t.trim().split("&").forEach((function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}})),e}function T(t,e){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText=void 0===e.statusText?"":""+e.statusText,this.headers=new m(e.headers),this.url=e.url||"",this._initBody(t)}x.prototype.clone=function(){return new x(this,{body:this._bodyInit})},_.call(x.prototype),_.call(T.prototype),T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},T.error=function(){var t=new T(null,{status:0,statusText:""});return t.type="error",t};var M=[301,302,303,307,308];T.redirect=function(t,e){if(-1===M.indexOf(e))throw new RangeError("Invalid status code");return new T(null,{status:e,headers:{location:t}})};var E=i.DOMException;try{new E}catch(t){(E=function(t,e){this.message=t,this.name=e;var n=Error(t);this.stack=n.stack}).prototype=Object.create(Error.prototype),E.prototype.constructor=E}function A(t,e){return new Promise((function(n,a){var o=new x(t,e);if(o.signal&&o.signal.aborted)return a(new E("Aborted","AbortError"));var u=new XMLHttpRequest;function l(){u.abort()}u.onload=function(){var t,e,r={status:u.status,statusText:u.statusText,headers:(t=u.getAllResponseHeaders()||"",e=new m,t.replace(/\r?\n[\t ]+/g," ").split("\r").map((function(t){return 0===t.indexOf("\n")?t.substr(1,t.length):t})).forEach((function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}})),e)};r.url="responseURL"in u?u.responseURL:r.headers.get("X-Request-URL");var i="response"in u?u.response:u.responseText;setTimeout((function(){n(new T(i,r))}),0)},u.onerror=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},u.ontimeout=function(){setTimeout((function(){a(new TypeError("Network request failed"))}),0)},u.onabort=function(){setTimeout((function(){a(new E("Aborted","AbortError"))}),0)},u.open(o.method,function(t){try{return""===t&&i.location.href?i.location.href:t}catch(e){return t}}(o.url),!0),"include"===o.credentials?u.withCredentials=!0:"omit"===o.credentials&&(u.withCredentials=!1),"responseType"in u&&(s?u.responseType="blob":c&&o.headers.get("Content-Type")&&-1!==o.headers.get("Content-Type").indexOf("application/octet-stream")&&(u.responseType="arraybuffer")),!e||"object"!==r(e.headers)||e.headers instanceof m?o.headers.forEach((function(t,e){u.setRequestHeader(e,t)})):Object.getOwnPropertyNames(e.headers).forEach((function(t){u.setRequestHeader(t,p(e.headers[t]))})),o.signal&&(o.signal.addEventListener("abort",l),u.onreadystatechange=function(){4===u.readyState&&o.signal.removeEventListener("abort",l)}),u.send(void 0===o._bodyInit?null:o._bodyInit)}))}A.polyfill=!0,i.fetch||(i.fetch=A,i.Headers=m,i.Request=x,i.Response=T);var k=n(708),C=n(1),O=n(222),L={screens:{main:{loaderScreenClass:O.a},overlay:{loaderScreenClass:O.a}},preload:{loaderScreenClass:O.a},stage:{alwaysOnAccessibility:!1,accessibilityDebug:!1,backgroundColor:0,clearBeforeRender:!0,resolution:1,antialias:!1}},R=n(443);function P(t,e,n,r,i,a,o){try{var s=t[a](o),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,i)}function D(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var a=t.apply(e,n);function o(t){P(a,r,i,o,s,"next",t)}function s(t){P(a,r,i,o,s,"throw",t)}o(void 0)}))}}function I(){return B.apply(this,arguments)}function B(){return(B=D(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.cordova&&navigator.splashscreen&&navigator.splashscreen.hide(),t.next=3,Object(k.a)();case 3:new R.a(L).run();case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}window.THREE=n(12),n(676),window.FASTPLAY=!!C.Params.get("fastplay"),window.cordova?document.addEventListener("deviceready",I,!1):I()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(5),n(19);function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;return new Promise((function(e){setTimeout((function(){e()}),t)}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return h}));n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35);var r=n(24);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=l(t);if(e){var i=l(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return c(this,n)}}function c(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function l(t){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&s(t,e)}(l,t);var e,n,i,c=u(l);function l(){var t;return a(this,l),(t=c.apply(this,arguments)).onVisibilityChange=new r.Signal,t}return e=l,(n=[{key:"_handleVisibilityChange",value:function(){document.hidden?this.onVisibilityChange.emit(!1):this.onVisibilityChange.emit(!0)}},{key:"prepare",value:function(){var t=this;document.addEventListener("visibilitychange",(function(){t._handleVisibilityChange()}))}},{key:"start",value:function(){this._handleVisibilityChange()}}])&&o(e.prototype,n),i&&o(e,i),Object.defineProperty(e,"prototype",{writable:!1}),l}(n(148).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));n(21),n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35),n(19),n(87);var r=n(249),i=n(0),a=n(148),o=n(162),s=n(96),u=n(116);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function p(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=m(t);if(e){var i=m(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return f(this,n)}}function f(t,e){if(e&&("object"===c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var g=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))},y=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d(t,e)}(f,t);var e,n,a,c=p(f);function f(){var t;return l(this,f),(t=c.apply(this,arguments)).loadingIds=[],t}return e=f,(n=[{key:"init",value:function(){var t;return g(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,a,s;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null!==(t=this.options.basePath)&&void 0!==t?t:"",!this.options.basis){e.next=5;break}return i.INSTALLED.push(i.CompressedTextureResource),e.next=5,r.a.loadTranscoder(n+this.options.basis.js,n+this.options.basis.wasm);case 5:a=this.app.get(o.a),s={renderer:a.renderer,basePath:n,manifest:this.options.manifest,version:this.options.version||"high",canOptimise:this.options.canOptimise,verbose:this.options.verbose,canCacheBust:this.options.canCacheBust,uploadTexturesOnLoad:this.options.uploadTexturesOnLoad,disableGarbageCollection:this.options.disableGarbageCollection,preserveImageBitmap:this.options.preserveImageBitmap,manifestBasePath:this.options.manifestBasePath,imageFormatPreference:this.options.imageFormatPreference},u.a.init(s);case 8:case"end":return e.stop()}}),e,this)})))}},{key:"load",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return g(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.loadingIds=e.slice(0),t.next=3,u.a.load(e,this.options);case 3:this.loadingIds=[];case 4:case"end":return t.stop()}}),t,this)})))}},{key:"backgroundLoad",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return g(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:u.a.backgroundLoad(e);case 1:case"end":return t.stop()}}),t)})))}},{key:"cache",get:function(){return s.b||{}}},{key:"loading",get:function(){return this.loadingIds.length>0}},{key:"manager",get:function(){return u.a}}])&&h(e.prototype,n),a&&h(e,a),Object.defineProperty(e,"prototype",{writable:!1}),f}(a.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return m}));n(21),n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35),n(19),n(51);var r=n(116),i=n(148),a=n(222),o=n(451);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===s(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))},m=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(d,t);var e,n,i,s=h(d);function d(){return u(this,d),s.apply(this,arguments)}return e=d,(n=[{key:"prepare",value:function(){var t,e;return f(this,void 0,void 0,regeneratorRuntime.mark((function n(){var i,s,u,c,l,h;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=this.app.get(o.a)){n.next=3;break}throw new Error("[Preload Plugin] Error plugin depends on the ScreenPlugin");case 3:if(s=this.options.preloadManifestId||"preload",!r.a.hasManifestFor(s)){n.next=7;break}return n.next=7,r.a.load([s]);case 7:return u=(null===(t=this.options)||void 0===t?void 0:t.loaderScreenClass)||a.a,i.add(u,{app:this.app},"preload"),n.next=11,i.goto("preload");case 11:return this._loaderScreen=i.main.screens.preload.instance,c=r.a.onLoadProgress.connect(this._onLoadProgress.bind(this)),l=r.a.onLoadStart.connect(this._onLoadStart.bind(this)),h=r.a.onLoadComplete.connect(this._onLoadComplete.bind(this)),n.next=17,r.a.load(["default"].concat(null!==(e=this.options.manifests)&&void 0!==e?e:[]));case 17:c.disconnect(),l.disconnect(),h.disconnect();case 20:case"end":return n.stop()}}),n,this)})))}},{key:"_onLoadStart",value:function(){var t;(null===(t=this._loaderScreen)||void 0===t?void 0:t.start)&&this._loaderScreen.start()}},{key:"_onLoadComplete",value:function(){var t;(null===(t=this._loaderScreen)||void 0===t?void 0:t.complete)&&this._loaderScreen.complete()}},{key:"_onLoadProgress",value:function(t){this._loaderScreen.updateProgress(t/100)}}])&&c(e.prototype,n),i&&c(e,i),Object.defineProperty(e,"prototype",{writable:!1}),d}(i.a)},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return c}));n(21),n(5),n(19),n(128),n(132),n(38),n(106),n(92);var r=n(85),i=n(116),a=n(146),o=n(96),s=n(551),u=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))};Object(o.a)(s.a);var c={testParse:function(t,e){return Object(r.extname)(e).includes(".json")&&!!t.bones},parse:function(e,n){return u(this,void 0,void 0,regeneratorRuntime.mark((function r(){var i,a,s,u,c,h;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return i=window.PIXI_SPINE||t.spine,a=l(n),r.next=4,Object(o.c)(a);case 4:if(!(s=r.sent)){r.next=10;break}return u=new i.core.AtlasAttachmentLoader(s),c=new i.core.SkeletonJson(u),h=c.readSkeletonData(e),r.abrupt("return",h);case 10:return r.abrupt("return",null);case 11:case"end":return r.stop()}}),r)})))}};function l(t){var e=t.replace(".json",".atlas"),n=i.a._version,r=i.a._manifest,o=i.a._imageFormatPreference,s=i.a._basePath;for(var u in""!==s&&(e=e.split(s)[1],t=t.split(s)[1]),r){var c=r[u];if(c.json[t]){var l=Object(a.a)(c.atlas,e,n,o);if(c.atlas[e]&&l)return s+l}}return s+e}}).call(this,n(0))},function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35),n(38),n(166);var r=n(276),i=n.n(r),a=n(148),o=n(94),s=n(225);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var i=p(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var f=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&l(t,e)}(u,t);var e,n,r,a=h(u);function u(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(n=a.call(this,t,e)).mergeConfig(e.overrideConfig||{},e.useDefaults),n}return e=u,(n=[{key:"mergeConfig",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=e?i()(s.a,t):t,r={};for(var a in n){var u=n[a].match,c=!1;if(Array.isArray(u))for(var l=0;l<u.length&&!(c=o.a.query(u[l]));l++);else c=o.a.query(u);if(c||"default"===u){r=i()(r,n[a]);break}}this.app.config=i()(this.app.config,r||n)}}])&&c(e.prototype,n),r&&c(e,r),Object.defineProperty(e,"prototype",{writable:!1}),u}(a.a)},function(t,e,n){"use strict";function r(t,e){return function(n,r){if(n>r){var i=n/t,a=e/r;return{rendererWidth:Math.round(Math.floor(t*i*a)),rendererHeight:e,canvasWidth:n,canvasHeight:r}}var o=t/n,s=r/e;return{rendererWidth:t,rendererHeight:Math.round(Math.floor(e*s*o)),canvasWidth:n,canvasHeight:r}}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return v}));n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35),n(87),n(39),n(121),n(38),n(42),n(34),n(675),n(83),n(507);var r=n(148);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=h(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return o=t.done,t},e:function(t){s=!0,a=t},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function o(t,e){return(o=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=c(t);if(e){var i=c(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u(this,n)}}function u(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function l(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,s=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);o=!0);}catch(t){s=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}(t,e)||h(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){if(t){if("string"==typeof t)return d(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(t,e):void 0}}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function p(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function m(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var g={up:"ArrowUp",down:"ArrowDown",left:"ArrowLeft",right:"ArrowRight",space:" "},y=function(){function t(){p(this,t),this.map={}}return m(t,[{key:"add",value:function(t){Object.entries(g).forEach((function(e){var n=l(e,2),r=n[0],i=n[1];r===t.key&&(t.key=i)}));var e=this.map[t.key]||[];e.push(t),this.map[t.key]=e}},{key:"remove",value:function(t){var e=this.map[t.key];if(e){var n=e.indexOf(t);n<0||e.splice(n,1)}}},{key:"bindingsByKey",value:function(t){return this.map[t]||[]}}]),t}(),v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&o(t,e)}(n,t);var e=s(n);function n(t,r){var i;return p(this,n),(i=e.call(this,t,r)).enabled=!0,i._onKeyDown=function(t){if(i.enabled&&!t.repeat){var e,n=t.key,r=a(i._keyDownBindings.bindingsByKey(n));try{for(r.s();!(e=r.n()).done;){var o=e.value;o.action&&o.action(),o.isDown=!0}}catch(t){r.e(t)}finally{r.f()}}},i._onBlur=function(){if(i.enabled){var t=i._keyDownBindings.map;for(var e in t){var n,r=a(t[e]);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.isDown&&i._keyUpBindings.bindingsByKey(o.key).forEach((function(t){t.action&&t.action()})),o.isDown=!1}}catch(t){r.e(t)}finally{r.f()}}}},i._onKeyUp=function(t){if(i.enabled&&!t.repeat){var e,n=t.key,r=i._keyUpBindings.bindingsByKey(n),o=a(r);try{for(o.s();!(e=o.n()).done;){var s=e.value;s.action&&s.action(),s.isDown=!1}}catch(t){o.e(t)}finally{o.f()}var u,c=a(r=i._keyDownBindings.bindingsByKey(n));try{for(c.s();!(u=c.n()).done;){u.value.isDown=!1}}catch(t){c.e(t)}finally{c.f()}}},i._keyDownBindings=new y,i._keyUpBindings=new y,window.addEventListener("keydown",i._onKeyDown),window.addEventListener("keyup",i._onKeyUp),window.addEventListener("blur",i._onBlur),i}return m(n,[{key:"dispose",value:function(){this._keyDownBindings.map={},this._keyUpBindings.map={},window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp),window.removeEventListener("blur",this._onBlur)}},{key:"bindKeyDown",value:function(t,e,n){var r=this;return"string"==typeof t?this._bindKeyDown(t,e,n):t.map((function(t){return r._bindKeyDown(t,e,n)}))}},{key:"_bindKeyDown",value:function(t,e,n){var r=(null==n?void 0:n.allowHold)||!1,i=(null==n?void 0:n.holdTime)||.1,a={key:t,action:e,allowHold:r,currentHoldTime:i,holdTime:i};return this._keyDownBindings.add(a),a}},{key:"bindKeyUp",value:function(t,e){var n=this;return"string"==typeof t?this._bindKeyUp(t,e):t.map((function(t){return n.bindKeyUp(t,e)}))}},{key:"_bindKeyUp",value:function(t,e){var n={key:t,action:e};return this._keyUpBindings.add(n),n}},{key:"unbind",value:function(t){this._keyDownBindings.remove(t),this._keyUpBindings.remove(t)}},{key:"update",value:function(t){var e=this._keyDownBindings.map;for(var n in e)for(var r=e[n],i=0;i<r.length;i++){var a=r[i];a.allowHold&&a.isDown&&(a.currentHoldTime>=0?a.currentHoldTime-=t/60:(a.currentHoldTime=a.holdTime,a.action&&a.action()))}}},{key:"getBindings",value:function(t){return this._keyDownBindings.bindingsByKey(t)}},{key:"isKeyDown",value:function(t){var e=this;if("string"==typeof t)return this._isKeyDown(t);for(var n=t.map((function(t){return e._isKeyDown(t)})),r=0;r<n.length;r++){if(!0===n[r])return!0}return!1}},{key:"_isKeyDown",value:function(t){var e=!1,n=this.getBindings(t);if(!n)return!1;for(var r in n){if(n[r].isDown){e=!0;break}}return e}}]),n}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));n(21),n(5),n(19),n(15),n(140),n(22),n(20),n(39),n(119),n(34);var r=n(0),i=n(94),a=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))};function o(t){return a(this,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.items,r=t.name,i=0;case 2:if(!(i<n.length)){e.next=8;break}return e.next=5,n[i][r]();case 5:i++,e.next=2;break;case 8:case"end":return e.stop()}}),e)})))}var s=n(81),u=n(52);function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:60;s.a.shared.maxFPS=t,s.a.system.maxFPS=t,u.a.ticker.fps(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var d=function(t,e,n,r){return new(n||(n=Promise))((function(i,a){function o(t){try{u(r.next(t))}catch(t){a(t)}}function s(t){try{u(r.throw(t))}catch(t){a(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,s)}u((r=r.apply(t,e||[])).next())}))},p=function(){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};l(this,t),this._defaultPluginName="default",this.runners=[],this.initRunner=this.addRunner("init"),this.prepareRunner=this.addRunner("prepare"),this.startRunner=this.addRunner("start"),this.updateRunner=this.addRunner("update"),this.config=n,this.verbose=null!==(e=this.config.verbose)&&void 0!==e&&e,this.plugins=new Map,this.pluginDefaults=new Map,this.config.limitFPS=this.config.limitFPS||60,this.config.limitFPS&&c(this.config.limitFPS)}var e,n,a;return e=t,(n=[{key:"add",value:function(t,e){var n=(e=e||{}).name,r=null!=n?n:this._defaultPluginName,i=new t(this,e=Object.assign(e,this.config[n]||{})),a=this.plugins.get(t)||{};if(a[r])throw new Error("app plugin ".concat(r," already exists"));return a[r]=i,this.pluginDefaults.get(t)||this.pluginDefaults.set(t,r),this.runners.forEach((function(t){t.add(i)})),this.plugins.set(t,a),i}},{key:"get",value:function(t,e){var n=null!=e?e:this.pluginDefaults.get(t);return this.plugins.get(t)[n]}},{key:"init",value:function(){return d(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.init();case 2:return t.next=4,o(this.initRunner);case 4:return r.Ticker.system.add(this.update,this),t.next=7,o(this.prepareRunner);case 7:return t.next=9,o(this.startRunner);case 9:case"end":return t.stop()}}),t,this)})))}},{key:"update",value:function(t){this.updateRunner.emit(t)}},{key:"addRunner",value:function(t){var e=new r.Runner(t);return this.runners.push(e),e}}])&&h(e.prototype,n),a&&h(e,a),Object.defineProperty(e,"prototype",{writable:!1}),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return x}));n(23),n(29),n(5),n(30),n(15),n(22),n(20),n(33),n(35);var r=n(148);n(39),n(51);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){return(a=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function o(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=u(t);if(e){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return s(this,n)}}function s(t,e){if(e&&("object"===i(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function u(t){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(t,e,n){return e&&l(t.prototype,e),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}var d=function(){function t(e,n,r){c(this,t),this.PR=Math.round(window.devicePixelRatio||1),this.WIDTH=80*this.PR,this.HEIGHT=48*this.PR,this.TEXT_X=3*this.PR,this.TEXT_Y=2*this.PR,this.GRAPH_X=3*this.PR,this.GRAPH_Y=15*this.PR,this.GRAPH_WIDTH=74*this.PR,this.GRAPH_HEIGHT=30*this.PR,this.name=e,this.fg=n,this.bg=r,this.min=1/0,this.max=0,this.canvas=document.createElement("canvas"),this.canvas.width=this.WIDTH,this.canvas.height=this.HEIGHT,this.canvas.style.cssText="width:80px;height:48px",this.context=this.canvas.getContext("2d"),this.context.font="bold ".concat(9*this.PR,"px Helvetica,Arial,sans-serif"),this.context.textBaseline="top",this.context.fillStyle=r,this.context.fillRect(0,0,this.WIDTH,this.HEIGHT),this.context.fillStyle=n,this.context.fillText(e,this.TEXT_X,this.TEXT_Y),this.context.fillRect(this.GRAPH_X,this.GRAPH_Y,this.GRAPH_WIDTH,this.GRAPH_HEIGHT),this.context.fillStyle=r,this.context.globalAlpha=.9,this.context.fillRect(this.GRAPH_X,this.GRAPH_Y,this.GRAPH_WIDTH,this.GRAPH_HEIGHT)}return h(t,[{key:"update",value:function(t,e){this.min=Math.min(this.min,t),this.max=Math.max(this.max,t),this.context.fillStyle=this.bg,this.context.globalAlpha=1,this.context.fillRect(0,0,this.WIDTH,this.GRAPH_Y),this.context.fillStyle=this.fg,this.context.fillText("".concat(Math.round(t)," ").concat(this.name," (").concat(Math.round(this.min),"-").concat(Math.round(this.max),")"),this.TEXT_X,this.TEXT_Y),this.context.drawImage(this.canvas,this.GRAPH_X+this.PR,this.GRAPH_Y,this.GRAPH_WIDTH-this.PR,this.GRAPH_HEIGHT,this.GRAPH_X,this.GRAPH_Y,this.GRAPH_WIDTH-this.PR,this.GRAPH_HEIGHT),this.context.fillRect(this.GRAPH_X+this.GRAPH_WIDTH-this.PR,this.GRAPH_Y,this.PR,this.GRAPH_HEIGHT),this.context.fillStyle=this.bg,this.context.globalAlpha=.9,this.context.fillRect(this.GRAPH_X+this.GRAPH_WIDTH-this.PR,this.GRAPH_Y,this.PR,Math.round((1-t/e)*this.GRAPH_HEIGHT))}}]),t}(),p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&a(t,e)}(n,t);var e=o(n);function n(t,r,i){var a;return c(this,n),(a=e.call(this,t,r,i)).WIDTH=80*a.PR+20,a.HEIGHT=48*a.PR+20,a.GRAPH_Y=15*a.PR+20,a.GRAPH_WIDTH=74*a.PR+20,a.canvas=document.createElement("canvas"),a.canvas.width=a.WIDTH,a.canvas.height=a.HEIGHT,a.canvas.style.cssText="width:80px;height:48px",a.context=a.canvas.getContext("2d"),a.context.font="bold ".concat(12*a.PR,"px Helvetica,Arial,sans-serif"),a.context.textBaseline="top",a.context.fillStyle=i,a.context.fillRect(0,0,a.WIDTH,a.HEIGHT),a.context.fillStyle=r,a.context.fillText(t,a.TEXT_X,a.TEXT_Y),a.context.fillRect(a.GRAPH_X,a.GRAPH_Y,a.GRAPH_WIDTH,a.GRAPH_HEIGHT),a.context.fillStyle=i,a.context.globalAlpha=.9,a.context.fillRect(a.GRAPH_X,a.GRAPH_Y,a.GRAPH_WIDTH,a.GRAPH_HEIGHT),a}return h(n,[{key:"update",value:function(t,e){this.min=Math.min(this.min,t),this.max=Math.max(this.max,t),this.context.fillStyle=this.bg,this.context.globalAlpha=1,this.context.fillRect(0,0,this.WIDTH,this.GRAPH_Y),this.context.fillStyle=this.fg,this.context.fillText("".concat(Math.round(t)," ").concat(this.name," (").concat(Math.round(this.min),"-").concat(Math.round(this.max),")"),this.TEXT_X,this.TEXT_Y),this.context.fillText("".concat(e," ").concat(this.name),this.TEXT_X,this.TEXT_Y+15),this.context.drawImage(this.canvas,this.GRAPH_X+this.PR,this.GRAPH_Y,this.GRAPH_WIDTH-this.PR,this.GRAPH_HEIGHT,this.GRAPH_X,this.GRAPH_Y,this.GRAPH_WIDTH-this.PR,this.GRAPH_HEIGHT),this.context.fillRect(this.GRAPH_X+this.GRAPH_WIDTH-this.PR,this.GRAPH_Y,this.PR,this.GRAPH_HEIGHT),this.context.fillStyle=this.bg,this.context.globalAlpha=.9,this.context.fillRect(this.GRAPH_X+this.GRAPH_WIDTH-this.PR,this.GRAPH_Y,this.PR,Math.round((1-t/e)*this.GRAPH_HEIGHT))}}]),n}(d),f=function(){function t(){var e=this;c(this,t),this.mode=0,this.container=document.createElement("div"),this.container.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",this.container.addEventListener("click",(function(t){t.preventDefault(),e.showPanel(++e.mode%e.container.children.length)}),!1),this.beginTime=(performance||Date).now(),this.prevTime=this.beginTime,this.frames=0,this.fpsPanel=this.addPanel(new d("FPS","#0ff","#002")),this.msPanel=this.addPanel(new d("MS","#0f0","#020")),self.performance&&self.performance.memory&&(this.memPanel=this.addPanel(new p("MB","#f08","#201"))),this.showPanel(0)}return h(t,[{key:"addPanel",value:function(t){return this.container.appendChild(t.canvas),t}},{key:"showPanel",value:function(t){for(var e=0;e<this.container.children.length;e++)this.container.children[e].style.display=e===t?"block":"none";this.mode=t}},{key:"begin",value:function(){this.beginTime=(performance||Date).now()}},{key:"end",value:function(){this.frames++;var t=(performance||Date).now();if(this.msPanel.update(t-this.beginTime,200),t>=this.prevTime+1e3&&(this.fpsPanel.update(1e3*this.frames/(t-this.prevTime),100),this.prevTime=t,this.frames=0,this.memPanel)){var e=performance.memory;this.memPanel.update(e.usedJSHeapSize/1048576,e.jsHeapSizeLimit/1048576)}return t}},{key:"update",value:function(){this.beginTime=this.end()}}]),t}();function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function y(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function b(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=w(t);if(e){var i=w(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _(this,n)}}function _(t,e){if(e&&("object"===m(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var x=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v(t,e)}(a,t);var e,n,r,i=b(a);function a(){return g(this,a),i.apply(this,arguments)}return e=a,(n=[{key:"prepare",value:function(){this.stats=new f,this.stats.showPanel(0),document.body.appendChild(this.stats.container)}},{key:"update",value:function(){var t;null===(t=this.stats)||void 0===t||t.update()}}])&&y(e.prototype,n),r&&y(e,r),Object.defineProperty(e,"prototype",{writable:!1}),a}(r.a)},,,,,,,,,,,,,,function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={name:"modelMatrix",vertex:{header:"\n            uniform mat4 uModelMatrix;\n        ",transform:"\n            modelMatrix = uModelMatrix;        \n        "}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var r={vertex:{header:"\n            attribute vec2 aUv;\n            varying vec2 vUv;\n        ",transform:"     \n            vUv = aUv;\n        "},fragment:{header:"\n            varying vec2 vUv;\n        ",material:"\n            uv = vUv;\n        "}},i={vertex:{header:"\n            uniform vec4 uMapFrame;\n            attribute vec2 aUv;\n            varying vec2 vUv;\n        ",transform:"     \n            vUv = (aUv * uMapFrame.zw ) + uMapFrame.xy;\n        "},fragment:{header:"\n            varying vec2 vUv;\n        ",material:"\n            uv = vUv;\n        "}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return i}));var r={fragment:{material:"\n            alphaColor = diffuseColor.a;\n        "}},i={fragment:{header:"\n            uniform sampler2D uAlphaMap;\n        ",material:"\n            alphaColor = texture2D(uAlphaMap, uv).a;\n        "}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a}));var r={name:"animation transform",vertex:{header:"\n            attribute vec4 aBoneWeights;\n            attribute vec4 aBoneIndices;\n\n            uniform float uBoneTextureSize;\n            uniform sampler2D uBoneTexture;\n\n            vec4 getMatrixRow(float index, float row)\n            {\n                float finalIndex = (index*4.) + row;\n\n                float x = mod(finalIndex, uBoneTextureSize);\n                float y = floor(finalIndex/uBoneTextureSize);\n\n                return texture2D(uBoneTexture, vec2(x/uBoneTextureSize, y/uBoneTextureSize));\n            }\n\n            mat4 getMatrix(float index)\n            {\n                return mat4(\n                    getMatrixRow(index, 0.),\n                    getMatrixRow(index, 1.),\n                    getMatrixRow(index, 2.),\n                    getMatrixRow(index, 3.)\n                );\n            }\n        ",transform:"\n\n            mat4 skinMatrix = mat4(0.0);\n        \n            skinMatrix += aBoneWeights.x * getMatrix(aBoneIndices.x);\n            skinMatrix += aBoneWeights.y * getMatrix(aBoneIndices.y);\n            skinMatrix += aBoneWeights.z * getMatrix(aBoneIndices.z);\n            skinMatrix += aBoneWeights.w * getMatrix(aBoneIndices.w);\n\n            worldPosition = skinMatrix * worldPosition;\n\n            #ifdef worldNormal\n                worldNormal =  mat3(skinMatrix) * worldNormal;\n            #endif\n        "}},i={};function a(t){return i[t]||(i[t]={name:"animation transform",vertex:{header:"\n                    attribute vec4 aBoneWeights;\n                    attribute vec4 aBoneIndices;\n        \n                    uniform mat4 uBoneMatrices[".concat(t,"];\n                "),transform:"\n                    mat4 boneMatrixX = uBoneMatrices[int(aBoneIndices.x)];\n                    mat4 boneMatrixY = uBoneMatrices[int(aBoneIndices.y)];\n                    mat4 boneMatrixZ = uBoneMatrices[int(aBoneIndices.z)];\n                    mat4 boneMatrixW = uBoneMatrices[int(aBoneIndices.w)];\n        \n                    mat4 skinMatrix = mat4(0.0);\n                \n                    skinMatrix += aBoneWeights.x * boneMatrixX;\n                    skinMatrix += aBoneWeights.y * boneMatrixY;\n                    skinMatrix += aBoneWeights.z * boneMatrixZ;\n                    skinMatrix += aBoneWeights.w * boneMatrixW;\n        \n                    worldPosition = skinMatrix * worldPosition;\n                \n                    #ifdef worldNormal\n                        worldNormal =  mat3(skinMatrix) * worldNormal;\n                    #endif\n                "}},i[t])}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r={fragment:{header:"\n            uniform float uAlphaTest;\n        ",main:"\n            if(alphaColor < uAlphaTest)\n            {\n                discard;\n            }\n        "}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n(5),n(19);function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return new Promise((function(e){var n=0;requestAnimationFrame((function r(){++n>=t?e():requestAnimationFrame(r)}))}))}}]);