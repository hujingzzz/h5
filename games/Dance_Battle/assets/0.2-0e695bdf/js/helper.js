"use strict";function __(e,t){var n,i=0,r="",a=1;if(-1==(e+="").indexOf("|")&&!t)return r=app.modules.i18n.getTranslation(e);for(i in t||(t=e.split("|"),e=t.shift()),r=app.modules.i18n.getTranslation(e),t){var o;if("object"==typeof t[i])for(o in t[i])n=new RegExp("%"+o.toUpperCase()),r=(r=r.replace(n,t[i][o])).replace(/%s/,t[i]);else a=Number(i)+1,n=new RegExp("%"+a),r=(r=r.replace(n,t[i])).replace(/%s/,t[i])}return r}function nl2br(e){return(e=e&&e.length?jQuery.trim(e):"").replace(/\n/g,"<br>")}function pad(e){return Number(e)<10?"0"+e.toString():e.toString()}function numFormat(e){return Number(e).toFixed(0).replace(/(?=(?:\d{3})+$)(?!^)/g,".")}function dataToAttr(e){var t="";for(var n in e)t+=n+'="'+e[n].toString()+'" ';return t}function getBaseUrl(){var e=document.location;return e.protocol+"//"+e.hostname+"/"}function getQRCodeForUrl(e,t,n){return"http://chart.apis.google.com/chart?chs="+(t||150)+"x"+(n||150)+"&cht=qr&chl="+encodeURI(e)}function getQueryParams(e){e=e.split("+").join(" ");for(var t,n={},i=/[?&]?([^=]+)=([^&]*)/g;t=i.exec(e);)n[decodeURIComponent(t[1])]=decodeURIComponent(t[2]);return n}function sizeOf(e){var t,n=0;if(!e)return n;if(void 0!==e.length)return e.length;if(Object.keys)n=Object.keys(e).length;else for(t in e)e.hasOwnProperty(t)&&n++;return n}function splitNewlines(e){return e.split("\n")}function htmlSpecialChars(e){return e=(e=(e=e.replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/'/g,"&#039;")).replace(/"/g,"&quot;")}var app__viewport={};function getViewport(e){var t=getOrientation(),n=window.innerWidth,i=window.innerHeight;return app__viewport.hasOwnProperty(t)&&!e||(app__viewport[t]={},app__viewport[t].orientation=t,"landscape"==t?(app__viewport[t].width=Math.max(n,i),app__viewport[t].height=Math.min(n,i)):(app__viewport[t].width=Math.min(n,i),app__viewport[t].height=Math.max(n,i)),detection.is.ios?app__viewport[t].pixelratio=1:app__viewport[t].pixelratio=Math.max(window.devicePixelRatio,1)),app__viewport[t]}function getOrientation(){var e=window.matchMedia("all and (orientation:landscape)");return e&&!0===e.matches?"landscape":"portrait"}function playGif(e){var t,n,i,r;e&&(n=(t=jQuery(e)).find("img"),i=t.find("span.play"),r=n.attr("src"),n.data("alt")&&(i.toggle(),n.attr("src",n.data("alt")),n.data("alt",r)))}function storageFallback(){}function mediahack(e,t){function n(e,t){var n=t.split(" "),i=e.classList;if(i)for(var r=0;r<n.length;r++)(t=n[r])&&i.add(t);else{var a=" "+e.className+" ",o=a;for(r=0;r<n.length;r++)(t=n[r])&&(t+=" ",~a.indexOf(" "+t)||(a+=t));a!==o&&(e.className=a.slice(1,-1))}}function i(e,t){var n=t.split(" "),i=e.classList;if(i)for(var r=0;r<n.length;r++)(t=n[r])&&i.remove(t);else{var a=" "+e.className+" ",o=a;for(r=0;r<n.length;r++)(t=n[r])&&(t=" "+t+" ",~a.indexOf(t)&&(a=a.replace(t," ")));a!==o&&(e.className=a.slice(1,-1))}}t=t||{landscape:"all and (orientation:landscape)",portrait:"all and (orientation:portrait)",small:"all and (max-width:768px)",medium:"all and (min-width:768px) and (max-width:991px)",large:"all and (min-width:992px)"};for(var r in t){!function(t,r){var a=function(t){t.matches?n(e,r):i(e,r)};a(t),t.addListener(a)}(window.matchMedia(t[r]),r)}}storageFallback.prototype.setItem=function(e,t){this.storage[e]=t},storageFallback.prototype.getItem=function(e){try{return this.storage[e]}catch(e){return!1}},storageFallback.prototype.removeItem=function(e){try{return delete this.storage[e],!0}catch(e){return!1}},storageFallback.prototype.clear=function(){try{return this.storage={},!0}catch(e){return!1}},window.matchMedia||(window.matchMedia=function(e){var t,n=(m=e.document).documentElement,i=[],r=0,a="",o={},c=/\s*(only|not)?\s*(screen|print|[a-z\-]+)\s*(and)?\s*/i,s=/^\s*\(\s*(-[a-z]+-)?(min-|max-)?([a-z\-]+)\s*(:?\s*([0-9]+(\.[0-9]+)?|portrait|landscape)(px|em|dppx|dpcm|rem|%|in|cm|mm|ex|pt|pc|\/([0-9]+(\.[0-9]+)?))?)?\s*\)\s*$/,l=0,d=function(e){var t=-1!==e.indexOf(",")&&e.split(",")||[e],n=t.length-1,i=n,r=null,l=null,d="",p=0,u=!1,h="",m="",f=(r=null,l=0,m=null,""),g="",v="",w="",x="";f=!1;if(""===e)return!0;do{if(u=!1,(l=(r=t[i-n]).match(c))&&(d=l[0],p=l.index),!l||-1===r.substring(0,p).indexOf("(")&&(p||!l[3]&&d!==l.input))f=!1;else{if(m=r,u="not"===l[1],p||(h=l[2],m=r.substring(d.length)),f=h===a||"all"===h||""===h,l=(r=-1!==m.indexOf(" and ")&&m.split(" and ")||[m]).length-1,f&&0<=l&&""!==m)do{if(!(m=r[l].match(s))||!o[m[3]]){f=!1;break}if(f=m[2],w=g=m[5],v=m[7],x=o[m[3]],v&&(w="px"===v?Number(g):"em"===v||"rem"===v?16*g:m[8]?(g/m[8]).toFixed(2):"dppx"===v?96*g:"dpcm"===v?.3937*g:Number(g)),!(f="min-"===f&&w?x>=w:"max-"===f&&w?x<=w:w?x===w:!!x))break}while(l--);if(f)break}}while(n--);return u?!f:f},p=function(){var t=e.innerWidth||n.clientWidth,i=e.innerHeight||n.clientHeight,r=e.screen.width,a=e.screen.height,c=e.screen.colorDepth,s=e.devicePixelRatio;o.width=t,o.height=i,o["aspect-ratio"]=(t/i).toFixed(2),o["device-width"]=r,o["device-height"]=a,o["device-aspect-ratio"]=(r/a).toFixed(2),o.color=c,o["color-index"]=Math.pow(2,c),o.orientation=i>=t?"portrait":"landscape",o.resolution=s&&96*s||e.screen.deviceXDPI||96,o["device-pixel-ratio"]=s||1},u=function(){clearTimeout(l),l=setTimeout((function(){var t=null,n=r-1,a=n,o=!1;if(0<=n){p();do{if((t=i[a-n])&&((o=d(t.mql.media))&&!t.mql.matches||!o&&t.mql.matches)&&(t.mql.matches=o,t.listeners)){o=0;for(var c=t.listeners.length;o<c;o++)t.listeners[o]&&t.listeners[o].call(e,t.mql)}}while(n--)}}),10)},h=m.getElementsByTagName("head")[0],m=m.createElement("style"),f="screen print speech projection handheld tv braille embossed tty".split(" "),g=0,v=f.length,w="#mediamatchjs { position: relative; z-index: 0; }",x="",b=e.addEventListener||(x="on")&&e.attachEvent;for(m.type="text/css",m.id="mediamatchjs",h.appendChild(m),t=e.getComputedStyle&&e.getComputedStyle(m)||m.currentStyle;g<v;g++)w+="@media "+f[g]+" { #mediamatchjs { position: relative; z-index: "+g+" } }";return m.styleSheet?m.styleSheet.cssText=w:m.textContent=w,a=f[1*t.zIndex||0],h.removeChild(m),p(),b(x+"resize",u),b(x+"orientationchange",u),function(e){var t=r,n={matches:!1,media:e,addListener:function(e){i[t].listeners||(i[t].listeners=[]),e&&i[t].listeners.push(e)},removeListener:function(e){var n=i[t],r=0,a=0;if(n)for(a=n.listeners.length;r<a;r++)n.listeners[r]===e&&n.listeners.splice(r,1)}};return""===e?(n.matches=!0,n):(n.matches=d(e),r=i.push({mql:n,listeners:null}),n)}}(window));var detection=function(){var e,t={is:{}},n=navigator.userAgent;for(e in t.detect={html5:function(){return void 0!==document.createElement("canvas").getContext},touch:function(){return!!("ontouchstart"in window||navigator.msMaxTouchPoints)},android:function(){return!!n.match(/Android/i)},ios:function(){return!!n.match(/iPhone|iPad|iPod/i)},ios7:function(){return t.detect.ios&&n.match(/version\/7\./i)},bb10:function(){return!!n.match(/BB10/i)},windows:function(){return!!n.match(/Windows/i)},webkitVersion:function(){var e=new RegExp(/AppleWebKit\/([\d.]+)/).exec(n);return null!==e&&parseFloat(e[1])},androidStockBrowser:function(){return!!(t.is.android&&t.is.webkitVersion&&t.is.webkitVersion<537)},standalone:function(){return!!window.navigator.standalone},smartphone:function(){return!!n.match(/Android.*Mobile|iPhone|IEMobile|WPDesktop|BB10/i)},tablet:function(){var e=t.is.android&&!t.is.smartphone,i=!!n.match(/iPad/i);return e||i},pc:function(){return!t.is.smartphone&&!t.is.tablet},phantom:function(){return!(!window.callPhantom&&!n.match(/PhantomJS/))},iframe:function(){try{return window.self!==window.top}catch(e){return!0}}},t.detect)"function"==typeof t.detect[e]&&(t.is[e]=t.detect[e]());return t}();