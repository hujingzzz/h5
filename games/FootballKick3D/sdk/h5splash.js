!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.h5splash=t():e.h5splash=t()}(self,(()=>(()=>{"use strict";var e={520:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=i(n(234));e.exports={init:function(e){o.default.getInstance().init(e)},hideLoading:function(){o.default.getInstance().hideLoading()},setBannerScale:function(e){o.default.getInstance().setBannerScale(e)},setBackgroundColor:function(e){o.default.getInstance().setBackgroundColor(e)},setProgressBackgroundColor:function(e){o.default.getInstance().setProgressBackgroundColor(e)},setProgressValueColor:function(...e){o.default.getInstance().setProgressValueColor(...e)},setProgressBorderColor:function(e){o.default.getInstance().setProgressBorderColor(e)},setGameLogoScale:function(e){o.default.getInstance().setGameLogoScale(e)},setSideLogoScale:function(e){},setProgressFontFamily:function(e){o.default.getInstance().setProgressFontFamily(e)},orientation:function(){return o.default.getInstance().orientation}}},141:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.channel="yad"}}},648:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.GOrientation=void 0,(n=t.GOrientation||(t.GOrientation={})).portrait="portrait",n.landscape="landscape"},441:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Singleton=void 0,t.Singleton=class{static getInstance(){return this.instance||(this.instance=new this),this.instance}}},234:function(e,t,n){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(441),s=n(648),r=i(n(141)),a=i(n(504)),l=n(797);class d extends o.Singleton{constructor(){super(...arguments),this.inited=!1,this.idx=0,this.percent=0,this.tips=["Loading images…","Loading models…","Loading sounds…","Loading scenes…"],this.progressBackgroundColor="rgba(0,0,0,0.2)",this.progressValueColors="#ffb726,#ffdd33",this.progresBorderColor="#fff",this.options=new r.default,this.isEnjoy4fun=!1}async init(e){if(!this.inited){a.default.init(),this.inited=!0,l.util.isObject(e)?(this.options.channel=e.channel,this.options.appName=e.appName):(this.options.channel=e,this.options.appName=document.title.replace(/[ :]/g,"-")),this.baseStyle=document.createElement("style"),document.head.appendChild(this.baseStyle),this.baseStyle.textContent="/* 游戏加载 */\n        .loading-container {\n            height: 100%;\n            width: 100%;\n            top: 0px;\n            bottom: 0px;\n            z-index: 1000;\n            position: absolute;\n            overflow: hidden;\n            background: rgb(91, 133, 218);\n        }\n        \n        .loading-container .img-container {\n            flex: 0 1 0%;\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            margin-top: 10vh;\n        }\n        \n        .loading-container .img-container .logo-img {\n            width: 70vh;\n            max-width: 90%;\n        }\n        \n        .loading-container .img-container .banner-img {\n            border-radius: 10px;\n            border: 2px solid rgb(255, 255, 255);\n            margin-top: 20px;\n            width: 40vh;\n            display: none;\n            max-width: 90%;\n        }\n        \n        .loading-container .progress-container {\n            position: absolute;\n            width: 100%;\n            bottom: 5vh;\n            align-items: center;\n            flex: 0 1 0%;\n            display: flex;\n            flex-direction: column;\n        }\n        \n        .loading-container .progress-container .progress-text {\n            font-size: 16px;\n            font-family: Arial;\n            margin-bottom: 10px;\n        }\n        \n        .loading-container .progress-container .progress-bar_ {\n            width: 300px;\n            background-color: rgba(0, 0, 0, 0);\n            margin-bottom: 20px;\n            max-width: 90%;\n        }\n        \n        .loading-container .progress-container .progress-img {\n            width: 20vh;\n    display:none    }\n        \n        \n        \n        @media only screen and (min-width: 300px) {\n        \n            .loading-container .progress-container .progress-text {\n                font-size: 20px;\n            }\n        \n            .loading-container .img-container .banner-img {\n                max-width: 350px;\n            }\n            .loading-container .img-container .logo-img {\n                max-width: 420px;\n            }\n            .loading-container .img-container .logo-img {\n                max-width: 420px;\n            }\n        }\n        \n        \n        @media only screen and (min-height: 400px) {\n        \n            .loading-container .img-container .logo-img {\n                width: 25vh;\n            }\n        \n            .loading-container .img-container .banner-img {\n                display: block;\n            }\n        \n            .loading-container .progress-container .progress-img {\n                width: 10vh;\n            }\n        }",this.dynamicStyle=document.createElement("style"),document.head.appendChild(this.dynamicStyle),this.dynamicStyle.textContent="",this.updateStyleElement(),this.splashRoot=document.createElement("div"),this.splashRoot.id="splash-root",this.splashRoot.className="loading-container",document.body.append(this.splashRoot),this.imgContainer=document.createElement("div"),this.imgContainer.className="img-container",this.splashRoot.appendChild(this.imgContainer),this.logoImg=document.createElement("img"),this.logoImg.className="logo-img",this.logoImg.src="./@base/logo.png",this.imgContainer.appendChild(this.logoImg),this.bannerImg=document.createElement("img"),this.bannerImg.className="banner-img",this.bannerImg.src="./@base/banner.jpg",this.imgContainer.appendChild(this.bannerImg),this.progressContainer=document.createElement("div"),this.progressContainer.className="progress-container",this.progressText=document.createElement("p"),this.progressText.className="progress-text",this.progressContainer.appendChild(this.progressText),this.progressBar=document.createElement("progress"),this.progressBar.className="progress-bar_",this.progressBar.max=100,this.progressContainer.appendChild(this.progressBar),this.progressImg=document.createElement("img"),this.progressImg.className="progress-img",this.progressImg.onclick=this.navigate.bind(this),this.progressImg.src="./@base/yad.png",this.progressContainer.appendChild(this.progressImg),this.splashRoot.appendChild(this.progressContainer),this.interval=window.setInterval(this.onUpdate.bind(this),100);try{const e=location.href;(e.indexOf("gamedistribution.com")>-1||e.indexOf("enjoy4fun.com")>-1||e.indexOf("gamemonetize.")>-1||e.indexOf("yof.com")>-1||e.indexOf("miapp.yyggames.com")>-1||e.indexOf("yygh5game.com")>-1)&&(this.progressImg.style.display="none",this.progressImg.onclick=null),"h5games4u"!=this.options.channel&&"freegames0"!=this.options.channel||(this.progressImg.style.display="none",this.progressImg.onclick=null),e.indexOf("enjoy4fun.com")>-1&&(this.isEnjoy4fun=!0)}catch(e){}return!0}}onUpdate(){if(this.isEnjoy4fun)return this.percent>=100&&(this.percent=100,this.progressBar.value=this.percent),this.percent+=.5,this.progressText.innerText=`${this.tips[0]} ${~~this.percent}%`,void(this.progressBar.value=this.percent);this.percent>=100&&(this.percent=0,this.idx++),this.idx>this.tips.length-1&&(this.idx=0),this.progressText.innerText=`${this.tips[this.idx]} ${this.percent++}%`,this.progressBar.value=this.percent}hideLoading(){this.percent=100,window.clearInterval(this.interval),this.progressText.innerText=`Loading: ${this.percent}%`,this.progressBar.value=this.percent,setTimeout((()=>{this.splashRoot.style.display="none"}),500)}get ratio(){return this.orientation==s.GOrientation.portrait?this.clientHeight/this.clientWidth:this.clientWidth/this.clientHeight}get clientWidth(){return window.innerWidth||document.body.clientWidth}get clientHeight(){return window.innerHeight||document.body.clientHeight||document.documentElement.clientHeight}get orientation(){const e=null==window.orientation?window.screen.orientation.angle:window.orientation;return 180==e||0==e?a.default.isMobile&&this.clientWidth>this.clientHeight?s.GOrientation.landscape:s.GOrientation.portrait:90==e||-90==e?s.GOrientation.landscape:void 0}navigate(){if("h5games4u"==this.options.channel)return;const e=this.options.channel,t=this.options.appName||document.title.replace(/[ :]/g,"-");let n=`https://www.${e}.com/`;var i=document.referrer;i=void 0===i||""==i||"undefined"==i?"unknown":i.split("/")[2],n.indexOf("?")>-1?n+="&":n+="?",n=n+"utm_source="+i+"&utm_medium=Loading-LOGO&utm_campaign=game-"+t;try{window.open(n)}catch(e){}}setBackgroundColor(e){this.splashRoot.style.background=e}setProgressBackgroundColor(e){this.progressBackgroundColor=e,this.progressBar.style.backgroundColor=e,this.updateStyleElement()}setProgressValueColor(...e){const t=[...arguments];0!=t.length&&(1==t.length&&t.push(t[0]),this.progressValueColors=t.join(","),this.updateStyleElement())}setProgressBorderColor(e){this.progresBorderColor=e,this.updateStyleElement()}setGameLogoScale(e){}setBannerScale(e){}setprogressImgScale(e){}setProgressFontFamily(e){this.progressText.style.fontFamily=e}updateStyleElement(){const e=`\n            progress{\n                height: 15px;\n                background-color:${this.progressBackgroundColor};\n                border-radius: 20px;\n                border:2px solid ${this.progresBorderColor};\n            }\n            progress::-webkit-progress-bar\n            {\n                background-color:${this.progressBackgroundColor};\n                border-radius: 20px;\n            }\n\n            progress::-moz-progress-bar{\n                background-image:-webkit-linear-gradient(left, ${this.progressValueColors});\n                border-radius: 20px;\n            }\n            progress::-webkit-progress-value{\n                background-image:-webkit-linear-gradient(left, ${this.progressValueColors});\n                border-radius: 20px;\n            }\n        `;this.dynamicStyle.textContent=e}}t.default=d},504:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class n{static init(){try{if(this.inited)return;this.inited=!0;const e=window.navigator.userAgent;e.indexOf("Mobile"),e.indexOf("Android")>-1||e.indexOf("Adr"),e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)}catch(e){}}static get isMobile(){return window.navigator.userAgent.indexOf("Mobile")>-1}static get isSafari(){return window.navigator.userAgent.indexOf("Safari")>-1}static get isIPad(){return window.navigator.userAgent.indexOf("iPad")>-1}}t.default=n,n.inited=!1},797:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.util=void 0,t.util=class{static hostname(e){try{const t=new URL(e).hostname.split("."),n=t.length-1,i=t.length>=3&&(t[n]+t[n-1]).length<=5;return t.splice(i?-3:-2).join(".")}catch(e){return location.href}}static isObject(e){return null!=e&&"object"==typeof e&&!1===Array.isArray(e)}}}},t={};return function n(i){var o=t[i];if(void 0!==o)return o.exports;var s=t[i]={exports:{}};return e[i].call(s.exports,s,s.exports,n),s.exports}(520)})()));